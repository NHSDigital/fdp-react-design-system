/**
 * NHS Header SSR Support Styles
 * 
 * These styles provide progressive enhancement for SSR scenarios:
 * 1. Server-side: Show all navigation items in a simple layout
 * 2. Client-side: Hide overflow items and show responsive behavior
 */
.nhsuk-u-visually-hidden {
  position: absolute !important;
  width: 1px !important;
  height: 1px !important;
  padding: 0 !important;
  margin: -1px !important;
  overflow: hidden !important;
  clip: rect(0, 0, 0, 0) !important;
  white-space: nowrap !important;
  border: 0 !important;
}

.nhsuk-width-container {
  margin: 0 auto;
  padding: 0 16px;
  max-width: 1200px;
}
@media (min-width: 768px) {
  .nhsuk-width-container {
    padding: 0 24px;
  }
}
@media (min-width: 1025px) {
  .nhsuk-width-container {
    padding: 0 32px;
  }
}

.nhsuk-icon {
  width: auto !important;
  height: 2em;
  vertical-align: text-bottom;
  flex-shrink: 0;
}

/* SSR Fallback Navigation Container */
.nhsuk-header__navigation-container--ssr {
  /* On server-side, show a simple horizontal layout */
}
.nhsuk-header__navigation-container--ssr .nhsuk-header__navigation-list {
  display: flex;
  flex-wrap: wrap;
  gap: 8px;
  /* On narrow screens, show items vertically */
}
@media (max-width: 768px) {
  .nhsuk-header__navigation-container--ssr .nhsuk-header__navigation-list {
    flex-direction: column;
    max-width: 100%;
  }
}

/* SSR Fallback Navigation Items */
.nhsuk-header__navigation-item--ssr-fallback {
  /* Hide items that would typically be in overflow on smaller screens */
  /* Show with reduced priority styling */
}
@media (max-width: 1025px) {
  .nhsuk-header__navigation-item--ssr-fallback {
    display: none;
  }
}
.nhsuk-header__navigation-item--ssr-fallback .nhsuk-header__navigation-link {
  font-size: 16px;
  opacity: 0.9;
}
@media (min-width: 768px) {
  .nhsuk-header__navigation-item--ssr-fallback .nhsuk-header__navigation-link {
    font-size: 16px;
  }
}

/* Progressive Enhancement Indicator */
.nhsuk-header__navigation-container--initializing {
  /* Subtle loading state while JavaScript calculates overflow */
  opacity: 0.95;
  transition: opacity 150ms ease-in-out;
}

/* No-JS Fallback Styles */
.no-js .nhsuk-header__navigation-container {
  /* Ensure all navigation items are visible without JavaScript */
  /* Hide interactive elements that require JavaScript */
}
.no-js .nhsuk-header__navigation-container .nhsuk-header__navigation-list {
  display: flex;
  flex-wrap: wrap;
  gap: 4px;
}
.no-js .nhsuk-header__navigation-container .nhsuk-header__navigation-item {
  flex-shrink: 1;
}
.no-js .nhsuk-header__navigation-container .nhsuk-header__navigation-item .nhsuk-header__navigation-link {
  padding: calc(8px + 1px) 16px;
  font-size: 14px;
}
@media (min-width: 1025px) {
  .no-js .nhsuk-header__navigation-container .nhsuk-header__navigation-item .nhsuk-header__navigation-link {
    padding: 16px 24px;
    font-size: 16px;
    display: block;
    width: 100%;
  }
}
.no-js .nhsuk-header__navigation-container .nhsuk-header__navigation-item--more,
.no-js .nhsuk-header__navigation-container .nhsuk-header__dropdown-menu {
  display: none !important;
}

/* Enhanced Responsive Design for SSR */
@media (max-width: 960px) {
  .nhsuk-header__navigation-container--ssr .nhsuk-header__navigation-item--ssr-fallback:nth-child(n+4) {
    display: none;
  }
}
@media (max-width: 767px) {
  .nhsuk-header__navigation-container--ssr .nhsuk-header__navigation-list {
    flex-direction: column;
  }
  .nhsuk-header__navigation-container--ssr .nhsuk-header__navigation-item--ssr-fallback:nth-child(n+3) {
    display: none;
  }
}

/* Print Styles - Show all navigation for accessibility */
@media print {
  .nhsuk-header__navigation-item--ssr-fallback {
    display: block !important;
  }
  .nhsuk-header__navigation-item--more,
  .nhsuk-header__dropdown-menu {
    display: none !important;
  }
}