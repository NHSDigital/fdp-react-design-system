{"version":3,"file":"index-CKt9S8rc.js","sources":["behaviours/buttonBehaviour.js","behaviours/conditionalRevealUtil.js","behaviours/radiosBehaviour.js","behaviours/rangeBehaviour.js","behaviours/characterCountBehaviour.js","behaviours/checkboxesBehaviour.js","behaviours/headerBehaviour.js","behaviours/skipLinkBehaviour.js","behaviours/index.js"],"sourcesContent":["function createButtonBehaviour(options = {}) {\n  let el = null;\n  const { preventDoubleClick, onClick } = options;\n  let processingTimeout = null;\n  const handleClick = (e) => {\n    if (preventDoubleClick) {\n      if ((el == null ? void 0 : el.getAttribute(\"data-processing\")) === \"true\") {\n        e.preventDefault();\n        return;\n      }\n      el == null ? void 0 : el.setAttribute(\"data-processing\", \"true\");\n      processingTimeout = window.setTimeout(() => {\n        el == null ? void 0 : el.removeAttribute(\"data-processing\");\n        processingTimeout = null;\n      }, 1e3);\n    }\n    onClick == null ? void 0 : onClick(e);\n  };\n  const handleKeyDown = (e) => {\n    if (!el) return;\n    if (e.key === \" \" && el.tagName === \"A\") {\n      e.preventDefault();\n      el.click();\n    }\n  };\n  return {\n    attach(element) {\n      el = element;\n      el.addEventListener(\"click\", handleClick);\n      el.addEventListener(\"keydown\", handleKeyDown);\n    },\n    detach() {\n      if (!el) return;\n      el.removeEventListener(\"click\", handleClick);\n      el.removeEventListener(\"keydown\", handleKeyDown);\n      if (processingTimeout) window.clearTimeout(processingTimeout);\n      el = null;\n    }\n  };\n}\nfunction initButtons(scope = document) {\n  const nodes = Array.from(scope.querySelectorAll('[data-module=\"nhs-button\"][data-prevent-double-click]'));\n  nodes.forEach((node) => {\n    const n = node;\n    if (!n.__nhsButtonBehaviour) {\n      const behaviour = createButtonBehaviour({ preventDoubleClick: true });\n      behaviour.attach(n);\n      n.__nhsButtonBehaviour = behaviour;\n    }\n  });\n}\nfunction detachButtons(scope = document) {\n  const nodes = Array.from(scope.querySelectorAll('[data-module=\"nhs-button\"][data-prevent-double-click]'));\n  nodes.forEach((node) => {\n    const n = node;\n    if (n.__nhsButtonBehaviour) {\n      n.__nhsButtonBehaviour.detach();\n      delete n.__nhsButtonBehaviour;\n    }\n  });\n}\nif (typeof window !== \"undefined\") {\n  if (!window.__nhsInitButtons) {\n    window.__nhsInitButtons = initButtons;\n    window.__nhsDetachButtons = detachButtons;\n    if (document.readyState === \"loading\") {\n      document.addEventListener(\"DOMContentLoaded\", () => initButtons());\n    } else {\n      initButtons();\n    }\n  }\n}\nexport {\n  createButtonBehaviour,\n  detachButtons,\n  initButtons\n};\n//# sourceMappingURL=buttonBehaviour.js.map\n","function attachConditionalReveals(cfg) {\n  const inputs = Array.from(cfg.container.querySelectorAll(cfg.inputSelector));\n  if (!inputs.length) return { detach: () => {\n  } };\n  const update = () => {\n    if (cfg.exclusive) {\n      inputs.forEach((i) => {\n        const cond = document.getElementById(i.id + \"-conditional\");\n        if (cond) {\n          cond.classList.add(cfg.hiddenClass);\n          i.setAttribute(\"aria-expanded\", \"false\");\n        }\n      });\n    }\n    inputs.forEach((i) => {\n      const cond = document.getElementById(i.id + \"-conditional\");\n      if (cond) {\n        const show = i.checked;\n        cond.classList.toggle(cfg.hiddenClass, !show);\n        i.setAttribute(\"aria-expanded\", show ? \"true\" : \"false\");\n      }\n    });\n  };\n  const handleChange = () => {\n    update();\n    cfg.container.dispatchEvent(new CustomEvent(cfg.eventName, { bubbles: true }));\n  };\n  inputs.forEach((i) => {\n    i.addEventListener(\"change\", handleChange);\n    const cond = document.getElementById(i.id + \"-conditional\");\n    if (cond && !i.hasAttribute(\"aria-controls\")) i.setAttribute(\"aria-controls\", i.id + \"-conditional\");\n  });\n  update();\n  return { detach() {\n    inputs.forEach((i) => i.removeEventListener(\"change\", handleChange));\n  } };\n}\nexport {\n  attachConditionalReveals\n};\n//# sourceMappingURL=conditionalRevealUtil.js.map\n","import { attachConditionalReveals } from \"./conditionalRevealUtil.js\";\nfunction enhanceRadiosContainer(container) {\n  var _a;\n  const inputs = Array.from(container.querySelectorAll('input.nhsuk-radios__input[type=\"radio\"][name]'));\n  const name = (_a = inputs[0]) == null ? void 0 : _a.name;\n  if (!name) return { detach: () => {\n  } };\n  const handleKeyDown = (e) => {\n    if (![\"ArrowDown\", \"ArrowUp\", \"ArrowLeft\", \"ArrowRight\"].includes(e.key)) return;\n    const enabled = inputs.filter((i) => !i.disabled);\n    const current = enabled.indexOf(e.target);\n    if (current === -1) return;\n    e.preventDefault();\n    let nextIndex = current;\n    if (e.key === \"ArrowDown\" || e.key === \"ArrowRight\") nextIndex = (current + 1) % enabled.length;\n    else nextIndex = (current - 1 + enabled.length) % enabled.length;\n    const next = enabled[nextIndex];\n    if (next && next !== e.target) {\n      next.focus();\n      if (!next.checked) {\n        next.click();\n      }\n    }\n  };\n  const conditionalHandles = attachConditionalReveals({\n    inputSelector: 'input.nhsuk-radios__input[type=\"radio\"][name=\"' + name + '\"]',\n    hiddenClass: \"nhsuk-radios__conditional--hidden\",\n    container,\n    eventName: \"nhs:radios:change\",\n    exclusive: true\n  });\n  inputs.forEach((i) => {\n    i.addEventListener(\"keydown\", handleKeyDown);\n  });\n  return {\n    detach() {\n      inputs.forEach((i) => {\n        i.removeEventListener(\"keydown\", handleKeyDown);\n      });\n      conditionalHandles.detach();\n    }\n  };\n}\nfunction initRadios(scope = document) {\n  const containers = Array.from(scope.querySelectorAll(\".nhsuk-radios\"));\n  containers.forEach((c) => {\n    if (!c.__nhsRadiosBehaviour) {\n      c.__nhsRadiosBehaviour = enhanceRadiosContainer(c);\n    }\n  });\n}\nfunction detachRadios(scope = document) {\n  const containers = Array.from(scope.querySelectorAll(\".nhsuk-radios\"));\n  containers.forEach((c) => {\n    var _a;\n    (_a = c.__nhsRadiosBehaviour) == null ? void 0 : _a.detach();\n    delete c.__nhsRadiosBehaviour;\n  });\n}\nif (typeof window !== \"undefined\") {\n  if (!window.__nhsInitRadios) {\n    window.__nhsInitRadios = initRadios;\n    window.__nhsDetachRadios = detachRadios;\n    if (document.readyState === \"loading\") {\n      document.addEventListener(\"DOMContentLoaded\", () => initRadios());\n    } else {\n      initRadios();\n    }\n  }\n}\nexport {\n  detachRadios,\n  initRadios\n};\n//# sourceMappingURL=radiosBehaviour.js.map\n","function enhanceRangeInput(input) {\n  const wrapper = input.closest(\".nhsuk-input-range-wrapper\");\n  const currentValueEl = wrapper == null ? void 0 : wrapper.querySelector(\n    \".nhsuk-input-range-current-value strong\"\n  );\n  const update = () => {\n    const val = input.value;\n    input.setAttribute(\"data-current-value\", val);\n    if (currentValueEl) currentValueEl.textContent = val;\n  };\n  const listener = () => {\n    update();\n    input.dispatchEvent(new CustomEvent(\"nhs:range:update\", { bubbles: true }));\n  };\n  input.addEventListener(\"input\", listener);\n  update();\n  return {\n    detach() {\n      input.removeEventListener(\"input\", listener);\n    }\n  };\n}\nfunction initRanges(scope = document) {\n  const inputs = Array.from(\n    scope.querySelectorAll(\n      \"input.nhsuk-input--range[data-current-value]\"\n    )\n  );\n  inputs.forEach((inp) => {\n    if (!inp.__nhsRangeBehaviour) {\n      inp.__nhsRangeBehaviour = enhanceRangeInput(inp);\n    }\n  });\n}\nfunction detachRanges(scope = document) {\n  const inputs = Array.from(\n    scope.querySelectorAll(\n      \"input.nhsuk-input--range[data-current-value]\"\n    )\n  );\n  inputs.forEach((inp) => {\n    var _a;\n    (_a = inp.__nhsRangeBehaviour) == null ? void 0 : _a.detach();\n    delete inp.__nhsRangeBehaviour;\n  });\n}\nif (typeof window !== \"undefined\") {\n  if (!window.__nhsInitRanges) {\n    window.__nhsInitRanges = initRanges;\n    window.__nhsDetachRanges = detachRanges;\n    if (document.readyState === \"loading\") {\n      document.addEventListener(\"DOMContentLoaded\", () => initRanges());\n    } else {\n      initRanges();\n    }\n  }\n}\nexport {\n  detachRanges,\n  initRanges\n};\n//# sourceMappingURL=rangeBehaviour.js.map\n","function enhanceCharacterCount(root) {\n  const textarea = root.querySelector(\"textarea\");\n  const message = root.querySelector(\".nhsuk-character-count__message, .nhsuk-hint\");\n  if (!textarea || !message) return { detach: () => {\n  } };\n  const maxLength = Number(root.getAttribute(\"data-maxlength\")) || void 0;\n  const maxWords = Number(root.getAttribute(\"data-maxwords\")) || void 0;\n  const threshold = Number(root.getAttribute(\"data-threshold\")) || 0;\n  const limit = maxLength || maxWords || 0;\n  const unit = maxWords ? \"word\" : \"character\";\n  const unitPlural = maxWords ? \"words\" : \"characters\";\n  function countValue(val) {\n    if (maxWords) {\n      const t = val.trim();\n      if (!t) return 0;\n      return t.split(/\\s+/).length;\n    }\n    return val.length;\n  }\n  function update() {\n    const text = textarea.value;\n    const current = countValue(text);\n    const remaining = limit - current;\n    const thresholdCount = Math.floor(limit * (threshold / 100));\n    const showCount = current >= thresholdCount || current > limit;\n    const isOver = current > limit;\n    let msg;\n    if (!showCount) {\n      msg = `You can enter up to ${limit} ${limit === 1 ? unit : unitPlural}`;\n    } else if (isOver) {\n      const over = Math.abs(remaining);\n      msg = `You have ${over} ${over === 1 ? unit : unitPlural} too many`;\n    } else {\n      msg = `You have ${remaining} ${remaining === 1 ? unit : unitPlural} remaining`;\n    }\n    message.textContent = msg;\n    message.classList.toggle(\"nhsuk-error-message\", isOver);\n    if (isOver) textarea.setAttribute(\"aria-invalid\", \"true\");\n    else textarea.removeAttribute(\"aria-invalid\");\n    root.dispatchEvent(new CustomEvent(\"nhs:character-count:update\", { bubbles: true, detail: { current, remaining, isOverLimit: isOver } }));\n  }\n  const handler = () => update();\n  textarea.addEventListener(\"input\", handler);\n  update();\n  return { detach() {\n    textarea.removeEventListener(\"input\", handler);\n  } };\n}\nfunction initCharacterCounts(scope = document) {\n  const roots = Array.from(scope.querySelectorAll('[data-module=\"nhsuk-character-count\"]'));\n  roots.forEach((r) => {\n    if (!r.__nhsCharacterCount) r.__nhsCharacterCount = enhanceCharacterCount(r);\n  });\n}\nfunction detachCharacterCounts(scope = document) {\n  const roots = Array.from(scope.querySelectorAll('[data-module=\"nhsuk-character-count\"]'));\n  roots.forEach((r) => {\n    var _a;\n    (_a = r.__nhsCharacterCount) == null ? void 0 : _a.detach();\n    delete r.__nhsCharacterCount;\n  });\n}\nif (typeof window !== \"undefined\") {\n  if (!window.__nhsInitCharacterCounts) {\n    window.__nhsInitCharacterCounts = initCharacterCounts;\n    window.__nhsDetachCharacterCounts = detachCharacterCounts;\n    if (document.readyState === \"loading\") document.addEventListener(\"DOMContentLoaded\", () => initCharacterCounts());\n    else initCharacterCounts();\n  }\n}\nexport {\n  detachCharacterCounts,\n  initCharacterCounts\n};\n//# sourceMappingURL=characterCountBehaviour.js.map\n","import { attachConditionalReveals } from \"./conditionalRevealUtil.js\";\nfunction enhance(container) {\n  return attachConditionalReveals({\n    inputSelector: 'input.nhsuk-checkboxes__input[type=\"checkbox\"]',\n    hiddenClass: \"nhsuk-checkboxes__conditional--hidden\",\n    container,\n    eventName: \"nhs:checkboxes:change\"\n  });\n}\nfunction initCheckboxes(scope = document) {\n  const groups = Array.from(\n    scope.querySelectorAll(\".nhsuk-checkboxes\")\n  );\n  groups.forEach((g) => {\n    if (!g.__nhsCheckboxesBehaviour) g.__nhsCheckboxesBehaviour = enhance(g);\n  });\n}\nfunction detachCheckboxes(scope = document) {\n  const groups = Array.from(\n    scope.querySelectorAll(\".nhsuk-checkboxes\")\n  );\n  groups.forEach((g) => {\n    var _a;\n    (_a = g.__nhsCheckboxesBehaviour) == null ? void 0 : _a.detach();\n    delete g.__nhsCheckboxesBehaviour;\n  });\n}\nif (typeof window !== \"undefined\") {\n  if (!window.__nhsInitCheckboxes) {\n    window.__nhsInitCheckboxes = initCheckboxes;\n    window.__nhsDetachCheckboxes = detachCheckboxes;\n    if (document.readyState === \"loading\")\n      document.addEventListener(\"DOMContentLoaded\", () => initCheckboxes());\n    else initCheckboxes();\n  }\n}\nexport {\n  detachCheckboxes,\n  initCheckboxes\n};\n//# sourceMappingURL=checkboxesBehaviour.js.map\n","const HEADER_SELECTOR = \".nhsuk-header\";\nconst NAV_CONTAINER_SELECTOR = \".nhsuk-header__navigation-container\";\nconst NAV_LIST_SELECTOR = \".nhsuk-header__navigation-list\";\nconst DROPDOWN_MENU_CLASS = \"nhsuk-header__dropdown-menu\";\nconst DROPDOWN_LIST_CLASS = \"nhsuk-header__dropdown-list\";\nconst MORE_ITEM_CLASS = \"nhsuk-header__navigation-item--more\";\nconst NAV_ITEM_SELECTOR = \".nhsuk-header__navigation-item:not(.\" + MORE_ITEM_CLASS + \")\";\nconst DEBOUNCE_MS = 150;\nfunction debounce(fn, wait = DEBOUNCE_MS) {\n  let t;\n  return (...args) => {\n    if (t) window.clearTimeout(t);\n    t = window.setTimeout(() => fn(...args), wait);\n  };\n}\nfunction initHeaders(scope = document) {\n  if (typeof window === \"undefined\") return [];\n  const headers = Array.from(\n    scope.querySelectorAll(HEADER_SELECTOR)\n  );\n  return headers.map(enhanceHeader).filter(Boolean);\n}\nfunction detachHeaders(scope = document) {\n  const headers = scope.querySelectorAll(HEADER_SELECTOR) || [];\n  headers.forEach((h) => {\n    const inst = h._nhsHeaderInstance;\n    inst == null ? void 0 : inst.destroy();\n  });\n}\nfunction enhanceHeader(root) {\n  if (root._nhsHeaderInstance) return root._nhsHeaderInstance;\n  root.setAttribute(\"data-enhancing\", \"header\");\n  const nav = root.querySelector(\"nav[data-ssr-hydrating]\");\n  if (nav) {\n    nav.removeAttribute(\"data-ssr-hydrating\");\n  }\n  const navContainer = root.querySelector(NAV_CONTAINER_SELECTOR);\n  const navList = root.querySelector(NAV_LIST_SELECTOR);\n  if (!navContainer || !navList) return null;\n  let originalItemsHTML = Array.from(\n    navList.querySelectorAll(NAV_ITEM_SELECTOR)\n  ).map((li) => li.outerHTML);\n  if (!originalItemsHTML.length) return null;\n  let moreLi = null;\n  let dropdownMenu = null;\n  let dropdownList = null;\n  let open = false;\n  function buildMore() {\n    if (moreLi) return;\n    moreLi = document.createElement(\"li\");\n    moreLi.className = `nhsuk-header__navigation-item ${MORE_ITEM_CLASS}`;\n    const btn = document.createElement(\"button\");\n    btn.type = \"button\";\n    btn.className = \"nhsuk-header__navigation-button\";\n    btn.id = \"toggle-more-menu\";\n    btn.setAttribute(\"aria-expanded\", \"false\");\n    btn.setAttribute(\"aria-controls\", \"nhsuk-header-overflow-menu\");\n    btn.innerHTML = '<span>More</span><svg class=\"nhsuk-icon nhsuk-icon__chevron-down\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\" aria-hidden=\"true\" focusable=\"false\"><path d=\"M15.5 12a1 1 0 0 1-.29.71l-5 5a1 1 0 0 1-1.42-1.42l4.3-4.29-4.3-4.29a1 1 0 0 1 1.42-1.42l5 5a1 1 0 0 1 .29.71z\"/></svg>';\n    btn.addEventListener(\"click\", toggle);\n    moreLi.appendChild(btn);\n  }\n  function ensureDropdown() {\n    if (dropdownMenu) return;\n    dropdownMenu = document.createElement(\"div\");\n    dropdownMenu.className = DROPDOWN_MENU_CLASS;\n    dropdownMenu.hidden = true;\n    dropdownMenu.id = \"nhsuk-header-overflow-menu\";\n    dropdownList = document.createElement(\"ul\");\n    dropdownList.className = DROPDOWN_LIST_CLASS;\n    dropdownMenu.appendChild(dropdownList);\n    root.appendChild(dropdownMenu);\n  }\n  function close() {\n    if (!open) return;\n    open = false;\n    if (dropdownMenu) dropdownMenu.hidden = true;\n    const btn = moreLi == null ? void 0 : moreLi.querySelector(\"button\");\n    btn == null ? void 0 : btn.setAttribute(\"aria-expanded\", \"false\");\n  }\n  function openMenu() {\n    if (open) return;\n    open = true;\n    if (dropdownMenu) dropdownMenu.hidden = false;\n    const btn = moreLi == null ? void 0 : moreLi.querySelector(\"button\");\n    btn == null ? void 0 : btn.setAttribute(\"aria-expanded\", \"true\");\n  }\n  function toggle() {\n    open ? close() : openMenu();\n  }\n  function cloneToDropdown(li) {\n    const clone = li.cloneNode(true);\n    clone.className = clone.className.replace(\n      \"nhsuk-header__navigation-item--current\",\n      \"nhsuk-header__dropdown-item--current\"\n    ).replace(\"nhsuk-header__navigation-item\", \"nhsuk-header__dropdown-item\");\n    const link = clone.querySelector(\"a\");\n    if (link) link.className = \"nhsuk-header__dropdown-link\";\n    return clone;\n  }\n  function measureWidths() {\n    const measureUl = document.createElement(\"ul\");\n    measureUl.className = \"nhsuk-header__navigation-list\";\n    measureUl.style.cssText = \"position:absolute;visibility:hidden;left:-9999px;top:0;display:flex;flex-wrap:nowrap;\";\n    measureUl.innerHTML = originalItemsHTML.join(\"\");\n    document.body.appendChild(measureUl);\n    const w = Array.from(measureUl.children).map(\n      (li) => li.offsetWidth\n    );\n    document.body.removeChild(measureUl);\n    return w;\n  }\n  function distribute() {\n    close();\n    if (!navList) return;\n    root.dataset.headerDistStart = String(Date.now());\n    const widths = measureWidths();\n    root.dataset.headerLastCalc = root.dataset.headerDistStart;\n    if (!widths.length) return;\n    if (!navContainer) return;\n    const containerWidth = navContainer.offsetWidth;\n    if (containerWidth <= 0) return;\n    const mobile = window.innerWidth < 768;\n    const gutterSize = mobile ? 16 : 32;\n    const availableContainerWidth = containerWidth - gutterSize * 2;\n    const moreButtonReserve = mobile ? 72 : 100;\n    navList.innerHTML = \"\";\n    navList.style.display = \"flex\";\n    navList.style.flexWrap = \"nowrap\";\n    if (dropdownMenu) {\n      dropdownMenu.hidden = true;\n      dropdownList.innerHTML = \"\";\n    }\n    navList.innerHTML = originalItemsHTML.join(\"\");\n    const realScrollWidth = navList.scrollWidth;\n    root.dataset.headerRealScroll = String(realScrollWidth);\n    root.dataset.headerAvail = String(availableContainerWidth);\n    const fits = realScrollWidth <= availableContainerWidth - 4;\n    if (fits) {\n      if (dropdownMenu) {\n        dropdownMenu.remove();\n        dropdownMenu = null;\n        dropdownList = null;\n      }\n      root.dataset.headerOverflow = \"none\";\n      return;\n    }\n    buildMore();\n    ensureDropdown();\n    const availableForItems = availableContainerWidth - moreButtonReserve;\n    let running = 0;\n    let fitCount = 0;\n    for (let i = 0; i < widths.length; i++) {\n      if (running + widths[i] <= availableForItems) {\n        running += widths[i];\n        fitCount = i + 1;\n      } else break;\n    }\n    if (fitCount === widths.length) {\n      if (dropdownMenu) {\n        dropdownMenu.remove();\n        dropdownMenu = null;\n        dropdownList = null;\n      }\n      moreLi = null;\n      navList.innerHTML = originalItemsHTML.join(\"\");\n      root.dataset.headerOverflow = \"none\";\n      root.classList.remove(\"nhsuk-header--nav-overflow-active\");\n      return;\n    }\n    fitCount = Math.max(1, fitCount);\n    navList.innerHTML = \"\";\n    for (let i = 0; i < fitCount; i++) {\n      navList.insertAdjacentHTML(\"beforeend\", originalItemsHTML[i]);\n    }\n    navList.appendChild(moreLi);\n    for (let i = fitCount; i < originalItemsHTML.length; i++) {\n      const temp = document.createElement(\"div\");\n      temp.innerHTML = originalItemsHTML[i];\n      const li = temp.firstElementChild;\n      if (!li) continue;\n      dropdownList.appendChild(cloneToDropdown(li));\n    }\n    const postScroll = navList.scrollWidth;\n    root.dataset.headerPostScroll = String(postScroll);\n    root.dataset.headerOverflow = \"active\";\n    root.classList.add(\"nhsuk-header--nav-overflow-active\");\n  }\n  let internalMutation = false;\n  const observer = new MutationObserver((mutations) => {\n    if (internalMutation) return;\n    if (mutations.some((m) => m.type === \"childList\")) {\n      const currentItems = Array.from(\n        navList.querySelectorAll(NAV_ITEM_SELECTOR)\n      );\n      if (currentItems.length && currentItems.length !== originalItemsHTML.length) {\n        originalItemsHTML = currentItems.map((li) => li.outerHTML);\n      }\n      requestAnimationFrame(guardedDistribute);\n    }\n  });\n  observer.observe(navList, { childList: true });\n  function guardedDistribute() {\n    internalMutation = true;\n    try {\n      distribute();\n    } finally {\n      setTimeout(() => {\n        internalMutation = false;\n      }, 0);\n    }\n  }\n  const handleKey = (e) => {\n    if (e.key === \"Escape\") close();\n  };\n  const handleDocClick = (e) => {\n    if (open && !root.contains(e.target)) close();\n  };\n  const handleResize = debounce(guardedDistribute, 150);\n  window.addEventListener(\"resize\", handleResize);\n  window.addEventListener(\"orientationchange\", handleResize);\n  document.addEventListener(\"keydown\", handleKey);\n  document.addEventListener(\"mousedown\", handleDocClick);\n  requestAnimationFrame(guardedDistribute);\n  const instance = {\n    root,\n    destroy() {\n      window.removeEventListener(\"resize\", handleResize);\n      window.removeEventListener(\"orientationchange\", handleResize);\n      document.removeEventListener(\"keydown\", handleKey);\n      document.removeEventListener(\"mousedown\", handleDocClick);\n      observer.disconnect();\n      close();\n    }\n  };\n  root.classList.add(\"nhsuk-header--enhanced\");\n  root._nhsHeaderInstance = instance;\n  return instance;\n}\nexport {\n  detachHeaders,\n  initHeaders\n};\n//# sourceMappingURL=headerBehaviour.js.map\n","function initSkipLinks(scope = document) {\n  if (typeof window === \"undefined\" || typeof document === \"undefined\") return;\n  const handleSkipLinkClick = (event) => {\n    const target = event.currentTarget;\n    const targetId = target.getAttribute(\"href\");\n    if (!targetId || !targetId.startsWith(\"#\")) return;\n    const targetElement = document.querySelector(targetId);\n    if (!targetElement) return;\n    const hadTabIndex = targetElement.hasAttribute(\"tabindex\");\n    if (!hadTabIndex) targetElement.setAttribute(\"tabindex\", \"-1\");\n    targetElement.focus();\n    targetElement.classList.add(\"nhsuk-skip-link-focused-element\");\n    const timeoutId = window.setTimeout(() => {\n      targetElement.classList.remove(\"nhsuk-skip-link-focused-element\");\n      if (!hadTabIndex && targetElement.getAttribute(\"tabindex\") === \"-1\") {\n        targetElement.removeAttribute(\"tabindex\");\n      }\n    }, 3e3);\n    target.__nhsSkipLinkTimeout = timeoutId;\n  };\n  const links = scope.querySelectorAll(\".nhsuk-skip-link\");\n  links.forEach((link) => {\n    const el = link;\n    if (!el.__nhsSkipLinkHandler) {\n      el.addEventListener(\"click\", handleSkipLinkClick);\n      el.__nhsSkipLinkHandler = handleSkipLinkClick;\n    }\n    el.setAttribute(\"data-enhanced\", \"true\");\n  });\n}\nfunction detachSkipLinks(scope = document) {\n  if (typeof window === \"undefined\" || typeof document === \"undefined\") return;\n  const links = scope.querySelectorAll(\".nhsuk-skip-link\");\n  links.forEach((link) => {\n    const el = link;\n    const timeoutId = el.__nhsSkipLinkTimeout;\n    if (timeoutId && window.clearTimeout) window.clearTimeout(timeoutId);\n    if (el.__nhsSkipLinkHandler) {\n      el.removeEventListener(\"click\", el.__nhsSkipLinkHandler);\n      delete el.__nhsSkipLinkHandler;\n    }\n    el.removeAttribute(\"data-enhanced\");\n  });\n}\nexport {\n  detachSkipLinks,\n  initSkipLinks\n};\n//# sourceMappingURL=skipLinkBehaviour.js.map\n","import {\n  createButtonBehaviour,\n  initButtons,\n  detachButtons\n} from \"./buttonBehaviour.js\";\nimport { initRadios, detachRadios } from \"./radiosBehaviour.js\";\nimport { initRanges, detachRanges } from \"./rangeBehaviour.js\";\nimport {\n  initCharacterCounts,\n  detachCharacterCounts\n} from \"./characterCountBehaviour.js\";\nimport { initCheckboxes, detachCheckboxes } from \"./checkboxesBehaviour.js\";\nimport { initHeaders, detachHeaders } from \"./headerBehaviour.js\";\nimport { initSkipLinks, detachSkipLinks } from \"./skipLinkBehaviour.js\";\nimport { initButtons as initButtons2, detachButtons as detachButtons2 } from \"./buttonBehaviour.js\";\nimport { initRadios as initRadios2, detachRadios as detachRadios2 } from \"./radiosBehaviour.js\";\nimport { initRanges as initRanges2, detachRanges as detachRanges2 } from \"./rangeBehaviour.js\";\nimport {\n  initCharacterCounts as initCharacterCounts2,\n  detachCharacterCounts as detachCharacterCounts2\n} from \"./characterCountBehaviour.js\";\nimport { initCheckboxes as initCheckboxes2, detachCheckboxes as detachCheckboxes2 } from \"./checkboxesBehaviour.js\";\nimport { initHeaders as initHeaders2, detachHeaders as detachHeaders2 } from \"./headerBehaviour.js\";\nimport { initSkipLinks as initSkipLinks2, detachSkipLinks as detachSkipLinks2 } from \"./skipLinkBehaviour.js\";\nfunction initAll(scope = document) {\n  initButtons2(scope);\n  initRadios2(scope);\n  initRanges2(scope);\n  initCharacterCounts2(scope);\n  initCheckboxes2(scope);\n  initHeaders2(scope);\n  initSkipLinks2(scope);\n}\nfunction teardownAll(scope = document) {\n  detachButtons2(scope);\n  detachRadios2(scope);\n  detachRanges2(scope);\n  detachCharacterCounts2(scope);\n  detachCheckboxes2(scope);\n  detachHeaders2(scope);\n  detachSkipLinks2(scope);\n}\nif (typeof window !== \"undefined\") {\n  if (!window.__nhsInitAllBehaviours) {\n    window.__nhsInitAllBehaviours = initAll;\n    window.__nhsTeardownAllBehaviours = teardownAll;\n    window.__nhsHeaderBehaviours = {\n      initHeaders: initHeaders2,\n      detachHeaders: detachHeaders2,\n      initButtons: initButtons2,\n      detachButtons: detachButtons2,\n      initRadios: initRadios2,\n      detachRadios: detachRadios2,\n      initRanges: initRanges2,\n      detachRanges: detachRanges2,\n      initCharacterCounts: initCharacterCounts2,\n      detachCharacterCounts: detachCharacterCounts2,\n      initCheckboxes: initCheckboxes2,\n      detachCheckboxes: detachCheckboxes2,\n      initSkipLinks: initSkipLinks2,\n      detachSkipLinks: detachSkipLinks2\n    };\n    if (document.readyState === \"loading\") {\n      document.addEventListener(\"DOMContentLoaded\", () => initAll());\n    } else {\n      initAll();\n    }\n  }\n}\nexport {\n  createButtonBehaviour,\n  detachButtons,\n  detachCharacterCounts,\n  detachCheckboxes,\n  detachHeaders,\n  detachRadios,\n  detachRanges,\n  detachSkipLinks,\n  initAll,\n  initButtons,\n  initCharacterCounts,\n  initCheckboxes,\n  initHeaders,\n  initRadios,\n  initRanges,\n  initSkipLinks,\n  teardownAll\n};\n//# sourceMappingURL=index.js.map\n"],"names":["createButtonBehaviour","options","el","preventDoubleClick","onClick","processingTimeout","handleClick","e","handleKeyDown","element","initButtons","scope","node","behaviour","detachButtons","attachConditionalReveals","cfg","inputs","update","i","cond","show","handleChange","enhanceRadiosContainer","container","_a","name","enabled","current","nextIndex","next","conditionalHandles","initRadios","c","detachRadios","enhanceRangeInput","input","wrapper","currentValueEl","val","listener","initRanges","inp","detachRanges","enhanceCharacterCount","root","textarea","message","maxLength","maxWords","threshold","limit","unit","unitPlural","countValue","t","text","remaining","thresholdCount","showCount","isOver","msg","over","handler","initCharacterCounts","r","detachCharacterCounts","enhance","initCheckboxes","g","detachCheckboxes","HEADER_SELECTOR","NAV_CONTAINER_SELECTOR","NAV_LIST_SELECTOR","DROPDOWN_MENU_CLASS","DROPDOWN_LIST_CLASS","MORE_ITEM_CLASS","NAV_ITEM_SELECTOR","DEBOUNCE_MS","debounce","fn","wait","args","initHeaders","enhanceHeader","detachHeaders","h","inst","nav","navContainer","navList","originalItemsHTML","li","moreLi","dropdownMenu","dropdownList","open","buildMore","btn","toggle","ensureDropdown","close","openMenu","cloneToDropdown","clone","link","measureWidths","measureUl","w","distribute","widths","containerWidth","mobile","availableContainerWidth","moreButtonReserve","realScrollWidth","availableForItems","running","fitCount","temp","postScroll","internalMutation","observer","mutations","m","currentItems","guardedDistribute","handleKey","handleDocClick","handleResize","instance","initSkipLinks","handleSkipLinkClick","event","target","targetId","targetElement","hadTabIndex","timeoutId","detachSkipLinks","initAll","initButtons2","initRadios2","initRanges2","initCharacterCounts2","initCheckboxes2","initHeaders2","initSkipLinks2","teardownAll","detachButtons2","detachRadios2","detachRanges2","detachCharacterCounts2","detachCheckboxes2","detachHeaders2","detachSkipLinks2"],"mappings":"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"}