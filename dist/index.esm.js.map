{"version":3,"file":"index.esm.js","sources":["../node_modules/react/cjs/react-jsx-runtime.production.js","../node_modules/react/cjs/react-jsx-runtime.development.js","../node_modules/react/jsx-runtime.js","../node_modules/classnames/index.js","../src/components/ActionLink/ActionLink.tsx","../node_modules/@react-aria/utils/dist/useLayoutEffect.mjs","../node_modules/@react-aria/utils/dist/useEffectEvent.mjs","../node_modules/@react-aria/ssr/dist/SSRProvider.mjs","../node_modules/@react-aria/utils/dist/useId.mjs","../node_modules/@react-aria/utils/dist/chain.mjs","../node_modules/@react-aria/utils/dist/domHelpers.mjs","../node_modules/@react-stately/flags/dist/import.mjs","../node_modules/@react-aria/utils/dist/DOMFunctions.mjs","../node_modules/clsx/dist/clsx.mjs","../node_modules/@react-aria/utils/dist/mergeProps.mjs","../node_modules/@react-aria/utils/dist/mergeRefs.mjs","../node_modules/@react-aria/utils/dist/filterDOMProps.mjs","../node_modules/@react-aria/utils/dist/focusWithoutScrolling.mjs","../node_modules/@react-aria/utils/dist/platform.mjs","../node_modules/@react-aria/utils/dist/openLink.mjs","../node_modules/@react-aria/utils/dist/runAfterTransition.mjs","../node_modules/@react-aria/utils/dist/useGlobalListeners.mjs","../node_modules/@react-aria/utils/dist/useObjectRef.mjs","../node_modules/@react-aria/utils/dist/useSyncRef.mjs","../node_modules/@react-aria/utils/dist/isVirtualEvent.mjs","../node_modules/@react-aria/utils/dist/isElementVisible.mjs","../node_modules/@react-aria/utils/dist/isFocusable.mjs","../node_modules/react-aria-components/dist/utils.mjs","../node_modules/@react-aria/collections/dist/Hidden.mjs","../node_modules/@react-aria/interactions/dist/utils.mjs","../node_modules/@react-aria/interactions/dist/textSelection.mjs","../node_modules/@react-aria/interactions/dist/context.mjs","../node_modules/@swc/helpers/esm/_class_apply_descriptor_get.js","../node_modules/@swc/helpers/esm/_class_extract_field_descriptor.js","../node_modules/@swc/helpers/esm/_class_private_field_get.js","../node_modules/@swc/helpers/esm/_check_private_redeclaration.js","../node_modules/@swc/helpers/esm/_class_private_field_init.js","../node_modules/@swc/helpers/esm/_class_apply_descriptor_set.js","../node_modules/@swc/helpers/esm/_class_private_field_set.js","../node_modules/@react-aria/interactions/dist/usePress.mjs","../node_modules/@react-aria/interactions/dist/useFocusVisible.mjs","../node_modules/@react-aria/interactions/dist/focusSafely.mjs","../node_modules/@react-aria/interactions/dist/useFocus.mjs","../node_modules/@react-aria/interactions/dist/createEventHandler.mjs","../node_modules/@react-aria/interactions/dist/useKeyboard.mjs","../node_modules/@react-aria/interactions/dist/useFocusable.mjs","../node_modules/@react-aria/interactions/dist/useFocusWithin.mjs","../node_modules/@react-aria/interactions/dist/useHover.mjs","../node_modules/@react-aria/button/dist/useButton.mjs","../node_modules/@react-aria/focus/dist/useFocusRing.mjs","../node_modules/@react-aria/live-announcer/dist/LiveAnnouncer.mjs","../node_modules/react-aria-components/dist/ProgressBar.mjs","../node_modules/react-aria-components/dist/Button.mjs","../src/components/Button/Button.tsx","../src/components/BackLink/BackLink.tsx","../src/components/Tag/Tag.tsx","../src/components/Input/Input.tsx","../src/components/Label/Label.tsx","../src/components/Fieldset/Fieldset.tsx","../src/components/Checkboxes/Checkboxes.tsx","../src/components/Textarea/Textarea.tsx","../src/components/Hint/Hint.tsx","../src/components/CharacterCount/CharacterCount.tsx","../src/components/Select/Select.tsx","../src/components/Radios/Radios.tsx","../src/components/Heading/Heading.tsx","../src/components/ErrorMessage/ErrorMessage.tsx","../src/components/ErrorSummary/ErrorSummary.tsx","../src/components/DateInput/DateInput.tsx","../packages/nhs-fdp/dist/react/theme/NHSThemeProvider.tsx","../src/styles/font-loader.ts","../src/components/NHSThemeProvider.tsx","../src/components/Header/Header.tsx","../src/components/Hero/Hero.tsx","../src/components/Footer/Footer.tsx","../node_modules/d3-array/src/ascending.js","../node_modules/d3-array/src/descending.js","../node_modules/d3-array/src/bisector.js","../node_modules/d3-array/src/number.js","../node_modules/d3-array/src/bisect.js","../node_modules/d3-array/src/ticks.js","../node_modules/d3-scale/src/init.js","../node_modules/d3-color/src/define.js","../node_modules/d3-color/src/color.js","../node_modules/d3-interpolate/src/constant.js","../node_modules/d3-interpolate/src/color.js","../node_modules/d3-interpolate/src/rgb.js","../node_modules/d3-interpolate/src/numberArray.js","../node_modules/d3-interpolate/src/array.js","../node_modules/d3-interpolate/src/date.js","../node_modules/d3-interpolate/src/number.js","../node_modules/d3-interpolate/src/object.js","../node_modules/d3-interpolate/src/string.js","../node_modules/d3-interpolate/src/value.js","../node_modules/d3-interpolate/src/round.js","../node_modules/d3-scale/src/constant.js","../node_modules/d3-scale/src/number.js","../node_modules/d3-scale/src/continuous.js","../node_modules/d3-scale/src/nice.js","../node_modules/d3-time/src/interval.js","../node_modules/d3-time/src/millisecond.js","../node_modules/d3-time/src/duration.js","../node_modules/d3-time/src/second.js","../node_modules/d3-time/src/minute.js","../node_modules/d3-time/src/hour.js","../node_modules/d3-time/src/day.js","../node_modules/d3-time/src/week.js","../node_modules/d3-time/src/month.js","../node_modules/d3-time/src/year.js","../node_modules/d3-time/src/ticks.js","../node_modules/d3-time-format/src/locale.js","../node_modules/d3-time-format/src/defaultLocale.js","../node_modules/d3-scale/src/time.js","../src/components/GanttChart/TaskBar.tsx","../src/components/GanttChart/GanttChart.tsx","../src/components/Breadcrumb/Breadcrumb.tsx","../src/components/SkipLink/SkipLink.tsx","../src/components/Pagination/Pagination.tsx","../src/components/ContentsList/ContentsList.tsx","../src/components/Card/Card.tsx","../src/components/CareCard/CareCard.tsx","../src/components/Panel/Panel.tsx","../src/components/InsetText/InsetText.tsx","../src/components/SummaryList/SummaryList.tsx","../src/components/Tables/Table.tsx","../src/components/Tabs/Tabs.tsx","../src/components/Details/Details.tsx","../src/components/DoDontList/DoDontList.tsx","../src/components/Expander/Expander.tsx","../src/components/TaskList/TaskList.tsx","../src/components/WarningCallout/WarningCallout.tsx","../src/components/Images/Images.tsx","../src/components/SortableDataTable/AriaDataGrid.tsx","../src/components/SortableDataTable/SortStatusControl/SortStatusControl.tsx","../src/components/SortableDataTable/AriaTabsDataGrid.tsx","../src/components/SortableDataTable/AriaTabsDataGridAdaptive.tsx","../src/components/SortableDataTable/SortStatusControlTypes.ts","../src/components/SortableDataTable/SortStatusControl.tsx","../packages/nhs-fdp/dist/react/index.tsx","../packages/nhs-fdp/dist/react/components/NHSTypography.tsx","../packages/nhs-fdp/dist/react/hooks/useTokens.ts","../src/styles/font-config.ts"],"sourcesContent":["/**\n * @license React\n * react-jsx-runtime.production.js\n *\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n\"use strict\";\nvar REACT_ELEMENT_TYPE = Symbol.for(\"react.transitional.element\"),\n  REACT_FRAGMENT_TYPE = Symbol.for(\"react.fragment\");\nfunction jsxProd(type, config, maybeKey) {\n  var key = null;\n  void 0 !== maybeKey && (key = \"\" + maybeKey);\n  void 0 !== config.key && (key = \"\" + config.key);\n  if (\"key\" in config) {\n    maybeKey = {};\n    for (var propName in config)\n      \"key\" !== propName && (maybeKey[propName] = config[propName]);\n  } else maybeKey = config;\n  config = maybeKey.ref;\n  return {\n    $$typeof: REACT_ELEMENT_TYPE,\n    type: type,\n    key: key,\n    ref: void 0 !== config ? config : null,\n    props: maybeKey\n  };\n}\nexports.Fragment = REACT_FRAGMENT_TYPE;\nexports.jsx = jsxProd;\nexports.jsxs = jsxProd;\n","/**\n * @license React\n * react-jsx-runtime.development.js\n *\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n\"use strict\";\n\"production\" !== process.env.NODE_ENV &&\n  (function () {\n    function getComponentNameFromType(type) {\n      if (null == type) return null;\n      if (\"function\" === typeof type)\n        return type.$$typeof === REACT_CLIENT_REFERENCE\n          ? null\n          : type.displayName || type.name || null;\n      if (\"string\" === typeof type) return type;\n      switch (type) {\n        case REACT_FRAGMENT_TYPE:\n          return \"Fragment\";\n        case REACT_PROFILER_TYPE:\n          return \"Profiler\";\n        case REACT_STRICT_MODE_TYPE:\n          return \"StrictMode\";\n        case REACT_SUSPENSE_TYPE:\n          return \"Suspense\";\n        case REACT_SUSPENSE_LIST_TYPE:\n          return \"SuspenseList\";\n        case REACT_ACTIVITY_TYPE:\n          return \"Activity\";\n      }\n      if (\"object\" === typeof type)\n        switch (\n          (\"number\" === typeof type.tag &&\n            console.error(\n              \"Received an unexpected object in getComponentNameFromType(). This is likely a bug in React. Please file an issue.\"\n            ),\n          type.$$typeof)\n        ) {\n          case REACT_PORTAL_TYPE:\n            return \"Portal\";\n          case REACT_CONTEXT_TYPE:\n            return (type.displayName || \"Context\") + \".Provider\";\n          case REACT_CONSUMER_TYPE:\n            return (type._context.displayName || \"Context\") + \".Consumer\";\n          case REACT_FORWARD_REF_TYPE:\n            var innerType = type.render;\n            type = type.displayName;\n            type ||\n              ((type = innerType.displayName || innerType.name || \"\"),\n              (type = \"\" !== type ? \"ForwardRef(\" + type + \")\" : \"ForwardRef\"));\n            return type;\n          case REACT_MEMO_TYPE:\n            return (\n              (innerType = type.displayName || null),\n              null !== innerType\n                ? innerType\n                : getComponentNameFromType(type.type) || \"Memo\"\n            );\n          case REACT_LAZY_TYPE:\n            innerType = type._payload;\n            type = type._init;\n            try {\n              return getComponentNameFromType(type(innerType));\n            } catch (x) {}\n        }\n      return null;\n    }\n    function testStringCoercion(value) {\n      return \"\" + value;\n    }\n    function checkKeyStringCoercion(value) {\n      try {\n        testStringCoercion(value);\n        var JSCompiler_inline_result = !1;\n      } catch (e) {\n        JSCompiler_inline_result = !0;\n      }\n      if (JSCompiler_inline_result) {\n        JSCompiler_inline_result = console;\n        var JSCompiler_temp_const = JSCompiler_inline_result.error;\n        var JSCompiler_inline_result$jscomp$0 =\n          (\"function\" === typeof Symbol &&\n            Symbol.toStringTag &&\n            value[Symbol.toStringTag]) ||\n          value.constructor.name ||\n          \"Object\";\n        JSCompiler_temp_const.call(\n          JSCompiler_inline_result,\n          \"The provided key is an unsupported type %s. This value must be coerced to a string before using it here.\",\n          JSCompiler_inline_result$jscomp$0\n        );\n        return testStringCoercion(value);\n      }\n    }\n    function getTaskName(type) {\n      if (type === REACT_FRAGMENT_TYPE) return \"<>\";\n      if (\n        \"object\" === typeof type &&\n        null !== type &&\n        type.$$typeof === REACT_LAZY_TYPE\n      )\n        return \"<...>\";\n      try {\n        var name = getComponentNameFromType(type);\n        return name ? \"<\" + name + \">\" : \"<...>\";\n      } catch (x) {\n        return \"<...>\";\n      }\n    }\n    function getOwner() {\n      var dispatcher = ReactSharedInternals.A;\n      return null === dispatcher ? null : dispatcher.getOwner();\n    }\n    function UnknownOwner() {\n      return Error(\"react-stack-top-frame\");\n    }\n    function hasValidKey(config) {\n      if (hasOwnProperty.call(config, \"key\")) {\n        var getter = Object.getOwnPropertyDescriptor(config, \"key\").get;\n        if (getter && getter.isReactWarning) return !1;\n      }\n      return void 0 !== config.key;\n    }\n    function defineKeyPropWarningGetter(props, displayName) {\n      function warnAboutAccessingKey() {\n        specialPropKeyWarningShown ||\n          ((specialPropKeyWarningShown = !0),\n          console.error(\n            \"%s: `key` is not a prop. Trying to access it will result in `undefined` being returned. If you need to access the same value within the child component, you should pass it as a different prop. (https://react.dev/link/special-props)\",\n            displayName\n          ));\n      }\n      warnAboutAccessingKey.isReactWarning = !0;\n      Object.defineProperty(props, \"key\", {\n        get: warnAboutAccessingKey,\n        configurable: !0\n      });\n    }\n    function elementRefGetterWithDeprecationWarning() {\n      var componentName = getComponentNameFromType(this.type);\n      didWarnAboutElementRef[componentName] ||\n        ((didWarnAboutElementRef[componentName] = !0),\n        console.error(\n          \"Accessing element.ref was removed in React 19. ref is now a regular prop. It will be removed from the JSX Element type in a future release.\"\n        ));\n      componentName = this.props.ref;\n      return void 0 !== componentName ? componentName : null;\n    }\n    function ReactElement(\n      type,\n      key,\n      self,\n      source,\n      owner,\n      props,\n      debugStack,\n      debugTask\n    ) {\n      self = props.ref;\n      type = {\n        $$typeof: REACT_ELEMENT_TYPE,\n        type: type,\n        key: key,\n        props: props,\n        _owner: owner\n      };\n      null !== (void 0 !== self ? self : null)\n        ? Object.defineProperty(type, \"ref\", {\n            enumerable: !1,\n            get: elementRefGetterWithDeprecationWarning\n          })\n        : Object.defineProperty(type, \"ref\", { enumerable: !1, value: null });\n      type._store = {};\n      Object.defineProperty(type._store, \"validated\", {\n        configurable: !1,\n        enumerable: !1,\n        writable: !0,\n        value: 0\n      });\n      Object.defineProperty(type, \"_debugInfo\", {\n        configurable: !1,\n        enumerable: !1,\n        writable: !0,\n        value: null\n      });\n      Object.defineProperty(type, \"_debugStack\", {\n        configurable: !1,\n        enumerable: !1,\n        writable: !0,\n        value: debugStack\n      });\n      Object.defineProperty(type, \"_debugTask\", {\n        configurable: !1,\n        enumerable: !1,\n        writable: !0,\n        value: debugTask\n      });\n      Object.freeze && (Object.freeze(type.props), Object.freeze(type));\n      return type;\n    }\n    function jsxDEVImpl(\n      type,\n      config,\n      maybeKey,\n      isStaticChildren,\n      source,\n      self,\n      debugStack,\n      debugTask\n    ) {\n      var children = config.children;\n      if (void 0 !== children)\n        if (isStaticChildren)\n          if (isArrayImpl(children)) {\n            for (\n              isStaticChildren = 0;\n              isStaticChildren < children.length;\n              isStaticChildren++\n            )\n              validateChildKeys(children[isStaticChildren]);\n            Object.freeze && Object.freeze(children);\n          } else\n            console.error(\n              \"React.jsx: Static children should always be an array. You are likely explicitly calling React.jsxs or React.jsxDEV. Use the Babel transform instead.\"\n            );\n        else validateChildKeys(children);\n      if (hasOwnProperty.call(config, \"key\")) {\n        children = getComponentNameFromType(type);\n        var keys = Object.keys(config).filter(function (k) {\n          return \"key\" !== k;\n        });\n        isStaticChildren =\n          0 < keys.length\n            ? \"{key: someKey, \" + keys.join(\": ..., \") + \": ...}\"\n            : \"{key: someKey}\";\n        didWarnAboutKeySpread[children + isStaticChildren] ||\n          ((keys =\n            0 < keys.length ? \"{\" + keys.join(\": ..., \") + \": ...}\" : \"{}\"),\n          console.error(\n            'A props object containing a \"key\" prop is being spread into JSX:\\n  let props = %s;\\n  <%s {...props} />\\nReact keys must be passed directly to JSX without using spread:\\n  let props = %s;\\n  <%s key={someKey} {...props} />',\n            isStaticChildren,\n            children,\n            keys,\n            children\n          ),\n          (didWarnAboutKeySpread[children + isStaticChildren] = !0));\n      }\n      children = null;\n      void 0 !== maybeKey &&\n        (checkKeyStringCoercion(maybeKey), (children = \"\" + maybeKey));\n      hasValidKey(config) &&\n        (checkKeyStringCoercion(config.key), (children = \"\" + config.key));\n      if (\"key\" in config) {\n        maybeKey = {};\n        for (var propName in config)\n          \"key\" !== propName && (maybeKey[propName] = config[propName]);\n      } else maybeKey = config;\n      children &&\n        defineKeyPropWarningGetter(\n          maybeKey,\n          \"function\" === typeof type\n            ? type.displayName || type.name || \"Unknown\"\n            : type\n        );\n      return ReactElement(\n        type,\n        children,\n        self,\n        source,\n        getOwner(),\n        maybeKey,\n        debugStack,\n        debugTask\n      );\n    }\n    function validateChildKeys(node) {\n      \"object\" === typeof node &&\n        null !== node &&\n        node.$$typeof === REACT_ELEMENT_TYPE &&\n        node._store &&\n        (node._store.validated = 1);\n    }\n    var React = require(\"react\"),\n      REACT_ELEMENT_TYPE = Symbol.for(\"react.transitional.element\"),\n      REACT_PORTAL_TYPE = Symbol.for(\"react.portal\"),\n      REACT_FRAGMENT_TYPE = Symbol.for(\"react.fragment\"),\n      REACT_STRICT_MODE_TYPE = Symbol.for(\"react.strict_mode\"),\n      REACT_PROFILER_TYPE = Symbol.for(\"react.profiler\");\n    Symbol.for(\"react.provider\");\n    var REACT_CONSUMER_TYPE = Symbol.for(\"react.consumer\"),\n      REACT_CONTEXT_TYPE = Symbol.for(\"react.context\"),\n      REACT_FORWARD_REF_TYPE = Symbol.for(\"react.forward_ref\"),\n      REACT_SUSPENSE_TYPE = Symbol.for(\"react.suspense\"),\n      REACT_SUSPENSE_LIST_TYPE = Symbol.for(\"react.suspense_list\"),\n      REACT_MEMO_TYPE = Symbol.for(\"react.memo\"),\n      REACT_LAZY_TYPE = Symbol.for(\"react.lazy\"),\n      REACT_ACTIVITY_TYPE = Symbol.for(\"react.activity\"),\n      REACT_CLIENT_REFERENCE = Symbol.for(\"react.client.reference\"),\n      ReactSharedInternals =\n        React.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,\n      hasOwnProperty = Object.prototype.hasOwnProperty,\n      isArrayImpl = Array.isArray,\n      createTask = console.createTask\n        ? console.createTask\n        : function () {\n            return null;\n          };\n    React = {\n      \"react-stack-bottom-frame\": function (callStackForError) {\n        return callStackForError();\n      }\n    };\n    var specialPropKeyWarningShown;\n    var didWarnAboutElementRef = {};\n    var unknownOwnerDebugStack = React[\"react-stack-bottom-frame\"].bind(\n      React,\n      UnknownOwner\n    )();\n    var unknownOwnerDebugTask = createTask(getTaskName(UnknownOwner));\n    var didWarnAboutKeySpread = {};\n    exports.Fragment = REACT_FRAGMENT_TYPE;\n    exports.jsx = function (type, config, maybeKey, source, self) {\n      var trackActualOwner =\n        1e4 > ReactSharedInternals.recentlyCreatedOwnerStacks++;\n      return jsxDEVImpl(\n        type,\n        config,\n        maybeKey,\n        !1,\n        source,\n        self,\n        trackActualOwner\n          ? Error(\"react-stack-top-frame\")\n          : unknownOwnerDebugStack,\n        trackActualOwner ? createTask(getTaskName(type)) : unknownOwnerDebugTask\n      );\n    };\n    exports.jsxs = function (type, config, maybeKey, source, self) {\n      var trackActualOwner =\n        1e4 > ReactSharedInternals.recentlyCreatedOwnerStacks++;\n      return jsxDEVImpl(\n        type,\n        config,\n        maybeKey,\n        !0,\n        source,\n        self,\n        trackActualOwner\n          ? Error(\"react-stack-top-frame\")\n          : unknownOwnerDebugStack,\n        trackActualOwner ? createTask(getTaskName(type)) : unknownOwnerDebugTask\n      );\n    };\n  })();\n","'use strict';\n\nif (process.env.NODE_ENV === 'production') {\n  module.exports = require('./cjs/react-jsx-runtime.production.js');\n} else {\n  module.exports = require('./cjs/react-jsx-runtime.development.js');\n}\n","/*!\n\tCopyright (c) 2018 Jed Watson.\n\tLicensed under the MIT License (MIT), see\n\thttp://jedwatson.github.io/classnames\n*/\n/* global define */\n\n(function () {\n\t'use strict';\n\n\tvar hasOwn = {}.hasOwnProperty;\n\n\tfunction classNames () {\n\t\tvar classes = '';\n\n\t\tfor (var i = 0; i < arguments.length; i++) {\n\t\t\tvar arg = arguments[i];\n\t\t\tif (arg) {\n\t\t\t\tclasses = appendClass(classes, parseValue(arg));\n\t\t\t}\n\t\t}\n\n\t\treturn classes;\n\t}\n\n\tfunction parseValue (arg) {\n\t\tif (typeof arg === 'string' || typeof arg === 'number') {\n\t\t\treturn arg;\n\t\t}\n\n\t\tif (typeof arg !== 'object') {\n\t\t\treturn '';\n\t\t}\n\n\t\tif (Array.isArray(arg)) {\n\t\t\treturn classNames.apply(null, arg);\n\t\t}\n\n\t\tif (arg.toString !== Object.prototype.toString && !arg.toString.toString().includes('[native code]')) {\n\t\t\treturn arg.toString();\n\t\t}\n\n\t\tvar classes = '';\n\n\t\tfor (var key in arg) {\n\t\t\tif (hasOwn.call(arg, key) && arg[key]) {\n\t\t\t\tclasses = appendClass(classes, key);\n\t\t\t}\n\t\t}\n\n\t\treturn classes;\n\t}\n\n\tfunction appendClass (value, newClass) {\n\t\tif (!newClass) {\n\t\t\treturn value;\n\t\t}\n\t\n\t\tif (value) {\n\t\t\treturn value + ' ' + newClass;\n\t\t}\n\t\n\t\treturn value + newClass;\n\t}\n\n\tif (typeof module !== 'undefined' && module.exports) {\n\t\tclassNames.default = classNames;\n\t\tmodule.exports = classNames;\n\t} else if (typeof define === 'function' && typeof define.amd === 'object' && define.amd) {\n\t\t// register as 'classnames', consistent with npm package name\n\t\tdefine('classnames', [], function () {\n\t\t\treturn classNames;\n\t\t});\n\t} else {\n\t\twindow.classNames = classNames;\n\t}\n}());\n","import React from 'react';\nimport classNames from 'classnames';\nimport './ActionLink.scss';\nimport { ActionLinkProps } from './ActionLink.types';\n\nexport const ActionLink: React.FC<ActionLinkProps> = ({\n  text,\n  href,\n  openInNewWindow = false,\n  className,\n  ...props\n}) => {\n  const linkClasses = classNames(\n    'nhsuk-action-link__link',\n    className\n  );\n\n  return (\n    <div className=\"nhsuk-action-link\">\n      <a\n        className={linkClasses}\n        href={href}\n        target={openInNewWindow ? '_blank' : undefined}\n        rel={openInNewWindow ? 'noopener noreferrer' : undefined}\n        {...props}\n      >\n        <svg \n          className=\"nhsuk-icon nhsuk-icon__arrow-right-circle\" \n          xmlns=\"http://www.w3.org/2000/svg\" \n          viewBox=\"0 0 24 24\" \n          aria-hidden=\"true\" \n          width=\"36\" \n          height=\"36\"\n        >\n          <path d=\"M0 0h24v24H0z\" fill=\"none\"></path>\n          <path d=\"M12 2a10 10 0 0 0-9.95 9h11.64L9.74 7.05a1 1 0 0 1 1.41-1.41l5.66 5.65a1 1 0 0 1 0 1.42l-5.66 5.65a1 1 0 0 1-1.41 0 1 1 0 0 1 0-1.41L13.69 13H2.05A10 10 0 1 0 12 2z\"></path>\n        </svg>\n        <span className=\"nhsuk-action-link__text\">{text}</span>\n      </a>\n    </div>\n  );\n};\n","import $HgANd$react from \"react\";\n\n/*\n * Copyright 2020 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */ \nconst $f0a04ccd8dbdd83b$export$e5c5a5f917a5871c = typeof document !== 'undefined' ? (0, $HgANd$react).useLayoutEffect : ()=>{};\n\n\nexport {$f0a04ccd8dbdd83b$export$e5c5a5f917a5871c as useLayoutEffect};\n//# sourceMappingURL=useLayoutEffect.module.js.map\n","import {useLayoutEffect as $f0a04ccd8dbdd83b$export$e5c5a5f917a5871c} from \"./useLayoutEffect.mjs\";\nimport $lmaYr$react, {useRef as $lmaYr$useRef, useCallback as $lmaYr$useCallback} from \"react\";\n\n/*\n * Copyright 2023 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */ \n\nvar $8ae05eaa5c114e9c$var$_React_useInsertionEffect;\n// Use the earliest effect type possible. useInsertionEffect runs during the mutation phase,\n// before all layout effects, but is available only in React 18 and later.\nconst $8ae05eaa5c114e9c$var$useEarlyEffect = ($8ae05eaa5c114e9c$var$_React_useInsertionEffect = (0, $lmaYr$react)['useInsertionEffect']) !== null && $8ae05eaa5c114e9c$var$_React_useInsertionEffect !== void 0 ? $8ae05eaa5c114e9c$var$_React_useInsertionEffect : (0, $f0a04ccd8dbdd83b$export$e5c5a5f917a5871c);\nfunction $8ae05eaa5c114e9c$export$7f54fc3180508a52(fn) {\n    const ref = (0, $lmaYr$useRef)(null);\n    $8ae05eaa5c114e9c$var$useEarlyEffect(()=>{\n        ref.current = fn;\n    }, [\n        fn\n    ]);\n    // @ts-ignore\n    return (0, $lmaYr$useCallback)((...args)=>{\n        const f = ref.current;\n        return f === null || f === void 0 ? void 0 : f(...args);\n    }, []);\n}\n\n\nexport {$8ae05eaa5c114e9c$export$7f54fc3180508a52 as useEffectEvent};\n//# sourceMappingURL=useEffectEvent.module.js.map\n","import $670gB$react, {useContext as $670gB$useContext, useState as $670gB$useState, useMemo as $670gB$useMemo, useLayoutEffect as $670gB$useLayoutEffect, useRef as $670gB$useRef} from \"react\";\n\n/*\n * Copyright 2020 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */ // We must avoid a circular dependency with @react-aria/utils, and this useLayoutEffect is\n// guarded by a check that it only runs on the client side.\n// eslint-disable-next-line rulesdir/useLayoutEffectRule\n\n// Default context value to use in case there is no SSRProvider. This is fine for\n// client-only apps. In order to support multiple copies of React Aria potentially\n// being on the page at once, the prefix is set to a random number. SSRProvider\n// will reset this to zero for consistency between server and client, so in the\n// SSR case multiple copies of React Aria is not supported.\nconst $b5e257d569688ac6$var$defaultContext = {\n    prefix: String(Math.round(Math.random() * 10000000000)),\n    current: 0\n};\nconst $b5e257d569688ac6$var$SSRContext = /*#__PURE__*/ (0, $670gB$react).createContext($b5e257d569688ac6$var$defaultContext);\nconst $b5e257d569688ac6$var$IsSSRContext = /*#__PURE__*/ (0, $670gB$react).createContext(false);\n// This is only used in React < 18.\nfunction $b5e257d569688ac6$var$LegacySSRProvider(props) {\n    let cur = (0, $670gB$useContext)($b5e257d569688ac6$var$SSRContext);\n    let counter = $b5e257d569688ac6$var$useCounter(cur === $b5e257d569688ac6$var$defaultContext);\n    let [isSSR, setIsSSR] = (0, $670gB$useState)(true);\n    let value = (0, $670gB$useMemo)(()=>({\n            // If this is the first SSRProvider, start with an empty string prefix, otherwise\n            // append and increment the counter.\n            prefix: cur === $b5e257d569688ac6$var$defaultContext ? '' : `${cur.prefix}-${counter}`,\n            current: 0\n        }), [\n        cur,\n        counter\n    ]);\n    // If on the client, and the component was initially server rendered,\n    // then schedule a layout effect to update the component after hydration.\n    if (typeof document !== 'undefined') // This if statement technically breaks the rules of hooks, but is safe\n    // because the condition never changes after mounting.\n    // eslint-disable-next-line react-hooks/rules-of-hooks\n    (0, $670gB$useLayoutEffect)(()=>{\n        setIsSSR(false);\n    }, []);\n    return /*#__PURE__*/ (0, $670gB$react).createElement($b5e257d569688ac6$var$SSRContext.Provider, {\n        value: value\n    }, /*#__PURE__*/ (0, $670gB$react).createElement($b5e257d569688ac6$var$IsSSRContext.Provider, {\n        value: isSSR\n    }, props.children));\n}\nlet $b5e257d569688ac6$var$warnedAboutSSRProvider = false;\nfunction $b5e257d569688ac6$export$9f8ac96af4b1b2ae(props) {\n    if (typeof (0, $670gB$react)['useId'] === 'function') {\n        if (process.env.NODE_ENV !== 'test' && process.env.NODE_ENV !== 'production' && !$b5e257d569688ac6$var$warnedAboutSSRProvider) {\n            console.warn('In React 18, SSRProvider is not necessary and is a noop. You can remove it from your app.');\n            $b5e257d569688ac6$var$warnedAboutSSRProvider = true;\n        }\n        return /*#__PURE__*/ (0, $670gB$react).createElement((0, $670gB$react).Fragment, null, props.children);\n    }\n    return /*#__PURE__*/ (0, $670gB$react).createElement($b5e257d569688ac6$var$LegacySSRProvider, props);\n}\nlet $b5e257d569688ac6$var$canUseDOM = Boolean(typeof window !== 'undefined' && window.document && window.document.createElement);\nlet $b5e257d569688ac6$var$componentIds = new WeakMap();\nfunction $b5e257d569688ac6$var$useCounter(isDisabled = false) {\n    let ctx = (0, $670gB$useContext)($b5e257d569688ac6$var$SSRContext);\n    let ref = (0, $670gB$useRef)(null);\n    // eslint-disable-next-line rulesdir/pure-render\n    if (ref.current === null && !isDisabled) {\n        var _React___SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED_ReactCurrentOwner, _React___SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;\n        // In strict mode, React renders components twice, and the ref will be reset to null on the second render.\n        // This means our id counter will be incremented twice instead of once. This is a problem because on the\n        // server, components are only rendered once and so ids generated on the server won't match the client.\n        // In React 18, useId was introduced to solve this, but it is not available in older versions. So to solve this\n        // we need to use some React internals to access the underlying Fiber instance, which is stable between renders.\n        // This is exposed as ReactCurrentOwner in development, which is all we need since StrictMode only runs in development.\n        // To ensure that we only increment the global counter once, we store the starting id for this component in\n        // a weak map associated with the Fiber. On the second render, we reset the global counter to this value.\n        // Since React runs the second render immediately after the first, this is safe.\n        // @ts-ignore\n        let currentOwner = (_React___SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED = (0, $670gB$react).__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED) === null || _React___SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED === void 0 ? void 0 : (_React___SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED_ReactCurrentOwner = _React___SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner) === null || _React___SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED_ReactCurrentOwner === void 0 ? void 0 : _React___SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED_ReactCurrentOwner.current;\n        if (currentOwner) {\n            let prevComponentValue = $b5e257d569688ac6$var$componentIds.get(currentOwner);\n            if (prevComponentValue == null) // On the first render, and first call to useId, store the id and state in our weak map.\n            $b5e257d569688ac6$var$componentIds.set(currentOwner, {\n                id: ctx.current,\n                state: currentOwner.memoizedState\n            });\n            else if (currentOwner.memoizedState !== prevComponentValue.state) {\n                // On the second render, the memoizedState gets reset by React.\n                // Reset the counter, and remove from the weak map so we don't\n                // do this for subsequent useId calls.\n                ctx.current = prevComponentValue.id;\n                $b5e257d569688ac6$var$componentIds.delete(currentOwner);\n            }\n        }\n        // eslint-disable-next-line rulesdir/pure-render\n        ref.current = ++ctx.current;\n    }\n    // eslint-disable-next-line rulesdir/pure-render\n    return ref.current;\n}\nfunction $b5e257d569688ac6$var$useLegacySSRSafeId(defaultId) {\n    let ctx = (0, $670gB$useContext)($b5e257d569688ac6$var$SSRContext);\n    // If we are rendering in a non-DOM environment, and there's no SSRProvider,\n    // provide a warning to hint to the developer to add one.\n    if (ctx === $b5e257d569688ac6$var$defaultContext && !$b5e257d569688ac6$var$canUseDOM && process.env.NODE_ENV !== 'production') console.warn('When server rendering, you must wrap your application in an <SSRProvider> to ensure consistent ids are generated between the client and server.');\n    let counter = $b5e257d569688ac6$var$useCounter(!!defaultId);\n    let prefix = ctx === $b5e257d569688ac6$var$defaultContext && process.env.NODE_ENV === 'test' ? 'react-aria' : `react-aria${ctx.prefix}`;\n    return defaultId || `${prefix}-${counter}`;\n}\nfunction $b5e257d569688ac6$var$useModernSSRSafeId(defaultId) {\n    let id = (0, $670gB$react).useId();\n    let [didSSR] = (0, $670gB$useState)($b5e257d569688ac6$export$535bd6ca7f90a273());\n    let prefix = didSSR || process.env.NODE_ENV === 'test' ? 'react-aria' : `react-aria${$b5e257d569688ac6$var$defaultContext.prefix}`;\n    return defaultId || `${prefix}-${id}`;\n}\nconst $b5e257d569688ac6$export$619500959fc48b26 = typeof (0, $670gB$react)['useId'] === 'function' ? $b5e257d569688ac6$var$useModernSSRSafeId : $b5e257d569688ac6$var$useLegacySSRSafeId;\nfunction $b5e257d569688ac6$var$getSnapshot() {\n    return false;\n}\nfunction $b5e257d569688ac6$var$getServerSnapshot() {\n    return true;\n}\n// eslint-disable-next-line @typescript-eslint/no-unused-vars\nfunction $b5e257d569688ac6$var$subscribe(onStoreChange) {\n    // noop\n    return ()=>{};\n}\nfunction $b5e257d569688ac6$export$535bd6ca7f90a273() {\n    // In React 18, we can use useSyncExternalStore to detect if we're server rendering or hydrating.\n    if (typeof (0, $670gB$react)['useSyncExternalStore'] === 'function') return (0, $670gB$react)['useSyncExternalStore']($b5e257d569688ac6$var$subscribe, $b5e257d569688ac6$var$getSnapshot, $b5e257d569688ac6$var$getServerSnapshot);\n    // eslint-disable-next-line react-hooks/rules-of-hooks\n    return (0, $670gB$useContext)($b5e257d569688ac6$var$IsSSRContext);\n}\n\n\nexport {$b5e257d569688ac6$export$9f8ac96af4b1b2ae as SSRProvider, $b5e257d569688ac6$export$535bd6ca7f90a273 as useIsSSR, $b5e257d569688ac6$export$619500959fc48b26 as useSSRSafeId};\n//# sourceMappingURL=SSRProvider.module.js.map\n","import {useLayoutEffect as $f0a04ccd8dbdd83b$export$e5c5a5f917a5871c} from \"./useLayoutEffect.mjs\";\nimport {useValueEffect as $1dbecbe27a04f9af$export$14d238f342723f25} from \"./useValueEffect.mjs\";\nimport {useState as $eKkEp$useState, useRef as $eKkEp$useRef, useEffect as $eKkEp$useEffect, useCallback as $eKkEp$useCallback} from \"react\";\nimport {useSSRSafeId as $eKkEp$useSSRSafeId} from \"@react-aria/ssr\";\n\n/*\n * Copyright 2020 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */ \n\n\n\n// copied from SSRProvider.tsx to reduce exports, if needed again, consider sharing\nlet $bdb11010cef70236$var$canUseDOM = Boolean(typeof window !== 'undefined' && window.document && window.document.createElement);\nlet $bdb11010cef70236$export$d41a04c74483c6ef = new Map();\n// This allows us to clean up the idsUpdaterMap when the id is no longer used.\n// Map is a strong reference, so unused ids wouldn't be cleaned up otherwise.\n// This can happen in suspended components where mount/unmount is not called.\nlet $bdb11010cef70236$var$registry;\nif (typeof FinalizationRegistry !== 'undefined') $bdb11010cef70236$var$registry = new FinalizationRegistry((heldValue)=>{\n    $bdb11010cef70236$export$d41a04c74483c6ef.delete(heldValue);\n});\nfunction $bdb11010cef70236$export$f680877a34711e37(defaultId) {\n    let [value, setValue] = (0, $eKkEp$useState)(defaultId);\n    let nextId = (0, $eKkEp$useRef)(null);\n    let res = (0, $eKkEp$useSSRSafeId)(value);\n    let cleanupRef = (0, $eKkEp$useRef)(null);\n    if ($bdb11010cef70236$var$registry) $bdb11010cef70236$var$registry.register(cleanupRef, res);\n    if ($bdb11010cef70236$var$canUseDOM) {\n        const cacheIdRef = $bdb11010cef70236$export$d41a04c74483c6ef.get(res);\n        if (cacheIdRef && !cacheIdRef.includes(nextId)) cacheIdRef.push(nextId);\n        else $bdb11010cef70236$export$d41a04c74483c6ef.set(res, [\n            nextId\n        ]);\n    }\n    (0, $f0a04ccd8dbdd83b$export$e5c5a5f917a5871c)(()=>{\n        let r = res;\n        return ()=>{\n            // In Suspense, the cleanup function may be not called\n            // when it is though, also remove it from the finalization registry.\n            if ($bdb11010cef70236$var$registry) $bdb11010cef70236$var$registry.unregister(cleanupRef);\n            $bdb11010cef70236$export$d41a04c74483c6ef.delete(r);\n        };\n    }, [\n        res\n    ]);\n    // This cannot cause an infinite loop because the ref is always cleaned up.\n    // eslint-disable-next-line\n    (0, $eKkEp$useEffect)(()=>{\n        let newId = nextId.current;\n        if (newId) setValue(newId);\n        return ()=>{\n            if (newId) nextId.current = null;\n        };\n    });\n    return res;\n}\nfunction $bdb11010cef70236$export$cd8c9cb68f842629(idA, idB) {\n    if (idA === idB) return idA;\n    let setIdsA = $bdb11010cef70236$export$d41a04c74483c6ef.get(idA);\n    if (setIdsA) {\n        setIdsA.forEach((ref)=>ref.current = idB);\n        return idB;\n    }\n    let setIdsB = $bdb11010cef70236$export$d41a04c74483c6ef.get(idB);\n    if (setIdsB) {\n        setIdsB.forEach((ref)=>ref.current = idA);\n        return idA;\n    }\n    return idB;\n}\nfunction $bdb11010cef70236$export$b4cc09c592e8fdb8(depArray = []) {\n    let id = $bdb11010cef70236$export$f680877a34711e37();\n    let [resolvedId, setResolvedId] = (0, $1dbecbe27a04f9af$export$14d238f342723f25)(id);\n    let updateId = (0, $eKkEp$useCallback)(()=>{\n        setResolvedId(function*() {\n            yield id;\n            yield document.getElementById(id) ? id : undefined;\n        });\n    }, [\n        id,\n        setResolvedId\n    ]);\n    (0, $f0a04ccd8dbdd83b$export$e5c5a5f917a5871c)(updateId, [\n        id,\n        updateId,\n        ...depArray\n    ]);\n    return resolvedId;\n}\n\n\nexport {$bdb11010cef70236$export$d41a04c74483c6ef as idsUpdaterMap, $bdb11010cef70236$export$f680877a34711e37 as useId, $bdb11010cef70236$export$cd8c9cb68f842629 as mergeIds, $bdb11010cef70236$export$b4cc09c592e8fdb8 as useSlotId};\n//# sourceMappingURL=useId.module.js.map\n","/*\n * Copyright 2020 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */ /**\n * Calls all functions in the order they were chained with the same arguments.\n */ function $ff5963eb1fccf552$export$e08e3b67e392101e(...callbacks) {\n    return (...args)=>{\n        for (let callback of callbacks)if (typeof callback === 'function') callback(...args);\n    };\n}\n\n\nexport {$ff5963eb1fccf552$export$e08e3b67e392101e as chain};\n//# sourceMappingURL=chain.module.js.map\n","const $431fbd86ca7dc216$export$b204af158042fbac = (el)=>{\n    var _el_ownerDocument;\n    return (_el_ownerDocument = el === null || el === void 0 ? void 0 : el.ownerDocument) !== null && _el_ownerDocument !== void 0 ? _el_ownerDocument : document;\n};\nconst $431fbd86ca7dc216$export$f21a1ffae260145a = (el)=>{\n    if (el && 'window' in el && el.window === el) return el;\n    const doc = $431fbd86ca7dc216$export$b204af158042fbac(el);\n    return doc.defaultView || window;\n};\n/**\n * Type guard that checks if a value is a Node. Verifies the presence and type of the nodeType property.\n */ function $431fbd86ca7dc216$var$isNode(value) {\n    return value !== null && typeof value === 'object' && 'nodeType' in value && typeof value.nodeType === 'number';\n}\nfunction $431fbd86ca7dc216$export$af51f0f06c0f328a(node) {\n    return $431fbd86ca7dc216$var$isNode(node) && node.nodeType === Node.DOCUMENT_FRAGMENT_NODE && 'host' in node;\n}\n\n\nexport {$431fbd86ca7dc216$export$b204af158042fbac as getOwnerDocument, $431fbd86ca7dc216$export$f21a1ffae260145a as getOwnerWindow, $431fbd86ca7dc216$export$af51f0f06c0f328a as isShadowRoot};\n//# sourceMappingURL=domHelpers.module.js.map\n","/*\n * Copyright 2023 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */ let $f4e2df6bd15f8569$var$_tableNestedRows = false;\nlet $f4e2df6bd15f8569$var$_shadowDOM = false;\nfunction $f4e2df6bd15f8569$export$d9d8a0f82de49530() {\n    $f4e2df6bd15f8569$var$_tableNestedRows = true;\n}\nfunction $f4e2df6bd15f8569$export$1b00cb14a96194e6() {\n    return $f4e2df6bd15f8569$var$_tableNestedRows;\n}\nfunction $f4e2df6bd15f8569$export$12b151d9882e9985() {\n    $f4e2df6bd15f8569$var$_shadowDOM = true;\n}\nfunction $f4e2df6bd15f8569$export$98658e8c59125e6a() {\n    return $f4e2df6bd15f8569$var$_shadowDOM;\n}\n\n\nexport {$f4e2df6bd15f8569$export$d9d8a0f82de49530 as enableTableNestedRows, $f4e2df6bd15f8569$export$1b00cb14a96194e6 as tableNestedRows, $f4e2df6bd15f8569$export$12b151d9882e9985 as enableShadowDOM, $f4e2df6bd15f8569$export$98658e8c59125e6a as shadowDOM};\n//# sourceMappingURL=module.js.map\n","import {isShadowRoot as $431fbd86ca7dc216$export$af51f0f06c0f328a} from \"./domHelpers.mjs\";\nimport {shadowDOM as $lcSu5$shadowDOM} from \"@react-stately/flags\";\n\n// Source: https://github.com/microsoft/tabster/blob/a89fc5d7e332d48f68d03b1ca6e344489d1c3898/src/Shadowdomize/DOMFunctions.ts#L16\n\n\nfunction $d4ee10de306f2510$export$4282f70798064fe0(node, otherNode) {\n    if (!(0, $lcSu5$shadowDOM)()) return otherNode && node ? node.contains(otherNode) : false;\n    if (!node || !otherNode) return false;\n    let currentNode = otherNode;\n    while(currentNode !== null){\n        if (currentNode === node) return true;\n        if (currentNode.tagName === 'SLOT' && currentNode.assignedSlot) // Element is slotted\n        currentNode = currentNode.assignedSlot.parentNode;\n        else if ((0, $431fbd86ca7dc216$export$af51f0f06c0f328a)(currentNode)) // Element is in shadow root\n        currentNode = currentNode.host;\n        else currentNode = currentNode.parentNode;\n    }\n    return false;\n}\nconst $d4ee10de306f2510$export$cd4e5573fbe2b576 = (doc = document)=>{\n    var _activeElement_shadowRoot;\n    if (!(0, $lcSu5$shadowDOM)()) return doc.activeElement;\n    let activeElement = doc.activeElement;\n    while(activeElement && 'shadowRoot' in activeElement && ((_activeElement_shadowRoot = activeElement.shadowRoot) === null || _activeElement_shadowRoot === void 0 ? void 0 : _activeElement_shadowRoot.activeElement))activeElement = activeElement.shadowRoot.activeElement;\n    return activeElement;\n};\nfunction $d4ee10de306f2510$export$e58f029f0fbfdb29(event) {\n    if ((0, $lcSu5$shadowDOM)() && event.target.shadowRoot) {\n        if (event.composedPath) return event.composedPath()[0];\n    }\n    return event.target;\n}\n\n\nexport {$d4ee10de306f2510$export$4282f70798064fe0 as nodeContains, $d4ee10de306f2510$export$cd4e5573fbe2b576 as getActiveElement, $d4ee10de306f2510$export$e58f029f0fbfdb29 as getEventTarget};\n//# sourceMappingURL=DOMFunctions.module.js.map\n","function r(e){var t,f,n=\"\";if(\"string\"==typeof e||\"number\"==typeof e)n+=e;else if(\"object\"==typeof e)if(Array.isArray(e)){var o=e.length;for(t=0;t<o;t++)e[t]&&(f=r(e[t]))&&(n&&(n+=\" \"),n+=f)}else for(f in e)e[f]&&(n&&(n+=\" \"),n+=f);return n}export function clsx(){for(var e,t,f=0,n=\"\",o=arguments.length;f<o;f++)(e=arguments[f])&&(t=r(e))&&(n&&(n+=\" \"),n+=t);return n}export default clsx;","import {chain as $ff5963eb1fccf552$export$e08e3b67e392101e} from \"./chain.mjs\";\nimport {mergeIds as $bdb11010cef70236$export$cd8c9cb68f842629} from \"./useId.mjs\";\nimport $7jXr9$clsx from \"clsx\";\n\n/*\n * Copyright 2020 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */ \n\n\nfunction $3ef42575df84b30b$export$9d1611c77c2fe928(...args) {\n    // Start with a base clone of the first argument. This is a lot faster than starting\n    // with an empty object and adding properties as we go.\n    let result = {\n        ...args[0]\n    };\n    for(let i = 1; i < args.length; i++){\n        let props = args[i];\n        for(let key in props){\n            let a = result[key];\n            let b = props[key];\n            // Chain events\n            if (typeof a === 'function' && typeof b === 'function' && // This is a lot faster than a regex.\n            key[0] === 'o' && key[1] === 'n' && key.charCodeAt(2) >= /* 'A' */ 65 && key.charCodeAt(2) <= /* 'Z' */ 90) result[key] = (0, $ff5963eb1fccf552$export$e08e3b67e392101e)(a, b);\n            else if ((key === 'className' || key === 'UNSAFE_className') && typeof a === 'string' && typeof b === 'string') result[key] = (0, $7jXr9$clsx)(a, b);\n            else if (key === 'id' && a && b) result.id = (0, $bdb11010cef70236$export$cd8c9cb68f842629)(a, b);\n            else result[key] = b !== undefined ? b : a;\n        }\n    }\n    return result;\n}\n\n\nexport {$3ef42575df84b30b$export$9d1611c77c2fe928 as mergeProps};\n//# sourceMappingURL=mergeProps.module.js.map\n","/*\n * Copyright 2020 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */ function $5dc95899b306f630$export$c9058316764c140e(...refs) {\n    if (refs.length === 1 && refs[0]) return refs[0];\n    return (value)=>{\n        let hasCleanup = false;\n        const cleanups = refs.map((ref)=>{\n            const cleanup = $5dc95899b306f630$var$setRef(ref, value);\n            hasCleanup || (hasCleanup = typeof cleanup == 'function');\n            return cleanup;\n        });\n        if (hasCleanup) return ()=>{\n            cleanups.forEach((cleanup, i)=>{\n                if (typeof cleanup === 'function') cleanup();\n                else $5dc95899b306f630$var$setRef(refs[i], null);\n            });\n        };\n    };\n}\nfunction $5dc95899b306f630$var$setRef(ref, value) {\n    if (typeof ref === 'function') return ref(value);\n    else if (ref != null) ref.current = value;\n}\n\n\nexport {$5dc95899b306f630$export$c9058316764c140e as mergeRefs};\n//# sourceMappingURL=mergeRefs.module.js.map\n","/*\n * Copyright 2020 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */ const $65484d02dcb7eb3e$var$DOMPropNames = new Set([\n    'id'\n]);\nconst $65484d02dcb7eb3e$var$labelablePropNames = new Set([\n    'aria-label',\n    'aria-labelledby',\n    'aria-describedby',\n    'aria-details'\n]);\n// See LinkDOMProps in dom.d.ts.\nconst $65484d02dcb7eb3e$var$linkPropNames = new Set([\n    'href',\n    'hrefLang',\n    'target',\n    'rel',\n    'download',\n    'ping',\n    'referrerPolicy'\n]);\nconst $65484d02dcb7eb3e$var$globalAttrs = new Set([\n    'dir',\n    'lang',\n    'hidden',\n    'inert',\n    'translate'\n]);\nconst $65484d02dcb7eb3e$var$globalEvents = new Set([\n    'onClick',\n    'onAuxClick',\n    'onContextMenu',\n    'onDoubleClick',\n    'onMouseDown',\n    'onMouseEnter',\n    'onMouseLeave',\n    'onMouseMove',\n    'onMouseOut',\n    'onMouseOver',\n    'onMouseUp',\n    'onTouchCancel',\n    'onTouchEnd',\n    'onTouchMove',\n    'onTouchStart',\n    'onPointerDown',\n    'onPointerMove',\n    'onPointerUp',\n    'onPointerCancel',\n    'onPointerEnter',\n    'onPointerLeave',\n    'onPointerOver',\n    'onPointerOut',\n    'onGotPointerCapture',\n    'onLostPointerCapture',\n    'onScroll',\n    'onWheel',\n    'onAnimationStart',\n    'onAnimationEnd',\n    'onAnimationIteration',\n    'onTransitionCancel',\n    'onTransitionEnd',\n    'onTransitionRun',\n    'onTransitionStart'\n]);\nconst $65484d02dcb7eb3e$var$propRe = /^(data-.*)$/;\nfunction $65484d02dcb7eb3e$export$457c3d6518dd4c6f(props, opts = {}) {\n    let { labelable: labelable, isLink: isLink, global: global, events: events = global, propNames: propNames } = opts;\n    let filteredProps = {};\n    for(const prop in props)if (Object.prototype.hasOwnProperty.call(props, prop) && ($65484d02dcb7eb3e$var$DOMPropNames.has(prop) || labelable && $65484d02dcb7eb3e$var$labelablePropNames.has(prop) || isLink && $65484d02dcb7eb3e$var$linkPropNames.has(prop) || global && $65484d02dcb7eb3e$var$globalAttrs.has(prop) || events && $65484d02dcb7eb3e$var$globalEvents.has(prop) || prop.endsWith('Capture') && $65484d02dcb7eb3e$var$globalEvents.has(prop.slice(0, -7)) || (propNames === null || propNames === void 0 ? void 0 : propNames.has(prop)) || $65484d02dcb7eb3e$var$propRe.test(prop))) filteredProps[prop] = props[prop];\n    return filteredProps;\n}\n\n\nexport {$65484d02dcb7eb3e$export$457c3d6518dd4c6f as filterDOMProps};\n//# sourceMappingURL=filterDOMProps.module.js.map\n","/*\n * Copyright 2020 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */ function $7215afc6de606d6b$export$de79e2c695e052f3(element) {\n    if ($7215afc6de606d6b$var$supportsPreventScroll()) element.focus({\n        preventScroll: true\n    });\n    else {\n        let scrollableElements = $7215afc6de606d6b$var$getScrollableElements(element);\n        element.focus();\n        $7215afc6de606d6b$var$restoreScrollPosition(scrollableElements);\n    }\n}\nlet $7215afc6de606d6b$var$supportsPreventScrollCached = null;\nfunction $7215afc6de606d6b$var$supportsPreventScroll() {\n    if ($7215afc6de606d6b$var$supportsPreventScrollCached == null) {\n        $7215afc6de606d6b$var$supportsPreventScrollCached = false;\n        try {\n            let focusElem = document.createElement('div');\n            focusElem.focus({\n                get preventScroll () {\n                    $7215afc6de606d6b$var$supportsPreventScrollCached = true;\n                    return true;\n                }\n            });\n        } catch  {\n        // Ignore\n        }\n    }\n    return $7215afc6de606d6b$var$supportsPreventScrollCached;\n}\nfunction $7215afc6de606d6b$var$getScrollableElements(element) {\n    let parent = element.parentNode;\n    let scrollableElements = [];\n    let rootScrollingElement = document.scrollingElement || document.documentElement;\n    while(parent instanceof HTMLElement && parent !== rootScrollingElement){\n        if (parent.offsetHeight < parent.scrollHeight || parent.offsetWidth < parent.scrollWidth) scrollableElements.push({\n            element: parent,\n            scrollTop: parent.scrollTop,\n            scrollLeft: parent.scrollLeft\n        });\n        parent = parent.parentNode;\n    }\n    if (rootScrollingElement instanceof HTMLElement) scrollableElements.push({\n        element: rootScrollingElement,\n        scrollTop: rootScrollingElement.scrollTop,\n        scrollLeft: rootScrollingElement.scrollLeft\n    });\n    return scrollableElements;\n}\nfunction $7215afc6de606d6b$var$restoreScrollPosition(scrollableElements) {\n    for (let { element: element, scrollTop: scrollTop, scrollLeft: scrollLeft } of scrollableElements){\n        element.scrollTop = scrollTop;\n        element.scrollLeft = scrollLeft;\n    }\n}\n\n\nexport {$7215afc6de606d6b$export$de79e2c695e052f3 as focusWithoutScrolling};\n//# sourceMappingURL=focusWithoutScrolling.module.js.map\n","/*\n * Copyright 2020 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */ function $c87311424ea30a05$var$testUserAgent(re) {\n    var _window_navigator_userAgentData;\n    if (typeof window === 'undefined' || window.navigator == null) return false;\n    let brands = (_window_navigator_userAgentData = window.navigator['userAgentData']) === null || _window_navigator_userAgentData === void 0 ? void 0 : _window_navigator_userAgentData.brands;\n    return Array.isArray(brands) && brands.some((brand)=>re.test(brand.brand)) || re.test(window.navigator.userAgent);\n}\nfunction $c87311424ea30a05$var$testPlatform(re) {\n    var _window_navigator_userAgentData;\n    return typeof window !== 'undefined' && window.navigator != null ? re.test(((_window_navigator_userAgentData = window.navigator['userAgentData']) === null || _window_navigator_userAgentData === void 0 ? void 0 : _window_navigator_userAgentData.platform) || window.navigator.platform) : false;\n}\nfunction $c87311424ea30a05$var$cached(fn) {\n    if (process.env.NODE_ENV === 'test') return fn;\n    let res = null;\n    return ()=>{\n        if (res == null) res = fn();\n        return res;\n    };\n}\nconst $c87311424ea30a05$export$9ac100e40613ea10 = $c87311424ea30a05$var$cached(function() {\n    return $c87311424ea30a05$var$testPlatform(/^Mac/i);\n});\nconst $c87311424ea30a05$export$186c6964ca17d99 = $c87311424ea30a05$var$cached(function() {\n    return $c87311424ea30a05$var$testPlatform(/^iPhone/i);\n});\nconst $c87311424ea30a05$export$7bef049ce92e4224 = $c87311424ea30a05$var$cached(function() {\n    return $c87311424ea30a05$var$testPlatform(/^iPad/i) || // iPadOS 13 lies and says it's a Mac, but we can distinguish by detecting touch support.\n    $c87311424ea30a05$export$9ac100e40613ea10() && navigator.maxTouchPoints > 1;\n});\nconst $c87311424ea30a05$export$fedb369cb70207f1 = $c87311424ea30a05$var$cached(function() {\n    return $c87311424ea30a05$export$186c6964ca17d99() || $c87311424ea30a05$export$7bef049ce92e4224();\n});\nconst $c87311424ea30a05$export$e1865c3bedcd822b = $c87311424ea30a05$var$cached(function() {\n    return $c87311424ea30a05$export$9ac100e40613ea10() || $c87311424ea30a05$export$fedb369cb70207f1();\n});\nconst $c87311424ea30a05$export$78551043582a6a98 = $c87311424ea30a05$var$cached(function() {\n    return $c87311424ea30a05$var$testUserAgent(/AppleWebKit/i) && !$c87311424ea30a05$export$6446a186d09e379e();\n});\nconst $c87311424ea30a05$export$6446a186d09e379e = $c87311424ea30a05$var$cached(function() {\n    return $c87311424ea30a05$var$testUserAgent(/Chrome/i);\n});\nconst $c87311424ea30a05$export$a11b0059900ceec8 = $c87311424ea30a05$var$cached(function() {\n    return $c87311424ea30a05$var$testUserAgent(/Android/i);\n});\nconst $c87311424ea30a05$export$b7d78993b74f766d = $c87311424ea30a05$var$cached(function() {\n    return $c87311424ea30a05$var$testUserAgent(/Firefox/i);\n});\n\n\nexport {$c87311424ea30a05$export$9ac100e40613ea10 as isMac, $c87311424ea30a05$export$186c6964ca17d99 as isIPhone, $c87311424ea30a05$export$7bef049ce92e4224 as isIPad, $c87311424ea30a05$export$fedb369cb70207f1 as isIOS, $c87311424ea30a05$export$e1865c3bedcd822b as isAppleDevice, $c87311424ea30a05$export$78551043582a6a98 as isWebKit, $c87311424ea30a05$export$6446a186d09e379e as isChrome, $c87311424ea30a05$export$a11b0059900ceec8 as isAndroid, $c87311424ea30a05$export$b7d78993b74f766d as isFirefox};\n//# sourceMappingURL=platform.module.js.map\n","import {focusWithoutScrolling as $7215afc6de606d6b$export$de79e2c695e052f3} from \"./focusWithoutScrolling.mjs\";\nimport {isMac as $c87311424ea30a05$export$9ac100e40613ea10, isWebKit as $c87311424ea30a05$export$78551043582a6a98, isFirefox as $c87311424ea30a05$export$b7d78993b74f766d, isIPad as $c87311424ea30a05$export$7bef049ce92e4224} from \"./platform.mjs\";\nimport $g3jFn$react, {createContext as $g3jFn$createContext, useMemo as $g3jFn$useMemo, useContext as $g3jFn$useContext} from \"react\";\n\n/*\n * Copyright 2023 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */ \n\n\nconst $ea8dcbcb9ea1b556$var$RouterContext = /*#__PURE__*/ (0, $g3jFn$createContext)({\n    isNative: true,\n    open: $ea8dcbcb9ea1b556$var$openSyntheticLink,\n    useHref: (href)=>href\n});\nfunction $ea8dcbcb9ea1b556$export$323e4fc2fa4753fb(props) {\n    let { children: children, navigate: navigate, useHref: useHref } = props;\n    let ctx = (0, $g3jFn$useMemo)(()=>({\n            isNative: false,\n            open: (target, modifiers, href, routerOptions)=>{\n                $ea8dcbcb9ea1b556$var$getSyntheticLink(target, (link)=>{\n                    if ($ea8dcbcb9ea1b556$export$efa8c9099e530235(link, modifiers)) navigate(href, routerOptions);\n                    else $ea8dcbcb9ea1b556$export$95185d699e05d4d7(link, modifiers);\n                });\n            },\n            useHref: useHref || ((href)=>href)\n        }), [\n        navigate,\n        useHref\n    ]);\n    return /*#__PURE__*/ (0, $g3jFn$react).createElement($ea8dcbcb9ea1b556$var$RouterContext.Provider, {\n        value: ctx\n    }, children);\n}\nfunction $ea8dcbcb9ea1b556$export$9a302a45f65d0572() {\n    return (0, $g3jFn$useContext)($ea8dcbcb9ea1b556$var$RouterContext);\n}\nfunction $ea8dcbcb9ea1b556$export$efa8c9099e530235(link, modifiers) {\n    // Use getAttribute here instead of link.target. Firefox will default link.target to \"_parent\" when inside an iframe.\n    let target = link.getAttribute('target');\n    return (!target || target === '_self') && link.origin === location.origin && !link.hasAttribute('download') && !modifiers.metaKey && // open in new tab (mac)\n    !modifiers.ctrlKey && // open in new tab (windows)\n    !modifiers.altKey && // download\n    !modifiers.shiftKey;\n}\nfunction $ea8dcbcb9ea1b556$export$95185d699e05d4d7(target, modifiers, setOpening = true) {\n    var _window_event_type, _window_event;\n    let { metaKey: metaKey, ctrlKey: ctrlKey, altKey: altKey, shiftKey: shiftKey } = modifiers;\n    // Firefox does not recognize keyboard events as a user action by default, and the popup blocker\n    // will prevent links with target=\"_blank\" from opening. However, it does allow the event if the\n    // Command/Control key is held, which opens the link in a background tab. This seems like the best we can do.\n    // See https://bugzilla.mozilla.org/show_bug.cgi?id=257870 and https://bugzilla.mozilla.org/show_bug.cgi?id=746640.\n    if ((0, $c87311424ea30a05$export$b7d78993b74f766d)() && ((_window_event = window.event) === null || _window_event === void 0 ? void 0 : (_window_event_type = _window_event.type) === null || _window_event_type === void 0 ? void 0 : _window_event_type.startsWith('key')) && target.target === '_blank') {\n        if ((0, $c87311424ea30a05$export$9ac100e40613ea10)()) metaKey = true;\n        else ctrlKey = true;\n    }\n    // WebKit does not support firing click events with modifier keys, but does support keyboard events.\n    // https://github.com/WebKit/WebKit/blob/c03d0ac6e6db178f90923a0a63080b5ca210d25f/Source/WebCore/html/HTMLAnchorElement.cpp#L184\n    let event = (0, $c87311424ea30a05$export$78551043582a6a98)() && (0, $c87311424ea30a05$export$9ac100e40613ea10)() && !(0, $c87311424ea30a05$export$7bef049ce92e4224)() && process.env.NODE_ENV !== 'test' ? new KeyboardEvent('keydown', {\n        keyIdentifier: 'Enter',\n        metaKey: metaKey,\n        ctrlKey: ctrlKey,\n        altKey: altKey,\n        shiftKey: shiftKey\n    }) : new MouseEvent('click', {\n        metaKey: metaKey,\n        ctrlKey: ctrlKey,\n        altKey: altKey,\n        shiftKey: shiftKey,\n        bubbles: true,\n        cancelable: true\n    });\n    $ea8dcbcb9ea1b556$export$95185d699e05d4d7.isOpening = setOpening;\n    (0, $7215afc6de606d6b$export$de79e2c695e052f3)(target);\n    target.dispatchEvent(event);\n    $ea8dcbcb9ea1b556$export$95185d699e05d4d7.isOpening = false;\n}\n// https://github.com/parcel-bundler/parcel/issues/8724\n$ea8dcbcb9ea1b556$export$95185d699e05d4d7.isOpening = false;\nfunction $ea8dcbcb9ea1b556$var$getSyntheticLink(target, open) {\n    if (target instanceof HTMLAnchorElement) open(target);\n    else if (target.hasAttribute('data-href')) {\n        let link = document.createElement('a');\n        link.href = target.getAttribute('data-href');\n        if (target.hasAttribute('data-target')) link.target = target.getAttribute('data-target');\n        if (target.hasAttribute('data-rel')) link.rel = target.getAttribute('data-rel');\n        if (target.hasAttribute('data-download')) link.download = target.getAttribute('data-download');\n        if (target.hasAttribute('data-ping')) link.ping = target.getAttribute('data-ping');\n        if (target.hasAttribute('data-referrer-policy')) link.referrerPolicy = target.getAttribute('data-referrer-policy');\n        target.appendChild(link);\n        open(link);\n        target.removeChild(link);\n    }\n}\nfunction $ea8dcbcb9ea1b556$var$openSyntheticLink(target, modifiers) {\n    $ea8dcbcb9ea1b556$var$getSyntheticLink(target, (link)=>$ea8dcbcb9ea1b556$export$95185d699e05d4d7(link, modifiers));\n}\nfunction $ea8dcbcb9ea1b556$export$bdc77b0c0a3a85d6(props) {\n    let router = $ea8dcbcb9ea1b556$export$9a302a45f65d0572();\n    var _props_href;\n    const href = router.useHref((_props_href = props.href) !== null && _props_href !== void 0 ? _props_href : '');\n    return {\n        'data-href': props.href ? href : undefined,\n        'data-target': props.target,\n        'data-rel': props.rel,\n        'data-download': props.download,\n        'data-ping': props.ping,\n        'data-referrer-policy': props.referrerPolicy\n    };\n}\nfunction $ea8dcbcb9ea1b556$export$51437d503373d223(props) {\n    return {\n        'data-href': props.href,\n        'data-target': props.target,\n        'data-rel': props.rel,\n        'data-download': props.download,\n        'data-ping': props.ping,\n        'data-referrer-policy': props.referrerPolicy\n    };\n}\nfunction $ea8dcbcb9ea1b556$export$7e924b3091a3bd18(props) {\n    let router = $ea8dcbcb9ea1b556$export$9a302a45f65d0572();\n    var _props_href;\n    const href = router.useHref((_props_href = props === null || props === void 0 ? void 0 : props.href) !== null && _props_href !== void 0 ? _props_href : '');\n    return {\n        href: (props === null || props === void 0 ? void 0 : props.href) ? href : undefined,\n        target: props === null || props === void 0 ? void 0 : props.target,\n        rel: props === null || props === void 0 ? void 0 : props.rel,\n        download: props === null || props === void 0 ? void 0 : props.download,\n        ping: props === null || props === void 0 ? void 0 : props.ping,\n        referrerPolicy: props === null || props === void 0 ? void 0 : props.referrerPolicy\n    };\n}\nfunction $ea8dcbcb9ea1b556$export$13aea1a3cb5e3f1f(e, router, href, routerOptions) {\n    // If a custom router is provided, prevent default and forward if this link should client navigate.\n    if (!router.isNative && e.currentTarget instanceof HTMLAnchorElement && e.currentTarget.href && // If props are applied to a router Link component, it may have already prevented default.\n    !e.isDefaultPrevented() && $ea8dcbcb9ea1b556$export$efa8c9099e530235(e.currentTarget, e) && href) {\n        e.preventDefault();\n        router.open(e.currentTarget, e, href, routerOptions);\n    }\n}\n\n\nexport {$ea8dcbcb9ea1b556$export$323e4fc2fa4753fb as RouterProvider, $ea8dcbcb9ea1b556$export$efa8c9099e530235 as shouldClientNavigate, $ea8dcbcb9ea1b556$export$95185d699e05d4d7 as openLink, $ea8dcbcb9ea1b556$export$9a302a45f65d0572 as useRouter, $ea8dcbcb9ea1b556$export$bdc77b0c0a3a85d6 as useSyntheticLinkProps, $ea8dcbcb9ea1b556$export$51437d503373d223 as getSyntheticLinkProps, $ea8dcbcb9ea1b556$export$7e924b3091a3bd18 as useLinkProps, $ea8dcbcb9ea1b556$export$13aea1a3cb5e3f1f as handleLinkClick};\n//# sourceMappingURL=openLink.module.js.map\n","/*\n * Copyright 2020 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */ // We store a global list of elements that are currently transitioning,\n// mapped to a set of CSS properties that are transitioning for that element.\n// This is necessary rather than a simple count of transitions because of browser\n// bugs, e.g. Chrome sometimes fires both transitionend and transitioncancel rather\n// than one or the other. So we need to track what's actually transitioning so that\n// we can ignore these duplicate events.\nlet $bbed8b41f857bcc0$var$transitionsByElement = new Map();\n// A list of callbacks to call once there are no transitioning elements.\nlet $bbed8b41f857bcc0$var$transitionCallbacks = new Set();\nfunction $bbed8b41f857bcc0$var$setupGlobalEvents() {\n    if (typeof window === 'undefined') return;\n    function isTransitionEvent(event) {\n        return 'propertyName' in event;\n    }\n    let onTransitionStart = (e)=>{\n        if (!isTransitionEvent(e) || !e.target) return;\n        // Add the transitioning property to the list for this element.\n        let transitions = $bbed8b41f857bcc0$var$transitionsByElement.get(e.target);\n        if (!transitions) {\n            transitions = new Set();\n            $bbed8b41f857bcc0$var$transitionsByElement.set(e.target, transitions);\n            // The transitioncancel event must be registered on the element itself, rather than as a global\n            // event. This enables us to handle when the node is deleted from the document while it is transitioning.\n            // In that case, the cancel event would have nowhere to bubble to so we need to handle it directly.\n            e.target.addEventListener('transitioncancel', onTransitionEnd, {\n                once: true\n            });\n        }\n        transitions.add(e.propertyName);\n    };\n    let onTransitionEnd = (e)=>{\n        if (!isTransitionEvent(e) || !e.target) return;\n        // Remove property from list of transitioning properties.\n        let properties = $bbed8b41f857bcc0$var$transitionsByElement.get(e.target);\n        if (!properties) return;\n        properties.delete(e.propertyName);\n        // If empty, remove transitioncancel event, and remove the element from the list of transitioning elements.\n        if (properties.size === 0) {\n            e.target.removeEventListener('transitioncancel', onTransitionEnd);\n            $bbed8b41f857bcc0$var$transitionsByElement.delete(e.target);\n        }\n        // If no transitioning elements, call all of the queued callbacks.\n        if ($bbed8b41f857bcc0$var$transitionsByElement.size === 0) {\n            for (let cb of $bbed8b41f857bcc0$var$transitionCallbacks)cb();\n            $bbed8b41f857bcc0$var$transitionCallbacks.clear();\n        }\n    };\n    document.body.addEventListener('transitionrun', onTransitionStart);\n    document.body.addEventListener('transitionend', onTransitionEnd);\n}\nif (typeof document !== 'undefined') {\n    if (document.readyState !== 'loading') $bbed8b41f857bcc0$var$setupGlobalEvents();\n    else document.addEventListener('DOMContentLoaded', $bbed8b41f857bcc0$var$setupGlobalEvents);\n}\n/**\n * Cleans up any elements that are no longer in the document.\n * This is necessary because we can't rely on transitionend events to fire\n * for elements that are removed from the document while transitioning.\n */ function $bbed8b41f857bcc0$var$cleanupDetachedElements() {\n    for (const [eventTarget] of $bbed8b41f857bcc0$var$transitionsByElement)// Similar to `eventTarget instanceof Element && !eventTarget.isConnected`, but avoids\n    // the explicit instanceof check, since it may be different in different contexts.\n    if ('isConnected' in eventTarget && !eventTarget.isConnected) $bbed8b41f857bcc0$var$transitionsByElement.delete(eventTarget);\n}\nfunction $bbed8b41f857bcc0$export$24490316f764c430(fn) {\n    // Wait one frame to see if an animation starts, e.g. a transition on mount.\n    requestAnimationFrame(()=>{\n        $bbed8b41f857bcc0$var$cleanupDetachedElements();\n        // If no transitions are running, call the function immediately.\n        // Otherwise, add it to a list of callbacks to run at the end of the animation.\n        if ($bbed8b41f857bcc0$var$transitionsByElement.size === 0) fn();\n        else $bbed8b41f857bcc0$var$transitionCallbacks.add(fn);\n    });\n}\n\n\nexport {$bbed8b41f857bcc0$export$24490316f764c430 as runAfterTransition};\n//# sourceMappingURL=runAfterTransition.module.js.map\n","import {useRef as $lPAwt$useRef, useCallback as $lPAwt$useCallback, useEffect as $lPAwt$useEffect} from \"react\";\n\n/*\n * Copyright 2020 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */ \nfunction $03deb23ff14920c4$export$4eaf04e54aa8eed6() {\n    let globalListeners = (0, $lPAwt$useRef)(new Map());\n    let addGlobalListener = (0, $lPAwt$useCallback)((eventTarget, type, listener, options)=>{\n        // Make sure we remove the listener after it is called with the `once` option.\n        let fn = (options === null || options === void 0 ? void 0 : options.once) ? (...args)=>{\n            globalListeners.current.delete(listener);\n            listener(...args);\n        } : listener;\n        globalListeners.current.set(listener, {\n            type: type,\n            eventTarget: eventTarget,\n            fn: fn,\n            options: options\n        });\n        eventTarget.addEventListener(type, fn, options);\n    }, []);\n    let removeGlobalListener = (0, $lPAwt$useCallback)((eventTarget, type, listener, options)=>{\n        var _globalListeners_current_get;\n        let fn = ((_globalListeners_current_get = globalListeners.current.get(listener)) === null || _globalListeners_current_get === void 0 ? void 0 : _globalListeners_current_get.fn) || listener;\n        eventTarget.removeEventListener(type, fn, options);\n        globalListeners.current.delete(listener);\n    }, []);\n    let removeAllGlobalListeners = (0, $lPAwt$useCallback)(()=>{\n        globalListeners.current.forEach((value, key)=>{\n            removeGlobalListener(value.eventTarget, value.type, key, value.options);\n        });\n    }, [\n        removeGlobalListener\n    ]);\n    (0, $lPAwt$useEffect)(()=>{\n        return removeAllGlobalListeners;\n    }, [\n        removeAllGlobalListeners\n    ]);\n    return {\n        addGlobalListener: addGlobalListener,\n        removeGlobalListener: removeGlobalListener,\n        removeAllGlobalListeners: removeAllGlobalListeners\n    };\n}\n\n\nexport {$03deb23ff14920c4$export$4eaf04e54aa8eed6 as useGlobalListeners};\n//# sourceMappingURL=useGlobalListeners.module.js.map\n","import {useRef as $gbmns$useRef, useCallback as $gbmns$useCallback, useMemo as $gbmns$useMemo} from \"react\";\n\n/*\n * Copyright 2021 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */ \nfunction $df56164dff5785e2$export$4338b53315abf666(ref) {\n    const objRef = (0, $gbmns$useRef)(null);\n    const cleanupRef = (0, $gbmns$useRef)(undefined);\n    const refEffect = (0, $gbmns$useCallback)((instance)=>{\n        if (typeof ref === 'function') {\n            const refCallback = ref;\n            const refCleanup = refCallback(instance);\n            return ()=>{\n                if (typeof refCleanup === 'function') refCleanup();\n                else refCallback(null);\n            };\n        } else if (ref) {\n            ref.current = instance;\n            return ()=>{\n                ref.current = null;\n            };\n        }\n    }, [\n        ref\n    ]);\n    return (0, $gbmns$useMemo)(()=>({\n            get current () {\n                return objRef.current;\n            },\n            set current (value){\n                objRef.current = value;\n                if (cleanupRef.current) {\n                    cleanupRef.current();\n                    cleanupRef.current = undefined;\n                }\n                if (value != null) cleanupRef.current = refEffect(value);\n            }\n        }), [\n        refEffect\n    ]);\n}\n\n\nexport {$df56164dff5785e2$export$4338b53315abf666 as useObjectRef};\n//# sourceMappingURL=useObjectRef.module.js.map\n","import {useLayoutEffect as $f0a04ccd8dbdd83b$export$e5c5a5f917a5871c} from \"./useLayoutEffect.mjs\";\n\n/*\n * Copyright 2020 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */ \nfunction $e7801be82b4b2a53$export$4debdb1a3f0fa79e(context, ref) {\n    (0, $f0a04ccd8dbdd83b$export$e5c5a5f917a5871c)(()=>{\n        if (context && context.ref && ref) {\n            context.ref.current = ref.current;\n            return ()=>{\n                if (context.ref) context.ref.current = null;\n            };\n        }\n    });\n}\n\n\nexport {$e7801be82b4b2a53$export$4debdb1a3f0fa79e as useSyncRef};\n//# sourceMappingURL=useSyncRef.module.js.map\n","import {isAndroid as $c87311424ea30a05$export$a11b0059900ceec8} from \"./platform.mjs\";\n\n/*\n * Copyright 2022 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */ \nfunction $6a7db85432448f7f$export$60278871457622de(event) {\n    // JAWS/NVDA with Firefox.\n    if (event.mozInputSource === 0 && event.isTrusted) return true;\n    // Android TalkBack's detail value varies depending on the event listener providing the event so we have specific logic here instead\n    // If pointerType is defined, event is from a click listener. For events from mousedown listener, detail === 0 is a sufficient check\n    // to detect TalkBack virtual clicks.\n    if ((0, $c87311424ea30a05$export$a11b0059900ceec8)() && event.pointerType) return event.type === 'click' && event.buttons === 1;\n    return event.detail === 0 && !event.pointerType;\n}\nfunction $6a7db85432448f7f$export$29bf1b5f2c56cf63(event) {\n    // If the pointer size is zero, then we assume it's from a screen reader.\n    // Android TalkBack double tap will sometimes return a event with width and height of 1\n    // and pointerType === 'mouse' so we need to check for a specific combination of event attributes.\n    // Cannot use \"event.pressure === 0\" as the sole check due to Safari pointer events always returning pressure === 0\n    // instead of .5, see https://bugs.webkit.org/show_bug.cgi?id=206216. event.pointerType === 'mouse' is to distingush\n    // Talkback double tap from Windows Firefox touch screen press\n    return !(0, $c87311424ea30a05$export$a11b0059900ceec8)() && event.width === 0 && event.height === 0 || event.width === 1 && event.height === 1 && event.pressure === 0 && event.detail === 0 && event.pointerType === 'mouse';\n}\n\n\nexport {$6a7db85432448f7f$export$60278871457622de as isVirtualClick, $6a7db85432448f7f$export$29bf1b5f2c56cf63 as isVirtualPointerEvent};\n//# sourceMappingURL=isVirtualEvent.module.js.map\n","import {getOwnerWindow as $431fbd86ca7dc216$export$f21a1ffae260145a} from \"./domHelpers.mjs\";\n\n/*\n * Copyright 2021 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */ \nconst $7d2416ea0959daaa$var$supportsCheckVisibility = typeof Element !== 'undefined' && 'checkVisibility' in Element.prototype;\nfunction $7d2416ea0959daaa$var$isStyleVisible(element) {\n    const windowObject = (0, $431fbd86ca7dc216$export$f21a1ffae260145a)(element);\n    if (!(element instanceof windowObject.HTMLElement) && !(element instanceof windowObject.SVGElement)) return false;\n    let { display: display, visibility: visibility } = element.style;\n    let isVisible = display !== 'none' && visibility !== 'hidden' && visibility !== 'collapse';\n    if (isVisible) {\n        const { getComputedStyle: getComputedStyle } = element.ownerDocument.defaultView;\n        let { display: computedDisplay, visibility: computedVisibility } = getComputedStyle(element);\n        isVisible = computedDisplay !== 'none' && computedVisibility !== 'hidden' && computedVisibility !== 'collapse';\n    }\n    return isVisible;\n}\nfunction $7d2416ea0959daaa$var$isAttributeVisible(element, childElement) {\n    return !element.hasAttribute('hidden') && // Ignore HiddenSelect when tree walking.\n    !element.hasAttribute('data-react-aria-prevent-focus') && (element.nodeName === 'DETAILS' && childElement && childElement.nodeName !== 'SUMMARY' ? element.hasAttribute('open') : true);\n}\nfunction $7d2416ea0959daaa$export$e989c0fffaa6b27a(element, childElement) {\n    if ($7d2416ea0959daaa$var$supportsCheckVisibility) return element.checkVisibility();\n    return element.nodeName !== '#comment' && $7d2416ea0959daaa$var$isStyleVisible(element) && $7d2416ea0959daaa$var$isAttributeVisible(element, childElement) && (!element.parentElement || $7d2416ea0959daaa$export$e989c0fffaa6b27a(element.parentElement, element));\n}\n\n\nexport {$7d2416ea0959daaa$export$e989c0fffaa6b27a as isElementVisible};\n//# sourceMappingURL=isElementVisible.module.js.map\n","import {isElementVisible as $7d2416ea0959daaa$export$e989c0fffaa6b27a} from \"./isElementVisible.mjs\";\n\n/*\n * Copyright 2025 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */ \nconst $b4b717babfbb907b$var$focusableElements = [\n    'input:not([disabled]):not([type=hidden])',\n    'select:not([disabled])',\n    'textarea:not([disabled])',\n    'button:not([disabled])',\n    'a[href]',\n    'area[href]',\n    'summary',\n    'iframe',\n    'object',\n    'embed',\n    'audio[controls]',\n    'video[controls]',\n    '[contenteditable]:not([contenteditable^=\"false\"])',\n    'permission'\n];\nconst $b4b717babfbb907b$var$FOCUSABLE_ELEMENT_SELECTOR = $b4b717babfbb907b$var$focusableElements.join(':not([hidden]),') + ',[tabindex]:not([disabled]):not([hidden])';\n$b4b717babfbb907b$var$focusableElements.push('[tabindex]:not([tabindex=\"-1\"]):not([disabled])');\nconst $b4b717babfbb907b$var$TABBABLE_ELEMENT_SELECTOR = $b4b717babfbb907b$var$focusableElements.join(':not([hidden]):not([tabindex=\"-1\"]),');\nfunction $b4b717babfbb907b$export$4c063cf1350e6fed(element) {\n    return element.matches($b4b717babfbb907b$var$FOCUSABLE_ELEMENT_SELECTOR) && (0, $7d2416ea0959daaa$export$e989c0fffaa6b27a)(element) && !$b4b717babfbb907b$var$isInert(element);\n}\nfunction $b4b717babfbb907b$export$bebd5a1431fec25d(element) {\n    return element.matches($b4b717babfbb907b$var$TABBABLE_ELEMENT_SELECTOR) && (0, $7d2416ea0959daaa$export$e989c0fffaa6b27a)(element) && !$b4b717babfbb907b$var$isInert(element);\n}\nfunction $b4b717babfbb907b$var$isInert(element) {\n    let node = element;\n    while(node != null){\n        if (node instanceof node.ownerDocument.defaultView.HTMLElement && node.inert) return true;\n        node = node.parentElement;\n    }\n    return false;\n}\n\n\nexport {$b4b717babfbb907b$export$4c063cf1350e6fed as isFocusable, $b4b717babfbb907b$export$bebd5a1431fec25d as isTabbable};\n//# sourceMappingURL=isFocusable.module.js.map\n","import {useObjectRef as $iETbY$useObjectRef, mergeRefs as $iETbY$mergeRefs, mergeProps as $iETbY$mergeProps, useLayoutEffect as $iETbY$useLayoutEffect} from \"@react-aria/utils\";\nimport $iETbY$react, {useMemo as $iETbY$useMemo, useContext as $iETbY$useContext, useState as $iETbY$useState, useRef as $iETbY$useRef, useCallback as $iETbY$useCallback} from \"react\";\n\n/*\n * Copyright 2022 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */ \n\nconst $64fa3d84918910a7$export$c62b8e45d58ddad9 = Symbol('default');\nfunction $64fa3d84918910a7$export$2881499e37b75b9a({ values: values, children: children }) {\n    for (let [Context, value] of values)// @ts-ignore\n    children = /*#__PURE__*/ (0, $iETbY$react).createElement(Context.Provider, {\n        value: value\n    }, children);\n    return children;\n}\nfunction $64fa3d84918910a7$export$4d86445c2cf5e3(props) {\n    let { className: className, style: style, children: children, defaultClassName: defaultClassName, defaultChildren: defaultChildren, defaultStyle: defaultStyle, values: values } = props;\n    return (0, $iETbY$useMemo)(()=>{\n        let computedClassName;\n        let computedStyle;\n        let computedChildren;\n        if (typeof className === 'function') computedClassName = className({\n            ...values,\n            defaultClassName: defaultClassName\n        });\n        else computedClassName = className;\n        if (typeof style === 'function') computedStyle = style({\n            ...values,\n            defaultStyle: defaultStyle || {}\n        });\n        else computedStyle = style;\n        if (typeof children === 'function') computedChildren = children({\n            ...values,\n            defaultChildren: defaultChildren\n        });\n        else if (children == null) computedChildren = defaultChildren;\n        else computedChildren = children;\n        return {\n            className: computedClassName !== null && computedClassName !== void 0 ? computedClassName : defaultClassName,\n            style: computedStyle || defaultStyle ? {\n                ...defaultStyle,\n                ...computedStyle\n            } : undefined,\n            children: computedChildren !== null && computedChildren !== void 0 ? computedChildren : defaultChildren,\n            'data-rac': ''\n        };\n    }, [\n        className,\n        style,\n        children,\n        defaultClassName,\n        defaultChildren,\n        defaultStyle,\n        values\n    ]);\n}\nfunction $64fa3d84918910a7$export$c245e6201fed2f75(// https://stackoverflow.com/questions/60898079/typescript-type-t-or-function-t-usage\nvalue, wrap) {\n    return (renderProps)=>wrap(typeof value === 'function' ? value(renderProps) : value, renderProps);\n}\nfunction $64fa3d84918910a7$export$fabf2dc03a41866e(context, slot) {\n    let ctx = (0, $iETbY$useContext)(context);\n    if (slot === null) // An explicit `null` slot means don't use context.\n    return null;\n    if (ctx && typeof ctx === 'object' && 'slots' in ctx && ctx.slots) {\n        let slotKey = slot || $64fa3d84918910a7$export$c62b8e45d58ddad9;\n        if (!ctx.slots[slotKey]) {\n            let availableSlots = new Intl.ListFormat().format(Object.keys(ctx.slots).map((p)=>`\"${p}\"`));\n            let errorMessage = slot ? `Invalid slot \"${slot}\".` : 'A slot prop is required.';\n            throw new Error(`${errorMessage} Valid slot names are ${availableSlots}.`);\n        }\n        return ctx.slots[slotKey];\n    }\n    // @ts-ignore\n    return ctx;\n}\nfunction $64fa3d84918910a7$export$29f1550f4b0d4415(props, ref, context) {\n    let ctx = $64fa3d84918910a7$export$fabf2dc03a41866e(context, props.slot) || {};\n    // @ts-ignore - TS says \"Type 'unique symbol' cannot be used as an index type.\" but not sure why.\n    let { ref: contextRef, ...contextProps } = ctx;\n    let mergedRef = (0, $iETbY$useObjectRef)((0, $iETbY$useMemo)(()=>(0, $iETbY$mergeRefs)(ref, contextRef), [\n        ref,\n        contextRef\n    ]));\n    let mergedProps = (0, $iETbY$mergeProps)(contextProps, props);\n    // mergeProps does not merge `style`. Adding this there might be a breaking change.\n    if ('style' in contextProps && contextProps.style && 'style' in props && props.style) {\n        if (typeof contextProps.style === 'function' || typeof props.style === 'function') // @ts-ignore\n        mergedProps.style = (renderProps)=>{\n            let contextStyle = typeof contextProps.style === 'function' ? contextProps.style(renderProps) : contextProps.style;\n            let defaultStyle = {\n                ...renderProps.defaultStyle,\n                ...contextStyle\n            };\n            let style = typeof props.style === 'function' ? props.style({\n                ...renderProps,\n                defaultStyle: defaultStyle\n            }) : props.style;\n            return {\n                ...defaultStyle,\n                ...style\n            };\n        };\n        else // @ts-ignore\n        mergedProps.style = {\n            ...contextProps.style,\n            ...props.style\n        };\n    }\n    return [\n        mergedProps,\n        mergedRef\n    ];\n}\nfunction $64fa3d84918910a7$export$9d4c57ee4c6ffdd8(initialState = true) {\n    // Initial state is typically based on the parent having an aria-label or aria-labelledby.\n    // If it does, this value should be false so that we don't update the state and cause a rerender when we go through the layoutEffect\n    let [hasSlot, setHasSlot] = (0, $iETbY$useState)(initialState);\n    let hasRun = (0, $iETbY$useRef)(false);\n    // A callback ref which will run when the slotted element mounts.\n    // This should happen before the useLayoutEffect below.\n    let ref = (0, $iETbY$useCallback)((el)=>{\n        hasRun.current = true;\n        setHasSlot(!!el);\n    }, []);\n    // If the callback hasn't been called, then reset to false.\n    (0, $iETbY$useLayoutEffect)(()=>{\n        if (!hasRun.current) setHasSlot(false);\n    }, []);\n    return [\n        ref,\n        hasSlot\n    ];\n}\nfunction $64fa3d84918910a7$export$ef03459518577ad4(props) {\n    const prefix = /^(data-.*)$/;\n    let filteredProps = {};\n    for(const prop in props)if (!prefix.test(prop)) filteredProps[prop] = props[prop];\n    return filteredProps;\n}\n\n\nexport {$64fa3d84918910a7$export$c62b8e45d58ddad9 as DEFAULT_SLOT, $64fa3d84918910a7$export$2881499e37b75b9a as Provider, $64fa3d84918910a7$export$4d86445c2cf5e3 as useRenderProps, $64fa3d84918910a7$export$c245e6201fed2f75 as composeRenderProps, $64fa3d84918910a7$export$fabf2dc03a41866e as useSlottedContext, $64fa3d84918910a7$export$29f1550f4b0d4415 as useContextProps, $64fa3d84918910a7$export$9d4c57ee4c6ffdd8 as useSlot, $64fa3d84918910a7$export$ef03459518577ad4 as removeDataAttributes};\n//# sourceMappingURL=utils.module.js.map\n","import $8SdCi$react, {createContext as $8SdCi$createContext, useContext as $8SdCi$useContext, forwardRef as $8SdCi$forwardRef} from \"react\";\n\n/*\n * Copyright 2024 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */ \n// React doesn't understand the <template> element, which doesn't have children like a normal element.\n// It will throw an error during hydration when it expects the firstChild to contain content rendered\n// on the server, when in reality, the browser will have placed this inside the `content` document fragment.\n// This monkey patches the firstChild property for our special hidden template elements to work around this error.\n// See https://github.com/facebook/react/issues/19932\nif (typeof HTMLTemplateElement !== 'undefined') {\n    const getFirstChild = Object.getOwnPropertyDescriptor(Node.prototype, 'firstChild').get;\n    Object.defineProperty(HTMLTemplateElement.prototype, 'firstChild', {\n        configurable: true,\n        enumerable: true,\n        get: function() {\n            if (this.dataset.reactAriaHidden) return this.content.firstChild;\n            else return getFirstChild.call(this);\n        }\n    });\n}\nconst $f39a9eba43920ace$export$94b6d0abf7d33e8c = /*#__PURE__*/ (0, $8SdCi$createContext)(false);\nfunction $f39a9eba43920ace$export$8dc98ba7eadeaa56(props) {\n    let isHidden = (0, $8SdCi$useContext)($f39a9eba43920ace$export$94b6d0abf7d33e8c);\n    if (isHidden) // Don't hide again if we are already hidden.\n    return /*#__PURE__*/ (0, $8SdCi$react).createElement((0, $8SdCi$react).Fragment, null, props.children);\n    let children = /*#__PURE__*/ (0, $8SdCi$react).createElement($f39a9eba43920ace$export$94b6d0abf7d33e8c.Provider, {\n        value: true\n    }, props.children);\n    // In SSR, portals are not supported by React. Instead, always render into a <template>\n    // element, which the browser will never display to the user. In addition, the\n    // content is not part of the accessible DOM tree, so it won't affect ids or other accessibility attributes.\n    return /*#__PURE__*/ (0, $8SdCi$react).createElement(\"template\", {\n        \"data-react-aria-hidden\": true\n    }, children);\n}\nfunction $f39a9eba43920ace$export$86427a43e3e48ebb(fn) {\n    let Wrapper = (props, ref)=>{\n        let isHidden = (0, $8SdCi$useContext)($f39a9eba43920ace$export$94b6d0abf7d33e8c);\n        if (isHidden) return null;\n        return fn(props, ref);\n    };\n    // @ts-ignore - for react dev tools\n    Wrapper.displayName = fn.displayName || fn.name;\n    return (0, $8SdCi$forwardRef)(Wrapper);\n}\nfunction $f39a9eba43920ace$export$b5d7cc18bb8d2b59() {\n    return (0, $8SdCi$useContext)($f39a9eba43920ace$export$94b6d0abf7d33e8c);\n}\n\n\nexport {$f39a9eba43920ace$export$94b6d0abf7d33e8c as HiddenContext, $f39a9eba43920ace$export$8dc98ba7eadeaa56 as Hidden, $f39a9eba43920ace$export$86427a43e3e48ebb as createHideableComponent, $f39a9eba43920ace$export$b5d7cc18bb8d2b59 as useIsHidden};\n//# sourceMappingURL=Hidden.module.js.map\n","import {useLayoutEffect as $6dfIe$useLayoutEffect, useEffectEvent as $6dfIe$useEffectEvent, isFocusable as $6dfIe$isFocusable, getOwnerWindow as $6dfIe$getOwnerWindow, focusWithoutScrolling as $6dfIe$focusWithoutScrolling} from \"@react-aria/utils\";\nimport {useRef as $6dfIe$useRef, useCallback as $6dfIe$useCallback} from \"react\";\n\n/*\n * Copyright 2020 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */ \n\nfunction $8a9cb279dc87e130$export$525bc4921d56d4a(nativeEvent) {\n    let event = nativeEvent;\n    event.nativeEvent = nativeEvent;\n    event.isDefaultPrevented = ()=>event.defaultPrevented;\n    // cancelBubble is technically deprecated in the spec, but still supported in all browsers.\n    event.isPropagationStopped = ()=>event.cancelBubble;\n    event.persist = ()=>{};\n    return event;\n}\nfunction $8a9cb279dc87e130$export$c2b7abe5d61ec696(event, target) {\n    Object.defineProperty(event, 'target', {\n        value: target\n    });\n    Object.defineProperty(event, 'currentTarget', {\n        value: target\n    });\n}\nfunction $8a9cb279dc87e130$export$715c682d09d639cc(onBlur) {\n    let stateRef = (0, $6dfIe$useRef)({\n        isFocused: false,\n        observer: null\n    });\n    // Clean up MutationObserver on unmount. See below.\n    (0, $6dfIe$useLayoutEffect)(()=>{\n        const state = stateRef.current;\n        return ()=>{\n            if (state.observer) {\n                state.observer.disconnect();\n                state.observer = null;\n            }\n        };\n    }, []);\n    let dispatchBlur = (0, $6dfIe$useEffectEvent)((e)=>{\n        onBlur === null || onBlur === void 0 ? void 0 : onBlur(e);\n    });\n    // This function is called during a React onFocus event.\n    return (0, $6dfIe$useCallback)((e)=>{\n        // React does not fire onBlur when an element is disabled. https://github.com/facebook/react/issues/9142\n        // Most browsers fire a native focusout event in this case, except for Firefox. In that case, we use a\n        // MutationObserver to watch for the disabled attribute, and dispatch these events ourselves.\n        // For browsers that do, focusout fires before the MutationObserver, so onBlur should not fire twice.\n        if (e.target instanceof HTMLButtonElement || e.target instanceof HTMLInputElement || e.target instanceof HTMLTextAreaElement || e.target instanceof HTMLSelectElement) {\n            stateRef.current.isFocused = true;\n            let target = e.target;\n            let onBlurHandler = (e)=>{\n                stateRef.current.isFocused = false;\n                if (target.disabled) {\n                    // For backward compatibility, dispatch a (fake) React synthetic event.\n                    let event = $8a9cb279dc87e130$export$525bc4921d56d4a(e);\n                    dispatchBlur(event);\n                }\n                // We no longer need the MutationObserver once the target is blurred.\n                if (stateRef.current.observer) {\n                    stateRef.current.observer.disconnect();\n                    stateRef.current.observer = null;\n                }\n            };\n            target.addEventListener('focusout', onBlurHandler, {\n                once: true\n            });\n            stateRef.current.observer = new MutationObserver(()=>{\n                if (stateRef.current.isFocused && target.disabled) {\n                    var _stateRef_current_observer;\n                    (_stateRef_current_observer = stateRef.current.observer) === null || _stateRef_current_observer === void 0 ? void 0 : _stateRef_current_observer.disconnect();\n                    let relatedTargetEl = target === document.activeElement ? null : document.activeElement;\n                    target.dispatchEvent(new FocusEvent('blur', {\n                        relatedTarget: relatedTargetEl\n                    }));\n                    target.dispatchEvent(new FocusEvent('focusout', {\n                        bubbles: true,\n                        relatedTarget: relatedTargetEl\n                    }));\n                }\n            });\n            stateRef.current.observer.observe(target, {\n                attributes: true,\n                attributeFilter: [\n                    'disabled'\n                ]\n            });\n        }\n    }, [\n        dispatchBlur\n    ]);\n}\nlet $8a9cb279dc87e130$export$fda7da73ab5d4c48 = false;\nfunction $8a9cb279dc87e130$export$cabe61c495ee3649(target) {\n    // The browser will focus the nearest focusable ancestor of our target.\n    while(target && !(0, $6dfIe$isFocusable)(target))target = target.parentElement;\n    let window = (0, $6dfIe$getOwnerWindow)(target);\n    let activeElement = window.document.activeElement;\n    if (!activeElement || activeElement === target) return;\n    $8a9cb279dc87e130$export$fda7da73ab5d4c48 = true;\n    let isRefocusing = false;\n    let onBlur = (e)=>{\n        if (e.target === activeElement || isRefocusing) e.stopImmediatePropagation();\n    };\n    let onFocusOut = (e)=>{\n        if (e.target === activeElement || isRefocusing) {\n            e.stopImmediatePropagation();\n            // If there was no focusable ancestor, we don't expect a focus event.\n            // Re-focus the original active element here.\n            if (!target && !isRefocusing) {\n                isRefocusing = true;\n                (0, $6dfIe$focusWithoutScrolling)(activeElement);\n                cleanup();\n            }\n        }\n    };\n    let onFocus = (e)=>{\n        if (e.target === target || isRefocusing) e.stopImmediatePropagation();\n    };\n    let onFocusIn = (e)=>{\n        if (e.target === target || isRefocusing) {\n            e.stopImmediatePropagation();\n            if (!isRefocusing) {\n                isRefocusing = true;\n                (0, $6dfIe$focusWithoutScrolling)(activeElement);\n                cleanup();\n            }\n        }\n    };\n    window.addEventListener('blur', onBlur, true);\n    window.addEventListener('focusout', onFocusOut, true);\n    window.addEventListener('focusin', onFocusIn, true);\n    window.addEventListener('focus', onFocus, true);\n    let cleanup = ()=>{\n        cancelAnimationFrame(raf);\n        window.removeEventListener('blur', onBlur, true);\n        window.removeEventListener('focusout', onFocusOut, true);\n        window.removeEventListener('focusin', onFocusIn, true);\n        window.removeEventListener('focus', onFocus, true);\n        $8a9cb279dc87e130$export$fda7da73ab5d4c48 = false;\n        isRefocusing = false;\n    };\n    let raf = requestAnimationFrame(cleanup);\n    return cleanup;\n}\n\n\nexport {$8a9cb279dc87e130$export$525bc4921d56d4a as createSyntheticEvent, $8a9cb279dc87e130$export$c2b7abe5d61ec696 as setEventTarget, $8a9cb279dc87e130$export$715c682d09d639cc as useSyntheticBlurEvent, $8a9cb279dc87e130$export$fda7da73ab5d4c48 as ignoreFocusEvent, $8a9cb279dc87e130$export$cabe61c495ee3649 as preventFocus};\n//# sourceMappingURL=utils.module.js.map\n","import {isIOS as $7R18e$isIOS, getOwnerDocument as $7R18e$getOwnerDocument, runAfterTransition as $7R18e$runAfterTransition} from \"@react-aria/utils\";\n\n/*\n * Copyright 2020 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */ \n// Note that state only matters here for iOS. Non-iOS gets user-select: none applied to the target element\n// rather than at the document level so we just need to apply/remove user-select: none for each pressed element individually\nlet $14c0b72509d70225$var$state = 'default';\nlet $14c0b72509d70225$var$savedUserSelect = '';\nlet $14c0b72509d70225$var$modifiedElementMap = new WeakMap();\nfunction $14c0b72509d70225$export$16a4697467175487(target) {\n    if ((0, $7R18e$isIOS)()) {\n        if ($14c0b72509d70225$var$state === 'default') {\n            const documentObject = (0, $7R18e$getOwnerDocument)(target);\n            $14c0b72509d70225$var$savedUserSelect = documentObject.documentElement.style.webkitUserSelect;\n            documentObject.documentElement.style.webkitUserSelect = 'none';\n        }\n        $14c0b72509d70225$var$state = 'disabled';\n    } else if (target instanceof HTMLElement || target instanceof SVGElement) {\n        // If not iOS, store the target's original user-select and change to user-select: none\n        // Ignore state since it doesn't apply for non iOS\n        let property = 'userSelect' in target.style ? 'userSelect' : 'webkitUserSelect';\n        $14c0b72509d70225$var$modifiedElementMap.set(target, target.style[property]);\n        target.style[property] = 'none';\n    }\n}\nfunction $14c0b72509d70225$export$b0d6fa1ab32e3295(target) {\n    if ((0, $7R18e$isIOS)()) {\n        // If the state is already default, there's nothing to do.\n        // If it is restoring, then there's no need to queue a second restore.\n        if ($14c0b72509d70225$var$state !== 'disabled') return;\n        $14c0b72509d70225$var$state = 'restoring';\n        // There appears to be a delay on iOS where selection still might occur\n        // after pointer up, so wait a bit before removing user-select.\n        setTimeout(()=>{\n            // Wait for any CSS transitions to complete so we don't recompute style\n            // for the whole page in the middle of the animation and cause jank.\n            (0, $7R18e$runAfterTransition)(()=>{\n                // Avoid race conditions\n                if ($14c0b72509d70225$var$state === 'restoring') {\n                    const documentObject = (0, $7R18e$getOwnerDocument)(target);\n                    if (documentObject.documentElement.style.webkitUserSelect === 'none') documentObject.documentElement.style.webkitUserSelect = $14c0b72509d70225$var$savedUserSelect || '';\n                    $14c0b72509d70225$var$savedUserSelect = '';\n                    $14c0b72509d70225$var$state = 'default';\n                }\n            });\n        }, 300);\n    } else if (target instanceof HTMLElement || target instanceof SVGElement) // If not iOS, restore the target's original user-select if any\n    // Ignore state since it doesn't apply for non iOS\n    {\n        if (target && $14c0b72509d70225$var$modifiedElementMap.has(target)) {\n            let targetOldUserSelect = $14c0b72509d70225$var$modifiedElementMap.get(target);\n            let property = 'userSelect' in target.style ? 'userSelect' : 'webkitUserSelect';\n            if (target.style[property] === 'none') target.style[property] = targetOldUserSelect;\n            if (target.getAttribute('style') === '') target.removeAttribute('style');\n            $14c0b72509d70225$var$modifiedElementMap.delete(target);\n        }\n    }\n}\n\n\nexport {$14c0b72509d70225$export$16a4697467175487 as disableTextSelection, $14c0b72509d70225$export$b0d6fa1ab32e3295 as restoreTextSelection};\n//# sourceMappingURL=textSelection.module.js.map\n","import $3aeG1$react from \"react\";\n\n/*\n * Copyright 2020 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */ \nconst $ae1eeba8b9eafd08$export$5165eccb35aaadb5 = (0, $3aeG1$react).createContext({\n    register: ()=>{}\n});\n$ae1eeba8b9eafd08$export$5165eccb35aaadb5.displayName = 'PressResponderContext';\n\n\nexport {$ae1eeba8b9eafd08$export$5165eccb35aaadb5 as PressResponderContext};\n//# sourceMappingURL=context.module.js.map\n","function _class_apply_descriptor_get(receiver, descriptor) {\n    if (descriptor.get) return descriptor.get.call(receiver);\n\n    return descriptor.value;\n}\nexport { _class_apply_descriptor_get as _ };\n","function _class_extract_field_descriptor(receiver, privateMap, action) {\n    if (!privateMap.has(receiver)) throw new TypeError(\"attempted to \" + action + \" private field on non-instance\");\n\n    return privateMap.get(receiver);\n}\nexport { _class_extract_field_descriptor as _ };\n","import { _ as _class_apply_descriptor_get } from \"./_class_apply_descriptor_get.js\";\nimport { _ as _class_extract_field_descriptor } from \"./_class_extract_field_descriptor.js\";\n\nfunction _class_private_field_get(receiver, privateMap) {\n    var descriptor = _class_extract_field_descriptor(receiver, privateMap, \"get\");\n    return _class_apply_descriptor_get(receiver, descriptor);\n}\nexport { _class_private_field_get as _ };\n","function _check_private_redeclaration(obj, privateCollection) {\n    if (privateCollection.has(obj)) {\n        throw new TypeError(\"Cannot initialize the same private elements twice on an object\");\n    }\n}\nexport { _check_private_redeclaration as _ };\n","import { _ as _check_private_redeclaration } from \"./_check_private_redeclaration.js\";\n\nfunction _class_private_field_init(obj, privateMap, value) {\n    _check_private_redeclaration(obj, privateMap);\n    privateMap.set(obj, value);\n}\nexport { _class_private_field_init as _ };\n","function _class_apply_descriptor_set(receiver, descriptor, value) {\n    if (descriptor.set) descriptor.set.call(receiver, value);\n    else {\n        if (!descriptor.writable) {\n            // This should only throw in strict mode, but class bodies are\n            // always strict and private fields can only be used inside\n            // class bodies.\n            throw new TypeError(\"attempted to set read only private field\");\n        }\n        descriptor.value = value;\n    }\n}\nexport { _class_apply_descriptor_set as _ };\n","import { _ as _class_apply_descriptor_set } from \"./_class_apply_descriptor_set.js\";\nimport { _ as _class_extract_field_descriptor } from \"./_class_extract_field_descriptor.js\";\n\nfunction _class_private_field_set(receiver, privateMap, value) {\n    var descriptor = _class_extract_field_descriptor(receiver, privateMap, \"set\");\n    _class_apply_descriptor_set(receiver, descriptor, value);\n    return value;\n}\nexport { _class_private_field_set as _ };\n","import {createSyntheticEvent as $8a9cb279dc87e130$export$525bc4921d56d4a, preventFocus as $8a9cb279dc87e130$export$cabe61c495ee3649, setEventTarget as $8a9cb279dc87e130$export$c2b7abe5d61ec696} from \"./utils.mjs\";\nimport {disableTextSelection as $14c0b72509d70225$export$16a4697467175487, restoreTextSelection as $14c0b72509d70225$export$b0d6fa1ab32e3295} from \"./textSelection.mjs\";\nimport {PressResponderContext as $ae1eeba8b9eafd08$export$5165eccb35aaadb5} from \"./context.mjs\";\nimport {_ as $7mdmh$_} from \"@swc/helpers/_/_class_private_field_get\";\nimport {_ as $7mdmh$_1} from \"@swc/helpers/_/_class_private_field_init\";\nimport {_ as $7mdmh$_2} from \"@swc/helpers/_/_class_private_field_set\";\nimport {mergeProps as $7mdmh$mergeProps, useSyncRef as $7mdmh$useSyncRef, useGlobalListeners as $7mdmh$useGlobalListeners, useEffectEvent as $7mdmh$useEffectEvent, nodeContains as $7mdmh$nodeContains, getEventTarget as $7mdmh$getEventTarget, getOwnerDocument as $7mdmh$getOwnerDocument, chain as $7mdmh$chain, isMac as $7mdmh$isMac, openLink as $7mdmh$openLink, isVirtualClick as $7mdmh$isVirtualClick, isVirtualPointerEvent as $7mdmh$isVirtualPointerEvent, focusWithoutScrolling as $7mdmh$focusWithoutScrolling, getOwnerWindow as $7mdmh$getOwnerWindow} from \"@react-aria/utils\";\nimport {flushSync as $7mdmh$flushSync} from \"react-dom\";\nimport {useContext as $7mdmh$useContext, useState as $7mdmh$useState, useRef as $7mdmh$useRef, useMemo as $7mdmh$useMemo, useEffect as $7mdmh$useEffect} from \"react\";\n\n/*\n * Copyright 2020 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */ // Portions of the code in this file are based on code from react.\n// Original licensing for the following can be found in the\n// NOTICE file in the root directory of this source tree.\n// See https://github.com/facebook/react/tree/cc7c1aece46a6b69b41958d731e0fd27c94bfc6c/packages/react-interactions\n\n\n\n\n\n\n\n\n\nfunction $f6c31cce2adf654f$var$usePressResponderContext(props) {\n    // Consume context from <PressResponder> and merge with props.\n    let context = (0, $7mdmh$useContext)((0, $ae1eeba8b9eafd08$export$5165eccb35aaadb5));\n    if (context) {\n        let { register: register, ...contextProps } = context;\n        props = (0, $7mdmh$mergeProps)(contextProps, props);\n        register();\n    }\n    (0, $7mdmh$useSyncRef)(context, props.ref);\n    return props;\n}\nvar $f6c31cce2adf654f$var$_shouldStopPropagation = /*#__PURE__*/ new WeakMap();\nclass $f6c31cce2adf654f$var$PressEvent {\n    continuePropagation() {\n        (0, $7mdmh$_2)(this, $f6c31cce2adf654f$var$_shouldStopPropagation, false);\n    }\n    get shouldStopPropagation() {\n        return (0, $7mdmh$_)(this, $f6c31cce2adf654f$var$_shouldStopPropagation);\n    }\n    constructor(type, pointerType, originalEvent, state){\n        (0, $7mdmh$_1)(this, $f6c31cce2adf654f$var$_shouldStopPropagation, {\n            writable: true,\n            value: void 0\n        });\n        (0, $7mdmh$_2)(this, $f6c31cce2adf654f$var$_shouldStopPropagation, true);\n        var _state_target;\n        let currentTarget = (_state_target = state === null || state === void 0 ? void 0 : state.target) !== null && _state_target !== void 0 ? _state_target : originalEvent.currentTarget;\n        const rect = currentTarget === null || currentTarget === void 0 ? void 0 : currentTarget.getBoundingClientRect();\n        let x, y = 0;\n        let clientX, clientY = null;\n        if (originalEvent.clientX != null && originalEvent.clientY != null) {\n            clientX = originalEvent.clientX;\n            clientY = originalEvent.clientY;\n        }\n        if (rect) {\n            if (clientX != null && clientY != null) {\n                x = clientX - rect.left;\n                y = clientY - rect.top;\n            } else {\n                x = rect.width / 2;\n                y = rect.height / 2;\n            }\n        }\n        this.type = type;\n        this.pointerType = pointerType;\n        this.target = originalEvent.currentTarget;\n        this.shiftKey = originalEvent.shiftKey;\n        this.metaKey = originalEvent.metaKey;\n        this.ctrlKey = originalEvent.ctrlKey;\n        this.altKey = originalEvent.altKey;\n        this.x = x;\n        this.y = y;\n    }\n}\nconst $f6c31cce2adf654f$var$LINK_CLICKED = Symbol('linkClicked');\nconst $f6c31cce2adf654f$var$STYLE_ID = 'react-aria-pressable-style';\nconst $f6c31cce2adf654f$var$PRESSABLE_ATTRIBUTE = 'data-react-aria-pressable';\nfunction $f6c31cce2adf654f$export$45712eceda6fad21(props) {\n    let { onPress: onPress, onPressChange: onPressChange, onPressStart: onPressStart, onPressEnd: onPressEnd, onPressUp: onPressUp, onClick: onClick, isDisabled: isDisabled, isPressed: isPressedProp, preventFocusOnPress: preventFocusOnPress, shouldCancelOnPointerExit: shouldCancelOnPointerExit, allowTextSelectionOnPress: allowTextSelectionOnPress, ref: domRef, ...domProps } = $f6c31cce2adf654f$var$usePressResponderContext(props);\n    let [isPressed, setPressed] = (0, $7mdmh$useState)(false);\n    let ref = (0, $7mdmh$useRef)({\n        isPressed: false,\n        ignoreEmulatedMouseEvents: false,\n        didFirePressStart: false,\n        isTriggeringEvent: false,\n        activePointerId: null,\n        target: null,\n        isOverTarget: false,\n        pointerType: null,\n        disposables: []\n    });\n    let { addGlobalListener: addGlobalListener, removeAllGlobalListeners: removeAllGlobalListeners } = (0, $7mdmh$useGlobalListeners)();\n    let triggerPressStart = (0, $7mdmh$useEffectEvent)((originalEvent, pointerType)=>{\n        let state = ref.current;\n        if (isDisabled || state.didFirePressStart) return false;\n        let shouldStopPropagation = true;\n        state.isTriggeringEvent = true;\n        if (onPressStart) {\n            let event = new $f6c31cce2adf654f$var$PressEvent('pressstart', pointerType, originalEvent);\n            onPressStart(event);\n            shouldStopPropagation = event.shouldStopPropagation;\n        }\n        if (onPressChange) onPressChange(true);\n        state.isTriggeringEvent = false;\n        state.didFirePressStart = true;\n        setPressed(true);\n        return shouldStopPropagation;\n    });\n    let triggerPressEnd = (0, $7mdmh$useEffectEvent)((originalEvent, pointerType, wasPressed = true)=>{\n        let state = ref.current;\n        if (!state.didFirePressStart) return false;\n        state.didFirePressStart = false;\n        state.isTriggeringEvent = true;\n        let shouldStopPropagation = true;\n        if (onPressEnd) {\n            let event = new $f6c31cce2adf654f$var$PressEvent('pressend', pointerType, originalEvent);\n            onPressEnd(event);\n            shouldStopPropagation = event.shouldStopPropagation;\n        }\n        if (onPressChange) onPressChange(false);\n        setPressed(false);\n        if (onPress && wasPressed && !isDisabled) {\n            let event = new $f6c31cce2adf654f$var$PressEvent('press', pointerType, originalEvent);\n            onPress(event);\n            shouldStopPropagation && (shouldStopPropagation = event.shouldStopPropagation);\n        }\n        state.isTriggeringEvent = false;\n        return shouldStopPropagation;\n    });\n    let triggerPressUp = (0, $7mdmh$useEffectEvent)((originalEvent, pointerType)=>{\n        let state = ref.current;\n        if (isDisabled) return false;\n        if (onPressUp) {\n            state.isTriggeringEvent = true;\n            let event = new $f6c31cce2adf654f$var$PressEvent('pressup', pointerType, originalEvent);\n            onPressUp(event);\n            state.isTriggeringEvent = false;\n            return event.shouldStopPropagation;\n        }\n        return true;\n    });\n    let cancel = (0, $7mdmh$useEffectEvent)((e)=>{\n        let state = ref.current;\n        if (state.isPressed && state.target) {\n            if (state.didFirePressStart && state.pointerType != null) triggerPressEnd($f6c31cce2adf654f$var$createEvent(state.target, e), state.pointerType, false);\n            state.isPressed = false;\n            state.isOverTarget = false;\n            state.activePointerId = null;\n            state.pointerType = null;\n            removeAllGlobalListeners();\n            if (!allowTextSelectionOnPress) (0, $14c0b72509d70225$export$b0d6fa1ab32e3295)(state.target);\n            for (let dispose of state.disposables)dispose();\n            state.disposables = [];\n        }\n    });\n    let cancelOnPointerExit = (0, $7mdmh$useEffectEvent)((e)=>{\n        if (shouldCancelOnPointerExit) cancel(e);\n    });\n    let triggerClick = (0, $7mdmh$useEffectEvent)((e)=>{\n        onClick === null || onClick === void 0 ? void 0 : onClick(e);\n    });\n    let triggerSyntheticClick = (0, $7mdmh$useEffectEvent)((e, target)=>{\n        // Some third-party libraries pass in onClick instead of onPress.\n        // Create a fake mouse event and trigger onClick as well.\n        // This matches the browser's native activation behavior for certain elements (e.g. button).\n        // https://html.spec.whatwg.org/#activation\n        // https://html.spec.whatwg.org/#fire-a-synthetic-pointer-event\n        if (onClick) {\n            let event = new MouseEvent('click', e);\n            (0, $8a9cb279dc87e130$export$c2b7abe5d61ec696)(event, target);\n            onClick((0, $8a9cb279dc87e130$export$525bc4921d56d4a)(event));\n        }\n    });\n    let pressProps = (0, $7mdmh$useMemo)(()=>{\n        let state = ref.current;\n        let pressProps = {\n            onKeyDown (e) {\n                if ($f6c31cce2adf654f$var$isValidKeyboardEvent(e.nativeEvent, e.currentTarget) && (0, $7mdmh$nodeContains)(e.currentTarget, (0, $7mdmh$getEventTarget)(e.nativeEvent))) {\n                    var _state_metaKeyEvents;\n                    if ($f6c31cce2adf654f$var$shouldPreventDefaultKeyboard((0, $7mdmh$getEventTarget)(e.nativeEvent), e.key)) e.preventDefault();\n                    // If the event is repeating, it may have started on a different element\n                    // after which focus moved to the current element. Ignore these events and\n                    // only handle the first key down event.\n                    let shouldStopPropagation = true;\n                    if (!state.isPressed && !e.repeat) {\n                        state.target = e.currentTarget;\n                        state.isPressed = true;\n                        state.pointerType = 'keyboard';\n                        shouldStopPropagation = triggerPressStart(e, 'keyboard');\n                        // Focus may move before the key up event, so register the event on the document\n                        // instead of the same element where the key down event occurred. Make it capturing so that it will trigger\n                        // before stopPropagation from useKeyboard on a child element may happen and thus we can still call triggerPress for the parent element.\n                        let originalTarget = e.currentTarget;\n                        let pressUp = (e)=>{\n                            if ($f6c31cce2adf654f$var$isValidKeyboardEvent(e, originalTarget) && !e.repeat && (0, $7mdmh$nodeContains)(originalTarget, (0, $7mdmh$getEventTarget)(e)) && state.target) triggerPressUp($f6c31cce2adf654f$var$createEvent(state.target, e), 'keyboard');\n                        };\n                        addGlobalListener((0, $7mdmh$getOwnerDocument)(e.currentTarget), 'keyup', (0, $7mdmh$chain)(pressUp, onKeyUp), true);\n                    }\n                    if (shouldStopPropagation) e.stopPropagation();\n                    // Keep track of the keydown events that occur while the Meta (e.g. Command) key is held.\n                    // macOS has a bug where keyup events are not fired while the Meta key is down.\n                    // When the Meta key itself is released we will get an event for that, and we'll act as if\n                    // all of these other keys were released as well.\n                    // https://bugs.chromium.org/p/chromium/issues/detail?id=1393524\n                    // https://bugs.webkit.org/show_bug.cgi?id=55291\n                    // https://bugzilla.mozilla.org/show_bug.cgi?id=1299553\n                    if (e.metaKey && (0, $7mdmh$isMac)()) (_state_metaKeyEvents = state.metaKeyEvents) === null || _state_metaKeyEvents === void 0 ? void 0 : _state_metaKeyEvents.set(e.key, e.nativeEvent);\n                } else if (e.key === 'Meta') state.metaKeyEvents = new Map();\n            },\n            onClick (e) {\n                if (e && !(0, $7mdmh$nodeContains)(e.currentTarget, (0, $7mdmh$getEventTarget)(e.nativeEvent))) return;\n                if (e && e.button === 0 && !state.isTriggeringEvent && !(0, $7mdmh$openLink).isOpening) {\n                    let shouldStopPropagation = true;\n                    if (isDisabled) e.preventDefault();\n                    // If triggered from a screen reader or by using element.click(),\n                    // trigger as if it were a keyboard click.\n                    if (!state.ignoreEmulatedMouseEvents && !state.isPressed && (state.pointerType === 'virtual' || (0, $7mdmh$isVirtualClick)(e.nativeEvent))) {\n                        let stopPressStart = triggerPressStart(e, 'virtual');\n                        let stopPressUp = triggerPressUp(e, 'virtual');\n                        let stopPressEnd = triggerPressEnd(e, 'virtual');\n                        triggerClick(e);\n                        shouldStopPropagation = stopPressStart && stopPressUp && stopPressEnd;\n                    } else if (state.isPressed && state.pointerType !== 'keyboard') {\n                        let pointerType = state.pointerType || e.nativeEvent.pointerType || 'virtual';\n                        let stopPressUp = triggerPressUp($f6c31cce2adf654f$var$createEvent(e.currentTarget, e), pointerType);\n                        let stopPressEnd = triggerPressEnd($f6c31cce2adf654f$var$createEvent(e.currentTarget, e), pointerType, true);\n                        shouldStopPropagation = stopPressUp && stopPressEnd;\n                        state.isOverTarget = false;\n                        triggerClick(e);\n                        cancel(e);\n                    }\n                    state.ignoreEmulatedMouseEvents = false;\n                    if (shouldStopPropagation) e.stopPropagation();\n                }\n            }\n        };\n        let onKeyUp = (e)=>{\n            var _state_metaKeyEvents;\n            if (state.isPressed && state.target && $f6c31cce2adf654f$var$isValidKeyboardEvent(e, state.target)) {\n                var _state_metaKeyEvents1;\n                if ($f6c31cce2adf654f$var$shouldPreventDefaultKeyboard((0, $7mdmh$getEventTarget)(e), e.key)) e.preventDefault();\n                let target = (0, $7mdmh$getEventTarget)(e);\n                let wasPressed = (0, $7mdmh$nodeContains)(state.target, (0, $7mdmh$getEventTarget)(e));\n                triggerPressEnd($f6c31cce2adf654f$var$createEvent(state.target, e), 'keyboard', wasPressed);\n                if (wasPressed) triggerSyntheticClick(e, state.target);\n                removeAllGlobalListeners();\n                // If a link was triggered with a key other than Enter, open the URL ourselves.\n                // This means the link has a role override, and the default browser behavior\n                // only applies when using the Enter key.\n                if (e.key !== 'Enter' && $f6c31cce2adf654f$var$isHTMLAnchorLink(state.target) && (0, $7mdmh$nodeContains)(state.target, target) && !e[$f6c31cce2adf654f$var$LINK_CLICKED]) {\n                    // Store a hidden property on the event so we only trigger link click once,\n                    // even if there are multiple usePress instances attached to the element.\n                    e[$f6c31cce2adf654f$var$LINK_CLICKED] = true;\n                    (0, $7mdmh$openLink)(state.target, e, false);\n                }\n                state.isPressed = false;\n                (_state_metaKeyEvents1 = state.metaKeyEvents) === null || _state_metaKeyEvents1 === void 0 ? void 0 : _state_metaKeyEvents1.delete(e.key);\n            } else if (e.key === 'Meta' && ((_state_metaKeyEvents = state.metaKeyEvents) === null || _state_metaKeyEvents === void 0 ? void 0 : _state_metaKeyEvents.size)) {\n                var _state_target;\n                // If we recorded keydown events that occurred while the Meta key was pressed,\n                // and those haven't received keyup events already, fire keyup events ourselves.\n                // See comment above for more info about the macOS bug causing this.\n                let events = state.metaKeyEvents;\n                state.metaKeyEvents = undefined;\n                for (let event of events.values())(_state_target = state.target) === null || _state_target === void 0 ? void 0 : _state_target.dispatchEvent(new KeyboardEvent('keyup', event));\n            }\n        };\n        if (typeof PointerEvent !== 'undefined') {\n            pressProps.onPointerDown = (e)=>{\n                // Only handle left clicks, and ignore events that bubbled through portals.\n                if (e.button !== 0 || !(0, $7mdmh$nodeContains)(e.currentTarget, (0, $7mdmh$getEventTarget)(e.nativeEvent))) return;\n                // iOS safari fires pointer events from VoiceOver with incorrect coordinates/target.\n                // Ignore and let the onClick handler take care of it instead.\n                // https://bugs.webkit.org/show_bug.cgi?id=222627\n                // https://bugs.webkit.org/show_bug.cgi?id=223202\n                if ((0, $7mdmh$isVirtualPointerEvent)(e.nativeEvent)) {\n                    state.pointerType = 'virtual';\n                    return;\n                }\n                state.pointerType = e.pointerType;\n                let shouldStopPropagation = true;\n                if (!state.isPressed) {\n                    state.isPressed = true;\n                    state.isOverTarget = true;\n                    state.activePointerId = e.pointerId;\n                    state.target = e.currentTarget;\n                    if (!allowTextSelectionOnPress) (0, $14c0b72509d70225$export$16a4697467175487)(state.target);\n                    shouldStopPropagation = triggerPressStart(e, state.pointerType);\n                    // Release pointer capture so that touch interactions can leave the original target.\n                    // This enables onPointerLeave and onPointerEnter to fire.\n                    let target = (0, $7mdmh$getEventTarget)(e.nativeEvent);\n                    if ('releasePointerCapture' in target) target.releasePointerCapture(e.pointerId);\n                    addGlobalListener((0, $7mdmh$getOwnerDocument)(e.currentTarget), 'pointerup', onPointerUp, false);\n                    addGlobalListener((0, $7mdmh$getOwnerDocument)(e.currentTarget), 'pointercancel', onPointerCancel, false);\n                }\n                if (shouldStopPropagation) e.stopPropagation();\n            };\n            pressProps.onMouseDown = (e)=>{\n                if (!(0, $7mdmh$nodeContains)(e.currentTarget, (0, $7mdmh$getEventTarget)(e.nativeEvent))) return;\n                if (e.button === 0) {\n                    if (preventFocusOnPress) {\n                        let dispose = (0, $8a9cb279dc87e130$export$cabe61c495ee3649)(e.target);\n                        if (dispose) state.disposables.push(dispose);\n                    }\n                    e.stopPropagation();\n                }\n            };\n            pressProps.onPointerUp = (e)=>{\n                // iOS fires pointerup with zero width and height, so check the pointerType recorded during pointerdown.\n                if (!(0, $7mdmh$nodeContains)(e.currentTarget, (0, $7mdmh$getEventTarget)(e.nativeEvent)) || state.pointerType === 'virtual') return;\n                // Only handle left clicks. If isPressed is true, delay until onClick.\n                if (e.button === 0 && !state.isPressed) triggerPressUp(e, state.pointerType || e.pointerType);\n            };\n            pressProps.onPointerEnter = (e)=>{\n                if (e.pointerId === state.activePointerId && state.target && !state.isOverTarget && state.pointerType != null) {\n                    state.isOverTarget = true;\n                    triggerPressStart($f6c31cce2adf654f$var$createEvent(state.target, e), state.pointerType);\n                }\n            };\n            pressProps.onPointerLeave = (e)=>{\n                if (e.pointerId === state.activePointerId && state.target && state.isOverTarget && state.pointerType != null) {\n                    state.isOverTarget = false;\n                    triggerPressEnd($f6c31cce2adf654f$var$createEvent(state.target, e), state.pointerType, false);\n                    cancelOnPointerExit(e);\n                }\n            };\n            let onPointerUp = (e)=>{\n                if (e.pointerId === state.activePointerId && state.isPressed && e.button === 0 && state.target) {\n                    if ((0, $7mdmh$nodeContains)(state.target, (0, $7mdmh$getEventTarget)(e)) && state.pointerType != null) {\n                        // Wait for onClick to fire onPress. This avoids browser issues when the DOM\n                        // is mutated between onPointerUp and onClick, and is more compatible with third party libraries.\n                        // https://github.com/adobe/react-spectrum/issues/1513\n                        // https://issues.chromium.org/issues/40732224\n                        // However, iOS and Android do not focus or fire onClick after a long press.\n                        // We work around this by triggering a click ourselves after a timeout.\n                        // This timeout is canceled during the click event in case the real one fires first.\n                        // The timeout must be at least 32ms, because Safari on iOS delays the click event on\n                        // non-form elements without certain ARIA roles (for hover emulation).\n                        // https://github.com/WebKit/WebKit/blob/dccfae42bb29bd4bdef052e469f604a9387241c0/Source/WebKit/WebProcess/WebPage/ios/WebPageIOS.mm#L875-L892\n                        let clicked = false;\n                        let timeout = setTimeout(()=>{\n                            if (state.isPressed && state.target instanceof HTMLElement) {\n                                if (clicked) cancel(e);\n                                else {\n                                    (0, $7mdmh$focusWithoutScrolling)(state.target);\n                                    state.target.click();\n                                }\n                            }\n                        }, 80);\n                        // Use a capturing listener to track if a click occurred.\n                        // If stopPropagation is called it may never reach our handler.\n                        addGlobalListener(e.currentTarget, 'click', ()=>clicked = true, true);\n                        state.disposables.push(()=>clearTimeout(timeout));\n                    } else cancel(e);\n                    // Ignore subsequent onPointerLeave event before onClick on touch devices.\n                    state.isOverTarget = false;\n                }\n            };\n            let onPointerCancel = (e)=>{\n                cancel(e);\n            };\n            pressProps.onDragStart = (e)=>{\n                if (!(0, $7mdmh$nodeContains)(e.currentTarget, (0, $7mdmh$getEventTarget)(e.nativeEvent))) return;\n                // Safari does not call onPointerCancel when a drag starts, whereas Chrome and Firefox do.\n                cancel(e);\n            };\n        } else if (process.env.NODE_ENV === 'test') {\n            // NOTE: this fallback branch is entirely used by unit tests.\n            // All browsers now support pointer events, but JSDOM still does not.\n            pressProps.onMouseDown = (e)=>{\n                // Only handle left clicks\n                if (e.button !== 0 || !(0, $7mdmh$nodeContains)(e.currentTarget, (0, $7mdmh$getEventTarget)(e.nativeEvent))) return;\n                if (state.ignoreEmulatedMouseEvents) {\n                    e.stopPropagation();\n                    return;\n                }\n                state.isPressed = true;\n                state.isOverTarget = true;\n                state.target = e.currentTarget;\n                state.pointerType = (0, $7mdmh$isVirtualClick)(e.nativeEvent) ? 'virtual' : 'mouse';\n                // Flush sync so that focus moved during react re-renders occurs before we yield back to the browser.\n                let shouldStopPropagation = (0, $7mdmh$flushSync)(()=>triggerPressStart(e, state.pointerType));\n                if (shouldStopPropagation) e.stopPropagation();\n                if (preventFocusOnPress) {\n                    let dispose = (0, $8a9cb279dc87e130$export$cabe61c495ee3649)(e.target);\n                    if (dispose) state.disposables.push(dispose);\n                }\n                addGlobalListener((0, $7mdmh$getOwnerDocument)(e.currentTarget), 'mouseup', onMouseUp, false);\n            };\n            pressProps.onMouseEnter = (e)=>{\n                if (!(0, $7mdmh$nodeContains)(e.currentTarget, (0, $7mdmh$getEventTarget)(e.nativeEvent))) return;\n                let shouldStopPropagation = true;\n                if (state.isPressed && !state.ignoreEmulatedMouseEvents && state.pointerType != null) {\n                    state.isOverTarget = true;\n                    shouldStopPropagation = triggerPressStart(e, state.pointerType);\n                }\n                if (shouldStopPropagation) e.stopPropagation();\n            };\n            pressProps.onMouseLeave = (e)=>{\n                if (!(0, $7mdmh$nodeContains)(e.currentTarget, (0, $7mdmh$getEventTarget)(e.nativeEvent))) return;\n                let shouldStopPropagation = true;\n                if (state.isPressed && !state.ignoreEmulatedMouseEvents && state.pointerType != null) {\n                    state.isOverTarget = false;\n                    shouldStopPropagation = triggerPressEnd(e, state.pointerType, false);\n                    cancelOnPointerExit(e);\n                }\n                if (shouldStopPropagation) e.stopPropagation();\n            };\n            pressProps.onMouseUp = (e)=>{\n                if (!(0, $7mdmh$nodeContains)(e.currentTarget, (0, $7mdmh$getEventTarget)(e.nativeEvent))) return;\n                if (!state.ignoreEmulatedMouseEvents && e.button === 0 && !state.isPressed) triggerPressUp(e, state.pointerType || 'mouse');\n            };\n            let onMouseUp = (e)=>{\n                // Only handle left clicks\n                if (e.button !== 0) return;\n                if (state.ignoreEmulatedMouseEvents) {\n                    state.ignoreEmulatedMouseEvents = false;\n                    return;\n                }\n                if (state.target && state.target.contains(e.target) && state.pointerType != null) ;\n                else cancel(e);\n                state.isOverTarget = false;\n            };\n            pressProps.onTouchStart = (e)=>{\n                if (!(0, $7mdmh$nodeContains)(e.currentTarget, (0, $7mdmh$getEventTarget)(e.nativeEvent))) return;\n                let touch = $f6c31cce2adf654f$var$getTouchFromEvent(e.nativeEvent);\n                if (!touch) return;\n                state.activePointerId = touch.identifier;\n                state.ignoreEmulatedMouseEvents = true;\n                state.isOverTarget = true;\n                state.isPressed = true;\n                state.target = e.currentTarget;\n                state.pointerType = 'touch';\n                if (!allowTextSelectionOnPress) (0, $14c0b72509d70225$export$16a4697467175487)(state.target);\n                let shouldStopPropagation = triggerPressStart($f6c31cce2adf654f$var$createTouchEvent(state.target, e), state.pointerType);\n                if (shouldStopPropagation) e.stopPropagation();\n                addGlobalListener((0, $7mdmh$getOwnerWindow)(e.currentTarget), 'scroll', onScroll, true);\n            };\n            pressProps.onTouchMove = (e)=>{\n                if (!(0, $7mdmh$nodeContains)(e.currentTarget, (0, $7mdmh$getEventTarget)(e.nativeEvent))) return;\n                if (!state.isPressed) {\n                    e.stopPropagation();\n                    return;\n                }\n                let touch = $f6c31cce2adf654f$var$getTouchById(e.nativeEvent, state.activePointerId);\n                let shouldStopPropagation = true;\n                if (touch && $f6c31cce2adf654f$var$isOverTarget(touch, e.currentTarget)) {\n                    if (!state.isOverTarget && state.pointerType != null) {\n                        state.isOverTarget = true;\n                        shouldStopPropagation = triggerPressStart($f6c31cce2adf654f$var$createTouchEvent(state.target, e), state.pointerType);\n                    }\n                } else if (state.isOverTarget && state.pointerType != null) {\n                    state.isOverTarget = false;\n                    shouldStopPropagation = triggerPressEnd($f6c31cce2adf654f$var$createTouchEvent(state.target, e), state.pointerType, false);\n                    cancelOnPointerExit($f6c31cce2adf654f$var$createTouchEvent(state.target, e));\n                }\n                if (shouldStopPropagation) e.stopPropagation();\n            };\n            pressProps.onTouchEnd = (e)=>{\n                if (!(0, $7mdmh$nodeContains)(e.currentTarget, (0, $7mdmh$getEventTarget)(e.nativeEvent))) return;\n                if (!state.isPressed) {\n                    e.stopPropagation();\n                    return;\n                }\n                let touch = $f6c31cce2adf654f$var$getTouchById(e.nativeEvent, state.activePointerId);\n                let shouldStopPropagation = true;\n                if (touch && $f6c31cce2adf654f$var$isOverTarget(touch, e.currentTarget) && state.pointerType != null) {\n                    triggerPressUp($f6c31cce2adf654f$var$createTouchEvent(state.target, e), state.pointerType);\n                    shouldStopPropagation = triggerPressEnd($f6c31cce2adf654f$var$createTouchEvent(state.target, e), state.pointerType);\n                    triggerSyntheticClick(e.nativeEvent, state.target);\n                } else if (state.isOverTarget && state.pointerType != null) shouldStopPropagation = triggerPressEnd($f6c31cce2adf654f$var$createTouchEvent(state.target, e), state.pointerType, false);\n                if (shouldStopPropagation) e.stopPropagation();\n                state.isPressed = false;\n                state.activePointerId = null;\n                state.isOverTarget = false;\n                state.ignoreEmulatedMouseEvents = true;\n                if (state.target && !allowTextSelectionOnPress) (0, $14c0b72509d70225$export$b0d6fa1ab32e3295)(state.target);\n                removeAllGlobalListeners();\n            };\n            pressProps.onTouchCancel = (e)=>{\n                if (!(0, $7mdmh$nodeContains)(e.currentTarget, (0, $7mdmh$getEventTarget)(e.nativeEvent))) return;\n                e.stopPropagation();\n                if (state.isPressed) cancel($f6c31cce2adf654f$var$createTouchEvent(state.target, e));\n            };\n            let onScroll = (e)=>{\n                if (state.isPressed && (0, $7mdmh$nodeContains)((0, $7mdmh$getEventTarget)(e), state.target)) cancel({\n                    currentTarget: state.target,\n                    shiftKey: false,\n                    ctrlKey: false,\n                    metaKey: false,\n                    altKey: false\n                });\n            };\n            pressProps.onDragStart = (e)=>{\n                if (!(0, $7mdmh$nodeContains)(e.currentTarget, (0, $7mdmh$getEventTarget)(e.nativeEvent))) return;\n                cancel(e);\n            };\n        }\n        return pressProps;\n    }, [\n        addGlobalListener,\n        isDisabled,\n        preventFocusOnPress,\n        removeAllGlobalListeners,\n        allowTextSelectionOnPress,\n        cancel,\n        cancelOnPointerExit,\n        triggerPressEnd,\n        triggerPressStart,\n        triggerPressUp,\n        triggerClick,\n        triggerSyntheticClick\n    ]);\n    // Avoid onClick delay for double tap to zoom by default.\n    (0, $7mdmh$useEffect)(()=>{\n        if (!domRef || process.env.NODE_ENV === 'test') return;\n        const ownerDocument = (0, $7mdmh$getOwnerDocument)(domRef.current);\n        if (!ownerDocument || !ownerDocument.head || ownerDocument.getElementById($f6c31cce2adf654f$var$STYLE_ID)) return;\n        const style = ownerDocument.createElement('style');\n        style.id = $f6c31cce2adf654f$var$STYLE_ID;\n        // touchAction: 'manipulation' is supposed to be equivalent, but in\n        // Safari it causes onPointerCancel not to fire on scroll.\n        // https://bugs.webkit.org/show_bug.cgi?id=240917\n        style.textContent = `\n@layer {\n  [${$f6c31cce2adf654f$var$PRESSABLE_ATTRIBUTE}] {\n    touch-action: pan-x pan-y pinch-zoom;\n  }\n}\n    `.trim();\n        ownerDocument.head.prepend(style);\n    }, [\n        domRef\n    ]);\n    // Remove user-select: none in case component unmounts immediately after pressStart\n    (0, $7mdmh$useEffect)(()=>{\n        let state = ref.current;\n        return ()=>{\n            var _state_target;\n            if (!allowTextSelectionOnPress) (0, $14c0b72509d70225$export$b0d6fa1ab32e3295)((_state_target = state.target) !== null && _state_target !== void 0 ? _state_target : undefined);\n            for (let dispose of state.disposables)dispose();\n            state.disposables = [];\n        };\n    }, [\n        allowTextSelectionOnPress\n    ]);\n    return {\n        isPressed: isPressedProp || isPressed,\n        pressProps: (0, $7mdmh$mergeProps)(domProps, pressProps, {\n            [$f6c31cce2adf654f$var$PRESSABLE_ATTRIBUTE]: true\n        })\n    };\n}\nfunction $f6c31cce2adf654f$var$isHTMLAnchorLink(target) {\n    return target.tagName === 'A' && target.hasAttribute('href');\n}\nfunction $f6c31cce2adf654f$var$isValidKeyboardEvent(event, currentTarget) {\n    const { key: key, code: code } = event;\n    const element = currentTarget;\n    const role = element.getAttribute('role');\n    // Accessibility for keyboards. Space and Enter only.\n    // \"Spacebar\" is for IE 11\n    return (key === 'Enter' || key === ' ' || key === 'Spacebar' || code === 'Space') && !(element instanceof (0, $7mdmh$getOwnerWindow)(element).HTMLInputElement && !$f6c31cce2adf654f$var$isValidInputKey(element, key) || element instanceof (0, $7mdmh$getOwnerWindow)(element).HTMLTextAreaElement || element.isContentEditable) && // Links should only trigger with Enter key\n    !((role === 'link' || !role && $f6c31cce2adf654f$var$isHTMLAnchorLink(element)) && key !== 'Enter');\n}\nfunction $f6c31cce2adf654f$var$getTouchFromEvent(event) {\n    const { targetTouches: targetTouches } = event;\n    if (targetTouches.length > 0) return targetTouches[0];\n    return null;\n}\nfunction $f6c31cce2adf654f$var$getTouchById(event, pointerId) {\n    const changedTouches = event.changedTouches;\n    for(let i = 0; i < changedTouches.length; i++){\n        const touch = changedTouches[i];\n        if (touch.identifier === pointerId) return touch;\n    }\n    return null;\n}\nfunction $f6c31cce2adf654f$var$createTouchEvent(target, e) {\n    let clientX = 0;\n    let clientY = 0;\n    if (e.targetTouches && e.targetTouches.length === 1) {\n        clientX = e.targetTouches[0].clientX;\n        clientY = e.targetTouches[0].clientY;\n    }\n    return {\n        currentTarget: target,\n        shiftKey: e.shiftKey,\n        ctrlKey: e.ctrlKey,\n        metaKey: e.metaKey,\n        altKey: e.altKey,\n        clientX: clientX,\n        clientY: clientY\n    };\n}\nfunction $f6c31cce2adf654f$var$createEvent(target, e) {\n    let clientX = e.clientX;\n    let clientY = e.clientY;\n    return {\n        currentTarget: target,\n        shiftKey: e.shiftKey,\n        ctrlKey: e.ctrlKey,\n        metaKey: e.metaKey,\n        altKey: e.altKey,\n        clientX: clientX,\n        clientY: clientY\n    };\n}\nfunction $f6c31cce2adf654f$var$getPointClientRect(point) {\n    let offsetX = 0;\n    let offsetY = 0;\n    if (point.width !== undefined) offsetX = point.width / 2;\n    else if (point.radiusX !== undefined) offsetX = point.radiusX;\n    if (point.height !== undefined) offsetY = point.height / 2;\n    else if (point.radiusY !== undefined) offsetY = point.radiusY;\n    return {\n        top: point.clientY - offsetY,\n        right: point.clientX + offsetX,\n        bottom: point.clientY + offsetY,\n        left: point.clientX - offsetX\n    };\n}\nfunction $f6c31cce2adf654f$var$areRectanglesOverlapping(a, b) {\n    // check if they cannot overlap on x axis\n    if (a.left > b.right || b.left > a.right) return false;\n    // check if they cannot overlap on y axis\n    if (a.top > b.bottom || b.top > a.bottom) return false;\n    return true;\n}\nfunction $f6c31cce2adf654f$var$isOverTarget(point, target) {\n    let rect = target.getBoundingClientRect();\n    let pointRect = $f6c31cce2adf654f$var$getPointClientRect(point);\n    return $f6c31cce2adf654f$var$areRectanglesOverlapping(rect, pointRect);\n}\nfunction $f6c31cce2adf654f$var$shouldPreventDefaultUp(target) {\n    if (target instanceof HTMLInputElement) return false;\n    if (target instanceof HTMLButtonElement) return target.type !== 'submit' && target.type !== 'reset';\n    if ($f6c31cce2adf654f$var$isHTMLAnchorLink(target)) return false;\n    return true;\n}\nfunction $f6c31cce2adf654f$var$shouldPreventDefaultKeyboard(target, key) {\n    if (target instanceof HTMLInputElement) return !$f6c31cce2adf654f$var$isValidInputKey(target, key);\n    return $f6c31cce2adf654f$var$shouldPreventDefaultUp(target);\n}\nconst $f6c31cce2adf654f$var$nonTextInputTypes = new Set([\n    'checkbox',\n    'radio',\n    'range',\n    'color',\n    'file',\n    'image',\n    'button',\n    'submit',\n    'reset'\n]);\nfunction $f6c31cce2adf654f$var$isValidInputKey(target, key) {\n    // Only space should toggle checkboxes and radios, not enter.\n    return target.type === 'checkbox' || target.type === 'radio' ? key === ' ' : $f6c31cce2adf654f$var$nonTextInputTypes.has(target.type);\n}\n\n\nexport {$f6c31cce2adf654f$export$45712eceda6fad21 as usePress};\n//# sourceMappingURL=usePress.module.js.map\n","import {ignoreFocusEvent as $8a9cb279dc87e130$export$fda7da73ab5d4c48} from \"./utils.mjs\";\nimport {isMac as $28AnR$isMac, isVirtualClick as $28AnR$isVirtualClick, getOwnerWindow as $28AnR$getOwnerWindow, getOwnerDocument as $28AnR$getOwnerDocument} from \"@react-aria/utils\";\nimport {useState as $28AnR$useState, useEffect as $28AnR$useEffect} from \"react\";\nimport {useIsSSR as $28AnR$useIsSSR} from \"@react-aria/ssr\";\n\n/*\n * Copyright 2020 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */ // Portions of the code in this file are based on code from react.\n// Original licensing for the following can be found in the\n// NOTICE file in the root directory of this source tree.\n// See https://github.com/facebook/react/tree/cc7c1aece46a6b69b41958d731e0fd27c94bfc6c/packages/react-interactions\n\n\n\n\nlet $507fabe10e71c6fb$var$currentModality = null;\nlet $507fabe10e71c6fb$var$changeHandlers = new Set();\nlet $507fabe10e71c6fb$export$d90243b58daecda7 = new Map(); // We use a map here to support setting event listeners across multiple document objects.\nlet $507fabe10e71c6fb$var$hasEventBeforeFocus = false;\nlet $507fabe10e71c6fb$var$hasBlurredWindowRecently = false;\n// Only Tab or Esc keys will make focus visible on text input elements\nconst $507fabe10e71c6fb$var$FOCUS_VISIBLE_INPUT_KEYS = {\n    Tab: true,\n    Escape: true\n};\nfunction $507fabe10e71c6fb$var$triggerChangeHandlers(modality, e) {\n    for (let handler of $507fabe10e71c6fb$var$changeHandlers)handler(modality, e);\n}\n/**\n * Helper function to determine if a KeyboardEvent is unmodified and could make keyboard focus styles visible.\n */ function $507fabe10e71c6fb$var$isValidKey(e) {\n    // Control and Shift keys trigger when navigating back to the tab with keyboard.\n    return !(e.metaKey || !(0, $28AnR$isMac)() && e.altKey || e.ctrlKey || e.key === 'Control' || e.key === 'Shift' || e.key === 'Meta');\n}\nfunction $507fabe10e71c6fb$var$handleKeyboardEvent(e) {\n    $507fabe10e71c6fb$var$hasEventBeforeFocus = true;\n    if ($507fabe10e71c6fb$var$isValidKey(e)) {\n        $507fabe10e71c6fb$var$currentModality = 'keyboard';\n        $507fabe10e71c6fb$var$triggerChangeHandlers('keyboard', e);\n    }\n}\nfunction $507fabe10e71c6fb$var$handlePointerEvent(e) {\n    $507fabe10e71c6fb$var$currentModality = 'pointer';\n    if (e.type === 'mousedown' || e.type === 'pointerdown') {\n        $507fabe10e71c6fb$var$hasEventBeforeFocus = true;\n        $507fabe10e71c6fb$var$triggerChangeHandlers('pointer', e);\n    }\n}\nfunction $507fabe10e71c6fb$var$handleClickEvent(e) {\n    if ((0, $28AnR$isVirtualClick)(e)) {\n        $507fabe10e71c6fb$var$hasEventBeforeFocus = true;\n        $507fabe10e71c6fb$var$currentModality = 'virtual';\n    }\n}\nfunction $507fabe10e71c6fb$var$handleFocusEvent(e) {\n    // Firefox fires two extra focus events when the user first clicks into an iframe:\n    // first on the window, then on the document. We ignore these events so they don't\n    // cause keyboard focus rings to appear.\n    if (e.target === window || e.target === document || (0, $8a9cb279dc87e130$export$fda7da73ab5d4c48) || !e.isTrusted) return;\n    // If a focus event occurs without a preceding keyboard or pointer event, switch to virtual modality.\n    // This occurs, for example, when navigating a form with the next/previous buttons on iOS.\n    if (!$507fabe10e71c6fb$var$hasEventBeforeFocus && !$507fabe10e71c6fb$var$hasBlurredWindowRecently) {\n        $507fabe10e71c6fb$var$currentModality = 'virtual';\n        $507fabe10e71c6fb$var$triggerChangeHandlers('virtual', e);\n    }\n    $507fabe10e71c6fb$var$hasEventBeforeFocus = false;\n    $507fabe10e71c6fb$var$hasBlurredWindowRecently = false;\n}\nfunction $507fabe10e71c6fb$var$handleWindowBlur() {\n    if (0, $8a9cb279dc87e130$export$fda7da73ab5d4c48) return;\n    // When the window is blurred, reset state. This is necessary when tabbing out of the window,\n    // for example, since a subsequent focus event won't be fired.\n    $507fabe10e71c6fb$var$hasEventBeforeFocus = false;\n    $507fabe10e71c6fb$var$hasBlurredWindowRecently = true;\n}\n/**\n * Setup global event listeners to control when keyboard focus style should be visible.\n */ function $507fabe10e71c6fb$var$setupGlobalFocusEvents(element) {\n    if (typeof window === 'undefined' || typeof document === 'undefined' || $507fabe10e71c6fb$export$d90243b58daecda7.get((0, $28AnR$getOwnerWindow)(element))) return;\n    const windowObject = (0, $28AnR$getOwnerWindow)(element);\n    const documentObject = (0, $28AnR$getOwnerDocument)(element);\n    // Programmatic focus() calls shouldn't affect the current input modality.\n    // However, we need to detect other cases when a focus event occurs without\n    // a preceding user event (e.g. screen reader focus). Overriding the focus\n    // method on HTMLElement.prototype is a bit hacky, but works.\n    let focus = windowObject.HTMLElement.prototype.focus;\n    windowObject.HTMLElement.prototype.focus = function() {\n        $507fabe10e71c6fb$var$hasEventBeforeFocus = true;\n        focus.apply(this, arguments);\n    };\n    documentObject.addEventListener('keydown', $507fabe10e71c6fb$var$handleKeyboardEvent, true);\n    documentObject.addEventListener('keyup', $507fabe10e71c6fb$var$handleKeyboardEvent, true);\n    documentObject.addEventListener('click', $507fabe10e71c6fb$var$handleClickEvent, true);\n    // Register focus events on the window so they are sure to happen\n    // before React's event listeners (registered on the document).\n    windowObject.addEventListener('focus', $507fabe10e71c6fb$var$handleFocusEvent, true);\n    windowObject.addEventListener('blur', $507fabe10e71c6fb$var$handleWindowBlur, false);\n    if (typeof PointerEvent !== 'undefined') {\n        documentObject.addEventListener('pointerdown', $507fabe10e71c6fb$var$handlePointerEvent, true);\n        documentObject.addEventListener('pointermove', $507fabe10e71c6fb$var$handlePointerEvent, true);\n        documentObject.addEventListener('pointerup', $507fabe10e71c6fb$var$handlePointerEvent, true);\n    } else if (process.env.NODE_ENV === 'test') {\n        documentObject.addEventListener('mousedown', $507fabe10e71c6fb$var$handlePointerEvent, true);\n        documentObject.addEventListener('mousemove', $507fabe10e71c6fb$var$handlePointerEvent, true);\n        documentObject.addEventListener('mouseup', $507fabe10e71c6fb$var$handlePointerEvent, true);\n    }\n    // Add unmount handler\n    windowObject.addEventListener('beforeunload', ()=>{\n        $507fabe10e71c6fb$var$tearDownWindowFocusTracking(element);\n    }, {\n        once: true\n    });\n    $507fabe10e71c6fb$export$d90243b58daecda7.set(windowObject, {\n        focus: focus\n    });\n}\nconst $507fabe10e71c6fb$var$tearDownWindowFocusTracking = (element, loadListener)=>{\n    const windowObject = (0, $28AnR$getOwnerWindow)(element);\n    const documentObject = (0, $28AnR$getOwnerDocument)(element);\n    if (loadListener) documentObject.removeEventListener('DOMContentLoaded', loadListener);\n    if (!$507fabe10e71c6fb$export$d90243b58daecda7.has(windowObject)) return;\n    windowObject.HTMLElement.prototype.focus = $507fabe10e71c6fb$export$d90243b58daecda7.get(windowObject).focus;\n    documentObject.removeEventListener('keydown', $507fabe10e71c6fb$var$handleKeyboardEvent, true);\n    documentObject.removeEventListener('keyup', $507fabe10e71c6fb$var$handleKeyboardEvent, true);\n    documentObject.removeEventListener('click', $507fabe10e71c6fb$var$handleClickEvent, true);\n    windowObject.removeEventListener('focus', $507fabe10e71c6fb$var$handleFocusEvent, true);\n    windowObject.removeEventListener('blur', $507fabe10e71c6fb$var$handleWindowBlur, false);\n    if (typeof PointerEvent !== 'undefined') {\n        documentObject.removeEventListener('pointerdown', $507fabe10e71c6fb$var$handlePointerEvent, true);\n        documentObject.removeEventListener('pointermove', $507fabe10e71c6fb$var$handlePointerEvent, true);\n        documentObject.removeEventListener('pointerup', $507fabe10e71c6fb$var$handlePointerEvent, true);\n    } else if (process.env.NODE_ENV === 'test') {\n        documentObject.removeEventListener('mousedown', $507fabe10e71c6fb$var$handlePointerEvent, true);\n        documentObject.removeEventListener('mousemove', $507fabe10e71c6fb$var$handlePointerEvent, true);\n        documentObject.removeEventListener('mouseup', $507fabe10e71c6fb$var$handlePointerEvent, true);\n    }\n    $507fabe10e71c6fb$export$d90243b58daecda7.delete(windowObject);\n};\nfunction $507fabe10e71c6fb$export$2f1888112f558a7d(element) {\n    const documentObject = (0, $28AnR$getOwnerDocument)(element);\n    let loadListener;\n    if (documentObject.readyState !== 'loading') $507fabe10e71c6fb$var$setupGlobalFocusEvents(element);\n    else {\n        loadListener = ()=>{\n            $507fabe10e71c6fb$var$setupGlobalFocusEvents(element);\n        };\n        documentObject.addEventListener('DOMContentLoaded', loadListener);\n    }\n    return ()=>$507fabe10e71c6fb$var$tearDownWindowFocusTracking(element, loadListener);\n}\n// Server-side rendering does not have the document object defined\n// eslint-disable-next-line no-restricted-globals\nif (typeof document !== 'undefined') $507fabe10e71c6fb$export$2f1888112f558a7d();\nfunction $507fabe10e71c6fb$export$b9b3dfddab17db27() {\n    return $507fabe10e71c6fb$var$currentModality !== 'pointer';\n}\nfunction $507fabe10e71c6fb$export$630ff653c5ada6a9() {\n    return $507fabe10e71c6fb$var$currentModality;\n}\nfunction $507fabe10e71c6fb$export$8397ddfc504fdb9a(modality) {\n    $507fabe10e71c6fb$var$currentModality = modality;\n    $507fabe10e71c6fb$var$triggerChangeHandlers(modality, null);\n}\nfunction $507fabe10e71c6fb$export$98e20ec92f614cfe() {\n    $507fabe10e71c6fb$var$setupGlobalFocusEvents();\n    let [modality, setModality] = (0, $28AnR$useState)($507fabe10e71c6fb$var$currentModality);\n    (0, $28AnR$useEffect)(()=>{\n        let handler = ()=>{\n            setModality($507fabe10e71c6fb$var$currentModality);\n        };\n        $507fabe10e71c6fb$var$changeHandlers.add(handler);\n        return ()=>{\n            $507fabe10e71c6fb$var$changeHandlers.delete(handler);\n        };\n    }, []);\n    return (0, $28AnR$useIsSSR)() ? null : modality;\n}\nconst $507fabe10e71c6fb$var$nonTextInputTypes = new Set([\n    'checkbox',\n    'radio',\n    'range',\n    'color',\n    'file',\n    'image',\n    'button',\n    'submit',\n    'reset'\n]);\n/**\n * If this is attached to text input component, return if the event is a focus event (Tab/Escape keys pressed) so that\n * focus visible style can be properly set.\n */ function $507fabe10e71c6fb$var$isKeyboardFocusEvent(isTextInput, modality, e) {\n    let document1 = (0, $28AnR$getOwnerDocument)(e === null || e === void 0 ? void 0 : e.target);\n    const IHTMLInputElement = typeof window !== 'undefined' ? (0, $28AnR$getOwnerWindow)(e === null || e === void 0 ? void 0 : e.target).HTMLInputElement : HTMLInputElement;\n    const IHTMLTextAreaElement = typeof window !== 'undefined' ? (0, $28AnR$getOwnerWindow)(e === null || e === void 0 ? void 0 : e.target).HTMLTextAreaElement : HTMLTextAreaElement;\n    const IHTMLElement = typeof window !== 'undefined' ? (0, $28AnR$getOwnerWindow)(e === null || e === void 0 ? void 0 : e.target).HTMLElement : HTMLElement;\n    const IKeyboardEvent = typeof window !== 'undefined' ? (0, $28AnR$getOwnerWindow)(e === null || e === void 0 ? void 0 : e.target).KeyboardEvent : KeyboardEvent;\n    // For keyboard events that occur on a non-input element that will move focus into input element (aka ArrowLeft going from Datepicker button to the main input group)\n    // we need to rely on the user passing isTextInput into here. This way we can skip toggling focus visiblity for said input element\n    isTextInput = isTextInput || document1.activeElement instanceof IHTMLInputElement && !$507fabe10e71c6fb$var$nonTextInputTypes.has(document1.activeElement.type) || document1.activeElement instanceof IHTMLTextAreaElement || document1.activeElement instanceof IHTMLElement && document1.activeElement.isContentEditable;\n    return !(isTextInput && modality === 'keyboard' && e instanceof IKeyboardEvent && !$507fabe10e71c6fb$var$FOCUS_VISIBLE_INPUT_KEYS[e.key]);\n}\nfunction $507fabe10e71c6fb$export$ffd9e5021c1fb2d6(props = {}) {\n    let { isTextInput: isTextInput, autoFocus: autoFocus } = props;\n    let [isFocusVisibleState, setFocusVisible] = (0, $28AnR$useState)(autoFocus || $507fabe10e71c6fb$export$b9b3dfddab17db27());\n    $507fabe10e71c6fb$export$ec71b4b83ac08ec3((isFocusVisible)=>{\n        setFocusVisible(isFocusVisible);\n    }, [\n        isTextInput\n    ], {\n        isTextInput: isTextInput\n    });\n    return {\n        isFocusVisible: isFocusVisibleState\n    };\n}\nfunction $507fabe10e71c6fb$export$ec71b4b83ac08ec3(fn, deps, opts) {\n    $507fabe10e71c6fb$var$setupGlobalFocusEvents();\n    (0, $28AnR$useEffect)(()=>{\n        let handler = (modality, e)=>{\n            // We want to early return for any keyboard events that occur inside text inputs EXCEPT for Tab and Escape\n            if (!$507fabe10e71c6fb$var$isKeyboardFocusEvent(!!(opts === null || opts === void 0 ? void 0 : opts.isTextInput), modality, e)) return;\n            fn($507fabe10e71c6fb$export$b9b3dfddab17db27());\n        };\n        $507fabe10e71c6fb$var$changeHandlers.add(handler);\n        return ()=>{\n            $507fabe10e71c6fb$var$changeHandlers.delete(handler);\n        };\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, deps);\n}\n\n\nexport {$507fabe10e71c6fb$export$d90243b58daecda7 as hasSetupGlobalListeners, $507fabe10e71c6fb$export$2f1888112f558a7d as addWindowFocusTracking, $507fabe10e71c6fb$export$b9b3dfddab17db27 as isFocusVisible, $507fabe10e71c6fb$export$630ff653c5ada6a9 as getInteractionModality, $507fabe10e71c6fb$export$8397ddfc504fdb9a as setInteractionModality, $507fabe10e71c6fb$export$98e20ec92f614cfe as useInteractionModality, $507fabe10e71c6fb$export$ffd9e5021c1fb2d6 as useFocusVisible, $507fabe10e71c6fb$export$ec71b4b83ac08ec3 as useFocusVisibleListener};\n//# sourceMappingURL=useFocusVisible.module.js.map\n","import {getInteractionModality as $507fabe10e71c6fb$export$630ff653c5ada6a9} from \"./useFocusVisible.mjs\";\nimport {getOwnerDocument as $k50bp$getOwnerDocument, getActiveElement as $k50bp$getActiveElement, runAfterTransition as $k50bp$runAfterTransition, focusWithoutScrolling as $k50bp$focusWithoutScrolling} from \"@react-aria/utils\";\n\n/*\n * Copyright 2020 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the 'License');\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an 'AS IS' BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */ \n\nfunction $3ad3f6e1647bc98d$export$80f3e147d781571c(element) {\n    // If the user is interacting with a virtual cursor, e.g. screen reader, then\n    // wait until after any animated transitions that are currently occurring on\n    // the page before shifting focus. This avoids issues with VoiceOver on iOS\n    // causing the page to scroll when moving focus if the element is transitioning\n    // from off the screen.\n    const ownerDocument = (0, $k50bp$getOwnerDocument)(element);\n    const activeElement = (0, $k50bp$getActiveElement)(ownerDocument);\n    if ((0, $507fabe10e71c6fb$export$630ff653c5ada6a9)() === 'virtual') {\n        let lastFocusedElement = activeElement;\n        (0, $k50bp$runAfterTransition)(()=>{\n            // If focus did not move and the element is still in the document, focus it.\n            if ((0, $k50bp$getActiveElement)(ownerDocument) === lastFocusedElement && element.isConnected) (0, $k50bp$focusWithoutScrolling)(element);\n        });\n    } else (0, $k50bp$focusWithoutScrolling)(element);\n}\n\n\nexport {$3ad3f6e1647bc98d$export$80f3e147d781571c as focusSafely};\n//# sourceMappingURL=focusSafely.module.js.map\n","import {useSyntheticBlurEvent as $8a9cb279dc87e130$export$715c682d09d639cc} from \"./utils.mjs\";\nimport {useCallback as $hf0lj$useCallback} from \"react\";\nimport {getOwnerDocument as $hf0lj$getOwnerDocument, getActiveElement as $hf0lj$getActiveElement, getEventTarget as $hf0lj$getEventTarget} from \"@react-aria/utils\";\n\n/*\n * Copyright 2020 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */ // Portions of the code in this file are based on code from react.\n// Original licensing for the following can be found in the\n// NOTICE file in the root directory of this source tree.\n// See https://github.com/facebook/react/tree/cc7c1aece46a6b69b41958d731e0fd27c94bfc6c/packages/react-interactions\n\n\n\nfunction $a1ea59d68270f0dd$export$f8168d8dd8fd66e6(props) {\n    let { isDisabled: isDisabled, onFocus: onFocusProp, onBlur: onBlurProp, onFocusChange: onFocusChange } = props;\n    const onBlur = (0, $hf0lj$useCallback)((e)=>{\n        if (e.target === e.currentTarget) {\n            if (onBlurProp) onBlurProp(e);\n            if (onFocusChange) onFocusChange(false);\n            return true;\n        }\n    }, [\n        onBlurProp,\n        onFocusChange\n    ]);\n    const onSyntheticFocus = (0, $8a9cb279dc87e130$export$715c682d09d639cc)(onBlur);\n    const onFocus = (0, $hf0lj$useCallback)((e)=>{\n        // Double check that document.activeElement actually matches e.target in case a previously chained\n        // focus handler already moved focus somewhere else.\n        const ownerDocument = (0, $hf0lj$getOwnerDocument)(e.target);\n        const activeElement = ownerDocument ? (0, $hf0lj$getActiveElement)(ownerDocument) : (0, $hf0lj$getActiveElement)();\n        if (e.target === e.currentTarget && activeElement === (0, $hf0lj$getEventTarget)(e.nativeEvent)) {\n            if (onFocusProp) onFocusProp(e);\n            if (onFocusChange) onFocusChange(true);\n            onSyntheticFocus(e);\n        }\n    }, [\n        onFocusChange,\n        onFocusProp,\n        onSyntheticFocus\n    ]);\n    return {\n        focusProps: {\n            onFocus: !isDisabled && (onFocusProp || onFocusChange || onBlurProp) ? onFocus : undefined,\n            onBlur: !isDisabled && (onBlurProp || onFocusChange) ? onBlur : undefined\n        }\n    };\n}\n\n\nexport {$a1ea59d68270f0dd$export$f8168d8dd8fd66e6 as useFocus};\n//# sourceMappingURL=useFocus.module.js.map\n","/*\n * Copyright 2020 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */ function $93925083ecbb358c$export$48d1ea6320830260(handler) {\n    if (!handler) return undefined;\n    let shouldStopPropagation = true;\n    return (e)=>{\n        let event = {\n            ...e,\n            preventDefault () {\n                e.preventDefault();\n            },\n            isDefaultPrevented () {\n                return e.isDefaultPrevented();\n            },\n            stopPropagation () {\n                if (shouldStopPropagation && process.env.NODE_ENV !== 'production') console.error('stopPropagation is now the default behavior for events in React Spectrum. You can use continuePropagation() to revert this behavior.');\n                else shouldStopPropagation = true;\n            },\n            continuePropagation () {\n                shouldStopPropagation = false;\n            },\n            isPropagationStopped () {\n                return shouldStopPropagation;\n            }\n        };\n        handler(event);\n        if (shouldStopPropagation) e.stopPropagation();\n    };\n}\n\n\nexport {$93925083ecbb358c$export$48d1ea6320830260 as createEventHandler};\n//# sourceMappingURL=createEventHandler.module.js.map\n","import {createEventHandler as $93925083ecbb358c$export$48d1ea6320830260} from \"./createEventHandler.mjs\";\n\n/*\n * Copyright 2020 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */ \nfunction $46d819fcbaf35654$export$8f71654801c2f7cd(props) {\n    return {\n        keyboardProps: props.isDisabled ? {} : {\n            onKeyDown: (0, $93925083ecbb358c$export$48d1ea6320830260)(props.onKeyDown),\n            onKeyUp: (0, $93925083ecbb358c$export$48d1ea6320830260)(props.onKeyUp)\n        }\n    };\n}\n\n\nexport {$46d819fcbaf35654$export$8f71654801c2f7cd as useKeyboard};\n//# sourceMappingURL=useKeyboard.module.js.map\n","import {focusSafely as $3ad3f6e1647bc98d$export$80f3e147d781571c} from \"./focusSafely.mjs\";\nimport {useFocus as $a1ea59d68270f0dd$export$f8168d8dd8fd66e6} from \"./useFocus.mjs\";\nimport {useKeyboard as $46d819fcbaf35654$export$8f71654801c2f7cd} from \"./useKeyboard.mjs\";\nimport {useSyncRef as $fcPuG$useSyncRef, useObjectRef as $fcPuG$useObjectRef, mergeProps as $fcPuG$mergeProps, getOwnerWindow as $fcPuG$getOwnerWindow, isFocusable as $fcPuG$isFocusable, mergeRefs as $fcPuG$mergeRefs} from \"@react-aria/utils\";\nimport $fcPuG$react, {useContext as $fcPuG$useContext, useRef as $fcPuG$useRef, useEffect as $fcPuG$useEffect, forwardRef as $fcPuG$forwardRef} from \"react\";\n\n/*\n * Copyright 2020 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */ \n\n\n\n\nlet $f645667febf57a63$export$f9762fab77588ecb = /*#__PURE__*/ (0, $fcPuG$react).createContext(null);\nfunction $f645667febf57a63$var$useFocusableContext(ref) {\n    let context = (0, $fcPuG$useContext)($f645667febf57a63$export$f9762fab77588ecb) || {};\n    (0, $fcPuG$useSyncRef)(context, ref);\n    // eslint-disable-next-line\n    let { ref: _, ...otherProps } = context;\n    return otherProps;\n}\nconst $f645667febf57a63$export$13f3202a3e5ddd5 = /*#__PURE__*/ (0, $fcPuG$react).forwardRef(function FocusableProvider(props, ref) {\n    let { children: children, ...otherProps } = props;\n    let objRef = (0, $fcPuG$useObjectRef)(ref);\n    let context = {\n        ...otherProps,\n        ref: objRef\n    };\n    return /*#__PURE__*/ (0, $fcPuG$react).createElement($f645667febf57a63$export$f9762fab77588ecb.Provider, {\n        value: context\n    }, children);\n});\nfunction $f645667febf57a63$export$4c014de7c8940b4c(props, domRef) {\n    let { focusProps: focusProps } = (0, $a1ea59d68270f0dd$export$f8168d8dd8fd66e6)(props);\n    let { keyboardProps: keyboardProps } = (0, $46d819fcbaf35654$export$8f71654801c2f7cd)(props);\n    let interactions = (0, $fcPuG$mergeProps)(focusProps, keyboardProps);\n    let domProps = $f645667febf57a63$var$useFocusableContext(domRef);\n    let interactionProps = props.isDisabled ? {} : domProps;\n    let autoFocusRef = (0, $fcPuG$useRef)(props.autoFocus);\n    (0, $fcPuG$useEffect)(()=>{\n        if (autoFocusRef.current && domRef.current) (0, $3ad3f6e1647bc98d$export$80f3e147d781571c)(domRef.current);\n        autoFocusRef.current = false;\n    }, [\n        domRef\n    ]);\n    // Always set a tabIndex so that Safari allows focusing native buttons and inputs.\n    let tabIndex = props.excludeFromTabOrder ? -1 : 0;\n    if (props.isDisabled) tabIndex = undefined;\n    return {\n        focusableProps: (0, $fcPuG$mergeProps)({\n            ...interactions,\n            tabIndex: tabIndex\n        }, interactionProps)\n    };\n}\nconst $f645667febf57a63$export$35a3bebf7ef2d934 = /*#__PURE__*/ (0, $fcPuG$forwardRef)(({ children: children, ...props }, ref)=>{\n    ref = (0, $fcPuG$useObjectRef)(ref);\n    let { focusableProps: focusableProps } = $f645667febf57a63$export$4c014de7c8940b4c(props, ref);\n    let child = (0, $fcPuG$react).Children.only(children);\n    (0, $fcPuG$useEffect)(()=>{\n        if (process.env.NODE_ENV === 'production') return;\n        let el = ref.current;\n        if (!el || !(el instanceof (0, $fcPuG$getOwnerWindow)(el).Element)) {\n            console.error('<Focusable> child must forward its ref to a DOM element.');\n            return;\n        }\n        if (!props.isDisabled && !(0, $fcPuG$isFocusable)(el)) {\n            console.warn('<Focusable> child must be focusable. Please ensure the tabIndex prop is passed through.');\n            return;\n        }\n        if (el.localName !== 'button' && el.localName !== 'input' && el.localName !== 'select' && el.localName !== 'textarea' && el.localName !== 'a' && el.localName !== 'area' && el.localName !== 'summary' && el.localName !== 'img' && el.localName !== 'svg') {\n            let role = el.getAttribute('role');\n            if (!role) console.warn('<Focusable> child must have an interactive ARIA role.');\n            else if (// https://w3c.github.io/aria/#widget_roles\n            role !== 'application' && role !== 'button' && role !== 'checkbox' && role !== 'combobox' && role !== 'gridcell' && role !== 'link' && role !== 'menuitem' && role !== 'menuitemcheckbox' && role !== 'menuitemradio' && role !== 'option' && role !== 'radio' && role !== 'searchbox' && role !== 'separator' && role !== 'slider' && role !== 'spinbutton' && role !== 'switch' && role !== 'tab' && role !== 'tabpanel' && role !== 'textbox' && role !== 'treeitem' && // aria-describedby is also announced on these roles\n            role !== 'img' && role !== 'meter' && role !== 'progressbar') console.warn(`<Focusable> child must have an interactive ARIA role. Got \"${role}\".`);\n        }\n    }, [\n        ref,\n        props.isDisabled\n    ]);\n    // @ts-ignore\n    let childRef = parseInt((0, $fcPuG$react).version, 10) < 19 ? child.ref : child.props.ref;\n    return /*#__PURE__*/ (0, $fcPuG$react).cloneElement(child, {\n        ...(0, $fcPuG$mergeProps)(focusableProps, child.props),\n        // @ts-ignore\n        ref: (0, $fcPuG$mergeRefs)(childRef, ref)\n    });\n});\n\n\nexport {$f645667febf57a63$export$f9762fab77588ecb as FocusableContext, $f645667febf57a63$export$13f3202a3e5ddd5 as FocusableProvider, $f645667febf57a63$export$4c014de7c8940b4c as useFocusable, $f645667febf57a63$export$35a3bebf7ef2d934 as Focusable};\n//# sourceMappingURL=useFocusable.module.js.map\n","import {createSyntheticEvent as $8a9cb279dc87e130$export$525bc4921d56d4a, setEventTarget as $8a9cb279dc87e130$export$c2b7abe5d61ec696, useSyntheticBlurEvent as $8a9cb279dc87e130$export$715c682d09d639cc} from \"./utils.mjs\";\nimport {useRef as $3b9Q0$useRef, useCallback as $3b9Q0$useCallback} from \"react\";\nimport {useGlobalListeners as $3b9Q0$useGlobalListeners, getOwnerDocument as $3b9Q0$getOwnerDocument, getActiveElement as $3b9Q0$getActiveElement, getEventTarget as $3b9Q0$getEventTarget, nodeContains as $3b9Q0$nodeContains} from \"@react-aria/utils\";\n\n/*\n * Copyright 2020 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */ // Portions of the code in this file are based on code from react.\n// Original licensing for the following can be found in the\n// NOTICE file in the root directory of this source tree.\n// See https://github.com/facebook/react/tree/cc7c1aece46a6b69b41958d731e0fd27c94bfc6c/packages/react-interactions\n\n\n\nfunction $9ab94262bd0047c7$export$420e68273165f4ec(props) {\n    let { isDisabled: isDisabled, onBlurWithin: onBlurWithin, onFocusWithin: onFocusWithin, onFocusWithinChange: onFocusWithinChange } = props;\n    let state = (0, $3b9Q0$useRef)({\n        isFocusWithin: false\n    });\n    let { addGlobalListener: addGlobalListener, removeAllGlobalListeners: removeAllGlobalListeners } = (0, $3b9Q0$useGlobalListeners)();\n    let onBlur = (0, $3b9Q0$useCallback)((e)=>{\n        // Ignore events bubbling through portals.\n        if (!e.currentTarget.contains(e.target)) return;\n        // We don't want to trigger onBlurWithin and then immediately onFocusWithin again\n        // when moving focus inside the element. Only trigger if the currentTarget doesn't\n        // include the relatedTarget (where focus is moving).\n        if (state.current.isFocusWithin && !e.currentTarget.contains(e.relatedTarget)) {\n            state.current.isFocusWithin = false;\n            removeAllGlobalListeners();\n            if (onBlurWithin) onBlurWithin(e);\n            if (onFocusWithinChange) onFocusWithinChange(false);\n        }\n    }, [\n        onBlurWithin,\n        onFocusWithinChange,\n        state,\n        removeAllGlobalListeners\n    ]);\n    let onSyntheticFocus = (0, $8a9cb279dc87e130$export$715c682d09d639cc)(onBlur);\n    let onFocus = (0, $3b9Q0$useCallback)((e)=>{\n        // Ignore events bubbling through portals.\n        if (!e.currentTarget.contains(e.target)) return;\n        // Double check that document.activeElement actually matches e.target in case a previously chained\n        // focus handler already moved focus somewhere else.\n        const ownerDocument = (0, $3b9Q0$getOwnerDocument)(e.target);\n        const activeElement = (0, $3b9Q0$getActiveElement)(ownerDocument);\n        if (!state.current.isFocusWithin && activeElement === (0, $3b9Q0$getEventTarget)(e.nativeEvent)) {\n            if (onFocusWithin) onFocusWithin(e);\n            if (onFocusWithinChange) onFocusWithinChange(true);\n            state.current.isFocusWithin = true;\n            onSyntheticFocus(e);\n            // Browsers don't fire blur events when elements are removed from the DOM.\n            // However, if a focus event occurs outside the element we're tracking, we\n            // can manually fire onBlur.\n            let currentTarget = e.currentTarget;\n            addGlobalListener(ownerDocument, 'focus', (e)=>{\n                if (state.current.isFocusWithin && !(0, $3b9Q0$nodeContains)(currentTarget, e.target)) {\n                    let nativeEvent = new ownerDocument.defaultView.FocusEvent('blur', {\n                        relatedTarget: e.target\n                    });\n                    (0, $8a9cb279dc87e130$export$c2b7abe5d61ec696)(nativeEvent, currentTarget);\n                    let event = (0, $8a9cb279dc87e130$export$525bc4921d56d4a)(nativeEvent);\n                    onBlur(event);\n                }\n            }, {\n                capture: true\n            });\n        }\n    }, [\n        onFocusWithin,\n        onFocusWithinChange,\n        onSyntheticFocus,\n        addGlobalListener,\n        onBlur\n    ]);\n    if (isDisabled) return {\n        focusWithinProps: {\n            // These cannot be null, that would conflict in mergeProps\n            onFocus: undefined,\n            onBlur: undefined\n        }\n    };\n    return {\n        focusWithinProps: {\n            onFocus: onFocus,\n            onBlur: onBlur\n        }\n    };\n}\n\n\nexport {$9ab94262bd0047c7$export$420e68273165f4ec as useFocusWithin};\n//# sourceMappingURL=useFocusWithin.module.js.map\n","import {useGlobalListeners as $AWxnT$useGlobalListeners, getOwnerDocument as $AWxnT$getOwnerDocument, nodeContains as $AWxnT$nodeContains} from \"@react-aria/utils\";\nimport {useState as $AWxnT$useState, useRef as $AWxnT$useRef, useEffect as $AWxnT$useEffect, useMemo as $AWxnT$useMemo} from \"react\";\n\n/*\n * Copyright 2020 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */ // Portions of the code in this file are based on code from react.\n// Original licensing for the following can be found in the\n// NOTICE file in the root directory of this source tree.\n// See https://github.com/facebook/react/tree/cc7c1aece46a6b69b41958d731e0fd27c94bfc6c/packages/react-interactions\n\n\n// iOS fires onPointerEnter twice: once with pointerType=\"touch\" and again with pointerType=\"mouse\".\n// We want to ignore these emulated events so they do not trigger hover behavior.\n// See https://bugs.webkit.org/show_bug.cgi?id=214609.\nlet $6179b936705e76d3$var$globalIgnoreEmulatedMouseEvents = false;\nlet $6179b936705e76d3$var$hoverCount = 0;\nfunction $6179b936705e76d3$var$setGlobalIgnoreEmulatedMouseEvents() {\n    $6179b936705e76d3$var$globalIgnoreEmulatedMouseEvents = true;\n    // Clear globalIgnoreEmulatedMouseEvents after a short timeout. iOS fires onPointerEnter\n    // with pointerType=\"mouse\" immediately after onPointerUp and before onFocus. On other\n    // devices that don't have this quirk, we don't want to ignore a mouse hover sometime in\n    // the distant future because a user previously touched the element.\n    setTimeout(()=>{\n        $6179b936705e76d3$var$globalIgnoreEmulatedMouseEvents = false;\n    }, 50);\n}\nfunction $6179b936705e76d3$var$handleGlobalPointerEvent(e) {\n    if (e.pointerType === 'touch') $6179b936705e76d3$var$setGlobalIgnoreEmulatedMouseEvents();\n}\nfunction $6179b936705e76d3$var$setupGlobalTouchEvents() {\n    if (typeof document === 'undefined') return;\n    if ($6179b936705e76d3$var$hoverCount === 0) {\n        if (typeof PointerEvent !== 'undefined') document.addEventListener('pointerup', $6179b936705e76d3$var$handleGlobalPointerEvent);\n        else if (process.env.NODE_ENV === 'test') document.addEventListener('touchend', $6179b936705e76d3$var$setGlobalIgnoreEmulatedMouseEvents);\n    }\n    $6179b936705e76d3$var$hoverCount++;\n    return ()=>{\n        $6179b936705e76d3$var$hoverCount--;\n        if ($6179b936705e76d3$var$hoverCount > 0) return;\n        if (typeof PointerEvent !== 'undefined') document.removeEventListener('pointerup', $6179b936705e76d3$var$handleGlobalPointerEvent);\n        else if (process.env.NODE_ENV === 'test') document.removeEventListener('touchend', $6179b936705e76d3$var$setGlobalIgnoreEmulatedMouseEvents);\n    };\n}\nfunction $6179b936705e76d3$export$ae780daf29e6d456(props) {\n    let { onHoverStart: onHoverStart, onHoverChange: onHoverChange, onHoverEnd: onHoverEnd, isDisabled: isDisabled } = props;\n    let [isHovered, setHovered] = (0, $AWxnT$useState)(false);\n    let state = (0, $AWxnT$useRef)({\n        isHovered: false,\n        ignoreEmulatedMouseEvents: false,\n        pointerType: '',\n        target: null\n    }).current;\n    (0, $AWxnT$useEffect)($6179b936705e76d3$var$setupGlobalTouchEvents, []);\n    let { addGlobalListener: addGlobalListener, removeAllGlobalListeners: removeAllGlobalListeners } = (0, $AWxnT$useGlobalListeners)();\n    let { hoverProps: hoverProps, triggerHoverEnd: triggerHoverEnd } = (0, $AWxnT$useMemo)(()=>{\n        let triggerHoverStart = (event, pointerType)=>{\n            state.pointerType = pointerType;\n            if (isDisabled || pointerType === 'touch' || state.isHovered || !event.currentTarget.contains(event.target)) return;\n            state.isHovered = true;\n            let target = event.currentTarget;\n            state.target = target;\n            // When an element that is hovered over is removed, no pointerleave event is fired by the browser,\n            // even though the originally hovered target may have shrunk in size so it is no longer hovered.\n            // However, a pointerover event will be fired on the new target the mouse is over.\n            // In Chrome this happens immediately. In Safari and Firefox, it happens upon moving the mouse one pixel.\n            addGlobalListener((0, $AWxnT$getOwnerDocument)(event.target), 'pointerover', (e)=>{\n                if (state.isHovered && state.target && !(0, $AWxnT$nodeContains)(state.target, e.target)) triggerHoverEnd(e, e.pointerType);\n            }, {\n                capture: true\n            });\n            if (onHoverStart) onHoverStart({\n                type: 'hoverstart',\n                target: target,\n                pointerType: pointerType\n            });\n            if (onHoverChange) onHoverChange(true);\n            setHovered(true);\n        };\n        let triggerHoverEnd = (event, pointerType)=>{\n            let target = state.target;\n            state.pointerType = '';\n            state.target = null;\n            if (pointerType === 'touch' || !state.isHovered || !target) return;\n            state.isHovered = false;\n            removeAllGlobalListeners();\n            if (onHoverEnd) onHoverEnd({\n                type: 'hoverend',\n                target: target,\n                pointerType: pointerType\n            });\n            if (onHoverChange) onHoverChange(false);\n            setHovered(false);\n        };\n        let hoverProps = {};\n        if (typeof PointerEvent !== 'undefined') {\n            hoverProps.onPointerEnter = (e)=>{\n                if ($6179b936705e76d3$var$globalIgnoreEmulatedMouseEvents && e.pointerType === 'mouse') return;\n                triggerHoverStart(e, e.pointerType);\n            };\n            hoverProps.onPointerLeave = (e)=>{\n                if (!isDisabled && e.currentTarget.contains(e.target)) triggerHoverEnd(e, e.pointerType);\n            };\n        } else if (process.env.NODE_ENV === 'test') {\n            hoverProps.onTouchStart = ()=>{\n                state.ignoreEmulatedMouseEvents = true;\n            };\n            hoverProps.onMouseEnter = (e)=>{\n                if (!state.ignoreEmulatedMouseEvents && !$6179b936705e76d3$var$globalIgnoreEmulatedMouseEvents) triggerHoverStart(e, 'mouse');\n                state.ignoreEmulatedMouseEvents = false;\n            };\n            hoverProps.onMouseLeave = (e)=>{\n                if (!isDisabled && e.currentTarget.contains(e.target)) triggerHoverEnd(e, 'mouse');\n            };\n        }\n        return {\n            hoverProps: hoverProps,\n            triggerHoverEnd: triggerHoverEnd\n        };\n    }, [\n        onHoverStart,\n        onHoverChange,\n        onHoverEnd,\n        isDisabled,\n        state,\n        addGlobalListener,\n        removeAllGlobalListeners\n    ]);\n    (0, $AWxnT$useEffect)(()=>{\n        // Call the triggerHoverEnd as soon as isDisabled changes to true\n        // Safe to call triggerHoverEnd, it will early return if we aren't currently hovering\n        if (isDisabled) triggerHoverEnd({\n            currentTarget: state.target\n        }, state.pointerType);\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, [\n        isDisabled\n    ]);\n    return {\n        hoverProps: hoverProps,\n        isHovered: isHovered\n    };\n}\n\n\nexport {$6179b936705e76d3$export$ae780daf29e6d456 as useHover};\n//# sourceMappingURL=useHover.module.js.map\n","import {mergeProps as $bwqiF$mergeProps, filterDOMProps as $bwqiF$filterDOMProps} from \"@react-aria/utils\";\nimport {usePress as $bwqiF$usePress, useFocusable as $bwqiF$useFocusable} from \"@react-aria/interactions\";\n\n/*\n * Copyright 2020 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */ \n\nfunction $701a24aa0da5b062$export$ea18c227d4417cc3(props, ref) {\n    let { elementType: elementType = 'button', isDisabled: isDisabled, onPress: onPress, onPressStart: onPressStart, onPressEnd: onPressEnd, onPressUp: onPressUp, onPressChange: onPressChange, preventFocusOnPress: preventFocusOnPress, allowFocusWhenDisabled: // @ts-ignore - undocumented\n    allowFocusWhenDisabled, onClick: onClick, href: href, target: target, rel: rel, type: type = 'button' } = props;\n    let additionalProps;\n    if (elementType === 'button') additionalProps = {\n        type: type,\n        disabled: isDisabled,\n        form: props.form,\n        formAction: props.formAction,\n        formEncType: props.formEncType,\n        formMethod: props.formMethod,\n        formNoValidate: props.formNoValidate,\n        formTarget: props.formTarget,\n        name: props.name,\n        value: props.value\n    };\n    else additionalProps = {\n        role: 'button',\n        href: elementType === 'a' && !isDisabled ? href : undefined,\n        target: elementType === 'a' ? target : undefined,\n        type: elementType === 'input' ? type : undefined,\n        disabled: elementType === 'input' ? isDisabled : undefined,\n        'aria-disabled': !isDisabled || elementType === 'input' ? undefined : isDisabled,\n        rel: elementType === 'a' ? rel : undefined\n    };\n    let { pressProps: pressProps, isPressed: isPressed } = (0, $bwqiF$usePress)({\n        onPressStart: onPressStart,\n        onPressEnd: onPressEnd,\n        onPressChange: onPressChange,\n        onPress: onPress,\n        onPressUp: onPressUp,\n        onClick: onClick,\n        isDisabled: isDisabled,\n        preventFocusOnPress: preventFocusOnPress,\n        ref: ref\n    });\n    let { focusableProps: focusableProps } = (0, $bwqiF$useFocusable)(props, ref);\n    if (allowFocusWhenDisabled) focusableProps.tabIndex = isDisabled ? -1 : focusableProps.tabIndex;\n    let buttonProps = (0, $bwqiF$mergeProps)(focusableProps, pressProps, (0, $bwqiF$filterDOMProps)(props, {\n        labelable: true\n    }));\n    return {\n        isPressed: isPressed,\n        buttonProps: (0, $bwqiF$mergeProps)(additionalProps, buttonProps, {\n            'aria-haspopup': props['aria-haspopup'],\n            'aria-expanded': props['aria-expanded'],\n            'aria-controls': props['aria-controls'],\n            'aria-pressed': props['aria-pressed'],\n            'aria-current': props['aria-current']\n        })\n    };\n}\n\n\nexport {$701a24aa0da5b062$export$ea18c227d4417cc3 as useButton};\n//# sourceMappingURL=useButton.module.js.map\n","import {isFocusVisible as $isWE5$isFocusVisible, useFocusVisibleListener as $isWE5$useFocusVisibleListener, useFocus as $isWE5$useFocus, useFocusWithin as $isWE5$useFocusWithin} from \"@react-aria/interactions\";\nimport {useRef as $isWE5$useRef, useState as $isWE5$useState, useCallback as $isWE5$useCallback} from \"react\";\n\n\n\nfunction $f7dceffc5ad7768b$export$4e328f61c538687f(props = {}) {\n    let { autoFocus: autoFocus = false, isTextInput: isTextInput, within: within } = props;\n    let state = (0, $isWE5$useRef)({\n        isFocused: false,\n        isFocusVisible: autoFocus || (0, $isWE5$isFocusVisible)()\n    });\n    let [isFocused, setFocused] = (0, $isWE5$useState)(false);\n    let [isFocusVisibleState, setFocusVisible] = (0, $isWE5$useState)(()=>state.current.isFocused && state.current.isFocusVisible);\n    let updateState = (0, $isWE5$useCallback)(()=>setFocusVisible(state.current.isFocused && state.current.isFocusVisible), []);\n    let onFocusChange = (0, $isWE5$useCallback)((isFocused)=>{\n        state.current.isFocused = isFocused;\n        setFocused(isFocused);\n        updateState();\n    }, [\n        updateState\n    ]);\n    (0, $isWE5$useFocusVisibleListener)((isFocusVisible)=>{\n        state.current.isFocusVisible = isFocusVisible;\n        updateState();\n    }, [], {\n        isTextInput: isTextInput\n    });\n    let { focusProps: focusProps } = (0, $isWE5$useFocus)({\n        isDisabled: within,\n        onFocusChange: onFocusChange\n    });\n    let { focusWithinProps: focusWithinProps } = (0, $isWE5$useFocusWithin)({\n        isDisabled: !within,\n        onFocusWithinChange: onFocusChange\n    });\n    return {\n        isFocused: isFocused,\n        isFocusVisible: isFocusVisibleState,\n        focusProps: within ? focusWithinProps : focusProps\n    };\n}\n\n\nexport {$f7dceffc5ad7768b$export$4e328f61c538687f as useFocusRing};\n//# sourceMappingURL=useFocusRing.module.js.map\n","/*\n * Copyright 2020 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */ /* Inspired by https://github.com/AlmeroSteyn/react-aria-live */ const $319e236875307eab$var$LIVEREGION_TIMEOUT_DELAY = 7000;\nlet $319e236875307eab$var$liveAnnouncer = null;\nfunction $319e236875307eab$export$a9b970dcc4ae71a9(message, assertiveness = 'assertive', timeout = $319e236875307eab$var$LIVEREGION_TIMEOUT_DELAY) {\n    if (!$319e236875307eab$var$liveAnnouncer) {\n        $319e236875307eab$var$liveAnnouncer = new $319e236875307eab$var$LiveAnnouncer();\n        // wait for the live announcer regions to be added to the dom, then announce\n        // otherwise Safari won't announce the message if it's added too quickly\n        // found most times less than 100ms were not consistent when announcing with Safari\n        // IS_REACT_ACT_ENVIRONMENT is used by React 18. Previous versions checked for the `jest` global.\n        // https://github.com/reactwg/react-18/discussions/102\n        // if we're in a test environment, announce without waiting\n        // @ts-ignore\n        if (!(typeof IS_REACT_ACT_ENVIRONMENT === 'boolean' ? IS_REACT_ACT_ENVIRONMENT : typeof jest !== 'undefined')) setTimeout(()=>{\n            if ($319e236875307eab$var$liveAnnouncer === null || $319e236875307eab$var$liveAnnouncer === void 0 ? void 0 : $319e236875307eab$var$liveAnnouncer.isAttached()) $319e236875307eab$var$liveAnnouncer === null || $319e236875307eab$var$liveAnnouncer === void 0 ? void 0 : $319e236875307eab$var$liveAnnouncer.announce(message, assertiveness, timeout);\n        }, 100);\n        else $319e236875307eab$var$liveAnnouncer.announce(message, assertiveness, timeout);\n    } else $319e236875307eab$var$liveAnnouncer.announce(message, assertiveness, timeout);\n}\nfunction $319e236875307eab$export$d10ae4f68404609a(assertiveness) {\n    if ($319e236875307eab$var$liveAnnouncer) $319e236875307eab$var$liveAnnouncer.clear(assertiveness);\n}\nfunction $319e236875307eab$export$d8686216b8b81b2f() {\n    if ($319e236875307eab$var$liveAnnouncer) {\n        $319e236875307eab$var$liveAnnouncer.destroy();\n        $319e236875307eab$var$liveAnnouncer = null;\n    }\n}\n// LiveAnnouncer is implemented using vanilla DOM, not React. That's because as of React 18\n// ReactDOM.render is deprecated, and the replacement, ReactDOM.createRoot is moved into a\n// subpath import `react-dom/client`. That makes it hard for us to support multiple React versions.\n// As a global API, we can't use portals without introducing a breaking API change. LiveAnnouncer\n// is simple enough to implement without React, so that's what we do here.\n// See this discussion for more details: https://github.com/reactwg/react-18/discussions/125#discussioncomment-2382638\nclass $319e236875307eab$var$LiveAnnouncer {\n    isAttached() {\n        var _this_node;\n        return (_this_node = this.node) === null || _this_node === void 0 ? void 0 : _this_node.isConnected;\n    }\n    createLog(ariaLive) {\n        let node = document.createElement('div');\n        node.setAttribute('role', 'log');\n        node.setAttribute('aria-live', ariaLive);\n        node.setAttribute('aria-relevant', 'additions');\n        return node;\n    }\n    destroy() {\n        if (!this.node) return;\n        document.body.removeChild(this.node);\n        this.node = null;\n    }\n    announce(message, assertiveness = 'assertive', timeout = $319e236875307eab$var$LIVEREGION_TIMEOUT_DELAY) {\n        var _this_assertiveLog, _this_politeLog;\n        if (!this.node) return;\n        let node = document.createElement('div');\n        if (typeof message === 'object') {\n            // To read an aria-labelledby, the element must have an appropriate role, such as img.\n            node.setAttribute('role', 'img');\n            node.setAttribute('aria-labelledby', message['aria-labelledby']);\n        } else node.textContent = message;\n        if (assertiveness === 'assertive') (_this_assertiveLog = this.assertiveLog) === null || _this_assertiveLog === void 0 ? void 0 : _this_assertiveLog.appendChild(node);\n        else (_this_politeLog = this.politeLog) === null || _this_politeLog === void 0 ? void 0 : _this_politeLog.appendChild(node);\n        if (message !== '') setTimeout(()=>{\n            node.remove();\n        }, timeout);\n    }\n    clear(assertiveness) {\n        if (!this.node) return;\n        if ((!assertiveness || assertiveness === 'assertive') && this.assertiveLog) this.assertiveLog.innerHTML = '';\n        if ((!assertiveness || assertiveness === 'polite') && this.politeLog) this.politeLog.innerHTML = '';\n    }\n    constructor(){\n        this.node = null;\n        this.assertiveLog = null;\n        this.politeLog = null;\n        if (typeof document !== 'undefined') {\n            this.node = document.createElement('div');\n            this.node.dataset.liveAnnouncer = 'true';\n            // copied from VisuallyHidden\n            Object.assign(this.node.style, {\n                border: 0,\n                clip: 'rect(0 0 0 0)',\n                clipPath: 'inset(50%)',\n                height: '1px',\n                margin: '-1px',\n                overflow: 'hidden',\n                padding: 0,\n                position: 'absolute',\n                width: '1px',\n                whiteSpace: 'nowrap'\n            });\n            this.assertiveLog = this.createLog('assertive');\n            this.node.appendChild(this.assertiveLog);\n            this.politeLog = this.createLog('polite');\n            this.node.appendChild(this.politeLog);\n            document.body.prepend(this.node);\n        }\n    }\n}\n\n\nexport {$319e236875307eab$export$a9b970dcc4ae71a9 as announce, $319e236875307eab$export$d10ae4f68404609a as clearAnnouncer, $319e236875307eab$export$d8686216b8b81b2f as destroyAnnouncer};\n//# sourceMappingURL=LiveAnnouncer.module.js.map\n","import {useContextProps as $64fa3d84918910a7$export$29f1550f4b0d4415, useRenderProps as $64fa3d84918910a7$export$4d86445c2cf5e3, useSlot as $64fa3d84918910a7$export$9d4c57ee4c6ffdd8} from \"./utils.mjs\";\nimport {LabelContext as $01b77f81d0f07f68$export$75b6ee27786ba447} from \"./Label.mjs\";\nimport {useProgressBar as $hU2kz$useProgressBar} from \"react-aria\";\nimport {clamp as $hU2kz$clamp} from \"@react-stately/utils\";\nimport {filterDOMProps as $hU2kz$filterDOMProps, mergeProps as $hU2kz$mergeProps} from \"@react-aria/utils\";\nimport $hU2kz$react, {createContext as $hU2kz$createContext, forwardRef as $hU2kz$forwardRef} from \"react\";\n\n/*\n * Copyright 2022 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */ \n\n\n\n\n\nconst $0393f8ab869a0f1a$export$e9f3bf65a26ce129 = /*#__PURE__*/ (0, $hU2kz$createContext)(null);\nconst $0393f8ab869a0f1a$export$c17561cb55d4db30 = /*#__PURE__*/ (0, $hU2kz$forwardRef)(function ProgressBar(props, ref) {\n    [props, ref] = (0, $64fa3d84918910a7$export$29f1550f4b0d4415)(props, ref, $0393f8ab869a0f1a$export$e9f3bf65a26ce129);\n    let { value: value = 0, minValue: minValue = 0, maxValue: maxValue = 100, isIndeterminate: isIndeterminate = false } = props;\n    value = (0, $hU2kz$clamp)(value, minValue, maxValue);\n    let [labelRef, label] = (0, $64fa3d84918910a7$export$9d4c57ee4c6ffdd8)(!props['aria-label'] && !props['aria-labelledby']);\n    let { progressBarProps: progressBarProps, labelProps: labelProps } = (0, $hU2kz$useProgressBar)({\n        ...props,\n        label: label\n    });\n    // Calculate the width of the progress bar as a percentage\n    let percentage = isIndeterminate ? undefined : (value - minValue) / (maxValue - minValue) * 100;\n    let renderProps = (0, $64fa3d84918910a7$export$4d86445c2cf5e3)({\n        ...props,\n        defaultClassName: 'react-aria-ProgressBar',\n        values: {\n            percentage: percentage,\n            valueText: progressBarProps['aria-valuetext'],\n            isIndeterminate: isIndeterminate\n        }\n    });\n    let DOMProps = (0, $hU2kz$filterDOMProps)(props, {\n        global: true\n    });\n    return /*#__PURE__*/ (0, $hU2kz$react).createElement(\"div\", {\n        ...(0, $hU2kz$mergeProps)(DOMProps, renderProps, progressBarProps),\n        ref: ref,\n        slot: props.slot || undefined\n    }, /*#__PURE__*/ (0, $hU2kz$react).createElement((0, $01b77f81d0f07f68$export$75b6ee27786ba447).Provider, {\n        value: {\n            ...labelProps,\n            ref: labelRef,\n            elementType: 'span'\n        }\n    }, renderProps.children));\n});\n\n\nexport {$0393f8ab869a0f1a$export$e9f3bf65a26ce129 as ProgressBarContext, $0393f8ab869a0f1a$export$c17561cb55d4db30 as ProgressBar};\n//# sourceMappingURL=ProgressBar.module.js.map\n","import {useContextProps as $64fa3d84918910a7$export$29f1550f4b0d4415, useRenderProps as $64fa3d84918910a7$export$4d86445c2cf5e3} from \"./utils.mjs\";\nimport {ProgressBarContext as $0393f8ab869a0f1a$export$e9f3bf65a26ce129} from \"./ProgressBar.mjs\";\nimport {announce as $fM325$announce} from \"@react-aria/live-announcer\";\nimport {useButton as $fM325$useButton, useFocusRing as $fM325$useFocusRing, useHover as $fM325$useHover, useId as $fM325$useId, mergeProps as $fM325$mergeProps} from \"react-aria\";\nimport {createHideableComponent as $fM325$createHideableComponent} from \"@react-aria/collections\";\nimport {filterDOMProps as $fM325$filterDOMProps} from \"@react-aria/utils\";\nimport $fM325$react, {createContext as $fM325$createContext, useRef as $fM325$useRef, useEffect as $fM325$useEffect} from \"react\";\n\n/*\n * Copyright 2022 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */ \n\n\n\n\n\n\nconst $d2b4bc8c273e7be6$export$24d547caef80ccd1 = /*#__PURE__*/ (0, $fM325$createContext)({});\nconst $d2b4bc8c273e7be6$export$353f5b6fc5456de1 = /*#__PURE__*/ (0, $fM325$createHideableComponent)(function Button(props, ref) {\n    [props, ref] = (0, $64fa3d84918910a7$export$29f1550f4b0d4415)(props, ref, $d2b4bc8c273e7be6$export$24d547caef80ccd1);\n    props = $d2b4bc8c273e7be6$var$disablePendingProps(props);\n    let ctx = props;\n    let { isPending: isPending } = ctx;\n    let { buttonProps: buttonProps, isPressed: isPressed } = (0, $fM325$useButton)(props, ref);\n    let { focusProps: focusProps, isFocused: isFocused, isFocusVisible: isFocusVisible } = (0, $fM325$useFocusRing)(props);\n    let { hoverProps: hoverProps, isHovered: isHovered } = (0, $fM325$useHover)({\n        ...props,\n        isDisabled: props.isDisabled || isPending\n    });\n    let renderValues = {\n        isHovered: isHovered,\n        isPressed: (ctx.isPressed || isPressed) && !isPending,\n        isFocused: isFocused,\n        isFocusVisible: isFocusVisible,\n        isDisabled: props.isDisabled || false,\n        isPending: isPending !== null && isPending !== void 0 ? isPending : false\n    };\n    let renderProps = (0, $64fa3d84918910a7$export$4d86445c2cf5e3)({\n        ...props,\n        values: renderValues,\n        defaultClassName: 'react-aria-Button'\n    });\n    let buttonId = (0, $fM325$useId)(buttonProps.id);\n    let progressId = (0, $fM325$useId)();\n    let ariaLabelledby = buttonProps['aria-labelledby'];\n    if (isPending) {\n        // aria-labelledby wins over aria-label\n        // https://www.w3.org/TR/accname-1.2/#computation-steps\n        if (ariaLabelledby) ariaLabelledby = `${ariaLabelledby} ${progressId}`;\n        else if (buttonProps['aria-label']) ariaLabelledby = `${buttonId} ${progressId}`;\n    }\n    let wasPending = (0, $fM325$useRef)(isPending);\n    (0, $fM325$useEffect)(()=>{\n        let message = {\n            'aria-labelledby': ariaLabelledby || buttonId\n        };\n        if (!wasPending.current && isFocused && isPending) (0, $fM325$announce)(message, 'assertive');\n        else if (wasPending.current && isFocused && !isPending) (0, $fM325$announce)(message, 'assertive');\n        wasPending.current = isPending;\n    }, [\n        isPending,\n        isFocused,\n        ariaLabelledby,\n        buttonId\n    ]);\n    let DOMProps = (0, $fM325$filterDOMProps)(props, {\n        global: true\n    });\n    delete DOMProps.onClick;\n    return /*#__PURE__*/ (0, $fM325$react).createElement(\"button\", {\n        ...(0, $fM325$mergeProps)(DOMProps, renderProps, buttonProps, focusProps, hoverProps),\n        // When the button is in a pending state, we want to stop implicit form submission (ie. when the user presses enter on a text input).\n        // We do this by changing the button's type to button.\n        type: buttonProps.type === 'submit' && isPending ? 'button' : buttonProps.type,\n        id: buttonId,\n        ref: ref,\n        \"aria-labelledby\": ariaLabelledby,\n        slot: props.slot || undefined,\n        \"aria-disabled\": isPending ? 'true' : buttonProps['aria-disabled'],\n        \"data-disabled\": props.isDisabled || undefined,\n        \"data-pressed\": renderValues.isPressed || undefined,\n        \"data-hovered\": isHovered || undefined,\n        \"data-focused\": isFocused || undefined,\n        \"data-pending\": isPending || undefined,\n        \"data-focus-visible\": isFocusVisible || undefined\n    }, /*#__PURE__*/ (0, $fM325$react).createElement((0, $0393f8ab869a0f1a$export$e9f3bf65a26ce129).Provider, {\n        value: {\n            id: progressId\n        }\n    }, renderProps.children));\n});\nfunction $d2b4bc8c273e7be6$var$disablePendingProps(props) {\n    // Don't allow interaction while isPending is true\n    if (props.isPending) {\n        props.onPress = undefined;\n        props.onPressStart = undefined;\n        props.onPressEnd = undefined;\n        props.onPressChange = undefined;\n        props.onPressUp = undefined;\n        props.onKeyDown = undefined;\n        props.onKeyUp = undefined;\n        props.onClick = undefined;\n        props.href = undefined;\n    }\n    return props;\n}\n\n\nexport {$d2b4bc8c273e7be6$export$24d547caef80ccd1 as ButtonContext, $d2b4bc8c273e7be6$export$353f5b6fc5456de1 as Button};\n//# sourceMappingURL=Button.module.js.map\n","import * as React from 'react';\nimport { Button as ReactButton, ButtonProps as ReactButtonProps } from 'react-aria-components';\nconst { forwardRef } = React;\nimport { ButtonVariant, ButtonSize } from './Button.types';\nimport './Button.scss';\n\n/**\n * Props for the NHS Button component built with React Aria\n */\nexport interface NHSButtonProps extends Omit<ReactButtonProps, 'className'> {\n\t/**\n\t * The variant of the button\n\t * @default 'primary'\n\t */\n\tvariant?: ButtonVariant;\n\t\n\t/**\n\t * The size of the button\n\t * @default 'default'\n\t */\n\tsize?: ButtonSize;\n\t\n\t/**\n\t * Whether the button should take up the full width of its container\n\t * @default false\n\t */\n\tfullWidth?: boolean;\n\t\n\t/**\n\t * Additional CSS class names\n\t */\n\tclassName?: string;\n\t\n\t/**\n\t * Button content\n\t */\n\tchildren: React.ReactNode;\n}\n\n/**\n * NHS Button Component with React Aria\n * \n * A button component built with React Aria that provides excellent accessibility\n * out of the box while following NHS design guidelines.\n * \n * Features:\n * - Full keyboard navigation support\n * - Screen reader compatibility\n * - Focus management\n * - Proper ARIA attributes\n * - Press state management\n * \n * @example\n * ```tsx\n * <Button variant=\"primary\" size=\"default\">\n *\t Continue\n * </Button>\n * ```\n */\nexport const Button = forwardRef<HTMLButtonElement, NHSButtonProps>(\n\t({\n\t\tchildren,\n\t\tvariant = 'primary',\n\t\tsize = 'default',\n\t\tfullWidth = false,\n\t\tclassName = '',\n\t\t...rest\n\t},\n\t\tref\n\t) => {\n\t\t// Build CSS classes\n\t\tconst classes = [\n\t\t\t'nhs-aria-button',\n\t\t\t`nhs-aria-button--${variant}`,\n\t\t\tsize !== 'default' ? `nhs-aria-button--${size}` : '',\n\t\t\tfullWidth ? 'nhs-aria-button--full-width' : '',\n\t\t\tclassName\n\t\t].filter(Boolean).join(' ');\n\n\t\treturn (\n\t\t\t<ReactButton\n\t\t\tref={ref}\n\t\t\tclassName={classes}\n\t\t\t{...rest}\n\t\t\t>\n\t\t\t{children}\n\t\t\t</ReactButton>\n\t\t);\n\t}\n);\n\nButton.displayName = 'Button';\n\nexport default Button;\n","import React from 'react';\nimport classNames from 'classnames';\nimport './BackLink.scss';\nimport { BackLinkProps } from './BackLink.types';\n\nexport const BackLink: React.FC<BackLinkProps> = ({\n  text = 'Back',\n  html,\n  href = '#',\n  className,\n  element = 'a',\n  onClick,\n  ...props\n}) => {\n  const containerClasses = classNames(\n    'nhsuk-back-link',\n    className\n  );\n\n  const linkClasses = classNames(\n    'nhsuk-back-link__link'\n  );\n\n  const renderContent = () => {\n    return (\n      <>\n        <svg \n          className=\"nhsuk-icon nhsuk-icon__chevron-left\" \n          xmlns=\"http://www.w3.org/2000/svg\" \n          viewBox=\"0 0 24 24\" \n          aria-hidden=\"true\" \n          height=\"24\" \n          width=\"24\"\n        >\n          <path d=\"M8.5 12c0-.3.1-.5.3-.7l5-5c.4-.4 1-.4 1.4 0s.4 1 0 1.4L10.9 12l4.3 4.3c.4.4.4 1 0 1.4s-1 .4-1.4 0l-5-5c-.2-.2-.3-.4-.3-.7z\"></path>\n        </svg>\n        { html ? (\n          <span dangerouslySetInnerHTML={{ __html: html }} />\n        ) : (\n          text\n        )}\n      </>\n    );\n  };\n\n  return (\n    <div className={containerClasses}>\n      { element === 'button' ? (\n        <button\n          className={linkClasses}\n          onClick={onClick}\n          type=\"button\"\n          {...props}\n        >\n          {renderContent()}\n        </button>\n      ) : (\n        <a\n          className={linkClasses}\n          href={href}\n          {...props}\n        >\n          {renderContent()}\n        </a>\n      )}\n    </div>\n  );\n};\n","import React from 'react';\nimport classNames from 'classnames';\nimport './Tag.scss';\nimport { TagProps } from './Tag.types';\n\nexport const Tag: React.FC<TagProps> = ({\n  text,\n  html,\n  children,\n  color = 'default',\n  noBorder = false,\n  closable = false,\n  onClose,\n  disabled = false,\n  className,\n  ...props\n}) => {\n  const tagClasses = classNames(\n    'nhsuk-tag',\n    {\n      [`nhsuk-tag--${color}`]: color !== 'default',\n      'nhsuk-tag--no-border': noBorder,\n      'nhsuk-tag--closable': closable,\n      'nhsuk-tag--disabled': disabled,\n    },\n    className\n  );\n\n  const handleClose = (e: React.MouseEvent) => {\n    e.preventDefault();\n    e.stopPropagation();\n    if (!disabled && onClose) {\n      onClose();\n    }\n  };\n\n  return (\n    <strong className={tagClasses} {...props}>\n      {/* Content - children take precedence, then html, then text */}\n      {children ? (\n        children\n      ) : html ? (\n        <span dangerouslySetInnerHTML={{ __html: html }} />\n      ) : (\n        text\n      )}\n      \n      {/* Close button */}\n      {closable && (\n        <button\n          type=\"button\"\n          className=\"nhsuk-tag__close\"\n          onClick={handleClose}\n          disabled={disabled}\n          aria-label=\"Remove\"\n          title=\"Remove\"\n        >\n          \n        </button>\n      )}\n    </strong>\n  );\n};\n","import React from 'react';\nimport classNames from 'classnames';\nimport './Input.scss';\nimport { InputProps } from './Input.types';\n\nexport const Input: React.FC<InputProps> = ({\n  id,\n  name,\n  type = 'text',\n  value,\n  defaultValue,\n  placeholder,\n  disabled = false,\n  readOnly = false,\n  required = false,\n  hasError = false,\n  describedBy,\n  className,\n  width = 'full',\n  inputMode,\n  autoComplete,\n  maxLength,\n  minLength,\n  pattern,\n  step,\n  min,\n  max,\n  onChange,\n  onBlur,\n  onFocus,\n  onKeyDown,\n  ...props\n}) => {\n  const inputClasses = classNames(\n    'nhsuk-input',\n    {\n      'nhsuk-input--error': hasError,\n      [`nhsuk-input--width-${width}`]: width !== 'full',\n    },\n    className\n  );\n\n  return (\n    <input\n      className={inputClasses}\n      id={id}\n      name={name}\n      type={type}\n      value={value}\n      defaultValue={defaultValue}\n      placeholder={placeholder}\n      disabled={disabled}\n      readOnly={readOnly}\n      required={required}\n      aria-describedby={describedBy}\n      inputMode={inputMode}\n      autoComplete={autoComplete}\n      maxLength={maxLength}\n      minLength={minLength}\n      pattern={pattern}\n      step={step}\n      min={min}\n      max={max}\n      onChange={onChange}\n      onBlur={onBlur}\n      onFocus={onFocus}\n      onKeyDown={onKeyDown}\n      {...props}\n    />\n  );\n};\n","import React from 'react';\nimport classNames from 'classnames';\nimport './Label.scss';\nimport { LabelProps } from './Label.types';\n\nexport const Label: React.FC<LabelProps> = ({\n  htmlFor,\n  className,\n  isPageHeading = false,\n  size = 'm',\n  children,\n  ...props\n}) => {\n  const labelClasses = classNames(\n    'nhsuk-label',\n    {\n      [`nhsuk-label--${size}`]: size !== 'm',\n    },\n    className\n  );\n\n  const LabelElement = isPageHeading ? 'h1' : 'label';\n\n  return (\n    <LabelElement\n      className={labelClasses}\n      htmlFor={isPageHeading ? undefined : htmlFor}\n      {...props}\n    >\n      {isPageHeading ? (\n        <label className=\"nhsuk-label-wrapper\" htmlFor={htmlFor}>\n          {children}\n        </label>\n      ) : (\n        children\n      )}\n    </LabelElement>\n  );\n};\n","import React from 'react';\nimport classNames from 'classnames';\nimport './Fieldset.scss';\nimport { FieldsetProps } from './Fieldset.types';\n\nexport const Fieldset: React.FC<FieldsetProps> = ({\n  children,\n  legend,\n  className,\n  describedBy,\n  ...fieldsetProps\n}) => {\n  const fieldsetClasses = classNames(\n    'nhsuk-fieldset',\n    className\n  );\n\n  const legendClasses = classNames(\n    'nhsuk-fieldset__legend',\n    {\n      [`nhsuk-fieldset__legend--${legend?.size}`]: legend?.size,\n    },\n    legend?.className\n  );\n\n  const renderLegendContent = () => {\n    const content = legend?.html ? (\n      <span dangerouslySetInnerHTML={{ __html: legend.html }} />\n    ) : (\n      legend?.text\n    );\n\n    if (legend?.isPageHeading) {\n      return (\n        <h1 className=\"nhsuk-fieldset__heading\">\n          {content}\n        </h1>\n      );\n    }\n\n    return content;\n  };\n\n  return (\n    <fieldset\n      className={fieldsetClasses}\n      aria-describedby={describedBy}\n      {...fieldsetProps}\n    >\n      {legend && (legend.text || legend.html) && (\n        <legend className={legendClasses}>\n          {renderLegendContent()}\n        </legend>\n      )}\n      {children}\n    </fieldset>\n  );\n};\n","import React, { useState, ReactNode } from 'react';\nimport classNames from 'classnames';\nimport { CheckboxesProps, CheckboxConditionalProps } from './Checkboxes.types';\nimport { Input } from '../Input/Input';\nimport { Label } from '../Label/Label';\nimport { Fieldset } from '../Fieldset/Fieldset';\nimport './Checkboxes.scss';\n\n/**\n * NHS Checkboxes Component\n * \n * A checkboxes component that follows NHS design guidelines and uses the NHS design tokens.\n * Supports multiple selection, hints, error messages, conditional content, and small variant.\n * \n * @example\n * ```tsx\n * <Checkboxes\n *   name=\"nationality\"\n *   legend=\"What is your nationality?\"\n *   items={[\n *     { value: 'british', text: 'British' },\n *     { value: 'irish', text: 'Irish' },\n *     { value: 'other', text: 'Other' }\n *   ]}\n * />\n * ```\n */\nexport const Checkboxes: React.FC<CheckboxesProps> = ({\n  items,\n  name,\n  idPrefix,\n  legend,\n  isPageHeading = false,\n  legendSize = 'l',\n  hint,\n  errorMessage,\n  className = '',\n  small = false,\n  onChange,\n  fieldsetAttributes,\n  attributes,\n  ...props\n}) => {\n  const [selectedValues, setSelectedValues] = useState<string[]>(\n    items.filter(item => item.checked).map(item => item.value)\n  );\n\n  // Generate IDs\n  const finalIdPrefix = idPrefix || name;\n  const hintId = hint ? `${finalIdPrefix}-hint` : undefined;\n  const errorId = errorMessage ? `${finalIdPrefix}-error` : undefined;\n  const describedBy = [hintId, errorId].filter(Boolean).join(' ') || undefined;\n\n  const handleCheckboxChange = (value: string, checked: boolean) => {\n    let newValues: string[];\n    \n    if (checked) {\n      newValues = [...selectedValues, value];\n    } else {\n      newValues = selectedValues.filter(v => v !== value);\n    }\n    \n    setSelectedValues(newValues);\n    \n    onChange?.(newValues);\n  };\n\n  // Render each checkbox item with its conditional content (if any)\n  const renderItems = () => {\n    return items.map((item, index) => {\n      const itemId = `${finalIdPrefix}-${index + 1}`;\n      const conditionalId = `${itemId}-conditional`;\n      const isChecked = selectedValues.includes(item.value);\n      const isDisabled = item.disabled || false;\n\n      return (\n        <div key={item.value} className=\"nhsuk-checkboxes__item\">\n          <input\n            className=\"nhsuk-checkboxes__input\"\n            id={itemId}\n            name={name}\n            type=\"checkbox\"\n            value={item.value}\n            checked={isChecked}\n            disabled={isDisabled}\n            onChange={(e) => handleCheckboxChange(item.value, e.target.checked)}\n            aria-describedby={item.hint ? `${itemId}-hint` : describedBy}\n            {...(item.conditional && {\n              'aria-controls': conditionalId,\n              'aria-expanded': isChecked ? 'true' : 'false'\n            })}\n            {...item.attributes}\n          />\n          <label className=\"nhsuk-checkboxes__label\" htmlFor={itemId}>\n            {item.text}\n          </label>\n          {item.hint && (\n            <div id={`${itemId}-hint`} className=\"nhsuk-checkboxes__hint\">\n              {item.hint}\n            </div>\n          )}\n          {item.conditional && (\n            <div\n              className={classNames('nhsuk-checkboxes__conditional', {\n                'nhsuk-checkboxes__conditional--hidden': !isChecked,\n              })}\n              id={conditionalId}\n            >\n              {typeof item.conditional === 'object' && \n               item.conditional !== null && \n               'label' in item.conditional && \n               'id' in item.conditional && \n               'name' in item.conditional ? (\n                <div style={{ marginTop: '16px' }}>\n                  {(item.conditional as CheckboxConditionalProps).label && (\n                    <Label htmlFor={(item.conditional as CheckboxConditionalProps).id}>\n                      {(item.conditional as CheckboxConditionalProps).label}\n                    </Label>\n                  )}\n                  <Input {...(item.conditional as CheckboxConditionalProps)} />\n                </div>\n              ) : (\n                item.conditional as ReactNode\n              )}\n            </div>\n          )}\n        </div>\n      );\n    });\n  };\n\n  const checkboxesClasses = classNames(\n    'nhsuk-checkboxes',\n    {\n      'nhsuk-checkboxes--small': small,\n    },\n    className\n  );\n\n  const formGroupClasses = classNames('nhsuk-form-group', {\n    'nhsuk-form-group--error': !!errorMessage,\n  });\n\n  return (\n    <div className={formGroupClasses} {...attributes} {...props}>\n      <Fieldset\n        legend={legend ? {\n          text: legend,\n          isPageHeading,\n          size: legendSize\n        } : undefined}\n        describedBy={describedBy}\n        {...fieldsetAttributes}\n      >\n        {hint && (\n          <div id={hintId} className=\"nhsuk-hint\">\n            {hint}\n          </div>\n        )}\n        \n        {errorMessage && (\n          <div id={errorId} className=\"nhsuk-error-message\">\n            <span className=\"nhsuk-u-visually-hidden\">Error:</span> {errorMessage}\n          </div>\n        )}\n        \n        <div className={checkboxesClasses}>\n          {renderItems()}\n        </div>\n      </Fieldset>\n    </div>\n  );\n};\n\nCheckboxes.displayName = 'Checkboxes';\n\nexport default Checkboxes;\n","import React from 'react';\nimport classNames from 'classnames';\nimport './Textarea.scss';\nimport { TextareaProps } from './Textarea.types';\n\nexport const Textarea: React.FC<TextareaProps> = ({\n  id,\n  name,\n  value,\n  defaultValue,\n  placeholder,\n  disabled = false,\n  readOnly = false,\n  required = false,\n  hasError = false,\n  describedBy,\n  className,\n  rows = 5,\n  cols,\n  maxLength,\n  minLength,\n  wrap = 'soft',\n  resize = 'vertical',\n  autoComplete,\n  spellCheck,\n  onChange,\n  onBlur,\n  onFocus,\n  onKeyDown,\n  ...props\n}) => {\n  const textareaClasses = classNames(\n    'nhsuk-textarea',\n    {\n      'nhsuk-textarea--error': hasError,\n      [`nhsuk-textarea--resize-${resize}`]: resize !== 'vertical',\n    },\n    className\n  );\n\n  return (\n    <textarea\n      className={textareaClasses}\n      id={id}\n      name={name}\n      value={value}\n      defaultValue={defaultValue}\n      placeholder={placeholder}\n      disabled={disabled}\n      readOnly={readOnly}\n      required={required}\n      aria-describedby={describedBy}\n      rows={rows}\n      cols={cols}\n      maxLength={maxLength}\n      minLength={minLength}\n      wrap={wrap}\n      autoComplete={autoComplete}\n      spellCheck={spellCheck}\n      onChange={onChange}\n      onBlur={onBlur}\n      onFocus={onFocus}\n      onKeyDown={onKeyDown}\n      {...props}\n    />\n  );\n};\n","import React from 'react';\nimport classNames from 'classnames';\nimport './Hint.scss';\nimport { HintProps } from './Hint.types';\n\nexport const Hint: React.FC<HintProps> = ({\n  id,\n  className,\n  children,\n  ...props\n}) => {\n  const hintClasses = classNames('nhsuk-hint', className);\n\n  return (\n    <div className={hintClasses} id={id} {...props}>\n      {children}\n    </div>\n  );\n};\n","import React, { useState, useEffect, useCallback } from 'react';\nimport classNames from 'classnames';\nimport './CharacterCount.scss';\nimport { CharacterCountProps } from './CharacterCount.types';\nimport { Textarea } from '../Textarea';\nimport { Hint } from '../Hint';\n\nexport const CharacterCount: React.FC<CharacterCountProps> = ({\n  id,\n  maxLength,\n  maxWords,\n  threshold = 75,\n  name,\n  value = '',\n  rows,\n  className,\n  countMessage,\n  onCountChange,\n  onChange,\n  ...textareaProps\n}) => {\n  const [currentValue, setCurrentValue] = useState(value);\n  const [remaining, setRemaining] = useState(0);\n  const [isOverLimit, setIsOverLimit] = useState(false);\n  const [showCount, setShowCount] = useState(false);\n\n  // Calculate count based on whether we're counting characters or words\n  const calculateCount = useCallback((text: string) => {\n    if (maxWords) {\n      // Count words (split by whitespace and filter empty strings)\n      return text.trim() === '' ? 0 : text.trim().split(/\\s+/).length;\n    } else {\n      // Count characters\n      return text.length;\n    }\n  }, [maxWords]);\n\n  // Update counts whenever value changes\n  useEffect(() => {\n    const newCount = calculateCount(currentValue);\n    const limit = maxLength || maxWords || 0;\n    const newRemaining = limit - newCount;\n    const thresholdCount = Math.floor(limit * (threshold / 100));\n    \n    setRemaining(newRemaining);\n    setIsOverLimit(newCount > limit);\n    setShowCount(newCount >= thresholdCount || newCount > limit);\n\n    // Call the callback if provided\n    if (onCountChange) {\n      onCountChange(newCount, newRemaining);\n    }\n  }, [currentValue, maxLength, maxWords, threshold, calculateCount, onCountChange]);\n\n  // Handle input changes\n  const handleChange = (event: React.ChangeEvent<HTMLTextAreaElement>) => {\n    const newValue = event.target.value;\n    setCurrentValue(newValue);\n    \n    if (onChange) {\n      onChange(event);\n    }\n  };\n\n  // Generate count message\n  const generateCountMessage = () => {\n    const limit = maxLength || maxWords || 0;\n    const unit = maxWords ? 'word' : 'character';\n    const unitPlural = maxWords ? 'words' : 'characters';\n    \n    if (!showCount) {\n      return `You can enter up to ${limit} ${limit === 1 ? unit : unitPlural}`;\n    }\n    \n    if (isOverLimit) {\n      const overage = Math.abs(remaining);\n      return `You have ${overage} ${overage === 1 ? unit : unitPlural} too many`;\n    } else {\n      return `You have ${remaining} ${remaining === 1 ? unit : unitPlural} remaining`;\n    }\n  };\n\n  const characterCountClasses = classNames(\n    'nhsuk-character-count',\n    className\n  );\n\n  const messageClasses = classNames(\n    'nhsuk-character-count__message',\n    {\n      'nhsuk-character-count__message--disabled': !showCount,\n      'nhsuk-error-message': isOverLimit\n    },\n    countMessage?.classes\n  );\n\n  const textareaClasses = classNames(\n    'nhsuk-js-character-count',\n    {\n      'nhsuk-textarea--error': isOverLimit\n    }\n  );\n\n  return (\n    <div \n      className={characterCountClasses}\n      data-module=\"nhsuk-character-count\"\n      data-maxlength={maxLength}\n      data-maxwords={maxWords}\n      data-threshold={threshold}\n      data-testid=\"character-count\"\n    >\n      <Textarea\n        id={id}\n        name={name}\n        value={currentValue}\n        rows={rows}\n        className={textareaClasses}\n        onChange={handleChange}\n        aria-describedby={`${id}-info`}\n        {...textareaProps}\n      />\n      \n      <Hint\n        id={`${id}-info`}\n        className={messageClasses}\n      >\n        {generateCountMessage()}\n      </Hint>\n    </div>\n  );\n};","import React from 'react';\nimport classNames from 'classnames';\nimport './Select.scss';\nimport { SelectProps } from './Select.types';\n\nexport const Select: React.FC<SelectProps> = ({\n  id,\n  name,\n  value,\n  defaultValue,\n  disabled = false,\n  required = false,\n  hasError = false,\n  describedBy,\n  className,\n  multiple = false,\n  size,\n  autoComplete,\n  options,\n  onChange,\n  onBlur,\n  onFocus,\n  ...props\n}) => {\n  const selectClasses = classNames(\n    'nhsuk-select',\n    {\n      'nhsuk-select--error': hasError,\n    },\n    className\n  );\n\n  return (\n    <select\n      className={selectClasses}\n      id={id}\n      name={name}\n      value={value}\n      defaultValue={defaultValue}\n      disabled={disabled}\n      required={required}\n      aria-describedby={describedBy}\n      multiple={multiple}\n      size={size}\n      autoComplete={autoComplete}\n      onChange={onChange}\n      onBlur={onBlur}\n      onFocus={onFocus}\n      {...props}\n    >\n      {options.map((option, index) => (\n        <option\n          key={`${option.value}-${index}`}\n          value={option.value}\n          disabled={option.disabled}\n          selected={option.selected}\n        >\n          {option.text}\n        </option>\n      ))}\n    </select>\n  );\n};\n","import React, { useState, ReactNode } from 'react';\nimport classNames from 'classnames';\nimport { RadiosProps, RadioConditionalProps } from './Radios.types';\nimport { Input } from '../Input/Input';\nimport { Label } from '../Label/Label';\nimport { Fieldset } from '../Fieldset/Fieldset';\nimport './Radios.scss';\n\nexport const Radios: React.FC<RadiosProps> = ({\n  name,\n  value,\n  defaultValue,\n  hasError = false,\n  describedBy,\n  className,\n  size = 'normal',\n  inline = false,\n  options,\n  onChange,\n  onBlur,\n  onFocus,\n  ...props\n}) => {\n  const [selectedValue, setSelectedValue] = useState(value || defaultValue || '');\n\n  const radiosClasses = classNames(\n    'nhsuk-radios',\n    {\n      'nhsuk-radios--error': hasError,\n      'nhsuk-radios--small': size === 'small',\n      'nhsuk-radios--inline': inline,\n    },\n    className\n  );\n\n  const handleChange = (event: React.ChangeEvent<HTMLInputElement>) => {\n    const newValue = event.target.value;\n    setSelectedValue(newValue);\n    if (onChange) {\n      onChange(event);\n    }\n  };\n\n\treturn (\n\t  <Fieldset>\n\t\t\t<div className={radiosClasses} {...props}>\n\t\t\t\t{options.map((option, index) => {\n\t\t\t\t\tconst radioId = `${name}-${index}`;\n\t\t\t\t\tconst conditionalId = option.conditional ? `${radioId}-conditional` : undefined;\n\t\t\t\t\tconst isSelected = selectedValue === option.value;\n\n\t\t\t\t\treturn (\n\t\t\t\t\t<div key={option.value} className=\"nhsuk-radios__item\">\n\t\t\t\t\t\t<input\n\t\t\t\t\t\t\tclassName=\"nhsuk-radios__input\"\n\t\t\t\t\t\t\tid={radioId}\n\t\t\t\t\t\t\tname={name}\n\t\t\t\t\t\t\ttype=\"radio\"\n\t\t\t\t\t\t\tvalue={option.value}\n\t\t\t\t\t\t\tdisabled={option.disabled}\n\t\t\t\t\t\t\tchecked={isSelected}\n\t\t\t\t\t\t\taria-describedby={describedBy}\n\t\t\t\t\t\t\tonChange={handleChange}\n\t\t\t\t\t\t\tonBlur={onBlur}\n\t\t\t\t\t\t\tonFocus={onFocus}\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<label className=\"nhsuk-radios__label\" htmlFor={radioId}>\n\t\t\t\t\t\t\t{option.text}\n\t\t\t\t\t\t</label>\n\t\t\t\t\t\t\t{option.hint && (\n\t\t\t\t\t\t<div className=\"nhsuk-radios__hint\">\n\t\t\t\t\t\t\t{option.hint}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t{option.conditional && (\n\t\t\t\t\t\t<div\n\t\t\t\t\t\t\tclassName={classNames('nhsuk-radios__conditional', {\n\t\t\t\t\t\t\t'nhsuk-radios__conditional--hidden': !isSelected,\n\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\tid={conditionalId}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{typeof option.conditional === 'object' && \n\t\t\t\t\t\t\t\toption.conditional !== null && \n\t\t\t\t\t\t\t\t'label' in option.conditional && \n\t\t\t\t\t\t\t\t'id' in option.conditional && \n\t\t\t\t\t\t\t\t'name' in option.conditional ? (\n\t\t\t\t\t\t\t<div style={{ marginTop: '16px' }}>\n\t\t\t\t\t\t\t\t{(option.conditional as RadioConditionalProps).label && (\n\t\t\t\t\t\t\t\t<Label htmlFor={(option.conditional as RadioConditionalProps).id}>\n\t\t\t\t\t\t\t\t\t{(option.conditional as RadioConditionalProps).label}\n\t\t\t\t\t\t\t\t</Label>\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t<Input {...(option.conditional as RadioConditionalProps)} />\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\toption.conditional as ReactNode\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t)}\n\t\t\t\t\t</div>\n\t\t\t\t\t);\n\t\t\t\t})}\n\t\t\t</div>\n\t\t</Fieldset>\n  );\n};\n","import React, { createElement } from 'react';\nimport classNames from 'classnames';\nimport './Heading.scss';\nimport { HeadingProps } from './Heading.types';\n\n/**\n * A reusable Heading component that abstracts heading level logic and provides consistent styling.\n * Separates semantic meaning (level) from visual appearance (size).\n * \n * If level is not provided, it will be automatically determined from the size prop:\n * - xxl/xl  h1\n * - l  h2 \n * - m  h3\n * - s  h4\n * - xs  h5\n * \n * @example\n * <Heading level={1} size=\"xl\">Page Title</Heading>\n * <Heading level={2} size=\"l\" text=\"Section Title\" />\n * <Heading size=\"xl\" text=\"Auto h1 from size\" />\n * <Heading size=\"m\" text=\"Auto h3 from size\" />\n * <Heading level={2} text=\"Custom Spacing\" marginBottom=\"32px\" />\n */\nexport const Heading: React.FC<HeadingProps> = ({\n  level,\n  className,\n  text,\n  html,\n  children,\n  size,\n  marginBottom,\n  ...props\n}) => {\n  // Map size to default heading levels (NHS long content pattern)\n  const getDefaultLevelFromSize = (size?: string): 1 | 2 | 3 | 4 | 5 | 6 => {\n    switch (size) {\n      case 'xxl':\n      case 'xl':\n        return 1;\n      case 'l':\n        return 2;\n      case 'm':\n        return 3;\n      case 's':\n        return 4;\n      case 'xs':\n        return 5;\n      default:\n        return 2; // Default fallback\n    }\n  };\n\n  // Use explicit level if provided, otherwise derive from size\n  const headingLevel = level ?? getDefaultLevelFromSize(size);\n  const headingClasses = classNames(\n    'nhsuk-heading',\n    {\n      [`nhsuk-heading--${size}`]: size,\n    },\n    className\n  );\n\n  const content = children || (html ? (\n    <span dangerouslySetInnerHTML={{ __html: html }} />\n  ) : text);\n\n  const tagName = `h${headingLevel}` as 'h1' | 'h2' | 'h3' | 'h4' | 'h5' | 'h6';\n\n  // Apply custom margin-bottom if provided\n  const style = marginBottom ? { ...props.style, marginBottom } : props.style;\n\n  return createElement(\n    tagName,\n    { className: headingClasses, ...props, style },\n    content\n  );\n};\n","import React from 'react';\nimport classNames from 'classnames';\nimport './ErrorMessage.scss';\nimport { ErrorMessageProps } from './ErrorMessage.types';\n\nexport const ErrorMessage: React.FC<ErrorMessageProps> = ({\n  id,\n  className,\n  visuallyHiddenText = 'Error:',\n  children,\n  ...props\n}) => {\n  const errorClasses = classNames('nhsuk-error-message', className);\n\n  return (\n    <span className={errorClasses} id={id} {...props}>\n      <span className=\"nhsuk-u-visually-hidden\">{visuallyHiddenText} </span>\n      {children}\n    </span>\n  );\n};\n","import React, { useEffect, useRef } from 'react';\nimport classNames from 'classnames';\nimport './ErrorSummary.scss';\nimport { ErrorSummaryProps } from './ErrorSummary.types';\n\nexport const ErrorSummary: React.FC<ErrorSummaryProps> = ({\n  titleText = 'There is a problem',\n  titleHtml,\n  descriptionText,\n  descriptionHtml,\n  errorList,\n  className,\n  children,\n  ...props\n}) => {\n  const errorSummaryRef = useRef<HTMLDivElement>(null);\n\n  // Auto-focus the error summary when it appears for accessibility\n  useEffect(() => {\n    if (errorSummaryRef.current) {\n      errorSummaryRef.current.focus();\n    }\n  }, []);\n\n  const errorSummaryClasses = classNames(\n    'nhsuk-error-summary',\n    className\n  );\n\n  const renderTitle = () => {\n    if (titleHtml) {\n      return <span dangerouslySetInnerHTML={{ __html: titleHtml }} />;\n    }\n    return titleText;\n  };\n\n  const renderDescription = () => {\n    if (descriptionHtml) {\n      return <span dangerouslySetInnerHTML={{ __html: descriptionHtml }} />;\n    }\n    return descriptionText;\n  };\n\n  const renderErrorItem = (item: any) => {\n    const content = item.html ? (\n      <span dangerouslySetInnerHTML={{ __html: item.html }} />\n    ) : (\n      item.text\n    );\n\n    if (item.href) {\n      return (\n        <a \n          href={item.href}\n          {...item.attributes}\n        >\n          {content}\n        </a>\n      );\n    }\n\n    return content;\n  };\n\n  return (\n    <div\n      ref={errorSummaryRef}\n      className={errorSummaryClasses}\n      aria-labelledby=\"error-summary-title\"\n      role=\"alert\"\n      tabIndex={-1}\n      data-module=\"nhsuk-error-summary\"\n      {...props}\n    >\n      <h2 className=\"nhsuk-error-summary__title\" id=\"error-summary-title\">\n        {renderTitle()}\n      </h2>\n      \n      <div className=\"nhsuk-error-summary__body\">\n        {children && <p>{children}</p>}\n        \n        {!children && (descriptionText || descriptionHtml) && (\n          <p>{renderDescription()}</p>\n        )}\n        \n        <ul className=\"nhsuk-list nhsuk-error-summary__list\" role=\"list\">\n          {errorList.map((item, index) => (\n            <li key={index}>\n              {renderErrorItem(item)}\n            </li>\n          ))}\n        </ul>\n      </div>\n    </div>\n  );\n};\n","import React, { useState, useMemo, useCallback } from 'react';\nimport classNames from 'classnames';\nimport './DateInput.scss';\nimport { DateInputProps, DateInputItem } from './DateInput.types';\nimport { Input } from '../Input';\nimport { Hint } from '../Hint';\nimport { ErrorMessage } from '../ErrorMessage';\nimport { Label } from '../Label';\nimport { Fieldset } from '../Fieldset/Fieldset';\n\nexport const DateInput: React.FC<DateInputProps> = ({\n  id,\n  className,\n  items,\n  namePrefix,\n  values = {},\n  fieldset,\n  hint,\n  errorMessage,\n  onChange,\n  ...props\n}) => {\n  // State to manage the current values of day, month, year\n  const [currentValues, setCurrentValues] = useState(() => ({\n    day: values.day || '',\n    month: values.month || '',\n    year: values.year || ''\n  }));\n\n  // State to manage individual field errors\n  const [fieldErrors, setFieldErrors] = useState<{\n    day?: string;\n    month?: string;\n    year?: string;\n  }>({});\n\n  // Helper function to check if a year is a leap year\n  const isLeapYear = (year: number): boolean => {\n    return (year % 4 === 0 && year % 100 !== 0) || (year % 400 === 0);\n  };\n\n  // Helper function to get the number of days in a month\n  const getDaysInMonth = (month: number, year: number): number => {\n    const daysInMonth = [31, 28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31];\n    if (month === 2 && isLeapYear(year)) {\n      return 29;\n    }\n    return daysInMonth[month - 1];\n  };\n\n  // Validation functions\n  const validateDay = (day: string, month?: string, year?: string): string | undefined => {\n    if (!day) return undefined; // Allow empty values\n    if (!/^\\d+$/.test(day)) return 'Day must be a number';\n    const dayNum = parseInt(day, 10);\n    \n    // Basic day range check\n    if (dayNum < 1 || dayNum > 31) return 'Day must be between 1 and 31';\n    \n    // If we have month and year, validate against actual days in that month\n    if (month && year) {\n      const monthNum = parseInt(month, 10);\n      const yearNum = parseInt(year, 10);\n      if (!isNaN(monthNum) && !isNaN(yearNum) && monthNum >= 1 && monthNum <= 12) {\n        const maxDays = getDaysInMonth(monthNum, yearNum);\n        if (dayNum > maxDays) {\n          const monthNames = ['January', 'February', 'March', 'April', 'May', 'June',\n                             'July', 'August', 'September', 'October', 'November', 'December'];\n          return `${monthNames[monthNum - 1]} ${yearNum} only has ${maxDays} days`;\n        }\n      }\n    }\n    \n    return undefined;\n  };\n\n  const validateMonth = (month: string): string | undefined => {\n    if (!month) return undefined; // Allow empty values\n    if (!/^\\d+$/.test(month)) return 'Month must be a number';\n    const monthNum = parseInt(month, 10);\n    if (monthNum < 1 || monthNum > 12) return 'Month must be between 1 and 12';\n    return undefined;\n  };\n\n  const validateYear = (year: string): string | undefined => {\n    if (!year) return undefined; // Allow empty values\n    if (!/^\\d+$/.test(year)) return 'Year must be a number';\n    const yearNum = parseInt(year, 10);\n    const currentYear = new Date().getFullYear();\n    if (yearNum < 1900 || yearNum > currentYear + 10) {\n      return `Year must be between 1900 and ${currentYear + 10}`;\n    }\n    return undefined;\n  };\n\n  const validateDate = (day: string, month: string, year: string): string | undefined => {\n    if (!day || !month || !year) return undefined;\n    \n    const dayNum = parseInt(day, 10);\n    const monthNum = parseInt(month, 10);\n    const yearNum = parseInt(year, 10);\n    \n    // Check individual field validity first\n    if (isNaN(dayNum) || isNaN(monthNum) || isNaN(yearNum)) return undefined;\n    if (monthNum < 1 || monthNum > 12) return undefined;\n    if (yearNum < 1900) return undefined;\n    \n    // Check if it's a valid date using our helper function\n    const maxDays = getDaysInMonth(monthNum, yearNum);\n    if (dayNum < 1 || dayNum > maxDays) {\n      return undefined; // Let the day validation handle this specific error\n    }\n    \n    return undefined;\n  };\n\n  // Simple onChange handler without immediate validation\n  const handleInputChange = useCallback((fieldName: string, value: string) => {\n    const newValues = {\n      ...currentValues,\n      [fieldName]: value\n    };\n    setCurrentValues(newValues);\n\n    // Call onChange if provided\n    if (onChange) {\n      onChange(newValues);\n    }\n  }, [currentValues, onChange]);\n\n  // Validation handler for when user leaves a field (onBlur)\n  const handleInputBlur = useCallback((fieldName: string) => {\n    const value = currentValues[fieldName as keyof typeof currentValues];\n    \n    // Validate the specific field\n    let fieldError: string | undefined;\n    if (fieldName === 'day') {\n      fieldError = validateDay(value, currentValues.month, currentValues.year);\n    } else if (fieldName === 'month') {\n      fieldError = validateMonth(value);\n      // If month changes and day exists, revalidate day for month-specific limits\n      if (!fieldError && currentValues.day) {\n        const dayError = validateDay(currentValues.day, value, currentValues.year);\n        setFieldErrors(prev => ({\n          ...prev,\n          day: dayError\n        }));\n      }\n    } else if (fieldName === 'year') {\n      fieldError = validateYear(value);\n      // If year changes and day/month exist, revalidate day for leap year\n      if (!fieldError && currentValues.day && currentValues.month) {\n        const dayError = validateDay(currentValues.day, currentValues.month, value);\n        setFieldErrors(prev => ({\n          ...prev,\n          day: dayError\n        }));\n      }\n    }\n\n    // Update field errors\n    setFieldErrors(prev => ({\n      ...prev,\n      [fieldName]: fieldError\n    }));\n\n    // Also validate the complete date if all fields have values\n    if (currentValues.day && currentValues.month && currentValues.year) {\n      const dateError = validateDate(\n        fieldName === 'day' ? value : currentValues.day,\n        fieldName === 'month' ? value : currentValues.month,\n        fieldName === 'year' ? value : currentValues.year\n      );\n      if (dateError) {\n        // Show date error on the day field for now\n        setFieldErrors(prev => ({\n          ...prev,\n          day: dateError\n        }));\n      }\n    }\n  }, [currentValues, validateDay, validateMonth, validateYear, validateDate]);\n\n  // Memoized default items to prevent recreation on every render\n  const defaultItems: DateInputItem[] = useMemo(() => [\n    {\n      name: 'day',\n      classes: 'nhsuk-input--width-2',\n      inputmode: 'numeric',\n      pattern: '[0-9]*'\n    },\n    {\n      name: 'month',\n      classes: 'nhsuk-input--width-2',\n      inputmode: 'numeric',\n      pattern: '[0-9]*'\n    },\n    {\n      name: 'year',\n      classes: 'nhsuk-input--width-4',\n      inputmode: 'numeric',\n      pattern: '[0-9]*'\n    }\n  ], []);\n\n  const dateInputItems = items || defaultItems;\n\n  // Generate described by attributes\n  let describedBy = fieldset?.describedBy || '';\n  const hintId = hint ? `${id}-hint` : '';\n  const errorId = errorMessage ? `${id}-error` : '';\n\n  if (hintId) {\n    describedBy = describedBy ? `${describedBy} ${hintId}` : hintId;\n  }\n  if (errorId) {\n    describedBy = describedBy ? `${describedBy} ${errorId}` : errorId;\n  }\n\n  // Check if there are any field errors\n  const hasFieldErrors = Object.values(fieldErrors).some(error => error);\n\n  const formGroupClasses = classNames(\n    'nhsuk-form-group',\n    {\n      'nhsuk-form-group--error': errorMessage || hasFieldErrors\n    }\n  );\n\n  const dateInputClasses = classNames(\n    'nhsuk-date-input',\n    className\n  );\n\n  const renderInputs = () => (\n    <>\n      {hint && (\n        <Hint\n          id={hintId}\n          className={hint.classes}\n        >\n          {hint.html ? (\n            <span dangerouslySetInnerHTML={{ __html: hint.html }} />\n          ) : (\n            hint.text\n          )}\n        </Hint>\n      )}\n      \n      {errorMessage && (\n        <ErrorMessage\n          id={errorId}\n          className={errorMessage.classes}\n        >\n          {errorMessage.html ? (\n            <span dangerouslySetInnerHTML={{ __html: errorMessage.html }} />\n          ) : (\n            errorMessage.text\n          )}\n        </ErrorMessage>\n      )}\n\n      {/* Show field-specific errors */}\n      {Object.entries(fieldErrors).map(([field, error]) => \n        error ? (\n          <ErrorMessage\n            key={`${field}-error`}\n            id={`${id}-${field}-error`}\n            className=\"nhsuk-error-message\"\n          >\n            <span className=\"nhsuk-u-visually-hidden\">Error:</span> {error}\n          </ErrorMessage>\n        ) : null\n      )}\n\n      <div className={dateInputClasses} id={id} data-testid=\"date-input\" {...props}>\n        {dateInputItems.map((item) => {\n          const inputId = item.id || `${id}-${item.name}`;\n          const inputName = namePrefix ? `${namePrefix}[${item.name}]` : item.name;\n          const labelText = item.label || item.name.charAt(0).toUpperCase() + item.name.slice(1);\n          const fieldError = fieldErrors[item.name as keyof typeof fieldErrors];\n          \n          // Get current value from state for this field\n          const currentValue = currentValues[item.name as keyof typeof currentValues] || '';\n\n          // Build aria-describedby including field-specific errors\n          let inputDescribedBy = describedBy;\n          if (fieldError) {\n            const fieldErrorId = `${id}-${item.name}-error`;\n            inputDescribedBy = inputDescribedBy ? `${inputDescribedBy} ${fieldErrorId}` : fieldErrorId;\n          }\n\n          return (\n            <div key={item.name} className=\"nhsuk-date-input__item\">\n              <Label\n                htmlFor={inputId}\n                className=\"nhsuk-date-input__label\"\n              >\n                {labelText}\n              </Label>\n              <Input\n                id={inputId}\n                name={inputName}\n                value={currentValue}\n                className={classNames('nhsuk-date-input__input', item.classes, {\n                  'nhsuk-input--error': fieldError\n                })}\n                inputMode={item.inputmode}\n                autoComplete={item.autocomplete}\n                pattern={item.pattern}\n                aria-describedby={inputDescribedBy || undefined}\n                hasError={!!fieldError}\n                onChange={(e) => handleInputChange(item.name, e.target.value)}\n                onBlur={() => handleInputBlur(item.name)}\n              />\n            </div>\n          );\n        })}\n      </div>\n    </>\n  );\n\n  return (\n    <div className={formGroupClasses}>\n      {fieldset ? (\n        <Fieldset \n          className={fieldset.classes}\n          legend={fieldset.legend ? { text: fieldset.legend } : undefined}\n          describedBy={describedBy || undefined}\n        >\n          {renderInputs()}\n        </Fieldset>\n      ) : (\n        renderInputs()\n      )}\n    </div>\n  );\n};","// Do not edit directly, this file was auto-generated.\n\nimport React, { createContext, useContext, ReactNode } from 'react';\n\n// TypeScript interfaces for composite tokens\nexport interface ResponsiveProperty<T> {\n\tmobile: T;\n\ttablet: T;\n\tprint?: T;\n}\n\nexport interface NHSHeadingStyle {\n\tfontFamily: string;\n\tfontWeight: string;\n\tfontSize: ResponsiveProperty<string>;\n\tlineHeight: string;\n\tmarginTop: string;\n\tmarginBottom: ResponsiveProperty<string>;\n}\n\nexport interface NHSParagraphStyle {\n\tfontFamily: string;\n\tfontWeight: string;\n\tfontSize: ResponsiveProperty<string>;\n\tlineHeight: string;\n\tmarginTop: string;\n\tmarginBottom: ResponsiveProperty<string>;\n}\n\nexport interface NHSTheme {\tanimation: {\n\t\tAnimationDurationFast: string;\n\t\tAnimationDurationNormal: string;\n\t\tAnimationDurationSlow: string;\n\t\tAnimationEasingEaseIn: string;\n\t\tAnimationEasingEaseOut: string;\n\t\tAnimationEasingEaseInOut: string;\n\t\tAnimationEasingBounce: string;\n\t};\n\ttransition: {\n\t\tTransitionButtonDefault: string;\n\t\tTransitionButtonShadow: string;\n\t\tTransitionInputFocus: string;\n\t\tTransitionCardHover: string;\n\t};\n\tborder: {\n\t\tBorderWidthDefault: string;\n\t\tBorderWidthFormElement: string;\n\t\tBorderWidthFormElementError: string;\n\t\tBorderWidthCardBottom: string;\n\t\tBorderWidthPanel: string;\n\t\tBorderWidthTableHeader: string;\n\t\tBorderWidthTableCell: string;\n\t\tBorderRadiusNone: string;\n\t\tBorderRadiusSmall: string;\n\t\tBorderRadiusMedium: string;\n\t\tBorderRadiusLarge: string;\n\t\tBorderColorDefault: string;\n\t\tBorderColorForm: string;\n\t\tBorderColorCard: string;\n\t\tBorderColorCardHover: string;\n\t\tBorderColorError: string;\n\t};\n\tcolor: {\n\t\tColorPrimaryBlue: string;\n\t\tColorPrimaryWhite: string;\n\t\tColorPrimaryBlack: string;\n\t\tColorPrimaryGreen: string;\n\t\tColorPrimaryPurple: string;\n\t\tColorPrimaryDarkPink: string;\n\t\tColorPrimaryRed: string;\n\t\tColorPrimaryYellow: string;\n\t\tColorSecondaryPaleYellow: string;\n\t\tColorSecondaryWarmYellow: string;\n\t\tColorSecondaryOrange: string;\n\t\tColorSecondaryAquaGreen: string;\n\t\tColorSecondaryPink: string;\n\t\tColorGrey1: string;\n\t\tColorGrey2: string;\n\t\tColorGrey3: string;\n\t\tColorGrey4: string;\n\t\tColorGrey5: string;\n\t\tColorTextPrimary: string;\n\t\tColorTextSecondary: string;\n\t\tColorTextReverse: string;\n\t\tColorTextPrint: string;\n\t\tColorLinkDefault: string;\n\t\tColorLinkHover: string;\n\t\tColorLinkActive: string;\n\t\tColorLinkVisited: string;\n\t\tColorFocusBackground: string;\n\t\tColorFocusText: string;\n\t\tColorBorderDefault: string;\n\t\tColorBorderSecondary: string;\n\t\tColorError: string;\n\t\tColorFormBorder: string;\n\t\tColorFormBackground: string;\n\t\tColorButtonPrimaryBackground: string;\n\t\tColorButtonPrimaryText: string;\n\t\tColorButtonPrimaryHover: string;\n\t\tColorButtonPrimaryActive: string;\n\t\tColorButtonPrimaryShadow: string;\n\t\tColorButtonSecondaryBackground: string;\n\t\tColorButtonSecondaryBackgroundSolid: string;\n\t\tColorButtonSecondaryBorder: string;\n\t\tColorButtonSecondaryText: string;\n\t\tColorButtonSecondaryHover: string;\n\t\tColorButtonSecondaryActive: string;\n\t\tColorButtonSecondaryShadow: string;\n\t\tColorButtonReverseBackground: string;\n\t\tColorButtonReverseText: string;\n\t\tColorButtonReverseHover: string;\n\t\tColorButtonReverseActive: string;\n\t\tColorButtonReverseShadow: string;\n\t\tColorButtonWarningBackground: string;\n\t\tColorButtonWarningHover: string;\n\t\tColorButtonWarningActive: string;\n\t\tColorButtonWarningShadow: string;\n\t\tColorButtonLoginBackground: string;\n\t\tColorButtonLoginHover: string;\n\t\tColorButtonLoginActive: string;\n\t\tColorButtonLoginShadow: string;\n\t};\n\tcomponent: {\n\t\tComponentButtonPaddingMobileVertical: string;\n\t\tComponentButtonPaddingMobileHorizontal: string;\n\t\tComponentButtonPaddingDesktopVertical: string;\n\t\tComponentButtonPaddingDesktopHorizontal: string;\n\t\tComponentButtonShadowSize: string;\n\t\tComponentFormInputMinHeight: string;\n\t\tComponentFormInputPadding: string;\n\t\tComponentFormCheckboxSize: string;\n\t\tComponentFormCheckboxLabelPadding: string;\n\t\tComponentCardPaddingMobile: string;\n\t\tComponentCardPaddingDesktop: string;\n\t\tComponentCardHeadingMargin: string;\n\t\tComponentPanelPaddingMobile: string;\n\t\tComponentPanelPaddingDesktop: string;\n\t\tComponentBreadcrumbChevronMarginLeft: string;\n\t\tComponentBreadcrumbChevronMarginRight: string;\n\t\tComponentBreadcrumbPaddingTopMobile: string;\n\t\tComponentBreadcrumbPaddingTopDesktop: string;\n\t\tComponentSummaryListCellPaddingVertical: string;\n\t\tComponentSummaryListCellPaddingHorizontal: string;\n\t\tComponentSummaryListRowMargin: string;\n\t\tComponentSpread: string;\n\t\tComponentBlur: string;\n\t\tComponentLink: string;\n\t\tComponentDetails: string;\n\t\tComponentExpander: string;\n\t\tComponentPagination: string;\n\t};\n\tbutton: {\n\t\tButtonPrimaryBackgroundDefault: string;\n\t\tButtonPrimaryBackgroundHover: string;\n\t\tButtonPrimaryBackgroundActive: string;\n\t\tButtonPrimaryBackgroundDisabled: string;\n\t\tButtonPrimaryTextDefault: string;\n\t\tButtonPrimaryTextDisabled: string;\n\t\tButtonPrimaryBorderDefault: string;\n\t\tButtonPrimaryBorderFocus: string;\n\t\tButtonSecondaryBackgroundDefault: string;\n\t\tButtonSecondaryBackgroundSolid: string;\n\t\tButtonSecondaryBackgroundHover: string;\n\t\tButtonSecondaryBackgroundActive: string;\n\t\tButtonSecondaryTextDefault: string;\n\t\tButtonSecondaryBorderDefault: string;\n\t\tButtonSpacingPaddingVerticalMobile: string;\n\t\tButtonSpacingPaddingHorizontalMobile: string;\n\t\tButtonSpacingPaddingVerticalDesktop: string;\n\t\tButtonSpacingPaddingHorizontalDesktop: string;\n\t\tButtonBorderWidth: string;\n\t\tButtonBorderRadius: string;\n\t\tButtonShadowSize: string;\n\t\tButtonTypographyWeight: string;\n\t};\n\tcard: {\n\t\tCardBackgroundDefault: string;\n\t\tCardBorderDefault: string;\n\t\tCardBorderHover: string;\n\t\tCardBorderBottom: string;\n\t\tCardTextHeading: string;\n\t\tCardTextDescription: string;\n\t\tCardTextLink: string;\n\t\tCardSpacingPaddingMobile: string;\n\t\tCardSpacingPaddingDesktop: string;\n\t\tCardSpacingHeadingMargin: string;\n\t\tCardBorderWidthDefault: string;\n\t\tCardBorderWidthBottom: string;\n\t\tCardShadowDefault: string;\n\t\tCardShadowHover: string;\n\t};\n\tform: {\n\t\tFormInputBackgroundDefault: string;\n\t\tFormInputBackgroundFocus: string;\n\t\tFormInputBackgroundDisabled: string;\n\t\tFormInputBackgroundError: string;\n\t\tFormInputBorderDefault: string;\n\t\tFormInputBorderFocus: string;\n\t\tFormInputBorderError: string;\n\t\tFormInputBorderDisabled: string;\n\t\tFormInputTextDefault: string;\n\t\tFormInputTextPlaceholder: string;\n\t\tFormInputTextDisabled: string;\n\t\tFormLabelTextDefault: string;\n\t\tFormLabelTextRequired: string;\n\t\tFormLabelTypographyWeight: string;\n\t\tFormErrorTextDefault: string;\n\t\tFormErrorTypographyWeight: string;\n\t\tFormHintTextDefault: string;\n\t\tFormSpacingInputPadding: string;\n\t\tFormSpacingInputMinHeight: string;\n\t\tFormSpacingCheckboxSize: string;\n\t\tFormSpacingCheckboxLabelPadding: string;\n\t\tFormBorderWidthDefault: string;\n\t\tFormBorderWidthError: string;\n\t\tFormBorderRadius: string;\n\t};\n\tsize: {\n\t\tSizeIconSmall: string;\n\t\tSizeIconMedium: string;\n\t\tSizeIconLarge: string;\n\t\tSizeIconExtraLarge: string;\n\t\tSizeIconNhsDefault: string;\n\t\tSizeFormControlSmall: string;\n\t\tSizeFormControlMedium: string;\n\t\tSizeFormControlLarge: string;\n\t\tSizeFormInputWidthXs: string;\n\t\tSizeFormInputWidthSm: string;\n\t\tSizeFormInputWidthMd: string;\n\t\tSizeFormInputWidthLg: string;\n\t\tSizeFormInputWidthXl: string;\n\t\tSizeFormInputWidth2xl: string;\n\t\tSizeFormInputWidth3xl: string;\n\t\tSizeButtonMinHeightMobile: string;\n\t\tSizeButtonMinHeightDesktop: string;\n\t};\n\tlayout: {\n\t\tLayoutContainerMaxWidth: string;\n\t\tLayoutColumnFull: string;\n\t\tLayoutColumnHalf: string;\n\t\tLayoutColumnThird: string;\n\t\tLayoutColumnQuarter: string;\n\t\tLayoutColumnActions: string;\n\t};\n\tbreakpoint: {\n\t\tBreakpointMobile: string;\n\t\tBreakpointTablet: string;\n\t\tBreakpointDesktop: string;\n\t\tBreakpointLargeDesktop: string;\n\t};\n\tgrid: {\n\t\tGridPageWidth: string;\n\t\tGridGutter: string;\n\t\tGridGutterHalf: string;\n\t};\n\tstate: {\n\t\tStateErrorBackground: string;\n\t\tStateErrorBorder: string;\n\t\tStateErrorText: string;\n\t\tStateSuccessBackground: string;\n\t\tStateSuccessBorder: string;\n\t\tStateSuccessText: string;\n\t\tStateWarningBackground: string;\n\t\tStateWarningBorder: string;\n\t\tStateWarningText: string;\n\t\tStateInfoBackground: string;\n\t\tStateInfoBorder: string;\n\t\tStateInfoText: string;\n\t\tStateDisabledBackground: string;\n\t\tStateDisabledBorder: string;\n\t\tStateDisabledText: string;\n\t};\n\tshadow: {\n\t\tShadowButtonDefault: string;\n\t\tShadowButtonSecondary: string;\n\t\tShadowButtonWarning: string;\n\t\tShadowButtonFocus: string;\n\t\tShadowCardDefault: string;\n\t\tShadowCardHover: string;\n\t};\n\t'focus-outline': {\n\t\tFocusOutlineWidth: string;\n\t\tFocusOutlineOffset: string;\n\t\tFocusOutlineStyle: string;\n\t};\n\t'focus-shadow': {\n\t\tFocusShadowInput: string;\n\t\tFocusShadowButton: string;\n\t};\n\televation: {\n\t\tElevationNone: string;\n\t\tElevationLow: string;\n\t\tElevationMedium: string;\n\t\tElevationHigh: string;\n\t};\n\tspacing: {\n\t\tSpacing0: string;\n\t\tSpacing1: string;\n\t\tSpacing2: string;\n\t\tSpacing3: string;\n\t\tSpacing4: string;\n\t\tSpacing5: string;\n\t\tSpacing6: string;\n\t\tSpacing7: string;\n\t\tSpacing8: string;\n\t\tSpacing9: string;\n\t};\n\t'spacing-responsive': {\n\t\tSpacingResponsive0Mobile: string;\n\t\tSpacingResponsive0Tablet: string;\n\t\tSpacingResponsive1Mobile: string;\n\t\tSpacingResponsive1Tablet: string;\n\t\tSpacingResponsive2Mobile: string;\n\t\tSpacingResponsive2Tablet: string;\n\t\tSpacingResponsive3Mobile: string;\n\t\tSpacingResponsive3Tablet: string;\n\t\tSpacingResponsive4Mobile: string;\n\t\tSpacingResponsive4Tablet: string;\n\t\tSpacingResponsive5Mobile: string;\n\t\tSpacingResponsive5Tablet: string;\n\t\tSpacingResponsive6Mobile: string;\n\t\tSpacingResponsive6Tablet: string;\n\t\tSpacingResponsive7Mobile: string;\n\t\tSpacingResponsive7Tablet: string;\n\t\tSpacingResponsive8Mobile: string;\n\t\tSpacingResponsive8Tablet: string;\n\t\tSpacingResponsive9Mobile: string;\n\t\tSpacingResponsive9Tablet: string;\n\t};\n\tfont: {\n\t\tFontFamilyBase: string;\n\t\tFontFamilyFallback: string;\n\t\tFontFamilyPrint: string;\n\t\tFontWeightNormal: string;\n\t\tFontWeightBold: string;\n\t\tFontWeightLight: string;\n\t\tFontSize14Mobile: string;\n\t\tFontSize14Tablet: string;\n\t\tFontSize14Print: string;\n\t\tFontSize16Mobile: string;\n\t\tFontSize16Tablet: string;\n\t\tFontSize16Print: string;\n\t\tFontSize19Mobile: string;\n\t\tFontSize19Tablet: string;\n\t\tFontSize19Print: string;\n\t\tFontSize22Mobile: string;\n\t\tFontSize22Tablet: string;\n\t\tFontSize22Print: string;\n\t\tFontSize26Mobile: string;\n\t\tFontSize26Tablet: string;\n\t\tFontSize26Print: string;\n\t\tFontSize36Mobile: string;\n\t\tFontSize36Tablet: string;\n\t\tFontSize36Print: string;\n\t\tFontSize48Mobile: string;\n\t\tFontSize48Tablet: string;\n\t\tFontSize48Print: string;\n\t\tFontSizeBase: string;\n\t\tFontLineHeightBase: string;\n\t};\n\t// NHS Typography System\n\theadings: {\n\txl: NHSHeadingStyle;\n\tl: NHSHeadingStyle;\n\tm: NHSHeadingStyle;\n\ts: NHSHeadingStyle;\n\txs: NHSHeadingStyle;\n\t};\n\tparagraphs: {\n\tbody: NHSParagraphStyle;\n\tbodyLarge: NHSParagraphStyle;\n\tbodySmall: NHSParagraphStyle;\n\tledeText: NHSParagraphStyle;\n\tledeTextSmall: NHSParagraphStyle;\n\t};\n}\n\nexport const nhsTheme: NHSTheme = {\n\tanimation: {\n\t\tAnimationDurationFast: '150ms',\n\t\tAnimationDurationNormal: '300ms',\n\t\tAnimationDurationSlow: '500ms',\n\t\tAnimationEasingEaseIn: 'cubic-bezier(0.4, 0, 1, 1)',\n\t\tAnimationEasingEaseOut: 'cubic-bezier(0, 0, 0.2, 1)',\n\t\tAnimationEasingEaseInOut: 'cubic-bezier(0.4, 0, 0.2, 1)',\n\t\tAnimationEasingBounce: 'cubic-bezier(0.68, -0.55, 0.265, 1.55)',\n\t},\n\ttransition: {\n\t\tTransitionButtonDefault: 'background-color 300ms cubic-bezier(0, 0, 0.2, 1)',\n\t\tTransitionButtonShadow: 'box-shadow 150ms cubic-bezier(0, 0, 0.2, 1)',\n\t\tTransitionInputFocus: 'border-color 150ms cubic-bezier(0, 0, 0.2, 1), box-shadow 150ms cubic-bezier(0, 0, 0.2, 1)',\n\t\tTransitionCardHover: 'border-color 300ms cubic-bezier(0, 0, 0.2, 1)',\n\t},\n\tborder: {\n\t\tBorderWidthDefault: '1px',\n\t\tBorderWidthFormElement: '2px',\n\t\tBorderWidthFormElementError: '4px',\n\t\tBorderWidthCardBottom: '4px',\n\t\tBorderWidthPanel: '4px',\n\t\tBorderWidthTableHeader: '2px',\n\t\tBorderWidthTableCell: '1px',\n\t\tBorderRadiusNone: '0px',\n\t\tBorderRadiusSmall: '4px',\n\t\tBorderRadiusMedium: '8px',\n\t\tBorderRadiusLarge: '12px',\n\t\tBorderColorDefault: '#d8dde0',\n\t\tBorderColorForm: '#4c6272',\n\t\tBorderColorCard: '#d8dde0',\n\t\tBorderColorCardHover: '#aeb7bd',\n\t\tBorderColorError: '#d5281b',\n\t},\n\tcolor: {\n\t\tColorPrimaryBlue: '#005eb8',\n\t\tColorPrimaryWhite: '#ffffff',\n\t\tColorPrimaryBlack: '#212b32',\n\t\tColorPrimaryGreen: '#007f3b',\n\t\tColorPrimaryPurple: '#330072',\n\t\tColorPrimaryDarkPink: '#7c2855',\n\t\tColorPrimaryRed: '#d5281b',\n\t\tColorPrimaryYellow: '#ffeb3b',\n\t\tColorSecondaryPaleYellow: '#fff9c4',\n\t\tColorSecondaryWarmYellow: '#ffb81c',\n\t\tColorSecondaryOrange: '#ed8b00',\n\t\tColorSecondaryAquaGreen: '#00a499',\n\t\tColorSecondaryPink: '#ae2573',\n\t\tColorGrey1: '#4c6272',\n\t\tColorGrey2: '#768692',\n\t\tColorGrey3: '#aeb7bd',\n\t\tColorGrey4: '#d8dde0',\n\t\tColorGrey5: '#f0f4f5',\n\t\tColorTextPrimary: '#212b32',\n\t\tColorTextSecondary: '#4c6272',\n\t\tColorTextReverse: '#ffffff',\n\t\tColorTextPrint: '#212b32',\n\t\tColorLinkDefault: '#005eb8',\n\t\tColorLinkHover: '#7c2855',\n\t\tColorLinkActive: '#003087',\n\t\tColorLinkVisited: '#330072',\n\t\tColorFocusBackground: '#ffeb3b',\n\t\tColorFocusText: '#212b32',\n\t\tColorBorderDefault: '#d8dde0',\n\t\tColorBorderSecondary: '#ffffff33',\n\t\tColorError: '#d5281b',\n\t\tColorFormBorder: '#4c6272',\n\t\tColorFormBackground: '#ffffff',\n\t\tColorButtonPrimaryBackground: '#007f3b',\n\t\tColorButtonPrimaryText: '#ffffff',\n\t\tColorButtonPrimaryHover: '#006530',\n\t\tColorButtonPrimaryActive: '#004021',\n\t\tColorButtonPrimaryShadow: '#004021',\n\t\tColorButtonSecondaryBackground: '#00000000',\n\t\tColorButtonSecondaryBackgroundSolid: '#ffffff',\n\t\tColorButtonSecondaryBorder: '#005eb8',\n\t\tColorButtonSecondaryText: '#005eb8',\n\t\tColorButtonSecondaryHover: '#d9e5f2',\n\t\tColorButtonSecondaryActive: '#c7daf0',\n\t\tColorButtonSecondaryShadow: '#005eb8',\n\t\tColorButtonReverseBackground: '#ffffff',\n\t\tColorButtonReverseText: '#212b32',\n\t\tColorButtonReverseHover: '#d9dde0',\n\t\tColorButtonReverseActive: '#b3bcc2',\n\t\tColorButtonReverseShadow: '#b3bcc2',\n\t\tColorButtonWarningBackground: '#d5281b',\n\t\tColorButtonWarningHover: '#aa2016',\n\t\tColorButtonWarningActive: '#6a140e',\n\t\tColorButtonWarningShadow: '#6a140e',\n\t\tColorButtonLoginBackground: '#005eb8',\n\t\tColorButtonLoginHover: '#004b93',\n\t\tColorButtonLoginActive: '#002f5c',\n\t\tColorButtonLoginShadow: '#002f5c',\n\t},\n\tcomponent: {\n\t\tComponentButtonPaddingMobileVertical: '8px',\n\t\tComponentButtonPaddingMobileHorizontal: '16px',\n\t\tComponentButtonPaddingDesktopVertical: '12px',\n\t\tComponentButtonPaddingDesktopHorizontal: '16px',\n\t\tComponentButtonShadowSize: '4px',\n\t\tComponentFormInputMinHeight: '40px',\n\t\tComponentFormInputPadding: '4px',\n\t\tComponentFormCheckboxSize: '40px',\n\t\tComponentFormCheckboxLabelPadding: '12px',\n\t\tComponentCardPaddingMobile: '16px',\n\t\tComponentCardPaddingDesktop: '32px',\n\t\tComponentCardHeadingMargin: '16px',\n\t\tComponentPanelPaddingMobile: '20px',\n\t\tComponentPanelPaddingDesktop: '28px',\n\t\tComponentBreadcrumbChevronMarginLeft: '9px',\n\t\tComponentBreadcrumbChevronMarginRight: '2px',\n\t\tComponentBreadcrumbPaddingTopMobile: '16px',\n\t\tComponentBreadcrumbPaddingTopDesktop: '24px',\n\t\tComponentSummaryListCellPaddingVertical: '8px',\n\t\tComponentSummaryListCellPaddingHorizontal: '24px',\n\t\tComponentSummaryListRowMargin: '16px',\n\t\tComponentSpread: '4px',\n\t\tComponentBlur: '4px',\n\t\tComponentLink: '4px',\n\t\tComponentDetails: '8px',\n\t\tComponentExpander: '4px',\n\t\tComponentPagination: '16px',\n\t},\n\tbutton: {\n\t\tButtonPrimaryBackgroundDefault: '#007f3b',\n\t\tButtonPrimaryBackgroundHover: '#006530',\n\t\tButtonPrimaryBackgroundActive: '#004021',\n\t\tButtonPrimaryBackgroundDisabled: '#d8dde0',\n\t\tButtonPrimaryTextDefault: '#ffffff',\n\t\tButtonPrimaryTextDisabled: '#768692',\n\t\tButtonPrimaryBorderDefault: '#00000000',\n\t\tButtonPrimaryBorderFocus: '#ffeb3b',\n\t\tButtonSecondaryBackgroundDefault: '#00000000',\n\t\tButtonSecondaryBackgroundSolid: '#ffffff',\n\t\tButtonSecondaryBackgroundHover: '#d9e5f2',\n\t\tButtonSecondaryBackgroundActive: '#c7daf0',\n\t\tButtonSecondaryTextDefault: '#005eb8',\n\t\tButtonSecondaryBorderDefault: '#005eb8',\n\t\tButtonSpacingPaddingVerticalMobile: '8px',\n\t\tButtonSpacingPaddingHorizontalMobile: '16px',\n\t\tButtonSpacingPaddingVerticalDesktop: '12px',\n\t\tButtonSpacingPaddingHorizontalDesktop: '16px',\n\t\tButtonBorderWidth: '2px',\n\t\tButtonBorderRadius: '4px',\n\t\tButtonShadowSize: '4px',\n\t\tButtonTypographyWeight: '600',\n\t},\n\tcard: {\n\t\tCardBackgroundDefault: '#ffffff',\n\t\tCardBorderDefault: '#d8dde0',\n\t\tCardBorderHover: '#aeb7bd',\n\t\tCardBorderBottom: '#f0f4f5',\n\t\tCardTextHeading: '#212b32',\n\t\tCardTextDescription: '#212b32',\n\t\tCardTextLink: '#005eb8',\n\t\tCardSpacingPaddingMobile: '16px',\n\t\tCardSpacingPaddingDesktop: '32px',\n\t\tCardSpacingHeadingMargin: '16px',\n\t\tCardBorderWidthDefault: '1px',\n\t\tCardBorderWidthBottom: '4px',\n\t\tCardShadowDefault: 'none',\n\t\tCardShadowHover: '0 2px 4px rgba(0, 0, 0, 0.1)',\n\t},\n\tform: {\n\t\tFormInputBackgroundDefault: '#ffffff',\n\t\tFormInputBackgroundFocus: '#ffffff',\n\t\tFormInputBackgroundDisabled: '#d8dde0',\n\t\tFormInputBackgroundError: '#ffffff',\n\t\tFormInputBorderDefault: '#4c6272',\n\t\tFormInputBorderFocus: '#ffeb3b',\n\t\tFormInputBorderError: '#d5281b',\n\t\tFormInputBorderDisabled: '#aeb7bd',\n\t\tFormInputTextDefault: '#212b32',\n\t\tFormInputTextPlaceholder: '#4c6272',\n\t\tFormInputTextDisabled: '#768692',\n\t\tFormLabelTextDefault: '#212b32',\n\t\tFormLabelTextRequired: '#ffffff',\n\t\tFormLabelTypographyWeight: '600',\n\t\tFormErrorTextDefault: '#d5281b',\n\t\tFormErrorTypographyWeight: '600',\n\t\tFormHintTextDefault: '#4c6272',\n\t\tFormSpacingInputPadding: '4px',\n\t\tFormSpacingInputMinHeight: '40px',\n\t\tFormSpacingCheckboxSize: '40px',\n\t\tFormSpacingCheckboxLabelPadding: '12px',\n\t\tFormBorderWidthDefault: '2px',\n\t\tFormBorderWidthError: '4px',\n\t\tFormBorderRadius: '0px',\n\t},\n\tsize: {\n\t\tSizeIconSmall: '16px',\n\t\tSizeIconMedium: '18px',\n\t\tSizeIconLarge: '24px',\n\t\tSizeIconExtraLarge: '32px',\n\t\tSizeIconNhsDefault: '34px',\n\t\tSizeFormControlSmall: '32px',\n\t\tSizeFormControlMedium: '40px',\n\t\tSizeFormControlLarge: '48px',\n\t\tSizeFormInputWidthXs: '5.4ex',\n\t\tSizeFormInputWidthSm: '7.2ex',\n\t\tSizeFormInputWidthMd: '9ex',\n\t\tSizeFormInputWidthLg: '10.8ex',\n\t\tSizeFormInputWidthXl: '20ex',\n\t\tSizeFormInputWidth2xl: '38ex',\n\t\tSizeFormInputWidth3xl: '56ex',\n\t\tSizeButtonMinHeightMobile: '44px',\n\t\tSizeButtonMinHeightDesktop: '40px',\n\t},\n\tlayout: {\n\t\tLayoutContainerMaxWidth: '1020px',\n\t\tLayoutColumnFull: '100%',\n\t\tLayoutColumnHalf: '50%',\n\t\tLayoutColumnThird: '33.333%',\n\t\tLayoutColumnQuarter: '25%',\n\t\tLayoutColumnActions: '20%',\n\t},\n\tbreakpoint: {\n\t\tBreakpointMobile: '320px',\n\t\tBreakpointTablet: '641px',\n\t\tBreakpointDesktop: '1025px',\n\t\tBreakpointLargeDesktop: '1280px',\n\t},\n\tgrid: {\n\t\tGridPageWidth: '960px',\n\t\tGridGutter: '32px',\n\t\tGridGutterHalf: '16px',\n\t},\n\tstate: {\n\t\tStateErrorBackground: '#d5281b',\n\t\tStateErrorBorder: '#d5281b',\n\t\tStateErrorText: '#ffffff',\n\t\tStateSuccessBackground: '#007f3b',\n\t\tStateSuccessBorder: '#007f3b',\n\t\tStateSuccessText: '#ffffff',\n\t\tStateWarningBackground: '#ffeb3b',\n\t\tStateWarningBorder: '#ffeb3b',\n\t\tStateWarningText: '#212b32',\n\t\tStateInfoBackground: '#005eb8',\n\t\tStateInfoBorder: '#005eb8',\n\t\tStateInfoText: '#ffffff',\n\t\tStateDisabledBackground: '#d8dde0',\n\t\tStateDisabledBorder: '#aeb7bd',\n\t\tStateDisabledText: '#768692',\n\t},\n\tshadow: {\n\t\tShadowButtonDefault: '0 4px 0 #004021',\n\t\tShadowButtonSecondary: '0 4px 0 #005eb8',\n\t\tShadowButtonWarning: '0 4px 0 #6a140e',\n\t\tShadowButtonFocus: '0 4px 0 #ffeb3b',\n\t\tShadowCardDefault: 'none',\n\t\tShadowCardHover: '0 2px 4px rgba(0, 0, 0, 0.1)',\n\t},\n\t'focus-outline': {\n\t\tFocusOutlineWidth: '4px',\n\t\tFocusOutlineOffset: '0px',\n\t\tFocusOutlineStyle: 'solid',\n\t},\n\t'focus-shadow': {\n\t\tFocusShadowInput: '0 0 0 3px #ffeb3b',\n\t\tFocusShadowButton: '0 0 0 3px #ffeb3b',\n\t},\n\televation: {\n\t\tElevationNone: 'none',\n\t\tElevationLow: '0 1px 3px rgba(0, 0, 0, 0.12)',\n\t\tElevationMedium: '0 2px 6px rgba(0, 0, 0, 0.16)',\n\t\tElevationHigh: '0 4px 12px rgba(0, 0, 0, 0.20)',\n\t},\n\tspacing: {\n\t\tSpacing0: '0',\n\t\tSpacing1: '4px',\n\t\tSpacing2: '8px',\n\t\tSpacing3: '16px',\n\t\tSpacing4: '24px',\n\t\tSpacing5: '32px',\n\t\tSpacing6: '40px',\n\t\tSpacing7: '48px',\n\t\tSpacing8: '56px',\n\t\tSpacing9: '64px',\n\t},\n\t'spacing-responsive': {\n\t\tSpacingResponsive0Mobile: '0',\n\t\tSpacingResponsive0Tablet: '0',\n\t\tSpacingResponsive1Mobile: '4px',\n\t\tSpacingResponsive1Tablet: '4px',\n\t\tSpacingResponsive2Mobile: '8px',\n\t\tSpacingResponsive2Tablet: '8px',\n\t\tSpacingResponsive3Mobile: '8px',\n\t\tSpacingResponsive3Tablet: '16px',\n\t\tSpacingResponsive4Mobile: '16px',\n\t\tSpacingResponsive4Tablet: '24px',\n\t\tSpacingResponsive5Mobile: '24px',\n\t\tSpacingResponsive5Tablet: '32px',\n\t\tSpacingResponsive6Mobile: '32px',\n\t\tSpacingResponsive6Tablet: '40px',\n\t\tSpacingResponsive7Mobile: '40px',\n\t\tSpacingResponsive7Tablet: '48px',\n\t\tSpacingResponsive8Mobile: '48px',\n\t\tSpacingResponsive8Tablet: '56px',\n\t\tSpacingResponsive9Mobile: '56px',\n\t\tSpacingResponsive9Tablet: '64px',\n\t},\n\tfont: {\n\t\tFontFamilyBase: 'Frutiger W01',\n\t\tFontFamilyFallback: 'Arial, Helvetica, sans-serif',\n\t\tFontFamilyPrint: 'sans-serif',\n\t\tFontWeightNormal: '400',\n\t\tFontWeightBold: '600',\n\t\tFontWeightLight: '400',\n\t\tFontSize14Mobile: '12px',\n\t\tFontSize14Tablet: '14px',\n\t\tFontSize14Print: '12pt',\n\t\tFontSize16Mobile: '14px',\n\t\tFontSize16Tablet: '16px',\n\t\tFontSize16Print: '12pt',\n\t\tFontSize19Mobile: '16px',\n\t\tFontSize19Tablet: '19px',\n\t\tFontSize19Print: '13pt',\n\t\tFontSize22Mobile: '19px',\n\t\tFontSize22Tablet: '22px',\n\t\tFontSize22Print: '15pt',\n\t\tFontSize26Mobile: '22px',\n\t\tFontSize26Tablet: '26px',\n\t\tFontSize26Print: '17pt',\n\t\tFontSize36Mobile: '27px',\n\t\tFontSize36Tablet: '36px',\n\t\tFontSize36Print: '20pt',\n\t\tFontSize48Mobile: '33px',\n\t\tFontSize48Tablet: '48px',\n\t\tFontSize48Print: '24pt',\n\t\tFontSizeBase: '16px',\n\t\tFontLineHeightBase: '24px',\n\t},\n\t// NHS Typography System\n\theadings: {\n\t\txl: {\n\t\tfontFamily: \"Frutiger W01\",\n\t\tfontWeight: \"600\",\n\t\tfontSize: { mobile: \"33px\", tablet: \"48px\", print: \"24pt\" },\n\t\tlineHeight: \"1.09\",\n\t\tmarginTop: \"0\",\n\t\tmarginBottom: { mobile: \"40px\", tablet: \"48px\" },\n\t},\n\t\tl: {\n\t\tfontFamily: \"Frutiger W01\",\n\t\tfontWeight: \"600\",\n\t\tfontSize: { mobile: \"27px\", tablet: \"36px\", print: \"20pt\" },\n\t\tlineHeight: \"1.11\",\n\t\tmarginTop: \"0\",\n\t\tmarginBottom: { mobile: \"16px\", tablet: \"24px\" },\n\t},\n\t\tm: {\n\t\tfontFamily: \"Frutiger W01\",\n\t\tfontWeight: \"600\",\n\t\tfontSize: { mobile: \"22px\", tablet: \"26px\", print: \"17pt\" },\n\t\tlineHeight: \"1.15\",\n\t\tmarginTop: \"0\",\n\t\tmarginBottom: { mobile: \"16px\", tablet: \"24px\" },\n\t},\n\t\ts: {\n\t\tfontFamily: \"Frutiger W01\",\n\t\tfontWeight: \"600\",\n\t\tfontSize: { mobile: \"19px\", tablet: \"22px\", print: \"15pt\" },\n\t\tlineHeight: \"1.18\",\n\t\tmarginTop: \"0\",\n\t\tmarginBottom: { mobile: \"16px\", tablet: \"24px\" },\n\t},\n\t\txs: {\n\t\tfontFamily: \"Frutiger W01\",\n\t\tfontWeight: \"600\",\n\t\tfontSize: { mobile: \"16px\", tablet: \"19px\", print: \"13pt\" },\n\t\tlineHeight: \"1.26\",\n\t\tmarginTop: \"0\",\n\t\tmarginBottom: { mobile: \"16px\", tablet: \"24px\" },\n\t},\n\t},\n\tparagraphs: {\n\t\tbody: {\n\t\tfontFamily: \"Frutiger W01\",\n\t\tfontWeight: \"400\",\n\t\tfontSize: { mobile: \"16px\", tablet: \"19px\", print: \"13pt\" },\n\t\tlineHeight: \"1.47\",\n\t\tmarginTop: \"0\",\n\t\tmarginBottom: { mobile: \"16px\", tablet: \"24px\" },\n\t},\n\t\tbodyLarge: {\n\t\tfontFamily: \"Frutiger W01\",\n\t\tfontWeight: \"400\",\n\t\tfontSize: { mobile: \"22px\", tablet: \"26px\", print: \"17pt\" },\n\t\tlineHeight: \"1.38\",\n\t\tmarginTop: \"0\",\n\t\tmarginBottom: { mobile: \"24px\", tablet: \"32px\" },\n\t},\n\t\tbodySmall: {\n\t\tfontFamily: \"Frutiger W01\",\n\t\tfontWeight: \"400\",\n\t\tfontSize: { mobile: \"14px\", tablet: \"16px\", print: \"12pt\" },\n\t\tlineHeight: \"1.5\",\n\t\tmarginTop: \"0\",\n\t\tmarginBottom: { mobile: \"16px\", tablet: \"24px\" },\n\t},\n\t\tledeText: {\n\t\tfontFamily: \"Frutiger W01\",\n\t\tfontWeight: \"400\",\n\t\tfontSize: { mobile: \"22px\", tablet: \"26px\", print: \"17pt\" },\n\t\tlineHeight: \"1.38\",\n\t\tmarginTop: \"0\",\n\t\tmarginBottom: { mobile: \"40px\", tablet: \"48px\" },\n\t},\n\t\tledeTextSmall: {\n\t\tfontFamily: \"Frutiger W01\",\n\t\tfontWeight: \"400\",\n\t\tfontSize: { mobile: \"16px\", tablet: \"19px\", print: \"13pt\" },\n\t\tlineHeight: \"1.47\",\n\t\tmarginTop: \"0\",\n\t\tmarginBottom: { mobile: \"24px\", tablet: \"32px\" },\n\t},\n\t},\n};\n\nconst ThemeContext = createContext<NHSTheme>(nhsTheme);\n\nexport interface ThemeProviderProps {\n\tchildren: ReactNode;\n\ttheme?: Partial<NHSTheme>;\n}\n\nexport const NHSThemeProvider: React.FC<ThemeProviderProps> = ({ \n\tchildren, \n\ttheme = {} \n}) => {\n\tconst mergedTheme = { ...nhsTheme, ...theme };\n\treturn (\n\t<ThemeContext.Provider value={mergedTheme}>\n\t\t{children}\n\t</ThemeContext.Provider>\n\t);\n};\n\nexport const useNHSTheme = (): NHSTheme => {\n\tconst context = useContext(ThemeContext);\n\tif (!context) {\n\tthrow new Error('useNHSTheme must be used within an NHSThemeProvider');\n\t}\n\treturn context;\n};\n\nexport default nhsTheme;","/**\n * Font Loading Utilities\n * \n * Utilities to help with loading NHS Frutiger fonts and detecting font loading states\n */\n\nexport interface FontLoadingState {\n  isLoaded: boolean;\n  isLoading: boolean;\n  error: string | null;\n}\n\n/**\n * Check if Frutiger fonts are loaded\n */\nexport async function checkFrutigerLoaded(): Promise<boolean> {\n  if (typeof document === 'undefined' || !document.fonts) {\n\treturn false;\n  }\n  \n  try {\n\t// Load and check multiple font weights with timeout\n\tconst fonts = [\n\t  document.fonts.load('1em \"Frutiger W01\"'),\n\t  document.fonts.load('600 1em \"Frutiger W01\"'),\n\t];\n\t\n\t// Add timeout to font loading\n\tconst loadPromise = Promise.all(fonts);\n\tconst timeoutPromise = new Promise<never>((_, reject) => \n\t  setTimeout(() => reject(new Error('Font load timeout')), 5000)\n\t);\n\t\n\tawait Promise.race([loadPromise, timeoutPromise]);\n\t\n\t// Check if fonts are available\n\tconst normalAvailable = document.fonts.check('1em \"Frutiger W01\"');\n\tconst boldAvailable = document.fonts.check('600 1em \"Frutiger W01\"');\n\t\n\tconsole.log('Font availability check:', {\n\t  normal: normalAvailable,\n\t  bold: boldAvailable\n\t});\n\t\n\treturn normalAvailable && boldAvailable;\n  } catch (error) {\n\tconsole.warn('Font loading check failed:', error);\n\treturn false;\n  }\n}\n\n/**\n * Preload Frutiger fonts with proper error handling\n */\nexport async function preloadFrutigerFonts(): Promise<FontLoadingState> {\n  if (typeof document === 'undefined') {\n\treturn { isLoaded: false, isLoading: false, error: 'SSR environment' };\n  }\n\n  try {\n\t// Create link elements for preloading fonts\n\tconst fontFiles = [\n\t  {\n\t\thref: 'https://assets.nhs.uk/fonts/FrutigerLTW01-55Roman.woff2',\n\t\ttype: 'font/woff2'\n\t  },\n\t  {\n\t\thref: 'https://assets.nhs.uk/fonts/FrutigerLTW01-65Bold.woff2',\n\t\ttype: 'font/woff2'\n\t  }\n\t];\n\n\tconst preloadPromises = fontFiles.map(font => {\n\t  return new Promise<void>((resolve) => {\n\t\t// Check if link already exists\n\t\tconst existingLink = document.querySelector(`link[href=\"${font.href}\"]`);\n\t\tif (existingLink) {\n\t\t  resolve();\n\t\t  return;\n\t\t}\n\n\t\tconst link = document.createElement('link');\n\t\tlink.rel = 'preload';\n\t\tlink.as = 'font';\n\t\tlink.type = font.type;\n\t\tlink.href = font.href;\n\t\tlink.crossOrigin = 'anonymous';\n\t\t\n\t\tlink.onload = () => {\n\t\t  console.log(`Successfully preloaded font: ${font.href}`);\n\t\t  resolve();\n\t\t};\n\t\tlink.onerror = (error) => {\n\t\t  console.warn(`Failed to preload font: ${font.href}`, error);\n\t\t  // Don't reject - continue even if preload fails\n\t\t  resolve();\n\t\t};\n\t\t\n\t\tdocument.head.appendChild(link);\n\t  });\n\t});\n\n\tawait Promise.all(preloadPromises);\n\t\n\t// Give fonts time to load before checking\n\tawait new Promise(resolve => setTimeout(resolve, 100));\n\t\n\t// Now check if fonts are loaded\n\tconst isLoaded = await checkFrutigerLoaded();\n\t\n\treturn {\n\t  isLoaded,\n\t  isLoading: false,\n\t  error: isLoaded ? null : 'Fonts preloaded but not detected as available'\n\t};\n  } catch (error) {\n\tconsole.warn('Font preloading failed:', error);\n\treturn {\n\t  isLoaded: false,\n\t  isLoading: false,\n\t  error: error instanceof Error ? error.message : 'Unknown font loading error'\n\t};\n  }\n}\n\n/**\n * Get the appropriate font stack based on loading state\n */\nexport function getFontStack(fontsLoaded: boolean = false): string {\n  if (fontsLoaded) {\n\treturn '\"Frutiger W01\", Arial, Helvetica, sans-serif';\n  }\n  \n  // Fallback font stack when Frutiger is not available\n  return 'Arial, Helvetica, sans-serif';\n}\n\n/**\n * Create CSS for font-face declarations\n */\nexport function createFontFaceCSS(): string {\n  return `\n\t@font-face {\n\t  font-display: swap;\n\t  font-family: \"Frutiger W01\";\n\t  font-style: normal;\n\t  font-weight: 400;\n\t  src: url(\"https://assets.nhs.uk/fonts/FrutigerLTW01-55Roman.eot\");\n\t  src: url(\"https://assets.nhs.uk/fonts/FrutigerLTW01-55Roman.eot?#iefix\") format(\"embedded-opentype\"),\n\t\t   url(\"https://assets.nhs.uk/fonts/FrutigerLTW01-55Roman.woff2\") format(\"woff2\"),\n\t\t   url(\"https://assets.nhs.uk/fonts/FrutigerLTW01-55Roman.woff\") format(\"woff\");\n\t}\n\t\n\t@font-face {\n\t  font-display: swap;\n\t  font-family: \"Frutiger W01\";\n\t  font-style: normal;\n\t  font-weight: 600;\n\t  src: url(\"https://assets.nhs.uk/fonts/FrutigerLTW01-65Bold.eot\");\n\t  src: url(\"https://assets.nhs.uk/fonts/FrutigerLTW01-65Bold.eot?#iefix\") format(\"embedded-opentype\"),\n\t\t   url(\"https://assets.nhs.uk/fonts/FrutigerLTW01-65Bold.woff2\") format(\"woff2\"),\n\t\t   url(\"https://assets.nhs.uk/fonts/FrutigerLTW01-65Bold.woff\") format(\"woff\");\n\t}\n  `;\n}\n\n/**\n * Inject font CSS directly into the document\n */\nexport function injectFontCSS(): void {\n  if (typeof document === 'undefined') return;\n  \n  // Check if already injected\n  if (document.getElementById('nhs-fonts')) return;\n  \n  const style = document.createElement('style');\n  style.id = 'nhs-fonts';\n  style.textContent = createFontFaceCSS();\n  document.head.appendChild(style);\n}\n","import React, { useEffect } from 'react';\nimport { NHSThemeProvider as BaseThemeProvider, ThemeProviderProps } from '../../packages/nhs-fdp/dist/react/theme/NHSThemeProvider';\nimport { injectFontCSS } from '../styles/font-loader';\n// Import fonts CSS to ensure it's bundled\nimport '../styles/fonts.css';\n\n/**\n * Enhanced NHS Theme Provider that ensures fonts are loaded\n * \n * This wrapper around the base theme provider ensures that:\n * 1. Font CSS is imported and bundled\n * 2. Font face declarations are injected if not already present\n * 3. Provides the same API as the base theme provider\n */\nexport const NHSThemeProvider: React.FC<ThemeProviderProps> = ({ children, theme }) => {\n  useEffect(() => {\n    // Inject font CSS to ensure fonts are available\n    injectFontCSS();\n  }, []);\n\n  return (\n    <BaseThemeProvider theme={theme}>\n      {children}\n    </BaseThemeProvider>\n  );\n};\n\n// Re-export everything else from the base theme provider\nexport * from '../../packages/nhs-fdp/dist/react/theme/NHSThemeProvider';\n","import React, { useState, useRef, useEffect, useCallback } from 'react';\nimport classNames from 'classnames';\nimport './Header.scss';\nimport './Header.ssr.scss'; // SSR fallback styles\nimport { HeaderProps, AccountItem, NavigationItem } from './Header.types';\n\n/**\n * SSR-compatible Header Component with Progressive Enhancement\n * \n * This component is designed to work with Next.js SSR by:\n * 1. Rendering a functional header on the server\n * 2. Progressively enhancing with responsive overflow handling on the client\n * 3. Providing fallback navigation that works without JavaScript\n */\nexport const Header: React.FC<HeaderProps> = ({\n  className,\n  logo = {},\n  service = {},\n  organisation,\n  search,\n  account,\n  navigation,\n  containerClasses,\n  variant = 'default',\n  attributes = {},\n  ...props\n}) => {\n  // SSR-safe state initialization\n  const [menuOpen, setMenuOpen] = useState(false);\n  const [showMoreButton, setShowMoreButton] = useState(false);\n  const [visibleItems, setVisibleItems] = useState<number>(navigation?.items?.length || 0);\n  const [isInitialized, setIsInitialized] = useState(false);\n  const [dropdownVisible, setDropdownVisible] = useState(false);\n  const [isClient, setIsClient] = useState(false); // Track if we're on client side\n  \n  const navigationRef = useRef<HTMLUListElement>(null);\n  const containerRef = useRef<HTMLDivElement>(null);\n  const overflowCheckRef = useRef<boolean>(false);\n  const resizeTimeoutRef = useRef<NodeJS.Timeout | null>(null);\n  const navigationItemsRef = useRef<NavigationItem[]>([]);\n  const lastBreakpointRef = useRef<boolean | null>(null); // Track breakpoint changes\n\n  // Simple initialization effect - runs once\n  useEffect(() => {\n    if (typeof window === 'undefined') return;\n    \n    setIsClient(true);\n    setIsInitialized(true); // Just mark as initialized immediately\n  }, []); // Run once on mount\n\n  // Simple effect to run overflow check when client loads and navigation changes\n  useEffect(() => {\n    if (!isClient || !navigation?.items?.length) return;\n    \n    navigationItemsRef.current = navigation.items;\n    \n    // Simple timeout to run overflow check\n    const timer = setTimeout(() => {\n      if (navigationRef.current && containerRef.current) {\n        checkOverflow();\n      }\n    }, 100);\n    \n    return () => clearTimeout(timer);\n  }, [isClient, navigation?.items]);\n\n  // Determine if logo and service name should be combined into single link\n  // Following NHS.UK logic exactly\n  const combineLogoAndServiceNameLinks = \n    (service.href && !logo.href) || \n    (service.href && service.href === logo.href);\n\n  const logoHref = combineLogoAndServiceNameLinks ? service.href : logo.href;\n\n  const headerClasses = classNames(\n    'nhsuk-header',\n    {\n      'nhsuk-header--organisation': variant === 'organisation' || organisation,\n      'nhsuk-header--white': variant === 'white',\n    },\n    className\n  );\n\n  const containerClass = classNames(\n    'nhsuk-header__container',\n    'nhsuk-width-container',\n    containerClasses\n  );\n\n  const navigationClasses = classNames(\n    'nhsuk-header__navigation',\n    {\n      'nhsuk-header__navigation--white': navigation?.white,\n      'nhsuk-header__navigation--justified': navigation?.justified,\n    },\n    navigation?.className\n  );\n\n  // Simple overflow detection function\n  const checkOverflow = useCallback(() => {\n    if (typeof window === 'undefined' || overflowCheckRef.current) return;\n    if (!navigationRef.current || !containerRef.current || !navigationItemsRef.current.length) return;\n\n    overflowCheckRef.current = true;\n\n    try {\n      const container = containerRef.current;\n      const nav = navigationRef.current;\n      const containerWidth = container.offsetWidth;\n      const navItems = nav.querySelectorAll('.nhsuk-header__navigation-item:not(.nhsuk-header__navigation-item--more)');\n      \n      if (navItems.length === 0 || containerWidth === 0) {\n        overflowCheckRef.current = false;\n        return;\n      }\n\n      // Account for NHS width-container margins (gutters)\n      const mobile = window.innerWidth < 768;\n      const gutterSize = mobile ? 16 : 32; // Half gutter on mobile, full gutter on desktop\n      const totalGutters = gutterSize * 2; // Left and right gutters\n      const availableContainerWidth = containerWidth - totalGutters;\n\n      const measurements = Array.from(navItems).map(item => (item as HTMLElement).offsetWidth);\n      const totalWidth = measurements.reduce((sum, width) => sum + width, 0);\n      const moreButtonWidth = mobile ? 80 : 100;\n      \n      // Check if breakpoint changed\n      const breakpointChanged = lastBreakpointRef.current !== null && lastBreakpointRef.current !== mobile;\n      lastBreakpointRef.current = mobile;\n      \n      console.log('Overflow check:', {\n        containerWidth,\n        availableContainerWidth,\n        totalGutters,\n        gutterSize,\n        totalWidth,\n        mobile,\n        breakpointChanged,\n        itemCount: measurements.length,\n        measurements\n      });\n      \n      if (totalWidth <= availableContainerWidth) {\n        setShowMoreButton(false);\n        setVisibleItems(navigationItemsRef.current.length);\n      } else {\n        const availableWidth = availableContainerWidth - moreButtonWidth;\n        let itemsToShow = 0;\n        let runningWidth = 0;\n        \n        for (let i = 0; i < measurements.length; i++) {\n          const newWidth = runningWidth + measurements[i];\n          if (newWidth <= availableWidth) {\n            runningWidth = newWidth;\n            itemsToShow = i + 1;\n          } else {\n            break;\n          }\n        }\n        \n        itemsToShow = Math.max(1, itemsToShow);\n        const shouldShowMore = itemsToShow < measurements.length;\n        \n        setShowMoreButton(shouldShowMore);\n        setVisibleItems(itemsToShow);\n      }\n      \n      overflowCheckRef.current = false;\n      \n    } catch (error) {\n      console.error('Overflow detection error:', error);\n      setShowMoreButton(false);\n      setVisibleItems(navigationItemsRef.current.length);\n      overflowCheckRef.current = false;\n    }\n  }, []); // Stable function\n\n  // SSR-safe escape key handler\n  useEffect(() => {\n    // Only run on client side\n    if (typeof document === 'undefined') return;\n    \n    const handleEscapeKey = (event: KeyboardEvent) => {\n      if (event.key === 'Escape' && menuOpen) {\n        setMenuOpen(false);\n      }\n    };\n\n    if (menuOpen) {\n      document.addEventListener('keydown', handleEscapeKey);\n      return () => document.removeEventListener('keydown', handleEscapeKey);\n    }\n  }, [menuOpen]);\n\n  // Enhanced resize handling with breakpoint detection\n  useEffect(() => {\n    if (typeof window === 'undefined' || !isClient) return;\n    \n    const handleResize = () => {\n      // Close menu on resize\n      if (menuOpen) {\n        setMenuOpen(false);\n        setDropdownVisible(false);\n      }\n      \n      // Simple debounced overflow check\n      if (resizeTimeoutRef.current) {\n        clearTimeout(resizeTimeoutRef.current);\n      }\n      \n      resizeTimeoutRef.current = setTimeout(() => {\n        if (navigationItemsRef.current.length > 0) {\n          checkOverflow();\n        }\n      }, 250);\n    };\n\n    // Handle breakpoint changes using media query\n    let mediaQueryList: MediaQueryList | null = null;\n    let handleBreakpointChange: (() => void) | null = null;\n    \n    if (window.matchMedia) {\n      mediaQueryList = window.matchMedia('(max-width: 767px)');\n      handleBreakpointChange = () => {\n        console.log('Breakpoint changed:', mediaQueryList?.matches ? 'mobile' : 'desktop');\n        // Immediate check on breakpoint change\n        if (navigationItemsRef.current.length > 0) {\n          // Small delay to let layout settle\n          setTimeout(() => checkOverflow(), 50);\n        }\n      };\n      \n      if (mediaQueryList.addEventListener) {\n        mediaQueryList.addEventListener('change', handleBreakpointChange);\n      } else {\n        mediaQueryList.addListener(handleBreakpointChange);\n      }\n    }\n\n    window.addEventListener('resize', handleResize);\n    \n    return () => {\n      window.removeEventListener('resize', handleResize);\n      \n      // Cleanup media query listener\n      if (mediaQueryList && handleBreakpointChange) {\n        if (mediaQueryList.removeEventListener) {\n          mediaQueryList.removeEventListener('change', handleBreakpointChange);\n        } else {\n          mediaQueryList.removeListener(handleBreakpointChange);\n        }\n      }\n      \n      if (resizeTimeoutRef.current) {\n        clearTimeout(resizeTimeoutRef.current);\n      }\n    };\n  }, [isClient, menuOpen, checkOverflow]);\n\n  // SSR-safe click outside handler\n  useEffect(() => {\n    // Only run on client side\n    if (typeof document === 'undefined') return;\n    \n    const handleClickOutside = (event: MouseEvent) => {\n      const target = event.target as Node;\n      const isInsideNavigation = navigationRef.current?.contains(target);\n      \n      // Handle menu click-outside\n      if (menuOpen && !isInsideNavigation) {\n        setMenuOpen(false);\n      }\n    };\n\n    if (menuOpen) {\n      document.addEventListener('mousedown', handleClickOutside);\n      return () => document.removeEventListener('mousedown', handleClickOutside);\n    }\n  }, [menuOpen]);\n\n  const toggleMenu = (event?: React.MouseEvent) => {\n    if (event) {\n      event.preventDefault();\n      event.stopPropagation();\n    }\n    \n    const newMenuState = !menuOpen;\n    setMenuOpen(newMenuState);\n    \n    if (newMenuState) {\n      // Small delay before showing dropdown to prevent flashing\n      setTimeout(() => {\n        setDropdownVisible(true);\n      }, 50);\n    } else {\n      setDropdownVisible(false);\n    }\n  };\n\n  // NHS Logo SVG - exact copy from NHS.UK\n  const renderNHSLogo = () => (\n    <svg \n      className=\"nhsuk-header__logo\" \n      xmlns=\"http://www.w3.org/2000/svg\" \n      viewBox=\"0 0 200 80\" \n      height=\"40\" \n      width=\"100\" \n      focusable=\"false\" \n      role=\"img\" \n      aria-label={logo.ariaLabel || \"NHS\"}\n    >\n      <title>{logo.ariaLabel || \"NHS\"}</title>\n      <path \n        fill=\"currentcolor\" \n        d=\"M200 0v80H0V0h200Zm-27.5 5.5c-14.5 0-29 5-29 22 0 10.2 7.7 13.5 14.7 16.3l.7.3c5.4 2 10.1 3.9 10.1 8.4 0 6.5-8.5 7.5-14 7.5s-12.5-1.5-16-3.5L135 70c5.5 2 13.5 3.5 20 3.5 15.5 0 32-4.5 32-22.5 0-19.5-25.5-16.5-25.5-25.5 0-5.5 5.5-6.5 12.5-6.5a35 35 0 0 1 14.5 3l4-13.5c-4.5-2-12-3-20-3Zm-131 2h-22l-14 65H22l9-45h.5l13.5 45h21.5l14-65H64l-9 45h-.5l-13-45Zm63 0h-18l-13 65h17l6-28H117l-5.5 28H129l13.5-65H125L119.5 32h-20l5-24.5Z\"\n      />\n    </svg>\n  );\n\n  // Render service logo (NHS logo or custom image)\n  const renderServiceLogo = () => {\n    if (logo.src) {\n      return (\n        <img \n          className=\"nhsuk-header__organisation-logo\" \n          src={logo.src} \n          width=\"280\" \n          alt={logo.ariaLabel || \"NHS\"} \n        />\n      );\n    }\n    return renderNHSLogo();\n  };\n\n  // Render organisation name - following NHS.UK structure exactly\n  const renderOrganisationName = () => {\n    if (!organisation) return null;\n    \n    return (\n      <>\n        <span className=\"nhsuk-header__organisation-name\">\n          {organisation.name}\n          {organisation.split && (\n            <span className=\"nhsuk-header__organisation-name-split\">\n              {' '}{organisation.split}\n            </span>\n          )}\n        </span>\n        {organisation.descriptor && (\n          <span className=\"nhsuk-header__organisation-name-descriptor\">\n            {organisation.descriptor}\n          </span>\n        )}\n      </>\n    );\n  };\n\n  // Render service name\n  const renderServiceName = (text?: string, href?: string) => {\n    if (!text) return null;\n    \n    if (href) {\n      return (\n        <a className=\"nhsuk-header__service-name\" href={href}>\n          {text}\n        </a>\n      );\n    }\n    return <span className=\"nhsuk-header__service-name\">{text}</span>;\n  };\n\n  // Render account item - following NHS.UK structure exactly\n  const renderAccountItem = (item: AccountItem) => {\n    const iconContent = item.icon ? (\n      <svg \n        className=\"nhsuk-icon nhsuk-icon__user\" \n        xmlns=\"http://www.w3.org/2000/svg\" \n        viewBox=\"0 0 24 24\" \n        aria-hidden=\"true\" \n        focusable=\"false\"\n      >\n        <path d=\"M12 1a11 11 0 1 1 0 22 11 11 0 0 1 0-22Zm0 2a9 9 0 0 0-5 16.5V18a4 4 0 0 1 4-4h2a4 4 0 0 1 4 4v1.5A9 9 0 0 0 12 3Zm0 3a3.5 3.5 0 1 1-3.5 3.5A3.4 3.4 0 0 1 12 6Z\" />\n      </svg>\n    ) : null;\n\n    const textContent = item.html ? (\n      <span dangerouslySetInnerHTML={{ __html: item.html }} />\n    ) : (\n      item.text\n    );\n\n    const content = (\n      <>\n        {iconContent}\n        {textContent}\n      </>\n    );\n\n    if (item.href) {\n      return (\n        <a className=\"nhsuk-header__account-link\" href={item.href}>\n          {content}\n        </a>\n      );\n    }\n\n    if (item.action) {\n      return (\n        <form \n          className=\"nhsuk-header__account-form\" \n          action={item.action} \n          method={item.method || \"post\"}\n        >\n          <button \n            className=\"nhsuk-header__account-button\"\n            type=\"submit\"\n            role=\"button\"\n          >\n            {content}\n          </button>\n        </form>\n      );\n    }\n\n    return content;\n  };\n\n  // Search icon - exact copy from NHS.UK\n  const renderSearchIcon = () => (\n    <svg \n      className=\"nhsuk-icon nhsuk-icon__search\" \n      xmlns=\"http://www.w3.org/2000/svg\" \n      viewBox=\"0 0 24 24\" \n      aria-hidden=\"true\" \n      focusable=\"false\"\n    >\n      <path d=\"M19.71 18.29l-4.11-4.1a7 7 0 1 0-1.41 1.41l4.1 4.11a1 1 0 0 0 1.42 0 1 1 0 0 0 0-1.42zM5 10a5 5 0 1 1 5 5 5 5 0 0 1-5-5z\" />\n    </svg>\n  );\n\n  // Chevron icon for More button - exact copy from NHS.UK\n  const renderChevronIcon = () => (\n    <svg \n      className=\"nhsuk-icon nhsuk-icon__chevron-down\" \n      xmlns=\"http://www.w3.org/2000/svg\" \n      viewBox=\"0 0 24 24\" \n      aria-hidden=\"true\" \n      focusable=\"false\"\n    >\n      <path d=\"M15.5 12a1 1 0 0 1-.29.71l-5 5a1 1 0 0 1-1.42-1.42l4.3-4.29-4.3-4.29a1 1 0 0 1 1.42-1.42l5 5a1 1 0 0 1 .29.71z\" />\n    </svg>\n  );\n\n  // Render navigation link content - following NHS.UK structure exactly\n  const renderNavigationLinkContent = (item: NavigationItem) => {\n    // Wrap active links in strong element for accessibility\n    if (item.active || item.current) {\n      const content = item.html ? (\n        <span dangerouslySetInnerHTML={{ __html: item.html }} />\n      ) : (\n        item.text\n      );\n      \n      return (\n        <strong className=\"nhsuk-header__navigation-item-current-fallback\">\n          {content}\n        </strong>\n      );\n    }\n\n    return item.html ? (\n      <span dangerouslySetInnerHTML={{ __html: item.html }} />\n    ) : (\n      item.text\n    );\n  };\n\n  return (\n    <header \n      className={headerClasses} \n      role=\"banner\" \n      data-module=\"nhsuk-header\"\n      {...attributes}\n      {...props}\n    >\n      <div className={containerClass}>\n        {/* Service section - logo, organisation, service name */}\n        <div className=\"nhsuk-header__service\">\n          {logoHref ? (\n            <a className=\"nhsuk-header__service-logo\" href={logoHref}>\n              {renderServiceLogo()}\n              {renderOrganisationName()}\n              {combineLogoAndServiceNameLinks && renderServiceName(service.text)}\n            </a>\n          ) : (\n            <>\n              {renderServiceLogo()}\n              {renderOrganisationName()}\n              {combineLogoAndServiceNameLinks && renderServiceName(service.text)}\n            </>\n          )}\n          \n          {service.text && !combineLogoAndServiceNameLinks && \n            renderServiceName(service.text, service.href)\n          }\n        </div>\n\n        {/* Search */}\n        {search && (\n          <search className=\"nhsuk-header__search\">\n            <form \n              className=\"nhsuk-header__search-form\" \n              id=\"search\" \n              action={search.action || \"https://www.nhs.uk/search/\"} \n              method=\"get\"\n            >\n              <label \n                className=\"nhsuk-u-visually-hidden\" \n                htmlFor=\"search-field\"\n              >\n                {search.visuallyHiddenLabel || \"Search the NHS website\"}\n              </label>\n              <input \n                className=\"nhsuk-header__search-input nhsuk-input\" \n                id=\"search-field\" \n                name={search.name || \"q\"} \n                type=\"search\" \n                placeholder={search.placeholder || \"Search\"} \n                autoComplete=\"off\" \n              />\n              <button className=\"nhsuk-header__search-submit\" type=\"submit\">\n                {renderSearchIcon()}\n                <span className=\"nhsuk-u-visually-hidden\">\n                  {search.visuallyHiddenButton || \"Search\"}\n                </span>\n              </button>\n            </form>\n          </search>\n        )}\n\n        {/* Account */}\n        {account && account.items && account.items.length > 0 && (\n          <nav \n            className={classNames('nhsuk-header__account', account.className)} \n            aria-label={account.ariaLabel || \"Account\"}\n          >\n            <ul className=\"nhsuk-header__account-list\">\n              {account.items.map((item, index) => (\n                item && (\n                  <li \n                    key={index} \n                    className={classNames('nhsuk-header__account-item', item.className)}\n                  >\n                    {renderAccountItem(item)}\n                  </li>\n                )\n              ))}\n            </ul>\n          </nav>\n        )}\n      </div>\n\n      {/* Navigation - SSR-safe with progressive enhancement */}\n      { navigation && navigation.items && navigation.items.length > 0 && (\n        <nav \n          className={navigationClasses} \n          aria-label={navigation.ariaLabel || \"Menu\"}\n        >\n          <div \n            className={classNames(\n              'nhsuk-header__navigation-container', \n              'nhsuk-width-container',\n              {\n                'nhsuk-header__navigation-container--initializing': !isInitialized && isClient,\n                'nhsuk-header__navigation-container--ssr': !isClient\n              },\n              containerClasses\n            )}\n            ref={containerRef}\n          >\n            <ul className=\"nhsuk-header__navigation-list\" ref={navigationRef}>\n              {/* SSR Fallback: Show all navigation items on server, enhance on client */}\n              {(!isClient ? navigation.items : navigation.items.slice(0, visibleItems)).map((item, index) => (\n                <li \n                  key={index}\n                  className={classNames(\n                    'nhsuk-header__navigation-item',\n                    {\n                      'nhsuk-header__navigation-item--current': item.active || item.current,\n                      'nhsuk-header__navigation-item--ssr-fallback': !isClient && index >= 4 // Mark items that would be hidden on client\n                    },\n                    item.className\n                  )}\n                  {...(item.attributes || {})}\n                >\n                  <a \n                    className=\"nhsuk-header__navigation-link\" \n                    href={item.href}\n                    {...(item.active || item.current ? {\n                      'aria-current': item.current ? \"page\" : \"true\"\n                    } : {})}\n                  >\n                    {renderNavigationLinkContent(item)}\n                  </a>\n                </li>\n              ))}\n              \n              {/* More button - only show on client after overflow calculation */}\n              {isClient && showMoreButton && visibleItems < navigation.items.length && (\n                <li \n                  className=\"nhsuk-header__navigation-item nhsuk-header__navigation-item--more\"\n                >\n                  <a\n                    className=\"nhsuk-header__navigation-button\"\n                    id=\"toggle-more-menu\"\n                    onClick={toggleMenu}\n                    type=\"button\"\n                  >\n                    <span>More</span>\n                    {renderChevronIcon()}\n                  </a>\n                </li>\n              )}\n            </ul>\n          </div>\n        </nav>\n      )}\n\n      {/* Full-width dropdown menu - only show on client with JavaScript */}\n      {isClient && navigation && navigation.items && navigation.items.length > 0 && menuOpen && dropdownVisible && (\n        <div \n          className=\"nhsuk-header__dropdown-menu\" \n          hidden={!dropdownVisible}\n        >\n          <ul className=\"nhsuk-header__dropdown-list\">\n            {/* Show overflow items (items beyond visibleItems) */}\n            {navigation.items.slice(visibleItems).map((item, index) => (\n              <li \n                key={`overflow-${visibleItems + index}`}\n                className={classNames(\n                  'nhsuk-header__dropdown-item',\n                  {\n                    'nhsuk-header__dropdown-item--current': item.active || item.current,\n                  }\n                )}\n              >\n                <a \n                  className=\"nhsuk-header__dropdown-link\" \n                  href={item.href}\n                  {...(item.active || item.current ? {\n                    'aria-current': item.current ? \"page\" : \"true\"\n                  } : {})}\n                  onClick={() => {\n                    setMenuOpen(false);\n                    setDropdownVisible(false);\n                  }}\n                >\n                  {renderNavigationLinkContent(item)}\n                </a>\n              </li>\n            ))}\n          </ul>\n        </div>\n      )}\n    </header>\n  );\n};","import React from 'react';\nimport { HeroProps } from './Hero.types';\nimport './Hero.scss';\n\n/**\n * Hero component - displays a prominent banner section with optional background image\n * \n * The Hero component creates a prominent banner section, typically used at the top of pages.\n * It supports both text-only and image background variants, with automatic responsive styling.\n * \n * Features:\n * - Blue background with white text by default\n * - Optional background image with overlay\n * - Responsive design with mobile-first approach\n * - Configurable heading levels and content\n * - Accessibility-compliant markup\n * - Support for custom HTML content or React children\n * \n * @param props - The Hero component props\n * @returns JSX.Element\n */\nexport const Hero: React.FC<HeroProps> = ({\n  heading,\n  headingLevel = 1,\n  headingClasses = '',\n  text,\n  html,\n  imageURL,\n  containerClasses = '',\n  classes = '',\n  children,\n  ...attributes\n}) => {\n  // Determine hero classes based on image and content presence\n  const heroClasses = [\n    'nhsuk-hero',\n    imageURL && heading ? 'nhsuk-hero--image nhsuk-hero--image-description' : '',\n    imageURL && !heading ? 'nhsuk-hero--image' : '',\n    classes\n  ].filter(Boolean).join(' ');\n\n  // Determine container classes and border\n  const containerClassNames = [\n    'nhsuk-width-container',\n    containerClasses,\n    !imageURL ? 'nhsuk-hero--border' : ''\n  ].filter(Boolean).join(' ');\n\n  // Determine heading classes\n  const headingClassNames = [\n    'nhsuk-hero__heading',\n    headingClasses,\n    !children && !text && !html ? 'nhsuk-u-margin-bottom-0' : ''\n  ].filter(Boolean).join(' ');\n\n  // Check if there's any content to render\n  const hasContent = children || heading || text || html;\n\n  // Render the appropriate heading element\n  const renderHeading = () => {\n    if (!heading) return null;\n    \n    const props = { className: headingClassNames };\n    \n    switch (headingLevel) {\n      case 1:\n        return <h1 {...props}>{heading}</h1>;\n      case 2:\n        return <h2 {...props}>{heading}</h2>;\n      case 3:\n        return <h3 {...props}>{heading}</h3>;\n      case 4:\n        return <h4 {...props}>{heading}</h4>;\n      case 5:\n        return <h5 {...props}>{heading}</h5>;\n      case 6:\n        return <h6 {...props}>{heading}</h6>;\n      default:\n        return <h1 {...props}>{heading}</h1>;\n    }\n  };\n\n  return (\n    <section \n      className={heroClasses}\n      style={imageURL ? { backgroundImage: `url('${imageURL}')` } : undefined}\n      role=\"banner\"\n      {...attributes}\n    >\n      {imageURL && (\n        <div className=\"nhsuk-hero__overlay\">\n          {hasContent && (\n            <div className={containerClassNames}>\n              <div className=\"nhsuk-grid-row\">\n                <div className=\"nhsuk-grid-column-two-thirds\">\n                  <div className=\"nhsuk-hero-content\">\n                    {renderHeading()}\n                    {children ? (\n                      children\n                    ) : html ? (\n                      <div dangerouslySetInnerHTML={{ __html: html }} />\n                    ) : text ? (\n                      <p className=\"nhsuk-body-l nhsuk-u-margin-bottom-0\">{text}</p>\n                    ) : null}\n                    <span className=\"nhsuk-hero__arrow\" aria-hidden=\"true\"></span>\n                  </div>\n                </div>\n              </div>\n            </div>\n          )}\n        </div>\n      )}\n      {!imageURL && hasContent && (\n        <div className={containerClassNames}>\n          <div className=\"nhsuk-grid-row\">\n            <div className=\"nhsuk-grid-column-two-thirds\">\n              <div className=\"nhsuk-hero__wrapper\">\n                {renderHeading()}\n                {children ? (\n                  children\n                ) : html ? (\n                  <div dangerouslySetInnerHTML={{ __html: html }} />\n                ) : text ? (\n                  <p className=\"nhsuk-body-l nhsuk-u-margin-bottom-0\">{text}</p>\n                ) : null}\n              </div>\n            </div>\n          </div>\n        </div>\n      )}\n    </section>\n  );\n};\n\nHero.displayName = 'Hero';\n\nexport default Hero;","import React from 'react';\nimport classNames from 'classnames';\nimport './Footer.scss';\nimport { FooterProps, FooterLinkItem } from './Footer.types';\n\nexport const Footer: React.FC<FooterProps> = ({\n  className,\n  links = [],\n  linksColumn2,\n  linksColumn3,\n  metaLinks,\n  copyright = ' NHS England',\n  containerClasses,\n  attributes = {},\n}) => {\n  const renderLinkItem = (item: FooterLinkItem, isDefaultLayout: boolean = false) => (\n    <li\n      key={`${item.URL}-${item.label}`}\n      className={classNames('nhsuk-footer__list-item', {\n        'nhsuk-footer-default__list-item': isDefaultLayout,\n      })}\n    >\n      <a\n        className=\"nhsuk-footer__list-item-link\"\n        href={item.URL}\n        target={item.newWindow ? '_blank' : undefined}\n        rel={item.newWindow ? 'noopener noreferrer' : undefined}\n      >\n        {item.label}\n      </a>\n    </li>\n  );\n\n  const isMultiColumnLayout = !!(linksColumn2 || linksColumn3);\n\n  return (\n    <footer role=\"contentinfo\" {...attributes}>\n      <div className=\"nhsuk-footer-container\">\n        <div className={classNames('nhsuk-width-container', containerClasses)}>\n          <h2 className=\"nhsuk-u-visually-hidden\">Support links</h2>\n          <div className={classNames('nhsuk-footer', className)}>\n            {!isMultiColumnLayout ? (\n              // Single column layout (default)\n              <ul className=\"nhsuk-footer__list\">\n                {links.map((item) => renderLinkItem(item, true))}\n                {(linksColumn2 || []).map((item) => renderLinkItem(item, true))}\n                {(linksColumn3 || []).map((item) => renderLinkItem(item, true))}\n                {(metaLinks || []).map((item) => renderLinkItem(item, true))}\n              </ul>\n            ) : (\n              // Multi-column layout\n              <>\n                {links.length > 0 && (\n                  <ul className=\"nhsuk-footer__list\">\n                    {links.map((item) => renderLinkItem(item))}\n                  </ul>\n                )}\n                {linksColumn2 && linksColumn2.length > 0 && (\n                  <ul className=\"nhsuk-footer__list\">\n                    {linksColumn2.map((item) => renderLinkItem(item))}\n                  </ul>\n                )}\n                {linksColumn3 && linksColumn3.length > 0 && (\n                  <ul className=\"nhsuk-footer__list\">\n                    {linksColumn3.map((item) => renderLinkItem(item))}\n                  </ul>\n                )}\n                {metaLinks && metaLinks.length > 0 && (\n                  <ul className=\"nhsuk-footer__list nhsuk-footer__meta\">\n                    {metaLinks.map((item) => renderLinkItem(item))}\n                  </ul>\n                )}\n              </>\n            )}\n          </div>\n          {!isMultiColumnLayout && (\n            <div>\n              <p className=\"nhsuk-footer__copyright\">{copyright}</p>\n            </div>\n          )}\n        </div>\n        {isMultiColumnLayout && (\n          <div className=\"nhsuk-width-container\">\n            <div>\n              <p className=\"nhsuk-footer__copyright\">{copyright}</p>\n            </div>\n          </div>\n        )}\n      </div>\n    </footer>\n  );\n};\n","export default function ascending(a, b) {\n  return a == null || b == null ? NaN : a < b ? -1 : a > b ? 1 : a >= b ? 0 : NaN;\n}\n","export default function descending(a, b) {\n  return a == null || b == null ? NaN\n    : b < a ? -1\n    : b > a ? 1\n    : b >= a ? 0\n    : NaN;\n}\n","import ascending from \"./ascending.js\";\nimport descending from \"./descending.js\";\n\nexport default function bisector(f) {\n  let compare1, compare2, delta;\n\n  // If an accessor is specified, promote it to a comparator. In this case we\n  // can test whether the search value is (self-) comparable. We cant do this\n  // for a comparator (except for specific, known comparators) because we cant\n  // tell if the comparator is symmetric, and an asymmetric comparator cant be\n  // used to test whether a single value is comparable.\n  if (f.length !== 2) {\n    compare1 = ascending;\n    compare2 = (d, x) => ascending(f(d), x);\n    delta = (d, x) => f(d) - x;\n  } else {\n    compare1 = f === ascending || f === descending ? f : zero;\n    compare2 = f;\n    delta = f;\n  }\n\n  function left(a, x, lo = 0, hi = a.length) {\n    if (lo < hi) {\n      if (compare1(x, x) !== 0) return hi;\n      do {\n        const mid = (lo + hi) >>> 1;\n        if (compare2(a[mid], x) < 0) lo = mid + 1;\n        else hi = mid;\n      } while (lo < hi);\n    }\n    return lo;\n  }\n\n  function right(a, x, lo = 0, hi = a.length) {\n    if (lo < hi) {\n      if (compare1(x, x) !== 0) return hi;\n      do {\n        const mid = (lo + hi) >>> 1;\n        if (compare2(a[mid], x) <= 0) lo = mid + 1;\n        else hi = mid;\n      } while (lo < hi);\n    }\n    return lo;\n  }\n\n  function center(a, x, lo = 0, hi = a.length) {\n    const i = left(a, x, lo, hi - 1);\n    return i > lo && delta(a[i - 1], x) > -delta(a[i], x) ? i - 1 : i;\n  }\n\n  return {left, center, right};\n}\n\nfunction zero() {\n  return 0;\n}\n","export default function number(x) {\n  return x === null ? NaN : +x;\n}\n\nexport function* numbers(values, valueof) {\n  if (valueof === undefined) {\n    for (let value of values) {\n      if (value != null && (value = +value) >= value) {\n        yield value;\n      }\n    }\n  } else {\n    let index = -1;\n    for (let value of values) {\n      if ((value = valueof(value, ++index, values)) != null && (value = +value) >= value) {\n        yield value;\n      }\n    }\n  }\n}\n","import ascending from \"./ascending.js\";\nimport bisector from \"./bisector.js\";\nimport number from \"./number.js\";\n\nconst ascendingBisect = bisector(ascending);\nexport const bisectRight = ascendingBisect.right;\nexport const bisectLeft = ascendingBisect.left;\nexport const bisectCenter = bisector(number).center;\nexport default bisectRight;\n","const e10 = Math.sqrt(50),\n    e5 = Math.sqrt(10),\n    e2 = Math.sqrt(2);\n\nfunction tickSpec(start, stop, count) {\n  const step = (stop - start) / Math.max(0, count),\n      power = Math.floor(Math.log10(step)),\n      error = step / Math.pow(10, power),\n      factor = error >= e10 ? 10 : error >= e5 ? 5 : error >= e2 ? 2 : 1;\n  let i1, i2, inc;\n  if (power < 0) {\n    inc = Math.pow(10, -power) / factor;\n    i1 = Math.round(start * inc);\n    i2 = Math.round(stop * inc);\n    if (i1 / inc < start) ++i1;\n    if (i2 / inc > stop) --i2;\n    inc = -inc;\n  } else {\n    inc = Math.pow(10, power) * factor;\n    i1 = Math.round(start / inc);\n    i2 = Math.round(stop / inc);\n    if (i1 * inc < start) ++i1;\n    if (i2 * inc > stop) --i2;\n  }\n  if (i2 < i1 && 0.5 <= count && count < 2) return tickSpec(start, stop, count * 2);\n  return [i1, i2, inc];\n}\n\nexport default function ticks(start, stop, count) {\n  stop = +stop, start = +start, count = +count;\n  if (!(count > 0)) return [];\n  if (start === stop) return [start];\n  const reverse = stop < start, [i1, i2, inc] = reverse ? tickSpec(stop, start, count) : tickSpec(start, stop, count);\n  if (!(i2 >= i1)) return [];\n  const n = i2 - i1 + 1, ticks = new Array(n);\n  if (reverse) {\n    if (inc < 0) for (let i = 0; i < n; ++i) ticks[i] = (i2 - i) / -inc;\n    else for (let i = 0; i < n; ++i) ticks[i] = (i2 - i) * inc;\n  } else {\n    if (inc < 0) for (let i = 0; i < n; ++i) ticks[i] = (i1 + i) / -inc;\n    else for (let i = 0; i < n; ++i) ticks[i] = (i1 + i) * inc;\n  }\n  return ticks;\n}\n\nexport function tickIncrement(start, stop, count) {\n  stop = +stop, start = +start, count = +count;\n  return tickSpec(start, stop, count)[2];\n}\n\nexport function tickStep(start, stop, count) {\n  stop = +stop, start = +start, count = +count;\n  const reverse = stop < start, inc = reverse ? tickIncrement(stop, start, count) : tickIncrement(start, stop, count);\n  return (reverse ? -1 : 1) * (inc < 0 ? 1 / -inc : inc);\n}\n","export function initRange(domain, range) {\n  switch (arguments.length) {\n    case 0: break;\n    case 1: this.range(domain); break;\n    default: this.range(range).domain(domain); break;\n  }\n  return this;\n}\n\nexport function initInterpolator(domain, interpolator) {\n  switch (arguments.length) {\n    case 0: break;\n    case 1: {\n      if (typeof domain === \"function\") this.interpolator(domain);\n      else this.range(domain);\n      break;\n    }\n    default: {\n      this.domain(domain);\n      if (typeof interpolator === \"function\") this.interpolator(interpolator);\n      else this.range(interpolator);\n      break;\n    }\n  }\n  return this;\n}\n","export default function(constructor, factory, prototype) {\n  constructor.prototype = factory.prototype = prototype;\n  prototype.constructor = constructor;\n}\n\nexport function extend(parent, definition) {\n  var prototype = Object.create(parent.prototype);\n  for (var key in definition) prototype[key] = definition[key];\n  return prototype;\n}\n","import define, {extend} from \"./define.js\";\n\nexport function Color() {}\n\nexport var darker = 0.7;\nexport var brighter = 1 / darker;\n\nvar reI = \"\\\\s*([+-]?\\\\d+)\\\\s*\",\n    reN = \"\\\\s*([+-]?(?:\\\\d*\\\\.)?\\\\d+(?:[eE][+-]?\\\\d+)?)\\\\s*\",\n    reP = \"\\\\s*([+-]?(?:\\\\d*\\\\.)?\\\\d+(?:[eE][+-]?\\\\d+)?)%\\\\s*\",\n    reHex = /^#([0-9a-f]{3,8})$/,\n    reRgbInteger = new RegExp(`^rgb\\\\(${reI},${reI},${reI}\\\\)$`),\n    reRgbPercent = new RegExp(`^rgb\\\\(${reP},${reP},${reP}\\\\)$`),\n    reRgbaInteger = new RegExp(`^rgba\\\\(${reI},${reI},${reI},${reN}\\\\)$`),\n    reRgbaPercent = new RegExp(`^rgba\\\\(${reP},${reP},${reP},${reN}\\\\)$`),\n    reHslPercent = new RegExp(`^hsl\\\\(${reN},${reP},${reP}\\\\)$`),\n    reHslaPercent = new RegExp(`^hsla\\\\(${reN},${reP},${reP},${reN}\\\\)$`);\n\nvar named = {\n  aliceblue: 0xf0f8ff,\n  antiquewhite: 0xfaebd7,\n  aqua: 0x00ffff,\n  aquamarine: 0x7fffd4,\n  azure: 0xf0ffff,\n  beige: 0xf5f5dc,\n  bisque: 0xffe4c4,\n  black: 0x000000,\n  blanchedalmond: 0xffebcd,\n  blue: 0x0000ff,\n  blueviolet: 0x8a2be2,\n  brown: 0xa52a2a,\n  burlywood: 0xdeb887,\n  cadetblue: 0x5f9ea0,\n  chartreuse: 0x7fff00,\n  chocolate: 0xd2691e,\n  coral: 0xff7f50,\n  cornflowerblue: 0x6495ed,\n  cornsilk: 0xfff8dc,\n  crimson: 0xdc143c,\n  cyan: 0x00ffff,\n  darkblue: 0x00008b,\n  darkcyan: 0x008b8b,\n  darkgoldenrod: 0xb8860b,\n  darkgray: 0xa9a9a9,\n  darkgreen: 0x006400,\n  darkgrey: 0xa9a9a9,\n  darkkhaki: 0xbdb76b,\n  darkmagenta: 0x8b008b,\n  darkolivegreen: 0x556b2f,\n  darkorange: 0xff8c00,\n  darkorchid: 0x9932cc,\n  darkred: 0x8b0000,\n  darksalmon: 0xe9967a,\n  darkseagreen: 0x8fbc8f,\n  darkslateblue: 0x483d8b,\n  darkslategray: 0x2f4f4f,\n  darkslategrey: 0x2f4f4f,\n  darkturquoise: 0x00ced1,\n  darkviolet: 0x9400d3,\n  deeppink: 0xff1493,\n  deepskyblue: 0x00bfff,\n  dimgray: 0x696969,\n  dimgrey: 0x696969,\n  dodgerblue: 0x1e90ff,\n  firebrick: 0xb22222,\n  floralwhite: 0xfffaf0,\n  forestgreen: 0x228b22,\n  fuchsia: 0xff00ff,\n  gainsboro: 0xdcdcdc,\n  ghostwhite: 0xf8f8ff,\n  gold: 0xffd700,\n  goldenrod: 0xdaa520,\n  gray: 0x808080,\n  green: 0x008000,\n  greenyellow: 0xadff2f,\n  grey: 0x808080,\n  honeydew: 0xf0fff0,\n  hotpink: 0xff69b4,\n  indianred: 0xcd5c5c,\n  indigo: 0x4b0082,\n  ivory: 0xfffff0,\n  khaki: 0xf0e68c,\n  lavender: 0xe6e6fa,\n  lavenderblush: 0xfff0f5,\n  lawngreen: 0x7cfc00,\n  lemonchiffon: 0xfffacd,\n  lightblue: 0xadd8e6,\n  lightcoral: 0xf08080,\n  lightcyan: 0xe0ffff,\n  lightgoldenrodyellow: 0xfafad2,\n  lightgray: 0xd3d3d3,\n  lightgreen: 0x90ee90,\n  lightgrey: 0xd3d3d3,\n  lightpink: 0xffb6c1,\n  lightsalmon: 0xffa07a,\n  lightseagreen: 0x20b2aa,\n  lightskyblue: 0x87cefa,\n  lightslategray: 0x778899,\n  lightslategrey: 0x778899,\n  lightsteelblue: 0xb0c4de,\n  lightyellow: 0xffffe0,\n  lime: 0x00ff00,\n  limegreen: 0x32cd32,\n  linen: 0xfaf0e6,\n  magenta: 0xff00ff,\n  maroon: 0x800000,\n  mediumaquamarine: 0x66cdaa,\n  mediumblue: 0x0000cd,\n  mediumorchid: 0xba55d3,\n  mediumpurple: 0x9370db,\n  mediumseagreen: 0x3cb371,\n  mediumslateblue: 0x7b68ee,\n  mediumspringgreen: 0x00fa9a,\n  mediumturquoise: 0x48d1cc,\n  mediumvioletred: 0xc71585,\n  midnightblue: 0x191970,\n  mintcream: 0xf5fffa,\n  mistyrose: 0xffe4e1,\n  moccasin: 0xffe4b5,\n  navajowhite: 0xffdead,\n  navy: 0x000080,\n  oldlace: 0xfdf5e6,\n  olive: 0x808000,\n  olivedrab: 0x6b8e23,\n  orange: 0xffa500,\n  orangered: 0xff4500,\n  orchid: 0xda70d6,\n  palegoldenrod: 0xeee8aa,\n  palegreen: 0x98fb98,\n  paleturquoise: 0xafeeee,\n  palevioletred: 0xdb7093,\n  papayawhip: 0xffefd5,\n  peachpuff: 0xffdab9,\n  peru: 0xcd853f,\n  pink: 0xffc0cb,\n  plum: 0xdda0dd,\n  powderblue: 0xb0e0e6,\n  purple: 0x800080,\n  rebeccapurple: 0x663399,\n  red: 0xff0000,\n  rosybrown: 0xbc8f8f,\n  royalblue: 0x4169e1,\n  saddlebrown: 0x8b4513,\n  salmon: 0xfa8072,\n  sandybrown: 0xf4a460,\n  seagreen: 0x2e8b57,\n  seashell: 0xfff5ee,\n  sienna: 0xa0522d,\n  silver: 0xc0c0c0,\n  skyblue: 0x87ceeb,\n  slateblue: 0x6a5acd,\n  slategray: 0x708090,\n  slategrey: 0x708090,\n  snow: 0xfffafa,\n  springgreen: 0x00ff7f,\n  steelblue: 0x4682b4,\n  tan: 0xd2b48c,\n  teal: 0x008080,\n  thistle: 0xd8bfd8,\n  tomato: 0xff6347,\n  turquoise: 0x40e0d0,\n  violet: 0xee82ee,\n  wheat: 0xf5deb3,\n  white: 0xffffff,\n  whitesmoke: 0xf5f5f5,\n  yellow: 0xffff00,\n  yellowgreen: 0x9acd32\n};\n\ndefine(Color, color, {\n  copy(channels) {\n    return Object.assign(new this.constructor, this, channels);\n  },\n  displayable() {\n    return this.rgb().displayable();\n  },\n  hex: color_formatHex, // Deprecated! Use color.formatHex.\n  formatHex: color_formatHex,\n  formatHex8: color_formatHex8,\n  formatHsl: color_formatHsl,\n  formatRgb: color_formatRgb,\n  toString: color_formatRgb\n});\n\nfunction color_formatHex() {\n  return this.rgb().formatHex();\n}\n\nfunction color_formatHex8() {\n  return this.rgb().formatHex8();\n}\n\nfunction color_formatHsl() {\n  return hslConvert(this).formatHsl();\n}\n\nfunction color_formatRgb() {\n  return this.rgb().formatRgb();\n}\n\nexport default function color(format) {\n  var m, l;\n  format = (format + \"\").trim().toLowerCase();\n  return (m = reHex.exec(format)) ? (l = m[1].length, m = parseInt(m[1], 16), l === 6 ? rgbn(m) // #ff0000\n      : l === 3 ? new Rgb((m >> 8 & 0xf) | (m >> 4 & 0xf0), (m >> 4 & 0xf) | (m & 0xf0), ((m & 0xf) << 4) | (m & 0xf), 1) // #f00\n      : l === 8 ? rgba(m >> 24 & 0xff, m >> 16 & 0xff, m >> 8 & 0xff, (m & 0xff) / 0xff) // #ff000000\n      : l === 4 ? rgba((m >> 12 & 0xf) | (m >> 8 & 0xf0), (m >> 8 & 0xf) | (m >> 4 & 0xf0), (m >> 4 & 0xf) | (m & 0xf0), (((m & 0xf) << 4) | (m & 0xf)) / 0xff) // #f000\n      : null) // invalid hex\n      : (m = reRgbInteger.exec(format)) ? new Rgb(m[1], m[2], m[3], 1) // rgb(255, 0, 0)\n      : (m = reRgbPercent.exec(format)) ? new Rgb(m[1] * 255 / 100, m[2] * 255 / 100, m[3] * 255 / 100, 1) // rgb(100%, 0%, 0%)\n      : (m = reRgbaInteger.exec(format)) ? rgba(m[1], m[2], m[3], m[4]) // rgba(255, 0, 0, 1)\n      : (m = reRgbaPercent.exec(format)) ? rgba(m[1] * 255 / 100, m[2] * 255 / 100, m[3] * 255 / 100, m[4]) // rgb(100%, 0%, 0%, 1)\n      : (m = reHslPercent.exec(format)) ? hsla(m[1], m[2] / 100, m[3] / 100, 1) // hsl(120, 50%, 50%)\n      : (m = reHslaPercent.exec(format)) ? hsla(m[1], m[2] / 100, m[3] / 100, m[4]) // hsla(120, 50%, 50%, 1)\n      : named.hasOwnProperty(format) ? rgbn(named[format]) // eslint-disable-line no-prototype-builtins\n      : format === \"transparent\" ? new Rgb(NaN, NaN, NaN, 0)\n      : null;\n}\n\nfunction rgbn(n) {\n  return new Rgb(n >> 16 & 0xff, n >> 8 & 0xff, n & 0xff, 1);\n}\n\nfunction rgba(r, g, b, a) {\n  if (a <= 0) r = g = b = NaN;\n  return new Rgb(r, g, b, a);\n}\n\nexport function rgbConvert(o) {\n  if (!(o instanceof Color)) o = color(o);\n  if (!o) return new Rgb;\n  o = o.rgb();\n  return new Rgb(o.r, o.g, o.b, o.opacity);\n}\n\nexport function rgb(r, g, b, opacity) {\n  return arguments.length === 1 ? rgbConvert(r) : new Rgb(r, g, b, opacity == null ? 1 : opacity);\n}\n\nexport function Rgb(r, g, b, opacity) {\n  this.r = +r;\n  this.g = +g;\n  this.b = +b;\n  this.opacity = +opacity;\n}\n\ndefine(Rgb, rgb, extend(Color, {\n  brighter(k) {\n    k = k == null ? brighter : Math.pow(brighter, k);\n    return new Rgb(this.r * k, this.g * k, this.b * k, this.opacity);\n  },\n  darker(k) {\n    k = k == null ? darker : Math.pow(darker, k);\n    return new Rgb(this.r * k, this.g * k, this.b * k, this.opacity);\n  },\n  rgb() {\n    return this;\n  },\n  clamp() {\n    return new Rgb(clampi(this.r), clampi(this.g), clampi(this.b), clampa(this.opacity));\n  },\n  displayable() {\n    return (-0.5 <= this.r && this.r < 255.5)\n        && (-0.5 <= this.g && this.g < 255.5)\n        && (-0.5 <= this.b && this.b < 255.5)\n        && (0 <= this.opacity && this.opacity <= 1);\n  },\n  hex: rgb_formatHex, // Deprecated! Use color.formatHex.\n  formatHex: rgb_formatHex,\n  formatHex8: rgb_formatHex8,\n  formatRgb: rgb_formatRgb,\n  toString: rgb_formatRgb\n}));\n\nfunction rgb_formatHex() {\n  return `#${hex(this.r)}${hex(this.g)}${hex(this.b)}`;\n}\n\nfunction rgb_formatHex8() {\n  return `#${hex(this.r)}${hex(this.g)}${hex(this.b)}${hex((isNaN(this.opacity) ? 1 : this.opacity) * 255)}`;\n}\n\nfunction rgb_formatRgb() {\n  const a = clampa(this.opacity);\n  return `${a === 1 ? \"rgb(\" : \"rgba(\"}${clampi(this.r)}, ${clampi(this.g)}, ${clampi(this.b)}${a === 1 ? \")\" : `, ${a})`}`;\n}\n\nfunction clampa(opacity) {\n  return isNaN(opacity) ? 1 : Math.max(0, Math.min(1, opacity));\n}\n\nfunction clampi(value) {\n  return Math.max(0, Math.min(255, Math.round(value) || 0));\n}\n\nfunction hex(value) {\n  value = clampi(value);\n  return (value < 16 ? \"0\" : \"\") + value.toString(16);\n}\n\nfunction hsla(h, s, l, a) {\n  if (a <= 0) h = s = l = NaN;\n  else if (l <= 0 || l >= 1) h = s = NaN;\n  else if (s <= 0) h = NaN;\n  return new Hsl(h, s, l, a);\n}\n\nexport function hslConvert(o) {\n  if (o instanceof Hsl) return new Hsl(o.h, o.s, o.l, o.opacity);\n  if (!(o instanceof Color)) o = color(o);\n  if (!o) return new Hsl;\n  if (o instanceof Hsl) return o;\n  o = o.rgb();\n  var r = o.r / 255,\n      g = o.g / 255,\n      b = o.b / 255,\n      min = Math.min(r, g, b),\n      max = Math.max(r, g, b),\n      h = NaN,\n      s = max - min,\n      l = (max + min) / 2;\n  if (s) {\n    if (r === max) h = (g - b) / s + (g < b) * 6;\n    else if (g === max) h = (b - r) / s + 2;\n    else h = (r - g) / s + 4;\n    s /= l < 0.5 ? max + min : 2 - max - min;\n    h *= 60;\n  } else {\n    s = l > 0 && l < 1 ? 0 : h;\n  }\n  return new Hsl(h, s, l, o.opacity);\n}\n\nexport function hsl(h, s, l, opacity) {\n  return arguments.length === 1 ? hslConvert(h) : new Hsl(h, s, l, opacity == null ? 1 : opacity);\n}\n\nfunction Hsl(h, s, l, opacity) {\n  this.h = +h;\n  this.s = +s;\n  this.l = +l;\n  this.opacity = +opacity;\n}\n\ndefine(Hsl, hsl, extend(Color, {\n  brighter(k) {\n    k = k == null ? brighter : Math.pow(brighter, k);\n    return new Hsl(this.h, this.s, this.l * k, this.opacity);\n  },\n  darker(k) {\n    k = k == null ? darker : Math.pow(darker, k);\n    return new Hsl(this.h, this.s, this.l * k, this.opacity);\n  },\n  rgb() {\n    var h = this.h % 360 + (this.h < 0) * 360,\n        s = isNaN(h) || isNaN(this.s) ? 0 : this.s,\n        l = this.l,\n        m2 = l + (l < 0.5 ? l : 1 - l) * s,\n        m1 = 2 * l - m2;\n    return new Rgb(\n      hsl2rgb(h >= 240 ? h - 240 : h + 120, m1, m2),\n      hsl2rgb(h, m1, m2),\n      hsl2rgb(h < 120 ? h + 240 : h - 120, m1, m2),\n      this.opacity\n    );\n  },\n  clamp() {\n    return new Hsl(clamph(this.h), clampt(this.s), clampt(this.l), clampa(this.opacity));\n  },\n  displayable() {\n    return (0 <= this.s && this.s <= 1 || isNaN(this.s))\n        && (0 <= this.l && this.l <= 1)\n        && (0 <= this.opacity && this.opacity <= 1);\n  },\n  formatHsl() {\n    const a = clampa(this.opacity);\n    return `${a === 1 ? \"hsl(\" : \"hsla(\"}${clamph(this.h)}, ${clampt(this.s) * 100}%, ${clampt(this.l) * 100}%${a === 1 ? \")\" : `, ${a})`}`;\n  }\n}));\n\nfunction clamph(value) {\n  value = (value || 0) % 360;\n  return value < 0 ? value + 360 : value;\n}\n\nfunction clampt(value) {\n  return Math.max(0, Math.min(1, value || 0));\n}\n\n/* From FvD 13.37, CSS Color Module Level 3 */\nfunction hsl2rgb(h, m1, m2) {\n  return (h < 60 ? m1 + (m2 - m1) * h / 60\n      : h < 180 ? m2\n      : h < 240 ? m1 + (m2 - m1) * (240 - h) / 60\n      : m1) * 255;\n}\n","export default x => () => x;\n","import constant from \"./constant.js\";\n\nfunction linear(a, d) {\n  return function(t) {\n    return a + t * d;\n  };\n}\n\nfunction exponential(a, b, y) {\n  return a = Math.pow(a, y), b = Math.pow(b, y) - a, y = 1 / y, function(t) {\n    return Math.pow(a + t * b, y);\n  };\n}\n\nexport function hue(a, b) {\n  var d = b - a;\n  return d ? linear(a, d > 180 || d < -180 ? d - 360 * Math.round(d / 360) : d) : constant(isNaN(a) ? b : a);\n}\n\nexport function gamma(y) {\n  return (y = +y) === 1 ? nogamma : function(a, b) {\n    return b - a ? exponential(a, b, y) : constant(isNaN(a) ? b : a);\n  };\n}\n\nexport default function nogamma(a, b) {\n  var d = b - a;\n  return d ? linear(a, d) : constant(isNaN(a) ? b : a);\n}\n","import {rgb as colorRgb} from \"d3-color\";\nimport basis from \"./basis.js\";\nimport basisClosed from \"./basisClosed.js\";\nimport nogamma, {gamma} from \"./color.js\";\n\nexport default (function rgbGamma(y) {\n  var color = gamma(y);\n\n  function rgb(start, end) {\n    var r = color((start = colorRgb(start)).r, (end = colorRgb(end)).r),\n        g = color(start.g, end.g),\n        b = color(start.b, end.b),\n        opacity = nogamma(start.opacity, end.opacity);\n    return function(t) {\n      start.r = r(t);\n      start.g = g(t);\n      start.b = b(t);\n      start.opacity = opacity(t);\n      return start + \"\";\n    };\n  }\n\n  rgb.gamma = rgbGamma;\n\n  return rgb;\n})(1);\n\nfunction rgbSpline(spline) {\n  return function(colors) {\n    var n = colors.length,\n        r = new Array(n),\n        g = new Array(n),\n        b = new Array(n),\n        i, color;\n    for (i = 0; i < n; ++i) {\n      color = colorRgb(colors[i]);\n      r[i] = color.r || 0;\n      g[i] = color.g || 0;\n      b[i] = color.b || 0;\n    }\n    r = spline(r);\n    g = spline(g);\n    b = spline(b);\n    color.opacity = 1;\n    return function(t) {\n      color.r = r(t);\n      color.g = g(t);\n      color.b = b(t);\n      return color + \"\";\n    };\n  };\n}\n\nexport var rgbBasis = rgbSpline(basis);\nexport var rgbBasisClosed = rgbSpline(basisClosed);\n","export default function(a, b) {\n  if (!b) b = [];\n  var n = a ? Math.min(b.length, a.length) : 0,\n      c = b.slice(),\n      i;\n  return function(t) {\n    for (i = 0; i < n; ++i) c[i] = a[i] * (1 - t) + b[i] * t;\n    return c;\n  };\n}\n\nexport function isNumberArray(x) {\n  return ArrayBuffer.isView(x) && !(x instanceof DataView);\n}\n","import value from \"./value.js\";\nimport numberArray, {isNumberArray} from \"./numberArray.js\";\n\nexport default function(a, b) {\n  return (isNumberArray(b) ? numberArray : genericArray)(a, b);\n}\n\nexport function genericArray(a, b) {\n  var nb = b ? b.length : 0,\n      na = a ? Math.min(nb, a.length) : 0,\n      x = new Array(na),\n      c = new Array(nb),\n      i;\n\n  for (i = 0; i < na; ++i) x[i] = value(a[i], b[i]);\n  for (; i < nb; ++i) c[i] = b[i];\n\n  return function(t) {\n    for (i = 0; i < na; ++i) c[i] = x[i](t);\n    return c;\n  };\n}\n","export default function(a, b) {\n  var d = new Date;\n  return a = +a, b = +b, function(t) {\n    return d.setTime(a * (1 - t) + b * t), d;\n  };\n}\n","export default function(a, b) {\n  return a = +a, b = +b, function(t) {\n    return a * (1 - t) + b * t;\n  };\n}\n","import value from \"./value.js\";\n\nexport default function(a, b) {\n  var i = {},\n      c = {},\n      k;\n\n  if (a === null || typeof a !== \"object\") a = {};\n  if (b === null || typeof b !== \"object\") b = {};\n\n  for (k in b) {\n    if (k in a) {\n      i[k] = value(a[k], b[k]);\n    } else {\n      c[k] = b[k];\n    }\n  }\n\n  return function(t) {\n    for (k in i) c[k] = i[k](t);\n    return c;\n  };\n}\n","import number from \"./number.js\";\n\nvar reA = /[-+]?(?:\\d+\\.?\\d*|\\.?\\d+)(?:[eE][-+]?\\d+)?/g,\n    reB = new RegExp(reA.source, \"g\");\n\nfunction zero(b) {\n  return function() {\n    return b;\n  };\n}\n\nfunction one(b) {\n  return function(t) {\n    return b(t) + \"\";\n  };\n}\n\nexport default function(a, b) {\n  var bi = reA.lastIndex = reB.lastIndex = 0, // scan index for next number in b\n      am, // current match in a\n      bm, // current match in b\n      bs, // string preceding current number in b, if any\n      i = -1, // index in s\n      s = [], // string constants and placeholders\n      q = []; // number interpolators\n\n  // Coerce inputs to strings.\n  a = a + \"\", b = b + \"\";\n\n  // Interpolate pairs of numbers in a & b.\n  while ((am = reA.exec(a))\n      && (bm = reB.exec(b))) {\n    if ((bs = bm.index) > bi) { // a string precedes the next number in b\n      bs = b.slice(bi, bs);\n      if (s[i]) s[i] += bs; // coalesce with previous string\n      else s[++i] = bs;\n    }\n    if ((am = am[0]) === (bm = bm[0])) { // numbers in a & b match\n      if (s[i]) s[i] += bm; // coalesce with previous string\n      else s[++i] = bm;\n    } else { // interpolate non-matching numbers\n      s[++i] = null;\n      q.push({i: i, x: number(am, bm)});\n    }\n    bi = reB.lastIndex;\n  }\n\n  // Add remains of b.\n  if (bi < b.length) {\n    bs = b.slice(bi);\n    if (s[i]) s[i] += bs; // coalesce with previous string\n    else s[++i] = bs;\n  }\n\n  // Special optimization for only a single match.\n  // Otherwise, interpolate each of the numbers and rejoin the string.\n  return s.length < 2 ? (q[0]\n      ? one(q[0].x)\n      : zero(b))\n      : (b = q.length, function(t) {\n          for (var i = 0, o; i < b; ++i) s[(o = q[i]).i] = o.x(t);\n          return s.join(\"\");\n        });\n}\n","import {color} from \"d3-color\";\nimport rgb from \"./rgb.js\";\nimport {genericArray} from \"./array.js\";\nimport date from \"./date.js\";\nimport number from \"./number.js\";\nimport object from \"./object.js\";\nimport string from \"./string.js\";\nimport constant from \"./constant.js\";\nimport numberArray, {isNumberArray} from \"./numberArray.js\";\n\nexport default function(a, b) {\n  var t = typeof b, c;\n  return b == null || t === \"boolean\" ? constant(b)\n      : (t === \"number\" ? number\n      : t === \"string\" ? ((c = color(b)) ? (b = c, rgb) : string)\n      : b instanceof color ? rgb\n      : b instanceof Date ? date\n      : isNumberArray(b) ? numberArray\n      : Array.isArray(b) ? genericArray\n      : typeof b.valueOf !== \"function\" && typeof b.toString !== \"function\" || isNaN(b) ? object\n      : number)(a, b);\n}\n","export default function(a, b) {\n  return a = +a, b = +b, function(t) {\n    return Math.round(a * (1 - t) + b * t);\n  };\n}\n","export default function constants(x) {\n  return function() {\n    return x;\n  };\n}\n","export default function number(x) {\n  return +x;\n}\n","import {bisect} from \"d3-array\";\nimport {interpolate as interpolateValue, interpolateNumber, interpolateRound} from \"d3-interpolate\";\nimport constant from \"./constant.js\";\nimport number from \"./number.js\";\n\nvar unit = [0, 1];\n\nexport function identity(x) {\n  return x;\n}\n\nfunction normalize(a, b) {\n  return (b -= (a = +a))\n      ? function(x) { return (x - a) / b; }\n      : constant(isNaN(b) ? NaN : 0.5);\n}\n\nfunction clamper(a, b) {\n  var t;\n  if (a > b) t = a, a = b, b = t;\n  return function(x) { return Math.max(a, Math.min(b, x)); };\n}\n\n// normalize(a, b)(x) takes a domain value x in [a,b] and returns the corresponding parameter t in [0,1].\n// interpolate(a, b)(t) takes a parameter t in [0,1] and returns the corresponding range value x in [a,b].\nfunction bimap(domain, range, interpolate) {\n  var d0 = domain[0], d1 = domain[1], r0 = range[0], r1 = range[1];\n  if (d1 < d0) d0 = normalize(d1, d0), r0 = interpolate(r1, r0);\n  else d0 = normalize(d0, d1), r0 = interpolate(r0, r1);\n  return function(x) { return r0(d0(x)); };\n}\n\nfunction polymap(domain, range, interpolate) {\n  var j = Math.min(domain.length, range.length) - 1,\n      d = new Array(j),\n      r = new Array(j),\n      i = -1;\n\n  // Reverse descending domains.\n  if (domain[j] < domain[0]) {\n    domain = domain.slice().reverse();\n    range = range.slice().reverse();\n  }\n\n  while (++i < j) {\n    d[i] = normalize(domain[i], domain[i + 1]);\n    r[i] = interpolate(range[i], range[i + 1]);\n  }\n\n  return function(x) {\n    var i = bisect(domain, x, 1, j) - 1;\n    return r[i](d[i](x));\n  };\n}\n\nexport function copy(source, target) {\n  return target\n      .domain(source.domain())\n      .range(source.range())\n      .interpolate(source.interpolate())\n      .clamp(source.clamp())\n      .unknown(source.unknown());\n}\n\nexport function transformer() {\n  var domain = unit,\n      range = unit,\n      interpolate = interpolateValue,\n      transform,\n      untransform,\n      unknown,\n      clamp = identity,\n      piecewise,\n      output,\n      input;\n\n  function rescale() {\n    var n = Math.min(domain.length, range.length);\n    if (clamp !== identity) clamp = clamper(domain[0], domain[n - 1]);\n    piecewise = n > 2 ? polymap : bimap;\n    output = input = null;\n    return scale;\n  }\n\n  function scale(x) {\n    return x == null || isNaN(x = +x) ? unknown : (output || (output = piecewise(domain.map(transform), range, interpolate)))(transform(clamp(x)));\n  }\n\n  scale.invert = function(y) {\n    return clamp(untransform((input || (input = piecewise(range, domain.map(transform), interpolateNumber)))(y)));\n  };\n\n  scale.domain = function(_) {\n    return arguments.length ? (domain = Array.from(_, number), rescale()) : domain.slice();\n  };\n\n  scale.range = function(_) {\n    return arguments.length ? (range = Array.from(_), rescale()) : range.slice();\n  };\n\n  scale.rangeRound = function(_) {\n    return range = Array.from(_), interpolate = interpolateRound, rescale();\n  };\n\n  scale.clamp = function(_) {\n    return arguments.length ? (clamp = _ ? true : identity, rescale()) : clamp !== identity;\n  };\n\n  scale.interpolate = function(_) {\n    return arguments.length ? (interpolate = _, rescale()) : interpolate;\n  };\n\n  scale.unknown = function(_) {\n    return arguments.length ? (unknown = _, scale) : unknown;\n  };\n\n  return function(t, u) {\n    transform = t, untransform = u;\n    return rescale();\n  };\n}\n\nexport default function continuous() {\n  return transformer()(identity, identity);\n}\n","export default function nice(domain, interval) {\n  domain = domain.slice();\n\n  var i0 = 0,\n      i1 = domain.length - 1,\n      x0 = domain[i0],\n      x1 = domain[i1],\n      t;\n\n  if (x1 < x0) {\n    t = i0, i0 = i1, i1 = t;\n    t = x0, x0 = x1, x1 = t;\n  }\n\n  domain[i0] = interval.floor(x0);\n  domain[i1] = interval.ceil(x1);\n  return domain;\n}\n","const t0 = new Date, t1 = new Date;\n\nexport function timeInterval(floori, offseti, count, field) {\n\n  function interval(date) {\n    return floori(date = arguments.length === 0 ? new Date : new Date(+date)), date;\n  }\n\n  interval.floor = (date) => {\n    return floori(date = new Date(+date)), date;\n  };\n\n  interval.ceil = (date) => {\n    return floori(date = new Date(date - 1)), offseti(date, 1), floori(date), date;\n  };\n\n  interval.round = (date) => {\n    const d0 = interval(date), d1 = interval.ceil(date);\n    return date - d0 < d1 - date ? d0 : d1;\n  };\n\n  interval.offset = (date, step) => {\n    return offseti(date = new Date(+date), step == null ? 1 : Math.floor(step)), date;\n  };\n\n  interval.range = (start, stop, step) => {\n    const range = [];\n    start = interval.ceil(start);\n    step = step == null ? 1 : Math.floor(step);\n    if (!(start < stop) || !(step > 0)) return range; // also handles Invalid Date\n    let previous;\n    do range.push(previous = new Date(+start)), offseti(start, step), floori(start);\n    while (previous < start && start < stop);\n    return range;\n  };\n\n  interval.filter = (test) => {\n    return timeInterval((date) => {\n      if (date >= date) while (floori(date), !test(date)) date.setTime(date - 1);\n    }, (date, step) => {\n      if (date >= date) {\n        if (step < 0) while (++step <= 0) {\n          while (offseti(date, -1), !test(date)) {} // eslint-disable-line no-empty\n        } else while (--step >= 0) {\n          while (offseti(date, +1), !test(date)) {} // eslint-disable-line no-empty\n        }\n      }\n    });\n  };\n\n  if (count) {\n    interval.count = (start, end) => {\n      t0.setTime(+start), t1.setTime(+end);\n      floori(t0), floori(t1);\n      return Math.floor(count(t0, t1));\n    };\n\n    interval.every = (step) => {\n      step = Math.floor(step);\n      return !isFinite(step) || !(step > 0) ? null\n          : !(step > 1) ? interval\n          : interval.filter(field\n              ? (d) => field(d) % step === 0\n              : (d) => interval.count(0, d) % step === 0);\n    };\n  }\n\n  return interval;\n}\n","import {timeInterval} from \"./interval.js\";\n\nexport const millisecond = timeInterval(() => {\n  // noop\n}, (date, step) => {\n  date.setTime(+date + step);\n}, (start, end) => {\n  return end - start;\n});\n\n// An optimized implementation for this simple case.\nmillisecond.every = (k) => {\n  k = Math.floor(k);\n  if (!isFinite(k) || !(k > 0)) return null;\n  if (!(k > 1)) return millisecond;\n  return timeInterval((date) => {\n    date.setTime(Math.floor(date / k) * k);\n  }, (date, step) => {\n    date.setTime(+date + step * k);\n  }, (start, end) => {\n    return (end - start) / k;\n  });\n};\n\nexport const milliseconds = millisecond.range;\n","export const durationSecond = 1000;\nexport const durationMinute = durationSecond * 60;\nexport const durationHour = durationMinute * 60;\nexport const durationDay = durationHour * 24;\nexport const durationWeek = durationDay * 7;\nexport const durationMonth = durationDay * 30;\nexport const durationYear = durationDay * 365;\n","import {timeInterval} from \"./interval.js\";\nimport {durationSecond} from \"./duration.js\";\n\nexport const second = timeInterval((date) => {\n  date.setTime(date - date.getMilliseconds());\n}, (date, step) => {\n  date.setTime(+date + step * durationSecond);\n}, (start, end) => {\n  return (end - start) / durationSecond;\n}, (date) => {\n  return date.getUTCSeconds();\n});\n\nexport const seconds = second.range;\n","import {timeInterval} from \"./interval.js\";\nimport {durationMinute, durationSecond} from \"./duration.js\";\n\nexport const timeMinute = timeInterval((date) => {\n  date.setTime(date - date.getMilliseconds() - date.getSeconds() * durationSecond);\n}, (date, step) => {\n  date.setTime(+date + step * durationMinute);\n}, (start, end) => {\n  return (end - start) / durationMinute;\n}, (date) => {\n  return date.getMinutes();\n});\n\nexport const timeMinutes = timeMinute.range;\n\nexport const utcMinute = timeInterval((date) => {\n  date.setUTCSeconds(0, 0);\n}, (date, step) => {\n  date.setTime(+date + step * durationMinute);\n}, (start, end) => {\n  return (end - start) / durationMinute;\n}, (date) => {\n  return date.getUTCMinutes();\n});\n\nexport const utcMinutes = utcMinute.range;\n","import {timeInterval} from \"./interval.js\";\nimport {durationHour, durationMinute, durationSecond} from \"./duration.js\";\n\nexport const timeHour = timeInterval((date) => {\n  date.setTime(date - date.getMilliseconds() - date.getSeconds() * durationSecond - date.getMinutes() * durationMinute);\n}, (date, step) => {\n  date.setTime(+date + step * durationHour);\n}, (start, end) => {\n  return (end - start) / durationHour;\n}, (date) => {\n  return date.getHours();\n});\n\nexport const timeHours = timeHour.range;\n\nexport const utcHour = timeInterval((date) => {\n  date.setUTCMinutes(0, 0, 0);\n}, (date, step) => {\n  date.setTime(+date + step * durationHour);\n}, (start, end) => {\n  return (end - start) / durationHour;\n}, (date) => {\n  return date.getUTCHours();\n});\n\nexport const utcHours = utcHour.range;\n","import {timeInterval} from \"./interval.js\";\nimport {durationDay, durationMinute} from \"./duration.js\";\n\nexport const timeDay = timeInterval(\n  date => date.setHours(0, 0, 0, 0),\n  (date, step) => date.setDate(date.getDate() + step),\n  (start, end) => (end - start - (end.getTimezoneOffset() - start.getTimezoneOffset()) * durationMinute) / durationDay,\n  date => date.getDate() - 1\n);\n\nexport const timeDays = timeDay.range;\n\nexport const utcDay = timeInterval((date) => {\n  date.setUTCHours(0, 0, 0, 0);\n}, (date, step) => {\n  date.setUTCDate(date.getUTCDate() + step);\n}, (start, end) => {\n  return (end - start) / durationDay;\n}, (date) => {\n  return date.getUTCDate() - 1;\n});\n\nexport const utcDays = utcDay.range;\n\nexport const unixDay = timeInterval((date) => {\n  date.setUTCHours(0, 0, 0, 0);\n}, (date, step) => {\n  date.setUTCDate(date.getUTCDate() + step);\n}, (start, end) => {\n  return (end - start) / durationDay;\n}, (date) => {\n  return Math.floor(date / durationDay);\n});\n\nexport const unixDays = unixDay.range;\n","import {timeInterval} from \"./interval.js\";\nimport {durationMinute, durationWeek} from \"./duration.js\";\n\nfunction timeWeekday(i) {\n  return timeInterval((date) => {\n    date.setDate(date.getDate() - (date.getDay() + 7 - i) % 7);\n    date.setHours(0, 0, 0, 0);\n  }, (date, step) => {\n    date.setDate(date.getDate() + step * 7);\n  }, (start, end) => {\n    return (end - start - (end.getTimezoneOffset() - start.getTimezoneOffset()) * durationMinute) / durationWeek;\n  });\n}\n\nexport const timeSunday = timeWeekday(0);\nexport const timeMonday = timeWeekday(1);\nexport const timeTuesday = timeWeekday(2);\nexport const timeWednesday = timeWeekday(3);\nexport const timeThursday = timeWeekday(4);\nexport const timeFriday = timeWeekday(5);\nexport const timeSaturday = timeWeekday(6);\n\nexport const timeSundays = timeSunday.range;\nexport const timeMondays = timeMonday.range;\nexport const timeTuesdays = timeTuesday.range;\nexport const timeWednesdays = timeWednesday.range;\nexport const timeThursdays = timeThursday.range;\nexport const timeFridays = timeFriday.range;\nexport const timeSaturdays = timeSaturday.range;\n\nfunction utcWeekday(i) {\n  return timeInterval((date) => {\n    date.setUTCDate(date.getUTCDate() - (date.getUTCDay() + 7 - i) % 7);\n    date.setUTCHours(0, 0, 0, 0);\n  }, (date, step) => {\n    date.setUTCDate(date.getUTCDate() + step * 7);\n  }, (start, end) => {\n    return (end - start) / durationWeek;\n  });\n}\n\nexport const utcSunday = utcWeekday(0);\nexport const utcMonday = utcWeekday(1);\nexport const utcTuesday = utcWeekday(2);\nexport const utcWednesday = utcWeekday(3);\nexport const utcThursday = utcWeekday(4);\nexport const utcFriday = utcWeekday(5);\nexport const utcSaturday = utcWeekday(6);\n\nexport const utcSundays = utcSunday.range;\nexport const utcMondays = utcMonday.range;\nexport const utcTuesdays = utcTuesday.range;\nexport const utcWednesdays = utcWednesday.range;\nexport const utcThursdays = utcThursday.range;\nexport const utcFridays = utcFriday.range;\nexport const utcSaturdays = utcSaturday.range;\n","import {timeInterval} from \"./interval.js\";\n\nexport const timeMonth = timeInterval((date) => {\n  date.setDate(1);\n  date.setHours(0, 0, 0, 0);\n}, (date, step) => {\n  date.setMonth(date.getMonth() + step);\n}, (start, end) => {\n  return end.getMonth() - start.getMonth() + (end.getFullYear() - start.getFullYear()) * 12;\n}, (date) => {\n  return date.getMonth();\n});\n\nexport const timeMonths = timeMonth.range;\n\nexport const utcMonth = timeInterval((date) => {\n  date.setUTCDate(1);\n  date.setUTCHours(0, 0, 0, 0);\n}, (date, step) => {\n  date.setUTCMonth(date.getUTCMonth() + step);\n}, (start, end) => {\n  return end.getUTCMonth() - start.getUTCMonth() + (end.getUTCFullYear() - start.getUTCFullYear()) * 12;\n}, (date) => {\n  return date.getUTCMonth();\n});\n\nexport const utcMonths = utcMonth.range;\n","import {timeInterval} from \"./interval.js\";\n\nexport const timeYear = timeInterval((date) => {\n  date.setMonth(0, 1);\n  date.setHours(0, 0, 0, 0);\n}, (date, step) => {\n  date.setFullYear(date.getFullYear() + step);\n}, (start, end) => {\n  return end.getFullYear() - start.getFullYear();\n}, (date) => {\n  return date.getFullYear();\n});\n\n// An optimized implementation for this simple case.\ntimeYear.every = (k) => {\n  return !isFinite(k = Math.floor(k)) || !(k > 0) ? null : timeInterval((date) => {\n    date.setFullYear(Math.floor(date.getFullYear() / k) * k);\n    date.setMonth(0, 1);\n    date.setHours(0, 0, 0, 0);\n  }, (date, step) => {\n    date.setFullYear(date.getFullYear() + step * k);\n  });\n};\n\nexport const timeYears = timeYear.range;\n\nexport const utcYear = timeInterval((date) => {\n  date.setUTCMonth(0, 1);\n  date.setUTCHours(0, 0, 0, 0);\n}, (date, step) => {\n  date.setUTCFullYear(date.getUTCFullYear() + step);\n}, (start, end) => {\n  return end.getUTCFullYear() - start.getUTCFullYear();\n}, (date) => {\n  return date.getUTCFullYear();\n});\n\n// An optimized implementation for this simple case.\nutcYear.every = (k) => {\n  return !isFinite(k = Math.floor(k)) || !(k > 0) ? null : timeInterval((date) => {\n    date.setUTCFullYear(Math.floor(date.getUTCFullYear() / k) * k);\n    date.setUTCMonth(0, 1);\n    date.setUTCHours(0, 0, 0, 0);\n  }, (date, step) => {\n    date.setUTCFullYear(date.getUTCFullYear() + step * k);\n  });\n};\n\nexport const utcYears = utcYear.range;\n","import {bisector, tickStep} from \"d3-array\";\nimport {durationDay, durationHour, durationMinute, durationMonth, durationSecond, durationWeek, durationYear} from \"./duration.js\";\nimport {millisecond} from \"./millisecond.js\";\nimport {second} from \"./second.js\";\nimport {timeMinute, utcMinute} from \"./minute.js\";\nimport {timeHour, utcHour} from \"./hour.js\";\nimport {timeDay, unixDay} from \"./day.js\";\nimport {timeSunday, utcSunday} from \"./week.js\";\nimport {timeMonth, utcMonth} from \"./month.js\";\nimport {timeYear, utcYear} from \"./year.js\";\n\nfunction ticker(year, month, week, day, hour, minute) {\n\n  const tickIntervals = [\n    [second,  1,      durationSecond],\n    [second,  5,  5 * durationSecond],\n    [second, 15, 15 * durationSecond],\n    [second, 30, 30 * durationSecond],\n    [minute,  1,      durationMinute],\n    [minute,  5,  5 * durationMinute],\n    [minute, 15, 15 * durationMinute],\n    [minute, 30, 30 * durationMinute],\n    [  hour,  1,      durationHour  ],\n    [  hour,  3,  3 * durationHour  ],\n    [  hour,  6,  6 * durationHour  ],\n    [  hour, 12, 12 * durationHour  ],\n    [   day,  1,      durationDay   ],\n    [   day,  2,  2 * durationDay   ],\n    [  week,  1,      durationWeek  ],\n    [ month,  1,      durationMonth ],\n    [ month,  3,  3 * durationMonth ],\n    [  year,  1,      durationYear  ]\n  ];\n\n  function ticks(start, stop, count) {\n    const reverse = stop < start;\n    if (reverse) [start, stop] = [stop, start];\n    const interval = count && typeof count.range === \"function\" ? count : tickInterval(start, stop, count);\n    const ticks = interval ? interval.range(start, +stop + 1) : []; // inclusive stop\n    return reverse ? ticks.reverse() : ticks;\n  }\n\n  function tickInterval(start, stop, count) {\n    const target = Math.abs(stop - start) / count;\n    const i = bisector(([,, step]) => step).right(tickIntervals, target);\n    if (i === tickIntervals.length) return year.every(tickStep(start / durationYear, stop / durationYear, count));\n    if (i === 0) return millisecond.every(Math.max(tickStep(start, stop, count), 1));\n    const [t, step] = tickIntervals[target / tickIntervals[i - 1][2] < tickIntervals[i][2] / target ? i - 1 : i];\n    return t.every(step);\n  }\n\n  return [ticks, tickInterval];\n}\n\nconst [utcTicks, utcTickInterval] = ticker(utcYear, utcMonth, utcSunday, unixDay, utcHour, utcMinute);\nconst [timeTicks, timeTickInterval] = ticker(timeYear, timeMonth, timeSunday, timeDay, timeHour, timeMinute);\n\nexport {utcTicks, utcTickInterval, timeTicks, timeTickInterval};\n","import {\n  timeDay,\n  timeSunday,\n  timeMonday,\n  timeThursday,\n  timeYear,\n  utcDay,\n  utcSunday,\n  utcMonday,\n  utcThursday,\n  utcYear\n} from \"d3-time\";\n\nfunction localDate(d) {\n  if (0 <= d.y && d.y < 100) {\n    var date = new Date(-1, d.m, d.d, d.H, d.M, d.S, d.L);\n    date.setFullYear(d.y);\n    return date;\n  }\n  return new Date(d.y, d.m, d.d, d.H, d.M, d.S, d.L);\n}\n\nfunction utcDate(d) {\n  if (0 <= d.y && d.y < 100) {\n    var date = new Date(Date.UTC(-1, d.m, d.d, d.H, d.M, d.S, d.L));\n    date.setUTCFullYear(d.y);\n    return date;\n  }\n  return new Date(Date.UTC(d.y, d.m, d.d, d.H, d.M, d.S, d.L));\n}\n\nfunction newDate(y, m, d) {\n  return {y: y, m: m, d: d, H: 0, M: 0, S: 0, L: 0};\n}\n\nexport default function formatLocale(locale) {\n  var locale_dateTime = locale.dateTime,\n      locale_date = locale.date,\n      locale_time = locale.time,\n      locale_periods = locale.periods,\n      locale_weekdays = locale.days,\n      locale_shortWeekdays = locale.shortDays,\n      locale_months = locale.months,\n      locale_shortMonths = locale.shortMonths;\n\n  var periodRe = formatRe(locale_periods),\n      periodLookup = formatLookup(locale_periods),\n      weekdayRe = formatRe(locale_weekdays),\n      weekdayLookup = formatLookup(locale_weekdays),\n      shortWeekdayRe = formatRe(locale_shortWeekdays),\n      shortWeekdayLookup = formatLookup(locale_shortWeekdays),\n      monthRe = formatRe(locale_months),\n      monthLookup = formatLookup(locale_months),\n      shortMonthRe = formatRe(locale_shortMonths),\n      shortMonthLookup = formatLookup(locale_shortMonths);\n\n  var formats = {\n    \"a\": formatShortWeekday,\n    \"A\": formatWeekday,\n    \"b\": formatShortMonth,\n    \"B\": formatMonth,\n    \"c\": null,\n    \"d\": formatDayOfMonth,\n    \"e\": formatDayOfMonth,\n    \"f\": formatMicroseconds,\n    \"g\": formatYearISO,\n    \"G\": formatFullYearISO,\n    \"H\": formatHour24,\n    \"I\": formatHour12,\n    \"j\": formatDayOfYear,\n    \"L\": formatMilliseconds,\n    \"m\": formatMonthNumber,\n    \"M\": formatMinutes,\n    \"p\": formatPeriod,\n    \"q\": formatQuarter,\n    \"Q\": formatUnixTimestamp,\n    \"s\": formatUnixTimestampSeconds,\n    \"S\": formatSeconds,\n    \"u\": formatWeekdayNumberMonday,\n    \"U\": formatWeekNumberSunday,\n    \"V\": formatWeekNumberISO,\n    \"w\": formatWeekdayNumberSunday,\n    \"W\": formatWeekNumberMonday,\n    \"x\": null,\n    \"X\": null,\n    \"y\": formatYear,\n    \"Y\": formatFullYear,\n    \"Z\": formatZone,\n    \"%\": formatLiteralPercent\n  };\n\n  var utcFormats = {\n    \"a\": formatUTCShortWeekday,\n    \"A\": formatUTCWeekday,\n    \"b\": formatUTCShortMonth,\n    \"B\": formatUTCMonth,\n    \"c\": null,\n    \"d\": formatUTCDayOfMonth,\n    \"e\": formatUTCDayOfMonth,\n    \"f\": formatUTCMicroseconds,\n    \"g\": formatUTCYearISO,\n    \"G\": formatUTCFullYearISO,\n    \"H\": formatUTCHour24,\n    \"I\": formatUTCHour12,\n    \"j\": formatUTCDayOfYear,\n    \"L\": formatUTCMilliseconds,\n    \"m\": formatUTCMonthNumber,\n    \"M\": formatUTCMinutes,\n    \"p\": formatUTCPeriod,\n    \"q\": formatUTCQuarter,\n    \"Q\": formatUnixTimestamp,\n    \"s\": formatUnixTimestampSeconds,\n    \"S\": formatUTCSeconds,\n    \"u\": formatUTCWeekdayNumberMonday,\n    \"U\": formatUTCWeekNumberSunday,\n    \"V\": formatUTCWeekNumberISO,\n    \"w\": formatUTCWeekdayNumberSunday,\n    \"W\": formatUTCWeekNumberMonday,\n    \"x\": null,\n    \"X\": null,\n    \"y\": formatUTCYear,\n    \"Y\": formatUTCFullYear,\n    \"Z\": formatUTCZone,\n    \"%\": formatLiteralPercent\n  };\n\n  var parses = {\n    \"a\": parseShortWeekday,\n    \"A\": parseWeekday,\n    \"b\": parseShortMonth,\n    \"B\": parseMonth,\n    \"c\": parseLocaleDateTime,\n    \"d\": parseDayOfMonth,\n    \"e\": parseDayOfMonth,\n    \"f\": parseMicroseconds,\n    \"g\": parseYear,\n    \"G\": parseFullYear,\n    \"H\": parseHour24,\n    \"I\": parseHour24,\n    \"j\": parseDayOfYear,\n    \"L\": parseMilliseconds,\n    \"m\": parseMonthNumber,\n    \"M\": parseMinutes,\n    \"p\": parsePeriod,\n    \"q\": parseQuarter,\n    \"Q\": parseUnixTimestamp,\n    \"s\": parseUnixTimestampSeconds,\n    \"S\": parseSeconds,\n    \"u\": parseWeekdayNumberMonday,\n    \"U\": parseWeekNumberSunday,\n    \"V\": parseWeekNumberISO,\n    \"w\": parseWeekdayNumberSunday,\n    \"W\": parseWeekNumberMonday,\n    \"x\": parseLocaleDate,\n    \"X\": parseLocaleTime,\n    \"y\": parseYear,\n    \"Y\": parseFullYear,\n    \"Z\": parseZone,\n    \"%\": parseLiteralPercent\n  };\n\n  // These recursive directive definitions must be deferred.\n  formats.x = newFormat(locale_date, formats);\n  formats.X = newFormat(locale_time, formats);\n  formats.c = newFormat(locale_dateTime, formats);\n  utcFormats.x = newFormat(locale_date, utcFormats);\n  utcFormats.X = newFormat(locale_time, utcFormats);\n  utcFormats.c = newFormat(locale_dateTime, utcFormats);\n\n  function newFormat(specifier, formats) {\n    return function(date) {\n      var string = [],\n          i = -1,\n          j = 0,\n          n = specifier.length,\n          c,\n          pad,\n          format;\n\n      if (!(date instanceof Date)) date = new Date(+date);\n\n      while (++i < n) {\n        if (specifier.charCodeAt(i) === 37) {\n          string.push(specifier.slice(j, i));\n          if ((pad = pads[c = specifier.charAt(++i)]) != null) c = specifier.charAt(++i);\n          else pad = c === \"e\" ? \" \" : \"0\";\n          if (format = formats[c]) c = format(date, pad);\n          string.push(c);\n          j = i + 1;\n        }\n      }\n\n      string.push(specifier.slice(j, i));\n      return string.join(\"\");\n    };\n  }\n\n  function newParse(specifier, Z) {\n    return function(string) {\n      var d = newDate(1900, undefined, 1),\n          i = parseSpecifier(d, specifier, string += \"\", 0),\n          week, day;\n      if (i != string.length) return null;\n\n      // If a UNIX timestamp is specified, return it.\n      if (\"Q\" in d) return new Date(d.Q);\n      if (\"s\" in d) return new Date(d.s * 1000 + (\"L\" in d ? d.L : 0));\n\n      // If this is utcParse, never use the local timezone.\n      if (Z && !(\"Z\" in d)) d.Z = 0;\n\n      // The am-pm flag is 0 for AM, and 1 for PM.\n      if (\"p\" in d) d.H = d.H % 12 + d.p * 12;\n\n      // If the month was not specified, inherit from the quarter.\n      if (d.m === undefined) d.m = \"q\" in d ? d.q : 0;\n\n      // Convert day-of-week and week-of-year to day-of-year.\n      if (\"V\" in d) {\n        if (d.V < 1 || d.V > 53) return null;\n        if (!(\"w\" in d)) d.w = 1;\n        if (\"Z\" in d) {\n          week = utcDate(newDate(d.y, 0, 1)), day = week.getUTCDay();\n          week = day > 4 || day === 0 ? utcMonday.ceil(week) : utcMonday(week);\n          week = utcDay.offset(week, (d.V - 1) * 7);\n          d.y = week.getUTCFullYear();\n          d.m = week.getUTCMonth();\n          d.d = week.getUTCDate() + (d.w + 6) % 7;\n        } else {\n          week = localDate(newDate(d.y, 0, 1)), day = week.getDay();\n          week = day > 4 || day === 0 ? timeMonday.ceil(week) : timeMonday(week);\n          week = timeDay.offset(week, (d.V - 1) * 7);\n          d.y = week.getFullYear();\n          d.m = week.getMonth();\n          d.d = week.getDate() + (d.w + 6) % 7;\n        }\n      } else if (\"W\" in d || \"U\" in d) {\n        if (!(\"w\" in d)) d.w = \"u\" in d ? d.u % 7 : \"W\" in d ? 1 : 0;\n        day = \"Z\" in d ? utcDate(newDate(d.y, 0, 1)).getUTCDay() : localDate(newDate(d.y, 0, 1)).getDay();\n        d.m = 0;\n        d.d = \"W\" in d ? (d.w + 6) % 7 + d.W * 7 - (day + 5) % 7 : d.w + d.U * 7 - (day + 6) % 7;\n      }\n\n      // If a time zone is specified, all fields are interpreted as UTC and then\n      // offset according to the specified time zone.\n      if (\"Z\" in d) {\n        d.H += d.Z / 100 | 0;\n        d.M += d.Z % 100;\n        return utcDate(d);\n      }\n\n      // Otherwise, all fields are in local time.\n      return localDate(d);\n    };\n  }\n\n  function parseSpecifier(d, specifier, string, j) {\n    var i = 0,\n        n = specifier.length,\n        m = string.length,\n        c,\n        parse;\n\n    while (i < n) {\n      if (j >= m) return -1;\n      c = specifier.charCodeAt(i++);\n      if (c === 37) {\n        c = specifier.charAt(i++);\n        parse = parses[c in pads ? specifier.charAt(i++) : c];\n        if (!parse || ((j = parse(d, string, j)) < 0)) return -1;\n      } else if (c != string.charCodeAt(j++)) {\n        return -1;\n      }\n    }\n\n    return j;\n  }\n\n  function parsePeriod(d, string, i) {\n    var n = periodRe.exec(string.slice(i));\n    return n ? (d.p = periodLookup.get(n[0].toLowerCase()), i + n[0].length) : -1;\n  }\n\n  function parseShortWeekday(d, string, i) {\n    var n = shortWeekdayRe.exec(string.slice(i));\n    return n ? (d.w = shortWeekdayLookup.get(n[0].toLowerCase()), i + n[0].length) : -1;\n  }\n\n  function parseWeekday(d, string, i) {\n    var n = weekdayRe.exec(string.slice(i));\n    return n ? (d.w = weekdayLookup.get(n[0].toLowerCase()), i + n[0].length) : -1;\n  }\n\n  function parseShortMonth(d, string, i) {\n    var n = shortMonthRe.exec(string.slice(i));\n    return n ? (d.m = shortMonthLookup.get(n[0].toLowerCase()), i + n[0].length) : -1;\n  }\n\n  function parseMonth(d, string, i) {\n    var n = monthRe.exec(string.slice(i));\n    return n ? (d.m = monthLookup.get(n[0].toLowerCase()), i + n[0].length) : -1;\n  }\n\n  function parseLocaleDateTime(d, string, i) {\n    return parseSpecifier(d, locale_dateTime, string, i);\n  }\n\n  function parseLocaleDate(d, string, i) {\n    return parseSpecifier(d, locale_date, string, i);\n  }\n\n  function parseLocaleTime(d, string, i) {\n    return parseSpecifier(d, locale_time, string, i);\n  }\n\n  function formatShortWeekday(d) {\n    return locale_shortWeekdays[d.getDay()];\n  }\n\n  function formatWeekday(d) {\n    return locale_weekdays[d.getDay()];\n  }\n\n  function formatShortMonth(d) {\n    return locale_shortMonths[d.getMonth()];\n  }\n\n  function formatMonth(d) {\n    return locale_months[d.getMonth()];\n  }\n\n  function formatPeriod(d) {\n    return locale_periods[+(d.getHours() >= 12)];\n  }\n\n  function formatQuarter(d) {\n    return 1 + ~~(d.getMonth() / 3);\n  }\n\n  function formatUTCShortWeekday(d) {\n    return locale_shortWeekdays[d.getUTCDay()];\n  }\n\n  function formatUTCWeekday(d) {\n    return locale_weekdays[d.getUTCDay()];\n  }\n\n  function formatUTCShortMonth(d) {\n    return locale_shortMonths[d.getUTCMonth()];\n  }\n\n  function formatUTCMonth(d) {\n    return locale_months[d.getUTCMonth()];\n  }\n\n  function formatUTCPeriod(d) {\n    return locale_periods[+(d.getUTCHours() >= 12)];\n  }\n\n  function formatUTCQuarter(d) {\n    return 1 + ~~(d.getUTCMonth() / 3);\n  }\n\n  return {\n    format: function(specifier) {\n      var f = newFormat(specifier += \"\", formats);\n      f.toString = function() { return specifier; };\n      return f;\n    },\n    parse: function(specifier) {\n      var p = newParse(specifier += \"\", false);\n      p.toString = function() { return specifier; };\n      return p;\n    },\n    utcFormat: function(specifier) {\n      var f = newFormat(specifier += \"\", utcFormats);\n      f.toString = function() { return specifier; };\n      return f;\n    },\n    utcParse: function(specifier) {\n      var p = newParse(specifier += \"\", true);\n      p.toString = function() { return specifier; };\n      return p;\n    }\n  };\n}\n\nvar pads = {\"-\": \"\", \"_\": \" \", \"0\": \"0\"},\n    numberRe = /^\\s*\\d+/, // note: ignores next directive\n    percentRe = /^%/,\n    requoteRe = /[\\\\^$*+?|[\\]().{}]/g;\n\nfunction pad(value, fill, width) {\n  var sign = value < 0 ? \"-\" : \"\",\n      string = (sign ? -value : value) + \"\",\n      length = string.length;\n  return sign + (length < width ? new Array(width - length + 1).join(fill) + string : string);\n}\n\nfunction requote(s) {\n  return s.replace(requoteRe, \"\\\\$&\");\n}\n\nfunction formatRe(names) {\n  return new RegExp(\"^(?:\" + names.map(requote).join(\"|\") + \")\", \"i\");\n}\n\nfunction formatLookup(names) {\n  return new Map(names.map((name, i) => [name.toLowerCase(), i]));\n}\n\nfunction parseWeekdayNumberSunday(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 1));\n  return n ? (d.w = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseWeekdayNumberMonday(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 1));\n  return n ? (d.u = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseWeekNumberSunday(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.U = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseWeekNumberISO(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.V = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseWeekNumberMonday(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.W = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseFullYear(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 4));\n  return n ? (d.y = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseYear(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.y = +n[0] + (+n[0] > 68 ? 1900 : 2000), i + n[0].length) : -1;\n}\n\nfunction parseZone(d, string, i) {\n  var n = /^(Z)|([+-]\\d\\d)(?::?(\\d\\d))?/.exec(string.slice(i, i + 6));\n  return n ? (d.Z = n[1] ? 0 : -(n[2] + (n[3] || \"00\")), i + n[0].length) : -1;\n}\n\nfunction parseQuarter(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 1));\n  return n ? (d.q = n[0] * 3 - 3, i + n[0].length) : -1;\n}\n\nfunction parseMonthNumber(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.m = n[0] - 1, i + n[0].length) : -1;\n}\n\nfunction parseDayOfMonth(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.d = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseDayOfYear(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 3));\n  return n ? (d.m = 0, d.d = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseHour24(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.H = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseMinutes(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.M = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseSeconds(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.S = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseMilliseconds(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 3));\n  return n ? (d.L = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseMicroseconds(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 6));\n  return n ? (d.L = Math.floor(n[0] / 1000), i + n[0].length) : -1;\n}\n\nfunction parseLiteralPercent(d, string, i) {\n  var n = percentRe.exec(string.slice(i, i + 1));\n  return n ? i + n[0].length : -1;\n}\n\nfunction parseUnixTimestamp(d, string, i) {\n  var n = numberRe.exec(string.slice(i));\n  return n ? (d.Q = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseUnixTimestampSeconds(d, string, i) {\n  var n = numberRe.exec(string.slice(i));\n  return n ? (d.s = +n[0], i + n[0].length) : -1;\n}\n\nfunction formatDayOfMonth(d, p) {\n  return pad(d.getDate(), p, 2);\n}\n\nfunction formatHour24(d, p) {\n  return pad(d.getHours(), p, 2);\n}\n\nfunction formatHour12(d, p) {\n  return pad(d.getHours() % 12 || 12, p, 2);\n}\n\nfunction formatDayOfYear(d, p) {\n  return pad(1 + timeDay.count(timeYear(d), d), p, 3);\n}\n\nfunction formatMilliseconds(d, p) {\n  return pad(d.getMilliseconds(), p, 3);\n}\n\nfunction formatMicroseconds(d, p) {\n  return formatMilliseconds(d, p) + \"000\";\n}\n\nfunction formatMonthNumber(d, p) {\n  return pad(d.getMonth() + 1, p, 2);\n}\n\nfunction formatMinutes(d, p) {\n  return pad(d.getMinutes(), p, 2);\n}\n\nfunction formatSeconds(d, p) {\n  return pad(d.getSeconds(), p, 2);\n}\n\nfunction formatWeekdayNumberMonday(d) {\n  var day = d.getDay();\n  return day === 0 ? 7 : day;\n}\n\nfunction formatWeekNumberSunday(d, p) {\n  return pad(timeSunday.count(timeYear(d) - 1, d), p, 2);\n}\n\nfunction dISO(d) {\n  var day = d.getDay();\n  return (day >= 4 || day === 0) ? timeThursday(d) : timeThursday.ceil(d);\n}\n\nfunction formatWeekNumberISO(d, p) {\n  d = dISO(d);\n  return pad(timeThursday.count(timeYear(d), d) + (timeYear(d).getDay() === 4), p, 2);\n}\n\nfunction formatWeekdayNumberSunday(d) {\n  return d.getDay();\n}\n\nfunction formatWeekNumberMonday(d, p) {\n  return pad(timeMonday.count(timeYear(d) - 1, d), p, 2);\n}\n\nfunction formatYear(d, p) {\n  return pad(d.getFullYear() % 100, p, 2);\n}\n\nfunction formatYearISO(d, p) {\n  d = dISO(d);\n  return pad(d.getFullYear() % 100, p, 2);\n}\n\nfunction formatFullYear(d, p) {\n  return pad(d.getFullYear() % 10000, p, 4);\n}\n\nfunction formatFullYearISO(d, p) {\n  var day = d.getDay();\n  d = (day >= 4 || day === 0) ? timeThursday(d) : timeThursday.ceil(d);\n  return pad(d.getFullYear() % 10000, p, 4);\n}\n\nfunction formatZone(d) {\n  var z = d.getTimezoneOffset();\n  return (z > 0 ? \"-\" : (z *= -1, \"+\"))\n      + pad(z / 60 | 0, \"0\", 2)\n      + pad(z % 60, \"0\", 2);\n}\n\nfunction formatUTCDayOfMonth(d, p) {\n  return pad(d.getUTCDate(), p, 2);\n}\n\nfunction formatUTCHour24(d, p) {\n  return pad(d.getUTCHours(), p, 2);\n}\n\nfunction formatUTCHour12(d, p) {\n  return pad(d.getUTCHours() % 12 || 12, p, 2);\n}\n\nfunction formatUTCDayOfYear(d, p) {\n  return pad(1 + utcDay.count(utcYear(d), d), p, 3);\n}\n\nfunction formatUTCMilliseconds(d, p) {\n  return pad(d.getUTCMilliseconds(), p, 3);\n}\n\nfunction formatUTCMicroseconds(d, p) {\n  return formatUTCMilliseconds(d, p) + \"000\";\n}\n\nfunction formatUTCMonthNumber(d, p) {\n  return pad(d.getUTCMonth() + 1, p, 2);\n}\n\nfunction formatUTCMinutes(d, p) {\n  return pad(d.getUTCMinutes(), p, 2);\n}\n\nfunction formatUTCSeconds(d, p) {\n  return pad(d.getUTCSeconds(), p, 2);\n}\n\nfunction formatUTCWeekdayNumberMonday(d) {\n  var dow = d.getUTCDay();\n  return dow === 0 ? 7 : dow;\n}\n\nfunction formatUTCWeekNumberSunday(d, p) {\n  return pad(utcSunday.count(utcYear(d) - 1, d), p, 2);\n}\n\nfunction UTCdISO(d) {\n  var day = d.getUTCDay();\n  return (day >= 4 || day === 0) ? utcThursday(d) : utcThursday.ceil(d);\n}\n\nfunction formatUTCWeekNumberISO(d, p) {\n  d = UTCdISO(d);\n  return pad(utcThursday.count(utcYear(d), d) + (utcYear(d).getUTCDay() === 4), p, 2);\n}\n\nfunction formatUTCWeekdayNumberSunday(d) {\n  return d.getUTCDay();\n}\n\nfunction formatUTCWeekNumberMonday(d, p) {\n  return pad(utcMonday.count(utcYear(d) - 1, d), p, 2);\n}\n\nfunction formatUTCYear(d, p) {\n  return pad(d.getUTCFullYear() % 100, p, 2);\n}\n\nfunction formatUTCYearISO(d, p) {\n  d = UTCdISO(d);\n  return pad(d.getUTCFullYear() % 100, p, 2);\n}\n\nfunction formatUTCFullYear(d, p) {\n  return pad(d.getUTCFullYear() % 10000, p, 4);\n}\n\nfunction formatUTCFullYearISO(d, p) {\n  var day = d.getUTCDay();\n  d = (day >= 4 || day === 0) ? utcThursday(d) : utcThursday.ceil(d);\n  return pad(d.getUTCFullYear() % 10000, p, 4);\n}\n\nfunction formatUTCZone() {\n  return \"+0000\";\n}\n\nfunction formatLiteralPercent() {\n  return \"%\";\n}\n\nfunction formatUnixTimestamp(d) {\n  return +d;\n}\n\nfunction formatUnixTimestampSeconds(d) {\n  return Math.floor(+d / 1000);\n}\n","import formatLocale from \"./locale.js\";\n\nvar locale;\nexport var timeFormat;\nexport var timeParse;\nexport var utcFormat;\nexport var utcParse;\n\ndefaultLocale({\n  dateTime: \"%x, %X\",\n  date: \"%-m/%-d/%Y\",\n  time: \"%-I:%M:%S %p\",\n  periods: [\"AM\", \"PM\"],\n  days: [\"Sunday\", \"Monday\", \"Tuesday\", \"Wednesday\", \"Thursday\", \"Friday\", \"Saturday\"],\n  shortDays: [\"Sun\", \"Mon\", \"Tue\", \"Wed\", \"Thu\", \"Fri\", \"Sat\"],\n  months: [\"January\", \"February\", \"March\", \"April\", \"May\", \"June\", \"July\", \"August\", \"September\", \"October\", \"November\", \"December\"],\n  shortMonths: [\"Jan\", \"Feb\", \"Mar\", \"Apr\", \"May\", \"Jun\", \"Jul\", \"Aug\", \"Sep\", \"Oct\", \"Nov\", \"Dec\"]\n});\n\nexport default function defaultLocale(definition) {\n  locale = formatLocale(definition);\n  timeFormat = locale.format;\n  timeParse = locale.parse;\n  utcFormat = locale.utcFormat;\n  utcParse = locale.utcParse;\n  return locale;\n}\n","import {timeYear, timeMonth, timeWeek, timeDay, timeHour, timeMinute, timeSecond, timeTicks, timeTickInterval} from \"d3-time\";\nimport {timeFormat} from \"d3-time-format\";\nimport continuous, {copy} from \"./continuous.js\";\nimport {initRange} from \"./init.js\";\nimport nice from \"./nice.js\";\n\nfunction date(t) {\n  return new Date(t);\n}\n\nfunction number(t) {\n  return t instanceof Date ? +t : +new Date(+t);\n}\n\nexport function calendar(ticks, tickInterval, year, month, week, day, hour, minute, second, format) {\n  var scale = continuous(),\n      invert = scale.invert,\n      domain = scale.domain;\n\n  var formatMillisecond = format(\".%L\"),\n      formatSecond = format(\":%S\"),\n      formatMinute = format(\"%I:%M\"),\n      formatHour = format(\"%I %p\"),\n      formatDay = format(\"%a %d\"),\n      formatWeek = format(\"%b %d\"),\n      formatMonth = format(\"%B\"),\n      formatYear = format(\"%Y\");\n\n  function tickFormat(date) {\n    return (second(date) < date ? formatMillisecond\n        : minute(date) < date ? formatSecond\n        : hour(date) < date ? formatMinute\n        : day(date) < date ? formatHour\n        : month(date) < date ? (week(date) < date ? formatDay : formatWeek)\n        : year(date) < date ? formatMonth\n        : formatYear)(date);\n  }\n\n  scale.invert = function(y) {\n    return new Date(invert(y));\n  };\n\n  scale.domain = function(_) {\n    return arguments.length ? domain(Array.from(_, number)) : domain().map(date);\n  };\n\n  scale.ticks = function(interval) {\n    var d = domain();\n    return ticks(d[0], d[d.length - 1], interval == null ? 10 : interval);\n  };\n\n  scale.tickFormat = function(count, specifier) {\n    return specifier == null ? tickFormat : format(specifier);\n  };\n\n  scale.nice = function(interval) {\n    var d = domain();\n    if (!interval || typeof interval.range !== \"function\") interval = tickInterval(d[0], d[d.length - 1], interval == null ? 10 : interval);\n    return interval ? domain(nice(d, interval)) : scale;\n  };\n\n  scale.copy = function() {\n    return copy(scale, calendar(ticks, tickInterval, year, month, week, day, hour, minute, second, format));\n  };\n\n  return scale;\n}\n\nexport default function time() {\n  return initRange.apply(calendar(timeTicks, timeTickInterval, timeYear, timeMonth, timeWeek, timeDay, timeHour, timeMinute, timeSecond, timeFormat).domain([new Date(2000, 0, 1), new Date(2000, 0, 2)]), arguments);\n}\n","import { useRef, useState } from 'react';\n\nexport interface Resource {\n\tid: string;\n\tlabel: string;\n}\n\nexport interface Task {\n\tid: string;\n\ttitle: string;\n\tresourceId: string;\n\tstart: Date;\n\tend: Date;\n\tpriority?: 'high' | 'medium' | 'low';\n\ttype?: 'development' | 'design' | 'testing' | 'review' | 'deployment';\n\tcolor?: string;\n\tprogress?: number; // 0-100\n}\n\nexport interface TaskBarProps {\n\ttask: Task;\n\tscale: (date: Date) => number;\n\tonTaskClick?: (task: Task) => void;\n\tonTaskDoubleClick?: (task: Task) => void;\n\tisSelected?: boolean;\n\ttaskIndex?: number;\n\ttabIndex?: number;\n\tonFocus?: () => void;\n\t'aria-label'?: string;\n}\n\nexport function TaskBar({ \n\ttask, \n\tscale, \n\tonTaskClick, \n\tonTaskDoubleClick, \n\tisSelected = false, \n\ttaskIndex,\n\ttabIndex = -1,\n\tonFocus,\n\t'aria-label': ariaLabel\n}: TaskBarProps) {\n\tconst ref = useRef<HTMLDivElement>(null);\n\tconst [isPressed, setIsPressed] = useState(false);\n\tconst [isFocused, setIsFocused] = useState(false);\n\n\t// Calculate position and width using the time scale\n\tconst leftPosition = scale(task.start);\n\tconst rightPosition = scale(task.end);\n\tconst width = Math.max(rightPosition - leftPosition, 20); // Minimum width for visibility\n\n\t// Determine task color based on priority or custom color\n\tconst getTaskColor = () => {\n\t\tif (task.color) return task.color;\n\t\t\n\t\tswitch (task.priority) {\n\t\t\tcase 'high': return '#d5281b'; // NHS Red\n\t\t\tcase 'medium': return '#005eb8'; // NHS Blue  \n\t\t\tcase 'low': return '#007f3b'; // NHS Green\n\t\t\tdefault: return '#005eb8'; \n\t\t}\n\t};\n\n\t// Calculate progress bar width\n\tconst progressWidth = task.progress ? (width * task.progress / 100) : 0;\n\n\tconst handleClick = () => {\n\t\tonTaskClick?.(task);\n\t};\n\n\tconst handleDoubleClick = () => {\n\t\tonTaskDoubleClick?.(task);\n\t};\n\n\tconst handleKeyDown = (event: React.KeyboardEvent) => {\n\t\tif (event.key === 'Enter') {\n\t\t\tevent.preventDefault();\n\t\t\thandleClick();\n\t\t} else if (event.key === ' ') {\n\t\t\tevent.preventDefault();\n\t\t\thandleDoubleClick();\n\t\t}\n\t};\n\n\tconst handleMouseDown = () => {\n\t\tsetIsPressed(true);\n\t};\n\n\tconst handleMouseUp = () => {\n\t\tsetIsPressed(false);\n\t};\n\n\tconst handleFocus = () => {\n\t\tsetIsFocused(true);\n\t\tonFocus?.(); // Call parent focus handler\n\t};\n\n\tconst handleBlur = () => {\n\t\tsetIsFocused(false);\n\t};\n\n\t// Build CSS classes including task type for styling\n\tconst taskClasses = [\n\t\t'gantt-task-bar',\n\t\tisPressed && 'gantt-task-bar--pressed',\n\t\t(isFocused || isSelected) && 'gantt-task-bar--focused',\n\t\ttask.priority && `gantt-task-bar--priority-${task.priority}`,\n\t\tisSelected && 'gantt-task-bar--selected',\n\t\t// Add task type class if available for color variants\n\t\ttask.type && `gantt-task-bar--type-${task.type}`\n\t].filter(Boolean).join(' ');\n\n\t// CSS custom properties for positioning\n\tconst taskStyle = {\n\t\t'--task-left': `${leftPosition}px`,\n\t\t'--task-width': `${width}px`,\n\t\t'--task-color': getTaskColor(),\n\t\tleft: `${leftPosition}px`,\n\t\twidth: `${width}px`,\n\t\tbackgroundColor: getTaskColor()\n\t} as React.CSSProperties;\n\n\treturn (\n\t\t<div\n\t\t\trole=\"button\"\n\t\t\ttabIndex={tabIndex} // Use provided tabIndex\n\t\t\tref={ref}\n\t\t\tdata-task-index={taskIndex} // For keyboard navigation\n\t\t\tclassName={taskClasses}\n\t\t\tstyle={taskStyle}\n\t\t\tonClick={handleClick}\n\t\t\tonDoubleClick={handleDoubleClick}\n\t\t\tonKeyDown={handleKeyDown}\n\t\t\tonMouseDown={handleMouseDown}\n\t\t\tonMouseUp={handleMouseUp}\n\t\t\tonFocus={handleFocus}\n\t\t\tonBlur={handleBlur}\n\t\t\taria-label={ariaLabel || `${isSelected ? 'Selected: ' : ''}${task.title}: ${task.start.toLocaleDateString()} to ${task.end.toLocaleDateString()}${task.priority ? `, priority ${task.priority}` : ''}${task.progress ? `, ${task.progress}% complete` : ''}`}\n\t\t\taria-describedby={`task-${task.id}-details`}\n\t\t>\n\t\t\t{/* Task title */}\n\t\t\t<span className=\"task-title\">\n\t\t\t\t{task.title}\n\t\t\t</span>\n\t\t\t\n\t\t\t{/* Progress indicator */}\n\t\t\t{task.progress !== undefined && (\n\t\t\t\t<div\n\t\t\t\t\tclassName=\"task-progress\"\n\t\t\t\t\tstyle={{ width: `${progressWidth}px` }}\n\t\t\t\t/>\n\t\t\t)}\n\t\t\t\n\t\t\t{/* Screen reader content with proper ID for aria-describedby */}\n\t\t\t<span id={`task-${task.id}-details`} className=\"sr-only\">\n\t\t\t\t{`Task: ${task.title}, from ${task.start.toLocaleDateString()} to ${task.end.toLocaleDateString()}${task.progress ? `, ${task.progress}% complete` : ''}${task.priority ? `, priority: ${task.priority}` : ''}`}\n\t\t\t</span>\n\t\t</div>\n\t);\n}\n","/*\n * Enhanced GanttChart Component with Comprehensive Keyboard Navigation\n * \n * ACCESSIBILITY FEATURES:\n * \n * Header Navigation:\n * - Arrow keys: Navigate between date columns in the header\n * - Home/End: Jump to first/last date column\n * - Tab: Move between header sections\n * \n * Grid Navigation:\n * - Arrow keys: Navigate between grid cells (resource labels and timeline containers)\n * - Tab: Standard tab order through focusable elements\n * - Ctrl+Home/End: Jump to first/last cell in grid\n * \n * Task Navigation within Rows:\n * - Enter: Activate timeline container for task navigation mode\n * - Arrow Left/Right: Navigate between tasks within active timeline\n * - Enter: Select/activate the focused task\n * - Space: Double-click the focused task\n * - Escape: Exit task navigation mode and return to timeline container\n * \n * Scrolling:\n * - Shift+Arrow Left/Right: Scroll timeline horizontally\n * - Alt+Arrow keys: Scroll the entire grid\n * \n * Visual Feedback:\n * - Timeline containers show blue background when in active navigation mode\n * - Selected tasks have NHS blue outline and selection styling\n * - Focus indicators follow NHS design system guidelines\n * \n * ARIA Compliance:\n * - Complete ARIA Grid pattern implementation\n * - Proper role hierarchy: grid > rowgroup > row > gridcell > button\n * - Comprehensive aria-labels and descriptions\n * - Screen reader announcements for all navigation states\n */\n\nimport { scaleTime } from 'd3-scale';\nimport React, { useState, useRef, useEffect, useMemo } from 'react';\nimport { TaskBar, Resource, Task } from './TaskBar';\nimport './GanttChart.scss';\n\nexport interface GanttChartProps {\n\tresources: Resource[];\n\ttasks?: Task[];\n\tviewStart: Date | string | number;\n\tviewEnd: Date | string | number;\n\tonTaskClick?: (task: Task) => void;\n\tonTaskDoubleClick?: (task: Task) => void;\n}\n\ninterface GanttHeaderProps {\n\tviewStart: Date;\n\tviewEnd: Date;\n\tdateCount: number;\n}\n\nfunction GanttHeader({ viewStart, viewEnd, dateCount }: GanttHeaderProps) {\n\tconst dates: Date[] = [];\n\tconst MS_PER_DAY = 86_400_000; // 24 hours\n\t\n\tfor (let t = viewStart.getTime(); t <= viewEnd.getTime(); t += MS_PER_DAY) {\n\t\tdates.push(new Date(t));\n\t}\n\t\n\tconst today = new Date();\n\ttoday.setHours(0, 0, 0, 0);\n\n\tconst [focusedDateIndex, setFocusedDateIndex] = useState<number>(-1);\n\tconst headerRef = useRef<HTMLDivElement>(null);\n\n\tconst handleKeyDown = (e: React.KeyboardEvent) => {\n\t\tif (e.key === 'ArrowLeft') {\n\t\t\te.preventDefault();\n\t\t\tconst newIndex = Math.max(0, focusedDateIndex === -1 ? 0 : focusedDateIndex - 1);\n\t\t\tsetFocusedDateIndex(newIndex);\n\t\t\tfocusDateColumn(newIndex);\n\t\t} else if (e.key === 'ArrowRight') {\n\t\t\te.preventDefault();\n\t\t\tconst newIndex = Math.min(dates.length - 1, focusedDateIndex === -1 ? 0 : focusedDateIndex + 1);\n\t\t\tsetFocusedDateIndex(newIndex);\n\t\t\tfocusDateColumn(newIndex);\n\t\t} else if (e.key === 'ArrowDown') {\n\t\t\te.preventDefault();\n\t\t\t// Navigate to first row's timeline\n\t\t\tconst firstRowTimeline = document.querySelector('.gantt-row .timeline-container') as HTMLElement;\n\t\t\tif (firstRowTimeline) {\n\t\t\t\tfirstRowTimeline.focus();\n\t\t\t}\n\t\t} else if (e.key === 'Home') {\n\t\t\te.preventDefault();\n\t\t\tsetFocusedDateIndex(0);\n\t\t\tfocusDateColumn(0);\n\t\t} else if (e.key === 'End') {\n\t\t\te.preventDefault();\n\t\t\tconst lastIndex = dates.length - 1;\n\t\t\tsetFocusedDateIndex(lastIndex);\n\t\t\tfocusDateColumn(lastIndex);\n\t\t}\n\t};\n\n\tconst handleResourceHeaderKeyDown = (e: React.KeyboardEvent) => {\n\t\tif (e.key === 'ArrowDown') {\n\t\t\te.preventDefault();\n\t\t\t// Navigate to first row's resource label\n\t\t\tconst firstRowResource = document.querySelector('.gantt-row .resource-label') as HTMLElement;\n\t\t\tif (firstRowResource) {\n\t\t\t\tfirstRowResource.focus();\n\t\t\t}\n\t\t} else if (e.key === 'ArrowRight') {\n\t\t\te.preventDefault();\n\t\t\t// Navigate to timeline header\n\t\t\tconst timelineHeader = headerRef.current;\n\t\t\tif (timelineHeader) {\n\t\t\t\ttimelineHeader.focus();\n\t\t\t}\n\t\t}\n\t};\n\n\tconst handleTimelineFocus = () => {\n\t\t// When the timeline header receives focus, automatically focus the first date\n\t\tif (focusedDateIndex === -1) {\n\t\t\tsetFocusedDateIndex(0);\n\t\t\t// Use setTimeout to ensure the state update has been processed\n\t\t\tsetTimeout(() => focusDateColumn(0), 0);\n\t\t}\n\t};\n\n\tconst focusDateColumn = (index: number) => {\n\t\tconst dateElement = headerRef.current?.querySelector(`[data-date-index=\"${index}\"]`) as HTMLElement;\n\t\tif (dateElement) {\n\t\t\tdateElement.focus();\n\t\t}\n\t};\n\n\treturn (\n\t\t<div \n\t\t\tclassName=\"gantt-header\" \n\t\t\trole=\"row\"\n\t\t\taria-rowindex={1}\n\t\t>\n\t\t\t<div \n\t\t\t\tclassName=\"header-resource\"\n\t\t\t\trole=\"columnheader\"\n\t\t\t\taria-colindex={1}\n\t\t\t\ttabIndex={0}\n\t\t\t\taria-label=\"Resource column header\"\n\t\t\t\tonKeyDown={handleResourceHeaderKeyDown}\n\t\t\t>\n\t\t\t\tResources\n\t\t\t</div>\n\t\t\t<div \n\t\t\t\tref={headerRef}\n\t\t\t\tclassName=\"header-timeline\"\n\t\t\t\trole=\"columnheader\"\n\t\t\t\taria-colindex={2}\n\t\t\t\taria-colspan={dateCount}\n\t\t\t\taria-label={`Timeline from ${viewStart.toLocaleDateString()} to ${viewEnd.toLocaleDateString()}. Use arrow keys to navigate between dates`}\n\t\t\t\ttabIndex={0}\n\t\t\t\tonKeyDown={handleKeyDown}\n\t\t\t\tonFocus={handleTimelineFocus}\n\t\t\t>\n\t\t\t\t{dates.map((date, idx) => {\n\t\t\t\t\tconst isToday = date.getTime() === today.getTime();\n\t\t\t\t\tconst isFocused = focusedDateIndex === idx;\n\t\t\t\t\treturn (\n\t\t\t\t\t\t<div \n\t\t\t\t\t\t\tkey={idx} \n\t\t\t\t\t\t\tdata-date-index={idx}\n\t\t\t\t\t\t\tclassName={`date-column ${isToday ? 'today' : ''} ${isFocused ? 'focused' : ''}`}\n\t\t\t\t\t\t\ttabIndex={isFocused ? 0 : -1}\n\t\t\t\t\t\t\trole=\"button\"\n\t\t\t\t\t\t\taria-label={`${date.toLocaleDateString('en-GB', { \n\t\t\t\t\t\t\t\tweekday: 'long',\n\t\t\t\t\t\t\t\tday: 'numeric', \n\t\t\t\t\t\t\t\tmonth: 'long',\n\t\t\t\t\t\t\t\tyear: 'numeric'\n\t\t\t\t\t\t\t})}${isToday ? ' (Today)' : ''}`}\n\t\t\t\t\t\t\tonFocus={() => setFocusedDateIndex(idx)}\n\t\t\t\t\t\t\tonKeyDown={handleKeyDown}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{date.toLocaleDateString('en-GB', { \n\t\t\t\t\t\t\t\tday: 'numeric', \n\t\t\t\t\t\t\t\tmonth: 'short' \n\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t);\n\t\t\t\t})}\n\t\t\t</div>\n\t\t</div>\n\t);\n}\n\ninterface GanttRowProps {\n\tresource: Resource;\n\ttasks: Task[];\n\tscale: ReturnType<typeof scaleTime<number>>;\n\tonTaskClick?: (task: Task) => void;\n\tonTaskDoubleClick?: (task: Task) => void;\n\trowIndex: number;\n\tdateCount: number;\n}\n\nfunction GanttRow({ resource, tasks, scale, onTaskClick, onTaskDoubleClick, rowIndex, dateCount }: GanttRowProps) {\n\tconst [isTimelineActive, setIsTimelineActive] = useState(false);\n\tconst [selectedTaskIndex, setSelectedTaskIndex] = useState<number>(-1);\n\tconst timelineRef = useRef<HTMLDivElement>(null);\n\n\t// Effect to handle task focus when timeline becomes active\n\tuseEffect(() => {\n\t\tif (isTimelineActive && selectedTaskIndex >= 0 && tasks.length > 0) {\n\t\t\t// Use a small timeout to ensure the DOM has updated with the new aria-labels\n\t\t\tsetTimeout(() => {\n\t\t\t\tconst selectedTask = timelineRef.current?.querySelector(`[data-task-index=\"${selectedTaskIndex}\"]`) as HTMLElement;\n\t\t\t\tselectedTask?.focus();\n\t\t\t}, 0);\n\t\t}\n\t}, [isTimelineActive, selectedTaskIndex, tasks.length]);\n\n\tconst handleTimelineKeyDown = (e: React.KeyboardEvent) => {\n\t\t// Handle scrolling\n\t\tif (e.key === 'ArrowLeft' && e.shiftKey) {\n\t\t\te.preventDefault();\n\t\t\te.currentTarget.scrollBy({ left: -30, behavior: 'smooth' });\n\t\t\treturn;\n\t\t} else if (e.key === 'ArrowRight' && e.shiftKey) {\n\t\t\te.preventDefault();\n\t\t\te.currentTarget.scrollBy({ left: 30, behavior: 'smooth' });\n\t\t\treturn;\n\t\t}\n\n\t\t// If timeline is not active, handle grid navigation\n\t\tif (!isTimelineActive) {\n\t\t\tswitch (e.key) {\n\t\t\t\tcase 'ArrowUp':\n\t\t\t\t\te.preventDefault();\n\t\t\t\t\tif (rowIndex === 0) {\n\t\t\t\t\t\tconst headerTimeline = document.querySelector('.header-timeline') as HTMLElement;\n\t\t\t\t\t\theaderTimeline?.focus();\n\t\t\t\t\t} else {\n\t\t\t\t\t\tconst prevRow = document.querySelector(`[aria-rowindex=\"${rowIndex + 1}\"] .timeline-container`) as HTMLElement;\n\t\t\t\t\t\tprevRow?.focus();\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'ArrowDown':\n\t\t\t\t\te.preventDefault();\n\t\t\t\t\tconst nextRow = document.querySelector(`[aria-rowindex=\"${rowIndex + 3}\"] .timeline-container`) as HTMLElement;\n\t\t\t\t\tnextRow?.focus();\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'ArrowLeft':\n\t\t\t\t\te.preventDefault();\n\t\t\t\t\tconst resourceLabel = timelineRef.current?.closest('.gantt-row')?.querySelector('.resource-label') as HTMLElement;\n\t\t\t\t\tresourceLabel?.focus();\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'Enter':\n\t\t\t\t\tif (tasks.length > 0) {\n\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\tsetIsTimelineActive(true);\n\t\t\t\t\t\tsetSelectedTaskIndex(0);\n\t\t\t\t\t\t// Focus will be handled by useEffect\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t\treturn;\n\t\t}\n\n\t\t// Timeline is active - handle task navigation\n\t\tswitch (e.key) {\n\t\t\tcase 'ArrowLeft':\n\t\t\t\te.preventDefault();\n\t\t\t\tconst newLeftIndex = Math.max(0, selectedTaskIndex - 1);\n\t\t\t\tsetSelectedTaskIndex(newLeftIndex);\n\t\t\t\tconst leftTask = timelineRef.current?.querySelector(`[data-task-index=\"${newLeftIndex}\"]`) as HTMLElement;\n\t\t\t\tleftTask?.focus();\n\t\t\t\tbreak;\n\t\t\tcase 'ArrowRight':\n\t\t\t\te.preventDefault();\n\t\t\t\tconst newRightIndex = Math.min(tasks.length - 1, selectedTaskIndex + 1);\n\t\t\t\tsetSelectedTaskIndex(newRightIndex);\n\t\t\t\tconst rightTask = timelineRef.current?.querySelector(`[data-task-index=\"${newRightIndex}\"]`) as HTMLElement;\n\t\t\t\trightTask?.focus();\n\t\t\t\tbreak;\n\t\t\tcase 'Enter':\n\t\t\t\te.preventDefault();\n\t\t\t\tif (selectedTaskIndex >= 0) {\n\t\t\t\t\tonTaskClick?.(tasks[selectedTaskIndex]);\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tcase ' ':\n\t\t\t\te.preventDefault();\n\t\t\t\tif (selectedTaskIndex >= 0) {\n\t\t\t\t\tonTaskDoubleClick?.(tasks[selectedTaskIndex]);\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tcase 'Escape':\n\t\t\t\te.preventDefault();\n\t\t\t\tsetIsTimelineActive(false);\n\t\t\t\tsetSelectedTaskIndex(-1);\n\t\t\t\ttimelineRef.current?.focus();\n\t\t\t\tbreak;\n\t\t}\n\t};\n\n\tconst handleResourceKeyDown = (e: React.KeyboardEvent) => {\n\t\tswitch (e.key) {\n\t\t\tcase 'ArrowUp':\n\t\t\t\te.preventDefault();\n\t\t\t\tif (rowIndex === 0) {\n\t\t\t\t\tconst headerResource = document.querySelector('.header-resource') as HTMLElement;\n\t\t\t\t\theaderResource?.focus();\n\t\t\t\t} else {\n\t\t\t\t\tconst prevRow = document.querySelector(`[aria-rowindex=\"${rowIndex + 1}\"] .resource-label`) as HTMLElement;\n\t\t\t\t\tprevRow?.focus();\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tcase 'ArrowDown':\n\t\t\t\te.preventDefault();\n\t\t\t\tconst nextRow = document.querySelector(`[aria-rowindex=\"${rowIndex + 3}\"] .resource-label`) as HTMLElement;\n\t\t\t\tnextRow?.focus();\n\t\t\t\tbreak;\n\t\t\tcase 'ArrowRight':\n\t\t\t\te.preventDefault();\n\t\t\t\ttimelineRef.current?.focus();\n\t\t\t\tbreak;\n\t\t}\n\t};\n\n\tconst handleTaskFocus = (taskIndex: number) => {\n\t\tif (isTimelineActive) {\n\t\t\tsetSelectedTaskIndex(taskIndex);\n\t\t}\n\t};\n\n\treturn (\n\t\t<div \n\t\t\tclassName=\"gantt-row\" \n\t\t\trole=\"row\"\n\t\t\taria-rowindex={rowIndex + 2} // +2 because header is row 1\n\t\t>\n\t\t\t{/* Resource label */}\n\t\t\t<div \n\t\t\t\tclassName=\"resource-label\"\n\t\t\t\trole=\"gridcell\"\n\t\t\t\taria-colindex={1}\n\t\t\t\ttabIndex={0}\n\t\t\t\taria-label={`Resource: ${resource.label}`}\n\t\t\t\tonKeyDown={handleResourceKeyDown}\n\t\t\t>\n\t\t\t\t{resource.label}\n\t\t\t</div>\n\t\t\t\n\t\t\t{/* Timeline area - this acts as a single gridcell containing the navigable task list */}\n\t\t\t<div \n\t\t\t\tref={timelineRef}\n\t\t\t\tclassName={`timeline-container ${isTimelineActive ? 'timeline-active' : ''}`}\n\t\t\t\trole=\"gridcell\"\n\t\t\t\taria-colindex={2}\n\t\t\t\taria-colspan={dateCount}\n\t\t\t\ttabIndex={0}\n\t\t\t\taria-label={`Timeline for ${resource.label} with ${tasks.length} task${tasks.length !== 1 ? 's' : ''}. Press Enter to activate task navigation, then use arrow keys to navigate, Enter to select, Space to activate, Escape to exit`}\n\t\t\t\tonKeyDown={handleTimelineKeyDown}\n\t\t\t\tonFocus={() => {\n\t\t\t\t\tif (!isTimelineActive) {\n\t\t\t\t\t\tsetSelectedTaskIndex(-1);\n\t\t\t\t\t}\n\t\t\t\t}}\n\t\t\t>\n\t\t\t\t{tasks.map((task, taskIndex) => (\n\t\t\t\t\t<TaskBar \n\t\t\t\t\t\tkey={task.id} \n\t\t\t\t\t\ttask={task} \n\t\t\t\t\t\tscale={scale}\n\t\t\t\t\t\tonTaskClick={onTaskClick}\n\t\t\t\t\t\tonTaskDoubleClick={onTaskDoubleClick}\n\t\t\t\t\t\tisSelected={isTimelineActive && selectedTaskIndex === taskIndex}\n\t\t\t\t\t\ttaskIndex={taskIndex}\n\t\t\t\t\t\ttabIndex={isTimelineActive && selectedTaskIndex === taskIndex ? 0 : -1}\n\t\t\t\t\t\tonFocus={() => handleTaskFocus(taskIndex)}\n\t\t\t\t\t/>\n\t\t\t\t))}\n\t\t\t</div>\n\t\t</div>\n\t);\n}\n\nexport function GanttChart({\n\tresources,\n\ttasks = [],\n\tviewStart,\n\tviewEnd,\n\tonTaskClick,\n\tonTaskDoubleClick\n}: GanttChartProps) {\n\tconst containerRef = useRef<HTMLDivElement>(null);\n\tconst [timelineWidth, setTimelineWidth] = useState(800);\n\n\t// Ensure dates are proper Date objects with validation\n\tconst startDate = useMemo(() => {\n\t\tif (viewStart instanceof Date) {\n\t\t\tif (isNaN(viewStart.getTime())) {\n\t\t\t\tconsole.warn('GanttChart: Invalid viewStart date provided, using current date');\n\t\t\t\treturn new Date();\n\t\t\t}\n\t\t\treturn viewStart;\n\t\t}\n\t\tconst parsed = new Date(viewStart);\n\t\tif (isNaN(parsed.getTime())) {\n\t\t\tconsole.warn('GanttChart: Invalid viewStart date provided, using current date');\n\t\t\treturn new Date();\n\t\t}\n\t\treturn parsed;\n\t}, [viewStart]);\n\n\tconst endDate = useMemo(() => {\n\t\tif (viewEnd instanceof Date) {\n\t\t\tif (isNaN(viewEnd.getTime())) {\n\t\t\t\tconsole.warn('GanttChart: Invalid viewEnd date provided, using date 7 days from now');\n\t\t\t\treturn new Date(Date.now() + 7 * 24 * 60 * 60 * 1000);\n\t\t\t}\n\t\t\treturn viewEnd;\n\t\t}\n\t\tconst parsed = new Date(viewEnd);\n\t\tif (isNaN(parsed.getTime())) {\n\t\t\tconsole.warn('GanttChart: Invalid viewEnd date provided, using date 7 days from now');\n\t\t\treturn new Date(Date.now() + 7 * 24 * 60 * 60 * 1000);\n\t\t}\n\t\treturn parsed;\n\t}, [viewEnd]);\n\n\t// Calculate date count for ARIA attributes\n\tconst dateCount = useMemo(() => {\n\t\tconst MS_PER_DAY = 86_400_000;\n\t\treturn Math.ceil((endDate.getTime() - startDate.getTime()) / MS_PER_DAY) + 1;\n\t}, [startDate, endDate]);\n\n\t// Update timeline width when container resizes\n\tuseEffect(() => {\n\t\tif (!containerRef.current) return;\n\n\t\tconst resizeObserver = new ResizeObserver((entries) => {\n\t\t\tconst container = entries[0];\n\t\t\tif (container) {\n\t\t\t\t// Account for resource label width (200px) and some padding\n\t\t\t\tsetTimelineWidth(Math.max(container.contentRect.width - 220, 400));\n\t\t\t}\n\t\t});\n\n\t\tresizeObserver.observe(containerRef.current);\n\t\treturn () => resizeObserver.disconnect();\n\t}, []);\n\n\tconst timeScale = useMemo(() =>\n\t\tscaleTime()\n\t\t.domain([startDate, endDate])\n\t\t.range([0, timelineWidth]),\n\t\t[startDate, endDate, timelineWidth]\n\t);\n\n\t// Group tasks by resource\n\tconst tasksByResource = useMemo(() => {\n\t\tconst grouped = new Map<string, Task[]>();\n\t\ttasks.forEach(task => {\n\t\t\tconst resourceTasks = grouped.get(task.resourceId) || [];\n\t\t\tresourceTasks.push(task);\n\t\t\tgrouped.set(task.resourceId, resourceTasks);\n\t\t});\n\t\treturn grouped;\n\t}, [tasks]);\n\n\t// Simplified grid navigation - just handle basic up/down between header and rows\n\tconst handleKeyDown = (event: React.KeyboardEvent) => {\n\t\t// Only handle navigation if the target is the main grid container\n\t\tif (event.target !== event.currentTarget) return;\n\t\t\n\t\tswitch (event.key) {\n\t\t\tcase 'ArrowDown':\n\t\t\t\tevent.preventDefault();\n\t\t\t\t// Focus first row's resource label\n\t\t\t\tconst firstRowResource = containerRef.current?.querySelector('.gantt-row .resource-label') as HTMLElement;\n\t\t\t\tif (firstRowResource) {\n\t\t\t\t\tfirstRowResource.focus();\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tcase 'Home':\n\t\t\t\tevent.preventDefault();\n\t\t\t\t// Focus header resource\n\t\t\t\tconst headerResource = containerRef.current?.querySelector('.header-resource') as HTMLElement;\n\t\t\t\tif (headerResource) {\n\t\t\t\t\theaderResource.focus();\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tbreak;\n\t\t}\n\t};\n\n\treturn (\n\t\t<div \n\t\t\tclassName=\"gantt-chart\"\n\t\t\trole=\"grid\"\n\t\t\taria-label=\"Gantt Chart showing resource scheduling and task timelines\"\n\t\t\taria-rowcount={resources.length + 1}\n\t\t\taria-colcount={dateCount + 1}\n\t\t\taria-description=\"Use arrow keys to navigate cells, Tab to cycle through tasks in timeline rows or dates in header, Enter to select task, Space to activate task, Alt+arrows to scroll the grid, Shift+arrows to scroll timeline rows\"\n\t\t\ttabIndex={0}\n\t\t\tonKeyDown={handleKeyDown}\n\t\t>\n\t\t\t{/* Header with date columns */}\n\t\t\t<GanttHeader viewStart={startDate} viewEnd={endDate} dateCount={dateCount} />\n\t\t\t\n\t\t\t{/* Main grid area - contains data rows */}\n\t\t\t<div \n\t\t\t\tref={containerRef} \n\t\t\t\tclassName=\"gantt-grid\"\n\t\t\t\trole=\"rowgroup\"\n\t\t\t\taria-label=\"Gantt chart data rows\"\n\t\t\t\ttabIndex={0}\n\t\t\t\tonKeyDown={(e) => {\n\t\t\t\t\t// Handle scrolling with keyboard\n\t\t\t\t\tif (e.key === 'ArrowLeft' && e.altKey) {\n\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\tcontainerRef.current?.scrollBy({ left: -50, behavior: 'smooth' });\n\t\t\t\t\t} else if (e.key === 'ArrowRight' && e.altKey) {\n\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\tcontainerRef.current?.scrollBy({ left: 50, behavior: 'smooth' });\n\t\t\t\t\t} else if (e.key === 'ArrowUp' && e.altKey) {\n\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\tcontainerRef.current?.scrollBy({ top: -50, behavior: 'smooth' });\n\t\t\t\t\t} else if (e.key === 'ArrowDown' && e.altKey) {\n\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\tcontainerRef.current?.scrollBy({ top: 50, behavior: 'smooth' });\n\t\t\t\t\t}\n\t\t\t\t}}\n\t\t\t>\n\t\t\t\t{resources.map((resource, index) => (\n\t\t\t\t\t<GanttRow \n\t\t\t\t\t\tkey={resource.id} \n\t\t\t\t\t\tresource={resource}\n\t\t\t\t\t\ttasks={tasksByResource.get(resource.id) || []}\n\t\t\t\t\t\tscale={timeScale}\n\t\t\t\t\t\tonTaskClick={onTaskClick}\n\t\t\t\t\t\tonTaskDoubleClick={onTaskDoubleClick}\n\t\t\t\t\t\trowIndex={index}\n\t\t\t\t\t\tdateCount={dateCount}\n\t\t\t\t\t/>\n\t\t\t\t))}\n\t\t\t</div>\n\t\t</div>\n\t);\n}\n","import React from 'react';\nimport classNames from 'classnames';\nimport './Breadcrumb.scss';\nimport { BreadcrumbProps } from './Breadcrumb.types';\n\nexport const Breadcrumb: React.FC<BreadcrumbProps> = ({\n  items = [],\n  classes,\n  labelText = 'Breadcrumb',\n  href,\n  text,\n  reverse = false,\n  attributes = {},\n}) => {\n  // Create breadcrumb items - either from items prop or from href/text props\n  const getBreadcrumbItems = () => {\n    // If href and text are provided directly, create a single item\n    if (href && text) {\n      return [{ href, text }];\n    }\n    \n    // Otherwise, use the items array\n    return items.filter(item => item.href);\n  };\n\n  // Determine the last item for the back link\n  const getLastItem = () => {\n    const breadcrumbItems = getBreadcrumbItems();\n    \n    if (breadcrumbItems.length > 0) {\n      const lastItem = breadcrumbItems[breadcrumbItems.length - 1];\n      return { href: lastItem.href, text: lastItem.text };\n    }\n    \n    return { text: 'Home' };\n  };\n\n  const breadcrumbItems = getBreadcrumbItems();\n  const lastItem = getLastItem();\n  \n  const breadcrumbClasses = classNames(\n    'nhsuk-breadcrumb',\n    {\n      'nhsuk-breadcrumb--reverse': reverse,\n    },\n    classes\n  );\n\n  return (\n    <nav className={breadcrumbClasses} aria-label={labelText} {...attributes}>\n      <ol className=\"nhsuk-breadcrumb__list\">\n        {breadcrumbItems.map((item, index) => (\n          <li key={index} className=\"nhsuk-breadcrumb__item\">\n            <a\n              className=\"nhsuk-breadcrumb__link\"\n              href={item.href}\n              {...(item.attributes || {})}\n            >\n              {item.text}\n            </a>\n          </li>\n        ))}\n      </ol>\n      \n      {/* Mobile back link - only show if we have items with hrefs */}\n      {lastItem.href && (\n        <p className=\"nhsuk-breadcrumb__back\">\n          <a\n            className=\"nhsuk-breadcrumb__backlink\"\n            href={lastItem.href}\n            {...(items.length > 0 ? items[items.length - 1]?.attributes || {} : {})}\n          >\n            <span className=\"nhsuk-u-visually-hidden\">Back to &nbsp;</span>\n            {lastItem.text}\n          </a>\n        </p>\n      )}\n    </nav>\n  );\n};\n","import React, { useEffect, useState } from 'react';\nimport classNames from 'classnames';\nimport './SkipLink.scss';\nimport { SkipLinkProps } from './SkipLink.types';\n\n/**\n * SSR-compatible SkipLink component for bypassing navigation to main content\n * \n * IMPORTANT: This component should only be used at the page level,\n * typically as the first focusable element on a page. It should NOT\n * be included in individual UI components.\n * \n * Best practices:\n * - Place at the very top of your page layout\n * - Target the main content area (e.g., <main id=\"maincontent\">)\n * - Only use one skip link per page in most cases\n * - Visually hidden by default, visible on focus\n * \n * SSR Compatibility:\n * - Works on server-side rendering (basic link functionality)\n * - Enhanced with focus management on client-side\n * - Progressive enhancement approach\n */\nexport const SkipLink: React.FC<SkipLinkProps> = ({\n  text = 'Skip to main content',\n  href = '#maincontent',\n  classes,\n  attributes = {},\n}) => {\n  // Track if we're on the client side for progressive enhancement\n  const [isClient, setIsClient] = useState(false);\n\n  // SSR-safe client detection\n  useEffect(() => {\n    setIsClient(true);\n  }, []);\n\n  useEffect(() => {\n    // SSR guard: only run on client side with comprehensive checks\n    if (typeof window === 'undefined' || \n        typeof document === 'undefined' || \n        !document.querySelector ||\n        !document.querySelectorAll) {\n      return;\n    }\n\n    const handleSkipLinkClick = (event: Event) => {\n      const target = event.target as HTMLAnchorElement;\n      const targetId = target.getAttribute('href');\n      \n      if (targetId && targetId.startsWith('#')) {\n        const targetElement = document.querySelector(targetId);\n        if (targetElement) {\n          // Ensure the target element can receive focus\n          if (!targetElement.hasAttribute('tabindex')) {\n            targetElement.setAttribute('tabindex', '-1');\n          }\n          \n          // Focus the target element\n          (targetElement as HTMLElement).focus();\n          \n          // Add visual indicator for focused content\n          targetElement.classList.add('nhsuk-skip-link-focused-element');\n          \n          // Clean up after a short delay - use window.setTimeout to ensure availability\n          const timeoutId = window.setTimeout(() => {\n            targetElement.classList.remove('nhsuk-skip-link-focused-element');\n            // Only remove tabindex if we added it\n            if (targetElement.getAttribute('tabindex') === '-1') {\n              targetElement.removeAttribute('tabindex');\n            }\n          }, 3000);\n          \n          // Store timeout ID for cleanup\n          (target as any).__nhsSkipLinkTimeout = timeoutId;\n        }\n      }\n    };\n\n    // Add click handler to all skip links with error handling\n    try {\n      const skipLinks = document.querySelectorAll('.nhsuk-skip-link');\n      skipLinks.forEach(link => {\n        link.addEventListener('click', handleSkipLinkClick);\n      });\n\n      // Cleanup\n      return () => {\n        try {\n          skipLinks.forEach(link => {\n            link.removeEventListener('click', handleSkipLinkClick);\n            // Clear any pending timeouts\n            const timeoutId = (link as any).__nhsSkipLinkTimeout;\n            if (timeoutId && window.clearTimeout) {\n              window.clearTimeout(timeoutId);\n            }\n          });\n        } catch (error) {\n          // Silently handle cleanup errors in SSR environments\n          console.warn('SkipLink cleanup error:', error);\n        }\n      };\n    } catch (error) {\n      // Silently handle initialization errors in SSR environments\n      console.warn('SkipLink initialization error:', error);\n      return () => {}; // Return empty cleanup function\n    }\n  }, [isClient]); // Re-run when client detection changes\n\n  const skipLinkClasses = classNames('nhsuk-skip-link', classes);\n\n  return (\n    <a\n      className={skipLinkClasses}\n      href={href}\n      data-module=\"nhsuk-skip-link\"\n      data-enhanced={isClient ? 'true' : 'false'}\n      {...attributes}\n    >\n      {text}\n    </a>\n  );\n};\n","import React from 'react';\nimport classNames from 'classnames';\nimport './Pagination.scss';\nimport { PaginationProps } from './Pagination.types';\n\nexport const Pagination: React.FC<PaginationProps> = ({\n  previousUrl,\n  previousPage,\n  nextUrl,\n  nextPage,\n  classes,\n  attributes = {},\n}) => {\n  const paginationClasses = classNames('nhsuk-pagination', classes);\n\n  return (\n    <nav \n      className={paginationClasses} \n      role=\"navigation\" \n      aria-label=\"Pagination\"\n      {...attributes}\n    >\n      <ul className=\"nhsuk-list nhsuk-pagination__list\">\n        {previousUrl && previousPage && (\n          <li className=\"nhsuk-pagination-item--previous\">\n            <a className=\"nhsuk-pagination__link nhsuk-pagination__link--prev\" href={previousUrl}>\n              <span className=\"nhsuk-pagination__title\">Previous</span>\n              <span className=\"nhsuk-u-visually-hidden\">:</span>\n              <span className=\"nhsuk-pagination__page\">{previousPage}</span>\n              <svg \n                className=\"nhsuk-icon nhsuk-icon__arrow-left\" \n                xmlns=\"http://www.w3.org/2000/svg\" \n                viewBox=\"0 0 24 24\" \n                aria-hidden=\"true\" \n                width=\"34\" \n                height=\"34\"\n              >\n                <path d=\"M4.1 12.3l2.7 3c.2.2.5.2.7 0 .1-.1.1-.2.1-.3v-2h11c.6 0 1-.4 1-1s-.4-1-1-1h-11V9c0-.2-.1-.4-.3-.5h-.2c-.1 0-.3.1-.4.2l-2.7 3c0 .2 0 .4.1.6z\"></path>\n              </svg>\n            </a>\n          </li>\n        )}\n        \n        {nextUrl && nextPage && (\n          <li className=\"nhsuk-pagination-item--next\">\n            <a className=\"nhsuk-pagination__link nhsuk-pagination__link--next\" href={nextUrl}>\n              <span className=\"nhsuk-pagination__title\">Next</span>\n              <span className=\"nhsuk-u-visually-hidden\">:</span>\n              <span className=\"nhsuk-pagination__page\">{nextPage}</span>\n              <svg \n                className=\"nhsuk-icon nhsuk-icon__arrow-right\" \n                xmlns=\"http://www.w3.org/2000/svg\" \n                viewBox=\"0 0 24 24\" \n                aria-hidden=\"true\" \n                width=\"34\" \n                height=\"34\"\n              >\n                <path d=\"M19.6 11.66l-2.73-3A.51.51 0 0 0 16 9v2H5a1 1 0 0 0 0 2h11v2a.5.5 0 0 0 .32.46.39.39 0 0 0 .18 0 .52.52 0 0 0 .37-.16l2.73-3a.5.5 0 0 0 0-.64z\"></path>\n              </svg>\n            </a>\n          </li>\n        )}\n      </ul>\n    </nav>\n  );\n};\n","import React from 'react';\nimport classNames from 'classnames';\nimport './ContentsList.scss';\nimport { ContentsListProps, ContentsListItem } from './ContentsList.types';\n\nexport const ContentsList: React.FC<ContentsListProps> = ({\n  items,\n  classes,\n  ariaLabel = 'Pages in this guide',\n  attributes = {},\n}) => {\n  const contentsListClasses = classNames('nhsuk-contents-list', classes);\n\n  const renderItem = (item: ContentsListItem, index: number) => {\n    if (item.current) {\n      return (\n        <li \n          key={index}\n          className=\"nhsuk-contents-list__item\" \n          aria-current=\"page\"\n          {...(item.attributes || {})}\n        >\n          <span className=\"nhsuk-contents-list__current\">{item.text}</span>\n        </li>\n      );\n    }\n\n    return (\n      <li \n        key={index}\n        className=\"nhsuk-contents-list__item\"\n      >\n        <a \n          className=\"nhsuk-contents-list__link\" \n          href={item.href}\n          {...(item.attributes || {})}\n        >\n          {item.text}\n        </a>\n      </li>\n    );\n  };\n\n  return (\n    <nav \n      className={contentsListClasses}\n      role=\"navigation\" \n      aria-label={ariaLabel}\n      {...attributes}\n    >\n      <h2 className=\"nhsuk-u-visually-hidden\">Contents</h2>\n      <ol className=\"nhsuk-contents-list__list\">\n        {items.map((item, index) => renderItem(item, index))}\n      </ol>\n    </nav>\n  );\n};\n","import React from 'react';\nimport { CardProps, CardGroupProps, CardGroupItemProps } from './Card.types';\nimport { Heading } from '../Heading';\nimport './Card.scss';\n\n/**\n * NHS Card Component\n * \n * A versatile card component that follows NHS design guidelines.\n * Can be used for content cards, feature cards, and clickable cards.\n * \n * Features:\n * - Multiple variants (default, feature, clickable, secondary, primary)\n * - Accessibility compliant with proper headings and ARIA attributes\n * - Responsive design with design tokens\n * - Support for images, custom content, and interactive states\n * \n * @example\n * ```tsx\n * // Basic card\n * <Card heading=\"Basic Card\" description=\"This is a basic card\" />\n * \n * // Clickable card\n * <Card \n *   variant=\"clickable\" \n *   heading=\"Clickable Card\" \n *   href=\"/example\"\n *   description=\"This card is clickable\"\n * />\n * \n * // Card group\n * <CardGroup>\n *   <CardGroupItem>\n *     <Card heading=\"Card 1\" description=\"First card\" />\n *   </CardGroupItem>\n *   <CardGroupItem>\n *     <Card heading=\"Card 2\" description=\"Second card\" />\n *   </CardGroupItem>\n * </CardGroup>\n * ```\n */\nexport const Card: React.FC<CardProps> = ({\n  variant = 'default',\n  heading,\n  headingHtml,\n  headingLevel = 2,\n  headingClasses,\n  description,\n  descriptionHtml,\n  href,\n  imgURL,\n  imgAlt,\n  className,\n  children,\n  'data-testid': dataTestId,\n  id,\n  'aria-label': ariaLabel,\n  'aria-labelledby': ariaLabelledBy,\n  'aria-describedby': ariaDescribedBy,\n}) => {\n  // Build CSS classes\n  const cardClasses = [\n    'nhsuk-card',\n    variant === 'clickable' && 'nhsuk-card--clickable',\n    variant === 'secondary' && 'nhsuk-card--secondary',\n    variant === 'feature' && 'nhsuk-card--feature',\n    className\n  ].filter(Boolean).join(' ');\n\n  const contentClasses = [\n    'nhsuk-card__content',\n    variant === 'feature' && 'nhsuk-card__content--feature',\n    variant === 'primary' && 'nhsuk-card__content--primary',\n    variant === 'secondary' && 'nhsuk-card__content--secondary'\n  ].filter(Boolean).join(' ');\n\n  const headingClassList = [\n    'nhsuk-card__heading',\n    variant === 'feature' && 'nhsuk-card__heading--feature',\n    headingClasses\n  ].filter(Boolean).join(' ');\n\n  // Create heading element\n  const renderHeading = () => {\n    if (headingHtml) {\n      return <div dangerouslySetInnerHTML={{ __html: headingHtml }} />;\n    }\n\n    if (!heading) return null;\n\n    const headingContent = () => {\n      if (href && variant !== 'feature') {\n        return <a className=\"nhsuk-card__link\" href={href}>{heading}</a>;\n      }\n\n      return heading;\n    };\n\n    // Use the new Heading component instead of React.createElement\n    return (\n      <Heading\n        level={headingLevel}\n        className={headingClassList}\n      >\n        {headingContent()}\n      </Heading>\n    );\n  };\n\n  const renderContent = () => {\n    if (children) return children;\n    if (descriptionHtml) return <div dangerouslySetInnerHTML={{ __html: descriptionHtml }} />;\n    if (description) return <p className=\"nhsuk-card__description\">{description}</p>;\n    return null;\n  };\n\n  const renderPrimaryIcon = () => {\n    if (variant !== 'primary') return null;\n    return (\n      <svg \n        className=\"nhsuk-icon\" \n        xmlns=\"http://www.w3.org/2000/svg\" \n        width=\"27\" \n        height=\"27\" \n        aria-hidden=\"true\" \n        focusable=\"false\"\n      >\n        <circle cx=\"13.333\" cy=\"13.333\" r=\"13.333\" fill=\"\" />\n        <g fill=\"none\" stroke=\"#fff\" strokeLinecap=\"round\" strokeMiterlimit=\"10\" strokeWidth=\"2.667\">\n          <path d=\"M15.438 13l-3.771 3.771\" />\n          <path d=\"M11.667 9.229L15.438 13\" />\n        </g>\n      </svg>\n    );\n  };\n\n  return (\n    <div \n      className={cardClasses}\n      data-testid={dataTestId}\n      id={id}\n      aria-label={ariaLabel}\n      aria-labelledby={ariaLabelledBy}\n      aria-describedby={ariaDescribedBy}\n    >\n      {imgURL && (\n        <img \n          className=\"nhsuk-card__img\" \n          src={imgURL} \n          alt={imgAlt || ''} \n        />\n      )}\n      \n      <div className={contentClasses}>\n        {renderHeading()}\n        {renderContent()}\n        {renderPrimaryIcon()}\n      </div>\n    </div>\n  );\n};\n\n/**\n * NHS Card Group Component\n * \n * Container for multiple cards displayed in a flex layout.\n * Cards in a group will have equal height on desktop.\n */\nexport const CardGroup: React.FC<CardGroupProps> = ({\n  className,\n  children,\n  'data-testid': dataTestId,\n  id,\n}) => {\n  const classes = ['nhsuk-card-group', className].filter(Boolean).join(' ');\n\n  return (\n    <ul \n      className={classes}\n      data-testid={dataTestId}\n      id={id}\n    >\n      {children}\n    </ul>\n  );\n};\n\n/**\n * NHS Card Group Item Component\n * \n * Individual item wrapper for cards within a CardGroup.\n */\nexport const CardGroupItem: React.FC<CardGroupItemProps> = ({\n  className,\n  children,\n  'data-testid': dataTestId,\n}) => {\n  const classes = ['nhsuk-card-group__item', className].filter(Boolean).join(' ');\n\n  return (\n    <li \n      className={classes}\n      data-testid={dataTestId}\n    >\n      {children}\n    </li>\n  );\n};\n","import React from 'react';\nimport { CareCardProps } from './CareCard.types';\nimport { Heading } from '../Heading';\nimport './CareCard.scss';\n\n/**\n * NHS CareCard Component\n * \n * Care cards help users identify and understand the care they need, who to contact\n * and how quickly. They are specifically designed for medical guidance scenarios\n * where users need to decide when and where to get care.\n * \n * Features:\n * - Three types: non-urgent (blue), urgent (red), emergency (red with black content)\n * - Accessibility compliant with proper headings and screen reader support\n * - Hidden text for screen readers to indicate urgency level\n * - Responsive design with design tokens\n * - Clear visual hierarchy with colored headers and arrow indicators\n * \n * @example\n * ```tsx\n * // Non-urgent care card\n * <CareCard \n *   type=\"non-urgent\"\n *   heading=\"Speak to a GP if:\"\n *   description=\"You have symptoms that are concerning you but are not urgent\"\n * />\n * \n * // Urgent care card\n * <CareCard \n *   type=\"urgent\"\n *   heading=\"Ask for an urgent GP appointment if:\"\n *   description=\"Your symptoms are severe and need prompt medical attention\"\n * />\n * \n * // Emergency care card\n * <CareCard \n *   type=\"emergency\"\n *   heading=\"Call 999 if:\"\n *   description=\"Someone's life is at risk and they need emergency medical treatment\"\n * />\n * ```\n */\nexport const CareCard: React.FC<CareCardProps> = ({\n  type,\n  heading,\n  headingHtml,\n  headingLevel = 3,\n  headingClasses,\n  description,\n  descriptionHtml,\n  className,\n  children,\n  'data-testid': dataTestId,\n  id,\n  'aria-label': ariaLabel,\n  'aria-labelledby': ariaLabelledBy,\n  'aria-describedby': ariaDescribedBy,\n}) => {\n  // Build CSS classes\n  const cardClasses = [\n    'nhsuk-care-card',\n    `nhsuk-care-card--${type}`,\n    className\n  ].filter(Boolean).join(' ');\n\n  const headingClassList = [\n    'nhsuk-care-card__heading',\n    headingClasses\n  ].filter(Boolean).join(' ');\n\n  // Create heading element dynamically\n  const renderHeading = () => {\n    if (headingHtml) {\n      return <div dangerouslySetInnerHTML={{ __html: headingHtml }} />;\n    }\n\n    if (!heading) return null;\n\n    const visuallyHiddenText = {\n      'non-urgent': 'Non-urgent advice:',\n      'urgent': 'Urgent advice:',\n      'emergency': 'Immediate action required:'\n    }[type];\n\n    const headingContent = (\n      <span role=\"text\">\n        <span className=\"nhsuk-u-visually-hidden\">{visuallyHiddenText} </span>\n        {heading}\n      </span>\n    );\n\n    // Use the new Heading component instead of React.createElement\n    return (\n      <Heading\n        level={headingLevel}\n        className={headingClassList}\n      >\n        {headingContent}\n      </Heading>\n    );\n  };\n\n  const renderContent = () => {\n    if (children) return children;\n    if (descriptionHtml) return <div dangerouslySetInnerHTML={{ __html: descriptionHtml }} />;\n    if (description) return <p className=\"nhsuk-care-card__text\">{description}</p>;\n    return null;\n  };\n\n  return (\n    <div \n      className={cardClasses}\n      data-testid={dataTestId}\n      id={id}\n      aria-label={ariaLabel}\n      aria-labelledby={ariaLabelledBy}\n      aria-describedby={ariaDescribedBy}\n    >\n      <div className=\"nhsuk-care-card__heading-container\">\n        {renderHeading()}\n        <span className=\"nhsuk-care-card__arrow\" aria-hidden=\"true\"></span>\n      </div>\n      \n      <div className=\"nhsuk-care-card__content\">\n        {renderContent()}\n      </div>\n    </div>\n  );\n};\n","import React from 'react';\nimport classNames from 'classnames';\nimport './Panel.scss';\nimport { PanelProps } from './Panel.types';\nimport { Heading } from '../Heading';\n\nexport const Panel: React.FC<PanelProps> = ({\n  id,\n  className,\n  headingText,\n  headingHtml,\n  headingLevel = 2,\n  bodyText,\n  bodyHtml,\n  children,\n  ...props\n}) => {\n  const panelClasses = classNames(\n    'nhsuk-panel',\n    className\n  );\n\n  const renderHeading = () => {\n    if (!headingText && !headingHtml && !children) return null;\n\n    if (headingHtml) {\n      return (\n        <Heading\n          level={headingLevel}\n          className=\"nhsuk-panel__heading\"\n          html={headingHtml}\n          marginBottom=\"var(--panel-heading-margin, 24px)\"\n        />\n      );\n    }\n\n    if (headingText) {\n      return (\n        <Heading\n          level={headingLevel}\n          className=\"nhsuk-panel__heading\"\n          text={headingText}\n          marginBottom=\"var(--panel-heading-margin, 24px)\"\n        />\n      );\n    }\n\n    return null;\n  };\n\n  const renderBody = () => {\n    if (children) {\n      return <div className=\"nhsuk-panel__body\">{children}</div>;\n    }\n\n    if (bodyHtml) {\n      return (\n        <div \n          className=\"nhsuk-panel__body\"\n          dangerouslySetInnerHTML={{ __html: bodyHtml }}\n        />\n      );\n    }\n\n    if (bodyText) {\n      return (\n        <div className=\"nhsuk-panel__body\">\n          <p>{bodyText}</p>\n        </div>\n      );\n    }\n\n    return null;\n  };\n\n  return (\n    <div className={panelClasses} id={id} {...props}>\n      {renderHeading()}\n      {renderBody()}\n    </div>\n  );\n};\n","import React from 'react';\nimport classNames from 'classnames';\nimport { InsetTextProps } from './InsetText.types';\nimport './InsetText.scss';\n\nexport const InsetText: React.FC<InsetTextProps> = ({\n  text,\n  html,\n  children,\n  className,\n  ...rest\n}) => {\n  const insetTextClasses = classNames('nhsuk-inset-text', className);\n\n  const renderContent = () => {\n    if (children) {\n      return children;\n    }\n    \n    if (html) {\n      return <div dangerouslySetInnerHTML={{ __html: html }} />;\n    }\n    \n    if (text) {\n      return <p>{text}</p>;\n    }\n    \n    return null;\n  };\n\n  return (\n    <div className={insetTextClasses} {...rest}>\n      {renderContent()}\n    </div>\n  );\n};\n","import React from 'react';\nimport classNames from 'classnames';\nimport { SummaryListProps, SummaryListItem } from './SummaryList.types';\nimport './SummaryList.scss';\n\nexport const SummaryList: React.FC<SummaryListProps> = ({\n  items,\n  noBorder = false,\n  className,\n  ...rest\n}) => {\n  const summaryListClasses = classNames(\n\t'nhsuk-summary-list',\n\t{\n\t  'nhsuk-summary-list--no-border': noBorder,\n\t},\n\tclassName\n  );\n\n  const renderContent = (content: { text?: string; html?: string; children?: React.ReactNode }) => {\n\tif (content.children) {\n\t  return content.children;\n\t}\n\t\n\tif (content.html) {\n\t  return <span dangerouslySetInnerHTML={{ __html: content.html }} />;\n\t}\n\t\n\tif (content.text) {\n\t  return content.text;\n\t}\n\t\n\treturn null;\n  };\n\n  const renderActions = (actions: SummaryListItem['actions']) => {\n\tif (!actions || !actions.items.length) {\n\t  return null;\n\t}\n\n\t  return (\n\t\t\t\n\t\t\t\t<dd className=\"nhsuk-summary-list__actions\">\n\t\t\t\t\t<ul className=\"nhsuk-summary-list__actions-list\">\n\t\t\t\t\t{actions.items.map((action, actionIndex) => (\n\t\t\t\t\t\t<li \n\t\t\t\t\t\tkey={actionIndex} \n\t\t\t\t\t\tclassName=\"nhsuk-summary-list__actions-list-item\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t<a\n\t\t\t\t\t\t\thref={action.href}\n\t\t\t\t\t\t\tclassName=\"nhsuk-link\"\n\t\t\t\t\t\t\t{...action.attributes}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{renderContent(action)}\n\t\t\t\t\t\t\t{action.visuallyHiddenText && (\n\t\t\t\t\t\t\t<span className=\"nhsuk-u-visually-hidden\">\n\t\t\t\t\t\t\t\t{action.visuallyHiddenText}\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</a>\n\t\t\t\t\t\t</li>\n\t\t\t\t\t))}\n\t\t\t\t\t</ul>\n\t\t\t\t</dd>\n\t\t\t\n\t);\n  };\n\nreturn (\n\t<div className=\"nhsuk-summary-list-container\">\n\t\t<dl className={summaryListClasses} {...rest}>\n\t\t{items.map((item, index) => (\n\t\t\t<div key={index} className=\"nhsuk-summary-list__row\">\n\t\t\t<dt className=\"nhsuk-summary-list__key\">\n\t\t\t\t{renderContent(item.key)}\n\t\t\t</dt>\n\t\t\t<dd className=\"nhsuk-summary-list__value\">\n\t\t\t\t{renderContent(item.value)}\n\t\t\t</dd>\n\t\t\t{renderActions(item.actions)}\n\t\t\t</div>\n\t\t))}\n\t\t</dl>\n\t</div>\n  );\n};\n","import React from 'react';\nimport classNames from 'classnames';\nimport { TableProps, TableCellData, TableHeaderCell } from './Table.types';\nimport './Table.scss';\nimport { Panel } from '../Panel';\nimport { Heading } from '../Heading';\n\n/**\n * Table component for displaying structured data\n * \n * Features:\n * - Responsive design with mobile-friendly stacked layout\n * - Accessible table structure with proper headers\n * - Support for complex cell types (headers, numeric, spans)\n * - Optional panel wrapper with heading\n * - Customizable caption and styling\n * \n * @param props - Table component props\n * @returns JSX element\n */\nconst Table: React.FC<TableProps> = ({\n\trows,\n\thead,\n\tcaption,\n\tcaptionSize,\n\tfirstCellIsHeader = false,\n\tresponsive = false,\n\theading,\n\theadingLevel = 3,\n\tpanel = false,\n\tpanelClasses,\n\ttableClasses,\n\tclasses,\n\tattributes,\n\t'data-testid': testId,\n}) => {\n  // Build caption classes\n\tconst captionClass = `nhsuk-table__caption ${captionSize ? `nhsuk-table__caption--${captionSize}` : ''}`.trim();\n\n  // Build table classes\n  const tableClassList = classNames(\n\t'nhsuk-table',\n\t{\n\t  'nhsuk-table-responsive': responsive,\n\t},\n\ttableClasses\n  );\n\n  // Build container classes\n  const containerClassList = classNames(classes);\n\n  const renderHeaderCell = (cell: TableHeaderCell, index: number) => {\n\tconst headerClasses = classNames('nhsuk-table__header', {\n\t  [`nhsuk-table__header--${cell.format}`]: cell.format,\n\t}, cell.classes);\n\n\tconst headerAttributes = {\n\t\tscope: 'col' as const,\n\t\t...(cell.colspan && { colSpan: cell.colspan }),\n\t\t...(cell.rowspan && { rowSpan: cell.rowspan }),\n\t\t...(responsive && { role: 'columnheader' }),\n\t\t...cell.attributes,\n\t};\n\n\treturn (\n\t  <th key={index} className={headerClasses} {...headerAttributes}>\n\t\t{cell.html ? (\n\t\t  <span dangerouslySetInnerHTML={{ __html: cell.html }} />\n\t\t) : (\n\t\t  cell.text\n\t\t)}\n\t  </th>\n\t);\n  };\n\n  const renderCell = (cell: TableCellData, cellIndex: number, isFirstCell: boolean) => {\n\tconst isHeaderCell = firstCellIsHeader && isFirstCell;\n\t\n\tconst cellClasses = classNames(\n\t  isHeaderCell ? 'nhsuk-table__header' : 'nhsuk-table__cell',\n\t  {\n\t\t[`nhsuk-table__${isHeaderCell ? 'header' : 'cell'}--${cell.format}`]: cell.format,\n\t  },\n\t  cell.classes\n\t);\n\n\tconst cellAttributes = {\n\t\t...(isHeaderCell && { scope: 'row' as const }),\n\t\t...(cell.colspan && { colSpan: cell.colspan }),\n\t\t...(cell.rowspan && { rowSpan: cell.rowspan }),\n\t\t...(responsive && { \n\t\trole: isHeaderCell ? 'rowheader' : 'cell',\n\t\t...(cell.header && { 'data-label': cell.header })\n\t\t}),\n\t\t...cell.attributes,\n\t};\n\n\tconst cellContent = (\n\t  <>\n\t\t{responsive && cell.header && (\n\t\t  <span className=\"nhsuk-table-responsive__heading\" aria-hidden=\"true\">\n\t\t\t{cell.header}{' '}\n\t\t  </span>\n\t\t)}\n\t\t{cell.html ? (\n\t\t  <span dangerouslySetInnerHTML={{ __html: cell.html }} />\n\t\t) : (\n\t\t  cell.text\n\t\t)}\n\t  </>\n\t);\n\n\tconst Component = isHeaderCell ? 'th' : 'td';\n\n\treturn (\n\t  <Component key={cellIndex} className={cellClasses} {...cellAttributes}>\n\t\t{cellContent}\n\t  </Component>\n\t);\n  };\n\n  const renderTable = () => (\n\t<table \n\t  className={tableClassList}\n\t  {...(responsive && { role: 'table' })}\n\t  {...attributes}\n\t  {...(testId && { 'data-testid': testId })}\n\t>\n\t  { caption && (\n\t\t<caption className={captionClass}>\n\t\t  {caption}\n\t\t</caption>\n\t  )}\n\t  \n\t  { head && head.length > 0 && (\n\t\t<thead \n\t\t  className=\"nhsuk-table__head\"\n\t\t  {...(responsive && { role: 'rowgroup' })}\n\t\t>\n\t\t  <tr {...(responsive && { role: 'row' })}>\n\t\t\t{head.map((cell: any, index: number) => renderHeaderCell(cell, index))}\n\t\t  </tr>\n\t\t</thead>\n\t  )}\n\t  \n\t  <tbody className=\"nhsuk-table__body\">\n\t\t{rows && rows.map((row: any, rowIndex: number) => (\n\t\t  <tr \n\t\t\tkey={rowIndex} \n\t\t\tclassName=\"nhsuk-table__row\"\n\t\t\t{...(responsive && { role: 'row' })}\n\t\t  >\n\t\t\t{row.map((cell: any, cellIndex: number) => \n\t\t\t\trenderCell(cell, cellIndex, cellIndex === 0)\n\t\t\t)}\n\t\t  </tr>\n\t\t))}\n\t  </tbody>\n\t</table>\n  );\n\nif (panel) {\n\treturn (\n\t\t<Panel className={panelClasses}>\n\t\t\t{ heading && (\n\t\t\t\t<Heading level={headingLevel} className=\"nhsuk-table__heading-tab\">\n\t\t\t\t\t{heading}\n\t\t\t\t</Heading>\n\t\t\t)}\n\t\t\t{ renderTable() }\n\t\t</Panel>\n\t);\n}\n\n  if (containerClassList) {\n\treturn (\n\t  <div className={containerClassList}>\n\t\t{ renderTable() }\n\t  </div>\n\t);\n  }\n\n  return renderTable();\n};\n\nexport default Table;\n","import React, { useState, useCallback, useRef, forwardRef, useImperativeHandle } from 'react';\nimport classNames from 'classnames';\nimport { TabsProps, TabItemId, TabsHandle, TabItem } from './Tabs.types';\nimport './Tabs.scss';\n\n// Export TabsHandle type for external use\nexport type { TabsHandle } from './Tabs.types';\n\n/**\n * NHS Tabs Component\n * \n * A tabs component for organizing related content into separate views.\n * Follows NHS design guidelines and accessibility standards.\n * \n * @param props - Tabs component props\n * @returns JSX element\n */\nexport const Tabs = forwardRef<TabsHandle, TabsProps>(({\n  items,\n  defaultActiveTab,\n  activeTab: controlledActiveTab,\n  onTabChange,\n  onTabFocus,\n  onTabListBlur,\n  onEscape,\n  autoActivate = true,\n  className,\n  id,\n  'data-testid': testId,\n  ...props\n}, ref) => {\n  // Determine if component is controlled or uncontrolled\n  const isControlled = controlledActiveTab !== undefined;\n  \n  // Internal state for uncontrolled mode\n  const [internalActiveTab, setInternalActiveTab] = useState<TabItemId>(() => {\n    return defaultActiveTab || items[0]?.id || '';\n  });\n  \n  // Current active tab (controlled or uncontrolled)\n  const activeTab = isControlled ? controlledActiveTab : internalActiveTab;\n  \n  // Refs for keyboard navigation\n  const tabListRef = useRef<HTMLDivElement>(null);\n  const tabRefs = useRef<Map<TabItemId, HTMLButtonElement>>(new Map());\n  \n  // Handle tab selection\n  const handleTabClick = useCallback((tabId: TabItemId) => {\n    if (!isControlled) {\n      setInternalActiveTab(tabId);\n    }\n    onTabChange?.(tabId);\n  }, [isControlled, onTabChange]);\n  \n  // Handle tab focus\n  const handleTabFocus = useCallback((tabId: TabItemId) => {\n    onTabFocus?.(tabId);\n    if (autoActivate) {\n      handleTabClick(tabId);\n    }\n  }, [onTabFocus, autoActivate, handleTabClick]);\n  \n  // Keyboard navigation\n  const handleKeyDown = useCallback((event: React.KeyboardEvent, tabId: TabItemId) => {\n    const tabIds = items.filter((item: TabItem) => !item.disabled).map((item: TabItem) => item.id);\n    const currentIndex = tabIds.indexOf(tabId);\n    \n    let newIndex: number | null = null;\n    \n    switch (event.key) {\n      case 'ArrowLeft':\n        newIndex = currentIndex > 0 ? currentIndex - 1 : tabIds.length - 1;\n        break;\n      case 'ArrowRight':\n        newIndex = currentIndex < tabIds.length - 1 ? currentIndex + 1 : 0;\n        break;\n      case 'Home':\n        newIndex = 0;\n        break;\n      case 'End':\n        newIndex = tabIds.length - 1;\n        break;\n      case 'Escape':\n        event.preventDefault();\n        onEscape?.();\n        return;\n      default:\n        return;\n    }\n    \n    if (newIndex !== null) {\n      event.preventDefault();\n      const newTabId = tabIds[newIndex];\n      const newTabRef = tabRefs.current.get(newTabId);\n      if (newTabRef) {\n        newTabRef.focus();\n        handleTabFocus(newTabId);\n      }\n    }\n  }, [items, handleTabFocus, onEscape]);\n  \n  // Set tab ref\n  const setTabRef = useCallback((tabId: TabItemId, element: HTMLButtonElement | null) => {\n    if (element) {\n      tabRefs.current.set(tabId, element);\n    } else {\n      tabRefs.current.delete(tabId);\n    }\n  }, []);\n  \n  // Focus a specific tab (for external control)\n  const focusTab = useCallback((tabId: TabItemId) => {\n    const tabRef = tabRefs.current.get(tabId);\n    if (tabRef) {\n      tabRef.focus();\n    }\n  }, []);\n  \n  // Expose ref methods\n  useImperativeHandle(ref, () => ({\n    focusTab,\n    getActiveTab: () => activeTab,\n    getTabListElement: () => tabListRef.current,\n  }), [focusTab, activeTab]);\n  \n  // Handle blur from tablist\n  const handleTabListBlur = useCallback((event: React.FocusEvent) => {\n    // Check if focus is moving outside the tablist\n    const relatedTarget = event.relatedTarget as Element;\n    if (!tabListRef.current?.contains(relatedTarget)) {\n      onTabListBlur?.();\n    }\n  }, [onTabListBlur]);\n  \n  // Build CSS classes\n  const tabsClasses = classNames('nhsuk-tabs', className);\n  \n  return (\n    <div \n      className={tabsClasses}\n      id={id}\n      data-testid={testId}\n      {...props}\n    >\n      <h2 className=\"nhsuk-tabs__title\">Contents</h2>\n      \n      <div \n        className=\"nhsuk-tabs__list-container\"\n        ref={tabListRef}\n      >\n        <ul \n          className=\"nhsuk-tabs__list\"\n          role=\"tablist\"\n          onBlur={handleTabListBlur}\n        >\n          {items.map((item: TabItem) => {\n            const isActive = item.id === activeTab;\n            const isDisabled = item.disabled;\n            \n            const tabClasses = classNames('nhsuk-tabs__list-item', {\n              'nhsuk-tabs__list-item--selected': isActive,\n              'nhsuk-tabs__list-item--disabled': isDisabled,\n            });\n            \n            return (\n              <li key={item.id} className={tabClasses}>\n                <button\n                  ref={(element) => setTabRef(item.id, element)}\n                  className=\"nhsuk-tabs__tab\"\n                  role=\"tab\"\n                  aria-selected={isActive}\n                  aria-controls={`${item.id}-panel`}\n                  id={`${item.id}-tab`}\n                  tabIndex={isActive ? 0 : -1}\n                  disabled={isDisabled}\n                  onClick={() => !isDisabled && handleTabClick(item.id)}\n                  onKeyDown={(event) => !isDisabled && handleKeyDown(event, item.id)}\n                  onFocus={() => !isDisabled && handleTabFocus(item.id)}\n                  {...item.attributes}\n                >\n                  {item.label}\n                </button>\n              </li>\n            );\n          })}\n        </ul>\n      </div>\n      \n      {items.map((item: TabItem) => {\n        const isActive = item.id === activeTab;\n        \n        return (\n          <div\n            key={item.id}\n            className=\"nhsuk-tabs__panel\"\n            role=\"tabpanel\"\n            aria-labelledby={`${item.id}-tab`}\n            id={`${item.id}-panel`}\n            hidden={!isActive}\n          >\n            {item.content}\n          </div>\n        );\n      })}\n    </div>\n  );\n});\n","import React, { forwardRef } from 'react';\nimport './Details.scss';\n\nexport interface DetailsProps extends React.DetailsHTMLAttributes<HTMLDetailsElement> {\n  /** Text for the summary (visible part that can be clicked) */\n  summaryText?: string;\n  /** HTML content for the summary (overrides summaryText if provided) */\n  summaryHtml?: string;\n  /** Text content for the details body */\n  text?: string;\n  /** HTML content for the details body (overrides text if provided) */\n  html?: string;\n  /** Whether the details should be open by default */\n  open?: boolean;\n  /** Additional CSS classes */\n  className?: string;\n  /** Unique identifier */\n  id?: string;\n  /** Child content (will override text/html props if provided) */\n  children?: React.ReactNode;\n}\n\n/**\n * Details component for progressive disclosure of content\n * \n * Used to hide additional information behind a disclosure widget that users can expand\n * when needed. Uses the standard HTML details element with NHS styling.\n */\nexport const Details = forwardRef<HTMLDetailsElement, DetailsProps>(\n  (\n    {\n      summaryText,\n      summaryHtml,\n      text,\n      html,\n      open = false,\n      className = '',\n      id,\n      children,\n      ...props\n    },\n    ref\n  ) => {\n    const classes = [\n      'nhsuk-details',\n      className\n    ].filter(Boolean).join(' ');\n\n    // Determine summary content\n    const summaryContent = summaryHtml ? (\n      <span\n        className=\"nhsuk-details__summary-text\"\n        dangerouslySetInnerHTML={{ __html: summaryHtml }}\n      />\n    ) : (\n      <span className=\"nhsuk-details__summary-text\">\n        {summaryText}\n      </span>\n    );\n\n    // Determine body content\n    let bodyContent;\n    if (children) {\n      bodyContent = children;\n    } else if (html) {\n      bodyContent = <div dangerouslySetInnerHTML={{ __html: html }} />;\n    } else if (text) {\n      bodyContent = text;\n    }\n\n    return (\n      <details\n        ref={ref}\n        id={id}\n        className={classes}\n        open={open}\n        {...props}\n      >\n        <summary className=\"nhsuk-details__summary\">\n          {summaryContent}\n        </summary>\n        <div className=\"nhsuk-details__text\">\n          {bodyContent}\n        </div>\n      </details>\n    );\n  }\n);\n\nDetails.displayName = 'Details';\n\nexport default Details;\n","import React, { forwardRef } from 'react';\nimport { Heading } from '../Heading';\nimport './DoDontList.scss';\n\nexport interface DoDontListItem {\n  /** Text content for the do/don't item */\n  item: string;\n}\n\nexport interface DoDontListProps extends React.HTMLAttributes<HTMLDivElement> {\n  /** Title to be displayed on the do and don't list component */\n  title: string;\n  /** Type of do and don't list component  'tick' for Do lists or 'cross' for Don't lists */\n  type: 'tick' | 'cross';\n  /** Array of do and don't items */\n  items: DoDontListItem[];\n  /** If set to true when type is 'cross', removes the default 'do not' text prefix to each item */\n  hidePrefix?: boolean;\n  /** Optional heading level for the title heading. Defaults to 3 */\n  headingLevel?: 1 | 2 | 3 | 4 | 5 | 6;\n  /** Additional CSS classes */\n  className?: string;\n}\n\nexport const DoDontList = forwardRef<HTMLDivElement, DoDontListProps>(\n  (\n    { \n      title, \n      type, \n      items, \n      hidePrefix = false, \n      headingLevel = 3, \n      className,\n      ...props \n    },\n    ref\n  ) => {\n    const classes = ['nhsuk-do-dont-list'];\n    \n    if (className) {\n      classes.push(className);\n    }\n\n    const listClasses = [\n      'nhsuk-list',\n      type === 'tick' ? 'nhsuk-list--tick' : 'nhsuk-list--cross'\n    ];\n\n    const renderIcon = () => {\n      if (type === 'cross') {\n        return (\n          <svg \n            className=\"nhsuk-icon nhsuk-icon__cross\" \n            xmlns=\"http://www.w3.org/2000/svg\" \n            viewBox=\"0 0 24 24\" \n            aria-hidden=\"true\" \n            width=\"34\" \n            height=\"34\"\n          >\n            <path \n              d=\"M17 18.5c-.4 0-.8-.1-1.1-.4l-10-10c-.6-.6-.6-1.6 0-2.1.6-.6 1.5-.6 2.1 0l10 10c.6.6.6 1.5 0 2.1-.3.3-.6.4-1 .4z\" \n              fill=\"#d5281b\"\n            />\n            <path \n              d=\"M7 18.5c-.4 0-.8-.1-1.1-.4-.6-.6-.6-1.5 0-2.1l10-10c.6-.6 1.5-.6 2.1 0 .6.6.6 1.5 0 2.1l-10 10c-.3.3-.6.4-1 .4z\" \n              fill=\"#d5281b\"\n            />\n          </svg>\n        );\n      } else {\n        return (\n          <svg \n            className=\"nhsuk-icon nhsuk-icon__tick\" \n            xmlns=\"http://www.w3.org/2000/svg\" \n            viewBox=\"0 0 24 24\" \n            fill=\"none\" \n            aria-hidden=\"true\" \n            width=\"34\" \n            height=\"34\"\n          >\n            <path \n              strokeWidth=\"4\" \n              strokeLinecap=\"round\" \n              d=\"M18.4 7.8l-8.5 8.4L5.6 12\" \n              stroke=\"#007f3b\"\n            />\n          </svg>\n        );\n      }\n    };\n\n    const formatItemText = (itemText: string) => {\n      if (type === 'cross' && !hidePrefix) {\n        return `do not ${itemText}`;\n      }\n      return itemText;\n    };\n\n    const renderHeading = () => {\n      return (\n        <Heading\n          level={headingLevel}\n          className=\"nhsuk-do-dont-list__label\"\n          text={title}\n        />\n      );\n    };\n\n    return (\n      <div \n        ref={ref}\n        className={classes.join(' ')}\n        {...props}\n      >\n        {renderHeading()}\n        <div className=\"nhsuk-do-dont-list__content--feature\">\n          <ul className={listClasses.join(' ')} role=\"list\">\n            {items.map((item, index) => (\n              <li key={index}>\n                {renderIcon()}\n                {formatItemText(item.item)}\n              </li>\n            ))}\n          </ul>\n        </div>\n      </div>\n    );\n  }\n);\n\nDoDontList.displayName = 'DoDontList';\n","import React, { forwardRef } from 'react';\nimport './Expander.scss';\n\nexport interface ExpanderProps extends React.DetailsHTMLAttributes<HTMLDetailsElement> {\n  /** Text for the summary (visible part that can be clicked) */\n  summaryText?: string;\n  /** HTML content for the summary (overrides summaryText if provided) */\n  summaryHtml?: string;\n  /** Text content for the expander body */\n  text?: string;\n  /** HTML content for the expander body (overrides text if provided) */\n  html?: string;\n  /** Whether the expander should be open by default */\n  open?: boolean;\n  /** Additional CSS classes */\n  className?: string;\n  /** Unique identifier */\n  id?: string;\n  /** Child content (will override text/html props if provided) */\n  children?: React.ReactNode;\n}\n\n/**\n * Expander component for progressive disclosure with card-like styling\n * \n * An enhanced version of the Details component with card-like appearance,\n * plus/minus icons, and expanded touch targets for better usability.\n */\nexport const Expander = forwardRef<HTMLDetailsElement, ExpanderProps>(\n  (\n    {\n      summaryText,\n      summaryHtml,\n      text,\n      html,\n      open = false,\n      className = '',\n      id,\n      children,\n      ...props\n    },\n    ref\n  ) => {\n    const classes = [\n      'nhsuk-expander',\n      className\n    ].filter(Boolean).join(' ');\n\n    // Determine summary content\n    const summaryContent = summaryHtml ? (\n      <span\n        className=\"nhsuk-details__summary-text\"\n        dangerouslySetInnerHTML={{ __html: summaryHtml }}\n      />\n    ) : (\n      <span className=\"nhsuk-details__summary-text\">\n        {summaryText}\n      </span>\n    );\n\n    // Determine body content\n    let bodyContent;\n    if (children) {\n      bodyContent = children;\n    } else if (html) {\n      bodyContent = <div dangerouslySetInnerHTML={{ __html: html }} />;\n    } else if (text) {\n      bodyContent = text;\n    }\n\n    return (\n      <details\n        ref={ref}\n        id={id}\n        className={classes}\n        open={open}\n        {...props}\n      >\n        <summary className=\"nhsuk-details__summary\">\n          {summaryContent}\n        </summary>\n        <div className=\"nhsuk-details__text\">\n          {bodyContent}\n        </div>\n      </details>\n    );\n  }\n);\n\nExpander.displayName = 'Expander';\n\nexport default Expander;\n","import { forwardRef } from 'react';\nimport { Tag, TagProps } from '../Tag';\nimport './TaskList.scss';\n\nexport interface TaskListHint {\n  /** Plain text content for the hint */\n  text?: string;\n  /** HTML content for the hint (takes precedence over text) */\n  html?: string;\n}\n\nexport interface TaskListTitle {\n  /** Plain text content for the title */\n  text?: string;\n  /** HTML content for the title (takes precedence over text) */\n  html?: string;\n  /** Additional CSS classes for the title */\n  classes?: string;\n}\n\nexport interface TaskListStatusTag extends Omit<TagProps, 'children'> {\n  /** Text content for the tag */\n  text: string;\n}\n\nexport interface TaskListStatus {\n  /** Tag component props for rendering a status tag */\n  tag?: TaskListStatusTag;\n  /** Plain text status (used when tag is not provided) */\n  text?: string;\n  /** HTML status content (used when tag is not provided, takes precedence over text) */\n  html?: string;\n  /** Additional CSS classes for the status container */\n  classes?: string;\n}\n\nexport interface TaskListItem {\n  /** Title configuration for the task */\n  title: TaskListTitle;\n  /** Optional hint text to provide additional context */\n  hint?: TaskListHint;\n  /** Status configuration (can be tag, text, or HTML) */\n  status: TaskListStatus;\n  /** URL for the task link (makes the title clickable) */\n  href?: string;\n  /** Additional CSS classes for the task item */\n  classes?: string;\n}\n\nexport interface TaskListProps extends Omit<React.HTMLAttributes<HTMLUListElement>, 'children'> {\n  /** Array of task items to display */\n  items: TaskListItem[];\n  /** Prefix for generating unique IDs (defaults to 'task-list') */\n  idPrefix?: string;\n  /** Additional CSS classes for the task list container */\n  className?: string;\n}\n\n/**\n * TaskList component for displaying a list of tasks with statuses\n * \n * Use the task list to give users more control over how they complete long,\n * complex services. The task list component displays all the tasks a user\n * needs to do, and allows users to easily identify which ones are done and\n * which they still need to do.\n * \n * @example\n * ```tsx\n * <TaskList\n *   items={[\n *     {\n *       title: { text: 'Check eligibility' },\n *       href: '#',\n *       status: {\n *         text: 'Completed',\n *         classes: 'nhsuk-task-list__status--completed'\n *       }\n *     },\n *     {\n *       title: { text: 'Personal details' },\n *       hint: { text: 'Your name, address and contact details' },\n *       href: '#',\n *       status: {\n *         tag: {\n *           text: 'Incomplete',\n *           color: 'blue'\n *         }\n *       }\n *     },\n *     {\n *       title: { text: 'Submit application' },\n *       status: {\n *         text: 'Cannot start yet',\n *         classes: 'nhsuk-task-list__status--cannot-start-yet'\n *       }\n *     }\n *   ]}\n * />\n * ```\n */\nexport const TaskList = forwardRef<HTMLUListElement, TaskListProps>(\n  ({ items, idPrefix = 'task-list', className, ...props }, ref) => {\n    const classes = [\n      'nhsuk-task-list',\n      className\n    ].filter(Boolean).join(' ');\n\n    const renderTaskItem = (item: TaskListItem, index: number) => {\n      const itemIndex = index + 1;\n      const hintId = `${idPrefix}-${itemIndex}-hint`;\n      const statusId = `${idPrefix}-${itemIndex}-status`;\n      const hasLink = Boolean(item.href);\n\n      // Build item classes\n      const itemClasses = [\n        'nhsuk-task-list__item',\n        hasLink && 'nhsuk-task-list__item--with-link',\n        item.classes\n      ].filter(Boolean).join(' ');\n\n      // Build aria-describedby for accessibility\n      const ariaDescribedBy = [\n        item.hint && hintId,\n        statusId\n      ].filter(Boolean).join(' ');\n\n      return (\n        <TaskListItem\n          key={index}\n          item={item}\n          itemClasses={itemClasses}\n          hasLink={hasLink}\n          hintId={hintId}\n          statusId={statusId}\n          ariaDescribedBy={ariaDescribedBy}\n        />\n      );\n    };\n\n    return (\n      <ul\n        ref={ref}\n        className={classes}\n        {...props}\n      >\n        {items.map(renderTaskItem)}\n      </ul>\n    );\n  }\n);\n\n/**\n * Individual TaskList item component for better organization\n */\ninterface TaskListItemProps {\n  item: TaskListItem;\n  itemClasses: string;\n  hasLink: boolean;\n  hintId: string;\n  statusId: string;\n  ariaDescribedBy: string;\n}\n\nconst TaskListItem: React.FC<TaskListItemProps> = ({\n  item,\n  itemClasses,\n  hasLink,\n  hintId,\n  statusId,\n  ariaDescribedBy\n}) => {\n  const renderTitle = () => {\n    const titleContent = item.title.html ? (\n      <span dangerouslySetInnerHTML={{ __html: item.title.html }} />\n    ) : (\n      item.title.text\n    );\n\n    const titleClasses = [\n      hasLink ? 'nhsuk-task-list__link' : '',\n      item.title.classes\n    ].filter(Boolean).join(' ');\n\n    if (hasLink) {\n      return (\n        <a\n          className={titleClasses}\n          href={item.href}\n          aria-describedby={ariaDescribedBy}\n        >\n          {titleContent}\n        </a>\n      );\n    }\n\n    return (\n      <div className={item.title.classes || ''}>\n        {titleContent}\n      </div>\n    );\n  };\n\n  const renderHint = () => {\n    if (!item.hint) return null;\n\n    const hintContent = item.hint.html ? (\n      <div\n        id={hintId}\n        className=\"nhsuk-task-list__hint\"\n        dangerouslySetInnerHTML={{ __html: item.hint.html }}\n      />\n    ) : (\n      <div id={hintId} className=\"nhsuk-task-list__hint\">\n        {item.hint.text}\n      </div>\n    );\n\n    return hintContent;\n  };\n\n  const renderStatus = () => {\n    const statusClasses = [\n      'nhsuk-task-list__status',\n      item.status.classes\n    ].filter(Boolean).join(' ');\n\n    let statusContent;\n\n    if (item.status.tag) {\n      // Use the Tag component for tag status\n      statusContent = (\n        <Tag {...item.status.tag} />\n      );\n    } else if (item.status.html) {\n      statusContent = (\n        <span dangerouslySetInnerHTML={{ __html: item.status.html }} />\n      );\n    } else {\n      statusContent = item.status.text;\n    }\n\n    return (\n      <div className={statusClasses} id={statusId}>\n        {statusContent}\n      </div>\n    );\n  };\n\n  return (\n    <li className={itemClasses}>\n      <div className=\"nhsuk-task-list__name-and-hint\">\n        {renderTitle()}\n        {renderHint()}\n      </div>\n      {renderStatus()}\n    </li>\n  );\n};\n\nTaskList.displayName = 'TaskList';\n","import React, { createElement } from 'react';\nimport './WarningCallout.scss';\n\nexport interface WarningCalloutProps {\n  /**\n   * The heading text for the warning callout\n   */\n  heading: string;\n  \n  /**\n   * The heading level for the warning callout title\n   * @default 3\n   */\n  headingLevel?: 1 | 2 | 3 | 4 | 5 | 6;\n  \n  /**\n   * Text content to display in the warning callout\n   */\n  text?: string;\n  \n  /**\n   * HTML content to display in the warning callout (takes precedence over text)\n   */\n  html?: string;\n  \n  /**\n   * Children content to display in the warning callout (takes precedence over html and text)\n   */\n  children?: React.ReactNode;\n  \n  /**\n   * Additional CSS classes to apply to the warning callout\n   */\n  className?: string;\n  \n  /**\n   * Additional HTML attributes to apply to the warning callout\n   */\n  [key: string]: any;\n}\n\n/**\n * WarningCallout component for displaying important warnings and alerts\n * \n * Used to warn users about something important, like legal consequences of not doing something.\n * Has a yellow/amber background to stand out and grab attention.\n */\nexport const WarningCallout: React.FC<WarningCalloutProps> = ({\n  heading,\n  headingLevel = 3,\n  text,\n  html,\n  children,\n  className,\n  ...props\n}) => {\n  // Check if heading already contains \"Important\" (case insensitive)\n  const headingContainsImportant = /important/i.test(heading);\n  \n  const renderContent = () => {\n    if (children) {\n      return children;\n    }\n    \n    if (html) {\n      return <div dangerouslySetInnerHTML={{ __html: html }} />;\n    }\n    \n    if (text) {\n      return <p>{text}</p>;\n    }\n    \n    return null;\n  };\n\n  // Build CSS classes\n  const classes = [\n    'nhsuk-warning-callout',\n    className\n  ].filter(Boolean).join(' ');\n\n  const headingTag = `h${headingLevel}` as 'h1' | 'h2' | 'h3' | 'h4' | 'h5' | 'h6';\n\n  return (\n    <div\n      className={classes}\n      {...props}\n    >\n      {createElement(\n        headingTag,\n        { className: 'nhsuk-warning-callout__label' },\n        headingContainsImportant ? (\n          <>\n            {heading}\n            <span className=\"nhsuk-u-visually-hidden\">:</span>\n          </>\n        ) : (\n          <span role=\"text\">\n            <span className=\"nhsuk-u-visually-hidden\">Important: </span>\n            {heading}\n          </span>\n        )\n      )}\n      {renderContent()}\n    </div>\n  );\n};\n\nexport default WarningCallout;\n","import React from 'react';\nimport './Images.scss';\n\nexport interface ImagesProps extends React.HTMLAttributes<HTMLElement> {\n  /**\n   * The source location of the image (required)\n   */\n  src: string;\n  \n  /**\n   * The alt text of the image (required for accessibility)\n   */\n  alt: string;\n  \n  /**\n   * Optional caption text for the image\n   */\n  caption?: string;\n  \n  /**\n   * A list of screen sizes for the browser to load the correct image from the srcset images\n   */\n  sizes?: string;\n  \n  /**\n   * A list of image source URLs and their respective sizes. Separate each image with a comma.\n   */\n  srcset?: string;\n  \n  /**\n   * Additional CSS classes to apply to the image container\n   */\n  className?: string;\n}\n\n/**\n * Images component for displaying responsive images with optional captions\n * \n * Use this component to display images in a consistent way across the NHS service.\n * The component provides:\n * - Responsive image sizing (2/3 width on desktop, full width on mobile)\n * - Optional captions for describing image content\n * - Support for responsive images with srcset\n * - Consistent NHS styling with borders and spacing\n * \n * @param src - Image source URL (required)\n * @param alt - Alternative text for accessibility (required)\n * @param caption - Optional caption text\n * @param sizes - Optional responsive sizes attribute\n * @param srcset - Optional responsive image sources\n * @param className - Additional CSS classes\n * @param props - Additional HTML attributes\n */\nexport const Images: React.FC<ImagesProps> = ({\n  src,\n  alt,\n  caption,\n  sizes,\n  srcset,\n  className,\n  ...props\n}) => {\n  const classes = [\n    'nhsuk-image',\n    className\n  ].filter(Boolean).join(' ');\n\n  return (\n    <figure\n      className={classes}\n      {...props}\n    >\n      <img\n        className=\"nhsuk-image__img\"\n        src={src}\n        alt={alt}\n        {...(sizes && srcset ? { sizes, srcSet: srcset } : {})}\n      />\n      {caption && (\n        <figcaption \n          className=\"nhsuk-image__caption\"\n          dangerouslySetInnerHTML={{ __html: caption }}\n        />\n      )}\n    </figure>\n  );\n};\n\nexport default Images;\n","import React, { useRef, useState, useCallback, useEffect, useMemo } from 'react';\nimport classNames from 'classnames';\nimport { AriaDataGridProps } from './AriaDataGridTypes';\nimport './AriaTabsDataGrid.scss';\n\ntype NavigationMode = 'browse' | 'navigate';\ntype FocusArea = 'headers' | 'cells';\n\n/**\n * ARIA-compliant Data Grid Component\n * Provides comprehensive keyboard navigation and ARIA compliance for data tables\n * Following react-aria patterns with hierarchical navigation\n */\nexport const AriaDataGrid = React.forwardRef<HTMLTableElement, AriaDataGridProps>(\n  ({\n    data,\n    columns,\n    sortConfig,\n    onSort,\n    selectedRowIndex,\n    onRowSelect,\n    id,\n    testId,\n    ariaLabel,\n    ariaLabelledby,\n    ariaDescribedby,\n    className,\n    tableClassName,\n    bordered = false,\n    striped = false,\n    responsive = false,\n    tableType = 'default',\n  }, forwardedRef) => {\n  const tableRef = useRef<HTMLTableElement>(null);\n  const headerRowRef = useRef<HTMLTableRowElement>(null);\n  const tbodyRef = useRef<HTMLTableSectionElement>(null);\n\n  // Merge forwarded ref with internal ref\n  React.useImperativeHandle(forwardedRef, () => tableRef.current!, []);\n\n  // Navigation state following react-aria patterns\n  const [focusedRowIndex, setFocusedRowIndex] = useState<number>(0);\n  const [focusedColumnIndex, setFocusedColumnIndex] = useState<number>(0);\n  const [focusArea, setFocusArea] = useState<FocusArea>('headers');\n  const [navigationMode, setNavigationMode] = useState<NavigationMode>('browse');\n\n  const columnCount = columns.length;\n  const rowCount = data.length;\n\n    // Sort the data based on the current sort configuration\n  const sortedData = useMemo(() => {\n    if (!sortConfig || sortConfig.length === 0) return data;\n    \n    return [...data].sort((a, b) => {\n      // Apply each sort configuration in order\n      for (const { key, direction } of sortConfig) {\n        const aValue = a[key];\n        const bValue = b[key];\n        \n        if (aValue == null && bValue == null) continue;\n        if (aValue == null) return 1;\n        if (bValue == null) return -1;\n        \n        let comparison = 0;\n        if (typeof aValue === 'number' && typeof bValue === 'number') {\n          comparison = aValue - bValue;\n        } else {\n          comparison = String(aValue).localeCompare(String(bValue));\n        }\n        \n        if (comparison !== 0) {\n          return direction === 'asc' ? comparison : -comparison;\n        }\n      }\n      return 0;\n    });\n  }, [data, sortConfig]);\n\n  // Focus a specific cell and scroll it into view\n  const focusCell = useCallback((rowIndex: number, colIndex: number) => {\n    setTimeout(() => {\n      const targetCell = tableRef.current?.querySelector(\n        `tbody tr:nth-child(${rowIndex + 1}) td:nth-child(${colIndex + 1})`\n      );\n      if (targetCell) {\n        (targetCell as HTMLElement).focus();\n        // Check if scrollIntoView is available (may not be in test environments)\n        if (typeof targetCell.scrollIntoView === 'function') {\n          targetCell.scrollIntoView({\n            behavior: 'smooth',\n            block: 'center',\n            inline: 'nearest'\n          });\n        }\n      }\n    }, 0);\n  }, []);\n\n  // Focus a specific header and scroll it into view\n  const focusHeader = useCallback((colIndex: number) => {\n    setTimeout(() => {\n      const headerCell = tableRef.current?.querySelector(`th:nth-child(${colIndex + 1})`);\n      if (headerCell) {\n        (headerCell as HTMLElement).focus();\n        // Check if scrollIntoView is available (may not be in test environments)\n        if (typeof headerCell.scrollIntoView === 'function') {\n          headerCell.scrollIntoView({\n            behavior: 'smooth',\n            block: 'center',\n            inline: 'nearest'\n          });\n        }\n      }\n    }, 0);\n  }, []);\n\n  // Handle sorting when header is activated\n  const handleSort = useCallback((columnKey: string) => {\n    onSort?.(columnKey);\n  }, [onSort]);\n\n  // Handle row selection\n  const handleRowSelect = useCallback((rowIndex: number) => {\n    onRowSelect?.(rowIndex);\n  }, [onRowSelect]);\n\n  // React-aria style hierarchical keyboard navigation\n  const handleKeyDown = useCallback((event: React.KeyboardEvent) => {\n    const { key } = event;\n\n    switch (key) {\n      case 'Enter':\n        event.preventDefault();\n        \n        if (focusArea === 'headers' && navigationMode === 'browse') {\n          // Enter from header browse -> navigate within headers\n          setNavigationMode('navigate');\n          focusHeader(focusedColumnIndex);\n        } else if (focusArea === 'headers' && navigationMode === 'navigate') {\n          // Enter on a header -> sort the column\n          const currentColumn = columns[focusedColumnIndex];\n          if (currentColumn) {\n            handleSort(currentColumn.key);\n          }\n        } else if (focusArea === 'cells' && navigationMode === 'browse') {\n          // Enter from row browse -> navigate within that row\n          setNavigationMode('navigate');\n          focusCell(focusedRowIndex, focusedColumnIndex);\n        } else if (focusArea === 'cells' && navigationMode === 'navigate') {\n          // Enter on a cell -> select the row\n          handleRowSelect(focusedRowIndex);\n        }\n        break;\n        \n      case 'Escape':\n        event.preventDefault();\n        \n        if (focusArea === 'headers' && navigationMode === 'navigate') {\n          // Escape from header navigation -> header browse\n          setNavigationMode('browse');\n        } else if (focusArea === 'cells' && navigationMode === 'navigate') {\n          // Escape from cell navigation -> row browse\n          setNavigationMode('browse');\n        }\n        break;\n        \n      case 'ArrowLeft':\n        event.preventDefault();\n        if (navigationMode === 'navigate' || (navigationMode === 'browse' && focusArea === 'headers')) {\n          if (focusArea === 'headers') {\n            const newIndex = Math.max(0, focusedColumnIndex - 1);\n            setFocusedColumnIndex(newIndex);\n            focusHeader(newIndex);\n          } else if (focusArea === 'cells') {\n            const newIndex = Math.max(0, focusedColumnIndex - 1);\n            setFocusedColumnIndex(newIndex);\n            focusCell(focusedRowIndex, newIndex);\n          }\n        }\n        break;\n        \n      case 'ArrowRight':\n        event.preventDefault();\n        if (navigationMode === 'navigate' || (navigationMode === 'browse' && focusArea === 'headers')) {\n          if (focusArea === 'headers') {\n            const newIndex = Math.min(columnCount - 1, focusedColumnIndex + 1);\n            setFocusedColumnIndex(newIndex);\n            focusHeader(newIndex);\n          } else if (focusArea === 'cells') {\n            const newIndex = Math.min(columnCount - 1, focusedColumnIndex + 1);\n            setFocusedColumnIndex(newIndex);\n            focusCell(focusedRowIndex, newIndex);\n          }\n        }\n        break;\n        \n      case 'ArrowUp':\n        event.preventDefault();\n        if (focusArea === 'cells') {\n          if (navigationMode === 'browse') {\n            // Browse mode: move to previous row\n            const newIndex = Math.max(0, focusedRowIndex - 1);\n            setFocusedRowIndex(newIndex);\n            focusCell(newIndex, 0);\n            setFocusedColumnIndex(0);\n          } else if (navigationMode === 'navigate') {\n            // Navigate mode: move to previous row in same column\n            if (focusedRowIndex > 0) {\n              const newIndex = focusedRowIndex - 1;\n              setFocusedRowIndex(newIndex);\n              focusCell(newIndex, focusedColumnIndex);\n            } else {\n              // Move back to headers\n              setFocusArea('headers');\n              setNavigationMode('browse');\n              focusHeader(focusedColumnIndex);\n            }\n          }\n        }\n        break;\n        \n      case 'ArrowDown':\n        event.preventDefault();\n        if (focusArea === 'headers' && navigationMode === 'browse') {\n          // From headers browse mode, move to first row browse mode\n          setFocusArea('cells');\n          setFocusedRowIndex(0);\n          setFocusedColumnIndex(0);\n          focusCell(0, 0);\n        } else if (focusArea === 'cells') {\n          const maxRowIndex = rowCount - 1;\n          if (navigationMode === 'browse') {\n            // Browse mode: move to next row\n            const newIndex = Math.min(maxRowIndex, focusedRowIndex + 1);\n            setFocusedRowIndex(newIndex);\n            focusCell(newIndex, 0);\n            setFocusedColumnIndex(0);\n          } else if (navigationMode === 'navigate') {\n            // Navigate mode: move to next row in same column\n            if (focusedRowIndex < maxRowIndex) {\n              const newIndex = focusedRowIndex + 1;\n              setFocusedRowIndex(newIndex);\n              focusCell(newIndex, focusedColumnIndex);\n            }\n          }\n        }\n        break;\n\n      case 'Home':\n        event.preventDefault();\n        if (focusArea === 'headers') {\n          setFocusedColumnIndex(0);\n          focusHeader(0);\n        } else if (focusArea === 'cells') {\n          if (event.ctrlKey) {\n            // Ctrl+Home: go to first cell\n            setFocusedRowIndex(0);\n            setFocusedColumnIndex(0);\n            focusCell(0, 0);\n          } else {\n            // Home: go to first column in current row\n            setFocusedColumnIndex(0);\n            focusCell(focusedRowIndex, 0);\n          }\n        }\n        break;\n\n      case 'End':\n        event.preventDefault();\n        if (focusArea === 'headers') {\n          const lastIndex = columnCount - 1;\n          setFocusedColumnIndex(lastIndex);\n          focusHeader(lastIndex);\n        } else if (focusArea === 'cells') {\n          if (event.ctrlKey) {\n            // Ctrl+End: go to last cell\n            const lastRow = rowCount - 1;\n            const lastCol = columnCount - 1;\n            setFocusedRowIndex(lastRow);\n            setFocusedColumnIndex(lastCol);\n            focusCell(lastRow, lastCol);\n          } else {\n            // End: go to last column in current row\n            const lastCol = columnCount - 1;\n            setFocusedColumnIndex(lastCol);\n            focusCell(focusedRowIndex, lastCol);\n          }\n        }\n        break;\n\n      case ' ':\n        event.preventDefault();\n        if (focusArea === 'headers' && navigationMode === 'navigate') {\n          // Space on header -> sort\n          const currentColumn = columns[focusedColumnIndex];\n          if (currentColumn) {\n            handleSort(currentColumn.key);\n          }\n        } else if (focusArea === 'cells' && navigationMode === 'navigate') {\n          // Space on cell -> select row\n          handleRowSelect(focusedRowIndex);\n        }\n        break;\n    }\n  }, [\n    focusArea,\n    navigationMode,\n    focusedColumnIndex,\n    focusedRowIndex,\n    columnCount,\n    rowCount,\n    columns,\n    focusCell,\n    focusHeader,\n    handleSort,\n    handleRowSelect\n  ]);\n\n  // Initialize keyboard navigation\n  useEffect(() => {\n    const table = tableRef.current;\n    if (table) {\n      table.addEventListener('keydown', handleKeyDown as any);\n      return () => table.removeEventListener('keydown', handleKeyDown as any);\n    }\n  }, [handleKeyDown]);\n\n  const tableClasses = classNames(\n    'nhsuk-table',\n    tableClassName,\n    {\n      'nhsuk-table--responsive': responsive,\n      'nhsuk-table--bordered': bordered,\n      'nhsuk-table--striped': striped,\n      'nhsuk-table--compact': tableType === 'compact',\n    },\n    className\n  );\n\n  return (\n    <table\n      ref={tableRef}\n      className={tableClasses}\n      id={id}\n      data-testid={testId}\n      role=\"grid\"\n      aria-label={ariaLabel}\n      aria-labelledby={ariaLabelledby}\n      aria-describedby={ariaDescribedby}\n      tabIndex={0}\n    >\n      <thead className=\"nhsuk-table__head\" role=\"rowgroup\">\n        <tr ref={headerRowRef} role=\"row\">\n          {columns.map((column, colIndex) => {\n            const sortInfo = sortConfig?.find(config => config.key === column.key);\n            const isSorted = !!sortInfo;\n            const isFocused = focusArea === 'headers' && focusedColumnIndex === colIndex;\n\n            return (\n              <th\n                key={column.key}\n                className={classNames('sortable-header', {\n                  'sortable-header--focused': isFocused\n                })}\n                role=\"columnheader\"\n                tabIndex={isFocused ? 0 : -1}\n                onClick={() => handleSort(column.key)}\n                onKeyDown={(e) => {\n                  if (e.key === 'Enter' || e.key === ' ') {\n                    e.preventDefault();\n                    handleSort(column.key);\n                  }\n                }}\n                aria-sort={isSorted ? (sortInfo?.direction === 'asc' ? 'ascending' : 'descending') : 'none'}\n              >\n                <div className=\"header-content\">\n                  <span className=\"header-label\">\n                    {column.label}\n                  </span>\n                  {isSorted && (\n                    <span className=\"sort-indicator\" aria-hidden=\"true\">\n                      {sortConfig && sortConfig.length > 1 && (\n                        <span className=\"sort-priority\">\n                          {sortConfig.findIndex(config => config.key === column.key) + 1}\n                        </span>\n                      )}\n                      <svg\n                        width=\"12\"\n                        height=\"12\"\n                        viewBox=\"0 0 12 12\"\n                        fill=\"currentColor\"\n                        className=\"sort-arrow\"\n                      >\n                        {sortInfo?.direction === 'asc' ? (\n                          <path d=\"M6 2L2 8h8L6 2z\" />\n                        ) : (\n                          <path d=\"M6 10L2 4h8L6 10z\" />\n                        )}\n                      </svg>\n                    </span>\n                  )}\n                </div>\n              </th>\n            );\n          })}\n        </tr>\n      </thead>\n      <tbody ref={tbodyRef} className=\"nhsuk-table__body\" role=\"rowgroup\">\n        {sortedData.map((row, rowIndex) => {\n          const isSelected = selectedRowIndex === rowIndex;\n          const isRowFocused = focusArea === 'cells' && focusedRowIndex === rowIndex;\n          \n          return (\n            <tr\n              key={rowIndex}\n              role=\"row\"\n              className={classNames('data-row', {\n                'data-row--selected': isSelected,\n                'data-row--focused': isRowFocused\n              })}\n              aria-selected={isSelected}\n            >\n              {columns.map((column, colIndex) => {\n                const value = column.render ? column.render(row) : row[column.key];\n                const isCellFocused = focusArea === 'cells' && \n                                    focusedRowIndex === rowIndex && \n                                    focusedColumnIndex === colIndex;\n\n                // Handle boolean values with accessible text\n                const renderValue = () => {\n                  if (typeof value === 'boolean') {\n                    return (\n                      <>\n                        <span aria-hidden=\"true\">{value ? '' : ''}</span>\n                        <span className=\"sr-only\">{value ? 'Yes' : 'No'}</span>\n                      </>\n                    );\n                  }\n                  return String(value ?? '');\n                };\n\n                return (\n                  <td\n                    key={column.key}\n                    role=\"gridcell\"\n                    className={classNames('data-cell', {\n                      'data-cell--focused': isCellFocused\n                    })}\n                    tabIndex={isCellFocused ? 0 : -1}\n                    onClick={() => handleRowSelect(rowIndex)}\n                  >\n                    {renderValue()}\n                  </td>\n                );\n              })}\n            </tr>\n          );\n        })}\n      </tbody>\n    </table>\n  );\n});\n\nAriaDataGrid.displayName = 'AriaDataGrid';\n\nexport default AriaDataGrid;\n","/**\n * Sort Status Control Component\n * \n * Displays and manages sort configuration for data tables with interactive tags\n * allowing users to view, reorder, toggle direction, and remove sorts.\n */\n\nimport React, { useCallback, useMemo, useRef } from 'react';\nimport { Button } from '../../Button/Button';\nimport { Tag } from '../../Tag/Tag';\nimport { TagColor } from '../../Tag/Tag.types';\nimport { SortConfig } from '../AriaDataGridTypes';\nimport './SortStatusControl.scss';\n\n/**\n * Column definition for labeling sorts\n */\nexport interface SortColumn {\n  key: string;\n  label: string;\n}\n\n/**\n * Props for the SortStatusControl component\n */\nexport interface SortStatusControlProps {\n  /** Current sort configuration array */\n  sortConfig: SortConfig[];\n  /** Available columns for labeling sorts */\n  columns: SortColumn[];\n  /** Callback when sort configuration changes */\n  onSortChange: (newSortConfig: SortConfig[]) => void;\n  /** Optional CSS class name for styling */\n  className?: string;\n  /** Optional description text when no sorts are active */\n  emptyDescription?: React.ReactNode;\n  /** Optional description text when sorts are active */\n  activeDescription?: React.ReactNode;\n  /** Show/hide the reset button */\n  showReset?: boolean;\n  /** Show/hide the help text */\n  showHelp?: boolean;\n  /** Disable all interactions */\n  disabled?: boolean;\n  /** ARIA label for the sort status region */\n  ariaLabel?: string;\n  /** Additional ARIA describedby IDs */\n  ariaDescribedBy?: string;\n}\n\nexport const SortStatusControl: React.FC<SortStatusControlProps> = ({\n  sortConfig,\n  columns,\n  onSortChange,\n  className = '',\n  emptyDescription = 'No sorting applied',\n  activeDescription,\n  showReset = true,\n  showHelp = true,\n  disabled = false,\n  ariaLabel = 'Sort configuration',\n  ariaDescribedBy\n}) => {\n  const containerRef = useRef<HTMLDivElement>(null);\n\n  // Drag and drop state\n  const draggedItem = useRef<string | null>(null);\n  const draggedOverItem = useRef<string | null>(null);\n\n  // Handle drag start\n  const handleDragStart = useCallback((e: React.DragEvent, key: string) => {\n    if (disabled) return;\n    draggedItem.current = key;\n    e.dataTransfer.effectAllowed = 'move';\n    e.dataTransfer.setData('text/plain', key);\n  }, [disabled]);\n\n  // Handle drag over\n  const handleDragOver = useCallback((e: React.DragEvent, key: string) => {\n    if (disabled || draggedItem.current === key) return;\n    e.preventDefault();\n    e.dataTransfer.dropEffect = 'move';\n    draggedOverItem.current = key;\n  }, [disabled]);\n\n  // Handle drop\n  const handleDrop = useCallback((e: React.DragEvent, targetKey: string) => {\n    if (disabled) return;\n    e.preventDefault();\n    \n    const sourceKey = draggedItem.current;\n    if (!sourceKey || sourceKey === targetKey) return;\n\n    const sourceIndex = sortConfig.findIndex(config => config.key === sourceKey);\n    const targetIndex = sortConfig.findIndex(config => config.key === targetKey);\n    \n    if (sourceIndex !== -1 && targetIndex !== -1) {\n      const newConfig = [...sortConfig];\n      const [draggedConfig] = newConfig.splice(sourceIndex, 1);\n      newConfig.splice(targetIndex, 0, draggedConfig);\n      onSortChange(newConfig);\n    }\n\n    // Reset drag state\n    draggedItem.current = null;\n    draggedOverItem.current = null;\n  }, [disabled, sortConfig, onSortChange]);\n\n  // Handle drag end\n  const handleDragEnd = useCallback(() => {\n    draggedItem.current = null;\n    draggedOverItem.current = null;\n  }, []);\n\n  // Helper function to get column label by key\n  const getColumnLabel = useCallback((key: string): string => {\n    const column = columns.find(col => col.key === key);\n    return column ? column.label : key;\n  }, [columns]);\n\n  // Get priority color based on index (matching the sort priority colors)\n  const getPriorityColor = useCallback((index: number): TagColor => {\n    const colorMap: TagColor[] = ['red', 'orange', 'blue', 'aqua-green', 'grey'];\n    return colorMap[index] || 'grey';\n  }, []);\n\n  // Handle direction toggle for a specific sort\n  const handleDirectionToggle = useCallback((sortKey: string) => {\n    if (disabled) return;\n    \n    const updatedConfig = sortConfig.map(config =>\n      config.key === sortKey\n        ? { ...config, direction: config.direction === 'asc' ? 'desc' as const : 'asc' as const }\n        : config\n    );\n    onSortChange(updatedConfig);\n  }, [sortConfig, onSortChange, disabled]);\n\n  // Handle removing a sort\n  const handleRemove = useCallback((sortKey: string) => {\n    if (disabled) return;\n    \n    const filteredConfig = sortConfig.filter(config => config.key !== sortKey);\n    onSortChange(filteredConfig);\n  }, [sortConfig, onSortChange, disabled]);\n\n  // Handle resetting all sorts\n  const handleReset = useCallback(() => {\n    if (disabled) return;\n    onSortChange([]);\n  }, [onSortChange, disabled]);\n\n  // Generate description text\n  const getSortDescription = (): React.ReactNode => {\n    if (sortConfig.length === 0) {\n      return emptyDescription;\n    }\n\n    if (activeDescription) {\n      return activeDescription;\n    }\n\n    const sortDescriptions = sortConfig.map((sort, index) => {\n      const direction = sort.direction === 'asc' ? 'ascending' : 'descending';\n      return `${index + 1}. ${getColumnLabel(sort.key)} (${direction})`;\n    });\n\n    if (sortDescriptions.length === 1) {\n      return `Sorted by: ${sortDescriptions[0]}`;\n    } else if (sortDescriptions.length === 2) {\n      return `Sorted by: ${sortDescriptions.join(' and ')}`;\n    } else {\n      const lastItem = sortDescriptions.pop();\n      return `Sorted by: ${sortDescriptions.join(', ')}, and ${lastItem}`;\n    }\n  };\n\n  // Build ARIA describedby\n  const describedBy = useMemo(() => {\n    const ids = ['sort-description'];\n    if (showHelp) ids.push('sort-help');\n    if (ariaDescribedBy) ids.push(ariaDescribedBy);\n    return ids.join(' ');\n  }, [showHelp, ariaDescribedBy]);\n\n  // If no sorts active, show empty state\n  if (sortConfig.length === 0) {\n    return (\n      <div className={`sort-status-control ${className}`}>\n        {/* Screen reader description */}\n        <div \n          className=\"sort-status-control__description\"\n          id=\"sort-description\"\n          aria-live=\"polite\"\n        >\n          {emptyDescription}\n        </div>\n        \n        {/* Help text */}\n        {showHelp && (\n          <div className=\"sort-status-control__help\" id=\"sort-help\">\n            <small>\n              Drag tags to reorder priority. Click tags or / buttons to toggle ascending/descending. Click  to remove a sort.\n            </small>\n          </div>\n        )}\n      </div>\n    );\n  }\n\n  return (\n    <div className={`sort-status-control ${className}`}>\n      {/* Screen reader description */}\n      <div \n        className=\"sort-status-control__description sort-status-control__description--active\"\n        id=\"sort-description\"\n        aria-live=\"polite\"\n      >\n        { getSortDescription() }\n      </div>\n\t\t  <div className=\"sort-status-container\">\n\t\t\t{/* Sort tags container */}\n\t\t\t<div \n\t\t\t\tref={containerRef}\n\t\t\t\tclassName=\"sort-status-control__tags\"\n\t\t\t\trole=\"list\"\n\t\t\t\taria-label={ariaLabel}\n\t\t\t\taria-describedby={describedBy}\n\t\t\t>\n\t\t\t\t{ sortConfig.map((config, index) => (\n\t\t\t\t\t<div\n\t\t\t\t\t\tkey={config.key}\n\t\t\t\t\t\tclassName=\"sort-status-control__tag-container\"\n\t\t\t\t\t\trole=\"listitem\"\n\t\t\t\t\t\tdraggable={!disabled}\n\t\t\t\t\t\tonDragStart={(e) => handleDragStart(e, config.key)}\n\t\t\t\t\t\tonDragOver={(e) => handleDragOver(e, config.key)}\n\t\t\t\t\t\tonDrop={(e) => handleDrop(e, config.key)}\n\t\t\t\t\t\tonDragEnd={handleDragEnd}\n\t\t\t\t\t\tonClick={() => handleDirectionToggle(config.key)}\n\t\t\t\t\t\tstyle={{ cursor: disabled ? 'default' : 'pointer' }}\n\t\t\t\t\t\ttitle={disabled ? '' : `Click to toggle sort direction. Currently ${config.direction === 'asc' ? 'ascending' : 'descending'}`}\n\t\t\t\t\t\tdata-key={config.key}\n\t\t\t\t\t>\n\t\t\t\t\t\t<Tag\n\t\t\t\t\t\t\tcolor={getPriorityColor(index)}\n\t\t\t\t\t\t\tclassName=\"sort-status-control__tag\"\n\t\t\t\t\t\t\tclosable\n\t\t\t\t\t\t\tonClose={() => handleRemove(config.key)}\n\t\t\t\t\t\t\tdisabled={disabled}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<div className=\"sort-status-control__tag-content\">\n\t\t\t\t\t\t\t\t{/* Drag handle */}\n\t\t\t\t\t\t\t\t<div className=\"sort-status-control__drag-handle\" title=\"Drag to reorder\">\n\t\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t\t{/* Priority number */}\n\t\t\t\t\t\t\t\t<div className={`sort-status-control__priority-badge sort-priority sort-priority--priority-${index + 1}`}>\n\t\t\t\t\t\t\t\t\t\t{index + 1}\n\t\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t\t{/* Column label */}\n\t\t\t\t\t\t\t\t<span className=\"sort-status-control__tag-label\">\n\t\t\t\t\t\t\t\t\t\t{getColumnLabel(config.key)}\n\t\t\t\t\t\t\t\t</span>\n\n\t\t\t\t\t\t\t\t{/* Direction toggle button */}\n\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\t\t\t\tclassName=\"sort-status-control__direction-button\"\n\t\t\t\t\t\t\t\t\tonClick={(e) => {\n\t\t\t\t\t\t\t\t\t\te.stopPropagation(); // Prevent tag click handler from firing\n\t\t\t\t\t\t\t\t\t\thandleDirectionToggle(config.key);\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\tdisabled={disabled}\n\t\t\t\t\t\t\t\t\taria-label={`Toggle sort direction for ${getColumnLabel(config.key)}. Currently ${config.direction === 'asc' ? 'ascending' : 'descending'}`}\n\t\t\t\t\t\t\t\t\ttitle=\"Click to toggle between ascending and descending\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<span className={`sort-status-control__direction-icon sort-status-control__direction-icon--${config.direction}`}>\n\t\t\t\t\t\t\t\t\t\t<svg \n\t\t\t\t\t\t\t\t\t\t\tclassName={`nhsuk-icon sort-status-control__chevron sort-status-control__chevron--${config.direction}`}\n\t\t\t\t\t\t\t\t\t\t\txmlns=\"http://www.w3.org/2000/svg\" \n\t\t\t\t\t\t\t\t\t\t\tviewBox=\"0 0 24 24\" \n\t\t\t\t\t\t\t\t\t\t\taria-hidden=\"true\" \n\t\t\t\t\t\t\t\t\t\t\tfocusable=\"false\"\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t<path d=\"M15.5 12a1 1 0 0 1-.29.71l-5 5a1 1 0 0 1-1.42-1.42l4.3-4.29-4.3-4.29a1 1 0 0 1 1.42-1.42l5 5a1 1 0 0 1 .29.71z\" />\n\t\t\t\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</Tag>\n\t\t\t\t\t</div>\n\t\t\t\t))}\n\t\t\t</div>\n\t\t\t{/* Reset button */}\n\t\t\t{showReset && (\n\t\t\t\t<div className=\"sort-status-control__actions\">\n\t\t\t\t\t<Button\n\t\t\t\t\t\tvariant=\"secondary\"\n\t\t\t\t\t\tonClick={handleReset}\n\t\t\t\t\t\tisDisabled={disabled}\n\t\t\t\t\t\taria-label=\"Reset all sorting\"\n\t\t\t\t\t\tclassName=\"sort-status-control__reset-button\"\n\t\t\t\t\t>\n\t\t\t\t\t\tClear All Sorts\n\t\t\t\t\t</Button>\n\t\t\t\t</div>\n\t\t\t)}\n\t  </div>\n\n      {/* Instructions for users */}\n      {showHelp && (\n        <div className=\"sort-status-control__help\" id=\"sort-help\">\n          <small>\n            Drag tags to reorder priority. Click tags or / buttons to toggle ascending/descending. Click  to remove a sort.\n          </small>\n        </div>\n      )}\n    </div>\n  );\n};\n","import React, { useReducer, useCallback, useMemo, useRef, useImperativeHandle, forwardRef, useEffect, useState } from 'react';\nimport { \n  AriaTabsDataGridProps, \n  AriaTabsDataGridState, \n  AriaTabsDataGridAction\n} from './AriaTabsDataGridTypes';\nimport { SortConfig } from './AriaDataGridTypes';\nimport './AriaTabsDataGrid.scss';\nimport { SortStatusControl } from \"./SortStatusControl/SortStatusControl\";\n\n/**\n * Navigation focus areas for hierarchical keyboard navigation\n */\ntype FocusArea = 'tabs' | 'headers' | 'cells';\n\n/**\n * Navigation state for hierarchical keyboard navigation\n */\ninterface NavigationState {\n  focusArea: FocusArea;\n  focusedTabIndex: number;\n  focusedHeaderIndex: number;\n  focusedRowIndex: number;\n  focusedColumnIndex: number;\n  isGridActive: boolean; // Whether we're in grid navigation mode (like GanttChart's timeline active)\n}\n \nfunction tabsDataGridReducer(\n  state: AriaTabsDataGridState, \n  action: AriaTabsDataGridAction\n): AriaTabsDataGridState {\n  switch (action.type) {\n    case 'SET_SELECTED_INDEX':\n      return { ...state, selectedIndex: action.payload };\n    \n    case 'SET_TAB_LOADING':\n      const newLoadingStates = [...state.tabLoadingStates];\n      newLoadingStates[action.payload.tabIndex] = action.payload.isLoading;\n      return { ...state, tabLoadingStates: newLoadingStates };\n    \n    case 'SET_TAB_ERROR':\n      const newErrors = [...state.tabErrors];\n      newErrors[action.payload.tabIndex] = action.payload.error;\n      return { ...state, tabErrors: newErrors };\n    \n    case 'SET_SORT':\n      return { ...state, sortConfig: action.payload };\n    \n    case 'SET_SELECTED_ROWS':\n      const newSelectedRows = [...state.selectedRows];\n      newSelectedRows[action.payload.tabIndex] = action.payload.rowIndices;\n      return { ...state, selectedRows: newSelectedRows };\n    \n    case 'SET_GLOBAL_SELECTED_ROW_DATA':\n      return { ...state, globalSelectedRowData: action.payload };\n    \n    case 'SET_FILTERS':\n      return { ...state, filters: action.payload };\n    \n    case 'ADJUST_ARRAYS':\n      const { newLength } = action.payload;\n      const adjustedLoadingStates = new Array(newLength).fill(false);\n      const adjustedErrors = new Array(newLength).fill(null);\n      const adjustedSelectedRows = new Array(newLength).fill([]);\n      \n      // Copy existing states up to the minimum length\n      for (let i = 0; i < Math.min(state.tabLoadingStates.length, newLength); i++) {\n        adjustedLoadingStates[i] = state.tabLoadingStates[i];\n        adjustedErrors[i] = state.tabErrors[i];\n        adjustedSelectedRows[i] = state.selectedRows[i];\n      }\n      \n      return {\n        ...state,\n        tabLoadingStates: adjustedLoadingStates,\n        tabErrors: adjustedErrors,\n        selectedRows: adjustedSelectedRows\n      };\n    \n    case 'RESET_STATE':\n      return {\n        selectedIndex: 0,\n        tabLoadingStates: new Array(state.tabLoadingStates.length).fill(false),\n        tabErrors: new Array(state.tabErrors.length).fill(null),\n        sortConfig: [],\n        selectedRows: new Array(state.selectedRows.length).fill([]),\n        globalSelectedRowData: null,\n        filters: undefined\n      };\n    \n    default:\n      return state;\n  }\n}\n\n/**\n * Component reference interface for imperative actions\n */\nexport interface AriaTabsDataGridRef {\n  selectTab: (index: number) => void;\n  refreshData: (tabIndex?: number) => void;\n  exportData: (tabIndex?: number) => any[];\n  getSelectedRows: (tabIndex?: number) => number[];\n  clearSelection: (tabIndex?: number) => void;\n  applyFilters: (filters: any) => void;\n}\n\n/**\n * Integrated Tabs and DataGrid component with full ARIA compliance\n */\nexport const AriaTabsDataGrid = forwardRef<AriaTabsDataGridRef, AriaTabsDataGridProps>(\n  function AriaTabsDataGrid(props, ref) {\n    const {\n      dataConfig = {},\n      tabPanels,\n      selectedIndex: selectedIndexProp,\n      onTabChange,\n      onGlobalRowSelectionChange,\n      ariaLabel,\n      ariaDescription,\n      className = '',\n      disabled = false,\n      orientation = 'horizontal',\n      id,\n      isLoading = false,\n      loadingComponent,\n      error = null,\n      errorComponent,\n      'data-testid': dataTestId\n    } = props;\n\n    // Extract data operation functions with defaults\n  const {\n    dataComparator = (a: any, b: any) => JSON.stringify(a) === JSON.stringify(b),\n    filterFunction = (data: any[]) => data,\n    booleanRenderer = (value: any) => value ? '' : ''\n  } = dataConfig || {};    // Determine if component is controlled\n    const isControlled = selectedIndexProp !== undefined;\n    const selectedIndex = selectedIndexProp ?? 0;\n\n    // Navigation state for hierarchical keyboard navigation (like GanttChart)\n    const [navigationState, setNavigationState] = useState<NavigationState>({\n      focusArea: 'tabs',\n      focusedTabIndex: selectedIndex,\n      focusedHeaderIndex: 0,\n      focusedRowIndex: 0,\n      focusedColumnIndex: 0,\n      isGridActive: false\n    });\n\n    // Initialize state with empty sort configuration to avoid contamination\n    const initialState: AriaTabsDataGridState = useMemo(() => {\n      // Don't combine initial sort configs - let users build their own sorting\n      // This prevents \"mega-filter\" effects and state reset issues\n      return {\n        selectedIndex,\n        tabLoadingStates: new Array(tabPanels.length).fill(false),\n        tabErrors: new Array(tabPanels.length).fill(null),\n        sortConfig: [], // Start with empty sort config\n        selectedRows: new Array(tabPanels.length).fill([]),\n        globalSelectedRowData: null,\n        filters: undefined\n      };\n    }, [selectedIndex]); // Remove tabPanels dependency to prevent state resets\n\n    const [state, dispatch] = useReducer(tabsDataGridReducer, initialState);\n\n    // Handle tabPanels length changes without resetting sort configuration\n    useEffect(() => {\n      const currentLength = state.tabLoadingStates.length;\n      const newLength = tabPanels.length;\n      \n      if (currentLength !== newLength) {\n        // Adjust array lengths while preserving existing sort configuration\n        dispatch({ type: 'ADJUST_ARRAYS', payload: { newLength } });\n      }\n    }, [tabPanels.length]);\n\n    // Controlled component support - sync selectedIndex when it changes externally\n    useEffect(() => {\n      if (isControlled) {\n        dispatch({ type: 'SET_SELECTED_INDEX', payload: selectedIndex });\n      }\n    }, [selectedIndex, isControlled]);\n\n    // Handle global row selection callback\n    useEffect(() => {\n      if (onGlobalRowSelectionChange) {\n        onGlobalRowSelectionChange(state.globalSelectedRowData);\n      }\n    }, [state.globalSelectedRowData, onGlobalRowSelectionChange]);\n\n    // Generic data equality check using provided or default comparator\n    const isDataEqual = useCallback((data1: any, data2: any): boolean => {\n      return dataComparator(data1, data2);\n    }, [dataComparator]);\n\n    // Handle tab selection with keyboard support\n    const handleTabSelect = useCallback((index: number) => {\n      if (index >= 0 && index < tabPanels.length && !tabPanels[index].disabled) {\n        dispatch({ type: 'SET_SELECTED_INDEX', payload: index });\n        onTabChange?.(index);\n      }\n    }, [tabPanels, onTabChange]);\n\n    // Hierarchical keyboard navigation handlers (inspired by GanttChart)\n    const handleTabKeyDown = useCallback((event: React.KeyboardEvent, index: number) => {\n      const { key } = event;\n      \n      switch (key) {\n        case 'ArrowLeft':\n          event.preventDefault();\n          const prevIndex = index > 0 ? index - 1 : tabPanels.length - 1;\n          handleTabSelect(prevIndex);\n          setNavigationState(prev => ({ ...prev, focusedTabIndex: prevIndex }));\n          tabRefs.current[prevIndex]?.focus();\n          break;\n        \n        case 'ArrowRight':\n          event.preventDefault();\n          const nextIndex = index < tabPanels.length - 1 ? index + 1 : 0;\n          handleTabSelect(nextIndex);\n          setNavigationState(prev => ({ ...prev, focusedTabIndex: nextIndex }));\n          tabRefs.current[nextIndex]?.focus();\n          break;\n        \n        case 'ArrowDown':\n          event.preventDefault();\n          // Navigate to headers of the current tab's grid\n          setNavigationState(prev => ({ \n            ...prev, \n            focusArea: 'headers',\n            focusedHeaderIndex: 0\n          }));\n          focusGridHeader(0);\n          break;\n        \n        case 'Home':\n          event.preventDefault();\n          handleTabSelect(0);\n          setNavigationState(prev => ({ ...prev, focusedTabIndex: 0 }));\n          tabRefs.current[0]?.focus();\n          break;\n        \n        case 'End':\n          event.preventDefault();\n          const lastIndex = tabPanels.length - 1;\n          handleTabSelect(lastIndex);\n          setNavigationState(prev => ({ ...prev, focusedTabIndex: lastIndex }));\n          tabRefs.current[lastIndex]?.focus();\n          break;\n        \n        case 'Enter':\n        case ' ':\n          event.preventDefault();\n          handleTabSelect(index);\n          break;\n      }\n    }, [tabPanels.length, handleTabSelect]);\n\n    // Tab refs for individual tabs\n    const tabRefs = useRef<(HTMLButtonElement | null)[]>([]);\n    const panelRefs = useRef<(HTMLDivElement | null)[]>([]);\n\n    // Sort handlers for global sort configuration - cycles through asc -> desc -> none (remove)\n    const handleSort = useCallback((tabIndex: number, key: string) => {\n      const currentSort = state.sortConfig || [];\n      const existingSort = currentSort.find((sort: SortConfig) => sort.key === key);\n      \n      let newSortConfig: SortConfig[];\n      if (existingSort) {\n        if (existingSort.direction === 'asc') {\n          // Change to descending\n          newSortConfig = currentSort.map((sort: SortConfig) => \n            sort.key === key \n              ? { ...sort, direction: 'desc' as const }\n              : sort\n          );\n        } else {\n          // Remove the sort (desc -> none)\n          newSortConfig = currentSort.filter((sort: SortConfig) => sort.key !== key);\n        }\n      } else {\n        // Add new sort starting with ascending - append to end to maintain priority order\n        newSortConfig = [...currentSort, { key, direction: 'asc' as const }];\n      }\n\n      dispatch({ \n        type: 'SET_SORT', \n        payload: newSortConfig\n      });\n\n      // Call custom sort handler if provided\n      const panel = tabPanels[tabIndex];\n      panel.onSort?.(key as any);\n    }, [state.sortConfig, tabPanels]);\n\n    // Focus management utilities\n    const focusGridHeader = useCallback((headerIndex: number) => {\n      setTimeout(() => {\n        const headerElement = document.querySelector(\n          `[data-tab-panel=\"${state.selectedIndex}\"] th:nth-child(${headerIndex + 1})`\n        ) as HTMLElement;\n        if (headerElement) {\n          headerElement.focus();\n        }\n      }, 0);\n    }, [state.selectedIndex]);\n\n    // Reset all global sorts\n    // const handleResetSorts = useCallback(() => {\n    //   dispatch({ \n    //     type: 'SET_SORT', \n    //     payload: []\n    //   });\n    // }, []);\n\n    // Generate sort description text showing all global sorts\n    // const getCurrentSortDescription = useCallback(() => {\n    //   const currentSorts = state.sortConfig || [];\n    //   \n    //   if (currentSorts.length === 0) {\n    //     return 'No sorting applied';\n    //   }\n\n    //   // Show all global sorts with column labels where available\n    //   const sortDescriptions = currentSorts.map((sort: SortConfig, index: number) => {\n    //     // Find the column definition across all tabs\n    //     let columnLabel = sort.key;\n    //     for (const panel of tabPanels) {\n    //       const column = panel.columns.find(col => col.key === sort.key);\n    //       if (column) {\n    //         columnLabel = column.label;\n    //         break;\n    //       }\n    //     }\n    //     \n    //     const direction = sort.direction === 'asc' ? 'ascending' : 'descending';\n    //     return `${index + 1}. ${columnLabel} (${direction})`;\n    //   });\n\n    //   // Join with proper grammar: commas and 'and' before the last item\n    //   let sortText: string;\n    //   if (sortDescriptions.length === 1) {\n    //     sortText = sortDescriptions[0];\n    //   } else if (sortDescriptions.length === 2) {\n    //     sortText = sortDescriptions.join(' and ');\n    //   } else {\n    //     const lastItem = sortDescriptions.pop();\n    //     sortText = sortDescriptions.join(', ') + ', and ' + lastItem;\n    //   }\n\n    //   return `Sorted by: ${sortText}`;\n    // }, [state.sortConfig, tabPanels]);\n\n    // Configurable boolean rendering function\n    const renderBooleanIcon = useCallback((value: boolean) => {\n      return booleanRenderer(value);\n    }, [booleanRenderer]);\n\n    const focusGridCell = useCallback((rowIndex: number, colIndex: number) => {\n      setTimeout(() => {\n        const cellElement = document.querySelector(\n          `[data-tab-panel=\"${state.selectedIndex}\"] tbody tr:nth-child(${rowIndex + 1}) td:nth-child(${colIndex + 1})`\n        ) as HTMLElement;\n        if (cellElement) {\n          cellElement.focus();\n        }\n      }, 0);\n    }, [state.selectedIndex]);\n\n    // Grid header navigation (similar to GanttChart date navigation)\n    const handleHeaderKeyDown = useCallback((event: React.KeyboardEvent, headerIndex: number) => {\n      const { key } = event;\n      const currentPanel = tabPanels[state.selectedIndex];\n      const columnCount = currentPanel?.columns.length || 0;\n\n      switch (key) {\n        case 'ArrowLeft':\n          event.preventDefault();\n          const prevHeaderIndex = Math.max(0, headerIndex - 1);\n          setNavigationState(prev => ({ ...prev, focusedHeaderIndex: prevHeaderIndex }));\n          focusGridHeader(prevHeaderIndex);\n          break;\n        \n        case 'ArrowRight':\n          event.preventDefault();\n          const nextHeaderIndex = Math.min(columnCount - 1, headerIndex + 1);\n          setNavigationState(prev => ({ ...prev, focusedHeaderIndex: nextHeaderIndex }));\n          focusGridHeader(nextHeaderIndex);\n          break;\n        \n        case 'ArrowUp':\n          event.preventDefault();\n          // Navigate back to tabs\n          setNavigationState(prev => ({ \n            ...prev, \n            focusArea: 'tabs',\n            focusedTabIndex: state.selectedIndex\n          }));\n          tabRefs.current[state.selectedIndex]?.focus();\n          break;\n        \n        case 'ArrowDown':\n          event.preventDefault();\n          // Navigate to grid cells\n          setNavigationState(prev => ({ \n            ...prev, \n            focusArea: 'cells',\n            focusedRowIndex: 0,\n            focusedColumnIndex: headerIndex,\n            isGridActive: true\n          }));\n          focusGridCell(0, headerIndex);\n          break;\n        \n        case 'Home':\n          event.preventDefault();\n          setNavigationState(prev => ({ ...prev, focusedHeaderIndex: 0 }));\n          focusGridHeader(0);\n          break;\n        \n        case 'End':\n          event.preventDefault();\n          const lastHeaderIndex = columnCount - 1;\n          setNavigationState(prev => ({ ...prev, focusedHeaderIndex: lastHeaderIndex }));\n          focusGridHeader(lastHeaderIndex);\n          break;\n        \n        case 'Enter':\n        case ' ':\n          event.preventDefault();\n          // Sort by this column\n          const columnKey = currentPanel?.columns[headerIndex]?.key;\n          if (columnKey) {\n            handleSort(state.selectedIndex, columnKey);\n          }\n          break;\n      }\n    }, [tabPanels, state.selectedIndex, handleSort, setNavigationState, focusGridHeader, focusGridCell, tabRefs]);\n\n    // Grid cell navigation (similar to GanttChart task navigation)\n    const handleCellKeyDown = useCallback((event: React.KeyboardEvent, rowIndex: number, colIndex: number) => {\n      const { key } = event;\n      const currentPanel = tabPanels[state.selectedIndex];\n      const rowCount = currentPanel?.data.length || 0;\n      const columnCount = currentPanel?.columns.length || 0;\n\n      // Grid navigation mode (moving between cells)\n      switch (key) {\n        case 'ArrowUp':\n          event.preventDefault();\n          if (rowIndex === 0) {\n            // Navigate to headers\n            setNavigationState(prev => ({ \n              ...prev, \n              focusArea: 'headers',\n              focusedHeaderIndex: colIndex,\n              isGridActive: false\n            }));\n            focusGridHeader(colIndex);\n          } else {\n            const newRowIndex = rowIndex - 1;\n            setNavigationState(prev => ({ ...prev, focusedRowIndex: newRowIndex }));\n            focusGridCell(newRowIndex, colIndex);\n          }\n          break;\n        \n        case 'ArrowDown':\n          event.preventDefault();\n          const newRowIndex = Math.min(rowCount - 1, rowIndex + 1);\n          setNavigationState(prev => ({ ...prev, focusedRowIndex: newRowIndex }));\n          focusGridCell(newRowIndex, colIndex);\n          break;\n        \n        case 'ArrowLeft':\n          event.preventDefault();\n          const newColIndex = Math.max(0, colIndex - 1);\n          setNavigationState(prev => ({ ...prev, focusedColumnIndex: newColIndex }));\n          focusGridCell(rowIndex, newColIndex);\n          break;\n        \n        case 'ArrowRight':\n          event.preventDefault();\n          const nextColIndex = Math.min(columnCount - 1, colIndex + 1);\n          setNavigationState(prev => ({ ...prev, focusedColumnIndex: nextColIndex }));\n          focusGridCell(rowIndex, nextColIndex);\n          break;\n        \n        case 'Home':\n          event.preventDefault();\n          if (event.ctrlKey) {\n            // Go to first cell\n            setNavigationState(prev => ({ ...prev, focusedRowIndex: 0, focusedColumnIndex: 0 }));\n            focusGridCell(0, 0);\n          } else {\n            // Go to first column in current row\n            setNavigationState(prev => ({ ...prev, focusedColumnIndex: 0 }));\n            focusGridCell(rowIndex, 0);\n          }\n          break;\n        \n        case 'End':\n          event.preventDefault();\n          if (event.ctrlKey) {\n            // Go to last cell\n            const lastRow = rowCount - 1;\n            const lastCol = columnCount - 1;\n            setNavigationState(prev => ({ ...prev, focusedRowIndex: lastRow, focusedColumnIndex: lastCol }));\n            focusGridCell(lastRow, lastCol);\n          } else {\n            // Go to last column in current row\n            const lastCol = columnCount - 1;\n            setNavigationState(prev => ({ ...prev, focusedColumnIndex: lastCol }));\n            focusGridCell(rowIndex, lastCol);\n          }\n          break;\n        \n        case 'Enter':\n        case ' ': // Space key\n          event.preventDefault();\n          // Handle row selection - we'll get the row data from currentPanel.data\n          if (currentPanel && currentPanel.data[rowIndex]) {\n            // Get filtered data\n            const displayData = currentPanel.data.some((item: any) => 'ews_data' in item) \n              ? filterFunction(currentPanel.data, state.filters)\n              : currentPanel.data;\n\n            // Sort the data based on the global sort configuration\n            const sortConfig = state.sortConfig;\n            let sortedData = displayData;\n            if (sortConfig && sortConfig.length > 0) {\n              sortedData = [...displayData].sort((a: any, b: any) => {\n                // Apply each sort configuration in order\n                for (const { key, direction } of sortConfig) {\n                  let aValue = a[key];\n                  let bValue = b[key];\n\n                  // Handle rendered values\n                  const column = currentPanel.columns.find(col => col.key === key);\n                  if (column?.render) {\n                    aValue = column.render(a);\n                    bValue = column.render(b);\n                  }\n\n                  // Handle null/undefined values\n                  if (aValue == null && bValue == null) continue;\n                  if (aValue == null) return direction === 'asc' ? -1 : 1;\n                  if (bValue == null) return direction === 'asc' ? 1 : -1;\n\n                  // Type-specific comparison\n                  let result = 0;\n                  if (typeof aValue === 'number' && typeof bValue === 'number') {\n                    result = aValue - bValue;\n                  } else {\n                    result = String(aValue).localeCompare(String(bValue), undefined, { numeric: true, sensitivity: 'base' });\n                  }\n\n                  if (result !== 0) {\n                    return direction === 'asc' ? result : -result;\n                  }\n                }\n                return 0;\n              });\n            }\n            \n            if (sortedData[rowIndex]) {\n              const row = sortedData[rowIndex];\n              const isCurrentlySelected = state.globalSelectedRowData && isDataEqual(state.globalSelectedRowData, row);\n              const newSelectedRowData = isCurrentlySelected ? null : row;\n              dispatch({\n                type: 'SET_GLOBAL_SELECTED_ROW_DATA',\n                payload: newSelectedRowData\n              });\n            }\n          }\n          break;\n      }\n    }, [tabPanels, state.selectedIndex, state.filters, state.sortConfig, filterFunction, isDataEqual, dispatch, setNavigationState, focusGridHeader, focusGridCell]);\n\n    // Configurable filter function\n    const getFilteredData = useCallback((data: any[], filters?: any): any[] => {\n      return filterFunction(data, filters);\n    }, [filterFunction]);\n\n    // Imperative API\n    useImperativeHandle(ref, () => ({\n      selectTab: (index: number) => {\n        if (index >= 0 && index < tabPanels.length) {\n          dispatch({ type: 'SET_SELECTED_INDEX', payload: index });\n          onTabChange?.(index);\n        }\n      },\n      refreshData: (tabIndex?: number) => {\n        // Implementation for data refresh\n        console.log('Refreshing data for tab:', tabIndex ?? 'all');\n      },\n      exportData: (tabIndex?: number) => {\n        const targetIndex = tabIndex ?? state.selectedIndex;\n        const panel = tabPanels[targetIndex];\n        return panel ? panel.data : [];\n      },\n      getSelectedRows: (_tabIndex?: number) => {\n        // Return global selected row as an array for backwards compatibility\n        // For global row selection, we need to find the row index of the selected data\n        // This requires the sortedData to be available in this scope\n        const selectedRows = state.globalSelectedRowData ? [] : []; // We'll handle this in the render where sortedData is available\n        return selectedRows;\n      },\n      clearSelection: (_tabIndex?: number) => {\n        // Clear global selection instead of per-tab selection\n        dispatch({\n          type: 'SET_GLOBAL_SELECTED_ROW_DATA',\n          payload: null\n        });\n      },\n      applyFilters: (filters: any) => {\n        dispatch({ type: 'SET_FILTERS', payload: filters });\n      }\n    }), [state.selectedIndex, state.selectedRows, tabPanels, onTabChange]);\n\n    // Loading state\n    if (isLoading) {\n      return (\n        <div className={`aria-tabs-datagrid aria-tabs-datagrid--loading ${className}`} data-testid={dataTestId}>\n          {loadingComponent || (\n            <div className=\"aria-tabs-datagrid__loading\">\n              <div className=\"nhsuk-spinner\" role=\"status\" aria-label=\"Loading data\">\n                <span className=\"nhsuk-u-visually-hidden\">Loading...</span>\n              </div>\n            </div>\n          )}\n        </div>\n      );\n    }\n\n    // Error state\n    if (error) {\n      return (\n        <div className={`aria-tabs-datagrid aria-tabs-datagrid--error ${className}`} data-testid={dataTestId}>\n          {errorComponent || (\n            <div className=\"aria-tabs-datagrid__error\" role=\"alert\">\n              <h3 className=\"nhsuk-error-summary__title\">Error loading data</h3>\n              <p>{error}</p>\n            </div>\n          )}\n        </div>\n      );\n    }\n\n    return (\n      <div \n        className={`aria-tabs-datagrid aria-tabs-datagrid--${orientation} ${className}`}\n        id={id}\n        data-testid={dataTestId}\n      >\n        {/* Keyboard Navigation Instructions (Screen Reader Only) */}\n        <div className=\"aria-tabs-datagrid__navigation-help sr-only\" id={`${id}-navigation-help`}>\n          Keyboard navigation: Use Tab to move between tabs and grid. Arrow keys navigate within tabs and grid cells. \n          Enter activates tabs and sorts columns. Arrow Down from tabs moves to table headers. \n          Arrow Down from headers moves to table cells. Use Arrow keys to navigate between cells.\n        </div>\n\n        <SortStatusControl\n          sortConfig={state.sortConfig || []}\n          columns={tabPanels.flatMap(panel => \n            panel.columns.map(col => ({ key: col.key, label: col.label }))\n          ).filter((col, index, arr) => \n            arr.findIndex(c => c.key === col.key) === index // Remove duplicates\n          )}\n          onSortChange={(newSortConfig) => {\n            dispatch({ type: 'SET_SORT', payload: newSortConfig });\n          }}\n          ariaLabel=\"Data grid sort configuration\"\n        />\n\n        {/* Tab List with Manual ARIA Implementation */}\n        <div \n          role=\"tablist\"\n          aria-label={ariaLabel}\n          aria-describedby={`${ariaDescription || ''} ${id ? `${id}-navigation-help` : ''}`.trim()}\n          aria-orientation={orientation}\n          className=\"aria-tabs-datagrid__tabs\"\n        >\n          {tabPanels.map((panel, index) => {\n            const isSelected = index === state.selectedIndex;\n            const isDisabled = panel.disabled || disabled;\n\n            return (\n              <button\n                key={panel.id}\n                role=\"tab\"\n                id={`tab-${panel.id}`}\n                aria-controls={`panel-${panel.id}`}\n                aria-selected={isSelected}\n                aria-disabled={isDisabled}\n                tabIndex={isSelected ? 0 : -1}\n                ref={el => { tabRefs.current[index] = el; }}\n                onClick={() => handleTabSelect(index)}\n                onKeyDown={(event) => handleTabKeyDown(event, index)}\n                disabled={isDisabled}\n                className={`\n                  aria-tabs-datagrid__tab\n                  ${isSelected ? 'aria-tabs-datagrid__tab--selected' : ''}\n                  ${isDisabled ? 'aria-tabs-datagrid__tab--disabled' : ''}\n                `.trim()}\n              >\n                <span className=\"aria-tabs-datagrid__tab-label\">{panel.label}</span>\n                {state.tabLoadingStates[index] && (\n                  <span className=\"aria-tabs-datagrid__tab-loading\" aria-hidden=\"true\"></span>\n                )}\n                {state.tabErrors[index] && (\n                  <span className=\"aria-tabs-datagrid__tab-error\" aria-hidden=\"true\"></span>\n                )}\n              </button>\n            );\n          })}\n        </div>\n\n        {/* Tab Panels */}\n        {tabPanels.map((panel, index) => {\n          const isSelected = index === state.selectedIndex;\n\n          return (\n            <div\n              key={panel.id}\n              role=\"tabpanel\"\n              id={`panel-${panel.id}`}\n              aria-labelledby={`tab-${panel.id}`}\n              tabIndex={0}\n              hidden={!isSelected}\n              ref={el => { panelRefs.current[index] = el; }}\n              className={`aria-tabs-datagrid__panel ${panel.className || ''}`}\n              data-tab-panel={index}\n            >\n              {isSelected && (\n                (() => {\n                  // Get filtered data - check if it has healthcare structure\n                  const displayData = panel.data.some((item: any) => 'ews_data' in item) \n                    ? getFilteredData(panel.data, state.filters)\n                    : panel.data;\n\n                  // Sort the data based on the global sort configuration\n                  const sortedData = useMemo(() => {\n                    const sortConfig = state.sortConfig;\n                    if (!sortConfig || sortConfig.length === 0) return displayData;\n                    \n                    return [...displayData].sort((a, b) => {\n                      // Apply each sort configuration in order\n                      for (const { key, direction } of sortConfig) {\n                        let aValue = a[key];\n                        let bValue = b[key];\n\n                        // Handle rendered values\n                        const column = panel.columns.find(col => col.key === key);\n                        if (column?.render) {\n                          aValue = column.render(a);\n                          bValue = column.render(b);\n                        }\n                        \n                        if (aValue == null && bValue == null) continue;\n                        if (aValue == null) return 1;\n                        if (bValue == null) return -1;\n                        \n                        let comparison = 0;\n                        if (typeof aValue === 'number' && typeof bValue === 'number') {\n                          comparison = aValue - bValue;\n                        } else if (typeof aValue === 'boolean' && typeof bValue === 'boolean') {\n                          comparison = aValue === bValue ? 0 : aValue ? 1 : -1;\n                        } else {\n                          // Use natural string comparison for strings that may contain numbers\n                          comparison = String(aValue).localeCompare(String(bValue), undefined, { \n                            numeric: true, \n                            sensitivity: 'base' \n                          });\n                        }\n                        \n                        if (comparison !== 0) {\n                          return direction === 'asc' ? comparison : -comparison;\n                        }\n                      }\n                      return 0;\n                    });\n                  }, [displayData, state.sortConfig, panel.columns]);\n\n                  return (\n                    <table\n                      className=\"nhsuk-table aria-tabs-datagrid__grid\"\n                      role=\"grid\"\n                      aria-label={panel.ariaLabel}\n                      aria-describedby={panel.ariaDescription}\n                    >\n                      <thead className=\"nhsuk-table__head\" role=\"rowgroup\">\n                        <tr role=\"row\">\n                          {panel.columns.map((column, colIndex) => {\n                            const sortInfo = state.sortConfig?.find((config: SortConfig) => config.key === column.key);\n                            const isSorted = !!sortInfo;\n                            const isFocused = navigationState.focusArea === 'headers' && \n                                            navigationState.focusedHeaderIndex === colIndex;\n\n                            return (\n                              <th\n                                key={column.key}\n                                className={`sortable-header ${isFocused ? 'sortable-header--focused' : ''}`}\n                                role=\"columnheader\"\n                                tabIndex={isFocused ? 0 : -1}\n                                onClick={() => handleSort(index, column.key)}\n                                onKeyDown={(e) => handleHeaderKeyDown(e, colIndex)}\n                                aria-sort={isSorted ? (sortInfo?.direction === 'asc' ? 'ascending' : 'descending') : 'none'}\n                              >\n                                <div className=\"header-content\">\n                                  <span className=\"header-label\">\n                                    {column.label}\n                                  </span>\n                                  <div className={`sort-indicator-container ${isSorted ? `sort-indicator--${sortInfo?.direction}` : ''}`}>\n                                    {/* Show sort priority when any sort is configured and this column is sorted */}\n                                    {state.sortConfig && state.sortConfig.length > 0 && \n                                     state.sortConfig.findIndex((config: SortConfig) => config.key === column.key) !== -1 && (\n                                      <span \n                                        className={`sort-priority sort-priority--priority-${state.sortConfig.findIndex((config: SortConfig) => config.key === column.key) + 1}`}\n                                        data-priority={state.sortConfig.findIndex((config: SortConfig) => config.key === column.key) + 1}\n                                        title={`Sort priority: ${state.sortConfig.findIndex((config: SortConfig) => config.key === column.key) + 1}`}\n                                      >\n                                        {state.sortConfig.findIndex((config: SortConfig) => config.key === column.key) + 1}\n                                      </span>\n                                    )}\n                                    {/* Show sort arrow only when column is actually sorted */}\n                                    {isSorted && (\n                                      <svg\n                                        className={`nhsuk-icon sort-arrow sort-arrow--${sortInfo?.direction}`}\n                                        xmlns=\"http://www.w3.org/2000/svg\" \n                                        viewBox=\"0 0 24 24\" \n                                        aria-hidden=\"true\" \n                                        focusable=\"false\"\n                                      >\n                                        <path d=\"M15.5 12a1 1 0 0 1-.29.71l-5 5a1 1 0 0 1-1.42-1.42l4.3-4.29-4.3-4.29a1 1 0 0 1 1.42-1.42l5 5a1 1 0 0 1 .29.71z\" />\n                                      </svg>\n                                    )}\n                                  </div>\n                                </div>\n                              </th>\n                            );\n                          })}\n                        </tr>\n                      </thead>\n                      <tbody className=\"nhsuk-table__body\" role=\"rowgroup\">\n                        {sortedData.map((row, rowIndex) => {\n                          // Use global row selection instead of per-tab selection\n                          const isRowSelected = state.globalSelectedRowData && isDataEqual(state.globalSelectedRowData, row);\n                          const isRowFocused = navigationState.focusArea === 'cells' && \n                                              navigationState.focusedRowIndex === rowIndex;\n                          \n                          return (\n                            <tr\n                              key={rowIndex}\n                              role=\"row\"\n                              className={`data-row ${isRowSelected ? 'data-row--selected' : ''} ${isRowFocused ? 'data-row--focused' : ''}`}\n                              aria-selected={isRowSelected}\n                            >\n                              {panel.columns.map((column, colIndex) => {\n                                const value = column.render ? column.render(row) : row[column.key];\n                                const isCellFocused = navigationState.focusArea === 'cells' && \n                                                    navigationState.focusedRowIndex === rowIndex && \n                                                    navigationState.focusedColumnIndex === colIndex;\n\n                                // Handle boolean values with NHS-compliant rendering\n                                const renderValue = () => {\n                                  if (typeof value === 'boolean') {\n                                    return (\n                                      <>\n                                        {renderBooleanIcon(value)}\n                                        <span className=\"nhsuk-u-visually-hidden\">{value ? 'Yes' : 'No'}</span>\n                                      </>\n                                    );\n                                  }\n                                  return String(value ?? '');\n                                };\n\n                                return (\n                                  <td\n                                    key={column.key}\n                                    role=\"gridcell\"\n                                    className={`data-cell ${isCellFocused ? 'data-cell--focused' : ''}`}\n                                    tabIndex={isCellFocused ? 0 : -1}\n                                    onClick={() => {\n                                      // Toggle global row selection - if same row clicked, deselect it\n                                      const isCurrentlySelected = state.globalSelectedRowData && isDataEqual(state.globalSelectedRowData, row);\n                                      const newSelectedRowData = isCurrentlySelected ? null : row;\n                                      dispatch({\n                                        type: 'SET_GLOBAL_SELECTED_ROW_DATA',\n                                        payload: newSelectedRowData\n                                      });\n                                    }}\n                                    onKeyDown={(e) => handleCellKeyDown(e, rowIndex, colIndex)}\n                                  >\n                                    {renderValue()}\n                                  </td>\n                                );\n                              })}\n                            </tr>\n                          );\n                        })}\n                      </tbody>\n                    </table>\n                  );\n                })()\n              )}\n            </div>\n          );\n        })}\n      </div>\n    );\n  }\n);\n\n\n","import React, { useState, useEffect } from 'react';\nimport { AriaTabsDataGrid } from './AriaTabsDataGrid';\nimport { AriaTabsDataGridAdaptiveProps, LayoutMode, ViewportConfig } from './AriaTabsDataGridAdaptiveTypes';\nimport './AriaTabsDataGridAdaptive.scss';\n\n/**\n * Hook for responsive layout detection\n */\nfunction useResponsiveLayout(breakpoints: ViewportConfig, forceLayout?: LayoutMode): LayoutMode {\n  const [layout, setLayout] = useState<LayoutMode>('cards');\n\n  useEffect(() => {\n    if (forceLayout) {\n      setLayout(forceLayout);\n      return;\n    }\n\n    const updateLayout = () => {\n      const width = window.innerWidth;\n      \n      if (width < breakpoints.mobile) {\n        setLayout('cards');\n      } else if (width < breakpoints.desktop) {\n        setLayout('hybrid');\n      } else {\n        setLayout('table');\n      }\n    };\n\n    updateLayout();\n    window.addEventListener('resize', updateLayout);\n    return () => window.removeEventListener('resize', updateLayout);\n  }, [breakpoints, forceLayout]);\n\n  return layout;\n}\n\n/**\n * Adaptive AriaTabsDataGrid with mobile-first card layout\n */\nexport const AriaTabsDataGridAdaptive: React.FC<AriaTabsDataGridAdaptiveProps> = ({\n  breakpoints = { mobile: 768, tablet: 1024, desktop: 1200 },\n  forceLayout,\n  cardConfig = {},\n  experimental = {},\n  ...props\n}) => {\n  const layout = useResponsiveLayout(breakpoints, forceLayout);\n  \n  const {\n    primaryField = props.tabPanels[0]?.columns[0]?.key,\n    secondaryFields = props.tabPanels[0]?.columns.slice(1, 3).map(col => col.key) || [],\n    badgeFields = [],\n    hiddenFields = [],\n    cardTemplate\n  } = cardConfig;\n\n  // Mobile-first card implementation\n  if (layout === 'cards') {\n    return (\n      <div className={`aria-tabs-datagrid-adaptive aria-tabs-datagrid-adaptive--cards ${props.className || ''}`}>\n        {/* Tab navigation remains the same */}\n        <div role=\"tablist\" className=\"aria-tabs-datagrid-adaptive__tabs\">\n          {props.tabPanels.map((panel, index) => (\n            <button\n              key={panel.id}\n              role=\"tab\"\n              className={`aria-tabs-datagrid-adaptive__tab ${index === 0 ? 'aria-tabs-datagrid-adaptive__tab--selected' : ''}`}\n            >\n              {panel.label}\n            </button>\n          ))}\n        </div>\n\n        {/* Card-based data presentation */}\n        <div className=\"aria-tabs-datagrid-adaptive__cards\" role=\"grid\">\n          {props.tabPanels[0]?.data.map((row, index) => (\n            <div\n              key={index}\n              className=\"aria-tabs-datagrid-adaptive__card\"\n              role=\"gridcell\"\n              tabIndex={0}\n            >\n              {cardTemplate ? (\n                cardTemplate(row, props.tabPanels[0].columns)\n              ) : (\n                <DefaultCardTemplate\n                  row={row}\n                  columns={props.tabPanels[0].columns}\n                  primaryField={primaryField}\n                  secondaryFields={secondaryFields}\n                  badgeFields={badgeFields}\n                  hiddenFields={hiddenFields}\n                />\n              )}\n            </div>\n          ))}\n        </div>\n      </div>\n    );\n  }\n\n  // Hybrid mode for tablets\n  if (layout === 'hybrid') {\n    return (\n      <div className={`aria-tabs-datagrid-adaptive aria-tabs-datagrid-adaptive--hybrid ${props.className || ''}`}>\n        {/* Enhanced table with card-like spacing */}\n        <AriaTabsDataGrid {...props} className=\"aria-tabs-datagrid-adaptive__table--hybrid\" />\n      </div>\n    );\n  }\n\n  // Desktop table mode\n  return <AriaTabsDataGrid {...props} />;\n};\n\n/**\n * Default card template following NHS design patterns\n */\ninterface DefaultCardTemplateProps {\n  row: any;\n  columns: any[];\n  primaryField?: string;\n  secondaryFields: string[];\n  badgeFields: string[];\n  hiddenFields: string[];\n}\n\nconst DefaultCardTemplate: React.FC<DefaultCardTemplateProps> = ({\n  row,\n  columns,\n  primaryField,\n  secondaryFields,\n  badgeFields,\n  hiddenFields\n}) => {\n  const primaryColumn = columns.find(col => col.key === primaryField);\n  const primaryValue = primaryColumn?.render ? primaryColumn.render(row) : row[primaryField || ''];\n\n  return (\n    <>\n      {/* Card Header */}\n      <div className=\"aria-tabs-datagrid-adaptive__card-header\">\n        <h3 className=\"aria-tabs-datagrid-adaptive__card-title\">\n          {primaryValue}\n        </h3>\n        \n        {/* Badge fields */}\n        {badgeFields.length > 0 && (\n          <div className=\"aria-tabs-datagrid-adaptive__card-badges\">\n            {badgeFields.map(fieldKey => {\n              const column = columns.find(col => col.key === fieldKey);\n              const value = column?.render ? column.render(row) : row[fieldKey];\n              return (\n                <span key={fieldKey} className=\"nhsuk-tag aria-tabs-datagrid-adaptive__card-badge\">\n                  {value}\n                </span>\n              );\n            })}\n          </div>\n        )}\n      </div>\n\n      {/* Card Body */}\n      <div className=\"aria-tabs-datagrid-adaptive__card-body\">\n        {secondaryFields.map(fieldKey => {\n          const column = columns.find(col => col.key === fieldKey);\n          if (!column || hiddenFields.includes(fieldKey)) return null;\n          \n          const value = column.render ? column.render(row) : row[fieldKey];\n          \n          return (\n            <div key={fieldKey} className=\"aria-tabs-datagrid-adaptive__card-field\">\n              <dt className=\"aria-tabs-datagrid-adaptive__card-field-label\">\n                {column.label}\n              </dt>\n              <dd className=\"aria-tabs-datagrid-adaptive__card-field-value\">\n                {typeof value === 'boolean' ? (value ? '' : '') : String(value ?? '')}\n              </dd>\n            </div>\n          );\n        })}\n      </div>\n\n      {/* Card Actions */}\n      <div className=\"aria-tabs-datagrid-adaptive__card-actions\">\n        <button className=\"nhsuk-button nhsuk-button--secondary\" type=\"button\">\n          View Details\n        </button>\n      </div>\n    </>\n  );\n};\n\nexport default AriaTabsDataGridAdaptive;\n","/**\n * Sort Status Control Component Types\n */\n\nimport { ReactNode } from 'react';\n\n/**\n * Individual sort configuration for a column\n */\nexport interface SortConfig {\n  /** Unique identifier for the sort column */\n  id: string;\n  /** Display label for the sort column */\n  label: string;\n  /** Sort direction - ascending or descending */\n  direction: 'asc' | 'desc';\n  /** Priority order for multi-column sorting (0 = highest priority) */\n  priority: number;\n}\n\n/**\n * Props for the SortStatusControl component\n */\nexport interface SortStatusControlProps {\n  /** Current sort configuration array */\n  sortConfig: SortConfig[];\n  /** Callback when sort configuration changes */\n  onSortChange: (newSortConfig: SortConfig[]) => void;\n  /** Optional CSS class name for styling */\n  className?: string;\n  /** Optional description text when no sorts are active */\n  emptyDescription?: ReactNode;\n  /** Optional description text when sorts are active */\n  activeDescription?: ReactNode;\n  /** Show/hide the reset button */\n  showReset?: boolean;\n  /** Show/hide the help text */\n  showHelp?: boolean;\n  /** Maximum number of sorts allowed */\n  maxSorts?: number;\n  /** Disable all interactions */\n  disabled?: boolean;\n  /** ARIA label for the sort status region */\n  ariaLabel?: string;\n  /** Additional ARIA describedby IDs */\n  ariaDescribedBy?: string;\n}\n\n/**\n * Internal event handlers for sort operations\n */\nexport interface SortStatusHandlers {\n  /** Toggle sort direction for a specific sort */\n  handleDirectionToggle: (sortId: string) => void;\n  /** Move a sort up in priority */\n  handleMoveUp: (sortId: string) => void;\n  /** Move a sort down in priority */\n  handleMoveDown: (sortId: string) => void;\n  /** Remove a sort from the configuration */\n  handleRemove: (sortId: string) => void;\n  /** Reset all sorts */\n  handleReset: () => void;\n}\n\n/**\n * Helper type for sort direction labels\n */\nexport type SortDirectionLabel = {\n  asc: string;\n  desc: string;\n};\n\n/**\n * Default sort direction labels\n */\nexport const DEFAULT_DIRECTION_LABELS: SortDirectionLabel = {\n  asc: '',\n  desc: ''\n};\n\n/**\n * Utility type for creating new sort configs\n */\nexport type CreateSortConfig = Omit<SortConfig, 'priority'>;\n\n/**\n * Utility function type for sorting the sort configs by priority\n */\nexport type SortConfigSorter = (configs: SortConfig[]) => SortConfig[];\n\n/**\n * Helper function to create a new sort config\n */\nexport function createSortConfig(\n  id: string,\n  label: string,\n  direction: 'asc' | 'desc' = 'asc'\n): CreateSortConfig {\n  return { id, label, direction };\n}\n\n/**\n * Helper function to sort configs by priority\n */\nexport const sortByPriority: SortConfigSorter = (configs) =>\n  [...configs].sort((a, b) => a.priority - b.priority);\n\n/**\n * Helper function to reassign priorities after reordering\n */\nexport function reassignPriorities(configs: SortConfig[]): SortConfig[] {\n  return configs.map((config, index) => ({\n    ...config,\n    priority: index\n  }));\n}\n\n/**\n * Helper function to validate sort configuration\n */\nexport function validateSortConfig(config: SortConfig): boolean {\n  return (\n    typeof config.id === 'string' &&\n    config.id.trim().length > 0 &&\n    typeof config.label === 'string' &&\n    config.label.trim().length > 0 &&\n    (config.direction === 'asc' || config.direction === 'desc') &&\n    typeof config.priority === 'number' &&\n    config.priority >= 0\n  );\n}\n\n/**\n * Helper function to find max priority in config array\n */\nexport function getMaxPriority(configs: SortConfig[]): number {\n  return configs.length > 0 ? Math.max(...configs.map(c => c.priority)) : -1;\n}\n\n/**\n * Helper function to check if a sort can move up\n */\nexport function canMoveUp(sortId: string, configs: SortConfig[]): boolean {\n  const sort = configs.find(c => c.id === sortId);\n  return sort ? sort.priority > 0 : false;\n}\n\n/**\n * Helper function to check if a sort can move down\n */\nexport function canMoveDown(sortId: string, configs: SortConfig[]): boolean {\n  const sort = configs.find(c => c.id === sortId);\n  const maxPriority = getMaxPriority(configs);\n  return sort ? sort.priority < maxPriority : false;\n}\n","/**\n * Sort Status Control Component\n * \n * Displays and manages sort configuration for data tables with interactive tags\n * allowing users to view, reorder, toggle direction, and remove sorts.\n */\n\nimport React, { useCallback, useMemo } from 'react';\nimport { Button } from '../Button/Button';\nimport { Tag } from '../Tag/Tag';\nimport { \n  SortStatusControlProps, \n  DEFAULT_DIRECTION_LABELS,\n  sortByPriority,\n  reassignPriorities,\n  canMoveUp,\n  canMoveDown\n} from './SortStatusControlTypes';\nimport './SortStatusControl.scss';\n\nexport const SortStatusControl: React.FC<SortStatusControlProps> = ({\n  sortConfig,\n  onSortChange,\n  className = '',\n  emptyDescription = 'No sorting applied',\n  activeDescription,\n  showReset = true,\n  showHelp = true,\n  disabled = false,\n  ariaLabel = 'Sort configuration',\n  ariaDescribedBy\n}) => {\n  // Sort the configuration by priority for display\n  const sortedConfig = useMemo(() => sortByPriority(sortConfig), [sortConfig]);\n\n  // Handle direction toggle for a specific sort\n  const handleDirectionToggle = useCallback((sortId: string) => {\n    if (disabled) return;\n    \n    const updatedConfig = sortConfig.map(config =>\n      config.id === sortId\n        ? { ...config, direction: config.direction === 'asc' ? 'desc' as const : 'asc' as const }\n        : config\n    );\n    onSortChange(updatedConfig);\n  }, [sortConfig, onSortChange, disabled]);\n\n  // Handle moving a sort up in priority (lower priority number)\n  const handleMoveUp = useCallback((sortId: string) => {\n    if (disabled) return;\n    \n    const sortIndex = sortConfig.findIndex(c => c.id === sortId);\n    if (sortIndex <= 0) return; // Can't move up if already first or not found\n    \n    const newConfig = [...sortConfig];\n    [newConfig[sortIndex], newConfig[sortIndex - 1]] = [newConfig[sortIndex - 1], newConfig[sortIndex]];\n    onSortChange(reassignPriorities(newConfig));\n  }, [sortConfig, onSortChange, disabled]);\n\n  // Handle moving a sort down in priority (higher priority number)\n  const handleMoveDown = useCallback((sortId: string) => {\n    if (disabled) return;\n    \n    const sortIndex = sortConfig.findIndex(c => c.id === sortId);\n    if (sortIndex >= sortConfig.length - 1 || sortIndex === -1) return; // Can't move down if already last or not found\n    \n    const newConfig = [...sortConfig];\n    [newConfig[sortIndex], newConfig[sortIndex + 1]] = [newConfig[sortIndex + 1], newConfig[sortIndex]];\n    onSortChange(reassignPriorities(newConfig));\n  }, [sortConfig, onSortChange, disabled]);\n\n  // Handle removing a sort\n  const handleRemove = useCallback((sortId: string) => {\n    if (disabled) return;\n    \n    const filteredConfig = sortConfig.filter(config => config.id !== sortId);\n    onSortChange(reassignPriorities(filteredConfig));\n  }, [sortConfig, onSortChange, disabled]);\n\n  // Handle resetting all sorts\n  const handleReset = useCallback(() => {\n    if (disabled) return;\n    onSortChange([]);\n  }, [onSortChange, disabled]);\n\n  // Generate description text\n  const getSortDescription = (): React.ReactNode => {\n    if (sortConfig.length === 0) {\n      return emptyDescription;\n    }\n\n    if (activeDescription) {\n      return activeDescription;\n    }\n\n    const sortDescriptions = sortedConfig.map((sort, index) => {\n      const direction = sort.direction === 'asc' ? 'ascending' : 'descending';\n      return `${index + 1}. ${sort.label} (${direction})`;\n    });\n\n    if (sortDescriptions.length === 1) {\n      return `Sorted by: ${sortDescriptions[0]}`;\n    } else if (sortDescriptions.length === 2) {\n      return `Sorted by: ${sortDescriptions.join(' and ')}`;\n    } else {\n      const lastItem = sortDescriptions.pop();\n      return `Sorted by: ${sortDescriptions.join(', ')}, and ${lastItem}`;\n    }\n  };\n\n  // Build ARIA describedby\n  const describedBy = useMemo(() => {\n    const ids = ['sort-description'];\n    if (showHelp) ids.push('sort-help');\n    if (ariaDescribedBy) ids.push(ariaDescribedBy);\n    return ids.join(' ');\n  }, [showHelp, ariaDescribedBy]);\n\n  // If no sorts active, show empty state\n  if (sortConfig.length === 0) {\n    return (\n      <div className={`sort-status-control sort-status-control--empty ${className}`}>\n        <div \n          className=\"sort-status-control__description\"\n          id=\"sort-description\"\n          aria-live=\"polite\"\n        >\n          {getSortDescription()}\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className={`sort-status-control ${className}`}>\n      {/* Screen reader description */}\n      <div \n        className=\"sort-status-control__description sort-status-control__description--active\"\n        id=\"sort-description\"\n        aria-live=\"polite\"\n      >\n        {getSortDescription()}\n      </div>\n\n      {/* Sort tags container */}\n      <div \n        className=\"sort-status-control__tags\"\n        role=\"list\"\n        aria-label={ariaLabel}\n        aria-describedby={describedBy}\n      >\n        <div className=\"sort-status-control__tags-label\">\n          Current sorting:\n        </div>\n        \n        {sortedConfig.map((config) => (\n          <div\n            key={config.id}\n            className=\"sort-status-control__tag-container\"\n            role=\"listitem\"\n          >\n            <Tag\n              text=\"\"\n              color=\"blue\"\n              className=\"sort-status-control__tag\"\n              closable\n              onClose={() => handleRemove(config.id)}\n              disabled={disabled}\n            >\n              <div className=\"sort-status-control__tag-content\">\n                <span className=\"sort-status-control__tag-priority\">\n                  {config.priority + 1}\n                </span>\n                <span className=\"sort-status-control__tag-label\">\n                  {config.label}\n                </span>\n                <button\n                  type=\"button\"\n                  className=\"sort-status-control__tag-direction\"\n                  onClick={() => handleDirectionToggle(config.id)}\n                  disabled={disabled}\n                  aria-label={`Toggle sort direction for ${config.label}. Currently ${config.direction === 'asc' ? 'ascending' : 'descending'}`}\n                  title=\"Click to toggle between ascending and descending\"\n                >\n                  {config.direction === 'asc' ? DEFAULT_DIRECTION_LABELS.asc : DEFAULT_DIRECTION_LABELS.desc}\n                </button>\n                <div className=\"sort-status-control__tag-actions\">\n                  <button\n                    type=\"button\"\n                    className=\"sort-status-control__move-button\"\n                    onClick={() => handleMoveUp(config.id)}\n                    disabled={disabled || !canMoveUp(config.id, sortConfig)}\n                    aria-label={`Move ${config.label} sort up in priority`}\n                    title=\"Move up in priority\"\n                  >\n                    \n                  </button>\n                  <button\n                    type=\"button\"\n                    className=\"sort-status-control__move-button\"\n                    onClick={() => handleMoveDown(config.id)}\n                    disabled={disabled || !canMoveDown(config.id, sortConfig)}\n                    aria-label={`Move ${config.label} sort down in priority`}\n                    title=\"Move down in priority\"\n                  >\n                    \n                  </button>\n                </div>\n              </div>\n            </Tag>\n          </div>\n        ))}\n      </div>\n\n      {/* Reset button */}\n      {showReset && (\n        <div className=\"sort-status-control__actions\">\n          <Button\n            variant=\"secondary\"\n            onClick={handleReset}\n            isDisabled={disabled}\n            aria-label=\"Reset all sorting\"\n            className=\"sort-status-control__reset-button\"\n          >\n            Clear All Sorts\n          </Button>\n        </div>\n      )}\n\n      {/* Instructions for users */}\n      {showHelp && (\n        <div className=\"sort-status-control__help\" id=\"sort-help\">\n          <small>\n            Click {DEFAULT_DIRECTION_LABELS.asc}/{DEFAULT_DIRECTION_LABELS.desc} to toggle ascending/descending. \n            Use / to change sort priority. Click  to remove a sort.\n          </small>\n        </div>\n      )}\n    </div>\n  );\n};\n","/**\n * Do not edit directly, this file was auto-generated.\n */\n\nexport const AnimationDurationFast = \"150ms\"; // Fast animation duration for micro-interactions\nexport const AnimationDurationNormal = \"300ms\"; // Normal animation duration for most transitions\nexport const AnimationDurationSlow = \"500ms\"; // Slow animation duration for complex transitions\nexport const AnimationEasingEaseIn = \"cubic-bezier(0.4, 0, 1, 1)\"; // Ease in timing function\nexport const AnimationEasingEaseOut = \"cubic-bezier(0, 0, 0.2, 1)\"; // Ease out timing function\nexport const AnimationEasingEaseInOut = \"cubic-bezier(0.4, 0, 0.2, 1)\"; // Ease in-out timing function\nexport const AnimationEasingBounce = \"cubic-bezier(0.68, -0.55, 0.265, 1.55)\"; // Bounce timing function\nexport const TransitionButtonDefault =\n  \"background-color 300ms cubic-bezier(0, 0, 0.2, 1)\"; // Default button transition\nexport const TransitionButtonShadow =\n  \"box-shadow 150ms cubic-bezier(0, 0, 0.2, 1)\"; // Button shadow transition\nexport const TransitionInputFocus =\n  \"border-color 150ms cubic-bezier(0, 0, 0.2, 1), box-shadow 150ms cubic-bezier(0, 0, 0.2, 1)\"; // Input focus transition\nexport const TransitionCardHover =\n  \"border-color 300ms cubic-bezier(0, 0, 0.2, 1)\"; // Card hover transition\nexport const BorderWidthDefault = \"1px\"; // Default border width for general use\nexport const BorderWidthFormElement = \"2px\"; // Border width for form elements like inputs and buttons\nexport const BorderWidthFormElementError = \"4px\"; // Border width for form elements in error state\nexport const BorderWidthCardBottom = \"4px\"; // Bottom border width for clickable cards\nexport const BorderWidthPanel = \"4px\"; // Border width for panel components\nexport const BorderWidthTableHeader = \"2px\"; // Table header border width\nexport const BorderWidthTableCell = \"1px\"; // Table cell border width\nexport const BorderRadiusNone = \"0px\"; // No border radius\nexport const BorderRadiusSmall = \"4px\"; // Small border radius for buttons and form elements\nexport const BorderRadiusMedium = \"8px\"; // Medium border radius\nexport const BorderRadiusLarge = \"12px\"; // Large border radius\nexport const BorderColorDefault = \"#d8dde0\"; // Default border color\nexport const BorderColorForm = \"#4c6272\"; // Border color for form elements\nexport const BorderColorCard = \"#d8dde0\"; // Border color for cards\nexport const BorderColorCardHover = \"#aeb7bd\"; // Border color for cards on hover\nexport const BorderColorError = \"#d5281b\"; // Border color for error states\nexport const ColorPrimaryBlue = \"#005eb8\"; // NHS Blue - Primary brand color\nexport const ColorPrimaryWhite = \"#ffffff\"; // NHS White\nexport const ColorPrimaryBlack = \"#212b32\"; // NHS Black\nexport const ColorPrimaryGreen = \"#007f3b\"; // NHS Green\nexport const ColorPrimaryPurple = \"#330072\"; // NHS Purple\nexport const ColorPrimaryDarkPink = \"#7c2855\"; // NHS Dark Pink\nexport const ColorPrimaryRed = \"#d5281b\"; // NHS Red\nexport const ColorPrimaryYellow = \"#ffeb3b\"; // NHS Yellow\nexport const ColorSecondaryPaleYellow = \"#fff9c4\"; // NHS Pale Yellow\nexport const ColorSecondaryWarmYellow = \"#ffb81c\"; // NHS Warm Yellow\nexport const ColorSecondaryOrange = \"#ed8b00\"; // NHS Orange\nexport const ColorSecondaryAquaGreen = \"#00a499\"; // NHS Aqua Green\nexport const ColorSecondaryPink = \"#ae2573\"; // NHS Pink\nexport const ColorGrey1 = \"#4c6272\"; // NHS Grey 1 - Darkest grey\nexport const ColorGrey2 = \"#768692\"; // NHS Grey 2 - Darker grey\nexport const ColorGrey3 = \"#aeb7bd\"; // NHS Grey 3 - Medium grey\nexport const ColorGrey4 = \"#d8dde0\"; // NHS Grey 4 - Light grey\nexport const ColorGrey5 = \"#f0f4f5\"; // NHS Grey 5 - Lightest grey\nexport const ColorTextPrimary = \"#212b32\"; // Primary text color\nexport const ColorTextSecondary = \"#4c6272\"; // Secondary text color\nexport const ColorTextReverse = \"#ffffff\"; // Reverse/inverted text color\nexport const ColorTextPrint = \"#212b32\"; // Print text color\nexport const ColorLinkDefault = \"#005eb8\"; // Default link color\nexport const ColorLinkHover = \"#7c2855\"; // Link hover color\nexport const ColorLinkActive = \"#003087\"; // Link active color (50% shade of blue)\nexport const ColorLinkVisited = \"#330072\"; // Visited link color\nexport const ColorFocusBackground = \"#ffeb3b\"; // Focus background color\nexport const ColorFocusText = \"#212b32\"; // Focus text color\nexport const ColorBorderDefault = \"#d8dde0\"; // Default border color\nexport const ColorBorderSecondary = \"#ffffff33\"; // Secondary border color\nexport const ColorError = \"#d5281b\"; // Error color\nexport const ColorFormBorder = \"#4c6272\"; // Form border color\nexport const ColorFormBackground = \"#ffffff\"; // Form background color\nexport const ColorButtonPrimaryBackground = \"#007f3b\";\nexport const ColorButtonPrimaryText = \"#ffffff\";\nexport const ColorButtonPrimaryHover = \"#006530\"; // 20% shade of green\nexport const ColorButtonPrimaryActive = \"#004021\"; // 50% shade of green\nexport const ColorButtonPrimaryShadow = \"#004021\"; // 50% shade of green\nexport const ColorButtonSecondaryBackground = \"#00000000\";\nexport const ColorButtonSecondaryBackgroundSolid = \"#ffffff\";\nexport const ColorButtonSecondaryBorder = \"#005eb8\";\nexport const ColorButtonSecondaryText = \"#005eb8\";\nexport const ColorButtonSecondaryHover = \"#d9e5f2\"; // 85% tint of blue\nexport const ColorButtonSecondaryActive = \"#c7daf0\"; // 78% tint of blue\nexport const ColorButtonSecondaryShadow = \"#005eb8\";\nexport const ColorButtonReverseBackground = \"#ffffff\";\nexport const ColorButtonReverseText = \"#212b32\";\nexport const ColorButtonReverseHover = \"#d9dde0\"; // 15% shade of white\nexport const ColorButtonReverseActive = \"#b3bcc2\"; // 30% shade of white\nexport const ColorButtonReverseShadow = \"#b3bcc2\";\nexport const ColorButtonWarningBackground = \"#d5281b\";\nexport const ColorButtonWarningHover = \"#aa2016\"; // 20% shade of red\nexport const ColorButtonWarningActive = \"#6a140e\"; // 50% shade of red\nexport const ColorButtonWarningShadow = \"#6a140e\";\nexport const ColorButtonLoginBackground = \"#005eb8\";\nexport const ColorButtonLoginHover = \"#004b93\"; // 20% shade of blue\nexport const ColorButtonLoginActive = \"#002f5c\"; // 50% shade of blue\nexport const ColorButtonLoginShadow = \"#002f5c\";\nexport const ComponentButtonPaddingMobileVertical = \"8px\"; // Button vertical padding on mobile\nexport const ComponentButtonPaddingMobileHorizontal = \"16px\"; // Button horizontal padding on mobile\nexport const ComponentButtonPaddingDesktopVertical = \"12px\"; // Button vertical padding on desktop\nexport const ComponentButtonPaddingDesktopHorizontal = \"16px\"; // Button horizontal padding on desktop\nexport const ComponentButtonShadowSize = \"4px\"; // Button shadow size\nexport const ComponentFormInputMinHeight = \"40px\"; // Minimum height for input fields\nexport const ComponentFormInputPadding = \"4px\"; // Internal padding for input fields\nexport const ComponentFormCheckboxSize = \"40px\"; // Size of checkbox and radio button controls\nexport const ComponentFormCheckboxLabelPadding = \"12px\"; // Left and right padding for checkbox labels\nexport const ComponentCardPaddingMobile = \"16px\"; // Card content padding on mobile\nexport const ComponentCardPaddingDesktop = \"32px\"; // Card content padding on desktop\nexport const ComponentCardHeadingMargin = \"16px\"; // Margin below card headings\nexport const ComponentPanelPaddingMobile = \"20px\"; // Panel padding on mobile (24px - 4px border)\nexport const ComponentPanelPaddingDesktop = \"28px\"; // Panel padding on desktop (32px - 4px border)\nexport const ComponentBreadcrumbChevronMarginLeft = \"9px\"; // Left margin for breadcrumb chevron\nexport const ComponentBreadcrumbChevronMarginRight = \"2px\"; // Right margin for breadcrumb chevron\nexport const ComponentBreadcrumbPaddingTopMobile = \"16px\"; // Top padding for breadcrumb on mobile\nexport const ComponentBreadcrumbPaddingTopDesktop = \"24px\"; // Top padding for breadcrumb on desktop\nexport const ComponentSummaryListCellPaddingVertical = \"8px\"; // Top and bottom padding for summary list cells\nexport const ComponentSummaryListCellPaddingHorizontal = \"24px\"; // Right padding for summary list cells\nexport const ComponentSummaryListRowMargin = \"16px\"; // Bottom margin for summary list rows on mobile\nexport const ComponentSpread = \"4px\"; // Default shadow spread\nexport const ComponentBlur = \"4px\"; // Default shadow blur\nexport const ComponentLink = \"4px\"; // Link shadow spread\nexport const ComponentDetails = \"8px\"; // Details component shadow\nexport const ComponentExpander = \"4px\"; // Expander shadow\nexport const ComponentPagination = \"16px\"; // Pagination shadow\nexport const ButtonPrimaryBackgroundDefault = \"#007f3b\"; // Primary button background color\nexport const ButtonPrimaryBackgroundHover = \"#006530\"; // Primary button hover background color\nexport const ButtonPrimaryBackgroundActive = \"#004021\"; // Primary button active background color\nexport const ButtonPrimaryBackgroundDisabled = \"#d8dde0\"; // Primary button disabled background color\nexport const ButtonPrimaryTextDefault = \"#ffffff\"; // Primary button text color\nexport const ButtonPrimaryTextDisabled = \"#768692\"; // Primary button disabled text color\nexport const ButtonPrimaryBorderDefault = \"#00000000\"; // Primary button border color\nexport const ButtonPrimaryBorderFocus = \"#ffeb3b\"; // Primary button focus border color\nexport const ButtonSecondaryBackgroundDefault = \"#00000000\"; // Secondary button background color\nexport const ButtonSecondaryBackgroundSolid = \"#ffffff\"; // Secondary button solid background color\nexport const ButtonSecondaryBackgroundHover = \"#d9e5f2\"; // Secondary button hover background color\nexport const ButtonSecondaryBackgroundActive = \"#c7daf0\"; // Secondary button active background color\nexport const ButtonSecondaryTextDefault = \"#005eb8\"; // Secondary button text color\nexport const ButtonSecondaryBorderDefault = \"#005eb8\"; // Secondary button border color\nexport const ButtonSpacingPaddingVerticalMobile = \"8px\"; // Button vertical padding on mobile\nexport const ButtonSpacingPaddingHorizontalMobile = \"16px\"; // Button horizontal padding on mobile\nexport const ButtonSpacingPaddingVerticalDesktop = \"12px\"; // Button vertical padding on desktop\nexport const ButtonSpacingPaddingHorizontalDesktop = \"16px\"; // Button horizontal padding on desktop\nexport const ButtonBorderWidth = \"2px\"; // Button border width\nexport const ButtonBorderRadius = \"4px\"; // Button border radius\nexport const ButtonShadowSize = \"4px\"; // Button shadow size\nexport const ButtonTypographyWeight = \"600\"; // Button font weight\nexport const CardBackgroundDefault = \"#ffffff\"; // Default card background color\nexport const CardBorderDefault = \"#d8dde0\"; // Default card border color\nexport const CardBorderHover = \"#aeb7bd\"; // Card border color on hover\nexport const CardBorderBottom = \"#f0f4f5\"; // Card image bottom border color\nexport const CardTextHeading = \"#212b32\"; // Card heading text color\nexport const CardTextDescription = \"#212b32\"; // Card description text color\nexport const CardTextLink = \"#005eb8\"; // Card link text color\nexport const CardSpacingPaddingMobile = \"16px\"; // Card content padding on mobile\nexport const CardSpacingPaddingDesktop = \"32px\"; // Card content padding on desktop\nexport const CardSpacingHeadingMargin = \"16px\"; // Margin below card headings\nexport const CardBorderWidthDefault = \"1px\"; // Default card border width\nexport const CardBorderWidthBottom = \"4px\"; // Card bottom border width for clickable cards\nexport const CardShadowDefault = \"none\"; // Default card shadow\nexport const CardShadowHover = \"0 2px 4px rgba(0, 0, 0, 0.1)\"; // Card shadow on hover\nexport const FormInputBackgroundDefault = \"#ffffff\"; // Default input background color\nexport const FormInputBackgroundFocus = \"#ffffff\"; // Input background color when focused\nexport const FormInputBackgroundDisabled = \"#d8dde0\"; // Input background color when disabled\nexport const FormInputBackgroundError = \"#ffffff\"; // Input background color in error state\nexport const FormInputBorderDefault = \"#4c6272\"; // Default input border color\nexport const FormInputBorderFocus = \"#ffeb3b\"; // Input border color when focused\nexport const FormInputBorderError = \"#d5281b\"; // Input border color in error state\nexport const FormInputBorderDisabled = \"#aeb7bd\"; // Input border color when disabled\nexport const FormInputTextDefault = \"#212b32\"; // Default input text color\nexport const FormInputTextPlaceholder = \"#4c6272\"; // Input placeholder text color\nexport const FormInputTextDisabled = \"#768692\"; // Input text color when disabled\nexport const FormLabelTextDefault = \"#212b32\"; // Form label text color\nexport const FormLabelTextRequired = \"#ffffff\"; // Required form label indicator color\nexport const FormLabelTypographyWeight = \"600\"; // Form label font weight\nexport const FormErrorTextDefault = \"#d5281b\"; // Form error message text color\nexport const FormErrorTypographyWeight = \"600\"; // Form error message font weight\nexport const FormHintTextDefault = \"#4c6272\"; // Form hint text color\nexport const FormSpacingInputPadding = \"4px\"; // Internal padding for input fields\nexport const FormSpacingInputMinHeight = \"40px\"; // Minimum height for input fields\nexport const FormSpacingCheckboxSize = \"40px\"; // Size of checkbox controls\nexport const FormSpacingCheckboxLabelPadding = \"12px\"; // Padding for checkbox labels\nexport const FormBorderWidthDefault = \"2px\"; // Default form element border width\nexport const FormBorderWidthError = \"4px\"; // Form element border width in error state\nexport const FormBorderRadius = \"0px\"; // Form element border radius\nexport const SizeIconSmall = \"16px\"; // Small icon size\nexport const SizeIconMedium = \"18px\"; // Medium icon size (breadcrumb chevrons)\nexport const SizeIconLarge = \"24px\"; // Large icon size (back links)\nexport const SizeIconExtraLarge = \"32px\"; // Extra large icon size\nexport const SizeIconNhsDefault = \"34px\"; // Default NHS icon size\nexport const SizeFormControlSmall = \"32px\"; // Small form control size\nexport const SizeFormControlMedium = \"40px\"; // Medium form control size (default)\nexport const SizeFormControlLarge = \"48px\"; // Large form control size\nexport const SizeFormInputWidthXs = \"5.4ex\"; // Extra small input width (2 characters)\nexport const SizeFormInputWidthSm = \"7.2ex\"; // Small input width (3 characters)\nexport const SizeFormInputWidthMd = \"9ex\"; // Medium input width (4 characters)\nexport const SizeFormInputWidthLg = \"10.8ex\"; // Large input width (5 characters)\nexport const SizeFormInputWidthXl = \"20ex\"; // Extra large input width (10 characters)\nexport const SizeFormInputWidth2xl = \"38ex\"; // 2XL input width (20 characters)\nexport const SizeFormInputWidth3xl = \"56ex\"; // 3XL input width (30 characters)\nexport const SizeButtonMinHeightMobile = \"44px\"; // Minimum button height on mobile for touch targets\nexport const SizeButtonMinHeightDesktop = \"40px\"; // Minimum button height on desktop\nexport const LayoutContainerMaxWidth = \"1020px\"; // Maximum container width\nexport const LayoutColumnFull = \"100%\"; // Full width column\nexport const LayoutColumnHalf = \"50%\"; // Half width column\nexport const LayoutColumnThird = \"33.333%\"; // One third width column\nexport const LayoutColumnQuarter = \"25%\"; // Quarter width column\nexport const LayoutColumnActions = \"20%\"; // Actions column width in summary lists\nexport const BreakpointMobile = \"320px\"; // Mobile breakpoint\nexport const BreakpointTablet = \"641px\"; // Tablet breakpoint\nexport const BreakpointDesktop = \"1025px\"; // Desktop breakpoint\nexport const BreakpointLargeDesktop = \"1280px\"; // Large desktop breakpoint\nexport const GridPageWidth = \"960px\"; // Maximum page width\nexport const GridGutter = \"32px\"; // Grid gutter width\nexport const GridGutterHalf = \"16px\"; // Half grid gutter width\nexport const StateErrorBackground = \"#d5281b\"; // Error state background color\nexport const StateErrorBorder = \"#d5281b\"; // Error state border color\nexport const StateErrorText = \"#ffffff\"; // Error state text color\nexport const StateSuccessBackground = \"#007f3b\"; // Success state background color\nexport const StateSuccessBorder = \"#007f3b\"; // Success state border color\nexport const StateSuccessText = \"#ffffff\"; // Success state text color\nexport const StateWarningBackground = \"#ffeb3b\"; // Warning state background color\nexport const StateWarningBorder = \"#ffeb3b\"; // Warning state border color\nexport const StateWarningText = \"#212b32\"; // Warning state text color\nexport const StateInfoBackground = \"#005eb8\"; // Info state background color\nexport const StateInfoBorder = \"#005eb8\"; // Info state border color\nexport const StateInfoText = \"#ffffff\"; // Info state text color\nexport const StateDisabledBackground = \"#d8dde0\"; // Disabled state background color\nexport const StateDisabledBorder = \"#aeb7bd\"; // Disabled state border color\nexport const StateDisabledText = \"#768692\"; // Disabled state text color\nexport const ShadowButtonDefault = \"0 4px 0 #004021\"; // Default button shadow\nexport const ShadowButtonSecondary = \"0 4px 0 #005eb8\"; // Secondary button shadow\nexport const ShadowButtonWarning = \"0 4px 0 #6a140e\"; // Warning button shadow\nexport const ShadowButtonFocus = \"0 4px 0 #ffeb3b\"; // Button shadow when focused\nexport const ShadowCardDefault = \"none\"; // Default card shadow (none for NHS style)\nexport const ShadowCardHover = \"0 2px 4px rgba(0, 0, 0, 0.1)\"; // Card shadow on hover (if needed)\nexport const FocusOutlineWidth = \"4px\"; // Focus outline width\nexport const FocusOutlineOffset = \"0px\"; // Focus outline offset\nexport const FocusOutlineStyle = \"solid\"; // Focus outline style\nexport const FocusShadowInput = \"0 0 0 3px #ffeb3b\"; // Focus shadow for input elements\nexport const FocusShadowButton = \"0 0 0 3px #ffeb3b\"; // Focus shadow for buttons\nexport const ElevationNone = \"none\"; // No elevation\nexport const ElevationLow = \"0 1px 3px rgba(0, 0, 0, 0.12)\"; // Low elevation shadow\nexport const ElevationMedium = \"0 2px 6px rgba(0, 0, 0, 0.16)\"; // Medium elevation shadow\nexport const ElevationHigh = \"0 4px 12px rgba(0, 0, 0, 0.20)\"; // High elevation shadow\nexport const Spacing0 = \"0\"; // No spacing\nexport const Spacing1 = \"4px\"; // Extra small spacing\nexport const Spacing2 = \"8px\"; // Small spacing\nexport const Spacing3 = \"16px\"; // Medium spacing\nexport const Spacing4 = \"24px\"; // Large spacing\nexport const Spacing5 = \"32px\"; // Large spacing\nexport const Spacing6 = \"40px\"; // 2XL spacing\nexport const Spacing7 = \"48px\"; // 3XL spacing\nexport const Spacing8 = \"56px\"; // 4XL spacing\nexport const Spacing9 = \"64px\"; // 5XL spacing\nexport const SpacingResponsive0Mobile = \"0\";\nexport const SpacingResponsive0Tablet = \"0\";\nexport const SpacingResponsive1Mobile = \"4px\";\nexport const SpacingResponsive1Tablet = \"4px\";\nexport const SpacingResponsive2Mobile = \"8px\";\nexport const SpacingResponsive2Tablet = \"8px\";\nexport const SpacingResponsive3Mobile = \"8px\";\nexport const SpacingResponsive3Tablet = \"16px\";\nexport const SpacingResponsive4Mobile = \"16px\";\nexport const SpacingResponsive4Tablet = \"24px\";\nexport const SpacingResponsive5Mobile = \"24px\";\nexport const SpacingResponsive5Tablet = \"32px\";\nexport const SpacingResponsive6Mobile = \"32px\";\nexport const SpacingResponsive6Tablet = \"40px\";\nexport const SpacingResponsive7Mobile = \"40px\";\nexport const SpacingResponsive7Tablet = \"48px\";\nexport const SpacingResponsive8Mobile = \"48px\";\nexport const SpacingResponsive8Tablet = \"56px\";\nexport const SpacingResponsive9Mobile = \"56px\";\nexport const SpacingResponsive9Tablet = \"64px\";\nexport const FontFamilyBase = \"Frutiger W01\"; // Primary NHS font family\nexport const FontFamilyFallback = \"Arial, Helvetica, sans-serif\"; // Fallback fonts if Frutiger fails to load\nexport const FontFamilyPrint = \"sans-serif\"; // Font family for print styles\nexport const FontWeightNormal = \"400\"; // Normal font weight\nexport const FontWeightBold = \"600\"; // Bold font weight\nexport const FontWeightLight = \"400\"; // Light font weight (same as normal)\nexport const FontSize14Mobile = \"12px\";\nexport const FontSize14Tablet = \"14px\";\nexport const FontSize14Print = \"12pt\";\nexport const FontSize16Mobile = \"14px\";\nexport const FontSize16Tablet = \"16px\";\nexport const FontSize16Print = \"12pt\";\nexport const FontSize19Mobile = \"16px\";\nexport const FontSize19Tablet = \"19px\";\nexport const FontSize19Print = \"13pt\";\nexport const FontSize22Mobile = \"19px\";\nexport const FontSize22Tablet = \"22px\";\nexport const FontSize22Print = \"15pt\";\nexport const FontSize26Mobile = \"22px\";\nexport const FontSize26Tablet = \"26px\";\nexport const FontSize26Print = \"17pt\";\nexport const FontSize36Mobile = \"27px\";\nexport const FontSize36Tablet = \"36px\";\nexport const FontSize36Print = \"20pt\";\nexport const FontSize48Mobile = \"33px\";\nexport const FontSize48Tablet = \"48px\";\nexport const FontSize48Print = \"24pt\";\nexport const FontSizeBase = \"16px\"; // Base font size\nexport const FontLineHeightBase = \"24px\"; // Base line height\nexport const HeadingsNhsukHeadingXl = {\n  fontFamily: \"Frutiger W01\",\n  fontWeight: \"600\",\n  fontSize: { mobile: \"33px\", tablet: \"48px\", print: \"24pt\" },\n  lineHeight: \"1.09\",\n  marginTop: \"0\",\n  marginBottom: { mobile: \"40px\", tablet: \"48px\" },\n}; // Extra large heading style (h1 equivalent)\nexport const HeadingsNhsukHeadingL = {\n  fontFamily: \"Frutiger W01\",\n  fontWeight: \"600\",\n  fontSize: { mobile: \"27px\", tablet: \"36px\", print: \"20pt\" },\n  lineHeight: \"1.11\",\n  marginTop: \"0\",\n  marginBottom: { mobile: \"16px\", tablet: \"24px\" },\n}; // Large heading style (h2 equivalent)\nexport const HeadingsNhsukHeadingM = {\n  fontFamily: \"Frutiger W01\",\n  fontWeight: \"600\",\n  fontSize: { mobile: \"22px\", tablet: \"26px\", print: \"17pt\" },\n  lineHeight: \"1.15\",\n  marginTop: \"0\",\n  marginBottom: { mobile: \"16px\", tablet: \"24px\" },\n}; // Medium heading style (h3 equivalent)\nexport const HeadingsNhsukHeadingS = {\n  fontFamily: \"Frutiger W01\",\n  fontWeight: \"600\",\n  fontSize: { mobile: \"19px\", tablet: \"22px\", print: \"15pt\" },\n  lineHeight: \"1.18\",\n  marginTop: \"0\",\n  marginBottom: { mobile: \"16px\", tablet: \"24px\" },\n}; // Small heading style (h4 equivalent)\nexport const HeadingsNhsukHeadingXs = {\n  fontFamily: \"Frutiger W01\",\n  fontWeight: \"600\",\n  fontSize: { mobile: \"16px\", tablet: \"19px\", print: \"13pt\" },\n  lineHeight: \"1.26\",\n  marginTop: \"0\",\n  marginBottom: { mobile: \"16px\", tablet: \"24px\" },\n}; // Extra small heading style (h5 equivalent)\nexport const ParagraphsBody = {\n  fontFamily: \"Frutiger W01\",\n  fontWeight: \"400\",\n  fontSize: { mobile: \"16px\", tablet: \"19px\", print: \"13pt\" },\n  lineHeight: \"1.47\",\n  marginTop: \"0\",\n  marginBottom: { mobile: \"16px\", tablet: \"24px\" },\n}; // Default paragraph text style (nhsuk-body-m)\nexport const ParagraphsBodyLarge = {\n  fontFamily: \"Frutiger W01\",\n  fontWeight: \"400\",\n  fontSize: { mobile: \"22px\", tablet: \"26px\", print: \"17pt\" },\n  lineHeight: \"1.38\",\n  marginTop: \"0\",\n  marginBottom: { mobile: \"24px\", tablet: \"32px\" },\n}; // Large body text style (nhsuk-body-l)\nexport const ParagraphsBodySmall = {\n  fontFamily: \"Frutiger W01\",\n  fontWeight: \"400\",\n  fontSize: { mobile: \"14px\", tablet: \"16px\", print: \"12pt\" },\n  lineHeight: \"1.5\",\n  marginTop: \"0\",\n  marginBottom: { mobile: \"16px\", tablet: \"24px\" },\n}; // Small body text style (nhsuk-body-s)\nexport const ParagraphsLedeText = {\n  fontFamily: \"Frutiger W01\",\n  fontWeight: \"400\",\n  fontSize: { mobile: \"22px\", tablet: \"26px\", print: \"17pt\" },\n  lineHeight: \"1.38\",\n  marginTop: \"0\",\n  marginBottom: { mobile: \"40px\", tablet: \"48px\" },\n}; // Lead paragraph style (nhsuk-lede-text)\nexport const ParagraphsLedeTextSmall = {\n  fontFamily: \"Frutiger W01\",\n  fontWeight: \"400\",\n  fontSize: { mobile: \"16px\", tablet: \"19px\", print: \"13pt\" },\n  lineHeight: \"1.47\",\n  marginTop: \"0\",\n  marginBottom: { mobile: \"24px\", tablet: \"32px\" },\n}; // Small lead paragraph style (nhsuk-lede-text--small)\n","// Do not edit directly, this file was auto-generated.\n\nimport React from 'react';\nimport { CSSProperties } from 'react';\nimport * as tokens from '../index';\n\n// Helper function to convert composite token to CSS properties\nexport const getResponsiveStyles = (\n\tfontSize: { mobile: string; tablet: string; print?: string },\n\tmarginBottom: { mobile: string; tablet: string }\n): CSSProperties & { \n\t'@media (min-width: 768px)': CSSProperties;\n\t'@media print': CSSProperties;\n} => ({\n\tfontSize: fontSize.mobile,\n\tmarginBottom: marginBottom.mobile,\n\t'@media (min-width: 768px)': {\n\tfontSize: fontSize.tablet,\n\tmarginBottom: marginBottom.tablet,\n\t},\n\t'@media print': {\n\tfontSize: fontSize.print || fontSize.tablet,\n\t},\n});\n\n// NHS Heading Components\nexport const NHSHeading1: React.FC<{ children: React.ReactNode; className?: string; style?: CSSProperties }> = ({ \n\tchildren, \n\tclassName = '', \n\tstyle = {} \n}) => (\n\t<h1 \n\tclassName={className}\n\tstyle={{\n\t\tfontFamily: tokens.HeadingsNhsukHeadingXl.fontFamily,\n\t\tfontWeight: tokens.HeadingsNhsukHeadingXl.fontWeight,\n\t\tfontSize: tokens.HeadingsNhsukHeadingXl.fontSize.mobile,\n\t\tlineHeight: tokens.HeadingsNhsukHeadingXl.lineHeight,\n\t\tmarginTop: tokens.HeadingsNhsukHeadingXl.marginTop,\n\t\tmarginBottom: tokens.HeadingsNhsukHeadingXl.marginBottom.mobile,\n\t\t...style,\n\t}}\n\t>\n\t{children}\n\t</h1>\n);\n\nexport const NHSHeading2: React.FC<{ children: React.ReactNode; className?: string; style?: CSSProperties }> = ({ \n\tchildren, \n\tclassName = '', \n\tstyle = {} \n}) => (\n\t<h2 \n\tclassName={className}\n\tstyle={{\n\t\tfontFamily: tokens.HeadingsNhsukHeadingL.fontFamily,\n\t\tfontWeight: tokens.HeadingsNhsukHeadingL.fontWeight,\n\t\tfontSize: tokens.HeadingsNhsukHeadingL.fontSize.mobile,\n\t\tlineHeight: tokens.HeadingsNhsukHeadingL.lineHeight,\n\t\tmarginTop: tokens.HeadingsNhsukHeadingL.marginTop,\n\t\tmarginBottom: tokens.HeadingsNhsukHeadingL.marginBottom.mobile,\n\t\t...style,\n\t}}\n\t>\n\t{children}\n\t</h2>\n);\n\nexport const NHSHeading3: React.FC<{ children: React.ReactNode; className?: string; style?: CSSProperties }> = ({ \n\tchildren, \n\tclassName = '', \n\tstyle = {} \n}) => (\n\t<h3 \n\tclassName={className}\n\tstyle={{\n\t\tfontFamily: tokens.HeadingsNhsukHeadingM.fontFamily,\n\t\tfontWeight: tokens.HeadingsNhsukHeadingM.fontWeight,\n\t\tfontSize: tokens.HeadingsNhsukHeadingM.fontSize.mobile,\n\t\tlineHeight: tokens.HeadingsNhsukHeadingM.lineHeight,\n\t\tmarginTop: tokens.HeadingsNhsukHeadingM.marginTop,\n\t\tmarginBottom: tokens.HeadingsNhsukHeadingM.marginBottom.mobile,\n\t\t...style,\n\t}}\n\t>\n\t{children}\n\t</h3>\n);\n\nexport const NHSHeading4: React.FC<{ children: React.ReactNode; className?: string; style?: CSSProperties }> = ({ \n\tchildren, \n\tclassName = '', \n\tstyle = {} \n}) => (\n\t<h4 \n\tclassName={className}\n\tstyle={{\n\t\tfontFamily: tokens.HeadingsNhsukHeadingS.fontFamily,\n\t\tfontWeight: tokens.HeadingsNhsukHeadingS.fontWeight,\n\t\tfontSize: tokens.HeadingsNhsukHeadingS.fontSize.mobile,\n\t\tlineHeight: tokens.HeadingsNhsukHeadingS.lineHeight,\n\t\tmarginTop: tokens.HeadingsNhsukHeadingS.marginTop,\n\t\tmarginBottom: tokens.HeadingsNhsukHeadingS.marginBottom.mobile,\n\t\t...style,\n\t}}\n\t>\n\t{children}\n\t</h4>\n);\n\nexport const NHSHeading5: React.FC<{ children: React.ReactNode; className?: string; style?: CSSProperties }> = ({ \n\tchildren, \n\tclassName = '', \n\tstyle = {} \n}) => (\n\t<h5 \n\tclassName={className}\n\tstyle={{\n\t\tfontFamily: tokens.HeadingsNhsukHeadingXs.fontFamily,\n\t\tfontWeight: tokens.HeadingsNhsukHeadingXs.fontWeight,\n\t\tfontSize: tokens.HeadingsNhsukHeadingXs.fontSize.mobile,\n\t\tlineHeight: tokens.HeadingsNhsukHeadingXs.lineHeight,\n\t\tmarginTop: tokens.HeadingsNhsukHeadingXs.marginTop,\n\t\tmarginBottom: tokens.HeadingsNhsukHeadingXs.marginBottom.mobile,\n\t\t...style,\n\t}}\n\t>\n\t{children}\n\t</h5>\n);\n\n// NHS Paragraph Components\nexport const NHSBodyText: React.FC<{ children: React.ReactNode; className?: string; style?: CSSProperties }> = ({ \n\tchildren, \n\tclassName = '', \n\tstyle = {} \n}) => (\n\t<p \n\tclassName={className}\n\tstyle={{\n\t\tfontFamily: tokens.ParagraphsBody.fontFamily,\n\t\tfontWeight: tokens.ParagraphsBody.fontWeight,\n\t\tfontSize: tokens.ParagraphsBody.fontSize.mobile,\n\t\tlineHeight: tokens.ParagraphsBody.lineHeight,\n\t\tmarginTop: tokens.ParagraphsBody.marginTop,\n\t\tmarginBottom: tokens.ParagraphsBody.marginBottom.mobile,\n\t\t...style,\n\t}}\n\t>\n\t{children}\n\t</p>\n);\n\nexport const NHSBodyTextLarge: React.FC<{ children: React.ReactNode; className?: string; style?: CSSProperties }> = ({ \n\tchildren, \n\tclassName = '', \n\tstyle = {} \n}) => (\n\t<p \n\tclassName={className}\n\tstyle={{\n\t\tfontFamily: tokens.ParagraphsBodyLarge.fontFamily,\n\t\tfontWeight: tokens.ParagraphsBodyLarge.fontWeight,\n\t\tfontSize: tokens.ParagraphsBodyLarge.fontSize.mobile,\n\t\tlineHeight: tokens.ParagraphsBodyLarge.lineHeight,\n\t\tmarginTop: tokens.ParagraphsBodyLarge.marginTop,\n\t\tmarginBottom: tokens.ParagraphsBodyLarge.marginBottom.mobile,\n\t\t...style,\n\t}}\n\t>\n\t{children}\n\t</p>\n);\n\nexport const NHSBodyTextSmall: React.FC<{ children: React.ReactNode; className?: string; style?: CSSProperties }> = ({ \n\tchildren, \n\tclassName = '', \n\tstyle = {} \n}) => (\n\t<p \n\tclassName={className}\n\tstyle={{\n\t\tfontFamily: tokens.ParagraphsBodySmall.fontFamily,\n\t\tfontWeight: tokens.ParagraphsBodySmall.fontWeight,\n\t\tfontSize: tokens.ParagraphsBodySmall.fontSize.mobile,\n\t\tlineHeight: tokens.ParagraphsBodySmall.lineHeight,\n\t\tmarginTop: tokens.ParagraphsBodySmall.marginTop,\n\t\tmarginBottom: tokens.ParagraphsBodySmall.marginBottom.mobile,\n\t\t...style,\n\t}}\n\t>\n\t{children}\n\t</p>\n);\n\nexport const NHSLedeText: React.FC<{ children: React.ReactNode; className?: string; style?: CSSProperties }> = ({ \n\tchildren, \n\tclassName = '', \n\tstyle = {} \n}) => (\n\t<p \n\tclassName={className}\n\tstyle={{\n\t\tfontFamily: tokens.ParagraphsLedeText.fontFamily,\n\t\tfontWeight: tokens.ParagraphsLedeText.fontWeight,\n\t\tfontSize: tokens.ParagraphsLedeText.fontSize.mobile,\n\t\tlineHeight: tokens.ParagraphsLedeText.lineHeight,\n\t\tmarginTop: tokens.ParagraphsLedeText.marginTop,\n\t\tmarginBottom: tokens.ParagraphsLedeText.marginBottom.mobile,\n\t\t...style,\n\t}}\n\t>\n\t{children}\n\t</p>\n);\n\nexport const NHSLedeTextSmall: React.FC<{ children: React.ReactNode; className?: string; style?: CSSProperties }> = ({ \n\tchildren, \n\tclassName = '', \n\tstyle = {} \n}) => (\n\t<p \n\tclassName={className}\n\tstyle={{\n\t\tfontFamily: tokens.ParagraphsLedeTextSmall.fontFamily,\n\t\tfontWeight: tokens.ParagraphsLedeTextSmall.fontWeight,\n\t\tfontSize: tokens.ParagraphsLedeTextSmall.fontSize.mobile,\n\t\tlineHeight: tokens.ParagraphsLedeTextSmall.lineHeight,\n\t\tmarginTop: tokens.ParagraphsLedeTextSmall.marginTop,\n\t\tmarginBottom: tokens.ParagraphsLedeTextSmall.marginBottom.mobile,\n\t\t...style,\n\t}}\n\t>\n\t{children}\n\t</p>\n);\n","// Do not edit directly, this file was auto-generated.\n\nimport { useMemo } from 'react';\nimport * as tokens from '../index';\n\n// TypeScript interfaces for composite tokens\nexport interface ResponsiveProperty<T> {\n\tmobile: T;\n\ttablet: T;\n\tprint?: T;\n}\n\nexport interface NHSHeadingStyle {\n\tfontFamily: string;\n\tfontWeight: string;\n\tfontSize: ResponsiveProperty<string>;\n\tlineHeight: string;\n\tmarginTop: string;\n\tmarginBottom: ResponsiveProperty<string>;\n}\n\nexport interface NHSParagraphStyle {\n\tfontFamily: string;\n\tfontWeight: string;\n\tfontSize: ResponsiveProperty<string>;\n\tlineHeight: string;\n\tmarginTop: string;\n\tmarginBottom: ResponsiveProperty<string>;\n}\n\nexport interface NHSTypographySystem {\n\theadings: {\n\txl: NHSHeadingStyle;\n\tl: NHSHeadingStyle;\n\tm: NHSHeadingStyle;\n\ts: NHSHeadingStyle;\n\txs: NHSHeadingStyle;\n\t};\n\tparagraphs: {\n\tbody: NHSParagraphStyle;\n\tbodyLarge: NHSParagraphStyle;\n\tbodySmall: NHSParagraphStyle;\n\tledeText: NHSParagraphStyle;\n\tledeTextSmall: NHSParagraphStyle;\n\t};\n\tfonts: {\n\tfamily: {\n\t\tbase: string;\n\t\tfallback: string;\n\t\tprint: string;\n\t};\n\tweight: {\n\t\tnormal: string;\n\t\tbold: string;\n\t\tlight: string;\n\t};\n\tsizes: {\n\t\tmobile: Record<string, string>;\n\t\ttablet: Record<string, string>;\n\t\tprint: Record<string, string>;\n\t};\n\t};\n}\n\nexport const useTokens = () => {\n\treturn useMemo(() => tokens, []);\n};\n\nexport const useColors = () => {\n\treturn useMemo(() => ({\n\t// Border colors\n\t\tBorderColorDefault: tokens.BorderColorDefault,\n\t\tBorderColorForm: tokens.BorderColorForm,\n\t\tBorderColorCard: tokens.BorderColorCard,\n\t\tBorderColorCardHover: tokens.BorderColorCardHover,\n\t\tBorderColorError: tokens.BorderColorError,\n\t\n\t// Primary colors\n\t\tColorPrimaryBlue: tokens.ColorPrimaryBlue,\n\t\tColorPrimaryWhite: tokens.ColorPrimaryWhite,\n\t\tColorPrimaryBlack: tokens.ColorPrimaryBlack,\n\t\tColorPrimaryGreen: tokens.ColorPrimaryGreen,\n\t\tColorPrimaryPurple: tokens.ColorPrimaryPurple,\n\t\tColorPrimaryDarkPink: tokens.ColorPrimaryDarkPink,\n\t\tColorPrimaryRed: tokens.ColorPrimaryRed,\n\t\tColorPrimaryYellow: tokens.ColorPrimaryYellow,\n\t\n\t// Secondary colors\n\t\tColorSecondaryPaleYellow: tokens.ColorSecondaryPaleYellow,\n\t\tColorSecondaryWarmYellow: tokens.ColorSecondaryWarmYellow,\n\t\tColorSecondaryOrange: tokens.ColorSecondaryOrange,\n\t\tColorSecondaryAquaGreen: tokens.ColorSecondaryAquaGreen,\n\t\tColorSecondaryPink: tokens.ColorSecondaryPink,\n\t\n\t// Grey scale\n\t\tColorGrey1: tokens.ColorGrey1,\n\t\tColorGrey2: tokens.ColorGrey2,\n\t\tColorGrey3: tokens.ColorGrey3,\n\t\tColorGrey4: tokens.ColorGrey4,\n\t\tColorGrey5: tokens.ColorGrey5,\n\t}), []);\n};\n\nexport const useSpacing = () => {\n\treturn useMemo(() => ({\n\t\tSpacing0: tokens.Spacing0,\n\t\tSpacing1: tokens.Spacing1,\n\t\tSpacing2: tokens.Spacing2,\n\t\tSpacing3: tokens.Spacing3,\n\t\tSpacing4: tokens.Spacing4,\n\t\tSpacing5: tokens.Spacing5,\n\t\tSpacing6: tokens.Spacing6,\n\t\tSpacing7: tokens.Spacing7,\n\t\tSpacing8: tokens.Spacing8,\n\t\tSpacing9: tokens.Spacing9,\n\t}), []);\n};\n\nexport const useTypography = () => {\n\treturn useMemo(() => ({\n\t\t// Semantic device-grouped typography\n\tMobile: {\n\t\tSize14: tokens.FontSize14Mobile,\n\t\tSize16: tokens.FontSize16Mobile,\n\t\tSize19: tokens.FontSize19Mobile,\n\t\tSize22: tokens.FontSize22Mobile,\n\t\tSize26: tokens.FontSize26Mobile,\n\t\tSize36: tokens.FontSize36Mobile,\n\t\tSize48: tokens.FontSize48Mobile,\n\t},\n\tTablet: {\n\t\tSize14: tokens.FontSize14Tablet,\n\t\tSize16: tokens.FontSize16Tablet,\n\t\tSize19: tokens.FontSize19Tablet,\n\t\tSize22: tokens.FontSize22Tablet,\n\t\tSize26: tokens.FontSize26Tablet,\n\t\tSize36: tokens.FontSize36Tablet,\n\t\tSize48: tokens.FontSize48Tablet,\n\t},\n\tPrint: {\n\t\tSize14: tokens.FontSize14Print,\n\t\tSize16: tokens.FontSize16Print,\n\t\tSize19: tokens.FontSize19Print,\n\t\tSize22: tokens.FontSize22Print,\n\t\tSize26: tokens.FontSize26Print,\n\t\tSize36: tokens.FontSize36Print,\n\t\tSize48: tokens.FontSize48Print,\n\t},\n\tFamily: {\n\t\tBase: tokens.FontFamilyBase,\n\t\tFallback: tokens.FontFamilyFallback,\n\t\tPrint: tokens.FontFamilyPrint,\n\t},\n\tWeight: {\n\t\tNormal: tokens.FontWeightNormal,\n\t\tBold: tokens.FontWeightBold,\n\t\tLight: tokens.FontWeightLight,\n\t},\n\tBase: {\n\t\tSize: tokens.FontSizeBase,\n\t\tLineHeight: tokens.FontLineHeightBase,\n\t},\n\t\n\t// Backward compatibility - individual exports\n\t\tFontFamilyBase: tokens.FontFamilyBase,\n\t\tFontFamilyFallback: tokens.FontFamilyFallback,\n\t\tFontFamilyPrint: tokens.FontFamilyPrint,\n\t\tFontWeightNormal: tokens.FontWeightNormal,\n\t\tFontWeightBold: tokens.FontWeightBold,\n\t\tFontWeightLight: tokens.FontWeightLight,\n\t\tFontSize14Mobile: tokens.FontSize14Mobile,\n\t\tFontSize14Tablet: tokens.FontSize14Tablet,\n\t\tFontSize14Print: tokens.FontSize14Print,\n\t\tFontSize16Mobile: tokens.FontSize16Mobile,\n\t\tFontSize16Tablet: tokens.FontSize16Tablet,\n\t\tFontSize16Print: tokens.FontSize16Print,\n\t\tFontSize19Mobile: tokens.FontSize19Mobile,\n\t\tFontSize19Tablet: tokens.FontSize19Tablet,\n\t\tFontSize19Print: tokens.FontSize19Print,\n\t\tFontSize22Mobile: tokens.FontSize22Mobile,\n\t\tFontSize22Tablet: tokens.FontSize22Tablet,\n\t\tFontSize22Print: tokens.FontSize22Print,\n\t\tFontSize26Mobile: tokens.FontSize26Mobile,\n\t\tFontSize26Tablet: tokens.FontSize26Tablet,\n\t\tFontSize26Print: tokens.FontSize26Print,\n\t\tFontSize36Mobile: tokens.FontSize36Mobile,\n\t\tFontSize36Tablet: tokens.FontSize36Tablet,\n\t\tFontSize36Print: tokens.FontSize36Print,\n\t\tFontSize48Mobile: tokens.FontSize48Mobile,\n\t\tFontSize48Tablet: tokens.FontSize48Tablet,\n\t\tFontSize48Print: tokens.FontSize48Print,\n\t\tFontSizeBase: tokens.FontSizeBase,\n\t\tFontLineHeightBase: tokens.FontLineHeightBase,\n\t}), []);\n};\n\nexport const useResponsiveSpacing = () => {\n\treturn useMemo(() => ({\n\t\t// Semantic device-grouped responsive spacing\n\tMobile: {\n\t\tSize0: tokens.SpacingResponsive0Mobile,\n\t\tSize1: tokens.SpacingResponsive1Mobile,\n\t\tSize2: tokens.SpacingResponsive2Mobile,\n\t\tSize3: tokens.SpacingResponsive3Mobile,\n\t\tSize4: tokens.SpacingResponsive4Mobile,\n\t\tSize5: tokens.SpacingResponsive5Mobile,\n\t\tSize6: tokens.SpacingResponsive6Mobile,\n\t\tSize7: tokens.SpacingResponsive7Mobile,\n\t\tSize8: tokens.SpacingResponsive8Mobile,\n\t\tSize9: tokens.SpacingResponsive9Mobile,\n\t},\n\tTablet: {\n\t\tSize0: tokens.SpacingResponsive0Tablet,\n\t\tSize1: tokens.SpacingResponsive1Tablet,\n\t\tSize2: tokens.SpacingResponsive2Tablet,\n\t\tSize3: tokens.SpacingResponsive3Tablet,\n\t\tSize4: tokens.SpacingResponsive4Tablet,\n\t\tSize5: tokens.SpacingResponsive5Tablet,\n\t\tSize6: tokens.SpacingResponsive6Tablet,\n\t\tSize7: tokens.SpacingResponsive7Tablet,\n\t\tSize8: tokens.SpacingResponsive8Tablet,\n\t\tSize9: tokens.SpacingResponsive9Tablet,\n\t},\n\t\n\t// Backward compatibility - individual exports\n\t\tSpacingResponsive0Mobile: tokens.SpacingResponsive0Mobile,\n\t\tSpacingResponsive0Tablet: tokens.SpacingResponsive0Tablet,\n\t\tSpacingResponsive1Mobile: tokens.SpacingResponsive1Mobile,\n\t\tSpacingResponsive1Tablet: tokens.SpacingResponsive1Tablet,\n\t\tSpacingResponsive2Mobile: tokens.SpacingResponsive2Mobile,\n\t\tSpacingResponsive2Tablet: tokens.SpacingResponsive2Tablet,\n\t\tSpacingResponsive3Mobile: tokens.SpacingResponsive3Mobile,\n\t\tSpacingResponsive3Tablet: tokens.SpacingResponsive3Tablet,\n\t\tSpacingResponsive4Mobile: tokens.SpacingResponsive4Mobile,\n\t\tSpacingResponsive4Tablet: tokens.SpacingResponsive4Tablet,\n\t\tSpacingResponsive5Mobile: tokens.SpacingResponsive5Mobile,\n\t\tSpacingResponsive5Tablet: tokens.SpacingResponsive5Tablet,\n\t\tSpacingResponsive6Mobile: tokens.SpacingResponsive6Mobile,\n\t\tSpacingResponsive6Tablet: tokens.SpacingResponsive6Tablet,\n\t\tSpacingResponsive7Mobile: tokens.SpacingResponsive7Mobile,\n\t\tSpacingResponsive7Tablet: tokens.SpacingResponsive7Tablet,\n\t\tSpacingResponsive8Mobile: tokens.SpacingResponsive8Mobile,\n\t\tSpacingResponsive8Tablet: tokens.SpacingResponsive8Tablet,\n\t\tSpacingResponsive9Mobile: tokens.SpacingResponsive9Mobile,\n\t\tSpacingResponsive9Tablet: tokens.SpacingResponsive9Tablet,\n\t}), []);\n};\n\nexport const useComponentSpacing = () => {\n\treturn useMemo(() => ({\n\t// Button spacing\n\t\tButtonSpacingPaddingVerticalMobile: tokens.ButtonSpacingPaddingVerticalMobile,\n\t\tButtonSpacingPaddingHorizontalMobile: tokens.ButtonSpacingPaddingHorizontalMobile,\n\t\tButtonSpacingPaddingVerticalDesktop: tokens.ButtonSpacingPaddingVerticalDesktop,\n\t\tButtonSpacingPaddingHorizontalDesktop: tokens.ButtonSpacingPaddingHorizontalDesktop,\n\t\n\t// Card spacing\t\n\t\tCardSpacingPaddingMobile: tokens.CardSpacingPaddingMobile,\n\t\tCardSpacingPaddingDesktop: tokens.CardSpacingPaddingDesktop,\n\t\tCardSpacingHeadingMargin: tokens.CardSpacingHeadingMargin,\n\t\n\t// Form spacing\n\t\tFormSpacingInputPadding: tokens.FormSpacingInputPadding,\n\t\tFormSpacingInputMinHeight: tokens.FormSpacingInputMinHeight,\n\t\tFormSpacingCheckboxSize: tokens.FormSpacingCheckboxSize,\n\t\tFormSpacingCheckboxLabelPadding: tokens.FormSpacingCheckboxLabelPadding,\n\t}), []);\n};\n\n// NHS Typography System Hooks\nexport const useNHSHeadings = () => {\n\treturn useMemo(() => ({\n\txl: tokens.HeadingsNhsukHeadingXl,\n\tl: tokens.HeadingsNhsukHeadingL,\n\tm: tokens.HeadingsNhsukHeadingM,\n\ts: tokens.HeadingsNhsukHeadingS,\n\txs: tokens.HeadingsNhsukHeadingXs,\n\t}), []);\n};\n\nexport const useNHSParagraphs = () => {\n\treturn useMemo(() => ({\n\tbody: tokens.ParagraphsBody,\n\tbodyLarge: tokens.ParagraphsBodyLarge,\n\tbodySmall: tokens.ParagraphsBodySmall,\n\tledeText: tokens.ParagraphsLedeText,\n\tledeTextSmall: tokens.ParagraphsLedeTextSmall,\n\t}), []);\n};\n\nexport const useNHSTypographySystem = (): NHSTypographySystem => {\n\treturn useMemo(() => ({\n\theadings: {\n\t\txl: tokens.HeadingsNhsukHeadingXl,\n\t\tl: tokens.HeadingsNhsukHeadingL,\n\t\tm: tokens.HeadingsNhsukHeadingM,\n\t\ts: tokens.HeadingsNhsukHeadingS,\n\t\txs: tokens.HeadingsNhsukHeadingXs,\n\t},\n\tparagraphs: {\n\t\tbody: tokens.ParagraphsBody,\n\t\tbodyLarge: tokens.ParagraphsBodyLarge,\n\t\tbodySmall: tokens.ParagraphsBodySmall,\n\t\tledeText: tokens.ParagraphsLedeText,\n\t\tledeTextSmall: tokens.ParagraphsLedeTextSmall,\n\t},\n\tfonts: {\n\t\tfamily: {\n\t\tbase: tokens.FontFamilyBase,\n\t\tfallback: tokens.FontFamilyFallback,\n\t\tprint: tokens.FontFamilyPrint,\n\t\t},\n\t\tweight: {\n\t\tnormal: tokens.FontWeightNormal,\n\t\tbold: tokens.FontWeightBold,\n\t\tlight: tokens.FontWeightLight,\n\t\t},\n\t\tsizes: {\n\t\tmobile: {\n\t\t\tsize14: tokens.FontSize14Mobile,\n\t\t\tsize16: tokens.FontSize16Mobile,\n\t\t\tsize19: tokens.FontSize19Mobile,\n\t\t\tsize22: tokens.FontSize22Mobile,\n\t\t\tsize26: tokens.FontSize26Mobile,\n\t\t\tsize36: tokens.FontSize36Mobile,\n\t\t\tsize48: tokens.FontSize48Mobile,\n\t\t},\n\t\ttablet: {\n\t\t\tsize14: tokens.FontSize14Tablet,\n\t\t\tsize16: tokens.FontSize16Tablet,\n\t\t\tsize19: tokens.FontSize19Tablet,\n\t\t\tsize22: tokens.FontSize22Tablet,\n\t\t\tsize26: tokens.FontSize26Tablet,\n\t\t\tsize36: tokens.FontSize36Tablet,\n\t\t\tsize48: tokens.FontSize48Tablet,\n\t\t},\n\t\tprint: {\n\t\t\tsize14: tokens.FontSize14Print,\n\t\t\tsize16: tokens.FontSize16Print,\n\t\t\tsize19: tokens.FontSize19Print,\n\t\t\tsize22: tokens.FontSize22Print,\n\t\t\tsize26: tokens.FontSize26Print,\n\t\t\tsize36: tokens.FontSize36Print,\n\t\t\tsize48: tokens.FontSize48Print,\n\t\t},\n\t\t},\n\t},\n\t}), []);\n};","/**\n * NHS Frutiger Font Configuration\n * \n * This module provides utilities for configuring and loading NHS Frutiger fonts.\n * It includes both official NHS font URLs and development fallbacks.\n */\n\nexport interface FontConfig {\n  /** Base URL for font files */\n  fontPath: string;\n  /** Whether to include font-face declarations */\n  includeFontFace: boolean;\n  /** Whether to use development fallbacks when Frutiger is not available */\n  useFallbacks: boolean;\n  /** Custom font weights to load */\n  fontWeights?: Array<400 | 600>;\n}\n\nexport const DEFAULT_FONT_CONFIG: FontConfig = {\n  fontPath: \"https://assets.nhs.uk/fonts/\",\n  includeFontFace: true,\n  useFallbacks: true,\n  fontWeights: [400, 600]\n};\n\n/**\n * Font files required for Frutiger W01\n */\nexport const FRUTIGER_FONT_FILES = {\n  normal: {\n    woff2: \"FrutigerLTW01-55Roman.woff2\",\n    woff: \"FrutigerLTW01-55Roman.woff\",\n    ttf: \"FrutigerLTW01-55Roman.ttf\",\n    eot: \"FrutigerLTW01-55Roman.eot\"\n  },\n  bold: {\n    woff2: \"FrutigerLTW01-65Bold.woff2\", \n    woff: \"FrutigerLTW01-65Bold.woff\",\n    ttf: \"FrutigerLTW01-65Bold.ttf\",\n    eot: \"FrutigerLTW01-65Bold.eot\"\n  }\n};\n\n/**\n * Generates CSS @font-face declarations for Frutiger fonts\n */\nexport function generateFrutigerFontFace(config: Partial<FontConfig> = {}): string {\n  const { fontPath, fontWeights } = { ...DEFAULT_FONT_CONFIG, ...config };\n  \n  const fontFaceDeclarations: string[] = [];\n  \n  if (fontWeights?.includes(400)) {\n    fontFaceDeclarations.push(`\n@font-face {\n  font-display: swap;\n  font-family: \"Frutiger W01\";\n  font-style: normal;\n  font-weight: 400;\n  src: url(\"${fontPath}${FRUTIGER_FONT_FILES.normal.eot}?#iefix\") format(\"eot\"),\n       url(\"${fontPath}${FRUTIGER_FONT_FILES.normal.woff2}\") format(\"woff2\"),\n       url(\"${fontPath}${FRUTIGER_FONT_FILES.normal.woff}\") format(\"woff\"),\n       url(\"${fontPath}${FRUTIGER_FONT_FILES.normal.ttf}\") format(\"truetype\");\n  src: url(\"${fontPath}${FRUTIGER_FONT_FILES.normal.eot}\");\n}`);\n  }\n  \n  if (fontWeights?.includes(600)) {\n    fontFaceDeclarations.push(`\n@font-face {\n  font-display: swap;\n  font-family: \"Frutiger W01\";\n  font-style: normal;\n  font-weight: 600;\n  src: url(\"${fontPath}${FRUTIGER_FONT_FILES.bold.eot}?#iefix\") format(\"eot\"),\n       url(\"${fontPath}${FRUTIGER_FONT_FILES.bold.woff2}\") format(\"woff2\"),\n       url(\"${fontPath}${FRUTIGER_FONT_FILES.bold.woff}\") format(\"woff\"),\n       url(\"${fontPath}${FRUTIGER_FONT_FILES.bold.ttf}\") format(\"truetype\");\n  src: url(\"${fontPath}${FRUTIGER_FONT_FILES.bold.eot}\");\n}`);\n  }\n  \n  return fontFaceDeclarations.join('\\n');\n}\n\n/**\n * Preload Frutiger fonts for better performance\n */\nexport function preloadFrutigerFonts(config: Partial<FontConfig> = {}): void {\n  if (typeof document === 'undefined') return; // SSR safety\n  \n  const { fontPath, fontWeights } = { ...DEFAULT_FONT_CONFIG, ...config };\n  \n  const preloadFonts = [\n    // Preload the most important formats (woff2 first, then woff)\n    ...(fontWeights?.includes(400) ? [\n      { href: `${fontPath}${FRUTIGER_FONT_FILES.normal.woff2}`, as: 'font', type: 'font/woff2' },\n      { href: `${fontPath}${FRUTIGER_FONT_FILES.normal.woff}`, as: 'font', type: 'font/woff' }\n    ] : []),\n    ...(fontWeights?.includes(600) ? [\n      { href: `${fontPath}${FRUTIGER_FONT_FILES.bold.woff2}`, as: 'font', type: 'font/woff2' },\n      { href: `${fontPath}${FRUTIGER_FONT_FILES.bold.woff}`, as: 'font', type: 'font/woff' }\n    ] : [])\n  ];\n  \n  preloadFonts.forEach(font => {\n    const link = document.createElement('link');\n    link.rel = 'preload';\n    link.href = font.href;\n    link.as = font.as;\n    link.type = font.type;\n    link.crossOrigin = 'anonymous'; // Required for font preloading\n    document.head.appendChild(link);\n  });\n}\n\n/**\n * Font stack with proper fallbacks\n */\nexport const NHS_FONT_STACK = '\"Frutiger W01\", Arial, Helvetica, sans-serif';\n\n/**\n * Development fallback font stack (when Frutiger is not available)\n */\nexport const NHS_FALLBACK_FONT_STACK = 'Arial, Helvetica, sans-serif';\n\n/**\n * Check if Frutiger fonts are loaded\n */\nexport async function checkFrutigerLoaded(): Promise<boolean> {\n  if (typeof document === 'undefined' || !document.fonts) return false;\n  \n  try {\n    await document.fonts.load('1em \"Frutiger W01\"');\n    return document.fonts.check('1em \"Frutiger W01\"');\n  } catch {\n    return false;\n  }\n}\n\n// Note: React hook implementation moved to src/hooks/useFrutigerFonts.ts\n// This avoids React import issues in this utility file\n"],"names":["REACT_ELEMENT_TYPE","REACT_FRAGMENT_TYPE","jsxProd","type","config","maybeKey","key","propName","reactJsxRuntime_production","getComponentNameFromType","REACT_CLIENT_REFERENCE","REACT_PROFILER_TYPE","REACT_STRICT_MODE_TYPE","REACT_SUSPENSE_TYPE","REACT_SUSPENSE_LIST_TYPE","REACT_ACTIVITY_TYPE","REACT_PORTAL_TYPE","REACT_CONTEXT_TYPE","REACT_CONSUMER_TYPE","REACT_FORWARD_REF_TYPE","innerType","REACT_MEMO_TYPE","REACT_LAZY_TYPE","testStringCoercion","value","checkKeyStringCoercion","JSCompiler_inline_result","JSCompiler_temp_const","JSCompiler_inline_result$jscomp$0","getTaskName","name","getOwner","dispatcher","ReactSharedInternals","UnknownOwner","hasValidKey","hasOwnProperty","getter","defineKeyPropWarningGetter","props","displayName","warnAboutAccessingKey","specialPropKeyWarningShown","elementRefGetterWithDeprecationWarning","componentName","didWarnAboutElementRef","ReactElement","self","source","owner","debugStack","debugTask","jsxDEVImpl","isStaticChildren","children","isArrayImpl","validateChildKeys","keys","k","didWarnAboutKeySpread","node","React","require$$0","createTask","callStackForError","unknownOwnerDebugStack","unknownOwnerDebugTask","reactJsxRuntime_development","trackActualOwner","jsxRuntimeModule","require$$1","hasOwn","classNames","classes","arg","appendClass","parseValue","newClass","module","ActionLink","text","href","openInNewWindow","className","linkClasses","jsx","jsxs","$f0a04ccd8dbdd83b$export$e5c5a5f917a5871c","$HgANd$react","$8ae05eaa5c114e9c$var$_React_useInsertionEffect","$8ae05eaa5c114e9c$var$useEarlyEffect","$lmaYr$react","$8ae05eaa5c114e9c$export$7f54fc3180508a52","fn","ref","$lmaYr$useRef","$lmaYr$useCallback","args","f","$b5e257d569688ac6$var$defaultContext","$b5e257d569688ac6$var$SSRContext","$670gB$react","$b5e257d569688ac6$var$IsSSRContext","$b5e257d569688ac6$var$canUseDOM","$b5e257d569688ac6$var$componentIds","$b5e257d569688ac6$var$useCounter","isDisabled","ctx","$670gB$useContext","$670gB$useRef","_React___SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED_ReactCurrentOwner","_React___SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED","currentOwner","prevComponentValue","$b5e257d569688ac6$var$useLegacySSRSafeId","defaultId","counter","prefix","$b5e257d569688ac6$var$useModernSSRSafeId","id","didSSR","$670gB$useState","$b5e257d569688ac6$export$535bd6ca7f90a273","$b5e257d569688ac6$export$619500959fc48b26","$b5e257d569688ac6$var$getSnapshot","$b5e257d569688ac6$var$getServerSnapshot","$b5e257d569688ac6$var$subscribe","onStoreChange","$bdb11010cef70236$var$canUseDOM","$bdb11010cef70236$export$d41a04c74483c6ef","$bdb11010cef70236$var$registry","heldValue","$bdb11010cef70236$export$f680877a34711e37","setValue","$eKkEp$useState","nextId","$eKkEp$useRef","res","$eKkEp$useSSRSafeId","cleanupRef","cacheIdRef","r","$eKkEp$useEffect","newId","$bdb11010cef70236$export$cd8c9cb68f842629","idA","idB","setIdsA","setIdsB","$ff5963eb1fccf552$export$e08e3b67e392101e","callbacks","callback","$431fbd86ca7dc216$export$b204af158042fbac","el","_el_ownerDocument","$431fbd86ca7dc216$export$f21a1ffae260145a","$431fbd86ca7dc216$var$isNode","$431fbd86ca7dc216$export$af51f0f06c0f328a","$f4e2df6bd15f8569$var$_shadowDOM","$f4e2df6bd15f8569$export$98658e8c59125e6a","$d4ee10de306f2510$export$4282f70798064fe0","otherNode","$lcSu5$shadowDOM","currentNode","$d4ee10de306f2510$export$cd4e5573fbe2b576","doc","_activeElement_shadowRoot","activeElement","$d4ee10de306f2510$export$e58f029f0fbfdb29","event","n","o","clsx","$3ef42575df84b30b$export$9d1611c77c2fe928","result","i","a","b","$7jXr9$clsx","$5dc95899b306f630$export$c9058316764c140e","refs","hasCleanup","cleanups","cleanup","$5dc95899b306f630$var$setRef","$65484d02dcb7eb3e$var$DOMPropNames","$65484d02dcb7eb3e$var$labelablePropNames","$65484d02dcb7eb3e$var$linkPropNames","$65484d02dcb7eb3e$var$globalAttrs","$65484d02dcb7eb3e$var$globalEvents","$65484d02dcb7eb3e$var$propRe","$65484d02dcb7eb3e$export$457c3d6518dd4c6f","opts","labelable","isLink","global","events","propNames","filteredProps","prop","$7215afc6de606d6b$export$de79e2c695e052f3","element","$7215afc6de606d6b$var$supportsPreventScroll","scrollableElements","$7215afc6de606d6b$var$getScrollableElements","$7215afc6de606d6b$var$restoreScrollPosition","$7215afc6de606d6b$var$supportsPreventScrollCached","parent","rootScrollingElement","scrollTop","scrollLeft","$c87311424ea30a05$var$testUserAgent","re","_window_navigator_userAgentData","brands","brand","$c87311424ea30a05$var$testPlatform","$c87311424ea30a05$var$cached","$c87311424ea30a05$export$9ac100e40613ea10","$c87311424ea30a05$export$186c6964ca17d99","$c87311424ea30a05$export$7bef049ce92e4224","$c87311424ea30a05$export$fedb369cb70207f1","$c87311424ea30a05$export$78551043582a6a98","$c87311424ea30a05$export$6446a186d09e379e","$c87311424ea30a05$export$a11b0059900ceec8","$c87311424ea30a05$export$b7d78993b74f766d","$ea8dcbcb9ea1b556$export$95185d699e05d4d7","target","modifiers","setOpening","_window_event_type","_window_event","metaKey","ctrlKey","altKey","shiftKey","$bbed8b41f857bcc0$var$transitionsByElement","$bbed8b41f857bcc0$var$transitionCallbacks","$bbed8b41f857bcc0$var$setupGlobalEvents","isTransitionEvent","onTransitionStart","e","transitions","onTransitionEnd","properties","cb","$bbed8b41f857bcc0$var$cleanupDetachedElements","eventTarget","$bbed8b41f857bcc0$export$24490316f764c430","$03deb23ff14920c4$export$4eaf04e54aa8eed6","globalListeners","$lPAwt$useRef","addGlobalListener","$lPAwt$useCallback","listener","options","removeGlobalListener","_globalListeners_current_get","removeAllGlobalListeners","$lPAwt$useEffect","$df56164dff5785e2$export$4338b53315abf666","objRef","$gbmns$useRef","refEffect","$gbmns$useCallback","instance","refCallback","refCleanup","$gbmns$useMemo","$e7801be82b4b2a53$export$4debdb1a3f0fa79e","context","$6a7db85432448f7f$export$60278871457622de","$6a7db85432448f7f$export$29bf1b5f2c56cf63","$7d2416ea0959daaa$var$supportsCheckVisibility","$7d2416ea0959daaa$var$isStyleVisible","windowObject","display","visibility","isVisible","getComputedStyle","computedDisplay","computedVisibility","$7d2416ea0959daaa$var$isAttributeVisible","childElement","$7d2416ea0959daaa$export$e989c0fffaa6b27a","$b4b717babfbb907b$var$focusableElements","$b4b717babfbb907b$var$FOCUSABLE_ELEMENT_SELECTOR","$b4b717babfbb907b$export$4c063cf1350e6fed","$b4b717babfbb907b$var$isInert","$64fa3d84918910a7$export$c62b8e45d58ddad9","$64fa3d84918910a7$export$4d86445c2cf5e3","style","defaultClassName","defaultChildren","defaultStyle","values","$iETbY$useMemo","computedClassName","computedStyle","computedChildren","$64fa3d84918910a7$export$fabf2dc03a41866e","slot","$iETbY$useContext","slotKey","availableSlots","p","errorMessage","$64fa3d84918910a7$export$29f1550f4b0d4415","contextRef","contextProps","mergedRef","$iETbY$useObjectRef","$iETbY$mergeRefs","mergedProps","$iETbY$mergeProps","renderProps","contextStyle","getFirstChild","$f39a9eba43920ace$export$94b6d0abf7d33e8c","$8SdCi$createContext","$f39a9eba43920ace$export$86427a43e3e48ebb","Wrapper","$8SdCi$useContext","$8SdCi$forwardRef","$8a9cb279dc87e130$export$525bc4921d56d4a","nativeEvent","$8a9cb279dc87e130$export$c2b7abe5d61ec696","$8a9cb279dc87e130$export$715c682d09d639cc","onBlur","stateRef","$6dfIe$useRef","$6dfIe$useLayoutEffect","state","dispatchBlur","$6dfIe$useEffectEvent","$6dfIe$useCallback","onBlurHandler","_stateRef_current_observer","relatedTargetEl","$8a9cb279dc87e130$export$fda7da73ab5d4c48","$8a9cb279dc87e130$export$cabe61c495ee3649","$6dfIe$isFocusable","window","$6dfIe$getOwnerWindow","isRefocusing","onFocusOut","$6dfIe$focusWithoutScrolling","onFocus","onFocusIn","raf","$14c0b72509d70225$var$state","$14c0b72509d70225$var$savedUserSelect","$14c0b72509d70225$var$modifiedElementMap","$14c0b72509d70225$export$16a4697467175487","$7R18e$isIOS","documentObject","$7R18e$getOwnerDocument","property","$14c0b72509d70225$export$b0d6fa1ab32e3295","$7R18e$runAfterTransition","targetOldUserSelect","$ae1eeba8b9eafd08$export$5165eccb35aaadb5","$3aeG1$react","_class_apply_descriptor_get","receiver","descriptor","_class_extract_field_descriptor","privateMap","action","_class_private_field_get","_check_private_redeclaration","obj","privateCollection","_class_private_field_init","_class_apply_descriptor_set","_class_private_field_set","$f6c31cce2adf654f$var$usePressResponderContext","$7mdmh$useContext","register","$7mdmh$mergeProps","$7mdmh$useSyncRef","$f6c31cce2adf654f$var$_shouldStopPropagation","$f6c31cce2adf654f$var$PressEvent","$7mdmh$_2","$7mdmh$_","pointerType","originalEvent","$7mdmh$_1","_state_target","currentTarget","rect","x","y","clientX","clientY","$f6c31cce2adf654f$var$LINK_CLICKED","$f6c31cce2adf654f$var$STYLE_ID","$f6c31cce2adf654f$var$PRESSABLE_ATTRIBUTE","$f6c31cce2adf654f$export$45712eceda6fad21","onPress","onPressChange","onPressStart","onPressEnd","onPressUp","onClick","isPressedProp","preventFocusOnPress","shouldCancelOnPointerExit","allowTextSelectionOnPress","domRef","domProps","isPressed","setPressed","$7mdmh$useState","$7mdmh$useRef","$7mdmh$useGlobalListeners","triggerPressStart","$7mdmh$useEffectEvent","shouldStopPropagation","triggerPressEnd","wasPressed","triggerPressUp","cancel","$f6c31cce2adf654f$var$createEvent","dispose","cancelOnPointerExit","triggerClick","triggerSyntheticClick","pressProps","$7mdmh$useMemo","$f6c31cce2adf654f$var$isValidKeyboardEvent","$7mdmh$nodeContains","$7mdmh$getEventTarget","_state_metaKeyEvents","$f6c31cce2adf654f$var$shouldPreventDefaultKeyboard","originalTarget","pressUp","$7mdmh$getOwnerDocument","$7mdmh$chain","onKeyUp","$7mdmh$isMac","$7mdmh$openLink","$7mdmh$isVirtualClick","stopPressStart","stopPressUp","stopPressEnd","_state_metaKeyEvents1","$f6c31cce2adf654f$var$isHTMLAnchorLink","$7mdmh$isVirtualPointerEvent","onPointerUp","onPointerCancel","clicked","timeout","$7mdmh$focusWithoutScrolling","$7mdmh$flushSync","onMouseUp","touch","$f6c31cce2adf654f$var$getTouchFromEvent","$f6c31cce2adf654f$var$createTouchEvent","$7mdmh$getOwnerWindow","onScroll","$f6c31cce2adf654f$var$getTouchById","$f6c31cce2adf654f$var$isOverTarget","$7mdmh$useEffect","ownerDocument","code","role","$f6c31cce2adf654f$var$isValidInputKey","targetTouches","pointerId","changedTouches","$f6c31cce2adf654f$var$getPointClientRect","point","offsetX","offsetY","$f6c31cce2adf654f$var$areRectanglesOverlapping","pointRect","$f6c31cce2adf654f$var$shouldPreventDefaultUp","$f6c31cce2adf654f$var$nonTextInputTypes","$507fabe10e71c6fb$var$currentModality","$507fabe10e71c6fb$var$changeHandlers","$507fabe10e71c6fb$export$d90243b58daecda7","$507fabe10e71c6fb$var$hasEventBeforeFocus","$507fabe10e71c6fb$var$hasBlurredWindowRecently","$507fabe10e71c6fb$var$FOCUS_VISIBLE_INPUT_KEYS","$507fabe10e71c6fb$var$triggerChangeHandlers","modality","handler","$507fabe10e71c6fb$var$isValidKey","$28AnR$isMac","$507fabe10e71c6fb$var$handleKeyboardEvent","$507fabe10e71c6fb$var$handlePointerEvent","$507fabe10e71c6fb$var$handleClickEvent","$28AnR$isVirtualClick","$507fabe10e71c6fb$var$handleFocusEvent","$507fabe10e71c6fb$var$handleWindowBlur","$507fabe10e71c6fb$var$setupGlobalFocusEvents","$28AnR$getOwnerWindow","$28AnR$getOwnerDocument","focus","$507fabe10e71c6fb$var$tearDownWindowFocusTracking","loadListener","$507fabe10e71c6fb$export$2f1888112f558a7d","$507fabe10e71c6fb$export$b9b3dfddab17db27","$507fabe10e71c6fb$export$630ff653c5ada6a9","$507fabe10e71c6fb$var$nonTextInputTypes","$507fabe10e71c6fb$var$isKeyboardFocusEvent","isTextInput","document1","IHTMLInputElement","IHTMLTextAreaElement","IHTMLElement","IKeyboardEvent","$507fabe10e71c6fb$export$ec71b4b83ac08ec3","deps","$28AnR$useEffect","$3ad3f6e1647bc98d$export$80f3e147d781571c","$k50bp$getOwnerDocument","$k50bp$getActiveElement","lastFocusedElement","$k50bp$runAfterTransition","$k50bp$focusWithoutScrolling","$a1ea59d68270f0dd$export$f8168d8dd8fd66e6","onFocusProp","onBlurProp","onFocusChange","$hf0lj$useCallback","onSyntheticFocus","$hf0lj$getOwnerDocument","$hf0lj$getActiveElement","$hf0lj$getEventTarget","$93925083ecbb358c$export$48d1ea6320830260","$46d819fcbaf35654$export$8f71654801c2f7cd","$f645667febf57a63$export$f9762fab77588ecb","$fcPuG$react","$f645667febf57a63$var$useFocusableContext","$fcPuG$useContext","$fcPuG$useSyncRef","_","otherProps","$f645667febf57a63$export$4c014de7c8940b4c","focusProps","keyboardProps","interactions","$fcPuG$mergeProps","interactionProps","autoFocusRef","$fcPuG$useRef","$fcPuG$useEffect","tabIndex","$9ab94262bd0047c7$export$420e68273165f4ec","onBlurWithin","onFocusWithin","onFocusWithinChange","$3b9Q0$useRef","$3b9Q0$useGlobalListeners","$3b9Q0$useCallback","$3b9Q0$getOwnerDocument","$3b9Q0$getActiveElement","$3b9Q0$getEventTarget","$3b9Q0$nodeContains","$6179b936705e76d3$var$globalIgnoreEmulatedMouseEvents","$6179b936705e76d3$var$hoverCount","$6179b936705e76d3$var$setGlobalIgnoreEmulatedMouseEvents","$6179b936705e76d3$var$handleGlobalPointerEvent","$6179b936705e76d3$var$setupGlobalTouchEvents","$6179b936705e76d3$export$ae780daf29e6d456","onHoverStart","onHoverChange","onHoverEnd","isHovered","setHovered","$AWxnT$useState","$AWxnT$useRef","$AWxnT$useEffect","$AWxnT$useGlobalListeners","hoverProps","triggerHoverEnd","$AWxnT$useMemo","triggerHoverStart","$AWxnT$getOwnerDocument","$AWxnT$nodeContains","$701a24aa0da5b062$export$ea18c227d4417cc3","elementType","allowFocusWhenDisabled","rel","additionalProps","$bwqiF$usePress","focusableProps","$bwqiF$useFocusable","buttonProps","$bwqiF$mergeProps","$bwqiF$filterDOMProps","$f7dceffc5ad7768b$export$4e328f61c538687f","autoFocus","within","$isWE5$useRef","$isWE5$isFocusVisible","isFocused","setFocused","$isWE5$useState","isFocusVisibleState","setFocusVisible","updateState","$isWE5$useCallback","$isWE5$useFocusVisibleListener","isFocusVisible","$isWE5$useFocus","focusWithinProps","$isWE5$useFocusWithin","$319e236875307eab$var$LIVEREGION_TIMEOUT_DELAY","$319e236875307eab$var$liveAnnouncer","$319e236875307eab$export$a9b970dcc4ae71a9","message","assertiveness","$319e236875307eab$var$LiveAnnouncer","_this_node","ariaLive","_this_assertiveLog","_this_politeLog","$0393f8ab869a0f1a$export$e9f3bf65a26ce129","$hU2kz$createContext","$d2b4bc8c273e7be6$export$24d547caef80ccd1","$fM325$createContext","$d2b4bc8c273e7be6$export$353f5b6fc5456de1","$fM325$createHideableComponent","$d2b4bc8c273e7be6$var$disablePendingProps","isPending","$fM325$useButton","$fM325$useFocusRing","$fM325$useHover","renderValues","buttonId","$fM325$useId","progressId","ariaLabelledby","wasPending","$fM325$useRef","$fM325$useEffect","$fM325$announce","DOMProps","$fM325$filterDOMProps","$fM325$react","$fM325$mergeProps","forwardRef","Button","variant","size","fullWidth","rest","ReactButton","BackLink","html","containerClasses","renderContent","Fragment","Tag","color","noBorder","closable","onClose","disabled","tagClasses","handleClose","Input","defaultValue","placeholder","readOnly","required","hasError","describedBy","width","inputMode","autoComplete","maxLength","minLength","pattern","step","min","max","onChange","onKeyDown","inputClasses","Label","htmlFor","isPageHeading","labelClasses","LabelElement","Fieldset","legend","fieldsetProps","fieldsetClasses","legendClasses","renderLegendContent","content","Checkboxes","items","idPrefix","legendSize","hint","small","fieldsetAttributes","attributes","selectedValues","setSelectedValues","useState","item","finalIdPrefix","hintId","errorId","handleCheckboxChange","checked","newValues","v","renderItems","index","itemId","conditionalId","isChecked","checkboxesClasses","formGroupClasses","Textarea","rows","cols","wrap","resize","spellCheck","textareaClasses","Hint","hintClasses","CharacterCount","maxWords","threshold","countMessage","onCountChange","textareaProps","currentValue","setCurrentValue","remaining","setRemaining","isOverLimit","setIsOverLimit","showCount","setShowCount","calculateCount","useCallback","useEffect","newCount","limit","newRemaining","thresholdCount","handleChange","newValue","generateCountMessage","unit","unitPlural","overage","characterCountClasses","messageClasses","Select","multiple","selectClasses","option","Radios","inline","selectedValue","setSelectedValue","radiosClasses","radioId","isSelected","Heading","level","marginBottom","headingLevel","headingClasses","tagName","createElement","ErrorMessage","visuallyHiddenText","errorClasses","ErrorSummary","titleText","titleHtml","descriptionText","descriptionHtml","errorList","errorSummaryRef","useRef","errorSummaryClasses","renderTitle","renderDescription","renderErrorItem","DateInput","namePrefix","fieldset","currentValues","setCurrentValues","fieldErrors","setFieldErrors","isLeapYear","year","getDaysInMonth","month","daysInMonth","validateDay","day","dayNum","monthNum","yearNum","maxDays","validateMonth","validateYear","currentYear","validateDate","handleInputChange","fieldName","handleInputBlur","fieldError","dayError","prev","dateError","defaultItems","useMemo","dateInputItems","hasFieldErrors","error","dateInputClasses","renderInputs","field","inputId","inputName","labelText","inputDescribedBy","fieldErrorId","nhsTheme","ThemeContext","createContext","NHSThemeProvider","theme","mergedTheme","useNHSTheme","useContext","createFontFaceCSS","injectFontCSS","BaseThemeProvider","Header","logo","service","organisation","search","account","navigation","menuOpen","setMenuOpen","showMoreButton","setShowMoreButton","visibleItems","setVisibleItems","isInitialized","setIsInitialized","dropdownVisible","setDropdownVisible","isClient","setIsClient","navigationRef","containerRef","overflowCheckRef","resizeTimeoutRef","navigationItemsRef","lastBreakpointRef","timer","checkOverflow","combineLogoAndServiceNameLinks","logoHref","headerClasses","containerClass","navigationClasses","container","nav","containerWidth","navItems","mobile","gutterSize","totalGutters","availableContainerWidth","measurements","totalWidth","sum","moreButtonWidth","breakpointChanged","availableWidth","itemsToShow","runningWidth","newWidth","shouldShowMore","handleEscapeKey","handleResize","mediaQueryList","handleBreakpointChange","handleClickOutside","isInsideNavigation","toggleMenu","newMenuState","renderNHSLogo","renderServiceLogo","renderOrganisationName","renderServiceName","renderAccountItem","iconContent","textContent","renderSearchIcon","renderChevronIcon","renderNavigationLinkContent","Hero","heading","imageURL","heroClasses","containerClassNames","headingClassNames","hasContent","renderHeading","Footer","links","linksColumn2","linksColumn3","metaLinks","copyright","renderLinkItem","isDefaultLayout","isMultiColumnLayout","ascending","descending","bisector","compare1","compare2","delta","d","zero","left","lo","hi","mid","right","center","number","ascendingBisect","bisectRight","e10","e5","e2","tickSpec","start","stop","count","power","factor","i1","i2","inc","tickIncrement","tickStep","reverse","initRange","domain","range","define","constructor","factory","prototype","extend","definition","Color","darker","brighter","reI","reN","reP","reHex","reRgbInteger","reRgbPercent","reRgbaInteger","reRgbaPercent","reHslPercent","reHslaPercent","named","channels","color_formatHex","color_formatHex8","color_formatHsl","color_formatRgb","hslConvert","format","m","l","rgbn","Rgb","rgba","hsla","g","rgbConvert","rgb","opacity","clampi","clampa","rgb_formatHex","rgb_formatHex8","rgb_formatRgb","hex","h","s","Hsl","hsl","m2","m1","hsl2rgb","clamph","clampt","constant","linear","t","exponential","gamma","nogamma","rgbGamma","end","colorRgb","numberArray","c","isNumberArray","genericArray","nb","na","date$1","interpolateNumber","object","reA","reB","one","string","bi","am","bm","bs","q","interpolate","date","interpolateRound","constants","identity","normalize","clamper","bimap","d0","d1","r0","r1","polymap","j","bisect","copy","transformer","interpolateValue","transform","untransform","unknown","clamp","piecewise","output","input","rescale","scale","u","continuous","nice","interval","i0","x0","x1","t0","t1","timeInterval","floori","offseti","previous","test","millisecond","durationSecond","durationMinute","durationHour","durationDay","durationWeek","durationMonth","durationYear","second","timeMinute","utcMinute","timeHour","utcHour","timeDay","utcDay","unixDay","timeWeekday","timeSunday","timeMonday","timeTuesday","timeWednesday","timeThursday","timeFriday","timeSaturday","utcWeekday","utcSunday","utcMonday","utcTuesday","utcWednesday","utcThursday","utcFriday","utcSaturday","timeMonth","utcMonth","timeYear","utcYear","ticker","week","hour","minute","tickIntervals","ticks","tickInterval","timeTicks","timeTickInterval","localDate","utcDate","newDate","formatLocale","locale","locale_dateTime","locale_date","locale_time","locale_periods","locale_weekdays","locale_shortWeekdays","locale_months","locale_shortMonths","periodRe","formatRe","periodLookup","formatLookup","weekdayRe","weekdayLookup","shortWeekdayRe","shortWeekdayLookup","monthRe","monthLookup","shortMonthRe","shortMonthLookup","formats","formatShortWeekday","formatWeekday","formatShortMonth","formatMonth","formatDayOfMonth","formatMicroseconds","formatYearISO","formatFullYearISO","formatHour24","formatHour12","formatDayOfYear","formatMilliseconds","formatMonthNumber","formatMinutes","formatPeriod","formatQuarter","formatUnixTimestamp","formatUnixTimestampSeconds","formatSeconds","formatWeekdayNumberMonday","formatWeekNumberSunday","formatWeekNumberISO","formatWeekdayNumberSunday","formatWeekNumberMonday","formatYear","formatFullYear","formatZone","formatLiteralPercent","utcFormats","formatUTCShortWeekday","formatUTCWeekday","formatUTCShortMonth","formatUTCMonth","formatUTCDayOfMonth","formatUTCMicroseconds","formatUTCYearISO","formatUTCFullYearISO","formatUTCHour24","formatUTCHour12","formatUTCDayOfYear","formatUTCMilliseconds","formatUTCMonthNumber","formatUTCMinutes","formatUTCPeriod","formatUTCQuarter","formatUTCSeconds","formatUTCWeekdayNumberMonday","formatUTCWeekNumberSunday","formatUTCWeekNumberISO","formatUTCWeekdayNumberSunday","formatUTCWeekNumberMonday","formatUTCYear","formatUTCFullYear","formatUTCZone","parses","parseShortWeekday","parseWeekday","parseShortMonth","parseMonth","parseLocaleDateTime","parseDayOfMonth","parseMicroseconds","parseYear","parseFullYear","parseHour24","parseDayOfYear","parseMilliseconds","parseMonthNumber","parseMinutes","parsePeriod","parseQuarter","parseUnixTimestamp","parseUnixTimestampSeconds","parseSeconds","parseWeekdayNumberMonday","parseWeekNumberSunday","parseWeekNumberISO","parseWeekdayNumberSunday","parseWeekNumberMonday","parseLocaleDate","parseLocaleTime","parseZone","parseLiteralPercent","newFormat","specifier","pad","pads","newParse","Z","parseSpecifier","parse","numberRe","percentRe","requoteRe","fill","sign","length","requote","names","dISO","z","dow","UTCdISO","timeFormat","defaultLocale","calendar","invert","formatMillisecond","formatSecond","formatMinute","formatHour","formatDay","formatWeek","tickFormat","time","timeWeek","timeSecond","TaskBar","task","onTaskClick","onTaskDoubleClick","taskIndex","ariaLabel","setIsPressed","setIsFocused","leftPosition","rightPosition","getTaskColor","progressWidth","handleClick","handleDoubleClick","handleKeyDown","handleMouseDown","handleMouseUp","handleFocus","handleBlur","taskClasses","taskStyle","GanttHeader","viewStart","viewEnd","dateCount","dates","today","focusedDateIndex","setFocusedDateIndex","headerRef","newIndex","focusDateColumn","firstRowTimeline","lastIndex","handleResourceHeaderKeyDown","firstRowResource","timelineHeader","handleTimelineFocus","dateElement","idx","isToday","GanttRow","resource","tasks","rowIndex","isTimelineActive","setIsTimelineActive","selectedTaskIndex","setSelectedTaskIndex","timelineRef","handleTimelineKeyDown","newLeftIndex","newRightIndex","handleResourceKeyDown","handleTaskFocus","GanttChart","resources","timelineWidth","setTimelineWidth","startDate","parsed","endDate","resizeObserver","entries","timeScale","scaleTime","tasksByResource","grouped","resourceTasks","headerResource","Breadcrumb","getBreadcrumbItems","getLastItem","breadcrumbItems","lastItem","breadcrumbClasses","SkipLink","handleSkipLinkClick","targetId","targetElement","timeoutId","skipLinks","link","skipLinkClasses","Pagination","previousUrl","previousPage","nextUrl","nextPage","paginationClasses","ContentsList","contentsListClasses","renderItem","Card","headingHtml","description","imgURL","imgAlt","dataTestId","ariaLabelledBy","ariaDescribedBy","cardClasses","contentClasses","headingClassList","headingContent","renderPrimaryIcon","CardGroup","CardGroupItem","CareCard","Panel","headingText","bodyText","bodyHtml","panelClasses","renderBody","InsetText","insetTextClasses","SummaryList","summaryListClasses","renderActions","actions","actionIndex","Table","head","caption","captionSize","firstCellIsHeader","responsive","panel","tableClasses","testId","captionClass","tableClassList","containerClassList","renderHeaderCell","cell","headerAttributes","renderCell","cellIndex","isFirstCell","isHeaderCell","cellClasses","cellAttributes","cellContent","Component","renderTable","row","Tabs","defaultActiveTab","controlledActiveTab","onTabChange","onTabFocus","onTabListBlur","onEscape","autoActivate","isControlled","internalActiveTab","setInternalActiveTab","activeTab","tabListRef","tabRefs","handleTabClick","tabId","handleTabFocus","tabIds","currentIndex","newTabId","newTabRef","setTabRef","focusTab","tabRef","useImperativeHandle","handleTabListBlur","relatedTarget","tabsClasses","isActive","tabClasses","Details","summaryText","summaryHtml","open","summaryContent","bodyContent","DoDontList","title","hidePrefix","listClasses","renderIcon","formatItemText","itemText","Expander","TaskList","renderTaskItem","itemIndex","statusId","hasLink","itemClasses","TaskListItem","titleContent","titleClasses","renderHint","renderStatus","statusClasses","statusContent","WarningCallout","headingContainsImportant","headingTag","Images","src","alt","sizes","srcset","AriaDataGrid","data","columns","sortConfig","onSort","selectedRowIndex","onRowSelect","ariaDescribedby","tableClassName","bordered","striped","tableType","forwardedRef","tableRef","headerRowRef","tbodyRef","focusedRowIndex","setFocusedRowIndex","focusedColumnIndex","setFocusedColumnIndex","focusArea","setFocusArea","navigationMode","setNavigationMode","columnCount","rowCount","sortedData","direction","aValue","bValue","comparison","focusCell","colIndex","targetCell","focusHeader","headerCell","handleSort","columnKey","handleRowSelect","currentColumn","maxRowIndex","lastRow","lastCol","table","column","sortInfo","isSorted","isRowFocused","isCellFocused","renderValue","SortStatusControl","onSortChange","emptyDescription","activeDescription","showReset","showHelp","draggedItem","draggedOverItem","handleDragStart","handleDragOver","handleDrop","targetKey","sourceKey","sourceIndex","targetIndex","newConfig","draggedConfig","handleDragEnd","getColumnLabel","col","getPriorityColor","handleDirectionToggle","sortKey","updatedConfig","handleRemove","filteredConfig","handleReset","getSortDescription","sortDescriptions","sort","ids","tabsDataGridReducer","newLoadingStates","newErrors","newSelectedRows","newLength","adjustedLoadingStates","adjustedErrors","adjustedSelectedRows","AriaTabsDataGrid","dataConfig","tabPanels","selectedIndexProp","onGlobalRowSelectionChange","ariaDescription","orientation","isLoading","loadingComponent","errorComponent","dataComparator","filterFunction","booleanRenderer","selectedIndex","navigationState","setNavigationState","initialState","dispatch","useReducer","currentLength","isDataEqual","data1","data2","handleTabSelect","handleTabKeyDown","prevIndex","nextIndex","focusGridHeader","panelRefs","currentSort","existingSort","newSortConfig","headerIndex","headerElement","renderBooleanIcon","focusGridCell","cellElement","handleHeaderKeyDown","currentPanel","prevHeaderIndex","nextHeaderIndex","lastHeaderIndex","handleCellKeyDown","newRowIndex","newColIndex","nextColIndex","displayData","newSelectedRowData","getFilteredData","filters","_tabIndex","arr","isRowSelected","useResponsiveLayout","breakpoints","forceLayout","layout","setLayout","updateLayout","AriaTabsDataGridAdaptive","cardConfig","experimental","primaryField","secondaryFields","badgeFields","hiddenFields","cardTemplate","DefaultCardTemplate","primaryColumn","primaryValue","fieldKey","DEFAULT_DIRECTION_LABELS","sortByPriority","configs","reassignPriorities","getMaxPriority","canMoveUp","sortId","canMoveDown","maxPriority","sortedConfig","handleMoveUp","sortIndex","handleMoveDown","AnimationDurationFast","AnimationDurationNormal","AnimationDurationSlow","AnimationEasingEaseIn","AnimationEasingEaseOut","AnimationEasingEaseInOut","AnimationEasingBounce","TransitionButtonDefault","TransitionButtonShadow","TransitionInputFocus","TransitionCardHover","BorderWidthDefault","BorderWidthFormElement","BorderWidthFormElementError","BorderWidthCardBottom","BorderWidthPanel","BorderWidthTableHeader","BorderWidthTableCell","BorderRadiusNone","BorderRadiusSmall","BorderRadiusMedium","BorderRadiusLarge","BorderColorDefault","BorderColorForm","BorderColorCard","BorderColorCardHover","BorderColorError","ColorPrimaryBlue","ColorPrimaryWhite","ColorPrimaryBlack","ColorPrimaryGreen","ColorPrimaryPurple","ColorPrimaryDarkPink","ColorPrimaryRed","ColorPrimaryYellow","ColorSecondaryPaleYellow","ColorSecondaryWarmYellow","ColorSecondaryOrange","ColorSecondaryAquaGreen","ColorSecondaryPink","ColorGrey1","ColorGrey2","ColorGrey3","ColorGrey4","ColorGrey5","ColorTextPrimary","ColorTextSecondary","ColorTextReverse","ColorTextPrint","ColorLinkDefault","ColorLinkHover","ColorLinkActive","ColorLinkVisited","ColorFocusBackground","ColorFocusText","ColorBorderDefault","ColorBorderSecondary","ColorError","ColorFormBorder","ColorFormBackground","ColorButtonPrimaryBackground","ColorButtonPrimaryText","ColorButtonPrimaryHover","ColorButtonPrimaryActive","ColorButtonPrimaryShadow","ColorButtonSecondaryBackground","ColorButtonSecondaryBackgroundSolid","ColorButtonSecondaryBorder","ColorButtonSecondaryText","ColorButtonSecondaryHover","ColorButtonSecondaryActive","ColorButtonSecondaryShadow","ColorButtonReverseBackground","ColorButtonReverseText","ColorButtonReverseHover","ColorButtonReverseActive","ColorButtonReverseShadow","ColorButtonWarningBackground","ColorButtonWarningHover","ColorButtonWarningActive","ColorButtonWarningShadow","ColorButtonLoginBackground","ColorButtonLoginHover","ColorButtonLoginActive","ColorButtonLoginShadow","ComponentButtonPaddingMobileVertical","ComponentButtonPaddingMobileHorizontal","ComponentButtonPaddingDesktopVertical","ComponentButtonPaddingDesktopHorizontal","ComponentButtonShadowSize","ComponentFormInputMinHeight","ComponentFormInputPadding","ComponentFormCheckboxSize","ComponentFormCheckboxLabelPadding","ComponentCardPaddingMobile","ComponentCardPaddingDesktop","ComponentCardHeadingMargin","ComponentPanelPaddingMobile","ComponentPanelPaddingDesktop","ComponentBreadcrumbChevronMarginLeft","ComponentBreadcrumbChevronMarginRight","ComponentBreadcrumbPaddingTopMobile","ComponentBreadcrumbPaddingTopDesktop","ComponentSummaryListCellPaddingVertical","ComponentSummaryListCellPaddingHorizontal","ComponentSummaryListRowMargin","ComponentSpread","ComponentBlur","ComponentLink","ComponentDetails","ComponentExpander","ComponentPagination","ButtonPrimaryBackgroundDefault","ButtonPrimaryBackgroundHover","ButtonPrimaryBackgroundActive","ButtonPrimaryBackgroundDisabled","ButtonPrimaryTextDefault","ButtonPrimaryTextDisabled","ButtonPrimaryBorderDefault","ButtonPrimaryBorderFocus","ButtonSecondaryBackgroundDefault","ButtonSecondaryBackgroundSolid","ButtonSecondaryBackgroundHover","ButtonSecondaryBackgroundActive","ButtonSecondaryTextDefault","ButtonSecondaryBorderDefault","ButtonSpacingPaddingVerticalMobile","ButtonSpacingPaddingHorizontalMobile","ButtonSpacingPaddingVerticalDesktop","ButtonSpacingPaddingHorizontalDesktop","ButtonBorderWidth","ButtonBorderRadius","ButtonShadowSize","ButtonTypographyWeight","CardBackgroundDefault","CardBorderDefault","CardBorderHover","CardBorderBottom","CardTextHeading","CardTextDescription","CardTextLink","CardSpacingPaddingMobile","CardSpacingPaddingDesktop","CardSpacingHeadingMargin","CardBorderWidthDefault","CardBorderWidthBottom","CardShadowDefault","CardShadowHover","FormInputBackgroundDefault","FormInputBackgroundFocus","FormInputBackgroundDisabled","FormInputBackgroundError","FormInputBorderDefault","FormInputBorderFocus","FormInputBorderError","FormInputBorderDisabled","FormInputTextDefault","FormInputTextPlaceholder","FormInputTextDisabled","FormLabelTextDefault","FormLabelTextRequired","FormLabelTypographyWeight","FormErrorTextDefault","FormErrorTypographyWeight","FormHintTextDefault","FormSpacingInputPadding","FormSpacingInputMinHeight","FormSpacingCheckboxSize","FormSpacingCheckboxLabelPadding","FormBorderWidthDefault","FormBorderWidthError","FormBorderRadius","SizeIconSmall","SizeIconMedium","SizeIconLarge","SizeIconExtraLarge","SizeIconNhsDefault","SizeFormControlSmall","SizeFormControlMedium","SizeFormControlLarge","SizeFormInputWidthXs","SizeFormInputWidthSm","SizeFormInputWidthMd","SizeFormInputWidthLg","SizeFormInputWidthXl","SizeFormInputWidth2xl","SizeFormInputWidth3xl","SizeButtonMinHeightMobile","SizeButtonMinHeightDesktop","LayoutContainerMaxWidth","LayoutColumnFull","LayoutColumnHalf","LayoutColumnThird","LayoutColumnQuarter","LayoutColumnActions","BreakpointMobile","BreakpointTablet","BreakpointDesktop","BreakpointLargeDesktop","GridPageWidth","GridGutter","GridGutterHalf","StateErrorBackground","StateErrorBorder","StateErrorText","StateSuccessBackground","StateSuccessBorder","StateSuccessText","StateWarningBackground","StateWarningBorder","StateWarningText","StateInfoBackground","StateInfoBorder","StateInfoText","StateDisabledBackground","StateDisabledBorder","StateDisabledText","ShadowButtonDefault","ShadowButtonSecondary","ShadowButtonWarning","ShadowButtonFocus","ShadowCardDefault","ShadowCardHover","FocusOutlineWidth","FocusOutlineOffset","FocusOutlineStyle","FocusShadowInput","FocusShadowButton","ElevationNone","ElevationLow","ElevationMedium","ElevationHigh","Spacing0","Spacing1","Spacing2","Spacing3","Spacing4","Spacing5","Spacing6","Spacing7","Spacing8","Spacing9","SpacingResponsive0Mobile","SpacingResponsive0Tablet","SpacingResponsive1Mobile","SpacingResponsive1Tablet","SpacingResponsive2Mobile","SpacingResponsive2Tablet","SpacingResponsive3Mobile","SpacingResponsive3Tablet","SpacingResponsive4Mobile","SpacingResponsive4Tablet","SpacingResponsive5Mobile","SpacingResponsive5Tablet","SpacingResponsive6Mobile","SpacingResponsive6Tablet","SpacingResponsive7Mobile","SpacingResponsive7Tablet","SpacingResponsive8Mobile","SpacingResponsive8Tablet","SpacingResponsive9Mobile","SpacingResponsive9Tablet","FontFamilyBase","FontFamilyFallback","FontFamilyPrint","FontWeightNormal","FontWeightBold","FontWeightLight","FontSize14Mobile","FontSize14Tablet","FontSize14Print","FontSize16Mobile","FontSize16Tablet","FontSize16Print","FontSize19Mobile","FontSize19Tablet","FontSize19Print","FontSize22Mobile","FontSize22Tablet","FontSize22Print","FontSize26Mobile","FontSize26Tablet","FontSize26Print","FontSize36Mobile","FontSize36Tablet","FontSize36Print","FontSize48Mobile","FontSize48Tablet","FontSize48Print","FontSizeBase","FontLineHeightBase","HeadingsNhsukHeadingXl","HeadingsNhsukHeadingL","HeadingsNhsukHeadingM","HeadingsNhsukHeadingS","HeadingsNhsukHeadingXs","ParagraphsBody","ParagraphsBodyLarge","ParagraphsBodySmall","ParagraphsLedeText","ParagraphsLedeTextSmall","getResponsiveStyles","fontSize","NHSHeading1","tokens.HeadingsNhsukHeadingXl","NHSHeading2","tokens.HeadingsNhsukHeadingL","NHSHeading3","tokens.HeadingsNhsukHeadingM","NHSHeading4","tokens.HeadingsNhsukHeadingS","NHSHeading5","tokens.HeadingsNhsukHeadingXs","NHSBodyText","tokens.ParagraphsBody","NHSBodyTextLarge","tokens.ParagraphsBodyLarge","NHSBodyTextSmall","tokens.ParagraphsBodySmall","NHSLedeText","tokens.ParagraphsLedeText","NHSLedeTextSmall","tokens.ParagraphsLedeTextSmall","useTokens","tokens","useColors","tokens.BorderColorDefault","tokens.BorderColorForm","tokens.BorderColorCard","tokens.BorderColorCardHover","tokens.BorderColorError","tokens.ColorPrimaryBlue","tokens.ColorPrimaryWhite","tokens.ColorPrimaryBlack","tokens.ColorPrimaryGreen","tokens.ColorPrimaryPurple","tokens.ColorPrimaryDarkPink","tokens.ColorPrimaryRed","tokens.ColorPrimaryYellow","tokens.ColorSecondaryPaleYellow","tokens.ColorSecondaryWarmYellow","tokens.ColorSecondaryOrange","tokens.ColorSecondaryAquaGreen","tokens.ColorSecondaryPink","tokens.ColorGrey1","tokens.ColorGrey2","tokens.ColorGrey3","tokens.ColorGrey4","tokens.ColorGrey5","useSpacing","tokens.Spacing0","tokens.Spacing1","tokens.Spacing2","tokens.Spacing3","tokens.Spacing4","tokens.Spacing5","tokens.Spacing6","tokens.Spacing7","tokens.Spacing8","tokens.Spacing9","useTypography","tokens.FontSize14Mobile","tokens.FontSize16Mobile","tokens.FontSize19Mobile","tokens.FontSize22Mobile","tokens.FontSize26Mobile","tokens.FontSize36Mobile","tokens.FontSize48Mobile","tokens.FontSize14Tablet","tokens.FontSize16Tablet","tokens.FontSize19Tablet","tokens.FontSize22Tablet","tokens.FontSize26Tablet","tokens.FontSize36Tablet","tokens.FontSize48Tablet","tokens.FontSize14Print","tokens.FontSize16Print","tokens.FontSize19Print","tokens.FontSize22Print","tokens.FontSize26Print","tokens.FontSize36Print","tokens.FontSize48Print","tokens.FontFamilyBase","tokens.FontFamilyFallback","tokens.FontFamilyPrint","tokens.FontWeightNormal","tokens.FontWeightBold","tokens.FontWeightLight","tokens.FontSizeBase","tokens.FontLineHeightBase","useResponsiveSpacing","tokens.SpacingResponsive0Mobile","tokens.SpacingResponsive1Mobile","tokens.SpacingResponsive2Mobile","tokens.SpacingResponsive3Mobile","tokens.SpacingResponsive4Mobile","tokens.SpacingResponsive5Mobile","tokens.SpacingResponsive6Mobile","tokens.SpacingResponsive7Mobile","tokens.SpacingResponsive8Mobile","tokens.SpacingResponsive9Mobile","tokens.SpacingResponsive0Tablet","tokens.SpacingResponsive1Tablet","tokens.SpacingResponsive2Tablet","tokens.SpacingResponsive3Tablet","tokens.SpacingResponsive4Tablet","tokens.SpacingResponsive5Tablet","tokens.SpacingResponsive6Tablet","tokens.SpacingResponsive7Tablet","tokens.SpacingResponsive8Tablet","tokens.SpacingResponsive9Tablet","useComponentSpacing","tokens.ButtonSpacingPaddingVerticalMobile","tokens.ButtonSpacingPaddingHorizontalMobile","tokens.ButtonSpacingPaddingVerticalDesktop","tokens.ButtonSpacingPaddingHorizontalDesktop","tokens.CardSpacingPaddingMobile","tokens.CardSpacingPaddingDesktop","tokens.CardSpacingHeadingMargin","tokens.FormSpacingInputPadding","tokens.FormSpacingInputMinHeight","tokens.FormSpacingCheckboxSize","tokens.FormSpacingCheckboxLabelPadding","useNHSHeadings","useNHSParagraphs","useNHSTypographySystem","DEFAULT_FONT_CONFIG","FRUTIGER_FONT_FILES","generateFrutigerFontFace","fontPath","fontWeights","fontFaceDeclarations","preloadFrutigerFonts","font","NHS_FONT_STACK","NHS_FALLBACK_FONT_STACK","checkFrutigerLoaded"],"mappings":";;;;;;;;;;;;;;;;;;;;AAWA,MAAIA,IAAqB,OAAO,IAAI,4BAA4B,GAC9DC,IAAsB,OAAO,IAAI,gBAAgB;AACnD,WAASC,EAAQC,GAAMC,GAAQC,GAAU;AACvC,QAAIC,IAAM;AAGV,QAFWD,MAAX,WAAwBC,IAAM,KAAKD,IACxBD,EAAO,QAAlB,WAA0BE,IAAM,KAAKF,EAAO,MACxC,SAASA,GAAQ;AACnB,MAAAC,IAAW,CAAA;AACX,eAASE,KAAYH;AACnB,QAAUG,MAAV,UAAuBF,EAASE,CAAQ,IAAIH,EAAOG,CAAQ;AAAA,IACjE,MAAS,CAAAF,IAAWD;AAClB,WAAAA,IAASC,EAAS,KACX;AAAA,MACL,UAAUL;AAAA,MACV,MAAMG;AAAA,MACN,KAAKG;AAAA,MACL,KAAgBF,MAAX,SAAoBA,IAAS;AAAA,MAClC,OAAOC;AAAA;EAEX;AACA,SAAAG,GAAA,WAAmBP,GACnBO,GAAA,MAAcN,GACdM,GAAA,OAAeN;;;;;;;;;;;;;;wBCtBE,QAAQ,IAAI,aAA7B,gBACG,WAAY;AACX,aAASO,EAAyBN,GAAM;AACtC,UAAYA,KAAR,KAAc,QAAO;AACzB,UAAmB,OAAOA,KAAtB;AACF,eAAOA,EAAK,aAAaO,IACrB,OACAP,EAAK,eAAeA,EAAK,QAAQ;AACvC,UAAiB,OAAOA,KAApB,SAA0B,QAAOA;AACrC,cAAQA,GAAI;AAAA,QACV,KAAKF;AACH,iBAAO;AAAA,QACT,KAAKU;AACH,iBAAO;AAAA,QACT,KAAKC;AACH,iBAAO;AAAA,QACT,KAAKC;AACH,iBAAO;AAAA,QACT,KAAKC;AACH,iBAAO;AAAA,QACT,KAAKC;AACH,iBAAO;AAAA,MACjB;AACM,UAAiB,OAAOZ,KAApB;AACF,gBACgB,OAAOA,EAAK,OAAzB,YACC,QAAQ;AAAA,UACN;AAAA,WAEJA,EAAK,UACf;AAAA,UACU,KAAKa;AACH,mBAAO;AAAA,UACT,KAAKC;AACH,oBAAQd,EAAK,eAAe,aAAa;AAAA,UAC3C,KAAKe;AACH,oBAAQf,EAAK,SAAS,eAAe,aAAa;AAAA,UACpD,KAAKgB;AACH,gBAAIC,IAAYjB,EAAK;AACrB,mBAAAA,IAAOA,EAAK,aACZA,MACIA,IAAOiB,EAAU,eAAeA,EAAU,QAAQ,IACnDjB,IAAcA,MAAP,KAAc,gBAAgBA,IAAO,MAAM,eAC9CA;AAAA,UACT,KAAKkB;AACH,mBACGD,IAAYjB,EAAK,eAAe,MACxBiB,MAAT,OACIA,IACAX,EAAyBN,EAAK,IAAI,KAAK;AAAA,UAE/C,KAAKmB;AACH,YAAAF,IAAYjB,EAAK,UACjBA,IAAOA,EAAK;AACZ,gBAAI;AACF,qBAAOM,EAAyBN,EAAKiB,CAAS,CAAC;AAAA,YAC7D,QAAwB;AAAA,YAAA;AAAA,QACxB;AACM,aAAO;AAAA,IACb;AACI,aAASG,EAAmBC,GAAO;AACjC,aAAO,KAAKA;AAAA,IAClB;AACI,aAASC,EAAuBD,GAAO;AACrC,UAAI;AACF,QAAAD,EAAmBC,CAAK;AACxB,YAAIE,IAA2B;AAAA,MACvC,QAAkB;AACV,QAAAA,IAA2B;AAAA,MACnC;AACM,UAAIA,GAA0B;AAC5B,QAAAA,IAA2B;AAC3B,YAAIC,IAAwBD,EAAyB,OACjDE,KACc,OAAO,UAAtB,cACC,OAAO,eACPJ,EAAM,OAAO,WAAW,KAC1BA,EAAM,YAAY,QAClB;AACF,eAAAG,EAAsB;AAAA,UACpBD;AAAA,UACA;AAAA,UACAE;AAAA,WAEKL,EAAmBC,CAAK;AAAA,MACvC;AAAA,IACA;AACI,aAASK,EAAY1B,GAAM;AACzB,UAAIA,MAASF,EAAqB,QAAO;AACzC,UACe,OAAOE,KAApB,YACSA,MAAT,QACAA,EAAK,aAAamB;AAElB,eAAO;AACT,UAAI;AACF,YAAIQ,IAAOrB,EAAyBN,CAAI;AACxC,eAAO2B,IAAO,MAAMA,IAAO,MAAM;AAAA,MACzC,QAAkB;AACV,eAAO;AAAA,MACf;AAAA,IACA;AACI,aAASC,IAAW;AAClB,UAAIC,IAAaC,EAAqB;AACtC,aAAgBD,MAAT,OAAsB,OAAOA,EAAW,SAAQ;AAAA,IAC7D;AACI,aAASE,IAAe;AACtB,aAAO,MAAM,uBAAuB;AAAA,IAC1C;AACI,aAASC,EAAY/B,GAAQ;AAC3B,UAAIgC,EAAe,KAAKhC,GAAQ,KAAK,GAAG;AACtC,YAAIiC,IAAS,OAAO,yBAAyBjC,GAAQ,KAAK,EAAE;AAC5D,YAAIiC,KAAUA,EAAO,eAAgB,QAAO;AAAA,MACpD;AACM,aAAkBjC,EAAO,QAAlB;AAAA,IACb;AACI,aAASkC,EAA2BC,GAAOC,GAAa;AACtD,eAASC,IAAwB;AAC/B,QAAAC,MACIA,IAA6B,IAC/B,QAAQ;AAAA,UACN;AAAA,UACAF;AAAA,QACZ;AAAA,MACA;AACM,MAAAC,EAAsB,iBAAiB,IACvC,OAAO,eAAeF,GAAO,OAAO;AAAA,QAClC,KAAKE;AAAA,QACL,cAAc;AAAA,MACtB,CAAO;AAAA,IACP;AACI,aAASE,IAAyC;AAChD,UAAIC,IAAgBnC,EAAyB,KAAK,IAAI;AACtD,aAAAoC,EAAuBD,CAAa,MAChCC,EAAuBD,CAAa,IAAI,IAC1C,QAAQ;AAAA,QACN;AAAA,MACV,IACMA,IAAgB,KAAK,MAAM,KACTA,MAAX,SAA2BA,IAAgB;AAAA,IACxD;AACI,aAASE,EACP3C,GACAG,GACAyC,GACAC,IACAC,GACAV,GACAW,GACAC,GACA;AACA,aAAAJ,IAAOR,EAAM,KACbpC,IAAO;AAAA,QACL,UAAUH;AAAA,QACV,MAAMG;AAAA,QACN,KAAKG;AAAA,QACL,OAAOiC;AAAA,QACP,QAAQU;AAAA,UAEWF,MAAX,SAAkBA,IAAO,UAAnC,OACI,OAAO,eAAe5C,GAAM,OAAO;AAAA,QACjC,YAAY;AAAA,QACZ,KAAKwC;AAAA,OACN,IACD,OAAO,eAAexC,GAAM,OAAO,EAAE,YAAY,IAAI,OAAO,MAAM,GACtEA,EAAK,SAAS,CAAA,GACd,OAAO,eAAeA,EAAK,QAAQ,aAAa;AAAA,QAC9C,cAAc;AAAA,QACd,YAAY;AAAA,QACZ,UAAU;AAAA,QACV,OAAO;AAAA,MACf,CAAO,GACD,OAAO,eAAeA,GAAM,cAAc;AAAA,QACxC,cAAc;AAAA,QACd,YAAY;AAAA,QACZ,UAAU;AAAA,QACV,OAAO;AAAA,MACf,CAAO,GACD,OAAO,eAAeA,GAAM,eAAe;AAAA,QACzC,cAAc;AAAA,QACd,YAAY;AAAA,QACZ,UAAU;AAAA,QACV,OAAO+C;AAAA,MACf,CAAO,GACD,OAAO,eAAe/C,GAAM,cAAc;AAAA,QACxC,cAAc;AAAA,QACd,YAAY;AAAA,QACZ,UAAU;AAAA,QACV,OAAOgD;AAAA,MACf,CAAO,GACD,OAAO,WAAW,OAAO,OAAOhD,EAAK,KAAK,GAAG,OAAO,OAAOA,CAAI,IACxDA;AAAA,IACb;AACI,aAASiD,EACPjD,GACAC,GACAC,GACAgD,IACAL,GACAD,GACAG,GACAC,GACA;AACA,UAAIG,IAAWlD,EAAO;AACtB,UAAekD,MAAX;AACF,YAAID;AACF,cAAIE,EAAYD,CAAQ,GAAG;AACzB,iBACED,KAAmB,GACnBA,KAAmBC,EAAS,QAC5BD;AAEA,cAAAG,EAAkBF,EAASD,EAAgB,CAAC;AAC9C,mBAAO,UAAU,OAAO,OAAOC,CAAQ;AAAA,UACnD;AACY,oBAAQ;AAAA,cACN;AAAA;YAED,CAAAE,EAAkBF,CAAQ;AACjC,UAAIlB,EAAe,KAAKhC,GAAQ,KAAK,GAAG;AACtC,QAAAkD,IAAW7C,EAAyBN,CAAI;AACxC,YAAIsD,IAAO,OAAO,KAAKrD,CAAM,EAAE,OAAO,SAAUsD,GAAG;AACjD,iBAAiBA,MAAV;AAAA,QACjB,CAAS;AACD,QAAAL,KACE,IAAII,EAAK,SACL,oBAAoBA,EAAK,KAAK,SAAS,IAAI,WAC3C,kBACNE,EAAsBL,IAAWD,EAAgB,MAC7CI,IACA,IAAIA,EAAK,SAAS,MAAMA,EAAK,KAAK,SAAS,IAAI,WAAW,MAC5D,QAAQ;AAAA,UACN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UACAJ;AAAA,UACAC;AAAA,UACAG;AAAA,UACAH;AAAA,WAEDK,EAAsBL,IAAWD,EAAgB,IAAI;AAAA,MAChE;AAMM,UALAC,IAAW,MACAjD,MAAX,WACGoB,EAAuBpB,CAAQ,GAAIiD,IAAW,KAAKjD,IACtD8B,EAAY/B,CAAM,MACfqB,EAAuBrB,EAAO,GAAG,GAAIkD,IAAW,KAAKlD,EAAO,MAC3D,SAASA,GAAQ;AACnB,QAAAC,IAAW,CAAA;AACX,iBAASE,KAAYH;AACnB,UAAUG,MAAV,UAAuBF,EAASE,CAAQ,IAAIH,EAAOG,CAAQ;AAAA,MACrE,MAAa,CAAAF,IAAWD;AAClB,aAAAkD,KACEhB;AAAA,QACEjC;AAAA,QACe,OAAOF,KAAtB,aACIA,EAAK,eAAeA,EAAK,QAAQ,YACjCA;AAAA,SAED2C;AAAA,QACL3C;AAAA,QACAmD;AAAA,QACAP;AAAA,QACAC;AAAA,QACAjB,EAAQ;AAAA,QACR1B;AAAA,QACA6C;AAAA,QACAC;AAAA;IAER;AACI,aAASK,EAAkBI,GAAM;AAC/B,MAAa,OAAOA,KAApB,YACWA,MAAT,QACAA,EAAK,aAAa5D,KAClB4D,EAAK,WACJA,EAAK,OAAO,YAAY;AAAA,IACjC;AACI,QAAIC,IAAQC,IACV9D,IAAqB,OAAO,IAAI,4BAA4B,GAC5DgB,IAAoB,OAAO,IAAI,cAAc,GAC7Cf,IAAsB,OAAO,IAAI,gBAAgB,GACjDW,IAAyB,OAAO,IAAI,mBAAmB,GACvDD,IAAsB,OAAO,IAAI,gBAAgB,GAE/CO,IAAsB,OAAO,IAAI,gBAAgB,GACnDD,IAAqB,OAAO,IAAI,eAAe,GAC/CE,IAAyB,OAAO,IAAI,mBAAmB,GACvDN,IAAsB,OAAO,IAAI,gBAAgB,GACjDC,IAA2B,OAAO,IAAI,qBAAqB,GAC3DO,IAAkB,OAAO,IAAI,YAAY,GACzCC,IAAkB,OAAO,IAAI,YAAY,GACzCP,IAAsB,OAAO,IAAI,gBAAgB,GACjDL,IAAyB,OAAO,IAAI,wBAAwB,GAC5DuB,IACE4B,EAAM,iEACRzB,IAAiB,OAAO,UAAU,gBAClCmB,IAAc,MAAM,SACpBQ,IAAa,QAAQ,aACjB,QAAQ,aACR,WAAY;AACV,aAAO;AAAA,IACnB;AACI,IAAAF,IAAQ;AAAA,MACN,4BAA4B,SAAUG,GAAmB;AACvD,eAAOA,EAAiB;AAAA,MAChC;AAAA;AAEI,QAAItB,GACAG,IAAyB,CAAA,GACzBoB,IAAyBJ,EAAM,0BAA0B,EAAE;AAAA,MAC7DA;AAAA,MACA3B;AAAA,IACN,EAAK,GACGgC,IAAwBH,EAAWlC,EAAYK,CAAY,CAAC,GAC5DyB,IAAwB,CAAA;AAC5B,IAAAQ,GAAA,WAAmBlE,GACnBkE,GAAA,MAAc,SAAUhE,GAAMC,GAAQC,GAAU2C,IAAQD,GAAM;AAC5D,UAAIqB,IACF,MAAMnC,EAAqB;AAC7B,aAAOmB;AAAA,QACLjD;AAAA,QACAC;AAAA,QACAC;AAAA,QACA;AAAA,QACA2C;AAAA,QACAD;AAAA,QACAqB,IACI,MAAM,uBAAuB,IAC7BH;AAAA,QACJG,IAAmBL,EAAWlC,EAAY1B,CAAI,CAAC,IAAI+D;AAAA;IAE3D,GACIC,GAAA,OAAe,SAAUhE,GAAMC,GAAQC,GAAU2C,IAAQD,GAAM;AAC7D,UAAIqB,IACF,MAAMnC,EAAqB;AAC7B,aAAOmB;AAAA,QACLjD;AAAA,QACAC;AAAA,QACAC;AAAA,QACA;AAAA,QACA2C;AAAA,QACAD;AAAA,QACAqB,IACI,MAAM,uBAAuB,IAC7BH;AAAA,QACJG,IAAmBL,EAAWlC,EAAY1B,CAAI,CAAC,IAAI+D;AAAA;IAE3D;AAAA,EACA,EAAG;;;;wBCnWC,QAAQ,IAAI,aAAa,eAC3BG,GAAA,UAAiBP,GAAA,IAEjBO,GAAA,UAAiBC,GAAA;;;;;;;;;;;ACEnB,KAAC,WAAY;AAGZ,UAAIC,IAAS,CAAA,EAAG;AAEhB,eAASC,IAAc;AAGtB,iBAFIC,IAAU,IAEL,IAAI,GAAG,IAAI,UAAU,QAAQ,KAAK;AAC1C,cAAIC,IAAM,UAAU,CAAC;AACrB,UAAIA,MACHD,IAAUE,EAAYF,GAASG,EAAWF,CAAG,CAAC;AAAA,QAElD;AAEE,eAAOD;AAAA,MACT;AAEC,eAASG,EAAYF,GAAK;AACzB,YAAI,OAAOA,KAAQ,YAAY,OAAOA,KAAQ;AAC7C,iBAAOA;AAGR,YAAI,OAAOA,KAAQ;AAClB,iBAAO;AAGR,YAAI,MAAM,QAAQA,CAAG;AACpB,iBAAOF,EAAW,MAAM,MAAME,CAAG;AAGlC,YAAIA,EAAI,aAAa,OAAO,UAAU,YAAY,CAACA,EAAI,SAAS,SAAQ,EAAG,SAAS,eAAe;AAClG,iBAAOA,EAAI,SAAQ;AAGpB,YAAID,IAAU;AAEd,iBAASnE,KAAOoE;AACf,UAAIH,EAAO,KAAKG,GAAKpE,CAAG,KAAKoE,EAAIpE,CAAG,MACnCmE,IAAUE,EAAYF,GAASnE,CAAG;AAIpC,eAAOmE;AAAA,MACT;AAEC,eAASE,EAAanD,GAAOqD,GAAU;AACtC,eAAKA,IAIDrD,IACIA,IAAQ,MAAMqD,IAGfrD,IAAQqD,IAPPrD;AAAA,MAQV;AAEC,MAAqCsD,EAAO,WAC3CN,EAAW,UAAUA,GACrBM,YAAiBN,KAOjB,OAAO,aAAaA;AAAA,IAEtB;;;;kCCvEaO,KAAwC,CAAC;AAAA,EACpD,MAAAC;AAAA,EACA,MAAAC;AAAA,EACA,iBAAAC,IAAkB;AAAA,EAClB,WAAAC;AAAA,EACA,GAAG5C;AACL,MAAM;AACJ,QAAM6C,IAAcZ;AAAA,IAClB;AAAA,IACAW;AAAA,EAAA;AAGF,SACEE,gBAAAA,EAAAA,IAAC,OAAA,EAAI,WAAU,qBACb,UAAAC,gBAAAA,EAAAA;AAAAA,IAAC;AAAA,IAAA;AAAA,MACC,WAAWF;AAAA,MACX,MAAAH;AAAA,MACA,QAAQC,IAAkB,WAAW;AAAA,MACrC,KAAKA,IAAkB,wBAAwB;AAAA,MAC9C,GAAG3C;AAAA,MAEJ,UAAA;AAAA,QAAA+C,gBAAAA,EAAAA;AAAAA,UAAC;AAAA,UAAA;AAAA,YACC,WAAU;AAAA,YACV,OAAM;AAAA,YACN,SAAQ;AAAA,YACR,eAAY;AAAA,YACZ,OAAM;AAAA,YACN,QAAO;AAAA,YAEP,UAAA;AAAA,cAAAD,gBAAAA,EAAAA,IAAC,QAAA,EAAK,GAAE,iBAAgB,MAAK,QAAO;AAAA,cACpCA,gBAAAA,EAAAA,IAAC,QAAA,EAAK,GAAE,uKAAA,CAAuK;AAAA,YAAA;AAAA,UAAA;AAAA,QAAA;AAAA,QAEjLA,gBAAAA,EAAAA,IAAC,QAAA,EAAK,WAAU,2BAA2B,UAAAL,EAAA,CAAK;AAAA,MAAA;AAAA,IAAA;AAAA,EAAA,GAEpD;AAEJ,GC5BMO,KAA4C,OAAO,WAAa,MAAkBC,GAAc,kBAAkB,MAAI;AAAC;ACE7H,IAAIC;AAGJ,MAAMC,MAAwCD,KAAsDE,GAAc,wBAA2B,QAAQF,OAAoD,SAASA,KAAsDF;AACxQ,SAASK,GAA0CC,GAAI;AACnD,QAAMC,IAAUC,GAAe,IAAI;AACnC,SAAAL,GAAqC,MAAI;AACrC,IAAAI,EAAI,UAAUD;AAAA,EAClB,GAAG;AAAA,IACCA;AAAA,EACR,CAAK,GAEUG,EAAoB,IAAIC,MAAO;AACtC,UAAMC,IAAIJ,EAAI;AACd,WAA6CI,IAAE,GAAGD,CAAI;AAAA,EAC1D,GAAG,CAAA,CAAE;AACT;ACVA,MAAME,KAAuC;AAAA,EACzC,QAAQ,OAAO,KAAK,MAAM,KAAK,OAAM,IAAK,IAAW,CAAC;AAAA,EACtD,SAAS;AACb,GACMC,KAAqDC,gBAAAA,GAAc,cAAcF,EAAoC,GACrHG,KAAuDD,gBAAAA,GAAc,cAAc,EAAK;AAwC9F,IAAIE,KAAkC,GAAQ,OAAO,SAAW,OAAe,OAAO,YAAY,OAAO,SAAS,gBAC9GC,KAAqC,oBAAI,QAAO;AACpD,SAASC,GAAiCC,IAAa,IAAO;AAC1D,MAAIC,IAAUC,GAAmBR,EAAgC,GAC7DN,IAAUe,GAAe,IAAI;AAEjC,MAAIf,EAAI,YAAY,QAAQ,CAACY,GAAY;AACrC,QAAII,GAA6EC;AAWjF,QAAIC,KAAgBD,IAAgEV,GAAc,wDAAwD,QAAQU,MAA8D,WAAmBD,IAA8EC,EAA0D,uBAAuB,QAAQD,MAAgF,SAAjQ,SAAmRA,EAA4E;AACxkB,QAAIE,GAAc;AACd,UAAIC,IAAqBT,GAAmC,IAAIQ,CAAY;AAC5E,MAAIC,KAAsB,OAC1BT,GAAmC,IAAIQ,GAAc;AAAA,QACjD,IAAIL,EAAI;AAAA,QACR,OAAOK,EAAa;AAAA,MACpC,CAAa,IACQA,EAAa,kBAAkBC,EAAmB,UAIvDN,EAAI,UAAUM,EAAmB,IACjCT,GAAmC,OAAOQ,CAAY;AAAA,IAE9D;AAEA,IAAAlB,EAAI,UAAU,EAAEa,EAAI;AAAA,EACxB;AAEA,SAAOb,EAAI;AACf;AACA,SAASoB,GAAyCC,GAAW;AACzD,MAAIR,IAAUC,GAAmBR,EAAgC;AAGjE,EAAIO,MAAQR,MAAwC,CAACI,MAAmC,QAAQ,IAAI,aAAa,gBAAc,QAAQ,KAAK,iJAAiJ;AAC7R,MAAIa,IAAUX,GAAiC,CAAC,CAACU,CAAS,GACtDE,IAASV,MAAQR,MAAwC,QAAQ,IAAI,aAAa,SAAS,eAAe,aAAaQ,EAAI,MAAM;AACrI,SAAOQ,KAAa,GAAGE,CAAM,IAAID,CAAO;AAC5C;AACA,SAASE,GAAyCH,GAAW;AACzD,MAAII,IAASlB,GAAc,MAAK,GAC5B,CAACmB,CAAM,IAAQC,GAAiBC,GAAyC,CAAE,GAC3EL,IAASG,KAAU,QAAQ,IAAI,aAAa,SAAS,eAAe,aAAarB,GAAqC,MAAM;AAChI,SAAOgB,KAAa,GAAGE,CAAM,IAAIE,CAAE;AACvC;AACA,MAAMI,KAA4C,OAAWtB,GAAc,SAAa,aAAaiB,KAA2CJ;AAChJ,SAASU,KAAoC;AACzC,SAAO;AACX;AACA,SAASC,KAA0C;AAC/C,SAAO;AACX;AAEA,SAASC,GAAgCC,GAAe;AAEpD,SAAO,MAAI;AAAA,EAAC;AAChB;AACA,SAASL,KAA4C;AAEjD,SAAI,OAAWrB,GAAc,wBAA4B,aAAuBA,GAAc,qBAAwByB,IAAiCF,IAAmCC,EAAuC,IAEtNjB,GAAmBN,EAAkC;AACpE;ACtHA,IAAI0B,KAAkC,GAAQ,OAAO,SAAW,OAAe,OAAO,YAAY,OAAO,SAAS,gBAC9GC,KAA4C,oBAAI,IAAG,GAInDC;AACA,OAAO,uBAAyB,QAAaA,KAAiC,IAAI,qBAAqB,CAACC,MAAY;AACpH,EAAAF,GAA0C,OAAOE,CAAS;AAC9D,CAAC;AACD,SAASC,GAA0CjB,GAAW;AAC1D,MAAI,CAAC3F,GAAO6G,CAAQ,IAAQC,GAAiBnB,CAAS,GAClDoB,IAAaC,GAAe,IAAI,GAChCC,IAAUC,GAAqBlH,CAAK,GACpCmH,IAAiBH,GAAe,IAAI;AAExC,MADIN,MAAgCA,GAA+B,SAASS,GAAYF,CAAG,GACvFT,IAAiC;AACjC,UAAMY,IAAaX,GAA0C,IAAIQ,CAAG;AACpE,IAAIG,KAAc,CAACA,EAAW,SAASL,CAAM,IAAGK,EAAW,KAAKL,CAAM,IACjEN,GAA0C,IAAIQ,GAAK;AAAA,MACpDF;AAAA,IACZ,CAAS;AAAA,EACL;AACA,SAAIhD,GAA2C,MAAI;AAC/C,QAAIsD,IAAIJ;AACR,WAAO,MAAI;AAGP,MAAIP,MAAgCA,GAA+B,WAAWS,CAAU,GACxFV,GAA0C,OAAOY,CAAC;AAAA,IACtD;AAAA,EACJ,GAAG;AAAA,IACCJ;AAAA,EACR,CAAK,GAGGK,GAAkB,MAAI;AACtB,QAAIC,IAAQR,EAAO;AACnB,WAAIQ,KAAOV,EAASU,CAAK,GAClB,MAAI;AACP,MAAIA,MAAOR,EAAO,UAAU;AAAA,IAChC;AAAA,EACJ,CAAC,GACME;AACX;AACA,SAASO,GAA0CC,GAAKC,GAAK;AACzD,MAAID,MAAQC,EAAK,QAAOD;AACxB,MAAIE,IAAUlB,GAA0C,IAAIgB,CAAG;AAC/D,MAAIE;AACA,WAAAA,EAAQ,QAAQ,CAACrD,MAAMA,EAAI,UAAUoD,CAAG,GACjCA;AAEX,MAAIE,IAAUnB,GAA0C,IAAIiB,CAAG;AAC/D,SAAIE,KACAA,EAAQ,QAAQ,CAACtD,MAAMA,EAAI,UAAUmD,CAAG,GACjCA,KAEJC;AACX;ACjEI,SAASG,MAA6CC,GAAW;AACjE,SAAO,IAAIrD,MAAO;AACd,aAASsD,KAAYD,EAAU,CAAI,OAAOC,KAAa,cAAYA,EAAS,GAAGtD,CAAI;AAAA,EACvF;AACJ;AChBA,MAAMuD,KAA4C,CAACC,MAAK;AACpD,MAAIC;AACJ,UAAQA,IAA4DD,GAAG,mBAAmB,QAAQC,MAAsB,SAASA,IAAoB;AACzJ,GACMC,KAA4C,CAACF,MAC3CA,KAAM,YAAYA,KAAMA,EAAG,WAAWA,IAAWA,IACzCD,GAA0CC,CAAE,EAC7C,eAAe;AAI1B,SAASG,GAA6BpI,GAAO;AAC7C,SAAOA,MAAU,QAAQ,OAAOA,KAAU,YAAY,cAAcA,KAAS,OAAOA,EAAM,YAAa;AAC3G;AACA,SAASqI,GAA0CjG,GAAM;AACrD,SAAOgG,GAA6BhG,CAAI,KAAKA,EAAK,aAAa,KAAK,0BAA0B,UAAUA;AAC5G;ACLA,IAAIkG,KAAmC;AAUvC,SAASC,KAA4C;AACjD,SAAOD;AACX;ACjBA,SAASE,GAA0CpG,GAAMqG,GAAW;AAChE,MAAI,CAAKC,GAAgB,EAAK,QAAOD,KAAarG,IAAOA,EAAK,SAASqG,CAAS,IAAI;AACpF,MAAI,CAACrG,KAAQ,CAACqG,EAAW,QAAO;AAChC,MAAIE,IAAcF;AAClB,SAAME,MAAgB,QAAK;AACvB,QAAIA,MAAgBvG,EAAM,QAAO;AACjC,IAAIuG,EAAY,YAAY,UAAUA,EAAY,eAClDA,IAAcA,EAAY,aAAa,aAC1BN,GAA2CM,CAAW,IACnEA,IAAcA,EAAY,OACrBA,IAAcA,EAAY;AAAA,EACnC;AACA,SAAO;AACX;AACA,MAAMC,KAA4C,CAACC,IAAM,aAAW;AAChE,MAAIC;AACJ,MAAI,CAAKJ,KAAqB,QAAOG,EAAI;AACzC,MAAIE,IAAgBF,EAAI;AACxB,SAAME,KAAiB,gBAAgBA,MAAmB,GAAAD,IAA4BC,EAAc,gBAAgB,QAAQD,MAA8B,WAAkBA,EAA0B,iBAAe,CAAAC,IAAgBA,EAAc,WAAW;AAC9P,SAAOA;AACX;AACA,SAASC,GAA0CC,GAAO;AACtD,SAAQP,GAAgB,KAAOO,EAAM,OAAO,cACpCA,EAAM,eAAqBA,EAAM,aAAY,EAAG,CAAC,IAElDA,EAAM;AACjB;AChCA,SAAS5B,GAAE,GAAE;AAAC,MAAI,GAAE3C,GAAEwE,IAAE;AAAG,MAAa,OAAO,KAAjB,YAA8B,OAAO,KAAjB,SAAmB,CAAAA,KAAG;AAAA,WAAoB,OAAO,KAAjB,SAAmB,KAAG,MAAM,QAAQ,CAAC,GAAE;AAAC,QAAIC,IAAE,EAAE;AAAO,SAAI,IAAE,GAAE,IAAEA,GAAE,IAAI,GAAE,CAAC,MAAIzE,IAAE2C,GAAE,EAAE,CAAC,CAAC,OAAK6B,MAAIA,KAAG,MAAKA,KAAGxE;AAAA,EAAE,MAAM,MAAIA,KAAK,EAAE,GAAEA,CAAC,MAAIwE,MAAIA,KAAG,MAAKA,KAAGxE;AAAG,SAAOwE;AAAC;AAAQ,SAASE,KAAM;AAAC,WAAQ,GAAE,GAAE1E,IAAE,GAAEwE,IAAE,IAAGC,IAAE,UAAU,QAAOzE,IAAEyE,GAAEzE,IAAI,EAAC,IAAE,UAAUA,CAAC,OAAK,IAAE2C,GAAE,CAAC,OAAK6B,MAAIA,KAAG,MAAKA,KAAG;AAAG,SAAOA;AAAC;ACiB/W,SAASG,MAA6C5E,GAAM;AAGxD,MAAI6E,IAAS;AAAA,IACT,GAAG7E,EAAK,CAAC;AAAA,EACjB;AACI,WAAQ8E,IAAI,GAAGA,IAAI9E,EAAK,QAAQ8E,KAAI;AAChC,QAAIxI,IAAQ0D,EAAK8E,CAAC;AAClB,aAAQzK,KAAOiC,GAAM;AACjB,UAAIyI,IAAIF,EAAOxK,CAAG,GACd2K,IAAI1I,EAAMjC,CAAG;AAEjB,MAAI,OAAO0K,KAAM,cAAc,OAAOC,KAAM;AAAA,MAC5C3K,EAAI,CAAC,MAAM,OAAOA,EAAI,CAAC,MAAM,OAAOA,EAAI,WAAW,CAAC;AAAA,MAAe,MAAMA,EAAI,WAAW,CAAC;AAAA,MAAe,KAAIwK,EAAOxK,CAAG,IAAQ+I,GAA2C2B,GAAGC,CAAC,KACnK3K,MAAQ,eAAeA,MAAQ,uBAAuB,OAAO0K,KAAM,YAAY,OAAOC,KAAM,WAAUH,EAAOxK,CAAG,IAAQ4K,GAAaF,GAAGC,CAAC,IAC1I3K,MAAQ,QAAQ0K,KAAKC,IAAGH,EAAO,KAAS9B,GAA2CgC,GAAGC,CAAC,IAC3FH,EAAOxK,CAAG,IAAI2K,MAAM,SAAYA,IAAID;AAAA,IAC7C;AAAA,EACJ;AACA,SAAOF;AACX;AC3BI,SAASK,MAA6CC,GAAM;AAC5D,SAAIA,EAAK,WAAW,KAAKA,EAAK,CAAC,IAAUA,EAAK,CAAC,IACxC,CAAC5J,MAAQ;AACZ,QAAI6J,IAAa;AACjB,UAAMC,IAAWF,EAAK,IAAI,CAACtF,MAAM;AAC7B,YAAMyF,IAAUC,GAA6B1F,GAAKtE,CAAK;AACvD,aAAA6J,MAAeA,IAAa,OAAOE,KAAW,aACvCA;AAAA,IACX,CAAC;AACD,QAAIF,EAAY,QAAO,MAAI;AACvB,MAAAC,EAAS,QAAQ,CAACC,GAASR,MAAI;AAC3B,QAAI,OAAOQ,KAAY,aAAYA,EAAO,IACrCC,GAA6BJ,EAAKL,CAAC,GAAG,IAAI;AAAA,MACnD,CAAC;AAAA,IACL;AAAA,EACJ;AACJ;AACA,SAASS,GAA6B1F,GAAKtE,GAAO;AAC9C,MAAI,OAAOsE,KAAQ,WAAY,QAAOA,EAAItE,CAAK;AAC1C,EAAIsE,KAAO,SAAMA,EAAI,UAAUtE;AACxC;ACpBI,MAAMiK,KAAqC,oBAAI,IAAI;AAAA,EACnD;AACJ,CAAC,GACKC,KAA2C,oBAAI,IAAI;AAAA,EACrD;AAAA,EACA;AAAA,EACA;AAAA,EACA;AACJ,CAAC,GAEKC,KAAsC,oBAAI,IAAI;AAAA,EAChD;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AACJ,CAAC,GACKC,KAAoC,oBAAI,IAAI;AAAA,EAC9C;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AACJ,CAAC,GACKC,KAAqC,oBAAI,IAAI;AAAA,EAC/C;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AACJ,CAAC,GACKC,KAA+B;AACrC,SAASC,GAA0CxJ,GAAOyJ,IAAO,IAAI;AACjE,MAAI,EAAE,WAAWC,GAAW,QAAQC,GAAQ,QAAQC,GAAQ,QAAQC,IAASD,GAAQ,WAAWE,EAAS,IAAKL,GAC1GM,IAAgB,CAAA;AACpB,aAAUC,KAAQhK,EAAM,CAAI,OAAO,UAAU,eAAe,KAAKA,GAAOgK,CAAI,MAAMd,GAAmC,IAAIc,CAAI,KAAKN,KAAaP,GAAyC,IAAIa,CAAI,KAAKL,KAAUP,GAAoC,IAAIY,CAAI,KAAKJ,KAAUP,GAAkC,IAAIW,CAAI,KAAKH,KAAUP,GAAmC,IAAIU,CAAI,KAAKA,EAAK,SAAS,SAAS,KAAKV,GAAmC,IAAIU,EAAK,MAAM,GAAG,EAAE,CAAC,KAA4DF,GAAU,IAAIE,CAAI,KAAMT,GAA6B,KAAKS,CAAI,OAAID,EAAcC,CAAI,IAAIhK,EAAMgK,CAAI;AACrmB,SAAOD;AACX;ACpEI,SAASE,GAA0CC,GAAS;AAC5D,MAAIC,GAA2C,EAAI,CAAAD,EAAQ,MAAM;AAAA,IAC7D,eAAe;AAAA,EACvB,CAAK;AAAA,OACI;AACD,QAAIE,IAAqBC,GAA4CH,CAAO;AAC5E,IAAAA,EAAQ,MAAK,GACbI,GAA4CF,CAAkB;AAAA,EAClE;AACJ;AACA,IAAIG,KAAoD;AACxD,SAASJ,KAA8C;AACnD,MAAII,MAAqD,MAAM;AAC3D,IAAAA,KAAoD;AACpD,QAAI;AAEA,MADgB,SAAS,cAAc,KAAK,EAClC,MAAM;AAAA,QACZ,IAAI,gBAAiB;AACjB,iBAAAA,KAAoD,IAC7C;AAAA,QACX;AAAA,MAChB,CAAa;AAAA,IACL,QAAS;AAAA,IAET;AAAA,EACJ;AACA,SAAOA;AACX;AACA,SAASF,GAA4CH,GAAS;AAC1D,MAAIM,IAASN,EAAQ,YACjBE,IAAqB,CAAA,GACrBK,IAAuB,SAAS,oBAAoB,SAAS;AACjE,SAAMD,aAAkB,eAAeA,MAAWC;AAC9C,KAAID,EAAO,eAAeA,EAAO,gBAAgBA,EAAO,cAAcA,EAAO,gBAAaJ,EAAmB,KAAK;AAAA,MAC9G,SAASI;AAAA,MACT,WAAWA,EAAO;AAAA,MAClB,YAAYA,EAAO;AAAA,IAC/B,CAAS,GACDA,IAASA,EAAO;AAEpB,SAAIC,aAAgC,eAAaL,EAAmB,KAAK;AAAA,IACrE,SAASK;AAAA,IACT,WAAWA,EAAqB;AAAA,IAChC,YAAYA,EAAqB;AAAA,EACzC,CAAK,GACML;AACX;AACA,SAASE,GAA4CF,GAAoB;AACrE,WAAS,EAAE,SAASF,GAAS,WAAWQ,GAAW,YAAYC,EAAU,KAAMP;AAC3E,IAAAF,EAAQ,YAAYQ,GACpBR,EAAQ,aAAaS;AAE7B;ACpDI,SAASC,GAAoCC,GAAI;AACjD,MAAIC;AACJ,MAAI,OAAO,SAAW,OAAe,OAAO,aAAa,KAAM,QAAO;AACtE,MAAIC,KAAUD,IAAkC,OAAO,UAAU,mBAAsB,QAAQA,MAAoC,SAAS,SAASA,EAAgC;AACrL,SAAO,MAAM,QAAQC,CAAM,KAAKA,EAAO,KAAK,CAACC,MAAQH,EAAG,KAAKG,EAAM,KAAK,CAAC,KAAKH,EAAG,KAAK,OAAO,UAAU,SAAS;AACpH;AACA,SAASI,GAAmCJ,GAAI;AAC5C,MAAIC;AACJ,SAAO,OAAO,SAAW,OAAe,OAAO,aAAa,OAAOD,EAAG,OAAOC,IAAkC,OAAO,UAAU,mBAAsB,QAAQA,MAAoC,SAAS,SAASA,EAAgC,aAAa,OAAO,UAAU,QAAQ,IAAI;AAClS;AACA,SAASI,GAA6B5H,GAAI;AACtC,MAAI,QAAQ,IAAI,aAAa,OAAQ,QAAOA;AAC5C,MAAI4C,IAAM;AACV,SAAO,OACCA,KAAO,SAAMA,IAAM5C,EAAE,IAClB4C;AAEf;AACA,MAAMiF,KAA4CD,GAA6B,WAAW;AACtF,SAAOD,GAAmC,OAAO;AACrD,CAAC,GACKG,KAA2CF,GAA6B,WAAW;AACrF,SAAOD,GAAmC,UAAU;AACxD,CAAC,GACKI,KAA4CH,GAA6B,WAAW;AACtF,SAAOD,GAAmC,QAAQ;AAAA,EAClDE,GAAyC,KAAM,UAAU,iBAAiB;AAC9E,CAAC,GACKG,KAA4CJ,GAA6B,WAAW;AACtF,SAAOE,GAAwC,KAAMC,GAAyC;AAClG,CAAC;AACiDH,GAA6B,WAAW;AACtF,SAAOC,GAAyC,KAAMG,GAAyC;AACnG,CAAC;AACD,MAAMC,KAA4CL,GAA6B,WAAW;AACtF,SAAON,GAAoC,cAAc,KAAK,CAACY,GAAyC;AAC5G,CAAC,GACKA,KAA4CN,GAA6B,WAAW;AACtF,SAAON,GAAoC,SAAS;AACxD,CAAC,GACKa,KAA4CP,GAA6B,WAAW;AACtF,SAAON,GAAoC,UAAU;AACzD,CAAC,GACKc,KAA4CR,GAA6B,WAAW;AACtF,SAAON,GAAoC,UAAU;AACzD,CAAC;ACHD,SAASe,GAA0CC,GAAQC,GAAWC,IAAa,IAAM;AACrF,MAAIC,GAAoBC;AACxB,MAAI,EAAE,SAASC,GAAS,SAASC,GAAS,QAAQC,GAAQ,UAAUC,EAAQ,IAAKP;AAKjF,EAAQH,GAAyC,MAAS,GAAAM,IAAgB,OAAO,WAAW,QAAQA,MAAkB,WAAmBD,IAAqBC,EAAc,UAAU,QAAQD,MAAuB,WAAkBA,EAAmB,WAAW,KAAK,MAAMH,EAAO,WAAW,aACtRT,OAA8Cc,IAAU,KAC3DC,IAAU;AAInB,MAAIhE,IAAYqD,GAAyC,KAAWJ,GAAyC,KAAO,CAAKE,GAAyC,KAAO,QAAQ,IAAI,aAAa,SAAS,IAAI,cAAc,WAAW;AAAA,IACpO,eAAe;AAAA,IACf,SAASY;AAAA,IACT,SAASC;AAAA,IACT,QAAQC;AAAA,IACR,UAAUC;AAAA,EAClB,CAAK,IAAI,IAAI,WAAW,SAAS;AAAA,IACzB,SAASH;AAAA,IACT,SAASC;AAAA,IACT,QAAQC;AAAA,IACR,UAAUC;AAAA,IACV,SAAS;AAAA,IACT,YAAY;AAAA,EACpB,CAAK;AACD,EAAAT,GAA0C,YAAYG,GAClD7B,GAA2C2B,CAAM,GACrDA,EAAO,cAAc1D,CAAK,GAC1ByD,GAA0C,YAAY;AAC1D;AAEAA,GAA0C,YAAY;ACrEtD,IAAIU,KAA6C,oBAAI,IAAG,GAEpDC,KAA4C,oBAAI,IAAG;AACvD,SAASC,KAA0C;AAC/C,MAAI,OAAO,SAAW,IAAa;AACnC,WAASC,EAAkBtE,GAAO;AAC9B,WAAO,kBAAkBA;AAAA,EAC7B;AACA,MAAIuE,IAAoB,CAACC,MAAI;AACzB,QAAI,CAACF,EAAkBE,CAAC,KAAK,CAACA,EAAE,OAAQ;AAExC,QAAIC,IAAcN,GAA2C,IAAIK,EAAE,MAAM;AACzE,IAAKC,MACDA,IAAc,oBAAI,IAAG,GACrBN,GAA2C,IAAIK,EAAE,QAAQC,CAAW,GAIpED,EAAE,OAAO,iBAAiB,oBAAoBE,GAAiB;AAAA,MAC3D,MAAM;AAAA,IACtB,CAAa,IAELD,EAAY,IAAID,EAAE,YAAY;AAAA,EAClC,GACIE,IAAkB,CAACF,MAAI;AACvB,QAAI,CAACF,EAAkBE,CAAC,KAAK,CAACA,EAAE,OAAQ;AAExC,QAAIG,IAAaR,GAA2C,IAAIK,EAAE,MAAM;AACxE,QAAKG,MACLA,EAAW,OAAOH,EAAE,YAAY,GAE5BG,EAAW,SAAS,MACpBH,EAAE,OAAO,oBAAoB,oBAAoBE,CAAe,GAChEP,GAA2C,OAAOK,EAAE,MAAM,IAG1DL,GAA2C,SAAS,IAAG;AACvD,eAASS,KAAMR,GAA0C,CAAAQ,EAAE;AAC3D,MAAAR,GAA0C,MAAK;AAAA,IACnD;AAAA,EACJ;AACA,WAAS,KAAK,iBAAiB,iBAAiBG,CAAiB,GACjE,SAAS,KAAK,iBAAiB,iBAAiBG,CAAe;AACnE;AACI,OAAO,WAAa,QAChB,SAAS,eAAe,YAAWL,GAAuC,IACzE,SAAS,iBAAiB,oBAAoBA,EAAuC;AAM1F,SAASQ,KAAgD;AACzD,aAAW,CAACC,CAAW,KAAKX;AAE5B,IAAI,iBAAiBW,KAAe,CAACA,EAAY,eAAaX,GAA2C,OAAOW,CAAW;AAC/H;AACA,SAASC,GAA0C3J,GAAI;AAEnD,wBAAsB,MAAI;AACtB,IAAAyJ,GAA6C,GAGzCV,GAA2C,SAAS,IAAG/I,EAAE,IACxDgJ,GAA0C,IAAIhJ,CAAE;AAAA,EACzD,CAAC;AACL;ACrEA,SAAS4J,KAA4C;AACjD,MAAIC,IAAsBC,GAAe,oBAAI,IAAG,CAAE,GAC9CC,IAAwBC,EAAoB,CAACN,GAAapP,GAAM2P,GAAUC,MAAU;AAEpF,QAAIlK,IAAwDkK,GAAQ,OAAQ,IAAI9J,MAAO;AACnF,MAAAyJ,EAAgB,QAAQ,OAAOI,CAAQ,GACvCA,EAAS,GAAG7J,CAAI;AAAA,IACpB,IAAI6J;AACJ,IAAAJ,EAAgB,QAAQ,IAAII,GAAU;AAAA,MAClC,MAAM3P;AAAA,MACN,aAAaoP;AAAA,MACb,IAAI1J;AAAA,MACJ,SAASkK;AAAA,IACrB,CAAS,GACDR,EAAY,iBAAiBpP,GAAM0F,GAAIkK,CAAO;AAAA,EAClD,GAAG,CAAA,CAAE,GACDC,IAA2BH,EAAoB,CAACN,GAAapP,GAAM2P,GAAUC,MAAU;AACvF,QAAIE;AACJ,QAAIpK,MAAOoK,IAA+BP,EAAgB,QAAQ,IAAII,CAAQ,OAAO,QAAQG,MAAiC,SAAS,SAASA,EAA6B,OAAOH;AACpL,IAAAP,EAAY,oBAAoBpP,GAAM0F,GAAIkK,CAAO,GACjDL,EAAgB,QAAQ,OAAOI,CAAQ;AAAA,EAC3C,GAAG,CAAA,CAAE,GACDI,IAA+BL,EAAoB,MAAI;AACvD,IAAAH,EAAgB,QAAQ,QAAQ,CAAClO,GAAOlB,MAAM;AAC1C,MAAA0P,EAAqBxO,EAAM,aAAaA,EAAM,MAAMlB,GAAKkB,EAAM,OAAO;AAAA,IAC1E,CAAC;AAAA,EACL,GAAG;AAAA,IACCwO;AAAA,EACR,CAAK;AACD,SAAIG,GAAkB,MACXD,GACR;AAAA,IACCA;AAAA,EACR,CAAK,GACM;AAAA,IACH,mBAAmBN;AAAA,IACnB,sBAAsBI;AAAA,IACtB,0BAA0BE;AAAA,EAClC;AACA;ACvCA,SAASE,GAA0CtK,GAAK;AACpD,QAAMuK,IAAaC,GAAe,IAAI,GAChC3H,IAAiB2H,GAAe,MAAS,GACzCC,IAAgBC,EAAoB,CAACC,MAAW;AAClD,QAAI,OAAO3K,KAAQ,YAAY;AAC3B,YAAM4K,IAAc5K,GACd6K,IAAaD,EAAYD,CAAQ;AACvC,aAAO,MAAI;AACP,QAAI,OAAOE,KAAe,aAAYA,EAAU,IAC3CD,EAAY,IAAI;AAAA,MACzB;AAAA,IACJ,WAAW5K;AACP,aAAAA,EAAI,UAAU2K,GACP,MAAI;AACP,QAAA3K,EAAI,UAAU;AAAA,MAClB;AAAA,EAER,GAAG;AAAA,IACCA;AAAA,EACR,CAAK;AACD,SAAW8K,GAAgB,OAAK;AAAA,IACxB,IAAI,UAAW;AACX,aAAOP,EAAO;AAAA,IAClB;AAAA,IACA,IAAI,QAAS7O,GAAM;AACf,MAAA6O,EAAO,UAAU7O,GACbmH,EAAW,YACXA,EAAW,QAAO,GAClBA,EAAW,UAAU,SAErBnH,KAAS,SAAMmH,EAAW,UAAU4H,EAAU/O,CAAK;AAAA,IAC3D;AAAA,EACZ,IAAY;AAAA,IACJ+O;AAAA,EACR,CAAK;AACL;ACnCA,SAASM,GAA0CC,GAAShL,GAAK;AAC7D,EAAIP,GAA2C,MAAI;AAC/C,QAAIuL,KAAWA,EAAQ,OAAOhL;AAC1B,aAAAgL,EAAQ,IAAI,UAAUhL,EAAI,SACnB,MAAI;AACP,QAAIgL,EAAQ,QAAKA,EAAQ,IAAI,UAAU;AAAA,MAC3C;AAAA,EAER,CAAC;AACL;ACTA,SAASC,GAA0CtG,GAAO;AAEtD,SAAIA,EAAM,mBAAmB,KAAKA,EAAM,YAAkB,KAIlDuD,GAAyC,KAAOvD,EAAM,cAAoBA,EAAM,SAAS,WAAWA,EAAM,YAAY,IACvHA,EAAM,WAAW,KAAK,CAACA,EAAM;AACxC;AACA,SAASuG,GAA0CvG,GAAO;AAOtD,SAAO,CAAKuD,QAAgDvD,EAAM,UAAU,KAAKA,EAAM,WAAW,KAAKA,EAAM,UAAU,KAAKA,EAAM,WAAW,KAAKA,EAAM,aAAa,KAAKA,EAAM,WAAW,KAAKA,EAAM,gBAAgB;AAC1N;ACjBA,MAAMwG,KAAgD,OAAO,UAAY,OAAe,qBAAqB,QAAQ;AACrH,SAASC,GAAqCzE,GAAS;AACnD,QAAM0E,IAAmBxH,GAA2C8C,CAAO;AAC3E,MAAI,EAAEA,aAAmB0E,EAAa,gBAAgB,EAAE1E,aAAmB0E,EAAa,YAAa,QAAO;AAC5G,MAAI,EAAE,SAASC,GAAS,YAAYC,EAAU,IAAK5E,EAAQ,OACvD6E,IAAYF,MAAY,UAAUC,MAAe,YAAYA,MAAe;AAChF,MAAIC,GAAW;AACX,UAAM,EAAE,kBAAkBC,EAAgB,IAAK9E,EAAQ,cAAc;AACrE,QAAI,EAAE,SAAS+E,GAAiB,YAAYC,EAAkB,IAAKF,EAAiB9E,CAAO;AAC3F,IAAA6E,IAAYE,MAAoB,UAAUC,MAAuB,YAAYA,MAAuB;AAAA,EACxG;AACA,SAAOH;AACX;AACA,SAASI,GAAyCjF,GAASkF,GAAc;AACrE,SAAO,CAAClF,EAAQ,aAAa,QAAQ;AAAA,EACrC,CAACA,EAAQ,aAAa,+BAA+B,MAAMA,EAAQ,aAAa,aAAakF,KAAgBA,EAAa,aAAa,YAAYlF,EAAQ,aAAa,MAAM,IAAI;AACtL;AACA,SAASmF,GAA0CnF,GAASkF,GAAc;AACtE,SAAIV,KAAsDxE,EAAQ,gBAAe,IAC1EA,EAAQ,aAAa,cAAcyE,GAAqCzE,CAAO,KAAKiF,GAAyCjF,GAASkF,CAAY,MAAM,CAAClF,EAAQ,iBAAiBmF,GAA0CnF,EAAQ,eAAeA,CAAO;AACrQ;ACpBA,MAAMoF,KAA0C;AAAA,EAC5C;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AACJ,GACMC,KAAmDD,GAAwC,KAAK,iBAAiB,IAAI;AAC3HA,GAAwC,KAAK,iDAAiD;AAE9F,SAASE,GAA0CtF,GAAS;AACxD,SAAOA,EAAQ,QAAQqF,EAAgD,KAASF,GAA2CnF,CAAO,KAAK,CAACuF,GAA8BvF,CAAO;AACjL;AAIA,SAASuF,GAA8BvF,GAAS;AAC5C,MAAI7I,IAAO6I;AACX,SAAM7I,KAAQ,QAAK;AACf,QAAIA,aAAgBA,EAAK,cAAc,YAAY,eAAeA,EAAK,MAAO,QAAO;AACrF,IAAAA,IAAOA,EAAK;AAAA,EAChB;AACA,SAAO;AACX;AC9BA,MAAMqO,KAA4C,OAAO,SAAS;AAQlE,SAASC,GAAwC3P,GAAO;AACpD,MAAI,EAAE,WAAW4C,GAAW,OAAOgN,GAAO,UAAU7O,GAAU,kBAAkB8O,GAAkB,iBAAiBC,GAAiB,cAAcC,GAAc,QAAQC,EAAM,IAAKhQ;AACnL,SAAWiQ,GAAgB,MAAI;AAC3B,QAAIC,GACAC,GACAC;AACJ,WAAI,OAAOxN,KAAc,aAAYsN,IAAoBtN,EAAU;AAAA,MAC/D,GAAGoN;AAAA,MACH,kBAAkBH;AAAA,IAC9B,CAAS,IACIK,IAAoBtN,GACrB,OAAOgN,KAAU,aAAYO,IAAgBP,EAAM;AAAA,MACnD,GAAGI;AAAA,MACH,cAAcD,KAAgB,CAAA;AAAA,IAC1C,CAAS,IACII,IAAgBP,GACjB,OAAO7O,KAAa,aAAYqP,IAAmBrP,EAAS;AAAA,MAC5D,GAAGiP;AAAA,MACH,iBAAiBF;AAAA,IAC7B,CAAS,IACQ/O,KAAY,OAAMqP,IAAmBN,IACzCM,IAAmBrP,GACjB;AAAA,MACH,WAAWmP,KAAiFL;AAAA,MAC5F,OAAOM,KAAiBJ,IAAe;AAAA,QACnC,GAAGA;AAAA,QACH,GAAGI;AAAA,MACnB,IAAgB;AAAA,MACJ,UAAUC,KAA8EN;AAAA,MACxF,YAAY;AAAA,IACxB;AAAA,EACI,GAAG;AAAA,IACClN;AAAA,IACAgN;AAAA,IACA7O;AAAA,IACA8O;AAAA,IACAC;AAAA,IACAC;AAAA,IACAC;AAAA,EACR,CAAK;AACL;AAKA,SAASK,GAA0C9B,GAAS+B,GAAM;AAC9D,MAAIlM,IAAUmM,GAAmBhC,CAAO;AACxC,MAAI+B,MAAS;AACb,WAAO;AACP,MAAIlM,KAAO,OAAOA,KAAQ,YAAY,WAAWA,KAAOA,EAAI,OAAO;AAC/D,QAAIoM,IAAUF,KAAQZ;AACtB,QAAI,CAACtL,EAAI,MAAMoM,CAAO,GAAG;AACrB,UAAIC,IAAiB,IAAI,KAAK,WAAU,EAAG,OAAO,OAAO,KAAKrM,EAAI,KAAK,EAAE,IAAI,CAACsM,MAAI,IAAIA,CAAC,GAAG,CAAC,GACvFC,IAAeL,IAAO,iBAAiBA,CAAI,OAAO;AACtD,YAAM,IAAI,MAAM,GAAGK,CAAY,yBAAyBF,CAAc,GAAG;AAAA,IAC7E;AACA,WAAOrM,EAAI,MAAMoM,CAAO;AAAA,EAC5B;AAEA,SAAOpM;AACX;AACA,SAASwM,GAA0C5Q,GAAOuD,GAAKgL,GAAS;AACpE,MAAInK,IAAMiM,GAA0C9B,GAASvO,EAAM,IAAI,KAAK,CAAA,GAExE,EAAE,KAAK6Q,GAAY,GAAGC,EAAY,IAAK1M,GACvC2M,IAAgBC,GAAyBf,GAAgB,MAAQgB,GAAkB1N,GAAKsN,CAAU,GAAG;AAAA,IACrGtN;AAAA,IACAsN;AAAA,EACR,CAAK,CAAC,GACEK,IAAkBC,GAAmBL,GAAc9Q,CAAK;AAE5D,SAAI,WAAW8Q,KAAgBA,EAAa,SAAS,WAAW9Q,KAASA,EAAM,UACvE,OAAO8Q,EAAa,SAAU,cAAc,OAAO9Q,EAAM,SAAU,aACvEkR,EAAY,QAAQ,CAACE,MAAc;AAC/B,QAAIC,IAAe,OAAOP,EAAa,SAAU,aAAaA,EAAa,MAAMM,CAAW,IAAIN,EAAa,OACzGf,IAAe;AAAA,MACf,GAAGqB,EAAY;AAAA,MACf,GAAGC;AAAA,IACnB,GACgBzB,IAAQ,OAAO5P,EAAM,SAAU,aAAaA,EAAM,MAAM;AAAA,MACxD,GAAGoR;AAAA,MACH,cAAcrB;AAAA,IAC9B,CAAa,IAAI/P,EAAM;AACX,WAAO;AAAA,MACH,GAAG+P;AAAA,MACH,GAAGH;AAAA,IACnB;AAAA,EACQ,IAEAsB,EAAY,QAAQ;AAAA,IAChB,GAAGJ,EAAa;AAAA,IAChB,GAAG9Q,EAAM;AAAA,EACrB,IAEW;AAAA,IACHkR;AAAA,IACAH;AAAA,EACR;AACA;ACvGA,IAAI,OAAO,sBAAwB,KAAa;AAC5C,QAAMO,IAAgB,OAAO,yBAAyB,KAAK,WAAW,YAAY,EAAE;AACpF,SAAO,eAAe,oBAAoB,WAAW,cAAc;AAAA,IAC/D,cAAc;AAAA,IACd,YAAY;AAAA,IACZ,KAAK,WAAW;AACZ,aAAI,KAAK,QAAQ,kBAAwB,KAAK,QAAQ,aAC1CA,EAAc,KAAK,IAAI;AAAA,IACvC;AAAA,EACR,CAAK;AACL;AACA,MAAMC,KAA8DC,gBAAAA,GAAsB,EAAK;AAe/F,SAASC,GAA0CnO,GAAI;AACnD,MAAIoO,IAAU,CAAC1R,GAAOuD,MACCoO,GAAmBJ,EAAyC,IAC1D,OACdjO,EAAGtD,GAAOuD,CAAG;AAGxB,SAAAmO,EAAQ,cAAcpO,EAAG,eAAeA,EAAG,MAChCsO,GAAmBF,CAAO;AACzC;ACtCA,SAASG,GAAyCC,GAAa;AAC3D,MAAI5J,IAAQ4J;AACZ,SAAA5J,EAAM,cAAc4J,GACpB5J,EAAM,qBAAqB,MAAIA,EAAM,kBAErCA,EAAM,uBAAuB,MAAIA,EAAM,cACvCA,EAAM,UAAU,MAAI;AAAA,EAAC,GACdA;AACX;AACA,SAAS6J,GAA0C7J,GAAO0D,GAAQ;AAC9D,SAAO,eAAe1D,GAAO,UAAU;AAAA,IACnC,OAAO0D;AAAA,EACf,CAAK,GACD,OAAO,eAAe1D,GAAO,iBAAiB;AAAA,IAC1C,OAAO0D;AAAA,EACf,CAAK;AACL;AACA,SAASoG,GAA0CC,GAAQ;AACvD,MAAIC,IAAeC,GAAe;AAAA,IAC9B,WAAW;AAAA,IACX,UAAU;AAAA,EAClB,CAAK;AAED,EAAIC,GAAwB,MAAI;AAC5B,UAAMC,IAAQH,EAAS;AACvB,WAAO,MAAI;AACP,MAAIG,EAAM,aACNA,EAAM,SAAS,WAAU,GACzBA,EAAM,WAAW;AAAA,IAEzB;AAAA,EACJ,GAAG,CAAA,CAAE;AACL,MAAIC,IAAmBC,GAAuB,CAAC7F,MAAI;AAC/C,IAAgDuF,IAAOvF,CAAC;AAAA,EAC5D,CAAC;AAED,SAAW8F,EAAoB,CAAC9F,MAAI;AAKhC,QAAIA,EAAE,kBAAkB,qBAAqBA,EAAE,kBAAkB,oBAAoBA,EAAE,kBAAkB,uBAAuBA,EAAE,kBAAkB,mBAAmB;AACnK,MAAAwF,EAAS,QAAQ,YAAY;AAC7B,UAAItG,IAASc,EAAE,QACX+F,IAAgB,CAAC/F,MAAI;AAErB,YADAwF,EAAS,QAAQ,YAAY,IACzBtG,EAAO,UAAU;AAEjB,cAAI1D,IAAQ2J,GAAyCnF,CAAC;AACtD,UAAA4F,EAAapK,CAAK;AAAA,QACtB;AAEA,QAAIgK,EAAS,QAAQ,aACjBA,EAAS,QAAQ,SAAS,WAAU,GACpCA,EAAS,QAAQ,WAAW;AAAA,MAEpC;AACA,MAAAtG,EAAO,iBAAiB,YAAY6G,GAAe;AAAA,QAC/C,MAAM;AAAA,MACtB,CAAa,GACDP,EAAS,QAAQ,WAAW,IAAI,iBAAiB,MAAI;AACjD,YAAIA,EAAS,QAAQ,aAAatG,EAAO,UAAU;AAC/C,cAAI8G;AACJ,WAACA,IAA6BR,EAAS,QAAQ,cAAc,QAAQQ,MAA+B,UAAkBA,EAA2B,WAAU;AAC3J,cAAIC,IAAkB/G,MAAW,SAAS,gBAAgB,OAAO,SAAS;AAC1E,UAAAA,EAAO,cAAc,IAAI,WAAW,QAAQ;AAAA,YACxC,eAAe+G;AAAA,UACvC,CAAqB,CAAC,GACF/G,EAAO,cAAc,IAAI,WAAW,YAAY;AAAA,YAC5C,SAAS;AAAA,YACT,eAAe+G;AAAA,UACvC,CAAqB,CAAC;AAAA,QACN;AAAA,MACJ,CAAC,GACDT,EAAS,QAAQ,SAAS,QAAQtG,GAAQ;AAAA,QACtC,YAAY;AAAA,QACZ,iBAAiB;AAAA,UACb;AAAA,QACpB;AAAA,MACA,CAAa;AAAA,IACL;AAAA,EACJ,GAAG;AAAA,IACC0G;AAAA,EACR,CAAK;AACL;AACA,IAAIM,KAA4C;AAChD,SAASC,GAA0CjH,GAAQ;AAEvD,SAAMA,KAAU,CAAKkH,GAAoBlH,CAAM,IAAE,CAAAA,IAASA,EAAO;AACjE,MAAImH,IAAaC,GAAuBpH,CAAM,GAC1C5D,IAAgB+K,EAAO,SAAS;AACpC,MAAI,CAAC/K,KAAiBA,MAAkB4D,EAAQ;AAChD,EAAAgH,KAA4C;AAC5C,MAAIK,IAAe,IACfhB,IAAS,CAACvF,MAAI;AACd,KAAIA,EAAE,WAAW1E,KAAiBiL,MAAcvG,EAAE,yBAAwB;AAAA,EAC9E,GACIwG,IAAa,CAACxG,MAAI;AAClB,KAAIA,EAAE,WAAW1E,KAAiBiL,OAC9BvG,EAAE,yBAAwB,GAGtB,CAACd,KAAU,CAACqH,MACZA,IAAe,IACXE,GAA8BnL,CAAa,GAC/CgB,EAAO;AAAA,EAGnB,GACIoK,IAAU,CAAC1G,MAAI;AACf,KAAIA,EAAE,WAAWd,KAAUqH,MAAcvG,EAAE,yBAAwB;AAAA,EACvE,GACI2G,IAAY,CAAC3G,MAAI;AACjB,KAAIA,EAAE,WAAWd,KAAUqH,OACvBvG,EAAE,yBAAwB,GACrBuG,MACDA,IAAe,IACXE,GAA8BnL,CAAa,GAC/CgB,EAAO;AAAA,EAGnB;AACA,EAAA+J,EAAO,iBAAiB,QAAQd,GAAQ,EAAI,GAC5Cc,EAAO,iBAAiB,YAAYG,GAAY,EAAI,GACpDH,EAAO,iBAAiB,WAAWM,GAAW,EAAI,GAClDN,EAAO,iBAAiB,SAASK,GAAS,EAAI;AAC9C,MAAIpK,IAAU,MAAI;AACd,yBAAqBsK,CAAG,GACxBP,EAAO,oBAAoB,QAAQd,GAAQ,EAAI,GAC/Cc,EAAO,oBAAoB,YAAYG,GAAY,EAAI,GACvDH,EAAO,oBAAoB,WAAWM,GAAW,EAAI,GACrDN,EAAO,oBAAoB,SAASK,GAAS,EAAI,GACjDR,KAA4C,IAC5CK,IAAe;AAAA,EACnB,GACIK,IAAM,sBAAsBtK,CAAO;AACvC,SAAOA;AACX;ACzIA,IAAIuK,KAA8B,WAC9BC,KAAwC,IACxCC,KAA2C,oBAAI,QAAO;AAC1D,SAASC,GAA0C9H,GAAQ;AACvD,MAAQ+H,GAAY,GAAK;AACrB,QAAIJ,OAAgC,WAAW;AAC3C,YAAMK,IAAqBC,GAAyBjI,CAAM;AAC1D,MAAA4H,KAAwCI,EAAe,gBAAgB,MAAM,kBAC7EA,EAAe,gBAAgB,MAAM,mBAAmB;AAAA,IAC5D;AACA,IAAAL,KAA8B;AAAA,EAClC,WAAW3H,aAAkB,eAAeA,aAAkB,YAAY;AAGtE,QAAIkI,IAAW,gBAAgBlI,EAAO,QAAQ,eAAe;AAC7D,IAAA6H,GAAyC,IAAI7H,GAAQA,EAAO,MAAMkI,CAAQ,CAAC,GAC3ElI,EAAO,MAAMkI,CAAQ,IAAI;AAAA,EAC7B;AACJ;AACA,SAASC,GAA0CnI,GAAQ;AACvD,MAAQ+H,GAAY,GAAK;AAGrB,QAAIJ,OAAgC,WAAY;AAChD,IAAAA,KAA8B,aAG9B,WAAW,MAAI;AAGX,MAAIS,GAA2B,MAAI;AAE/B,YAAIT,OAAgC,aAAa;AAC7C,gBAAMK,IAAqBC,GAAyBjI,CAAM;AAC1D,UAAIgI,EAAe,gBAAgB,MAAM,qBAAqB,WAAQA,EAAe,gBAAgB,MAAM,mBAAmBJ,MAAyC,KACvKA,KAAwC,IACxCD,KAA8B;AAAA,QAClC;AAAA,MACJ,CAAC;AAAA,IACL,GAAG,GAAG;AAAA,EACV,YAAW3H,aAAkB,eAAeA,aAAkB,eAGtDA,KAAU6H,GAAyC,IAAI7H,CAAM,GAAG;AAChE,QAAIqI,IAAsBR,GAAyC,IAAI7H,CAAM,GACzEkI,IAAW,gBAAgBlI,EAAO,QAAQ,eAAe;AAC7D,IAAIA,EAAO,MAAMkI,CAAQ,MAAM,WAAQlI,EAAO,MAAMkI,CAAQ,IAAIG,IAC5DrI,EAAO,aAAa,OAAO,MAAM,MAAIA,EAAO,gBAAgB,OAAO,GACvE6H,GAAyC,OAAO7H,CAAM;AAAA,EAC1D;AAER;ACrDA,MAAMsI,KAAgDC,GAAc,cAAc;AAAA,EAC9E,UAAU,MAAI;AAAA,EAAC;AACnB,CAAC;AACDD,GAA0C,cAAc;AChBxD,SAASE,GAA4BC,GAAUC,GAAY;AACvD,SAAIA,EAAW,MAAYA,EAAW,IAAI,KAAKD,CAAQ,IAEhDC,EAAW;AACtB;ACJA,SAASC,GAAgCF,GAAUG,GAAYC,GAAQ;AACnE,MAAI,CAACD,EAAW,IAAIH,CAAQ,EAAG,OAAM,IAAI,UAAU,kBAAkBI,IAAS,gCAAgC;AAE9G,SAAOD,EAAW,IAAIH,CAAQ;AAClC;ACDA,SAASK,GAAyBL,GAAUG,GAAY;AACpD,MAAIF,IAAaC,GAAgCF,GAAUG,GAAY,KAAK;AAC5E,SAAOJ,GAA4BC,GAAUC,CAAU;AAC3D;ACNA,SAASK,GAA6BC,GAAKC,GAAmB;AAC1D,MAAIA,EAAkB,IAAID,CAAG;AACzB,UAAM,IAAI,UAAU,gEAAgE;AAE5F;ACFA,SAASE,GAA0BF,GAAKJ,GAAYvV,GAAO;AACvD,EAAA0V,GAA6BC,GAAKJ,CAAU,GAC5CA,EAAW,IAAII,GAAK3V,CAAK;AAC7B;ACLA,SAAS8V,GAA4BV,GAAUC,GAAYrV,GAAO;AAC9D,MAAIqV,EAAW,IAAK,CAAAA,EAAW,IAAI,KAAKD,GAAUpV,CAAK;AAAA,OAClD;AACD,QAAI,CAACqV,EAAW;AAIZ,YAAM,IAAI,UAAU,0CAA0C;AAElE,IAAAA,EAAW,QAAQrV;AAAA,EACvB;AACJ;ACRA,SAAS+V,GAAyBX,GAAUG,GAAYvV,GAAO;AAC3D,MAAIqV,IAAaC,GAAgCF,GAAUG,GAAY,KAAK;AAC5E,SAAAO,GAA4BV,GAAUC,GAAYrV,CAAK,GAChDA;AACX;AC0BA,SAASgW,GAA+CjV,GAAO;AAE3D,MAAIuO,IAAc2G,GAAuBhB,EAAyC;AAClF,MAAI3F,GAAS;AACT,QAAI,EAAE,UAAU4G,GAAU,GAAGrE,EAAY,IAAKvC;AAC9C,IAAAvO,IAAYoV,GAAmBtE,GAAc9Q,CAAK,GAClDmV,EAAQ;AAAA,EACZ;AACA,SAAIE,GAAmB9G,GAASvO,EAAM,GAAG,GAClCA;AACX;AACA,IAAIsV,KAA6D,oBAAI,QAAO;AAC5E,MAAMC,GAAiC;AAAA,EACnC,sBAAsB;AAClB,IAAIC,GAAW,MAAMF,IAA8C,EAAK;AAAA,EAC5E;AAAA,EACA,IAAI,wBAAwB;AACxB,WAAWG,GAAU,MAAMH,EAA4C;AAAA,EAC3E;AAAA,EACA,YAAY1X,GAAM8X,GAAaC,GAAetD,GAAM;AAChD,IAAIuD,GAAW,MAAMN,IAA8C;AAAA,MAC/D,UAAU;AAAA,MACV,OAAO;AAAA,IACnB,CAAS,GACGE,GAAW,MAAMF,IAA8C,EAAI;AACvE,QAAIO;AACJ,QAAIC,KAAiBD,IAA8DxD,GAAM,YAAY,QAAQwD,MAAkB,SAASA,IAAgBF,EAAc;AACtK,UAAMI,IAAqED,GAAc,sBAAqB;AAC9G,QAAIE,GAAGC,IAAI,GACPC,GAASC,IAAU;AACvB,IAAIR,EAAc,WAAW,QAAQA,EAAc,WAAW,SAC1DO,IAAUP,EAAc,SACxBQ,IAAUR,EAAc,UAExBI,MACIG,KAAW,QAAQC,KAAW,QAC9BH,IAAIE,IAAUH,EAAK,MACnBE,IAAIE,IAAUJ,EAAK,QAEnBC,IAAID,EAAK,QAAQ,GACjBE,IAAIF,EAAK,SAAS,KAG1B,KAAK,OAAOnY,GACZ,KAAK,cAAc8X,GACnB,KAAK,SAASC,EAAc,eAC5B,KAAK,WAAWA,EAAc,UAC9B,KAAK,UAAUA,EAAc,SAC7B,KAAK,UAAUA,EAAc,SAC7B,KAAK,SAASA,EAAc,QAC5B,KAAK,IAAIK,GACT,KAAK,IAAIC;AAAA,EACb;AACJ;AACA,MAAMG,KAAqC,OAAO,aAAa,GACzDC,KAAiC,8BACjCC,KAA4C;AAClD,SAASC,GAA0CvW,GAAO;AACtD,MAAI,EAAE,SAASwW,GAAS,eAAeC,GAAe,cAAcC,GAAc,YAAYC,GAAY,WAAWC,GAAW,SAASC,GAAS,YAAY1S,GAAY,WAAW2S,GAAe,qBAAqBC,GAAqB,2BAA2BC,GAA2B,2BAA2BC,GAA2B,KAAKC,GAAQ,GAAGC,EAAQ,IAAKlC,GAA+CjV,CAAK,GACva,CAACoX,GAAWC,CAAU,IAAQC,GAAiB,EAAK,GACpD/T,IAAUgU,GAAe;AAAA,IACzB,WAAW;AAAA,IACX,2BAA2B;AAAA,IAC3B,mBAAmB;AAAA,IACnB,mBAAmB;AAAA,IACnB,iBAAiB;AAAA,IACjB,QAAQ;AAAA,IACR,cAAc;AAAA,IACd,aAAa;AAAA,IACb,aAAa,CAAA;AAAA,EACrB,CAAK,GACG,EAAE,mBAAmBlK,GAAmB,0BAA0BM,EAAwB,IAAS6J,GAAyB,GAC5HC,IAAwBC,GAAuB,CAAC/B,GAAeD,MAAc;AAC7E,QAAIrD,IAAQ9O,EAAI;AAChB,QAAIY,KAAckO,EAAM,kBAAmB,QAAO;AAClD,QAAIsF,IAAwB;AAE5B,QADAtF,EAAM,oBAAoB,IACtBqE,GAAc;AACd,UAAIxO,IAAQ,IAAIqN,GAAiC,cAAcG,GAAaC,CAAa;AACzF,MAAAe,EAAaxO,CAAK,GAClByP,IAAwBzP,EAAM;AAAA,IAClC;AACA,WAAIuO,KAAeA,EAAc,EAAI,GACrCpE,EAAM,oBAAoB,IAC1BA,EAAM,oBAAoB,IAC1BgF,EAAW,EAAI,GACRM;AAAA,EACX,CAAC,GACGC,IAAsBF,GAAuB,CAAC/B,GAAeD,GAAamC,IAAa,OAAO;AAC9F,QAAIxF,IAAQ9O,EAAI;AAChB,QAAI,CAAC8O,EAAM,kBAAmB,QAAO;AACrC,IAAAA,EAAM,oBAAoB,IAC1BA,EAAM,oBAAoB;AAC1B,QAAIsF,IAAwB;AAC5B,QAAIhB,GAAY;AACZ,UAAIzO,IAAQ,IAAIqN,GAAiC,YAAYG,GAAaC,CAAa;AACvF,MAAAgB,EAAWzO,CAAK,GAChByP,IAAwBzP,EAAM;AAAA,IAClC;AAGA,QAFIuO,KAAeA,EAAc,EAAK,GACtCY,EAAW,EAAK,GACZb,KAAWqB,KAAc,CAAC1T,GAAY;AACtC,UAAI+D,IAAQ,IAAIqN,GAAiC,SAASG,GAAaC,CAAa;AACpF,MAAAa,EAAQtO,CAAK,GACbyP,MAA0BA,IAAwBzP,EAAM;AAAA,IAC5D;AACA,WAAAmK,EAAM,oBAAoB,IACnBsF;AAAA,EACX,CAAC,GACGG,IAAqBJ,GAAuB,CAAC/B,GAAeD,MAAc;AAC1E,QAAIrD,IAAQ9O,EAAI;AAChB,QAAIY,EAAY,QAAO;AACvB,QAAIyS,GAAW;AACX,MAAAvE,EAAM,oBAAoB;AAC1B,UAAInK,IAAQ,IAAIqN,GAAiC,WAAWG,GAAaC,CAAa;AACtF,aAAAiB,EAAU1O,CAAK,GACfmK,EAAM,oBAAoB,IACnBnK,EAAM;AAAA,IACjB;AACA,WAAO;AAAA,EACX,CAAC,GACG6P,IAAaL,GAAuB,CAAChL,MAAI;AACzC,QAAI2F,IAAQ9O,EAAI;AAChB,QAAI8O,EAAM,aAAaA,EAAM,QAAQ;AACjC,MAAIA,EAAM,qBAAqBA,EAAM,eAAe,QAAMuF,EAAgBI,GAAkC3F,EAAM,QAAQ3F,CAAC,GAAG2F,EAAM,aAAa,EAAK,GACtJA,EAAM,YAAY,IAClBA,EAAM,eAAe,IACrBA,EAAM,kBAAkB,MACxBA,EAAM,cAAc,MACpB1E,EAAwB,GACnBsJ,KAA+BlD,GAA2C1B,EAAM,MAAM;AAC3F,eAAS4F,KAAW5F,EAAM,YAAY,CAAA4F,EAAO;AAC7C,MAAA5F,EAAM,cAAc,CAAA;AAAA,IACxB;AAAA,EACJ,CAAC,GACG6F,IAA0BR,GAAuB,CAAChL,MAAI;AACtD,IAAIsK,KAA2Be,EAAOrL,CAAC;AAAA,EAC3C,CAAC,GACGyL,IAAmBT,GAAuB,CAAChL,MAAI;AAC/C,IAAkDmK,IAAQnK,CAAC;AAAA,EAC/D,CAAC,GACG0L,IAA4BV,GAAuB,CAAChL,GAAGd,MAAS;AAMhE,QAAIiL,GAAS;AACT,UAAI3O,IAAQ,IAAI,WAAW,SAASwE,CAAC;AACrC,MAAIqF,GAA2C7J,GAAO0D,CAAM,GAC5DiL,EAAYhF,GAA0C3J,CAAK,CAAC;AAAA,IAChE;AAAA,EACJ,CAAC,GACGmQ,IAAiBC,GAAgB,MAAI;AACrC,QAAIjG,IAAQ9O,EAAI,SACZ8U,IAAa;AAAA,MACb,UAAW3L,GAAG;AACV,YAAI6L,GAA2C7L,EAAE,aAAaA,EAAE,aAAa,KAAS8L,GAAqB9L,EAAE,eAAmB+L,GAAuB/L,EAAE,WAAW,CAAC,GAAG;AACpK,cAAIgM;AACJ,UAAIC,GAAuDF,GAAuB/L,EAAE,WAAW,GAAGA,EAAE,GAAG,KAAGA,EAAE,eAAc;AAI1H,cAAIiL,IAAwB;AAC5B,cAAI,CAACtF,EAAM,aAAa,CAAC3F,EAAE,QAAQ;AAC/B,YAAA2F,EAAM,SAAS3F,EAAE,eACjB2F,EAAM,YAAY,IAClBA,EAAM,cAAc,YACpBsF,IAAwBF,EAAkB/K,GAAG,UAAU;AAIvD,gBAAIkM,IAAiBlM,EAAE,eACnBmM,IAAU,CAACnM,MAAI;AACf,cAAI6L,GAA2C7L,GAAGkM,CAAc,KAAK,CAAClM,EAAE,UAAc8L,GAAqBI,GAAoBH,GAAuB/L,CAAC,CAAC,KAAK2F,EAAM,UAAQyF,EAAeE,GAAkC3F,EAAM,QAAQ3F,CAAC,GAAG,UAAU;AAAA,YAC5P;AACA,YAAAW,EAAsByL,GAAyBpM,EAAE,aAAa,GAAG,SAAaqM,GAAcF,GAASG,CAAO,GAAG,EAAI;AAAA,UACvH;AACA,UAAIrB,KAAuBjL,EAAE,gBAAe,GAQxCA,EAAE,WAAeuM,GAAY,OAAMP,IAAuBrG,EAAM,mBAAmB,QAAQqG,MAAyB,UAAkBA,EAAqB,IAAIhM,EAAE,KAAKA,EAAE,WAAW;AAAA,QAC3L,MAAO,CAAIA,EAAE,QAAQ,WAAQ2F,EAAM,gBAAgB,oBAAI,IAAG;AAAA,MAC9D;AAAA,MACA,QAAS3F,GAAG;AACR,YAAI,EAAAA,KAAK,CAAK8L,GAAqB9L,EAAE,eAAmB+L,GAAuB/L,EAAE,WAAW,CAAC,MACzFA,KAAKA,EAAE,WAAW,KAAK,CAAC2F,EAAM,qBAAqB,CAAK6G,GAAiB,WAAW;AACpF,cAAIvB,IAAwB;AAI5B,cAHIxT,KAAYuI,EAAE,eAAc,GAG5B,CAAC2F,EAAM,6BAA6B,CAACA,EAAM,cAAcA,EAAM,gBAAgB,aAAiB8G,GAAuBzM,EAAE,WAAW,IAAI;AACxI,gBAAI0M,IAAiB3B,EAAkB/K,GAAG,SAAS,GAC/C2M,IAAcvB,EAAepL,GAAG,SAAS,GACzC4M,IAAe1B,EAAgBlL,GAAG,SAAS;AAC/C,YAAAyL,EAAazL,CAAC,GACdiL,IAAwByB,KAAkBC,KAAeC;AAAA,UAC7D,WAAWjH,EAAM,aAAaA,EAAM,gBAAgB,YAAY;AAC5D,gBAAIqD,IAAcrD,EAAM,eAAe3F,EAAE,YAAY,eAAe,WAChE2M,IAAcvB,EAAeE,GAAkCtL,EAAE,eAAeA,CAAC,GAAGgJ,CAAW,GAC/F4D,IAAe1B,EAAgBI,GAAkCtL,EAAE,eAAeA,CAAC,GAAGgJ,GAAa,EAAI;AAC3G,YAAAiC,IAAwB0B,KAAeC,GACvCjH,EAAM,eAAe,IACrB8F,EAAazL,CAAC,GACdqL,EAAOrL,CAAC;AAAA,UACZ;AACA,UAAA2F,EAAM,4BAA4B,IAC9BsF,KAAuBjL,EAAE,gBAAe;AAAA,QAChD;AAAA,MACJ;AAAA,IACZ,GACYsM,IAAU,CAACtM,MAAI;AACf,UAAIgM;AACJ,UAAIrG,EAAM,aAAaA,EAAM,UAAUkG,GAA2C7L,GAAG2F,EAAM,MAAM,GAAG;AAChG,YAAIkH;AACJ,QAAIZ,GAAuDF,GAAuB/L,CAAC,GAAGA,EAAE,GAAG,KAAGA,EAAE,eAAc;AAC9G,YAAId,IAAa6M,GAAuB/L,CAAC,GACrCmL,IAAiBW,GAAqBnG,EAAM,QAAYoG,GAAuB/L,CAAC,CAAC;AACrF,QAAAkL,EAAgBI,GAAkC3F,EAAM,QAAQ3F,CAAC,GAAG,YAAYmL,CAAU,GACtFA,KAAYO,EAAsB1L,GAAG2F,EAAM,MAAM,GACrD1E,EAAwB,GAIpBjB,EAAE,QAAQ,WAAW8M,GAAuCnH,EAAM,MAAM,KAASmG,GAAqBnG,EAAM,QAAQzG,CAAM,KAAK,CAACc,EAAE0J,EAAkC,MAGpK1J,EAAE0J,EAAkC,IAAI,IACpC8C,GAAiB7G,EAAM,QAAQ3F,GAAG,EAAK,IAE/C2F,EAAM,YAAY,KACjBkH,IAAwBlH,EAAM,mBAAmB,QAAQkH,MAA0B,UAAkBA,EAAsB,OAAO7M,EAAE,GAAG;AAAA,MAC5I,WAAWA,EAAE,QAAQ,WAAY,GAAAgM,IAAuBrG,EAAM,mBAAmB,QAAQqG,MAAyB,WAAkBA,EAAqB,OAAO;AAC5J,YAAI7C;AAIJ,YAAIhM,IAASwI,EAAM;AACnB,QAAAA,EAAM,gBAAgB;AACtB,iBAASnK,KAAS2B,EAAO,OAAM,EAAG,EAACgM,IAAgBxD,EAAM,YAAY,QAAQwD,MAAkB,UAAkBA,EAAc,cAAc,IAAI,cAAc,SAAS3N,CAAK,CAAC;AAAA,MAClL;AAAA,IACJ;AACA,QAAI,OAAO,eAAiB,KAAa;AACrC,MAAAmQ,EAAW,gBAAgB,CAAC3L,MAAI;AAE5B,YAAIA,EAAE,WAAW,KAAK,CAAK8L,GAAqB9L,EAAE,eAAmB+L,GAAuB/L,EAAE,WAAW,CAAC,EAAG;AAK7G,YAAQ+M,GAA8B/M,EAAE,WAAW,GAAG;AAClD,UAAA2F,EAAM,cAAc;AACpB;AAAA,QACJ;AACA,QAAAA,EAAM,cAAc3F,EAAE;AACtB,YAAIiL,IAAwB;AAC5B,YAAI,CAACtF,EAAM,WAAW;AAClB,UAAAA,EAAM,YAAY,IAClBA,EAAM,eAAe,IACrBA,EAAM,kBAAkB3F,EAAE,WAC1B2F,EAAM,SAAS3F,EAAE,eACZuK,KAA+BvD,GAA2CrB,EAAM,MAAM,GAC3FsF,IAAwBF,EAAkB/K,GAAG2F,EAAM,WAAW;AAG9D,cAAIzG,IAAa6M,GAAuB/L,EAAE,WAAW;AACrD,UAAI,2BAA2Bd,KAAQA,EAAO,sBAAsBc,EAAE,SAAS,GAC/EW,EAAsByL,GAAyBpM,EAAE,aAAa,GAAG,aAAagN,GAAa,EAAK,GAChGrM,EAAsByL,GAAyBpM,EAAE,aAAa,GAAG,iBAAiBiN,GAAiB,EAAK;AAAA,QAC5G;AACA,QAAIhC,KAAuBjL,EAAE,gBAAe;AAAA,MAChD,GACA2L,EAAW,cAAc,CAAC3L,MAAI;AAC1B,YAAS8L,GAAqB9L,EAAE,eAAmB+L,GAAuB/L,EAAE,WAAW,CAAC,KACpFA,EAAE,WAAW,GAAG;AAChB,cAAIqK,GAAqB;AACrB,gBAAIkB,IAAcpF,GAA2CnG,EAAE,MAAM;AACrE,YAAIuL,KAAS5F,EAAM,YAAY,KAAK4F,CAAO;AAAA,UAC/C;AACA,UAAAvL,EAAE,gBAAe;AAAA,QACrB;AAAA,MACJ,GACA2L,EAAW,cAAc,CAAC3L,MAAI;AAE1B,QAAI,CAAK8L,GAAqB9L,EAAE,eAAmB+L,GAAuB/L,EAAE,WAAW,CAAC,KAAK2F,EAAM,gBAAgB,aAE/G3F,EAAE,WAAW,KAAK,CAAC2F,EAAM,aAAWyF,EAAepL,GAAG2F,EAAM,eAAe3F,EAAE,WAAW;AAAA,MAChG,GACA2L,EAAW,iBAAiB,CAAC3L,MAAI;AAC7B,QAAIA,EAAE,cAAc2F,EAAM,mBAAmBA,EAAM,UAAU,CAACA,EAAM,gBAAgBA,EAAM,eAAe,SACrGA,EAAM,eAAe,IACrBoF,EAAkBO,GAAkC3F,EAAM,QAAQ3F,CAAC,GAAG2F,EAAM,WAAW;AAAA,MAE/F,GACAgG,EAAW,iBAAiB,CAAC3L,MAAI;AAC7B,QAAIA,EAAE,cAAc2F,EAAM,mBAAmBA,EAAM,UAAUA,EAAM,gBAAgBA,EAAM,eAAe,SACpGA,EAAM,eAAe,IACrBuF,EAAgBI,GAAkC3F,EAAM,QAAQ3F,CAAC,GAAG2F,EAAM,aAAa,EAAK,GAC5F6F,EAAoBxL,CAAC;AAAA,MAE7B;AACA,UAAIgN,IAAc,CAAChN,MAAI;AACnB,YAAIA,EAAE,cAAc2F,EAAM,mBAAmBA,EAAM,aAAa3F,EAAE,WAAW,KAAK2F,EAAM,QAAQ;AAC5F,cAAQmG,GAAqBnG,EAAM,QAAYoG,GAAuB/L,CAAC,CAAC,KAAK2F,EAAM,eAAe,MAAM;AAWpG,gBAAIuH,IAAU,IACVC,IAAU,WAAW,MAAI;AACzB,cAAIxH,EAAM,aAAaA,EAAM,kBAAkB,gBACvCuH,IAAS7B,EAAOrL,CAAC,KAEboN,GAA8BzH,EAAM,MAAM,GAC9CA,EAAM,OAAO,MAAK;AAAA,YAG9B,GAAG,EAAE;AAGL,YAAAhF,EAAkBX,EAAE,eAAe,SAAS,MAAIkN,IAAU,IAAM,EAAI,GACpEvH,EAAM,YAAY,KAAK,MAAI,aAAawH,CAAO,CAAC;AAAA,UACpD,MAAO,CAAA9B,EAAOrL,CAAC;AAEf,UAAA2F,EAAM,eAAe;AAAA,QACzB;AAAA,MACJ,GACIsH,IAAkB,CAACjN,MAAI;AACvB,QAAAqL,EAAOrL,CAAC;AAAA,MACZ;AACA,MAAA2L,EAAW,cAAc,CAAC3L,MAAI;AAC1B,QAAS8L,GAAqB9L,EAAE,eAAmB+L,GAAuB/L,EAAE,WAAW,CAAC,KAExFqL,EAAOrL,CAAC;AAAA,MACZ;AAAA,IACJ,WAAW,QAAQ,IAAI,aAAa,QAAQ;AAGxC,MAAA2L,EAAW,cAAc,CAAC3L,MAAI;AAE1B,YAAIA,EAAE,WAAW,KAAK,CAAK8L,GAAqB9L,EAAE,eAAmB+L,GAAuB/L,EAAE,WAAW,CAAC,EAAG;AAC7G,YAAI2F,EAAM,2BAA2B;AACjC,UAAA3F,EAAE,gBAAe;AACjB;AAAA,QACJ;AAQA,YAPA2F,EAAM,YAAY,IAClBA,EAAM,eAAe,IACrBA,EAAM,SAAS3F,EAAE,eACjB2F,EAAM,cAAkB8G,GAAuBzM,EAAE,WAAW,IAAI,YAAY,SAE5CqN,GAAkB,MAAItC,EAAkB/K,GAAG2F,EAAM,WAAW,CAAC,KAClE3F,EAAE,gBAAe,GACxCqK,GAAqB;AACrB,cAAIkB,IAAcpF,GAA2CnG,EAAE,MAAM;AACrE,UAAIuL,KAAS5F,EAAM,YAAY,KAAK4F,CAAO;AAAA,QAC/C;AACA,QAAA5K,EAAsByL,GAAyBpM,EAAE,aAAa,GAAG,WAAWsN,GAAW,EAAK;AAAA,MAChG,GACA3B,EAAW,eAAe,CAAC3L,MAAI;AAC3B,YAAI,CAAK8L,GAAqB9L,EAAE,eAAmB+L,GAAuB/L,EAAE,WAAW,CAAC,EAAG;AAC3F,YAAIiL,IAAwB;AAC5B,QAAItF,EAAM,aAAa,CAACA,EAAM,6BAA6BA,EAAM,eAAe,SAC5EA,EAAM,eAAe,IACrBsF,IAAwBF,EAAkB/K,GAAG2F,EAAM,WAAW,IAE9DsF,KAAuBjL,EAAE,gBAAe;AAAA,MAChD,GACA2L,EAAW,eAAe,CAAC3L,MAAI;AAC3B,YAAI,CAAK8L,GAAqB9L,EAAE,eAAmB+L,GAAuB/L,EAAE,WAAW,CAAC,EAAG;AAC3F,YAAIiL,IAAwB;AAC5B,QAAItF,EAAM,aAAa,CAACA,EAAM,6BAA6BA,EAAM,eAAe,SAC5EA,EAAM,eAAe,IACrBsF,IAAwBC,EAAgBlL,GAAG2F,EAAM,aAAa,EAAK,GACnE6F,EAAoBxL,CAAC,IAErBiL,KAAuBjL,EAAE,gBAAe;AAAA,MAChD,GACA2L,EAAW,YAAY,CAAC3L,MAAI;AACxB,QAAS8L,GAAqB9L,EAAE,eAAmB+L,GAAuB/L,EAAE,WAAW,CAAC,KACpF,CAAC2F,EAAM,6BAA6B3F,EAAE,WAAW,KAAK,CAAC2F,EAAM,aAAWyF,EAAepL,GAAG2F,EAAM,eAAe,OAAO;AAAA,MAC9H;AACA,UAAI2H,IAAY,CAACtN,MAAI;AAEjB,YAAIA,EAAE,WAAW,GACjB;AAAA,cAAI2F,EAAM,2BAA2B;AACjC,YAAAA,EAAM,4BAA4B;AAClC;AAAA,UACJ;AACA,UAAIA,EAAM,UAAUA,EAAM,OAAO,SAAS3F,EAAE,MAAM,KAAK2F,EAAM,eAAe,QACvE0F,EAAOrL,CAAC,GACb2F,EAAM,eAAe;AAAA;AAAA,MACzB;AACA,MAAAgG,EAAW,eAAe,CAAC3L,MAAI;AAC3B,YAAI,CAAK8L,GAAqB9L,EAAE,eAAmB+L,GAAuB/L,EAAE,WAAW,CAAC,EAAG;AAC3F,YAAIuN,IAAQC,GAAwCxN,EAAE,WAAW;AACjE,YAAI,CAACuN,EAAO;AACZ,QAAA5H,EAAM,kBAAkB4H,EAAM,YAC9B5H,EAAM,4BAA4B,IAClCA,EAAM,eAAe,IACrBA,EAAM,YAAY,IAClBA,EAAM,SAAS3F,EAAE,eACjB2F,EAAM,cAAc,SACf4E,KAA+BvD,GAA2CrB,EAAM,MAAM,GAC/DoF,EAAkB0C,GAAuC9H,EAAM,QAAQ3F,CAAC,GAAG2F,EAAM,WAAW,KAC7F3F,EAAE,gBAAe,GAC5CW,EAAsB+M,GAAuB1N,EAAE,aAAa,GAAG,UAAU2N,GAAU,EAAI;AAAA,MAC3F,GACAhC,EAAW,cAAc,CAAC3L,MAAI;AAC1B,YAAI,CAAK8L,GAAqB9L,EAAE,eAAmB+L,GAAuB/L,EAAE,WAAW,CAAC,EAAG;AAC3F,YAAI,CAAC2F,EAAM,WAAW;AAClB,UAAA3F,EAAE,gBAAe;AACjB;AAAA,QACJ;AACA,YAAIuN,IAAQK,GAAmC5N,EAAE,aAAa2F,EAAM,eAAe,GAC/EsF,IAAwB;AAC5B,QAAIsC,KAASM,GAAmCN,GAAOvN,EAAE,aAAa,IAC9D,CAAC2F,EAAM,gBAAgBA,EAAM,eAAe,SAC5CA,EAAM,eAAe,IACrBsF,IAAwBF,EAAkB0C,GAAuC9H,EAAM,QAAQ3F,CAAC,GAAG2F,EAAM,WAAW,KAEjHA,EAAM,gBAAgBA,EAAM,eAAe,SAClDA,EAAM,eAAe,IACrBsF,IAAwBC,EAAgBuC,GAAuC9H,EAAM,QAAQ3F,CAAC,GAAG2F,EAAM,aAAa,EAAK,GACzH6F,EAAoBiC,GAAuC9H,EAAM,QAAQ3F,CAAC,CAAC,IAE3EiL,KAAuBjL,EAAE,gBAAe;AAAA,MAChD,GACA2L,EAAW,aAAa,CAAC3L,MAAI;AACzB,YAAI,CAAK8L,GAAqB9L,EAAE,eAAmB+L,GAAuB/L,EAAE,WAAW,CAAC,EAAG;AAC3F,YAAI,CAAC2F,EAAM,WAAW;AAClB,UAAA3F,EAAE,gBAAe;AACjB;AAAA,QACJ;AACA,YAAIuN,IAAQK,GAAmC5N,EAAE,aAAa2F,EAAM,eAAe,GAC/EsF,IAAwB;AAC5B,QAAIsC,KAASM,GAAmCN,GAAOvN,EAAE,aAAa,KAAK2F,EAAM,eAAe,QAC5FyF,EAAeqC,GAAuC9H,EAAM,QAAQ3F,CAAC,GAAG2F,EAAM,WAAW,GACzFsF,IAAwBC,EAAgBuC,GAAuC9H,EAAM,QAAQ3F,CAAC,GAAG2F,EAAM,WAAW,GAClH+F,EAAsB1L,EAAE,aAAa2F,EAAM,MAAM,KAC1CA,EAAM,gBAAgBA,EAAM,eAAe,SAAMsF,IAAwBC,EAAgBuC,GAAuC9H,EAAM,QAAQ3F,CAAC,GAAG2F,EAAM,aAAa,EAAK,IACjLsF,KAAuBjL,EAAE,gBAAe,GAC5C2F,EAAM,YAAY,IAClBA,EAAM,kBAAkB,MACxBA,EAAM,eAAe,IACrBA,EAAM,4BAA4B,IAC9BA,EAAM,UAAU,CAAC4E,KAA+BlD,GAA2C1B,EAAM,MAAM,GAC3G1E,EAAwB;AAAA,MAC5B,GACA0K,EAAW,gBAAgB,CAAC3L,MAAI;AAC5B,QAAS8L,GAAqB9L,EAAE,eAAmB+L,GAAuB/L,EAAE,WAAW,CAAC,MACxFA,EAAE,gBAAe,GACb2F,EAAM,aAAW0F,EAAOoC,GAAuC9H,EAAM,QAAQ3F,CAAC,CAAC;AAAA,MACvF;AACA,UAAI2N,IAAW,CAAC3N,MAAI;AAChB,QAAI2F,EAAM,aAAiBmG,GAAyBC,GAAuB/L,CAAC,GAAG2F,EAAM,MAAM,KAAG0F,EAAO;AAAA,UACjG,eAAe1F,EAAM;AAAA,UACrB,UAAU;AAAA,UACV,SAAS;AAAA,UACT,SAAS;AAAA,UACT,QAAQ;AAAA,QAC5B,CAAiB;AAAA,MACL;AACA,MAAAgG,EAAW,cAAc,CAAC3L,MAAI;AAC1B,QAAS8L,GAAqB9L,EAAE,eAAmB+L,GAAuB/L,EAAE,WAAW,CAAC,KACxFqL,EAAOrL,CAAC;AAAA,MACZ;AAAA,IACJ;AACA,WAAO2L;AAAA,EACX,GAAG;AAAA,IACChL;AAAA,IACAlJ;AAAA,IACA4S;AAAA,IACApJ;AAAA,IACAsJ;AAAA,IACAc;AAAA,IACAG;AAAA,IACAN;AAAA,IACAH;AAAA,IACAK;AAAA,IACAK;AAAA,IACAC;AAAA,EACR,CAAK;AAED,SAAIoC,GAAkB,MAAI;AACtB,QAAI,CAACtD,KAAU,QAAQ,IAAI,aAAa,OAAQ;AAChD,UAAMuD,IAAoB3B,GAAyB5B,EAAO,OAAO;AACjE,QAAI,CAACuD,KAAiB,CAACA,EAAc,QAAQA,EAAc,eAAepE,EAA8B,EAAG;AAC3G,UAAMzG,IAAQ6K,EAAc,cAAc,OAAO;AACjD,IAAA7K,EAAM,KAAKyG,IAIXzG,EAAM,cAAc;AAAA;AAAA,KAEvB0G,EAAyC;AAAA;AAAA;AAAA;AAAA,MAIxC,KAAI,GACFmE,EAAc,KAAK,QAAQ7K,CAAK;AAAA,EACpC,GAAG;AAAA,IACCsH;AAAA,EACR,CAAK,GAEGsD,GAAkB,MAAI;AACtB,QAAInI,IAAQ9O,EAAI;AAChB,WAAO,MAAI;AACP,UAAIsS;AACJ,MAAKoB,KAA+BlD,IAA4C8B,IAAgBxD,EAAM,YAAY,QAAQwD,MAAkB,SAASA,IAAgB,MAAS;AAC9K,eAASoC,KAAW5F,EAAM,YAAY,CAAA4F,EAAO;AAC7C,MAAA5F,EAAM,cAAc,CAAA;AAAA,IACxB;AAAA,EACJ,GAAG;AAAA,IACC4E;AAAA,EACR,CAAK,GACM;AAAA,IACH,WAAWH,KAAiBM;AAAA,IAC5B,YAAgBhC,GAAmB+B,GAAUkB,GAAY;AAAA,MACrD,CAAC/B,EAAyC,GAAG;AAAA,IACzD,CAAS;AAAA,EACT;AACA;AACA,SAASkD,GAAuC5N,GAAQ;AACpD,SAAOA,EAAO,YAAY,OAAOA,EAAO,aAAa,MAAM;AAC/D;AACA,SAAS2M,GAA2CrQ,GAAO4N,GAAe;AACtE,QAAM,EAAE,KAAK/X,GAAK,MAAM2c,EAAI,IAAKxS,GAC3BgC,IAAU4L,GACV6E,IAAOzQ,EAAQ,aAAa,MAAM;AAGxC,UAAQnM,MAAQ,WAAWA,MAAQ,OAAOA,MAAQ,cAAc2c,MAAS,YAAY,EAAExQ,aAAuBkQ,GAAuBlQ,CAAO,EAAE,oBAAoB,CAAC0Q,GAAsC1Q,GAASnM,CAAG,KAAKmM,aAAuBkQ,GAAuBlQ,CAAO,EAAE,uBAAuBA,EAAQ;AAAA,EAChT,GAAGyQ,MAAS,UAAU,CAACA,KAAQnB,GAAuCtP,CAAO,MAAMnM,MAAQ;AAC/F;AACA,SAASmc,GAAwChS,GAAO;AACpD,QAAM,EAAE,eAAe2S,EAAa,IAAK3S;AACzC,SAAI2S,EAAc,SAAS,IAAUA,EAAc,CAAC,IAC7C;AACX;AACA,SAASP,GAAmCpS,GAAO4S,GAAW;AAC1D,QAAMC,IAAiB7S,EAAM;AAC7B,WAAQM,IAAI,GAAGA,IAAIuS,EAAe,QAAQvS,KAAI;AAC1C,UAAMyR,IAAQc,EAAevS,CAAC;AAC9B,QAAIyR,EAAM,eAAea,EAAW,QAAOb;AAAA,EAC/C;AACA,SAAO;AACX;AACA,SAASE,GAAuCvO,GAAQc,GAAG;AACvD,MAAIwJ,IAAU,GACVC,IAAU;AACd,SAAIzJ,EAAE,iBAAiBA,EAAE,cAAc,WAAW,MAC9CwJ,IAAUxJ,EAAE,cAAc,CAAC,EAAE,SAC7ByJ,IAAUzJ,EAAE,cAAc,CAAC,EAAE,UAE1B;AAAA,IACH,eAAed;AAAA,IACf,UAAUc,EAAE;AAAA,IACZ,SAASA,EAAE;AAAA,IACX,SAASA,EAAE;AAAA,IACX,QAAQA,EAAE;AAAA,IACV,SAASwJ;AAAA,IACT,SAASC;AAAA,EACjB;AACA;AACA,SAAS6B,GAAkCpM,GAAQc,GAAG;AAClD,MAAIwJ,IAAUxJ,EAAE,SACZyJ,IAAUzJ,EAAE;AAChB,SAAO;AAAA,IACH,eAAed;AAAA,IACf,UAAUc,EAAE;AAAA,IACZ,SAASA,EAAE;AAAA,IACX,SAASA,EAAE;AAAA,IACX,QAAQA,EAAE;AAAA,IACV,SAASwJ;AAAA,IACT,SAASC;AAAA,EACjB;AACA;AACA,SAAS6E,GAAyCC,GAAO;AACrD,MAAIC,IAAU,GACVC,IAAU;AACd,SAAIF,EAAM,UAAU,SAAWC,IAAUD,EAAM,QAAQ,IAC9CA,EAAM,YAAY,WAAWC,IAAUD,EAAM,UAClDA,EAAM,WAAW,SAAWE,IAAUF,EAAM,SAAS,IAChDA,EAAM,YAAY,WAAWE,IAAUF,EAAM,UAC/C;AAAA,IACH,KAAKA,EAAM,UAAUE;AAAA,IACrB,OAAOF,EAAM,UAAUC;AAAA,IACvB,QAAQD,EAAM,UAAUE;AAAA,IACxB,MAAMF,EAAM,UAAUC;AAAA,EAC9B;AACA;AACA,SAASE,GAA+C3S,GAAGC,GAAG;AAI1D,SAFI,EAAAD,EAAE,OAAOC,EAAE,SAASA,EAAE,OAAOD,EAAE,SAE/BA,EAAE,MAAMC,EAAE,UAAUA,EAAE,MAAMD,EAAE;AAEtC;AACA,SAAS8R,GAAmCU,GAAOrP,GAAQ;AACvD,MAAImK,IAAOnK,EAAO,sBAAqB,GACnCyP,IAAYL,GAAyCC,CAAK;AAC9D,SAAOG,GAA+CrF,GAAMsF,CAAS;AACzE;AACA,SAASC,GAA6C1P,GAAQ;AAC1D,SAAIA,aAAkB,mBAAyB,KAC3CA,aAAkB,oBAA0BA,EAAO,SAAS,YAAYA,EAAO,SAAS,UACxF,CAAA4N,GAAuC5N,CAAM;AAErD;AACA,SAAS+M,GAAmD/M,GAAQ7N,GAAK;AACrE,SAAI6N,aAAkB,mBAAyB,CAACgP,GAAsChP,GAAQ7N,CAAG,IAC1Fud,GAA6C1P,CAAM;AAC9D;AACA,MAAM2P,KAA0C,oBAAI,IAAI;AAAA,EACpD;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AACJ,CAAC;AACD,SAASX,GAAsChP,GAAQ7N,GAAK;AAExD,SAAO6N,EAAO,SAAS,cAAcA,EAAO,SAAS,UAAU7N,MAAQ,MAAMwd,GAAwC,IAAI3P,EAAO,IAAI;AACxI;ACxoBA,IAAI4P,KAAwC,MACxCC,KAAuC,oBAAI,IAAG,GAC9CC,KAA4C,oBAAI,OAChDC,KAA4C,IAC5CC,KAAiD;AAErD,MAAMC,KAAiD;AAAA,EACnD,KAAK;AAAA,EACL,QAAQ;AACZ;AACA,SAASC,GAA4CC,GAAUrP,GAAG;AAC9D,WAASsP,KAAWP,GAAqC,CAAAO,EAAQD,GAAUrP,CAAC;AAChF;AAGI,SAASuP,GAAiC,GAAG;AAE7C,SAAO,EAAE,EAAE,WAAW,CAAKC,GAAY,KAAO,EAAE,UAAU,EAAE,WAAW,EAAE,QAAQ,aAAa,EAAE,QAAQ,WAAW,EAAE,QAAQ;AACjI;AACA,SAASC,GAA0C,GAAG;AAClD,EAAAR,KAA4C,IACxCM,GAAiC,CAAC,MAClCT,KAAwC,YACxCM,GAA4C,YAAY,CAAC;AAEjE;AACA,SAASM,GAAyC,GAAG;AACjD,EAAAZ,KAAwC,YACpC,EAAE,SAAS,eAAe,EAAE,SAAS,mBACrCG,KAA4C,IAC5CG,GAA4C,WAAW,CAAC;AAEhE;AACA,SAASO,GAAuC,GAAG;AAC/C,EAAQC,GAAuB,CAAC,MAC5BX,KAA4C,IAC5CH,KAAwC;AAEhD;AACA,SAASe,GAAuC,GAAG;AAI/C,EAAI,EAAE,WAAW,UAAU,EAAE,WAAW,YAAgB3J,MAA8C,CAAC,EAAE,cAGrG,CAAC+I,MAA6C,CAACC,OAC/CJ,KAAwC,WACxCM,GAA4C,WAAW,CAAC,IAE5DH,KAA4C,IAC5CC,KAAiD;AACrD;AACA,SAASY,KAAyC;AAC9C,EAAO5J,OAGP+I,KAA4C,IAC5CC,KAAiD;AACrD;AAGI,SAASa,GAA6CvS,GAAS;AAC/D,MAAI,OAAO,SAAW,OAAe,OAAO,WAAa,OAAewR,GAA0C,IAAQgB,GAAuBxS,CAAO,CAAC,EAAG;AAC5J,QAAM0E,IAAmB8N,GAAuBxS,CAAO,GACjD0J,IAAqB+I,GAAyBzS,CAAO;AAK3D,MAAI0S,IAAQhO,EAAa,YAAY,UAAU;AAC/C,EAAAA,EAAa,YAAY,UAAU,QAAQ,WAAW;AAClD,IAAA+M,KAA4C,IAC5CiB,EAAM,MAAM,MAAM,SAAS;AAAA,EAC/B,GACAhJ,EAAe,iBAAiB,WAAWuI,IAA2C,EAAI,GAC1FvI,EAAe,iBAAiB,SAASuI,IAA2C,EAAI,GACxFvI,EAAe,iBAAiB,SAASyI,IAAwC,EAAI,GAGrFzN,EAAa,iBAAiB,SAAS2N,IAAwC,EAAI,GACnF3N,EAAa,iBAAiB,QAAQ4N,IAAwC,EAAK,GAC/E,OAAO,eAAiB,OACxB5I,EAAe,iBAAiB,eAAewI,IAA0C,EAAI,GAC7FxI,EAAe,iBAAiB,eAAewI,IAA0C,EAAI,GAC7FxI,EAAe,iBAAiB,aAAawI,IAA0C,EAAI,KACpF,QAAQ,IAAI,aAAa,WAChCxI,EAAe,iBAAiB,aAAawI,IAA0C,EAAI,GAC3FxI,EAAe,iBAAiB,aAAawI,IAA0C,EAAI,GAC3FxI,EAAe,iBAAiB,WAAWwI,IAA0C,EAAI,IAG7FxN,EAAa,iBAAiB,gBAAgB,MAAI;AAC9C,IAAAiO,GAAkD3S,CAAO;AAAA,EAC7D,GAAG;AAAA,IACC,MAAM;AAAA,EACd,CAAK,GACDwR,GAA0C,IAAI9M,GAAc;AAAA,IACxD,OAAOgO;AAAA,EACf,CAAK;AACL;AACA,MAAMC,KAAoD,CAAC3S,GAAS4S,MAAe;AAC/E,QAAMlO,IAAmB8N,GAAuBxS,CAAO,GACjD0J,IAAqB+I,GAAyBzS,CAAO;AAE3D,EADI4S,KAAclJ,EAAe,oBAAoB,oBAAoBkJ,CAAY,GAChFpB,GAA0C,IAAI9M,CAAY,MAC/DA,EAAa,YAAY,UAAU,QAAQ8M,GAA0C,IAAI9M,CAAY,EAAE,OACvGgF,EAAe,oBAAoB,WAAWuI,IAA2C,EAAI,GAC7FvI,EAAe,oBAAoB,SAASuI,IAA2C,EAAI,GAC3FvI,EAAe,oBAAoB,SAASyI,IAAwC,EAAI,GACxFzN,EAAa,oBAAoB,SAAS2N,IAAwC,EAAI,GACtF3N,EAAa,oBAAoB,QAAQ4N,IAAwC,EAAK,GAClF,OAAO,eAAiB,OACxB5I,EAAe,oBAAoB,eAAewI,IAA0C,EAAI,GAChGxI,EAAe,oBAAoB,eAAewI,IAA0C,EAAI,GAChGxI,EAAe,oBAAoB,aAAawI,IAA0C,EAAI,KACvF,QAAQ,IAAI,aAAa,WAChCxI,EAAe,oBAAoB,aAAawI,IAA0C,EAAI,GAC9FxI,EAAe,oBAAoB,aAAawI,IAA0C,EAAI,GAC9FxI,EAAe,oBAAoB,WAAWwI,IAA0C,EAAI,IAEhGV,GAA0C,OAAO9M,CAAY;AACjE;AACA,SAASmO,GAA0C7S,GAAS;AACxD,QAAM0J,IAAqB+I,GAAyBzS,CAAO;AAC3D,MAAI4S;AACJ,SAAIlJ,EAAe,eAAe,YAAW6I,GAA6CvS,CAAO,KAE7F4S,IAAe,MAAI;AACf,IAAAL,GAA6CvS,CAAO;AAAA,EACxD,GACA0J,EAAe,iBAAiB,oBAAoBkJ,CAAY,IAE7D,MAAID,GAAkD3S,GAAS4S,CAAY;AACtF;AAGI,OAAO,WAAa,OAAaC,GAAyC;AAC9E,SAASC,KAA4C;AACjD,SAAOxB,OAA0C;AACrD;AACA,SAASyB,KAA4C;AACjD,SAAOzB;AACX;AAmBA,MAAM0B,KAA0C,oBAAI,IAAI;AAAA,EACpD;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AACJ,CAAC;AAIG,SAASC,GAA2CC,GAAarB,GAAUrP,GAAG;AAC9E,MAAI2Q,IAAgBV,GAA+DjQ,GAAE,MAAM;AAC3F,QAAM4Q,IAAoB,OAAO,SAAW,MAAkBZ,GAA6DhQ,GAAE,MAAM,EAAE,mBAAmB,kBAClJ6Q,IAAuB,OAAO,SAAW,MAAkBb,GAA6DhQ,GAAE,MAAM,EAAE,sBAAsB,qBACxJ8Q,IAAe,OAAO,SAAW,MAAkBd,GAA6DhQ,GAAE,MAAM,EAAE,cAAc,aACxI+Q,IAAiB,OAAO,SAAW,MAAkBf,GAA6DhQ,GAAE,MAAM,EAAE,gBAAgB;AAGlJ,SAAA0Q,IAAcA,KAAeC,EAAU,yBAAyBC,KAAqB,CAACJ,GAAwC,IAAIG,EAAU,cAAc,IAAI,KAAKA,EAAU,yBAAyBE,KAAwBF,EAAU,yBAAyBG,KAAgBH,EAAU,cAAc,mBAClS,EAAED,KAAerB,MAAa,cAAcrP,aAAa+Q,KAAkB,CAAC5B,GAA+CnP,EAAE,GAAG;AAC3I;AAeA,SAASgR,GAA0Cpa,GAAIqa,GAAMlU,GAAM;AAC/D,EAAAgT,GAA4C,GACxCmB,GAAkB,MAAI;AACtB,QAAI5B,IAAU,CAACD,GAAUrP,MAAI;AAEzB,MAAKyQ,GAA2C,CAAC,CAA8C1T,GAAK,aAAcsS,GAAUrP,CAAC,KAC7HpJ,EAAG0Z,GAAyC,CAAE;AAAA,IAClD;AACA,WAAAvB,GAAqC,IAAIO,CAAO,GACzC,MAAI;AACP,MAAAP,GAAqC,OAAOO,CAAO;AAAA,IACvD;AAAA,EAEJ,GAAG2B,CAAI;AACX;AC/NA,SAASE,GAA0C3T,GAAS;AAMxD,QAAMuQ,IAAoBqD,GAAyB5T,CAAO,GACpDlC,IAAoB+V,GAAyBtD,CAAa;AAChE,MAAQwC,GAAyC,MAAQ,WAAW;AAChE,QAAIe,IAAqBhW;AACzB,IAAIiW,GAA2B,MAAI;AAE/B,MAAQF,GAAyBtD,CAAa,MAAMuD,KAAsB9T,EAAQ,eAAiBgU,GAA8BhU,CAAO;AAAA,IAC5I,CAAC;AAAA,EACL,MAAO,CAAIgU,GAA8BhU,CAAO;AACpD;ACTA,SAASiU,GAA0Cne,GAAO;AACtD,MAAI,EAAE,YAAYmE,GAAY,SAASia,GAAa,QAAQC,GAAY,eAAeC,EAAa,IAAKte;AACzG,QAAMiS,IAAasM,EAAoB,CAAC7R,MAAI;AACxC,QAAIA,EAAE,WAAWA,EAAE;AACf,aAAI2R,KAAYA,EAAW3R,CAAC,GACxB4R,KAAeA,EAAc,EAAK,GAC/B;AAAA,EAEf,GAAG;AAAA,IACCD;AAAA,IACAC;AAAA,EACR,CAAK,GACKE,IAAuBxM,GAA2CC,CAAM,GACxEmB,IAAcmL,EAAoB,CAAC7R,MAAI;AAGzC,UAAM+N,IAAoBgE,GAAyB/R,EAAE,MAAM,GACrD1E,IAAgByS,IAAoBiE,GAAyBjE,CAAa,IAAQiE,GAAuB;AAC/G,IAAIhS,EAAE,WAAWA,EAAE,iBAAiB1E,MAAsB2W,GAAuBjS,EAAE,WAAW,MACtF0R,KAAaA,EAAY1R,CAAC,GAC1B4R,KAAeA,EAAc,EAAI,GACrCE,EAAiB9R,CAAC;AAAA,EAE1B,GAAG;AAAA,IACC4R;AAAA,IACAF;AAAA,IACAI;AAAA,EACR,CAAK;AACD,SAAO;AAAA,IACH,YAAY;AAAA,MACR,SAAS,CAACra,MAAeia,KAAeE,KAAiBD,KAAcjL,IAAU;AAAA,MACjF,QAAQ,CAACjP,MAAeka,KAAcC,KAAiBrM,IAAS;AAAA,IAC5E;AAAA,EACA;AACA;AC7CI,SAAS2M,GAA0C5C,GAAS;AAC5D,MAAI,CAACA,EAAS;AACd,MAAIrE,IAAwB;AAC5B,SAAO,CAACjL,MAAI;AACR,QAAIxE,IAAQ;AAAA,MACR,GAAGwE;AAAA,MACH,iBAAkB;AACd,QAAAA,EAAE,eAAc;AAAA,MACpB;AAAA,MACA,qBAAsB;AAClB,eAAOA,EAAE,mBAAkB;AAAA,MAC/B;AAAA,MACA,kBAAmB;AACf,QAAIiL,KAAyB,QAAQ,IAAI,aAAa,eAAc,QAAQ,MAAM,sIAAsI,IACnNA,IAAwB;AAAA,MACjC;AAAA,MACA,sBAAuB;AACnB,QAAAA,IAAwB;AAAA,MAC5B;AAAA,MACA,uBAAwB;AACpB,eAAOA;AAAA,MACX;AAAA,IACZ;AACQ,IAAAqE,EAAQ9T,CAAK,GACTyP,KAAuBjL,EAAE,gBAAe;AAAA,EAChD;AACJ;ACvBA,SAASmS,GAA0C7e,GAAO;AACtD,SAAO;AAAA,IACH,eAAeA,EAAM,aAAa,KAAK;AAAA,MACnC,WAAe4e,GAA2C5e,EAAM,SAAS;AAAA,MACzE,SAAa4e,GAA2C5e,EAAM,OAAO;AAAA,IACjF;AAAA,EACA;AACA;ACCA,IAAI8e,KAA8DC,gBAAAA,GAAc,cAAc,IAAI;AAClG,SAASC,GAA0Czb,GAAK;AACpD,MAAIgL,IAAc0Q,GAAmBH,EAAyC,KAAK,CAAA;AACnF,EAAII,GAAmB3Q,GAAShL,CAAG;AAEnC,MAAI,EAAE,KAAK4b,GAAG,GAAGC,EAAU,IAAK7Q;AAChC,SAAO6Q;AACX;AAYA,SAASC,GAA0Crf,GAAOkX,GAAQ;AAC9D,MAAI,EAAE,YAAYoI,EAAU,IAASnB,GAA2Cne,CAAK,GACjF,EAAE,eAAeuf,EAAa,IAASV,GAA2C7e,CAAK,GACvFwf,IAAmBC,GAAmBH,GAAYC,CAAa,GAC/DpI,IAAW6H,GAA0C9H,CAAM,GAC3DwI,IAAmB1f,EAAM,aAAa,CAAA,IAAKmX,GAC3CwI,IAAmBC,GAAe5f,EAAM,SAAS;AACrD,EAAI6f,GAAkB,MAAI;AACtB,IAAIF,EAAa,WAAWzI,EAAO,WAAa2G,GAA2C3G,EAAO,OAAO,GACzGyI,EAAa,UAAU;AAAA,EAC3B,GAAG;AAAA,IACCzI;AAAA,EACR,CAAK;AAED,MAAI4I,IAAW9f,EAAM,sBAAsB,KAAK;AAChD,SAAIA,EAAM,eAAY8f,IAAW,SAC1B;AAAA,IACH,gBAAoBL,GAAmB;AAAA,MACnC,GAAGD;AAAA,MACH,UAAUM;AAAA,IACtB,GAAWJ,CAAgB;AAAA,EAC3B;AACA;ACzCA,SAASK,GAA0C/f,GAAO;AACtD,MAAI,EAAE,YAAYmE,GAAY,cAAc6b,GAAc,eAAeC,GAAe,qBAAqBC,EAAmB,IAAKlgB,GACjIqS,IAAY8N,GAAe;AAAA,IAC3B,eAAe;AAAA,EACvB,CAAK,GACG,EAAE,mBAAmB9S,GAAmB,0BAA0BM,EAAwB,IAASyS,GAAyB,GAC5HnO,IAAaoO,EAAoB,CAAC3T,MAAI;AAEtC,IAAKA,EAAE,cAAc,SAASA,EAAE,MAAM,KAIlC2F,EAAM,QAAQ,iBAAiB,CAAC3F,EAAE,cAAc,SAASA,EAAE,aAAa,MACxE2F,EAAM,QAAQ,gBAAgB,IAC9B1E,EAAwB,GACpBqS,KAAcA,EAAatT,CAAC,GAC5BwT,KAAqBA,EAAoB,EAAK;AAAA,EAE1D,GAAG;AAAA,IACCF;AAAA,IACAE;AAAA,IACA7N;AAAA,IACA1E;AAAA,EACR,CAAK,GACG6Q,IAAuBxM,GAA2CC,CAAM,GACxEmB,IAAciN,EAAoB,CAAC3T,MAAI;AAEvC,QAAI,CAACA,EAAE,cAAc,SAASA,EAAE,MAAM,EAAG;AAGzC,UAAM+N,IAAoB6F,GAAyB5T,EAAE,MAAM,GACrD1E,IAAoBuY,GAAyB9F,CAAa;AAChE,QAAI,CAACpI,EAAM,QAAQ,iBAAiBrK,MAAsBwY,GAAuB9T,EAAE,WAAW,GAAG;AAC7F,MAAIuT,KAAeA,EAAcvT,CAAC,GAC9BwT,KAAqBA,EAAoB,EAAI,GACjD7N,EAAM,QAAQ,gBAAgB,IAC9BmM,EAAiB9R,CAAC;AAIlB,UAAIoJ,IAAgBpJ,EAAE;AACtB,MAAAW,EAAkBoN,GAAe,SAAS,CAAC/N,MAAI;AAC3C,YAAI2F,EAAM,QAAQ,iBAAiB,CAAKoO,GAAqB3K,GAAepJ,EAAE,MAAM,GAAG;AACnF,cAAIoF,IAAc,IAAI2I,EAAc,YAAY,WAAW,QAAQ;AAAA,YAC/D,eAAe/N,EAAE;AAAA,UACzC,CAAqB;AACD,UAAIqF,GAA2CD,GAAagE,CAAa;AACzE,cAAI5N,IAAY2J,GAA0CC,CAAW;AACrE,UAAAG,EAAO/J,CAAK;AAAA,QAChB;AAAA,MACJ,GAAG;AAAA,QACC,SAAS;AAAA,MACzB,CAAa;AAAA,IACL;AAAA,EACJ,GAAG;AAAA,IACC+X;AAAA,IACAC;AAAA,IACA1B;AAAA,IACAnR;AAAA,IACA4E;AAAA,EACR,CAAK;AACD,SAAI9N,IAAmB;AAAA,IACnB,kBAAkB;AAAA;AAAA,MAEd,SAAS;AAAA,MACT,QAAQ;AAAA,IACpB;AAAA,EACA,IACW;AAAA,IACH,kBAAkB;AAAA,MACd,SAASiP;AAAA,MACT,QAAQnB;AAAA,IACpB;AAAA,EACA;AACA;ACzEA,IAAIyO,KAAwD,IACxDC,KAAmC;AACvC,SAASC,KAA2D;AAChE,EAAAF,KAAwD,IAKxD,WAAW,MAAI;AACX,IAAAA,KAAwD;AAAA,EAC5D,GAAG,EAAE;AACT;AACA,SAASG,GAA+C,GAAG;AACvD,EAAI,EAAE,gBAAgB,WAASD,GAAwD;AAC3F;AACA,SAASE,KAA+C;AACpD,MAAI,SAAO,WAAa;AACxB,WAAIH,OAAqC,MACjC,OAAO,eAAiB,MAAa,SAAS,iBAAiB,aAAaE,EAA8C,IACrH,QAAQ,IAAI,aAAa,UAAQ,SAAS,iBAAiB,YAAYD,EAAwD,IAE5ID,MACO,MAAI;AAEP,MADAA,MACI,EAAAA,KAAmC,OACnC,OAAO,eAAiB,MAAa,SAAS,oBAAoB,aAAaE,EAA8C,IACxH,QAAQ,IAAI,aAAa,UAAQ,SAAS,oBAAoB,YAAYD,EAAwD;AAAA,IAC/I;AACJ;AACA,SAASG,GAA0C/gB,GAAO;AACtD,MAAI,EAAE,cAAcghB,GAAc,eAAeC,GAAe,YAAYC,GAAY,YAAY/c,EAAU,IAAKnE,GAC/G,CAACmhB,GAAWC,CAAU,IAAQC,GAAiB,EAAK,GACpDhP,IAAYiP,GAAe;AAAA,IAC3B,WAAW;AAAA,IACX,2BAA2B;AAAA,IAC3B,aAAa;AAAA,IACb,QAAQ;AAAA,EAChB,CAAK,EAAE;AACH,EAAIC,GAAkBT,IAA8C,EAAE;AACtE,MAAI,EAAE,mBAAmBzT,GAAmB,0BAA0BM,EAAwB,IAAS6T,GAAyB,GAC5H,EAAE,YAAYC,GAAY,iBAAiBC,EAAe,IAASC,GAAgB,MAAI;AACvF,QAAIC,IAAoB,CAAC1Z,GAAOwN,MAAc;AAE1C,UADArD,EAAM,cAAcqD,GAChBvR,KAAcuR,MAAgB,WAAWrD,EAAM,aAAa,CAACnK,EAAM,cAAc,SAASA,EAAM,MAAM,EAAG;AAC7G,MAAAmK,EAAM,YAAY;AAClB,UAAIzG,IAAS1D,EAAM;AACnB,MAAAmK,EAAM,SAASzG,GAKfyB,EAAsBwU,GAAyB3Z,EAAM,MAAM,GAAG,eAAe,CAACwE,MAAI;AAC9E,QAAI2F,EAAM,aAAaA,EAAM,UAAU,CAAKyP,GAAqBzP,EAAM,QAAQ3F,EAAE,MAAM,KAAGgV,EAAgBhV,GAAGA,EAAE,WAAW;AAAA,MAC9H,GAAG;AAAA,QACC,SAAS;AAAA,MACzB,CAAa,GACGsU,KAAcA,EAAa;AAAA,QAC3B,MAAM;AAAA,QACN,QAAQpV;AAAA,QACR,aAAa8J;AAAA,MAC7B,CAAa,GACGuL,KAAeA,EAAc,EAAI,GACrCG,EAAW,EAAI;AAAA,IACnB,GACIM,IAAkB,CAACxZ,GAAOwN,MAAc;AACxC,UAAI9J,IAASyG,EAAM;AAGnB,MAFAA,EAAM,cAAc,IACpBA,EAAM,SAAS,MACX,EAAAqD,MAAgB,WAAW,CAACrD,EAAM,aAAa,CAACzG,OACpDyG,EAAM,YAAY,IAClB1E,EAAwB,GACpBuT,KAAYA,EAAW;AAAA,QACvB,MAAM;AAAA,QACN,QAAQtV;AAAA,QACR,aAAa8J;AAAA,MAC7B,CAAa,GACGuL,KAAeA,EAAc,EAAK,GACtCG,EAAW,EAAK;AAAA,IACpB,GACIK,IAAa,CAAA;AACjB,WAAI,OAAO,eAAiB,OACxBA,EAAW,iBAAiB,CAAC/U,MAAI;AAC7B,MAAIgU,MAAyDhU,EAAE,gBAAgB,WAC/EkV,EAAkBlV,GAAGA,EAAE,WAAW;AAAA,IACtC,GACA+U,EAAW,iBAAiB,CAAC/U,MAAI;AAC7B,MAAI,CAACvI,KAAcuI,EAAE,cAAc,SAASA,EAAE,MAAM,KAAGgV,EAAgBhV,GAAGA,EAAE,WAAW;AAAA,IAC3F,KACO,QAAQ,IAAI,aAAa,WAChC+U,EAAW,eAAe,MAAI;AAC1B,MAAApP,EAAM,4BAA4B;AAAA,IACtC,GACAoP,EAAW,eAAe,CAAC/U,MAAI;AAC3B,MAAI,CAAC2F,EAAM,6BAA6B,CAACqO,MAAuDkB,EAAkBlV,GAAG,OAAO,GAC5H2F,EAAM,4BAA4B;AAAA,IACtC,GACAoP,EAAW,eAAe,CAAC/U,MAAI;AAC3B,MAAI,CAACvI,KAAcuI,EAAE,cAAc,SAASA,EAAE,MAAM,KAAGgV,EAAgBhV,GAAG,OAAO;AAAA,IACrF,IAEG;AAAA,MACH,YAAY+U;AAAA,MACZ,iBAAiBC;AAAA,IAC7B;AAAA,EACI,GAAG;AAAA,IACCV;AAAA,IACAC;AAAA,IACAC;AAAA,IACA/c;AAAA,IACAkO;AAAA,IACAhF;AAAA,IACAM;AAAA,EACR,CAAK;AACD,SAAI4T,GAAkB,MAAI;AAGtB,IAAIpd,KAAYud,EAAgB;AAAA,MAC5B,eAAerP,EAAM;AAAA,IACjC,GAAWA,EAAM,WAAW;AAAA,EAExB,GAAG;AAAA,IACClO;AAAA,EACR,CAAK,GACM;AAAA,IACH,YAAYsd;AAAA,IACZ,WAAWN;AAAA,EACnB;AACA;ACtIA,SAASY,GAA0C/hB,GAAOuD,GAAK;AAC3D,MAAI,EAAE,aAAaye,IAAc,UAAU,YAAY7d,GAAY,SAASqS,GAAS,cAAcE,GAAc,YAAYC,GAAY,WAAWC,GAAW,eAAeH,GAAe,qBAAqBM,GAAqB,wBACvOkL,GAAwB,SAASpL,GAAS,MAAMnU,GAAM,QAAQkJ,GAAQ,KAAKsW,GAAK,MAAMtkB,IAAO,SAAQ,IAAKoC,GACtGmiB;AACJ,EAAIH,MAAgB,WAAUG,IAAkB;AAAA,IAC5C,MAAMvkB;AAAA,IACN,UAAUuG;AAAA,IACV,MAAMnE,EAAM;AAAA,IACZ,YAAYA,EAAM;AAAA,IAClB,aAAaA,EAAM;AAAA,IACnB,YAAYA,EAAM;AAAA,IAClB,gBAAgBA,EAAM;AAAA,IACtB,YAAYA,EAAM;AAAA,IAClB,MAAMA,EAAM;AAAA,IACZ,OAAOA,EAAM;AAAA,EACrB,IACSmiB,IAAkB;AAAA,IACnB,MAAM;AAAA,IACN,MAAMH,MAAgB,OAAO,CAAC7d,IAAazB,IAAO;AAAA,IAClD,QAAQsf,MAAgB,MAAMpW,IAAS;AAAA,IACvC,MAAMoW,MAAgB,UAAUpkB,IAAO;AAAA,IACvC,UAAUokB,MAAgB,UAAU7d,IAAa;AAAA,IACjD,iBAAiB,CAACA,KAAc6d,MAAgB,UAAU,SAAY7d;AAAA,IACtE,KAAK6d,MAAgB,MAAME,IAAM;AAAA,EACzC;AACI,MAAI,EAAE,YAAY7J,GAAY,WAAWjB,EAAS,IAASgL,GAAiB;AAAA,IACxE,cAAc1L;AAAA,IACd,YAAYC;AAAA,IACZ,eAAeF;AAAA,IACf,SAASD;AAAA,IACT,WAAWI;AAAA,IACX,SAASC;AAAA,IACT,YAAY1S;AAAA,IACZ,qBAAqB4S;AAAA,IACrB,KAAKxT;AAAA,EACb,CAAK,GACG,EAAE,gBAAgB8e,EAAc,IAASC,GAAqBtiB,GAAOuD,CAAG;AAC5E,EAAI0e,MAAwBI,EAAe,WAAWle,IAAa,KAAKke,EAAe;AACvF,MAAIE,IAAkBC,GAAmBH,GAAgBhK,GAAgBoK,GAAuBziB,GAAO;AAAA,IACnG,WAAW;AAAA,EACnB,CAAK,CAAC;AACF,SAAO;AAAA,IACH,WAAWoX;AAAA,IACX,aAAiBoL,GAAmBL,GAAiBI,GAAa;AAAA,MAC9D,iBAAiBviB,EAAM,eAAe;AAAA,MACtC,iBAAiBA,EAAM,eAAe;AAAA,MACtC,iBAAiBA,EAAM,eAAe;AAAA,MACtC,gBAAgBA,EAAM,cAAc;AAAA,MACpC,gBAAgBA,EAAM,cAAc;AAAA,IAChD,CAAS;AAAA,EACT;AACA;AC7DA,SAAS0iB,GAA0C1iB,IAAQ,IAAI;AAC3D,MAAI,EAAE,WAAW2iB,IAAY,IAAO,aAAavF,GAAa,QAAQwF,EAAM,IAAK5iB,GAC7EqS,IAAYwQ,GAAe;AAAA,IAC3B,WAAW;AAAA,IACX,gBAAgBF,KAAiBG,GAAqB;AAAA,EAC9D,CAAK,GACG,CAACC,GAAWC,CAAU,IAAQC,GAAiB,EAAK,GACpD,CAACC,GAAqBC,CAAe,IAAQF,GAAiB,MAAI5Q,EAAM,QAAQ,aAAaA,EAAM,QAAQ,cAAc,GACzH+Q,IAAkBC,EAAoB,MAAIF,EAAgB9Q,EAAM,QAAQ,aAAaA,EAAM,QAAQ,cAAc,GAAG,CAAA,CAAE,GACtHiM,IAAoB+E,EAAoB,CAACN,MAAY;AACrD,IAAA1Q,EAAM,QAAQ,YAAY0Q,GAC1BC,EAAWD,CAAS,GACpBK,EAAW;AAAA,EACf,GAAG;AAAA,IACCA;AAAA,EACR,CAAK;AACD,EAAIE,GAAgC,CAACC,MAAiB;AAClD,IAAAlR,EAAM,QAAQ,iBAAiBkR,GAC/BH,EAAW;AAAA,EACf,GAAG,CAAA,GAAI;AAAA,IACH,aAAahG;AAAA,EACrB,CAAK;AACD,MAAI,EAAE,YAAYkC,EAAU,IAASkE,GAAiB;AAAA,IAClD,YAAYZ;AAAA,IACZ,eAAetE;AAAA,EACvB,CAAK,GACG,EAAE,kBAAkBmF,EAAgB,IAASC,GAAuB;AAAA,IACpE,YAAY,CAACd;AAAA,IACb,qBAAqBtE;AAAA,EAC7B,CAAK;AACD,SAAO;AAAA,IACH,WAAWyE;AAAA,IACX,gBAAgBG;AAAA,IAChB,YAAYN,IAASa,IAAmBnE;AAAA,EAChD;AACA;AC9BqE,MAAMqE,KAAiD;AAC5H,IAAIC,KAAsC;AAC1C,SAASC,GAA0CC,GAASC,IAAgB,aAAalK,IAAU8J,IAAgD;AAC/I,EAAKC,KAaEA,GAAoC,SAASE,GAASC,GAAelK,CAAO,KAZ/E+J,KAAsC,IAAII,GAAmC,IAQvE,OAAO,4BAA6B,YAAY,2BAA2B,OAAO,OAAS,OAG5FJ,GAAoC,SAASE,GAASC,GAAelK,CAAO,IAH8B,WAAW,MAAI;AAC1H,IAA8G+J,IAAoC,gBAAwHA,IAAoC,SAASE,GAASC,GAAelK,CAAO;AAAA,EAC1V,GAAG,GAAG;AAGd;AAgBA,MAAMmK,GAAoC;AAAA,EACtC,aAAa;AACT,QAAIC;AACJ,YAAQA,IAAa,KAAK,UAAU,QAAQA,MAAe,SAAS,SAASA,EAAW;AAAA,EAC5F;AAAA,EACA,UAAUC,GAAU;AAChB,QAAI7iB,IAAO,SAAS,cAAc,KAAK;AACvC,WAAAA,EAAK,aAAa,QAAQ,KAAK,GAC/BA,EAAK,aAAa,aAAa6iB,CAAQ,GACvC7iB,EAAK,aAAa,iBAAiB,WAAW,GACvCA;AAAA,EACX;AAAA,EACA,UAAU;AACN,IAAK,KAAK,SACV,SAAS,KAAK,YAAY,KAAK,IAAI,GACnC,KAAK,OAAO;AAAA,EAChB;AAAA,EACA,SAASyiB,GAASC,IAAgB,aAAalK,IAAU8J,IAAgD;AACrG,QAAIQ,GAAoBC;AACxB,QAAI,CAAC,KAAK,KAAM;AAChB,QAAI/iB,IAAO,SAAS,cAAc,KAAK;AACvC,IAAI,OAAOyiB,KAAY,YAEnBziB,EAAK,aAAa,QAAQ,KAAK,GAC/BA,EAAK,aAAa,mBAAmByiB,EAAQ,iBAAiB,CAAC,KAC5DziB,EAAK,cAAcyiB,GACtBC,MAAkB,eAAcI,IAAqB,KAAK,kBAAkB,QAAQA,MAAuB,UAAkBA,EAAmB,YAAY9iB,CAAI,KAC9J+iB,IAAkB,KAAK,eAAe,QAAQA,MAAoB,UAAkBA,EAAgB,YAAY/iB,CAAI,GACtHyiB,MAAY,MAAI,WAAW,MAAI;AAC/B,MAAAziB,EAAK,OAAM;AAAA,IACf,GAAGwY,CAAO;AAAA,EACd;AAAA,EACA,MAAMkK,GAAe;AACjB,IAAK,KAAK,UACL,CAACA,KAAiBA,MAAkB,gBAAgB,KAAK,iBAAc,KAAK,aAAa,YAAY,MACrG,CAACA,KAAiBA,MAAkB,aAAa,KAAK,cAAW,KAAK,UAAU,YAAY;AAAA,EACrG;AAAA,EACA,cAAa;AACT,SAAK,OAAO,MACZ,KAAK,eAAe,MACpB,KAAK,YAAY,MACb,OAAO,WAAa,QACpB,KAAK,OAAO,SAAS,cAAc,KAAK,GACxC,KAAK,KAAK,QAAQ,gBAAgB,QAElC,OAAO,OAAO,KAAK,KAAK,OAAO;AAAA,MAC3B,QAAQ;AAAA,MACR,MAAM;AAAA,MACN,UAAU;AAAA,MACV,QAAQ;AAAA,MACR,QAAQ;AAAA,MACR,UAAU;AAAA,MACV,SAAS;AAAA,MACT,UAAU;AAAA,MACV,OAAO;AAAA,MACP,YAAY;AAAA,IAC5B,CAAa,GACD,KAAK,eAAe,KAAK,UAAU,WAAW,GAC9C,KAAK,KAAK,YAAY,KAAK,YAAY,GACvC,KAAK,YAAY,KAAK,UAAU,QAAQ,GACxC,KAAK,KAAK,YAAY,KAAK,SAAS,GACpC,SAAS,KAAK,QAAQ,KAAK,IAAI;AAAA,EAEvC;AACJ;ACpFA,MAAMM,KAA8DC,gBAAAA,GAAsB,IAAI,GCExFC,KAA8DC,gBAAAA,GAAsB,EAAE,GACtFC,KAA8DC,gBAAAA,GAAgC,SAAgB1kB,GAAOuD,GAAK;AAC5H,GAACvD,GAAOuD,CAAG,IAAQqN,GAA2C5Q,GAAOuD,GAAKghB,EAAyC,GACnHvkB,IAAQ2kB,GAA0C3kB,CAAK;AACvD,MAAIoE,IAAMpE,GACN,EAAE,WAAW4kB,EAAS,IAAKxgB,GAC3B,EAAE,aAAame,GAAa,WAAWnL,EAAS,IAASyN,GAAkB7kB,GAAOuD,CAAG,GACrF,EAAE,YAAY+b,GAAY,WAAWyD,GAAW,gBAAgBQ,EAAc,IAASuB,GAAqB9kB,CAAK,GACjH,EAAE,YAAYyhB,GAAY,WAAWN,EAAS,IAAS4D,GAAiB;AAAA,IACxE,GAAG/kB;AAAA,IACH,YAAYA,EAAM,cAAc4kB;AAAA,EACxC,CAAK,GACGI,IAAe;AAAA,IACf,WAAW7D;AAAA,IACX,YAAY/c,EAAI,aAAagT,MAAc,CAACwN;AAAA,IAC5C,WAAW7B;AAAA,IACX,gBAAgBQ;AAAA,IAChB,YAAYvjB,EAAM,cAAc;AAAA,IAChC,WAAW4kB,KAAyD;AAAA,EAC5E,GACQxT,IAAkBzB,GAAyC;AAAA,IAC3D,GAAG3P;AAAA,IACH,QAAQglB;AAAA,IACR,kBAAkB;AAAA,EAC1B,CAAK,GACGC,IAAeC,GAAc3C,EAAY,EAAE,GAC3C4C,IAAiBD,GAAY,GAC7BE,IAAiB7C,EAAY,iBAAiB;AAClD,EAAIqC,MAGIQ,IAAgBA,IAAiB,GAAGA,CAAc,IAAID,CAAU,KAC3D5C,EAAY,YAAY,MAAG6C,IAAiB,GAAGH,CAAQ,IAAIE,CAAU;AAElF,MAAIE,IAAiBC,GAAeV,CAAS;AAC7C,EAAIW,GAAkB,MAAI;AACtB,QAAIzB,IAAU;AAAA,MACV,mBAAmBsB,KAAkBH;AAAA,IACjD;AACQ,KAAI,CAACI,EAAW,WAAWtC,KAAa6B,KAC/BS,EAAW,WAAWtC,KAAa,CAAC6B,MAAeY,GAAiB1B,GAAS,WAAW,GACjGuB,EAAW,UAAUT;AAAA,EACzB,GAAG;AAAA,IACCA;AAAA,IACA7B;AAAA,IACAqC;AAAA,IACAH;AAAA,EACR,CAAK;AACD,MAAIQ,IAAeC,GAAuB1lB,GAAO;AAAA,IAC7C,QAAQ;AAAA,EAChB,CAAK;AACD,gBAAOylB,EAAS,SACSE,gBAAAA,GAAc,cAAc,UAAU;AAAA,IAC3D,GAAOC,GAAmBH,GAAUrU,GAAamR,GAAajD,GAAYmC,CAAU;AAAA;AAAA;AAAA,IAGpF,MAAMc,EAAY,SAAS,YAAYqC,IAAY,WAAWrC,EAAY;AAAA,IAC1E,IAAI0C;AAAA,IACJ,KAAK1hB;AAAA,IACL,mBAAmB6hB;AAAA,IACnB,MAAMplB,EAAM,QAAQ;AAAA,IACpB,iBAAiB4kB,IAAY,SAASrC,EAAY,eAAe;AAAA,IACjE,iBAAiBviB,EAAM,cAAc;AAAA,IACrC,gBAAgBglB,EAAa,aAAa;AAAA,IAC1C,gBAAgB7D,KAAa;AAAA,IAC7B,gBAAgB4B,KAAa;AAAA,IAC7B,gBAAgB6B,KAAa;AAAA,IAC7B,sBAAsBrB,KAAkB;AAAA,EAChD,GAAyBoC,gBAAAA,GAAc,cAAkBtB,GAA2C,UAAU;AAAA,IACtG,OAAO;AAAA,MACH,IAAIc;AAAA,IAChB;AAAA,EACA,GAAO/T,EAAY,QAAQ,CAAC;AAC5B,CAAC;AACD,SAASuT,GAA0C3kB,GAAO;AAEtD,SAAIA,EAAM,cACNA,EAAM,UAAU,QAChBA,EAAM,eAAe,QACrBA,EAAM,aAAa,QACnBA,EAAM,gBAAgB,QACtBA,EAAM,YAAY,QAClBA,EAAM,YAAY,QAClBA,EAAM,UAAU,QAChBA,EAAM,UAAU,QAChBA,EAAM,OAAO,SAEVA;AACX;AC/GA,MAAM,EAAE,YAAA6lB,OAAevkB,IAyDVwkB,KAASD;AAAA,EACrB,CAAC;AAAA,IACA,UAAA9kB;AAAA,IACA,SAAAglB,IAAU;AAAA,IACV,MAAAC,IAAO;AAAA,IACP,WAAAC,IAAY;AAAA,IACZ,WAAArjB,IAAY;AAAA,IACZ,GAAGsjB;AAAA,EAAA,GAEH3iB,MACI;AAEJ,UAAMrB,IAAU;AAAA,MACf;AAAA,MACA,oBAAoB6jB,CAAO;AAAA,MAC3BC,MAAS,YAAY,oBAAoBA,CAAI,KAAK;AAAA,MAClDC,IAAY,gCAAgC;AAAA,MAC5CrjB;AAAA,IAAA,EACC,OAAO,OAAO,EAAE,KAAK,GAAG;AAE1B,WACCE,gBAAAA,EAAAA;AAAAA,MAACqjB;AAAAA,MAAA;AAAA,QACD,KAAA5iB;AAAA,QACA,WAAWrB;AAAA,QACV,GAAGgkB;AAAA,QAEH,UAAAnlB;AAAA,MAAA;AAAA,IAAA;AAAA,EAGH;AACD;AAEA+kB,GAAO,cAAc;ACtFd,MAAMM,KAAoC,CAAC;AAAA,EAChD,MAAA3jB,IAAO;AAAA,EACP,MAAA4jB;AAAA,EACA,MAAA3jB,IAAO;AAAA,EACP,WAAAE;AAAA,EACA,SAAAsH,IAAU;AAAA,EACV,SAAA2M;AAAA,EACA,GAAG7W;AACL,MAAM;AACJ,QAAMsmB,IAAmBrkB;AAAA,IACvB;AAAA,IACAW;AAAA,EAAA,GAGIC,IAAcZ;AAAA,IAClB;AAAA,EAAA,GAGIskB,IAAgB,MAElBxjB,gBAAAA,EAAAA,KAAAyjB,YAAA,EACE,UAAA;AAAA,IAAA1jB,gBAAAA,EAAAA;AAAAA,MAAC;AAAA,MAAA;AAAA,QACC,WAAU;AAAA,QACV,OAAM;AAAA,QACN,SAAQ;AAAA,QACR,eAAY;AAAA,QACZ,QAAO;AAAA,QACP,OAAM;AAAA,QAEN,UAAAA,gBAAAA,EAAAA,IAAC,QAAA,EAAK,GAAE,6HAAA,CAA6H;AAAA,MAAA;AAAA,IAAA;AAAA,IAErIujB,0BACC,QAAA,EAAK,yBAAyB,EAAE,QAAQA,EAAA,GAAQ,IAEjD5jB;AAAA,EAAA,GAEJ;AAIJ,SACEK,gBAAAA,EAAAA,IAAC,OAAA,EAAI,WAAWwjB,GACZ,gBAAY,WACZxjB,gBAAAA,EAAAA;AAAAA,IAAC;AAAA,IAAA;AAAA,MACC,WAAWD;AAAA,MACX,SAAAgU;AAAA,MACA,MAAK;AAAA,MACJ,GAAG7W;AAAA,MAEH,UAAAumB,EAAA;AAAA,IAAc;AAAA,EAAA,IAGjBzjB,gBAAAA,EAAAA;AAAAA,IAAC;AAAA,IAAA;AAAA,MACC,WAAWD;AAAA,MACX,MAAAH;AAAA,MACC,GAAG1C;AAAA,MAEH,UAAAumB,EAAA;AAAA,IAAc;AAAA,EAAA,GAGrB;AAEJ,GC9DaE,KAA0B,CAAC;AAAA,EACtC,MAAAhkB;AAAA,EACA,MAAA4jB;AAAA,EACA,UAAAtlB;AAAA,EACA,OAAA2lB,IAAQ;AAAA,EACR,UAAAC,IAAW;AAAA,EACX,UAAAC,IAAW;AAAA,EACX,SAAAC;AAAA,EACA,UAAAC,IAAW;AAAA,EACX,WAAAlkB;AAAA,EACA,GAAG5C;AACL,MAAM;AACJ,QAAM+mB,IAAa9kB;AAAA,IACjB;AAAA,IACA;AAAA,MACE,CAAC,cAAcykB,CAAK,EAAE,GAAGA,MAAU;AAAA,MACnC,wBAAwBC;AAAA,MACxB,uBAAuBC;AAAA,MACvB,uBAAuBE;AAAA,IAAA;AAAA,IAEzBlkB;AAAA,EAAA,GAGIokB,IAAc,CAACta,MAAwB;AAC3C,IAAAA,EAAE,eAAA,GACFA,EAAE,gBAAA,GACE,CAACoa,KAAYD,KACfA,EAAA;AAAA,EAEJ;AAEA,SACE9jB,gBAAAA,EAAAA,KAAC,UAAA,EAAO,WAAWgkB,GAAa,GAAG/mB,GAEhC,UAAA;AAAA,IAAAe,MAEGslB,IACFvjB,gBAAAA,EAAAA,IAAC,QAAA,EAAK,yBAAyB,EAAE,QAAQujB,EAAA,EAAK,CAAG,IAEjD5jB;AAAA,IAIDmkB,KACC9jB,gBAAAA,EAAAA;AAAAA,MAAC;AAAA,MAAA;AAAA,QACC,MAAK;AAAA,QACL,WAAU;AAAA,QACV,SAASkkB;AAAA,QACT,UAAAF;AAAA,QACA,cAAW;AAAA,QACX,OAAM;AAAA,QACP,UAAA;AAAA,MAAA;AAAA,IAAA;AAAA,EAED,GAEJ;AAEJ,GCzDaG,KAA8B,CAAC;AAAA,EAC1C,IAAAjiB;AAAA,EACA,MAAAzF;AAAA,EACA,MAAA3B,IAAO;AAAA,EACP,OAAAqB;AAAA,EACA,cAAAioB;AAAA,EACA,aAAAC;AAAA,EACA,UAAAL,IAAW;AAAA,EACX,UAAAM,IAAW;AAAA,EACX,UAAAC,IAAW;AAAA,EACX,UAAAC,IAAW;AAAA,EACX,aAAAC;AAAA,EACA,WAAA3kB;AAAA,EACA,OAAA4kB,IAAQ;AAAA,EACR,WAAAC;AAAA,EACA,cAAAC;AAAA,EACA,WAAAC;AAAA,EACA,WAAAC;AAAA,EACA,SAAAC;AAAA,EACA,MAAAC;AAAA,EACA,KAAAC;AAAA,EACA,KAAAC;AAAA,EACA,UAAAC;AAAA,EACA,QAAAhW;AAAA,EACA,SAAAmB;AAAA,EACA,WAAA8U;AAAA,EACA,GAAGloB;AACL,MAAM;AACJ,QAAMmoB,IAAelmB;AAAA,IACnB;AAAA,IACA;AAAA,MACE,sBAAsBqlB;AAAA,MACtB,CAAC,sBAAsBE,CAAK,EAAE,GAAGA,MAAU;AAAA,IAAA;AAAA,IAE7C5kB;AAAA,EAAA;AAGF,SACEE,gBAAAA,EAAAA;AAAAA,IAAC;AAAA,IAAA;AAAA,MACC,WAAWqlB;AAAA,MACX,IAAAnjB;AAAA,MACA,MAAAzF;AAAA,MACA,MAAA3B;AAAA,MACA,OAAAqB;AAAA,MACA,cAAAioB;AAAA,MACA,aAAAC;AAAA,MACA,UAAAL;AAAA,MACA,UAAAM;AAAA,MACA,UAAAC;AAAA,MACA,oBAAkBE;AAAA,MAClB,WAAAE;AAAA,MACA,cAAAC;AAAA,MACA,WAAAC;AAAA,MACA,WAAAC;AAAA,MACA,SAAAC;AAAA,MACA,MAAAC;AAAA,MACA,KAAAC;AAAA,MACA,KAAAC;AAAA,MACA,UAAAC;AAAA,MACA,QAAAhW;AAAA,MACA,SAAAmB;AAAA,MACA,WAAA8U;AAAA,MACC,GAAGloB;AAAA,IAAA;AAAA,EAAA;AAGV,GCjEaooB,KAA8B,CAAC;AAAA,EAC1C,SAAAC;AAAA,EACA,WAAAzlB;AAAA,EACA,eAAA0lB,IAAgB;AAAA,EAChB,MAAAtC,IAAO;AAAA,EACP,UAAAjlB;AAAA,EACA,GAAGf;AACL,MAAM;AACJ,QAAMuoB,IAAetmB;AAAA,IACnB;AAAA,IACA;AAAA,MACE,CAAC,gBAAgB+jB,CAAI,EAAE,GAAGA,MAAS;AAAA,IAAA;AAAA,IAErCpjB;AAAA,EAAA,GAGI4lB,IAAeF,IAAgB,OAAO;AAE5C,SACExlB,gBAAAA,EAAAA;AAAAA,IAAC0lB;AAAA,IAAA;AAAA,MACC,WAAWD;AAAA,MACX,SAASD,IAAgB,SAAYD;AAAA,MACpC,GAAGroB;AAAA,MAEH,cACC8C,gBAAAA,EAAAA,IAAC,SAAA,EAAM,WAAU,uBAAsB,SAAAulB,GACpC,UAAAtnB,GACH,IAEAA;AAAA,IAAA;AAAA,EAAA;AAIR,GCjCa0nB,KAAoC,CAAC;AAAA,EAChD,UAAA1nB;AAAA,EACA,QAAA2nB;AAAA,EACA,WAAA9lB;AAAA,EACA,aAAA2kB;AAAA,EACA,GAAGoB;AACL,MAAM;AACJ,QAAMC,IAAkB3mB;AAAA,IACtB;AAAA,IACAW;AAAA,EAAA,GAGIimB,IAAgB5mB;AAAA,IACpB;AAAA,IACA;AAAA,MACE,CAAC,2BAA2BymB,GAAQ,IAAI,EAAE,GAAGA,GAAQ;AAAA,IAAA;AAAA,IAEvDA,GAAQ;AAAA,EAAA,GAGJI,IAAsB,MAAM;AAChC,UAAMC,IAAUL,GAAQ,OACtB5lB,gBAAAA,EAAAA,IAAC,QAAA,EAAK,yBAAyB,EAAE,QAAQ4lB,EAAO,KAAA,EAAK,CAAG,IAExDA,GAAQ;AAGV,WAAIA,GAAQ,gBAER5lB,gBAAAA,EAAAA,IAAC,MAAA,EAAG,WAAU,2BACX,UAAAimB,GACH,IAIGA;AAAA,EACT;AAEA,SACEhmB,gBAAAA,EAAAA;AAAAA,IAAC;AAAA,IAAA;AAAA,MACC,WAAW6lB;AAAA,MACX,oBAAkBrB;AAAA,MACjB,GAAGoB;AAAA,MAEH,UAAA;AAAA,QAAAD,MAAWA,EAAO,QAAQA,EAAO,+BAC/B,UAAA,EAAO,WAAWG,GAChB,UAAAC,EAAA,EAAoB,CACvB;AAAA,QAED/nB;AAAA,MAAA;AAAA,IAAA;AAAA,EAAA;AAGP,GC9BaioB,KAAwC,CAAC;AAAA,EACpD,OAAAC;AAAA,EACA,MAAA1pB;AAAA,EACA,UAAA2pB;AAAA,EACA,QAAAR;AAAA,EACA,eAAAJ,IAAgB;AAAA,EAChB,YAAAa,IAAa;AAAA,EACb,MAAAC;AAAA,EACA,cAAAzY;AAAA,EACA,WAAA/N,IAAY;AAAA,EACZ,OAAAymB,IAAQ;AAAA,EACR,UAAApB;AAAA,EACA,oBAAAqB;AAAA,EACA,YAAAC;AAAA,EACA,GAAGvpB;AACL,MAAM;AACJ,QAAM,CAACwpB,GAAgBC,CAAiB,IAAIC;AAAA,IAC1CT,EAAM,OAAO,CAAAU,MAAQA,EAAK,OAAO,EAAE,IAAI,CAAAA,MAAQA,EAAK,KAAK;AAAA,EAAA,GAIrDC,IAAgBV,KAAY3pB,GAC5BsqB,IAAST,IAAO,GAAGQ,CAAa,UAAU,QAC1CE,IAAUnZ,IAAe,GAAGiZ,CAAa,WAAW,QACpDrC,IAAc,CAACsC,GAAQC,CAAO,EAAE,OAAO,OAAO,EAAE,KAAK,GAAG,KAAK,QAE7DC,IAAuB,CAAC9qB,GAAe+qB,MAAqB;AAChE,QAAIC;AAEJ,IAAID,IACFC,IAAY,CAAC,GAAGT,GAAgBvqB,CAAK,IAErCgrB,IAAYT,EAAe,OAAO,CAAAU,MAAKA,MAAMjrB,CAAK,GAGpDwqB,EAAkBQ,CAAS,GAE3BhC,IAAWgC,CAAS;AAAA,EACtB,GAGME,IAAc,MACXlB,EAAM,IAAI,CAACU,GAAMS,MAAU;AAChC,UAAMC,IAAS,GAAGT,CAAa,IAAIQ,IAAQ,CAAC,IACtCE,IAAgB,GAAGD,CAAM,gBACzBE,IAAYf,EAAe,SAASG,EAAK,KAAK,GAC9CxlB,IAAawlB,EAAK,YAAY;AAEpC,WACE5mB,gBAAAA,EAAAA,KAAC,OAAA,EAAqB,WAAU,0BAC9B,UAAA;AAAA,MAAAD,gBAAAA,EAAAA;AAAAA,QAAC;AAAA,QAAA;AAAA,UACC,WAAU;AAAA,UACV,IAAIunB;AAAA,UACJ,MAAA9qB;AAAA,UACA,MAAK;AAAA,UACL,OAAOoqB,EAAK;AAAA,UACZ,SAASY;AAAA,UACT,UAAUpmB;AAAA,UACV,UAAU,CAACuI,MAAMqd,EAAqBJ,EAAK,OAAOjd,EAAE,OAAO,OAAO;AAAA,UAClE,oBAAkBid,EAAK,OAAO,GAAGU,CAAM,UAAU9C;AAAA,UAChD,GAAIoC,EAAK,eAAe;AAAA,YACvB,iBAAiBW;AAAA,YACjB,iBAAiBC,IAAY,SAAS;AAAA,UAAA;AAAA,UAEvC,GAAGZ,EAAK;AAAA,QAAA;AAAA,MAAA;AAAA,4BAEV,SAAA,EAAM,WAAU,2BAA0B,SAASU,GACjD,YAAK,MACR;AAAA,MACCV,EAAK,QACJ7mB,gBAAAA,EAAAA,IAAC,OAAA,EAAI,IAAI,GAAGunB,CAAM,SAAS,WAAU,0BAClC,UAAAV,EAAK,KAAA,CACR;AAAA,MAEDA,EAAK,eACJ7mB,gBAAAA,EAAAA;AAAAA,QAAC;AAAA,QAAA;AAAA,UACC,WAAWb,EAAW,iCAAiC;AAAA,YACrD,yCAAyC,CAACsoB;AAAA,UAAA,CAC3C;AAAA,UACD,IAAID;AAAA,UAEH,UAAA,OAAOX,EAAK,eAAgB,YAC5BA,EAAK,gBAAgB,QACrB,WAAWA,EAAK,eAChB,QAAQA,EAAK,eACb,UAAUA,EAAK,cACd5mB,gBAAAA,EAAAA,KAAC,SAAI,OAAO,EAAE,WAAW,OAAA,GACrB,UAAA;AAAA,YAAA4mB,EAAK,YAAyC,SAC9C7mB,gBAAAA,EAAAA,IAACslB,IAAA,EAAM,SAAUuB,EAAK,YAAyC,IAC3D,UAAAA,EAAK,YAAyC,MAAA,CAClD;AAAA,YAEF7mB,gBAAAA,EAAAA,IAACmkB,IAAA,EAAO,GAAI0C,EAAK,YAAA,CAA0C;AAAA,UAAA,EAAA,CAC7D,IAEAA,EAAK;AAAA,QAAA;AAAA,MAAA;AAAA,IAET,EAAA,GAhDMA,EAAK,KAkDf;AAAA,EAEJ,CAAC,GAGGa,IAAoBvoB;AAAA,IACxB;AAAA,IACA;AAAA,MACE,2BAA2BonB;AAAA,IAAA;AAAA,IAE7BzmB;AAAA,EAAA,GAGI6nB,IAAmBxoB,EAAW,oBAAoB;AAAA,IACtD,2BAA2B,CAAC,CAAC0O;AAAA,EAAA,CAC9B;AAED,+BACG,OAAA,EAAI,WAAW8Z,GAAmB,GAAGlB,GAAa,GAAGvpB,GACpD,UAAA+C,gBAAAA,EAAAA;AAAAA,IAAC0lB;AAAA,IAAA;AAAA,MACC,QAAQC,IAAS;AAAA,QACf,MAAMA;AAAA,QACN,eAAAJ;AAAA,QACA,MAAMa;AAAA,MAAA,IACJ;AAAA,MACJ,aAAA5B;AAAA,MACC,GAAG+B;AAAA,MAEH,UAAA;AAAA,QAAAF,2BACE,OAAA,EAAI,IAAIS,GAAQ,WAAU,cACxB,UAAAT,GACH;AAAA,QAGDzY,KACC5N,gBAAAA,EAAAA,KAAC,OAAA,EAAI,IAAI+mB,GAAS,WAAU,uBAC1B,UAAA;AAAA,UAAAhnB,gBAAAA,EAAAA,IAAC,QAAA,EAAK,WAAU,2BAA0B,UAAA,UAAM;AAAA,UAAO;AAAA,UAAE6N;AAAA,QAAA,GAC3D;AAAA,QAGF7N,gBAAAA,EAAAA,IAAC,OAAA,EAAI,WAAW0nB,GACb,cAAY,CACf;AAAA,MAAA;AAAA,IAAA;AAAA,EAAA,GAEJ;AAEJ;AAEAxB,GAAW,cAAc;ACzKlB,MAAM0B,KAAoC,CAAC;AAAA,EAChD,IAAA1lB;AAAA,EACA,MAAAzF;AAAA,EACA,OAAAN;AAAA,EACA,cAAAioB;AAAA,EACA,aAAAC;AAAA,EACA,UAAAL,IAAW;AAAA,EACX,UAAAM,IAAW;AAAA,EACX,UAAAC,IAAW;AAAA,EACX,UAAAC,IAAW;AAAA,EACX,aAAAC;AAAA,EACA,WAAA3kB;AAAA,EACA,MAAA+nB,IAAO;AAAA,EACP,MAAAC;AAAA,EACA,WAAAjD;AAAA,EACA,WAAAC;AAAA,EACA,MAAAiD,IAAO;AAAA,EACP,QAAAC,IAAS;AAAA,EACT,cAAApD;AAAA,EACA,YAAAqD;AAAA,EACA,UAAA9C;AAAA,EACA,QAAAhW;AAAA,EACA,SAAAmB;AAAA,EACA,WAAA8U;AAAA,EACA,GAAGloB;AACL,MAAM;AACJ,QAAMgrB,IAAkB/oB;AAAA,IACtB;AAAA,IACA;AAAA,MACE,yBAAyBqlB;AAAA,MACzB,CAAC,0BAA0BwD,CAAM,EAAE,GAAGA,MAAW;AAAA,IAAA;AAAA,IAEnDloB;AAAA,EAAA;AAGF,SACEE,gBAAAA,EAAAA;AAAAA,IAAC;AAAA,IAAA;AAAA,MACC,WAAWkoB;AAAA,MACX,IAAAhmB;AAAA,MACA,MAAAzF;AAAA,MACA,OAAAN;AAAA,MACA,cAAAioB;AAAA,MACA,aAAAC;AAAA,MACA,UAAAL;AAAA,MACA,UAAAM;AAAA,MACA,UAAAC;AAAA,MACA,oBAAkBE;AAAA,MAClB,MAAAoD;AAAA,MACA,MAAAC;AAAA,MACA,WAAAjD;AAAA,MACA,WAAAC;AAAA,MACA,MAAAiD;AAAA,MACA,cAAAnD;AAAA,MACA,YAAAqD;AAAA,MACA,UAAA9C;AAAA,MACA,QAAAhW;AAAA,MACA,SAAAmB;AAAA,MACA,WAAA8U;AAAA,MACC,GAAGloB;AAAA,IAAA;AAAA,EAAA;AAGV,GC7DairB,KAA4B,CAAC;AAAA,EACxC,IAAAjmB;AAAA,EACA,WAAApC;AAAA,EACA,UAAA7B;AAAA,EACA,GAAGf;AACL,MAAM;AACJ,QAAMkrB,IAAcjpB,EAAW,cAAcW,CAAS;AAEtD,+BACG,OAAA,EAAI,WAAWsoB,GAAa,IAAAlmB,GAAS,GAAGhF,GACtC,UAAAe,GACH;AAEJ,GCXaoqB,KAAgD,CAAC;AAAA,EAC5D,IAAAnmB;AAAA,EACA,WAAA2iB;AAAA,EACA,UAAAyD;AAAA,EACA,WAAAC,IAAY;AAAA,EACZ,MAAA9rB;AAAA,EACA,OAAAN,IAAQ;AAAA,EACR,MAAA0rB;AAAA,EACA,WAAA/nB;AAAA,EACA,cAAA0oB;AAAA,EACA,eAAAC;AAAA,EACA,UAAAtD;AAAA,EACA,GAAGuD;AACL,MAAM;AACJ,QAAM,CAACC,GAAcC,CAAe,IAAIhC,GAASzqB,CAAK,GAChD,CAAC0sB,GAAWC,CAAY,IAAIlC,GAAS,CAAC,GACtC,CAACmC,GAAaC,CAAc,IAAIpC,GAAS,EAAK,GAC9C,CAACqC,GAAWC,CAAY,IAAItC,GAAS,EAAK,GAG1CuC,IAAiBC,EAAY,CAACzpB,MAC9B2oB,IAEK3oB,EAAK,WAAW,KAAK,IAAIA,EAAK,OAAO,MAAM,KAAK,EAAE,SAGlDA,EAAK,QAEb,CAAC2oB,CAAQ,CAAC;AAGb,EAAAe,GAAU,MAAM;AACd,UAAMC,IAAWH,EAAeR,CAAY,GACtCY,IAAQ1E,KAAayD,KAAY,GACjCkB,IAAeD,IAAQD,GACvBG,IAAiB,KAAK,MAAMF,KAAShB,IAAY,IAAI;AAE3D,IAAAO,EAAaU,CAAY,GACzBR,EAAeM,IAAWC,CAAK,GAC/BL,EAAaI,KAAYG,KAAkBH,IAAWC,CAAK,GAGvDd,KACFA,EAAca,GAAUE,CAAY;AAAA,EAExC,GAAG,CAACb,GAAc9D,GAAWyD,GAAUC,GAAWY,GAAgBV,CAAa,CAAC;AAGhF,QAAMiB,IAAe,CAACtkB,MAAkD;AACtE,UAAMukB,IAAWvkB,EAAM,OAAO;AAC9B,IAAAwjB,EAAgBe,CAAQ,GAEpBxE,KACFA,EAAS/f,CAAK;AAAA,EAElB,GAGMwkB,IAAuB,MAAM;AACjC,UAAML,IAAQ1E,KAAayD,KAAY,GACjCuB,IAAOvB,IAAW,SAAS,aAC3BwB,IAAaxB,IAAW,UAAU;AAExC,QAAI,CAACW;AACH,aAAO,uBAAuBM,CAAK,IAAIA,MAAU,IAAIM,IAAOC,CAAU;AAGxE,QAAIf,GAAa;AACf,YAAMgB,IAAU,KAAK,IAAIlB,CAAS;AAClC,aAAO,YAAYkB,CAAO,IAAIA,MAAY,IAAIF,IAAOC,CAAU;AAAA,IACjE;AACE,aAAO,YAAYjB,CAAS,IAAIA,MAAc,IAAIgB,IAAOC,CAAU;AAAA,EAEvE,GAEME,IAAwB7qB;AAAA,IAC5B;AAAA,IACAW;AAAA,EAAA,GAGImqB,IAAiB9qB;AAAA,IACrB;AAAA,IACA;AAAA,MACE,4CAA4C,CAAC8pB;AAAA,MAC7C,uBAAuBF;AAAA,IAAA;AAAA,IAEzBP,GAAc;AAAA,EAAA,GAGVN,IAAkB/oB;AAAA,IACtB;AAAA,IACA;AAAA,MACE,yBAAyB4pB;AAAA,IAAA;AAAA,EAC3B;AAGF,SACE9oB,gBAAAA,EAAAA;AAAAA,IAAC;AAAA,IAAA;AAAA,MACC,WAAW+pB;AAAA,MACX,eAAY;AAAA,MACZ,kBAAgBnF;AAAA,MAChB,iBAAeyD;AAAA,MACf,kBAAgBC;AAAA,MAChB,eAAY;AAAA,MAEZ,UAAA;AAAA,QAAAvoB,gBAAAA,EAAAA;AAAAA,UAAC4nB;AAAA,UAAA;AAAA,YACC,IAAA1lB;AAAA,YACA,MAAAzF;AAAA,YACA,OAAOksB;AAAA,YACP,MAAAd;AAAA,YACA,WAAWK;AAAA,YACX,UAAUwB;AAAA,YACV,oBAAkB,GAAGxnB,CAAE;AAAA,YACtB,GAAGwmB;AAAA,UAAA;AAAA,QAAA;AAAA,QAGN1oB,gBAAAA,EAAAA;AAAAA,UAACmoB;AAAA,UAAA;AAAA,YACC,IAAI,GAAGjmB,CAAE;AAAA,YACT,WAAW+nB;AAAA,YAEV,UAAAL,EAAA;AAAA,UAAqB;AAAA,QAAA;AAAA,MACxB;AAAA,IAAA;AAAA,EAAA;AAGN,GC9HaM,KAAgC,CAAC;AAAA,EAC5C,IAAAhoB;AAAA,EACA,MAAAzF;AAAA,EACA,OAAAN;AAAA,EACA,cAAAioB;AAAA,EACA,UAAAJ,IAAW;AAAA,EACX,UAAAO,IAAW;AAAA,EACX,UAAAC,IAAW;AAAA,EACX,aAAAC;AAAA,EACA,WAAA3kB;AAAA,EACA,UAAAqqB,IAAW;AAAA,EACX,MAAAjH;AAAA,EACA,cAAA0B;AAAA,EACA,SAAAla;AAAA,EACA,UAAAya;AAAA,EACA,QAAAhW;AAAA,EACA,SAAAmB;AAAA,EACA,GAAGpT;AACL,MAAM;AACJ,QAAMktB,IAAgBjrB;AAAA,IACpB;AAAA,IACA;AAAA,MACE,uBAAuBqlB;AAAA,IAAA;AAAA,IAEzB1kB;AAAA,EAAA;AAGF,SACEE,gBAAAA,EAAAA;AAAAA,IAAC;AAAA,IAAA;AAAA,MACC,WAAWoqB;AAAA,MACX,IAAAloB;AAAA,MACA,MAAAzF;AAAA,MACA,OAAAN;AAAA,MACA,cAAAioB;AAAA,MACA,UAAAJ;AAAA,MACA,UAAAO;AAAA,MACA,oBAAkBE;AAAA,MAClB,UAAA0F;AAAA,MACA,MAAAjH;AAAA,MACA,cAAA0B;AAAA,MACA,UAAAO;AAAA,MACA,QAAAhW;AAAA,MACA,SAAAmB;AAAA,MACC,GAAGpT;AAAA,MAEH,UAAAwN,EAAQ,IAAI,CAAC2f,GAAQ/C,MACpBtnB,gBAAAA,EAAAA;AAAAA,QAAC;AAAA,QAAA;AAAA,UAEC,OAAOqqB,EAAO;AAAA,UACd,UAAUA,EAAO;AAAA,UACjB,UAAUA,EAAO;AAAA,UAEhB,UAAAA,EAAO;AAAA,QAAA;AAAA,QALH,GAAGA,EAAO,KAAK,IAAI/C,CAAK;AAAA,MAAA,CAOhC;AAAA,IAAA;AAAA,EAAA;AAGP,GCtDagD,KAAgC,CAAC;AAAA,EAC5C,MAAA7tB;AAAA,EACA,OAAAN;AAAA,EACA,cAAAioB;AAAA,EACA,UAAAI,IAAW;AAAA,EACX,aAAAC;AAAA,EACA,WAAA3kB;AAAA,EACA,MAAAojB,IAAO;AAAA,EACP,QAAAqH,IAAS;AAAA,EACT,SAAA7f;AAAA,EACA,UAAAya;AAAA,EACA,QAAAhW;AAAA,EACA,SAAAmB;AAAA,EACA,GAAGpT;AACL,MAAM;AACJ,QAAM,CAACstB,GAAeC,CAAgB,IAAI7D,GAASzqB,KAASioB,KAAgB,EAAE,GAExEsG,IAAgBvrB;AAAA,IACpB;AAAA,IACA;AAAA,MACE,uBAAuBqlB;AAAA,MACvB,uBAAuBtB,MAAS;AAAA,MAChC,wBAAwBqH;AAAA,IAAA;AAAA,IAE1BzqB;AAAA,EAAA,GAGI4pB,IAAe,CAACtkB,MAA+C;AACnE,UAAMukB,IAAWvkB,EAAM,OAAO;AAC9B,IAAAqlB,EAAiBd,CAAQ,GACrBxE,KACFA,EAAS/f,CAAK;AAAA,EAElB;AAED,SACEpF,gBAAAA,EAAAA,IAAC2lB,IAAA,EACD,UAAA3lB,gBAAAA,EAAAA,IAAC,OAAA,EAAI,WAAW0qB,GAAgB,GAAGxtB,GACjC,UAAAwN,EAAQ,IAAI,CAAC2f,GAAQ/C,MAAU;AAC/B,UAAMqD,IAAU,GAAGluB,CAAI,IAAI6qB,CAAK,IAC1BE,IAAgB6C,EAAO,cAAc,GAAGM,CAAO,iBAAiB,QAChEC,IAAaJ,MAAkBH,EAAO;AAE5C,WACApqB,gBAAAA,EAAAA,KAAC,OAAA,EAAuB,WAAU,sBACjC,UAAA;AAAA,MAAAD,gBAAAA,EAAAA;AAAAA,QAAC;AAAA,QAAA;AAAA,UACA,WAAU;AAAA,UACV,IAAI2qB;AAAA,UACJ,MAAAluB;AAAA,UACA,MAAK;AAAA,UACL,OAAO4tB,EAAO;AAAA,UACd,UAAUA,EAAO;AAAA,UACjB,SAASO;AAAA,UACT,oBAAkBnG;AAAA,UAClB,UAAUiF;AAAA,UACV,QAAAva;AAAA,UACA,SAAAmB;AAAA,QAAA;AAAA,MAAA;AAAA,4BAEA,SAAA,EAAM,WAAU,uBAAsB,SAASqa,GAC9C,YAAO,MACT;AAAA,MACEN,EAAO,QACTrqB,gBAAAA,EAAAA,IAAC,SAAI,WAAU,sBACb,YAAO,MACT;AAAA,MAEEqqB,EAAO,eACTrqB,gBAAAA,EAAAA;AAAAA,QAAC;AAAA,QAAA;AAAA,UACA,WAAWb,EAAW,6BAA6B;AAAA,YACnD,qCAAqC,CAACyrB;AAAA,UAAA,CACrC;AAAA,UACD,IAAIpD;AAAA,UAEH,UAAA,OAAO6C,EAAO,eAAgB,YAC9BA,EAAO,gBAAgB,QACvB,WAAWA,EAAO,eAClB,QAAQA,EAAO,eACf,UAAUA,EAAO,cAClBpqB,gBAAAA,EAAAA,KAAC,SAAI,OAAO,EAAE,WAAW,OAAA,GACtB,UAAA;AAAA,YAAAoqB,EAAO,YAAsC,SAC/CrqB,gBAAAA,EAAAA,IAACslB,IAAA,EAAM,SAAU+E,EAAO,YAAsC,IAC3D,UAAAA,EAAO,YAAsC,MAAA,CAChD;AAAA,YAEArqB,gBAAAA,EAAAA,IAACmkB,IAAA,EAAO,GAAIkG,EAAO,YAAA,CAAuC;AAAA,UAAA,EAAA,CAC3D,IAECA,EAAO;AAAA,QAAA;AAAA,MAAA;AAAA,IAET,EAAA,GA7CSA,EAAO,KA+CjB;AAAA,EAED,CAAC,GACF,GACD;AAEF,GClFaQ,KAAkC,CAAC;AAAA,EAC9C,OAAAC;AAAA,EACA,WAAAhrB;AAAA,EACA,MAAAH;AAAA,EACA,MAAA4jB;AAAA,EACA,UAAAtlB;AAAA,EACA,MAAAilB;AAAA,EACA,cAAA6H;AAAA,EACA,GAAG7tB;AACL,MAAM;AAqBJ,QAAM8tB,IAAeF,MAnBW,CAAC5H,MAAyC;AACxE,YAAQA,GAAAA;AAAAA,MACN,KAAK;AAAA,MACL,KAAK;AACH,eAAO;AAAA,MACT,KAAK;AACH,eAAO;AAAA,MACT,KAAK;AACH,eAAO;AAAA,MACT,KAAK;AACH,eAAO;AAAA,MACT,KAAK;AACH,eAAO;AAAA,MACT;AACE,eAAO;AAAA,IAAA;AAAA,EAEb,GAGsDA,CAAI,GACpD+H,IAAiB9rB;AAAA,IACrB;AAAA,IACA;AAAA,MACE,CAAC,kBAAkB+jB,CAAI,EAAE,GAAGA;AAAA,IAAA;AAAA,IAE9BpjB;AAAA,EAAA,GAGImmB,IAAUhoB,MAAaslB,IAC3BvjB,gBAAAA,EAAAA,IAAC,QAAA,EAAK,yBAAyB,EAAE,QAAQujB,IAAK,CAAG,IAC/C5jB,IAEEurB,IAAU,IAAIF,CAAY,IAG1Ble,IAAQie,IAAe,EAAE,GAAG7tB,EAAM,OAAO,cAAA6tB,EAAA,IAAiB7tB,EAAM;AAEtE,SAAOiuB;AAAA,IACLD;AAAA,IACA,EAAE,WAAWD,GAAgB,GAAG/tB,GAAO,OAAA4P,EAAA;AAAA,IACvCmZ;AAAA,EAAA;AAEJ,GCvEamF,KAA4C,CAAC;AAAA,EACxD,IAAAlpB;AAAA,EACA,WAAApC;AAAA,EACA,oBAAAurB,IAAqB;AAAA,EACrB,UAAAptB;AAAA,EACA,GAAGf;AACL,MAAM;AACJ,QAAMouB,IAAensB,EAAW,uBAAuBW,CAAS;AAEhE,gCACG,QAAA,EAAK,WAAWwrB,GAAc,IAAAppB,GAAS,GAAGhF,GACzC,UAAA;AAAA,IAAA+C,gBAAAA,EAAAA,KAAC,QAAA,EAAK,WAAU,2BAA2B,UAAA;AAAA,MAAAorB;AAAA,MAAmB;AAAA,IAAA,GAAC;AAAA,IAC9DptB;AAAA,EAAA,GACH;AAEJ,GCfastB,KAA4C,CAAC;AAAA,EACxD,WAAAC,IAAY;AAAA,EACZ,WAAAC;AAAA,EACA,iBAAAC;AAAA,EACA,iBAAAC;AAAA,EACA,WAAAC;AAAA,EACA,WAAA9rB;AAAA,EACA,UAAA7B;AAAA,EACA,GAAGf;AACL,MAAM;AACJ,QAAM2uB,IAAkBC,GAAuB,IAAI;AAGnD,EAAAzC,GAAU,MAAM;AACd,IAAIwC,EAAgB,WAClBA,EAAgB,QAAQ,MAAA;AAAA,EAE5B,GAAG,CAAA,CAAE;AAEL,QAAME,IAAsB5sB;AAAA,IAC1B;AAAA,IACAW;AAAA,EAAA,GAGIksB,IAAc,MACdP,0BACM,QAAA,EAAK,yBAAyB,EAAE,QAAQA,KAAa,IAExDD,GAGHS,IAAoB,MACpBN,0BACM,QAAA,EAAK,yBAAyB,EAAE,QAAQA,KAAmB,IAE9DD,GAGHQ,IAAkB,CAACrF,MAAc;AACrC,UAAMZ,IAAUY,EAAK,OACnB7mB,gBAAAA,EAAAA,IAAC,QAAA,EAAK,yBAAyB,EAAE,QAAQ6mB,EAAK,KAAA,EAAK,CAAG,IAEtDA,EAAK;AAGP,WAAIA,EAAK,OAEL7mB,gBAAAA,EAAAA;AAAAA,MAAC;AAAA,MAAA;AAAA,QACC,MAAM6mB,EAAK;AAAA,QACV,GAAGA,EAAK;AAAA,QAER,UAAAZ;AAAA,MAAA;AAAA,IAAA,IAKAA;AAAA,EACT;AAEA,SACEhmB,gBAAAA,EAAAA;AAAAA,IAAC;AAAA,IAAA;AAAA,MACC,KAAK4rB;AAAA,MACL,WAAWE;AAAA,MACX,mBAAgB;AAAA,MAChB,MAAK;AAAA,MACL,UAAU;AAAA,MACV,eAAY;AAAA,MACX,GAAG7uB;AAAA,MAEJ,UAAA;AAAA,QAAA8C,gBAAAA,MAAC,QAAG,WAAU,8BAA6B,IAAG,uBAC3C,eACH;AAAA,QAEAC,gBAAAA,EAAAA,KAAC,OAAA,EAAI,WAAU,6BACZ,UAAA;AAAA,UAAAhC,KAAY+B,gBAAAA,EAAAA,IAAC,OAAG,UAAA/B,EAAA,CAAS;AAAA,UAEzB,CAACA,MAAaytB,KAAmBC,MAChC3rB,gBAAAA,EAAAA,IAAC,KAAA,EAAG,eAAoB;AAAA,gCAGzB,MAAA,EAAG,WAAU,wCAAuC,MAAK,QACvD,YAAU,IAAI,CAAC6mB,GAAMS,4BACnB,MAAA,EACE,UAAA4E,EAAgBrF,CAAI,EAAA,GADdS,CAET,CACD,EAAA,CACH;AAAA,QAAA,EAAA,CACF;AAAA,MAAA;AAAA,IAAA;AAAA,EAAA;AAGN,GCrFa6E,KAAsC,CAAC;AAAA,EAClD,IAAAjqB;AAAA,EACA,WAAApC;AAAA,EACA,OAAAqmB;AAAA,EACA,YAAAiG;AAAA,EACA,QAAAlf,IAAS,CAAA;AAAA,EACT,UAAAmf;AAAA,EACA,MAAA/F;AAAA,EACA,cAAAzY;AAAA,EACA,UAAAsX;AAAA,EACA,GAAGjoB;AACL,MAAM;AAEJ,QAAM,CAACovB,GAAeC,CAAgB,IAAI3F,GAAS,OAAO;AAAA,IACxD,KAAK1Z,EAAO,OAAO;AAAA,IACnB,OAAOA,EAAO,SAAS;AAAA,IACvB,MAAMA,EAAO,QAAQ;AAAA,EAAA,EACrB,GAGI,CAACsf,GAAaC,CAAc,IAAI7F,GAInC,CAAA,CAAE,GAGC8F,IAAa,CAACC,MACVA,IAAO,MAAM,KAAKA,IAAO,QAAQ,KAAOA,IAAO,QAAQ,GAI3DC,IAAiB,CAACC,GAAeF,MAAyB;AAC9D,UAAMG,IAAc,CAAC,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,EAAE;AACnE,WAAID,MAAU,KAAKH,EAAWC,CAAI,IACzB,KAEFG,EAAYD,IAAQ,CAAC;AAAA,EAC9B,GAGME,IAAc,CAACC,GAAaH,GAAgBF,MAAsC;AACtF,QAAI,CAACK,EAAK;AACV,QAAI,CAAC,QAAQ,KAAKA,CAAG,EAAG,QAAO;AAC/B,UAAMC,IAAS,SAASD,GAAK,EAAE;AAG/B,QAAIC,IAAS,KAAKA,IAAS,GAAI,QAAO;AAGtC,QAAIJ,KAASF,GAAM;AACjB,YAAMO,IAAW,SAASL,GAAO,EAAE,GAC7BM,IAAU,SAASR,GAAM,EAAE;AACjC,UAAI,CAAC,MAAMO,CAAQ,KAAK,CAAC,MAAMC,CAAO,KAAKD,KAAY,KAAKA,KAAY,IAAI;AAC1E,cAAME,IAAUR,EAAeM,GAAUC,CAAO;AAChD,YAAIF,IAASG;AAGX,iBAAO,GAFY;AAAA,YAAC;AAAA,YAAW;AAAA,YAAY;AAAA,YAAS;AAAA,YAAS;AAAA,YAAO;AAAA,YACjD;AAAA,YAAQ;AAAA,YAAU;AAAA,YAAa;AAAA,YAAW;AAAA,YAAY;AAAA,UAAA,EACpDF,IAAW,CAAC,CAAC,IAAIC,CAAO,aAAaC,CAAO;AAAA,MAErE;AAAA,IACF;AAAA,EAGF,GAEMC,IAAgB,CAACR,MAAsC;AAC3D,QAAI,CAACA,EAAO;AACZ,QAAI,CAAC,QAAQ,KAAKA,CAAK,EAAG,QAAO;AACjC,UAAMK,IAAW,SAASL,GAAO,EAAE;AACnC,QAAIK,IAAW,KAAKA,IAAW,GAAI,QAAO;AAAA,EAE5C,GAEMI,IAAe,CAACX,MAAqC;AACzD,QAAI,CAACA,EAAM;AACX,QAAI,CAAC,QAAQ,KAAKA,CAAI,EAAG,QAAO;AAChC,UAAMQ,IAAU,SAASR,GAAM,EAAE,GAC3BY,KAAc,oBAAI,KAAA,GAAO,YAAA;AAC/B,QAAIJ,IAAU,QAAQA,IAAUI,IAAc;AAC5C,aAAO,iCAAiCA,IAAc,EAAE;AAAA,EAG5D,GAEMC,IAAe,CAACR,GAAaH,GAAeF,MAAqC;AACrF,QAAI,CAACK,KAAO,CAACH,KAAS,CAACF,EAAM;AAE7B,UAAMM,IAAS,SAASD,GAAK,EAAE,GACzBE,IAAW,SAASL,GAAO,EAAE,GAC7BM,IAAU,SAASR,GAAM,EAAE;AAKjC,QAFI,MAAMM,CAAM,KAAK,MAAMC,CAAQ,KAAK,MAAMC,CAAO,KACjDD,IAAW,KAAKA,IAAW,MAC3BC,IAAU,KAAM;AAGpB,UAAMC,IAAUR,EAAeM,GAAUC,CAAO;AAChD,IAAIF,IAAS,KAAKA,IAASG;AAAA,EAK7B,GAGMK,IAAoBrE,EAAY,CAACsE,GAAmBvxB,MAAkB;AAC1E,UAAMgrB,IAAY;AAAA,MAChB,GAAGmF;AAAA,MACH,CAACoB,CAAS,GAAGvxB;AAAA,IAAA;AAEf,IAAAowB,EAAiBpF,CAAS,GAGtBhC,KACFA,EAASgC,CAAS;AAAA,EAEtB,GAAG,CAACmF,GAAenH,CAAQ,CAAC,GAGtBwI,IAAkBvE,EAAY,CAACsE,MAAsB;AACzD,UAAMvxB,IAAQmwB,EAAcoB,CAAuC;AAGnE,QAAIE;AACJ,QAAIF,MAAc;AAChB,MAAAE,IAAab,EAAY5wB,GAAOmwB,EAAc,OAAOA,EAAc,IAAI;AAAA,aAC9DoB,MAAc;AAGvB,UAFAE,IAAaP,EAAclxB,CAAK,GAE5B,CAACyxB,KAActB,EAAc,KAAK;AACpC,cAAMuB,IAAWd,EAAYT,EAAc,KAAKnwB,GAAOmwB,EAAc,IAAI;AACzE,QAAAG,EAAe,CAAAqB,OAAS;AAAA,UACtB,GAAGA;AAAA,UACH,KAAKD;AAAA,QAAA,EACL;AAAA,MACJ;AAAA,eACSH,MAAc,WACvBE,IAAaN,EAAanxB,CAAK,GAE3B,CAACyxB,KAActB,EAAc,OAAOA,EAAc,QAAO;AAC3D,YAAMuB,IAAWd,EAAYT,EAAc,KAAKA,EAAc,OAAOnwB,CAAK;AAC1E,MAAAswB,EAAe,CAAAqB,OAAS;AAAA,QACtB,GAAGA;AAAA,QACH,KAAKD;AAAA,MAAA,EACL;AAAA,IACJ;AAUF,QANApB,EAAe,CAAAqB,OAAS;AAAA,MACtB,GAAGA;AAAA,MACH,CAACJ,CAAS,GAAGE;AAAA,IAAA,EACb,GAGEtB,EAAc,OAAOA,EAAc,SAASA,EAAc,MAAM;AAClE,YAAMyB,IAAYP;AAAA,QAChBE,MAAc,QAAQvxB,IAAQmwB,EAAc;AAAA,QAC5CoB,MAAc,UAAUvxB,IAAQmwB,EAAc;AAAA,QAC9CoB,MAAc,SAASvxB,IAAQmwB,EAAc;AAAA,MAAA;AAE/C,MAAIyB,KAEFtB,EAAe,CAAAqB,OAAS;AAAA,QACtB,GAAGA;AAAA,QACH,KAAKC;AAAA,MAAA,EACL;AAAA,IAEN;AAAA,EACF,GAAG,CAACzB,GAAeS,GAAaM,GAAeC,GAAcE,CAAY,CAAC,GAGpEQ,IAAgCC,GAAQ,MAAM;AAAA,IAClD;AAAA,MACE,MAAM;AAAA,MACN,SAAS;AAAA,MACT,WAAW;AAAA,MACX,SAAS;AAAA,IAAA;AAAA,IAEX;AAAA,MACE,MAAM;AAAA,MACN,SAAS;AAAA,MACT,WAAW;AAAA,MACX,SAAS;AAAA,IAAA;AAAA,IAEX;AAAA,MACE,MAAM;AAAA,MACN,SAAS;AAAA,MACT,WAAW;AAAA,MACX,SAAS;AAAA,IAAA;AAAA,EACX,GACC,EAAE,GAECC,IAAiB/H,KAAS6H;AAGhC,MAAIvJ,IAAc4H,GAAU,eAAe;AAC3C,QAAMtF,IAAST,IAAO,GAAGpkB,CAAE,UAAU,IAC/B8kB,IAAUnZ,IAAe,GAAG3L,CAAE,WAAW;AAE/C,EAAI6kB,MACFtC,IAAcA,IAAc,GAAGA,CAAW,IAAIsC,CAAM,KAAKA,IAEvDC,MACFvC,IAAcA,IAAc,GAAGA,CAAW,IAAIuC,CAAO,KAAKA;AAI5D,QAAMmH,IAAiB,OAAO,OAAO3B,CAAW,EAAE,KAAK,OAAS4B,CAAK,GAE/DzG,IAAmBxoB;AAAA,IACvB;AAAA,IACA;AAAA,MACE,2BAA2B0O,KAAgBsgB;AAAA,IAAA;AAAA,EAC7C,GAGIE,IAAmBlvB;AAAA,IACvB;AAAA,IACAW;AAAA,EAAA,GAGIwuB,IAAe,MACnBruB,gBAAAA,EAAAA,KAAAyjB,EAAAA,UAAA,EACG,UAAA;AAAA,IAAA4C,KACCtmB,gBAAAA,EAAAA;AAAAA,MAACmoB;AAAA,MAAA;AAAA,QACC,IAAIpB;AAAA,QACJ,WAAWT,EAAK;AAAA,QAEf,UAAAA,EAAK,OACJtmB,gBAAAA,EAAAA,IAAC,QAAA,EAAK,yBAAyB,EAAE,QAAQsmB,EAAK,OAAK,CAAG,IAEtDA,EAAK;AAAA,MAAA;AAAA,IAAA;AAAA,IAKVzY,KACC7N,gBAAAA,EAAAA;AAAAA,MAACorB;AAAA,MAAA;AAAA,QACC,IAAIpE;AAAA,QACJ,WAAWnZ,EAAa;AAAA,QAEvB,UAAAA,EAAa,OACZ7N,gBAAAA,EAAAA,IAAC,QAAA,EAAK,yBAAyB,EAAE,QAAQ6N,EAAa,OAAK,CAAG,IAE9DA,EAAa;AAAA,MAAA;AAAA,IAAA;AAAA,IAMlB,OAAO,QAAQ2e,CAAW,EAAE;AAAA,MAAI,CAAC,CAAC+B,GAAOH,CAAK,MAC7CA,IACEnuB,gBAAAA,EAAAA;AAAAA,QAACmrB;AAAA,QAAA;AAAA,UAEC,IAAI,GAAGlpB,CAAE,IAAIqsB,CAAK;AAAA,UAClB,WAAU;AAAA,UAEV,UAAA;AAAA,YAAAvuB,gBAAAA,EAAAA,IAAC,QAAA,EAAK,WAAU,2BAA0B,UAAA,UAAM;AAAA,YAAO;AAAA,YAAEouB;AAAA,UAAA;AAAA,QAAA;AAAA,QAJpD,GAAGG,CAAK;AAAA,MAAA,IAMb;AAAA,IAAA;AAAA,IAGNvuB,gBAAAA,EAAAA,IAAC,OAAA,EAAI,WAAWquB,GAAkB,IAAAnsB,GAAQ,eAAY,cAAc,GAAGhF,GACpE,UAAAgxB,EAAe,IAAI,CAACrH,MAAS;AAC5B,YAAM2H,IAAU3H,EAAK,MAAM,GAAG3kB,CAAE,IAAI2kB,EAAK,IAAI,IACvC4H,IAAYrC,IAAa,GAAGA,CAAU,IAAIvF,EAAK,IAAI,MAAMA,EAAK,MAC9D6H,IAAY7H,EAAK,SAASA,EAAK,KAAK,OAAO,CAAC,EAAE,YAAA,IAAgBA,EAAK,KAAK,MAAM,CAAC,GAC/E+G,IAAapB,EAAY3F,EAAK,IAAgC,GAG9D8B,IAAe2D,EAAczF,EAAK,IAAkC,KAAK;AAG/E,UAAI8H,IAAmBlK;AACvB,UAAImJ,GAAY;AACd,cAAMgB,IAAe,GAAG1sB,CAAE,IAAI2kB,EAAK,IAAI;AACvC,QAAA8H,IAAmBA,IAAmB,GAAGA,CAAgB,IAAIC,CAAY,KAAKA;AAAA,MAChF;AAEA,aACE3uB,gBAAAA,EAAAA,KAAC,OAAA,EAAoB,WAAU,0BAC7B,UAAA;AAAA,QAAAD,gBAAAA,EAAAA;AAAAA,UAACslB;AAAA,UAAA;AAAA,YACC,SAASkJ;AAAA,YACT,WAAU;AAAA,YAET,UAAAE;AAAA,UAAA;AAAA,QAAA;AAAA,QAEH1uB,gBAAAA,EAAAA;AAAAA,UAACmkB;AAAA,UAAA;AAAA,YACC,IAAIqK;AAAA,YACJ,MAAMC;AAAA,YACN,OAAO9F;AAAA,YACP,WAAWxpB,EAAW,2BAA2B0nB,EAAK,SAAS;AAAA,cAC7D,sBAAsB+G;AAAA,YAAA,CACvB;AAAA,YACD,WAAW/G,EAAK;AAAA,YAChB,cAAcA,EAAK;AAAA,YACnB,SAASA,EAAK;AAAA,YACd,oBAAkB8H,KAAoB;AAAA,YACtC,UAAU,CAAC,CAACf;AAAA,YACZ,UAAU,CAAChkB,MAAM6jB,EAAkB5G,EAAK,MAAMjd,EAAE,OAAO,KAAK;AAAA,YAC5D,QAAQ,MAAM+jB,EAAgB9G,EAAK,IAAI;AAAA,UAAA;AAAA,QAAA;AAAA,MACzC,EAAA,GArBQA,EAAK,IAsBf;AAAA,IAEJ,CAAC,EAAA,CACH;AAAA,EAAA,GACF;AAGF,SACE7mB,gBAAAA,EAAAA,IAAC,OAAA,EAAI,WAAW2nB,GACb,UAAA0E,IACCrsB,gBAAAA,EAAAA;AAAAA,IAAC2lB;AAAA,IAAA;AAAA,MACC,WAAW0G,EAAS;AAAA,MACpB,QAAQA,EAAS,SAAS,EAAE,MAAMA,EAAS,WAAW;AAAA,MACtD,aAAa5H,KAAe;AAAA,MAE3B,UAAA6J,EAAA;AAAA,IAAa;AAAA,EAAA,IAGhBA,IAAa,CAEjB;AAEJ,GCwCaO,KAAqB;AAAA,EACjC,WAAW;AAAA,IACV,uBAAuB;AAAA,IACvB,yBAAyB;AAAA,IACzB,uBAAuB;AAAA,IACvB,uBAAuB;AAAA,IACvB,wBAAwB;AAAA,IACxB,0BAA0B;AAAA,IAC1B,uBAAuB;AAAA,EAAA;AAAA,EAExB,YAAY;AAAA,IACX,yBAAyB;AAAA,IACzB,wBAAwB;AAAA,IACxB,sBAAsB;AAAA,IACtB,qBAAqB;AAAA,EAAA;AAAA,EAEtB,QAAQ;AAAA,IACP,oBAAoB;AAAA,IACpB,wBAAwB;AAAA,IACxB,6BAA6B;AAAA,IAC7B,uBAAuB;AAAA,IACvB,kBAAkB;AAAA,IAClB,wBAAwB;AAAA,IACxB,sBAAsB;AAAA,IACtB,kBAAkB;AAAA,IAClB,mBAAmB;AAAA,IACnB,oBAAoB;AAAA,IACpB,mBAAmB;AAAA,IACnB,oBAAoB;AAAA,IACpB,iBAAiB;AAAA,IACjB,iBAAiB;AAAA,IACjB,sBAAsB;AAAA,IACtB,kBAAkB;AAAA,EAAA;AAAA,EAEnB,OAAO;AAAA,IACN,kBAAkB;AAAA,IAClB,mBAAmB;AAAA,IACnB,mBAAmB;AAAA,IACnB,mBAAmB;AAAA,IACnB,oBAAoB;AAAA,IACpB,sBAAsB;AAAA,IACtB,iBAAiB;AAAA,IACjB,oBAAoB;AAAA,IACpB,0BAA0B;AAAA,IAC1B,0BAA0B;AAAA,IAC1B,sBAAsB;AAAA,IACtB,yBAAyB;AAAA,IACzB,oBAAoB;AAAA,IACpB,YAAY;AAAA,IACZ,YAAY;AAAA,IACZ,YAAY;AAAA,IACZ,YAAY;AAAA,IACZ,YAAY;AAAA,IACZ,kBAAkB;AAAA,IAClB,oBAAoB;AAAA,IACpB,kBAAkB;AAAA,IAClB,gBAAgB;AAAA,IAChB,kBAAkB;AAAA,IAClB,gBAAgB;AAAA,IAChB,iBAAiB;AAAA,IACjB,kBAAkB;AAAA,IAClB,sBAAsB;AAAA,IACtB,gBAAgB;AAAA,IAChB,oBAAoB;AAAA,IACpB,sBAAsB;AAAA,IACtB,YAAY;AAAA,IACZ,iBAAiB;AAAA,IACjB,qBAAqB;AAAA,IACrB,8BAA8B;AAAA,IAC9B,wBAAwB;AAAA,IACxB,yBAAyB;AAAA,IACzB,0BAA0B;AAAA,IAC1B,0BAA0B;AAAA,IAC1B,gCAAgC;AAAA,IAChC,qCAAqC;AAAA,IACrC,4BAA4B;AAAA,IAC5B,0BAA0B;AAAA,IAC1B,2BAA2B;AAAA,IAC3B,4BAA4B;AAAA,IAC5B,4BAA4B;AAAA,IAC5B,8BAA8B;AAAA,IAC9B,wBAAwB;AAAA,IACxB,yBAAyB;AAAA,IACzB,0BAA0B;AAAA,IAC1B,0BAA0B;AAAA,IAC1B,8BAA8B;AAAA,IAC9B,yBAAyB;AAAA,IACzB,0BAA0B;AAAA,IAC1B,0BAA0B;AAAA,IAC1B,4BAA4B;AAAA,IAC5B,uBAAuB;AAAA,IACvB,wBAAwB;AAAA,IACxB,wBAAwB;AAAA,EAAA;AAAA,EAEzB,WAAW;AAAA,IACV,sCAAsC;AAAA,IACtC,wCAAwC;AAAA,IACxC,uCAAuC;AAAA,IACvC,yCAAyC;AAAA,IACzC,2BAA2B;AAAA,IAC3B,6BAA6B;AAAA,IAC7B,2BAA2B;AAAA,IAC3B,2BAA2B;AAAA,IAC3B,mCAAmC;AAAA,IACnC,4BAA4B;AAAA,IAC5B,6BAA6B;AAAA,IAC7B,4BAA4B;AAAA,IAC5B,6BAA6B;AAAA,IAC7B,8BAA8B;AAAA,IAC9B,sCAAsC;AAAA,IACtC,uCAAuC;AAAA,IACvC,qCAAqC;AAAA,IACrC,sCAAsC;AAAA,IACtC,yCAAyC;AAAA,IACzC,2CAA2C;AAAA,IAC3C,+BAA+B;AAAA,IAC/B,iBAAiB;AAAA,IACjB,eAAe;AAAA,IACf,eAAe;AAAA,IACf,kBAAkB;AAAA,IAClB,mBAAmB;AAAA,IACnB,qBAAqB;AAAA,EAAA;AAAA,EAEtB,QAAQ;AAAA,IACP,gCAAgC;AAAA,IAChC,8BAA8B;AAAA,IAC9B,+BAA+B;AAAA,IAC/B,iCAAiC;AAAA,IACjC,0BAA0B;AAAA,IAC1B,2BAA2B;AAAA,IAC3B,4BAA4B;AAAA,IAC5B,0BAA0B;AAAA,IAC1B,kCAAkC;AAAA,IAClC,gCAAgC;AAAA,IAChC,gCAAgC;AAAA,IAChC,iCAAiC;AAAA,IACjC,4BAA4B;AAAA,IAC5B,8BAA8B;AAAA,IAC9B,oCAAoC;AAAA,IACpC,sCAAsC;AAAA,IACtC,qCAAqC;AAAA,IACrC,uCAAuC;AAAA,IACvC,mBAAmB;AAAA,IACnB,oBAAoB;AAAA,IACpB,kBAAkB;AAAA,IAClB,wBAAwB;AAAA,EAAA;AAAA,EAEzB,MAAM;AAAA,IACL,uBAAuB;AAAA,IACvB,mBAAmB;AAAA,IACnB,iBAAiB;AAAA,IACjB,kBAAkB;AAAA,IAClB,iBAAiB;AAAA,IACjB,qBAAqB;AAAA,IACrB,cAAc;AAAA,IACd,0BAA0B;AAAA,IAC1B,2BAA2B;AAAA,IAC3B,0BAA0B;AAAA,IAC1B,wBAAwB;AAAA,IACxB,uBAAuB;AAAA,IACvB,mBAAmB;AAAA,IACnB,iBAAiB;AAAA,EAAA;AAAA,EAElB,MAAM;AAAA,IACL,4BAA4B;AAAA,IAC5B,0BAA0B;AAAA,IAC1B,6BAA6B;AAAA,IAC7B,0BAA0B;AAAA,IAC1B,wBAAwB;AAAA,IACxB,sBAAsB;AAAA,IACtB,sBAAsB;AAAA,IACtB,yBAAyB;AAAA,IACzB,sBAAsB;AAAA,IACtB,0BAA0B;AAAA,IAC1B,uBAAuB;AAAA,IACvB,sBAAsB;AAAA,IACtB,uBAAuB;AAAA,IACvB,2BAA2B;AAAA,IAC3B,sBAAsB;AAAA,IACtB,2BAA2B;AAAA,IAC3B,qBAAqB;AAAA,IACrB,yBAAyB;AAAA,IACzB,2BAA2B;AAAA,IAC3B,yBAAyB;AAAA,IACzB,iCAAiC;AAAA,IACjC,wBAAwB;AAAA,IACxB,sBAAsB;AAAA,IACtB,kBAAkB;AAAA,EAAA;AAAA,EAEnB,MAAM;AAAA,IACL,eAAe;AAAA,IACf,gBAAgB;AAAA,IAChB,eAAe;AAAA,IACf,oBAAoB;AAAA,IACpB,oBAAoB;AAAA,IACpB,sBAAsB;AAAA,IACtB,uBAAuB;AAAA,IACvB,sBAAsB;AAAA,IACtB,sBAAsB;AAAA,IACtB,sBAAsB;AAAA,IACtB,sBAAsB;AAAA,IACtB,sBAAsB;AAAA,IACtB,sBAAsB;AAAA,IACtB,uBAAuB;AAAA,IACvB,uBAAuB;AAAA,IACvB,2BAA2B;AAAA,IAC3B,4BAA4B;AAAA,EAAA;AAAA,EAE7B,QAAQ;AAAA,IACP,yBAAyB;AAAA,IACzB,kBAAkB;AAAA,IAClB,kBAAkB;AAAA,IAClB,mBAAmB;AAAA,IACnB,qBAAqB;AAAA,IACrB,qBAAqB;AAAA,EAAA;AAAA,EAEtB,YAAY;AAAA,IACX,kBAAkB;AAAA,IAClB,kBAAkB;AAAA,IAClB,mBAAmB;AAAA,IACnB,wBAAwB;AAAA,EAAA;AAAA,EAEzB,MAAM;AAAA,IACL,eAAe;AAAA,IACf,YAAY;AAAA,IACZ,gBAAgB;AAAA,EAAA;AAAA,EAEjB,OAAO;AAAA,IACN,sBAAsB;AAAA,IACtB,kBAAkB;AAAA,IAClB,gBAAgB;AAAA,IAChB,wBAAwB;AAAA,IACxB,oBAAoB;AAAA,IACpB,kBAAkB;AAAA,IAClB,wBAAwB;AAAA,IACxB,oBAAoB;AAAA,IACpB,kBAAkB;AAAA,IAClB,qBAAqB;AAAA,IACrB,iBAAiB;AAAA,IACjB,eAAe;AAAA,IACf,yBAAyB;AAAA,IACzB,qBAAqB;AAAA,IACrB,mBAAmB;AAAA,EAAA;AAAA,EAEpB,QAAQ;AAAA,IACP,qBAAqB;AAAA,IACrB,uBAAuB;AAAA,IACvB,qBAAqB;AAAA,IACrB,mBAAmB;AAAA,IACnB,mBAAmB;AAAA,IACnB,iBAAiB;AAAA,EAAA;AAAA,EAElB,iBAAiB;AAAA,IAChB,mBAAmB;AAAA,IACnB,oBAAoB;AAAA,IACpB,mBAAmB;AAAA,EAAA;AAAA,EAEpB,gBAAgB;AAAA,IACf,kBAAkB;AAAA,IAClB,mBAAmB;AAAA,EAAA;AAAA,EAEpB,WAAW;AAAA,IACV,eAAe;AAAA,IACf,cAAc;AAAA,IACd,iBAAiB;AAAA,IACjB,eAAe;AAAA,EAAA;AAAA,EAEhB,SAAS;AAAA,IACR,UAAU;AAAA,IACV,UAAU;AAAA,IACV,UAAU;AAAA,IACV,UAAU;AAAA,IACV,UAAU;AAAA,IACV,UAAU;AAAA,IACV,UAAU;AAAA,IACV,UAAU;AAAA,IACV,UAAU;AAAA,IACV,UAAU;AAAA,EAAA;AAAA,EAEX,sBAAsB;AAAA,IACrB,0BAA0B;AAAA,IAC1B,0BAA0B;AAAA,IAC1B,0BAA0B;AAAA,IAC1B,0BAA0B;AAAA,IAC1B,0BAA0B;AAAA,IAC1B,0BAA0B;AAAA,IAC1B,0BAA0B;AAAA,IAC1B,0BAA0B;AAAA,IAC1B,0BAA0B;AAAA,IAC1B,0BAA0B;AAAA,IAC1B,0BAA0B;AAAA,IAC1B,0BAA0B;AAAA,IAC1B,0BAA0B;AAAA,IAC1B,0BAA0B;AAAA,IAC1B,0BAA0B;AAAA,IAC1B,0BAA0B;AAAA,IAC1B,0BAA0B;AAAA,IAC1B,0BAA0B;AAAA,IAC1B,0BAA0B;AAAA,IAC1B,0BAA0B;AAAA,EAAA;AAAA,EAE3B,MAAM;AAAA,IACL,gBAAgB;AAAA,IAChB,oBAAoB;AAAA,IACpB,iBAAiB;AAAA,IACjB,kBAAkB;AAAA,IAClB,gBAAgB;AAAA,IAChB,iBAAiB;AAAA,IACjB,kBAAkB;AAAA,IAClB,kBAAkB;AAAA,IAClB,iBAAiB;AAAA,IACjB,kBAAkB;AAAA,IAClB,kBAAkB;AAAA,IAClB,iBAAiB;AAAA,IACjB,kBAAkB;AAAA,IAClB,kBAAkB;AAAA,IAClB,iBAAiB;AAAA,IACjB,kBAAkB;AAAA,IAClB,kBAAkB;AAAA,IAClB,iBAAiB;AAAA,IACjB,kBAAkB;AAAA,IAClB,kBAAkB;AAAA,IAClB,iBAAiB;AAAA,IACjB,kBAAkB;AAAA,IAClB,kBAAkB;AAAA,IAClB,iBAAiB;AAAA,IACjB,kBAAkB;AAAA,IAClB,kBAAkB;AAAA,IAClB,iBAAiB;AAAA,IACjB,cAAc;AAAA,IACd,oBAAoB;AAAA,EAAA;AAAA;AAAA,EAGrB,UAAU;AAAA,IACT,IAAI;AAAA,MACJ,YAAY;AAAA,MACZ,YAAY;AAAA,MACZ,UAAU,EAAE,QAAQ,QAAQ,QAAQ,QAAQ,OAAO,OAAA;AAAA,MACnD,YAAY;AAAA,MACZ,WAAW;AAAA,MACX,cAAc,EAAE,QAAQ,QAAQ,QAAQ,OAAA;AAAA,IAAO;AAAA,IAE/C,GAAG;AAAA,MACH,YAAY;AAAA,MACZ,YAAY;AAAA,MACZ,UAAU,EAAE,QAAQ,QAAQ,QAAQ,QAAQ,OAAO,OAAA;AAAA,MACnD,YAAY;AAAA,MACZ,WAAW;AAAA,MACX,cAAc,EAAE,QAAQ,QAAQ,QAAQ,OAAA;AAAA,IAAO;AAAA,IAE/C,GAAG;AAAA,MACH,YAAY;AAAA,MACZ,YAAY;AAAA,MACZ,UAAU,EAAE,QAAQ,QAAQ,QAAQ,QAAQ,OAAO,OAAA;AAAA,MACnD,YAAY;AAAA,MACZ,WAAW;AAAA,MACX,cAAc,EAAE,QAAQ,QAAQ,QAAQ,OAAA;AAAA,IAAO;AAAA,IAE/C,GAAG;AAAA,MACH,YAAY;AAAA,MACZ,YAAY;AAAA,MACZ,UAAU,EAAE,QAAQ,QAAQ,QAAQ,QAAQ,OAAO,OAAA;AAAA,MACnD,YAAY;AAAA,MACZ,WAAW;AAAA,MACX,cAAc,EAAE,QAAQ,QAAQ,QAAQ,OAAA;AAAA,IAAO;AAAA,IAE/C,IAAI;AAAA,MACJ,YAAY;AAAA,MACZ,YAAY;AAAA,MACZ,UAAU,EAAE,QAAQ,QAAQ,QAAQ,QAAQ,OAAO,OAAA;AAAA,MACnD,YAAY;AAAA,MACZ,WAAW;AAAA,MACX,cAAc,EAAE,QAAQ,QAAQ,QAAQ,OAAA;AAAA,IAAO;AAAA,EAChD;AAAA,EAEA,YAAY;AAAA,IACX,MAAM;AAAA,MACN,YAAY;AAAA,MACZ,YAAY;AAAA,MACZ,UAAU,EAAE,QAAQ,QAAQ,QAAQ,QAAQ,OAAO,OAAA;AAAA,MACnD,YAAY;AAAA,MACZ,WAAW;AAAA,MACX,cAAc,EAAE,QAAQ,QAAQ,QAAQ,OAAA;AAAA,IAAO;AAAA,IAE/C,WAAW;AAAA,MACX,YAAY;AAAA,MACZ,YAAY;AAAA,MACZ,UAAU,EAAE,QAAQ,QAAQ,QAAQ,QAAQ,OAAO,OAAA;AAAA,MACnD,YAAY;AAAA,MACZ,WAAW;AAAA,MACX,cAAc,EAAE,QAAQ,QAAQ,QAAQ,OAAA;AAAA,IAAO;AAAA,IAE/C,WAAW;AAAA,MACX,YAAY;AAAA,MACZ,YAAY;AAAA,MACZ,UAAU,EAAE,QAAQ,QAAQ,QAAQ,QAAQ,OAAO,OAAA;AAAA,MACnD,YAAY;AAAA,MACZ,WAAW;AAAA,MACX,cAAc,EAAE,QAAQ,QAAQ,QAAQ,OAAA;AAAA,IAAO;AAAA,IAE/C,UAAU;AAAA,MACV,YAAY;AAAA,MACZ,YAAY;AAAA,MACZ,UAAU,EAAE,QAAQ,QAAQ,QAAQ,QAAQ,OAAO,OAAA;AAAA,MACnD,YAAY;AAAA,MACZ,WAAW;AAAA,MACX,cAAc,EAAE,QAAQ,QAAQ,QAAQ,OAAA;AAAA,IAAO;AAAA,IAE/C,eAAe;AAAA,MACf,YAAY;AAAA,MACZ,YAAY;AAAA,MACZ,UAAU,EAAE,QAAQ,QAAQ,QAAQ,QAAQ,OAAO,OAAA;AAAA,MACnD,YAAY;AAAA,MACZ,WAAW;AAAA,MACX,cAAc,EAAE,QAAQ,QAAQ,QAAQ,OAAA;AAAA,IAAO;AAAA,EAChD;AAED,GAEMC,KAAeC,GAAwBF,EAAQ,GAOxCG,KAAiD,CAAC;AAAA,EAC9D,UAAA/wB;AAAA,EACA,OAAAgxB,IAAQ,CAAA;AACT,MAAM;AACL,QAAMC,IAAc,EAAE,GAAGL,IAAU,GAAGI,EAAA;AACtC,+BACCH,GAAa,UAAb,EAAsB,OAAOI,GAC5B,UAAAjxB,GACF;AAED,GAEakxB,KAAc,MAAgB;AAC1C,QAAM1jB,IAAU2jB,GAAWN,EAAY;AACvC,MAAI,CAACrjB;AACL,UAAM,IAAI,MAAM,qDAAqD;AAErE,SAAOA;AACR;ACzqBO,SAAS4jB,KAA4B;AAC1C,SAAO;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAuBT;AAKO,SAASC,KAAsB;AAIpC,MAHI,OAAO,WAAa,OAGpB,SAAS,eAAe,WAAW,EAAG;AAE1C,QAAMxiB,IAAQ,SAAS,cAAc,OAAO;AAC5C,EAAAA,EAAM,KAAK,aACXA,EAAM,cAAcuiB,GAAA,GACpB,SAAS,KAAK,YAAYviB,CAAK;AACjC;ACrKO,MAAMkiB,KAAiD,CAAC,EAAE,UAAA/wB,GAAU,OAAAgxB,SACzE5F,GAAU,MAAM;AAEd,EAAAiG,GAAA;AACF,GAAG,CAAA,CAAE,GAGHtvB,gBAAAA,EAAAA,IAACuvB,IAAA,EAAkB,OAAAN,GAChB,UAAAhxB,EAAA,CACH,ICTSuxB,KAAgC,CAAC;AAAA,EAC5C,WAAA1vB;AAAA,EACA,MAAA2vB,IAAO,CAAA;AAAA,EACP,SAAAC,IAAU,CAAA;AAAA,EACV,cAAAC;AAAA,EACA,QAAAC;AAAA,EACA,SAAAC;AAAA,EACA,YAAAC;AAAA,EACA,kBAAAtM;AAAA,EACA,SAAAP,IAAU;AAAA,EACV,YAAAwD,IAAa,CAAA;AAAA,EACb,GAAGvpB;AACL,MAAM;AAEJ,QAAM,CAAC6yB,GAAUC,CAAW,IAAIpJ,GAAS,EAAK,GACxC,CAACqJ,GAAgBC,CAAiB,IAAItJ,GAAS,EAAK,GACpD,CAACuJ,GAAcC,CAAe,IAAIxJ,GAAiBkJ,GAAY,OAAO,UAAU,CAAC,GACjF,CAACO,GAAeC,CAAgB,IAAI1J,GAAS,EAAK,GAClD,CAAC2J,GAAiBC,CAAkB,IAAI5J,GAAS,EAAK,GACtD,CAAC6J,GAAUC,CAAW,IAAI9J,GAAS,EAAK,GAExC+J,IAAgB7E,GAAyB,IAAI,GAC7C8E,IAAe9E,GAAuB,IAAI,GAC1C+E,IAAmB/E,GAAgB,EAAK,GACxCgF,IAAmBhF,GAA8B,IAAI,GACrDiF,IAAqBjF,GAAyB,EAAE,GAChDkF,IAAoBlF,GAAuB,IAAI;AAGrD,EAAAzC,GAAU,MAAM;AACd,IAAI,OAAO,SAAW,QAEtBqH,EAAY,EAAI,GAChBJ,EAAiB,EAAI;AAAA,EACvB,GAAG,CAAA,CAAE,GAGLjH,GAAU,MAAM;AACd,QAAI,CAACoH,KAAY,CAACX,GAAY,OAAO,OAAQ;AAE7C,IAAAiB,EAAmB,UAAUjB,EAAW;AAGxC,UAAMmB,IAAQ,WAAW,MAAM;AAC7B,MAAIN,EAAc,WAAWC,EAAa,WACxCM,EAAA;AAAA,IAEJ,GAAG,GAAG;AAEN,WAAO,MAAM,aAAaD,CAAK;AAAA,EACjC,GAAG,CAACR,GAAUX,GAAY,KAAK,CAAC;AAIhC,QAAMqB,IACHzB,EAAQ,QAAQ,CAACD,EAAK,QACtBC,EAAQ,QAAQA,EAAQ,SAASD,EAAK,MAEnC2B,IAAWD,IAAiCzB,EAAQ,OAAOD,EAAK,MAEhE4B,IAAgBlyB;AAAA,IACpB;AAAA,IACA;AAAA,MACE,8BAA8B8jB,MAAY,kBAAkB0M;AAAA,MAC5D,uBAAuB1M,MAAY;AAAA,IAAA;AAAA,IAErCnjB;AAAA,EAAA,GAGIwxB,IAAiBnyB;AAAA,IACrB;AAAA,IACA;AAAA,IACAqkB;AAAA,EAAA,GAGI+N,IAAoBpyB;AAAA,IACxB;AAAA,IACA;AAAA,MACE,mCAAmC2wB,GAAY;AAAA,MAC/C,uCAAuCA,GAAY;AAAA,IAAA;AAAA,IAErDA,GAAY;AAAA,EAAA,GAIRoB,IAAgB9H,EAAY,MAAM;AACtC,QAAI,SAAO,SAAW,OAAeyH,EAAiB,YAClD,GAACF,EAAc,WAAW,CAACC,EAAa,WAAW,CAACG,EAAmB,QAAQ,SAEnF;AAAA,MAAAF,EAAiB,UAAU;AAE3B,UAAI;AACF,cAAMW,IAAYZ,EAAa,SACzBa,IAAMd,EAAc,SACpBe,IAAiBF,EAAU,aAC3BG,IAAWF,EAAI,iBAAiB,0EAA0E;AAEhH,YAAIE,EAAS,WAAW,KAAKD,MAAmB,GAAG;AACjD,UAAAb,EAAiB,UAAU;AAC3B;AAAA,QACF;AAGA,cAAMe,IAAS,OAAO,aAAa,KAC7BC,KAAaD,IAAS,KAAK,IAC3BE,IAAeD,KAAa,GAC5BE,IAA0BL,IAAiBI,GAE3CE,IAAe,MAAM,KAAKL,CAAQ,EAAE,IAAI,CAAA9K,OAASA,GAAqB,WAAW,GACjFoL,KAAaD,EAAa,OAAO,CAACE,IAAKxN,OAAUwN,KAAMxN,IAAO,CAAC,GAC/DyN,KAAkBP,IAAS,KAAK,KAGhCQ,KAAoBpB,EAAkB,YAAY,QAAQA,EAAkB,YAAYY;AAe9F,YAdAZ,EAAkB,UAAUY,GAE5B,QAAQ,IAAI,mBAAmB;AAAA,UAC7B,gBAAAF;AAAA,UACA,yBAAAK;AAAA,UACA,cAAAD;AAAA,UACA,YAAAD;AAAA,UACA,YAAAI;AAAA,UACA,QAAAL;AAAA,UACA,mBAAAQ;AAAA,UACA,WAAWJ,EAAa;AAAA,UACxB,cAAAA;AAAA,QAAA,CACD,GAEGC,MAAcF;AAChB,UAAA7B,EAAkB,EAAK,GACvBE,EAAgBW,EAAmB,QAAQ,MAAM;AAAA,aAC5C;AACL,gBAAMsB,KAAiBN,IAA0BI;AACjD,cAAIG,KAAc,GACdC,KAAe;AAEnB,mBAAS7sB,KAAI,GAAGA,KAAIssB,EAAa,QAAQtsB,MAAK;AAC5C,kBAAM8sB,KAAWD,KAAeP,EAAatsB,EAAC;AAC9C,gBAAI8sB,MAAYH;AACd,cAAAE,KAAeC,IACfF,KAAc5sB,KAAI;AAAA;AAElB;AAAA,UAEJ;AAEA,UAAA4sB,KAAc,KAAK,IAAI,GAAGA,EAAW;AACrC,gBAAMG,KAAiBH,KAAcN,EAAa;AAElD,UAAA9B,EAAkBuC,EAAc,GAChCrC,EAAgBkC,EAAW;AAAA,QAC7B;AAEA,QAAAzB,EAAiB,UAAU;AAAA,MAE7B,SAASzC,GAAO;AACd,gBAAQ,MAAM,6BAA6BA,CAAK,GAChD8B,EAAkB,EAAK,GACvBE,EAAgBW,EAAmB,QAAQ,MAAM,GACjDF,EAAiB,UAAU;AAAA,MAC7B;AAAA;AAAA,EACF,GAAG,CAAA,CAAE;AAGL,EAAAxH,GAAU,MAAM;AAEd,QAAI,OAAO,WAAa,IAAa;AAErC,UAAMqJ,IAAkB,CAACttB,MAAyB;AAChD,MAAIA,EAAM,QAAQ,YAAY2qB,KAC5BC,EAAY,EAAK;AAAA,IAErB;AAEA,QAAID;AACF,sBAAS,iBAAiB,WAAW2C,CAAe,GAC7C,MAAM,SAAS,oBAAoB,WAAWA,CAAe;AAAA,EAExE,GAAG,CAAC3C,CAAQ,CAAC,GAGb1G,GAAU,MAAM;AACd,QAAI,OAAO,SAAW,OAAe,CAACoH,EAAU;AAEhD,UAAMkC,IAAe,MAAM;AAEzB,MAAI5C,MACFC,EAAY,EAAK,GACjBQ,EAAmB,EAAK,IAItBM,EAAiB,WACnB,aAAaA,EAAiB,OAAO,GAGvCA,EAAiB,UAAU,WAAW,MAAM;AAC1C,QAAIC,EAAmB,QAAQ,SAAS,KACtCG,EAAA;AAAA,MAEJ,GAAG,GAAG;AAAA,IACR;AAGA,QAAI0B,IAAwC,MACxCC,IAA8C;AAElD,WAAI,OAAO,eACTD,IAAiB,OAAO,WAAW,oBAAoB,GACvDC,IAAyB,MAAM;AAC7B,cAAQ,IAAI,uBAAuBD,GAAgB,UAAU,WAAW,SAAS,GAE7E7B,EAAmB,QAAQ,SAAS,KAEtC,WAAW,MAAMG,EAAA,GAAiB,EAAE;AAAA,IAExC,GAEI0B,EAAe,mBACjBA,EAAe,iBAAiB,UAAUC,CAAsB,IAEhED,EAAe,YAAYC,CAAsB,IAIrD,OAAO,iBAAiB,UAAUF,CAAY,GAEvC,MAAM;AACX,aAAO,oBAAoB,UAAUA,CAAY,GAG7CC,KAAkBC,MAChBD,EAAe,sBACjBA,EAAe,oBAAoB,UAAUC,CAAsB,IAEnED,EAAe,eAAeC,CAAsB,IAIpD/B,EAAiB,WACnB,aAAaA,EAAiB,OAAO;AAAA,IAEzC;AAAA,EACF,GAAG,CAACL,GAAUV,GAAUmB,CAAa,CAAC,GAGtC7H,GAAU,MAAM;AAEd,QAAI,OAAO,WAAa,IAAa;AAErC,UAAMyJ,IAAqB,CAAC1tB,MAAsB;AAChD,YAAM0D,IAAS1D,EAAM,QACf2tB,IAAqBpC,EAAc,SAAS,SAAS7nB,CAAM;AAGjE,MAAIinB,KAAY,CAACgD,KACf/C,EAAY,EAAK;AAAA,IAErB;AAEA,QAAID;AACF,sBAAS,iBAAiB,aAAa+C,CAAkB,GAClD,MAAM,SAAS,oBAAoB,aAAaA,CAAkB;AAAA,EAE7E,GAAG,CAAC/C,CAAQ,CAAC;AAEb,QAAMiD,IAAa,CAAC5tB,MAA6B;AAC/C,IAAIA,MACFA,EAAM,eAAA,GACNA,EAAM,gBAAA;AAGR,UAAM6tB,IAAe,CAAClD;AACtB,IAAAC,EAAYiD,CAAY,GAEpBA,IAEF,WAAW,MAAM;AACf,MAAAzC,EAAmB,EAAI;AAAA,IACzB,GAAG,EAAE,IAELA,EAAmB,EAAK;AAAA,EAE5B,GAGM0C,IAAgB,MACpBjzB,gBAAAA,EAAAA;AAAAA,IAAC;AAAA,IAAA;AAAA,MACC,WAAU;AAAA,MACV,OAAM;AAAA,MACN,SAAQ;AAAA,MACR,QAAO;AAAA,MACP,OAAM;AAAA,MACN,WAAU;AAAA,MACV,MAAK;AAAA,MACL,cAAYwvB,EAAK,aAAa;AAAA,MAE9B,UAAA;AAAA,QAAAzvB,gBAAAA,EAAAA,IAAC,SAAA,EAAO,UAAAyvB,EAAK,aAAa,OAAM;AAAA,QAChCzvB,gBAAAA,EAAAA;AAAAA,UAAC;AAAA,UAAA;AAAA,YACC,MAAK;AAAA,YACL,GAAE;AAAA,UAAA;AAAA,QAAA;AAAA,MACJ;AAAA,IAAA;AAAA,EAAA,GAKEmzB,IAAoB,MACpB1D,EAAK,MAELzvB,gBAAAA,EAAAA;AAAAA,IAAC;AAAA,IAAA;AAAA,MACC,WAAU;AAAA,MACV,KAAKyvB,EAAK;AAAA,MACV,OAAM;AAAA,MACN,KAAKA,EAAK,aAAa;AAAA,IAAA;AAAA,EAAA,IAItByD,EAAA,GAIHE,IAAyB,MACxBzD,IAGH1vB,gBAAAA,EAAAA,KAAAyjB,YAAA,EACE,UAAA;AAAA,IAAAzjB,gBAAAA,EAAAA,KAAC,QAAA,EAAK,WAAU,mCACb,UAAA;AAAA,MAAA0vB,EAAa;AAAA,MACbA,EAAa,SACZ1vB,gBAAAA,OAAC,QAAA,EAAK,WAAU,yCACb,UAAA;AAAA,QAAA;AAAA,QAAK0vB,EAAa;AAAA,MAAA,EAAA,CACrB;AAAA,IAAA,GAEJ;AAAA,IACCA,EAAa,cACZ3vB,gBAAAA,EAAAA,IAAC,UAAK,WAAU,8CACb,YAAa,WAAA,CAChB;AAAA,EAAA,GAEJ,IAjBwB,MAsBtBqzB,KAAoB,CAAC1zB,GAAeC,MACnCD,IAEDC,IAEAI,gBAAAA,EAAAA,IAAC,KAAA,EAAE,WAAU,8BAA6B,MAAAJ,GACvC,UAAAD,GACH,IAGGK,gBAAAA,EAAAA,IAAC,QAAA,EAAK,WAAU,8BAA8B,UAAAL,GAAK,IATxC,MAad2zB,IAAoB,CAACzM,MAAsB;AAC/C,UAAM0M,IAAc1M,EAAK,OACvB7mB,gBAAAA,EAAAA;AAAAA,MAAC;AAAA,MAAA;AAAA,QACC,WAAU;AAAA,QACV,OAAM;AAAA,QACN,SAAQ;AAAA,QACR,eAAY;AAAA,QACZ,WAAU;AAAA,QAEV,UAAAA,gBAAAA,EAAAA,IAAC,QAAA,EAAK,GAAE,mKAAA,CAAmK;AAAA,MAAA;AAAA,IAAA,IAE3K,MAEEwzB,IAAc3M,EAAK,OACvB7mB,gBAAAA,EAAAA,IAAC,QAAA,EAAK,yBAAyB,EAAE,QAAQ6mB,EAAK,KAAA,EAAK,CAAG,IAEtDA,EAAK,MAGDZ,IACJhmB,gBAAAA,EAAAA,KAAAyjB,EAAAA,UAAA,EACG,UAAA;AAAA,MAAA6P;AAAA,MACAC;AAAA,IAAA,GACH;AAGF,WAAI3M,EAAK,6BAEJ,KAAA,EAAE,WAAU,8BAA6B,MAAMA,EAAK,MAClD,UAAAZ,GACH,IAIAY,EAAK,SAEL7mB,gBAAAA,EAAAA;AAAAA,MAAC;AAAA,MAAA;AAAA,QACC,WAAU;AAAA,QACV,QAAQ6mB,EAAK;AAAA,QACb,QAAQA,EAAK,UAAU;AAAA,QAEvB,UAAA7mB,gBAAAA,EAAAA;AAAAA,UAAC;AAAA,UAAA;AAAA,YACC,WAAU;AAAA,YACV,MAAK;AAAA,YACL,MAAK;AAAA,YAEJ,UAAAimB;AAAA,UAAA;AAAA,QAAA;AAAA,MACH;AAAA,IAAA,IAKCA;AAAA,EACT,GAGMwN,IAAmB,MACvBzzB,gBAAAA,EAAAA;AAAAA,IAAC;AAAA,IAAA;AAAA,MACC,WAAU;AAAA,MACV,OAAM;AAAA,MACN,SAAQ;AAAA,MACR,eAAY;AAAA,MACZ,WAAU;AAAA,MAEV,UAAAA,gBAAAA,EAAAA,IAAC,QAAA,EAAK,GAAE,2HAAA,CAA2H;AAAA,IAAA;AAAA,EAAA,GAKjI0zB,IAAoB,MACxB1zB,gBAAAA,EAAAA;AAAAA,IAAC;AAAA,IAAA;AAAA,MACC,WAAU;AAAA,MACV,OAAM;AAAA,MACN,SAAQ;AAAA,MACR,eAAY;AAAA,MACZ,WAAU;AAAA,MAEV,UAAAA,gBAAAA,EAAAA,IAAC,QAAA,EAAK,GAAE,iHAAA,CAAiH;AAAA,IAAA;AAAA,EAAA,GAKvH2zB,IAA8B,CAAC9M,MAAyB;AAE5D,QAAIA,EAAK,UAAUA,EAAK,SAAS;AAC/B,YAAMZ,IAAUY,EAAK,OACnB7mB,gBAAAA,EAAAA,IAAC,QAAA,EAAK,yBAAyB,EAAE,QAAQ6mB,EAAK,KAAA,EAAK,CAAG,IAEtDA,EAAK;AAGP,aACE7mB,gBAAAA,EAAAA,IAAC,UAAA,EAAO,WAAU,kDACf,UAAAimB,GACH;AAAA,IAEJ;AAEA,WAAOY,EAAK,OACV7mB,gBAAAA,MAAC,QAAA,EAAK,yBAAyB,EAAE,QAAQ6mB,EAAK,KAAA,GAAQ,IAEtDA,EAAK;AAAA,EAET;AAEA,SACE5mB,gBAAAA,EAAAA;AAAAA,IAAC;AAAA,IAAA;AAAA,MACC,WAAWoxB;AAAA,MACX,MAAK;AAAA,MACL,eAAY;AAAA,MACX,GAAG5K;AAAA,MACH,GAAGvpB;AAAA,MAEJ,UAAA;AAAA,QAAA+C,gBAAAA,EAAAA,KAAC,OAAA,EAAI,WAAWqxB,GAEd,UAAA;AAAA,UAAArxB,gBAAAA,EAAAA,KAAC,OAAA,EAAI,WAAU,yBACZ,UAAA;AAAA,YAAAmxB,IACCnxB,gBAAAA,EAAAA,KAAC,KAAA,EAAE,WAAU,8BAA6B,MAAMmxB,GAC7C,UAAA;AAAA,cAAA+B,EAAA;AAAA,cACAC,EAAA;AAAA,cACAjC,KAAkCkC,GAAkB3D,EAAQ,IAAI;AAAA,YAAA,EAAA,CACnE,IAEAzvB,gBAAAA,EAAAA,KAAAyjB,EAAAA,UAAA,EACG,UAAA;AAAA,cAAAyP,EAAA;AAAA,cACAC,EAAA;AAAA,cACAjC,KAAkCkC,GAAkB3D,EAAQ,IAAI;AAAA,YAAA,GACnE;AAAA,YAGDA,EAAQ,QAAQ,CAACyB,KAChBkC,GAAkB3D,EAAQ,MAAMA,EAAQ,IAAI;AAAA,UAAA,GAEhD;AAAA,UAGCE,KACC5vB,gBAAAA,EAAAA,IAAC,UAAA,EAAO,WAAU,wBAChB,UAAAC,gBAAAA,EAAAA;AAAAA,YAAC;AAAA,YAAA;AAAA,cACC,WAAU;AAAA,cACV,IAAG;AAAA,cACH,QAAQ2vB,EAAO,UAAU;AAAA,cACzB,QAAO;AAAA,cAEP,UAAA;AAAA,gBAAA5vB,gBAAAA,EAAAA;AAAAA,kBAAC;AAAA,kBAAA;AAAA,oBACC,WAAU;AAAA,oBACV,SAAQ;AAAA,oBAEP,YAAO,uBAAuB;AAAA,kBAAA;AAAA,gBAAA;AAAA,gBAEjCA,gBAAAA,EAAAA;AAAAA,kBAAC;AAAA,kBAAA;AAAA,oBACC,WAAU;AAAA,oBACV,IAAG;AAAA,oBACH,MAAM4vB,EAAO,QAAQ;AAAA,oBACrB,MAAK;AAAA,oBACL,aAAaA,EAAO,eAAe;AAAA,oBACnC,cAAa;AAAA,kBAAA;AAAA,gBAAA;AAAA,gBAEf3vB,gBAAAA,EAAAA,KAAC,UAAA,EAAO,WAAU,+BAA8B,MAAK,UAClD,UAAA;AAAA,kBAAAwzB,EAAA;AAAA,wCACA,QAAA,EAAK,WAAU,2BACb,UAAA7D,EAAO,wBAAwB,SAAA,CAClC;AAAA,gBAAA,EAAA,CACF;AAAA,cAAA;AAAA,YAAA;AAAA,UAAA,GAEJ;AAAA,UAIDC,KAAWA,EAAQ,SAASA,EAAQ,MAAM,SAAS,KAClD7vB,gBAAAA,EAAAA;AAAAA,YAAC;AAAA,YAAA;AAAA,cACC,WAAWb,EAAW,yBAAyB0wB,EAAQ,SAAS;AAAA,cAChE,cAAYA,EAAQ,aAAa;AAAA,cAEjC,UAAA7vB,gBAAAA,EAAAA,IAAC,MAAA,EAAG,WAAU,8BACX,UAAA6vB,EAAQ,MAAM,IAAI,CAAChJ,GAAMS,MACxBT,KACE7mB,gBAAAA,EAAAA;AAAAA,gBAAC;AAAA,gBAAA;AAAA,kBAEC,WAAWb,EAAW,8BAA8B0nB,EAAK,SAAS;AAAA,kBAEjE,YAAkBA,CAAI;AAAA,gBAAA;AAAA,gBAHlBS;AAAA,cAAA,CAMV,EAAA,CACH;AAAA,YAAA;AAAA,UAAA;AAAA,QACF,GAEJ;AAAA,QAGEwI,KAAcA,EAAW,SAASA,EAAW,MAAM,SAAS,KAC5D9vB,gBAAAA,EAAAA;AAAAA,UAAC;AAAA,UAAA;AAAA,YACC,WAAWuxB;AAAA,YACX,cAAYzB,EAAW,aAAa;AAAA,YAEpC,UAAA9vB,gBAAAA,EAAAA;AAAAA,cAAC;AAAA,cAAA;AAAA,gBACC,WAAWb;AAAA,kBACT;AAAA,kBACA;AAAA,kBACA;AAAA,oBACE,oDAAoD,CAACkxB,KAAiBI;AAAA,oBACtE,2CAA2C,CAACA;AAAA,kBAAA;AAAA,kBAE9CjN;AAAA,gBAAA;AAAA,gBAEF,KAAKoN;AAAA,gBAEL,UAAA3wB,gBAAAA,EAAAA,KAAC,MAAA,EAAG,WAAU,iCAAgC,KAAK0wB,GAE/C,UAAA;AAAA,mBAACF,IAA8BX,EAAW,MAAM,MAAM,GAAGK,CAAY,IAAzDL,EAAW,OAAiD,IAAI,CAACjJ,GAAMS,MACnFtnB,gBAAAA,EAAAA;AAAAA,oBAAC;AAAA,oBAAA;AAAA,sBAEC,WAAWb;AAAA,wBACT;AAAA,wBACA;AAAA,0BACE,0CAA0C0nB,EAAK,UAAUA,EAAK;AAAA,0BAC9D,+CAA+C,CAAC4J,KAAYnJ,KAAS;AAAA;AAAA,wBAAA;AAAA,wBAEvET,EAAK;AAAA,sBAAA;AAAA,sBAEN,GAAIA,EAAK,cAAc,CAAA;AAAA,sBAExB,UAAA7mB,gBAAAA,EAAAA;AAAAA,wBAAC;AAAA,wBAAA;AAAA,0BACC,WAAU;AAAA,0BACV,MAAM6mB,EAAK;AAAA,0BACV,GAAIA,EAAK,UAAUA,EAAK,UAAU;AAAA,4BACjC,gBAAgBA,EAAK,UAAU,SAAS;AAAA,0BAAA,IACtC,CAAA;AAAA,0BAEH,YAA4BA,CAAI;AAAA,wBAAA;AAAA,sBAAA;AAAA,oBACnC;AAAA,oBAnBKS;AAAA,kBAAA,CAqBR;AAAA,kBAGAmJ,KAAYR,KAAkBE,IAAeL,EAAW,MAAM,UAC7D9vB,gBAAAA,EAAAA;AAAAA,oBAAC;AAAA,oBAAA;AAAA,sBACC,WAAU;AAAA,sBAEV,UAAAC,gBAAAA,EAAAA;AAAAA,wBAAC;AAAA,wBAAA;AAAA,0BACC,WAAU;AAAA,0BACV,IAAG;AAAA,0BACH,SAAS+yB;AAAA,0BACT,MAAK;AAAA,0BAEL,UAAA;AAAA,4BAAAhzB,gBAAAA,EAAAA,IAAC,UAAK,UAAA,OAAA,CAAI;AAAA,4BACT0zB,EAAA;AAAA,0BAAkB;AAAA,wBAAA;AAAA,sBAAA;AAAA,oBACrB;AAAA,kBAAA;AAAA,gBACF,EAAA,CAEJ;AAAA,cAAA;AAAA,YAAA;AAAA,UACF;AAAA,QAAA;AAAA,QAKHjD,KAAYX,KAAcA,EAAW,SAASA,EAAW,MAAM,SAAS,KAAKC,KAAYQ,KACxFvwB,gBAAAA,EAAAA;AAAAA,UAAC;AAAA,UAAA;AAAA,YACC,WAAU;AAAA,YACV,QAAQ,CAACuwB;AAAA,YAET,UAAAvwB,gBAAAA,EAAAA,IAAC,MAAA,EAAG,WAAU,+BAEX,UAAA8vB,EAAW,MAAM,MAAMK,CAAY,EAAE,IAAI,CAACtJ,GAAMS,MAC/CtnB,gBAAAA,EAAAA;AAAAA,cAAC;AAAA,cAAA;AAAA,gBAEC,WAAWb;AAAA,kBACT;AAAA,kBACA;AAAA,oBACE,wCAAwC0nB,EAAK,UAAUA,EAAK;AAAA,kBAAA;AAAA,gBAC9D;AAAA,gBAGF,UAAA7mB,gBAAAA,EAAAA;AAAAA,kBAAC;AAAA,kBAAA;AAAA,oBACC,WAAU;AAAA,oBACV,MAAM6mB,EAAK;AAAA,oBACV,GAAIA,EAAK,UAAUA,EAAK,UAAU;AAAA,sBACjC,gBAAgBA,EAAK,UAAU,SAAS;AAAA,oBAAA,IACtC,CAAA;AAAA,oBACJ,SAAS,MAAM;AACb,sBAAAmJ,EAAY,EAAK,GACjBQ,EAAmB,EAAK;AAAA,oBAC1B;AAAA,oBAEC,YAA4B3J,CAAI;AAAA,kBAAA;AAAA,gBAAA;AAAA,cACnC;AAAA,cApBK,YAAYsJ,IAAe7I,CAAK;AAAA,YAAA,CAsBxC,EAAA,CACH;AAAA,UAAA;AAAA,QAAA;AAAA,MACF;AAAA,IAAA;AAAA,EAAA;AAIR,GCroBasM,KAA4B,CAAC;AAAA,EACxC,SAAAC;AAAA,EACA,cAAA7I,IAAe;AAAA,EACf,gBAAAC,IAAiB;AAAA,EACjB,MAAAtrB;AAAA,EACA,MAAA4jB;AAAA,EACA,UAAAuQ;AAAA,EACA,kBAAAtQ,IAAmB;AAAA,EACnB,SAAApkB,IAAU;AAAA,EACV,UAAAnB;AAAA,EACA,GAAGwoB;AACL,MAAM;AAEJ,QAAMsN,IAAc;AAAA,IAClB;AAAA,IACAD,KAAYD,IAAU,oDAAoD;AAAA,IAC1EC,KAAY,CAACD,IAAU,sBAAsB;AAAA,IAC7Cz0B;AAAA,EAAA,EACA,OAAO,OAAO,EAAE,KAAK,GAAG,GAGpB40B,IAAsB;AAAA,IAC1B;AAAA,IACAxQ;AAAA,IACCsQ,IAAkC,KAAvB;AAAA,EAAuB,EACnC,OAAO,OAAO,EAAE,KAAK,GAAG,GAGpBG,IAAoB;AAAA,IACxB;AAAA,IACAhJ;AAAA,IACA,CAAChtB,KAAY,CAAC0B,KAAQ,CAAC4jB,IAAO,4BAA4B;AAAA,EAAA,EAC1D,OAAO,OAAO,EAAE,KAAK,GAAG,GAGpB2Q,IAAaj2B,KAAY41B,KAAWl0B,KAAQ4jB,GAG5C4Q,IAAgB,MAAM;AAC1B,QAAI,CAACN,EAAS,QAAO;AAErB,UAAM32B,IAAQ,EAAE,WAAW+2B,EAAA;AAE3B,YAAQjJ,GAAA;AAAA,MACN,KAAK;AACH,eAAOhrB,gBAAAA,EAAAA,IAAC,MAAA,EAAI,GAAG9C,GAAQ,UAAA22B,GAAQ;AAAA,MACjC,KAAK;AACH,eAAO7zB,gBAAAA,EAAAA,IAAC,MAAA,EAAI,GAAG9C,GAAQ,UAAA22B,GAAQ;AAAA,MACjC,KAAK;AACH,eAAO7zB,gBAAAA,EAAAA,IAAC,MAAA,EAAI,GAAG9C,GAAQ,UAAA22B,GAAQ;AAAA,MACjC,KAAK;AACH,eAAO7zB,gBAAAA,EAAAA,IAAC,MAAA,EAAI,GAAG9C,GAAQ,UAAA22B,GAAQ;AAAA,MACjC,KAAK;AACH,eAAO7zB,gBAAAA,EAAAA,IAAC,MAAA,EAAI,GAAG9C,GAAQ,UAAA22B,GAAQ;AAAA,MACjC,KAAK;AACH,eAAO7zB,gBAAAA,EAAAA,IAAC,MAAA,EAAI,GAAG9C,GAAQ,UAAA22B,GAAQ;AAAA,MACjC;AACE,eAAO7zB,gBAAAA,EAAAA,IAAC,MAAA,EAAI,GAAG9C,GAAQ,UAAA22B,GAAQ;AAAA,IAAA;AAAA,EAErC;AAEA,SACE5zB,gBAAAA,EAAAA;AAAAA,IAAC;AAAA,IAAA;AAAA,MACC,WAAW8zB;AAAA,MACX,OAAOD,IAAW,EAAE,iBAAiB,QAAQA,CAAQ,SAAS;AAAA,MAC9D,MAAK;AAAA,MACJ,GAAGrN;AAAA,MAEH,UAAA;AAAA,QAAAqN,KACC9zB,gBAAAA,EAAAA,IAAC,SAAI,WAAU,uBACZ,eACCA,gBAAAA,EAAAA,IAAC,OAAA,EAAI,WAAWg0B,GACd,UAAAh0B,gBAAAA,EAAAA,IAAC,SAAI,WAAU,kBACb,gCAAC,OAAA,EAAI,WAAU,gCACb,UAAAC,gBAAAA,EAAAA,KAAC,OAAA,EAAI,WAAU,sBACZ,UAAA;AAAA,UAAAk0B,EAAA;AAAA,UACAl2B,MAEGslB,IACFvjB,gBAAAA,EAAAA,IAAC,OAAA,EAAI,yBAAyB,EAAE,QAAQujB,EAAA,EAAK,CAAG,IAC9C5jB,IACFK,gBAAAA,EAAAA,IAAC,OAAE,WAAU,wCAAwC,aAAK,IACxD;AAAA,UACJA,gBAAAA,EAAAA,IAAC,QAAA,EAAK,WAAU,qBAAoB,eAAY,OAAA,CAAO;AAAA,QAAA,EAAA,CACzD,EAAA,CACF,GACF,EAAA,CACF,EAAA,CAEJ;AAAA,QAED,CAAC8zB,KAAYI,2BACX,OAAA,EAAI,WAAWF,GACd,UAAAh0B,gBAAAA,EAAAA,IAAC,OAAA,EAAI,WAAU,kBACb,gCAAC,OAAA,EAAI,WAAU,gCACb,UAAAC,gBAAAA,EAAAA,KAAC,OAAA,EAAI,WAAU,uBACZ,UAAA;AAAA,UAAAk0B,EAAA;AAAA,UACAl2B,MAEGslB,IACFvjB,gBAAAA,EAAAA,IAAC,OAAA,EAAI,yBAAyB,EAAE,QAAQujB,EAAA,EAAK,CAAG,IAC9C5jB,IACFK,gBAAAA,EAAAA,IAAC,OAAE,WAAU,wCAAwC,aAAK,IACxD;AAAA,QAAA,GACN,EAAA,CACF,GACF,EAAA,CACF;AAAA,MAAA;AAAA,IAAA;AAAA,EAAA;AAIR;AAEA4zB,GAAK,cAAc;ACjIZ,MAAMQ,KAAgC,CAAC;AAAA,EAC5C,WAAAt0B;AAAA,EACA,OAAAu0B,IAAQ,CAAA;AAAA,EACR,cAAAC;AAAA,EACA,cAAAC;AAAA,EACA,WAAAC;AAAA,EACA,WAAAC,IAAY;AAAA,EACZ,kBAAAjR;AAAA,EACA,YAAAiD,IAAa,CAAA;AACf,MAAM;AACJ,QAAMiO,IAAiB,CAAC7N,GAAsB8N,IAA2B,OACvE30B,gBAAAA,EAAAA;AAAAA,IAAC;AAAA,IAAA;AAAA,MAEC,WAAWb,EAAW,2BAA2B;AAAA,QAC/C,mCAAmCw1B;AAAA,MAAA,CACpC;AAAA,MAED,UAAA30B,gBAAAA,EAAAA;AAAAA,QAAC;AAAA,QAAA;AAAA,UACC,WAAU;AAAA,UACV,MAAM6mB,EAAK;AAAA,UACX,QAAQA,EAAK,YAAY,WAAW;AAAA,UACpC,KAAKA,EAAK,YAAY,wBAAwB;AAAA,UAE7C,UAAAA,EAAK;AAAA,QAAA;AAAA,MAAA;AAAA,IACR;AAAA,IAZK,GAAGA,EAAK,GAAG,IAAIA,EAAK,KAAK;AAAA,EAAA,GAgB5B+N,IAAsB,CAAC,EAAEN,KAAgBC;AAE/C,SACEv0B,gBAAAA,EAAAA,IAAC,YAAO,MAAK,eAAe,GAAGymB,GAC7B,UAAAxmB,gBAAAA,EAAAA,KAAC,OAAA,EAAI,WAAU,0BACb,UAAA;AAAA,IAAAA,gBAAAA,EAAAA,KAAC,OAAA,EAAI,WAAWd,EAAW,yBAAyBqkB,CAAgB,GAClE,UAAA;AAAA,MAAAxjB,gBAAAA,EAAAA,IAAC,MAAA,EAAG,WAAU,2BAA0B,UAAA,iBAAa;AAAA,4BACpD,OAAA,EAAI,WAAWb,EAAW,gBAAgBW,CAAS,GACjD,UAAC80B;AAAA;AAAA,QAUA30B,gBAAAA,OAAAyjB,EAAAA,UAAA,EACG,UAAA;AAAA,UAAA2Q,EAAM,SAAS,KACdr0B,gBAAAA,EAAAA,IAAC,MAAA,EAAG,WAAU,sBACX,UAAAq0B,EAAM,IAAI,CAACxN,MAAS6N,EAAe7N,CAAI,CAAC,GAC3C;AAAA,UAEDyN,KAAgBA,EAAa,SAAS,2BACpC,MAAA,EAAG,WAAU,sBACX,UAAAA,EAAa,IAAI,CAACzN,MAAS6N,EAAe7N,CAAI,CAAC,GAClD;AAAA,UAED0N,KAAgBA,EAAa,SAAS,2BACpC,MAAA,EAAG,WAAU,sBACX,UAAAA,EAAa,IAAI,CAAC1N,MAAS6N,EAAe7N,CAAI,CAAC,GAClD;AAAA,UAED2N,KAAaA,EAAU,SAAS,2BAC9B,MAAA,EAAG,WAAU,yCACX,UAAAA,EAAU,IAAI,CAAC3N,MAAS6N,EAAe7N,CAAI,CAAC,EAAA,CAC/C;AAAA,QAAA,EAAA,CAEJ;AAAA;AAAA;AAAA,QA7BA5mB,gBAAAA,EAAAA,KAAC,MAAA,EAAG,WAAU,sBACX,UAAA;AAAA,UAAAo0B,EAAM,IAAI,CAACxN,MAAS6N,EAAe7N,GAAM,EAAI,CAAC;AAAA,WAC7CyN,KAAgB,CAAA,GAAI,IAAI,CAACzN,MAAS6N,EAAe7N,GAAM,EAAI,CAAC;AAAA,WAC5D0N,KAAgB,CAAA,GAAI,IAAI,CAAC1N,MAAS6N,EAAe7N,GAAM,EAAI,CAAC;AAAA,WAC5D2N,KAAa,CAAA,GAAI,IAAI,CAAC3N,MAAS6N,EAAe7N,GAAM,EAAI,CAAC;AAAA,QAAA,EAAA,CAC7D;AAAA,SA0BJ;AAAA,MACC,CAAC+N,KACA50B,gBAAAA,EAAAA,IAAC,OAAA,EACC,gCAAC,KAAA,EAAE,WAAU,2BAA2B,UAAAy0B,EAAA,CAAU,EAAA,CACpD;AAAA,IAAA,GAEJ;AAAA,IACCG,KACC50B,gBAAAA,EAAAA,IAAC,OAAA,EAAI,WAAU,yBACb,UAAAA,gBAAAA,EAAAA,IAAC,OAAA,EACC,UAAAA,gBAAAA,MAAC,KAAA,EAAE,WAAU,2BAA2B,UAAAy0B,EAAA,CAAU,GACpD,EAAA,CACF;AAAA,EAAA,EAAA,CAEJ,EAAA,CACF;AAEJ;AC3Fe,SAASI,GAAUlvB,GAAGC,GAAG;AACtC,SAAOD,KAAK,QAAQC,KAAK,OAAO,MAAMD,IAAIC,IAAI,KAAKD,IAAIC,IAAI,IAAID,KAAKC,IAAI,IAAI;AAC9E;ACFe,SAASkvB,GAAWnvB,GAAGC,GAAG;AACvC,SAAOD,KAAK,QAAQC,KAAK,OAAO,MAC5BA,IAAID,IAAI,KACRC,IAAID,IAAI,IACRC,KAAKD,IAAI,IACT;AACN;ACHe,SAASovB,GAASl0B,GAAG;AAClC,MAAIm0B,GAAUC,GAAUC;AAOxB,EAAIr0B,EAAE,WAAW,KACfm0B,IAAWH,IACXI,IAAW,CAACE,GAAGjiB,MAAM2hB,GAAUh0B,EAAEs0B,CAAC,GAAGjiB,CAAC,GACtCgiB,IAAQ,CAACC,GAAGjiB,MAAMrS,EAAEs0B,CAAC,IAAIjiB,MAEzB8hB,IAAWn0B,MAAMg0B,MAAah0B,MAAMi0B,KAAaj0B,IAAIu0B,IACrDH,IAAWp0B,GACXq0B,IAAQr0B;AAGV,WAASw0B,EAAK1vB,GAAGuN,GAAGoiB,IAAK,GAAGC,IAAK5vB,EAAE,QAAQ;AACzC,QAAI2vB,IAAKC,GAAI;AACX,UAAIP,EAAS9hB,GAAGA,CAAC,MAAM,EAAG,QAAOqiB;AACjC,SAAG;AACD,cAAMC,IAAOF,IAAKC,MAAQ;AAC1B,QAAIN,EAAStvB,EAAE6vB,CAAG,GAAGtiB,CAAC,IAAI,IAAGoiB,IAAKE,IAAM,IACnCD,IAAKC;AAAA,MACZ,SAASF,IAAKC;AAAA,IAChB;AACA,WAAOD;AAAA,EACT;AAEA,WAASG,EAAM9vB,GAAGuN,GAAGoiB,IAAK,GAAGC,IAAK5vB,EAAE,QAAQ;AAC1C,QAAI2vB,IAAKC,GAAI;AACX,UAAIP,EAAS9hB,GAAGA,CAAC,MAAM,EAAG,QAAOqiB;AACjC,SAAG;AACD,cAAMC,IAAOF,IAAKC,MAAQ;AAC1B,QAAIN,EAAStvB,EAAE6vB,CAAG,GAAGtiB,CAAC,KAAK,IAAGoiB,IAAKE,IAAM,IACpCD,IAAKC;AAAA,MACZ,SAASF,IAAKC;AAAA,IAChB;AACA,WAAOD;AAAA,EACT;AAEA,WAASI,EAAO/vB,GAAGuN,GAAGoiB,IAAK,GAAGC,IAAK5vB,EAAE,QAAQ;AAC3C,UAAMD,IAAI2vB,EAAK1vB,GAAGuN,GAAGoiB,GAAIC,IAAK,CAAC;AAC/B,WAAO7vB,IAAI4vB,KAAMJ,EAAMvvB,EAAED,IAAI,CAAC,GAAGwN,CAAC,IAAI,CAACgiB,EAAMvvB,EAAED,CAAC,GAAGwN,CAAC,IAAIxN,IAAI,IAAIA;AAAA,EAClE;AAEA,SAAO,EAAC,MAAA2vB,GAAM,QAAAK,GAAQ,OAAAD,EAAK;AAC7B;AAEA,SAASL,KAAO;AACd,SAAO;AACT;ACvDe,SAASO,GAAOziB,GAAG;AAChC,SAAOA,MAAM,OAAO,MAAM,CAACA;AAC7B;ACEA,MAAM0iB,KAAkBb,GAASF,EAAS,GAC7BgB,KAAcD,GAAgB;AAEfb,GAASY,EAAM,EAAE;ACP7C,MAAMG,KAAM,KAAK,KAAK,EAAE,GACpBC,KAAK,KAAK,KAAK,EAAE,GACjBC,KAAK,KAAK,KAAK,CAAC;AAEpB,SAASC,GAASC,GAAOC,GAAMC,GAAO;AACpC,QAAMpR,KAAQmR,IAAOD,KAAS,KAAK,IAAI,GAAGE,CAAK,GAC3CC,IAAQ,KAAK,MAAM,KAAK,MAAMrR,CAAI,CAAC,GACnCoJ,IAAQpJ,IAAO,KAAK,IAAI,IAAIqR,CAAK,GACjCC,IAASlI,KAAS0H,KAAM,KAAK1H,KAAS2H,KAAK,IAAI3H,KAAS4H,KAAK,IAAI;AACrE,MAAIO,GAAIC,GAAIC;AAeZ,SAdIJ,IAAQ,KACVI,IAAM,KAAK,IAAI,IAAI,CAACJ,CAAK,IAAIC,GAC7BC,IAAK,KAAK,MAAML,IAAQO,CAAG,GAC3BD,IAAK,KAAK,MAAML,IAAOM,CAAG,GACtBF,IAAKE,IAAMP,KAAO,EAAEK,GACpBC,IAAKC,IAAMN,KAAM,EAAEK,GACvBC,IAAM,CAACA,MAEPA,IAAM,KAAK,IAAI,IAAIJ,CAAK,IAAIC,GAC5BC,IAAK,KAAK,MAAML,IAAQO,CAAG,GAC3BD,IAAK,KAAK,MAAML,IAAOM,CAAG,GACtBF,IAAKE,IAAMP,KAAO,EAAEK,GACpBC,IAAKC,IAAMN,KAAM,EAAEK,IAErBA,IAAKD,KAAM,OAAOH,KAASA,IAAQ,IAAUH,GAASC,GAAOC,GAAMC,IAAQ,CAAC,IACzE,CAACG,GAAIC,GAAIC,CAAG;AACrB;AAmBO,SAASC,GAAcR,GAAOC,GAAMC,GAAO;AAChD,SAAAD,IAAO,CAACA,GAAMD,IAAQ,CAACA,GAAOE,IAAQ,CAACA,GAChCH,GAASC,GAAOC,GAAMC,CAAK,EAAE,CAAC;AACvC;AAEO,SAASO,GAAST,GAAOC,GAAMC,GAAO;AAC3C,EAAAD,IAAO,CAACA,GAAMD,IAAQ,CAACA,GAAOE,IAAQ,CAACA;AACvC,QAAMQ,IAAUT,IAAOD,GAAOO,IAAMG,IAAUF,GAAcP,GAAMD,GAAOE,CAAK,IAAIM,GAAcR,GAAOC,GAAMC,CAAK;AAClH,UAAQQ,IAAU,KAAK,MAAMH,IAAM,IAAI,IAAI,CAACA,IAAMA;AACpD;ACtDO,SAASI,GAAUC,GAAQC,GAAO;AACvC,UAAQ,UAAU,QAAM;AAAA,IACtB,KAAK;AAAG;AAAA,IACR,KAAK;AAAG,WAAK,MAAMD,CAAM;AAAG;AAAA,IAC5B;AAAS,WAAK,MAAMC,CAAK,EAAE,OAAOD,CAAM;AAAG;AAAA,EAC/C;AACE,SAAO;AACT;ACPe,SAAAE,GAASC,GAAaC,GAASC,GAAW;AACvD,EAAAF,EAAY,YAAYC,EAAQ,YAAYC,GAC5CA,EAAU,cAAcF;AAC1B;AAEO,SAASG,GAAO1vB,GAAQ2vB,GAAY;AACzC,MAAIF,IAAY,OAAO,OAAOzvB,EAAO,SAAS;AAC9C,WAASzM,KAAOo8B,EAAY,CAAAF,EAAUl8B,CAAG,IAAIo8B,EAAWp8B,CAAG;AAC3D,SAAOk8B;AACT;ACPO,SAASG,KAAQ;AAAC;AAElB,IAAIC,KAAS,KACTC,KAAW,IAAID,IAEtBE,KAAM,uBACNC,KAAM,qDACNC,KAAM,sDACNC,KAAQ,sBACRC,KAAe,IAAI,OAAO,UAAUJ,EAAG,IAAIA,EAAG,IAAIA,EAAG,MAAM,GAC3DK,KAAe,IAAI,OAAO,UAAUH,EAAG,IAAIA,EAAG,IAAIA,EAAG,MAAM,GAC3DI,KAAgB,IAAI,OAAO,WAAWN,EAAG,IAAIA,EAAG,IAAIA,EAAG,IAAIC,EAAG,MAAM,GACpEM,KAAgB,IAAI,OAAO,WAAWL,EAAG,IAAIA,EAAG,IAAIA,EAAG,IAAID,EAAG,MAAM,GACpEO,KAAe,IAAI,OAAO,UAAUP,EAAG,IAAIC,EAAG,IAAIA,EAAG,MAAM,GAC3DO,KAAgB,IAAI,OAAO,WAAWR,EAAG,IAAIC,EAAG,IAAIA,EAAG,IAAID,EAAG,MAAM,GAEpES,KAAQ;AAAA,EACV,WAAW;AAAA,EACX,cAAc;AAAA,EACd,MAAM;AAAA,EACN,YAAY;AAAA,EACZ,OAAO;AAAA,EACP,OAAO;AAAA,EACP,QAAQ;AAAA,EACR,OAAO;AAAA,EACP,gBAAgB;AAAA,EAChB,MAAM;AAAA,EACN,YAAY;AAAA,EACZ,OAAO;AAAA,EACP,WAAW;AAAA,EACX,WAAW;AAAA,EACX,YAAY;AAAA,EACZ,WAAW;AAAA,EACX,OAAO;AAAA,EACP,gBAAgB;AAAA,EAChB,UAAU;AAAA,EACV,SAAS;AAAA,EACT,MAAM;AAAA,EACN,UAAU;AAAA,EACV,UAAU;AAAA,EACV,eAAe;AAAA,EACf,UAAU;AAAA,EACV,WAAW;AAAA,EACX,UAAU;AAAA,EACV,WAAW;AAAA,EACX,aAAa;AAAA,EACb,gBAAgB;AAAA,EAChB,YAAY;AAAA,EACZ,YAAY;AAAA,EACZ,SAAS;AAAA,EACT,YAAY;AAAA,EACZ,cAAc;AAAA,EACd,eAAe;AAAA,EACf,eAAe;AAAA,EACf,eAAe;AAAA,EACf,eAAe;AAAA,EACf,YAAY;AAAA,EACZ,UAAU;AAAA,EACV,aAAa;AAAA,EACb,SAAS;AAAA,EACT,SAAS;AAAA,EACT,YAAY;AAAA,EACZ,WAAW;AAAA,EACX,aAAa;AAAA,EACb,aAAa;AAAA,EACb,SAAS;AAAA,EACT,WAAW;AAAA,EACX,YAAY;AAAA,EACZ,MAAM;AAAA,EACN,WAAW;AAAA,EACX,MAAM;AAAA,EACN,OAAO;AAAA,EACP,aAAa;AAAA,EACb,MAAM;AAAA,EACN,UAAU;AAAA,EACV,SAAS;AAAA,EACT,WAAW;AAAA,EACX,QAAQ;AAAA,EACR,OAAO;AAAA,EACP,OAAO;AAAA,EACP,UAAU;AAAA,EACV,eAAe;AAAA,EACf,WAAW;AAAA,EACX,cAAc;AAAA,EACd,WAAW;AAAA,EACX,YAAY;AAAA,EACZ,WAAW;AAAA,EACX,sBAAsB;AAAA,EACtB,WAAW;AAAA,EACX,YAAY;AAAA,EACZ,WAAW;AAAA,EACX,WAAW;AAAA,EACX,aAAa;AAAA,EACb,eAAe;AAAA,EACf,cAAc;AAAA,EACd,gBAAgB;AAAA,EAChB,gBAAgB;AAAA,EAChB,gBAAgB;AAAA,EAChB,aAAa;AAAA,EACb,MAAM;AAAA,EACN,WAAW;AAAA,EACX,OAAO;AAAA,EACP,SAAS;AAAA,EACT,QAAQ;AAAA,EACR,kBAAkB;AAAA,EAClB,YAAY;AAAA,EACZ,cAAc;AAAA,EACd,cAAc;AAAA,EACd,gBAAgB;AAAA,EAChB,iBAAiB;AAAA,EACjB,mBAAmB;AAAA,EACnB,iBAAiB;AAAA,EACjB,iBAAiB;AAAA,EACjB,cAAc;AAAA,EACd,WAAW;AAAA,EACX,WAAW;AAAA,EACX,UAAU;AAAA,EACV,aAAa;AAAA,EACb,MAAM;AAAA,EACN,SAAS;AAAA,EACT,OAAO;AAAA,EACP,WAAW;AAAA,EACX,QAAQ;AAAA,EACR,WAAW;AAAA,EACX,QAAQ;AAAA,EACR,eAAe;AAAA,EACf,WAAW;AAAA,EACX,eAAe;AAAA,EACf,eAAe;AAAA,EACf,YAAY;AAAA,EACZ,WAAW;AAAA,EACX,MAAM;AAAA,EACN,MAAM;AAAA,EACN,MAAM;AAAA,EACN,YAAY;AAAA,EACZ,QAAQ;AAAA,EACR,eAAe;AAAA,EACf,KAAK;AAAA,EACL,WAAW;AAAA,EACX,WAAW;AAAA,EACX,aAAa;AAAA,EACb,QAAQ;AAAA,EACR,YAAY;AAAA,EACZ,UAAU;AAAA,EACV,UAAU;AAAA,EACV,QAAQ;AAAA,EACR,QAAQ;AAAA,EACR,SAAS;AAAA,EACT,WAAW;AAAA,EACX,WAAW;AAAA,EACX,WAAW;AAAA,EACX,MAAM;AAAA,EACN,aAAa;AAAA,EACb,WAAW;AAAA,EACX,KAAK;AAAA,EACL,MAAM;AAAA,EACN,SAAS;AAAA,EACT,QAAQ;AAAA,EACR,WAAW;AAAA,EACX,QAAQ;AAAA,EACR,OAAO;AAAA,EACP,OAAO;AAAA,EACP,YAAY;AAAA,EACZ,QAAQ;AAAA,EACR,aAAa;AACf;AAEAnB,GAAOM,IAAO1T,IAAO;AAAA,EACnB,KAAKwU,GAAU;AACb,WAAO,OAAO,OAAO,IAAI,KAAK,eAAa,MAAMA,CAAQ;AAAA,EAC3D;AAAA,EACA,cAAc;AACZ,WAAO,KAAK,IAAG,EAAG,YAAW;AAAA,EAC/B;AAAA,EACA,KAAKC;AAAA;AAAA,EACL,WAAWA;AAAA,EACX,YAAYC;AAAA,EACZ,WAAWC;AAAA,EACX,WAAWC;AAAA,EACX,UAAUA;AACZ,CAAC;AAED,SAASH,KAAkB;AACzB,SAAO,KAAK,IAAG,EAAG,UAAS;AAC7B;AAEA,SAASC,KAAmB;AAC1B,SAAO,KAAK,IAAG,EAAG,WAAU;AAC9B;AAEA,SAASC,KAAkB;AACzB,SAAOE,GAAW,IAAI,EAAE,UAAS;AACnC;AAEA,SAASD,KAAkB;AACzB,SAAO,KAAK,IAAG,EAAG,UAAS;AAC7B;AAEe,SAAS5U,GAAM8U,GAAQ;AACpC,MAAIC,GAAGC;AACP,SAAAF,KAAUA,IAAS,IAAI,KAAI,EAAG,YAAW,IACjCC,IAAIf,GAAM,KAAKc,CAAM,MAAME,IAAID,EAAE,CAAC,EAAE,QAAQA,IAAI,SAASA,EAAE,CAAC,GAAG,EAAE,GAAGC,MAAM,IAAIC,GAAKF,CAAC,IACtFC,MAAM,IAAI,IAAIE,GAAKH,KAAK,IAAI,KAAQA,KAAK,IAAI,KAAQA,KAAK,IAAI,KAAQA,IAAI,MAASA,IAAI,OAAQ,IAAMA,IAAI,IAAM,CAAC,IAChHC,MAAM,IAAIG,GAAKJ,KAAK,KAAK,KAAMA,KAAK,KAAK,KAAMA,KAAK,IAAI,MAAOA,IAAI,OAAQ,GAAI,IAC/EC,MAAM,IAAIG,GAAMJ,KAAK,KAAK,KAAQA,KAAK,IAAI,KAAQA,KAAK,IAAI,KAAQA,KAAK,IAAI,KAAQA,KAAK,IAAI,KAAQA,IAAI,OAAUA,IAAI,OAAQ,IAAMA,IAAI,MAAQ,GAAI,IACtJ,SACCA,IAAId,GAAa,KAAKa,CAAM,KAAK,IAAII,GAAIH,EAAE,CAAC,GAAGA,EAAE,CAAC,GAAGA,EAAE,CAAC,GAAG,CAAC,KAC5DA,IAAIb,GAAa,KAAKY,CAAM,KAAK,IAAII,GAAIH,EAAE,CAAC,IAAI,MAAM,KAAKA,EAAE,CAAC,IAAI,MAAM,KAAKA,EAAE,CAAC,IAAI,MAAM,KAAK,CAAC,KAChGA,IAAIZ,GAAc,KAAKW,CAAM,KAAKK,GAAKJ,EAAE,CAAC,GAAGA,EAAE,CAAC,GAAGA,EAAE,CAAC,GAAGA,EAAE,CAAC,CAAC,KAC7DA,IAAIX,GAAc,KAAKU,CAAM,KAAKK,GAAKJ,EAAE,CAAC,IAAI,MAAM,KAAKA,EAAE,CAAC,IAAI,MAAM,KAAKA,EAAE,CAAC,IAAI,MAAM,KAAKA,EAAE,CAAC,CAAC,KACjGA,IAAIV,GAAa,KAAKS,CAAM,KAAKM,GAAKL,EAAE,CAAC,GAAGA,EAAE,CAAC,IAAI,KAAKA,EAAE,CAAC,IAAI,KAAK,CAAC,KACrEA,IAAIT,GAAc,KAAKQ,CAAM,KAAKM,GAAKL,EAAE,CAAC,GAAGA,EAAE,CAAC,IAAI,KAAKA,EAAE,CAAC,IAAI,KAAKA,EAAE,CAAC,CAAC,IAC1ER,GAAM,eAAeO,CAAM,IAAIG,GAAKV,GAAMO,CAAM,CAAC,IACjDA,MAAW,gBAAgB,IAAII,GAAI,KAAK,KAAK,KAAK,CAAC,IACnD;AACR;AAEA,SAASD,GAAKxzB,GAAG;AACf,SAAO,IAAIyzB,GAAIzzB,KAAK,KAAK,KAAMA,KAAK,IAAI,KAAMA,IAAI,KAAM,CAAC;AAC3D;AAEA,SAAS0zB,GAAKv1B,GAAGy1B,GAAGrzB,GAAGD,GAAG;AACxB,SAAIA,KAAK,MAAGnC,IAAIy1B,IAAIrzB,IAAI,MACjB,IAAIkzB,GAAIt1B,GAAGy1B,GAAGrzB,GAAGD,CAAC;AAC3B;AAEO,SAASuzB,GAAW5zB,GAAG;AAE5B,SADMA,aAAagyB,OAAQhyB,IAAIse,GAAMte,CAAC,IACjCA,KACLA,IAAIA,EAAE,IAAG,GACF,IAAIwzB,GAAIxzB,EAAE,GAAGA,EAAE,GAAGA,EAAE,GAAGA,EAAE,OAAO,KAFxB,IAAIwzB;AAGrB;AAEO,SAASK,GAAI31B,GAAGy1B,GAAGrzB,GAAGwzB,GAAS;AACpC,SAAO,UAAU,WAAW,IAAIF,GAAW11B,CAAC,IAAI,IAAIs1B,GAAIt1B,GAAGy1B,GAAGrzB,GAAGwzB,KAAkB,CAAW;AAChG;AAEO,SAASN,GAAIt1B,GAAGy1B,GAAGrzB,GAAGwzB,GAAS;AACpC,OAAK,IAAI,CAAC51B,GACV,KAAK,IAAI,CAACy1B,GACV,KAAK,IAAI,CAACrzB,GACV,KAAK,UAAU,CAACwzB;AAClB;AAEApC,GAAO8B,IAAKK,IAAK/B,GAAOE,IAAO;AAAA,EAC7B,SAASj5B,GAAG;AACV,WAAAA,IAAIA,KAAK,OAAOm5B,KAAW,KAAK,IAAIA,IAAUn5B,CAAC,GACxC,IAAIy6B,GAAI,KAAK,IAAIz6B,GAAG,KAAK,IAAIA,GAAG,KAAK,IAAIA,GAAG,KAAK,OAAO;AAAA,EACjE;AAAA,EACA,OAAOA,GAAG;AACR,WAAAA,IAAIA,KAAK,OAAOk5B,KAAS,KAAK,IAAIA,IAAQl5B,CAAC,GACpC,IAAIy6B,GAAI,KAAK,IAAIz6B,GAAG,KAAK,IAAIA,GAAG,KAAK,IAAIA,GAAG,KAAK,OAAO;AAAA,EACjE;AAAA,EACA,MAAM;AACJ,WAAO;AAAA,EACT;AAAA,EACA,QAAQ;AACN,WAAO,IAAIy6B,GAAIO,GAAO,KAAK,CAAC,GAAGA,GAAO,KAAK,CAAC,GAAGA,GAAO,KAAK,CAAC,GAAGC,GAAO,KAAK,OAAO,CAAC;AAAA,EACrF;AAAA,EACA,cAAc;AACZ,WAAQ,QAAQ,KAAK,KAAK,KAAK,IAAI,SAC3B,QAAQ,KAAK,KAAK,KAAK,IAAI,SAC3B,QAAQ,KAAK,KAAK,KAAK,IAAI,SAC3B,KAAK,KAAK,WAAW,KAAK,WAAW;AAAA,EAC/C;AAAA,EACA,KAAKC;AAAA;AAAA,EACL,WAAWA;AAAA,EACX,YAAYC;AAAA,EACZ,WAAWC;AAAA,EACX,UAAUA;AACZ,CAAC,CAAC;AAEF,SAASF,KAAgB;AACvB,SAAO,IAAIG,GAAI,KAAK,CAAC,CAAC,GAAGA,GAAI,KAAK,CAAC,CAAC,GAAGA,GAAI,KAAK,CAAC,CAAC;AACpD;AAEA,SAASF,KAAiB;AACxB,SAAO,IAAIE,GAAI,KAAK,CAAC,CAAC,GAAGA,GAAI,KAAK,CAAC,CAAC,GAAGA,GAAI,KAAK,CAAC,CAAC,GAAGA,IAAK,MAAM,KAAK,OAAO,IAAI,IAAI,KAAK,WAAW,GAAG,CAAC;AAC1G;AAEA,SAASD,KAAgB;AACvB,QAAM9zB,IAAI2zB,GAAO,KAAK,OAAO;AAC7B,SAAO,GAAG3zB,MAAM,IAAI,SAAS,OAAO,GAAG0zB,GAAO,KAAK,CAAC,CAAC,KAAKA,GAAO,KAAK,CAAC,CAAC,KAAKA,GAAO,KAAK,CAAC,CAAC,GAAG1zB,MAAM,IAAI,MAAM,KAAKA,CAAC,GAAG;AACzH;AAEA,SAAS2zB,GAAOF,GAAS;AACvB,SAAO,MAAMA,CAAO,IAAI,IAAI,KAAK,IAAI,GAAG,KAAK,IAAI,GAAGA,CAAO,CAAC;AAC9D;AAEA,SAASC,GAAOl9B,GAAO;AACrB,SAAO,KAAK,IAAI,GAAG,KAAK,IAAI,KAAK,KAAK,MAAMA,CAAK,KAAK,CAAC,CAAC;AAC1D;AAEA,SAASu9B,GAAIv9B,GAAO;AAClB,SAAAA,IAAQk9B,GAAOl9B,CAAK,IACZA,IAAQ,KAAK,MAAM,MAAMA,EAAM,SAAS,EAAE;AACpD;AAEA,SAAS68B,GAAKW,GAAGC,GAAGhB,GAAGjzB,GAAG;AACxB,SAAIA,KAAK,IAAGg0B,IAAIC,IAAIhB,IAAI,MACfA,KAAK,KAAKA,KAAK,IAAGe,IAAIC,IAAI,MAC1BA,KAAK,MAAGD,IAAI,MACd,IAAIE,GAAIF,GAAGC,GAAGhB,GAAGjzB,CAAC;AAC3B;AAEO,SAAS8yB,GAAWnzB,GAAG;AAC5B,MAAIA,aAAau0B,GAAK,QAAO,IAAIA,GAAIv0B,EAAE,GAAGA,EAAE,GAAGA,EAAE,GAAGA,EAAE,OAAO;AAE7D,MADMA,aAAagyB,OAAQhyB,IAAIse,GAAMte,CAAC,IAClC,CAACA,EAAG,QAAO,IAAIu0B;AACnB,MAAIv0B,aAAau0B,GAAK,QAAOv0B;AAC7B,EAAAA,IAAIA,EAAE,IAAG;AACT,MAAI9B,IAAI8B,EAAE,IAAI,KACV2zB,IAAI3zB,EAAE,IAAI,KACVM,IAAIN,EAAE,IAAI,KACV2f,IAAM,KAAK,IAAIzhB,GAAGy1B,GAAGrzB,CAAC,GACtBsf,IAAM,KAAK,IAAI1hB,GAAGy1B,GAAGrzB,CAAC,GACtB+zB,IAAI,KACJC,IAAI1U,IAAMD,GACV2T,KAAK1T,IAAMD,KAAO;AACtB,SAAI2U,KACEp2B,MAAM0hB,IAAKyU,KAAKV,IAAIrzB,KAAKg0B,KAAKX,IAAIrzB,KAAK,IAClCqzB,MAAM/T,IAAKyU,KAAK/zB,IAAIpC,KAAKo2B,IAAI,IACjCD,KAAKn2B,IAAIy1B,KAAKW,IAAI,GACvBA,KAAKhB,IAAI,MAAM1T,IAAMD,IAAM,IAAIC,IAAMD,GACrC0U,KAAK,MAELC,IAAIhB,IAAI,KAAKA,IAAI,IAAI,IAAIe,GAEpB,IAAIE,GAAIF,GAAGC,GAAGhB,GAAGtzB,EAAE,OAAO;AACnC;AAEO,SAASw0B,GAAIH,GAAGC,GAAGhB,GAAGQ,GAAS;AACpC,SAAO,UAAU,WAAW,IAAIX,GAAWkB,CAAC,IAAI,IAAIE,GAAIF,GAAGC,GAAGhB,GAAGQ,KAAkB,CAAW;AAChG;AAEA,SAASS,GAAIF,GAAGC,GAAGhB,GAAGQ,GAAS;AAC7B,OAAK,IAAI,CAACO,GACV,KAAK,IAAI,CAACC,GACV,KAAK,IAAI,CAAChB,GACV,KAAK,UAAU,CAACQ;AAClB;AAEApC,GAAO6C,IAAKC,IAAK1C,GAAOE,IAAO;AAAA,EAC7B,SAASj5B,GAAG;AACV,WAAAA,IAAIA,KAAK,OAAOm5B,KAAW,KAAK,IAAIA,IAAUn5B,CAAC,GACxC,IAAIw7B,GAAI,KAAK,GAAG,KAAK,GAAG,KAAK,IAAIx7B,GAAG,KAAK,OAAO;AAAA,EACzD;AAAA,EACA,OAAOA,GAAG;AACR,WAAAA,IAAIA,KAAK,OAAOk5B,KAAS,KAAK,IAAIA,IAAQl5B,CAAC,GACpC,IAAIw7B,GAAI,KAAK,GAAG,KAAK,GAAG,KAAK,IAAIx7B,GAAG,KAAK,OAAO;AAAA,EACzD;AAAA,EACA,MAAM;AACJ,QAAIs7B,IAAI,KAAK,IAAI,OAAO,KAAK,IAAI,KAAK,KAClCC,IAAI,MAAMD,CAAC,KAAK,MAAM,KAAK,CAAC,IAAI,IAAI,KAAK,GACzCf,IAAI,KAAK,GACTmB,IAAKnB,KAAKA,IAAI,MAAMA,IAAI,IAAIA,KAAKgB,GACjCI,IAAK,IAAIpB,IAAImB;AACjB,WAAO,IAAIjB;AAAA,MACTmB,GAAQN,KAAK,MAAMA,IAAI,MAAMA,IAAI,KAAKK,GAAID,CAAE;AAAA,MAC5CE,GAAQN,GAAGK,GAAID,CAAE;AAAA,MACjBE,GAAQN,IAAI,MAAMA,IAAI,MAAMA,IAAI,KAAKK,GAAID,CAAE;AAAA,MAC3C,KAAK;AAAA,IACX;AAAA,EACE;AAAA,EACA,QAAQ;AACN,WAAO,IAAIF,GAAIK,GAAO,KAAK,CAAC,GAAGC,GAAO,KAAK,CAAC,GAAGA,GAAO,KAAK,CAAC,GAAGb,GAAO,KAAK,OAAO,CAAC;AAAA,EACrF;AAAA,EACA,cAAc;AACZ,YAAQ,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,MAAM,KAAK,CAAC,MAC1C,KAAK,KAAK,KAAK,KAAK,KAAK,KACzB,KAAK,KAAK,WAAW,KAAK,WAAW;AAAA,EAC/C;AAAA,EACA,YAAY;AACV,UAAM3zB,IAAI2zB,GAAO,KAAK,OAAO;AAC7B,WAAO,GAAG3zB,MAAM,IAAI,SAAS,OAAO,GAAGu0B,GAAO,KAAK,CAAC,CAAC,KAAKC,GAAO,KAAK,CAAC,IAAI,GAAG,MAAMA,GAAO,KAAK,CAAC,IAAI,GAAG,IAAIx0B,MAAM,IAAI,MAAM,KAAKA,CAAC,GAAG;AAAA,EACvI;AACF,CAAC,CAAC;AAEF,SAASu0B,GAAO/9B,GAAO;AACrB,SAAAA,KAASA,KAAS,KAAK,KAChBA,IAAQ,IAAIA,IAAQ,MAAMA;AACnC;AAEA,SAASg+B,GAAOh+B,GAAO;AACrB,SAAO,KAAK,IAAI,GAAG,KAAK,IAAI,GAAGA,KAAS,CAAC,CAAC;AAC5C;AAGA,SAAS89B,GAAQN,GAAGK,GAAID,GAAI;AAC1B,UAAQJ,IAAI,KAAKK,KAAMD,IAAKC,KAAML,IAAI,KAChCA,IAAI,MAAMI,IACVJ,IAAI,MAAMK,KAAMD,IAAKC,MAAO,MAAML,KAAK,KACvCK,KAAM;AACd;AC3YA,MAAAI,KAAe,CAAAlnB,MAAK,MAAMA;ACE1B,SAASmnB,GAAO10B,GAAGwvB,GAAG;AACpB,SAAO,SAASmF,GAAG;AACjB,WAAO30B,IAAI20B,IAAInF;AAAA,EACjB;AACF;AAEA,SAASoF,GAAY50B,GAAGC,GAAGuN,GAAG;AAC5B,SAAOxN,IAAI,KAAK,IAAIA,GAAGwN,CAAC,GAAGvN,IAAI,KAAK,IAAIA,GAAGuN,CAAC,IAAIxN,GAAGwN,IAAI,IAAIA,GAAG,SAASmnB,GAAG;AACxE,WAAO,KAAK,IAAI30B,IAAI20B,IAAI10B,GAAGuN,CAAC;AAAA,EAC9B;AACF;AAOO,SAASqnB,GAAMrnB,GAAG;AACvB,UAAQA,IAAI,CAACA,MAAO,IAAIsnB,KAAU,SAAS90B,GAAGC,GAAG;AAC/C,WAAOA,IAAID,IAAI40B,GAAY50B,GAAGC,GAAGuN,CAAC,IAAIinB,GAAS,MAAMz0B,CAAC,IAAIC,IAAID,CAAC;AAAA,EACjE;AACF;AAEe,SAAS80B,GAAQ90B,GAAGC,GAAG;AACpC,MAAIuvB,IAAIvvB,IAAID;AACZ,SAAOwvB,IAAIkF,GAAO10B,GAAGwvB,CAAC,IAAIiF,GAAS,MAAMz0B,CAAC,IAAIC,IAAID,CAAC;AACrD;ACvBA,MAAAwzB,KAAgB,SAASuB,EAASvnB,GAAG;AACnC,MAAIyQ,IAAQ4W,GAAMrnB,CAAC;AAEnB,WAASgmB,EAAIjD,GAAOyE,GAAK;AACvB,QAAIn3B,IAAIogB,GAAOsS,IAAQ0E,GAAS1E,CAAK,GAAG,IAAIyE,IAAMC,GAASD,CAAG,GAAG,CAAC,GAC9D1B,IAAIrV,EAAMsS,EAAM,GAAGyE,EAAI,CAAC,GACxB/0B,IAAIge,EAAMsS,EAAM,GAAGyE,EAAI,CAAC,GACxBvB,IAAUqB,GAAQvE,EAAM,SAASyE,EAAI,OAAO;AAChD,WAAO,SAASL,GAAG;AACjB,aAAApE,EAAM,IAAI1yB,EAAE82B,CAAC,GACbpE,EAAM,IAAI+C,EAAEqB,CAAC,GACbpE,EAAM,IAAItwB,EAAE00B,CAAC,GACbpE,EAAM,UAAUkD,EAAQkB,CAAC,GAClBpE,IAAQ;AAAA,IACjB;AAAA,EACF;AAEA,SAAAiD,EAAI,QAAQuB,GAELvB;AACT,EAAG,CAAC;ACzBW,SAAA0B,GAASl1B,GAAGC,GAAG;AAC5B,EAAKA,MAAGA,IAAI,CAAA;AACZ,MAAI,IAAID,IAAI,KAAK,IAAIC,EAAE,QAAQD,EAAE,MAAM,IAAI,GACvCm1B,IAAIl1B,EAAE,MAAK,GACXF;AACJ,SAAO,SAAS40B,GAAG;AACjB,SAAK50B,IAAI,GAAGA,IAAI,GAAG,EAAEA,EAAG,CAAAo1B,EAAEp1B,CAAC,IAAIC,EAAED,CAAC,KAAK,IAAI40B,KAAK10B,EAAEF,CAAC,IAAI40B;AACvD,WAAOQ;AAAA,EACT;AACF;AAEO,SAASC,GAAc7nB,GAAG;AAC/B,SAAO,YAAY,OAAOA,CAAC,KAAK,EAAEA,aAAa;AACjD;ACNO,SAAS8nB,GAAar1B,GAAGC,GAAG;AACjC,MAAIq1B,IAAKr1B,IAAIA,EAAE,SAAS,GACpBs1B,IAAKv1B,IAAI,KAAK,IAAIs1B,GAAIt1B,EAAE,MAAM,IAAI,GAClCuN,IAAI,IAAI,MAAMgoB,CAAE,GAChBJ,IAAI,IAAI,MAAMG,CAAE,GAChB;AAEJ,OAAK,IAAI,GAAG,IAAIC,GAAI,EAAE,EAAG,CAAAhoB,EAAE,CAAC,IAAI/W,GAAMwJ,EAAE,CAAC,GAAGC,EAAE,CAAC,CAAC;AAChD,SAAO,IAAIq1B,GAAI,EAAE,EAAG,CAAAH,EAAE,CAAC,IAAIl1B,EAAE,CAAC;AAE9B,SAAO,SAAS00B,GAAG;AACjB,SAAK,IAAI,GAAG,IAAIY,GAAI,EAAE,EAAG,CAAAJ,EAAE,CAAC,IAAI5nB,EAAE,CAAC,EAAEonB,CAAC;AACtC,WAAOQ;AAAA,EACT;AACF;ACrBe,SAAAK,GAASx1B,GAAGC,GAAG;AAC5B,MAAIuvB,IAAI,oBAAI;AACZ,SAAOxvB,IAAI,CAACA,GAAGC,IAAI,CAACA,GAAG,SAAS00B,GAAG;AACjC,WAAOnF,EAAE,QAAQxvB,KAAK,IAAI20B,KAAK10B,IAAI00B,CAAC,GAAGnF;AAAA,EACzC;AACF;ACLe,SAAAiG,GAASz1B,GAAGC,GAAG;AAC5B,SAAOD,IAAI,CAACA,GAAGC,IAAI,CAACA,GAAG,SAAS00B,GAAG;AACjC,WAAO30B,KAAK,IAAI20B,KAAK10B,IAAI00B;AAAA,EAC3B;AACF;ACFe,SAAAe,GAAS11B,GAAGC,GAAG;AAC5B,MAAIF,IAAI,CAAA,GACJo1B,IAAI,CAAA,GACJz8B;AAEJ,GAAIsH,MAAM,QAAQ,OAAOA,KAAM,cAAUA,IAAI,CAAA,KACzCC,MAAM,QAAQ,OAAOA,KAAM,cAAUA,IAAI,CAAA;AAE7C,OAAKvH,KAAKuH;AACR,IAAIvH,KAAKsH,IACPD,EAAErH,CAAC,IAAIlC,GAAMwJ,EAAEtH,CAAC,GAAGuH,EAAEvH,CAAC,CAAC,IAEvBy8B,EAAEz8B,CAAC,IAAIuH,EAAEvH,CAAC;AAId,SAAO,SAASi8B,GAAG;AACjB,SAAKj8B,KAAKqH,EAAG,CAAAo1B,EAAEz8B,CAAC,IAAIqH,EAAErH,CAAC,EAAEi8B,CAAC;AAC1B,WAAOQ;AAAA,EACT;AACF;ACpBA,IAAIQ,KAAM,+CACNC,KAAM,IAAI,OAAOD,GAAI,QAAQ,GAAG;AAEpC,SAASlG,GAAKxvB,GAAG;AACf,SAAO,WAAW;AAChB,WAAOA;AAAA,EACT;AACF;AAEA,SAAS41B,GAAI51B,GAAG;AACd,SAAO,SAAS,GAAG;AACjB,WAAOA,EAAE,CAAC,IAAI;AAAA,EAChB;AACF;AAEe,SAAA61B,GAAS91B,GAAGC,GAAG;AAC5B,MAAI81B,IAAKJ,GAAI,YAAYC,GAAI,YAAY,GACrCI,GACAC,GACAC,GACA,IAAI,IACJjC,IAAI,CAAA,GACJkC,IAAI,CAAA;AAMR,OAHAn2B,IAAIA,IAAI,IAAIC,IAAIA,IAAI,KAGZ+1B,IAAKL,GAAI,KAAK31B,CAAC,OACfi2B,IAAKL,GAAI,KAAK31B,CAAC;AACrB,KAAKi2B,IAAKD,EAAG,SAASF,MACpBG,IAAKj2B,EAAE,MAAM81B,GAAIG,CAAE,GACfjC,EAAE,CAAC,IAAGA,EAAE,CAAC,KAAKiC,IACbjC,EAAE,EAAE,CAAC,IAAIiC,KAEXF,IAAKA,EAAG,CAAC,QAAQC,IAAKA,EAAG,CAAC,KACzBhC,EAAE,CAAC,IAAGA,EAAE,CAAC,KAAKgC,IACbhC,EAAE,EAAE,CAAC,IAAIgC,KAEdhC,EAAE,EAAE,CAAC,IAAI,MACTkC,EAAE,KAAK,EAAC,GAAM,GAAGnG,GAAOgG,GAAIC,CAAE,EAAC,CAAC,IAElCF,IAAKH,GAAI;AAIX,SAAIG,IAAK91B,EAAE,WACTi2B,IAAKj2B,EAAE,MAAM81B,CAAE,GACX9B,EAAE,CAAC,IAAGA,EAAE,CAAC,KAAKiC,IACbjC,EAAE,EAAE,CAAC,IAAIiC,IAKTjC,EAAE,SAAS,IAAKkC,EAAE,CAAC,IACpBN,GAAIM,EAAE,CAAC,EAAE,CAAC,IACV1G,GAAKxvB,CAAC,KACLA,IAAIk2B,EAAE,QAAQ,SAASxB,GAAG;AACzB,aAAS50B,IAAI,GAAGJ,GAAGI,IAAIE,GAAG,EAAEF,EAAG,CAAAk0B,GAAGt0B,IAAIw2B,EAAEp2B,CAAC,GAAG,CAAC,IAAIJ,EAAE,EAAEg1B,CAAC;AACtD,WAAOV,EAAE,KAAK,EAAE;AAAA,EAClB;AACR;ACrDe,SAAAmC,GAASp2B,GAAGC,GAAG;AAC5B,MAAI00B,IAAI,OAAO10B,GAAGk1B;AAClB,SAAOl1B,KAAK,QAAQ00B,MAAM,YAAYF,GAASx0B,CAAC,KACzC00B,MAAM,WAAW3E,KAClB2E,MAAM,YAAaQ,IAAIlX,GAAMhe,CAAC,MAAMA,IAAIk1B,GAAG3B,MAAOsC,KAClD71B,aAAage,KAAQuV,KACrBvzB,aAAa,OAAOo2B,KACpBjB,GAAcn1B,CAAC,IAAIi1B,KACnB,MAAM,QAAQj1B,CAAC,IAAIo1B,KACnB,OAAOp1B,EAAE,WAAY,cAAc,OAAOA,EAAE,YAAa,cAAc,MAAMA,CAAC,IAAIy1B,KAClF1F,IAAQhwB,GAAGC,CAAC;AACpB;ACrBe,SAAAq2B,GAASt2B,GAAGC,GAAG;AAC5B,SAAOD,IAAI,CAACA,GAAGC,IAAI,CAACA,GAAG,SAAS00B,GAAG;AACjC,WAAO,KAAK,MAAM30B,KAAK,IAAI20B,KAAK10B,IAAI00B,CAAC;AAAA,EACvC;AACF;ACJe,SAAS4B,GAAUhpB,GAAG;AACnC,SAAO,WAAW;AAChB,WAAOA;AAAA,EACT;AACF;ACJe,SAASyiB,GAAOziB,GAAG;AAChC,SAAO,CAACA;AACV;ACGA,IAAI2W,KAAO,CAAC,GAAG,CAAC;AAET,SAASsS,GAASjpB,GAAG;AAC1B,SAAOA;AACT;AAEA,SAASkpB,GAAUz2B,GAAGC,GAAG;AACvB,UAAQA,KAAMD,IAAI,CAACA,KACb,SAASuN,GAAG;AAAE,YAAQA,IAAIvN,KAAKC;AAAA,EAAG,IAClCw0B,GAAS,MAAMx0B,CAAC,IAAI,MAAM,GAAG;AACrC;AAEA,SAASy2B,GAAQ12B,GAAGC,GAAG;AACrB,MAAI00B;AACJ,SAAI30B,IAAIC,MAAG00B,IAAI30B,GAAGA,IAAIC,GAAGA,IAAI00B,IACtB,SAASpnB,GAAG;AAAE,WAAO,KAAK,IAAIvN,GAAG,KAAK,IAAIC,GAAGsN,CAAC,CAAC;AAAA,EAAG;AAC3D;AAIA,SAASopB,GAAMxF,GAAQC,GAAOgF,GAAa;AACzC,MAAIQ,IAAKzF,EAAO,CAAC,GAAG0F,IAAK1F,EAAO,CAAC,GAAG2F,IAAK1F,EAAM,CAAC,GAAG2F,IAAK3F,EAAM,CAAC;AAC/D,SAAIyF,IAAKD,KAAIA,IAAKH,GAAUI,GAAID,CAAE,GAAGE,IAAKV,EAAYW,GAAID,CAAE,MACvDF,IAAKH,GAAUG,GAAIC,CAAE,GAAGC,IAAKV,EAAYU,GAAIC,CAAE,IAC7C,SAASxpB,GAAG;AAAE,WAAOupB,EAAGF,EAAGrpB,CAAC,CAAC;AAAA,EAAG;AACzC;AAEA,SAASypB,GAAQ7F,GAAQC,GAAOgF,GAAa;AAC3C,MAAIa,IAAI,KAAK,IAAI9F,EAAO,QAAQC,EAAM,MAAM,IAAI,GAC5C5B,IAAI,IAAI,MAAMyH,CAAC,GACfp5B,IAAI,IAAI,MAAMo5B,CAAC,GACf,IAAI;AAQR,OALI9F,EAAO8F,CAAC,IAAI9F,EAAO,CAAC,MACtBA,IAASA,EAAO,MAAK,EAAG,QAAO,GAC/BC,IAAQA,EAAM,MAAK,EAAG,QAAO,IAGxB,EAAE,IAAI6F;AACX,IAAAzH,EAAE,CAAC,IAAIiH,GAAUtF,EAAO,CAAC,GAAGA,EAAO,IAAI,CAAC,CAAC,GACzCtzB,EAAE,CAAC,IAAIu4B,EAAYhF,EAAM,CAAC,GAAGA,EAAM,IAAI,CAAC,CAAC;AAG3C,SAAO,SAAS7jB,GAAG;AACjB,QAAIxN,IAAIm3B,GAAO/F,GAAQ5jB,GAAG,GAAG0pB,CAAC,IAAI;AAClC,WAAOp5B,EAAEkC,CAAC,EAAEyvB,EAAEzvB,CAAC,EAAEwN,CAAC,CAAC;AAAA,EACrB;AACF;AAEO,SAAS4pB,GAAKn/B,GAAQmL,GAAQ;AACnC,SAAOA,EACF,OAAOnL,EAAO,OAAM,CAAE,EACtB,MAAMA,EAAO,MAAK,CAAE,EACpB,YAAYA,EAAO,YAAW,CAAE,EAChC,MAAMA,EAAO,MAAK,CAAE,EACpB,QAAQA,EAAO,SAAS;AAC/B;AAEO,SAASo/B,KAAc;AAC5B,MAAIjG,IAASjN,IACTkN,IAAQlN,IACRkS,IAAciB,IACdC,GACAC,GACAC,GACAC,IAAQjB,IACRkB,GACAC,GACAC;AAEJ,WAASC,IAAU;AACjB,QAAIn4B,IAAI,KAAK,IAAIyxB,EAAO,QAAQC,EAAM,MAAM;AAC5C,WAAIqG,MAAUjB,OAAUiB,IAAQf,GAAQvF,EAAO,CAAC,GAAGA,EAAOzxB,IAAI,CAAC,CAAC,IAChEg4B,IAAYh4B,IAAI,IAAIs3B,KAAUL,IAC9BgB,IAASC,IAAQ,MACVE;AAAA,EACT;AAEA,WAASA,EAAMvqB,GAAG;AAChB,WAAOA,KAAK,QAAQ,MAAMA,IAAI,CAACA,CAAC,IAAIiqB,KAAWG,MAAWA,IAASD,EAAUvG,EAAO,IAAImG,CAAS,GAAGlG,GAAOgF,CAAW,IAAIkB,EAAUG,EAAMlqB,CAAC,CAAC,CAAC;AAAA,EAC/I;AAEA,SAAAuqB,EAAM,SAAS,SAAStqB,GAAG;AACzB,WAAOiqB,EAAMF,GAAaK,MAAUA,IAAQF,EAAUtG,GAAOD,EAAO,IAAImG,CAAS,GAAG7B,EAAiB,IAAIjoB,CAAC,CAAC,CAAC;AAAA,EAC9G,GAEAsqB,EAAM,SAAS,SAASphB,GAAG;AACzB,WAAO,UAAU,UAAUya,IAAS,MAAM,KAAKza,GAAGsZ,EAAM,GAAG6H,OAAa1G,EAAO,MAAK;AAAA,EACtF,GAEA2G,EAAM,QAAQ,SAASphB,GAAG;AACxB,WAAO,UAAU,UAAU0a,IAAQ,MAAM,KAAK1a,CAAC,GAAGmhB,EAAO,KAAMzG,EAAM,MAAK;AAAA,EAC5E,GAEA0G,EAAM,aAAa,SAASphB,GAAG;AAC7B,WAAO0a,IAAQ,MAAM,KAAK1a,CAAC,GAAG0f,IAAcE,IAAkBuB,EAAO;AAAA,EACvE,GAEAC,EAAM,QAAQ,SAASphB,GAAG;AACxB,WAAO,UAAU,UAAU+gB,IAAQ/gB,IAAI,KAAO8f,IAAUqB,OAAaJ,MAAUjB;AAAA,EACjF,GAEAsB,EAAM,cAAc,SAASphB,GAAG;AAC9B,WAAO,UAAU,UAAU0f,IAAc1f,GAAGmhB,EAAO,KAAMzB;AAAAA,EAC3D,GAEA0B,EAAM,UAAU,SAASphB,GAAG;AAC1B,WAAO,UAAU,UAAU8gB,IAAU9gB,GAAGohB,KAASN;AAAA,EACnD,GAEO,SAAS7C,GAAGoD,GAAG;AACpB,WAAAT,IAAY3C,GAAG4C,IAAcQ,GACtBF,EAAO;AAAA,EAChB;AACF;AAEe,SAASG,KAAa;AACnC,SAAOZ,GAAW,EAAGZ,IAAUA,EAAQ;AACzC;AC5He,SAASyB,GAAK9G,GAAQ+G,GAAU;AAC7C,EAAA/G,IAASA,EAAO,MAAK;AAErB,MAAIgH,IAAK,GACLvH,IAAKO,EAAO,SAAS,GACrBiH,IAAKjH,EAAOgH,CAAE,GACdE,IAAKlH,EAAOP,CAAE,GACd+D;AAEJ,SAAI0D,IAAKD,MACPzD,IAAIwD,GAAIA,IAAKvH,GAAIA,IAAK+D,GACtBA,IAAIyD,GAAIA,IAAKC,GAAIA,IAAK1D,IAGxBxD,EAAOgH,CAAE,IAAID,EAAS,MAAME,CAAE,GAC9BjH,EAAOP,CAAE,IAAIsH,EAAS,KAAKG,CAAE,GACtBlH;AACT;ACjBA,MAAMmH,KAAK,oBAAI,QAAMC,KAAK,oBAAI;AAEvB,SAASC,GAAaC,GAAQC,GAASjI,GAAO7H,GAAO;AAE1D,WAASsP,EAAS7B,GAAM;AACtB,WAAOoC,EAAOpC,IAAO,UAAU,WAAW,IAAI,oBAAI,SAAO,oBAAI,KAAK,CAACA,CAAI,CAAC,GAAGA;AAAA,EAC7E;AAEA,SAAA6B,EAAS,QAAQ,CAAC7B,OACToC,EAAOpC,IAAO,oBAAI,KAAK,CAACA,CAAI,CAAC,GAAGA,IAGzC6B,EAAS,OAAO,CAAC7B,OACRoC,EAAOpC,IAAO,IAAI,KAAKA,IAAO,CAAC,CAAC,GAAGqC,EAAQrC,GAAM,CAAC,GAAGoC,EAAOpC,CAAI,GAAGA,IAG5E6B,EAAS,QAAQ,CAAC7B,MAAS;AACzB,UAAMO,IAAKsB,EAAS7B,CAAI,GAAGQ,IAAKqB,EAAS,KAAK7B,CAAI;AAClD,WAAOA,IAAOO,IAAKC,IAAKR,IAAOO,IAAKC;AAAA,EACtC,GAEAqB,EAAS,SAAS,CAAC7B,GAAMhX,OAChBqZ,EAAQrC,IAAO,oBAAI,KAAK,CAACA,CAAI,GAAGhX,KAAQ,OAAO,IAAI,KAAK,MAAMA,CAAI,CAAC,GAAGgX,IAG/E6B,EAAS,QAAQ,CAAC3H,GAAOC,GAAMnR,MAAS;AACtC,UAAM+R,IAAQ,CAAA;AAGd,QAFAb,IAAQ2H,EAAS,KAAK3H,CAAK,GAC3BlR,IAAOA,KAAQ,OAAO,IAAI,KAAK,MAAMA,CAAI,GACrC,EAAEkR,IAAQC,MAAS,EAAEnR,IAAO,GAAI,QAAO+R;AAC3C,QAAIuH;AACJ;AAAG,MAAAvH,EAAM,KAAKuH,IAAW,oBAAI,KAAK,CAACpI,CAAK,CAAC,GAAGmI,EAAQnI,GAAOlR,CAAI,GAAGoZ,EAAOlI,CAAK;AAAA,WACvEoI,IAAWpI,KAASA,IAAQC;AACnC,WAAOY;AAAA,EACT,GAEA8G,EAAS,SAAS,CAACU,MACVJ,GAAa,CAACnC,MAAS;AAC5B,QAAIA,KAAQA,EAAM,QAAOoC,EAAOpC,CAAI,GAAG,CAACuC,EAAKvC,CAAI,IAAG,CAAAA,EAAK,QAAQA,IAAO,CAAC;AAAA,EAC3E,GAAG,CAACA,GAAMhX,MAAS;AACjB,QAAIgX,KAAQA;AACV,UAAIhX,IAAO,EAAG,QAAO,EAAEA,KAAQ;AAC7B,eAAOqZ,EAAQrC,GAAM,EAAE,GAAG,CAACuC,EAAKvC,CAAI;AAAG;AAAA,UAClC,QAAO,EAAEhX,KAAQ;AACtB,eAAOqZ,EAAQrC,GAAM,CAAE,GAAG,CAACuC,EAAKvC,CAAI;AAAG;AAAA,EAG7C,CAAC,GAGC5F,MACFyH,EAAS,QAAQ,CAAC3H,GAAOyE,OACvBsD,GAAG,QAAQ,CAAC/H,CAAK,GAAGgI,GAAG,QAAQ,CAACvD,CAAG,GACnCyD,EAAOH,EAAE,GAAGG,EAAOF,EAAE,GACd,KAAK,MAAM9H,EAAM6H,IAAIC,EAAE,CAAC,IAGjCL,EAAS,QAAQ,CAAC7Y,OAChBA,IAAO,KAAK,MAAMA,CAAI,GACf,CAAC,SAASA,CAAI,KAAK,EAAEA,IAAO,KAAK,OAChCA,IAAO,IACT6Y,EAAS,OAAOtP,IACZ,CAAC4G,MAAM5G,EAAM4G,CAAC,IAAInQ,MAAS,IAC3B,CAACmQ,MAAM0I,EAAS,MAAM,GAAG1I,CAAC,IAAInQ,MAAS,CAAC,IAH9B6Y,KAOjBA;AACT;AClEO,MAAMW,KAAcL,GAAa,MAAM;AAE9C,GAAG,CAACnC,GAAMhX,MAAS;AACjB,EAAAgX,EAAK,QAAQ,CAACA,IAAOhX,CAAI;AAC3B,GAAG,CAACkR,GAAOyE,MACFA,IAAMzE,CACd;AAGDsI,GAAY,QAAQ,CAACngC,OACnBA,IAAI,KAAK,MAAMA,CAAC,GACZ,CAAC,SAASA,CAAC,KAAK,EAAEA,IAAI,KAAW,OAC/BA,IAAI,IACH8/B,GAAa,CAACnC,MAAS;AAC5B,EAAAA,EAAK,QAAQ,KAAK,MAAMA,IAAO39B,CAAC,IAAIA,CAAC;AACvC,GAAG,CAAC29B,GAAMhX,MAAS;AACjB,EAAAgX,EAAK,QAAQ,CAACA,IAAOhX,IAAO3mB,CAAC;AAC/B,GAAG,CAAC63B,GAAOyE,OACDA,IAAMzE,KAAS73B,CACxB,IAPoBmgC;AAUKA,GAAY;ACxBjC,MAAMC,KAAiB,KACjBC,KAAiBD,KAAiB,IAClCE,KAAeD,KAAiB,IAChCE,KAAcD,KAAe,IAC7BE,KAAeD,KAAc,GAC7BE,KAAgBF,KAAc,IAC9BG,KAAeH,KAAc,KCH7BI,KAASb,GAAa,CAACnC,MAAS;AAC3C,EAAAA,EAAK,QAAQA,IAAOA,EAAK,gBAAe,CAAE;AAC5C,GAAG,CAACA,GAAMhX,MAAS;AACjB,EAAAgX,EAAK,QAAQ,CAACA,IAAOhX,IAAOyZ,EAAc;AAC5C,GAAG,CAACvI,GAAOyE,OACDA,IAAMzE,KAASuI,IACtB,CAACzC,MACKA,EAAK,cAAa,CAC1B;AAEsBgD,GAAO;ACVvB,MAAMC,KAAad,GAAa,CAACnC,MAAS;AAC/C,EAAAA,EAAK,QAAQA,IAAOA,EAAK,gBAAe,IAAKA,EAAK,WAAU,IAAKyC,EAAc;AACjF,GAAG,CAACzC,GAAMhX,MAAS;AACjB,EAAAgX,EAAK,QAAQ,CAACA,IAAOhX,IAAO0Z,EAAc;AAC5C,GAAG,CAACxI,GAAOyE,OACDA,IAAMzE,KAASwI,IACtB,CAAC1C,MACKA,EAAK,WAAU,CACvB;AAE0BiD,GAAW;AAE/B,MAAMC,KAAYf,GAAa,CAACnC,MAAS;AAC9C,EAAAA,EAAK,cAAc,GAAG,CAAC;AACzB,GAAG,CAACA,GAAMhX,MAAS;AACjB,EAAAgX,EAAK,QAAQ,CAACA,IAAOhX,IAAO0Z,EAAc;AAC5C,GAAG,CAACxI,GAAOyE,OACDA,IAAMzE,KAASwI,IACtB,CAAC1C,MACKA,EAAK,cAAa,CAC1B;AAEyBkD,GAAU;ACtB7B,MAAMC,KAAWhB,GAAa,CAACnC,MAAS;AAC7C,EAAAA,EAAK,QAAQA,IAAOA,EAAK,gBAAe,IAAKA,EAAK,WAAU,IAAKyC,KAAiBzC,EAAK,WAAU,IAAK0C,EAAc;AACtH,GAAG,CAAC1C,GAAMhX,MAAS;AACjB,EAAAgX,EAAK,QAAQ,CAACA,IAAOhX,IAAO2Z,EAAY;AAC1C,GAAG,CAACzI,GAAOyE,OACDA,IAAMzE,KAASyI,IACtB,CAAC3C,MACKA,EAAK,SAAQ,CACrB;AAEwBmD,GAAS;AAE3B,MAAMC,KAAUjB,GAAa,CAACnC,MAAS;AAC5C,EAAAA,EAAK,cAAc,GAAG,GAAG,CAAC;AAC5B,GAAG,CAACA,GAAMhX,MAAS;AACjB,EAAAgX,EAAK,QAAQ,CAACA,IAAOhX,IAAO2Z,EAAY;AAC1C,GAAG,CAACzI,GAAOyE,OACDA,IAAMzE,KAASyI,IACtB,CAAC3C,MACKA,EAAK,YAAW,CACxB;AAEuBoD,GAAQ;ACtBzB,MAAMC,KAAUlB;AAAA,EACrB,CAAAnC,MAAQA,EAAK,SAAS,GAAG,GAAG,GAAG,CAAC;AAAA,EAChC,CAACA,GAAMhX,MAASgX,EAAK,QAAQA,EAAK,QAAO,IAAKhX,CAAI;AAAA,EAClD,CAACkR,GAAOyE,OAASA,IAAMzE,KAASyE,EAAI,kBAAiB,IAAKzE,EAAM,kBAAiB,KAAMwI,MAAkBE;AAAA,EACzG,CAAA5C,MAAQA,EAAK,YAAY;AAC3B;AAEwBqD,GAAQ;AAEzB,MAAMC,KAASnB,GAAa,CAACnC,MAAS;AAC3C,EAAAA,EAAK,YAAY,GAAG,GAAG,GAAG,CAAC;AAC7B,GAAG,CAACA,GAAMhX,MAAS;AACjB,EAAAgX,EAAK,WAAWA,EAAK,WAAU,IAAKhX,CAAI;AAC1C,GAAG,CAACkR,GAAOyE,OACDA,IAAMzE,KAAS0I,IACtB,CAAC5C,MACKA,EAAK,WAAU,IAAK,CAC5B;AAEsBsD,GAAO;AAEvB,MAAMC,KAAUpB,GAAa,CAACnC,MAAS;AAC5C,EAAAA,EAAK,YAAY,GAAG,GAAG,GAAG,CAAC;AAC7B,GAAG,CAACA,GAAMhX,MAAS;AACjB,EAAAgX,EAAK,WAAWA,EAAK,WAAU,IAAKhX,CAAI;AAC1C,GAAG,CAACkR,GAAOyE,OACDA,IAAMzE,KAAS0I,IACtB,CAAC5C,MACK,KAAK,MAAMA,IAAO4C,EAAW,CACrC;AAEuBW,GAAQ;AC/BhC,SAASC,GAAY95B,GAAG;AACtB,SAAOy4B,GAAa,CAACnC,MAAS;AAC5B,IAAAA,EAAK,QAAQA,EAAK,aAAaA,EAAK,WAAW,IAAIt2B,KAAK,CAAC,GACzDs2B,EAAK,SAAS,GAAG,GAAG,GAAG,CAAC;AAAA,EAC1B,GAAG,CAACA,GAAMhX,MAAS;AACjB,IAAAgX,EAAK,QAAQA,EAAK,QAAO,IAAKhX,IAAO,CAAC;AAAA,EACxC,GAAG,CAACkR,GAAOyE,OACDA,IAAMzE,KAASyE,EAAI,kBAAiB,IAAKzE,EAAM,uBAAuBwI,MAAkBG,EACjG;AACH;AAEO,MAAMY,KAAaD,GAAY,CAAC,GAC1BE,KAAaF,GAAY,CAAC,GAC1BG,KAAcH,GAAY,CAAC,GAC3BI,KAAgBJ,GAAY,CAAC,GAC7BK,KAAeL,GAAY,CAAC,GAC5BM,KAAaN,GAAY,CAAC,GAC1BO,KAAeP,GAAY,CAAC;AAEdC,GAAW;AACXC,GAAW;AACVC,GAAY;AACVC,GAAc;AACfC,GAAa;AACfC,GAAW;AACTC,GAAa;AAE1C,SAASC,GAAWt6B,GAAG;AACrB,SAAOy4B,GAAa,CAACnC,MAAS;AAC5B,IAAAA,EAAK,WAAWA,EAAK,gBAAgBA,EAAK,cAAc,IAAIt2B,KAAK,CAAC,GAClEs2B,EAAK,YAAY,GAAG,GAAG,GAAG,CAAC;AAAA,EAC7B,GAAG,CAACA,GAAMhX,MAAS;AACjB,IAAAgX,EAAK,WAAWA,EAAK,WAAU,IAAKhX,IAAO,CAAC;AAAA,EAC9C,GAAG,CAACkR,GAAOyE,OACDA,IAAMzE,KAAS2I,EACxB;AACH;AAEO,MAAMoB,KAAYD,GAAW,CAAC,GACxBE,KAAYF,GAAW,CAAC,GACxBG,KAAaH,GAAW,CAAC,GACzBI,KAAeJ,GAAW,CAAC,GAC3BK,KAAcL,GAAW,CAAC,GAC1BM,KAAYN,GAAW,CAAC,GACxBO,KAAcP,GAAW,CAAC;AAEbC,GAAU;AACVC,GAAU;AACTC,GAAW;AACTC,GAAa;AACdC,GAAY;AACdC,GAAU;AACRC,GAAY;ACrDjC,MAAMC,KAAYrC,GAAa,CAACnC,MAAS;AAC9C,EAAAA,EAAK,QAAQ,CAAC,GACdA,EAAK,SAAS,GAAG,GAAG,GAAG,CAAC;AAC1B,GAAG,CAACA,GAAMhX,MAAS;AACjB,EAAAgX,EAAK,SAASA,EAAK,SAAQ,IAAKhX,CAAI;AACtC,GAAG,CAACkR,GAAOyE,MACFA,EAAI,aAAazE,EAAM,SAAQ,KAAMyE,EAAI,YAAW,IAAKzE,EAAM,YAAW,KAAM,IACtF,CAAC8F,MACKA,EAAK,SAAQ,CACrB;AAEyBwE,GAAU;AAE7B,MAAMC,KAAWtC,GAAa,CAACnC,MAAS;AAC7C,EAAAA,EAAK,WAAW,CAAC,GACjBA,EAAK,YAAY,GAAG,GAAG,GAAG,CAAC;AAC7B,GAAG,CAACA,GAAMhX,MAAS;AACjB,EAAAgX,EAAK,YAAYA,EAAK,YAAW,IAAKhX,CAAI;AAC5C,GAAG,CAACkR,GAAOyE,MACFA,EAAI,gBAAgBzE,EAAM,YAAW,KAAMyE,EAAI,eAAc,IAAKzE,EAAM,eAAc,KAAM,IAClG,CAAC8F,MACKA,EAAK,YAAW,CACxB;AAEwByE,GAAS;ACxB3B,MAAMC,KAAWvC,GAAa,CAACnC,MAAS;AAC7C,EAAAA,EAAK,SAAS,GAAG,CAAC,GAClBA,EAAK,SAAS,GAAG,GAAG,GAAG,CAAC;AAC1B,GAAG,CAACA,GAAMhX,MAAS;AACjB,EAAAgX,EAAK,YAAYA,EAAK,YAAW,IAAKhX,CAAI;AAC5C,GAAG,CAACkR,GAAOyE,MACFA,EAAI,gBAAgBzE,EAAM,YAAW,GAC3C,CAAC8F,MACKA,EAAK,YAAW,CACxB;AAGD0E,GAAS,QAAQ,CAACriC,MACT,CAAC,SAASA,IAAI,KAAK,MAAMA,CAAC,CAAC,KAAK,EAAEA,IAAI,KAAK,OAAO8/B,GAAa,CAACnC,MAAS;AAC9E,EAAAA,EAAK,YAAY,KAAK,MAAMA,EAAK,YAAW,IAAK39B,CAAC,IAAIA,CAAC,GACvD29B,EAAK,SAAS,GAAG,CAAC,GAClBA,EAAK,SAAS,GAAG,GAAG,GAAG,CAAC;AAC1B,GAAG,CAACA,GAAMhX,MAAS;AACjB,EAAAgX,EAAK,YAAYA,EAAK,YAAW,IAAKhX,IAAO3mB,CAAC;AAChD,CAAC;AAGsBqiC,GAAS;AAE3B,MAAMC,KAAUxC,GAAa,CAACnC,MAAS;AAC5C,EAAAA,EAAK,YAAY,GAAG,CAAC,GACrBA,EAAK,YAAY,GAAG,GAAG,GAAG,CAAC;AAC7B,GAAG,CAACA,GAAMhX,MAAS;AACjB,EAAAgX,EAAK,eAAeA,EAAK,eAAc,IAAKhX,CAAI;AAClD,GAAG,CAACkR,GAAOyE,MACFA,EAAI,mBAAmBzE,EAAM,eAAc,GACjD,CAAC8F,MACKA,EAAK,eAAc,CAC3B;AAGD2E,GAAQ,QAAQ,CAACtiC,MACR,CAAC,SAASA,IAAI,KAAK,MAAMA,CAAC,CAAC,KAAK,EAAEA,IAAI,KAAK,OAAO8/B,GAAa,CAACnC,MAAS;AAC9E,EAAAA,EAAK,eAAe,KAAK,MAAMA,EAAK,eAAc,IAAK39B,CAAC,IAAIA,CAAC,GAC7D29B,EAAK,YAAY,GAAG,CAAC,GACrBA,EAAK,YAAY,GAAG,GAAG,GAAG,CAAC;AAC7B,GAAG,CAACA,GAAMhX,MAAS;AACjB,EAAAgX,EAAK,eAAeA,EAAK,eAAc,IAAKhX,IAAO3mB,CAAC;AACtD,CAAC;AAGqBsiC,GAAQ;ACrChC,SAASC,GAAOjU,GAAME,GAAOgU,GAAM7T,GAAK8T,GAAMC,GAAQ;AAEpD,QAAMC,IAAgB;AAAA,IACpB,CAAChC,IAAS,GAAQP,EAAc;AAAA,IAChC,CAACO,IAAS,GAAI,IAAIP,EAAc;AAAA,IAChC,CAACO,IAAQ,IAAI,KAAKP,EAAc;AAAA,IAChC,CAACO,IAAQ,IAAI,KAAKP,EAAc;AAAA,IAChC,CAACsC,GAAS,GAAQrC,EAAc;AAAA,IAChC,CAACqC,GAAS,GAAI,IAAIrC,EAAc;AAAA,IAChC,CAACqC,GAAQ,IAAI,KAAKrC,EAAc;AAAA,IAChC,CAACqC,GAAQ,IAAI,KAAKrC,EAAc;AAAA,IAChC,CAAGoC,GAAO,GAAQnC,EAAY;AAAA,IAC9B,CAAGmC,GAAO,GAAI,IAAInC,EAAY;AAAA,IAC9B,CAAGmC,GAAO,GAAI,IAAInC,EAAY;AAAA,IAC9B,CAAGmC,GAAM,IAAI,KAAKnC,EAAY;AAAA,IAC9B,CAAI3R,GAAM,GAAQ4R,EAAW;AAAA,IAC7B,CAAI5R,GAAM,GAAI,IAAI4R,EAAW;AAAA,IAC7B,CAAGiC,GAAO,GAAQhC,EAAY;AAAA,IAC9B,CAAEhS,GAAQ,GAAQiS,EAAa;AAAA,IAC/B,CAAEjS,GAAQ,GAAI,IAAIiS,EAAa;AAAA,IAC/B,CAAGnS,GAAO,GAAQoS,EAAY;AAAA,EAClC;AAEE,WAASkC,EAAM/K,GAAOC,GAAMC,GAAO;AACjC,UAAMQ,IAAUT,IAAOD;AACvB,IAAIU,MAAS,CAACV,GAAOC,CAAI,IAAI,CAACA,GAAMD,CAAK;AACzC,UAAM2H,IAAWzH,KAAS,OAAOA,EAAM,SAAU,aAAaA,IAAQ8K,EAAahL,GAAOC,GAAMC,CAAK,GAC/F6K,IAAQpD,IAAWA,EAAS,MAAM3H,GAAO,CAACC,IAAO,CAAC,IAAI;AAC5D,WAAOS,IAAUqK,EAAM,QAAO,IAAKA;AAAA,EACrC;AAEA,WAASC,EAAahL,GAAOC,GAAMC,GAAO;AACxC,UAAMttB,IAAS,KAAK,IAAIqtB,IAAOD,CAAK,IAAIE,GAClC1wB,IAAIqvB,GAAS,CAAC,KAAI/P,CAAI,MAAMA,CAAI,EAAE,MAAMgc,GAAel4B,CAAM;AACnE,QAAIpD,MAAMs7B,EAAc,OAAQ,QAAOrU,EAAK,MAAMgK,GAAST,IAAQ6I,IAAc5I,IAAO4I,IAAc3I,CAAK,CAAC;AAC5G,QAAI1wB,MAAM,EAAG,QAAO84B,GAAY,MAAM,KAAK,IAAI7H,GAAST,GAAOC,GAAMC,CAAK,GAAG,CAAC,CAAC;AAC/E,UAAM,CAACkE,GAAGtV,CAAI,IAAIgc,EAAcl4B,IAASk4B,EAAct7B,IAAI,CAAC,EAAE,CAAC,IAAIs7B,EAAct7B,CAAC,EAAE,CAAC,IAAIoD,IAASpD,IAAI,IAAIA,CAAC;AAC3G,WAAO40B,EAAE,MAAMtV,CAAI;AAAA,EACrB;AAEA,SAAO,CAACic,GAAOC,CAAY;AAC7B;AAGA,MAAM,CAACC,IAAWC,EAAgB,IAAIR,GAAOF,IAAUF,IAAWf,IAAYJ,IAASF,IAAUF,EAAU;AC1C3G,SAASoC,GAAUlM,GAAG;AACpB,MAAI,KAAKA,EAAE,KAAKA,EAAE,IAAI,KAAK;AACzB,QAAI6G,IAAO,IAAI,KAAK,IAAI7G,EAAE,GAAGA,EAAE,GAAGA,EAAE,GAAGA,EAAE,GAAGA,EAAE,GAAGA,EAAE,CAAC;AACpD,WAAA6G,EAAK,YAAY7G,EAAE,CAAC,GACb6G;AAAA,EACT;AACA,SAAO,IAAI,KAAK7G,EAAE,GAAGA,EAAE,GAAGA,EAAE,GAAGA,EAAE,GAAGA,EAAE,GAAGA,EAAE,GAAGA,EAAE,CAAC;AACnD;AAEA,SAASmM,GAAQnM,GAAG;AAClB,MAAI,KAAKA,EAAE,KAAKA,EAAE,IAAI,KAAK;AACzB,QAAI6G,IAAO,IAAI,KAAK,KAAK,IAAI,IAAI7G,EAAE,GAAGA,EAAE,GAAGA,EAAE,GAAGA,EAAE,GAAGA,EAAE,GAAGA,EAAE,CAAC,CAAC;AAC9D,WAAA6G,EAAK,eAAe7G,EAAE,CAAC,GAChB6G;AAAA,EACT;AACA,SAAO,IAAI,KAAK,KAAK,IAAI7G,EAAE,GAAGA,EAAE,GAAGA,EAAE,GAAGA,EAAE,GAAGA,EAAE,GAAGA,EAAE,GAAGA,EAAE,CAAC,CAAC;AAC7D;AAEA,SAASoM,GAAQpuB,GAAGwlB,GAAGxD,GAAG;AACxB,SAAO,EAAC,GAAGhiB,GAAG,GAAGwlB,GAAG,GAAGxD,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,EAAC;AAClD;AAEe,SAASqM,GAAaC,GAAQ;AAC3C,MAAIC,IAAkBD,EAAO,UACzBE,IAAcF,EAAO,MACrBG,IAAcH,EAAO,MACrBI,IAAiBJ,EAAO,SACxBK,IAAkBL,EAAO,MACzBM,IAAuBN,EAAO,WAC9BO,IAAgBP,EAAO,QACvBQ,IAAqBR,EAAO,aAE5BS,IAAWC,GAASN,CAAc,GAClCO,IAAeC,GAAaR,CAAc,GAC1CS,IAAYH,GAASL,CAAe,GACpCS,IAAgBF,GAAaP,CAAe,GAC5CU,IAAiBL,GAASJ,CAAoB,GAC9CU,IAAqBJ,GAAaN,CAAoB,GACtDW,IAAUP,GAASH,CAAa,GAChCW,IAAcN,GAAaL,CAAa,GACxCY,IAAeT,GAASF,CAAkB,GAC1CY,IAAmBR,GAAaJ,CAAkB,GAElDa,IAAU;AAAA,IACZ,GAAKC;AAAA,IACL,GAAKC;AAAA,IACL,GAAKC;AAAA,IACL,GAAKC;AAAA,IACL,GAAK;AAAA,IACL,GAAKC;AAAA,IACL,GAAKA;AAAA,IACL,GAAKC;AAAA,IACL,GAAKC;AAAA,IACL,GAAKC;AAAA,IACL,GAAKC;AAAA,IACL,GAAKC;AAAA,IACL,GAAKC;AAAA,IACL,GAAKC;AAAA,IACL,GAAKC;AAAA,IACL,GAAKC;AAAA,IACL,GAAKC;AAAA,IACL,GAAKC;AAAA,IACL,GAAKC;AAAA,IACL,GAAKC;AAAA,IACL,GAAKC;AAAA,IACL,GAAKC;AAAA,IACL,GAAKC;AAAA,IACL,GAAKC;AAAA,IACL,GAAKC;AAAA,IACL,GAAKC;AAAA,IACL,GAAK;AAAA,IACL,GAAK;AAAA,IACL,GAAKC;AAAA,IACL,GAAKC;AAAA,IACL,GAAKC;AAAA,IACL,KAAKC;AAAA,EACT,GAEMC,IAAa;AAAA,IACf,GAAKC;AAAA,IACL,GAAKC;AAAA,IACL,GAAKC;AAAA,IACL,GAAKC;AAAA,IACL,GAAK;AAAA,IACL,GAAKC;AAAA,IACL,GAAKA;AAAA,IACL,GAAKC;AAAA,IACL,GAAKC;AAAA,IACL,GAAKC;AAAA,IACL,GAAKC;AAAA,IACL,GAAKC;AAAA,IACL,GAAKC;AAAA,IACL,GAAKC;AAAA,IACL,GAAKC;AAAA,IACL,GAAKC;AAAA,IACL,GAAKC;AAAA,IACL,GAAKC;AAAA,IACL,GAAK5B;AAAA,IACL,GAAKC;AAAA,IACL,GAAK4B;AAAA,IACL,GAAKC;AAAA,IACL,GAAKC;AAAA,IACL,GAAKC;AAAA,IACL,GAAKC;AAAA,IACL,GAAKC;AAAA,IACL,GAAK;AAAA,IACL,GAAK;AAAA,IACL,GAAKC;AAAA,IACL,GAAKC;AAAA,IACL,GAAKC;AAAA,IACL,KAAK1B;AAAA,EACT,GAEM2B,IAAS;AAAA,IACX,GAAKC;AAAA,IACL,GAAKC;AAAA,IACL,GAAKC;AAAA,IACL,GAAKC;AAAA,IACL,GAAKC;AAAA,IACL,GAAKC;AAAA,IACL,GAAKA;AAAA,IACL,GAAKC;AAAA,IACL,GAAKC;AAAA,IACL,GAAKC;AAAA,IACL,GAAKC;AAAA,IACL,GAAKA;AAAA,IACL,GAAKC;AAAA,IACL,GAAKC;AAAA,IACL,GAAKC;AAAA,IACL,GAAKC;AAAA,IACL,GAAKC;AAAA,IACL,GAAKC;AAAA,IACL,GAAKC;AAAA,IACL,GAAKC;AAAA,IACL,GAAKC;AAAA,IACL,GAAKC;AAAA,IACL,GAAKC;AAAA,IACL,GAAKC;AAAA,IACL,GAAKC;AAAA,IACL,GAAKC;AAAA,IACL,GAAKC;AAAA,IACL,GAAKC;AAAA,IACL,GAAKlB;AAAA,IACL,GAAKC;AAAA,IACL,GAAKkB;AAAA,IACL,KAAKC;AAAA,EACT;AAGE,EAAAnF,EAAQ,IAAIoF,EAAUvG,GAAamB,CAAO,GAC1CA,EAAQ,IAAIoF,EAAUtG,GAAakB,CAAO,GAC1CA,EAAQ,IAAIoF,EAAUxG,GAAiBoB,CAAO,GAC9C6B,EAAW,IAAIuD,EAAUvG,GAAagD,CAAU,GAChDA,EAAW,IAAIuD,EAAUtG,GAAa+C,CAAU,GAChDA,EAAW,IAAIuD,EAAUxG,GAAiBiD,CAAU;AAEpD,WAASuD,EAAUC,GAAWrF,GAAS;AACrC,WAAO,SAAS9G,GAAM;AACpB,UAAIP,IAAS,CAAA,GACT/1B,KAAI,IACJk3B,IAAI,GACJv3B,IAAI8iC,EAAU,QACdrN,GACAsN,IACA1P;AAIJ,WAFMsD,aAAgB,SAAOA,IAAO,oBAAI,KAAK,CAACA,CAAI,IAE3C,EAAEt2B,KAAIL;AACX,QAAI8iC,EAAU,WAAWziC,EAAC,MAAM,OAC9B+1B,EAAO,KAAK0M,EAAU,MAAMvL,GAAGl3B,EAAC,CAAC,IAC5B0iC,KAAMC,GAAKvN,IAAIqN,EAAU,OAAO,EAAEziC,EAAC,CAAC,MAAM,OAAMo1B,IAAIqN,EAAU,OAAO,EAAEziC,EAAC,IACxE0iC,KAAMtN,MAAM,MAAM,MAAM,MACzBpC,KAASoK,EAAQhI,CAAC,OAAGA,IAAIpC,GAAOsD,GAAMoM,EAAG,IAC7C3M,EAAO,KAAKX,CAAC,GACb8B,IAAIl3B,KAAI;AAIZ,aAAA+1B,EAAO,KAAK0M,EAAU,MAAMvL,GAAGl3B,EAAC,CAAC,GAC1B+1B,EAAO,KAAK,EAAE;AAAA,IACvB;AAAA,EACF;AAEA,WAAS6M,EAASH,GAAWI,GAAG;AAC9B,WAAO,SAAS9M,GAAQ;AACtB,UAAItG,IAAIoM,GAAQ,MAAM,QAAW,CAAC,GAC9B77B,KAAI8iC,EAAerT,GAAGgT,GAAW1M,KAAU,IAAI,CAAC,GAChDoF,GAAM7T;AACV,UAAItnB,MAAK+1B,EAAO,OAAQ,QAAO;AAG/B,UAAI,OAAOtG,EAAG,QAAO,IAAI,KAAKA,EAAE,CAAC;AACjC,UAAI,OAAOA,EAAG,QAAO,IAAI,KAAKA,EAAE,IAAI,OAAQ,OAAOA,IAAIA,EAAE,IAAI,EAAE;AAY/D,UATIoT,KAAK,EAAE,OAAOpT,OAAIA,EAAE,IAAI,IAGxB,OAAOA,MAAGA,EAAE,IAAIA,EAAE,IAAI,KAAKA,EAAE,IAAI,KAGjCA,EAAE,MAAM,WAAWA,EAAE,IAAI,OAAOA,IAAIA,EAAE,IAAI,IAG1C,OAAOA,GAAG;AACZ,YAAIA,EAAE,IAAI,KAAKA,EAAE,IAAI,GAAI,QAAO;AAChC,QAAM,OAAOA,MAAIA,EAAE,IAAI,IACnB,OAAOA,KACT0L,IAAOS,GAAQC,GAAQpM,EAAE,GAAG,GAAG,CAAC,CAAC,GAAGnI,IAAM6T,EAAK,UAAS,GACxDA,IAAO7T,IAAM,KAAKA,MAAQ,IAAIkT,GAAU,KAAKW,CAAI,IAAIX,GAAUW,CAAI,GACnEA,IAAOvB,GAAO,OAAOuB,IAAO1L,EAAE,IAAI,KAAK,CAAC,GACxCA,EAAE,IAAI0L,EAAK,eAAc,GACzB1L,EAAE,IAAI0L,EAAK,YAAW,GACtB1L,EAAE,IAAI0L,EAAK,WAAU,KAAM1L,EAAE,IAAI,KAAK,MAEtC0L,IAAOQ,GAAUE,GAAQpM,EAAE,GAAG,GAAG,CAAC,CAAC,GAAGnI,IAAM6T,EAAK,OAAM,GACvDA,IAAO7T,IAAM,KAAKA,MAAQ,IAAI0S,GAAW,KAAKmB,CAAI,IAAInB,GAAWmB,CAAI,GACrEA,IAAOxB,GAAQ,OAAOwB,IAAO1L,EAAE,IAAI,KAAK,CAAC,GACzCA,EAAE,IAAI0L,EAAK,YAAW,GACtB1L,EAAE,IAAI0L,EAAK,SAAQ,GACnB1L,EAAE,IAAI0L,EAAK,QAAO,KAAM1L,EAAE,IAAI,KAAK;AAAA,MAEvC,MAAO,EAAI,OAAOA,KAAK,OAAOA,OACtB,OAAOA,MAAIA,EAAE,IAAI,OAAOA,IAAIA,EAAE,IAAI,IAAI,OAAOA,IAAI,IAAI,IAC3DnI,IAAM,OAAOmI,IAAImM,GAAQC,GAAQpM,EAAE,GAAG,GAAG,CAAC,CAAC,EAAE,cAAckM,GAAUE,GAAQpM,EAAE,GAAG,GAAG,CAAC,CAAC,EAAE,OAAM,GAC/FA,EAAE,IAAI,GACNA,EAAE,IAAI,OAAOA,KAAKA,EAAE,IAAI,KAAK,IAAIA,EAAE,IAAI,KAAKnI,IAAM,KAAK,IAAImI,EAAE,IAAIA,EAAE,IAAI,KAAKnI,IAAM,KAAK;AAKzF,aAAI,OAAOmI,KACTA,EAAE,KAAKA,EAAE,IAAI,MAAM,GACnBA,EAAE,KAAKA,EAAE,IAAI,KACNmM,GAAQnM,CAAC,KAIXkM,GAAUlM,CAAC;AAAA,IACpB;AAAA,EACF;AAEA,WAASqT,EAAerT,GAAGgT,GAAW1M,GAAQmB,GAAG;AAO/C,aANIl3B,KAAI,GACJL,IAAI8iC,EAAU,QACdxP,IAAI8C,EAAO,QACXX,GACA2N,IAEG/iC,KAAIL,KAAG;AACZ,UAAIu3B,KAAKjE,EAAG,QAAO;AAEnB,UADAmC,IAAIqN,EAAU,WAAWziC,IAAG,GACxBo1B,MAAM;AAGR,YAFAA,IAAIqN,EAAU,OAAOziC,IAAG,GACxB+iC,KAAQpC,EAAOvL,KAAKuN,KAAOF,EAAU,OAAOziC,IAAG,IAAIo1B,CAAC,GAChD,CAAC2N,OAAW7L,IAAI6L,GAAMtT,GAAGsG,GAAQmB,CAAC,KAAK,EAAI,QAAO;AAAA,iBAC7C9B,KAAKW,EAAO,WAAWmB,GAAG;AACnC,eAAO;AAAA,IAEX;AAEA,WAAOA;AAAA,EACT;AAEA,WAASwK,EAAYjS,GAAGsG,GAAQ/1B,GAAG;AACjC,QAAIL,IAAI68B,EAAS,KAAKzG,EAAO,MAAM/1B,CAAC,CAAC;AACrC,WAAOL,KAAK8vB,EAAE,IAAIiN,EAAa,IAAI/8B,EAAE,CAAC,EAAE,YAAW,CAAE,GAAGK,IAAIL,EAAE,CAAC,EAAE,UAAU;AAAA,EAC7E;AAEA,WAASihC,EAAkBnR,GAAGsG,GAAQ/1B,GAAG;AACvC,QAAIL,IAAIm9B,EAAe,KAAK/G,EAAO,MAAM/1B,CAAC,CAAC;AAC3C,WAAOL,KAAK8vB,EAAE,IAAIsN,EAAmB,IAAIp9B,EAAE,CAAC,EAAE,YAAW,CAAE,GAAGK,IAAIL,EAAE,CAAC,EAAE,UAAU;AAAA,EACnF;AAEA,WAASkhC,EAAapR,GAAGsG,GAAQ/1B,GAAG;AAClC,QAAIL,IAAIi9B,EAAU,KAAK7G,EAAO,MAAM/1B,CAAC,CAAC;AACtC,WAAOL,KAAK8vB,EAAE,IAAIoN,EAAc,IAAIl9B,EAAE,CAAC,EAAE,YAAW,CAAE,GAAGK,IAAIL,EAAE,CAAC,EAAE,UAAU;AAAA,EAC9E;AAEA,WAASmhC,EAAgBrR,GAAGsG,GAAQ/1B,GAAG;AACrC,QAAIL,IAAIu9B,EAAa,KAAKnH,EAAO,MAAM/1B,CAAC,CAAC;AACzC,WAAOL,KAAK8vB,EAAE,IAAI0N,EAAiB,IAAIx9B,EAAE,CAAC,EAAE,YAAW,CAAE,GAAGK,IAAIL,EAAE,CAAC,EAAE,UAAU;AAAA,EACjF;AAEA,WAASohC,EAAWtR,GAAGsG,GAAQ/1B,GAAG;AAChC,QAAIL,IAAIq9B,EAAQ,KAAKjH,EAAO,MAAM/1B,CAAC,CAAC;AACpC,WAAOL,KAAK8vB,EAAE,IAAIwN,EAAY,IAAIt9B,EAAE,CAAC,EAAE,YAAW,CAAE,GAAGK,IAAIL,EAAE,CAAC,EAAE,UAAU;AAAA,EAC5E;AAEA,WAASqhC,EAAoBvR,GAAGsG,GAAQ/1B,GAAG;AACzC,WAAO8iC,EAAerT,GAAGuM,GAAiBjG,GAAQ/1B,CAAC;AAAA,EACrD;AAEA,WAASoiC,EAAgB3S,GAAGsG,GAAQ/1B,GAAG;AACrC,WAAO8iC,EAAerT,GAAGwM,GAAalG,GAAQ/1B,CAAC;AAAA,EACjD;AAEA,WAASqiC,EAAgB5S,GAAGsG,GAAQ/1B,GAAG;AACrC,WAAO8iC,EAAerT,GAAGyM,GAAanG,GAAQ/1B,CAAC;AAAA,EACjD;AAEA,WAASq9B,EAAmB5N,GAAG;AAC7B,WAAO4M,EAAqB5M,EAAE,QAAQ;AAAA,EACxC;AAEA,WAAS6N,EAAc7N,GAAG;AACxB,WAAO2M,EAAgB3M,EAAE,QAAQ;AAAA,EACnC;AAEA,WAAS8N,EAAiB9N,GAAG;AAC3B,WAAO8M,EAAmB9M,EAAE,UAAU;AAAA,EACxC;AAEA,WAAS+N,EAAY/N,GAAG;AACtB,WAAO6M,EAAc7M,EAAE,UAAU;AAAA,EACnC;AAEA,WAAS0O,EAAa1O,GAAG;AACvB,WAAO0M,EAAe,EAAE1M,EAAE,SAAQ,KAAM,GAAG;AAAA,EAC7C;AAEA,WAAS2O,EAAc3O,GAAG;AACxB,WAAO,IAAI,CAAC,EAAEA,EAAE,SAAQ,IAAK;AAAA,EAC/B;AAEA,WAASyP,GAAsBzP,GAAG;AAChC,WAAO4M,EAAqB5M,EAAE,WAAW;AAAA,EAC3C;AAEA,WAAS0P,EAAiB1P,GAAG;AAC3B,WAAO2M,EAAgB3M,EAAE,WAAW;AAAA,EACtC;AAEA,WAAS2P,EAAoB3P,GAAG;AAC9B,WAAO8M,EAAmB9M,EAAE,aAAa;AAAA,EAC3C;AAEA,WAAS4P,EAAe5P,GAAG;AACzB,WAAO6M,EAAc7M,EAAE,aAAa;AAAA,EACtC;AAEA,WAASuQ,EAAgBvQ,GAAG;AAC1B,WAAO0M,EAAe,EAAE1M,EAAE,YAAW,KAAM,GAAG;AAAA,EAChD;AAEA,WAASwQ,EAAiBxQ,GAAG;AAC3B,WAAO,IAAI,CAAC,EAAEA,EAAE,YAAW,IAAK;AAAA,EAClC;AAEA,SAAO;AAAA,IACL,QAAQ,SAASgT,GAAW;AAC1B,UAAItnC,IAAIqnC,EAAUC,KAAa,IAAIrF,CAAO;AAC1C,aAAAjiC,EAAE,WAAW,WAAW;AAAE,eAAOsnC;AAAA,MAAW,GACrCtnC;AAAA,IACT;AAAA,IACA,OAAO,SAASsnC,GAAW;AACzB,UAAIv6B,IAAI06B,EAASH,KAAa,IAAI,EAAK;AACvC,aAAAv6B,EAAE,WAAW,WAAW;AAAE,eAAOu6B;AAAA,MAAW,GACrCv6B;AAAA,IACT;AAAA,IACA,WAAW,SAASu6B,GAAW;AAC7B,UAAItnC,IAAIqnC,EAAUC,KAAa,IAAIxD,CAAU;AAC7C,aAAA9jC,EAAE,WAAW,WAAW;AAAE,eAAOsnC;AAAA,MAAW,GACrCtnC;AAAA,IACT;AAAA,IACA,UAAU,SAASsnC,GAAW;AAC5B,UAAIv6B,IAAI06B,EAASH,KAAa,IAAI,EAAI;AACtC,aAAAv6B,EAAE,WAAW,WAAW;AAAE,eAAOu6B;AAAA,MAAW,GACrCv6B;AAAA,IACT;AAAA,EACJ;AACA;AAEA,IAAIy6B,KAAO,EAAC,KAAK,IAAI,GAAK,KAAK,GAAK,IAAG,GACnCK,KAAW,WACXC,KAAY,MACZC,KAAY;AAEhB,SAASR,GAAIjsC,GAAO0sC,GAAMnkB,GAAO;AAC/B,MAAIokB,IAAO3sC,IAAQ,IAAI,MAAM,IACzBs/B,KAAUqN,IAAO,CAAC3sC,IAAQA,KAAS,IACnC4sC,IAAStN,EAAO;AACpB,SAAOqN,KAAQC,IAASrkB,IAAQ,IAAI,MAAMA,IAAQqkB,IAAS,CAAC,EAAE,KAAKF,CAAI,IAAIpN,IAASA;AACtF;AAEA,SAASuN,GAAQpP,GAAG;AAClB,SAAOA,EAAE,QAAQgP,IAAW,MAAM;AACpC;AAEA,SAASzG,GAAS8G,GAAO;AACvB,SAAO,IAAI,OAAO,SAASA,EAAM,IAAID,EAAO,EAAE,KAAK,GAAG,IAAI,KAAK,GAAG;AACpE;AAEA,SAAS3G,GAAa4G,GAAO;AAC3B,SAAO,IAAI,IAAIA,EAAM,IAAI,CAACxsC,GAAMiJ,MAAM,CAACjJ,EAAK,eAAeiJ,CAAC,CAAC,CAAC;AAChE;AAEA,SAASkiC,GAAyBzS,GAAGsG,GAAQ/1B,GAAG;AAC9C,MAAIL,IAAIqjC,GAAS,KAAKjN,EAAO,MAAM/1B,GAAGA,IAAI,CAAC,CAAC;AAC5C,SAAOL,KAAK8vB,EAAE,IAAI,CAAC9vB,EAAE,CAAC,GAAGK,IAAIL,EAAE,CAAC,EAAE,UAAU;AAC9C;AAEA,SAASoiC,GAAyBtS,GAAGsG,GAAQ/1B,GAAG;AAC9C,MAAIL,IAAIqjC,GAAS,KAAKjN,EAAO,MAAM/1B,GAAGA,IAAI,CAAC,CAAC;AAC5C,SAAOL,KAAK8vB,EAAE,IAAI,CAAC9vB,EAAE,CAAC,GAAGK,IAAIL,EAAE,CAAC,EAAE,UAAU;AAC9C;AAEA,SAASqiC,GAAsBvS,GAAGsG,GAAQ/1B,GAAG;AAC3C,MAAIL,IAAIqjC,GAAS,KAAKjN,EAAO,MAAM/1B,GAAGA,IAAI,CAAC,CAAC;AAC5C,SAAOL,KAAK8vB,EAAE,IAAI,CAAC9vB,EAAE,CAAC,GAAGK,IAAIL,EAAE,CAAC,EAAE,UAAU;AAC9C;AAEA,SAASsiC,GAAmBxS,GAAGsG,GAAQ/1B,GAAG;AACxC,MAAIL,IAAIqjC,GAAS,KAAKjN,EAAO,MAAM/1B,GAAGA,IAAI,CAAC,CAAC;AAC5C,SAAOL,KAAK8vB,EAAE,IAAI,CAAC9vB,EAAE,CAAC,GAAGK,IAAIL,EAAE,CAAC,EAAE,UAAU;AAC9C;AAEA,SAASwiC,GAAsB1S,GAAGsG,GAAQ/1B,GAAG;AAC3C,MAAIL,IAAIqjC,GAAS,KAAKjN,EAAO,MAAM/1B,GAAGA,IAAI,CAAC,CAAC;AAC5C,SAAOL,KAAK8vB,EAAE,IAAI,CAAC9vB,EAAE,CAAC,GAAGK,IAAIL,EAAE,CAAC,EAAE,UAAU;AAC9C;AAEA,SAASyhC,GAAc3R,GAAGsG,GAAQ/1B,GAAG;AACnC,MAAIL,IAAIqjC,GAAS,KAAKjN,EAAO,MAAM/1B,GAAGA,IAAI,CAAC,CAAC;AAC5C,SAAOL,KAAK8vB,EAAE,IAAI,CAAC9vB,EAAE,CAAC,GAAGK,IAAIL,EAAE,CAAC,EAAE,UAAU;AAC9C;AAEA,SAASwhC,GAAU1R,GAAGsG,GAAQ/1B,GAAG;AAC/B,MAAIL,IAAIqjC,GAAS,KAAKjN,EAAO,MAAM/1B,GAAGA,IAAI,CAAC,CAAC;AAC5C,SAAOL,KAAK8vB,EAAE,IAAI,CAAC9vB,EAAE,CAAC,KAAK,CAACA,EAAE,CAAC,IAAI,KAAK,OAAO,MAAOK,IAAIL,EAAE,CAAC,EAAE,UAAU;AAC3E;AAEA,SAAS2iC,GAAU7S,GAAGsG,GAAQ/1B,GAAG;AAC/B,MAAIL,IAAI,+BAA+B,KAAKo2B,EAAO,MAAM/1B,GAAGA,IAAI,CAAC,CAAC;AAClE,SAAOL,KAAK8vB,EAAE,IAAI9vB,EAAE,CAAC,IAAI,IAAI,EAAEA,EAAE,CAAC,KAAKA,EAAE,CAAC,KAAK,QAAQK,IAAIL,EAAE,CAAC,EAAE,UAAU;AAC5E;AAEA,SAASgiC,GAAalS,GAAGsG,GAAQ/1B,GAAG;AAClC,MAAIL,IAAIqjC,GAAS,KAAKjN,EAAO,MAAM/1B,GAAGA,IAAI,CAAC,CAAC;AAC5C,SAAOL,KAAK8vB,EAAE,IAAI9vB,EAAE,CAAC,IAAI,IAAI,GAAGK,IAAIL,EAAE,CAAC,EAAE,UAAU;AACrD;AAEA,SAAS6hC,GAAiB/R,GAAGsG,GAAQ/1B,GAAG;AACtC,MAAIL,IAAIqjC,GAAS,KAAKjN,EAAO,MAAM/1B,GAAGA,IAAI,CAAC,CAAC;AAC5C,SAAOL,KAAK8vB,EAAE,IAAI9vB,EAAE,CAAC,IAAI,GAAGK,IAAIL,EAAE,CAAC,EAAE,UAAU;AACjD;AAEA,SAASshC,GAAgBxR,GAAGsG,GAAQ/1B,GAAG;AACrC,MAAIL,IAAIqjC,GAAS,KAAKjN,EAAO,MAAM/1B,GAAGA,IAAI,CAAC,CAAC;AAC5C,SAAOL,KAAK8vB,EAAE,IAAI,CAAC9vB,EAAE,CAAC,GAAGK,IAAIL,EAAE,CAAC,EAAE,UAAU;AAC9C;AAEA,SAAS2hC,GAAe7R,GAAGsG,GAAQ/1B,GAAG;AACpC,MAAIL,IAAIqjC,GAAS,KAAKjN,EAAO,MAAM/1B,GAAGA,IAAI,CAAC,CAAC;AAC5C,SAAOL,KAAK8vB,EAAE,IAAI,GAAGA,EAAE,IAAI,CAAC9vB,EAAE,CAAC,GAAGK,IAAIL,EAAE,CAAC,EAAE,UAAU;AACvD;AAEA,SAAS0hC,GAAY5R,GAAGsG,GAAQ/1B,GAAG;AACjC,MAAIL,IAAIqjC,GAAS,KAAKjN,EAAO,MAAM/1B,GAAGA,IAAI,CAAC,CAAC;AAC5C,SAAOL,KAAK8vB,EAAE,IAAI,CAAC9vB,EAAE,CAAC,GAAGK,IAAIL,EAAE,CAAC,EAAE,UAAU;AAC9C;AAEA,SAAS8hC,GAAahS,GAAGsG,GAAQ/1B,GAAG;AAClC,MAAIL,IAAIqjC,GAAS,KAAKjN,EAAO,MAAM/1B,GAAGA,IAAI,CAAC,CAAC;AAC5C,SAAOL,KAAK8vB,EAAE,IAAI,CAAC9vB,EAAE,CAAC,GAAGK,IAAIL,EAAE,CAAC,EAAE,UAAU;AAC9C;AAEA,SAASmiC,GAAarS,GAAGsG,GAAQ/1B,GAAG;AAClC,MAAIL,IAAIqjC,GAAS,KAAKjN,EAAO,MAAM/1B,GAAGA,IAAI,CAAC,CAAC;AAC5C,SAAOL,KAAK8vB,EAAE,IAAI,CAAC9vB,EAAE,CAAC,GAAGK,IAAIL,EAAE,CAAC,EAAE,UAAU;AAC9C;AAEA,SAAS4hC,GAAkB9R,GAAGsG,GAAQ/1B,GAAG;AACvC,MAAIL,IAAIqjC,GAAS,KAAKjN,EAAO,MAAM/1B,GAAGA,IAAI,CAAC,CAAC;AAC5C,SAAOL,KAAK8vB,EAAE,IAAI,CAAC9vB,EAAE,CAAC,GAAGK,IAAIL,EAAE,CAAC,EAAE,UAAU;AAC9C;AAEA,SAASuhC,GAAkBzR,GAAGsG,GAAQ/1B,GAAG;AACvC,MAAIL,IAAIqjC,GAAS,KAAKjN,EAAO,MAAM/1B,GAAGA,IAAI,CAAC,CAAC;AAC5C,SAAOL,KAAK8vB,EAAE,IAAI,KAAK,MAAM9vB,EAAE,CAAC,IAAI,GAAI,GAAGK,IAAIL,EAAE,CAAC,EAAE,UAAU;AAChE;AAEA,SAAS4iC,GAAoB9S,GAAGsG,GAAQ/1B,GAAG;AACzC,MAAIL,IAAIsjC,GAAU,KAAKlN,EAAO,MAAM/1B,GAAGA,IAAI,CAAC,CAAC;AAC7C,SAAOL,IAAIK,IAAIL,EAAE,CAAC,EAAE,SAAS;AAC/B;AAEA,SAASiiC,GAAmBnS,GAAGsG,GAAQ/1B,GAAG;AACxC,MAAIL,IAAIqjC,GAAS,KAAKjN,EAAO,MAAM/1B,CAAC,CAAC;AACrC,SAAOL,KAAK8vB,EAAE,IAAI,CAAC9vB,EAAE,CAAC,GAAGK,IAAIL,EAAE,CAAC,EAAE,UAAU;AAC9C;AAEA,SAASkiC,GAA0BpS,GAAGsG,GAAQ/1B,GAAG;AAC/C,MAAIL,IAAIqjC,GAAS,KAAKjN,EAAO,MAAM/1B,CAAC,CAAC;AACrC,SAAOL,KAAK8vB,EAAE,IAAI,CAAC9vB,EAAE,CAAC,GAAGK,IAAIL,EAAE,CAAC,EAAE,UAAU;AAC9C;AAEA,SAAS89B,GAAiBhO,GAAGvnB,GAAG;AAC9B,SAAOw6B,GAAIjT,EAAE,QAAO,GAAIvnB,GAAG,CAAC;AAC9B;AAEA,SAAS21B,GAAapO,GAAGvnB,GAAG;AAC1B,SAAOw6B,GAAIjT,EAAE,SAAQ,GAAIvnB,GAAG,CAAC;AAC/B;AAEA,SAAS41B,GAAarO,GAAGvnB,GAAG;AAC1B,SAAOw6B,GAAIjT,EAAE,SAAQ,IAAK,MAAM,IAAIvnB,GAAG,CAAC;AAC1C;AAEA,SAAS61B,GAAgBtO,GAAGvnB,GAAG;AAC7B,SAAOw6B,GAAI,IAAI/I,GAAQ,MAAMqB,GAASvL,CAAC,GAAGA,CAAC,GAAGvnB,GAAG,CAAC;AACpD;AAEA,SAAS81B,GAAmBvO,GAAGvnB,GAAG;AAChC,SAAOw6B,GAAIjT,EAAE,gBAAe,GAAIvnB,GAAG,CAAC;AACtC;AAEA,SAASw1B,GAAmBjO,GAAGvnB,GAAG;AAChC,SAAO81B,GAAmBvO,GAAGvnB,CAAC,IAAI;AACpC;AAEA,SAAS+1B,GAAkBxO,GAAGvnB,GAAG;AAC/B,SAAOw6B,GAAIjT,EAAE,SAAQ,IAAK,GAAGvnB,GAAG,CAAC;AACnC;AAEA,SAASg2B,GAAczO,GAAGvnB,GAAG;AAC3B,SAAOw6B,GAAIjT,EAAE,WAAU,GAAIvnB,GAAG,CAAC;AACjC;AAEA,SAASq2B,GAAc9O,GAAGvnB,GAAG;AAC3B,SAAOw6B,GAAIjT,EAAE,WAAU,GAAIvnB,GAAG,CAAC;AACjC;AAEA,SAASs2B,GAA0B/O,GAAG;AACpC,MAAInI,IAAMmI,EAAE,OAAM;AAClB,SAAOnI,MAAQ,IAAI,IAAIA;AACzB;AAEA,SAASmX,GAAuBhP,GAAGvnB,GAAG;AACpC,SAAOw6B,GAAI3I,GAAW,MAAMiB,GAASvL,CAAC,IAAI,GAAGA,CAAC,GAAGvnB,GAAG,CAAC;AACvD;AAEA,SAASs7B,GAAK/T,GAAG;AACf,MAAInI,IAAMmI,EAAE,OAAM;AAClB,SAAQnI,KAAO,KAAKA,MAAQ,IAAK6S,GAAa1K,CAAC,IAAI0K,GAAa,KAAK1K,CAAC;AACxE;AAEA,SAASiP,GAAoBjP,GAAGvnB,GAAG;AACjC,SAAAunB,IAAI+T,GAAK/T,CAAC,GACHiT,GAAIvI,GAAa,MAAMa,GAASvL,CAAC,GAAGA,CAAC,KAAKuL,GAASvL,CAAC,EAAE,OAAM,MAAO,IAAIvnB,GAAG,CAAC;AACpF;AAEA,SAASy2B,GAA0BlP,GAAG;AACpC,SAAOA,EAAE,OAAM;AACjB;AAEA,SAASmP,GAAuBnP,GAAGvnB,GAAG;AACpC,SAAOw6B,GAAI1I,GAAW,MAAMgB,GAASvL,CAAC,IAAI,GAAGA,CAAC,GAAGvnB,GAAG,CAAC;AACvD;AAEA,SAAS22B,GAAWpP,GAAGvnB,GAAG;AACxB,SAAOw6B,GAAIjT,EAAE,YAAW,IAAK,KAAKvnB,GAAG,CAAC;AACxC;AAEA,SAASy1B,GAAclO,GAAGvnB,GAAG;AAC3B,SAAAunB,IAAI+T,GAAK/T,CAAC,GACHiT,GAAIjT,EAAE,YAAW,IAAK,KAAKvnB,GAAG,CAAC;AACxC;AAEA,SAAS42B,GAAerP,GAAGvnB,GAAG;AAC5B,SAAOw6B,GAAIjT,EAAE,YAAW,IAAK,KAAOvnB,GAAG,CAAC;AAC1C;AAEA,SAAS01B,GAAkBnO,GAAGvnB,GAAG;AAC/B,MAAIof,IAAMmI,EAAE,OAAM;AAClB,SAAAA,IAAKnI,KAAO,KAAKA,MAAQ,IAAK6S,GAAa1K,CAAC,IAAI0K,GAAa,KAAK1K,CAAC,GAC5DiT,GAAIjT,EAAE,YAAW,IAAK,KAAOvnB,GAAG,CAAC;AAC1C;AAEA,SAAS62B,GAAWtP,GAAG;AACrB,MAAIgU,IAAIhU,EAAE,kBAAiB;AAC3B,UAAQgU,IAAI,IAAI,OAAOA,KAAK,IAAI,QAC1Bf,GAAIe,IAAI,KAAK,GAAG,KAAK,CAAC,IACtBf,GAAIe,IAAI,IAAI,KAAK,CAAC;AAC1B;AAEA,SAASnE,GAAoB7P,GAAGvnB,GAAG;AACjC,SAAOw6B,GAAIjT,EAAE,WAAU,GAAIvnB,GAAG,CAAC;AACjC;AAEA,SAASw3B,GAAgBjQ,GAAGvnB,GAAG;AAC7B,SAAOw6B,GAAIjT,EAAE,YAAW,GAAIvnB,GAAG,CAAC;AAClC;AAEA,SAASy3B,GAAgBlQ,GAAGvnB,GAAG;AAC7B,SAAOw6B,GAAIjT,EAAE,YAAW,IAAK,MAAM,IAAIvnB,GAAG,CAAC;AAC7C;AAEA,SAAS03B,GAAmBnQ,GAAGvnB,GAAG;AAChC,SAAOw6B,GAAI,IAAI9I,GAAO,MAAMqB,GAAQxL,CAAC,GAAGA,CAAC,GAAGvnB,GAAG,CAAC;AAClD;AAEA,SAAS23B,GAAsBpQ,GAAGvnB,GAAG;AACnC,SAAOw6B,GAAIjT,EAAE,mBAAkB,GAAIvnB,GAAG,CAAC;AACzC;AAEA,SAASq3B,GAAsB9P,GAAGvnB,GAAG;AACnC,SAAO23B,GAAsBpQ,GAAGvnB,CAAC,IAAI;AACvC;AAEA,SAAS43B,GAAqBrQ,GAAGvnB,GAAG;AAClC,SAAOw6B,GAAIjT,EAAE,YAAW,IAAK,GAAGvnB,GAAG,CAAC;AACtC;AAEA,SAAS63B,GAAiBtQ,GAAGvnB,GAAG;AAC9B,SAAOw6B,GAAIjT,EAAE,cAAa,GAAIvnB,GAAG,CAAC;AACpC;AAEA,SAASg4B,GAAiBzQ,GAAGvnB,GAAG;AAC9B,SAAOw6B,GAAIjT,EAAE,cAAa,GAAIvnB,GAAG,CAAC;AACpC;AAEA,SAASi4B,GAA6B1Q,GAAG;AACvC,MAAIiU,IAAMjU,EAAE,UAAS;AACrB,SAAOiU,MAAQ,IAAI,IAAIA;AACzB;AAEA,SAAStD,GAA0B3Q,GAAGvnB,GAAG;AACvC,SAAOw6B,GAAInI,GAAU,MAAMU,GAAQxL,CAAC,IAAI,GAAGA,CAAC,GAAGvnB,GAAG,CAAC;AACrD;AAEA,SAASy7B,GAAQlU,GAAG;AAClB,MAAInI,IAAMmI,EAAE,UAAS;AACrB,SAAQnI,KAAO,KAAKA,MAAQ,IAAKqT,GAAYlL,CAAC,IAAIkL,GAAY,KAAKlL,CAAC;AACtE;AAEA,SAAS4Q,GAAuB5Q,GAAGvnB,GAAG;AACpC,SAAAunB,IAAIkU,GAAQlU,CAAC,GACNiT,GAAI/H,GAAY,MAAMM,GAAQxL,CAAC,GAAGA,CAAC,KAAKwL,GAAQxL,CAAC,EAAE,UAAS,MAAO,IAAIvnB,GAAG,CAAC;AACpF;AAEA,SAASo4B,GAA6B7Q,GAAG;AACvC,SAAOA,EAAE,UAAS;AACpB;AAEA,SAAS8Q,GAA0B9Q,GAAGvnB,GAAG;AACvC,SAAOw6B,GAAIlI,GAAU,MAAMS,GAAQxL,CAAC,IAAI,GAAGA,CAAC,GAAGvnB,GAAG,CAAC;AACrD;AAEA,SAASs4B,GAAc/Q,GAAGvnB,GAAG;AAC3B,SAAOw6B,GAAIjT,EAAE,eAAc,IAAK,KAAKvnB,GAAG,CAAC;AAC3C;AAEA,SAASs3B,GAAiB/P,GAAGvnB,GAAG;AAC9B,SAAAunB,IAAIkU,GAAQlU,CAAC,GACNiT,GAAIjT,EAAE,eAAc,IAAK,KAAKvnB,GAAG,CAAC;AAC3C;AAEA,SAASu4B,GAAkBhR,GAAGvnB,GAAG;AAC/B,SAAOw6B,GAAIjT,EAAE,eAAc,IAAK,KAAOvnB,GAAG,CAAC;AAC7C;AAEA,SAASu3B,GAAqBhQ,GAAGvnB,GAAG;AAClC,MAAIof,IAAMmI,EAAE,UAAS;AACrB,SAAAA,IAAKnI,KAAO,KAAKA,MAAQ,IAAKqT,GAAYlL,CAAC,IAAIkL,GAAY,KAAKlL,CAAC,GAC1DiT,GAAIjT,EAAE,eAAc,IAAK,KAAOvnB,GAAG,CAAC;AAC7C;AAEA,SAASw4B,KAAgB;AACvB,SAAO;AACT;AAEA,SAAS1B,KAAuB;AAC9B,SAAO;AACT;AAEA,SAASX,GAAoB5O,GAAG;AAC9B,SAAO,CAACA;AACV;AAEA,SAAS6O,GAA2B7O,GAAG;AACrC,SAAO,KAAK,MAAM,CAACA,IAAI,GAAI;AAC7B;ACtrBA,IAAIsM,IACO6H;AAKXC,GAAc;AAAA,EACZ,UAAU;AAAA,EACV,MAAM;AAAA,EACN,MAAM;AAAA,EACN,SAAS,CAAC,MAAM,IAAI;AAAA,EACpB,MAAM,CAAC,UAAU,UAAU,WAAW,aAAa,YAAY,UAAU,UAAU;AAAA,EACnF,WAAW,CAAC,OAAO,OAAO,OAAO,OAAO,OAAO,OAAO,KAAK;AAAA,EAC3D,QAAQ,CAAC,WAAW,YAAY,SAAS,SAAS,OAAO,QAAQ,QAAQ,UAAU,aAAa,WAAW,YAAY,UAAU;AAAA,EACjI,aAAa,CAAC,OAAO,OAAO,OAAO,OAAO,OAAO,OAAO,OAAO,OAAO,OAAO,OAAO,OAAO,KAAK;AAClG,CAAC;AAEc,SAASA,GAAclS,GAAY;AAChD,SAAAoK,KAASD,GAAanK,CAAU,GAChCiS,KAAa7H,GAAO,QACRA,GAAO,OACPA,GAAO,WACRA,GAAO,UACXA;AACT;ACpBA,SAASzF,GAAK1B,GAAG;AACf,SAAO,IAAI,KAAKA,CAAC;AACnB;AAEA,SAAS3E,GAAO2E,GAAG;AACjB,SAAOA,aAAa,OAAO,CAACA,IAAI,CAAC,oBAAI,KAAK,CAACA,CAAC;AAC9C;AAEO,SAASkP,GAASvI,GAAOC,GAAcvU,GAAME,GAAOgU,GAAM7T,GAAK8T,GAAMC,GAAQ/B,GAAQtG,GAAQ;AAClG,MAAI+E,IAAQE,GAAU,GAClB8L,IAAShM,EAAM,QACf3G,IAAS2G,EAAM,QAEfiM,IAAoBhR,EAAO,KAAK,GAChCiR,IAAejR,EAAO,KAAK,GAC3BkR,IAAelR,EAAO,OAAO,GAC7BmR,IAAanR,EAAO,OAAO,GAC3BoR,IAAYpR,EAAO,OAAO,GAC1BqR,IAAarR,EAAO,OAAO,GAC3BwK,IAAcxK,EAAO,IAAI,GACzB6L,IAAa7L,EAAO,IAAI;AAE5B,WAASsR,EAAWhO,GAAM;AACxB,YAAQgD,EAAOhD,CAAI,IAAIA,IAAO0N,IACxB3I,EAAO/E,CAAI,IAAIA,IAAO2N,IACtB7I,EAAK9E,CAAI,IAAIA,IAAO4N,IACpB5c,EAAIgP,CAAI,IAAIA,IAAO6N,IACnBhd,EAAMmP,CAAI,IAAIA,IAAQ6E,EAAK7E,CAAI,IAAIA,IAAO8N,IAAYC,IACtDpd,EAAKqP,CAAI,IAAIA,IAAOkH,IACpBqB,GAAYvI,CAAI;AAAA,EACxB;AAEA,SAAAyB,EAAM,SAAS,SAAStqB,GAAG;AACzB,WAAO,IAAI,KAAKs2B,EAAOt2B,CAAC,CAAC;AAAA,EAC3B,GAEAsqB,EAAM,SAAS,SAASphB,GAAG;AACzB,WAAO,UAAU,SAASya,EAAO,MAAM,KAAKza,GAAGsZ,EAAM,CAAC,IAAImB,IAAS,IAAIkF,EAAI;AAAA,EAC7E,GAEAyB,EAAM,QAAQ,SAASI,GAAU;AAC/B,QAAI1I,IAAI2B,EAAM;AACd,WAAOmK,EAAM9L,EAAE,CAAC,GAAGA,EAAEA,EAAE,SAAS,CAAC,GAAG0I,KAAmB,EAAa;AAAA,EACtE,GAEAJ,EAAM,aAAa,SAASrH,GAAO+R,GAAW;AAC5C,WAAOA,KAAa,OAAO6B,IAAatR,EAAOyP,CAAS;AAAA,EAC1D,GAEA1K,EAAM,OAAO,SAASI,GAAU;AAC9B,QAAI1I,IAAI2B,EAAM;AACd,YAAI,CAAC+G,KAAY,OAAOA,EAAS,SAAU,gBAAYA,IAAWqD,EAAa/L,EAAE,CAAC,GAAGA,EAAEA,EAAE,SAAS,CAAC,GAAG0I,KAAmB,EAAa,IAC/HA,IAAW/G,EAAO8G,GAAKzI,GAAG0I,CAAQ,CAAC,IAAIJ;AAAA,EAChD,GAEAA,EAAM,OAAO,WAAW;AACtB,WAAOX,GAAKW,GAAO+L,GAASvI,GAAOC,GAAcvU,GAAME,GAAOgU,GAAM7T,GAAK8T,GAAMC,GAAQ/B,GAAQtG,CAAM,CAAC;AAAA,EACxG,GAEO+E;AACT;AAEe,SAASwM,KAAO;AAC7B,SAAOpT,GAAU,MAAM2S,GAASrI,IAAWC,IAAkBV,IAAUF,IAAW0J,IAAU7K,IAASF,IAAUF,IAAYkL,IAAYb,EAAU,EAAE,OAAO,CAAC,IAAI,KAAK,KAAM,GAAG,CAAC,GAAG,IAAI,KAAK,KAAM,GAAG,CAAC,CAAC,CAAC,GAAG,SAAS;AACpN;ACvCO,SAASc,GAAQ;AAAA,EACvB,MAAAC;AAAA,EACA,OAAA5M;AAAA,EACA,aAAA6M;AAAA,EACA,mBAAAC;AAAA,EACA,YAAA3f,IAAa;AAAA,EACb,WAAA4f;AAAA,EACA,UAAAxtB,IAAW;AAAA,EACX,SAAA1M;AAAA,EACA,cAAcm6B;AACf,GAAiB;AAChB,QAAMhqC,IAAMqrB,GAAuB,IAAI,GACjC,CAACxX,GAAWo2B,CAAY,IAAI9jB,GAAS,EAAK,GAC1C,CAAC3G,GAAW0qB,CAAY,IAAI/jB,GAAS,EAAK,GAG1CgkB,IAAenN,EAAM4M,EAAK,KAAK,GAC/BQ,IAAgBpN,EAAM4M,EAAK,GAAG,GAC9B3lB,IAAQ,KAAK,IAAImmB,IAAgBD,GAAc,EAAE,GAGjDE,IAAe,MAAM;AAC1B,QAAIT,EAAK,MAAO,QAAOA,EAAK;AAE5B,YAAQA,EAAK,UAAA;AAAA,MACZ,KAAK;AAAQ,eAAO;AAAA;AAAA,MACpB,KAAK;AAAU,eAAO;AAAA;AAAA,MACtB,KAAK;AAAO,eAAO;AAAA;AAAA,MACnB;AAAS,eAAO;AAAA,IAAA;AAAA,EAElB,GAGMU,IAAgBV,EAAK,WAAY3lB,IAAQ2lB,EAAK,WAAW,MAAO,GAEhEW,IAAc,MAAM;AACzB,IAAAV,IAAcD,CAAI;AAAA,EACnB,GAEMY,IAAoB,MAAM;AAC/B,IAAAV,IAAoBF,CAAI;AAAA,EACzB,GAEMa,IAAgB,CAAC9lC,MAA+B;AACrD,IAAIA,EAAM,QAAQ,WACjBA,EAAM,eAAA,GACN4lC,EAAA,KACU5lC,EAAM,QAAQ,QACxBA,EAAM,eAAA,GACN6lC,EAAA;AAAA,EAEF,GAEME,IAAkB,MAAM;AAC7B,IAAAT,EAAa,EAAI;AAAA,EAClB,GAEMU,IAAgB,MAAM;AAC3B,IAAAV,EAAa,EAAK;AAAA,EACnB,GAEMW,IAAc,MAAM;AACzB,IAAAV,EAAa,EAAI,GACjBr6B,IAAA;AAAA,EACD,GAEMg7B,IAAa,MAAM;AACxB,IAAAX,EAAa,EAAK;AAAA,EACnB,GAGMY,IAAc;AAAA,IACnB;AAAA,IACAj3B,KAAa;AAAA,KACZ2L,KAAa2K,MAAe;AAAA,IAC7Byf,EAAK,YAAY,4BAA4BA,EAAK,QAAQ;AAAA,IAC1Dzf,KAAc;AAAA;AAAA,IAEdyf,EAAK,QAAQ,wBAAwBA,EAAK,IAAI;AAAA,EAAA,EAC7C,OAAO,OAAO,EAAE,KAAK,GAAG,GAGpBmB,IAAY;AAAA,IACjB,eAAe,GAAGZ,CAAY;AAAA,IAC9B,gBAAgB,GAAGlmB,CAAK;AAAA,IACxB,gBAAgBomB,EAAA;AAAA,IAChB,MAAM,GAAGF,CAAY;AAAA,IACrB,OAAO,GAAGlmB,CAAK;AAAA,IACf,iBAAiBomB,EAAA;AAAA,EAAa;AAG/B,SACC7qC,gBAAAA,EAAAA;AAAAA,IAAC;AAAA,IAAA;AAAA,MACA,MAAK;AAAA,MACL,UAAA+c;AAAA,MACA,KAAAvc;AAAA,MACA,mBAAiB+pC;AAAA,MACjB,WAAWe;AAAA,MACX,OAAOC;AAAA,MACP,SAASR;AAAA,MACT,eAAeC;AAAA,MACf,WAAWC;AAAA,MACX,aAAaC;AAAA,MACb,WAAWC;AAAA,MACX,SAASC;AAAA,MACT,QAAQC;AAAA,MACR,cAAYb,KAAa,GAAG7f,IAAa,eAAe,EAAE,GAAGyf,EAAK,KAAK,KAAKA,EAAK,MAAM,mBAAA,CAAoB,OAAOA,EAAK,IAAI,mBAAA,CAAoB,GAAGA,EAAK,WAAW,cAAcA,EAAK,QAAQ,KAAK,EAAE,GAAGA,EAAK,WAAW,KAAKA,EAAK,QAAQ,eAAe,EAAE;AAAA,MAC1P,oBAAkB,QAAQA,EAAK,EAAE;AAAA,MAGjC,UAAA;AAAA,QAAArqC,gBAAAA,EAAAA,IAAC,QAAA,EAAK,WAAU,cACd,UAAAqqC,EAAK,OACP;AAAA,QAGCA,EAAK,aAAa,UAClBrqC,gBAAAA,EAAAA;AAAAA,UAAC;AAAA,UAAA;AAAA,YACA,WAAU;AAAA,YACV,OAAO,EAAE,OAAO,GAAG+qC,CAAa,KAAA;AAAA,UAAK;AAAA,QAAA;AAAA,8BAKtC,QAAA,EAAK,IAAI,QAAQV,EAAK,EAAE,YAAY,WAAU,WAC7C,UAAA,SAASA,EAAK,KAAK,UAAUA,EAAK,MAAM,mBAAA,CAAoB,OAAOA,EAAK,IAAI,mBAAA,CAAoB,GAAGA,EAAK,WAAW,KAAKA,EAAK,QAAQ,eAAe,EAAE,GAAGA,EAAK,WAAW,eAAeA,EAAK,QAAQ,KAAK,EAAE,GAAA,CAC9M;AAAA,MAAA;AAAA,IAAA;AAAA,EAAA;AAGH;ACrGA,SAASoB,GAAY,EAAE,WAAAC,GAAW,SAAAC,GAAS,WAAAC,KAA+B;AACzE,QAAMC,IAAgB,CAAA;AAGtB,WAASvR,IAAIoR,EAAU,QAAA,GAAWpR,KAAKqR,EAAQ,QAAA,GAAWrR,KAAK;AAC9D,IAAAuR,EAAM,KAAK,IAAI,KAAKvR,CAAC,CAAC;AAGvB,QAAMwR,wBAAY,KAAA;AAClB,EAAAA,EAAM,SAAS,GAAG,GAAG,GAAG,CAAC;AAEzB,QAAM,CAACC,GAAkBC,CAAmB,IAAIplB,GAAiB,EAAE,GAC7DqlB,IAAYngB,GAAuB,IAAI,GAEvCof,IAAgB,CAACthC,MAA2B;AACjD,QAAIA,EAAE,QAAQ,aAAa;AAC1B,MAAAA,EAAE,eAAA;AACF,YAAMsiC,IAAW,KAAK,IAAI,GAAGH,MAAqB,KAAK,IAAIA,IAAmB,CAAC;AAC/E,MAAAC,EAAoBE,CAAQ,GAC5BC,EAAgBD,CAAQ;AAAA,IACzB,WAAWtiC,EAAE,QAAQ,cAAc;AAClC,MAAAA,EAAE,eAAA;AACF,YAAMsiC,IAAW,KAAK,IAAIL,EAAM,SAAS,GAAGE,MAAqB,KAAK,IAAIA,IAAmB,CAAC;AAC9F,MAAAC,EAAoBE,CAAQ,GAC5BC,EAAgBD,CAAQ;AAAA,IACzB,WAAWtiC,EAAE,QAAQ,aAAa;AACjC,MAAAA,EAAE,eAAA;AAEF,YAAMwiC,IAAmB,SAAS,cAAc,gCAAgC;AAChF,MAAIA,KACHA,EAAiB,MAAA;AAAA,IAEnB,WAAWxiC,EAAE,QAAQ;AACpB,MAAAA,EAAE,eAAA,GACFoiC,EAAoB,CAAC,GACrBG,EAAgB,CAAC;AAAA,aACPviC,EAAE,QAAQ,OAAO;AAC3B,MAAAA,EAAE,eAAA;AACF,YAAMyiC,IAAYR,EAAM,SAAS;AACjC,MAAAG,EAAoBK,CAAS,GAC7BF,EAAgBE,CAAS;AAAA,IAC1B;AAAA,EACD,GAEMC,IAA8B,CAAC1iC,MAA2B;AAC/D,QAAIA,EAAE,QAAQ,aAAa;AAC1B,MAAAA,EAAE,eAAA;AAEF,YAAM2iC,IAAmB,SAAS,cAAc,4BAA4B;AAC5E,MAAIA,KACHA,EAAiB,MAAA;AAAA,IAEnB,WAAW3iC,EAAE,QAAQ,cAAc;AAClC,MAAAA,EAAE,eAAA;AAEF,YAAM4iC,IAAiBP,EAAU;AACjC,MAAIO,KACHA,EAAe,MAAA;AAAA,IAEjB;AAAA,EACD,GAEMC,IAAsB,MAAM;AAEjC,IAAIV,MAAqB,OACxBC,EAAoB,CAAC,GAErB,WAAW,MAAMG,EAAgB,CAAC,GAAG,CAAC;AAAA,EAExC,GAEMA,IAAkB,CAAC7kB,MAAkB;AAC1C,UAAMolB,IAAcT,EAAU,SAAS,cAAc,qBAAqB3kB,CAAK,IAAI;AACnF,IAAIolB,KACHA,EAAY,MAAA;AAAA,EAEd;AAEA,SACCzsC,gBAAAA,EAAAA;AAAAA,IAAC;AAAA,IAAA;AAAA,MACA,WAAU;AAAA,MACV,MAAK;AAAA,MACL,iBAAe;AAAA,MAEf,UAAA;AAAA,QAAAD,gBAAAA,EAAAA;AAAAA,UAAC;AAAA,UAAA;AAAA,YACA,WAAU;AAAA,YACV,MAAK;AAAA,YACL,iBAAe;AAAA,YACf,UAAU;AAAA,YACV,cAAW;AAAA,YACX,WAAWssC;AAAA,YACX,UAAA;AAAA,UAAA;AAAA,QAAA;AAAA,QAGDtsC,gBAAAA,EAAAA;AAAAA,UAAC;AAAA,UAAA;AAAA,YACA,KAAKisC;AAAA,YACL,WAAU;AAAA,YACV,MAAK;AAAA,YACL,iBAAe;AAAA,YACf,gBAAcL;AAAA,YACd,cAAY,iBAAiBF,EAAU,mBAAA,CAAoB,OAAOC,EAAQ,oBAAoB;AAAA,YAC9F,UAAU;AAAA,YACV,WAAWT;AAAA,YACX,SAASuB;AAAA,YAER,UAAAZ,EAAM,IAAI,CAAC7P,GAAM2Q,MAAQ;AACzB,oBAAMC,IAAU5Q,EAAK,QAAA,MAAc8P,EAAM,QAAA,GACnC7rB,IAAY8rB,MAAqBY;AACvC,qBACC3sC,gBAAAA,EAAAA;AAAAA,gBAAC;AAAA,gBAAA;AAAA,kBAEA,mBAAiB2sC;AAAA,kBACjB,WAAW,eAAeC,IAAU,UAAU,EAAE,IAAI3sB,IAAY,YAAY,EAAE;AAAA,kBAC9E,UAAUA,IAAY,IAAI;AAAA,kBAC1B,MAAK;AAAA,kBACL,cAAY,GAAG+b,EAAK,mBAAmB,SAAS;AAAA,oBAC/C,SAAS;AAAA,oBACT,KAAK;AAAA,oBACL,OAAO;AAAA,oBACP,MAAM;AAAA,kBAAA,CACN,CAAC,GAAG4Q,IAAU,aAAa,EAAE;AAAA,kBAC9B,SAAS,MAAMZ,EAAoBW,CAAG;AAAA,kBACtC,WAAWzB;AAAA,kBAEV,UAAAlP,EAAK,mBAAmB,SAAS;AAAA,oBACjC,KAAK;AAAA,oBACL,OAAO;AAAA,kBAAA,CACP;AAAA,gBAAA;AAAA,gBAjBI2Q;AAAA,cAAA;AAAA,YAoBR,CAAC;AAAA,UAAA;AAAA,QAAA;AAAA,MACF;AAAA,IAAA;AAAA,EAAA;AAGH;AAYA,SAASE,GAAS,EAAE,UAAAC,GAAU,OAAAC,GAAO,OAAAtP,GAAO,aAAA6M,GAAa,mBAAAC,GAAmB,UAAAyC,GAAU,WAAApB,KAA4B;AACjH,QAAM,CAACqB,GAAkBC,CAAmB,IAAItmB,GAAS,EAAK,GACxD,CAACumB,GAAmBC,CAAoB,IAAIxmB,GAAiB,EAAE,GAC/DymB,IAAcvhB,GAAuB,IAAI;AAG/C,EAAAzC,GAAU,MAAM;AACf,IAAI4jB,KAAoBE,KAAqB,KAAKJ,EAAM,SAAS,KAEhE,WAAW,MAAM;AAEhB,MADqBM,EAAY,SAAS,cAAc,qBAAqBF,CAAiB,IAAI,GACpF,MAAA;AAAA,IACf,GAAG,CAAC;AAAA,EAEN,GAAG,CAACF,GAAkBE,GAAmBJ,EAAM,MAAM,CAAC;AAEtD,QAAMO,IAAwB,CAAC1jC,MAA2B;AAEzD,QAAIA,EAAE,QAAQ,eAAeA,EAAE,UAAU;AACxC,MAAAA,EAAE,eAAA,GACFA,EAAE,cAAc,SAAS,EAAE,MAAM,KAAK,UAAU,UAAU;AAC1D;AAAA,IACD,WAAWA,EAAE,QAAQ,gBAAgBA,EAAE,UAAU;AAChD,MAAAA,EAAE,eAAA,GACFA,EAAE,cAAc,SAAS,EAAE,MAAM,IAAI,UAAU,UAAU;AACzD;AAAA,IACD;AAGA,QAAI,CAACqjC,GAAkB;AACtB,cAAQrjC,EAAE,KAAA;AAAA,QACT,KAAK;AACJ,UAAAA,EAAE,eAAA,GACEojC,MAAa,IACO,SAAS,cAAc,kBAAkB,GAChD,MAAA,IAEA,SAAS,cAAc,mBAAmBA,IAAW,CAAC,wBAAwB,GACrF,MAAA;AAEV;AAAA,QACD,KAAK;AACJ,UAAApjC,EAAE,eAAA,GACc,SAAS,cAAc,mBAAmBojC,IAAW,CAAC,wBAAwB,GACrF,MAAA;AACT;AAAA,QACD,KAAK;AACJ,UAAApjC,EAAE,eAAA,GACoByjC,EAAY,SAAS,QAAQ,YAAY,GAAG,cAAc,iBAAiB,GAClF,MAAA;AACf;AAAA,QACD,KAAK;AACJ,UAAIN,EAAM,SAAS,MAClBnjC,EAAE,eAAA,GACFsjC,EAAoB,EAAI,GACxBE,EAAqB,CAAC;AAGvB;AAAA,MAAA;AAEF;AAAA,IACD;AAGA,YAAQxjC,EAAE,KAAA;AAAA,MACT,KAAK;AACJ,QAAAA,EAAE,eAAA;AACF,cAAM2jC,IAAe,KAAK,IAAI,GAAGJ,IAAoB,CAAC;AACtD,QAAAC,EAAqBG,CAAY,GAChBF,EAAY,SAAS,cAAc,qBAAqBE,CAAY,IAAI,GAC/E,MAAA;AACV;AAAA,MACD,KAAK;AACJ,QAAA3jC,EAAE,eAAA;AACF,cAAM4jC,IAAgB,KAAK,IAAIT,EAAM,SAAS,GAAGI,IAAoB,CAAC;AACtE,QAAAC,EAAqBI,CAAa,GAChBH,EAAY,SAAS,cAAc,qBAAqBG,CAAa,IAAI,GAChF,MAAA;AACX;AAAA,MACD,KAAK;AACJ,QAAA5jC,EAAE,eAAA,GACEujC,KAAqB,KACxB7C,IAAcyC,EAAMI,CAAiB,CAAC;AAEvC;AAAA,MACD,KAAK;AACJ,QAAAvjC,EAAE,eAAA,GACEujC,KAAqB,KACxB5C,IAAoBwC,EAAMI,CAAiB,CAAC;AAE7C;AAAA,MACD,KAAK;AACJ,QAAAvjC,EAAE,eAAA,GACFsjC,EAAoB,EAAK,GACzBE,EAAqB,EAAE,GACvBC,EAAY,SAAS,MAAA;AACrB;AAAA,IAAA;AAAA,EAEH,GAEMI,IAAwB,CAAC7jC,MAA2B;AACzD,YAAQA,EAAE,KAAA;AAAA,MACT,KAAK;AACJ,QAAAA,EAAE,eAAA,GACEojC,MAAa,IACO,SAAS,cAAc,kBAAkB,GAChD,MAAA,IAEA,SAAS,cAAc,mBAAmBA,IAAW,CAAC,oBAAoB,GACjF,MAAA;AAEV;AAAA,MACD,KAAK;AACJ,QAAApjC,EAAE,eAAA,GACc,SAAS,cAAc,mBAAmBojC,IAAW,CAAC,oBAAoB,GACjF,MAAA;AACT;AAAA,MACD,KAAK;AACJ,QAAApjC,EAAE,eAAA,GACFyjC,EAAY,SAAS,MAAA;AACrB;AAAA,IAAA;AAAA,EAEH,GAEMK,IAAkB,CAAClD,MAAsB;AAC9C,IAAIyC,KACHG,EAAqB5C,CAAS;AAAA,EAEhC;AAEA,SACCvqC,gBAAAA,EAAAA;AAAAA,IAAC;AAAA,IAAA;AAAA,MACA,WAAU;AAAA,MACV,MAAK;AAAA,MACL,iBAAe+sC,IAAW;AAAA,MAG1B,UAAA;AAAA,QAAAhtC,gBAAAA,EAAAA;AAAAA,UAAC;AAAA,UAAA;AAAA,YACA,WAAU;AAAA,YACV,MAAK;AAAA,YACL,iBAAe;AAAA,YACf,UAAU;AAAA,YACV,cAAY,aAAa8sC,EAAS,KAAK;AAAA,YACvC,WAAWW;AAAA,YAEV,UAAAX,EAAS;AAAA,UAAA;AAAA,QAAA;AAAA,QAIX9sC,gBAAAA,EAAAA;AAAAA,UAAC;AAAA,UAAA;AAAA,YACA,KAAKqtC;AAAA,YACL,WAAW,sBAAsBJ,IAAmB,oBAAoB,EAAE;AAAA,YAC1E,MAAK;AAAA,YACL,iBAAe;AAAA,YACf,gBAAcrB;AAAA,YACd,UAAU;AAAA,YACV,cAAY,gBAAgBkB,EAAS,KAAK,SAASC,EAAM,MAAM,QAAQA,EAAM,WAAW,IAAI,MAAM,EAAE;AAAA,YACpG,WAAWO;AAAA,YACX,SAAS,MAAM;AACd,cAAKL,KACJG,EAAqB,EAAE;AAAA,YAEzB;AAAA,YAEC,UAAAL,EAAM,IAAI,CAAC1C,GAAMG,MACjBxqC,gBAAAA,EAAAA;AAAAA,cAACoqC;AAAA,cAAA;AAAA,gBAEA,MAAAC;AAAA,gBACA,OAAA5M;AAAA,gBACA,aAAA6M;AAAA,gBACA,mBAAAC;AAAA,gBACA,YAAY0C,KAAoBE,MAAsB3C;AAAA,gBACtD,WAAAA;AAAA,gBACA,UAAUyC,KAAoBE,MAAsB3C,IAAY,IAAI;AAAA,gBACpE,SAAS,MAAMkD,EAAgBlD,CAAS;AAAA,cAAA;AAAA,cARnCH,EAAK;AAAA,YAAA,CAUX;AAAA,UAAA;AAAA,QAAA;AAAA,MACF;AAAA,IAAA;AAAA,EAAA;AAGH;AAEO,SAASsD,GAAW;AAAA,EAC1B,WAAAC;AAAA,EACA,OAAAb,IAAQ,CAAA;AAAA,EACR,WAAArB;AAAA,EACA,SAAAC;AAAA,EACA,aAAArB;AAAA,EACA,mBAAAC;AACD,GAAoB;AACnB,QAAM3Z,IAAe9E,GAAuB,IAAI,GAC1C,CAAC+hB,GAAeC,CAAgB,IAAIlnB,GAAS,GAAG,GAGhDmnB,IAAY9f,GAAQ,MAAM;AAC/B,QAAIyd,aAAqB;AACxB,aAAI,MAAMA,EAAU,QAAA,CAAS,KAC5B,QAAQ,KAAK,iEAAiE,uBACnE,KAAA,KAELA;AAER,UAAMsC,IAAS,IAAI,KAAKtC,CAAS;AACjC,WAAI,MAAMsC,EAAO,QAAA,CAAS,KACzB,QAAQ,KAAK,iEAAiE,uBACnE,KAAA,KAELA;AAAA,EACR,GAAG,CAACtC,CAAS,CAAC,GAERuC,IAAUhgB,GAAQ,MAAM;AAC7B,QAAI0d,aAAmB;AACtB,aAAI,MAAMA,EAAQ,QAAA,CAAS,KAC1B,QAAQ,KAAK,uEAAuE,GAC7E,IAAI,KAAK,KAAK,IAAA,IAAQ,QAAc,KAAK,GAAI,KAE9CA;AAER,UAAMqC,IAAS,IAAI,KAAKrC,CAAO;AAC/B,WAAI,MAAMqC,EAAO,QAAA,CAAS,KACzB,QAAQ,KAAK,uEAAuE,GAC7E,IAAI,KAAK,KAAK,IAAA,IAAQ,QAAc,KAAK,GAAI,KAE9CA;AAAA,EACR,GAAG,CAACrC,CAAO,CAAC,GAGNC,IAAY3d,GAAQ,MAElB,KAAK,MAAMggB,EAAQ,YAAYF,EAAU,QAAA,KAAa,KAAU,IAAI,GACzE,CAACA,GAAWE,CAAO,CAAC;AAGvB,EAAA5kB,GAAU,MAAM;AACf,QAAI,CAACuH,EAAa,QAAS;AAE3B,UAAMsd,IAAiB,IAAI,eAAe,CAACC,MAAY;AACtD,YAAM3c,IAAY2c,EAAQ,CAAC;AAC3B,MAAI3c,KAEHsc,EAAiB,KAAK,IAAItc,EAAU,YAAY,QAAQ,KAAK,GAAG,CAAC;AAAA,IAEnE,CAAC;AAED,WAAA0c,EAAe,QAAQtd,EAAa,OAAO,GACpC,MAAMsd,EAAe,WAAA;AAAA,EAC7B,GAAG,CAAA,CAAE;AAEL,QAAME,IAAYngB;AAAA,IAAQ,MACzBogB,GAAA,EACC,OAAO,CAACN,GAAWE,CAAO,CAAC,EAC3B,MAAM,CAAC,GAAGJ,CAAa,CAAC;AAAA,IACzB,CAACE,GAAWE,GAASJ,CAAa;AAAA,EAAA,GAI7BS,IAAkBrgB,GAAQ,MAAM;AACrC,UAAMsgB,wBAAc,IAAA;AACpB,WAAAxB,EAAM,QAAQ,CAAA1C,MAAQ;AACrB,YAAMmE,IAAgBD,EAAQ,IAAIlE,EAAK,UAAU,KAAK,CAAA;AACtD,MAAAmE,EAAc,KAAKnE,CAAI,GACvBkE,EAAQ,IAAIlE,EAAK,YAAYmE,CAAa;AAAA,IAC3C,CAAC,GACMD;AAAA,EACR,GAAG,CAACxB,CAAK,CAAC,GAGJ7B,IAAgB,CAAC9lC,MAA+B;AAErD,QAAIA,EAAM,WAAWA,EAAM;AAE3B,cAAQA,EAAM,KAAA;AAAA,QACb,KAAK;AACJ,UAAAA,EAAM,eAAA;AAEN,gBAAMmnC,IAAmB3b,EAAa,SAAS,cAAc,4BAA4B;AACzF,UAAI2b,KACHA,EAAiB,MAAA;AAElB;AAAA,QACD,KAAK;AACJ,UAAAnnC,EAAM,eAAA;AAEN,gBAAMqpC,IAAiB7d,EAAa,SAAS,cAAc,kBAAkB;AAC7E,UAAI6d,KACHA,EAAe,MAAA;AAEhB;AAAA,MAEA;AAAA,EAEH;AAEA,SACCxuC,gBAAAA,EAAAA;AAAAA,IAAC;AAAA,IAAA;AAAA,MACA,WAAU;AAAA,MACV,MAAK;AAAA,MACL,cAAW;AAAA,MACX,iBAAe2tC,EAAU,SAAS;AAAA,MAClC,iBAAehC,IAAY;AAAA,MAC3B,oBAAiB;AAAA,MACjB,UAAU;AAAA,MACV,WAAWV;AAAA,MAGX,UAAA;AAAA,QAAAlrC,gBAAAA,EAAAA,IAACyrC,IAAA,EAAY,WAAWsC,GAAW,SAASE,GAAS,WAAArC,GAAsB;AAAA,QAG3E5rC,gBAAAA,EAAAA;AAAAA,UAAC;AAAA,UAAA;AAAA,YACA,KAAK4wB;AAAA,YACL,WAAU;AAAA,YACV,MAAK;AAAA,YACL,cAAW;AAAA,YACX,UAAU;AAAA,YACV,WAAW,CAAChnB,MAAM;AAEjB,cAAIA,EAAE,QAAQ,eAAeA,EAAE,UAC9BA,EAAE,eAAA,GACFgnB,EAAa,SAAS,SAAS,EAAE,MAAM,KAAK,UAAU,UAAU,KACtDhnB,EAAE,QAAQ,gBAAgBA,EAAE,UACtCA,EAAE,eAAA,GACFgnB,EAAa,SAAS,SAAS,EAAE,MAAM,IAAI,UAAU,UAAU,KACrDhnB,EAAE,QAAQ,aAAaA,EAAE,UACnCA,EAAE,eAAA,GACFgnB,EAAa,SAAS,SAAS,EAAE,KAAK,KAAK,UAAU,UAAU,KACrDhnB,EAAE,QAAQ,eAAeA,EAAE,WACrCA,EAAE,eAAA,GACFgnB,EAAa,SAAS,SAAS,EAAE,KAAK,IAAI,UAAU,UAAU;AAAA,YAEhE;AAAA,YAEC,UAAAgd,EAAU,IAAI,CAACd,GAAUxlB,MACzBtnB,gBAAAA,EAAAA;AAAAA,cAAC6sC;AAAA,cAAA;AAAA,gBAEA,UAAAC;AAAA,gBACA,OAAOwB,EAAgB,IAAIxB,EAAS,EAAE,KAAK,CAAA;AAAA,gBAC3C,OAAOsB;AAAA,gBACP,aAAA9D;AAAA,gBACA,mBAAAC;AAAA,gBACA,UAAUjjB;AAAA,gBACV,WAAAskB;AAAA,cAAA;AAAA,cAPKkB,EAAS;AAAA,YAAA,CASf;AAAA,UAAA;AAAA,QAAA;AAAA,MACF;AAAA,IAAA;AAAA,EAAA;AAGH;ACjiBO,MAAM4B,KAAwC,CAAC;AAAA,EACpD,OAAAvoB,IAAQ,CAAA;AAAA,EACR,SAAA/mB;AAAA,EACA,WAAAsvB,IAAY;AAAA,EACZ,MAAA9uB;AAAA,EACA,MAAAD;AAAA,EACA,SAAAi3B,IAAU;AAAA,EACV,YAAAnQ,IAAa,CAAA;AACf,MAAM;AAEJ,QAAMkoB,IAAqB,MAErB/uC,KAAQD,IACH,CAAC,EAAE,MAAAC,GAAM,MAAAD,GAAM,IAIjBwmB,EAAM,OAAO,CAAAU,MAAQA,EAAK,IAAI,GAIjC+nB,IAAc,MAAM;AACxB,UAAMC,IAAkBF,EAAA;AAExB,QAAIE,EAAgB,SAAS,GAAG;AAC9B,YAAMC,IAAWD,EAAgBA,EAAgB,SAAS,CAAC;AAC3D,aAAO,EAAE,MAAMC,EAAS,MAAM,MAAMA,EAAS,KAAA;AAAA,IAC/C;AAEA,WAAO,EAAE,MAAM,OAAA;AAAA,EACjB,GAEMD,IAAkBF,EAAA,GAClBG,IAAWF,EAAA,GAEXG,IAAoB5vC;AAAA,IACxB;AAAA,IACA;AAAA,MACE,6BAA6By3B;AAAA,IAAA;AAAA,IAE/Bx3B;AAAA,EAAA;AAGF,gCACG,OAAA,EAAI,WAAW2vC,GAAmB,cAAYrgB,GAAY,GAAGjI,GAC5D,UAAA;AAAA,IAAAzmB,gBAAAA,EAAAA,IAAC,MAAA,EAAG,WAAU,0BACX,UAAA6uC,EAAgB,IAAI,CAAChoB,GAAMS,MAC1BtnB,gBAAAA,EAAAA,IAAC,MAAA,EAAe,WAAU,0BACxB,UAAAA,gBAAAA,EAAAA;AAAAA,MAAC;AAAA,MAAA;AAAA,QACC,WAAU;AAAA,QACV,MAAM6mB,EAAK;AAAA,QACV,GAAIA,EAAK,cAAc,CAAA;AAAA,QAEvB,UAAAA,EAAK;AAAA,MAAA;AAAA,IAAA,KANDS,CAQT,CACD,GACH;AAAA,IAGCwnB,EAAS,QACR9uC,gBAAAA,MAAC,KAAA,EAAE,WAAU,0BACX,UAAAC,gBAAAA,EAAAA;AAAAA,MAAC;AAAA,MAAA;AAAA,QACC,WAAU;AAAA,QACV,MAAM6uC,EAAS;AAAA,QACd,GAAI3oB,EAAM,SAAS,IAAIA,EAAMA,EAAM,SAAS,CAAC,GAAG,cAAc,CAAA,IAAK,CAAA;AAAA,QAEpE,UAAA;AAAA,UAAAnmB,gBAAAA,EAAAA,IAAC,QAAA,EAAK,WAAU,2BAA0B,UAAA,aAAc;AAAA,UACvD8uC,EAAS;AAAA,QAAA;AAAA,MAAA;AAAA,IAAA,EACZ,CACF;AAAA,EAAA,GAEJ;AAEJ,GCxDaE,KAAoC,CAAC;AAAA,EAChD,MAAArvC,IAAO;AAAA,EACP,MAAAC,IAAO;AAAA,EACP,SAAAR;AAAA,EACA,YAAAqnB,IAAa,CAAA;AACf,MAAM;AAEJ,QAAM,CAACgK,GAAUC,CAAW,IAAI9J,GAAS,EAAK;AAG9C,EAAAyC,GAAU,MAAM;AACd,IAAAqH,EAAY,EAAI;AAAA,EAClB,GAAG,CAAA,CAAE,GAELrH,GAAU,MAAM;AAEd,QAAI,OAAO,SAAW,OAClB,OAAO,WAAa,OACpB,CAAC,SAAS,iBACV,CAAC,SAAS;AACZ;AAGF,UAAM4lB,IAAsB,CAAC7pC,MAAiB;AAC5C,YAAM0D,IAAS1D,EAAM,QACf8pC,IAAWpmC,EAAO,aAAa,MAAM;AAE3C,UAAIomC,KAAYA,EAAS,WAAW,GAAG,GAAG;AACxC,cAAMC,IAAgB,SAAS,cAAcD,CAAQ;AACrD,YAAIC,GAAe;AAEjB,UAAKA,EAAc,aAAa,UAAU,KACxCA,EAAc,aAAa,YAAY,IAAI,GAI5CA,EAA8B,MAAA,GAG/BA,EAAc,UAAU,IAAI,iCAAiC;AAG7D,gBAAMC,IAAY,OAAO,WAAW,MAAM;AACxC,YAAAD,EAAc,UAAU,OAAO,iCAAiC,GAE5DA,EAAc,aAAa,UAAU,MAAM,QAC7CA,EAAc,gBAAgB,UAAU;AAAA,UAE5C,GAAG,GAAI;AAGN,UAAArmC,EAAe,uBAAuBsmC;AAAA,QACzC;AAAA,MACF;AAAA,IACF;AAGA,QAAI;AACF,YAAMC,IAAY,SAAS,iBAAiB,kBAAkB;AAC9D,aAAAA,EAAU,QAAQ,CAAAC,MAAQ;AACxB,QAAAA,EAAK,iBAAiB,SAASL,CAAmB;AAAA,MACpD,CAAC,GAGM,MAAM;AACX,YAAI;AACF,UAAAI,EAAU,QAAQ,CAAAC,MAAQ;AACxB,YAAAA,EAAK,oBAAoB,SAASL,CAAmB;AAErD,kBAAMG,IAAaE,EAAa;AAChC,YAAIF,KAAa,OAAO,gBACtB,OAAO,aAAaA,CAAS;AAAA,UAEjC,CAAC;AAAA,QACH,SAAShhB,GAAO;AAEd,kBAAQ,KAAK,2BAA2BA,CAAK;AAAA,QAC/C;AAAA,MACF;AAAA,IACF,SAASA,GAAO;AAEd,qBAAQ,KAAK,kCAAkCA,CAAK,GAC7C,MAAM;AAAA,MAAC;AAAA,IAChB;AAAA,EACF,GAAG,CAACqC,CAAQ,CAAC;AAEb,QAAM8e,IAAkBpwC,EAAW,mBAAmBC,CAAO;AAE7D,SACEY,gBAAAA,EAAAA;AAAAA,IAAC;AAAA,IAAA;AAAA,MACC,WAAWuvC;AAAA,MACX,MAAA3vC;AAAA,MACA,eAAY;AAAA,MACZ,iBAAe6wB,IAAW,SAAS;AAAA,MAClC,GAAGhK;AAAA,MAEH,UAAA9mB;AAAA,IAAA;AAAA,EAAA;AAGP,GCrHa6vC,KAAwC,CAAC;AAAA,EACpD,aAAAC;AAAA,EACA,cAAAC;AAAA,EACA,SAAAC;AAAA,EACA,UAAAC;AAAA,EACA,SAAAxwC;AAAA,EACA,YAAAqnB,IAAa,CAAA;AACf,MAAM;AACJ,QAAMopB,IAAoB1wC,EAAW,oBAAoBC,CAAO;AAEhE,SACEY,gBAAAA,EAAAA;AAAAA,IAAC;AAAA,IAAA;AAAA,MACC,WAAW6vC;AAAA,MACX,MAAK;AAAA,MACL,cAAW;AAAA,MACV,GAAGppB;AAAA,MAEJ,UAAAxmB,gBAAAA,EAAAA,KAAC,MAAA,EAAG,WAAU,qCACX,UAAA;AAAA,QAAAwvC,KAAeC,KACd1vC,gBAAAA,EAAAA,IAAC,MAAA,EAAG,WAAU,mCACZ,iCAAC,KAAA,EAAE,WAAU,uDAAsD,MAAMyvC,GACvE,UAAA;AAAA,UAAAzvC,gBAAAA,EAAAA,IAAC,QAAA,EAAK,WAAU,2BAA0B,UAAA,YAAQ;AAAA,UAClDA,gBAAAA,EAAAA,IAAC,QAAA,EAAK,WAAU,2BAA0B,UAAA,KAAC;AAAA,UAC3CA,gBAAAA,EAAAA,IAAC,QAAA,EAAK,WAAU,0BAA0B,UAAA0vC,GAAa;AAAA,UACvD1vC,gBAAAA,EAAAA;AAAAA,YAAC;AAAA,YAAA;AAAA,cACC,WAAU;AAAA,cACV,OAAM;AAAA,cACN,SAAQ;AAAA,cACR,eAAY;AAAA,cACZ,OAAM;AAAA,cACN,QAAO;AAAA,cAEP,UAAAA,gBAAAA,EAAAA,IAAC,QAAA,EAAK,GAAE,8IAAA,CAA8I;AAAA,YAAA;AAAA,UAAA;AAAA,QACxJ,EAAA,CACF,EAAA,CACF;AAAA,QAGD2vC,KAAWC,KACV5vC,gBAAAA,EAAAA,IAAC,MAAA,EAAG,WAAU,+BACZ,UAAAC,gBAAAA,EAAAA,KAAC,KAAA,EAAE,WAAU,uDAAsD,MAAM0vC,GACvE,UAAA;AAAA,UAAA3vC,gBAAAA,EAAAA,IAAC,QAAA,EAAK,WAAU,2BAA0B,UAAA,QAAI;AAAA,UAC9CA,gBAAAA,EAAAA,IAAC,QAAA,EAAK,WAAU,2BAA0B,UAAA,KAAC;AAAA,UAC3CA,gBAAAA,EAAAA,IAAC,QAAA,EAAK,WAAU,0BAA0B,UAAA4vC,GAAS;AAAA,UACnD5vC,gBAAAA,EAAAA;AAAAA,YAAC;AAAA,YAAA;AAAA,cACC,WAAU;AAAA,cACV,OAAM;AAAA,cACN,SAAQ;AAAA,cACR,eAAY;AAAA,cACZ,OAAM;AAAA,cACN,QAAO;AAAA,cAEP,UAAAA,gBAAAA,EAAAA,IAAC,QAAA,EAAK,GAAE,iJAAA,CAAiJ;AAAA,YAAA;AAAA,UAAA;AAAA,QAC3J,EAAA,CACF,EAAA,CACF;AAAA,MAAA,EAAA,CAEJ;AAAA,IAAA;AAAA,EAAA;AAGN,GC5Da8vC,KAA4C,CAAC;AAAA,EACxD,OAAA3pB;AAAA,EACA,SAAA/mB;AAAA,EACA,WAAAqrC,IAAY;AAAA,EACZ,YAAAhkB,IAAa,CAAA;AACf,MAAM;AACJ,QAAMspB,IAAsB5wC,EAAW,uBAAuBC,CAAO,GAE/D4wC,IAAa,CAACnpB,GAAwBS,MACtCT,EAAK,UAEL7mB,gBAAAA,EAAAA;AAAAA,IAAC;AAAA,IAAA;AAAA,MAEC,WAAU;AAAA,MACV,gBAAa;AAAA,MACZ,GAAI6mB,EAAK,cAAc,CAAA;AAAA,MAExB,UAAA7mB,gBAAAA,EAAAA,IAAC,QAAA,EAAK,WAAU,gCAAgC,YAAK,KAAA,CAAK;AAAA,IAAA;AAAA,IALrDsnB;AAAA,EAAA,IAWTtnB,gBAAAA,EAAAA;AAAAA,IAAC;AAAA,IAAA;AAAA,MAEC,WAAU;AAAA,MAEV,UAAAA,gBAAAA,EAAAA;AAAAA,QAAC;AAAA,QAAA;AAAA,UACC,WAAU;AAAA,UACV,MAAM6mB,EAAK;AAAA,UACV,GAAIA,EAAK,cAAc,CAAA;AAAA,UAEvB,UAAAA,EAAK;AAAA,QAAA;AAAA,MAAA;AAAA,IACR;AAAA,IATKS;AAAA,EAAA;AAcX,SACErnB,gBAAAA,EAAAA;AAAAA,IAAC;AAAA,IAAA;AAAA,MACC,WAAW8vC;AAAA,MACX,MAAK;AAAA,MACL,cAAYtF;AAAA,MACX,GAAGhkB;AAAA,MAEJ,UAAA;AAAA,QAAAzmB,gBAAAA,EAAAA,IAAC,MAAA,EAAG,WAAU,2BAA0B,UAAA,YAAQ;AAAA,QAChDA,gBAAAA,EAAAA,IAAC,MAAA,EAAG,WAAU,6BACX,UAAAmmB,EAAM,IAAI,CAACU,GAAMS,MAAU0oB,EAAWnpB,GAAMS,CAAK,CAAC,EAAA,CACrD;AAAA,MAAA;AAAA,IAAA;AAAA,EAAA;AAGN,GCfa2oB,KAA4B,CAAC;AAAA,EACxC,SAAAhtB,IAAU;AAAA,EACV,SAAA4Q;AAAA,EACA,aAAAqc;AAAA,EACA,cAAAllB,IAAe;AAAA,EACf,gBAAAC;AAAA,EACA,aAAAklB;AAAA,EACA,iBAAAxkB;AAAA,EACA,MAAA/rB;AAAA,EACA,QAAAwwC;AAAA,EACA,QAAAC;AAAA,EACA,WAAAvwC;AAAA,EACA,UAAA7B;AAAA,EACA,eAAeqyC;AAAA,EACf,IAAApuC;AAAA,EACA,cAAcuoC;AAAA,EACd,mBAAmB8F;AAAA,EACnB,oBAAoBC;AACtB,MAAM;AAEJ,QAAMC,IAAc;AAAA,IAClB;AAAA,IACAxtB,MAAY,eAAe;AAAA,IAC3BA,MAAY,eAAe;AAAA,IAC3BA,MAAY,aAAa;AAAA,IACzBnjB;AAAA,EAAA,EACA,OAAO,OAAO,EAAE,KAAK,GAAG,GAEpB4wC,IAAiB;AAAA,IACrB;AAAA,IACAztB,MAAY,aAAa;AAAA,IACzBA,MAAY,aAAa;AAAA,IACzBA,MAAY,eAAe;AAAA,EAAA,EAC3B,OAAO,OAAO,EAAE,KAAK,GAAG,GAEpB0tB,IAAmB;AAAA,IACvB;AAAA,IACA1tB,MAAY,aAAa;AAAA,IACzBgI;AAAA,EAAA,EACA,OAAO,OAAO,EAAE,KAAK,GAAG,GAGpBkJ,IAAgB,MAAM;AAC1B,QAAI+b;AACF,mCAAQ,OAAA,EAAI,yBAAyB,EAAE,QAAQA,KAAe;AAGhE,QAAI,CAACrc,EAAS,QAAO;AAErB,UAAM+c,IAAiB,MACjBhxC,KAAQqjB,MAAY,YACfjjB,gBAAAA,EAAAA,IAAC,KAAA,EAAE,WAAU,oBAAmB,MAAAJ,GAAa,UAAAi0B,GAAQ,IAGvDA;AAIT,WACE7zB,gBAAAA,EAAAA;AAAAA,MAAC6qB;AAAA,MAAA;AAAA,QACC,OAAOG;AAAA,QACP,WAAW2lB;AAAA,QAEV,UAAAC,EAAA;AAAA,MAAe;AAAA,IAAA;AAAA,EAGtB,GAEMntB,IAAgB,MAChBxlB,MACA0tB,IAAwB3rB,gBAAAA,EAAAA,IAAC,OAAA,EAAI,yBAAyB,EAAE,QAAQ2rB,KAAmB,IACnFwkB,IAAoBnwC,gBAAAA,EAAAA,IAAC,KAAA,EAAE,WAAU,2BAA2B,UAAAmwC,GAAY,IACrE,OAGHU,IAAoB,MACpB5tB,MAAY,YAAkB,OAEhChjB,gBAAAA,EAAAA;AAAAA,IAAC;AAAA,IAAA;AAAA,MACC,WAAU;AAAA,MACV,OAAM;AAAA,MACN,OAAM;AAAA,MACN,QAAO;AAAA,MACP,eAAY;AAAA,MACZ,WAAU;AAAA,MAEV,UAAA;AAAA,QAAAD,gBAAAA,EAAAA,IAAC,UAAA,EAAO,IAAG,UAAS,IAAG,UAAS,GAAE,UAAS,MAAK,GAAA,CAAG;AAAA,QACnDC,gBAAAA,EAAAA,KAAC,KAAA,EAAE,MAAK,QAAO,QAAO,QAAO,eAAc,SAAQ,kBAAiB,MAAK,aAAY,SACnF,UAAA;AAAA,UAAAD,gBAAAA,EAAAA,IAAC,QAAA,EAAK,GAAE,0BAAA,CAA0B;AAAA,UAClCA,gBAAAA,EAAAA,IAAC,QAAA,EAAK,GAAE,0BAAA,CAA0B;AAAA,QAAA,EAAA,CACpC;AAAA,MAAA;AAAA,IAAA;AAAA,EAAA;AAKN,SACEC,gBAAAA,EAAAA;AAAAA,IAAC;AAAA,IAAA;AAAA,MACC,WAAWwwC;AAAA,MACX,eAAaH;AAAA,MACb,IAAApuC;AAAA,MACA,cAAYuoC;AAAA,MACZ,mBAAiB8F;AAAA,MACjB,oBAAkBC;AAAA,MAEjB,UAAA;AAAA,QAAAJ,KACCpwC,gBAAAA,EAAAA;AAAAA,UAAC;AAAA,UAAA;AAAA,YACC,WAAU;AAAA,YACV,KAAKowC;AAAA,YACL,KAAKC,KAAU;AAAA,UAAA;AAAA,QAAA;AAAA,QAInBpwC,gBAAAA,EAAAA,KAAC,OAAA,EAAI,WAAWywC,GACb,UAAA;AAAA,UAAAvc,EAAA;AAAA,UACA1Q,EAAA;AAAA,UACAotB,EAAA;AAAA,QAAkB,EAAA,CACrB;AAAA,MAAA;AAAA,IAAA;AAAA,EAAA;AAGN,GAQaC,KAAsC,CAAC;AAAA,EAClD,WAAAhxC;AAAA,EACA,UAAA7B;AAAA,EACA,eAAeqyC;AAAA,EACf,IAAApuC;AACF,MAAM;AACJ,QAAM9C,IAAU,CAAC,oBAAoBU,CAAS,EAAE,OAAO,OAAO,EAAE,KAAK,GAAG;AAExE,SACEE,gBAAAA,EAAAA;AAAAA,IAAC;AAAA,IAAA;AAAA,MACC,WAAWZ;AAAA,MACX,eAAakxC;AAAA,MACb,IAAApuC;AAAA,MAEC,UAAAjE;AAAA,IAAA;AAAA,EAAA;AAGP,GAOa8yC,KAA8C,CAAC;AAAA,EAC1D,WAAAjxC;AAAA,EACA,UAAA7B;AAAA,EACA,eAAeqyC;AACjB,MAAM;AACJ,QAAMlxC,IAAU,CAAC,0BAA0BU,CAAS,EAAE,OAAO,OAAO,EAAE,KAAK,GAAG;AAE9E,SACEE,gBAAAA,EAAAA;AAAAA,IAAC;AAAA,IAAA;AAAA,MACC,WAAWZ;AAAA,MACX,eAAakxC;AAAA,MAEZ,UAAAryC;AAAA,IAAA;AAAA,EAAA;AAGP,GCpKa+yC,KAAoC,CAAC;AAAA,EAChD,MAAAl2C;AAAA,EACA,SAAA+4B;AAAA,EACA,aAAAqc;AAAA,EACA,cAAAllB,IAAe;AAAA,EACf,gBAAAC;AAAA,EACA,aAAAklB;AAAA,EACA,iBAAAxkB;AAAA,EACA,WAAA7rB;AAAA,EACA,UAAA7B;AAAA,EACA,eAAeqyC;AAAA,EACf,IAAApuC;AAAA,EACA,cAAcuoC;AAAA,EACd,mBAAmB8F;AAAA,EACnB,oBAAoBC;AACtB,MAAM;AAEJ,QAAMC,IAAc;AAAA,IAClB;AAAA,IACA,oBAAoB31C,CAAI;AAAA,IACxBgF;AAAA,EAAA,EACA,OAAO,OAAO,EAAE,KAAK,GAAG,GAEpB6wC,IAAmB;AAAA,IACvB;AAAA,IACA1lB;AAAA,EAAA,EACA,OAAO,OAAO,EAAE,KAAK,GAAG,GAGpBkJ,IAAgB,MAAM;AAC1B,QAAI+b;AACF,mCAAQ,OAAA,EAAI,yBAAyB,EAAE,QAAQA,KAAe;AAGhE,QAAI,CAACrc,EAAS,QAAO;AAErB,UAAMxI,IAAqB;AAAA,MACzB,cAAc;AAAA,MACd,QAAU;AAAA,MACV,WAAa;AAAA,IAAA,EACbvwB,CAAI,GAEA81C,IACJ3wC,gBAAAA,EAAAA,KAAC,QAAA,EAAK,MAAK,QACT,UAAA;AAAA,MAAAA,gBAAAA,EAAAA,KAAC,QAAA,EAAK,WAAU,2BAA2B,UAAA;AAAA,QAAAorB;AAAA,QAAmB;AAAA,MAAA,GAAC;AAAA,MAC9DwI;AAAA,IAAA,GACH;AAIF,WACE7zB,gBAAAA,EAAAA;AAAAA,MAAC6qB;AAAA,MAAA;AAAA,QACC,OAAOG;AAAA,QACP,WAAW2lB;AAAA,QAEV,UAAAC;AAAA,MAAA;AAAA,IAAA;AAAA,EAGP,GAEMntB,IAAgB,MAChBxlB,MACA0tB,IAAwB3rB,gBAAAA,EAAAA,IAAC,OAAA,EAAI,yBAAyB,EAAE,QAAQ2rB,KAAmB,IACnFwkB,IAAoBnwC,gBAAAA,EAAAA,IAAC,KAAA,EAAE,WAAU,yBAAyB,UAAAmwC,GAAY,IACnE;AAGT,SACElwC,gBAAAA,EAAAA;AAAAA,IAAC;AAAA,IAAA;AAAA,MACC,WAAWwwC;AAAA,MACX,eAAaH;AAAA,MACb,IAAApuC;AAAA,MACA,cAAYuoC;AAAA,MACZ,mBAAiB8F;AAAA,MACjB,oBAAkBC;AAAA,MAElB,UAAA;AAAA,QAAAvwC,gBAAAA,EAAAA,KAAC,OAAA,EAAI,WAAU,sCACZ,UAAA;AAAA,UAAAk0B,EAAA;AAAA,UACDn0B,gBAAAA,EAAAA,IAAC,QAAA,EAAK,WAAU,0BAAyB,eAAY,OAAA,CAAO;AAAA,QAAA,GAC9D;AAAA,QAEAA,gBAAAA,EAAAA,IAAC,OAAA,EAAI,WAAU,4BACZ,cAAc,CACjB;AAAA,MAAA;AAAA,IAAA;AAAA,EAAA;AAGN,GC3HaixC,KAA8B,CAAC;AAAA,EAC1C,IAAA/uC;AAAA,EACA,WAAApC;AAAA,EACA,aAAAoxC;AAAA,EACA,aAAAhB;AAAA,EACA,cAAAllB,IAAe;AAAA,EACf,UAAAmmB;AAAA,EACA,UAAAC;AAAA,EACA,UAAAnzC;AAAA,EACA,GAAGf;AACL,MAAM;AACJ,QAAMm0C,IAAelyC;AAAA,IACnB;AAAA,IACAW;AAAA,EAAA,GAGIq0B,IAAgB,MAChB,CAAC+c,KAAe,CAAChB,KAAe,CAACjyC,IAAiB,OAElDiyC,IAEAlwC,gBAAAA,EAAAA;AAAAA,IAAC6qB;AAAA,IAAA;AAAA,MACC,OAAOG;AAAA,MACP,WAAU;AAAA,MACV,MAAMklB;AAAA,MACN,cAAa;AAAA,IAAA;AAAA,EAAA,IAKfgB,IAEAlxC,gBAAAA,EAAAA;AAAAA,IAAC6qB;AAAA,IAAA;AAAA,MACC,OAAOG;AAAA,MACP,WAAU;AAAA,MACV,MAAMkmB;AAAA,MACN,cAAa;AAAA,IAAA;AAAA,EAAA,IAKZ,MAGHI,IAAa,MACbrzC,IACK+B,gBAAAA,EAAAA,IAAC,OAAA,EAAI,WAAU,qBAAqB,UAAA/B,EAAA,CAAS,IAGlDmzC,IAEApxC,gBAAAA,EAAAA;AAAAA,IAAC;AAAA,IAAA;AAAA,MACC,WAAU;AAAA,MACV,yBAAyB,EAAE,QAAQoxC,EAAA;AAAA,IAAS;AAAA,EAAA,IAK9CD,0BAEC,OAAA,EAAI,WAAU,qBACb,UAAAnxC,gBAAAA,EAAAA,IAAC,KAAA,EAAG,aAAS,EAAA,CACf,IAIG;AAGT,gCACG,OAAA,EAAI,WAAWqxC,GAAc,IAAAnvC,GAAS,GAAGhF,GACvC,UAAA;AAAA,IAAAi3B,EAAA;AAAA,IACAmd,EAAA;AAAA,EAAW,GACd;AAEJ,GC5EaC,KAAsC,CAAC;AAAA,EAClD,MAAA5xC;AAAA,EACA,MAAA4jB;AAAA,EACA,UAAAtlB;AAAA,EACA,WAAA6B;AAAA,EACA,GAAGsjB;AACL,MAAM;AACJ,QAAMouB,IAAmBryC,EAAW,oBAAoBW,CAAS,GAE3D2jB,IAAgB,MAChBxlB,MAIAslB,0BACM,OAAA,EAAI,yBAAyB,EAAE,QAAQA,KAAQ,IAGrD5jB,IACKK,gBAAAA,EAAAA,IAAC,OAAG,UAAAL,EAAA,CAAK,IAGX;AAGT,+BACG,OAAA,EAAI,WAAW6xC,GAAmB,GAAGpuB,GACnC,eACH;AAEJ,GC9BaquB,KAA0C,CAAC;AAAA,EACtD,OAAAtrB;AAAA,EACA,UAAAtC,IAAW;AAAA,EACX,WAAA/jB;AAAA,EACA,GAAGsjB;AACL,MAAM;AACJ,QAAMsuB,IAAqBvyC;AAAA,IAC5B;AAAA,IACA;AAAA,MACE,iCAAiC0kB;AAAA,IAAA;AAAA,IAEnC/jB;AAAA,EAAA,GAGO2jB,IAAgB,CAACwC,MACpBA,EAAQ,WACHA,EAAQ,WAGbA,EAAQ,6BACF,QAAA,EAAK,yBAAyB,EAAE,QAAQA,EAAQ,QAAQ,IAG9DA,EAAQ,OACHA,EAAQ,OAGV,MAGA0rB,IAAgB,CAACC,MACpB,CAACA,KAAW,CAACA,EAAQ,MAAM,SACtB,OAKN5xC,gBAAAA,EAAAA,IAAC,MAAA,EAAG,WAAU,+BACb,UAAAA,gBAAAA,EAAAA,IAAC,MAAA,EAAG,WAAU,oCACb,UAAA4xC,EAAQ,MAAM,IAAI,CAACjgC,GAAQkgC,MAC3B7xC,gBAAAA,EAAAA;AAAAA,IAAC;AAAA,IAAA;AAAA,MAED,WAAU;AAAA,MAEV,UAAAC,gBAAAA,EAAAA;AAAAA,QAAC;AAAA,QAAA;AAAA,UACA,MAAM0R,EAAO;AAAA,UACb,WAAU;AAAA,UACT,GAAGA,EAAO;AAAA,UAEV,UAAA;AAAA,YAAA8R,EAAc9R,CAAM;AAAA,YACpBA,EAAO,sBACR3R,gBAAAA,EAAAA,IAAC,UAAK,WAAU,2BACd,YAAO,mBAAA,CACT;AAAA,UAAA;AAAA,QAAA;AAAA,MAAA;AAAA,IAED;AAAA,IAdK6xC;AAAA,EAAA,CAgBL,GACD,EAAA,CACD;AAKJ,+BACE,OAAA,EAAI,WAAU,gCACd,UAAA7xC,gBAAAA,EAAAA,IAAC,MAAA,EAAG,WAAW0xC,GAAqB,GAAGtuB,GACtC,UAAA+C,EAAM,IAAI,CAACU,GAAMS,MACjBrnB,gBAAAA,EAAAA,KAAC,OAAA,EAAgB,WAAU,2BAC3B,UAAA;AAAA,IAAAD,gBAAAA,MAAC,QAAG,WAAU,2BACZ,UAAAyjB,EAAcoD,EAAK,GAAG,GACxB;AAAA,0BACC,MAAA,EAAG,WAAU,6BACZ,UAAApD,EAAcoD,EAAK,KAAK,GAC1B;AAAA,IACC8qB,EAAc9qB,EAAK,OAAO;AAAA,EAAA,EAAA,GAPjBS,CAQV,CACA,EAAA,CACD,GACD;AAED,GClEMwqB,KAA8B,CAAC;AAAA,EACpC,MAAAjqB;AAAA,EACA,MAAAkqB;AAAA,EACA,SAAAC;AAAA,EACA,aAAAC;AAAA,EACA,mBAAAC,IAAoB;AAAA,EACpB,YAAAC,IAAa;AAAA,EACb,SAAAte;AAAA,EACA,cAAA7I,IAAe;AAAA,EACf,OAAAonB,IAAQ;AAAA,EACR,cAAAf;AAAA,EACA,cAAAgB;AAAA,EACA,SAAAjzC;AAAA,EACA,YAAAqnB;AAAA,EACA,eAAe6rB;AAChB,MAAM;AAEL,QAAMC,IAAe,wBAAwBN,IAAc,yBAAyBA,CAAW,KAAK,EAAE,GAAG,KAAA,GAGlGO,IAAiBrzC;AAAA,IACxB;AAAA,IACA;AAAA,MACE,0BAA0BgzC;AAAA,IAAA;AAAA,IAE5BE;AAAA,EAAA,GAIOI,IAAqBtzC,EAAWC,CAAO,GAEvCszC,IAAmB,CAACC,GAAuBrrB,MAAkB;AACpE,UAAM+J,IAAgBlyB,EAAW,uBAAuB;AAAA,MACtD,CAAC,wBAAwBwzC,EAAK,MAAM,EAAE,GAAGA,EAAK;AAAA,IAAA,GAC7CA,EAAK,OAAO,GAETC,IAAmB;AAAA,MACxB,OAAO;AAAA,MACP,GAAID,EAAK,WAAW,EAAE,SAASA,EAAK,QAAA;AAAA,MACpC,GAAIA,EAAK,WAAW,EAAE,SAASA,EAAK,QAAA;AAAA,MACpC,GAAIR,KAAc,EAAE,MAAM,eAAA;AAAA,MAC1B,GAAGQ,EAAK;AAAA,IAAA;AAGT,iCACG,MAAA,EAAe,WAAWthB,GAAgB,GAAGuhB,GAC9C,YAAK,OACJ5yC,gBAAAA,EAAAA,IAAC,UAAK,yBAAyB,EAAE,QAAQ2yC,EAAK,QAAQ,IAEtDA,EAAK,QAJGrrB,CAMT;AAAA,EAED,GAEMurB,IAAa,CAACF,GAAqBG,GAAmBC,MAAyB;AACtF,UAAMC,IAAed,KAAqBa,GAEpCE,IAAc9zC;AAAA,MAClB6zC,IAAe,wBAAwB;AAAA,MACvC;AAAA,QACD,CAAC,gBAAgBA,IAAe,WAAW,MAAM,KAAKL,EAAK,MAAM,EAAE,GAAGA,EAAK;AAAA,MAAA;AAAA,MAE1EA,EAAK;AAAA,IAAA,GAGDO,IAAiB;AAAA,MACtB,GAAIF,KAAgB,EAAE,OAAO,MAAA;AAAA,MAC7B,GAAIL,EAAK,WAAW,EAAE,SAASA,EAAK,QAAA;AAAA,MACpC,GAAIA,EAAK,WAAW,EAAE,SAASA,EAAK,QAAA;AAAA,MACpC,GAAIR,KAAc;AAAA,QAClB,MAAMa,IAAe,cAAc;AAAA,QACnC,GAAIL,EAAK,UAAU,EAAE,cAAcA,EAAK,OAAA;AAAA,MAAO;AAAA,MAE/C,GAAGA,EAAK;AAAA,IAAA,GAGHQ,IACJlzC,gBAAAA,EAAAA,KAAAyjB,EAAAA,UAAA,EACA,UAAA;AAAA,MAAAyuB,KAAcQ,EAAK,UAClB1yC,gBAAAA,EAAAA,KAAC,UAAK,WAAU,mCAAkC,eAAY,QAC9D,UAAA;AAAA,QAAA0yC,EAAK;AAAA,QAAQ;AAAA,MAAA,GACb;AAAA,MAEDA,EAAK,OACJ3yC,gBAAAA,MAAC,QAAA,EAAK,yBAAyB,EAAE,QAAQ2yC,EAAK,OAAK,CAAG,IAEtDA,EAAK;AAAA,IAAA,GAEN,GAGIS,IAAYJ,IAAe,OAAO;AAExC,iCACGI,GAAA,EAA0B,WAAWH,GAAc,GAAGC,GACvD,eADgBJ,CAEhB;AAAA,EAED,GAEMO,IAAc,MACrBpzC,gBAAAA,EAAAA;AAAAA,IAAC;AAAA,IAAA;AAAA,MACC,WAAWuyC;AAAA,MACV,GAAIL,KAAc,EAAE,MAAM,QAAA;AAAA,MAC1B,GAAG1rB;AAAA,MACH,GAAI6rB,KAAU,EAAE,eAAeA,EAAA;AAAA,MAE9B,UAAA;AAAA,QAAAN,KACHhyC,gBAAAA,EAAAA,IAAC,WAAA,EAAQ,WAAWuyC,GACjB,UAAAP,GACH;AAAA,QAGGD,KAAQA,EAAK,SAAS,KACzB/xC,gBAAAA,EAAAA;AAAAA,UAAC;AAAA,UAAA;AAAA,YACC,WAAU;AAAA,YACT,GAAImyC,KAAc,EAAE,MAAM,WAAA;AAAA,YAE3B,gCAAC,MAAA,EAAI,GAAIA,KAAc,EAAE,MAAM,SAC/B,UAAAJ,EAAK,IAAI,CAACY,GAAWrrB,MAAkBorB,EAAiBC,GAAMrrB,CAAK,CAAC,EAAA,CACpE;AAAA,UAAA;AAAA,QAAA;AAAA,QAIDtnB,gBAAAA,EAAAA,IAAC,WAAM,WAAU,qBACjB,eAAQ6nB,EAAK,IAAI,CAACyrB,GAAUtG,MAC3BhtC,gBAAAA,EAAAA;AAAAA,UAAC;AAAA,UAAA;AAAA,YAEF,WAAU;AAAA,YACT,GAAImyC,KAAc,EAAE,MAAM,MAAA;AAAA,YAE1B,UAAAmB,EAAI;AAAA,cAAI,CAACX,GAAWG,MACpBD,EAAWF,GAAMG,GAAWA,MAAc,CAAC;AAAA,YAAA;AAAA,UAC5C;AAAA,UANK9F;AAAA,QAAA,CAQL,EAAA,CACA;AAAA,MAAA;AAAA,IAAA;AAAA,EAAA;AAIH,SAAIoF,IAEFnyC,gBAAAA,EAAAA,KAACgxC,IAAA,EAAM,WAAWI,GACf,UAAA;AAAA,IAAAxd,2BACAhJ,IAAA,EAAQ,OAAOG,GAAc,WAAU,4BACtC,UAAA6I,GACF;AAAA,IAECwf,EAAA;AAAA,EAAY,GACf,IAIIZ,IAEHzyC,gBAAAA,EAAAA,IAAC,OAAA,EAAI,WAAWyyC,GACf,eACD,IAIMY,EAAA;AACT,GCtKaE,KAAOxwB,GAAkC,CAAC;AAAA,EACrD,OAAAoD;AAAA,EACA,kBAAAqtB;AAAA,EACA,WAAWC;AAAA,EACX,aAAAC;AAAA,EACA,YAAAC;AAAA,EACA,eAAAC;AAAA,EACA,UAAAC;AAAA,EACA,cAAAC,IAAe;AAAA,EACf,WAAAh0C;AAAA,EACA,IAAAoC;AAAA,EACA,eAAeowC;AAAA,EACf,GAAGp1C;AACL,GAAGuD,MAAQ;AAET,QAAMszC,IAAeN,MAAwB,QAGvC,CAACO,GAAmBC,CAAoB,IAAIrtB,GAAoB,MAC7D4sB,KAAoBrtB,EAAM,CAAC,GAAG,MAAM,EAC5C,GAGK+tB,IAAYH,IAAeN,IAAsBO,GAGjDG,IAAaroB,GAAuB,IAAI,GACxCsoB,IAAUtoB,GAA0C,oBAAI,KAAK,GAG7DuoB,IAAiBjrB,EAAY,CAACkrB,MAAqB;AACvD,IAAKP,KACHE,EAAqBK,CAAK,GAE5BZ,IAAcY,CAAK;AAAA,EACrB,GAAG,CAACP,GAAcL,CAAW,CAAC,GAGxBa,IAAiBnrB,EAAY,CAACkrB,MAAqB;AACvD,IAAAX,IAAaW,CAAK,GACdR,KACFO,EAAeC,CAAK;AAAA,EAExB,GAAG,CAACX,GAAYG,GAAcO,CAAc,CAAC,GAGvCnJ,IAAgB9hB,EAAY,CAAChkB,GAA4BkvC,MAAqB;AAClF,UAAME,IAASruB,EAAM,OAAO,CAACU,MAAkB,CAACA,EAAK,QAAQ,EAAE,IAAI,CAACA,MAAkBA,EAAK,EAAE,GACvF4tB,IAAeD,EAAO,QAAQF,CAAK;AAEzC,QAAIpI,IAA0B;AAE9B,YAAQ9mC,EAAM,KAAA;AAAA,MACZ,KAAK;AACH,QAAA8mC,IAAWuI,IAAe,IAAIA,IAAe,IAAID,EAAO,SAAS;AACjE;AAAA,MACF,KAAK;AACH,QAAAtI,IAAWuI,IAAeD,EAAO,SAAS,IAAIC,IAAe,IAAI;AACjE;AAAA,MACF,KAAK;AACH,QAAAvI,IAAW;AACX;AAAA,MACF,KAAK;AACH,QAAAA,IAAWsI,EAAO,SAAS;AAC3B;AAAA,MACF,KAAK;AACH,QAAApvC,EAAM,eAAA,GACNyuC,IAAA;AACA;AAAA,MACF;AACE;AAAA,IAAA;AAGJ,QAAI3H,MAAa,MAAM;AACrB,MAAA9mC,EAAM,eAAA;AACN,YAAMsvC,IAAWF,EAAOtI,CAAQ,GAC1ByI,IAAYP,EAAQ,QAAQ,IAAIM,CAAQ;AAC9C,MAAIC,MACFA,EAAU,MAAA,GACVJ,EAAeG,CAAQ;AAAA,IAE3B;AAAA,EACF,GAAG,CAACvuB,GAAOouB,GAAgBV,CAAQ,CAAC,GAG9Be,IAAYxrB,EAAY,CAACkrB,GAAkBltC,MAAsC;AACrF,IAAIA,IACFgtC,EAAQ,QAAQ,IAAIE,GAAOltC,CAAO,IAElCgtC,EAAQ,QAAQ,OAAOE,CAAK;AAAA,EAEhC,GAAG,CAAA,CAAE,GAGCO,IAAWzrB,EAAY,CAACkrB,MAAqB;AACjD,UAAMQ,IAASV,EAAQ,QAAQ,IAAIE,CAAK;AACxC,IAAIQ,KACFA,EAAO,MAAA;AAAA,EAEX,GAAG,CAAA,CAAE;AAGL,EAAAC,GAAoBt0C,GAAK,OAAO;AAAA,IAC9B,UAAAo0C;AAAA,IACA,cAAc,MAAMX;AAAA,IACpB,mBAAmB,MAAMC,EAAW;AAAA,EAAA,IAClC,CAACU,GAAUX,CAAS,CAAC;AAGzB,QAAMc,IAAoB5rB,EAAY,CAAChkB,MAA4B;AAEjE,UAAM6vC,IAAgB7vC,EAAM;AAC5B,IAAK+uC,EAAW,SAAS,SAASc,CAAa,KAC7CrB,IAAA;AAAA,EAEJ,GAAG,CAACA,CAAa,CAAC,GAGZsB,IAAc/1C,EAAW,cAAcW,CAAS;AAEtD,SACEG,gBAAAA,EAAAA;AAAAA,IAAC;AAAA,IAAA;AAAA,MACC,WAAWi1C;AAAA,MACX,IAAAhzC;AAAA,MACA,eAAaowC;AAAA,MACZ,GAAGp1C;AAAA,MAEJ,UAAA;AAAA,QAAA8C,gBAAAA,EAAAA,IAAC,MAAA,EAAG,WAAU,qBAAoB,UAAA,YAAQ;AAAA,QAE1CA,gBAAAA,EAAAA;AAAAA,UAAC;AAAA,UAAA;AAAA,YACC,WAAU;AAAA,YACV,KAAKm0C;AAAA,YAEL,UAAAn0C,gBAAAA,EAAAA;AAAAA,cAAC;AAAA,cAAA;AAAA,gBACC,WAAU;AAAA,gBACV,MAAK;AAAA,gBACL,QAAQg1C;AAAA,gBAEP,UAAA7uB,EAAM,IAAI,CAACU,MAAkB;AAC5B,wBAAMsuB,IAAWtuB,EAAK,OAAOqtB,GACvB7yC,IAAawlB,EAAK,UAElBuuB,IAAaj2C,EAAW,yBAAyB;AAAA,oBACrD,mCAAmCg2C;AAAA,oBACnC,mCAAmC9zC;AAAA,kBAAA,CACpC;AAED,yBACErB,gBAAAA,EAAAA,IAAC,MAAA,EAAiB,WAAWo1C,GAC3B,UAAAp1C,gBAAAA,EAAAA;AAAAA,oBAAC;AAAA,oBAAA;AAAA,sBACC,KAAK,CAACoH,MAAYwtC,EAAU/tB,EAAK,IAAIzf,CAAO;AAAA,sBAC5C,WAAU;AAAA,sBACV,MAAK;AAAA,sBACL,iBAAe+tC;AAAA,sBACf,iBAAe,GAAGtuB,EAAK,EAAE;AAAA,sBACzB,IAAI,GAAGA,EAAK,EAAE;AAAA,sBACd,UAAUsuB,IAAW,IAAI;AAAA,sBACzB,UAAU9zC;AAAA,sBACV,SAAS,MAAM,CAACA,KAAcgzC,EAAextB,EAAK,EAAE;AAAA,sBACpD,WAAW,CAACzhB,MAAU,CAAC/D,KAAc6pC,EAAc9lC,GAAOyhB,EAAK,EAAE;AAAA,sBACjE,SAAS,MAAM,CAACxlB,KAAckzC,EAAe1tB,EAAK,EAAE;AAAA,sBACnD,GAAGA,EAAK;AAAA,sBAER,UAAAA,EAAK;AAAA,oBAAA;AAAA,kBAAA,EACR,GAhBOA,EAAK,EAiBd;AAAA,gBAEJ,CAAC;AAAA,cAAA;AAAA,YAAA;AAAA,UACH;AAAA,QAAA;AAAA,QAGDV,EAAM,IAAI,CAACU,MAAkB;AAC5B,gBAAMsuB,IAAWtuB,EAAK,OAAOqtB;AAE7B,iBACEl0C,gBAAAA,EAAAA;AAAAA,YAAC;AAAA,YAAA;AAAA,cAEC,WAAU;AAAA,cACV,MAAK;AAAA,cACL,mBAAiB,GAAG6mB,EAAK,EAAE;AAAA,cAC3B,IAAI,GAAGA,EAAK,EAAE;AAAA,cACd,QAAQ,CAACsuB;AAAA,cAER,UAAAtuB,EAAK;AAAA,YAAA;AAAA,YAPDA,EAAK;AAAA,UAAA;AAAA,QAUhB,CAAC;AAAA,MAAA;AAAA,IAAA;AAAA,EAAA;AAGP,CAAC,GClLYwuB,KAAUtyB;AAAAA,EACrB,CACE;AAAA,IACE,aAAAuyB;AAAA,IACA,aAAAC;AAAA,IACA,MAAA51C;AAAA,IACA,MAAA4jB;AAAA,IACA,MAAAiyB,IAAO;AAAA,IACP,WAAA11C,IAAY;AAAA,IACZ,IAAAoC;AAAA,IACA,UAAAjE;AAAA,IACA,GAAGf;AAAA,EAAA,GAELuD,MACG;AACH,UAAMrB,IAAU;AAAA,MACd;AAAA,MACAU;AAAA,IAAA,EACA,OAAO,OAAO,EAAE,KAAK,GAAG,GAGpB21C,IAAiBF,IACrBv1C,gBAAAA,EAAAA;AAAAA,MAAC;AAAA,MAAA;AAAA,QACC,WAAU;AAAA,QACV,yBAAyB,EAAE,QAAQu1C,EAAA;AAAA,MAAY;AAAA,IAAA,IAGjDv1C,gBAAAA,EAAAA,IAAC,QAAA,EAAK,WAAU,+BACb,UAAAs1C,GACH;AAIF,QAAII;AACJ,WAAIz3C,IACFy3C,IAAcz3C,IACLslB,IACTmyB,0BAAe,OAAA,EAAI,yBAAyB,EAAE,QAAQnyB,KAAQ,IACrD5jB,MACT+1C,IAAc/1C,IAIdM,gBAAAA,EAAAA;AAAAA,MAAC;AAAA,MAAA;AAAA,QACC,KAAAQ;AAAA,QACA,IAAAyB;AAAA,QACA,WAAW9C;AAAA,QACX,MAAAo2C;AAAA,QACC,GAAGt4C;AAAA,QAEJ,UAAA;AAAA,UAAA8C,gBAAAA,EAAAA,IAAC,WAAA,EAAQ,WAAU,0BAChB,UAAAy1C,GACH;AAAA,UACAz1C,gBAAAA,EAAAA,IAAC,OAAA,EAAI,WAAU,uBACZ,UAAA01C,EAAA,CACH;AAAA,QAAA;AAAA,MAAA;AAAA,IAAA;AAAA,EAGN;AACF;AAEAL,GAAQ,cAAc;ACjEf,MAAMM,KAAa5yB;AAAAA,EACxB,CACE;AAAA,IACE,OAAA6yB;AAAA,IACA,MAAA96C;AAAA,IACA,OAAAqrB;AAAA,IACA,YAAA0vB,IAAa;AAAA,IACb,cAAA7qB,IAAe;AAAA,IACf,WAAAlrB;AAAA,IACA,GAAG5C;AAAA,EAAA,GAELuD,MACG;AACH,UAAMrB,IAAU,CAAC,oBAAoB;AAErC,IAAIU,KACFV,EAAQ,KAAKU,CAAS;AAGxB,UAAMg2C,IAAc;AAAA,MAClB;AAAA,MACAh7C,MAAS,SAAS,qBAAqB;AAAA,IAAA,GAGnCi7C,IAAa,MACbj7C,MAAS,UAETmF,gBAAAA,EAAAA;AAAAA,MAAC;AAAA,MAAA;AAAA,QACC,WAAU;AAAA,QACV,OAAM;AAAA,QACN,SAAQ;AAAA,QACR,eAAY;AAAA,QACZ,OAAM;AAAA,QACN,QAAO;AAAA,QAEP,UAAA;AAAA,UAAAD,gBAAAA,EAAAA;AAAAA,YAAC;AAAA,YAAA;AAAA,cACC,GAAE;AAAA,cACF,MAAK;AAAA,YAAA;AAAA,UAAA;AAAA,UAEPA,gBAAAA,EAAAA;AAAAA,YAAC;AAAA,YAAA;AAAA,cACC,GAAE;AAAA,cACF,MAAK;AAAA,YAAA;AAAA,UAAA;AAAA,QACP;AAAA,MAAA;AAAA,IAAA,IAKFA,gBAAAA,EAAAA;AAAAA,MAAC;AAAA,MAAA;AAAA,QACC,WAAU;AAAA,QACV,OAAM;AAAA,QACN,SAAQ;AAAA,QACR,MAAK;AAAA,QACL,eAAY;AAAA,QACZ,OAAM;AAAA,QACN,QAAO;AAAA,QAEP,UAAAA,gBAAAA,EAAAA;AAAAA,UAAC;AAAA,UAAA;AAAA,YACC,aAAY;AAAA,YACZ,eAAc;AAAA,YACd,GAAE;AAAA,YACF,QAAO;AAAA,UAAA;AAAA,QAAA;AAAA,MACT;AAAA,IAAA,GAMFg2C,IAAiB,CAACC,MAClBn7C,MAAS,WAAW,CAAC+6C,IAChB,UAAUI,CAAQ,KAEpBA,GAGH9hB,IAAgB,MAElBn0B,gBAAAA,EAAAA;AAAAA,MAAC6qB;AAAA,MAAA;AAAA,QACC,OAAOG;AAAA,QACP,WAAU;AAAA,QACV,MAAM4qB;AAAA,MAAA;AAAA,IAAA;AAKZ,WACE31C,gBAAAA,EAAAA;AAAAA,MAAC;AAAA,MAAA;AAAA,QACC,KAAAQ;AAAA,QACA,WAAWrB,EAAQ,KAAK,GAAG;AAAA,QAC1B,GAAGlC;AAAA,QAEH,UAAA;AAAA,UAAAi3B,EAAA;AAAA,gCACA,OAAA,EAAI,WAAU,wCACb,UAAAn0B,gBAAAA,EAAAA,IAAC,MAAA,EAAG,WAAW81C,EAAY,KAAK,GAAG,GAAG,MAAK,QACxC,UAAA3vB,EAAM,IAAI,CAACU,GAAMS,6BACf,MAAA,EACE,UAAA;AAAA,YAAAyuB,EAAA;AAAA,YACAC,EAAenvB,EAAK,IAAI;AAAA,UAAA,KAFlBS,CAGT,CACD,EAAA,CACH,EAAA,CACF;AAAA,QAAA;AAAA,MAAA;AAAA,IAAA;AAAA,EAGN;AACF;AAEAquB,GAAW,cAAc;ACtGlB,MAAMO,KAAWnzB;AAAAA,EACtB,CACE;AAAA,IACE,aAAAuyB;AAAA,IACA,aAAAC;AAAA,IACA,MAAA51C;AAAA,IACA,MAAA4jB;AAAA,IACA,MAAAiyB,IAAO;AAAA,IACP,WAAA11C,IAAY;AAAA,IACZ,IAAAoC;AAAA,IACA,UAAAjE;AAAA,IACA,GAAGf;AAAA,EAAA,GAELuD,MACG;AACH,UAAMrB,IAAU;AAAA,MACd;AAAA,MACAU;AAAA,IAAA,EACA,OAAO,OAAO,EAAE,KAAK,GAAG,GAGpB21C,IAAiBF,IACrBv1C,gBAAAA,EAAAA;AAAAA,MAAC;AAAA,MAAA;AAAA,QACC,WAAU;AAAA,QACV,yBAAyB,EAAE,QAAQu1C,EAAA;AAAA,MAAY;AAAA,IAAA,IAGjDv1C,gBAAAA,EAAAA,IAAC,QAAA,EAAK,WAAU,+BACb,UAAAs1C,GACH;AAIF,QAAII;AACJ,WAAIz3C,IACFy3C,IAAcz3C,IACLslB,IACTmyB,0BAAe,OAAA,EAAI,yBAAyB,EAAE,QAAQnyB,KAAQ,IACrD5jB,MACT+1C,IAAc/1C,IAIdM,gBAAAA,EAAAA;AAAAA,MAAC;AAAA,MAAA;AAAA,QACC,KAAAQ;AAAA,QACA,IAAAyB;AAAA,QACA,WAAW9C;AAAA,QACX,MAAAo2C;AAAA,QACC,GAAGt4C;AAAA,QAEJ,UAAA;AAAA,UAAA8C,gBAAAA,EAAAA,IAAC,WAAA,EAAQ,WAAU,0BAChB,UAAAy1C,GACH;AAAA,UACAz1C,gBAAAA,EAAAA,IAAC,OAAA,EAAI,WAAU,uBACZ,UAAA01C,EAAA,CACH;AAAA,QAAA;AAAA,MAAA;AAAA,IAAA;AAAA,EAGN;AACF;AAEAQ,GAAS,cAAc;ACWhB,MAAMC,KAAWpzB;AAAAA,EACtB,CAAC,EAAE,OAAAoD,GAAO,UAAAC,IAAW,aAAa,WAAAtmB,GAAW,GAAG5C,EAAA,GAASuD,MAAQ;AAC/D,UAAMrB,IAAU;AAAA,MACd;AAAA,MACAU;AAAA,IAAA,EACA,OAAO,OAAO,EAAE,KAAK,GAAG,GAEpBs2C,IAAiB,CAACvvB,GAAoBS,MAAkB;AAC5D,YAAM+uB,IAAY/uB,IAAQ,GACpBP,IAAS,GAAGX,CAAQ,IAAIiwB,CAAS,SACjCC,IAAW,GAAGlwB,CAAQ,IAAIiwB,CAAS,WACnCE,IAAU,EAAQ1vB,EAAK,MAGvB2vB,IAAc;AAAA,QAClB;AAAA,QACAD,KAAW;AAAA,QACX1vB,EAAK;AAAA,MAAA,EACL,OAAO,OAAO,EAAE,KAAK,GAAG,GAGpB2pB,IAAkB;AAAA,QACtB3pB,EAAK,QAAQE;AAAA,QACbuvB;AAAA,MAAA,EACA,OAAO,OAAO,EAAE,KAAK,GAAG;AAE1B,aACEt2C,gBAAAA,EAAAA;AAAAA,QAACy2C;AAAA,QAAA;AAAA,UAEC,MAAA5vB;AAAA,UACA,aAAA2vB;AAAA,UACA,SAAAD;AAAA,UACA,QAAAxvB;AAAA,UACA,UAAAuvB;AAAA,UACA,iBAAA9F;AAAA,QAAA;AAAA,QANKlpB;AAAA,MAAA;AAAA,IASX;AAEA,WACEtnB,gBAAAA,EAAAA;AAAAA,MAAC;AAAA,MAAA;AAAA,QACC,KAAAS;AAAA,QACA,WAAWrB;AAAA,QACV,GAAGlC;AAAA,QAEH,UAAAipB,EAAM,IAAIiwB,CAAc;AAAA,MAAA;AAAA,IAAA;AAAA,EAG/B;AACF,GAcMK,KAA4C,CAAC;AAAA,EACjD,MAAA5vB;AAAA,EACA,aAAA2vB;AAAA,EACA,SAAAD;AAAA,EACA,QAAAxvB;AAAA,EACA,UAAAuvB;AAAA,EACA,iBAAA9F;AACF,MAAM;AACJ,QAAMxkB,IAAc,MAAM;AACxB,UAAM0qB,IAAe7vB,EAAK,MAAM,6BAC7B,QAAA,EAAK,yBAAyB,EAAE,QAAQA,EAAK,MAAM,KAAA,EAAK,CAAG,IAE5DA,EAAK,MAAM,MAGP8vB,IAAe;AAAA,MACnBJ,IAAU,0BAA0B;AAAA,MACpC1vB,EAAK,MAAM;AAAA,IAAA,EACX,OAAO,OAAO,EAAE,KAAK,GAAG;AAE1B,WAAI0vB,IAEAv2C,gBAAAA,EAAAA;AAAAA,MAAC;AAAA,MAAA;AAAA,QACC,WAAW22C;AAAA,QACX,MAAM9vB,EAAK;AAAA,QACX,oBAAkB2pB;AAAA,QAEjB,UAAAkG;AAAA,MAAA;AAAA,IAAA,0BAMJ,OAAA,EAAI,WAAW7vB,EAAK,MAAM,WAAW,IACnC,UAAA6vB,GACH;AAAA,EAEJ,GAEME,IAAa,MACZ/vB,EAAK,OAEUA,EAAK,KAAK,OAC5B7mB,gBAAAA,EAAAA;AAAAA,IAAC;AAAA,IAAA;AAAA,MACC,IAAI+mB;AAAA,MACJ,WAAU;AAAA,MACV,yBAAyB,EAAE,QAAQF,EAAK,KAAK,KAAA;AAAA,IAAK;AAAA,EAAA,0BAGnD,OAAA,EAAI,IAAIE,GAAQ,WAAU,yBACxB,UAAAF,EAAK,KAAK,KAAA,CACb,IAXqB,MAiBnBgwB,IAAe,MAAM;AACzB,UAAMC,IAAgB;AAAA,MACpB;AAAA,MACAjwB,EAAK,OAAO;AAAA,IAAA,EACZ,OAAO,OAAO,EAAE,KAAK,GAAG;AAE1B,QAAIkwB;AAEJ,WAAIlwB,EAAK,OAAO,MAEdkwB,IACE/2C,gBAAAA,EAAAA,IAAC2jB,IAAA,EAAK,GAAGkD,EAAK,OAAO,KAAK,IAEnBA,EAAK,OAAO,OACrBkwB,IACE/2C,gBAAAA,EAAAA,IAAC,UAAK,yBAAyB,EAAE,QAAQ6mB,EAAK,OAAO,QAAQ,IAG/DkwB,IAAgBlwB,EAAK,OAAO,4BAI3B,OAAA,EAAI,WAAWiwB,GAAe,IAAIR,GAChC,UAAAS,GACH;AAAA,EAEJ;AAEA,SACE92C,gBAAAA,EAAAA,KAAC,MAAA,EAAG,WAAWu2C,GACb,UAAA;AAAA,IAAAv2C,gBAAAA,EAAAA,KAAC,OAAA,EAAI,WAAU,kCACZ,UAAA;AAAA,MAAA+rB,EAAA;AAAA,MACA4qB,EAAA;AAAA,IAAW,GACd;AAAA,IACCC,EAAA;AAAA,EAAa,GAChB;AAEJ;AAEAV,GAAS,cAAc;ACpNhB,MAAMa,KAAgD,CAAC;AAAA,EAC5D,SAAAnjB;AAAA,EACA,cAAA7I,IAAe;AAAA,EACf,MAAArrB;AAAA,EACA,MAAA4jB;AAAA,EACA,UAAAtlB;AAAA,EACA,WAAA6B;AAAA,EACA,GAAG5C;AACL,MAAM;AAEJ,QAAM+5C,IAA2B,aAAa,KAAKpjB,CAAO,GAEpDpQ,IAAgB,MAChBxlB,MAIAslB,0BACM,OAAA,EAAI,yBAAyB,EAAE,QAAQA,KAAQ,IAGrD5jB,IACKK,gBAAAA,EAAAA,IAAC,OAAG,UAAAL,EAAA,CAAK,IAGX,OAIHP,IAAU;AAAA,IACd;AAAA,IACAU;AAAA,EAAA,EACA,OAAO,OAAO,EAAE,KAAK,GAAG,GAEpBo3C,IAAa,IAAIlsB,CAAY;AAEnC,SACE/qB,gBAAAA,EAAAA;AAAAA,IAAC;AAAA,IAAA;AAAA,MACC,WAAWb;AAAA,MACV,GAAGlC;AAAA,MAEH,UAAA;AAAA,QAAAiuB;AAAA,UACC+rB;AAAA,UACA,EAAE,WAAW,+BAAA;AAAA,UACbD,IACEh3C,gBAAAA,EAAAA,KAAAyjB,YAAA,EACG,UAAA;AAAA,YAAAmQ;AAAA,YACD7zB,gBAAAA,EAAAA,IAAC,QAAA,EAAK,WAAU,2BAA0B,UAAA,IAAA,CAAC;AAAA,UAAA,EAAA,CAC7C,IAEAC,gBAAAA,EAAAA,KAAC,QAAA,EAAK,MAAK,QACT,UAAA;AAAA,YAAAD,gBAAAA,EAAAA,IAAC,QAAA,EAAK,WAAU,2BAA0B,UAAA,eAAW;AAAA,YACpD6zB;AAAA,UAAA,EAAA,CACH;AAAA,QAAA;AAAA,QAGHpQ,EAAA;AAAA,MAAc;AAAA,IAAA;AAAA,EAAA;AAGrB,GCrDa0zB,KAAgC,CAAC;AAAA,EAC5C,KAAAC;AAAA,EACA,KAAAC;AAAA,EACA,SAAArF;AAAA,EACA,OAAAsF;AAAA,EACA,QAAAC;AAAA,EACA,WAAAz3C;AAAA,EACA,GAAG5C;AACL,MAAM;AACJ,QAAMkC,IAAU;AAAA,IACd;AAAA,IACAU;AAAA,EAAA,EACA,OAAO,OAAO,EAAE,KAAK,GAAG;AAE1B,SACEG,gBAAAA,EAAAA;AAAAA,IAAC;AAAA,IAAA;AAAA,MACC,WAAWb;AAAA,MACV,GAAGlC;AAAA,MAEJ,UAAA;AAAA,QAAA8C,gBAAAA,EAAAA;AAAAA,UAAC;AAAA,UAAA;AAAA,YACC,WAAU;AAAA,YACV,KAAAo3C;AAAA,YACA,KAAAC;AAAA,YACC,GAAIC,KAASC,IAAS,EAAE,OAAAD,GAAO,QAAQC,EAAA,IAAW,CAAA;AAAA,UAAC;AAAA,QAAA;AAAA,QAErDvF,KACChyC,gBAAAA,EAAAA;AAAAA,UAAC;AAAA,UAAA;AAAA,YACC,WAAU;AAAA,YACV,yBAAyB,EAAE,QAAQgyC,EAAA;AAAA,UAAQ;AAAA,QAAA;AAAA,MAC7C;AAAA,IAAA;AAAA,EAAA;AAIR,GCzEawF,KAAeh5C,GAAM;AAAA,EAChC,CAAC;AAAA,IACC,MAAAi5C;AAAA,IACA,SAAAC;AAAA,IACA,YAAAC;AAAA,IACA,QAAAC;AAAA,IACA,kBAAAC;AAAA,IACA,aAAAC;AAAA,IACA,IAAA51C;AAAA,IACA,QAAAowC;AAAA,IACA,WAAA7H;AAAA,IACA,gBAAAnoB;AAAA,IACA,iBAAAy1B;AAAA,IACA,WAAAj4C;AAAA,IACA,gBAAAk4C;AAAA,IACA,UAAAC,IAAW;AAAA,IACX,SAAAC,IAAU;AAAA,IACV,YAAA/F,IAAa;AAAA,IACb,WAAAgG,IAAY;AAAA,EAAA,GACXC,MAAiB;AACpB,UAAMC,IAAWvsB,GAAyB,IAAI,GACxCwsB,IAAexsB,GAA4B,IAAI,GAC/CysB,IAAWzsB,GAAgC,IAAI;AAGrDttB,IAAAA,GAAM,oBAAoB45C,GAAc,MAAMC,EAAS,SAAU,CAAA,CAAE;AAGnE,UAAM,CAACG,GAAiBC,CAAkB,IAAI7xB,GAAiB,CAAC,GAC1D,CAAC8xB,GAAoBC,CAAqB,IAAI/xB,GAAiB,CAAC,GAChE,CAACgyB,GAAWC,CAAY,IAAIjyB,GAAoB,SAAS,GACzD,CAACkyB,GAAgBC,CAAiB,IAAInyB,GAAyB,QAAQ,GAEvEoyB,IAActB,EAAQ,QACtBuB,IAAWxB,EAAK,QAGhByB,IAAajrB,GAAQ,MACrB,CAAC0pB,KAAcA,EAAW,WAAW,IAAUF,IAE5C,CAAC,GAAGA,CAAI,EAAE,KAAK,CAAC9xC,GAAGC,OAAM;AAE9B,iBAAW,EAAE,KAAA3K,GAAK,WAAAk+C,EAAA,KAAexB,GAAY;AAC3C,cAAMyB,IAASzzC,EAAE1K,CAAG,GACdo+C,IAASzzC,GAAE3K,CAAG;AAEpB,YAAIm+C,KAAU,QAAQC,KAAU,KAAM;AACtC,YAAID,KAAU,KAAM,QAAO;AAC3B,YAAIC,KAAU,KAAM,QAAO;AAE3B,YAAIC,IAAa;AAOjB,YANI,OAAOF,KAAW,YAAY,OAAOC,KAAW,WAClDC,IAAaF,IAASC,IAEtBC,IAAa,OAAOF,CAAM,EAAE,cAAc,OAAOC,CAAM,CAAC,GAGtDC,MAAe;AACjB,iBAAOH,MAAc,QAAQG,IAAa,CAACA;AAAA,MAE/C;AACA,aAAO;AAAA,IACT,CAAC,GACA,CAAC7B,GAAME,CAAU,CAAC,GAGf4B,IAAYnwB,EAAY,CAAC4jB,GAAkBwM,OAAqB;AACpE,iBAAW,MAAM;AACf,cAAMC,IAAapB,EAAS,SAAS;AAAA,UACnC,sBAAsBrL,IAAW,CAAC,kBAAkBwM,KAAW,CAAC;AAAA,QAAA;AAElE,QAAIC,MACDA,EAA2B,MAAA,GAExB,OAAOA,EAAW,kBAAmB,cACvCA,EAAW,eAAe;AAAA,UACxB,UAAU;AAAA,UACV,OAAO;AAAA,UACP,QAAQ;AAAA,QAAA,CACT;AAAA,MAGP,GAAG,CAAC;AAAA,IACN,GAAG,CAAA,CAAE,GAGCC,IAActwB,EAAY,CAACowB,MAAqB;AACpD,iBAAW,MAAM;AACf,cAAMG,KAAatB,EAAS,SAAS,cAAc,gBAAgBmB,IAAW,CAAC,GAAG;AAClF,QAAIG,OACDA,GAA2B,MAAA,GAExB,OAAOA,GAAW,kBAAmB,cACvCA,GAAW,eAAe;AAAA,UACxB,UAAU;AAAA,UACV,OAAO;AAAA,UACP,QAAQ;AAAA,QAAA,CACT;AAAA,MAGP,GAAG,CAAC;AAAA,IACN,GAAG,CAAA,CAAE,GAGCC,IAAaxwB,EAAY,CAACywB,MAAsB;AACpD,MAAAjC,IAASiC,CAAS;AAAA,IACpB,GAAG,CAACjC,CAAM,CAAC,GAGLkC,IAAkB1wB,EAAY,CAAC4jB,MAAqB;AACxD,MAAA8K,IAAc9K,CAAQ;AAAA,IACxB,GAAG,CAAC8K,CAAW,CAAC,GAGV5M,IAAgB9hB,EAAY,CAAChkB,MAA+B;AAChE,YAAM,EAAE,KAAAnK,OAAQmK;AAEhB,cAAQnK,IAAA;AAAA,QACN,KAAK;AAGH,cAFAmK,EAAM,eAAA,GAEFwzC,MAAc,aAAaE,MAAmB;AAEhD,YAAAC,EAAkB,UAAU,GAC5BW,EAAYhB,CAAkB;AAAA,mBACrBE,MAAc,aAAaE,MAAmB,YAAY;AAEnE,kBAAMiB,IAAgBrC,EAAQgB,CAAkB;AAChD,YAAIqB,KACFH,EAAWG,EAAc,GAAG;AAAA,UAEhC,MAAA,CAAWnB,MAAc,WAAWE,MAAmB,YAErDC,EAAkB,UAAU,GAC5BQ,EAAUf,GAAiBE,CAAkB,KACpCE,MAAc,WAAWE,MAAmB,cAErDgB,EAAgBtB,CAAe;AAEjC;AAAA,QAEF,KAAK;AACH,UAAApzC,EAAM,eAAA,IAEFwzC,MAAc,aAAaE,MAAmB,cAGvCF,MAAc,WAAWE,MAAmB,eAErDC,EAAkB,QAAQ;AAE5B;AAAA,QAEF,KAAK;AAEH,cADA3zC,EAAM,eAAA,GACF0zC,MAAmB,cAAeA,MAAmB,YAAYF,MAAc;AACjF,gBAAIA,MAAc,WAAW;AAC3B,oBAAM1M,IAAW,KAAK,IAAI,GAAGwM,IAAqB,CAAC;AACnD,cAAAC,EAAsBzM,CAAQ,GAC9BwN,EAAYxN,CAAQ;AAAA,YACtB,WAAW0M,MAAc,SAAS;AAChC,oBAAM1M,IAAW,KAAK,IAAI,GAAGwM,IAAqB,CAAC;AACnD,cAAAC,EAAsBzM,CAAQ,GAC9BqN,EAAUf,GAAiBtM,CAAQ;AAAA,YACrC;AAAA;AAEF;AAAA,QAEF,KAAK;AAEH,cADA9mC,EAAM,eAAA,GACF0zC,MAAmB,cAAeA,MAAmB,YAAYF,MAAc;AACjF,gBAAIA,MAAc,WAAW;AAC3B,oBAAM1M,IAAW,KAAK,IAAI8M,IAAc,GAAGN,IAAqB,CAAC;AACjE,cAAAC,EAAsBzM,CAAQ,GAC9BwN,EAAYxN,CAAQ;AAAA,YACtB,WAAW0M,MAAc,SAAS;AAChC,oBAAM1M,IAAW,KAAK,IAAI8M,IAAc,GAAGN,IAAqB,CAAC;AACjE,cAAAC,EAAsBzM,CAAQ,GAC9BqN,EAAUf,GAAiBtM,CAAQ;AAAA,YACrC;AAAA;AAEF;AAAA,QAEF,KAAK;AAEH,cADA9mC,EAAM,eAAA,GACFwzC,MAAc;AAChB,gBAAIE,MAAmB,UAAU;AAE/B,oBAAM5M,IAAW,KAAK,IAAI,GAAGsM,IAAkB,CAAC;AAChD,cAAAC,EAAmBvM,CAAQ,GAC3BqN,EAAUrN,GAAU,CAAC,GACrByM,EAAsB,CAAC;AAAA,YACzB,WAAWG,MAAmB;AAE5B,kBAAIN,IAAkB,GAAG;AACvB,sBAAMtM,IAAWsM,IAAkB;AACnC,gBAAAC,EAAmBvM,CAAQ,GAC3BqN,EAAUrN,GAAUwM,CAAkB;AAAA,cACxC;AAEE,gBAAAG,EAAa,SAAS,GACtBE,EAAkB,QAAQ,GAC1BW,EAAYhB,CAAkB;AAAA;AAIpC;AAAA,QAEF,KAAK;AAEH,cADAtzC,EAAM,eAAA,GACFwzC,MAAc,aAAaE,MAAmB;AAEhD,YAAAD,EAAa,OAAO,GACpBJ,EAAmB,CAAC,GACpBE,EAAsB,CAAC,GACvBY,EAAU,GAAG,CAAC;AAAA,mBACLX,MAAc,SAAS;AAChC,kBAAMoB,IAAcf,IAAW;AAC/B,gBAAIH,MAAmB,UAAU;AAE/B,oBAAM5M,IAAW,KAAK,IAAI8N,GAAaxB,IAAkB,CAAC;AAC1D,cAAAC,EAAmBvM,CAAQ,GAC3BqN,EAAUrN,GAAU,CAAC,GACrByM,EAAsB,CAAC;AAAA,YACzB,WAAWG,MAAmB,cAExBN,IAAkBwB,GAAa;AACjC,oBAAM9N,IAAWsM,IAAkB;AACnC,cAAAC,EAAmBvM,CAAQ,GAC3BqN,EAAUrN,GAAUwM,CAAkB;AAAA,YACxC;AAAA,UAEJ;AACA;AAAA,QAEF,KAAK;AACH,UAAAtzC,EAAM,eAAA,GACFwzC,MAAc,aAChBD,EAAsB,CAAC,GACvBe,EAAY,CAAC,KACJd,MAAc,YACnBxzC,EAAM,WAERqzC,EAAmB,CAAC,GACpBE,EAAsB,CAAC,GACvBY,EAAU,GAAG,CAAC,MAGdZ,EAAsB,CAAC,GACvBY,EAAUf,GAAiB,CAAC;AAGhC;AAAA,QAEF,KAAK;AAEH,cADApzC,EAAM,eAAA,GACFwzC,MAAc,WAAW;AAC3B,kBAAMvM,IAAY2M,IAAc;AAChC,YAAAL,EAAsBtM,CAAS,GAC/BqN,EAAYrN,CAAS;AAAA,UACvB,WAAWuM,MAAc;AACvB,gBAAIxzC,EAAM,SAAS;AAEjB,oBAAM60C,IAAUhB,IAAW,GACrBiB,IAAUlB,IAAc;AAC9B,cAAAP,EAAmBwB,CAAO,GAC1BtB,EAAsBuB,CAAO,GAC7BX,EAAUU,GAASC,CAAO;AAAA,YAC5B,OAAO;AAEL,oBAAMA,IAAUlB,IAAc;AAC9B,cAAAL,EAAsBuB,CAAO,GAC7BX,EAAUf,GAAiB0B,CAAO;AAAA,YACpC;AAEF;AAAA,QAEF,KAAK;AAEH,cADA90C,EAAM,eAAA,GACFwzC,MAAc,aAAaE,MAAmB,YAAY;AAE5D,kBAAMiB,IAAgBrC,EAAQgB,CAAkB;AAChD,YAAIqB,KACFH,EAAWG,EAAc,GAAG;AAAA,UAEhC,MAAA,CAAWnB,MAAc,WAAWE,MAAmB,cAErDgB,EAAgBtB,CAAe;AAEjC;AAAA,MAAA;AAAA,IAEN,GAAG;AAAA,MACDI;AAAA,MACAE;AAAA,MACAJ;AAAA,MACAF;AAAA,MACAQ;AAAA,MACAC;AAAA,MACAvB;AAAA,MACA6B;AAAA,MACAG;AAAA,MACAE;AAAA,MACAE;AAAA,IAAA,CACD;AAGD,IAAAzwB,GAAU,MAAM;AACd,YAAM8wB,IAAQ9B,EAAS;AACvB,UAAI8B;AACF,eAAAA,EAAM,iBAAiB,WAAWjP,CAAoB,GAC/C,MAAMiP,EAAM,oBAAoB,WAAWjP,CAAoB;AAAA,IAE1E,GAAG,CAACA,CAAa,CAAC;AAElB,UAAMmH,IAAelzC;AAAA,MACnB;AAAA,MACA64C;AAAA,MACA;AAAA,QACE,2BAA2B7F;AAAA,QAC3B,yBAAyB8F;AAAA,QACzB,wBAAwBC;AAAA,QACxB,wBAAwBC,MAAc;AAAA,MAAA;AAAA,MAExCr4C;AAAA,IAAA;AAGF,WACEG,gBAAAA,EAAAA;AAAAA,MAAC;AAAA,MAAA;AAAA,QACC,KAAKo4C;AAAA,QACL,WAAWhG;AAAA,QACX,IAAAnwC;AAAA,QACA,eAAaowC;AAAA,QACb,MAAK;AAAA,QACL,cAAY7H;AAAA,QACZ,mBAAiBnoB;AAAA,QACjB,oBAAkBy1B;AAAA,QAClB,UAAU;AAAA,QAEV,UAAA;AAAA,UAAA/3C,gBAAAA,MAAC,SAAA,EAAM,WAAU,qBAAoB,MAAK,YACxC,UAAAA,gBAAAA,EAAAA,IAAC,MAAA,EAAG,KAAKs4C,GAAc,MAAK,OACzB,UAAAZ,EAAQ,IAAI,CAAC0C,GAAQZ,OAAa;AACjC,kBAAMa,IAAW1C,GAAY,KAAK,OAAU58C,EAAO,QAAQq/C,EAAO,GAAG,GAC/DE,IAAW,CAAC,CAACD,GACbp6B,IAAY24B,MAAc,aAAaF,MAAuBc;AAEpE,mBACEx5C,gBAAAA,EAAAA;AAAAA,cAAC;AAAA,cAAA;AAAA,gBAEC,WAAWb,EAAW,mBAAmB;AAAA,kBACvC,4BAA4B8gB;AAAA,gBAAA,CAC7B;AAAA,gBACD,MAAK;AAAA,gBACL,UAAUA,IAAY,IAAI;AAAA,gBAC1B,SAAS,MAAM25B,EAAWQ,EAAO,GAAG;AAAA,gBACpC,WAAW,CAACxwC,MAAM;AAChB,mBAAIA,EAAE,QAAQ,WAAWA,EAAE,QAAQ,SACjCA,EAAE,eAAA,GACFgwC,EAAWQ,EAAO,GAAG;AAAA,gBAEzB;AAAA,gBACA,aAAWE,IAAYD,GAAU,cAAc,QAAQ,cAAc,eAAgB;AAAA,gBAErF,UAAAp6C,gBAAAA,EAAAA,KAAC,OAAA,EAAI,WAAU,kBACb,UAAA;AAAA,kBAAAD,gBAAAA,EAAAA,IAAC,QAAA,EAAK,WAAU,gBACb,UAAAo6C,EAAO,OACV;AAAA,kBACCE,KACCr6C,gBAAAA,EAAAA,KAAC,QAAA,EAAK,WAAU,kBAAiB,eAAY,QAC1C,UAAA;AAAA,oBAAA03C,KAAcA,EAAW,SAAS,KACjC33C,gBAAAA,EAAAA,IAAC,UAAK,WAAU,iBACb,UAAA23C,EAAW,UAAU,OAAU58C,EAAO,QAAQq/C,EAAO,GAAG,IAAI,GAC/D;AAAA,oBAEFp6C,gBAAAA,EAAAA;AAAAA,sBAAC;AAAA,sBAAA;AAAA,wBACC,OAAM;AAAA,wBACN,QAAO;AAAA,wBACP,SAAQ;AAAA,wBACR,MAAK;AAAA,wBACL,WAAU;AAAA,wBAET,UAAAq6C,GAAU,cAAc,QACvBr6C,gBAAAA,EAAAA,IAAC,QAAA,EAAK,GAAE,kBAAA,CAAkB,IAE1BA,gBAAAA,EAAAA,IAAC,QAAA,EAAK,GAAE,oBAAA,CAAoB;AAAA,sBAAA;AAAA,oBAAA;AAAA,kBAEhC,EAAA,CACF;AAAA,gBAAA,EAAA,CAEJ;AAAA,cAAA;AAAA,cAzCKo6C,EAAO;AAAA,YAAA;AAAA,UA4ClB,CAAC,GACH,GACF;AAAA,UACAp6C,gBAAAA,EAAAA,IAAC,SAAA,EAAM,KAAKu4C,GAAU,WAAU,qBAAoB,MAAK,YACtD,UAAAW,EAAW,IAAI,CAAC5F,GAAKtG,OAAa;AACjC,kBAAMpiB,IAAaitB,MAAqB7K,IAClCuN,IAAe3B,MAAc,WAAWJ,MAAoBxL;AAElE,mBACEhtC,gBAAAA,EAAAA;AAAAA,cAAC;AAAA,cAAA;AAAA,gBAEC,MAAK;AAAA,gBACL,WAAWb,EAAW,YAAY;AAAA,kBAChC,sBAAsByrB;AAAA,kBACtB,qBAAqB2vB;AAAA,gBAAA,CACtB;AAAA,gBACD,iBAAe3vB;AAAA,gBAEd,UAAA8sB,EAAQ,IAAI,CAAC0C,GAAQZ,MAAa;AACjC,wBAAMr9C,IAAQi+C,EAAO,SAASA,EAAO,OAAO9G,CAAG,IAAIA,EAAI8G,EAAO,GAAG,GAC3DI,IAAgB5B,MAAc,WAChBJ,MAAoBxL,MACpB0L,MAAuBc,GAGrCiB,IAAc,MACd,OAAOt+C,KAAU,YAEjB8D,gBAAAA,EAAAA,KAAAyjB,YAAA,EACE,UAAA;AAAA,oBAAA1jB,gBAAAA,MAAC,QAAA,EAAK,eAAY,QAAQ,UAAA7D,IAAQ,MAAM,KAAI;AAAA,0CAC3C,QAAA,EAAK,WAAU,WAAW,UAAAA,IAAQ,QAAQ,KAAA,CAAK;AAAA,kBAAA,GAClD,IAGG,OAAOA,KAAS,EAAE;AAG3B,yBACE6D,gBAAAA,EAAAA;AAAAA,oBAAC;AAAA,oBAAA;AAAA,sBAEC,MAAK;AAAA,sBACL,WAAWb,EAAW,aAAa;AAAA,wBACjC,sBAAsBq7C;AAAA,sBAAA,CACvB;AAAA,sBACD,UAAUA,IAAgB,IAAI;AAAA,sBAC9B,SAAS,MAAMV,EAAgB9M,EAAQ;AAAA,sBAEtC,UAAAyN,EAAA;AAAA,oBAAY;AAAA,oBARRL,EAAO;AAAA,kBAAA;AAAA,gBAWlB,CAAC;AAAA,cAAA;AAAA,cAxCIpN;AAAA,YAAA;AAAA,UA2CX,CAAC,EAAA,CACH;AAAA,QAAA;AAAA,MAAA;AAAA,IAAA;AAAA,EAGN;AAAC;AAEDwK,GAAa,cAAc;AC7ZpB,MAAMkD,KAAsD,CAAC;AAAA,EAClE,YAAA/C;AAAA,EACA,SAAAD;AAAA,EACA,cAAAiD;AAAA,EACA,WAAA76C,IAAY;AAAA,EACZ,kBAAA86C,IAAmB;AAAA,EACnB,mBAAAC;AAAA,EACA,WAAAC,IAAY;AAAA,EACZ,UAAAC,IAAW;AAAA,EACX,UAAA/2B,IAAW;AAAA,EACX,WAAAymB,IAAY;AAAA,EACZ,iBAAA+F;AACF,MAAM;AACJ,QAAM5f,IAAe9E,GAAuB,IAAI,GAG1CkvB,IAAclvB,GAAsB,IAAI,GACxCmvB,IAAkBnvB,GAAsB,IAAI,GAG5CovB,IAAkB9xB,EAAY,CAACxf,GAAoB3O,MAAgB;AACvE,IAAI+oB,MACJg3B,EAAY,UAAU//C,GACtB2O,EAAE,aAAa,gBAAgB,QAC/BA,EAAE,aAAa,QAAQ,cAAc3O,CAAG;AAAA,EAC1C,GAAG,CAAC+oB,CAAQ,CAAC,GAGPm3B,IAAiB/xB,EAAY,CAACxf,GAAoB3O,MAAgB;AACtE,IAAI+oB,KAAYg3B,EAAY,YAAY//C,MACxC2O,EAAE,eAAA,GACFA,EAAE,aAAa,aAAa,QAC5BqxC,EAAgB,UAAUhgD;AAAA,EAC5B,GAAG,CAAC+oB,CAAQ,CAAC,GAGPo3B,IAAahyB,EAAY,CAACxf,GAAoByxC,MAAsB;AACxE,QAAIr3B,EAAU;AACd,IAAApa,EAAE,eAAA;AAEF,UAAM0xC,IAAYN,EAAY;AAC9B,QAAI,CAACM,KAAaA,MAAcD,EAAW;AAE3C,UAAME,IAAc5D,EAAW,UAAU,CAAA58C,MAAUA,EAAO,QAAQugD,CAAS,GACrEE,IAAc7D,EAAW,UAAU,CAAA58C,MAAUA,EAAO,QAAQsgD,CAAS;AAE3E,QAAIE,MAAgB,MAAMC,MAAgB,IAAI;AAC5C,YAAMC,IAAY,CAAC,GAAG9D,CAAU,GAC1B,CAAC+D,CAAa,IAAID,EAAU,OAAOF,GAAa,CAAC;AACvD,MAAAE,EAAU,OAAOD,GAAa,GAAGE,CAAa,GAC9Cf,EAAac,CAAS;AAAA,IACxB;AAGA,IAAAT,EAAY,UAAU,MACtBC,EAAgB,UAAU;AAAA,EAC5B,GAAG,CAACj3B,GAAU2zB,GAAYgD,CAAY,CAAC,GAGjCgB,IAAgBvyB,EAAY,MAAM;AACtC,IAAA4xB,EAAY,UAAU,MACtBC,EAAgB,UAAU;AAAA,EAC5B,GAAG,CAAA,CAAE,GAGCW,IAAiBxyB,EAAY,CAACnuB,MAAwB;AAC1D,UAAMm/C,IAAS1C,EAAQ,KAAK,CAAAmE,MAAOA,EAAI,QAAQ5gD,CAAG;AAClD,WAAOm/C,IAASA,EAAO,QAAQn/C;AAAA,EACjC,GAAG,CAACy8C,CAAO,CAAC,GAGNoE,IAAmB1yB,EAAY,CAAC9B,MACP,CAAC,OAAO,UAAU,QAAQ,cAAc,MAAM,EAC3DA,CAAK,KAAK,QACzB,CAAA,CAAE,GAGCy0B,IAAwB3yB,EAAY,CAAC4yB,MAAoB;AAC7D,QAAIh4B,EAAU;AAEd,UAAMi4B,IAAgBtE,EAAW;AAAA,MAAI,CAAA58C,MACnCA,EAAO,QAAQihD,IACX,EAAE,GAAGjhD,GAAQ,WAAWA,EAAO,cAAc,QAAQ,SAAkB,UACvEA;AAAA,IAAA;AAEN,IAAA4/C,EAAasB,CAAa;AAAA,EAC5B,GAAG,CAACtE,GAAYgD,GAAc32B,CAAQ,CAAC,GAGjCk4B,IAAe9yB,EAAY,CAAC4yB,MAAoB;AACpD,QAAIh4B,EAAU;AAEd,UAAMm4B,IAAiBxE,EAAW,OAAO,CAAA58C,MAAUA,EAAO,QAAQihD,CAAO;AACzE,IAAArB,EAAawB,CAAc;AAAA,EAC7B,GAAG,CAACxE,GAAYgD,GAAc32B,CAAQ,CAAC,GAGjCo4B,IAAchzB,EAAY,MAAM;AACpC,IAAIpF,KACJ22B,EAAa,CAAA,CAAE;AAAA,EACjB,GAAG,CAACA,GAAc32B,CAAQ,CAAC,GAGrBq4B,IAAqB,MAAuB;AAChD,QAAI1E,EAAW,WAAW;AACxB,aAAOiD;AAGT,QAAIC;AACF,aAAOA;AAGT,UAAMyB,IAAmB3E,EAAW,IAAI,CAAC4E,GAAMj1B,MAAU;AACvD,YAAM6xB,IAAYoD,EAAK,cAAc,QAAQ,cAAc;AAC3D,aAAO,GAAGj1B,IAAQ,CAAC,KAAKs0B,EAAeW,EAAK,GAAG,CAAC,KAAKpD,CAAS;AAAA,IAChE,CAAC;AAED,QAAImD,EAAiB,WAAW;AAC9B,aAAO,cAAcA,EAAiB,CAAC,CAAC;AAC1C,QAAWA,EAAiB,WAAW;AACrC,aAAO,cAAcA,EAAiB,KAAK,OAAO,CAAC;AAC9C;AACL,YAAMxN,IAAWwN,EAAiB,IAAA;AAClC,aAAO,cAAcA,EAAiB,KAAK,IAAI,CAAC,SAASxN,CAAQ;AAAA,IACnE;AAAA,EACF,GAGMrqB,IAAcwJ,GAAQ,MAAM;AAChC,UAAMuuB,IAAM,CAAC,kBAAkB;AAC/B,WAAIzB,KAAUyB,EAAI,KAAK,WAAW,GAC9BhM,KAAiBgM,EAAI,KAAKhM,CAAe,GACtCgM,EAAI,KAAK,GAAG;AAAA,EACrB,GAAG,CAACzB,GAAUvK,CAAe,CAAC;AAG9B,SAAImH,EAAW,WAAW,IAEtB13C,gBAAAA,EAAAA,KAAC,OAAA,EAAI,WAAW,uBAAuBH,CAAS,IAE9C,UAAA;AAAA,IAAAE,gBAAAA,EAAAA;AAAAA,MAAC;AAAA,MAAA;AAAA,QACC,WAAU;AAAA,QACV,IAAG;AAAA,QACH,aAAU;AAAA,QAET,UAAA46C;AAAA,MAAA;AAAA,IAAA;AAAA,IAIFG,KACC/6C,gBAAAA,EAAAA,IAAC,OAAA,EAAI,WAAU,6BAA4B,IAAG,aAC5C,UAAAA,gBAAAA,EAAAA,IAAC,SAAA,EAAM,UAAA,qHAAA,CAEP,EAAA,CACF;AAAA,EAAA,GAEJ,IAKFC,gBAAAA,EAAAA,KAAC,OAAA,EAAI,WAAW,uBAAuBH,CAAS,IAE9C,UAAA;AAAA,IAAAE,gBAAAA,EAAAA;AAAAA,MAAC;AAAA,MAAA;AAAA,QACC,WAAU;AAAA,QACV,IAAG;AAAA,QACH,aAAU;AAAA,QAER,UAAAq8C,EAAA;AAAA,MAAmB;AAAA,IAAA;AAAA,IAEzBp8C,gBAAAA,EAAAA,KAAC,OAAA,EAAI,WAAU,yBAEhB,UAAA;AAAA,MAAAD,gBAAAA,EAAAA;AAAAA,QAAC;AAAA,QAAA;AAAA,UACA,KAAK4wB;AAAA,UACL,WAAU;AAAA,UACV,MAAK;AAAA,UACL,cAAY6Z;AAAA,UACZ,oBAAkBhmB;AAAA,UAEhB,UAAAkzB,EAAW,IAAI,CAAC58C,GAAQusB,MACzBtnB,gBAAAA,EAAAA;AAAAA,YAAC;AAAA,YAAA;AAAA,cAEA,WAAU;AAAA,cACV,MAAK;AAAA,cACL,WAAW,CAACgkB;AAAA,cACZ,aAAa,CAACpa,MAAMsxC,EAAgBtxC,GAAG7O,EAAO,GAAG;AAAA,cACjD,YAAY,CAAC6O,MAAMuxC,EAAevxC,GAAG7O,EAAO,GAAG;AAAA,cAC/C,QAAQ,CAAC6O,MAAMwxC,EAAWxxC,GAAG7O,EAAO,GAAG;AAAA,cACvC,WAAW4gD;AAAA,cACX,SAAS,MAAMI,EAAsBhhD,EAAO,GAAG;AAAA,cAC/C,OAAO,EAAE,QAAQipB,IAAW,YAAY,UAAA;AAAA,cACxC,OAAOA,IAAW,KAAK,6CAA6CjpB,EAAO,cAAc,QAAQ,cAAc,YAAY;AAAA,cAC3H,YAAUA,EAAO;AAAA,cAEjB,UAAAiF,gBAAAA,EAAAA;AAAAA,gBAAC2jB;AAAA,gBAAA;AAAA,kBACA,OAAOm4B,EAAiBx0B,CAAK;AAAA,kBAC7B,WAAU;AAAA,kBACV,UAAQ;AAAA,kBACR,SAAS,MAAM40B,EAAanhD,EAAO,GAAG;AAAA,kBACtC,UAAAipB;AAAA,kBAEA,UAAA/jB,gBAAAA,EAAAA,KAAC,OAAA,EAAI,WAAU,oCAEd,UAAA;AAAA,oBAAAD,gBAAAA,MAAC,OAAA,EAAI,WAAU,oCAAmC,OAAM,mBAAkB,UAAA,MAE1E;AAAA,oBAGAA,gBAAAA,EAAAA,IAAC,SAAI,WAAW,6EAA6EsnB,IAAQ,CAAC,IACnG,cAAQ,EAAA,CACX;AAAA,0CAGC,QAAA,EAAK,WAAU,kCACb,UAAAs0B,EAAe7gD,EAAO,GAAG,GAC5B;AAAA,oBAGAiF,gBAAAA,EAAAA;AAAAA,sBAAC;AAAA,sBAAA;AAAA,wBACA,MAAK;AAAA,wBACL,WAAU;AAAA,wBACV,SAAS,CAAC4J,MAAM;AACf,0BAAAA,EAAE,gBAAA,GACFmyC,EAAsBhhD,EAAO,GAAG;AAAA,wBACjC;AAAA,wBACA,UAAAipB;AAAA,wBACA,cAAY,6BAA6B43B,EAAe7gD,EAAO,GAAG,CAAC,eAAeA,EAAO,cAAc,QAAQ,cAAc,YAAY;AAAA,wBACzI,OAAM;AAAA,wBAEN,gCAAC,QAAA,EAAK,WAAW,4EAA4EA,EAAO,SAAS,IAC5G,UAAAiF,gBAAAA,EAAAA;AAAAA,0BAAC;AAAA,0BAAA;AAAA,4BACA,WAAW,yEAAyEjF,EAAO,SAAS;AAAA,4BACpG,OAAM;AAAA,4BACN,SAAQ;AAAA,4BACR,eAAY;AAAA,4BACZ,WAAU;AAAA,4BAEV,UAAAiF,gBAAAA,EAAAA,IAAC,QAAA,EAAK,GAAE,iHAAA,CAAiH;AAAA,0BAAA;AAAA,wBAAA,EAC1H,CACD;AAAA,sBAAA;AAAA,oBAAA;AAAA,kBACD,EAAA,CACD;AAAA,gBAAA;AAAA,cAAA;AAAA,YACD;AAAA,YA7DKjF,EAAO;AAAA,UAAA,CA+Db;AAAA,QAAA;AAAA,MAAA;AAAA,MAGD+/C,KACA96C,gBAAAA,EAAAA,IAAC,OAAA,EAAI,WAAU,gCACd,UAAAA,gBAAAA,EAAAA;AAAAA,QAACgjB;AAAA,QAAA;AAAA,UACA,SAAQ;AAAA,UACR,SAASo5B;AAAA,UACT,YAAYp4B;AAAA,UACZ,cAAW;AAAA,UACX,WAAU;AAAA,UACV,UAAA;AAAA,QAAA;AAAA,MAAA,EAED,CACD;AAAA,IAAA,GAED;AAAA,IAGI+2B,KACC/6C,gBAAAA,EAAAA,IAAC,OAAA,EAAI,WAAU,6BAA4B,IAAG,aAC5C,UAAAA,gBAAAA,EAAAA,IAAC,SAAA,EAAM,UAAA,qHAAA,CAEP,EAAA,CACF;AAAA,EAAA,GAEJ;AAEJ;ACvSA,SAASy8C,GACPltC,GACAoC,GACuB;AACvB,UAAQA,EAAO,MAAA;AAAA,IACb,KAAK;AACH,aAAO,EAAE,GAAGpC,GAAO,eAAeoC,EAAO,QAAA;AAAA,IAE3C,KAAK;AACH,YAAM+qC,IAAmB,CAAC,GAAGntC,EAAM,gBAAgB;AACnD,aAAAmtC,EAAiB/qC,EAAO,QAAQ,QAAQ,IAAIA,EAAO,QAAQ,WACpD,EAAE,GAAGpC,GAAO,kBAAkBmtC,EAAA;AAAA,IAEvC,KAAK;AACH,YAAMC,IAAY,CAAC,GAAGptC,EAAM,SAAS;AACrC,aAAAotC,EAAUhrC,EAAO,QAAQ,QAAQ,IAAIA,EAAO,QAAQ,OAC7C,EAAE,GAAGpC,GAAO,WAAWotC,EAAA;AAAA,IAEhC,KAAK;AACH,aAAO,EAAE,GAAGptC,GAAO,YAAYoC,EAAO,QAAA;AAAA,IAExC,KAAK;AACH,YAAMirC,IAAkB,CAAC,GAAGrtC,EAAM,YAAY;AAC9C,aAAAqtC,EAAgBjrC,EAAO,QAAQ,QAAQ,IAAIA,EAAO,QAAQ,YACnD,EAAE,GAAGpC,GAAO,cAAcqtC,EAAA;AAAA,IAEnC,KAAK;AACH,aAAO,EAAE,GAAGrtC,GAAO,uBAAuBoC,EAAO,QAAA;AAAA,IAEnD,KAAK;AACH,aAAO,EAAE,GAAGpC,GAAO,SAASoC,EAAO,QAAA;AAAA,IAErC,KAAK;AACH,YAAM,EAAE,WAAAkrC,MAAclrC,EAAO,SACvBmrC,IAAwB,IAAI,MAAMD,CAAS,EAAE,KAAK,EAAK,GACvDE,IAAiB,IAAI,MAAMF,CAAS,EAAE,KAAK,IAAI,GAC/CG,IAAuB,IAAI,MAAMH,CAAS,EAAE,KAAK,CAAA,CAAE;AAGzD,eAASn3C,IAAI,GAAGA,IAAI,KAAK,IAAI6J,EAAM,iBAAiB,QAAQstC,CAAS,GAAGn3C;AACtE,QAAAo3C,EAAsBp3C,CAAC,IAAI6J,EAAM,iBAAiB7J,CAAC,GACnDq3C,EAAer3C,CAAC,IAAI6J,EAAM,UAAU7J,CAAC,GACrCs3C,EAAqBt3C,CAAC,IAAI6J,EAAM,aAAa7J,CAAC;AAGhD,aAAO;AAAA,QACL,GAAG6J;AAAA,QACH,kBAAkButC;AAAA,QAClB,WAAWC;AAAA,QACX,cAAcC;AAAA,MAAA;AAAA,IAGlB,KAAK;AACH,aAAO;AAAA,QACL,eAAe;AAAA,QACf,kBAAkB,IAAI,MAAMztC,EAAM,iBAAiB,MAAM,EAAE,KAAK,EAAK;AAAA,QACrE,WAAW,IAAI,MAAMA,EAAM,UAAU,MAAM,EAAE,KAAK,IAAI;AAAA,QACtD,YAAY,CAAA;AAAA,QACZ,cAAc,IAAI,MAAMA,EAAM,aAAa,MAAM,EAAE,KAAK,EAAE;AAAA,QAC1D,uBAAuB;AAAA,QACvB,SAAS;AAAA,MAAA;AAAA,IAGb;AACE,aAAOA;AAAA,EAAA;AAEb;AAiBO,MAAM0tC,KAAmBl6B;AAAAA,EAC9B,SAA0B7lB,GAAOuD,GAAK;AACpC,UAAM;AAAA,MACJ,YAAAy8C,IAAa,CAAA;AAAA,MACb,WAAAC;AAAA,MACA,eAAeC;AAAA,MACf,aAAA1J;AAAA,MACA,4BAAA2J;AAAA,MACA,WAAA5S;AAAA,MACA,iBAAA6S;AAAA,MACA,WAAAx9C,IAAY;AAAA,MACZ,UAAAkkB,IAAW;AAAA,MACX,aAAAu5B,IAAc;AAAA,MACd,IAAAr7C;AAAA,MACA,WAAAs7C,IAAY;AAAA,MACZ,kBAAAC;AAAA,MACA,OAAArvB,IAAQ;AAAA,MACR,gBAAAsvB;AAAA,MACA,eAAepN;AAAA,IAAA,IACbpzC,GAGA;AAAA,MACJ,gBAAAygD,IAAiB,CAACh4C,GAAQC,MAAW,KAAK,UAAUD,CAAC,MAAM,KAAK,UAAUC,CAAC;AAAA,MAC3E,gBAAAg4C,IAAiB,CAACnG,MAAgBA;AAAA,MAClC,iBAAAoG,IAAkB,CAAC1hD,MAAeA,IAAQ,MAAM;AAAA,IAAA,IAC9C+gD,KAAc,CAAA,GACVnJ,IAAeqJ,MAAsB,QACrCU,IAAgBV,KAAqB,GAGrC,CAACW,GAAiBC,CAAkB,IAAIp3B,GAA0B;AAAA,MACtE,WAAW;AAAA,MACX,iBAAiBk3B;AAAA,MACjB,oBAAoB;AAAA,MACpB,iBAAiB;AAAA,MACjB,oBAAoB;AAAA,MACpB,cAAc;AAAA,IAAA,CACf,GAGKG,IAAsChwB,GAAQ,OAG3C;AAAA,MACL,eAAA6vB;AAAA,MACA,kBAAkB,IAAI,MAAMX,EAAU,MAAM,EAAE,KAAK,EAAK;AAAA,MACxD,WAAW,IAAI,MAAMA,EAAU,MAAM,EAAE,KAAK,IAAI;AAAA,MAChD,YAAY,CAAA;AAAA;AAAA,MACZ,cAAc,IAAI,MAAMA,EAAU,MAAM,EAAE,KAAK,EAAE;AAAA,MACjD,uBAAuB;AAAA,MACvB,SAAS;AAAA,IAAA,IAEV,CAACW,CAAa,CAAC,GAEZ,CAACvuC,GAAO2uC,CAAQ,IAAIC,GAAW1B,IAAqBwB,CAAY;AAGtE,IAAA50B,GAAU,MAAM;AACd,YAAM+0B,IAAgB7uC,EAAM,iBAAiB,QACvCstC,IAAYM,EAAU;AAE5B,MAAIiB,MAAkBvB,KAEpBqB,EAAS,EAAE,MAAM,iBAAiB,SAAS,EAAE,WAAArB,EAAA,GAAa;AAAA,IAE9D,GAAG,CAACM,EAAU,MAAM,CAAC,GAGrB9zB,GAAU,MAAM;AACd,MAAI0qB,KACFmK,EAAS,EAAE,MAAM,sBAAsB,SAASJ,GAAe;AAAA,IAEnE,GAAG,CAACA,GAAe/J,CAAY,CAAC,GAGhC1qB,GAAU,MAAM;AACd,MAAIg0B,KACFA,EAA2B9tC,EAAM,qBAAqB;AAAA,IAE1D,GAAG,CAACA,EAAM,uBAAuB8tC,CAA0B,CAAC;AAG5D,UAAMgB,IAAcj1B,EAAY,CAACk1B,GAAYC,MACpCZ,EAAeW,GAAOC,CAAK,GACjC,CAACZ,CAAc,CAAC,GAGba,IAAkBp1B,EAAY,CAAC9B,MAAkB;AACrD,MAAIA,KAAS,KAAKA,IAAQ61B,EAAU,UAAU,CAACA,EAAU71B,CAAK,EAAE,aAC9D42B,EAAS,EAAE,MAAM,sBAAsB,SAAS52B,GAAO,GACvDosB,IAAcpsB,CAAK;AAAA,IAEvB,GAAG,CAAC61B,GAAWzJ,CAAW,CAAC,GAGrB+K,IAAmBr1B,EAAY,CAAChkB,GAA4BkiB,MAAkB;AAClF,YAAM,EAAE,KAAArsB,MAAQmK;AAEhB,cAAQnK,GAAA;AAAA,QACN,KAAK;AACH,UAAAmK,EAAM,eAAA;AACN,gBAAMs5C,IAAYp3B,IAAQ,IAAIA,IAAQ,IAAI61B,EAAU,SAAS;AAC7D,UAAAqB,EAAgBE,CAAS,GACzBV,EAAmB,QAAS,EAAE,GAAGlwB,GAAM,iBAAiB4wB,IAAY,GACpEtK,EAAQ,QAAQsK,CAAS,GAAG,MAAA;AAC5B;AAAA,QAEF,KAAK;AACH,UAAAt5C,EAAM,eAAA;AACN,gBAAMu5C,IAAYr3B,IAAQ61B,EAAU,SAAS,IAAI71B,IAAQ,IAAI;AAC7D,UAAAk3B,EAAgBG,CAAS,GACzBX,EAAmB,QAAS,EAAE,GAAGlwB,GAAM,iBAAiB6wB,IAAY,GACpEvK,EAAQ,QAAQuK,CAAS,GAAG,MAAA;AAC5B;AAAA,QAEF,KAAK;AACH,UAAAv5C,EAAM,eAAA,GAEN44C,EAAmB,CAAAlwB,OAAS;AAAA,YAC1B,GAAGA;AAAA,YACH,WAAW;AAAA,YACX,oBAAoB;AAAA,UAAA,EACpB,GACF8wB,EAAgB,CAAC;AACjB;AAAA,QAEF,KAAK;AACH,UAAAx5C,EAAM,eAAA,GACNo5C,EAAgB,CAAC,GACjBR,EAAmB,QAAS,EAAE,GAAGlwB,GAAM,iBAAiB,IAAI,GAC5DsmB,EAAQ,QAAQ,CAAC,GAAG,MAAA;AACpB;AAAA,QAEF,KAAK;AACH,UAAAhvC,EAAM,eAAA;AACN,gBAAMinC,IAAY8Q,EAAU,SAAS;AACrC,UAAAqB,EAAgBnS,CAAS,GACzB2R,EAAmB,QAAS,EAAE,GAAGlwB,GAAM,iBAAiBue,IAAY,GACpE+H,EAAQ,QAAQ/H,CAAS,GAAG,MAAA;AAC5B;AAAA,QAEF,KAAK;AAAA,QACL,KAAK;AACH,UAAAjnC,EAAM,eAAA,GACNo5C,EAAgBl3B,CAAK;AACrB;AAAA,MAAA;AAAA,IAEN,GAAG,CAAC61B,EAAU,QAAQqB,CAAe,CAAC,GAGhCpK,IAAUtoB,GAAqC,EAAE,GACjD+yB,IAAY/yB,GAAkC,EAAE,GAGhD8tB,IAAaxwB,EAAY,CAACpM,GAAkB/hB,MAAgB;AAChE,YAAM6jD,IAAcvvC,EAAM,cAAc,CAAA,GAClCwvC,IAAeD,EAAY,KAAK,CAACvC,MAAqBA,EAAK,QAAQthD,CAAG;AAE5E,UAAI+jD;AACJ,MAAID,IACEA,EAAa,cAAc,QAE7BC,IAAgBF,EAAY;AAAA,QAAI,CAACvC,MAC/BA,EAAK,QAAQthD,IACT,EAAE,GAAGshD,GAAM,WAAW,WACtBA;AAAA,MAAA,IAINyC,IAAgBF,EAAY,OAAO,CAACvC,MAAqBA,EAAK,QAAQthD,CAAG,IAI3E+jD,IAAgB,CAAC,GAAGF,GAAa,EAAE,KAAA7jD,GAAK,WAAW,OAAgB,GAGrEijD,EAAS;AAAA,QACP,MAAM;AAAA,QACN,SAASc;AAAA,MAAA,CACV,GAGa7B,EAAUngC,CAAQ,EAC1B,SAAS/hB,CAAU;AAAA,IAC3B,GAAG,CAACsU,EAAM,YAAY4tC,CAAS,CAAC,GAG1ByB,IAAkBx1B,EAAY,CAAC61B,MAAwB;AAC3D,iBAAW,MAAM;AACf,cAAMC,IAAgB,SAAS;AAAA,UAC7B,oBAAoB3vC,EAAM,aAAa,mBAAmB0vC,IAAc,CAAC;AAAA,QAAA;AAE3E,QAAIC,KACFA,EAAc,MAAA;AAAA,MAElB,GAAG,CAAC;AAAA,IACN,GAAG,CAAC3vC,EAAM,aAAa,CAAC,GAiDlB4vC,IAAoB/1B,EAAY,CAACjtB,MAC9B0hD,EAAgB1hD,CAAK,GAC3B,CAAC0hD,CAAe,CAAC,GAEduB,IAAgBh2B,EAAY,CAAC4jB,GAAkBwM,MAAqB;AACxE,iBAAW,MAAM;AACf,cAAM6F,IAAc,SAAS;AAAA,UAC3B,oBAAoB9vC,EAAM,aAAa,yBAAyBy9B,IAAW,CAAC,kBAAkBwM,IAAW,CAAC;AAAA,QAAA;AAE5G,QAAI6F,KACFA,EAAY,MAAA;AAAA,MAEhB,GAAG,CAAC;AAAA,IACN,GAAG,CAAC9vC,EAAM,aAAa,CAAC,GAGlB+vC,IAAsBl2B,EAAY,CAAChkB,GAA4B65C,MAAwB;AAC3F,YAAM,EAAE,KAAAhkD,MAAQmK,GACVm6C,IAAepC,EAAU5tC,EAAM,aAAa,GAC5CypC,IAAcuG,GAAc,QAAQ,UAAU;AAEpD,cAAQtkD,GAAA;AAAA,QACN,KAAK;AACH,UAAAmK,EAAM,eAAA;AACN,gBAAMo6C,IAAkB,KAAK,IAAI,GAAGP,IAAc,CAAC;AACnD,UAAAjB,EAAmB,QAAS,EAAE,GAAGlwB,GAAM,oBAAoB0xB,IAAkB,GAC7EZ,EAAgBY,CAAe;AAC/B;AAAA,QAEF,KAAK;AACH,UAAAp6C,EAAM,eAAA;AACN,gBAAMq6C,IAAkB,KAAK,IAAIzG,IAAc,GAAGiG,IAAc,CAAC;AACjE,UAAAjB,EAAmB,QAAS,EAAE,GAAGlwB,GAAM,oBAAoB2xB,IAAkB,GAC7Eb,EAAgBa,CAAe;AAC/B;AAAA,QAEF,KAAK;AACH,UAAAr6C,EAAM,eAAA,GAEN44C,EAAmB,CAAAlwB,OAAS;AAAA,YAC1B,GAAGA;AAAA,YACH,WAAW;AAAA,YACX,iBAAiBve,EAAM;AAAA,UAAA,EACvB,GACF6kC,EAAQ,QAAQ7kC,EAAM,aAAa,GAAG,MAAA;AACtC;AAAA,QAEF,KAAK;AACH,UAAAnK,EAAM,eAAA,GAEN44C,EAAmB,CAAAlwB,OAAS;AAAA,YAC1B,GAAGA;AAAA,YACH,WAAW;AAAA,YACX,iBAAiB;AAAA,YACjB,oBAAoBmxB;AAAA,YACpB,cAAc;AAAA,UAAA,EACd,GACFG,EAAc,GAAGH,CAAW;AAC5B;AAAA,QAEF,KAAK;AACH,UAAA75C,EAAM,eAAA,GACN44C,EAAmB,QAAS,EAAE,GAAGlwB,GAAM,oBAAoB,IAAI,GAC/D8wB,EAAgB,CAAC;AACjB;AAAA,QAEF,KAAK;AACH,UAAAx5C,EAAM,eAAA;AACN,gBAAMs6C,IAAkB1G,IAAc;AACtC,UAAAgF,EAAmB,QAAS,EAAE,GAAGlwB,GAAM,oBAAoB4xB,IAAkB,GAC7Ed,EAAgBc,CAAe;AAC/B;AAAA,QAEF,KAAK;AAAA,QACL,KAAK;AACH,UAAAt6C,EAAM,eAAA;AAEN,gBAAMy0C,KAAY0F,GAAc,QAAQN,CAAW,GAAG;AACtD,UAAIpF,MACFD,EAAWrqC,EAAM,eAAesqC,EAAS;AAE3C;AAAA,MAAA;AAAA,IAEN,GAAG,CAACsD,GAAW5tC,EAAM,eAAeqqC,GAAYoE,GAAoBY,GAAiBQ,GAAehL,CAAO,CAAC,GAGtGuL,KAAoBv2B,EAAY,CAAChkB,GAA4B4nC,GAAkBwM,MAAqB;AACxG,YAAM,EAAE,KAAAv+C,MAAQmK,GACVm6C,IAAepC,EAAU5tC,EAAM,aAAa,GAC5C0pC,IAAWsG,GAAc,KAAK,UAAU,GACxCvG,IAAcuG,GAAc,QAAQ,UAAU;AAGpD,cAAQtkD,GAAA;AAAA,QACN,KAAK;AAEH,cADAmK,EAAM,eAAA,GACF4nC,MAAa;AAEf,YAAAgR,EAAmB,CAAAlwB,OAAS;AAAA,cAC1B,GAAGA;AAAA,cACH,WAAW;AAAA,cACX,oBAAoB0rB;AAAA,cACpB,cAAc;AAAA,YAAA,EACd,GACFoF,EAAgBpF,CAAQ;AAAA,eACnB;AACL,kBAAMoG,IAAc5S,IAAW;AAC/B,YAAAgR,EAAmB,QAAS,EAAE,GAAGlwB,GAAM,iBAAiB8xB,IAAc,GACtER,EAAcQ,GAAapG,CAAQ;AAAA,UACrC;AACA;AAAA,QAEF,KAAK;AACH,UAAAp0C,EAAM,eAAA;AACN,gBAAMw6C,IAAc,KAAK,IAAI3G,IAAW,GAAGjM,IAAW,CAAC;AACvD,UAAAgR,EAAmB,QAAS,EAAE,GAAGlwB,GAAM,iBAAiB8xB,IAAc,GACtER,EAAcQ,GAAapG,CAAQ;AACnC;AAAA,QAEF,KAAK;AACH,UAAAp0C,EAAM,eAAA;AACN,gBAAMy6C,KAAc,KAAK,IAAI,GAAGrG,IAAW,CAAC;AAC5C,UAAAwE,EAAmB,QAAS,EAAE,GAAGlwB,GAAM,oBAAoB+xB,KAAc,GACzET,EAAcpS,GAAU6S,EAAW;AACnC;AAAA,QAEF,KAAK;AACH,UAAAz6C,EAAM,eAAA;AACN,gBAAM06C,IAAe,KAAK,IAAI9G,IAAc,GAAGQ,IAAW,CAAC;AAC3D,UAAAwE,EAAmB,QAAS,EAAE,GAAGlwB,GAAM,oBAAoBgyB,IAAe,GAC1EV,EAAcpS,GAAU8S,CAAY;AACpC;AAAA,QAEF,KAAK;AACH,UAAA16C,EAAM,eAAA,GACFA,EAAM,WAER44C,EAAmB,CAAAlwB,OAAS,EAAE,GAAGA,GAAM,iBAAiB,GAAG,oBAAoB,IAAI,GACnFsxB,EAAc,GAAG,CAAC,MAGlBpB,EAAmB,QAAS,EAAE,GAAGlwB,GAAM,oBAAoB,IAAI,GAC/DsxB,EAAcpS,GAAU,CAAC;AAE3B;AAAA,QAEF,KAAK;AAEH,cADA5nC,EAAM,eAAA,GACFA,EAAM,SAAS;AAEjB,kBAAM60C,IAAUhB,IAAW,GACrBiB,IAAUlB,IAAc;AAC9B,YAAAgF,EAAmB,CAAAlwB,QAAS,EAAE,GAAGA,IAAM,iBAAiBmsB,GAAS,oBAAoBC,IAAU,GAC/FkF,EAAcnF,GAASC,CAAO;AAAA,UAChC,OAAO;AAEL,kBAAMA,IAAUlB,IAAc;AAC9B,YAAAgF,EAAmB,QAAS,EAAE,GAAGlwB,GAAM,oBAAoBosB,IAAU,GACrEkF,EAAcpS,GAAUkN,CAAO;AAAA,UACjC;AACA;AAAA,QAEF,KAAK;AAAA,QACL,KAAK;AAGH,cAFA90C,EAAM,eAAA,GAEFm6C,KAAgBA,EAAa,KAAKvS,CAAQ,GAAG;AAE/C,kBAAM+S,IAAcR,EAAa,KAAK,KAAK,CAAC14B,OAAc,cAAcA,EAAI,IACxE+2B,EAAe2B,EAAa,MAAMhwC,EAAM,OAAO,IAC/CgwC,EAAa,MAGX5H,IAAapoC,EAAM;AACzB,gBAAI2pC,KAAa6G;AAoCjB,gBAnCIpI,KAAcA,EAAW,SAAS,MACpCuB,KAAa,CAAC,GAAG6G,CAAW,EAAE,KAAK,CAACp6C,IAAQC,OAAW;AAErD,yBAAW,EAAE,KAAA3K,IAAK,WAAAk+C,GAAA,KAAexB,GAAY;AAC3C,oBAAIyB,KAASzzC,GAAE1K,EAAG,GACdo+C,KAASzzC,GAAE3K,EAAG;AAGlB,sBAAMm/C,KAASmF,EAAa,QAAQ,KAAK,CAAA1D,OAAOA,GAAI,QAAQ5gD,EAAG;AAO/D,oBANIm/C,IAAQ,WACVhB,KAASgB,GAAO,OAAOz0C,EAAC,GACxB0zC,KAASe,GAAO,OAAOx0C,EAAC,IAItBwzC,MAAU,QAAQC,MAAU,KAAM;AACtC,oBAAID,MAAU,KAAM,QAAOD,OAAc,QAAQ,KAAK;AACtD,oBAAIE,MAAU,KAAM,QAAOF,OAAc,QAAQ,IAAI;AAGrD,oBAAI1zC,KAAS;AAOb,oBANI,OAAO2zC,MAAW,YAAY,OAAOC,MAAW,WAClD5zC,KAAS2zC,KAASC,KAElB5zC,KAAS,OAAO2zC,EAAM,EAAE,cAAc,OAAOC,EAAM,GAAG,QAAW,EAAE,SAAS,IAAM,aAAa,QAAQ,GAGrG5zC,OAAW;AACb,yBAAO0zC,OAAc,QAAQ1zC,KAAS,CAACA;AAAA,cAE3C;AACA,qBAAO;AAAA,YACT,CAAC,IAGCyzC,GAAWlM,CAAQ,GAAG;AACxB,oBAAMsG,KAAM4F,GAAWlM,CAAQ,GAEzBgT,KADsBzwC,EAAM,yBAAyB8uC,EAAY9uC,EAAM,uBAAuB+jC,EAAG,IACtD,OAAOA;AACxD,cAAA4K,EAAS;AAAA,gBACP,MAAM;AAAA,gBACN,SAAS8B;AAAA,cAAA,CACV;AAAA,YACH;AAAA,UACF;AACA;AAAA,MAAA;AAAA,IAEN,GAAG,CAAC7C,GAAW5tC,EAAM,eAAeA,EAAM,SAASA,EAAM,YAAYquC,GAAgBS,GAAaH,GAAUF,GAAoBY,GAAiBQ,CAAa,CAAC,GAGzJa,IAAkB72B,EAAY,CAACquB,GAAayI,MACzCtC,EAAenG,GAAMyI,CAAO,GAClC,CAACtC,CAAc,CAAC;AAuCnB,WApCA7I,GAAoBt0C,GAAK,OAAO;AAAA,MAC9B,WAAW,CAAC6mB,MAAkB;AAC5B,QAAIA,KAAS,KAAKA,IAAQ61B,EAAU,WAClCe,EAAS,EAAE,MAAM,sBAAsB,SAAS52B,GAAO,GACvDosB,IAAcpsB,CAAK;AAAA,MAEvB;AAAA,MACA,aAAa,CAACtK,MAAsB;AAElC,gBAAQ,IAAI,4BAA4BA,KAAY,KAAK;AAAA,MAC3D;AAAA,MACA,YAAY,CAACA,MAAsB;AACjC,cAAMw+B,IAAcx+B,KAAYzN,EAAM,eAChC6iC,IAAQ+K,EAAU3B,CAAW;AACnC,eAAOpJ,IAAQA,EAAM,OAAO,CAAA;AAAA,MAC9B;AAAA,MACA,iBAAiB,CAAC+N,MAIK5wC,EAAM,wBAAwB,CAAA,IAAK,CAAA;AAAA,MAG1D,gBAAgB,CAAC4wC,MAAuB;AAEtC,QAAAjC,EAAS;AAAA,UACP,MAAM;AAAA,UACN,SAAS;AAAA,QAAA,CACV;AAAA,MACH;AAAA,MACA,cAAc,CAACgC,MAAiB;AAC9B,QAAAhC,EAAS,EAAE,MAAM,eAAe,SAASgC,GAAS;AAAA,MACpD;AAAA,IAAA,IACE,CAAC3wC,EAAM,eAAeA,EAAM,cAAc4tC,GAAWzJ,CAAW,CAAC,GAGjE8J,IAEAx9C,gBAAAA,EAAAA,IAAC,OAAA,EAAI,WAAW,kDAAkDF,CAAS,IAAI,eAAawwC,GACzF,UAAAmN,KACCz9C,gBAAAA,MAAC,OAAA,EAAI,WAAU,+BACb,UAAAA,gBAAAA,EAAAA,IAAC,OAAA,EAAI,WAAU,iBAAgB,MAAK,UAAS,cAAW,gBACtD,UAAAA,gBAAAA,EAAAA,IAAC,QAAA,EAAK,WAAU,2BAA0B,UAAA,aAAA,CAAU,EAAA,CACtD,EAAA,CACF,GAEJ,IAKAouB,IAEApuB,gBAAAA,EAAAA,IAAC,OAAA,EAAI,WAAW,gDAAgDF,CAAS,IAAI,eAAawwC,GACvF,UAAAoN,KACCz9C,gBAAAA,EAAAA,KAAC,OAAA,EAAI,WAAU,6BAA4B,MAAK,SAC9C,UAAA;AAAA,MAAAD,gBAAAA,EAAAA,IAAC,MAAA,EAAG,WAAU,8BAA6B,UAAA,sBAAkB;AAAA,MAC7DA,gBAAAA,EAAAA,IAAC,OAAG,UAAAouB,EAAA,CAAM;AAAA,IAAA,EAAA,CACZ,EAAA,CAEJ,IAKFnuB,gBAAAA,EAAAA;AAAAA,MAAC;AAAA,MAAA;AAAA,QACC,WAAW,0CAA0Cs9C,CAAW,IAAIz9C,CAAS;AAAA,QAC7E,IAAAoC;AAAA,QACA,eAAaouC;AAAA,QAGb,UAAA;AAAA,UAAAtwC,gBAAAA,EAAAA,IAAC,SAAI,WAAU,+CAA8C,IAAI,GAAGkC,CAAE,oBAAoB,UAAA,2RAAA,CAI1F;AAAA,UAEAlC,gBAAAA,EAAAA;AAAAA,YAAC06C;AAAAA,YAAA;AAAA,cACC,YAAYnrC,EAAM,cAAc,CAAA;AAAA,cAChC,SAAS4tC,EAAU;AAAA,gBAAQ,CAAA/K,MACzBA,EAAM,QAAQ,IAAI,CAAAyJ,OAAQ,EAAE,KAAKA,EAAI,KAAK,OAAOA,EAAI,MAAA,EAAQ;AAAA,cAAA,EAC7D;AAAA,gBAAO,CAACA,GAAKv0B,GAAO84B,MACpBA,EAAI,UAAU,CAAAtlB,MAAKA,EAAE,QAAQ+gB,EAAI,GAAG,MAAMv0B;AAAA;AAAA,cAAA;AAAA,cAE5C,cAAc,CAAC03B,MAAkB;AAC/B,gBAAAd,EAAS,EAAE,MAAM,YAAY,SAASc,GAAe;AAAA,cACvD;AAAA,cACA,WAAU;AAAA,YAAA;AAAA,UAAA;AAAA,UAIZh/C,gBAAAA,EAAAA;AAAAA,YAAC;AAAA,YAAA;AAAA,cACC,MAAK;AAAA,cACL,cAAYyqC;AAAA,cACZ,oBAAkB,GAAG6S,KAAmB,EAAE,IAAIp7C,IAAK,GAAGA,CAAE,qBAAqB,EAAE,GAAG,KAAA;AAAA,cAClF,oBAAkBq7C;AAAA,cAClB,WAAU;AAAA,cAET,UAAAJ,EAAU,IAAI,CAAC/K,GAAO9qB,MAAU;AAC/B,sBAAMsD,IAAatD,MAAU/X,EAAM,eAC7BlO,IAAa+wC,EAAM,YAAYpuB;AAErC,uBACE/jB,gBAAAA,EAAAA;AAAAA,kBAAC;AAAA,kBAAA;AAAA,oBAEC,MAAK;AAAA,oBACL,IAAI,OAAOmyC,EAAM,EAAE;AAAA,oBACnB,iBAAe,SAASA,EAAM,EAAE;AAAA,oBAChC,iBAAexnB;AAAA,oBACf,iBAAevpB;AAAA,oBACf,UAAUupB,IAAa,IAAI;AAAA,oBAC3B,KAAK,CAAAxmB,MAAM;AAAE,sBAAAgwC,EAAQ,QAAQ9sB,CAAK,IAAIljB;AAAA,oBAAI;AAAA,oBAC1C,SAAS,MAAMo6C,EAAgBl3B,CAAK;AAAA,oBACpC,WAAW,CAACliB,MAAUq5C,EAAiBr5C,GAAOkiB,CAAK;AAAA,oBACnD,UAAUjmB;AAAA,oBACV,WAAW;AAAA;AAAA,oBAEPupB,IAAa,sCAAsC,EAAE;AAAA,oBACrDvpB,IAAa,sCAAsC,EAAE;AAAA,kBACvD,KAAA;AAAA,oBAEF,UAAA;AAAA,sBAAArB,gBAAAA,EAAAA,IAAC,QAAA,EAAK,WAAU,iCAAiC,UAAAoyC,EAAM,OAAM;AAAA,sBAC5D7iC,EAAM,iBAAiB+X,CAAK,KAC3BtnB,gBAAAA,EAAAA,IAAC,UAAK,WAAU,mCAAkC,eAAY,QAAO,UAAA,IAAA,CAAC;AAAA,sBAEvEuP,EAAM,UAAU+X,CAAK,KACpBtnB,gBAAAA,EAAAA,IAAC,UAAK,WAAU,iCAAgC,eAAY,QAAO,UAAA,KAAA,CAAE;AAAA,oBAAA;AAAA,kBAAA;AAAA,kBAtBlEoyC,EAAM;AAAA,gBAAA;AAAA,cA0BjB,CAAC;AAAA,YAAA;AAAA,UAAA;AAAA,UAIF+K,EAAU,IAAI,CAAC/K,GAAO9qB,MAAU;AAC/B,kBAAMsD,IAAatD,MAAU/X,EAAM;AAEnC,mBACEvP,gBAAAA,EAAAA;AAAAA,cAAC;AAAA,cAAA;AAAA,gBAEC,MAAK;AAAA,gBACL,IAAI,SAASoyC,EAAM,EAAE;AAAA,gBACrB,mBAAiB,OAAOA,EAAM,EAAE;AAAA,gBAChC,UAAU;AAAA,gBACV,QAAQ,CAACxnB;AAAA,gBACT,KAAK,CAAAxmB,MAAM;AAAE,kBAAAy6C,EAAU,QAAQv3B,CAAK,IAAIljB;AAAA,gBAAI;AAAA,gBAC5C,WAAW,6BAA6BguC,EAAM,aAAa,EAAE;AAAA,gBAC7D,kBAAgB9qB;AAAA,gBAEf,gBACE,MAAM;AAEL,wBAAMy4B,IAAc3N,EAAM,KAAK,KAAK,CAACvrB,MAAc,cAAcA,CAAI,IACjEo5B,EAAgB7N,EAAM,MAAM7iC,EAAM,OAAO,IACzC6iC,EAAM,MAGJ8G,IAAajrB,GAAQ,MAAM;AAC/B,0BAAM0pB,IAAapoC,EAAM;AACzB,2BAAI,CAACooC,KAAcA,EAAW,WAAW,IAAUoI,IAE5C,CAAC,GAAGA,CAAW,EAAE,KAAK,CAACp6C,GAAGC,MAAM;AAErC,iCAAW,EAAE,KAAA3K,IAAK,WAAAk+C,EAAA,KAAexB,GAAY;AAC3C,4BAAIyB,IAASzzC,EAAE1K,EAAG,GACdo+C,IAASzzC,EAAE3K,EAAG;AAGlB,8BAAMm/C,KAAShI,EAAM,QAAQ,KAAK,CAAAyJ,OAAOA,GAAI,QAAQ5gD,EAAG;AAMxD,4BALIm/C,IAAQ,WACVhB,IAASgB,GAAO,OAAOz0C,CAAC,GACxB0zC,IAASe,GAAO,OAAOx0C,CAAC,IAGtBwzC,KAAU,QAAQC,KAAU,KAAM;AACtC,4BAAID,KAAU,KAAM,QAAO;AAC3B,4BAAIC,KAAU,KAAM,QAAO;AAE3B,4BAAIC,KAAa;AAajB,4BAZI,OAAOF,KAAW,YAAY,OAAOC,KAAW,WAClDC,KAAaF,IAASC,IACb,OAAOD,KAAW,aAAa,OAAOC,KAAW,YAC1DC,KAAaF,MAAWC,IAAS,IAAID,IAAS,IAAI,KAGlDE,KAAa,OAAOF,CAAM,EAAE,cAAc,OAAOC,CAAM,GAAG,QAAW;AAAA,0BACnE,SAAS;AAAA,0BACT,aAAa;AAAA,wBAAA,CACd,GAGCC,OAAe;AACjB,iCAAOH,MAAc,QAAQG,KAAa,CAACA;AAAA,sBAE/C;AACA,6BAAO;AAAA,oBACT,CAAC;AAAA,kBACH,GAAG,CAACyG,GAAaxwC,EAAM,YAAY6iC,EAAM,OAAO,CAAC;AAEjD,yBACEnyC,gBAAAA,EAAAA;AAAAA,oBAAC;AAAA,oBAAA;AAAA,sBACC,WAAU;AAAA,sBACV,MAAK;AAAA,sBACL,cAAYmyC,EAAM;AAAA,sBAClB,oBAAkBA,EAAM;AAAA,sBAExB,UAAA;AAAA,wBAAApyC,gBAAAA,MAAC,SAAA,EAAM,WAAU,qBAAoB,MAAK,YACxC,UAAAA,gBAAAA,MAAC,MAAA,EAAG,MAAK,OACN,UAAAoyC,EAAM,QAAQ,IAAI,CAACgI,GAAQZ,MAAa;AACvC,gCAAMa,IAAW9qC,EAAM,YAAY,KAAK,CAACxU,MAAuBA,EAAO,QAAQq/C,EAAO,GAAG,GACnFE,KAAW,CAAC,CAACD,GACbp6B,IAAY89B,EAAgB,cAAc,aAChCA,EAAgB,uBAAuBvE;AAEvD,iCACEx5C,gBAAAA,EAAAA;AAAAA,4BAAC;AAAA,4BAAA;AAAA,8BAEC,WAAW,mBAAmBigB,IAAY,6BAA6B,EAAE;AAAA,8BACzE,MAAK;AAAA,8BACL,UAAUA,IAAY,IAAI;AAAA,8BAC1B,SAAS,MAAM25B,EAAWtyB,GAAO8yB,EAAO,GAAG;AAAA,8BAC3C,WAAW,CAACxwC,MAAM01C,EAAoB11C,GAAG4vC,CAAQ;AAAA,8BACjD,aAAWc,KAAYD,GAAU,cAAc,QAAQ,cAAc,eAAgB;AAAA,8BAErF,UAAAp6C,gBAAAA,EAAAA,KAAC,OAAA,EAAI,WAAU,kBACb,UAAA;AAAA,gCAAAD,gBAAAA,EAAAA,IAAC,QAAA,EAAK,WAAU,gBACb,UAAAo6C,EAAO,OACV;AAAA,gCACAn6C,gBAAAA,EAAAA,KAAC,OAAA,EAAI,WAAW,4BAA4Bq6C,KAAW,mBAAmBD,GAAU,SAAS,KAAK,EAAE,IAEjG,UAAA;AAAA,kCAAA9qC,EAAM,cAAcA,EAAM,WAAW,SAAS,KAC9CA,EAAM,WAAW,UAAU,CAACxU,MAAuBA,EAAO,QAAQq/C,EAAO,GAAG,MAAM,MACjFp6C,gBAAAA,EAAAA;AAAAA,oCAAC;AAAA,oCAAA;AAAA,sCACC,WAAW,yCAAyCuP,EAAM,WAAW,UAAU,CAACxU,MAAuBA,EAAO,QAAQq/C,EAAO,GAAG,IAAI,CAAC;AAAA,sCACrI,iBAAe7qC,EAAM,WAAW,UAAU,CAACxU,MAAuBA,EAAO,QAAQq/C,EAAO,GAAG,IAAI;AAAA,sCAC/F,OAAO,kBAAkB7qC,EAAM,WAAW,UAAU,CAACxU,MAAuBA,EAAO,QAAQq/C,EAAO,GAAG,IAAI,CAAC;AAAA,sCAEzG,UAAA7qC,EAAM,WAAW,UAAU,CAACxU,MAAuBA,EAAO,QAAQq/C,EAAO,GAAG,IAAI;AAAA,oCAAA;AAAA,kCAAA;AAAA,kCAIpFE,MACCt6C,gBAAAA,EAAAA;AAAAA,oCAAC;AAAA,oCAAA;AAAA,sCACC,WAAW,qCAAqCq6C,GAAU,SAAS;AAAA,sCACnE,OAAM;AAAA,sCACN,SAAQ;AAAA,sCACR,eAAY;AAAA,sCACZ,WAAU;AAAA,sCAEV,UAAAr6C,gBAAAA,EAAAA,IAAC,QAAA,EAAK,GAAE,iHAAA,CAAiH;AAAA,oCAAA;AAAA,kCAAA;AAAA,gCAC3H,EAAA,CAEJ;AAAA,8BAAA,EAAA,CACF;AAAA,4BAAA;AAAA,4BArCKo6C,EAAO;AAAA,0BAAA;AAAA,wBAwClB,CAAC,GACH,GACF;AAAA,wBACAp6C,gBAAAA,EAAAA,IAAC,SAAA,EAAM,WAAU,qBAAoB,MAAK,YACvC,UAAAk5C,EAAW,IAAI,CAAC5F,GAAKtG,MAAa;AAEjC,gCAAMqT,IAAgB9wC,EAAM,yBAAyB8uC,EAAY9uC,EAAM,uBAAuB+jC,CAAG,GAC3FiH,KAAewD,EAAgB,cAAc,WAC/BA,EAAgB,oBAAoB/Q;AAExD,iCACEhtC,gBAAAA,EAAAA;AAAAA,4BAAC;AAAA,4BAAA;AAAA,8BAEC,MAAK;AAAA,8BACL,WAAW,YAAYqgD,IAAgB,uBAAuB,EAAE,IAAI9F,KAAe,sBAAsB,EAAE;AAAA,8BAC3G,iBAAe8F;AAAA,8BAEd,UAAAjO,EAAM,QAAQ,IAAI,CAACgI,GAAQZ,MAAa;AACvC,sCAAMr9C,IAAQi+C,EAAO,SAASA,EAAO,OAAO9G,CAAG,IAAIA,EAAI8G,EAAO,GAAG,GAC3DI,KAAgBuD,EAAgB,cAAc,WAChCA,EAAgB,oBAAoB/Q,KACpC+Q,EAAgB,uBAAuBvE,GAGrDiB,KAAc,MACd,OAAOt+C,KAAU,YAEjB8D,gBAAAA,EAAAA,KAAAyjB,YAAA,EACG,UAAA;AAAA,kCAAAy7B,EAAkBhjD,CAAK;AAAA,wDACvB,QAAA,EAAK,WAAU,2BAA2B,UAAAA,IAAQ,QAAQ,KAAA,CAAK;AAAA,gCAAA,GAClE,IAGG,OAAOA,KAAS,EAAE;AAG3B,uCACE6D,gBAAAA,EAAAA;AAAAA,kCAAC;AAAA,kCAAA;AAAA,oCAEC,MAAK;AAAA,oCACL,WAAW,aAAaw6C,KAAgB,uBAAuB,EAAE;AAAA,oCACjE,UAAUA,KAAgB,IAAI;AAAA,oCAC9B,SAAS,MAAM;AAGb,4CAAMwF,KADsBzwC,EAAM,yBAAyB8uC,EAAY9uC,EAAM,uBAAuB+jC,CAAG,IACtD,OAAOA;AACxD,sCAAA4K,EAAS;AAAA,wCACP,MAAM;AAAA,wCACN,SAAS8B;AAAA,sCAAA,CACV;AAAA,oCACH;AAAA,oCACA,WAAW,CAACp2C,OAAM+1C,GAAkB/1C,IAAGojC,GAAUwM,CAAQ;AAAA,oCAExD,UAAAiB,GAAA;AAAA,kCAAY;AAAA,kCAfRL,EAAO;AAAA,gCAAA;AAAA,8BAkBlB,CAAC;AAAA,4BAAA;AAAA,4BA5CIpN;AAAA,0BAAA;AAAA,wBA+CX,CAAC,EAAA,CACH;AAAA,sBAAA;AAAA,oBAAA;AAAA,kBAAA;AAAA,gBAGN,GAAA;AAAA,cAAG;AAAA,cApLAoF,EAAM;AAAA,YAAA;AAAA,UAwLjB,CAAC;AAAA,QAAA;AAAA,MAAA;AAAA,IAAA;AAAA,EAGP;AACF;ACz4BA,SAASkO,GAAoBC,GAA6BC,GAAsC;AAC9F,QAAM,CAACC,GAAQC,CAAS,IAAI95B,GAAqB,OAAO;AAExD,SAAAyC,GAAU,MAAM;AACd,QAAIm3B,GAAa;AACf,MAAAE,EAAUF,CAAW;AACrB;AAAA,IACF;AAEA,UAAMG,IAAe,MAAM;AACzB,YAAMj8B,IAAQ,OAAO;AAErB,MAAIA,IAAQ67B,EAAY,SACtBG,EAAU,OAAO,IACRh8B,IAAQ67B,EAAY,UAC7BG,EAAU,QAAQ,IAElBA,EAAU,OAAO;AAAA,IAErB;AAEA,WAAAC,EAAA,GACA,OAAO,iBAAiB,UAAUA,CAAY,GACvC,MAAM,OAAO,oBAAoB,UAAUA,CAAY;AAAA,EAChE,GAAG,CAACJ,GAAaC,CAAW,CAAC,GAEtBC;AACT;AAKO,MAAMG,KAAoE,CAAC;AAAA,EAChF,aAAAL,IAAc,EAAE,QAAQ,KAAK,QAAQ,MAAM,SAAS,KAAA;AAAA,EACpD,aAAAC;AAAA,EACA,YAAAK,IAAa,CAAA;AAAA,EACb,cAAAC,IAAe,CAAA;AAAA,EACf,GAAG5jD;AACL,MAAM;AACJ,QAAMujD,IAASH,GAAoBC,GAAaC,CAAW,GAErD;AAAA,IACJ,cAAAO,IAAe7jD,EAAM,UAAU,CAAC,GAAG,QAAQ,CAAC,GAAG;AAAA,IAC/C,iBAAA8jD,IAAkB9jD,EAAM,UAAU,CAAC,GAAG,QAAQ,MAAM,GAAG,CAAC,EAAE,IAAI,CAAA2+C,MAAOA,EAAI,GAAG,KAAK,CAAA;AAAA,IACjF,aAAAoF,IAAc,CAAA;AAAA,IACd,cAAAC,IAAe,CAAA;AAAA,IACf,cAAAC;AAAA,EAAA,IACEN;AAGJ,SAAIJ,MAAW,iCAEV,OAAA,EAAI,WAAW,kEAAkEvjD,EAAM,aAAa,EAAE,IAErG,UAAA;AAAA,IAAA8C,gBAAAA,EAAAA,IAAC,OAAA,EAAI,MAAK,WAAU,WAAU,qCAC3B,YAAM,UAAU,IAAI,CAACoyC,GAAO9qB,MAC3BtnB,gBAAAA,EAAAA;AAAAA,MAAC;AAAA,MAAA;AAAA,QAEC,MAAK;AAAA,QACL,WAAW,oCAAoCsnB,MAAU,IAAI,+CAA+C,EAAE;AAAA,QAE7G,UAAA8qB,EAAM;AAAA,MAAA;AAAA,MAJFA,EAAM;AAAA,IAAA,CAMd,GACH;AAAA,IAGApyC,gBAAAA,EAAAA,IAAC,OAAA,EAAI,WAAU,sCAAqC,MAAK,QACtD,UAAA9C,EAAM,UAAU,CAAC,GAAG,KAAK,IAAI,CAACo2C,GAAKhsB,MAClCtnB,gBAAAA,EAAAA;AAAAA,MAAC;AAAA,MAAA;AAAA,QAEC,WAAU;AAAA,QACV,MAAK;AAAA,QACL,UAAU;AAAA,QAET,UAAAmhD,IACCA,EAAa7N,GAAKp2C,EAAM,UAAU,CAAC,EAAE,OAAO,IAE5C8C,gBAAAA,EAAAA;AAAAA,UAACohD;AAAA,UAAA;AAAA,YACC,KAAA9N;AAAA,YACA,SAASp2C,EAAM,UAAU,CAAC,EAAE;AAAA,YAC5B,cAAA6jD;AAAA,YACA,iBAAAC;AAAA,YACA,aAAAC;AAAA,YACA,cAAAC;AAAA,UAAA;AAAA,QAAA;AAAA,MACF;AAAA,MAfG55B;AAAA,IAAA,CAkBR,EAAA,CACH;AAAA,EAAA,GACF,IAKAm5B,MAAW,WAEXzgD,gBAAAA,EAAAA,IAAC,OAAA,EAAI,WAAW,mEAAmE9C,EAAM,aAAa,EAAE,IAEtG,UAAA8C,gBAAAA,EAAAA,IAACi9C,IAAA,EAAkB,GAAG//C,GAAO,WAAU,8CAA6C,GACtF,IAKG8C,gBAAAA,MAACi9C,IAAA,EAAkB,GAAG//C,EAAA,CAAO;AACtC,GAcMkkD,KAA0D,CAAC;AAAA,EAC/D,KAAA9N;AAAA,EACA,SAAAoE;AAAA,EACA,cAAAqJ;AAAA,EACA,iBAAAC;AAAA,EACA,aAAAC;AAAA,EACA,cAAAC;AACF,MAAM;AACJ,QAAMG,IAAgB3J,EAAQ,KAAK,CAAAmE,MAAOA,EAAI,QAAQkF,CAAY,GAC5DO,IAAeD,GAAe,SAASA,EAAc,OAAO/N,CAAG,IAAIA,EAAIyN,KAAgB,EAAE;AAE/F,SACE9gD,gBAAAA,EAAAA,KAAAyjB,YAAA,EAEE,UAAA;AAAA,IAAAzjB,gBAAAA,EAAAA,KAAC,OAAA,EAAI,WAAU,4CACb,UAAA;AAAA,MAAAD,gBAAAA,EAAAA,IAAC,MAAA,EAAG,WAAU,2CACX,UAAAshD,GACH;AAAA,MAGCL,EAAY,SAAS,KACpBjhD,gBAAAA,EAAAA,IAAC,SAAI,WAAU,4CACZ,UAAAihD,EAAY,IAAI,CAAAM,MAAY;AAC3B,cAAMnH,IAAS1C,EAAQ,KAAK,CAAAmE,MAAOA,EAAI,QAAQ0F,CAAQ,GACjDplD,IAAQi+C,GAAQ,SAASA,EAAO,OAAO9G,CAAG,IAAIA,EAAIiO,CAAQ;AAChE,eACEvhD,gBAAAA,EAAAA,IAAC,QAAA,EAAoB,WAAU,qDAC5B,eADQuhD,CAEX;AAAA,MAEJ,CAAC,EAAA,CACH;AAAA,IAAA,GAEJ;AAAA,0BAGC,OAAA,EAAI,WAAU,0CACZ,UAAAP,EAAgB,IAAI,CAAAO,MAAY;AAC/B,YAAMnH,IAAS1C,EAAQ,KAAK,CAAAmE,MAAOA,EAAI,QAAQ0F,CAAQ;AACvD,UAAI,CAACnH,KAAU8G,EAAa,SAASK,CAAQ,EAAG,QAAO;AAEvD,YAAMplD,IAAQi+C,EAAO,SAASA,EAAO,OAAO9G,CAAG,IAAIA,EAAIiO,CAAQ;AAE/D,aACEthD,gBAAAA,EAAAA,KAAC,OAAA,EAAmB,WAAU,2CAC5B,UAAA;AAAA,QAAAD,gBAAAA,EAAAA,IAAC,MAAA,EAAG,WAAU,iDACX,UAAAo6C,EAAO,OACV;AAAA,QACAp6C,gBAAAA,EAAAA,IAAC,MAAA,EAAG,WAAU,iDACX,UAAA,OAAO7D,KAAU,YAAaA,IAAQ,MAAM,MAAO,OAAOA,KAAS,EAAE,EAAA,CACxE;AAAA,MAAA,EAAA,GANQolD,CAOV;AAAA,IAEJ,CAAC,EAAA,CACH;AAAA,IAGAvhD,gBAAAA,EAAAA,IAAC,OAAA,EAAI,WAAU,6CACb,UAAAA,gBAAAA,EAAAA,IAAC,UAAA,EAAO,WAAU,wCAAuC,MAAK,UAAS,UAAA,eAAA,CAEvE,EAAA,CACF;AAAA,EAAA,GACF;AAEJ,GCrHawhD,KAA+C;AAAA,EAC1D,KAAK;AAAA,EACL,MAAM;AACR,GA0BaC,KAAmC,CAACC,MAC/C,CAAC,GAAGA,CAAO,EAAE,KAAK,CAAC/7C,GAAGC,MAAMD,EAAE,WAAWC,EAAE,QAAQ;AAK9C,SAAS+7C,GAAmBD,GAAqC;AACtE,SAAOA,EAAQ,IAAI,CAAC3mD,GAAQusB,OAAW;AAAA,IACrC,GAAGvsB;AAAA,IACH,UAAUusB;AAAA,EAAA,EACV;AACJ;AAoBO,SAASs6B,GAAeF,GAA+B;AAC5D,SAAOA,EAAQ,SAAS,IAAI,KAAK,IAAI,GAAGA,EAAQ,IAAI,CAAA5mB,MAAKA,EAAE,QAAQ,CAAC,IAAI;AAC1E;AAKO,SAAS+mB,GAAUC,GAAgBJ,GAAgC;AACxE,QAAMnF,IAAOmF,EAAQ,KAAK,CAAA5mB,MAAKA,EAAE,OAAOgnB,CAAM;AAC9C,SAAOvF,IAAOA,EAAK,WAAW,IAAI;AACpC;AAKO,SAASwF,GAAYD,GAAgBJ,GAAgC;AAC1E,QAAMnF,IAAOmF,EAAQ,KAAK,CAAA5mB,MAAKA,EAAE,OAAOgnB,CAAM,GACxCE,IAAcJ,GAAeF,CAAO;AAC1C,SAAOnF,IAAOA,EAAK,WAAWyF,IAAc;AAC9C;ACtIO,MAAMtH,KAAsD,CAAC;AAAA,EAClE,YAAA/C;AAAA,EACA,cAAAgD;AAAA,EACA,WAAA76C,IAAY;AAAA,EACZ,kBAAA86C,IAAmB;AAAA,EACnB,mBAAAC;AAAA,EACA,WAAAC,IAAY;AAAA,EACZ,UAAAC,IAAW;AAAA,EACX,UAAA/2B,IAAW;AAAA,EACX,WAAAymB,IAAY;AAAA,EACZ,iBAAA+F;AACF,MAAM;AAEJ,QAAMyR,IAAeh0B,GAAQ,MAAMwzB,GAAe9J,CAAU,GAAG,CAACA,CAAU,CAAC,GAGrEoE,IAAwB3yB,EAAY,CAAC04B,MAAmB;AAC5D,QAAI99B,EAAU;AAEd,UAAMi4B,IAAgBtE,EAAW;AAAA,MAAI,CAAA58C,MACnCA,EAAO,OAAO+mD,IACV,EAAE,GAAG/mD,GAAQ,WAAWA,EAAO,cAAc,QAAQ,SAAkB,UACvEA;AAAA,IAAA;AAEN,IAAA4/C,EAAasB,CAAa;AAAA,EAC5B,GAAG,CAACtE,GAAYgD,GAAc32B,CAAQ,CAAC,GAGjCk+B,IAAe94B,EAAY,CAAC04B,MAAmB;AACnD,QAAI99B,EAAU;AAEd,UAAMm+B,IAAYxK,EAAW,UAAU,CAAA7c,MAAKA,EAAE,OAAOgnB,CAAM;AAC3D,QAAIK,KAAa,EAAG;AAEpB,UAAM1G,IAAY,CAAC,GAAG9D,CAAU;AAChC,KAAC8D,EAAU0G,CAAS,GAAG1G,EAAU0G,IAAY,CAAC,CAAC,IAAI,CAAC1G,EAAU0G,IAAY,CAAC,GAAG1G,EAAU0G,CAAS,CAAC,GAClGxH,EAAagH,GAAmBlG,CAAS,CAAC;AAAA,EAC5C,GAAG,CAAC9D,GAAYgD,GAAc32B,CAAQ,CAAC,GAGjCo+B,IAAiBh5B,EAAY,CAAC04B,MAAmB;AACrD,QAAI99B,EAAU;AAEd,UAAMm+B,IAAYxK,EAAW,UAAU,CAAA7c,MAAKA,EAAE,OAAOgnB,CAAM;AAC3D,QAAIK,KAAaxK,EAAW,SAAS,KAAKwK,MAAc,GAAI;AAE5D,UAAM1G,IAAY,CAAC,GAAG9D,CAAU;AAChC,KAAC8D,EAAU0G,CAAS,GAAG1G,EAAU0G,IAAY,CAAC,CAAC,IAAI,CAAC1G,EAAU0G,IAAY,CAAC,GAAG1G,EAAU0G,CAAS,CAAC,GAClGxH,EAAagH,GAAmBlG,CAAS,CAAC;AAAA,EAC5C,GAAG,CAAC9D,GAAYgD,GAAc32B,CAAQ,CAAC,GAGjCk4B,IAAe9yB,EAAY,CAAC04B,MAAmB;AACnD,QAAI99B,EAAU;AAEd,UAAMm4B,IAAiBxE,EAAW,OAAO,CAAA58C,MAAUA,EAAO,OAAO+mD,CAAM;AACvE,IAAAnH,EAAagH,GAAmBxF,CAAc,CAAC;AAAA,EACjD,GAAG,CAACxE,GAAYgD,GAAc32B,CAAQ,CAAC,GAGjCo4B,IAAchzB,EAAY,MAAM;AACpC,IAAIpF,KACJ22B,EAAa,CAAA,CAAE;AAAA,EACjB,GAAG,CAACA,GAAc32B,CAAQ,CAAC,GAGrBq4B,IAAqB,MAAuB;AAChD,QAAI1E,EAAW,WAAW;AACxB,aAAOiD;AAGT,QAAIC;AACF,aAAOA;AAGT,UAAMyB,IAAmB2F,EAAa,IAAI,CAAC1F,GAAMj1B,MAAU;AACzD,YAAM6xB,IAAYoD,EAAK,cAAc,QAAQ,cAAc;AAC3D,aAAO,GAAGj1B,IAAQ,CAAC,KAAKi1B,EAAK,KAAK,KAAKpD,CAAS;AAAA,IAClD,CAAC;AAED,QAAImD,EAAiB,WAAW;AAC9B,aAAO,cAAcA,EAAiB,CAAC,CAAC;AAC1C,QAAWA,EAAiB,WAAW;AACrC,aAAO,cAAcA,EAAiB,KAAK,OAAO,CAAC;AAC9C;AACL,YAAMxN,IAAWwN,EAAiB,IAAA;AAClC,aAAO,cAAcA,EAAiB,KAAK,IAAI,CAAC,SAASxN,CAAQ;AAAA,IACnE;AAAA,EACF,GAGMrqB,IAAcwJ,GAAQ,MAAM;AAChC,UAAMuuB,IAAM,CAAC,kBAAkB;AAC/B,WAAIzB,KAAUyB,EAAI,KAAK,WAAW,GAC9BhM,KAAiBgM,EAAI,KAAKhM,CAAe,GACtCgM,EAAI,KAAK,GAAG;AAAA,EACrB,GAAG,CAACzB,GAAUvK,CAAe,CAAC;AAG9B,SAAImH,EAAW,WAAW,IAEtB33C,gBAAAA,EAAAA,IAAC,OAAA,EAAI,WAAW,kDAAkDF,CAAS,IACzE,UAAAE,gBAAAA,EAAAA;AAAAA,IAAC;AAAA,IAAA;AAAA,MACC,WAAU;AAAA,MACV,IAAG;AAAA,MACH,aAAU;AAAA,MAET,UAAAq8C,EAAA;AAAA,IAAmB;AAAA,EAAA,GAExB,IAKFp8C,gBAAAA,EAAAA,KAAC,OAAA,EAAI,WAAW,uBAAuBH,CAAS,IAE9C,UAAA;AAAA,IAAAE,gBAAAA,EAAAA;AAAAA,MAAC;AAAA,MAAA;AAAA,QACC,WAAU;AAAA,QACV,IAAG;AAAA,QACH,aAAU;AAAA,QAET,UAAAq8C,EAAA;AAAA,MAAmB;AAAA,IAAA;AAAA,IAItBp8C,gBAAAA,EAAAA;AAAAA,MAAC;AAAA,MAAA;AAAA,QACC,WAAU;AAAA,QACV,MAAK;AAAA,QACL,cAAYwqC;AAAA,QACZ,oBAAkBhmB;AAAA,QAElB,UAAA;AAAA,UAAAzkB,gBAAAA,EAAAA,IAAC,OAAA,EAAI,WAAU,mCAAkC,UAAA,oBAEjD;AAAA,UAECiiD,EAAa,IAAI,CAAClnD,MACjBiF,gBAAAA,EAAAA;AAAAA,YAAC;AAAA,YAAA;AAAA,cAEC,WAAU;AAAA,cACV,MAAK;AAAA,cAEL,UAAAA,gBAAAA,EAAAA;AAAAA,gBAAC2jB;AAAA,gBAAA;AAAA,kBACC,MAAK;AAAA,kBACL,OAAM;AAAA,kBACN,WAAU;AAAA,kBACV,UAAQ;AAAA,kBACR,SAAS,MAAMu4B,EAAanhD,EAAO,EAAE;AAAA,kBACrC,UAAAipB;AAAA,kBAEA,UAAA/jB,gBAAAA,EAAAA,KAAC,OAAA,EAAI,WAAU,oCACb,UAAA;AAAA,oBAAAD,gBAAAA,MAAC,QAAA,EAAK,WAAU,qCACb,UAAAjF,EAAO,WAAW,GACrB;AAAA,oBACAiF,gBAAAA,EAAAA,IAAC,QAAA,EAAK,WAAU,kCACb,YAAO,OACV;AAAA,oBACAA,gBAAAA,EAAAA;AAAAA,sBAAC;AAAA,sBAAA;AAAA,wBACC,MAAK;AAAA,wBACL,WAAU;AAAA,wBACV,SAAS,MAAM+7C,EAAsBhhD,EAAO,EAAE;AAAA,wBAC9C,UAAAipB;AAAA,wBACA,cAAY,6BAA6BjpB,EAAO,KAAK,eAAeA,EAAO,cAAc,QAAQ,cAAc,YAAY;AAAA,wBAC3H,OAAM;AAAA,wBAEL,UAAAA,EAAO,cAAc,QAAQymD,GAAyB,MAAMA,GAAyB;AAAA,sBAAA;AAAA,oBAAA;AAAA,oBAExFvhD,gBAAAA,EAAAA,KAAC,OAAA,EAAI,WAAU,oCACb,UAAA;AAAA,sBAAAD,gBAAAA,EAAAA;AAAAA,wBAAC;AAAA,wBAAA;AAAA,0BACC,MAAK;AAAA,0BACL,WAAU;AAAA,0BACV,SAAS,MAAMkiD,EAAannD,EAAO,EAAE;AAAA,0BACrC,UAAUipB,KAAY,CAAC69B,GAAU9mD,EAAO,IAAI48C,CAAU;AAAA,0BACtD,cAAY,QAAQ58C,EAAO,KAAK;AAAA,0BAChC,OAAM;AAAA,0BACP,UAAA;AAAA,wBAAA;AAAA,sBAAA;AAAA,sBAGDiF,gBAAAA,EAAAA;AAAAA,wBAAC;AAAA,wBAAA;AAAA,0BACC,MAAK;AAAA,0BACL,WAAU;AAAA,0BACV,SAAS,MAAMoiD,EAAernD,EAAO,EAAE;AAAA,0BACvC,UAAUipB,KAAY,CAAC+9B,GAAYhnD,EAAO,IAAI48C,CAAU;AAAA,0BACxD,cAAY,QAAQ58C,EAAO,KAAK;AAAA,0BAChC,OAAM;AAAA,0BACP,UAAA;AAAA,wBAAA;AAAA,sBAAA;AAAA,oBAED,EAAA,CACF;AAAA,kBAAA,EAAA,CACF;AAAA,gBAAA;AAAA,cAAA;AAAA,YACF;AAAA,YApDKA,EAAO;AAAA,UAAA,CAsDf;AAAA,QAAA;AAAA,MAAA;AAAA,IAAA;AAAA,IAIF+/C,KACC96C,gBAAAA,EAAAA,IAAC,OAAA,EAAI,WAAU,gCACb,UAAAA,gBAAAA,EAAAA;AAAAA,MAACgjB;AAAA,MAAA;AAAA,QACC,SAAQ;AAAA,QACR,SAASo5B;AAAA,QACT,YAAYp4B;AAAA,QACZ,cAAW;AAAA,QACX,WAAU;AAAA,QACX,UAAA;AAAA,MAAA;AAAA,IAAA,GAGH;AAAA,IAID+2B,2BACE,OAAA,EAAI,WAAU,6BAA4B,IAAG,aAC5C,iCAAC,SAAA,EAAM,UAAA;AAAA,MAAA;AAAA,MACEyG,GAAyB;AAAA,MAAI;AAAA,MAAEA,GAAyB;AAAA,MAAK;AAAA,IAAA,EAAA,CAEtE,EAAA,CACF;AAAA,EAAA,GAEJ;AAEJ,GC5Oaa,KAAwB,SACxBC,KAA0B,SAC1BC,KAAwB,SACxBC,KAAwB,8BACxBC,KAAyB,8BACzBC,KAA2B,gCAC3BC,KAAwB,0CACxBC,KACX,qDACWC,KACX,+CACWC,KACX,8FACWC,KACX,iDACWC,KAAqB,OACrBC,KAAyB,OACzBC,KAA8B,OAC9BC,KAAwB,OACxBC,KAAmB,OACnBC,KAAyB,OACzBC,KAAuB,OACvBC,KAAmB,OACnBC,KAAoB,OACpBC,KAAqB,OACrBC,KAAoB,QACpBC,KAAqB,WACrBC,KAAkB,WAClBC,KAAkB,WAClBC,KAAuB,WACvBC,KAAmB,WACnBC,KAAmB,WACnBC,KAAoB,WACpBC,KAAoB,WACpBC,KAAoB,WACpBC,KAAqB,WACrBC,KAAuB,WACvBC,KAAkB,WAClBC,KAAqB,WACrBC,KAA2B,WAC3BC,KAA2B,WAC3BC,KAAuB,WACvBC,KAA0B,WAC1BC,KAAqB,WACrBC,KAAa,WACbC,KAAa,WACbC,KAAa,WACbC,KAAa,WACbC,KAAa,WACbC,KAAmB,WACnBC,KAAqB,WACrBC,KAAmB,WACnBC,KAAiB,WACjBC,KAAmB,WACnBC,KAAiB,WACjBC,KAAkB,WAClBC,KAAmB,WACnBC,KAAuB,WACvBC,KAAiB,WACjBC,KAAqB,WACrBC,KAAuB,aACvBC,KAAa,WACbC,KAAkB,WAClBC,KAAsB,WACtBC,KAA+B,WAC/BC,KAAyB,WACzBC,KAA0B,WAC1BC,KAA2B,WAC3BC,KAA2B,WAC3BC,KAAiC,aACjCC,KAAsC,WACtCC,KAA6B,WAC7BC,KAA2B,WAC3BC,KAA4B,WAC5BC,KAA6B,WAC7BC,KAA6B,WAC7BC,KAA+B,WAC/BC,KAAyB,WACzBC,KAA0B,WAC1BC,KAA2B,WAC3BC,KAA2B,WAC3BC,KAA+B,WAC/BC,KAA0B,WAC1BC,KAA2B,WAC3BC,KAA2B,WAC3BC,KAA6B,WAC7BC,KAAwB,WACxBC,KAAyB,WACzBC,KAAyB,WACzBC,KAAuC,OACvCC,KAAyC,QACzCC,KAAwC,QACxCC,KAA0C,QAC1CC,KAA4B,OAC5BC,KAA8B,QAC9BC,KAA4B,OAC5BC,KAA4B,QAC5BC,KAAoC,QACpCC,KAA6B,QAC7BC,KAA8B,QAC9BC,KAA6B,QAC7BC,KAA8B,QAC9BC,KAA+B,QAC/BC,KAAuC,OACvCC,KAAwC,OACxCC,KAAsC,QACtCC,KAAuC,QACvCC,KAA0C,OAC1CC,KAA4C,QAC5CC,KAAgC,QAChCC,KAAkB,OAClBC,KAAgB,OAChBC,KAAgB,OAChBC,KAAmB,OACnBC,KAAoB,OACpBC,KAAsB,QACtBC,KAAiC,WACjCC,KAA+B,WAC/BC,KAAgC,WAChCC,KAAkC,WAClCC,KAA2B,WAC3BC,KAA4B,WAC5BC,KAA6B,aAC7BC,KAA2B,WAC3BC,KAAmC,aACnCC,KAAiC,WACjCC,KAAiC,WACjCC,KAAkC,WAClCC,KAA6B,WAC7BC,KAA+B,WAC/BC,KAAqC,OACrCC,KAAuC,QACvCC,KAAsC,QACtCC,KAAwC,QACxCC,KAAoB,OACpBC,KAAqB,OACrBC,KAAmB,OACnBC,KAAyB,OACzBC,KAAwB,WACxBC,KAAoB,WACpBC,KAAkB,WAClBC,KAAmB,WACnBC,KAAkB,WAClBC,KAAsB,WACtBC,KAAe,WACfC,KAA2B,QAC3BC,KAA4B,QAC5BC,KAA2B,QAC3BC,KAAyB,OACzBC,KAAwB,OACxBC,KAAoB,QACpBC,KAAkB,gCAClBC,KAA6B,WAC7BC,KAA2B,WAC3BC,KAA8B,WAC9BC,KAA2B,WAC3BC,KAAyB,WACzBC,KAAuB,WACvBC,KAAuB,WACvBC,KAA0B,WAC1BC,KAAuB,WACvBC,KAA2B,WAC3BC,KAAwB,WACxBC,KAAuB,WACvBC,KAAwB,WACxBC,KAA4B,OAC5BC,KAAuB,WACvBC,KAA4B,OAC5BC,KAAsB,WACtBC,KAA0B,OAC1BC,KAA4B,QAC5BC,KAA0B,QAC1BC,KAAkC,QAClCC,KAAyB,OACzBC,KAAuB,OACvBC,KAAmB,OACnBC,KAAgB,QAChBC,KAAiB,QACjBC,KAAgB,QAChBC,KAAqB,QACrBC,KAAqB,QACrBC,KAAuB,QACvBC,KAAwB,QACxBC,KAAuB,QACvBC,KAAuB,SACvBC,KAAuB,SACvBC,KAAuB,OACvBC,KAAuB,UACvBC,KAAuB,QACvBC,KAAwB,QACxBC,KAAwB,QACxBC,KAA4B,QAC5BC,KAA6B,QAC7BC,KAA0B,UAC1BC,KAAmB,QACnBC,KAAmB,OACnBC,KAAoB,WACpBC,KAAsB,OACtBC,KAAsB,OACtBC,KAAmB,SACnBC,KAAmB,SACnBC,KAAoB,UACpBC,KAAyB,UACzBC,KAAgB,SAChBC,KAAa,QACbC,KAAiB,QACjBC,KAAuB,WACvBC,KAAmB,WACnBC,KAAiB,WACjBC,KAAyB,WACzBC,KAAqB,WACrBC,KAAmB,WACnBC,KAAyB,WACzBC,KAAqB,WACrBC,KAAmB,WACnBC,KAAsB,WACtBC,KAAkB,WAClBC,KAAgB,WAChBC,KAA0B,WAC1BC,KAAsB,WACtBC,KAAoB,WACpBC,KAAsB,mBACtBC,KAAwB,mBACxBC,KAAsB,mBACtBC,KAAoB,mBACpBC,KAAoB,QACpBC,KAAkB,gCAClBC,KAAoB,OACpBC,KAAqB,OACrBC,KAAoB,SACpBC,KAAmB,qBACnBC,KAAoB,qBACpBC,KAAgB,QAChBC,KAAe,iCACfC,KAAkB,iCAClBC,KAAgB,kCAChBC,KAAW,KACXC,KAAW,OACXC,KAAW,OACXC,KAAW,QACXC,KAAW,QACXC,KAAW,QACXC,KAAW,QACXC,KAAW,QACXC,KAAW,QACXC,KAAW,QACXC,KAA2B,KAC3BC,KAA2B,KAC3BC,KAA2B,OAC3BC,KAA2B,OAC3BC,KAA2B,OAC3BC,KAA2B,OAC3BC,KAA2B,OAC3BC,KAA2B,QAC3BC,KAA2B,QAC3BC,KAA2B,QAC3BC,KAA2B,QAC3BC,KAA2B,QAC3BC,KAA2B,QAC3BC,KAA2B,QAC3BC,KAA2B,QAC3BC,KAA2B,QAC3BC,KAA2B,QAC3BC,KAA2B,QAC3BC,KAA2B,QAC3BC,KAA2B,QAC3BC,KAAiB,gBACjBC,KAAqB,gCACrBC,KAAkB,cAClBC,KAAmB,OACnBC,KAAiB,OACjBC,KAAkB,OAClBC,KAAmB,QACnBC,KAAmB,QACnBC,KAAkB,QAClBC,KAAmB,QACnBC,KAAmB,QACnBC,KAAkB,QAClBC,KAAmB,QACnBC,KAAmB,QACnBC,KAAkB,QAClBC,KAAmB,QACnBC,KAAmB,QACnBC,KAAkB,QAClBC,KAAmB,QACnBC,KAAmB,QACnBC,KAAkB,QAClBC,KAAmB,QACnBC,KAAmB,QACnBC,KAAkB,QAClBC,KAAmB,QACnBC,KAAmB,QACnBC,KAAkB,QAClBC,KAAe,QACfC,KAAqB,QACrBC,KAAyB;AAAA,EACpC,YAAY;AAAA,EACZ,YAAY;AAAA,EACZ,UAAU,EAAE,QAAQ,QAAQ,QAAQ,QAAQ,OAAO,OAAA;AAAA,EACnD,YAAY;AAAA,EACZ,WAAW;AAAA,EACX,cAAc,EAAE,QAAQ,QAAQ,QAAQ,OAAA;AAC1C,GACaC,KAAwB;AAAA,EACnC,YAAY;AAAA,EACZ,YAAY;AAAA,EACZ,UAAU,EAAE,QAAQ,QAAQ,QAAQ,QAAQ,OAAO,OAAA;AAAA,EACnD,YAAY;AAAA,EACZ,WAAW;AAAA,EACX,cAAc,EAAE,QAAQ,QAAQ,QAAQ,OAAA;AAC1C,GACaC,KAAwB;AAAA,EACnC,YAAY;AAAA,EACZ,YAAY;AAAA,EACZ,UAAU,EAAE,QAAQ,QAAQ,QAAQ,QAAQ,OAAO,OAAA;AAAA,EACnD,YAAY;AAAA,EACZ,WAAW;AAAA,EACX,cAAc,EAAE,QAAQ,QAAQ,QAAQ,OAAA;AAC1C,GACaC,KAAwB;AAAA,EACnC,YAAY;AAAA,EACZ,YAAY;AAAA,EACZ,UAAU,EAAE,QAAQ,QAAQ,QAAQ,QAAQ,OAAO,OAAA;AAAA,EACnD,YAAY;AAAA,EACZ,WAAW;AAAA,EACX,cAAc,EAAE,QAAQ,QAAQ,QAAQ,OAAA;AAC1C,GACaC,KAAyB;AAAA,EACpC,YAAY;AAAA,EACZ,YAAY;AAAA,EACZ,UAAU,EAAE,QAAQ,QAAQ,QAAQ,QAAQ,OAAO,OAAA;AAAA,EACnD,YAAY;AAAA,EACZ,WAAW;AAAA,EACX,cAAc,EAAE,QAAQ,QAAQ,QAAQ,OAAA;AAC1C,GACaC,KAAiB;AAAA,EAC5B,YAAY;AAAA,EACZ,YAAY;AAAA,EACZ,UAAU,EAAE,QAAQ,QAAQ,QAAQ,QAAQ,OAAO,OAAA;AAAA,EACnD,YAAY;AAAA,EACZ,WAAW;AAAA,EACX,cAAc,EAAE,QAAQ,QAAQ,QAAQ,OAAA;AAC1C,GACaC,KAAsB;AAAA,EACjC,YAAY;AAAA,EACZ,YAAY;AAAA,EACZ,UAAU,EAAE,QAAQ,QAAQ,QAAQ,QAAQ,OAAO,OAAA;AAAA,EACnD,YAAY;AAAA,EACZ,WAAW;AAAA,EACX,cAAc,EAAE,QAAQ,QAAQ,QAAQ,OAAA;AAC1C,GACaC,KAAsB;AAAA,EACjC,YAAY;AAAA,EACZ,YAAY;AAAA,EACZ,UAAU,EAAE,QAAQ,QAAQ,QAAQ,QAAQ,OAAO,OAAA;AAAA,EACnD,YAAY;AAAA,EACZ,WAAW;AAAA,EACX,cAAc,EAAE,QAAQ,QAAQ,QAAQ,OAAA;AAC1C,GACaC,KAAqB;AAAA,EAChC,YAAY;AAAA,EACZ,YAAY;AAAA,EACZ,UAAU,EAAE,QAAQ,QAAQ,QAAQ,QAAQ,OAAO,OAAA;AAAA,EACnD,YAAY;AAAA,EACZ,WAAW;AAAA,EACX,cAAc,EAAE,QAAQ,QAAQ,QAAQ,OAAA;AAC1C,GACaC,KAA0B;AAAA,EACrC,YAAY;AAAA,EACZ,YAAY;AAAA,EACZ,UAAU,EAAE,QAAQ,QAAQ,QAAQ,QAAQ,OAAO,OAAA;AAAA,EACnD,YAAY;AAAA,EACZ,WAAW;AAAA,EACX,cAAc,EAAE,QAAQ,QAAQ,QAAQ,OAAA;AAC1C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;8CCnXaC,KAAsB,CAClCC,GACApqC,OAIK;AAAA,EACL,UAAUoqC,EAAS;AAAA,EACnB,cAAcpqC,EAAa;AAAA,EAC3B,6BAA6B;AAAA,IAC7B,UAAUoqC,EAAS;AAAA,IACnB,cAAcpqC,EAAa;AAAA,EAAA;AAAA,EAE3B,gBAAgB;AAAA,IAChB,UAAUoqC,EAAS,SAASA,EAAS;AAAA,EAAA;AAEtC,IAGaC,KAAkG,CAAC;AAAA,EAC/G,UAAAn3D;AAAA,EACA,WAAA6B,IAAY;AAAA,EACZ,OAAAgN,IAAQ,CAAA;AACT,MACC9M,gBAAAA,EAAAA;AAAAA,EAAC;AAAA,EAAA;AAAA,IACD,WAAAF;AAAA,IACA,OAAO;AAAA,MACN,YAAYu1D,GAA8B;AAAA,MAC1C,YAAYA,GAA8B;AAAA,MAC1C,UAAUA,GAA8B,SAAS;AAAA,MACjD,YAAYA,GAA8B;AAAA,MAC1C,WAAWA,GAA8B;AAAA,MACzC,cAAcA,GAA8B,aAAa;AAAA,MACzD,GAAGvoD;AAAA,IAAA;AAAA,IAGH,UAAA7O;AAAA,EAAA;AACD,GAGYq3D,KAAkG,CAAC;AAAA,EAC/G,UAAAr3D;AAAA,EACA,WAAA6B,IAAY;AAAA,EACZ,OAAAgN,IAAQ,CAAA;AACT,MACC9M,gBAAAA,EAAAA;AAAAA,EAAC;AAAA,EAAA;AAAA,IACD,WAAAF;AAAA,IACA,OAAO;AAAA,MACN,YAAYy1D,GAA6B;AAAA,MACzC,YAAYA,GAA6B;AAAA,MACzC,UAAUA,GAA6B,SAAS;AAAA,MAChD,YAAYA,GAA6B;AAAA,MACzC,WAAWA,GAA6B;AAAA,MACxC,cAAcA,GAA6B,aAAa;AAAA,MACxD,GAAGzoD;AAAA,IAAA;AAAA,IAGH,UAAA7O;AAAA,EAAA;AACD,GAGYu3D,KAAkG,CAAC;AAAA,EAC/G,UAAAv3D;AAAA,EACA,WAAA6B,IAAY;AAAA,EACZ,OAAAgN,IAAQ,CAAA;AACT,MACC9M,gBAAAA,EAAAA;AAAAA,EAAC;AAAA,EAAA;AAAA,IACD,WAAAF;AAAA,IACA,OAAO;AAAA,MACN,YAAY21D,GAA6B;AAAA,MACzC,YAAYA,GAA6B;AAAA,MACzC,UAAUA,GAA6B,SAAS;AAAA,MAChD,YAAYA,GAA6B;AAAA,MACzC,WAAWA,GAA6B;AAAA,MACxC,cAAcA,GAA6B,aAAa;AAAA,MACxD,GAAG3oD;AAAA,IAAA;AAAA,IAGH,UAAA7O;AAAA,EAAA;AACD,GAGYy3D,KAAkG,CAAC;AAAA,EAC/G,UAAAz3D;AAAA,EACA,WAAA6B,IAAY;AAAA,EACZ,OAAAgN,IAAQ,CAAA;AACT,MACC9M,gBAAAA,EAAAA;AAAAA,EAAC;AAAA,EAAA;AAAA,IACD,WAAAF;AAAA,IACA,OAAO;AAAA,MACN,YAAY61D,GAA6B;AAAA,MACzC,YAAYA,GAA6B;AAAA,MACzC,UAAUA,GAA6B,SAAS;AAAA,MAChD,YAAYA,GAA6B;AAAA,MACzC,WAAWA,GAA6B;AAAA,MACxC,cAAcA,GAA6B,aAAa;AAAA,MACxD,GAAG7oD;AAAA,IAAA;AAAA,IAGH,UAAA7O;AAAA,EAAA;AACD,GAGY23D,KAAkG,CAAC;AAAA,EAC/G,UAAA33D;AAAA,EACA,WAAA6B,IAAY;AAAA,EACZ,OAAAgN,IAAQ,CAAA;AACT,MACC9M,gBAAAA,EAAAA;AAAAA,EAAC;AAAA,EAAA;AAAA,IACD,WAAAF;AAAA,IACA,OAAO;AAAA,MACN,YAAY+1D,GAA8B;AAAA,MAC1C,YAAYA,GAA8B;AAAA,MAC1C,UAAUA,GAA8B,SAAS;AAAA,MACjD,YAAYA,GAA8B;AAAA,MAC1C,WAAWA,GAA8B;AAAA,MACzC,cAAcA,GAA8B,aAAa;AAAA,MACzD,GAAG/oD;AAAA,IAAA;AAAA,IAGH,UAAA7O;AAAA,EAAA;AACD,GAIY63D,KAAkG,CAAC;AAAA,EAC/G,UAAA73D;AAAA,EACA,WAAA6B,IAAY;AAAA,EACZ,OAAAgN,IAAQ,CAAA;AACT,MACC9M,gBAAAA,EAAAA;AAAAA,EAAC;AAAA,EAAA;AAAA,IACD,WAAAF;AAAA,IACA,OAAO;AAAA,MACN,YAAYi2D,GAAsB;AAAA,MAClC,YAAYA,GAAsB;AAAA,MAClC,UAAUA,GAAsB,SAAS;AAAA,MACzC,YAAYA,GAAsB;AAAA,MAClC,WAAWA,GAAsB;AAAA,MACjC,cAAcA,GAAsB,aAAa;AAAA,MACjD,GAAGjpD;AAAA,IAAA;AAAA,IAGH,UAAA7O;AAAA,EAAA;AACD,GAGY+3D,KAAuG,CAAC;AAAA,EACpH,UAAA/3D;AAAA,EACA,WAAA6B,IAAY;AAAA,EACZ,OAAAgN,IAAQ,CAAA;AACT,MACC9M,gBAAAA,EAAAA;AAAAA,EAAC;AAAA,EAAA;AAAA,IACD,WAAAF;AAAA,IACA,OAAO;AAAA,MACN,YAAYm2D,GAA2B;AAAA,MACvC,YAAYA,GAA2B;AAAA,MACvC,UAAUA,GAA2B,SAAS;AAAA,MAC9C,YAAYA,GAA2B;AAAA,MACvC,WAAWA,GAA2B;AAAA,MACtC,cAAcA,GAA2B,aAAa;AAAA,MACtD,GAAGnpD;AAAA,IAAA;AAAA,IAGH,UAAA7O;AAAA,EAAA;AACD,GAGYi4D,KAAuG,CAAC;AAAA,EACpH,UAAAj4D;AAAA,EACA,WAAA6B,IAAY;AAAA,EACZ,OAAAgN,IAAQ,CAAA;AACT,MACC9M,gBAAAA,EAAAA;AAAAA,EAAC;AAAA,EAAA;AAAA,IACD,WAAAF;AAAA,IACA,OAAO;AAAA,MACN,YAAYq2D,GAA2B;AAAA,MACvC,YAAYA,GAA2B;AAAA,MACvC,UAAUA,GAA2B,SAAS;AAAA,MAC9C,YAAYA,GAA2B;AAAA,MACvC,WAAWA,GAA2B;AAAA,MACtC,cAAcA,GAA2B,aAAa;AAAA,MACtD,GAAGrpD;AAAA,IAAA;AAAA,IAGH,UAAA7O;AAAA,EAAA;AACD,GAGYm4D,KAAkG,CAAC;AAAA,EAC/G,UAAAn4D;AAAA,EACA,WAAA6B,IAAY;AAAA,EACZ,OAAAgN,IAAQ,CAAA;AACT,MACC9M,gBAAAA,EAAAA;AAAAA,EAAC;AAAA,EAAA;AAAA,IACD,WAAAF;AAAA,IACA,OAAO;AAAA,MACN,YAAYu2D,GAA0B;AAAA,MACtC,YAAYA,GAA0B;AAAA,MACtC,UAAUA,GAA0B,SAAS;AAAA,MAC7C,YAAYA,GAA0B;AAAA,MACtC,WAAWA,GAA0B;AAAA,MACrC,cAAcA,GAA0B,aAAa;AAAA,MACrD,GAAGvpD;AAAA,IAAA;AAAA,IAGH,UAAA7O;AAAA,EAAA;AACD,GAGYq4D,KAAuG,CAAC;AAAA,EACpH,UAAAr4D;AAAA,EACA,WAAA6B,IAAY;AAAA,EACZ,OAAAgN,IAAQ,CAAA;AACT,MACC9M,gBAAAA,EAAAA;AAAAA,EAAC;AAAA,EAAA;AAAA,IACD,WAAAF;AAAA,IACA,OAAO;AAAA,MACN,YAAYy2D,GAA+B;AAAA,MAC3C,YAAYA,GAA+B;AAAA,MAC3C,UAAUA,GAA+B,SAAS;AAAA,MAClD,YAAYA,GAA+B;AAAA,MAC3C,WAAWA,GAA+B;AAAA,MAC1C,cAAcA,GAA+B,aAAa;AAAA,MAC1D,GAAGzpD;AAAA,IAAA;AAAA,IAGH,UAAA7O;AAAA,EAAA;AACD,GC1KYu4D,KAAY,MACjBvoC,GAAQ,MAAMwoC,IAAQ,EAAE,GAGnBC,KAAY,MACjBzoC,GAAQ,OAAO;AAAA;AAAA,EAErB,oBAAoB0oC;AAAAA,EACpB,iBAAiBC;AAAAA,EACjB,iBAAiBC;AAAAA,EACjB,sBAAsBC;AAAAA,EACtB,kBAAkBC;AAAAA;AAAAA,EAGlB,kBAAkBC;AAAAA,EAClB,mBAAmBC;AAAAA,EACnB,mBAAmBC;AAAAA,EACnB,mBAAmBC;AAAAA,EACnB,oBAAoBC;AAAAA,EACpB,sBAAsBC;AAAAA,EACtB,iBAAiBC;AAAAA,EACjB,oBAAoBC;AAAAA;AAAAA,EAGpB,0BAA0BC;AAAAA,EAC1B,0BAA0BC;AAAAA,EAC1B,sBAAsBC;AAAAA,EACtB,yBAAyBC;AAAAA,EACzB,oBAAoBC;AAAAA;AAAAA,EAGpB,YAAYC;AAAAA,EACZ,YAAYC;AAAAA,EACZ,YAAYC;AAAAA,EACZ,YAAYC;AAAAA,EACZ,YAAYC;AAAO,IAChB,CAAA,CAAE,GAGMC,KAAa,MAClBjqC,GAAQ,OAAO;AAAA,EACrB,UAAUkqC;AAAAA,EACV,UAAUC;AAAAA,EACV,UAAUC;AAAAA,EACV,UAAUC;AAAAA,EACV,UAAUC;AAAAA,EACV,UAAUC;AAAAA,EACV,UAAUC;AAAAA,EACV,UAAUC;AAAAA,EACV,UAAUC;AAAAA,EACV,UAAUC;AAAO,IACd,CAAA,CAAE,GAGMC,KAAgB,MACrB5qC,GAAQ,OAAO;AAAA;AAAA,EAEtB,QAAQ;AAAA,IACP,QAAQ6qC;AAAAA,IACR,QAAQC;AAAAA,IACR,QAAQC;AAAAA,IACR,QAAQC;AAAAA,IACR,QAAQC;AAAAA,IACR,QAAQC;AAAAA,IACR,QAAQC;AAAAA,EAAO;AAAA,EAEhB,QAAQ;AAAA,IACP,QAAQC;AAAAA,IACR,QAAQC;AAAAA,IACR,QAAQC;AAAAA,IACR,QAAQC;AAAAA,IACR,QAAQC;AAAAA,IACR,QAAQC;AAAAA,IACR,QAAQC;AAAAA,EAAO;AAAA,EAEhB,OAAO;AAAA,IACN,QAAQC;AAAAA,IACR,QAAQC;AAAAA,IACR,QAAQC;AAAAA,IACR,QAAQC;AAAAA,IACR,QAAQC;AAAAA,IACR,QAAQC;AAAAA,IACR,QAAQC;AAAAA,EAAO;AAAA,EAEhB,QAAQ;AAAA,IACP,MAAMC;AAAAA,IACN,UAAUC;AAAAA,IACV,OAAOC;AAAAA,EAAO;AAAA,EAEf,QAAQ;AAAA,IACP,QAAQC;AAAAA,IACR,MAAMC;AAAAA,IACN,OAAOC;AAAAA,EAAO;AAAA,EAEf,MAAM;AAAA,IACL,MAAMC;AAAAA,IACN,YAAYC;AAAAA,EAAO;AAAA;AAAA,EAInB,gBAAgBP;AAAAA,EAChB,oBAAoBC;AAAAA,EACpB,iBAAiBC;AAAAA,EACjB,kBAAkBC;AAAAA,EAClB,gBAAgBC;AAAAA,EAChB,iBAAiBC;AAAAA,EACjB,kBAAkB1B;AAAAA,EAClB,kBAAkBO;AAAAA,EAClB,iBAAiBO;AAAAA,EACjB,kBAAkBb;AAAAA,EAClB,kBAAkBO;AAAAA,EAClB,iBAAiBO;AAAAA,EACjB,kBAAkBb;AAAAA,EAClB,kBAAkBO;AAAAA,EAClB,iBAAiBO;AAAAA,EACjB,kBAAkBb;AAAAA,EAClB,kBAAkBO;AAAAA,EAClB,iBAAiBO;AAAAA,EACjB,kBAAkBb;AAAAA,EAClB,kBAAkBO;AAAAA,EAClB,iBAAiBO;AAAAA,EACjB,kBAAkBb;AAAAA,EAClB,kBAAkBO;AAAAA,EAClB,iBAAiBO;AAAAA,EACjB,kBAAkBb;AAAAA,EAClB,kBAAkBO;AAAAA,EAClB,iBAAiBO;AAAAA,EACjB,cAAcO;AAAAA,EACd,oBAAoBC;AAAO,IACxB,CAAA,CAAE,GAGMC,KAAuB,MAC5B1sC,GAAQ,OAAO;AAAA;AAAA,EAEtB,QAAQ;AAAA,IACP,OAAO2sC;AAAAA,IACP,OAAOC;AAAAA,IACP,OAAOC;AAAAA,IACP,OAAOC;AAAAA,IACP,OAAOC;AAAAA,IACP,OAAOC;AAAAA,IACP,OAAOC;AAAAA,IACP,OAAOC;AAAAA,IACP,OAAOC;AAAAA,IACP,OAAOC;AAAAA,EAAO;AAAA,EAEf,QAAQ;AAAA,IACP,OAAOC;AAAAA,IACP,OAAOC;AAAAA,IACP,OAAOC;AAAAA,IACP,OAAOC;AAAAA,IACP,OAAOC;AAAAA,IACP,OAAOC;AAAAA,IACP,OAAOC;AAAAA,IACP,OAAOC;AAAAA,IACP,OAAOC;AAAAA,IACP,OAAOC;AAAAA,EAAO;AAAA;AAAA,EAId,0BAA0BnB;AAAAA,EAC1B,0BAA0BU;AAAAA,EAC1B,0BAA0BT;AAAAA,EAC1B,0BAA0BU;AAAAA,EAC1B,0BAA0BT;AAAAA,EAC1B,0BAA0BU;AAAAA,EAC1B,0BAA0BT;AAAAA,EAC1B,0BAA0BU;AAAAA,EAC1B,0BAA0BT;AAAAA,EAC1B,0BAA0BU;AAAAA,EAC1B,0BAA0BT;AAAAA,EAC1B,0BAA0BU;AAAAA,EAC1B,0BAA0BT;AAAAA,EAC1B,0BAA0BU;AAAAA,EAC1B,0BAA0BT;AAAAA,EAC1B,0BAA0BU;AAAAA,EAC1B,0BAA0BT;AAAAA,EAC1B,0BAA0BU;AAAAA,EAC1B,0BAA0BT;AAAAA,EAC1B,0BAA0BU;AAAO,IAC9B,CAAA,CAAE,GAGMC,KAAsB,MAC3B/tC,GAAQ,OAAO;AAAA;AAAA,EAErB,oCAAoCguC;AAAAA,EACpC,sCAAsCC;AAAAA,EACtC,qCAAqCC;AAAAA,EACrC,uCAAuCC;AAAAA;AAAAA,EAGvC,0BAA0BC;AAAAA,EAC1B,2BAA2BC;AAAAA,EAC3B,0BAA0BC;AAAAA;AAAAA,EAG1B,yBAAyBC;AAAAA,EACzB,2BAA2BC;AAAAA,EAC3B,yBAAyBC;AAAAA,EACzB,iCAAiCC;AAAO,IACrC,CAAA,CAAE,GAIMC,KAAiB,MACtB3uC,GAAQ,OAAO;AAAA,EACtB,IAAIonC;AAAAA,EACJ,GAAGE;AAAAA,EACH,GAAGE;AAAAA,EACH,GAAGE;AAAAA,EACH,IAAIE;AAAO,IACP,CAAA,CAAE,GAGMgH,KAAmB,MACxB5uC,GAAQ,OAAO;AAAA,EACtB,MAAM8nC;AAAAA,EACN,WAAWE;AAAAA,EACX,WAAWE;AAAAA,EACX,UAAUE;AAAAA,EACV,eAAeE;AAAO,IAClB,CAAA,CAAE,GAGMuG,KAAyB,MAC9B7uC,GAAQ,OAAO;AAAA,EACtB,UAAU;AAAA,IACT,IAAIonC;AAAAA,IACJ,GAAGE;AAAAA,IACH,GAAGE;AAAAA,IACH,GAAGE;AAAAA,IACH,IAAIE;AAAAA,EAAO;AAAA,EAEZ,YAAY;AAAA,IACX,MAAME;AAAAA,IACN,WAAWE;AAAAA,IACX,WAAWE;AAAAA,IACX,UAAUE;AAAAA,IACV,eAAeE;AAAAA,EAAO;AAAA,EAEvB,OAAO;AAAA,IACN,QAAQ;AAAA,MACR,MAAM4D;AAAAA,MACN,UAAUC;AAAAA,MACV,OAAOC;AAAAA,IAAO;AAAA,IAEd,QAAQ;AAAA,MACR,QAAQC;AAAAA,MACR,MAAMC;AAAAA,MACN,OAAOC;AAAAA,IAAO;AAAA,IAEd,OAAO;AAAA,MACP,QAAQ;AAAA,QACP,QAAQ1B;AAAAA,QACR,QAAQC;AAAAA,QACR,QAAQC;AAAAA,QACR,QAAQC;AAAAA,QACR,QAAQC;AAAAA,QACR,QAAQC;AAAAA,QACR,QAAQC;AAAAA,MAAO;AAAA,MAEhB,QAAQ;AAAA,QACP,QAAQC;AAAAA,QACR,QAAQC;AAAAA,QACR,QAAQC;AAAAA,QACR,QAAQC;AAAAA,QACR,QAAQC;AAAAA,QACR,QAAQC;AAAAA,QACR,QAAQC;AAAAA,MAAO;AAAA,MAEhB,OAAO;AAAA,QACN,QAAQC;AAAAA,QACR,QAAQC;AAAAA,QACR,QAAQC;AAAAA,QACR,QAAQC;AAAAA,QACR,QAAQC;AAAAA,QACR,QAAQC;AAAAA,QACR,QAAQC;AAAAA,MAAO;AAAA,IAChB;AAAA,EACA;AACD,IACI,CAAA,CAAE,GCzUM6C,KAAkC;AAAA,EAC7C,UAAU;AAAA,EACV,iBAAiB;AAAA,EACjB,cAAc;AAAA,EACd,aAAa,CAAC,KAAK,GAAG;AACxB,GAKaC,KAAsB;AAAA,EACjC,QAAQ;AAAA,IACN,OAAO;AAAA,IACP,MAAM;AAAA,IACN,KAAK;AAAA,IACL,KAAK;AAAA,EAAA;AAAA,EAEP,MAAM;AAAA,IACJ,OAAO;AAAA,IACP,MAAM;AAAA,IACN,KAAK;AAAA,IACL,KAAK;AAAA,EAAA;AAET;AAKO,SAASC,GAAyBliE,IAA8B,IAAY;AACjF,QAAM,EAAE,UAAAmiE,GAAU,aAAAC,EAAA,IAAgB,EAAE,GAAGJ,IAAqB,GAAGhiE,EAAA,GAEzDqiE,IAAiC,CAAA;AAEvC,SAAID,GAAa,SAAS,GAAG,KAC3BC,EAAqB,KAAK;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAMhBF,CAAQ,GAAGF,GAAoB,OAAO,GAAG;AAAA,cACzCE,CAAQ,GAAGF,GAAoB,OAAO,KAAK;AAAA,cAC3CE,CAAQ,GAAGF,GAAoB,OAAO,IAAI;AAAA,cAC1CE,CAAQ,GAAGF,GAAoB,OAAO,GAAG;AAAA,cACzCE,CAAQ,GAAGF,GAAoB,OAAO,GAAG;AAAA,EACrD,GAGIG,GAAa,SAAS,GAAG,KAC3BC,EAAqB,KAAK;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAMhBF,CAAQ,GAAGF,GAAoB,KAAK,GAAG;AAAA,cACvCE,CAAQ,GAAGF,GAAoB,KAAK,KAAK;AAAA,cACzCE,CAAQ,GAAGF,GAAoB,KAAK,IAAI;AAAA,cACxCE,CAAQ,GAAGF,GAAoB,KAAK,GAAG;AAAA,cACvCE,CAAQ,GAAGF,GAAoB,KAAK,GAAG;AAAA,EACnD,GAGOI,EAAqB,KAAK;AAAA,CAAI;AACvC;AAKO,SAASC,GAAqBtiE,IAA8B,IAAU;AAC3E,MAAI,OAAO,WAAa,IAAa;AAErC,QAAM,EAAE,UAAAmiE,GAAU,aAAAC,EAAA,IAAgB,EAAE,GAAGJ,IAAqB,GAAGhiE,EAAA;AAc/D,EAZqB;AAAA;AAAA,IAEnB,GAAIoiE,GAAa,SAAS,GAAG,IAAI;AAAA,MAC/B,EAAE,MAAM,GAAGD,CAAQ,GAAGF,GAAoB,OAAO,KAAK,IAAI,IAAI,QAAQ,MAAM,aAAA;AAAA,MAC5E,EAAE,MAAM,GAAGE,CAAQ,GAAGF,GAAoB,OAAO,IAAI,IAAI,IAAI,QAAQ,MAAM,YAAA;AAAA,IAAY,IACrF,CAAA;AAAA,IACJ,GAAIG,GAAa,SAAS,GAAG,IAAI;AAAA,MAC/B,EAAE,MAAM,GAAGD,CAAQ,GAAGF,GAAoB,KAAK,KAAK,IAAI,IAAI,QAAQ,MAAM,aAAA;AAAA,MAC1E,EAAE,MAAM,GAAGE,CAAQ,GAAGF,GAAoB,KAAK,IAAI,IAAI,IAAI,QAAQ,MAAM,YAAA;AAAA,IAAY,IACnF,CAAA;AAAA,EAAC,EAGM,QAAQ,CAAAM,MAAQ;AAC3B,UAAMhuB,IAAO,SAAS,cAAc,MAAM;AAC1C,IAAAA,EAAK,MAAM,WACXA,EAAK,OAAOguB,EAAK,MACjBhuB,EAAK,KAAKguB,EAAK,IACfhuB,EAAK,OAAOguB,EAAK,MACjBhuB,EAAK,cAAc,aACnB,SAAS,KAAK,YAAYA,CAAI;AAAA,EAChC,CAAC;AACH;AAKO,MAAMiuB,KAAiB,gDAKjBC,KAA0B;AAKvC,eAAsBC,KAAwC;AAC5D,MAAI,OAAO,WAAa,OAAe,CAAC,SAAS,MAAO,QAAO;AAE/D,MAAI;AACF,iBAAM,SAAS,MAAM,KAAK,oBAAoB,GACvC,SAAS,MAAM,MAAM,oBAAoB;AAAA,EAClD,QAAQ;AACN,WAAO;AAAA,EACT;AACF;","x_google_ignoreList":[0,1,2,3,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,96,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112]}