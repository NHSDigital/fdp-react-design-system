(function(g,I){typeof exports=="object"&&typeof module<"u"?I(exports,require("react"),require("react-dom")):typeof define=="function"&&define.amd?define(["exports","react","react-dom"],I):(g=typeof globalThis<"u"?globalThis:g||self,I(g.NHSFDPDesignSystem={},g.React,g.ReactDOM))})(this,(function(g,I,Zp){"use strict";function Jp(t){const e=Object.create(null,{[Symbol.toStringTag]:{value:"Module"}});if(t){for(const n in t)if(n!=="default"){const r=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(e,n,r.get?r:{enumerable:!0,get:()=>t[n]})}}return e.default=t,Object.freeze(e)}const Z=Jp(I);function Qp(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Sa={exports:{}},gr={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Dl;function eg(){if(Dl)return gr;Dl=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(r,a,i){var s=null;if(i!==void 0&&(s=""+i),a.key!==void 0&&(s=""+a.key),"key"in a){i={};for(var l in a)l!=="key"&&(i[l]=a[l])}else i=a;return a=i.ref,{$$typeof:t,type:r,key:s,ref:a!==void 0?a:null,props:i}}return gr.Fragment=e,gr.jsx=n,gr.jsxs=n,gr}var br={};/**
 * @license React
 * react-jsx-runtime.development.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ml;function tg(){return Ml||(Ml=1,process.env.NODE_ENV!=="production"&&(function(){function t(E){if(E==null)return null;if(typeof E=="function")return E.$$typeof===D?null:E.displayName||E.name||null;if(typeof E=="string")return E;switch(E){case f:return"Fragment";case $:return"Profiler";case h:return"StrictMode";case w:return"Suspense";case x:return"SuspenseList";case k:return"Activity"}if(typeof E=="object")switch(typeof E.tag=="number"&&console.error("Received an unexpected object in getComponentNameFromType(). This is likely a bug in React. Please file an issue."),E.$$typeof){case _:return"Portal";case S:return(E.displayName||"Context")+".Provider";case C:return(E._context.displayName||"Context")+".Consumer";case y:var W=E.render;return E=E.displayName,E||(E=W.displayName||W.name||"",E=E!==""?"ForwardRef("+E+")":"ForwardRef"),E;case M:return W=E.displayName||null,W!==null?W:t(E.type)||"Memo";case T:W=E._payload,E=E._init;try{return t(E(W))}catch{}}return null}function e(E){return""+E}function n(E){try{e(E);var W=!1}catch{W=!0}if(W){W=console;var L=W.error,U=typeof Symbol=="function"&&Symbol.toStringTag&&E[Symbol.toStringTag]||E.constructor.name||"Object";return L.call(W,"The provided key is an unsupported type %s. This value must be coerced to a string before using it here.",U),e(E)}}function r(E){if(E===f)return"<>";if(typeof E=="object"&&E!==null&&E.$$typeof===T)return"<...>";try{var W=t(E);return W?"<"+W+">":"<...>"}catch{return"<...>"}}function a(){var E=v.A;return E===null?null:E.getOwner()}function i(){return Error("react-stack-top-frame")}function s(E){if(N.call(E,"key")){var W=Object.getOwnPropertyDescriptor(E,"key").get;if(W&&W.isReactWarning)return!1}return E.key!==void 0}function l(E,W){function L(){P||(P=!0,console.error("%s: `key` is not a prop. Trying to access it will result in `undefined` being returned. If you need to access the same value within the child component, you should pass it as a different prop. (https://react.dev/link/special-props)",W))}L.isReactWarning=!0,Object.defineProperty(E,"key",{get:L,configurable:!0})}function u(){var E=t(this.type);return F[E]||(F[E]=!0,console.error("Accessing element.ref was removed in React 19. ref is now a regular prop. It will be removed from the JSX Element type in a future release.")),E=this.props.ref,E!==void 0?E:null}function c(E,W,L,U,O,Q,he,le){return L=Q.ref,E={$$typeof:b,type:E,key:W,props:Q,_owner:O},(L!==void 0?L:null)!==null?Object.defineProperty(E,"ref",{enumerable:!1,get:u}):Object.defineProperty(E,"ref",{enumerable:!1,value:null}),E._store={},Object.defineProperty(E._store,"validated",{configurable:!1,enumerable:!1,writable:!0,value:0}),Object.defineProperty(E,"_debugInfo",{configurable:!1,enumerable:!1,writable:!0,value:null}),Object.defineProperty(E,"_debugStack",{configurable:!1,enumerable:!1,writable:!0,value:he}),Object.defineProperty(E,"_debugTask",{configurable:!1,enumerable:!1,writable:!0,value:le}),Object.freeze&&(Object.freeze(E.props),Object.freeze(E)),E}function d(E,W,L,U,O,Q,he,le){var J=W.children;if(J!==void 0)if(U)if(z(J)){for(U=0;U<J.length;U++)m(J[U]);Object.freeze&&Object.freeze(J)}else console.error("React.jsx: Static children should always be an array. You are likely explicitly calling React.jsxs or React.jsxDEV. Use the Babel transform instead.");else m(J);if(N.call(W,"key")){J=t(E);var X=Object.keys(W).filter(function(se){return se!=="key"});U=0<X.length?"{key: someKey, "+X.join(": ..., ")+": ...}":"{key: someKey}",B[J+U]||(X=0<X.length?"{"+X.join(": ..., ")+": ...}":"{}",console.error(`A props object containing a "key" prop is being spread into JSX:
  let props = %s;
  <%s {...props} />
React keys must be passed directly to JSX without using spread:
  let props = %s;
  <%s key={someKey} {...props} />`,U,J,X,J),B[J+U]=!0)}if(J=null,L!==void 0&&(n(L),J=""+L),s(W)&&(n(W.key),J=""+W.key),"key"in W){L={};for(var te in W)te!=="key"&&(L[te]=W[te])}else L=W;return J&&l(L,typeof E=="function"?E.displayName||E.name||"Unknown":E),c(E,J,Q,O,a(),L,he,le)}function m(E){typeof E=="object"&&E!==null&&E.$$typeof===b&&E._store&&(E._store.validated=1)}var p=I,b=Symbol.for("react.transitional.element"),_=Symbol.for("react.portal"),f=Symbol.for("react.fragment"),h=Symbol.for("react.strict_mode"),$=Symbol.for("react.profiler"),C=Symbol.for("react.consumer"),S=Symbol.for("react.context"),y=Symbol.for("react.forward_ref"),w=Symbol.for("react.suspense"),x=Symbol.for("react.suspense_list"),M=Symbol.for("react.memo"),T=Symbol.for("react.lazy"),k=Symbol.for("react.activity"),D=Symbol.for("react.client.reference"),v=p.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,N=Object.prototype.hasOwnProperty,z=Array.isArray,R=console.createTask?console.createTask:function(){return null};p={react_stack_bottom_frame:function(E){return E()}};var P,F={},j=p.react_stack_bottom_frame.bind(p,i)(),H=R(r(i)),B={};br.Fragment=f,br.jsx=function(E,W,L,U,O){var Q=1e4>v.recentlyCreatedOwnerStacks++;return d(E,W,L,!1,U,O,Q?Error("react-stack-top-frame"):j,Q?R(r(E)):H)},br.jsxs=function(E,W,L,U,O){var Q=1e4>v.recentlyCreatedOwnerStacks++;return d(E,W,L,!0,U,O,Q?Error("react-stack-top-frame"):j,Q?R(r(E)):H)}})()),br}var $l;function ng(){return $l||($l=1,process.env.NODE_ENV==="production"?Sa.exports=eg():Sa.exports=tg()),Sa.exports}var o=ng(),Fi={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/var Fl;function rg(){return Fl||(Fl=1,(function(t){(function(){var e={}.hasOwnProperty;function n(){for(var i="",s=0;s<arguments.length;s++){var l=arguments[s];l&&(i=a(i,r(l)))}return i}function r(i){if(typeof i=="string"||typeof i=="number")return i;if(typeof i!="object")return"";if(Array.isArray(i))return n.apply(null,i);if(i.toString!==Object.prototype.toString&&!i.toString.toString().includes("[native code]"))return i.toString();var s="";for(var l in i)e.call(i,l)&&i[l]&&(s=a(s,l));return s}function a(i,s){return s?i?i+" "+s:i+s:i}t.exports?(n.default=n,t.exports=n):window.classNames=n})()})(Fi)),Fi.exports}var ag=rg();const de=Qp(ag),ig=({text:t,href:e,openInNewWindow:n=!1,className:r,...a})=>{const i=de("nhsuk-action-link__link",r);return o.jsx("div",{className:"nhsuk-action-link",children:o.jsxs("a",{className:i,href:e,target:n?"_blank":void 0,rel:n?"noopener noreferrer":void 0,...a,children:[o.jsxs("svg",{className:"nhsuk-icon nhsuk-icon__arrow-right-circle",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24","aria-hidden":"true",width:"36",height:"36",children:[o.jsx("path",{d:"M0 0h24v24H0z",fill:"none"}),o.jsx("path",{d:"M12 2a10 10 0 0 0-9.95 9h11.64L9.74 7.05a1 1 0 0 1 1.41-1.41l5.66 5.65a1 1 0 0 1 0 1.42l-5.66 5.65a1 1 0 0 1-1.41 0 1 1 0 0 1 0-1.41L13.69 13H2.05A10 10 0 1 0 12 2z"})]}),o.jsx("span",{className:"nhsuk-action-link__text",children:t})]})})},Il=({ariaLabel:t="Account",items:e=[],className:n,variant:r="default"})=>{if(!e||e.length===0)return null;const a=i=>{const s=i.icon?o.jsx("svg",{className:"nhsuk-icon nhsuk-icon__user",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24","aria-hidden":"true",focusable:"false",role:"img","aria-label":i.icon===!0?"User":void 0,children:o.jsx("path",{d:"M12 1a11 11 0 1 1 0 22 11 11 0 0 1 0-22Zm0 2a9 9 0 0 0-5 16.5V18a4 4 0 0 1 4-4h2a4 4 0 0 1 4 4v1.5A9 9 0 0 0 12 3Zm0 3a3.5 3.5 0 1 1-3.5 3.5A3.4 3.4 0 0 1 12 6Z"})}):null,l=i.html?o.jsx("span",{dangerouslySetInnerHTML:{__html:i.html}}):i.text,u=o.jsxs(o.Fragment,{children:[s,l]});return i.href?o.jsx("a",{className:"nhsuk-account__link nhsuk-header__account-link",href:i.href,children:u}):i.action?o.jsx("form",{className:"nhsuk-account__form",action:i.action,method:i.method||"post",children:o.jsx("button",{className:"nhsuk-account__button",type:"submit",role:"button",children:u})}):o.jsx("span",{children:u})};return o.jsx("nav",{className:de("nhsuk-account",{"nhsuk-account--white":r==="white"},n),"aria-label":t,children:o.jsx("ul",{className:"nhsuk-account__list",children:e.map((i,s)=>i&&o.jsx("li",{className:de("nhsuk-account__item nhsuk-header__account-item",i.className),children:a(i)},s))})})};function sg(t){const e=t.variant||"primary",n=t.size||"default",r=!!t.fullWidth,a=["nhs-aria-button",`nhs-aria-button--${e}`,n!=="default"?`nhs-aria-button--${n}`:"",r?"nhs-aria-button--full-width":"",t.className||""].filter(Boolean).join(" ");return{tag:t.href?"a":"button",classes:a,data:{module:"nhs-button"},attrs:t.href?{href:t.href,role:"button"}:{type:"button"},preventDoubleClick:!!t.preventDoubleClick}}const{forwardRef:og,useCallback:dn,useState:Ii}=Z;function lg(t,e){const{children:n,variant:r="primary",size:a="default",fullWidth:i=!1,className:s="",preventDoubleClick:l=!1,...u}=t,[c,d]=Ii(!1),[m,p]=Ii(!1),[b,_]=Ii(!1),f=sg({variant:r,size:a,fullWidth:i,className:s,preventDoubleClick:l,href:"href"in u?u.href:void 0}),h="disabled"in u?u.disabled:u["aria-disabled"]==="true",$={...c&&{"data-pressed":"true"},...m&&{"data-hovered":"true"},...b&&{"data-focused":"true"},...h&&{"data-disabled":"true"}},C=dn(()=>!h&&d(!0),[h]),S=dn(()=>d(!1),[]),y=dn(()=>!h&&p(!0),[h]),w=dn(()=>{p(!1),d(!1)},[]),x=dn(()=>_(!0),[]),M=dn(()=>_(!1),[]),T=dn(J=>{J.key===" "&&("href"in u||J.currentTarget.getAttribute("role")==="button")&&(J.preventDefault(),J.currentTarget.click())},[u]),k=dn(J=>{if(l){const X=J.currentTarget;if(X.getAttribute("data-processing")==="true"){J.preventDefault();return}X.setAttribute("data-processing","true"),setTimeout(()=>{X.removeAttribute("data-processing")},1e3)}},[l]);if("href"in u&&u.href){const{id:J,style:X,title:te,["aria-label"]:se,["aria-describedby"]:V,["aria-labelledby"]:ge,tabIndex:me,..._e}=u,pe=u;return o.jsx("a",{ref:e,href:pe.href,target:pe.target,rel:pe.rel,className:f.classes,role:"button",draggable:"false","data-module":"nhs-button",...$,...l&&{"data-prevent-double-click":"true"},..._e,onKeyDown:ye=>{pe.onKeyDown?.(ye),T(ye)},onClick:ye=>{pe.onClick?.(ye),k(ye)},onMouseDown:ye=>{pe.onMouseDown?.(ye),C()},onMouseUp:ye=>{pe.onMouseUp?.(ye),S()},onMouseEnter:ye=>{pe.onMouseEnter?.(ye),y()},onMouseLeave:ye=>{pe.onMouseLeave?.(ye),w()},onFocus:ye=>{pe.onFocus?.(ye),x()},onBlur:ye=>{pe.onBlur?.(ye),M()},"aria-disabled":pe["aria-disabled"],...pe["aria-disabled"]==="true"&&{tabIndex:-1},id:J,style:X,title:te,"aria-label":se,"aria-describedby":V,"aria-labelledby":ge,tabIndex:me,children:n})}const{id:D,style:v,title:N,["aria-label"]:z,["aria-describedby"]:R,["aria-labelledby"]:P,tabIndex:F,name:j,value:H,form:B,formAction:E,formEncType:W,formMethod:L,formNoValidate:U,formTarget:O,autoFocus:Q,...he}=u,le=u;return o.jsx("button",{ref:e,type:le.type||"button",disabled:le.disabled,className:f.classes,"data-module":"nhs-button",...$,...l&&{"data-prevent-double-click":"true"},...le.disabled&&{"aria-disabled":"true"},...he,onKeyDown:J=>{le.onKeyDown?.(J),T(J)},onClick:J=>{le.onClick?.(J),k(J)},onMouseDown:J=>{le.onMouseDown?.(J),C()},onMouseUp:J=>{le.onMouseUp?.(J),S()},onMouseEnter:J=>{le.onMouseEnter?.(J),y()},onMouseLeave:J=>{le.onMouseLeave?.(J),w()},onFocus:J=>{le.onFocus?.(J),x()},onBlur:J=>{le.onBlur?.(J),M()},id:D,style:v,title:N,"aria-label":z,"aria-describedby":R,"aria-labelledby":P,tabIndex:F,name:j,value:H,form:B,formAction:E,formEncType:W,formMethod:L,formNoValidate:U,formTarget:O,autoFocus:Q,children:n})}const et=og(lg);et.displayName="Button";const wa=({text:t="Back",html:e,href:n="#",className:r,element:a="a",onClick:i,...s})=>{const l=de("nhsuk-back-link",r),u=de("nhsuk-back-link__link"),c=()=>o.jsxs(o.Fragment,{children:[o.jsx("svg",{className:"nhsuk-icon nhsuk-icon__chevron-left",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24","aria-hidden":"true",height:"24",width:"24",children:o.jsx("path",{d:"M8.5 12c0-.3.1-.5.3-.7l5-5c.4-.4 1-.4 1.4 0s.4 1 0 1.4L10.9 12l4.3 4.3c.4.4.4 1 0 1.4s-1 .4-1.4 0l-5-5c-.2-.2-.3-.4-.3-.7z"})}),e?o.jsx("span",{dangerouslySetInnerHTML:{__html:e}}):t]});return o.jsx("div",{className:l,children:a==="button"?o.jsx("button",{className:u,onClick:i,type:"button",...s,children:c()}):o.jsx("a",{className:u,href:n,...s,children:c()})})};function cg(t){const{color:e="default",noBorder:n,closable:r,disabled:a,className:i}=t;return{classes:["nhsuk-tag",e!=="default"?`nhsuk-tag--${e}`:"",n?"nhsuk-tag--no-border":"",r?"nhsuk-tag--closable":"",a?"nhsuk-tag--disabled":"",i||""].filter(Boolean).join(" "),showClose:!!r,disabled:!!a}}const st=({text:t,html:e,children:n,color:r="default",noBorder:a=!1,closable:i=!1,onClose:s,disabled:l=!1,className:u,...c})=>{const d=cg({color:r,noBorder:a,closable:i,disabled:l,className:u}),m=p=>{p.preventDefault(),p.stopPropagation(),!l&&s&&s()};return o.jsxs("strong",{className:d.classes,...c,children:[n||(e?o.jsx("span",{dangerouslySetInnerHTML:{__html:e}}):t),i&&o.jsx("button",{type:"button",className:"nhsuk-tag__close",onClick:m,disabled:l,"aria-label":"Remove",title:"Remove",children:"Ã—"})]})},Bl=({id:t,name:e,checked:n,defaultChecked:r=!1,disabled:a=!1,value:i="true",hint:s,errorMessage:l,className:u,children:c,onChange:d,onBlur:m,onFocus:p,attributes:b,..._})=>{const[f,h]=I.useState(r),$=n!==void 0,C=$?n:f;I.useEffect(()=>{$||h(r)},[r,$]);const S=T=>{const k=T.target.checked;$||h(k),d?.(k,T)},y=s?`${t}-hint`:void 0,w=l?`${t}-error`:void 0,x=[y,w].filter(Boolean).join(" ")||void 0,M=de("nhsuk-form-group",{"nhsuk-form-group--error":!!l},u);return o.jsx("div",{className:M,..._,children:o.jsx("div",{className:"nhsuk-checkboxes",children:o.jsxs("div",{className:"nhsuk-checkboxes__item",children:[o.jsx("input",{className:"nhsuk-checkboxes__input",id:t,name:e||t,type:"checkbox",value:i,checked:C,disabled:a,onChange:S,onBlur:m,onFocus:p,"aria-describedby":x,...b}),o.jsx("label",{className:"nhsuk-checkboxes__label",htmlFor:t,children:c}),s&&o.jsx("div",{id:y,className:"nhsuk-checkboxes__hint",children:s}),l&&o.jsxs("div",{id:w,className:"nhsuk-error-message nhsuk-checkboxes__error",children:[o.jsx("span",{className:"nhsuk-u-visually-hidden",children:"Error:"})," ",l]})]})})})};Bl.displayName="Checkbox";function ug(t){const n=(t.type||"text")==="range";return{classes:["nhsuk-input",t.hasError?"nhsuk-input--error":"",n?"nhsuk-input--range":"",!n&&t.width&&t.width!=="full"?`nhsuk-input--width-${t.width}`:"",t.className||""].filter(Boolean).join(" "),isRange:n}}const ka=({id:t,name:e,type:n="text",value:r,defaultValue:a,placeholder:i,disabled:s=!1,readOnly:l=!1,required:u=!1,hasError:c=!1,describedBy:d,className:m,width:p="full",inputMode:b,autoComplete:_,maxLength:f,minLength:h,pattern:$,step:C,min:S,max:y,showValueLabels:w=!1,showCurrentValue:x=!1,valueLabels:M,onChange:T,onBlur:k,onFocus:D,onKeyDown:v,...N})=>{const[z,R]=I.useState(r||a||(n==="range"?S||"0":""));I.useEffect(()=>{r!==void 0&&R(r)},[r]);const P=O=>{const Q=O.target;R(Q.value),("type"in O&&O.nativeEvent||O.type==="keydown")&&T?.(O)},{classes:F,isRange:j}=ug({type:n,hasError:c,width:p,className:m}),H=r!==void 0,B={id:t,name:e,type:n,placeholder:i,disabled:s,readOnly:l,required:u,"aria-describedby":d,inputMode:b,autoComplete:_,maxLength:f,minLength:h,pattern:$,step:C,min:S,max:y,onChange:P,onBlur:k,onFocus:D,onKeyDown:O=>{if(j&&/[0-9]/.test(O.key)){const Q=(z?.toString()||"")+O.key;O.target.value=Q,P(O)}v?.(O)},...N},E=!H&&a!==void 0?{defaultValue:a}:{},W=H?{value:r}:{},L=()=>o.jsx("input",{className:F,...W,...E,"data-current-value":z,...B}),U=j?o.jsxs("div",{className:"nhsuk-input-range-wrapper",children:[w&&o.jsxs("div",{className:"nhsuk-input-range-labels",children:[o.jsx("span",{className:"nhsuk-input-range-label nhsuk-input-range-label--min",children:M?.min||S||"0"}),L(),o.jsx("span",{className:"nhsuk-input-range-label nhsuk-input-range-label--max",children:M?.max||y||"100"})]}),!w&&L(),x&&o.jsx("div",{className:"nhsuk-input-range-current-value",children:o.jsxs("span",{className:"nhsuk-input-range-current-label",children:[M?.current||"Current value:"," ",o.jsx("strong",{children:z})]})})]}):null;return j?U:o.jsx("input",{className:F,id:t,name:e,type:n,value:r,...r===void 0&&a!==void 0?{defaultValue:a}:{},placeholder:i,disabled:s,readOnly:l,required:u,"aria-describedby":d,inputMode:b,autoComplete:_,maxLength:f,minLength:h,pattern:$,step:C,min:S,max:y,onChange:T,onBlur:k,onFocus:D,onKeyDown:v,...N})};function dg(t){const e=t.size||"m",n=["nhsuk-label",e!=="m"?`nhsuk-label--${e}`:"",t.className||""].filter(Boolean).join(" ");return{tag:t.isPageHeading?"h1":"label",classes:n,size:e,htmlFor:t.isPageHeading?void 0:t.htmlFor,isPageHeading:!!t.isPageHeading}}const Ca=({htmlFor:t,className:e,isPageHeading:n=!1,size:r="m",children:a,...i})=>{const s=dg({size:r,isPageHeading:n,className:e,htmlFor:t}),l=s.tag;return o.jsx(l,{className:s.classes,htmlFor:s.htmlFor,...i,children:n?o.jsx("label",{className:"nhsuk-label-wrapper",htmlFor:t,children:a}):a})},Ta=({children:t,legend:e,className:n,describedBy:r,...a})=>{const i=de("nhsuk-fieldset",n),s=de("nhsuk-fieldset__legend",{[`nhsuk-fieldset__legend--${e?.size}`]:e?.size},e?.className),l=()=>{const u=e?.html?o.jsx("span",{dangerouslySetInnerHTML:{__html:e.html}}):e?.text;return e?.isPageHeading?o.jsx("h1",{className:"nhsuk-fieldset__heading",children:u}):u};return o.jsxs("fieldset",{className:i,"aria-describedby":r,...a,children:[e&&(e.text||e.html)&&o.jsx("legend",{className:s,children:l()}),t]})},Pl=({items:t,name:e,idPrefix:n,legend:r,isPageHeading:a=!1,legendSize:i="l",hint:s,errorMessage:l,className:u="",small:c=!1,onChange:d,fieldsetAttributes:m,attributes:p,...b})=>{const[_,f]=I.useState(t.filter(T=>T.checked).map(T=>T.value)),h=n||e,$=s?`${h}-hint`:void 0,C=l?`${h}-error`:void 0,S=[$,C].filter(Boolean).join(" ")||void 0,y=(T,k)=>{let D;k?D=[..._,T]:D=_.filter(v=>v!==T),f(D),d?.(D)},w=()=>t.map((T,k)=>{const D=`${h}-${k+1}`,v=`${D}-conditional`,N=_.includes(T.value),z=T.disabled||!1;return o.jsxs("div",{className:"nhsuk-checkboxes__item",children:[o.jsx("input",{className:"nhsuk-checkboxes__input",id:D,name:e,type:"checkbox",value:T.value,checked:N,disabled:z,onChange:R=>y(T.value,R.target.checked),"aria-describedby":T.hint?`${D}-hint`:S,...T.conditional&&{"aria-controls":v,"aria-expanded":N?"true":"false"},...T.attributes}),o.jsx("label",{className:"nhsuk-checkboxes__label",htmlFor:D,children:T.text}),T.hint&&o.jsx("div",{id:`${D}-hint`,className:"nhsuk-checkboxes__hint",children:T.hint}),T.conditional&&o.jsx("div",{className:de("nhsuk-checkboxes__conditional",{"nhsuk-checkboxes__conditional--hidden":!N}),id:v,children:typeof T.conditional=="object"&&T.conditional!==null&&"label"in T.conditional&&"id"in T.conditional&&"name"in T.conditional?o.jsxs("div",{style:{marginTop:"16px"},children:[T.conditional.label&&o.jsx(Ca,{htmlFor:T.conditional.id,children:T.conditional.label}),o.jsx(ka,{...T.conditional})]}):T.conditional})]},T.value)}),x=de("nhsuk-checkboxes",{"nhsuk-checkboxes--small":c},u),M=de("nhsuk-form-group",{"nhsuk-form-group--error":!!l});return o.jsx("div",{className:M,...p,...b,children:o.jsxs(Ta,{legend:r?{text:r,isPageHeading:a,size:i}:void 0,describedBy:S,...m,children:[s&&o.jsx("div",{id:$,className:"nhsuk-hint",children:s}),l&&o.jsxs("div",{id:C,className:"nhsuk-error-message",children:[o.jsx("span",{className:"nhsuk-u-visually-hidden",children:"Error:"})," ",l]}),o.jsx("div",{className:x,children:w()})]})})};Pl.displayName="Checkboxes";const Ll=({id:t,name:e,value:n,defaultValue:r,placeholder:a,disabled:i=!1,readOnly:s=!1,required:l=!1,hasError:u=!1,describedBy:c,className:d,rows:m=5,cols:p,maxLength:b,minLength:_,wrap:f="soft",resize:h="vertical",autoComplete:$,spellCheck:C,onChange:S,onBlur:y,onFocus:w,onKeyDown:x,...M})=>{const T=de("nhsuk-textarea",{"nhsuk-textarea--error":u,[`nhsuk-textarea--resize-${h}`]:h!=="vertical"},d);return o.jsx("textarea",{className:T,id:t,name:e,value:n,defaultValue:r,placeholder:a,disabled:i,readOnly:s,required:l,"aria-describedby":c,rows:m,cols:p,maxLength:b,minLength:_,wrap:f,autoComplete:$,spellCheck:C,onChange:S,onBlur:y,onFocus:w,onKeyDown:x,...M})};function fg(t){return{classes:["nhsuk-hint",t.className||""].filter(Boolean).join(" "),id:t.id}}const Bi=({id:t,className:e,children:n,...r})=>{const a=fg({id:t,className:e});return o.jsx("div",{className:a.classes,id:a.id,...r,children:n})},hg=({id:t,maxLength:e,maxWords:n,threshold:r=75,name:a,value:i="",rows:s,className:l,countMessage:u,onCountChange:c,onChange:d,...m})=>{const[p,b]=I.useState(i),[_,f]=I.useState(0),[h,$]=I.useState(!1),[C,S]=I.useState(!1),y=I.useCallback(D=>n?D.trim()===""?0:D.trim().split(/\s+/).length:D.length,[n]);I.useEffect(()=>{const D=y(p),v=e||n||0,N=v-D,z=Math.floor(v*(r/100));f(N),$(D>v),S(D>=z||D>v),c&&c(D,N)},[p,e,n,r,y,c]);const w=D=>{const v=D.target.value;b(v),d&&d(D)},x=()=>{const D=e||n||0,v=n?"word":"character",N=n?"words":"characters";if(!C)return`You can enter up to ${D} ${D===1?v:N}`;if(h){const z=Math.abs(_);return`You have ${z} ${z===1?v:N} too many`}else return`You have ${_} ${_===1?v:N} remaining`},M=de("nhsuk-character-count",l),T=de("nhsuk-character-count__message",{"nhsuk-character-count__message--disabled":!C,"nhsuk-error-message":h},u?.classes),k=de("nhsuk-js-character-count",{"nhsuk-textarea--error":h});return o.jsxs("div",{className:M,"data-module":"nhsuk-character-count","data-maxlength":e,"data-maxwords":n,"data-threshold":r,"data-testid":"character-count",children:[o.jsx(Ll,{id:t,name:a,value:p,rows:s,className:k,onChange:w,"aria-describedby":`${t}-info`,"aria-invalid":h||void 0,...m}),o.jsx(Bi,{id:`${t}-info`,className:T,role:"status","aria-live":"polite",children:x()})]})},Al=({value:t,disabled:e=!1,selected:n=!1,className:r,children:a,...i})=>{const s=de("nhsuk-select__option",r);return o.jsx("option",{className:s,value:t,disabled:e,...i,children:a})},_r=({id:t,name:e,ariaLabel:n,value:r,defaultValue:a,disabled:i=!1,required:s=!1,hasError:l=!1,describedBy:u,className:c,multiple:d=!1,size:m,autoComplete:p,options:b,children:_,onChange:f,onBlur:h,onFocus:$,...C})=>{const S=de("nhsuk-select",{"nhsuk-select--error":l},c),y=()=>b?b.map((x,M)=>o.jsx("option",{value:x.value,disabled:x.disabled,"data-initial-selected":x.selected||void 0,children:x.text},`${x.value}-${M}`)):null,w=a===void 0&&r===void 0&&b?b.find(x=>x.selected)?.value:void 0;return o.jsx("select",{className:S,id:t,name:e,"aria-label":n,value:r,defaultValue:a!==void 0?a:w,disabled:i,required:s,"aria-describedby":u,multiple:d,size:m,autoComplete:p,onChange:f,onBlur:h,onFocus:$,...C,children:_||y()})};_r.Option=Al;function El(t,{variant:e,selectedValue:n,enableBehaviourAttr:r,handleChange:a,handleBlur:i,handleFocus:s,handleKeyDown:l,itemsRef:u}){const{onChange:c,onBlur:d,onFocus:m,...p}=t,{name:b,hasError:_=!1,describedBy:f,className:h,size:$="normal",inline:C=!1,options:S,...y}=p,w=de("nhsuk-radios",{"nhsuk-radios--error":_,"nhsuk-radios--small":$==="small","nhsuk-radios--inline":C},h);return o.jsx(Ta,{children:o.jsx("div",{className:w,...y,...r?{"data-nhs-behaviour":"radios"}:{},children:S.map((x,M)=>{const T=`${b}-${M}`,k=x.conditional?`${T}-conditional`:void 0,D=n===x.value;return o.jsxs("div",{className:"nhsuk-radios__item",children:[o.jsx("input",{className:"nhsuk-radios__input",id:T,name:b,type:"radio",value:x.value,disabled:x.disabled,...e==="client"?{checked:D,onChange:a,onBlur:i,onFocus:s,onKeyDown:l,ref:v=>{v&&u&&(u.current[M]=v)}}:{defaultChecked:D,"data-nhs-radios-input":!0},"aria-describedby":f}),o.jsx("label",{className:"nhsuk-radios__label",htmlFor:T,children:x.text}),x.hint&&o.jsx("div",{className:"nhsuk-radios__hint",children:x.hint}),x.conditional&&o.jsx("div",{className:de("nhsuk-radios__conditional",{"nhsuk-radios__conditional--hidden":!D}),id:k,...e==="server"?{"data-nhs-radios-conditional":!0}:{},children:typeof x.conditional=="object"&&x.conditional!==null&&"label"in x.conditional&&"id"in x.conditional&&"name"in x.conditional?o.jsxs("div",{style:{marginTop:"16px"},children:[x.conditional.label&&o.jsx(Ca,{htmlFor:x.conditional.id,children:x.conditional.label}),o.jsx(ka,{...x.conditional})]}):x.conditional})]},x.value)})})})}const mg=({value:t,defaultValue:e,onChange:n,onBlur:r,onFocus:a,...i})=>{const[s,l]=I.useState(t||e||""),u=I.useRef([]),c=I.useRef(s),d=b=>{const _=b.target.value;_!==c.current&&(c.current=_,l(_),n?.(b))},m=b=>{a?.(b)},p=I.useCallback(b=>{const{key:_}=b;if(!["ArrowDown","ArrowUp","ArrowRight","ArrowLeft"].includes(_))return;b.preventDefault();const f=u.current.filter(S=>S&&!S.disabled),h=f.indexOf(b.currentTarget);if(h===-1)return;let $=h;["ArrowDown","ArrowRight"].includes(_)?$=(h+1)%f.length:["ArrowUp","ArrowLeft"].includes(_)&&($=(h-1+f.length)%f.length);const C=f[$];C&&(C.focus(),C.checked||C.click())},[]);return El({value:t,defaultValue:e,onChange:n,onBlur:r,onFocus:a,...i},{variant:"client",selectedValue:s,enableBehaviourAttr:!1,handleChange:d,handleBlur:r,handleFocus:m,handleKeyDown:p,itemsRef:u})},pg=({value:t,defaultValue:e,...n})=>{const r=t||e||"";return El({value:t,defaultValue:e,...n},{variant:"server",selectedValue:r,enableBehaviourAttr:!0})},Pi=({children:t,className:e,fluid:n=!1,maxWidth:r,style:a,...i})=>{const s=de({"nhsuk-width-container":!n,"nhsuk-width-container-fluid":n},e),l=r?{maxWidth:r,...a||{}}:a;return o.jsx("div",{className:s,style:l,...i,children:t})},fn=({children:t,className:e,style:n,...r})=>{const a=de("nhsuk-grid-row",e);return o.jsx("div",{className:a,style:n,...r,children:t})},Gn=({children:t,width:e="full",mobileWidth:n,tabletWidth:r,desktopWidth:a,start:i,className:s,forceWidth:l=!1,style:u,...c})=>{const d=de({[`nhsuk-grid-column-${e}`]:!l,[`nhsuk-u-${e}`]:l,[`nhsuk-u-${n}-mobile`]:n,[`nhsuk-u-${r}-tablet`]:r,[`nhsuk-u-${a}-desktop`]:a,[`nhsuk-grid-column-start-${i}`]:i&&i>=1&&i<=7},s);return o.jsx("div",{className:d,style:u,...c,children:t})},Na=({children:t,className:e,style:n,...r})=>{const i=I.Children.toArray(t)[0],s=I.isValidElement(i)&&(i.type===fn||typeof i.props=="object"&&i.props&&"className"in i.props&&typeof i.props.className=="string"&&i.props.className.includes("nhsuk-grid-row"));return o.jsx(Pi,{className:e,style:n,...r,children:s?t:o.jsx(fn,{children:t})})},gg=({children:t,type:e="bullet",size:n="medium",border:r=!1,className:a,role:i,as:s,...l})=>{const u=s||(e==="number"?"ol":"ul"),c=de("nhsuk-list",{"nhsuk-list--bullet":e==="bullet","nhsuk-list--number":e==="number","nhsuk-list--none":e==="none","nhsuk-list--border":r,[`nhsuk-list--${n}`]:n!=="medium"},a);return o.jsx(u,{className:c,role:i,...l,children:t})},bg=({children:t,className:e,...n})=>{const r=de("nhsuk-list__item",e);return o.jsx("li",{className:r,...n,children:t})},Rl=gg;Rl.Item=bg;const _g=({debug:t=!1,className:e,children:n,...r})=>{if(!n)return null;const a=["nhsuk-spacing-utilities",t&&"nhsuk-spacing-utilities--debug",e].filter(Boolean).join(" ");return o.jsx("div",{className:a,...r,children:n})},yg={margin:t=>`nhsuk-u-margin-${t}`,marginTop:t=>`nhsuk-u-margin-top-${t}`,marginRight:t=>`nhsuk-u-margin-right-${t}`,marginBottom:t=>`nhsuk-u-margin-bottom-${t}`,marginLeft:t=>`nhsuk-u-margin-left-${t}`,padding:t=>`nhsuk-u-padding-${t}`,paddingTop:t=>`nhsuk-u-padding-top-${t}`,paddingRight:t=>`nhsuk-u-padding-right-${t}`,paddingBottom:t=>`nhsuk-u-padding-bottom-${t}`,paddingLeft:t=>`nhsuk-u-padding-left-${t}`,marginResponsive:t=>`nhsuk-u-margin-responsive-${t}`,marginTopResponsive:t=>`nhsuk-u-margin-top-responsive-${t}`,marginRightResponsive:t=>`nhsuk-u-margin-right-responsive-${t}`,marginBottomResponsive:t=>`nhsuk-u-margin-bottom-responsive-${t}`,marginLeftResponsive:t=>`nhsuk-u-margin-left-responsive-${t}`,paddingResponsive:t=>`nhsuk-u-padding-responsive-${t}`,paddingTopResponsive:t=>`nhsuk-u-padding-top-responsive-${t}`,paddingRightResponsive:t=>`nhsuk-u-padding-right-responsive-${t}`,paddingBottomResponsive:t=>`nhsuk-u-padding-bottom-responsive-${t}`,paddingLeftResponsive:t=>`nhsuk-u-padding-left-responsive-${t}`},xg=({debug:t=!1,className:e,children:n,...r})=>{if(!n)return null;const a=["nhsuk-width-utilities",t&&"nhsuk-width-utilities--debug",e].filter(Boolean).join(" ");return o.jsx("div",{className:a,...r,children:n})},vg={width:t=>`nhsuk-u-width-${t}`,widthTablet:t=>`nhsuk-u-width-${t}-tablet`},Sg=["full","three-quarters","two-thirds","one-half","one-third","one-quarter"],Li=({as:t="main",size:e="default",className:n,children:r,...a})=>{const i=["nhsuk-main-wrapper",e==="large"&&"nhsuk-main-wrapper--l",e==="small"&&"nhsuk-main-wrapper--s",n].filter(Boolean).join(" ");return o.jsx(t,{className:i,...a,children:r})};function wg(t){switch(t){case"xxl":case"xl":return 1;case"l":return 2;case"m":return 3;case"s":return 4;case"xs":return 5;default:return 2}}function kg(t){const e=t.level??wg(t.size),n=["nhsuk-heading",t.size?`nhsuk-heading--${t.size}`:"",t.className||""].filter(Boolean).join(" "),r=t.marginBottom?{marginBottom:t.marginBottom}:void 0;return{tag:`h${e}`,classes:n,style:r}}const Pt=({level:t,className:e,text:n,html:r,children:a,size:i,marginBottom:s,...l})=>{const u=kg({level:t,size:i,className:e,marginBottom:s}),c=a||(r?o.jsx("span",{dangerouslySetInnerHTML:{__html:r}}):n);return I.createElement(u.tag,{className:u.classes,style:u.style,...l},c)};function Cg(t){return{classes:["nhsuk-error-message",t.className||""].filter(Boolean).join(" "),id:t.id,visuallyHiddenText:t.visuallyHiddenText??"Error:"}}const Ai=({id:t,className:e,visuallyHiddenText:n="Error:",children:r,...a})=>{const i=Cg({id:t,className:e,visuallyHiddenText:n});return o.jsxs("span",{className:i.classes,id:i.id,...a,children:[o.jsxs("span",{className:"nhsuk-u-visually-hidden",children:[i.visuallyHiddenText," "]}),r]})},Tg=({titleText:t="There is a problem",titleHtml:e,descriptionText:n,descriptionHtml:r,errorList:a,className:i,children:s,...l})=>{const u=I.useRef(null);I.useEffect(()=>{u.current&&u.current.focus()},[]);const c=de("nhsuk-error-summary",i),d=()=>e?o.jsx("span",{dangerouslySetInnerHTML:{__html:e}}):t,m=()=>r?o.jsx("span",{dangerouslySetInnerHTML:{__html:r}}):n,p=b=>{const _=b.html?o.jsx("span",{dangerouslySetInnerHTML:{__html:b.html}}):b.text;return b.href?o.jsx("a",{href:b.href,...b.attributes,children:_}):_};return o.jsxs("div",{ref:u,className:c,"aria-labelledby":"error-summary-title",role:"alert",tabIndex:-1,"data-module":"nhsuk-error-summary",...l,children:[o.jsx("h2",{className:"nhsuk-error-summary__title",id:"error-summary-title",children:d()}),o.jsxs("div",{className:"nhsuk-error-summary__body",children:[s&&o.jsx("div",{className:"nhsuk-error-summary__description","data-role":"description",children:s}),!s&&(n||r)&&o.jsx("div",{className:"nhsuk-error-summary__description","data-role":"description",children:m()}),o.jsx("ul",{className:"nhsuk-list nhsuk-error-summary__list",role:"list",children:a.map((b,_)=>o.jsx("li",{children:p(b)},_))})]})]})},Ng=({id:t,className:e,items:n,namePrefix:r,values:a={},fieldset:i,hint:s,errorMessage:l,onChange:u,...c})=>{const[d,m]=I.useState(()=>({day:a.day||"",month:a.month||"",year:a.year||""})),[p,b]=I.useState({}),_=P=>P%4===0&&P%100!==0||P%400===0,f=(P,F)=>{const j=[31,28,31,30,31,30,31,31,30,31,30,31];return P===2&&_(F)?29:j[P-1]},h=(P,F,j)=>{if(!P)return;if(!/^\d+$/.test(P))return"Day must be a number";const H=parseInt(P,10);if(H<1||H>31)return"Day must be between 1 and 31";if(F&&j){const B=parseInt(F,10),E=parseInt(j,10);if(!isNaN(B)&&!isNaN(E)&&B>=1&&B<=12){const W=f(B,E);if(H>W)return`${["January","February","March","April","May","June","July","August","September","October","November","December"][B-1]} ${E} only has ${W} days`}}},$=P=>{if(!P)return;if(!/^\d+$/.test(P))return"Month must be a number";const F=parseInt(P,10);if(F<1||F>12)return"Month must be between 1 and 12"},C=P=>{if(!P)return;if(!/^\d+$/.test(P))return"Year must be a number";const F=parseInt(P,10),j=new Date().getFullYear();if(F<1900||F>j+10)return`Year must be between 1900 and ${j+10}`},S=(P,F,j)=>{if(!P||!F||!j)return;const H=parseInt(P,10),B=parseInt(F,10),E=parseInt(j,10);if(isNaN(H)||isNaN(B)||isNaN(E)||B<1||B>12||E<1900)return;const W=f(B,E);H<1||H>W},y=I.useCallback((P,F)=>{const j={...d,[P]:F};m(j),u&&u(j)},[d,u]),w=I.useCallback(P=>{const F=d[P];let j;if(P==="day")j=h(F,d.month,d.year);else if(P==="month"){if(j=$(F),!j&&d.day){const H=h(d.day,F,d.year);b(B=>({...B,day:H}))}}else if(P==="year"&&(j=C(F),!j&&d.day&&d.month)){const H=h(d.day,d.month,F);b(B=>({...B,day:H}))}if(b(H=>({...H,[P]:j})),d.day&&d.month&&d.year){const H=S(P==="day"?F:d.day,P==="month"?F:d.month,P==="year"?F:d.year);H&&b(B=>({...B,day:H}))}},[d,h,$,C,S]),x=I.useMemo(()=>[{name:"day",classes:"nhsuk-input--width-2",inputmode:"numeric",pattern:"[0-9]*"},{name:"month",classes:"nhsuk-input--width-2",inputmode:"numeric",pattern:"[0-9]*"},{name:"year",classes:"nhsuk-input--width-4",inputmode:"numeric",pattern:"[0-9]*"}],[]),M=n||x;let T=i?.describedBy||"";const k=s?`${t}-hint`:"",D=l?`${t}-error`:"";k&&(T=T?`${T} ${k}`:k),D&&(T=T?`${T} ${D}`:D);const v=Object.values(p).some(P=>P),N=de("nhsuk-form-group",{"nhsuk-form-group--error":l||v}),z=de("nhsuk-date-input",e),R=()=>o.jsxs(o.Fragment,{children:[s&&o.jsx(Bi,{id:k,className:s.classes,children:s.html?o.jsx("span",{dangerouslySetInnerHTML:{__html:s.html}}):s.text}),l&&o.jsx(Ai,{id:D,className:l.classes,children:l.html?o.jsx("span",{dangerouslySetInnerHTML:{__html:l.html}}):l.text}),Object.entries(p).map(([P,F])=>F?o.jsxs(Ai,{id:`${t}-${P}-error`,className:"nhsuk-error-message",children:[o.jsx("span",{className:"nhsuk-u-visually-hidden",children:"Error:"})," ",F]},`${P}-error`):null),o.jsx("div",{className:z,id:t,"data-testid":"date-input",...c,children:M.map(P=>{const F=P.id||`${t}-${P.name}`,j=r?`${r}[${P.name}]`:P.name,H=P.label||P.name.charAt(0).toUpperCase()+P.name.slice(1),B=p[P.name],E=d[P.name]||"";let W=T;if(B){const L=`${t}-${P.name}-error`;W=W?`${W} ${L}`:L}return o.jsxs("div",{className:"nhsuk-date-input__item",children:[o.jsx(Ca,{htmlFor:F,className:"nhsuk-date-input__label",children:H}),o.jsx(ka,{id:F,name:j,value:E,className:de("nhsuk-date-input__input",P.classes,{"nhsuk-input--error":B}),inputMode:P.inputmode,autoComplete:P.autocomplete,pattern:P.pattern,"aria-describedby":W||void 0,hasError:!!B,onChange:L=>y(P.name,L.target.value),onBlur:()=>w(P.name)})]},P.name)})})]});return o.jsx("div",{className:N,children:i?o.jsx(Ta,{className:i.classes,legend:i.legend?{text:i.legend}:void 0,describedBy:T||void 0,children:R()}):R()})},Hl={animation:{AnimationDurationFast:"150ms",AnimationDurationNormal:"300ms",AnimationDurationSlow:"500ms",AnimationEasingEaseIn:"cubic-bezier(0.4, 0, 1, 1)",AnimationEasingEaseOut:"cubic-bezier(0, 0, 0.2, 1)",AnimationEasingEaseInOut:"cubic-bezier(0.4, 0, 0.2, 1)",AnimationEasingBounce:"cubic-bezier(0.68, -0.55, 0.265, 1.55)"},transition:{TransitionButtonDefault:"background-color 300ms cubic-bezier(0, 0, 0.2, 1)",TransitionButtonShadow:"box-shadow 150ms cubic-bezier(0, 0, 0.2, 1)",TransitionInputFocus:"border-color 150ms cubic-bezier(0, 0, 0.2, 1), box-shadow 150ms cubic-bezier(0, 0, 0.2, 1)",TransitionCardHover:"border-color 300ms cubic-bezier(0, 0, 0.2, 1)"},border:{BorderWidthDefault:"1px",BorderWidthFormElement:"2px",BorderWidthFormElementError:"4px",BorderWidthCardBottom:"4px",BorderWidthPanel:"4px",BorderWidthTableHeader:"2px",BorderWidthTableCell:"1px",BorderRadiusNone:"0px",BorderRadiusSmall:"4px",BorderRadiusMedium:"8px",BorderRadiusLarge:"12px",BorderColorDefault:"#d8dde0",BorderColorForm:"#4c6272",BorderColorCard:"#d8dde0",BorderColorCardHover:"#aeb7bd",BorderColorError:"#d5281b"},color:{ColorPrimaryBlue:"#005eb8",ColorPrimaryWhite:"#ffffff",ColorPrimaryBlack:"#212b32",ColorPrimaryGreen:"#007f3b",ColorPrimaryPurple:"#330072",ColorPrimaryDarkPink:"#7c2855",ColorPrimaryRed:"#d5281b",ColorPrimaryYellow:"#ffeb3b",ColorSecondaryPaleYellow:"#fff9c4",ColorSecondaryWarmYellow:"#ffb81c",ColorSecondaryOrange:"#ed8b00",ColorSecondaryAquaGreen:"#00a499",ColorSecondaryPink:"#ae2573",ColorGrey1:"#4c6272",ColorGrey2:"#768692",ColorGrey3:"#aeb7bd",ColorGrey4:"#d8dde0",ColorGrey5:"#f0f4f5",ColorTextPrimary:"#212b32",ColorTextSecondary:"#4c6272",ColorTextReverse:"#ffffff",ColorTextPrint:"#212b32",ColorLinkDefault:"#005eb8",ColorLinkHover:"#7c2855",ColorLinkActive:"#003087",ColorLinkVisited:"#330072",ColorFocusBackground:"#ffeb3b",ColorFocusText:"#212b32",ColorBorderDefault:"#d8dde0",ColorBorderSecondary:"#ffffff33",ColorError:"#d5281b",ColorFormBorder:"#4c6272",ColorFormBackground:"#ffffff",ColorButtonPrimaryBackground:"#007f3b",ColorButtonPrimaryText:"#ffffff",ColorButtonPrimaryHover:"#006530",ColorButtonPrimaryActive:"#004021",ColorButtonPrimaryShadow:"#004021",ColorButtonSecondaryBackground:"#00000000",ColorButtonSecondaryBackgroundSolid:"#ffffff",ColorButtonSecondaryBorder:"#005eb8",ColorButtonSecondaryText:"#005eb8",ColorButtonSecondaryHover:"#d9e5f2",ColorButtonSecondaryActive:"#c7daf0",ColorButtonSecondaryShadow:"#005eb8",ColorButtonReverseBackground:"#ffffff",ColorButtonReverseText:"#212b32",ColorButtonReverseHover:"#d9dde0",ColorButtonReverseActive:"#b3bcc2",ColorButtonReverseShadow:"#b3bcc2",ColorButtonWarningBackground:"#d5281b",ColorButtonWarningHover:"#aa2016",ColorButtonWarningActive:"#6a140e",ColorButtonWarningShadow:"#6a140e",ColorButtonLoginBackground:"#005eb8",ColorButtonLoginHover:"#004b93",ColorButtonLoginActive:"#002f5c",ColorButtonLoginShadow:"#002f5c"},component:{ComponentButtonPaddingMobileVertical:"8px",ComponentButtonPaddingMobileHorizontal:"16px",ComponentButtonPaddingDesktopVertical:"12px",ComponentButtonPaddingDesktopHorizontal:"16px",ComponentButtonShadowSize:"4px",ComponentFormInputMinHeight:"40px",ComponentFormInputPadding:"4px",ComponentFormCheckboxSize:"40px",ComponentFormCheckboxLabelPadding:"12px",ComponentCardPaddingMobile:"16px",ComponentCardPaddingDesktop:"32px",ComponentCardHeadingMargin:"16px",ComponentPanelPaddingMobile:"20px",ComponentPanelPaddingDesktop:"28px",ComponentBreadcrumbChevronMarginLeft:"9px",ComponentBreadcrumbChevronMarginRight:"2px",ComponentBreadcrumbPaddingTopMobile:"16px",ComponentBreadcrumbPaddingTopDesktop:"24px",ComponentSummaryListCellPaddingVertical:"8px",ComponentSummaryListCellPaddingHorizontal:"24px",ComponentSummaryListRowMargin:"16px",ComponentSpread:"4px",ComponentBlur:"4px",ComponentLink:"4px",ComponentDetails:"8px",ComponentExpander:"4px",ComponentPagination:"16px"},button:{ButtonPrimaryBackgroundDefault:"#007f3b",ButtonPrimaryBackgroundHover:"#006530",ButtonPrimaryBackgroundActive:"#004021",ButtonPrimaryBackgroundDisabled:"#d8dde0",ButtonPrimaryTextDefault:"#ffffff",ButtonPrimaryTextDisabled:"#768692",ButtonPrimaryBorderDefault:"#00000000",ButtonPrimaryBorderFocus:"#ffeb3b",ButtonSecondaryBackgroundDefault:"#00000000",ButtonSecondaryBackgroundSolid:"#ffffff",ButtonSecondaryBackgroundHover:"#d9e5f2",ButtonSecondaryBackgroundActive:"#c7daf0",ButtonSecondaryTextDefault:"#005eb8",ButtonSecondaryBorderDefault:"#005eb8",ButtonSpacingPaddingVerticalMobile:"8px",ButtonSpacingPaddingHorizontalMobile:"16px",ButtonSpacingPaddingVerticalDesktop:"12px",ButtonSpacingPaddingHorizontalDesktop:"16px",ButtonBorderWidth:"2px",ButtonBorderRadius:"4px",ButtonShadowSize:"4px",ButtonTypographyWeight:"600"},card:{CardBackgroundDefault:"#ffffff",CardBorderDefault:"#d8dde0",CardBorderHover:"#aeb7bd",CardBorderBottom:"#f0f4f5",CardTextHeading:"#212b32",CardTextDescription:"#212b32",CardTextLink:"#005eb8",CardSpacingPaddingMobile:"16px",CardSpacingPaddingDesktop:"32px",CardSpacingHeadingMargin:"16px",CardBorderWidthDefault:"1px",CardBorderWidthBottom:"4px",CardShadowDefault:"none",CardShadowHover:"0 2px 4px rgba(0, 0, 0, 0.1)"},form:{FormInputBackgroundDefault:"#ffffff",FormInputBackgroundFocus:"#ffffff",FormInputBackgroundDisabled:"#d8dde0",FormInputBackgroundError:"#ffffff",FormInputBorderDefault:"#4c6272",FormInputBorderFocus:"#ffeb3b",FormInputBorderError:"#d5281b",FormInputBorderDisabled:"#aeb7bd",FormInputTextDefault:"#212b32",FormInputTextPlaceholder:"#4c6272",FormInputTextDisabled:"#768692",FormLabelTextDefault:"#212b32",FormLabelTextRequired:"#ffffff",FormLabelTypographyWeight:"600",FormErrorTextDefault:"#d5281b",FormErrorTypographyWeight:"600",FormHintTextDefault:"#4c6272",FormSpacingInputPadding:"4px",FormSpacingInputMinHeight:"40px",FormSpacingCheckboxSize:"40px",FormSpacingCheckboxLabelPadding:"12px",FormBorderWidthDefault:"2px",FormBorderWidthError:"4px",FormBorderRadius:"0px"},size:{SizeIconSmall:"16px",SizeIconMedium:"18px",SizeIconLarge:"24px",SizeIconExtraLarge:"32px",SizeIconNhsDefault:"34px",SizeFormControlSmall:"32px",SizeFormControlMedium:"40px",SizeFormControlLarge:"48px",SizeFormInputWidthXs:"5.4ex",SizeFormInputWidthSm:"7.2ex",SizeFormInputWidthMd:"9ex",SizeFormInputWidthLg:"10.8ex",SizeFormInputWidthXl:"20ex",SizeFormInputWidth2xl:"38ex",SizeFormInputWidth3xl:"56ex",SizeButtonMinHeightMobile:"44px",SizeButtonMinHeightDesktop:"40px"},layout:{LayoutContainerMaxWidth:"1020px",LayoutColumnFull:"100%",LayoutColumnHalf:"50%",LayoutColumnThird:"33.333%",LayoutColumnQuarter:"25%",LayoutColumnActions:"20%"},breakpoint:{BreakpointMobile:"320px",BreakpointTablet:"641px",BreakpointDesktop:"1025px",BreakpointLargeDesktop:"1280px"},grid:{GridPageWidth:"960px",GridGutter:"32px",GridGutterHalf:"16px"},state:{StateErrorBackground:"#d5281b",StateErrorBorder:"#d5281b",StateErrorText:"#ffffff",StateSuccessBackground:"#007f3b",StateSuccessBorder:"#007f3b",StateSuccessText:"#ffffff",StateWarningBackground:"#ffeb3b",StateWarningBorder:"#ffeb3b",StateWarningText:"#212b32",StateInfoBackground:"#005eb8",StateInfoBorder:"#005eb8",StateInfoText:"#ffffff",StateDisabledBackground:"#d8dde0",StateDisabledBorder:"#aeb7bd",StateDisabledText:"#768692"},shadow:{ShadowButtonDefault:"0 4px 0 #004021",ShadowButtonSecondary:"0 4px 0 #005eb8",ShadowButtonWarning:"0 4px 0 #6a140e",ShadowButtonFocus:"0 4px 0 #ffeb3b",ShadowCardDefault:"none",ShadowCardHover:"0 2px 4px rgba(0, 0, 0, 0.1)"},"focus-outline":{FocusOutlineWidth:"4px",FocusOutlineOffset:"0px",FocusOutlineStyle:"solid"},"focus-shadow":{FocusShadowInput:"0 0 0 3px #ffeb3b",FocusShadowButton:"0 0 0 3px #ffeb3b"},elevation:{ElevationNone:"none",ElevationLow:"0 1px 3px rgba(0, 0, 0, 0.12)",ElevationMedium:"0 2px 6px rgba(0, 0, 0, 0.16)",ElevationHigh:"0 4px 12px rgba(0, 0, 0, 0.20)"},spacing:{Spacing0:"0",Spacing1:"4px",Spacing2:"8px",Spacing3:"16px",Spacing4:"24px",Spacing5:"32px",Spacing6:"40px",Spacing7:"48px",Spacing8:"56px",Spacing9:"64px"},"spacing-responsive":{SpacingResponsive0Mobile:"0",SpacingResponsive0Tablet:"0",SpacingResponsive1Mobile:"4px",SpacingResponsive1Tablet:"4px",SpacingResponsive2Mobile:"8px",SpacingResponsive2Tablet:"8px",SpacingResponsive3Mobile:"8px",SpacingResponsive3Tablet:"16px",SpacingResponsive4Mobile:"16px",SpacingResponsive4Tablet:"24px",SpacingResponsive5Mobile:"24px",SpacingResponsive5Tablet:"32px",SpacingResponsive6Mobile:"32px",SpacingResponsive6Tablet:"40px",SpacingResponsive7Mobile:"40px",SpacingResponsive7Tablet:"48px",SpacingResponsive8Mobile:"48px",SpacingResponsive8Tablet:"56px",SpacingResponsive9Mobile:"56px",SpacingResponsive9Tablet:"64px"},font:{FontFamilyBase:"Frutiger W01",FontFamilyFallback:"Arial, Helvetica, sans-serif",FontFamilyPrint:"sans-serif",FontWeightNormal:"400",FontWeightBold:"600",FontWeightLight:"400",FontSize14Mobile:"12px",FontSize14Tablet:"14px",FontSize14Print:"12pt",FontSize16Mobile:"14px",FontSize16Tablet:"16px",FontSize16Print:"12pt",FontSize19Mobile:"16px",FontSize19Tablet:"19px",FontSize19Print:"13pt",FontSize22Mobile:"19px",FontSize22Tablet:"22px",FontSize22Print:"15pt",FontSize26Mobile:"22px",FontSize26Tablet:"26px",FontSize26Print:"17pt",FontSize36Mobile:"27px",FontSize36Tablet:"36px",FontSize36Print:"20pt",FontSize48Mobile:"33px",FontSize48Tablet:"48px",FontSize48Print:"24pt",FontSizeBase:"16px",FontLineHeightBase:"24px"},headings:{xl:{fontFamily:"Frutiger W01",fontWeight:"600",fontSize:{mobile:"33px",tablet:"48px",print:"24pt"},lineHeight:"1.09",marginTop:"0",marginBottom:{mobile:"40px",tablet:"48px"}},l:{fontFamily:"Frutiger W01",fontWeight:"600",fontSize:{mobile:"27px",tablet:"36px",print:"20pt"},lineHeight:"1.11",marginTop:"0",marginBottom:{mobile:"16px",tablet:"24px"}},m:{fontFamily:"Frutiger W01",fontWeight:"600",fontSize:{mobile:"22px",tablet:"26px",print:"17pt"},lineHeight:"1.15",marginTop:"0",marginBottom:{mobile:"16px",tablet:"24px"}},s:{fontFamily:"Frutiger W01",fontWeight:"600",fontSize:{mobile:"19px",tablet:"22px",print:"15pt"},lineHeight:"1.18",marginTop:"0",marginBottom:{mobile:"16px",tablet:"24px"}},xs:{fontFamily:"Frutiger W01",fontWeight:"600",fontSize:{mobile:"16px",tablet:"19px",print:"13pt"},lineHeight:"1.26",marginTop:"0",marginBottom:{mobile:"16px",tablet:"24px"}}},paragraphs:{body:{fontFamily:"Frutiger W01",fontWeight:"400",fontSize:{mobile:"16px",tablet:"19px",print:"13pt"},lineHeight:"1.47",marginTop:"0",marginBottom:{mobile:"16px",tablet:"24px"}},bodyLarge:{fontFamily:"Frutiger W01",fontWeight:"400",fontSize:{mobile:"22px",tablet:"26px",print:"17pt"},lineHeight:"1.38",marginTop:"0",marginBottom:{mobile:"24px",tablet:"32px"}},bodySmall:{fontFamily:"Frutiger W01",fontWeight:"400",fontSize:{mobile:"14px",tablet:"16px",print:"12pt"},lineHeight:"1.5",marginTop:"0",marginBottom:{mobile:"16px",tablet:"24px"}},ledeText:{fontFamily:"Frutiger W01",fontWeight:"400",fontSize:{mobile:"22px",tablet:"26px",print:"17pt"},lineHeight:"1.38",marginTop:"0",marginBottom:{mobile:"40px",tablet:"48px"}},ledeTextSmall:{fontFamily:"Frutiger W01",fontWeight:"400",fontSize:{mobile:"16px",tablet:"19px",print:"13pt"},lineHeight:"1.47",marginTop:"0",marginBottom:{mobile:"24px",tablet:"32px"}}}},zl=I.createContext(Hl),jg=({children:t,theme:e={}})=>{const n={...Hl,...e};return o.jsx(zl.Provider,{value:n,children:t})},Dg=()=>{const t=I.useContext(zl);if(!t)throw new Error("useNHSTheme must be used within an NHSThemeProvider");return t};function Mg(){return`
	@font-face {
	  font-display: swap;
	  font-family: "Frutiger W01";
	  font-style: normal;
	  font-weight: 400;
	  src: url("https://assets.nhs.uk/fonts/FrutigerLTW01-55Roman.eot");
	  src: url("https://assets.nhs.uk/fonts/FrutigerLTW01-55Roman.eot?#iefix") format("embedded-opentype"),
		   url("https://assets.nhs.uk/fonts/FrutigerLTW01-55Roman.woff2") format("woff2"),
		   url("https://assets.nhs.uk/fonts/FrutigerLTW01-55Roman.woff") format("woff");
	}
	
	@font-face {
	  font-display: swap;
	  font-family: "Frutiger W01";
	  font-style: normal;
	  font-weight: 600;
	  src: url("https://assets.nhs.uk/fonts/FrutigerLTW01-65Bold.eot");
	  src: url("https://assets.nhs.uk/fonts/FrutigerLTW01-65Bold.eot?#iefix") format("embedded-opentype"),
		   url("https://assets.nhs.uk/fonts/FrutigerLTW01-65Bold.woff2") format("woff2"),
		   url("https://assets.nhs.uk/fonts/FrutigerLTW01-65Bold.woff") format("woff");
	}
  `}function $g(){if(typeof document>"u"||document.getElementById("nhs-fonts"))return;const t=document.createElement("style");t.id="nhs-fonts",t.textContent=Mg(),document.head.appendChild(t)}const Fg=({children:t,theme:e})=>(I.useEffect(()=>{$g()},[]),o.jsx(jg,{theme:e,children:t})),Ol=({mode:t="form",action:e="/search",method:n="get",name:r="q",value:a,placeholder:i="Search",visuallyHiddenLabel:s="Search the NHS website",visuallyHiddenButton:l="Search",className:u,disabled:c=!1,callbacks:d={},isLoading:m=!1,showResults:p=!1,results:b=[],formAttributes:_={},inputAttributes:f={},buttonAttributes:h={},preventDefaultSubmit:$=!1,debounceMs:C=300,minQueryLength:S=1})=>{const[y,w]=I.useState(""),[x,M]=I.useState(!1),T=I.useRef(void 0),k=I.useRef(null),D=I.useRef(null),v=t==="controlled"&&a!==void 0,N=v?a:y,z=I.useCallback(U=>{T.current&&clearTimeout(T.current),T.current=setTimeout(()=>{d.onChange&&U.length>=S&&d.onChange(U)},C)},[d.onChange,C,S]),R=I.useCallback(U=>{const O=U.target.value;v||w(O),t!=="form"&&z(O)},[v,t,z]),P=I.useCallback(U=>{const O=N.trim(),Q={query:O,timestamp:Date.now(),formData:new FormData(U.currentTarget)};t==="controlled"||t==="hybrid"&&$?(U.preventDefault(),d.onSearch&&O.length>=S&&d.onSearch(Q)):t==="hybrid"&&d.onSearch&&O.length>=S&&d.onSearch(Q)},[t,N,d.onSearch,$,S]),F=I.useCallback(()=>{M(!0),d.onFocus?.()},[d.onFocus]),j=I.useCallback(()=>{M(!1),d.onBlur?.()},[d.onBlur]),H=I.useCallback(()=>{v||w(""),d.onClear?.(),D.current?.focus()},[v,d.onClear]);I.useEffect(()=>()=>{T.current&&clearTimeout(T.current)},[]);const B=()=>o.jsx("svg",{className:de("nhsuk-icon nhsuk-icon__search",{"nhsuk-icon__search--loading":m}),xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24","aria-hidden":"true",focusable:"false",children:o.jsx("path",{d:"M19.71 18.29l-4.11-4.1a7 7 0 1 0-1.41 1.41l4.1 4.11a1 1 0 0 0 1.42 0 1 1 0 0 0 0-1.42zM5 10a5 5 0 1 1 5 5 5 5 0 0 1-5-5z"})}),E=()=>o.jsx("svg",{className:"nhsuk-icon nhsuk-icon__spinner",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24","aria-hidden":"true",focusable:"false",children:o.jsxs("circle",{cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"2",fill:"none",strokeLinecap:"round",strokeDasharray:"31.416",strokeDashoffset:"31.416",children:[o.jsx("animate",{attributeName:"stroke-dasharray",dur:"2s",values:"0 31.416;15.708 15.708;0 31.416",repeatCount:"indefinite"}),o.jsx("animate",{attributeName:"stroke-dashoffset",dur:"2s",values:"0;-15.708;-31.416",repeatCount:"indefinite"})]})}),W=()=>!N||t==="form"?null:o.jsx("button",{type:"button",className:"nhsuk-header__search-clear",onClick:H,"aria-label":"Clear search",children:o.jsx("svg",{className:"nhsuk-icon nhsuk-icon__close",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24","aria-hidden":"true",focusable:"false",children:o.jsx("path",{d:"M13.41 12l5.3-5.29a1 1 0 1 0-1.42-1.42L12 10.59l-5.29-5.3a1 1 0 0 0-1.42 1.42l5.3 5.29-5.3 5.29a1 1 0 0 0 1.42 1.42l5.29-5.3 5.29 5.3a1 1 0 0 0 1.42-1.42z"})})}),L=()=>!p||!b.length||!x?null:o.jsx("div",{className:"nhsuk-header__search-results",role:"listbox",children:b.map(U=>o.jsx("div",{className:"nhsuk-header__search-result",role:"option",children:U.href?o.jsxs("a",{href:U.href,className:"nhsuk-header__search-result-link",children:[o.jsx("span",{className:"nhsuk-header__search-result-title",children:U.title}),U.description&&o.jsx("span",{className:"nhsuk-header__search-result-description",children:U.description})]}):o.jsxs("button",{type:"button",className:"nhsuk-header__search-result-button",onClick:()=>d.onSearch?.({query:U.title,timestamp:Date.now()}),children:[o.jsx("span",{className:"nhsuk-header__search-result-title",children:U.title}),U.description&&o.jsx("span",{className:"nhsuk-header__search-result-description",children:U.description})]})},U.id))});return o.jsxs("div",{className:de("nhsuk-header__search",u,{"nhsuk-header__search--controlled":t==="controlled","nhsuk-header__search--hybrid":t==="hybrid","nhsuk-header__search--loading":m,"nhsuk-header__search--focused":x,"nhsuk-header__search--has-results":p&&b.length>0}),children:[o.jsxs("form",{ref:k,className:"nhsuk-header__search-form",id:"search",action:t!=="controlled"?e:void 0,method:t!=="controlled"?n:void 0,role:"search",onSubmit:P,..._,children:[o.jsx("label",{className:"nhsuk-u-visually-hidden",htmlFor:"search-field",children:s}),o.jsxs("div",{className:"nhsuk-header__search-input-wrapper",children:[o.jsx("input",{ref:D,className:"nhsuk-header__search-input nhsuk-input",id:"search-field",name:t!=="controlled"?r:void 0,type:"search",placeholder:i,autoComplete:"off",value:N,onChange:R,onFocus:F,onBlur:j,disabled:c||m,...p&&b.length>0?{"aria-expanded":!0,"aria-haspopup":"listbox"}:{},...f}),W()]}),o.jsxs("button",{className:"nhsuk-header__search-submit",type:"submit",disabled:c||m||t!=="form"&&N.length<S,...h,children:[m?E():B(),o.jsx("span",{className:"nhsuk-u-visually-hidden",children:m?"Searching...":l})]})]}),L()]})};function Wl(t,{variant:e,isClient:n,menuOpen:r=!1,showMoreButton:a=!1,visibleItems:i,dropdownVisible:s,toggleMenu:l}){const{className:u,logo:c={},service:d={},organisation:m,search:p,account:b,navigation:_,containerClasses:f,variant:h="default",attributes:$={},maxVisibleItems:C,...S}=t;"maxVisibleItems"in S&&delete S.maxVisibleItems;const y=d.href&&!c.href||d.href&&d.href===c.href,w=y?d.href:c.href,x=de("nhsuk-header",{"nhsuk-header--organisation":h==="organisation"||m,"nhsuk-header--white":h==="white"},u),M=de("nhsuk-header__container","nhsuk-width-container",f),T=de("nhsuk-header__navigation",{"nhsuk-header__navigation--white":_?.white,"nhsuk-header__navigation--justified":_?.justified},_?.className),k=()=>o.jsxs("svg",{className:"nhsuk-header__logo",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 200 80",height:"40",width:"100",focusable:"false",role:"img","aria-label":c.ariaLabel||"NHS",children:[o.jsx("title",{children:c.ariaLabel||"NHS"}),o.jsx("path",{fill:"#fff",d:"M200 0v80H0V0h200Zm-27.5 5.5c-14.5 0-29 5-29 22 0 10.2 7.7 13.5 14.7 16.3l.7.3c5.4 2 10.1 3.9 10.1 8.4 0 6.5-8.5 7.5-14 7.5s-12.5-1.5-16-3.5L135 70c5.5 2 13.5 3.5 20 3.5 15.5 0 32-4.5 32-22.5 0-19.5-25.5-16.5-25.5-25.5 0-5.5 5.5-6.5 12.5-6.5a35 35 0 0 1 14.5 3l4-13.5c-4.5-2-12-3-20-3Zm-131 2h-22l-14 65H22l9-45h.5l13.5 45h21.5l14-65H64l-9 45h-.5l-13-45Zm63 0h-18l-13 65h17l6-28H117l-5.5 28H129l13.5-65H125L119.5 32h-20l5-24.5Z"})]}),D=()=>c.src?o.jsx("img",{className:"nhsuk-header__organisation-logo",src:c.src,width:"280",alt:c.ariaLabel||"NHS"}):k(),v=()=>m?o.jsxs(o.Fragment,{children:[o.jsxs("span",{className:"nhsuk-header__organisation-name",children:[m.name,m.split&&o.jsxs("span",{className:"nhsuk-header__organisation-name-split",children:[" "," ",m.split]})]}),m.descriptor&&o.jsx("span",{className:"nhsuk-header__organisation-name-descriptor",children:m.descriptor})]}):null,N=(B,E)=>B?E?o.jsx("a",{className:"nhsuk-header__service-name",href:E,children:B}):o.jsx("span",{className:"nhsuk-header__service-name",children:B}):null,z=B=>B.active||B.current?o.jsx("strong",{className:"nhsuk-header__navigation-item-current-fallback",children:B.html?o.jsx("span",{dangerouslySetInnerHTML:{__html:B.html}}):B.text}):B.html?o.jsx("span",{dangerouslySetInnerHTML:{__html:B.html}}):B.text,R=()=>o.jsx("svg",{className:"nhsuk-icon nhsuk-icon__chevron-down",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 12 7","aria-hidden":"true",focusable:"false",children:o.jsx("path",{d:"M1.414 0 6 4.586 10.586 0 12 1.414 6 7 0 1.414 1.414 0Z"})}),P=C??4,F=e==="server"&&_?.items&&_.items.length>P,j=F?[]:_?.items,H=F?_.items:[];return o.jsxs("header",{className:x,role:"banner","data-module":"nhsuk-header",...$,...S,children:[o.jsxs("div",{className:M,children:[o.jsxs("div",{className:"nhsuk-header__service",children:[w?o.jsxs("a",{className:"nhsuk-header__service-logo",href:w,children:[D(),v(),y&&N(d.text)]}):o.jsxs(o.Fragment,{children:[D(),v(),y&&N(d.text)]}),d.text&&!y&&N(d.text,d.href)]}),p&&o.jsx(Ol,{...p}),o.jsx(Il,{...b,variant:h==="white"?"white":"default"})]}),_&&_.items&&_.items.length>0&&o.jsx("nav",{className:T,"aria-label":_.ariaLabel||"Menu",children:o.jsx("div",{className:de("nhsuk-header__navigation-container","nhsuk-width-container",{"nhsuk-header__navigation-container--initializing":n&&e==="client","nhsuk-header__navigation-container--ssr":!n},f),children:o.jsxs("ul",{className:"nhsuk-header__navigation-list",children:[(e==="server"?j||[]:(_?.items||[]).slice(0,i??(_?.items?.length||0))).map((B,E)=>o.jsx("li",{className:de("nhsuk-header__navigation-item",{"nhsuk-header__navigation-item--current":B.active||B.current},B.className),...B.attributes||{},children:o.jsx("a",{className:"nhsuk-header__navigation-link",href:B.href,...B.active||B.current?{"aria-current":B.current?"page":"true"}:{},children:z(B)})},E)),e==="client"&&a&&i!==void 0&&_?.items&&i<_.items.length&&o.jsx("li",{className:"nhsuk-header__navigation-item nhsuk-header__navigation-item--more",children:o.jsxs("a",{className:"nhsuk-header__navigation-button",id:"toggle-more-menu",onClick:l,type:"button",children:[o.jsx("span",{children:"More"}),R()]})})]})})}),e==="client"&&n&&_&&_.items&&_.items.length>0&&r&&s&&o.jsx("div",{className:"nhsuk-header__dropdown-menu",hidden:!s,children:o.jsx("ul",{className:"nhsuk-header__dropdown-list",children:_.items.slice(i??0).map((B,E)=>o.jsx("li",{className:de("nhsuk-header__dropdown-item",{"nhsuk-header__dropdown-item--current":B.active||B.current}),children:o.jsx("a",{className:"nhsuk-header__dropdown-link",href:B.href,...B.active||B.current?{"aria-current":B.current?"page":"true"}:{},onClick:()=>{l?.()},children:z(B)})},`overflow-${(i??0)+E}`))})}),e==="server"&&F&&H.length>0&&o.jsx("div",{className:"nhsuk-header__dropdown-menu","data-ssr-overflow":"true",children:o.jsx("ul",{className:"nhsuk-header__dropdown-list",children:H.map((B,E)=>o.jsx("li",{className:de("nhsuk-header__dropdown-item",{"nhsuk-header__dropdown-item--current":B.active||B.current}),children:o.jsx("a",{className:"nhsuk-header__dropdown-link",href:B.href,...B.active||B.current?{"aria-current":B.current?"page":"true"}:{},children:z(B)})},`overflow-server-${E}`))})})]})}const ja=({className:t,logo:e={},service:n={},organisation:r,search:a,account:i,navigation:s,containerClasses:l,variant:u="default",attributes:c={},...d})=>{const[m,p]=I.useState(!1),[b]=I.useState(!1),[_]=I.useState(s?.items?.length||0),[f,h]=I.useState(!1),[$,C]=I.useState(!1);I.useEffect(()=>{typeof window>"u"||C(!0)},[]),I.useEffect(()=>{if(typeof document>"u")return;const y=w=>{w.key==="Escape"&&m&&p(!1)};if(m)return document.addEventListener("keydown",y),()=>document.removeEventListener("keydown",y)},[m]);const S=y=>{y&&(y.preventDefault(),y.stopPropagation());const w=!m;p(w),h(w)};return Wl({className:t,logo:e,service:n,organisation:r,search:a,account:i,navigation:s,containerClasses:l,variant:u,attributes:c,...d},{variant:"client",isClient:$,menuOpen:m,showMoreButton:b,visibleItems:_,dropdownVisible:f,toggleMenu:S})},Ig=t=>Wl(t,{variant:"server",isClient:!1}),Ul=({heading:t,headingLevel:e=1,headingClasses:n="",text:r,html:a,imageURL:i,containerClasses:s="",classes:l="",children:u,...c})=>{const d=["nhsuk-hero",i&&t?"nhsuk-hero--image nhsuk-hero--image-description":"",i&&!t?"nhsuk-hero--image":"",l].filter(Boolean).join(" "),m=["nhsuk-width-container",s,i?"":"nhsuk-hero--border"].filter(Boolean).join(" "),p=["nhsuk-hero__heading",n,!u&&!r&&!a?"nhsuk-u-margin-bottom-0":""].filter(Boolean).join(" "),b=u||t||r||a,_=()=>{if(!t)return null;const f={className:p};switch(e){case 1:return o.jsx("h1",{...f,children:t});case 2:return o.jsx("h2",{...f,children:t});case 3:return o.jsx("h3",{...f,children:t});case 4:return o.jsx("h4",{...f,children:t});case 5:return o.jsx("h5",{...f,children:t});case 6:return o.jsx("h6",{...f,children:t});default:return o.jsx("h1",{...f,children:t})}};return o.jsxs("section",{className:d,style:i?{backgroundImage:`url('${i}')`}:void 0,role:"banner",...c,children:[i&&o.jsx("div",{className:"nhsuk-hero__overlay",children:b&&o.jsx("div",{className:m,children:o.jsx("div",{className:"nhsuk-grid-row",children:o.jsx("div",{className:"nhsuk-grid-column-two-thirds",children:o.jsxs("div",{className:"nhsuk-hero-content",children:[_(),u||(a?o.jsx("div",{dangerouslySetInnerHTML:{__html:a}}):r?o.jsx("p",{className:"nhsuk-body-l nhsuk-u-margin-bottom-0",children:r}):null),o.jsx("span",{className:"nhsuk-hero__arrow","aria-hidden":"true"})]})})})})}),!i&&b&&o.jsx("div",{className:m,children:o.jsx("div",{className:"nhsuk-grid-row",children:o.jsx("div",{className:"nhsuk-grid-column-two-thirds",children:o.jsxs("div",{className:"nhsuk-hero__wrapper",children:[_(),u||(a?o.jsx("div",{dangerouslySetInnerHTML:{__html:a}}):r?o.jsx("p",{className:"nhsuk-body-l nhsuk-u-margin-bottom-0",children:r}):null)]})})})})]})};Ul.displayName="Hero";const Ei=({className:t,links:e=[],linksColumn2:n,linksColumn3:r,metaLinks:a,copyright:i="Â© NHS England",containerClasses:s,attributes:l={},style:u,footerStyle:c,containerStyle:d})=>{const m=(b,_=!1)=>o.jsx("li",{className:de("nhsuk-footer__list-item",{"nhsuk-footer-default__list-item":_}),children:o.jsx("a",{className:"nhsuk-footer__list-item-link",href:b.URL,target:b.newWindow?"_blank":void 0,rel:b.newWindow?"noopener noreferrer":void 0,children:b.label})},`${b.URL}-${b.label}`),p=!!(n||r);return o.jsx("footer",{role:"contentinfo",...l,style:{...l?.style,...u},children:o.jsxs("div",{className:"nhsuk-footer-container",children:[o.jsxs("div",{className:de("nhsuk-width-container",s),style:d,children:[o.jsx("h2",{className:"nhsuk-u-visually-hidden",children:"Support links"}),o.jsx("div",{className:de("nhsuk-footer",t),style:c,children:p?o.jsxs(o.Fragment,{children:[e.length>0&&o.jsx("ul",{className:"nhsuk-footer__list",children:e.map(b=>m(b))}),n&&n.length>0&&o.jsx("ul",{className:"nhsuk-footer__list",children:n.map(b=>m(b))}),r&&r.length>0&&o.jsx("ul",{className:"nhsuk-footer__list",children:r.map(b=>m(b))}),a&&a.length>0&&o.jsx("ul",{className:"nhsuk-footer__list nhsuk-footer__meta",children:a.map(b=>m(b))})]}):o.jsxs("ul",{className:"nhsuk-footer__list",children:[e.map(b=>m(b,!0)),(n||[]).map(b=>m(b,!0)),(r||[]).map(b=>m(b,!0)),(a||[]).map(b=>m(b,!0))]})}),!p&&o.jsx("div",{children:o.jsx("p",{className:"nhsuk-footer__copyright",children:i})})]}),p&&o.jsx("div",{className:"nhsuk-width-container",children:o.jsx("div",{children:o.jsx("p",{className:"nhsuk-footer__copyright",children:i})})})]})})};function Da(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function Bg(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function Ri(t){let e,n,r;t.length!==2?(e=Da,n=(l,u)=>Da(t(l),u),r=(l,u)=>t(l)-u):(e=t===Da||t===Bg?t:Pg,n=t,r=t);function a(l,u,c=0,d=l.length){if(c<d){if(e(u,u)!==0)return d;do{const m=c+d>>>1;n(l[m],u)<0?c=m+1:d=m}while(c<d)}return c}function i(l,u,c=0,d=l.length){if(c<d){if(e(u,u)!==0)return d;do{const m=c+d>>>1;n(l[m],u)<=0?c=m+1:d=m}while(c<d)}return c}function s(l,u,c=0,d=l.length){const m=a(l,u,c,d-1);return m>c&&r(l[m-1],u)>-r(l[m],u)?m-1:m}return{left:a,center:s,right:i}}function Pg(){return 0}function Lg(t){return t===null?NaN:+t}const Ag=Ri(Da).right;Ri(Lg).center;function Gl(t,e){let n,r;if(e===void 0)for(const a of t)a!=null&&(n===void 0?a>=a&&(n=r=a):(n>a&&(n=a),r<a&&(r=a)));else{let a=-1;for(let i of t)(i=e(i,++a,t))!=null&&(n===void 0?i>=i&&(n=r=i):(n>i&&(n=i),r<i&&(r=i)))}return[n,r]}const Eg=Math.sqrt(50),Rg=Math.sqrt(10),Hg=Math.sqrt(2);function Ma(t,e,n){const r=(e-t)/Math.max(0,n),a=Math.floor(Math.log10(r)),i=r/Math.pow(10,a),s=i>=Eg?10:i>=Rg?5:i>=Hg?2:1;let l,u,c;return a<0?(c=Math.pow(10,-a)/s,l=Math.round(t*c),u=Math.round(e*c),l/c<t&&++l,u/c>e&&--u,c=-c):(c=Math.pow(10,a)*s,l=Math.round(t/c),u=Math.round(e/c),l*c<t&&++l,u*c>e&&--u),u<l&&.5<=n&&n<2?Ma(t,e,n*2):[l,u,c]}function zg(t,e,n){if(e=+e,t=+t,n=+n,!(n>0))return[];if(t===e)return[t];const r=e<t,[a,i,s]=r?Ma(e,t,n):Ma(t,e,n);if(!(i>=a))return[];const l=i-a+1,u=new Array(l);if(r)if(s<0)for(let c=0;c<l;++c)u[c]=(i-c)/-s;else for(let c=0;c<l;++c)u[c]=(i-c)*s;else if(s<0)for(let c=0;c<l;++c)u[c]=(a+c)/-s;else for(let c=0;c<l;++c)u[c]=(a+c)*s;return u}function Hi(t,e,n){return e=+e,t=+t,n=+n,Ma(t,e,n)[2]}function zi(t,e,n){e=+e,t=+t,n=+n;const r=e<t,a=r?Hi(e,t,n):Hi(t,e,n);return(r?-1:1)*(a<0?1/-a:a)}function Yl(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function Oi(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function Vl(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function yr(){}var xr=.7,$a=1/xr,Yn="\\s*([+-]?\\d+)\\s*",vr="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Lt="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Og=/^#([0-9a-f]{3,8})$/,Wg=new RegExp(`^rgb\\(${Yn},${Yn},${Yn}\\)$`),Ug=new RegExp(`^rgb\\(${Lt},${Lt},${Lt}\\)$`),Gg=new RegExp(`^rgba\\(${Yn},${Yn},${Yn},${vr}\\)$`),Yg=new RegExp(`^rgba\\(${Lt},${Lt},${Lt},${vr}\\)$`),Vg=new RegExp(`^hsl\\(${vr},${Lt},${Lt}\\)$`),qg=new RegExp(`^hsla\\(${vr},${Lt},${Lt},${vr}\\)$`),ql={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Oi(yr,Sr,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:Xl,formatHex:Xl,formatHex8:Xg,formatHsl:Kg,formatRgb:Kl,toString:Kl});function Xl(){return this.rgb().formatHex()}function Xg(){return this.rgb().formatHex8()}function Kg(){return tc(this).formatHsl()}function Kl(){return this.rgb().formatRgb()}function Sr(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=Og.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?Zl(e):n===3?new pt(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?Fa(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?Fa(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=Wg.exec(t))?new pt(e[1],e[2],e[3],1):(e=Ug.exec(t))?new pt(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=Gg.exec(t))?Fa(e[1],e[2],e[3],e[4]):(e=Yg.exec(t))?Fa(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=Vg.exec(t))?ec(e[1],e[2]/100,e[3]/100,1):(e=qg.exec(t))?ec(e[1],e[2]/100,e[3]/100,e[4]):ql.hasOwnProperty(t)?Zl(ql[t]):t==="transparent"?new pt(NaN,NaN,NaN,0):null}function Zl(t){return new pt(t>>16&255,t>>8&255,t&255,1)}function Fa(t,e,n,r){return r<=0&&(t=e=n=NaN),new pt(t,e,n,r)}function Zg(t){return t instanceof yr||(t=Sr(t)),t?(t=t.rgb(),new pt(t.r,t.g,t.b,t.opacity)):new pt}function Wi(t,e,n,r){return arguments.length===1?Zg(t):new pt(t,e,n,r??1)}function pt(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}Oi(pt,Wi,Vl(yr,{brighter(t){return t=t==null?$a:Math.pow($a,t),new pt(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?xr:Math.pow(xr,t),new pt(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new pt(Cn(this.r),Cn(this.g),Cn(this.b),Ia(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Jl,formatHex:Jl,formatHex8:Jg,formatRgb:Ql,toString:Ql}));function Jl(){return`#${Tn(this.r)}${Tn(this.g)}${Tn(this.b)}`}function Jg(){return`#${Tn(this.r)}${Tn(this.g)}${Tn(this.b)}${Tn((isNaN(this.opacity)?1:this.opacity)*255)}`}function Ql(){const t=Ia(this.opacity);return`${t===1?"rgb(":"rgba("}${Cn(this.r)}, ${Cn(this.g)}, ${Cn(this.b)}${t===1?")":`, ${t})`}`}function Ia(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function Cn(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function Tn(t){return t=Cn(t),(t<16?"0":"")+t.toString(16)}function ec(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new It(t,e,n,r)}function tc(t){if(t instanceof It)return new It(t.h,t.s,t.l,t.opacity);if(t instanceof yr||(t=Sr(t)),!t)return new It;if(t instanceof It)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,a=Math.min(e,n,r),i=Math.max(e,n,r),s=NaN,l=i-a,u=(i+a)/2;return l?(e===i?s=(n-r)/l+(n<r)*6:n===i?s=(r-e)/l+2:s=(e-n)/l+4,l/=u<.5?i+a:2-i-a,s*=60):l=u>0&&u<1?0:s,new It(s,l,u,t.opacity)}function Qg(t,e,n,r){return arguments.length===1?tc(t):new It(t,e,n,r??1)}function It(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}Oi(It,Qg,Vl(yr,{brighter(t){return t=t==null?$a:Math.pow($a,t),new It(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?xr:Math.pow(xr,t),new It(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,a=2*n-r;return new pt(Ui(t>=240?t-240:t+120,a,r),Ui(t,a,r),Ui(t<120?t+240:t-120,a,r),this.opacity)},clamp(){return new It(nc(this.h),Ba(this.s),Ba(this.l),Ia(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=Ia(this.opacity);return`${t===1?"hsl(":"hsla("}${nc(this.h)}, ${Ba(this.s)*100}%, ${Ba(this.l)*100}%${t===1?")":`, ${t})`}`}}));function nc(t){return t=(t||0)%360,t<0?t+360:t}function Ba(t){return Math.max(0,Math.min(1,t||0))}function Ui(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const Gi=t=>()=>t;function e0(t,e){return function(n){return t+n*e}}function t0(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function n0(t){return(t=+t)==1?rc:function(e,n){return n-e?t0(e,n,t):Gi(isNaN(e)?n:e)}}function rc(t,e){var n=e-t;return n?e0(t,n):Gi(isNaN(t)?e:t)}const ac=(function t(e){var n=n0(e);function r(a,i){var s=n((a=Wi(a)).r,(i=Wi(i)).r),l=n(a.g,i.g),u=n(a.b,i.b),c=rc(a.opacity,i.opacity);return function(d){return a.r=s(d),a.g=l(d),a.b=u(d),a.opacity=c(d),a+""}}return r.gamma=t,r})(1);function r0(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,r=e.slice(),a;return function(i){for(a=0;a<n;++a)r[a]=t[a]*(1-i)+e[a]*i;return r}}function a0(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function i0(t,e){var n=e?e.length:0,r=t?Math.min(n,t.length):0,a=new Array(r),i=new Array(n),s;for(s=0;s<r;++s)a[s]=qi(t[s],e[s]);for(;s<n;++s)i[s]=e[s];return function(l){for(s=0;s<r;++s)i[s]=a[s](l);return i}}function s0(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function Pa(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function o0(t,e){var n={},r={},a;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(a in e)a in t?n[a]=qi(t[a],e[a]):r[a]=e[a];return function(i){for(a in n)r[a]=n[a](i);return r}}var Yi=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Vi=new RegExp(Yi.source,"g");function l0(t){return function(){return t}}function c0(t){return function(e){return t(e)+""}}function u0(t,e){var n=Yi.lastIndex=Vi.lastIndex=0,r,a,i,s=-1,l=[],u=[];for(t=t+"",e=e+"";(r=Yi.exec(t))&&(a=Vi.exec(e));)(i=a.index)>n&&(i=e.slice(n,i),l[s]?l[s]+=i:l[++s]=i),(r=r[0])===(a=a[0])?l[s]?l[s]+=a:l[++s]=a:(l[++s]=null,u.push({i:s,x:Pa(r,a)})),n=Vi.lastIndex;return n<e.length&&(i=e.slice(n),l[s]?l[s]+=i:l[++s]=i),l.length<2?u[0]?c0(u[0].x):l0(e):(e=u.length,function(c){for(var d=0,m;d<e;++d)l[(m=u[d]).i]=m.x(c);return l.join("")})}function qi(t,e){var n=typeof e,r;return e==null||n==="boolean"?Gi(e):(n==="number"?Pa:n==="string"?(r=Sr(e))?(e=r,ac):u0:e instanceof Sr?ac:e instanceof Date?s0:a0(e)?r0:Array.isArray(e)?i0:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?o0:Pa)(t,e)}function d0(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}function f0(t){return function(){return t}}function h0(t){return+t}var ic=[0,1];function Vn(t){return t}function Xi(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:f0(isNaN(e)?NaN:.5)}function m0(t,e){var n;return t>e&&(n=t,t=e,e=n),function(r){return Math.max(t,Math.min(e,r))}}function p0(t,e,n){var r=t[0],a=t[1],i=e[0],s=e[1];return a<r?(r=Xi(a,r),i=n(s,i)):(r=Xi(r,a),i=n(i,s)),function(l){return i(r(l))}}function g0(t,e,n){var r=Math.min(t.length,e.length)-1,a=new Array(r),i=new Array(r),s=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++s<r;)a[s]=Xi(t[s],t[s+1]),i[s]=n(e[s],e[s+1]);return function(l){var u=Ag(t,l,1,r)-1;return i[u](a[u](l))}}function sc(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function b0(){var t=ic,e=ic,n=qi,r,a,i,s=Vn,l,u,c;function d(){var p=Math.min(t.length,e.length);return s!==Vn&&(s=m0(t[0],t[p-1])),l=p>2?g0:p0,u=c=null,m}function m(p){return p==null||isNaN(p=+p)?i:(u||(u=l(t.map(r),e,n)))(r(s(p)))}return m.invert=function(p){return s(a((c||(c=l(e,t.map(r),Pa)))(p)))},m.domain=function(p){return arguments.length?(t=Array.from(p,h0),d()):t.slice()},m.range=function(p){return arguments.length?(e=Array.from(p),d()):e.slice()},m.rangeRound=function(p){return e=Array.from(p),n=d0,d()},m.clamp=function(p){return arguments.length?(s=p?!0:Vn,d()):s!==Vn},m.interpolate=function(p){return arguments.length?(n=p,d()):n},m.unknown=function(p){return arguments.length?(i=p,m):i},function(p,b){return r=p,a=b,d()}}function oc(){return b0()(Vn,Vn)}function _0(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function La(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function qn(t){return t=La(Math.abs(t)),t?t[1]:NaN}function y0(t,e){return function(n,r){for(var a=n.length,i=[],s=0,l=t[0],u=0;a>0&&l>0&&(u+l+1>r&&(l=Math.max(1,r-u)),i.push(n.substring(a-=l,a+l)),!((u+=l+1)>r));)l=t[s=(s+1)%t.length];return i.reverse().join(e)}}function x0(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var v0=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Aa(t){if(!(e=v0.exec(t)))throw new Error("invalid format: "+t);var e;return new Ki({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}Aa.prototype=Ki.prototype;function Ki(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}Ki.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function S0(t){e:for(var e=t.length,n=1,r=-1,a;n<e;++n)switch(t[n]){case".":r=a=n;break;case"0":r===0&&(r=n),a=n;break;default:if(!+t[n])break e;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(a+1):t}var lc;function w0(t,e){var n=La(t,e);if(!n)return t+"";var r=n[0],a=n[1],i=a-(lc=Math.max(-8,Math.min(8,Math.floor(a/3)))*3)+1,s=r.length;return i===s?r:i>s?r+new Array(i-s+1).join("0"):i>0?r.slice(0,i)+"."+r.slice(i):"0."+new Array(1-i).join("0")+La(t,Math.max(0,e+i-1))[0]}function cc(t,e){var n=La(t,e);if(!n)return t+"";var r=n[0],a=n[1];return a<0?"0."+new Array(-a).join("0")+r:r.length>a+1?r.slice(0,a+1)+"."+r.slice(a+1):r+new Array(a-r.length+2).join("0")}const uc={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:_0,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>cc(t*100,e),r:cc,s:w0,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function dc(t){return t}var fc=Array.prototype.map,hc=["y","z","a","f","p","n","Âµ","m","","k","M","G","T","P","E","Z","Y"];function k0(t){var e=t.grouping===void 0||t.thousands===void 0?dc:y0(fc.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",a=t.decimal===void 0?".":t.decimal+"",i=t.numerals===void 0?dc:x0(fc.call(t.numerals,String)),s=t.percent===void 0?"%":t.percent+"",l=t.minus===void 0?"âˆ’":t.minus+"",u=t.nan===void 0?"NaN":t.nan+"";function c(m){m=Aa(m);var p=m.fill,b=m.align,_=m.sign,f=m.symbol,h=m.zero,$=m.width,C=m.comma,S=m.precision,y=m.trim,w=m.type;w==="n"?(C=!0,w="g"):uc[w]||(S===void 0&&(S=12),y=!0,w="g"),(h||p==="0"&&b==="=")&&(h=!0,p="0",b="=");var x=f==="$"?n:f==="#"&&/[boxX]/.test(w)?"0"+w.toLowerCase():"",M=f==="$"?r:/[%p]/.test(w)?s:"",T=uc[w],k=/[defgprs%]/.test(w);S=S===void 0?6:/[gprs]/.test(w)?Math.max(1,Math.min(21,S)):Math.max(0,Math.min(20,S));function D(v){var N=x,z=M,R,P,F;if(w==="c")z=T(v)+z,v="";else{v=+v;var j=v<0||1/v<0;if(v=isNaN(v)?u:T(Math.abs(v),S),y&&(v=S0(v)),j&&+v==0&&_!=="+"&&(j=!1),N=(j?_==="("?_:l:_==="-"||_==="("?"":_)+N,z=(w==="s"?hc[8+lc/3]:"")+z+(j&&_==="("?")":""),k){for(R=-1,P=v.length;++R<P;)if(F=v.charCodeAt(R),48>F||F>57){z=(F===46?a+v.slice(R+1):v.slice(R))+z,v=v.slice(0,R);break}}}C&&!h&&(v=e(v,1/0));var H=N.length+v.length+z.length,B=H<$?new Array($-H+1).join(p):"";switch(C&&h&&(v=e(B+v,B.length?$-z.length:1/0),B=""),b){case"<":v=N+v+z+B;break;case"=":v=N+B+v+z;break;case"^":v=B.slice(0,H=B.length>>1)+N+v+z+B.slice(H);break;default:v=B+N+v+z;break}return i(v)}return D.toString=function(){return m+""},D}function d(m,p){var b=c((m=Aa(m),m.type="f",m)),_=Math.max(-8,Math.min(8,Math.floor(qn(p)/3)))*3,f=Math.pow(10,-_),h=hc[8+_/3];return function($){return b(f*$)+h}}return{format:c,formatPrefix:d}}var Ea,mc,pc;C0({thousands:",",grouping:[3],currency:["$",""]});function C0(t){return Ea=k0(t),mc=Ea.format,pc=Ea.formatPrefix,Ea}function T0(t){return Math.max(0,-qn(Math.abs(t)))}function N0(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(qn(e)/3)))*3-qn(Math.abs(t)))}function j0(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,qn(e)-qn(t))+1}function D0(t,e,n,r){var a=zi(t,e,n),i;switch(r=Aa(r??",f"),r.type){case"s":{var s=Math.max(Math.abs(t),Math.abs(e));return r.precision==null&&!isNaN(i=N0(a,s))&&(r.precision=i),pc(r,s)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(i=j0(a,Math.max(Math.abs(t),Math.abs(e))))&&(r.precision=i-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(i=T0(a))&&(r.precision=i-(r.type==="%")*2);break}}return mc(r)}function M0(t){var e=t.domain;return t.ticks=function(n){var r=e();return zg(r[0],r[r.length-1],n??10)},t.tickFormat=function(n,r){var a=e();return D0(a[0],a[a.length-1],n??10,r)},t.nice=function(n){n==null&&(n=10);var r=e(),a=0,i=r.length-1,s=r[a],l=r[i],u,c,d=10;for(l<s&&(c=s,s=l,l=c,c=a,a=i,i=c);d-- >0;){if(c=Hi(s,l,n),c===u)return r[a]=s,r[i]=l,e(r);if(c>0)s=Math.floor(s/c)*c,l=Math.ceil(l/c)*c;else if(c<0)s=Math.ceil(s*c)/c,l=Math.floor(l*c)/c;else break;u=c}return t},t}function Zi(){var t=oc();return t.copy=function(){return sc(t,Zi())},Yl.apply(t,arguments),M0(t)}function $0(t,e){t=t.slice();var n=0,r=t.length-1,a=t[n],i=t[r],s;return i<a&&(s=n,n=r,r=s,s=a,a=i,i=s),t[n]=e.floor(a),t[r]=e.ceil(i),t}const Ji=new Date,Qi=new Date;function Ze(t,e,n,r){function a(i){return t(i=arguments.length===0?new Date:new Date(+i)),i}return a.floor=i=>(t(i=new Date(+i)),i),a.ceil=i=>(t(i=new Date(i-1)),e(i,1),t(i),i),a.round=i=>{const s=a(i),l=a.ceil(i);return i-s<l-i?s:l},a.offset=(i,s)=>(e(i=new Date(+i),s==null?1:Math.floor(s)),i),a.range=(i,s,l)=>{const u=[];if(i=a.ceil(i),l=l==null?1:Math.floor(l),!(i<s)||!(l>0))return u;let c;do u.push(c=new Date(+i)),e(i,l),t(i);while(c<i&&i<s);return u},a.filter=i=>Ze(s=>{if(s>=s)for(;t(s),!i(s);)s.setTime(s-1)},(s,l)=>{if(s>=s)if(l<0)for(;++l<=0;)for(;e(s,-1),!i(s););else for(;--l>=0;)for(;e(s,1),!i(s););}),n&&(a.count=(i,s)=>(Ji.setTime(+i),Qi.setTime(+s),t(Ji),t(Qi),Math.floor(n(Ji,Qi))),a.every=i=>(i=Math.floor(i),!isFinite(i)||!(i>0)?null:i>1?a.filter(r?s=>r(s)%i===0:s=>a.count(0,s)%i===0):a)),a}const Ra=Ze(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);Ra.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?Ze(e=>{e.setTime(Math.floor(e/t)*t)},(e,n)=>{e.setTime(+e+n*t)},(e,n)=>(n-e)/t):Ra),Ra.range;const en=1e3,Nt=en*60,tn=Nt*60,nn=tn*24,es=nn*7,gc=nn*30,ts=nn*365,Xn=Ze(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*en)},(t,e)=>(e-t)/en,t=>t.getUTCSeconds());Xn.range;const ns=Ze(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*en)},(t,e)=>{t.setTime(+t+e*Nt)},(t,e)=>(e-t)/Nt,t=>t.getMinutes());ns.range,Ze(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*Nt)},(t,e)=>(e-t)/Nt,t=>t.getUTCMinutes()).range;const rs=Ze(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*en-t.getMinutes()*Nt)},(t,e)=>{t.setTime(+t+e*tn)},(t,e)=>(e-t)/tn,t=>t.getHours());rs.range,Ze(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*tn)},(t,e)=>(e-t)/tn,t=>t.getUTCHours()).range;const wr=Ze(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*Nt)/nn,t=>t.getDate()-1);wr.range;const as=Ze(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/nn,t=>t.getUTCDate()-1);as.range,Ze(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/nn,t=>Math.floor(t/nn)).range;function Nn(t){return Ze(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,n)=>{e.setDate(e.getDate()+n*7)},(e,n)=>(n-e-(n.getTimezoneOffset()-e.getTimezoneOffset())*Nt)/es)}const Ha=Nn(0),za=Nn(1),F0=Nn(2),I0=Nn(3),Kn=Nn(4),B0=Nn(5),P0=Nn(6);Ha.range,za.range,F0.range,I0.range,Kn.range,B0.range,P0.range;function jn(t){return Ze(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCDate(e.getUTCDate()+n*7)},(e,n)=>(n-e)/es)}const bc=jn(0),Oa=jn(1),L0=jn(2),A0=jn(3),Zn=jn(4),E0=jn(5),R0=jn(6);bc.range,Oa.range,L0.range,A0.range,Zn.range,E0.range,R0.range;const kr=Ze(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());kr.range,Ze(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth()).range;const rn=Ze(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());rn.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Ze(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,n)=>{e.setFullYear(e.getFullYear()+n*t)}),rn.range;const Dn=Ze(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());Dn.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Ze(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCFullYear(e.getUTCFullYear()+n*t)}),Dn.range;function H0(t,e,n,r,a,i){const s=[[Xn,1,en],[Xn,5,5*en],[Xn,15,15*en],[Xn,30,30*en],[i,1,Nt],[i,5,5*Nt],[i,15,15*Nt],[i,30,30*Nt],[a,1,tn],[a,3,3*tn],[a,6,6*tn],[a,12,12*tn],[r,1,nn],[r,2,2*nn],[n,1,es],[e,1,gc],[e,3,3*gc],[t,1,ts]];function l(c,d,m){const p=d<c;p&&([c,d]=[d,c]);const b=m&&typeof m.range=="function"?m:u(c,d,m),_=b?b.range(c,+d+1):[];return p?_.reverse():_}function u(c,d,m){const p=Math.abs(d-c)/m,b=Ri(([,,h])=>h).right(s,p);if(b===s.length)return t.every(zi(c/ts,d/ts,m));if(b===0)return Ra.every(Math.max(zi(c,d,m),1));const[_,f]=s[p/s[b-1][2]<s[b][2]/p?b-1:b];return _.every(f)}return[l,u]}const[z0,O0]=H0(rn,kr,Ha,wr,rs,ns);function is(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function ss(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function Cr(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}function W0(t){var e=t.dateTime,n=t.date,r=t.time,a=t.periods,i=t.days,s=t.shortDays,l=t.months,u=t.shortMonths,c=Tr(a),d=Nr(a),m=Tr(i),p=Nr(i),b=Tr(s),_=Nr(s),f=Tr(l),h=Nr(l),$=Tr(u),C=Nr(u),S={a:j,A:H,b:B,B:E,c:null,d:wc,e:wc,f:fb,g:Sb,G:kb,H:cb,I:ub,j:db,L:kc,m:hb,M:mb,p:W,q:L,Q:Mc,s:$c,S:pb,u:gb,U:bb,V:_b,w:yb,W:xb,x:null,X:null,y:vb,Y:wb,Z:Cb,"%":Dc},y={a:U,A:O,b:Q,B:he,c:null,d:Tc,e:Tc,f:Db,g:Rb,G:zb,H:Tb,I:Nb,j:jb,L:Nc,m:Mb,M:$b,p:le,q:J,Q:Mc,s:$c,S:Fb,u:Ib,U:Bb,V:Pb,w:Lb,W:Ab,x:null,X:null,y:Eb,Y:Hb,Z:Ob,"%":Dc},w={a:D,A:v,b:N,B:z,c:R,d:vc,e:vc,f:ib,g:xc,G:yc,H:Sc,I:Sc,j:tb,L:ab,m:eb,M:nb,p:k,q:Q0,Q:ob,s:lb,S:rb,u:q0,U:X0,V:K0,w:V0,W:Z0,x:P,X:F,y:xc,Y:yc,Z:J0,"%":sb};S.x=x(n,S),S.X=x(r,S),S.c=x(e,S),y.x=x(n,y),y.X=x(r,y),y.c=x(e,y);function x(X,te){return function(se){var V=[],ge=-1,me=0,_e=X.length,pe,ye,Xe;for(se instanceof Date||(se=new Date(+se));++ge<_e;)X.charCodeAt(ge)===37&&(V.push(X.slice(me,ge)),(ye=_c[pe=X.charAt(++ge)])!=null?pe=X.charAt(++ge):ye=pe==="e"?" ":"0",(Xe=te[pe])&&(pe=Xe(se,ye)),V.push(pe),me=ge+1);return V.push(X.slice(me,ge)),V.join("")}}function M(X,te){return function(se){var V=Cr(1900,void 0,1),ge=T(V,X,se+="",0),me,_e;if(ge!=se.length)return null;if("Q"in V)return new Date(V.Q);if("s"in V)return new Date(V.s*1e3+("L"in V?V.L:0));if(te&&!("Z"in V)&&(V.Z=0),"p"in V&&(V.H=V.H%12+V.p*12),V.m===void 0&&(V.m="q"in V?V.q:0),"V"in V){if(V.V<1||V.V>53)return null;"w"in V||(V.w=1),"Z"in V?(me=ss(Cr(V.y,0,1)),_e=me.getUTCDay(),me=_e>4||_e===0?Oa.ceil(me):Oa(me),me=as.offset(me,(V.V-1)*7),V.y=me.getUTCFullYear(),V.m=me.getUTCMonth(),V.d=me.getUTCDate()+(V.w+6)%7):(me=is(Cr(V.y,0,1)),_e=me.getDay(),me=_e>4||_e===0?za.ceil(me):za(me),me=wr.offset(me,(V.V-1)*7),V.y=me.getFullYear(),V.m=me.getMonth(),V.d=me.getDate()+(V.w+6)%7)}else("W"in V||"U"in V)&&("w"in V||(V.w="u"in V?V.u%7:"W"in V?1:0),_e="Z"in V?ss(Cr(V.y,0,1)).getUTCDay():is(Cr(V.y,0,1)).getDay(),V.m=0,V.d="W"in V?(V.w+6)%7+V.W*7-(_e+5)%7:V.w+V.U*7-(_e+6)%7);return"Z"in V?(V.H+=V.Z/100|0,V.M+=V.Z%100,ss(V)):is(V)}}function T(X,te,se,V){for(var ge=0,me=te.length,_e=se.length,pe,ye;ge<me;){if(V>=_e)return-1;if(pe=te.charCodeAt(ge++),pe===37){if(pe=te.charAt(ge++),ye=w[pe in _c?te.charAt(ge++):pe],!ye||(V=ye(X,se,V))<0)return-1}else if(pe!=se.charCodeAt(V++))return-1}return V}function k(X,te,se){var V=c.exec(te.slice(se));return V?(X.p=d.get(V[0].toLowerCase()),se+V[0].length):-1}function D(X,te,se){var V=b.exec(te.slice(se));return V?(X.w=_.get(V[0].toLowerCase()),se+V[0].length):-1}function v(X,te,se){var V=m.exec(te.slice(se));return V?(X.w=p.get(V[0].toLowerCase()),se+V[0].length):-1}function N(X,te,se){var V=$.exec(te.slice(se));return V?(X.m=C.get(V[0].toLowerCase()),se+V[0].length):-1}function z(X,te,se){var V=f.exec(te.slice(se));return V?(X.m=h.get(V[0].toLowerCase()),se+V[0].length):-1}function R(X,te,se){return T(X,e,te,se)}function P(X,te,se){return T(X,n,te,se)}function F(X,te,se){return T(X,r,te,se)}function j(X){return s[X.getDay()]}function H(X){return i[X.getDay()]}function B(X){return u[X.getMonth()]}function E(X){return l[X.getMonth()]}function W(X){return a[+(X.getHours()>=12)]}function L(X){return 1+~~(X.getMonth()/3)}function U(X){return s[X.getUTCDay()]}function O(X){return i[X.getUTCDay()]}function Q(X){return u[X.getUTCMonth()]}function he(X){return l[X.getUTCMonth()]}function le(X){return a[+(X.getUTCHours()>=12)]}function J(X){return 1+~~(X.getUTCMonth()/3)}return{format:function(X){var te=x(X+="",S);return te.toString=function(){return X},te},parse:function(X){var te=M(X+="",!1);return te.toString=function(){return X},te},utcFormat:function(X){var te=x(X+="",y);return te.toString=function(){return X},te},utcParse:function(X){var te=M(X+="",!0);return te.toString=function(){return X},te}}}var _c={"-":"",_:" ",0:"0"},tt=/^\s*\d+/,U0=/^%/,G0=/[\\^$*+?|[\]().{}]/g;function Me(t,e,n){var r=t<0?"-":"",a=(r?-t:t)+"",i=a.length;return r+(i<n?new Array(n-i+1).join(e)+a:a)}function Y0(t){return t.replace(G0,"\\$&")}function Tr(t){return new RegExp("^(?:"+t.map(Y0).join("|")+")","i")}function Nr(t){return new Map(t.map((e,n)=>[e.toLowerCase(),n]))}function V0(t,e,n){var r=tt.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function q0(t,e,n){var r=tt.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function X0(t,e,n){var r=tt.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function K0(t,e,n){var r=tt.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function Z0(t,e,n){var r=tt.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function yc(t,e,n){var r=tt.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function xc(t,e,n){var r=tt.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function J0(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function Q0(t,e,n){var r=tt.exec(e.slice(n,n+1));return r?(t.q=r[0]*3-3,n+r[0].length):-1}function eb(t,e,n){var r=tt.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function vc(t,e,n){var r=tt.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function tb(t,e,n){var r=tt.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function Sc(t,e,n){var r=tt.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function nb(t,e,n){var r=tt.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function rb(t,e,n){var r=tt.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function ab(t,e,n){var r=tt.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function ib(t,e,n){var r=tt.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function sb(t,e,n){var r=U0.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function ob(t,e,n){var r=tt.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function lb(t,e,n){var r=tt.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function wc(t,e){return Me(t.getDate(),e,2)}function cb(t,e){return Me(t.getHours(),e,2)}function ub(t,e){return Me(t.getHours()%12||12,e,2)}function db(t,e){return Me(1+wr.count(rn(t),t),e,3)}function kc(t,e){return Me(t.getMilliseconds(),e,3)}function fb(t,e){return kc(t,e)+"000"}function hb(t,e){return Me(t.getMonth()+1,e,2)}function mb(t,e){return Me(t.getMinutes(),e,2)}function pb(t,e){return Me(t.getSeconds(),e,2)}function gb(t){var e=t.getDay();return e===0?7:e}function bb(t,e){return Me(Ha.count(rn(t)-1,t),e,2)}function Cc(t){var e=t.getDay();return e>=4||e===0?Kn(t):Kn.ceil(t)}function _b(t,e){return t=Cc(t),Me(Kn.count(rn(t),t)+(rn(t).getDay()===4),e,2)}function yb(t){return t.getDay()}function xb(t,e){return Me(za.count(rn(t)-1,t),e,2)}function vb(t,e){return Me(t.getFullYear()%100,e,2)}function Sb(t,e){return t=Cc(t),Me(t.getFullYear()%100,e,2)}function wb(t,e){return Me(t.getFullYear()%1e4,e,4)}function kb(t,e){var n=t.getDay();return t=n>=4||n===0?Kn(t):Kn.ceil(t),Me(t.getFullYear()%1e4,e,4)}function Cb(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+Me(e/60|0,"0",2)+Me(e%60,"0",2)}function Tc(t,e){return Me(t.getUTCDate(),e,2)}function Tb(t,e){return Me(t.getUTCHours(),e,2)}function Nb(t,e){return Me(t.getUTCHours()%12||12,e,2)}function jb(t,e){return Me(1+as.count(Dn(t),t),e,3)}function Nc(t,e){return Me(t.getUTCMilliseconds(),e,3)}function Db(t,e){return Nc(t,e)+"000"}function Mb(t,e){return Me(t.getUTCMonth()+1,e,2)}function $b(t,e){return Me(t.getUTCMinutes(),e,2)}function Fb(t,e){return Me(t.getUTCSeconds(),e,2)}function Ib(t){var e=t.getUTCDay();return e===0?7:e}function Bb(t,e){return Me(bc.count(Dn(t)-1,t),e,2)}function jc(t){var e=t.getUTCDay();return e>=4||e===0?Zn(t):Zn.ceil(t)}function Pb(t,e){return t=jc(t),Me(Zn.count(Dn(t),t)+(Dn(t).getUTCDay()===4),e,2)}function Lb(t){return t.getUTCDay()}function Ab(t,e){return Me(Oa.count(Dn(t)-1,t),e,2)}function Eb(t,e){return Me(t.getUTCFullYear()%100,e,2)}function Rb(t,e){return t=jc(t),Me(t.getUTCFullYear()%100,e,2)}function Hb(t,e){return Me(t.getUTCFullYear()%1e4,e,4)}function zb(t,e){var n=t.getUTCDay();return t=n>=4||n===0?Zn(t):Zn.ceil(t),Me(t.getUTCFullYear()%1e4,e,4)}function Ob(){return"+0000"}function Dc(){return"%"}function Mc(t){return+t}function $c(t){return Math.floor(+t/1e3)}var Jn,Fc;Wb({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function Wb(t){return Jn=W0(t),Fc=Jn.format,Jn.parse,Jn.utcFormat,Jn.utcParse,Jn}function Ub(t){return new Date(t)}function Gb(t){return t instanceof Date?+t:+new Date(+t)}function Ic(t,e,n,r,a,i,s,l,u,c){var d=oc(),m=d.invert,p=d.domain,b=c(".%L"),_=c(":%S"),f=c("%I:%M"),h=c("%I %p"),$=c("%a %d"),C=c("%b %d"),S=c("%B"),y=c("%Y");function w(x){return(u(x)<x?b:l(x)<x?_:s(x)<x?f:i(x)<x?h:r(x)<x?a(x)<x?$:C:n(x)<x?S:y)(x)}return d.invert=function(x){return new Date(m(x))},d.domain=function(x){return arguments.length?p(Array.from(x,Gb)):p().map(Ub)},d.ticks=function(x){var M=p();return t(M[0],M[M.length-1],x??10)},d.tickFormat=function(x,M){return M==null?w:c(M)},d.nice=function(x){var M=p();return(!x||typeof x.range!="function")&&(x=e(M[0],M[M.length-1],x??10)),x?p($0(M,x)):d},d.copy=function(){return sc(d,Ic(t,e,n,r,a,i,s,l,u,c))},d}function os(){return Yl.apply(Ic(z0,O0,rn,kr,Ha,wr,rs,ns,Xn,Fc).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function Yb({task:t,scale:e,onTaskClick:n,onTaskDoubleClick:r,isSelected:a=!1,taskIndex:i,tabIndex:s=-1,onFocus:l,"aria-label":u}){const c=I.useRef(null),[d,m]=I.useState(!1),[p,b]=I.useState(!1),_=e(t.start),f=e(t.end),h=Math.max(f-_,20),$=()=>{if(t.color)return t.color;switch(t.priority){case"high":return"#d5281b";case"medium":return"#005eb8";case"low":return"#007f3b";default:return"#005eb8"}},C=t.progress?h*t.progress/100:0,S=()=>{n?.(t)},y=()=>{r?.(t)},w=N=>{N.key==="Enter"?(N.preventDefault(),S()):N.key===" "&&(N.preventDefault(),y())},x=()=>{m(!0)},M=()=>{m(!1)},T=()=>{b(!0),l?.()},k=()=>{b(!1)},D=["gantt-task-bar",d&&"gantt-task-bar--pressed",(p||a)&&"gantt-task-bar--focused",t.priority&&`gantt-task-bar--priority-${t.priority}`,a&&"gantt-task-bar--selected",t.type&&`gantt-task-bar--type-${t.type}`].filter(Boolean).join(" "),v={"--task-left":`${_}px`,"--task-width":`${h}px`,"--task-color":$(),left:`${_}px`,width:`${h}px`,backgroundColor:$()};return o.jsxs("div",{role:"button",tabIndex:s,ref:c,"data-task-index":i,className:D,style:v,onClick:S,onDoubleClick:y,onKeyDown:w,onMouseDown:x,onMouseUp:M,onFocus:T,onBlur:k,"aria-label":u||`${a?"Selected: ":""}${t.title}: ${t.start.toLocaleDateString()} to ${t.end.toLocaleDateString()}${t.priority?`, priority ${t.priority}`:""}${t.progress?`, ${t.progress}% complete`:""}`,"aria-describedby":`task-${t.id}-details`,children:[o.jsx("span",{className:"task-title",children:t.title}),t.progress!==void 0&&o.jsx("div",{className:"task-progress",style:{width:`${C}px`}}),o.jsx("span",{id:`task-${t.id}-details`,className:"sr-only",children:`Task: ${t.title}, from ${t.start.toLocaleDateString()} to ${t.end.toLocaleDateString()}${t.progress?`, ${t.progress}% complete`:""}${t.priority?`, priority: ${t.priority}`:""}`})]})}function Vb({viewStart:t,viewEnd:e,dateCount:n}){const r=[];for(let b=t.getTime();b<=e.getTime();b+=864e5)r.push(new Date(b));const i=new Date;i.setHours(0,0,0,0);const[s,l]=I.useState(-1),u=I.useRef(null),c=b=>{if(b.key==="ArrowLeft"){b.preventDefault();const _=Math.max(0,s===-1?0:s-1);l(_),p(_)}else if(b.key==="ArrowRight"){b.preventDefault();const _=Math.min(r.length-1,s===-1?0:s+1);l(_),p(_)}else if(b.key==="ArrowDown"){b.preventDefault();const _=document.querySelector(".gantt-row .timeline-container");_&&_.focus()}else if(b.key==="Home")b.preventDefault(),l(0),p(0);else if(b.key==="End"){b.preventDefault();const _=r.length-1;l(_),p(_)}},d=b=>{if(b.key==="ArrowDown"){b.preventDefault();const _=document.querySelector(".gantt-row .resource-label");_&&_.focus()}else if(b.key==="ArrowRight"){b.preventDefault();const _=u.current;_&&_.focus()}},m=()=>{s===-1&&(l(0),setTimeout(()=>p(0),0))},p=b=>{const _=u.current?.querySelector(`[data-date-index="${b}"]`);_&&_.focus()};return o.jsxs("div",{className:"gantt-header",role:"row","aria-rowindex":1,children:[o.jsx("div",{className:"header-resource",role:"columnheader","aria-colindex":1,tabIndex:0,"aria-label":"Resource column header",onKeyDown:d,children:"Resources"}),o.jsx("div",{ref:u,className:"header-timeline",role:"columnheader","aria-colindex":2,"aria-colspan":n,"aria-label":`Timeline from ${t.toLocaleDateString()} to ${e.toLocaleDateString()}. Use arrow keys to navigate between dates`,tabIndex:0,onKeyDown:c,onFocus:m,children:r.map((b,_)=>{const f=b.getTime()===i.getTime(),h=s===_;return o.jsx("div",{"data-date-index":_,className:`date-column ${f?"today":""} ${h?"focused":""}`,tabIndex:h?0:-1,role:"button","aria-label":`${b.toLocaleDateString("en-GB",{weekday:"long",day:"numeric",month:"long",year:"numeric"})}${f?" (Today)":""}`,onFocus:()=>l(_),onKeyDown:c,children:b.toLocaleDateString("en-GB",{day:"numeric",month:"short"})},_)})})]})}function qb({resource:t,tasks:e,scale:n,onTaskClick:r,onTaskDoubleClick:a,rowIndex:i,dateCount:s}){const[l,u]=I.useState(!1),[c,d]=I.useState(-1),m=I.useRef(null);I.useEffect(()=>{l&&c>=0&&e.length>0&&setTimeout(()=>{m.current?.querySelector(`[data-task-index="${c}"]`)?.focus()},0)},[l,c,e.length]);const p=f=>{if(f.key==="ArrowLeft"&&f.shiftKey){f.preventDefault(),f.currentTarget.scrollBy({left:-30,behavior:"smooth"});return}else if(f.key==="ArrowRight"&&f.shiftKey){f.preventDefault(),f.currentTarget.scrollBy({left:30,behavior:"smooth"});return}if(!l){switch(f.key){case"ArrowUp":f.preventDefault(),i===0?document.querySelector(".header-timeline")?.focus():document.querySelector(`[aria-rowindex="${i+1}"] .timeline-container`)?.focus();break;case"ArrowDown":f.preventDefault(),document.querySelector(`[aria-rowindex="${i+3}"] .timeline-container`)?.focus();break;case"ArrowLeft":f.preventDefault(),m.current?.closest(".gantt-row")?.querySelector(".resource-label")?.focus();break;case"Enter":e.length>0&&(f.preventDefault(),u(!0),d(0));break}return}switch(f.key){case"ArrowLeft":f.preventDefault();const h=Math.max(0,c-1);d(h),m.current?.querySelector(`[data-task-index="${h}"]`)?.focus();break;case"ArrowRight":f.preventDefault();const C=Math.min(e.length-1,c+1);d(C),m.current?.querySelector(`[data-task-index="${C}"]`)?.focus();break;case"Enter":f.preventDefault(),c>=0&&r?.(e[c]);break;case" ":f.preventDefault(),c>=0&&a?.(e[c]);break;case"Escape":f.preventDefault(),u(!1),d(-1),m.current?.focus();break}},b=f=>{switch(f.key){case"ArrowUp":f.preventDefault(),i===0?document.querySelector(".header-resource")?.focus():document.querySelector(`[aria-rowindex="${i+1}"] .resource-label`)?.focus();break;case"ArrowDown":f.preventDefault(),document.querySelector(`[aria-rowindex="${i+3}"] .resource-label`)?.focus();break;case"ArrowRight":f.preventDefault(),m.current?.focus();break}},_=f=>{l&&d(f)};return o.jsxs("div",{className:"gantt-row",role:"row","aria-rowindex":i+2,children:[o.jsx("div",{className:"resource-label",role:"gridcell","aria-colindex":1,tabIndex:0,"aria-label":`Resource: ${t.label}`,onKeyDown:b,children:t.label}),o.jsx("div",{ref:m,className:`timeline-container ${l?"timeline-active":""}`,role:"gridcell","aria-colindex":2,"aria-colspan":s,tabIndex:0,"aria-label":`Timeline for ${t.label} with ${e.length} task${e.length!==1?"s":""}. Press Enter to activate task navigation, then use arrow keys to navigate, Enter to select, Space to activate, Escape to exit`,onKeyDown:p,onFocus:()=>{l||d(-1)},children:e.map((f,h)=>o.jsx(Yb,{task:f,scale:n,onTaskClick:r,onTaskDoubleClick:a,isSelected:l&&c===h,taskIndex:h,tabIndex:l&&c===h?0:-1,onFocus:()=>_(h)},f.id))})]})}function Xb({resources:t,tasks:e=[],viewStart:n,viewEnd:r,onTaskClick:a,onTaskDoubleClick:i}){const s=I.useRef(null),[l,u]=I.useState(800),c=I.useMemo(()=>{if(n instanceof Date)return isNaN(n.getTime())?(console.warn("GanttChart: Invalid viewStart date provided, using current date"),new Date):n;const f=new Date(n);return isNaN(f.getTime())?(console.warn("GanttChart: Invalid viewStart date provided, using current date"),new Date):f},[n]),d=I.useMemo(()=>{if(r instanceof Date)return isNaN(r.getTime())?(console.warn("GanttChart: Invalid viewEnd date provided, using date 7 days from now"),new Date(Date.now()+10080*60*1e3)):r;const f=new Date(r);return isNaN(f.getTime())?(console.warn("GanttChart: Invalid viewEnd date provided, using date 7 days from now"),new Date(Date.now()+10080*60*1e3)):f},[r]),m=I.useMemo(()=>Math.ceil((d.getTime()-c.getTime())/864e5)+1,[c,d]);I.useEffect(()=>{if(!s.current)return;const f=new ResizeObserver(h=>{const $=h[0];$&&u(Math.max($.contentRect.width-220,400))});return f.observe(s.current),()=>f.disconnect()},[]);const p=I.useMemo(()=>os().domain([c,d]).range([0,l]),[c,d,l]),b=I.useMemo(()=>{const f=new Map;return e.forEach(h=>{const $=f.get(h.resourceId)||[];$.push(h),f.set(h.resourceId,$)}),f},[e]),_=f=>{if(f.target===f.currentTarget)switch(f.key){case"ArrowDown":f.preventDefault();const h=s.current?.querySelector(".gantt-row .resource-label");h&&h.focus();break;case"Home":f.preventDefault();const $=s.current?.querySelector(".header-resource");$&&$.focus();break}};return o.jsxs("div",{className:"gantt-chart",role:"grid","aria-label":"Gantt Chart showing resource scheduling and task timelines","aria-rowcount":t.length+1,"aria-colcount":m+1,"aria-description":"Use arrow keys to navigate cells, Tab to cycle through tasks in timeline rows or dates in header, Enter to select task, Space to activate task, Alt+arrows to scroll the grid, Shift+arrows to scroll timeline rows",tabIndex:0,onKeyDown:_,children:[o.jsx(Vb,{viewStart:c,viewEnd:d,dateCount:m}),o.jsx("div",{ref:s,className:"gantt-grid",role:"rowgroup","aria-label":"Gantt chart data rows",tabIndex:0,onKeyDown:f=>{f.key==="ArrowLeft"&&f.altKey?(f.preventDefault(),s.current?.scrollBy({left:-50,behavior:"smooth"})):f.key==="ArrowRight"&&f.altKey?(f.preventDefault(),s.current?.scrollBy({left:50,behavior:"smooth"})):f.key==="ArrowUp"&&f.altKey?(f.preventDefault(),s.current?.scrollBy({top:-50,behavior:"smooth"})):f.key==="ArrowDown"&&f.altKey&&(f.preventDefault(),s.current?.scrollBy({top:50,behavior:"smooth"}))},children:t.map((f,h)=>o.jsx(qb,{resource:f,tasks:b.get(f.id)||[],scale:p,onTaskClick:a,onTaskDoubleClick:i,rowIndex:h,dateCount:m},f.id))})]})}const Wa=({children:t,href:e,active:n=!1,attributes:r={}})=>o.jsx("li",{className:"nhsuk-breadcrumb__item",children:n?o.jsx("span",{className:"nhsuk-breadcrumb__link nhsuk-breadcrumb__link--current","aria-current":"page",...r,children:t}):o.jsx("a",{className:"nhsuk-breadcrumb__link",href:e,...r,children:t})}),Bc=({items:t=[],children:e,classes:n,labelText:r="Breadcrumb",href:a,text:i,reverse:s=!1,attributes:l={}})=>{const u=()=>e?I.Children.toArray(e).filter(h=>I.isValidElement(h)&&(h.type===Wa||h.type?.displayName==="BreadcrumbItem")).map(h=>({text:typeof h.props.children=="string"?h.props.children:String(h.props.children),href:h.props.href,active:h.props.active,attributes:h.props.attributes})):[],c=()=>e?u():a&&i?[{href:a,text:i}]:t,d=()=>{const f=c();if(f&&f.length>0){const h=f.slice().reverse().find($=>$.href&&!$.active);if(h)return{href:h.href,text:h.text}}return{text:"Home"}},m=c(),p=d(),b=de("nhsuk-breadcrumb",{"nhsuk-breadcrumb--reverse":s},n),_=r;return o.jsxs("nav",{className:b,"aria-label":_,role:"navigation",...l,children:[o.jsx("ol",{className:"nhsuk-breadcrumb__list",role:"list",children:e?I.Children.map(e,(f,h)=>I.isValidElement(f)&&(f.type===Wa||f.type?.displayName==="BreadcrumbItem")?I.cloneElement(f,{key:h}):null):m?.filter(f=>f.active||!!f.href).map((f,h)=>o.jsx("li",{className:"nhsuk-breadcrumb__item",role:"listitem",children:f.active?o.jsx("span",{className:"nhsuk-breadcrumb__link nhsuk-breadcrumb__link--current","aria-current":"page",role:"text",...f.attributes||{},children:f.text}):o.jsx("a",{className:"nhsuk-breadcrumb__link",href:f.href,role:"link",...f.attributes||{},children:f.text})},h))}),p.href&&o.jsx("p",{className:"nhsuk-breadcrumb__back",children:o.jsxs("a",{className:"nhsuk-breadcrumb__backlink",href:p.href,role:"link","aria-label":`Back to ${p.text}`,...t.length>0?t[t.length-1]?.attributes||{}:{},children:[o.jsx("span",{className:"nhsuk-u-visually-hidden",children:"Back to Â "}),p.text]})})]})};Bc.Item=Wa,Wa.displayName="BreadcrumbItem";const ls=({text:t="Skip to main content",href:e="#maincontent",classes:n,attributes:r={}})=>{const[a,i]=I.useState(!1);I.useEffect(()=>{i(!0)},[]),I.useEffect(()=>{if(typeof window>"u"||typeof document>"u"||!document.querySelector||!document.querySelectorAll)return;const l=u=>{const c=u.target,d=c.getAttribute("href");if(d&&d.startsWith("#")){const m=document.querySelector(d);if(m){m.hasAttribute("tabindex")||m.setAttribute("tabindex","-1"),m.focus(),m.classList.add("nhsuk-skip-link-focused-element");const p=window.setTimeout(()=>{m.classList.remove("nhsuk-skip-link-focused-element"),m.getAttribute("tabindex")==="-1"&&m.removeAttribute("tabindex")},3e3);c.__nhsSkipLinkTimeout=p}}};try{const u=document.querySelectorAll(".nhsuk-skip-link");return u.forEach(c=>{c.addEventListener("click",l)}),()=>{try{u.forEach(c=>{c.removeEventListener("click",l);const d=c.__nhsSkipLinkTimeout;d&&window.clearTimeout&&window.clearTimeout(d)})}catch(c){console.warn("SkipLink cleanup error:",c)}}}catch(u){return console.warn("SkipLink initialization error:",u),()=>{}}},[a]);const s=de("nhsuk-skip-link",n);return o.jsx("a",{className:s,href:e,"data-module":"nhsuk-skip-link","data-enhanced":a?"true":"false",...r,children:t})},Kb=({previousUrl:t,previousPage:e,nextUrl:n,nextPage:r,classes:a,attributes:i={}})=>{const s=de("nhsuk-pagination",a);return o.jsx("nav",{className:s,role:"navigation","aria-label":"Pagination",...i,children:o.jsxs("ul",{className:"nhsuk-list nhsuk-pagination__list",children:[t&&e&&o.jsx("li",{className:"nhsuk-pagination-item--previous",children:o.jsxs("a",{className:"nhsuk-pagination__link nhsuk-pagination__link--prev",href:t,children:[o.jsx("span",{className:"nhsuk-pagination__title",children:"Previous"}),o.jsx("span",{className:"nhsuk-u-visually-hidden",children:":"}),o.jsx("span",{className:"nhsuk-pagination__page",children:e}),o.jsx("svg",{className:"nhsuk-icon nhsuk-icon__arrow-left",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24","aria-hidden":"true",width:"34",height:"34",children:o.jsx("path",{d:"M4.1 12.3l2.7 3c.2.2.5.2.7 0 .1-.1.1-.2.1-.3v-2h11c.6 0 1-.4 1-1s-.4-1-1-1h-11V9c0-.2-.1-.4-.3-.5h-.2c-.1 0-.3.1-.4.2l-2.7 3c0 .2 0 .4.1.6z"})})]})}),n&&r&&o.jsx("li",{className:"nhsuk-pagination-item--next",children:o.jsxs("a",{className:"nhsuk-pagination__link nhsuk-pagination__link--next",href:n,children:[o.jsx("span",{className:"nhsuk-pagination__title",children:"Next"}),o.jsx("span",{className:"nhsuk-u-visually-hidden",children:":"}),o.jsx("span",{className:"nhsuk-pagination__page",children:r}),o.jsx("svg",{className:"nhsuk-icon nhsuk-icon__arrow-right",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24","aria-hidden":"true",width:"34",height:"34",children:o.jsx("path",{d:"M19.6 11.66l-2.73-3A.51.51 0 0 0 16 9v2H5a1 1 0 0 0 0 2h11v2a.5.5 0 0 0 .32.46.39.39 0 0 0 .18 0 .52.52 0 0 0 .37-.16l2.73-3a.5.5 0 0 0 0-.64z"})})]})})]})})},Zb=({items:t,classes:e,ariaLabel:n="Pages in this guide",attributes:r={}})=>{const a=de("nhsuk-contents-list",e),i=(s,l)=>s.current?o.jsx("li",{className:"nhsuk-contents-list__item","aria-current":"page",...s.attributes||{},children:o.jsx("span",{className:"nhsuk-contents-list__current",children:s.text})},l):o.jsx("li",{className:"nhsuk-contents-list__item",children:o.jsx("a",{className:"nhsuk-contents-list__link",href:s.href,...s.attributes||{},children:s.text})},l);return o.jsxs("nav",{className:a,role:"navigation","aria-label":n,...r,children:[o.jsx("h2",{className:"nhsuk-u-visually-hidden",children:"Contents"}),o.jsx("ol",{className:"nhsuk-contents-list__list",children:t.map((s,l)=>i(s,l))})]})},cs=I.forwardRef(({variant:t="default",heading:e,headingHtml:n,headingLevel:r=2,headingClasses:a,description:i,descriptionHtml:s,href:l,imgURL:u,imgAlt:c,...d},m)=>{const p=["nhsuk-card",t==="clickable"&&"nhsuk-card--clickable",t==="secondary"&&"nhsuk-card--secondary",t==="feature"&&"nhsuk-card--feature",d.className].filter(Boolean).join(" "),b=["nhsuk-card__content",t==="feature"&&"nhsuk-card__content--feature",t==="primary"&&"nhsuk-card__content--primary",t==="secondary"&&"nhsuk-card__content--secondary"].filter(Boolean).join(" "),_=["nhsuk-card__heading",t==="feature"&&"nhsuk-card__heading--feature",a].filter(Boolean).join(" "),f=()=>{if(n)return o.jsx("div",{dangerouslySetInnerHTML:{__html:n}});if(!e)return null;const C=()=>l&&t!=="feature"?o.jsx("a",{className:"nhsuk-card__link",href:l,children:e}):e;return o.jsx(Pt,{level:r,className:_,children:C()})},h=()=>d.children?d.children:s?o.jsx("div",{dangerouslySetInnerHTML:{__html:s}}):i?o.jsx("p",{className:"nhsuk-card__description",children:i}):null,$=()=>t!=="primary"?null:o.jsxs("svg",{className:"nhsuk-icon",xmlns:"http://www.w3.org/2000/svg",width:"27",height:"27","aria-hidden":"true",focusable:"false",children:[o.jsx("circle",{cx:"13.333",cy:"13.333",r:"13.333",fill:""}),o.jsxs("g",{fill:"none",stroke:"#fff",strokeLinecap:"round",strokeMiterlimit:"10",strokeWidth:"2.667",children:[o.jsx("path",{d:"M15.438 13l-3.771 3.771"}),o.jsx("path",{d:"M11.667 9.229L15.438 13"})]})]});return o.jsxs("div",{...d,className:p,ref:m,children:[u&&o.jsx("img",{className:"nhsuk-card__img",src:u,alt:c||""}),o.jsxs("div",{className:b,children:[f(),h(),$()]})]})});cs.displayName="Card";const Jb=({className:t,children:e,"data-testid":n,id:r})=>{const a=["nhsuk-card-group",t].filter(Boolean).join(" ");return o.jsx("ul",{className:a,"data-testid":n,id:r,children:e})},Qb=({className:t,children:e,"data-testid":n})=>{const r=["nhsuk-card-group__item",t].filter(Boolean).join(" ");return o.jsx("li",{className:r,"data-testid":n,children:e})},e_=({type:t,heading:e,headingHtml:n,headingLevel:r=3,headingClasses:a,description:i,descriptionHtml:s,className:l,children:u,"data-testid":c,id:d,"aria-label":m,"aria-labelledby":p,"aria-describedby":b})=>{const _=["nhsuk-care-card",`nhsuk-care-card--${t}`,l].filter(Boolean).join(" "),f=["nhsuk-care-card__heading",a].filter(Boolean).join(" "),h=()=>{if(n)return o.jsx("div",{dangerouslySetInnerHTML:{__html:n}});if(!e)return null;const C={"non-urgent":"Non-urgent advice:",urgent:"Urgent advice:",emergency:"Immediate action required:"}[t],S=o.jsxs("span",{role:"text",children:[o.jsxs("span",{className:"nhsuk-u-visually-hidden",children:[C," "]}),e]});return o.jsx(Pt,{level:r,className:f,children:S})},$=()=>u||(s?o.jsx("div",{dangerouslySetInnerHTML:{__html:s}}):i?o.jsx("p",{className:"nhsuk-care-card__text",children:i}):null);return o.jsxs("div",{className:_,"data-testid":c,id:d,"aria-label":m,"aria-labelledby":p,"aria-describedby":b,children:[o.jsxs("div",{className:"nhsuk-care-card__heading-container",children:[h(),o.jsx("span",{className:"nhsuk-care-card__arrow","aria-hidden":"true"})]}),o.jsx("div",{className:"nhsuk-care-card__content",children:$()})]})},Pc=({id:t,className:e,headingText:n,headingHtml:r,headingLevel:a=2,bodyText:i,bodyHtml:s,children:l,...u})=>{const c=de("nhsuk-panel",e),d=()=>!n&&!r&&!l?null:r?o.jsx(Pt,{level:a,className:"nhsuk-panel__heading",html:r,marginBottom:"var(--panel-heading-margin, 24px)"}):n?o.jsx(Pt,{level:a,className:"nhsuk-panel__heading",text:n,marginBottom:"var(--panel-heading-margin, 24px)"}):null,m=()=>l?o.jsx("div",{className:"nhsuk-panel__body",children:l}):s?o.jsx("div",{className:"nhsuk-panel__body",dangerouslySetInnerHTML:{__html:s}}):i?o.jsx("div",{className:"nhsuk-panel__body",children:o.jsx("p",{children:i})}):null;return o.jsxs("div",{className:c,id:t,...u,children:[d(),m()]})},t_=({text:t,html:e,children:n,className:r,...a})=>{const i=de("nhsuk-inset-text",r),s=()=>n||(e?o.jsx("div",{dangerouslySetInnerHTML:{__html:e}}):t?o.jsx("p",{children:t}):null);return o.jsx("div",{className:i,...a,children:s()})},n_=({items:t,noBorder:e=!1,className:n,...r})=>{const a=de("nhsuk-summary-list",{"nhsuk-summary-list--no-border":e},n),i=l=>l.children?l.children:l.html?o.jsx("span",{dangerouslySetInnerHTML:{__html:l.html}}):l.text?l.text:null,s=l=>!l||!l.items.length?null:o.jsx("dd",{className:"nhsuk-summary-list__actions",children:o.jsx("ul",{className:"nhsuk-summary-list__actions-list",children:l.items.map((u,c)=>o.jsx("li",{className:"nhsuk-summary-list__actions-list-item",children:o.jsxs("a",{href:u.href,className:"nhsuk-link",...u.attributes,children:[i(u),u.visuallyHiddenText&&o.jsx("span",{className:"nhsuk-u-visually-hidden",children:u.visuallyHiddenText})]})},c))})});return o.jsx("div",{className:"nhsuk-summary-list-container",children:o.jsx("dl",{className:a,...r,children:t.map((l,u)=>o.jsxs("div",{className:"nhsuk-summary-list__row",children:[o.jsx("dt",{className:"nhsuk-summary-list__key",children:i(l.key)}),o.jsx("dd",{className:"nhsuk-summary-list__value",children:i(l.value)}),s(l.actions)]},u))})})},r_=({rows:t,head:e,caption:n,captionSize:r,firstCellIsHeader:a=!1,responsive:i=!1,heading:s,headingLevel:l=3,panel:u=!1,panelClasses:c,tableClasses:d,classes:m,attributes:p,"data-testid":b})=>{const _=`nhsuk-table__caption ${r?`nhsuk-table__caption--${r}`:""}`.trim(),f=de("nhsuk-table",{"nhsuk-table-responsive":i},d),h=de(m),$=(y,w)=>{const x=de("nhsuk-table__header",{[`nhsuk-table__header--${y.format}`]:y.format},y.classes),M={scope:"col",...y.colspan&&{colSpan:y.colspan},...y.rowspan&&{rowSpan:y.rowspan},...i&&{role:"columnheader"},...y.attributes};return o.jsx("th",{className:x,...M,children:y.html?o.jsx("span",{dangerouslySetInnerHTML:{__html:y.html}}):y.text},w)},C=(y,w,x)=>{const M=a&&x,T=de(M?"nhsuk-table__header":"nhsuk-table__cell",{[`nhsuk-table__${M?"header":"cell"}--${y.format}`]:y.format},y.classes),k={...M&&{scope:"row"},...y.colspan&&{colSpan:y.colspan},...y.rowspan&&{rowSpan:y.rowspan},...i&&{role:M?"rowheader":"cell",...y.header&&{"data-label":y.header}},...y.attributes},D=o.jsxs(o.Fragment,{children:[i&&y.header&&o.jsxs("span",{className:"nhsuk-table-responsive__heading","aria-hidden":"true",children:[y.header," "]}),y.html?o.jsx("span",{dangerouslySetInnerHTML:{__html:y.html}}):y.text]}),v=M?"th":"td";return o.jsx(v,{className:T,...k,children:D},w)},S=()=>o.jsxs("table",{className:f,...i&&{role:"table"},...p,...b&&{"data-testid":b},children:[n&&o.jsx("caption",{className:_,children:n}),e&&e.length>0&&o.jsx("thead",{className:"nhsuk-table__head",...i&&{role:"rowgroup"},children:o.jsx("tr",{...i&&{role:"row"},children:e.map((y,w)=>$(y,w))})}),o.jsx("tbody",{className:"nhsuk-table__body",children:t&&t.map((y,w)=>o.jsx("tr",{className:"nhsuk-table__row",...i&&{role:"row"},children:y.map((x,M)=>C(x,M,M===0))},w))})]});return u?o.jsxs(Pc,{className:c,children:[s&&o.jsx(Pt,{level:l,className:"nhsuk-table__heading-tab",children:s}),S()]}):h?o.jsx("div",{className:h,children:S()}):S()},a_=I.forwardRef(({items:t,defaultActiveTab:e,activeTab:n,onTabChange:r,onTabFocus:a,onTabListBlur:i,onEscape:s,autoActivate:l=!0,className:u,id:c,"data-testid":d,...m},p)=>{const b=n!==void 0,[_,f]=I.useState(()=>e||t[0]?.id||""),h=b?n:_,$=I.useRef(null),C=I.useRef(new Map),S=I.useCallback(D=>{b||f(D),r?.(D)},[b,r]),y=I.useCallback(D=>{a?.(D),l&&S(D)},[a,l,S]),w=I.useCallback((D,v)=>{const N=t.filter(P=>!P.disabled).map(P=>P.id),z=N.indexOf(v);let R=null;switch(D.key){case"ArrowLeft":R=z>0?z-1:N.length-1;break;case"ArrowRight":R=z<N.length-1?z+1:0;break;case"Home":R=0;break;case"End":R=N.length-1;break;case"Escape":D.preventDefault(),s?.();return;default:return}if(R!==null){D.preventDefault();const P=N[R],F=C.current.get(P);F&&(F.focus(),y(P))}},[t,y,s]),x=I.useCallback((D,v)=>{v?C.current.set(D,v):C.current.delete(D)},[]),M=I.useCallback(D=>{const v=C.current.get(D);v&&v.focus()},[]);I.useImperativeHandle(p,()=>({focusTab:M,getActiveTab:()=>h,getTabListElement:()=>$.current}),[M,h]);const T=I.useCallback(D=>{const v=D.relatedTarget;$.current?.contains(v)||i?.()},[i]),k=de("nhsuk-tabs",u);return o.jsxs("div",{className:k,id:c,"data-testid":d,...m,children:[o.jsx("h2",{className:"nhsuk-tabs__title",children:"Contents"}),o.jsx("div",{className:"nhsuk-tabs__list-container",ref:$,children:o.jsx("ul",{className:"nhsuk-tabs__list",role:"tablist",onBlur:T,children:t.map(D=>{const v=D.id===h,N=D.disabled,z=de("nhsuk-tabs__list-item",{"nhsuk-tabs__list-item--selected":v,"nhsuk-tabs__list-item--disabled":N});return o.jsx("li",{className:z,role:"presentation",children:o.jsx("button",{ref:R=>x(D.id,R),className:"nhsuk-tabs__tab",role:"tab","aria-selected":v,"aria-controls":`${D.id}-panel`,id:`${D.id}-tab`,tabIndex:v?0:-1,disabled:N,onClick:()=>!N&&S(D.id),onKeyDown:R=>!N&&w(R,D.id),onFocus:()=>!N&&y(D.id),...D.attributes,children:D.label})},D.id)})})}),t.map(D=>{const v=D.id===h;return o.jsx("div",{className:"nhsuk-tabs__panel",role:"tabpanel","aria-labelledby":`${D.id}-tab`,id:`${D.id}-panel`,hidden:!v,children:D.content},D.id)})]})}),Lc=I.forwardRef(({summaryText:t,summaryHtml:e,text:n,html:r,open:a=!1,className:i="",id:s,children:l,...u},c)=>{const d=["nhsuk-details",i].filter(Boolean).join(" "),m=e?o.jsx("span",{className:"nhsuk-details__summary-text",dangerouslySetInnerHTML:{__html:e}}):o.jsx("span",{className:"nhsuk-details__summary-text",children:t});let p;return l?p=l:r?p=o.jsx("div",{dangerouslySetInnerHTML:{__html:r}}):n&&(p=n),o.jsxs("details",{ref:c,id:s,className:d,open:a,...u,children:[o.jsx("summary",{className:"nhsuk-details__summary",tabIndex:0,children:m}),o.jsx("div",{className:"nhsuk-details__text",children:p})]})});Lc.displayName="Details";const Ac=I.forwardRef(({title:t,type:e,items:n,hidePrefix:r=!1,headingLevel:a=3,className:i,...s},l)=>{const u=["nhsuk-do-dont-list"];i&&u.push(i);const c=["nhsuk-list",e==="tick"?"nhsuk-list--tick":"nhsuk-list--cross"],d=()=>e==="cross"?o.jsxs("svg",{className:"nhsuk-icon nhsuk-icon__cross",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24","aria-hidden":"true",width:"34",height:"34",children:[o.jsx("path",{d:"M17 18.5c-.4 0-.8-.1-1.1-.4l-10-10c-.6-.6-.6-1.6 0-2.1.6-.6 1.5-.6 2.1 0l10 10c.6.6.6 1.5 0 2.1-.3.3-.6.4-1 .4z",fill:"#d5281b"}),o.jsx("path",{d:"M7 18.5c-.4 0-.8-.1-1.1-.4-.6-.6-.6-1.5 0-2.1l10-10c.6-.6 1.5-.6 2.1 0 .6.6.6 1.5 0 2.1l-10 10c-.3.3-.6.4-1 .4z",fill:"#d5281b"})]}):o.jsx("svg",{className:"nhsuk-icon nhsuk-icon__tick",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none","aria-hidden":"true",width:"34",height:"34",children:o.jsx("path",{strokeWidth:"4",strokeLinecap:"round",d:"M18.4 7.8l-8.5 8.4L5.6 12",stroke:"#007f3b"})}),m=b=>e==="cross"&&!r?`do not ${b}`:b,p=()=>o.jsx(Pt,{level:a,className:"nhsuk-do-dont-list__label",text:t});return o.jsxs("div",{ref:l,className:u.join(" "),...s,children:[p(),o.jsx("div",{className:"nhsuk-do-dont-list__content--feature",children:o.jsx("ul",{className:c.join(" "),role:"list",children:n.map((b,_)=>o.jsxs("li",{children:[d(),m(b.item)]},_))})})]})});Ac.displayName="DoDontList";const Ec=I.forwardRef(({summaryText:t,summaryHtml:e,text:n,html:r,open:a=!1,className:i="",id:s,children:l,...u},c)=>{const d=["nhsuk-expander",i].filter(Boolean).join(" "),m=e?o.jsx("span",{className:"nhsuk-details__summary-text",dangerouslySetInnerHTML:{__html:e}}):o.jsx("span",{className:"nhsuk-details__summary-text",children:t});let p;return l?p=l:r?p=o.jsx("div",{dangerouslySetInnerHTML:{__html:r}}):n&&(p=n),o.jsxs("details",{ref:c,id:s,className:d,open:a,...u,children:[o.jsx("summary",{className:"nhsuk-details__summary",children:m}),o.jsx("div",{className:"nhsuk-details__text",children:p})]})});Ec.displayName="Expander";const Rc=I.forwardRef(({items:t,idPrefix:e="task-list",className:n,...r},a)=>{const i=["nhsuk-task-list",n].filter(Boolean).join(" "),s=(l,u)=>{const c=u+1,d=`${e}-${c}-hint`,m=`${e}-${c}-status`,p=!!l.href,b=["nhsuk-task-list__item",p&&"nhsuk-task-list__item--with-link",l.classes].filter(Boolean).join(" "),_=[l.hint&&d,m].filter(Boolean).join(" ");return o.jsx(i_,{item:l,itemClasses:b,hasLink:p,hintId:d,statusId:m,ariaDescribedBy:_},u)};return o.jsx("ul",{ref:a,className:i,...r,children:t.map(s)})}),i_=({item:t,itemClasses:e,hasLink:n,hintId:r,statusId:a,ariaDescribedBy:i})=>{const s=()=>{const c=t.title.html?o.jsx("span",{dangerouslySetInnerHTML:{__html:t.title.html}}):t.title.text,d=[n?"nhsuk-task-list__link":"",t.title.classes].filter(Boolean).join(" ");return n?o.jsx("a",{className:d,href:t.href,"aria-describedby":i,children:c}):o.jsx("div",{className:t.title.classes||"",children:c})},l=()=>t.hint?t.hint.html?o.jsx("div",{id:r,className:"nhsuk-task-list__hint",dangerouslySetInnerHTML:{__html:t.hint.html}}):o.jsx("div",{id:r,className:"nhsuk-task-list__hint",children:t.hint.text}):null,u=()=>{const c=["nhsuk-task-list__status",t.status.classes].filter(Boolean).join(" ");let d;return t.status.tag?d=o.jsx(st,{...t.status.tag}):t.status.html?d=o.jsx("span",{dangerouslySetInnerHTML:{__html:t.status.html}}):d=t.status.text,o.jsx("div",{className:c,id:a,children:d})};return o.jsxs("li",{className:e,children:[o.jsxs("div",{className:"nhsuk-task-list__name-and-hint",children:[s(),l()]}),u()]})};Rc.displayName="TaskList";const s_=({heading:t,headingLevel:e=3,text:n,html:r,children:a,className:i,...s})=>{const l=/important/i.test(t),u=()=>a||(r?o.jsx("div",{dangerouslySetInnerHTML:{__html:r}}):n?o.jsx("p",{children:n}):null),c=["nhsuk-warning-callout",i].filter(Boolean).join(" "),d=`h${e}`;return o.jsxs("div",{className:c,...s,children:[I.createElement(d,{className:"nhsuk-warning-callout__label"},l?o.jsxs(o.Fragment,{children:[t,o.jsx("span",{className:"nhsuk-u-visually-hidden",children:":"})]}):o.jsxs("span",{role:"text",children:[o.jsx("span",{className:"nhsuk-u-visually-hidden",children:"Important: "}),t]})),u()]})},o_=({src:t,alt:e,caption:n,sizes:r,srcset:a,className:i,...s})=>{const l=["nhsuk-image",i].filter(Boolean).join(" ");return o.jsxs("figure",{className:l,...s,children:[o.jsx("img",{className:"nhsuk-image__img",src:t,alt:e,...r&&a?{sizes:r,srcSet:a}:{}}),n&&o.jsx("figcaption",{className:"nhsuk-image__caption",dangerouslySetInnerHTML:{__html:n}})]})},l_=({dateRange:t,onPrev:e,onNext:n,onToday:r,density:a,onDensityChange:i,a11yMode:s,onA11yModeChange:l})=>o.jsxs("div",{className:"nhs-slot-matrix__toolbar",role:"group","aria-label":"Slot matrix controls",children:[o.jsxs("div",{className:"nhs-slot-matrix__toolbar-section",children:[o.jsx(et,{variant:"secondary",size:"small",onClick:e,"aria-label":"Previous date range",children:"Prev"}),o.jsx(et,{variant:"secondary",size:"small",onClick:r,"aria-label":"Jump to today",children:"Today"}),o.jsx(et,{variant:"secondary",size:"small",onClick:n,"aria-label":"Next date range",children:"Next"}),o.jsxs("span",{className:"nhs-slot-matrix__toolbar-daterange","aria-live":"polite",children:[t.start.toDateString()," â€“ ",t.end.toDateString()]})]}),o.jsxs("div",{className:"nhs-slot-matrix__toolbar-section",children:[o.jsx("label",{className:"nhs-slot-matrix__toolbar-label",htmlFor:"slot-matrix-density-select",children:"Density"}),o.jsx(_r,{id:"slot-matrix-density-select",name:"slot-matrix-density",ariaLabel:"Change density",value:a,onChange:u=>i?.(u.target.value),options:[{value:"comfortable",text:"Comfortable"},{value:"compact",text:"Compact"}]}),o.jsx("label",{className:"nhs-slot-matrix__toolbar-label",htmlFor:"slot-matrix-mode-select",children:"Mode"}),o.jsx(_r,{id:"slot-matrix-mode-select",name:"slot-matrix-mode",ariaLabel:"Change accessibility mode",value:s,onChange:u=>l?.(u.target.value),options:[{value:"grid",text:"Grid"},{value:"list",text:"List"}]})]})]}),c_=({items:t,orientation:e="horizontal"})=>o.jsx("div",{className:`nhs-slot-matrix__legend nhs-slot-matrix__legend--${e}`,role:"list","aria-label":"Slot legend",children:t.map(n=>o.jsx("div",{role:"listitem",className:"nhs-slot-matrix__legend-item",children:o.jsx(st,{color:u_(n.status),text:n.label})},n.status))});function u_(t){switch(t){case"available":return"green";case"full":return"grey";case"overbook":return"orange";case"held":return"yellow";case"blocked":return"grey";default:return"default"}}const d_=({slots:t,sessions:e,value:n,defaultValue:r,onChange:a,selectionMode:i="single",a11yMode:s,className:l,style:u,getSlotAriaLabel:c,toolbar:d,enableDefaultToolbar:m=!0,legendItems:p,enableDefaultLegend:b=!0,legendPlacement:_="bottom",onA11yModeChange:f})=>{const[h,$]=I.useState("grid"),C=s||h,[S,y]=I.useState(r||[]),w=n??S,x=I.useMemo(()=>{const R=new Set;return t.forEach(P=>R.add(new Date(P.start).getTime())),Array.from(R).sort((P,F)=>P-F)},[t]),M=I.useMemo(()=>{const R={};return t.forEach(P=>{const F=new Date(P.start).getTime();R[F]||(R[F]={});const j=P.capacity-P.booked-(P.held||0);R[F][P.sessionId]={slot:P,remaining:j}}),R},[t]),T=I.useCallback(R=>{if(i==="single"){const P=[R.id];n||y(P),a?.(P,{lastAction:"select"})}else{const P=w.includes(R.id),F=P?w.filter(j=>j!==R.id):[...w,R.id];n||y(F),a?.(F,{lastAction:P?"deselect":"select"})}},[i,w,n,a]),k=I.useMemo(()=>p||(b?Array.from(new Set(t.map(P=>P.status))).map(P=>({status:P,label:P.charAt(0).toUpperCase()+P.slice(1)})):void 0),[p,b,t]),D=k?o.jsx(c_,{items:k,orientation:_==="left"||_==="right"?"vertical":"horizontal"}):null,v=R=>{s||$(R),f?.(R)},N=d||(m?o.jsx(l_,{dateRange:{start:new Date,end:new Date},density:"comfortable",a11yMode:C,onA11yModeChange:v}):null),z=o.jsx("div",{style:u,className:de(l),children:o.jsx(Na,{className:de("nhs-slot-matrix-grid-wrapper"),children:o.jsx(fn,{children:o.jsx(Gn,{width:"full",children:o.jsxs("div",{className:"nhs-slot-matrix",children:[N,_==="top"&&D,o.jsx("ul",{"aria-label":"Appointment slots list",children:t.map(R=>o.jsx("li",{children:o.jsxs("button",{type:"button",onClick:()=>T(R),"aria-pressed":w.includes(R.id),children:[jr(new Date(R.start))," â€“ ",jr(new Date(R.end))," (",R.status,")"]})},R.id))}),_==="bottom"&&D]})})})})});return C==="list"?z:o.jsx("div",{style:u,className:de(l),children:o.jsx(Na,{className:de("nhs-slot-matrix-grid-wrapper"),children:o.jsx(fn,{children:o.jsx(Gn,{width:"full",children:o.jsxs("div",{className:"nhs-slot-matrix",children:[N,_==="top"&&D,o.jsxs("div",{role:"grid","aria-rowcount":x.length+1,"aria-colcount":e.length+1,children:[o.jsxs("div",{role:"row",className:"nhs-slot-matrix__row",children:[o.jsx("div",{role:"columnheader","aria-label":"Timebands",className:"nhs-slot-matrix__timeband-header"}),e.map(R=>o.jsx("div",{role:"columnheader","aria-label":`Session ${R.specialty}`,className:"nhs-slot-matrix__session-header",children:R.specialty},R.id))]}),x.map(R=>o.jsxs("div",{role:"row",className:"nhs-slot-matrix__row",children:[o.jsx("div",{role:"rowheader",className:"nhs-slot-matrix__timeband-header","aria-label":jr(new Date(R)),children:jr(new Date(R))}),e.map(P=>{const F=M[R]?.[P.id];if(!F)return o.jsx("div",{role:"gridcell",className:"nhs-slot-matrix__cell","aria-disabled":"true"},P.id);const{slot:j,remaining:H}=F,B=w.includes(j.id),E=c?c(j):`Slot ${jr(new Date(j.start))} ${j.status}${H===0?" full":""}`;return o.jsx("button",{type:"button",role:"gridcell","data-status":j.status,className:de("nhs-slot-matrix__cell",B&&"nhs-slot-matrix__cell--selected"),"aria-label":E,"aria-selected":B||void 0,onClick:()=>T(j),children:H>0?`${H} left`:"Full"},j.id)})]},R))]}),_==="bottom"&&D]})})})})})};function Hc(t){return t<10?`0${t}`:`${t}`}function jr(t){return`${Hc(t.getHours())}:${Hc(t.getMinutes())}`}const zc=({title:t,value:e,subtitle:n,variant:r="default",href:a,className:i="",ariaLabel:s,...l})=>{const u=["nhs-fdp-summary-card",`nhs-fdp-summary-card--${r}`,i].filter(Boolean).join(" "),c=o.jsxs(o.Fragment,{children:[o.jsx(Pt,{level:3,className:"nhs-fdp-summary-card__title",children:t}),o.jsx("p",{className:"nhs-fdp-summary-card__value",children:e}),n&&o.jsx("p",{className:"nhs-fdp-summary-card__subtitle",children:n})]});return a?o.jsx("a",{className:`${u} nhs-fdp-summary-card--clickable`,href:a,"aria-label":s||`${t}: ${e}`,...l,children:c}):o.jsx("div",{className:u,"aria-label":s,...l,children:c})},f_=({cards:t,className:e="",...n})=>{const r=["nhs-fdp-dashboard-summary-grid",e].filter(Boolean).join(" ");return o.jsx("div",{className:r,...n,children:o.jsx(Na,{children:o.jsx(fn,{children:t.map((a,i)=>o.jsx(Gn,{width:"one-quarter",className:"nhs-fdp-dashboard-summary-grid__column","data-card-index":i,children:o.jsx(zc,{...a})},i))})})})},Oc=I.forwardRef(({data:t,columns:e,sortConfig:n,onSort:r,selectedRowIndex:a,onRowSelect:i,id:s,testId:l,ariaLabel:u,ariaLabelledby:c,ariaDescribedby:d,className:m,tableClassName:p,bordered:b=!1,striped:_=!1,responsive:f=!1,tableType:h="default"},$)=>{const C=I.useRef(null),S=I.useRef(null),y=I.useRef(null);I.useImperativeHandle($,()=>C.current,[]);const[w,x]=I.useState(0),[M,T]=I.useState(0),[k,D]=I.useState("headers"),[v,N]=I.useState("browse"),z=e.length,R=t.length,P=I.useMemo(()=>!n||n.length===0?t:[...t].sort((L,U)=>{for(const{key:O,direction:Q}of n){const he=L[O],le=U[O];if(he==null&&le==null)continue;if(he==null)return 1;if(le==null)return-1;let J=0;if(typeof he=="number"&&typeof le=="number"?J=he-le:J=String(he).localeCompare(String(le)),J!==0)return Q==="asc"?J:-J}return 0}),[t,n]),F=I.useCallback((L,U)=>{setTimeout(()=>{const O=C.current?.querySelector(`tbody tr:nth-child(${L+1}) td:nth-child(${U+1})`);O&&(O.focus(),typeof O.scrollIntoView=="function"&&O.scrollIntoView({behavior:"smooth",block:"center",inline:"nearest"}))},0)},[]),j=I.useCallback(L=>{setTimeout(()=>{const U=C.current?.querySelector(`th:nth-child(${L+1})`);U&&(U.focus(),typeof U.scrollIntoView=="function"&&U.scrollIntoView({behavior:"smooth",block:"center",inline:"nearest"}))},0)},[]),H=I.useCallback(L=>{r?.(L)},[r]),B=I.useCallback(L=>{i?.(L)},[i]),E=I.useCallback(L=>{const{key:U}=L;switch(U){case"Enter":if(L.preventDefault(),k==="headers"&&v==="browse")N("navigate"),j(M);else if(k==="headers"&&v==="navigate"){const O=e[M];O&&H(O.key)}else k==="cells"&&v==="browse"?(N("navigate"),F(w,M)):k==="cells"&&v==="navigate"&&B(w);break;case"Escape":L.preventDefault(),(k==="headers"&&v==="navigate"||k==="cells"&&v==="navigate")&&N("browse");break;case"ArrowLeft":if(L.preventDefault(),v==="navigate"||v==="browse"&&k==="headers"){if(k==="headers"){const O=Math.max(0,M-1);T(O),j(O)}else if(k==="cells"){const O=Math.max(0,M-1);T(O),F(w,O)}}break;case"ArrowRight":if(L.preventDefault(),v==="navigate"||v==="browse"&&k==="headers"){if(k==="headers"){const O=Math.min(z-1,M+1);T(O),j(O)}else if(k==="cells"){const O=Math.min(z-1,M+1);T(O),F(w,O)}}break;case"ArrowUp":if(L.preventDefault(),k==="cells"){if(v==="browse"){const O=Math.max(0,w-1);x(O),F(O,0),T(0)}else if(v==="navigate")if(w>0){const O=w-1;x(O),F(O,M)}else D("headers"),N("browse"),j(M)}break;case"ArrowDown":if(L.preventDefault(),k==="headers"&&v==="browse")D("cells"),x(0),T(0),F(0,0);else if(k==="cells"){const O=R-1;if(v==="browse"){const Q=Math.min(O,w+1);x(Q),F(Q,0),T(0)}else if(v==="navigate"&&w<O){const Q=w+1;x(Q),F(Q,M)}}break;case"Home":L.preventDefault(),k==="headers"?(T(0),j(0)):k==="cells"&&(L.ctrlKey?(x(0),T(0),F(0,0)):(T(0),F(w,0)));break;case"End":if(L.preventDefault(),k==="headers"){const O=z-1;T(O),j(O)}else if(k==="cells")if(L.ctrlKey){const O=R-1,Q=z-1;x(O),T(Q),F(O,Q)}else{const O=z-1;T(O),F(w,O)}break;case" ":if(L.preventDefault(),k==="headers"&&v==="navigate"){const O=e[M];O&&H(O.key)}else k==="cells"&&v==="navigate"&&B(w);break}},[k,v,M,w,z,R,e,F,j,H,B]);I.useEffect(()=>{const L=C.current;if(L)return L.addEventListener("keydown",E),()=>L.removeEventListener("keydown",E)},[E]);const W=de("nhsuk-table",p,{"nhsuk-table--responsive":f,"nhsuk-table--bordered":b,"nhsuk-table--striped":_,"nhsuk-table--compact":h==="compact"},m);return o.jsxs("table",{ref:C,className:W,id:s,"data-testid":l,role:"grid","aria-label":u,"aria-labelledby":c,"aria-describedby":d,tabIndex:0,children:[o.jsx("thead",{className:"nhsuk-table__head",role:"rowgroup",children:o.jsx("tr",{ref:S,role:"row",children:e.map((L,U)=>{const O=n?.find(le=>le.key===L.key),Q=!!O,he=k==="headers"&&M===U;return o.jsx("th",{className:de("sortable-header",{"sortable-header--focused":he}),role:"columnheader",tabIndex:he?0:-1,onClick:()=>H(L.key),onKeyDown:le=>{(le.key==="Enter"||le.key===" ")&&(le.preventDefault(),H(L.key))},"aria-sort":Q?O?.direction==="asc"?"ascending":"descending":"none",children:o.jsxs("div",{className:"header-content",children:[o.jsx("span",{className:"header-label",children:L.label}),Q&&o.jsxs("span",{className:"sort-indicator","aria-hidden":"true",children:[n&&n.length>1&&o.jsx("span",{className:"sort-priority",children:n.findIndex(le=>le.key===L.key)+1}),o.jsx("svg",{width:"12",height:"12",viewBox:"0 0 12 12",fill:"currentColor",className:"sort-arrow",children:O?.direction==="asc"?o.jsx("path",{d:"M6 2L2 8h8L6 2z"}):o.jsx("path",{d:"M6 10L2 4h8L6 10z"})})]})]})},L.key)})})}),o.jsx("tbody",{ref:y,className:"nhsuk-table__body",role:"rowgroup",children:P.map((L,U)=>{const O=a===U,Q=k==="cells"&&w===U;return o.jsx("tr",{role:"row",className:de("data-row",{"data-row--selected":O,"data-row--focused":Q}),"aria-selected":O,children:e.map((he,le)=>{const J=he.tableRenderer?he.tableRenderer(L):he.render?he.render(L):L[he.key],X=k==="cells"&&w===U&&M===le,te=()=>typeof J=="boolean"?o.jsxs(o.Fragment,{children:[o.jsx("span",{"aria-hidden":"true",children:J?"âœ“":"âœ—"}),o.jsx("span",{className:"sr-only",children:J?"Yes":"No"})]}):String(J??"");return o.jsx("td",{role:"gridcell",className:de("data-cell",{"data-cell--focused":X}),tabIndex:X?0:-1,onClick:()=>B(U),children:te()},he.key)})},U)})})]})});Oc.displayName="AriaDataGrid";const Wc=({sortConfig:t,columns:e,onSortChange:n,className:r="",emptyDescription:a="No sorting applied",activeDescription:i,showReset:s=!0,showHelp:l=!0,disabled:u=!1,ariaLabel:c="Sort configuration",ariaDescribedBy:d})=>{const m=I.useRef(null),p=I.useRef(null),b=I.useRef(null),_=I.useCallback((k,D)=>{u||(p.current=D,k.dataTransfer.effectAllowed="move",k.dataTransfer.setData("text/plain",D))},[u]),f=I.useCallback((k,D)=>{u||p.current===D||(k.preventDefault(),k.dataTransfer.dropEffect="move",b.current=D)},[u]),h=I.useCallback((k,D)=>{if(u)return;k.preventDefault();const v=p.current;if(!v||v===D)return;const N=t.findIndex(R=>R.key===v),z=t.findIndex(R=>R.key===D);if(N!==-1&&z!==-1){const R=[...t],[P]=R.splice(N,1);R.splice(z,0,P),n(R)}p.current=null,b.current=null},[u,t,n]),$=I.useCallback(()=>{p.current=null,b.current=null},[]),C=I.useCallback(k=>{const D=e.find(v=>v.key===k);return D?D.label:k},[e]),S=I.useCallback(k=>["red","orange","blue","aqua-green","grey"][k]||"grey",[]),y=I.useCallback(k=>{if(u)return;const D=t.map(v=>v.key===k?{...v,direction:v.direction==="asc"?"desc":"asc"}:v);n(D)},[t,n,u]),w=I.useCallback(k=>{if(u)return;const D=t.filter(v=>v.key!==k);n(D)},[t,n,u]),x=I.useCallback(()=>{u||n([])},[n,u]),M=()=>{if(t.length===0)return a;if(i)return i;const k=t.map((D,v)=>{const N=D.direction==="asc"?"ascending":"descending";return`${v+1}. ${C(D.key)} (${N})`});if(k.length===1)return`Sorted by: ${k[0]}`;if(k.length===2)return`Sorted by: ${k.join(" and ")}`;{const D=k.pop();return`Sorted by: ${k.join(", ")}, and ${D}`}},T=I.useMemo(()=>{const k=["sort-description"];return l&&k.push("sort-help"),d&&k.push(d),k.join(" ")},[l,d]);return t.length===0?o.jsxs("div",{className:`sort-status-control ${r}`,children:[o.jsx("div",{className:"sort-status-control__description",id:"sort-description","aria-live":"polite",children:a}),l&&o.jsx("div",{className:"sort-status-control__help",id:"sort-help",children:o.jsx("small",{children:"Drag tags to reorder priority. Click tags or â†‘/â†“ buttons to toggle ascending/descending. Click Ã— to remove a sort."})})]}):o.jsxs("div",{className:`sort-status-control ${r}`,children:[o.jsx("div",{className:"sort-status-control__description sort-status-control__description--active",id:"sort-description","aria-live":"polite",children:M()}),o.jsxs("div",{className:"sort-status-container",children:[o.jsx("div",{ref:m,className:"sort-status-control__tags",role:"list","aria-label":c,"aria-describedby":T,children:t.map((k,D)=>o.jsx("div",{className:"sort-status-control__tag-container",role:"listitem",draggable:!u,onDragStart:v=>_(v,k.key),onDragOver:v=>f(v,k.key),onDrop:v=>h(v,k.key),onDragEnd:$,onClick:()=>y(k.key),style:{cursor:u?"default":"pointer"},title:u?"":`Click to toggle sort direction. Currently ${k.direction==="asc"?"ascending":"descending"}`,"data-key":k.key,children:o.jsx(st,{color:S(D),className:"sort-status-control__tag",closable:!0,onClose:()=>w(k.key),disabled:u,children:o.jsxs("div",{className:"sort-status-control__tag-content",children:[o.jsx("div",{className:"sort-status-control__drag-handle",title:"Drag to reorder",children:"â‹®â‹®"}),o.jsx("div",{className:`sort-status-control__priority-badge sort-priority sort-priority--priority-${D+1}`,children:D+1}),o.jsx("span",{className:"sort-status-control__tag-label",children:C(k.key)}),o.jsx("button",{type:"button",className:"sort-status-control__direction-button",onClick:v=>{v.stopPropagation(),y(k.key)},disabled:u,"aria-label":`Toggle sort direction for ${C(k.key)}. Currently ${k.direction==="asc"?"ascending":"descending"}`,title:"Click to toggle between ascending and descending",children:o.jsx("span",{className:`sort-status-control__direction-icon sort-status-control__direction-icon--${k.direction}`,children:o.jsx("svg",{className:`nhsuk-icon sort-status-control__chevron sort-status-control__chevron--${k.direction}`,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24","aria-hidden":"true",focusable:"false",children:o.jsx("path",{d:"M15.5 12a1 1 0 0 1-.29.71l-5 5a1 1 0 0 1-1.42-1.42l4.3-4.29-4.3-4.29a1 1 0 0 1 1.42-1.42l5 5a1 1 0 0 1 .29.71z"})})})})]})})},k.key))}),s&&o.jsx("div",{className:"sort-status-control__actions",children:o.jsx(et,{variant:"secondary",onClick:x,disabled:u,"aria-label":"Reset all sorting",className:"sort-status-control__reset-button",children:"Clear All Sorts"})})]}),l&&o.jsx("div",{className:"sort-status-control__help",id:"sort-help",children:o.jsx("small",{children:"Drag tags to reorder priority. Click tags or â†‘/â†“ buttons to toggle ascending/descending. Click Ã— to remove a sort."})})]})};function h_(t,e){switch(e.type){case"SET_SELECTED_INDEX":return{...t,selectedIndex:e.payload};case"SET_TAB_LOADING":const n=[...t.tabLoadingStates];return n[e.payload.tabIndex]=e.payload.isLoading,{...t,tabLoadingStates:n};case"SET_TAB_ERROR":const r=[...t.tabErrors];return r[e.payload.tabIndex]=e.payload.error,{...t,tabErrors:r};case"SET_SORT":return{...t,sortConfig:e.payload};case"SET_SELECTED_ROWS":const a=[...t.selectedRows];return a[e.payload.tabIndex]=e.payload.rowIndices,{...t,selectedRows:a};case"SET_GLOBAL_SELECTED_ROW_DATA":return{...t,globalSelectedRowData:e.payload};case"SET_FILTERS":return{...t,filters:e.payload};case"ADJUST_ARRAYS":const{newLength:i}=e.payload,s=new Array(i).fill(!1),l=new Array(i).fill(null),u=new Array(i).fill([]);for(let c=0;c<Math.min(t.tabLoadingStates.length,i);c++)s[c]=t.tabLoadingStates[c],l[c]=t.tabErrors[c],u[c]=t.selectedRows[c];return{...t,tabLoadingStates:s,tabErrors:l,selectedRows:u};case"RESET_STATE":return{selectedIndex:0,tabLoadingStates:new Array(t.tabLoadingStates.length).fill(!1),tabErrors:new Array(t.tabErrors.length).fill(null),sortConfig:[],selectedRows:new Array(t.selectedRows.length).fill([]),globalSelectedRowData:null,filters:void 0};default:return t}}const Ua=I.forwardRef(function(e,n){const{dataConfig:r={},tabPanels:a,selectedIndex:i,onTabChange:s,onGlobalRowSelectionChange:l,ariaLabel:u,ariaDescription:c,className:d="",disabled:m=!1,orientation:p="horizontal",id:b,isLoading:_=!1,loadingComponent:f,error:h=null,errorComponent:$,"data-testid":C,actions:S,actionsMinGap:y=16,forceActionsAbove:w=!1}=e,M=I.useRef(b||`aria-tabs-datagrid-${Math.random().toString(36).slice(2,9)}`).current,T=typeof c=="string"&&c.trim()!==""&&!/\s/.test(c),k=`${M}-description`,D=`${M}-navigation-help`,{dataComparator:v=(A,G)=>JSON.stringify(A)===JSON.stringify(G),filterFunction:N=A=>A,booleanRenderer:z=A=>A?"âœ“":"âœ—"}=r||{},R=i!==void 0,P=i??0,[F,j]=I.useState({focusArea:"tabs",focusedTabIndex:P,focusedHeaderIndex:0,focusedRowIndex:0,focusedColumnIndex:0,focusedActionIndex:0,isGridActive:!1}),H=I.useMemo(()=>({selectedIndex:P,tabLoadingStates:new Array(a.length).fill(!1),tabErrors:new Array(a.length).fill(null),sortConfig:[],selectedRows:new Array(a.length).fill([]),globalSelectedRowData:null,filters:void 0}),[P]),[B,E]=I.useReducer(h_,H);I.useEffect(()=>{const A=B.tabLoadingStates.length,G=a.length;A!==G&&E({type:"ADJUST_ARRAYS",payload:{newLength:G}})},[a.length]),I.useEffect(()=>{R&&E({type:"SET_SELECTED_INDEX",payload:P})},[P,R]),I.useEffect(()=>{j(A=>({...A,focusArea:"tabs",focusedTabIndex:B.selectedIndex,focusedHeaderIndex:0,focusedRowIndex:0,focusedColumnIndex:0,focusedActionIndex:0,isGridActive:!1}))},[B.selectedIndex]),I.useEffect(()=>{l&&l(B.globalSelectedRowData)},[B.globalSelectedRowData,l]);const W=I.useCallback((A,G)=>v(A,G),[v]),L=I.useCallback(A=>{A>=0&&A<a.length&&!a[A].disabled&&(E({type:"SET_SELECTED_INDEX",payload:A}),j(G=>({...G,focusedTabIndex:A,focusArea:"tabs"})),s?.(A))},[a,s]),U=I.useRef(!1),O=I.useCallback((A,G)=>{if(!G?.force&&!U.current&&A===0){U.current=!0;return}U.current=!0,setTimeout(()=>{const re=Q.current[A],ie=re?.parentElement;if(re&&ie){const q=re.offsetLeft,ae=re.offsetWidth,we=ie.clientWidth,xe=q-we/2+ae/2;try{ie.scrollTo({left:Math.max(0,xe),behavior:"smooth"})}catch{re.scrollIntoView({behavior:"smooth",block:"nearest",inline:"center"})}}else process.env.SILENCE_SCROLL_DEBUG||console.debug("[AriaTabsDataGrid] Missing elements for scroll",{tabElementExists:!!re,tabListElementExists:!!ie})},50)},[]),Q=I.useRef([]),he=I.useRef([]),le=I.useCallback((A,G)=>{const re=B.sortConfig||[],ie=re.find(we=>we.key===G);let q;ie?ie.direction==="asc"?q=re.map(we=>we.key===G?{...we,direction:"desc"}:we):q=re.filter(we=>we.key!==G):q=[...re,{key:G,direction:"asc"}],E({type:"SET_SORT",payload:q}),a[A].onSort?.(G)},[B.sortConfig,a]),J=I.useCallback(A=>{setTimeout(()=>{const G=document.querySelector(`[data-tab-panel="${B.selectedIndex}"] th:nth-child(${A+1})`);G&&G.focus()},0)},[B.selectedIndex]),X=I.useCallback(A=>z(A),[z]),te=I.useCallback((A,G)=>{setTimeout(()=>{const re=document.querySelector(`[data-tab-panel="${B.selectedIndex}"] tbody tr:nth-child(${A+1}) td:nth-child(${G+1})`);re&&re.focus()},0)},[B.selectedIndex]);I.useEffect(()=>{F.isGridActive&&(F.focusArea==="headers"?setTimeout(()=>{J(F.focusedHeaderIndex)},0):F.focusArea==="cells"&&setTimeout(()=>{te(F.focusedRowIndex,F.focusedColumnIndex)},0))},[F.focusArea,F.isGridActive,F.focusedHeaderIndex,F.focusedRowIndex,F.focusedColumnIndex,J,te]),I.useEffect(()=>{O(B.selectedIndex)},[B.selectedIndex,O]);const se=I.useCallback((A,G)=>{const{key:re}=A,ie=a[B.selectedIndex],q=ie?.columns.length||0;switch(re){case"ArrowLeft":A.preventDefault();const ae=Math.max(0,G-1);j(je=>({...je,focusedHeaderIndex:ae})),J(ae);break;case"ArrowRight":A.preventDefault();const we=Math.min(q-1,G+1);j(je=>({...je,focusedHeaderIndex:we})),J(we);break;case"ArrowUp":A.preventDefault(),j(je=>({...je,focusArea:"tabs",focusedTabIndex:B.selectedIndex})),O(B.selectedIndex),Q.current[B.selectedIndex]?.focus();break;case"ArrowDown":A.preventDefault(),j(je=>({...je,focusArea:"cells",focusedRowIndex:0,focusedColumnIndex:G,isGridActive:!0}));break;case"Home":A.preventDefault(),j(je=>({...je,focusedHeaderIndex:0})),J(0);break;case"End":A.preventDefault();const xe=q-1;j(je=>({...je,focusedHeaderIndex:xe})),J(xe);break;case"Enter":case" ":A.preventDefault();const Ce=ie?.columns[G]?.key;Ce&&le(B.selectedIndex,Ce);break}},[a,B.selectedIndex,le,j,J,te,Q]),V=I.useCallback((A,G,re)=>{const{key:ie}=A,q=a[B.selectedIndex],ae=q?.data.length||0,we=q?.columns.length||0;switch(ie){case"ArrowUp":if(A.preventDefault(),G===0)j(ue=>({...ue,focusArea:"headers",focusedHeaderIndex:re,isGridActive:!1})),J(re);else{const ue=G-1;j(Te=>({...Te,focusedRowIndex:ue})),te(ue,re)}break;case"ArrowDown":A.preventDefault();const xe=Math.min(ae-1,G+1);j(ue=>({...ue,focusedRowIndex:xe})),te(xe,re);break;case"ArrowLeft":A.preventDefault();const Ce=Math.max(0,re-1);j(ue=>({...ue,focusedColumnIndex:Ce})),te(G,Ce);break;case"ArrowRight":A.preventDefault();const je=Math.min(we-1,re+1);j(ue=>({...ue,focusedColumnIndex:je})),te(G,je);break;case"Home":A.preventDefault(),A.ctrlKey?(j(ue=>({...ue,focusedRowIndex:0,focusedColumnIndex:0})),te(0,0)):(j(ue=>({...ue,focusedColumnIndex:0})),te(G,0));break;case"End":if(A.preventDefault(),A.ctrlKey){const ue=ae-1,Te=we-1;j(Pe=>({...Pe,focusedRowIndex:ue,focusedColumnIndex:Te})),te(ue,Te)}else{const ue=we-1;j(Te=>({...Te,focusedColumnIndex:ue})),te(G,ue)}break;case"Enter":case" ":if(A.preventDefault(),q&&q.data[G]){const ue=q.data.some(Ke=>"ews_data"in Ke)?N(q.data,B.filters):q.data,Te=B.sortConfig;let Pe=ue;if(Te&&Te.length>0&&(Pe=[...ue].sort((Ke,Le)=>{for(const{key:mt,direction:wn}of Te){let cn=Ke[mt],Zt=Le[mt];const Qe=q.columns.find(xa=>xa.key===mt);if(Qe?.tableRenderer?(cn=Qe.tableRenderer(Ke),Zt=Qe.tableRenderer(Le)):Qe?.render&&(cn=Qe.render(Ke),Zt=Qe.render(Le)),cn==null&&Zt==null)continue;if(cn==null)return wn==="asc"?-1:1;if(Zt==null)return wn==="asc"?1:-1;let it=0;if(typeof cn=="number"&&typeof Zt=="number"?it=cn-Zt:it=String(cn).localeCompare(String(Zt),void 0,{numeric:!0,sensitivity:"base"}),it!==0)return wn==="asc"?it:-it}return 0})),Pe[G]){const Ke=Pe[G],mt=B.globalSelectedRowData&&W(B.globalSelectedRowData,Ke)?null:Ke;E({type:"SET_GLOBAL_SELECTED_ROW_DATA",payload:mt})}}break}},[a,B.selectedIndex,B.filters,B.sortConfig,N,W,E,j,J,te]),ge=I.useCallback((A,G)=>N(A,G),[N]);if(I.useImperativeHandle(n,()=>({selectTab:A=>{A>=0&&A<a.length&&(E({type:"SET_SELECTED_INDEX",payload:A}),s?.(A))},refreshData:A=>{console.log("Refreshing data for tab:",A??"all")},exportData:A=>{const G=A??B.selectedIndex,re=a[G];return re?re.data:[]},getSelectedRows:A=>B.globalSelectedRowData?[]:[],clearSelection:A=>{E({type:"SET_GLOBAL_SELECTED_ROW_DATA",payload:null})},applyFilters:A=>{E({type:"SET_FILTERS",payload:A})}}),[B.selectedIndex,B.selectedRows,a,s]),_)return o.jsx("div",{className:`aria-tabs-datagrid aria-tabs-datagrid--loading ${d}`,"data-testid":C,children:f||o.jsx("div",{className:"aria-tabs-datagrid__loading",children:o.jsx("div",{className:"nhsuk-spinner",role:"status","aria-label":"Loading data",children:o.jsx("span",{className:"nhsuk-u-visually-hidden",children:"Loading..."})})})});if(h)return o.jsx("div",{className:`aria-tabs-datagrid aria-tabs-datagrid--error ${d}`,"data-testid":C,children:$||o.jsxs("div",{className:"aria-tabs-datagrid__error",role:"alert",children:[o.jsx("h3",{className:"nhsuk-error-summary__title",children:"Error loading data"}),o.jsx("p",{children:h})]})});const me=I.useRef(null),_e=I.useRef(null),pe=I.useRef(null),[ye,Xe]=I.useState(!0);I.useEffect(()=>{if(!S){Xe(!1);return}if(w){Xe(!1);return}function A(){if(!me.current||!_e.current||!pe.current)return;const ie=me.current.clientWidth,q=Array.from(_e.current.querySelectorAll(":scope > .aria-tabs-datagrid__tab")),ae=q.reduce((je,ue)=>je+ue.offsetWidth,0),we=pe.current.offsetWidth,xe=Math.max(8*(q.length-1),0),Ce=ae+xe+we+y<=ie;Xe(Ce)}const G=requestAnimationFrame(()=>A()),re=new ResizeObserver(()=>A());return me.current&&re.observe(me.current),_e.current&&re.observe(_e.current),()=>{cancelAnimationFrame(G),re.disconnect()}},[S,y,w,a.length]);const Fe=pe,$e=I.useCallback(()=>Fe.current?Array.from(Fe.current.querySelectorAll('button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])')).filter(A=>!A.hasAttribute("disabled")):[],[]),K=I.useCallback(A=>{const G=$e();if(!G.length)return;const re=Math.max(0,Math.min(A,G.length-1));G[re].focus(),j(ie=>({...ie,focusArea:"actions",focusedActionIndex:re}))},[$e]),Y=I.useCallback(()=>K(0),[K]),ne=I.useCallback((A,G)=>{const{key:re}=A,ie=a.length-1;switch(re){case"ArrowUp":{S&&!ye&&(A.preventDefault(),Y());break}case"ArrowLeft":{A.preventDefault();const q=G>0?G-1:ie;L(q),O(q),Q.current[q]?.focus();break}case"ArrowRight":{if(A.preventDefault(),G===ie&&S&&ye){Y();return}const q=G<ie?G+1:0;L(q),O(q),Q.current[q]?.focus();break}case"ArrowDown":{A.preventDefault(),j(q=>({...q,focusArea:"headers",focusedHeaderIndex:0,isGridActive:!0}));break}case"Home":{A.preventDefault(),L(0),O(0),Q.current[0]?.focus();break}case"End":{A.preventDefault(),L(ie),O(ie),Q.current[ie]?.focus();break}case"Enter":case" ":{A.preventDefault(),L(G);break}case"Tab":{!A.shiftKey&&G===ie&&S&&ye&&Y();break}}},[a.length,L,O,S,ye,Y]),ee=I.useCallback(A=>{const{key:G}=A,re=$e();if(!re.length)return;const ie=re.findIndex(q=>q===document.activeElement);switch(G){case"ArrowLeft":{if(ye)if(ie>0)A.preventDefault(),K(ie-1);else{A.preventDefault();const q=a.length-1;L(q),O(q),Q.current[q]?.focus(),j(ae=>({...ae,focusArea:"tabs",focusedTabIndex:q}))}break}case"ArrowRight":{ye&&(ie<re.length-1?(A.preventDefault(),K(ie+1)):(A.preventDefault(),L(0),O(0),Q.current[0]?.focus(),j(q=>({...q,focusArea:"tabs",focusedTabIndex:0}))));break}case"ArrowDown":{if(ye)A.preventDefault(),j(q=>({...q,focusArea:"headers",focusedHeaderIndex:0,isGridActive:!0}));else{A.preventDefault();const q=B.selectedIndex;Q.current[q]?.focus(),j(ae=>({...ae,focusArea:"tabs",focusedTabIndex:q}))}break}}},[$e,ye,K,a.length,L,O,B.selectedIndex]);return o.jsxs("div",{className:`aria-tabs-datagrid aria-tabs-datagrid--${p} ${d}`,id:b,"data-testid":C,ref:me,children:[c&&!T&&o.jsx("div",{id:k,className:"nhsuk-u-visually-hidden",children:c}),o.jsx("div",{className:"aria-tabs-datagrid__navigation-help sr-only",id:D,children:"Keyboard navigation: Use Tab to move between tabs and grid. Arrow keys navigate within tabs and grid cells. Enter activates tabs and sorts columns. Arrow Down from tabs moves to table headers. Arrow Down from headers moves to table cells. Use Arrow keys to navigate between cells."}),o.jsx(Wc,{sortConfig:B.sortConfig||[],columns:a.flatMap(A=>A.columns.map(G=>({key:G.key,label:G.label}))).filter((A,G,re)=>re.findIndex(ie=>ie.key===A.key)===G),onSortChange:A=>{E({type:"SET_SORT",payload:A})},ariaLabel:"Data grid sort configuration"}),S&&!ye&&o.jsx("div",{className:"aria-tabs-datagrid__actions aria-tabs-datagrid__actions--above",ref:pe,role:"toolbar","aria-label":"Additional actions",onKeyDown:ee,children:S}),o.jsxs("div",{className:`aria-tabs-datagrid__tabs-wrapper ${ye?"aria-tabs-datagrid__tabs-wrapper--inline-actions":""}`,children:[o.jsx("div",{role:"tablist","aria-label":u,"aria-describedby":c?T?c:k:D,"aria-orientation":p,className:"aria-tabs-datagrid__tabs",ref:_e,children:a.map((A,G)=>{const re=G===B.selectedIndex,ie=A.disabled||m;return o.jsxs("button",{role:"tab",id:`tab-${A.id}`,"aria-controls":`panel-${A.id}`,"aria-selected":re,"aria-disabled":ie,tabIndex:re?0:-1,ref:q=>{Q.current[G]=q},onClick:()=>L(G),onKeyDown:q=>ne(q,G),disabled:ie,className:["aria-tabs-datagrid__tab",re?"aria-tabs-datagrid__tab--selected":"",ie?"aria-tabs-datagrid__tab--disabled":""].filter(Boolean).join(" "),children:[o.jsx("span",{className:"aria-tabs-datagrid__tab-label",children:A.label}),B.tabLoadingStates[G]&&o.jsx("span",{className:"aria-tabs-datagrid__tab-loading","aria-hidden":"true",children:"â³"}),B.tabErrors[G]&&o.jsx("span",{className:"aria-tabs-datagrid__tab-error","aria-hidden":"true",children:"âš ï¸"})]},A.id)})}),S&&ye&&o.jsx("div",{className:"aria-tabs-datagrid__actions aria-tabs-datagrid__actions--inline",ref:pe,role:"toolbar","aria-label":"Additional actions",onKeyDown:ee,children:S})]}),a.map((A,G)=>{const re=G===B.selectedIndex;return o.jsx("div",{role:"tabpanel",id:`panel-${A.id}`,"aria-labelledby":`tab-${A.id}`,tabIndex:0,hidden:!re,ref:ie=>{he.current[G]=ie},className:`aria-tabs-datagrid__panel ${A.className||""}`,"data-tab-panel":G,children:re&&(()=>{const ie=A.data.some(ae=>"ews_data"in ae)?ge(A.data,B.filters):A.data,q=I.useMemo(()=>{const ae=B.sortConfig;return!ae||ae.length===0?ie:[...ie].sort((we,xe)=>{for(const{key:Ce,direction:je}of ae){let ue=we[Ce],Te=xe[Ce];const Pe=A.columns.find(Le=>Le.key===Ce);if(Pe?.tableRenderer?(ue=Pe.tableRenderer(we),Te=Pe.tableRenderer(xe)):Pe?.render&&(ue=Pe.render(we),Te=Pe.render(xe)),ue==null&&Te==null)continue;if(ue==null)return 1;if(Te==null)return-1;let Ke=0;if(typeof ue=="number"&&typeof Te=="number"?Ke=ue-Te:typeof ue=="boolean"&&typeof Te=="boolean"?Ke=ue===Te?0:ue?1:-1:Ke=String(ue).localeCompare(String(Te),void 0,{numeric:!0,sensitivity:"base"}),Ke!==0)return je==="asc"?Ke:-Ke}return 0})},[ie,B.sortConfig,A.columns]);return o.jsxs("table",{className:"nhsuk-table aria-tabs-datagrid__grid",role:"grid","aria-label":A.ariaLabel,"aria-describedby":A.ariaDescription?`panel-${A.id}-description`:void 0,children:[A.ariaDescription&&o.jsx("caption",{className:"nhsuk-u-visually-hidden",id:`panel-${A.id}-description`,children:A.ariaDescription}),o.jsx("thead",{className:"nhsuk-table__head",role:"rowgroup",children:o.jsx("tr",{role:"row",children:A.columns.map((ae,we)=>{const xe=B.sortConfig?.find(ue=>ue.key===ae.key),Ce=!!xe,je=F.focusArea==="headers"&&F.focusedHeaderIndex===we;return o.jsx("th",{className:`sortable-header ${je?"sortable-header--focused":""} ${Ce?"sortable-header--sorted":""}`,role:"columnheader",tabIndex:je?0:-1,onClick:()=>le(G,ae.key),onKeyDown:ue=>se(ue,we),"aria-sort":Ce?xe?.direction==="asc"?"ascending":"descending":"none",children:o.jsxs("div",{className:"header-content",children:[o.jsx("span",{className:"header-label",children:ae.label}),o.jsxs("div",{className:`sort-indicator-container ${Ce?`sort-indicator--${xe?.direction}`:""}`,children:[B.sortConfig&&B.sortConfig.length>0&&B.sortConfig.findIndex(ue=>ue.key===ae.key)!==-1&&o.jsx("span",{className:`sort-priority sort-priority--priority-${B.sortConfig.findIndex(ue=>ue.key===ae.key)+1}`,"data-priority":B.sortConfig.findIndex(ue=>ue.key===ae.key)+1,title:`Sort priority: ${B.sortConfig.findIndex(ue=>ue.key===ae.key)+1}`,children:B.sortConfig.findIndex(ue=>ue.key===ae.key)+1}),Ce&&o.jsx("svg",{className:`nhsuk-icon sort-arrow sort-arrow--${xe?.direction}`,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24","aria-hidden":"true",focusable:"false",children:o.jsx("path",{d:"M15.5 12a1 1 0 0 1-.29.71l-5 5a1 1 0 0 1-1.42-1.42l4.3-4.29-4.3-4.29a1 1 0 0 1 1.42-1.42l5 5a1 1 0 0 1 .29.71z"})})]})]})},ae.key)})})}),o.jsx("tbody",{className:"nhsuk-table__body",role:"rowgroup",children:q.map((ae,we)=>{const xe=B.globalSelectedRowData&&W(B.globalSelectedRowData,ae),Ce=F.focusArea==="cells"&&F.focusedRowIndex===we;return o.jsx("tr",{role:"row",className:`data-row ${xe?"data-row--selected":""} ${Ce?"data-row--focused":""}`,"aria-selected":xe,children:A.columns.map((je,ue)=>{const Te=ae[je.key];let Pe;je.tableRenderer?Pe=je.tableRenderer(ae):je.render?Pe=je.render(ae):Pe=Te;const Ke=F.focusArea==="cells"&&F.focusedRowIndex===we&&F.focusedColumnIndex===ue,Le=()=>{if(je.customRenderer){const mt=je.customRenderer(Te,ae);return o.jsx("span",{className:"data-cell__custom","data-custom-rendered":"true",children:mt})}return typeof Te=="boolean"&&Pe===Te?o.jsxs(o.Fragment,{children:[X(Te),o.jsx("span",{className:"nhsuk-u-visually-hidden",children:Te?"Yes":"No"})]}):I.isValidElement(Pe)||typeof Pe!="object"?Pe??"":Pe};return o.jsx("td",{role:"gridcell",className:`data-cell ${Ke?"data-cell--focused":""}`,tabIndex:Ke?0:-1,onClick:()=>{const wn=B.globalSelectedRowData&&W(B.globalSelectedRowData,ae)?null:ae;E({type:"SET_GLOBAL_SELECTED_ROW_DATA",payload:wn})},onKeyDown:mt=>V(mt,we,ue),children:Le()},je.key)})},we)})})]})})()},A.id)})]})}),Ga={asc:"â†‘",desc:"â†“"},m_=t=>[...t].sort((e,n)=>e.priority-n.priority);function us(t){return t.map((e,n)=>({...e,priority:n}))}function p_(t){return t.length>0?Math.max(...t.map(e=>e.priority)):-1}function g_(t,e){const n=e.find(r=>r.id===t);return n?n.priority>0:!1}function b_(t,e){const n=e.find(a=>a.id===t),r=p_(e);return n?n.priority<r:!1}const __=({sortConfig:t,onSortChange:e,className:n="",emptyDescription:r="No sorting applied",activeDescription:a,showReset:i=!0,showHelp:s=!0,disabled:l=!1,ariaLabel:u="Sort configuration",ariaDescribedBy:c})=>{const d=I.useMemo(()=>m_(t),[t]),m=I.useCallback(C=>{if(l)return;const S=t.map(y=>y.id===C?{...y,direction:y.direction==="asc"?"desc":"asc"}:y);e(S)},[t,e,l]),p=I.useCallback(C=>{if(l)return;const S=t.findIndex(w=>w.id===C);if(S<=0)return;const y=[...t];[y[S],y[S-1]]=[y[S-1],y[S]],e(us(y))},[t,e,l]),b=I.useCallback(C=>{if(l)return;const S=t.findIndex(w=>w.id===C);if(S>=t.length-1||S===-1)return;const y=[...t];[y[S],y[S+1]]=[y[S+1],y[S]],e(us(y))},[t,e,l]),_=I.useCallback(C=>{if(l)return;const S=t.filter(y=>y.id!==C);e(us(S))},[t,e,l]),f=I.useCallback(()=>{l||e([])},[e,l]),h=()=>{if(t.length===0)return r;if(a)return a;const C=d.map((S,y)=>{const w=S.direction==="asc"?"ascending":"descending";return`${y+1}. ${S.label} (${w})`});if(C.length===1)return`Sorted by: ${C[0]}`;if(C.length===2)return`Sorted by: ${C.join(" and ")}`;{const S=C.pop();return`Sorted by: ${C.join(", ")}, and ${S}`}},$=I.useMemo(()=>{const C=["sort-description"];return s&&C.push("sort-help"),c&&C.push(c),C.join(" ")},[s,c]);return t.length===0?o.jsx("div",{className:`sort-status-control sort-status-control--empty ${n}`,children:o.jsx("div",{className:"sort-status-control__description",id:"sort-description","aria-live":"polite",children:h()})}):o.jsxs("div",{className:`sort-status-control ${n}`,children:[o.jsx("div",{className:"sort-status-control__description sort-status-control__description--active",id:"sort-description","aria-live":"polite",children:h()}),o.jsxs("div",{className:"sort-status-control__tags",role:"list","aria-label":u,"aria-describedby":$,children:[o.jsx("div",{className:"sort-status-control__tags-label",children:"Current sorting:"}),d.map(C=>o.jsx("div",{className:"sort-status-control__tag-container",role:"listitem",children:o.jsx(st,{text:"",color:"blue",className:"sort-status-control__tag",closable:!0,onClose:()=>_(C.id),disabled:l,children:o.jsxs("div",{className:"sort-status-control__tag-content",children:[o.jsx("span",{className:"sort-status-control__tag-priority",children:C.priority+1}),o.jsx("span",{className:"sort-status-control__tag-label",children:C.label}),o.jsx("button",{type:"button",className:"sort-status-control__tag-direction",onClick:()=>m(C.id),disabled:l,"aria-label":`Toggle sort direction for ${C.label}. Currently ${C.direction==="asc"?"ascending":"descending"}`,title:"Click to toggle between ascending and descending",children:C.direction==="asc"?Ga.asc:Ga.desc}),o.jsxs("div",{className:"sort-status-control__tag-actions",children:[o.jsx("button",{type:"button",className:"sort-status-control__move-button",onClick:()=>p(C.id),disabled:l||!g_(C.id,t),"aria-label":`Move ${C.label} sort up in priority`,title:"Move up in priority",children:"â–²"}),o.jsx("button",{type:"button",className:"sort-status-control__move-button",onClick:()=>b(C.id),disabled:l||!b_(C.id,t),"aria-label":`Move ${C.label} sort down in priority`,title:"Move down in priority",children:"â–¼"})]})]})})},C.id))]}),i&&o.jsx("div",{className:"sort-status-control__actions",children:o.jsx(et,{variant:"secondary",onClick:f,disabled:l,"aria-label":"Reset all sorting",className:"sort-status-control__reset-button",children:"Clear All Sorts"})}),s&&o.jsx("div",{className:"sort-status-control__help",id:"sort-help",children:o.jsxs("small",{children:["Click ",Ga.asc,"/",Ga.desc," to toggle ascending/descending. Use â–²/â–¼ to change sort priority. Click Ã— to remove a sort."]})})]})},Ya=(t,e)=>e.map(n=>({id:n.id,label:n.label,data:n.filter?n.filter(t):t,columns:n.columns.map(r=>({key:r.key,label:r.label,render:r.render,customRenderer:r.customRenderer})),sortConfig:n.sortConfig,ariaLabel:n.ariaLabel||`${n.label} Data Grid`,ariaDescription:n.ariaDescription||`Data grid showing ${n.label.toLowerCase()}`,className:n.className,disabled:n.disabled})),ds=[{value:!0,icon:o.jsx("svg",{className:"nhsuk-icon nhsuk-icon__tick",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none","aria-hidden":"true",width:"100%",height:"34",children:o.jsx("path",{strokeWidth:"4",strokeLinecap:"round",d:"M18.4 7.8l-8.5 8.4L5.6 12",stroke:"#007f3b"})})},{value:!1,icon:o.jsxs("svg",{className:"nhsuk-icon nhsuk-icon__cross",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24","aria-hidden":"true",width:"100%",height:"34",children:[o.jsx("path",{d:"M17 18.5c-.4 0-.8-.1-1.1-.4l-10-10c-.6-.6-.6-1.6 0-2.1.6-.6 1.5-.6 2.1 0l10 10c.6.6.6 1.5 0 2.1-.3.3-.6.4-1 .4z",fill:"#d5281b"}),o.jsx("path",{d:"M7 18.5c-.4 0-.8-.1-1.1-.4-.6-.6-.6-1.5 0-2.1l10-10c.6-.6 1.5-.6 2.1 0 .6.6.6 1.5 0 2.1l-10 10c-.3.3-.6.4-1 .4z",fill:"#d5281b"})]})}],y_=(t,e)=>!t||!e?t===e:t.name&&t.bed_name&&e.name&&e.bed_name?t.name===e.name&&t.bed_name===e.bed_name:JSON.stringify(t)===JSON.stringify(e),x_=(t,e)=>e?t.filter(n=>{if(e.ewsScoreRange){const[r,a]=e.ewsScoreRange;if(n.ews_score<r||n.ews_score>a)return!1}return!(e.wards&&e.wards.length>0&&!e.wards.includes(n.ward_name)||e.specialties&&e.specialties.length>0&&!e.specialties.includes(n.speciality)||e.dischargeStatuses&&e.dischargeStatuses.length>0&&!e.dischargeStatuses.includes(n.early_discharge_notification)||e.avpuLevels&&e.avpuLevels.length>0&&!e.avpuLevels.includes(n.ews_data.avpu)||e.medicallyOptimised!==null&&e.medicallyOptimised!==void 0&&n.medically_optimised!==e.medicallyOptimised||e.fastTrack!==null&&e.fastTrack!==void 0&&n.fast_track!==e.fastTrack)}):t,v_=t=>{if(typeof t=="boolean"){const n=ds.find(r=>r.value===t);return n?n.icon:null}const e=ds.find(n=>n.value===t);return e?e.icon:String(t)},S_=t=>`${t.name}-${t.bed_name}`,w_=()=>({overview:[{key:"name",label:"Patient Name"},{key:"age",label:"Age"},{key:"ward_name",label:"Ward"},{key:"bed_name",label:"Bed"},{key:"ews_score",label:"EWS Score"},{key:"speciality",label:"Specialty"},{key:"consultant",label:"Consultant"}],vitals:[{key:"name",label:"Patient Name"},{key:"ews_score",label:"EWS Score"},{key:"respiratory_rate_bpm",label:"Respiratory Rate",render:t=>t.ews_data.respiratory_rate_bpm},{key:"sp02",label:"SpO2 %",render:t=>t.ews_data.sp02},{key:"temperature",label:"Temperature Â°C",render:t=>t.ews_data.temperature},{key:"systolic_bp",label:"Systolic BP",render:t=>t.ews_data.systolic_bp},{key:"heart_rate",label:"Heart Rate",render:t=>t.ews_data.heart_rate},{key:"avpu",label:"AVPU",render:t=>t.ews_data.avpu.toUpperCase()}],discharge:[{key:"name",label:"Patient Name"},{key:"anticipated_discharge_date",label:"Anticipated Discharge",render:t=>new Date(t.anticipated_discharge_date).toLocaleDateString()},{key:"early_discharge_notification",label:"Discharge Status"},{key:"medically_optimised",label:"Medically Optimised"},{key:"criteria_to_reside",label:"Criteria to Reside"},{key:"fast_track",label:"Fast Track"},{key:"transport_status",label:"Transport Status"},{key:"pathway",label:"Pathway"}],logistics:[{key:"name",label:"Patient Name"},{key:"ward_name",label:"Ward"},{key:"room_name",label:"Room"},{key:"bed_name",label:"Bed"},{key:"bed_type",label:"Bed Type"},{key:"transport_booking",label:"Transport Booked"},{key:"transport_mobility",label:"Transport Type"},{key:"district_nurse_referral",label:"District Nurse"},{key:"equipment",label:"Equipment"}]}),k_=t=>{const e=w_();return[{id:"overview",label:"Patient Overview",data:t,columns:e.overview,ariaLabel:"Patient Overview Data Grid",ariaDescription:"Overview of all patients with basic information"},{id:"vitals",label:"Vital Signs & EWS",data:t,columns:e.vitals,sortConfig:[{key:"ews_score",direction:"desc"},{key:"name",direction:"asc"},{key:"ward_name",direction:"asc"}],ariaLabel:"Patient Vital Signs Data Grid",ariaDescription:"Patient vital signs and Early Warning Scores"},{id:"discharge",label:"Discharge Planning",data:t.filter(n=>n.anticipated_discharge_date),columns:e.discharge,sortConfig:[{key:"anticipated_discharge_date",direction:"asc"},{key:"discharge_status",direction:"desc"}],ariaLabel:"Discharge Planning Data Grid",ariaDescription:"Patient discharge planning and status information"},{id:"logistics",label:"Bed Management",data:t,columns:e.logistics,sortConfig:[{key:"ward_name",direction:"asc"}],ariaLabel:"Bed Management Data Grid",ariaDescription:"Patient location and logistics information"}]},Uc={dataComparator:y_,filterFunction:x_,booleanRenderer:v_,getDataId:S_};function Gc(t,e,n){const{primaryField:r,secondaryFields:a=[],badges:i=[],hiddenFields:s=[],getPriority:l,getVariant:u,fieldRenderers:c={},classPrefix:d="adaptive-card"}=n,m=e.find(S=>S.key===r),p=m?.cardRenderer?m.cardRenderer(t):m?.render?m.render(t):t[r||"name"]||"Untitled",b=()=>a.filter(y=>!s.includes(y)&&t[y]).slice(0,3).map(y=>{const w=e.find(k=>k.key===y),x=t[y],M=c[y]?c[y](x,t):w?.cardRenderer?w.cardRenderer(t):w?.render?w.render(t):x;return`${w?.label||y}: ${M}`}).join(" â€¢ "),_=()=>i.length===0?null:i.filter(S=>t[S.fieldKey]!==void 0).map(S=>{const y=t[S.fieldKey],w=S.render?S.render(y,t):y;return`<span class="nhsuk-tag ${C_(S,y)}">${w}</span>`}).join(""),f=()=>u?u(t):l?.(t)==="high"?"primary":"default",h=_(),$=b(),C=h?`${$}${h?`<div class="adaptive-card__badges">${h}</div>`:""}`:$;return{variant:f(),heading:String(p),descriptionHtml:C,className:`adaptive-card ${d}`,"aria-label":`Record for ${p}`}}function C_(t,e){const n=t.className||"adaptive-card__badge";if(t.fieldKey==="ews_score"||t.fieldKey.includes("score")){const r=Number(e);return r>=7?`${n} nhsuk-tag--red`:r>=3?`${n} nhsuk-tag--yellow`:`${n} nhsuk-tag--green`}if(t.fieldKey==="priority"){const r=String(e).toLowerCase();if(r==="high")return`${n} nhsuk-tag--red`;if(r==="medium")return`${n} nhsuk-tag--yellow`;if(r==="low")return`${n} nhsuk-tag--green`}if(t.fieldKey==="status"){const r=String(e).toLowerCase();if(r==="urgent"||r==="critical")return`${n} nhsuk-tag--red`;if(r==="pending"||r==="warning")return`${n} nhsuk-tag--yellow`;if(r==="completed"||r==="success")return`${n} nhsuk-tag--green`}switch(t.color){case"primary":return`${n} nhsuk-tag--blue`;case"secondary":return`${n} nhsuk-tag--grey`;case"success":return`${n} nhsuk-tag--green`;case"warning":return`${n} nhsuk-tag--yellow`;case"danger":return`${n} nhsuk-tag--red`;default:return n}}const T_={primaryField:"name",secondaryFields:["id","description","status"],badges:[{fieldKey:"priority",render:t=>t.charAt(0).toUpperCase()+t.slice(1),className:"adaptive-card__priority-badge"},{fieldKey:"status",render:t=>t.charAt(0).toUpperCase()+t.slice(1),className:"adaptive-card__status-badge"}],hiddenFields:[],getPriority:t=>t.priority||"medium",getStatus:t=>t.status||"active",getVariant:t=>t.priority==="high"?"primary":"default",fieldRenderers:{},classPrefix:"adaptive-card--generic"},fs=({data:t,columns:e,onSelect:n,onAction:r,priority:a="medium",status:i="active"})=>{const s=t.name,l=t.age,u=t.ward_name,c=t.bed_name,d=t.ews_score,m=t.speciality,p=t.consultant;return o.jsxs("div",{className:`healthcare-card healthcare-card--patient healthcare-card--${a} healthcare-card--${i}`,onClick:()=>n?.(t),role:"button",tabIndex:0,"aria-label":`Patient record for ${s}, Age ${l}, Ward ${u}, Bed ${c}`,children:[o.jsxs("div",{className:"healthcare-card__header",children:[o.jsxs("div",{className:"healthcare-card__identity",children:[o.jsx("h3",{className:"healthcare-card__patient-name",children:s}),o.jsxs("p",{className:"healthcare-card__age-info",children:[o.jsx("span",{className:"healthcare-card__label",children:"Age: "}),o.jsx("span",{className:"healthcare-card__value",children:l})]})]}),o.jsx("div",{className:"healthcare-card__badges",children:d!==void 0&&o.jsxs(st,{color:j_(Yc(d)),className:"healthcare-card__alert",children:["EWS: ",d]})})]}),o.jsx("div",{className:"healthcare-card__body",children:o.jsxs("dl",{className:"healthcare-card__details",children:[o.jsxs("div",{className:"healthcare-card__detail",children:[o.jsx("dt",{children:"Ward"}),o.jsx("dd",{children:u})]}),o.jsxs("div",{className:"healthcare-card__detail",children:[o.jsx("dt",{children:"Bed"}),o.jsx("dd",{children:c})]}),o.jsxs("div",{className:"healthcare-card__detail",children:[o.jsx("dt",{children:"Specialty"}),o.jsx("dd",{children:m})]}),o.jsxs("div",{className:"healthcare-card__detail healthcare-card__detail--prominent",children:[o.jsx("dt",{children:"Consultant"}),o.jsx("dd",{children:p})]})]})}),o.jsxs("div",{className:"healthcare-card__actions",children:[o.jsx(et,{variant:"secondary",className:"healthcare-card__action",onClick:b=>{b.stopPropagation(),r?.("view-notes",t)},children:"Notes"}),o.jsx(et,{variant:"secondary",className:"healthcare-card__action",onClick:b=>{b.stopPropagation(),r?.("view-vitals",t)},children:"Vitals"}),o.jsx(et,{variant:"primary",className:"healthcare-card__action healthcare-card__action--primary",onClick:b=>{b.stopPropagation(),r?.("view-full",t)},children:"View Full Record"})]})]})},hs=({data:t,onAction:e})=>o.jsxs("div",{className:"healthcare-card healthcare-card--appointment healthcare-card--medium healthcare-card--active",role:"article",tabIndex:0,children:[o.jsxs("div",{className:"healthcare-card__header",children:[o.jsxs("div",{className:"healthcare-card__time-info",children:[o.jsx("h3",{className:"healthcare-card__time",children:new Date(t.appointment_time).toLocaleTimeString("en-GB",{hour:"2-digit",minute:"2-digit"})}),o.jsx("p",{className:"healthcare-card__type",children:t.appointment_type})]}),o.jsxs("div",{className:"healthcare-card__badges",children:[o.jsx(st,{color:D_(t.status||"active"),className:"healthcare-card__status",children:(t.status||"active").charAt(0).toUpperCase()+(t.status||"active").slice(1)}),o.jsxs(st,{color:"grey",className:"healthcare-card__duration",children:[t.duration||"30"," min"]})]})]}),o.jsx("div",{className:"healthcare-card__body",children:o.jsxs("dl",{className:"healthcare-card__details",children:[o.jsxs("div",{className:"healthcare-card__detail",children:[o.jsx("dt",{children:"Patient"}),o.jsx("dd",{children:t.patient_name})]}),o.jsxs("div",{className:"healthcare-card__detail",children:[o.jsx("dt",{children:"Consultant"}),o.jsx("dd",{children:t.consultant})]}),o.jsxs("div",{className:"healthcare-card__detail",children:[o.jsx("dt",{children:"Location"}),o.jsx("dd",{children:t.location})]})]})}),o.jsxs("div",{className:"healthcare-card__actions",children:[o.jsx(et,{variant:"secondary",size:"small",onClick:()=>e?.("view",t),children:"View Details"}),o.jsx(et,{variant:"primary",size:"small",onClick:()=>e?.("edit",t),children:"Reschedule"})]})]}),ms=({data:t,onAction:e})=>o.jsxs("div",{className:"healthcare-card healthcare-card--medication healthcare-card--medium healthcare-card--active",role:"article",tabIndex:0,children:[o.jsxs("div",{className:"healthcare-card__header",children:[o.jsxs("div",{className:"healthcare-card__medication-info",children:[o.jsx("h3",{className:"healthcare-card__medication-name",children:t.medication}),o.jsxs("p",{className:"healthcare-card__dose",children:[t.dose," â€¢ ",t.frequency]})]}),o.jsxs("div",{className:"healthcare-card__badges",children:[o.jsx(st,{color:"blue",className:"healthcare-card__route",children:t.route}),t.next_due&&o.jsxs(st,{color:"red",className:"healthcare-card__warning",children:["Due: ",new Date(t.next_due).toLocaleTimeString("en-GB",{hour:"2-digit",minute:"2-digit"})]})]})]}),o.jsx("div",{className:"healthcare-card__body",children:o.jsxs("dl",{className:"healthcare-card__details",children:[o.jsxs("div",{className:"healthcare-card__detail",children:[o.jsx("dt",{children:"Patient"}),o.jsx("dd",{children:t.patient_name})]}),o.jsxs("div",{className:"healthcare-card__detail",children:[o.jsx("dt",{children:"Prescriber"}),o.jsx("dd",{children:t.prescriber})]}),t.allergies&&o.jsxs("div",{className:"healthcare-card__detail healthcare-card__detail--urgent",children:[o.jsx("dt",{children:"Allergies"}),o.jsx("dd",{children:t.allergies})]})]})}),o.jsxs("div",{className:"healthcare-card__actions",children:[o.jsx(et,{variant:"secondary",size:"small",onClick:()=>e?.("view",t),children:"View Details"}),o.jsx(et,{variant:"primary",size:"small",onClick:()=>e?.("edit",t),children:"Adjust Dose"})]})]}),ps=({data:t,onSelect:e,onAction:n,priority:r="medium"})=>{const a=t.name,i=t.ews_score,s=t.ews_data?.respiratory_rate_bpm,l=t.ews_data?.sp02,u=t.ews_data?.temperature,c=t.ews_data?.systolic_bp,d=t.ews_data?.heart_rate,m=t.ews_data?.avpu;return o.jsxs("div",{className:`healthcare-card healthcare-card--vitals healthcare-card--${r}`,onClick:()=>e?.(t),role:"button",tabIndex:0,"aria-label":`Vital signs for ${a}, EWS Score ${i}`,children:[o.jsxs("div",{className:"healthcare-card__header",children:[o.jsxs("div",{className:"healthcare-card__vitals-summary",children:[o.jsx("h3",{className:"healthcare-card__patient-name",children:a}),i!==void 0&&o.jsxs("p",{className:`healthcare-card__ews-score healthcare-card__ews-score--${N_(i)}`,children:["EWS: ",i]})]}),o.jsx("div",{className:"healthcare-card__badges",children:m&&o.jsxs(st,{color:"blue",className:"healthcare-card__avpu",children:["AVPU: ",m.toUpperCase()]})})]}),o.jsx("div",{className:"healthcare-card__body",children:o.jsxs("div",{className:"healthcare-card__vitals-grid",children:[s!==void 0&&o.jsxs("div",{className:"healthcare-card__vital",children:[o.jsx("span",{className:"healthcare-card__vital-label",children:"Respiratory Rate"}),o.jsxs("span",{className:"healthcare-card__vital-value",children:[s," bpm"]})]}),l!==void 0&&o.jsxs("div",{className:"healthcare-card__vital",children:[o.jsx("span",{className:"healthcare-card__vital-label",children:"SpO2"}),o.jsxs("span",{className:"healthcare-card__vital-value",children:[l,"%"]})]}),u!==void 0&&o.jsxs("div",{className:"healthcare-card__vital",children:[o.jsx("span",{className:"healthcare-card__vital-label",children:"Temperature"}),o.jsxs("span",{className:"healthcare-card__vital-value",children:[u,"Â°C"]})]}),c!==void 0&&o.jsxs("div",{className:"healthcare-card__vital",children:[o.jsx("span",{className:"healthcare-card__vital-label",children:"Systolic BP"}),o.jsx("span",{className:"healthcare-card__vital-value",children:c})]}),d!==void 0&&o.jsxs("div",{className:"healthcare-card__vital",children:[o.jsx("span",{className:"healthcare-card__vital-label",children:"Heart Rate"}),o.jsxs("span",{className:"healthcare-card__vital-value",children:[d," bpm"]})]})]})}),o.jsxs("div",{className:"healthcare-card__actions",children:[o.jsx(et,{variant:"secondary",className:"healthcare-card__action",onClick:p=>{p.stopPropagation(),n?.("view-trend",t)},children:"Trend"}),o.jsx(et,{variant:"primary",className:"healthcare-card__action healthcare-card__action--primary",onClick:p=>{p.stopPropagation(),n?.("record-new",t)},children:"Record New"})]})]})};function Yc(t){const e=typeof t=="string"?parseInt(t,10):t;return e>=7?"critical":e>=5?"high":e>=3?"medium":"low"}function N_(t){return Yc(t)}function j_(t){switch(t){case"critical":return"red";case"high":return"orange";case"medium":return"yellow";case"low":return"grey";default:return"grey"}}function D_(t){switch(t.toLowerCase()){case"active":return"blue";case"pending":return"orange";case"completed":return"green";case"cancelled":return"grey";default:return"blue"}}const M_=[{fieldKey:"ews_score",render:t=>`EWS: ${t}`,className:"adaptive-card__ews-badge",color:"default"},{fieldKey:"priority",render:t=>t.charAt(0).toUpperCase()+t.slice(1),className:"adaptive-card__priority-badge"},{fieldKey:"status",render:t=>t.charAt(0).toUpperCase()+t.slice(1),className:"adaptive-card__status-badge"}],Vc=t=>t.ews_score&&Number(t.ews_score)>=7?"high":t.ews_score&&Number(t.ews_score)>=3?"medium":t.priority==="high"||t.status==="urgent"?"high":t.priority==="low"?"low":"medium",qc={name:"healthcare",defaultCardConfig:{primaryField:"name",secondaryFields:["nhs_number","ward","condition","consultant"],badges:M_,hiddenFields:[],getPriority:Vc,getStatus:t=>{if(t.status){const e=t.status.toLowerCase();if(["active","pending","completed","cancelled","urgent"].includes(e))return e}return"active"},getVariant:t=>Vc(t)==="high"||t.status==="urgent"?"primary":"default",fieldRenderers:{nhs_number:t=>t?`NHS: ${t}`:"",ews_score:t=>{const e=Number(t),n=e>=7?"HIGH":e>=3?"MEDIUM":"LOW";return`EWS: ${t} (${n})`},age:(t,e)=>e.dob?`${new Date().getFullYear()-new Date(e.dob).getFullYear()}y`:t?`${t}y`:""},classPrefix:"adaptive-card--healthcare"},cssImport:"./HealthcareCardTemplates.scss",cardTemplates:{patient:(t,e,n)=>{const r=n.getPriority?.(t)||"medium",a=n.getStatus?.(t)||"active",i=a==="urgent"?"active":a;return o.jsx(fs,{data:t,columns:e,priority:r,status:i,onSelect:s=>console.log("Patient selected:",s),onAction:(s,l)=>console.log("Patient action:",s,l)})},appointment:(t,e,n)=>{const r=n.getStatus?.(t)||"pending",a=r==="urgent"?"pending":r;return o.jsx(hs,{data:t,columns:e,status:a,onSelect:i=>console.log("Appointment selected:",i),onAction:(i,s)=>console.log("Appointment action:",i,s)})},medication:(t,e,n)=>{const r=n.getPriority?.(t)||"medium";return o.jsx(ms,{data:t,columns:e,priority:r,onSelect:a=>console.log("Medication selected:",a),onAction:(a,i)=>console.log("Medication action:",a,i)})},vitals:(t,e,n)=>{const r=n.getPriority?.(t)||"medium";return o.jsx(ps,{data:t,columns:e,priority:r,onSelect:a=>console.log("Vitals selected:",a),onAction:(a,i)=>console.log("Vitals action:",a,i)})}},fieldTypes:{isNHSNumber:t=>typeof t=="string"&&/^\d{3}\s?\d{3}\s?\d{4}$/.test(t.replace(/\s/g,"")),isEWSScore:t=>typeof t=="number"&&t>=0&&t<=20,isMedicalDate:t=>typeof t=="string"&&!isNaN(Date.parse(t))}};function Xc(t){return{primaryField:t?.primaryField||"name",secondaryFields:t?.secondaryFields||[],badges:t?.badgeFields?.map(e=>({fieldKey:e,className:"adaptive-card__badge"}))||[],hiddenFields:t?.hiddenFields||[],cardTemplate:t?.cardTemplate?(e,n,r)=>t.cardTemplate(e,n):void 0,classPrefix:"adaptive-card--generic"}}function Kc(t){if(!t||t.length===0)return!1;const e=t[0];return e.ews_score!==void 0||e.nhs_number!==void 0||e.patient_name!==void 0||e.ward!==void 0||e.consultant!==void 0}function $_(t,e){switch(e.type){case"SET_SELECTED_INDEX":return{...t,selectedIndex:e.payload};case"SET_TAB_LOADING":const n=[...t.tabLoadingStates];return n[e.payload.tabIndex]=e.payload.isLoading,{...t,tabLoadingStates:n};case"SET_TAB_ERROR":const r=[...t.tabErrors];return r[e.payload.tabIndex]=e.payload.error,{...t,tabErrors:r};case"SET_SORT":return{...t,sortConfig:e.payload};case"SET_SELECTED_ROWS":const a=[...t.selectedRows];return a[e.payload.tabIndex]=e.payload.rowIndices,{...t,selectedRows:a};case"SET_GLOBAL_SELECTED_ROW_DATA":return{...t,globalSelectedRowData:e.payload};case"SET_FILTERS":return{...t,filters:e.payload};case"ADJUST_ARRAYS":const{newLength:i}=e.payload,s=new Array(i).fill(!1),l=new Array(i).fill(null),u=new Array(i).fill([]);for(let c=0;c<Math.min(t.tabLoadingStates.length,i);c++)s[c]=t.tabLoadingStates[c],l[c]=t.tabErrors[c],u[c]=t.selectedRows[c];return{...t,tabLoadingStates:s,tabErrors:l,selectedRows:u};case"RESET_STATE":return{selectedIndex:0,tabLoadingStates:new Array(t.tabLoadingStates.length).fill(!1),tabErrors:new Array(t.tabErrors.length).fill(null),sortConfig:[],selectedRows:new Array(t.selectedRows.length).fill([]),globalSelectedRowData:null,filters:void 0};default:return t}}function F_(t,e){const[n,r]=I.useState("cards");return I.useEffect(()=>{if(e){r(e);return}const a=()=>{const i=window.innerWidth;i<t.mobile?r("cards"):i<t.desktop?r("hybrid"):r("table")};return a(),window.addEventListener("resize",a),()=>window.removeEventListener("resize",a)},[t,e]),n}function I_(t){return!t||typeof t!="object"?null:t.appointment_type||t.appointment_time||t.clinic?"appointment":t.medication_name||t.medication||t.dose||t.frequency?"medication":t.ews_score!==void 0||t.respiratory_rate!==void 0||t.spo2!==void 0||t.temperature!==void 0||t.systolic_bp!==void 0||t.heart_rate!==void 0?"vitals":t.name||t.patient_name||t.nhs_number||t.ward||t.bed?"patient":null}function B_(t,e,n,r){const a=r?{...r.defaultCardConfig,...n}:{...T_,...n};if(r&&r.cardTemplates){const i=I_(t);if(i&&r.cardTemplates[i]){const s=r.cardTemplates[i](t,e,a);if(s)return{variant:"default",children:s}}}return a.cardTemplate&&a.cardTemplate(t,e,a),Gc(t,e,a)}const gs=({breakpoints:t={mobile:768,tablet:1024,desktop:1200},forceLayout:e,cardConfig:n={},experimental:r={},enableAdvancedSorting:a=!1,topActions:i,bottomActions:s,gridActions:l,forceGridActionsAbove:u,tabPanels:c,dataConfig:d,selectedIndex:m,onTabChange:p,ariaLabel:b="Data grid",ariaDescription:_,orientation:f="horizontal",id:h,disabled:$=!1,className:C,...S})=>{const y=F_(t,e),w=m!==void 0,x=m??0,M=I.useMemo(()=>{if(c.some(Y=>Y.data&&Y.data.length>0&&Kc(Y.data))){const Y=Xc(n);return{...qc.defaultCardConfig,...Y}}else return Xc(n)},[n,c]),T=I.useMemo(()=>c.some(Y=>Y.data&&Y.data.length>0&&Kc(Y.data))?qc:void 0,[c]),k=I.useMemo(()=>({selectedIndex:x,tabLoadingStates:new Array(c.length).fill(!1),tabErrors:new Array(c.length).fill(null),sortConfig:[],selectedRows:new Array(c.length).fill([]),globalSelectedRowData:null,filters:void 0}),[x,c.length]),[D,v]=I.useReducer($_,k),N=I.useRef([]),z=I.useRef([]),R=I.useRef([]),P=I.useRef(null),[F,j]=I.useState({focusArea:"tabs",focusedTabIndex:0,focusedCardIndex:0,selectedCardIndex:-1,isGridActive:!1,focusedCardElementIndex:0,cardElements:[],isCardNavigationActive:!1,gridColumns:1,gridRows:1,cardSortConfig:null,focusedSortControlIndex:0,isSortControlsActive:!1}),H=I.useCallback(K=>{if(!K.current)return{columns:1,rows:0};const Y=K.current,ne=Y.querySelectorAll(".aria-tabs-datagrid-adaptive__card-wrapper");if(ne.length===0)return{columns:1,rows:0};const ee=Y.offsetWidth,G=ne[0].offsetWidth,re=Math.floor(ee/G)||1,ie=Math.ceil(ne.length/re);return{columns:re,rows:ie}},[]),B=I.useCallback((K,Y)=>({row:Math.floor(K/Y),col:K%Y}),[]),E=I.useCallback((K,Y,ne)=>K*ne+Y,[]),W=I.useCallback((K,Y,ne,ee)=>{const{row:A,col:G}=B(K,ee);let re=A,ie=G;switch(Y){case"up":re=Math.max(0,A-1);break;case"down":re=Math.min(Math.floor((ne-1)/ee),A+1);break;case"left":ie=Math.max(0,G-1);break;case"right":ie=Math.min(ee-1,G+1);break}const q=E(re,ie,ee);return Math.min(q,ne-1)},[B,E]);I.useEffect(()=>{F.isCardNavigationActive&&F.focusedCardElementIndex>=0&&F.cardElements.length>0&&setTimeout(()=>{const K=F.cardElements[F.focusedCardElementIndex];K&&(K.element.focus(),K.element.scrollIntoView({block:"nearest",behavior:"smooth"}))},0)},[F.isCardNavigationActive,F.focusedCardElementIndex,F.cardElements.length]),I.useEffect(()=>{const K=()=>{if(y==="cards"&&P.current){const{columns:ee,rows:A}=H(P);j(G=>({...G,gridColumns:ee,gridRows:A}))}},Y=setTimeout(K,200),ne=()=>{setTimeout(K,100)};return window.addEventListener("resize",ne),()=>{clearTimeout(Y),window.removeEventListener("resize",ne)}},[y,c,H]),I.useEffect(()=>{const K=D.tabLoadingStates.length,Y=c.length;K!==Y&&v({type:"ADJUST_ARRAYS",payload:{newLength:Y}})},[c.length,D.tabLoadingStates.length]),I.useEffect(()=>{w&&m!==D.selectedIndex&&v({type:"SET_SELECTED_INDEX",payload:m})},[w,m,D.selectedIndex]);const L=I.useCallback(K=>{K>=0&&K<c.length&&!c[K].disabled&&(v({type:"SET_SELECTED_INDEX",payload:K}),p?.(K))},[c,p]),U=I.useCallback(K=>{console.log("Card selected:",K),v({type:"SET_GLOBAL_SELECTED_ROW_DATA",payload:K})},[]),O=I.useCallback(K=>{const Y=z.current[K];Y&&(Y.focus(),Y.scrollIntoView({block:"nearest",behavior:"smooth"}))},[]),Q=I.useCallback(K=>{const Y=z.current[K];if(!Y)return[];const ne=['button:not([disabled]):not([aria-hidden="true"])','a[href]:not([disabled]):not([aria-hidden="true"])','input:not([disabled]):not([aria-hidden="true"])','select:not([disabled]):not([aria-hidden="true"])','textarea:not([disabled]):not([aria-hidden="true"])','[tabindex]:not([tabindex="-1"]):not([disabled]):not([aria-hidden="true"])','.healthcare-card__detail[tabindex]:not([tabindex="-1"])',".healthcare-card__action:not([disabled])",".tag:not([disabled])"].join(", "),ee=Y.querySelectorAll(ne);return Array.from(ee).map((A,G)=>({id:A.id||`card-${K}-element-${G}`,element:A,label:A.getAttribute("aria-label")||A.textContent?.trim()||A.getAttribute("title")||`Element ${G+1}`,type:A.tagName.toLowerCase()==="button"?"button":A.tagName.toLowerCase()==="a"?"link":["input","select","textarea"].includes(A.tagName.toLowerCase())?"input":"generic"}))},[]),he=I.useRef(null),le=I.useCallback(K=>{const Y=he.current;if(!Y)return;const ne=document.createElement("div");ne.setAttribute("aria-live","polite"),ne.setAttribute("aria-atomic","true"),ne.className="sr-only",ne.textContent=K,Y.appendChild(ne),setTimeout(()=>{Y.contains(ne)&&Y.removeChild(ne)},1e3)},[]),J=I.useCallback(K=>{const Y=K.filter(ee=>ee.sortable!==!1),ne=[{value:"",label:"Sort by..."}];return Y.forEach(ee=>{const A=ee.label||ee.key;ee.key==="name"?ne.push({value:`${ee.key}-asc`,label:`${A} (A-Z)`},{value:`${ee.key}-desc`,label:`${A} (Z-A)`}):ee.key==="ews_score"||ee.key.includes("score")?ne.push({value:`${ee.key}-desc`,label:`${A} (High-Low)`},{value:`${ee.key}-asc`,label:`${A} (Low-High)`}):ee.key==="age"||ee.key.includes("date")||ee.key.includes("time")?ne.push({value:`${ee.key}-desc`,label:`${A} (Oldest-Youngest)`},{value:`${ee.key}-asc`,label:`${A} (Youngest-Oldest)`}):ne.push({value:`${ee.key}-asc`,label:`${A} (A-Z)`},{value:`${ee.key}-desc`,label:`${A} (Z-A)`})}),ne},[]),X=I.useCallback((K,Y)=>Y?[...K].sort((ne,ee)=>{const A=ne[Y.key],G=ee[Y.key];if(A==null&&G==null)return 0;if(A==null)return 1;if(G==null)return-1;const re=Number(A),ie=Number(G);if(!isNaN(re)&&!isNaN(ie))return Y.direction==="asc"?re-ie:ie-re;const q=String(A).toLowerCase(),ae=String(G).toLowerCase(),we=q.localeCompare(ae);return Y.direction==="asc"?we:-we}):K,[]),te=I.useCallback(K=>{if(!K){j(q=>({...q,cardSortConfig:null})),le("Card sorting cleared");return}const[Y,ne]=K.split("-"),ee={key:Y,direction:ne};j(q=>({...q,cardSortConfig:ee}));const re=c[D.selectedIndex]?.columns.find(q=>q.key===Y)?.label||Y;le(`Cards sorted by ${re} in ${ne==="asc"?"ascending":"descending"} order`)},[c,D.selectedIndex,le]),se=I.useCallback(K=>{const ee=c[D.selectedIndex]?.columns.find(G=>G.key===K.key)?.label||K.key,A=K.direction==="asc"?"ascending":"descending";return`${ee} (${A})`},[c,D.selectedIndex]),V=I.useCallback(K=>{const Y=c[D.selectedIndex];if(a){const ne=D.sortConfig;return!ne||ne.length===0?K:[...K].sort((ee,A)=>{for(const{key:G,direction:re}of ne){let ie=ee[G],q=A[G];const ae=Y?.columns.find(Te=>Te.key===G);if(ae?.cardRenderer?(ie=ae.cardRenderer(ee),q=ae.cardRenderer(A)):ae?.render&&(ie=ae.render(ee),q=ae.render(A)),ie==null&&q==null)continue;if(ie==null)return re==="asc"?-1:1;if(q==null)return re==="asc"?1:-1;const we=Number(ie),xe=Number(q);if(!isNaN(we)&&!isNaN(xe)){const Te=we-xe;if(Te!==0)return re==="asc"?Te:-Te;continue}const Ce=String(ie).toLowerCase(),je=String(q).toLowerCase(),ue=Ce.localeCompare(je);if(ue!==0)return re==="asc"?ue:-ue}return 0})}else return X(K,F.cardSortConfig)},[a,D.sortConfig,F.cardSortConfig,X,c,D.selectedIndex]),ge=I.useCallback((K,Y)=>{const ne=Q(K),ee=ne[Y];if(ee){ee.element.scrollIntoView({block:"nearest",behavior:"smooth"});const A=`Focused on ${ee.label}, ${ee.type} ${Y+1} of ${ne.length} within card`;le(A)}},[Q,le]),me=I.useCallback(K=>{N.current[K]?.focus()},[]),_e=I.useCallback(()=>{const K=R.current[0];if(!K)return[];const Y=['select:not([disabled]):not([aria-hidden="true"])','button:not([disabled]):not([aria-hidden="true"])','input:not([disabled]):not([aria-hidden="true"])','[tabindex]:not([tabindex="-1"]):not([disabled]):not([aria-hidden="true"])'].join(", "),ne=K.querySelectorAll(Y);return Array.from(ne)},[]),pe=I.useCallback(K=>{if(K===0){const Y=R.current[0],ne=Y?.querySelector(".sort-controls-row");if(ne){ne.setAttribute("tabindex","-1"),ne.focus();const A=`Sort controls group with ${_e().length} interactive elements. Press Enter or Space to begin navigating controls.`;le(A)}else Y&&Y.focus()}else{const Y=_e(),ne=K-1,ee=Y[ne];if(ee){ee.focus();const A=ee.tagName.toLowerCase()==="select",G=ee.tagName.toLowerCase()==="button",re=A?"dropdown":G?"button":"control",ie=A?". Use Space key to open dropdown":"",q=`${re} ${ne+1} of ${Y.length}${ie}`;le(q)}}},[_e,le]),ye=I.useCallback((K,Y)=>{const{key:ne}=K,ee=c[D.selectedIndex],A=ee?.data.length||0;if(ne==="ArrowLeft"&&K.shiftKey){K.preventDefault(),K.currentTarget.scrollBy({left:-30,behavior:"smooth"});return}else if(ne==="ArrowRight"&&K.shiftKey){K.preventDefault(),K.currentTarget.scrollBy({left:30,behavior:"smooth"});return}if(!F.isCardNavigationActive){switch(ne){case"ArrowUp":if(K.preventDefault(),Y===0)j(q=>({...q,focusArea:"sort-controls",focusedSortControlIndex:0,isSortControlsActive:!1})),pe(0);else{const q=W(Y,"up",A,F.gridColumns);q!==Y&&(j(ae=>({...ae,focusedCardIndex:q})),O(q),le(`Moved to card ${q+1} of ${A}`))}break;case"ArrowDown":K.preventDefault();const G=W(Y,"down",A,F.gridColumns);G!==Y&&(j(q=>({...q,focusedCardIndex:G})),O(G),le(`Moved to card ${G+1} of ${A}`));break;case"ArrowLeft":K.preventDefault();const re=W(Y,"left",A,F.gridColumns);re!==Y?(j(q=>({...q,focusedCardIndex:re})),O(re),le(`Moved to card ${re+1} of ${A}`)):D.selectedIndex>0&&(v({type:"SET_SELECTED_INDEX",payload:D.selectedIndex-1}),j(q=>({...q,focusArea:"tabs"})),setTimeout(()=>me(D.selectedIndex-1),0));break;case"ArrowRight":K.preventDefault();const ie=W(Y,"right",A,F.gridColumns);ie!==Y?(j(q=>({...q,focusedCardIndex:ie})),O(ie),le(`Moved to card ${ie+1} of ${A}`)):D.selectedIndex<c.length-1&&(v({type:"SET_SELECTED_INDEX",payload:D.selectedIndex+1}),j(q=>({...q,focusArea:"tabs"})),setTimeout(()=>me(D.selectedIndex+1),0));break;case"Enter":if(ee?.data[Y]){K.preventDefault(),j(ae=>({...ae,selectedCardIndex:Y}));const q=Q(Y);q.length>0?(j(ae=>({...ae,focusArea:"card",isCardNavigationActive:!0,focusedCardElementIndex:0,cardElements:q,selectedCardIndex:Y})),le(`Card ${Y+1} selected and navigation activated. ${q.length} interactive elements available. Use arrow keys to navigate, Enter to activate, Escape to exit.`)):le(`Card ${Y+1} selected.`)}break;case" ":if(ee?.data[Y]){K.preventDefault(),j(ae=>({...ae,selectedCardIndex:ae.selectedCardIndex===Y?-1:Y}));const q=F.selectedCardIndex===Y;le(`Card ${Y+1} ${q?"deselected":"selected"}.`)}break}return}switch(ne){case"ArrowUp":case"ArrowLeft":K.preventDefault();const G=Math.max(0,F.focusedCardElementIndex-1);j(ae=>({...ae,focusedCardElementIndex:G})),ge(Y,G);break;case"ArrowDown":case"ArrowRight":K.preventDefault();const re=Math.min(F.cardElements.length-1,F.focusedCardElementIndex+1);j(ae=>({...ae,focusedCardElementIndex:re})),ge(Y,re);break;case"Enter":K.preventDefault();const ie=F.cardElements[F.focusedCardElementIndex];ie&&(ie.element.click(),le(`Activated ${ie.label}`));break;case" ":K.preventDefault();const q=F.cardElements[F.focusedCardElementIndex];if(q){const ae=new MouseEvent("dblclick",{bubbles:!0});q.element.dispatchEvent(ae),le(`Double-clicked ${q.label}`)}break;case"Escape":K.preventDefault(),j(ae=>({...ae,focusArea:"cards",isCardNavigationActive:!1,focusedCardElementIndex:0,cardElements:[]})),setTimeout(()=>O(Y),0),le("Exited card navigation, returned to card level");break;case"Home":K.preventDefault(),F.cardElements.length>0&&(j(ae=>({...ae,focusedCardElementIndex:0})),ge(Y,0));break;case"End":if(K.preventDefault(),F.cardElements.length>0){const ae=F.cardElements.length-1;j(we=>({...we,focusedCardElementIndex:ae})),ge(Y,ae)}break}},[F,D.selectedIndex,c,U,O,me,j,Q,ge,le]),Xe=I.useCallback(K=>{const Y=N.current[K],ne=Y?.parentElement;if(!Y||!ne){console.log("Tab or container not found for mobile scroll");return}const ee=Y.getBoundingClientRect(),A=ne.getBoundingClientRect();ee.left>=A.left&&ee.right<=A.right||(console.log("Tab not visible, scrolling into view (mobile)"),Y.scrollIntoView({behavior:"smooth",block:"nearest",inline:"center"}))},[]),Fe=I.useCallback((K,Y)=>{if(y!=="cards")return;const{key:ne}=K;switch(ne){case"ArrowLeft":K.preventDefault();const ee=Y>0?Y-1:c.length-1;L(ee),j(ie=>({...ie,focusedTabIndex:ee})),N.current[ee]?.focus(),Xe(ee);break;case"ArrowRight":K.preventDefault();const A=Y<c.length-1?Y+1:0;L(A),j(ie=>({...ie,focusedTabIndex:A})),N.current[A]?.focus(),Xe(A);break;case"ArrowDown":K.preventDefault();const G=c[D.selectedIndex];G&&G.columns&&G.columns.length>0?(j(ie=>({...ie,focusArea:"sort-controls",focusedSortControlIndex:0})),pe(0)):(j(ie=>({...ie,focusArea:"cards",focusedCardIndex:0})),O(0));break;case"Home":K.preventDefault(),L(0),j(ie=>({...ie,focusedTabIndex:0})),N.current[0]?.focus(),Xe(0);break;case"End":K.preventDefault();const re=c.length-1;L(re),j(ie=>({...ie,focusedTabIndex:re})),N.current[re]?.focus(),Xe(re);break;case"Enter":case" ":K.preventDefault(),L(Y);break}},[c.length,L,y,O,j,Xe]),$e=I.useCallback((K,Y)=>{if(y!=="cards")return;const{key:ne}=K,ee=c[D.selectedIndex];if(Y===0&&!F.isSortControlsActive){switch(ne){case"ArrowUp":K.preventDefault(),j(G=>({...G,focusArea:"tabs",isSortControlsActive:!1})),me(D.selectedIndex);break;case"ArrowDown":K.preventDefault(),ee?.data&&ee.data.length>0&&(j(G=>({...G,focusArea:"cards",focusedCardIndex:0,isSortControlsActive:!1})),O(0));break;case"Enter":case" ":K.preventDefault();const A=_e();if(A.length>0){j(re=>({...re,isSortControlsActive:!0,focusedSortControlIndex:1})),pe(1);const G=`Entered sort controls navigation mode. ${A.length} controls available. Use arrow keys to navigate between controls.`;le(G)}break;case"Escape":K.preventDefault(),j(G=>({...G,isSortControlsActive:!1,focusArea:"tabs"})),me(D.selectedIndex);break}return}if(F.isSortControlsActive){const G=_e().length;switch(ne){case"ArrowLeft":K.preventDefault();const re=F.focusedSortControlIndex>1?F.focusedSortControlIndex-1:G;j(q=>({...q,focusedSortControlIndex:re})),pe(re);break;case"ArrowRight":K.preventDefault();const ie=F.focusedSortControlIndex<G?F.focusedSortControlIndex+1:1;j(q=>({...q,focusedSortControlIndex:ie})),pe(ie);break;case"ArrowDown":if(K.preventDefault(),F.isSortControlsActive){const q=F.focusedSortControlIndex<G?F.focusedSortControlIndex+1:1;j(ae=>({...ae,focusedSortControlIndex:q})),pe(q)}else ee?.data&&ee.data.length>0&&(j(q=>({...q,focusArea:"cards",focusedCardIndex:0,isSortControlsActive:!1})),O(0));break;case"ArrowUp":K.preventDefault(),j(q=>({...q,isSortControlsActive:!1,focusArea:"sort-controls"})),pe(0);break;case"Escape":K.preventDefault(),j(q=>({...q,isSortControlsActive:!1,focusArea:"sort-controls",focusedSortControlIndex:0})),pe(0);break}}},[y,c,D.selectedIndex,F.isSortControlsActive,F.focusedSortControlIndex,pe,me,O,j,le]);if(y==="cards"){const K=c[D.selectedIndex];return o.jsxs("div",{className:`aria-tabs-datagrid-adaptive aria-tabs-datagrid-adaptive--cards ${C||""}`,children:[o.jsxs("div",{className:"aria-tabs-datagrid-adaptive__header",children:[o.jsx("div",{role:"tablist","aria-label":b,"aria-describedby":`${_||""} ${h?`${h}-navigation-help`:""}`.trim(),"aria-orientation":f,className:"aria-tabs-datagrid__tabs",children:c.map((Y,ne)=>{const ee=ne===D.selectedIndex,A=Y.disabled||$;return o.jsxs("button",{role:"tab",id:`tab-${Y.id}`,"aria-controls":`panel-${Y.id}`,"aria-selected":ee,"aria-disabled":A,tabIndex:ee?0:-1,ref:G=>{N.current[ne]=G},onClick:()=>L(ne),onKeyDown:G=>Fe(G,ne),disabled:A,className:["aria-tabs-datagrid__tab",ee?"aria-tabs-datagrid__tab--selected":"",A?"aria-tabs-datagrid__tab--disabled":""].filter(Boolean).join(" "),children:[o.jsx("span",{className:"aria-tabs-datagrid__tab-label",children:Y.label}),D.tabLoadingStates[ne]&&o.jsx("span",{className:"aria-tabs-datagrid__tab-loading","aria-hidden":"true",children:"â³"}),D.tabErrors[ne]&&o.jsx("span",{className:"aria-tabs-datagrid__tab-error","aria-hidden":"true",children:"âš ï¸"})]},Y.id)})}),i&&o.jsx("div",{className:"aria-tabs-datagrid-adaptive__top-actions",children:i})]}),K&&K.columns&&o.jsx(o.Fragment,{children:a?o.jsx(Wc,{sortConfig:D.sortConfig||[],columns:K.columns.map(Y=>({key:Y.key,label:Y.label})),onSortChange:Y=>{v({type:"SET_SORT",payload:Y})},ariaLabel:"Card view sort configuration",className:"aria-tabs-datagrid-adaptive__advanced-sort-controls"}):o.jsx("div",{className:"aria-tabs-datagrid-adaptive__sort-controls",role:"region","aria-label":"Sort controls",tabIndex:F.focusArea==="sort-controls"?0:-1,ref:Y=>{R.current[0]=Y},onKeyDown:Y=>$e(Y,0),children:o.jsxs("div",{className:"sort-controls-row",children:[o.jsxs("div",{className:"sort-select-container",children:[o.jsx("label",{htmlFor:`card-sort-${K.id}`,className:"sort-label",children:"Sort cards by"}),o.jsx(_r,{id:`card-sort-${K.id}`,name:`card-sort-${K.id}`,value:F.cardSortConfig?`${F.cardSortConfig.key}-${F.cardSortConfig.direction}`:"",onChange:Y=>te(Y.target.value),className:"sort-select",children:J(K.columns).map(Y=>o.jsx("option",{value:Y.value,children:Y.label},Y.value))})]}),F.cardSortConfig&&o.jsxs("div",{className:"sort-indicator",role:"status","aria-live":"polite",children:[o.jsxs("span",{className:"sort-indicator-text",children:["Sorted by ",se(F.cardSortConfig)]}),o.jsx(et,{variant:"secondary",size:"small",onClick:()=>te(""),"aria-label":"Clear card sorting",className:"sort-clear-button",children:"Clear"})]})]})})}),o.jsx("div",{ref:P,className:"aria-tabs-datagrid-adaptive__cards",role:"grid","aria-label":`${K?.label||"Data"} cards in ${F.gridRows} rows and ${F.gridColumns} columns`,"aria-rowcount":F.gridRows,"aria-colcount":F.gridColumns,id:`panel-${K?.id}`,"aria-labelledby":`tab-${K?.id}`,children:V(K?.data||[]).map((Y,ne)=>{const ee=F.selectedCardIndex===ne,A=F.focusedCardIndex===ne&&F.focusArea==="cards",G=F.focusedCardIndex===ne&&F.focusArea==="card"&&F.isCardNavigationActive,re=ne===0&&F.focusArea!=="cards",ie=A||re,q=B(ne,F.gridColumns);if(n.cardTemplate){const xe=n.cardTemplate(Y,K.columns);return o.jsx("div",{role:"row","aria-rowindex":q.row+1,className:"aria-tabs-datagrid-adaptive__row",children:o.jsx("div",{ref:Ce=>{z.current[ne]=Ce},className:["aria-tabs-datagrid-adaptive__card-wrapper",ee?"aria-tabs-datagrid-adaptive__card-wrapper--selected":"",A?"aria-tabs-datagrid-adaptive__card-wrapper--focused":"",G?"aria-tabs-datagrid-adaptive__card-wrapper--card-navigation":""].filter(Boolean).join(" "),role:"gridcell","aria-colindex":q.col+1,"aria-selected":ee,"aria-expanded":G,"aria-description":G?`Card navigation active. ${F.cardElements.length} interactive elements available.`:void 0,tabIndex:ie?0:-1,onClick:()=>{j(Ce=>({...Ce,selectedCardIndex:Ce.selectedCardIndex===ne?-1:ne})),U(Y)},onKeyDown:Ce=>ye(Ce,ne),onFocus:()=>{j(Ce=>Ce.focusedCardIndex!==ne||Ce.focusArea!=="cards"?{...Ce,focusedCardIndex:ne,focusArea:"cards"}:Ce)},children:xe})},`card-${ne}`)}const ae=B_(Y,K.columns,M,T),we=[ae.className||"",ee?"aria-tabs-datagrid-adaptive__card--selected":"",A?"aria-tabs-datagrid-adaptive__card--focused":"",G?"aria-tabs-datagrid-adaptive__card--card-navigation":""].filter(Boolean).join(" ");return o.jsx("div",{role:"row","aria-rowindex":q.row+1,className:"aria-tabs-datagrid-adaptive__row",children:o.jsx("div",{className:["aria-tabs-datagrid-adaptive__card-wrapper",ee?"aria-tabs-datagrid-adaptive__card-wrapper--selected":"",A?"aria-tabs-datagrid-adaptive__card-wrapper--focused":"",G?"aria-tabs-datagrid-adaptive__card-wrapper--card-navigation":""].filter(Boolean).join(" "),role:"gridcell","aria-colindex":q.col+1,"aria-selected":ee,"aria-expanded":G,onKeyDown:xe=>{xe.key==="Enter"&&(xe.preventDefault(),j(Ce=>({...Ce,selectedCardIndex:ne}))),ye(xe,ne)},children:o.jsx(cs,{...ae,ref:xe=>{z.current[ne]=xe},className:we,"aria-label":`${ae["aria-label"]||ae.heading}. ${G?`Card navigation active with ${F.cardElements.length} interactive elements. Use arrow keys to navigate, Enter to activate, Escape to exit.`:"Press Enter to navigate within card elements."}`,tabIndex:ie?0:-1,onClick:()=>{j(xe=>({...xe,selectedCardIndex:xe.selectedCardIndex===ne?-1:ne})),U(Y)},onKeyDown:xe=>ye(xe,ne),onFocus:()=>{F.isCardNavigationActive||j(xe=>xe.focusedCardIndex!==ne||xe.focusArea!=="cards"?{...xe,focusedCardIndex:ne,focusArea:"cards",focusedCardElementIndex:0,cardElements:[]}:xe)}})})},`card-${ne}`)})}),s&&o.jsx("div",{className:"aria-tabs-datagrid-adaptive__bottom-actions",children:s}),o.jsx("div",{ref:he,className:"aria-tabs-datagrid-adaptive__announcements","aria-hidden":"true",style:{position:"fixed",top:"-1px",left:"-1px",width:"1px",height:"1px",overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",border:0,padding:0,margin:0}})]})}return y==="hybrid"?o.jsxs("div",{className:`aria-tabs-datagrid-adaptive aria-tabs-datagrid-adaptive--hybrid ${C||""}`,children:[i&&o.jsx("div",{className:"aria-tabs-datagrid-adaptive__top-actions aria-tabs-datagrid-adaptive__top-actions--above-table",children:i}),o.jsx(Ua,{tabPanels:c,dataConfig:d,ariaLabel:b,ariaDescription:_,orientation:f,id:h,disabled:$,selectedIndex:m,onTabChange:p,className:"aria-tabs-datagrid-adaptive__table--hybrid",actions:l,forceActionsAbove:u,...S}),s&&o.jsx("div",{className:"aria-tabs-datagrid-adaptive__bottom-actions",children:s})]}):o.jsxs("div",{className:`aria-tabs-datagrid-adaptive aria-tabs-datagrid-adaptive--table ${C||""}`,children:[i&&o.jsx("div",{className:"aria-tabs-datagrid-adaptive__top-actions aria-tabs-datagrid-adaptive__top-actions--above-table",children:i}),o.jsx(Ua,{tabPanels:c,dataConfig:d,ariaLabel:b,ariaDescription:_,orientation:f,id:h,disabled:$,selectedIndex:m,onTabChange:p,actions:l,forceActionsAbove:u,...S}),s&&o.jsx("div",{className:"aria-tabs-datagrid-adaptive__bottom-actions",children:s})]})},Zc=t=>{const e=ds.find(n=>n.value===t);return e?e.icon:null},P_={ecommerce:{name:"E-commerce",description:"Product catalogs with pricing, inventory, and ratings",dataConfig:{dataComparator:(t,e)=>t.id===e.id,filterFunction:(t,e)=>e?t.filter(n=>{if(e.priceRange){const[r,a]=e.priceRange,i=n.discountedPrice||n.price;if(i<r||i>a)return!1}return!(e.categories&&e.categories.length>0&&!e.categories.includes(n.category)||e.inStock!==void 0&&n.inStock!==e.inStock||e.minRating!==void 0&&n.rating<e.minRating||e.tags&&e.tags.length>0&&!e.tags.some(r=>n.tags.includes(r)))}):t,booleanRenderer:t=>Zc(t),getDataId:t=>`ecommerce-${t.id}`},createTabs:t=>Ya(t,[{id:"all-products",label:"All Products",columns:[{key:"name",label:"Product Name"},{key:"price",label:"Price",render:n=>n.discountedPrice?`$${n.price.toFixed(2)} â†’ $${n.discountedPrice.toFixed(2)}`:`$${n.price.toFixed(2)}`},{key:"inStock",label:"Availability"},{key:"category",label:"Category"},{key:"rating",label:"Rating",render:n=>`${n.rating}/5 (${n.reviews} reviews)`}],ariaLabel:"All Products Grid",ariaDescription:"Complete product catalog with pricing and availability"},{id:"on-sale",label:"On Sale",columns:[{key:"name",label:"Product Name"},{key:"price",label:"Original Price",render:n=>`$${n.price.toFixed(2)}`},{key:"discountedPrice",label:"Sale Price",render:n=>`$${n.discountedPrice?.toFixed(2)||"N/A"}`},{key:"discount",label:"Discount",render:n=>n.discountedPrice?`${((n.price-n.discountedPrice)/n.price*100).toFixed(0)}% OFF`:"N/A"}],filter:n=>n.filter(r=>r.discountedPrice!==void 0),ariaLabel:"Sale Products Grid",ariaDescription:"Products currently on sale with discounted pricing"},{id:"high-rated",label:"Top Rated",columns:[{key:"name",label:"Product Name"},{key:"rating",label:"Rating"},{key:"reviews",label:"Reviews"},{key:"category",label:"Category"}],filter:n=>n.filter(r=>r.rating>=4),sortConfig:[{key:"rating",direction:"desc"}],ariaLabel:"Top Rated Products Grid",ariaDescription:"Highest rated products with 4+ star ratings"}])},financial:{name:"Financial",description:"Transaction data with amounts, categories, and statuses",dataConfig:{dataComparator:(t,e)=>t.id===e.id,filterFunction:(t,e)=>e?t.filter(n=>{if(e.dateRange){const[r,a]=e.dateRange;if(n.date<r||n.date>a)return!1}if(e.amountRange){const[r,a]=e.amountRange;if(Math.abs(n.amount)<r||Math.abs(n.amount)>a)return!1}return!(e.types&&e.types.length>0&&!e.types.includes(n.type)||e.categories&&e.categories.length>0&&!e.categories.includes(n.category)||e.pending!==void 0&&n.pending!==e.pending)}):t,booleanRenderer:t=>Zc(t),getDataId:t=>`financial-${t.id}`},createTabs:t=>Ya(t,[{id:"all-transactions",label:"All Transactions",columns:[{key:"date",label:"Date",render:n=>n.date.toLocaleDateString()},{key:"description",label:"Description"},{key:"amount",label:"Amount",render:n=>`${n.type==="credit"?"+":"-"}$${Math.abs(n.amount).toFixed(2)}`},{key:"category",label:"Category"},{key:"pending",label:"Status"}],sortConfig:[{key:"date",direction:"desc"}],ariaLabel:"All Transactions Grid",ariaDescription:"Complete transaction history with amounts and categories"},{id:"credits",label:"Credits",columns:[{key:"date",label:"Date",render:n=>n.date.toLocaleDateString()},{key:"description",label:"Description"},{key:"amount",label:"Amount",render:n=>`+$${n.amount.toFixed(2)}`},{key:"category",label:"Category"}],filter:n=>n.filter(r=>r.type==="credit"),ariaLabel:"Credit Transactions Grid",ariaDescription:"Incoming payments and credits only"},{id:"debits",label:"Debits",columns:[{key:"date",label:"Date",render:n=>n.date.toLocaleDateString()},{key:"description",label:"Description"},{key:"amount",label:"Amount",render:n=>`-$${Math.abs(n.amount).toFixed(2)}`},{key:"category",label:"Category"}],filter:n=>n.filter(r=>r.type==="debit"),ariaLabel:"Debit Transactions Grid",ariaDescription:"Outgoing payments and charges only"},{id:"pending",label:"Pending",columns:[{key:"date",label:"Date",render:n=>n.date.toLocaleDateString()},{key:"description",label:"Description"},{key:"amount",label:"Amount",render:n=>`${n.type==="credit"?"+":"-"}$${Math.abs(n.amount).toFixed(2)}`},{key:"type",label:"Type"}],filter:n=>n.filter(r=>r.pending),ariaLabel:"Pending Transactions Grid",ariaDescription:"Transactions awaiting processing"}])}},Jc=(t,e)=>{const n=P_[t];return{dataConfig:n.dataConfig,tabPanels:n.createTabs(e)}},Qc=[{name:"Sarah Johnson",age:34,ews_data:{respiratory_rate_bpm:16,sp02:98,temperature:36.8,systolic_bp:140,heart_rate:82,avpu:"alert"},ews_score:3,ward_name:"Cardiology",room_name:"Room A",bed_name:"A-1",bed_type:"bed",admin_note:"Hypertension monitoring",pathway:"Standard",speciality:"Cardiology",consultant:"Dr. Smith",local_authority:"NHS Trust",early_discharge_notification:"not_required",needs_based_assessment:!1,medically_optimised:!0,criteria_to_reside:!0,date_medically_optimised:"2024-01-15",anticipated_discharge_date:"2024-01-18",dru_suitability:!1,optica_planned_discharge_date:"2024-01-18",optica_date_confirmed:"2024-01-16",dsum:null,medications_tta:"None required",transport_booking:!1,transport_status:"Pending",transport_date:"",transport_mobility:"Independent",fast_track:!1,initial_therapy_contact:"",equipment:"None",district_nurse_referral:!1},{name:"Michael Chen",age:67,ews_data:{respiratory_rate_bpm:20,sp02:94,temperature:37.2,systolic_bp:160,heart_rate:95,avpu:"alert"},ews_score:7,ward_name:"Surgery",room_name:"Room B",bed_name:"B-3",bed_type:"bed",admin_note:"Post-operative monitoring",pathway:"Surgical",speciality:"General Surgery",consultant:"Dr. Johnson",local_authority:"NHS Trust",early_discharge_notification:"due",needs_based_assessment:!0,medically_optimised:!1,criteria_to_reside:!0,date_medically_optimised:"2024-01-17",anticipated_discharge_date:"2024-01-20",dru_suitability:!0,optica_planned_discharge_date:"2024-01-20",optica_date_confirmed:"2024-01-16",dsum:"Complex discharge",medications_tta:"Pain management",transport_booking:!0,transport_status:"In Progress",transport_date:"2024-01-20",transport_mobility:"Wheelchair",fast_track:!1,initial_therapy_contact:"2024-01-17",equipment:"Walking frame",district_nurse_referral:!0},{name:"Emma Thompson",age:28,ews_data:{respiratory_rate_bpm:24,sp02:90,temperature:38.5,systolic_bp:110,heart_rate:105,avpu:"alert"},ews_score:5,ward_name:"Respiratory",room_name:"Room C",bed_name:"C-2",bed_type:"bed",admin_note:"Pneumonia treatment",pathway:"Respiratory",speciality:"Respiratory Medicine",consultant:"Dr. Williams",local_authority:"NHS Trust",early_discharge_notification:"overdue",needs_based_assessment:!0,medically_optimised:!1,criteria_to_reside:!1,date_medically_optimised:"",anticipated_discharge_date:"2024-01-22",dru_suitability:!1,optica_planned_discharge_date:"2024-01-22",optica_date_confirmed:"",dsum:null,medications_tta:"Antibiotics",transport_booking:!1,transport_status:"Pending",transport_date:"",transport_mobility:"Independent",fast_track:!0,initial_therapy_contact:"",equipment:"Oxygen",district_nurse_referral:!1}],L_=[{id:"appt-001",appointment_time:"2024-01-18T09:00:00Z",patient_name:"Sarah Johnson",appointment_type:"Cardiology Consultation",consultant:"Dr. Smith",location:"Clinic Room 3",duration:30,status:"pending"},{id:"appt-002",appointment_time:"2024-01-18T10:30:00Z",patient_name:"Michael Davis",appointment_type:"Post-op Follow-up",consultant:"Dr. Johnson",location:"Surgery Ward",duration:15,status:"active"},{id:"appt-003",appointment_time:"2024-01-18T14:00:00Z",patient_name:"Emma Thompson",appointment_type:"Respiratory Assessment",consultant:"Dr. Wilson",location:"Emergency Department",duration:45,status:"pending"}],A_=[{id:"med-001",medication:"Amlodipine",dose:"5mg",frequency:"Once daily",route:"Oral",next_due:"2024-01-18T08:00:00Z",prescriber:"Dr. Smith",patient_name:"Sarah Johnson",allergies:null,priority:"medium"},{id:"med-002",medication:"Morphine",dose:"10mg",frequency:"Every 4 hours",route:"IV",next_due:"2024-01-18T10:00:00Z",prescriber:"Dr. Johnson",patient_name:"Michael Davis",allergies:"Codeine allergy",priority:"high"},{id:"med-003",medication:"Salbutamol",dose:"2 puffs",frequency:"As needed",route:"Inhaled",next_due:"2024-01-18T12:00:00Z",prescriber:"Dr. Wilson",patient_name:"Emma Thompson",allergies:null,priority:"high"}],E_=[{id:"vitals-001",patient_name:"Sarah Johnson",recorded_time:"2024-01-18T07:30:00Z",temperature:36.8,blood_pressure:"140/90",heart_rate:82,respiratory_rate:16,oxygen_saturation:98,ews_score:3,priority:"medium"},{id:"vitals-002",patient_name:"Michael Davis",recorded_time:"2024-01-18T08:15:00Z",temperature:37.2,blood_pressure:"130/85",heart_rate:98,respiratory_rate:20,oxygen_saturation:95,ews_score:7,priority:"high"},{id:"vitals-003",patient_name:"Emma Thompson",recorded_time:"2024-01-18T09:00:00Z",temperature:38.5,blood_pressure:"110/70",heart_rate:105,respiratory_rate:24,oxygen_saturation:90,ews_score:9,priority:"high"}],eu=[{id:"PROD001",name:"Wireless Headphones",price:199.99,discountedPrice:149.99,inStock:!0,category:"Electronics",rating:4.5,reviews:1247,tags:["wireless","bluetooth","premium"]},{id:"PROD002",name:"Running Shoes",price:129.99,inStock:!0,category:"Sports",rating:4.8,reviews:892,tags:["running","athletic","comfortable"]},{id:"PROD003",name:"Coffee Maker",price:89.99,discountedPrice:59.99,inStock:!1,category:"Kitchen",rating:4.2,reviews:456,tags:["kitchen","coffee","appliance"]},{id:"PROD004",name:"Smartphone Case",price:24.99,inStock:!0,category:"Accessories",rating:4,reviews:234,tags:["protection","mobile","durable"]}],tu=[{id:"TXN001",date:new Date("2024-01-15"),amount:2500,type:"credit",category:"Salary",description:"Monthly salary payment",accountId:"ACC001",pending:!1,recurring:!0},{id:"TXN002",date:new Date("2024-01-14"),amount:89.5,type:"debit",category:"Groceries",description:"Supermarket shopping",accountId:"ACC001",pending:!1,recurring:!1},{id:"TXN003",date:new Date("2024-01-16"),amount:1200,type:"debit",category:"Rent",description:"Monthly rent payment",accountId:"ACC001",pending:!0,recurring:!0},{id:"TXN004",date:new Date("2024-01-13"),amount:150,type:"credit",category:"Refund",description:"Product return refund",accountId:"ACC001",pending:!1,recurring:!1}],nu=[{id:"LEAD001",companyName:"Tech Solutions Inc",contactPerson:"John Smith",email:"john@techsolutions.com",status:"qualified",value:5e4,lastContact:new Date("2024-01-15"),source:"Website",isHotLead:!0},{id:"LEAD002",companyName:"Global Industries",contactPerson:"Maria Garcia",email:"maria@globalind.com",status:"contacted",value:25e3,lastContact:new Date("2024-01-14"),source:"Referral",isHotLead:!1},{id:"LEAD003",companyName:"StartupXYZ",contactPerson:"Alex Johnson",email:"alex@startupxyz.com",status:"new",value:15e3,lastContact:new Date("2024-01-16"),source:"Cold Call",isHotLead:!0}],R_={dataComparator:(t,e)=>t.id===e.id,filterFunction:(t,e)=>e?t.filter(n=>!(e.status&&!e.status.includes(n.status)||e.minValue&&n.value<e.minValue||e.hotLeadsOnly&&!n.isHotLead)):t,booleanRenderer:t=>o.jsx("span",{style:{color:t?"#dc2626":"#6b7280",fontWeight:t?"bold":"normal"},children:t?"ðŸ”¥ Hot Lead":"ðŸ“‹ Standard"}),getDataId:t=>`business-${t.id}`},H_=()=>[{id:"patients",label:"Patients",data:Qc,columns:[{key:"name",label:"Patient Name"},{key:"age",label:"Age"},{key:"ward_name",label:"Ward"},{key:"ews_score",label:"EWS Score"}],ariaLabel:"Patient Records",ariaDescription:"Healthcare patient management with EWS monitoring",cardTemplate:(t,e)=>o.jsx(fs,{data:t,columns:e,onSelect:n=>console.log("Selected patient:",n),onAction:(n,r)=>console.log("Patient action:",n,r),priority:t.ews_score>=7?"high":t.ews_score>=3?"medium":"low"})},{id:"appointments",label:"Appointments",data:L_,columns:[{key:"appointment_time",label:"Time"},{key:"patient_name",label:"Patient"},{key:"appointment_type",label:"Type"},{key:"consultant",label:"Consultant"}],ariaLabel:"Patient Appointments",ariaDescription:"Scheduled appointments and consultations",cardTemplate:(t,e)=>o.jsx(hs,{data:t,columns:e,onSelect:n=>console.log("Selected appointment:",n),onAction:(n,r)=>console.log("Appointment action:",n,r),status:t.status})},{id:"medications",label:"Medications",data:A_,columns:[{key:"medication",label:"Medication"},{key:"dose",label:"Dose"},{key:"frequency",label:"Frequency"},{key:"next_due",label:"Next Due"}],ariaLabel:"Patient Medications",ariaDescription:"Medication administration and scheduling",cardTemplate:(t,e)=>o.jsx(ms,{data:t,columns:e,onSelect:n=>console.log("Selected medication:",n),onAction:(n,r)=>console.log("Medication action:",n,r),priority:t.priority})},{id:"vitals",label:"Vital Signs",data:E_,columns:[{key:"patient_name",label:"Patient"},{key:"recorded_time",label:"Time"},{key:"temperature",label:"Temperature"},{key:"ews_score",label:"EWS Score"}],ariaLabel:"Patient Vital Signs",ariaDescription:"Patient vital signs monitoring and EWS scores",cardTemplate:(t,e)=>o.jsx(ps,{data:t,columns:e,onSelect:n=>console.log("Selected vitals:",n),onAction:(n,r)=>console.log("Vitals action:",n,r),priority:t.ews_score>=7?"high":t.ews_score>=3?"medium":"low"})}],z_=()=>{const[t,e]=I.useState("healthcare"),n=I.useMemo(()=>({healthcare:{title:"Healthcare Workflow Management",description:"Comprehensive healthcare workflow with patient cards, appointments, medications, and vitals",dataConfig:Uc,tabPanels:H_(),data:Qc},ecommerce:{title:"E-commerce Product Catalog",description:"Product management with pricing and inventory",...Jc("ecommerce",eu),data:eu},financial:{title:"Financial Transaction Dashboard",description:"Banking and financial data management",...Jc("financial",tu),data:tu},business:{title:"Sales Lead Management",description:"Custom CRM configuration with business logic",dataConfig:R_,tabPanels:Ya(nu,[{id:"all-leads",label:"All Leads",columns:[{key:"companyName",label:"Company"},{key:"contactPerson",label:"Contact"},{key:"status",label:"Status"},{key:"value",label:"Value",render:a=>`$${a.value.toLocaleString()}`},{key:"isHotLead",label:"Priority"}],ariaLabel:"All Sales Leads Grid",ariaDescription:"Complete sales pipeline with lead information"},{id:"hot-leads",label:"Hot Leads",columns:[{key:"companyName",label:"Company"},{key:"contactPerson",label:"Contact"},{key:"value",label:"Value",render:a=>`$${a.value.toLocaleString()}`},{key:"lastContact",label:"Last Contact",render:a=>a.lastContact.toLocaleDateString()}],filter:a=>a.filter(i=>i.isHotLead),sortConfig:[{key:"value",direction:"desc"}],ariaLabel:"Hot Leads Grid",ariaDescription:"High-priority leads requiring immediate attention"},{id:"pipeline",label:"Active Pipeline",columns:[{key:"companyName",label:"Company"},{key:"status",label:"Status"},{key:"value",label:"Value",render:a=>`$${a.value.toLocaleString()}`},{key:"source",label:"Source"}],filter:a=>a.filter(i=>["contacted","qualified"].includes(i.status)),ariaLabel:"Active Pipeline Grid",ariaDescription:"Leads currently in the sales pipeline"}]),data:nu}}),[]),r=n[t];return o.jsxs("div",{style:{padding:"2rem",maxWidth:"1200px",margin:"0 auto"},children:[o.jsxs("div",{style:{marginBottom:"2rem"},children:[o.jsx("h1",{style:{fontSize:"2rem",fontWeight:"bold",marginBottom:"1rem",color:"#1f2937"},children:"AriaTabsDataGrid - Comprehensive Demo"}),o.jsx("p",{style:{fontSize:"1.1rem",color:"#6b7280",marginBottom:"2rem",lineHeight:"1.6"},children:"This demo showcases the component's versatility across different domains: healthcare, e-commerce, financial services, and custom business applications. Each configuration demonstrates domain-specific data operations, custom renderers, and specialized filtering logic."}),o.jsx("div",{style:{display:"flex",gap:"1rem",marginBottom:"2rem",flexWrap:"wrap"},children:Object.keys(n).map(a=>o.jsx(et,{variant:t===a?"primary":"secondary",onClick:()=>e(a),style:{textTransform:"capitalize"},children:a},a))}),o.jsxs("div",{style:{backgroundColor:"#f8fafc",border:"1px solid #e2e8f0",borderRadius:"0.5rem",padding:"1.5rem",marginBottom:"2rem"},children:[o.jsx("h2",{style:{fontSize:"1.5rem",fontWeight:"600",marginBottom:"0.5rem",color:"#1e293b"},children:r.title}),o.jsx("p",{style:{color:"#64748b",marginBottom:"1rem"},children:r.description}),o.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:"1rem",fontSize:"0.9rem"},children:[o.jsxs("div",{children:[o.jsx("strong",{children:"Data Records:"})," ",r.data.length]}),o.jsxs("div",{children:[o.jsx("strong",{children:"Tab Panels:"})," ",r.tabPanels.length]}),o.jsxs("div",{children:[o.jsx("strong",{children:"Features:"})," ",["Row Selection","Custom Filtering","Domain-Specific Renderers","Keyboard Navigation","ARIA Compliance"].join(", ")]})]})]})]}),o.jsx(Ua,{dataConfig:r.dataConfig,tabPanels:r.tabPanels,ariaLabel:`${r.title} Data Grid`,ariaDescription:`Interactive data grid for ${r.description.toLowerCase()}`}),o.jsxs("div",{style:{marginTop:"3rem",padding:"1.5rem",backgroundColor:"#f1f5f9",borderRadius:"0.5rem",border:"1px solid #cbd5e1"},children:[o.jsx("h3",{style:{fontSize:"1.25rem",fontWeight:"600",marginBottom:"1rem",color:"#334155"},children:"Implementation Details"}),o.jsxs("div",{style:{display:"grid",gap:"1rem",fontSize:"0.9rem"},children:[o.jsxs("div",{children:[o.jsx("strong",{children:"Current Mode:"})," ",t," configuration"]}),o.jsxs("div",{children:[o.jsx("strong",{children:"Data Operations:"})," Custom comparator, filter function, and boolean renderer"]}),o.jsxs("div",{children:[o.jsx("strong",{children:"Architecture:"})," Generic core with domain-specific plugins and factory helpers"]}),o.jsxs("div",{children:[o.jsx("strong",{children:"State Management:"})," Global row selection with data-object persistence"]}),o.jsxs("div",{children:[o.jsx("strong",{children:"Accessibility:"})," Full ARIA support with dynamic labels and descriptions"]})]})]})]})},bs=t=>o.jsx(Pi,{...t}),O_=({children:t,pageTitle:e,pageHeadingProps:n,columnWidth:r="two-thirds",mainWrapperSize:a,skipLinkProps:i,headerProps:s,footerProps:l,service:u,navigation:c,search:d,account:m,organisation:p,logo:b,className:_,...f})=>{const h={service:u,navigation:c,search:d,account:m,organisation:p,logo:b,...s};return o.jsxs(o.Fragment,{children:[o.jsx(ls,{...i}),o.jsx(ja,{...h}),o.jsx(bs,{className:_,...f,children:o.jsx(Li,{size:a,children:o.jsx(fn,{children:o.jsxs(Gn,{width:r,children:[e&&o.jsx(Pt,{size:"l",...n,children:e}),t]})})})}),o.jsx(Ei,{...l})]})},W_=({children:t,pageTitle:e,pageHeadingProps:n,columnWidth:r="two-thirds",mainWrapperSize:a="small",skipLinkProps:i,headerProps:s,footerProps:l,backLinkProps:u,serviceName:c,serviceHref:d,logo:m,className:p,...b})=>{const _={service:{text:c,href:d},logo:m,navigation:void 0,search:void 0,account:void 0,...s};return o.jsxs(o.Fragment,{children:[o.jsx(ls,{...i}),o.jsx(ja,{..._}),o.jsxs(bs,{className:p,...b,children:[u&&o.jsx(wa,{...u}),o.jsx(Li,{size:a,children:o.jsx(fn,{children:o.jsxs(Gn,{width:r,children:[e&&o.jsx(Pt,{size:"l",...n,children:e}),t]})})})]}),o.jsx(Ei,{...l})]})},ru=({text:t="Next",html:e,href:n="#",className:r,element:a="a",onClick:i,...s})=>{const l=de("nhsuk-back-link",r),u=de("nhsuk-back-link__link"),c=()=>o.jsxs("span",{style:{display:"inline-flex",alignItems:"center",gap:4},children:[e?o.jsx("span",{dangerouslySetInnerHTML:{__html:e}}):t,o.jsx("svg",{className:"nhsuk-icon nhsuk-icon__chevron-right",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24","aria-hidden":"true",height:"24",width:"24",children:o.jsx("path",{d:"M15.5 12c0 .3-.1.5-.3.7l-5 5c-.4.4-1 .4-1.4 0s-.4-1 0-1.4L13.1 12 8.8 7.7c-.4-.4-.4-1 0-1.4s1-.4 1.4 0l5 5c.2.2.3.4.3.7z"})})]});return o.jsx("div",{className:l,children:a==="button"?o.jsx("button",{className:u,type:"button",onClick:i,...s,children:c()}):o.jsx("a",{className:u,href:n,...s,children:c()})})};ru.displayName="ForwardLink";const Qn=Object.freeze({small:320,smallMax:767,medium:768,large:1025,xlarge:1200,xxlarge:1440});function au(){return typeof window>"u"?Qn.small:window.innerWidth||document.documentElement.clientWidth||0}function _s(){const[t,e]=Z.useState(au());Z.useEffect(()=>{if(typeof window>"u")return;const i=()=>e(au());return window.addEventListener("resize",i),()=>window.removeEventListener("resize",i)},[]);const n=Z.useCallback(i=>t>=Qn[i],[t]),r=Z.useCallback(i=>t<Qn[i],[t]),a=Z.useCallback((i,s)=>t>=Qn[i]&&t<Qn[s],[t]);return{width:t,up:n,down:r,between:a,values:Qn}}function U_(t){const{width:e,values:n}=_s();let r=t.base;const a=["small","medium","large","xlarge","xxlarge"];for(const i of a){const s=n[i];e>=s&&t[i]!==void 0&&(r=t[i])}return r}function iu(t={}){const{enabled:e=!0,paramSelected:n="nsv",paramDrill:r="nsvDrill"}=t,[a,i]=Z.useState(()=>typeof window>"u"||!e?void 0:new URLSearchParams(window.location.search).get(n)),[s,l]=Z.useState(()=>typeof window>"u"||!e?!1:new URLSearchParams(window.location.search).get(r)==="1");return Z.useEffect(()=>{if(!e||typeof window>"u")return;const u=new URLSearchParams(window.location.search);a?u.set(n,String(a)):u.delete(n),u.set(r,s?"1":"0");const c=`${window.location.pathname}?${u.toString()}${window.location.hash}`;window.history.replaceState(null,"",c)},[a,s,e,n,r]),{selectedId:a,setSelectedId:i,drilledIn:s,setDrilledIn:l}}const G_=({className:t})=>o.jsx("svg",{className:t,width:"16",height:"16",viewBox:"0 0 16 16","aria-hidden":"true",focusable:"false",children:o.jsx("path",{fill:"currentColor",d:"M10.7 3.3a1 1 0 0 1 0 1.4L7.41 8l3.3 3.3a1 1 0 1 1-1.42 1.4l-4-4a1 1 0 0 1 0-1.4l4-4a1 1 0 0 1 1.42 0Z"})}),Y_=({className:t})=>o.jsx("svg",{className:t,width:"16",height:"16",viewBox:"0 0 16 16","aria-hidden":"true",focusable:"false",children:o.jsx("path",{fill:"currentColor",d:"M5.3 12.7a1 1 0 0 1 0-1.4L8.59 8l-3.3-3.3a1 1 0 0 1 1.42-1.4l4 4a1 1 0 0 1 0 1.4l-4 4a1 1 0 0 1-1.42 0Z"})});function su(t){const{items:e,selectedId:n,defaultSelectedId:r,onSelectionChange:a,renderItemContent:i,renderContent:s,renderSecondaryContent:l,forceLayout:u,animated:c=!0,backLabel:d="Back",nextLabel:m="Next",isLoading:p=!1,emptyState:b,a11y:_,className:f,getId:h=oe=>oe.id,orientation:$="vertical",autoEnableThirdColumn:C=!0,onDrillChange:S,navigationInstructions:y="Use arrow keys to navigate, Enter to open.",initialFocus:w="first",skipFocusOnSelect:x=!1,skipAnnouncements:M=!1,onFocusChange:T,syncUrl:k=!1,urlParamSelected:D="nsv",urlParamDrill:v="nsvDrill",urlSyncDebounceMs:N=0,lazySecondary:z=!1,navFooter:R,collapsibleNav:P=!1,navInitiallyCollapsed:F=!1,onNavCollapseChange:j,collapseToggleLabelShow:H="Show navigation",collapseToggleLabelHide:B="Hide navigation",collapseToggleIconShow:E,collapseToggleIconHide:W,persistNavCollapsed:L,navCollapsedStorageKey:U="nsvCollapsed",navCollapsedUrlParam:O="nsvCollapsed",autoContentHeader:Q,contentHeaderLevel:he=2,renderContentHeader:le,contentSubheader:J,secondarySubheader:X}=t,{up:te}=_s(),[se,V]=Z.useState(!1);Z.useEffect(()=>{V(!0)},[]);const ge=se&&te("medium"),me=se&&te("xlarge");let _e;u?_e=u:ge?_e="two-column":_e="list",!u&&C&&l&&me&&(_e="three-column");const pe=iu({enabled:k,paramSelected:D,paramDrill:v}),[ye,Xe]=Z.useState(()=>pe.selectedId!==void 0?pe.selectedId:r),Fe=n!==void 0?n:ye,$e=e.find(oe=>h(oe)===Fe),[K,Y]=Z.useState(void 0);Z.useEffect(()=>{if(Fe===void 0)return;Y(Fe);const oe=setTimeout(()=>Y(void 0),220);return()=>clearTimeout(oe)},[Fe]);const ne=Z.useRef(null),ee=Z.useRef(null),A=Z.useRef(null),G=Z.useRef(null),[re,ie]=Z.useState(()=>({contentIndex:0,secondaryIndex:0})),[q,ae]=Z.useState(()=>"nav"),[we,xe]=Z.useState(0),Ce=()=>[G.current,ee.current,A.current].filter(Boolean),je=oe=>{const be=Ce(),ce=Math.max(0,Math.min(oe,be.length-1));be[ce]?.focus(),xe(ce)},ue=Z.useCallback(oe=>oe?Array.from(oe.querySelectorAll('button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])')).filter(ce=>!ce.hasAttribute("disabled")&&ce.tabIndex!==-1):[],[]),Te=Z.useCallback(oe=>{const be=ue(ee.current);if(!be.length){ee.current?.focus();return}const ce=Math.max(0,Math.min(oe,be.length-1)),ve=be[ce];ve.focus(),setTimeout(()=>{document.activeElement!==ve&&(ve.focus(),setTimeout(()=>{document.activeElement!==ve&&ve.click()},10))},10),ie(Ae=>({...Ae,contentIndex:ce}));const Ue=Ae=>{Ae.key==="Escape"&&(Ae.preventDefault(),Ae.stopPropagation(),ee.current?.focus(),ve.removeEventListener("keydown",Ue))};be.forEach(Ae=>{const Re=Ae._escapeHandler;Re&&Ae.removeEventListener("keydown",Re)}),ve._escapeHandler=Ue,ve.addEventListener("keydown",Ue)},[ue]),Pe=Z.useCallback(oe=>{const be=ue(A.current);if(!be.length){A.current?.focus();return}const ce=Math.max(0,Math.min(oe,be.length-1)),ve=be[ce];ve.focus(),setTimeout(()=>{document.activeElement!==ve&&(ve.focus(),setTimeout(()=>{document.activeElement!==ve&&ve.click()},10))},10),ie(Ae=>({...Ae,secondaryIndex:ce}));const Ue=Ae=>{Ae.key==="Escape"&&(Ae.preventDefault(),Ae.stopPropagation(),A.current?.focus(),ve.removeEventListener("keydown",Ue))};be.forEach(Ae=>{const Re=Ae._escapeHandler;Re&&Ae.removeEventListener("keydown",Re)}),ve._escapeHandler=Ue,ve.addEventListener("keydown",Ue)},[ue]),Ke=oe=>{if(oe.defaultPrevented)return;const be=oe.key,ce=oe.target,ve=!!ut.current&&ut.current.contains(ce),Ue=!!ee.current&&ee.current.contains(ce),Ae=!!A.current&&A.current.contains(ce),Re=!!A.current,pr=ce===G.current||ce===ee.current||ce===A.current,Un=Le&&(_e==="list"||_e==="cards"),$i=Ue&&!!ce.closest(".nhs-navigation-split-view__header");if(q==="containers"&&pr){if(be==="ArrowRight"){oe.preventDefault();const ke=Ce(),He=Math.min(ke.length-1,we+1);je(He);return}if(be==="ArrowLeft"){oe.preventDefault();const ke=Math.max(0,we-1);je(ke);return}if(be==="Home"){oe.preventDefault(),je(0);return}if(be==="End"){oe.preventDefault(),je(Ce().length-1);return}if(be==="Enter"||be===" "){if(oe.preventDefault(),ce===G.current){if(ae("nav"),ut.current){const ke=Array.from(ut.current.querySelectorAll("[data-nav-item]"));(ke[Ve>=0?Ve:0]||ke[0])?.focus()}}else ce===ee.current?(ae("content"),Te(re.contentIndex)):ce===A.current&&(ae("secondary"),Pe(re.secondaryIndex));return}return}if(be==="Escape"){if(q==="content"||q==="secondary"){if(Ue||Ae){if(oe.preventDefault(),ae("nav"),ut.current){const He=Array.from(ut.current.querySelectorAll("[data-nav-item]"))[Ve>=0?Ve:0];setTimeout(()=>He?.focus(),10)}}else if((ce===ee.current||ce===A.current)&&(oe.preventDefault(),ae("nav"),ut.current)){const He=Array.from(ut.current.querySelectorAll("[data-nav-item]"))[Ve>=0?Ve:0];setTimeout(()=>He?.focus(),10)}}return}if(be==="Enter"||be===" "){if(ce.matches('button, a, input, select, textarea, [role="button"], [role="link"], [role="tab"]'))return;if(ce===ee.current&&q==="content"){oe.preventDefault(),oe.stopPropagation(),ue(ee.current).length>0&&setTimeout(()=>{Te(re.contentIndex)},50);return}if(ce===A.current&&q==="secondary"){oe.preventDefault(),oe.stopPropagation(),ue(A.current).length>0&&setTimeout(()=>{Pe(re.secondaryIndex)},50);return}}if(Un&&$i&&!pr&&(be==="ArrowRight"||be==="ArrowLeft")){const ke=ue(ee.current).filter(He=>He.closest(".nhs-navigation-split-view__header"));if(ke.length>1){const He=ke.indexOf(ce);if(He>=0){const Xp=(He+(be==="ArrowRight"?1:-1)+ke.length)%ke.length;oe.preventDefault(),ke[Xp].focus();return}}}if(be==="ArrowRight"){if(ve||q==="nav"){oe.preventDefault(),ae("content"),setTimeout(()=>ee.current?.focus(),10);return}if(Ue||q==="content"){Re&&(oe.preventDefault(),ae("secondary"),setTimeout(()=>A.current?.focus(),10));return}}if(be==="ArrowLeft"){if(Ae||q==="secondary"){oe.preventDefault(),ae("content"),setTimeout(()=>ee.current?.focus(),10);return}if(Ue||q==="content"){if(oe.preventDefault(),ae("nav"),ut.current){const He=Array.from(ut.current.querySelectorAll("[data-nav-item]"))[Ve>=0?Ve:0];setTimeout(()=>He?.focus(),10)}return}}if(be==="Home"&&!ve&&(oe.preventDefault(),ae("nav"),ut.current)){const ke=Array.from(ut.current.querySelectorAll("[data-nav-item]")),He=ke[Ve>=0?Ve:0]||ke[0];setTimeout(()=>He?.focus(),10)}if(be==="End"){const ke=Re?A.current:ee.current;ke&&!ke.contains(ce)&&(oe.preventDefault(),Re?(ae("secondary"),setTimeout(()=>A.current?.focus(),10)):(ae("content"),setTimeout(()=>ee.current?.focus(),10)))}if(be==="ArrowDown"||be==="ArrowUp"){if(ce===ee.current&&be==="ArrowDown"){oe.preventDefault(),ue(ee.current).length>0&&Te(0);return}if(ce===A.current&&be==="ArrowDown"){oe.preventDefault(),ue(A.current).length>0&&Pe(0);return}if(Ue){const ke=ue(ee.current);if(ke.length){oe.preventDefault();const He=be==="ArrowDown"?1:-1,Qt=(re.contentIndex+He+ke.length)%ke.length;Te(Qt)}}else if(Ae){const ke=ue(A.current);if(ke.length){oe.preventDefault();const He=be==="ArrowDown"?1:-1,Qt=(re.secondaryIndex+He+ke.length)%ke.length;Pe(Qt)}}}},Le=!!$e&&(_e==="list"||_e==="cards"),mt=Z.useMemo(()=>Q===void 0?{mobile:!0,tablet:!1,desktop:!1}:Q===!0?{mobile:!0,tablet:!0,desktop:!0}:Q===!1?{mobile:!1,tablet:!1,desktop:!1}:{mobile:Q.mobile!==void 0?Q.mobile:!0,tablet:Q.tablet||!1,desktop:Q.desktop||!1},[Q]),wn=se&&te("medium")&&!te("xlarge"),cn=se&&te("xlarge"),Zt=!!l,Qe=_e==="three-column",[it,xa]=Z.useState(!1);Z.useEffect(()=>{Qe&&it&&xa(!1)},[Qe,it]),Z.useEffect(()=>{it&&!Qe&&(ae("secondary"),xe(2),setTimeout(()=>{A.current?.focus()},50))},[it,Qe]),Z.useEffect(()=>{!it&&!Qe&&q==="secondary"&&(ae("content"),xe(1),setTimeout(()=>{ee.current?.focus()},50))},[it,Qe,q]);const xl=!!$e&&(Le&&mt.mobile||!Le&&wn&&mt.tablet||!Le&&cn&&mt.desktop)||Zt&&!Qe,s1=`h${he}`,vl=$e?Z.createElement(s1,{style:{marginLeft:Le?32:0,marginRight:Le?32:0}},$e.label):null,Vp=Le?"mobile":wn?"tablet":"desktop",o1=Zt&&!Qe&&!it,Sl=Le&&mt.mobile?o.jsx(wa,{element:"button",text:d,style:{marginRight:16},onClick:()=>mr(void 0,void 0)}):void 0,wl=o1?o.jsx(ru,{element:"button",text:m,onClick:()=>{xa(!0)}}):void 0,kl=!Qe&&it?o.jsx(wa,{element:"button",text:d,style:{marginRight:16},onClick:()=>xa(!1)}):void 0,l1=Z.useMemo(()=>{if(!xl||!$e)return null;if(le)return le({item:$e,detailActive:Le,context:Vp,backLink:Sl,defaultHeading:vl});const oe=$e&&J?typeof J=="function"?J($e):J:null;return o.jsxs("div",{style:{display:"flex",alignItems:"center",width:"100%"},children:[o.jsxs("div",{style:{display:"flex",alignItems:"center",gap:0,flex:"1 1 auto",minWidth:0},children:[kl||Sl,o.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:4,minWidth:0},children:[vl,oe&&o.jsx("div",{className:"nhs-navigation-split-view__subheader",children:oe})]})]}),wl&&o.jsx("div",{style:{marginLeft:"auto"},children:wl})]})},[xl,$e,le,Le,Vp,Sl,kl,vl,wl,J]);Z.useEffect(()=>{if(!k)return;const oe=_e==="three-column";let be=!1;const ce=()=>{be||(pe.selectedId!==Fe&&pe.setSelectedId(Fe),pe.drilledIn!==oe&&pe.setDrilledIn(oe))};if(N&&N>0){const ve=setTimeout(ce,N);return()=>{be=!0,clearTimeout(ve)}}else ce()},[k,pe,Fe,_e,N]),Z.useEffect(()=>{if(!k)return;const oe=()=>{const be=new URLSearchParams(window.location.search),ce=be.get(D);be.get(v),Xe(ce===null?void 0:ce)};return window.addEventListener("popstate",oe),()=>window.removeEventListener("popstate",oe)},[k,D,v,u,l]);const Mi=Z.useRef(0),un=Z.useRef(null),mr=Z.useCallback((oe,be)=>{oe!==Fe&&(n===void 0&&Xe(oe),a?.(oe,be))},[n,a,Fe]);Z.useEffect(()=>{if(!x&&Le&&ee.current){const oe=setTimeout(()=>ee.current?.focus(),30);return()=>clearTimeout(oe)}},[Le,Fe,x]);const ut=Z.useRef(null),[Ve,va]=Z.useState(()=>w==="first"?0:-1);Z.useEffect(()=>{if(Ve<0||!ut.current)return;const be=Array.from(ut.current.querySelectorAll("[data-nav-item]"))[Ve];if(be){document.activeElement!==be&&be.focus(),Mi.current=Ve;const ce=e[Ve];T?.(ce?h(ce):void 0,ce,Ve)}},[Ve,e,T,h]);const c1=oe=>{const be=$==="vertical"?"ArrowDown":"ArrowRight",ce=$==="vertical"?"ArrowUp":"ArrowLeft";if(oe.key==="ArrowRight"&&$==="vertical"){oe.preventDefault(),it?(ae("secondary"),setTimeout(()=>{A.current?.focus()},10)):(ae("content"),setTimeout(()=>{ee.current?.focus()},10));return}if(oe.key===be)oe.preventDefault(),va(ve=>Math.min(e.length-1,ve+1));else if(oe.key===ce)oe.preventDefault(),va(ve=>Math.max(0,ve-1));else if(oe.key==="Home")oe.preventDefault(),va(0);else if(oe.key==="End")oe.preventDefault(),va(e.length-1);else if(oe.key==="Enter"||oe.key===" "){oe.preventDefault();const ve=e[Ve];ve&&!ve.disabled&&mr(h(ve),ve)}else if(oe.key.length===1&&/[a-z0-9]/i.test(oe.key)){un.current||(un.current={buffer:"",last:0});const ve=Date.now(),Ue=700,Ae=oe.key.toLowerCase();ve-un.current.last>Ue?un.current.buffer=Ae:un.current.buffer+=Ae,un.current.last=ve;let Re=un.current.buffer;const pr=Re.split("").every(Qt=>Qt===Re[0]),Un=e.map(Qt=>String(Qt.label||"").toLowerCase());let $i=0;Ve>=0&&($i=(Ve+1)%e.length);let ke;const He=(Qt,Xp)=>{const Kp=e.length;for(let Nl=0;Nl<Kp;Nl++){const jl=($i+Nl)%Kp;if(!e[jl].disabled&&Un[jl].startsWith(Qt))return jl}};pr&&Re.length>1?ke=He(Re[0]):(ke=He(Re),ke===void 0&&Re.length>1&&(ke=He(Re[Re.length-1]),ke!==void 0&&un.current&&(un.current.buffer=Re[Re.length-1]))),ke!==void 0&&va(ke)}},u1=Z.useMemo(()=>{if(L&&(L==="url"||L==="both")&&typeof window<"u"){const be=new URLSearchParams(window.location.search).get(O);if(be==="1")return!0;if(be==="0")return!1}if(L&&(L==="localStorage"||L==="both")&&typeof window<"u")try{const oe=window.localStorage.getItem(U);if(oe==="1")return!0;if(oe==="0")return!1}catch{}return F},[L,F,U,O]),[Jt,d1]=Z.useState(u1);Z.useEffect(()=>{j?.(Jt)},[Jt,j]);const f1=Z.useCallback(()=>{ge&&P&&d1(oe=>!oe)},[ge,P]);Z.useEffect(()=>{if(L&&!(typeof window>"u")){if(L==="localStorage"||L==="both")try{window.localStorage.setItem(U,Jt?"1":"0")}catch{}if(L==="url"||L==="both"){const oe=new URLSearchParams(window.location.search);oe.set(O,Jt?"1":"0");const be=`${window.location.pathname}?${oe.toString()}${window.location.hash}`;window.history.replaceState(null,"",be)}}},[Jt,L,U,O]);const h1=["nhs-navigation-split-view",c?"nhs-navigation-split-view--animated":"",Le?"nhs-navigation-split-view--detail-active":"",_e==="three-column"?"nhs-navigation-split-view--three-column":"",P&&ge&&Jt?"nhs-navigation-split-view--nav-collapsed":"",f].filter(Boolean).join(" "),Cl=Z.useRef(null);Z.useEffect(()=>{if(!M&&Cl.current){const oe=$e?`Selected ${$e.label}`:"Selection cleared";Cl.current.textContent=oe}},[$e,M]),Z.useEffect(()=>{!Le&&Fe==null&&ut.current&&ut.current.querySelectorAll("[data-nav-item]")[Mi.current]?.focus()},[Le,Fe]);const kn=_e==="three-column",[Tl,m1]=Z.useState(!1);Z.useEffect(()=>{kn&&!Tl&&m1(!0)},[kn,Tl]);const qp=Z.useRef(kn);Z.useEffect(()=>{qp.current!==kn&&(S?.(kn),qp.current=kn)},[kn,S]);const p1=()=>{if(_e==="cards")return o.jsxs("ul",{className:"nhs-navigation-split-view__cards",role:"listbox","aria-activedescendant":Fe?String(Fe):void 0,children:[e.map(ce=>{const ve=h(ce),Ue=ve===Fe;return o.jsx("li",{className:"nhs-navigation-split-view__card-item",role:"option","aria-selected":Ue,children:o.jsxs("button",{id:String(ve),type:"button",className:"nhs-navigation-split-view__card","data-selected":Ue||void 0,"data-disabled":ce.disabled||void 0,disabled:ce.disabled,onClick:()=>!ce.disabled&&mr(ve,ce),children:[ce.icon&&o.jsx("span",{className:"nhs-navigation-split-view__item-icon",children:ce.icon}),o.jsx("span",{className:"nhs-navigation-split-view__item-label",children:ce.label}),ce.description&&o.jsx("span",{className:"nhs-navigation-split-view__item-description",children:ce.description}),i?.(ce),ce.badge!==void 0&&o.jsx("span",{className:"nhs-navigation-split-view__badge",children:ce.badge})]})},ve)}),e.length===0&&!p&&o.jsx("li",{className:"nhs-navigation-split-view__card-item","aria-disabled":"true",children:b||o.jsx("div",{style:{padding:16},children:"No items"})})]});const oe="nsv-nav-instructions",be=Z.useMemo(()=>Z.memo(({item:ce,idx:ve,selected:Ue,focused:Ae})=>{const Re=h(ce),pr=ce.disabled?{"aria-disabled":!0,tabIndex:-1}:{tabIndex:Ae?0:-1,onClick:()=>{Mi.current=ve,mr(Re,ce)},onKeyDown:Un=>{(Un.key==="Enter"||Un.key===" ")&&(Un.preventDefault(),Mi.current=ve,mr(Re,ce))}};return o.jsxs("li",{id:String(Re),"data-nav-item":!0,className:"nhs-navigation-split-view__list-item nhs-navigation-split-view__item-button",role:"option","aria-selected":Ue,"aria-current":Ue?"true":void 0,"data-selected":Ue||void 0,"data-disabled":ce.disabled||void 0,...pr,children:[ce.icon&&o.jsx("span",{className:"nhs-navigation-split-view__item-icon",children:ce.icon}),o.jsxs("span",{className:"nhs-navigation-split-view__item-content",children:[o.jsx("span",{className:"nhs-navigation-split-view__item-label",children:ce.label}),ce.description&&o.jsx("span",{className:"nhs-navigation-split-view__item-description",children:ce.description}),i?.(ce)]}),ce.badge!==void 0&&o.jsx("span",{className:"nhs-navigation-split-view__badge",children:ce.badge})]})}),[h,mr,i]);return o.jsxs(o.Fragment,{children:[o.jsxs("ul",{ref:ut,className:"nhs-navigation-split-view__list",onKeyDown:c1,role:"listbox","aria-label":"Navigation items","aria-describedby":oe,"aria-activedescendant":Fe?String(Fe):void 0,children:[e.map((ce,ve)=>o.jsx(be,{item:ce,idx:ve,selected:h(ce)===Fe,focused:ve===Ve||Ve===-1&&ve===0&&w==="first","data-just-selected":h(ce)===K?"true":void 0},h(ce))),e.length===0&&!p&&o.jsx("li",{className:"nhs-navigation-split-view__list-item","aria-disabled":"true",children:b||o.jsx("div",{style:{padding:16},children:"No items"})})]}),o.jsx("div",{id:oe,style:{position:"absolute",width:1,height:1,overflow:"hidden",clip:"rect(0 0 0 0)"},children:y})]})};return o.jsx("div",{ref:ne,className:h1,"aria-label":_?.rootLabel,"data-layout":_e,onKeyDown:Ke,children:o.jsxs("div",{className:"nhs-navigation-split-view__body",children:[o.jsxs("div",{className:"nhs-navigation-split-view__panes","data-active-detail":Le||void 0,style:{transform:Le?"translateX(-100%)":void 0},children:[o.jsxs("div",{ref:G,className:"nhs-navigation-split-view__nav-pane",role:"navigation","aria-label":_?.navigationLabel||"Items","data-collapsed":Jt||void 0,tabIndex:0,children:[P&&ge&&o.jsx("div",{className:"nhs-navigation-split-view__nav-collapse",children:o.jsx("button",{type:"button",onClick:f1,className:"nhs-navigation-split-view__nav-collapse-btn","aria-label":Jt?H:B,title:Jt?H:B,children:Jt?E||o.jsx(Y_,{}):W||o.jsx(G_,{})})}),o.jsx("div",{className:"nhs-navigation-split-view__nav-scroll",children:p1()}),R&&o.jsx("div",{className:"nhs-navigation-split-view__nav-footer",role:"contentinfo",children:R})]}),o.jsxs("div",{ref:ee,className:"nhs-navigation-split-view__content-pane",role:"region","aria-label":_?.contentLabel||"Content","data-has-selection":!!$e||void 0,tabIndex:0,style:{display:it&&!Qe?"none":void 0},children:[xl&&o.jsx("div",{className:"nhs-navigation-split-view__header",children:l1}),o.jsx("div",{className:"nhs-navigation-split-view__content-inner",style:{padding:32,flex:1},children:s($e)})]}),_e==="three-column"&&(!z||Tl)||it&&!Qe?o.jsx("div",{ref:A,className:"nhs-navigation-split-view__secondary-pane",role:"region","aria-label":_?.secondaryContentLabel||"Secondary",tabIndex:0,children:o.jsxs("div",{className:"nhs-navigation-split-view__secondary-inner",style:{display:"flex",flexDirection:"column",flex:1,minWidth:0},children:[it&&!Qe&&o.jsx("div",{className:"nhs-navigation-split-view__header",children:o.jsx("div",{style:{display:"flex",alignItems:"center",width:"100%"},children:o.jsxs("div",{style:{display:"flex",alignItems:"center",gap:0,flex:"1 1 auto",minWidth:0},children:[kl,o.jsx("div",{style:{display:"flex",flexDirection:"column",gap:4,minWidth:0},children:o.jsx("h2",{style:{marginLeft:0,marginRight:0},children:$e&&typeof $e=="object"&&"label"in $e?$e.label:String($e)})})]})})}),$e&&X&&o.jsx("div",{className:"nhs-navigation-split-view__secondary-header",style:{padding:"16px 32px",borderBottom:"1px solid var(--nsplit-divider)"},children:typeof X=="function"?X($e):X}),o.jsx("div",{style:{padding:32,flex:1,minWidth:0},children:l?.($e)})]})}):null]}),o.jsx("div",{ref:Cl,"aria-live":"polite","aria-atomic":"true",style:{position:"absolute",width:1,height:1,overflow:"hidden",clip:"rect(0 0 0 0)"}}),o.jsx("div",{"aria-live":"polite",style:{position:"absolute",width:1,height:1,overflow:"hidden",clip:"rect(0 0 0 0)"},children:kn?"Expanded to three column layout":"In two column layout"})]})})}su.displayName="NavigationSplitView";const ou=(t,e,n,r)=>t==null||Number.isNaN(t)?r:Math.min(n,Math.max(e,t)),V_=({item:t,maxLines:e,enableDrilldown:n,onExpand:r,isActive:a,topLaneIndex:i})=>{const{ariaLabel:s}=t,l=`${t._pxLeft}px`,u=`${t._pxWidth}px`,c=`calc((var(--roadmap-item-block-height) + var(--roadmap-row-gap)) * ${i})`,d=Math.floor(t._startFraction)+2,m=Math.max(1,Math.round(t._spanColumns)),p=n&&t.childItems&&t.childItems.length>0,b=f=>{p&&(f.preventDefault(),r?.(t))},_=p?{role:"button",tabIndex:0,"aria-haspopup":"dialog","aria-expanded":a||!1,onClick:b,onKeyDown:f=>{(f.key==="Enter"||f.key===" ")&&b(f),f.key==="Escape"&&a&&b(f)}}:{};return o.jsxs("div",{className:de("nhsuk-product-roadmap__item",p&&"nhsuk-product-roadmap__item--expandable",a&&"nhsuk-product-roadmap__item--active"),style:{left:l,width:u,top:c,"--item-height":e},role:"gridcell","aria-label":s,"aria-colindex":d,"aria-colspan":m,..._,children:[o.jsx("div",{className:"nhsuk-product-roadmap__item-bg","aria-hidden":"true"}),o.jsxs("div",{className:"nhsuk-product-roadmap__item-content",children:[o.jsx("span",{className:"nhsuk-product-roadmap__item-title",children:t.title}),p&&o.jsx("span",{className:de("nhsuk-product-roadmap__item-expander",a&&"nhsuk-product-roadmap__item-expander--open"),"aria-hidden":"true"})]})]})},lu=I.memo(({dateHeadings:t,categories:e,columnWidthPx:n=400,itemMaxLines:r=2,className:a,ariaLabel:i="Product roadmap",enableDrilldown:s=!1,onToggleItem:l,drilldownMode:u="overlay",...c})=>{const[d,m]=I.useState(()=>new Set),[p,b]=I.useState(()=>new Set),_=I.useRef(new Set),f=I.useCallback(N=>d.has(N),[d]),h=I.useCallback(N=>{m(z=>{const R=new Set(z);return R.has(N.id)?(R.delete(N.id),b(P=>{const F=new Set(P);return F.add(N.id),F}),setTimeout(()=>b(P=>{const F=new Set(P);return F.delete(N.id),F}),240),l?.(N.id,!1)):(R.add(N.id),l?.(N.id,!0)),R})},[l]);I.useLayoutEffect(()=>{if(u!=="inline"||!s)return;const N=[];if(d.forEach(F=>{_.current.has(F)||N.push(F)}),_.current=new Set(d),!N.length)return;const z=typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-reduced-motion: reduce)").matches,R=N.map(F=>`.nhsuk-product-roadmap__inline-children[data-parent="${F}"] .nhsuk-product-roadmap__inline-child`).join(","),P=Array.from(document.querySelectorAll(R));if(P.length){if(z){P.forEach(F=>{F.style.opacity="1",F.style.transform="translateY(0)"});return}Promise.resolve().then(()=>i1).then(F=>{(F.gsap||F.default||F).to(P,{opacity:1,y:0,duration:.32,ease:"power2.out",stagger:.05})}).catch(()=>{P.forEach(F=>{F.style.opacity="1",F.style.transform="translateY(0)"})})}},[d,u,s]);const $=I.useCallback(()=>{d.size&&m(new Set)},[d]),C=de("nhsuk-product-roadmap",a),S=ou(n,120,1200,400),y=ou(r,1,6,2),w=I.useMemo(()=>t.map(N=>new Date(N+" 01")),[t]),x=I.useMemo(()=>{if(w.length===0){const R=new Date;return[R,R]}const N=new Date(w[0]),z=kr.offset(new Date(w[w.length-1]),1);return[N,z]},[w]),M=I.useMemo(()=>os().domain(x).range([0,w.length*S]),[x,w.length,S]),T=I.useCallback(N=>{if(N.startDate){const B=new Date(N.startDate),E=new Date(N.endDate??N.startDate);E<B&&E.setTime(B.getTime());const W=M(B),L=kr.offset(new Date(E),1);let U=M(L);Number.isFinite(U)||(U=W+S);const O=Math.max(S*.25,U-W),Q=W/S,he=O/S;return{...N,_pxLeft:W,_pxWidth:O,_startFraction:Q,_spanColumns:he}}const z=N.date??1,R=N.dateOffset??0,P=N.length??1,F=N.partialLength??1,j=z-1+R,H=P-1+F;return{...N,_pxLeft:j*S,_pxWidth:H*S,_startFraction:j,_spanColumns:H}},[M,S]),k=I.useMemo(()=>e.map(N=>{const R=N.roadmapItems.map(F=>{const j=!F.childItems&&F.children?{...F,childItems:F.children}:{...F};return T(j)}).sort((F,j)=>F._pxLeft!==j._pxLeft?F._pxLeft-j._pxLeft:j._pxWidth-F._pxWidth),P=[];return R.forEach(F=>{const j=F._pxLeft,H=F._pxLeft+F._pxWidth;let B=P.findIndex(E=>E<=j);B===-1&&(B=P.length,P.push(0)),P[B]=H,F.verticalPosition=B+1}),{...N,roadmapItems:R,_laneCount:P.length}}),[e,T]),D=I.useMemo(()=>k.map(N=>N._laneCount||1),[k]),v=I.useMemo(()=>`var(--category-width) ${t.map(()=>"var(--column-width)").join(" ")}`,[t]);return o.jsxs("div",{className:C,style:{"--column-width":`${S}px`,gridTemplateColumns:v},role:"grid","aria-label":i,"aria-colcount":t.length+1,"aria-rowcount":k.length+1,...c,children:[o.jsxs("div",{className:"nhsuk-product-roadmap__header-row",role:"row","aria-rowindex":1,children:[o.jsx("div",{className:"nhsuk-product-roadmap__header-cell",role:"columnheader","aria-colindex":1,children:o.jsx("span",{className:"nhsuk-visually-hidden",children:"Category"})}),t.map((N,z)=>o.jsx("div",{className:"nhsuk-product-roadmap__date-heading",role:"columnheader","aria-colindex":z+2,children:N},N+z))]}),k.map((N,z)=>{const R=z+2,P=D[z];let F,j=0,H=[];s&&u==="inline"&&(H=N.roadmapItems.filter(L=>f(L.id)&&L.childItems&&L.childItems.length).map(L=>({id:L.id,lane:L.verticalPosition||1,count:L.childItems.length})).sort((L,U)=>L.lane-U.lane),j=H.reduce((L,U)=>L+U.count,0));const B=P+j;F=`calc((${B} * var(--roadmap-item-block-height)) + (max(0, ${B} - 1) * var(--roadmap-row-gap)))`;const E={};let W=0;return H.forEach(L=>{W+=L.count,E[L.lane+1]=W}),o.jsxs("div",{className:"nhsuk-product-roadmap__row",role:"row","aria-rowindex":R,children:[o.jsx("div",{className:"nhsuk-product-roadmap__category-cell",role:"rowheader","aria-colindex":1,children:N.heading}),o.jsx("div",{className:"nhsuk-product-roadmap__items-row",style:{gridColumn:`2 / span ${t.length}`,height:F},children:o.jsx("div",{className:"nhsuk-product-roadmap__items-layer",children:N.roadmapItems.map(L=>{const U=(L.verticalPosition||1)-1,O=H.filter(J=>J.lane-1<U).reduce((J,X)=>J+X.count,0),Q=U+O,he=f(L.id),le=p.has(L.id);return o.jsxs(I.Fragment,{children:[o.jsx(V_,{item:L,maxLines:y,enableDrilldown:s,onExpand:h,isActive:he,topLaneIndex:Q,laneOffset:O}),s&&u==="inline"&&(he||le)&&L.childItems&&o.jsx("div",{"data-parent":L.id,className:"nhsuk-product-roadmap__inline-children","aria-label":`${L.title} child tasks`,children:L.childItems.map((J,X)=>{const te="calc(var(--roadmap-item-block-height) * 0.75)";let se=L._pxLeft,V=L._pxWidth;if(J.startDate){const _e=new Date(J.startDate);let pe=J.endDate?new Date(J.endDate):new Date(_e);pe<_e&&(pe=new Date(_e));const ye=new Date(pe);ye.setDate(ye.getDate()+1);const Xe=M(_e);let Fe=M(ye);(!Number.isFinite(Fe)||Fe<=Xe)&&(Fe=Xe+6),se=Xe,V=Math.max(6,Fe-Xe)}const me=Q+1+X;return o.jsxs("div",{className:de("nhsuk-product-roadmap__inline-child",J.status&&`nhsuk-product-roadmap__inline-child--status-${J.status}`,!he&&le&&"nhsuk-product-roadmap__inline-child--collapsing"),style:{left:`${se}px`,width:`${V}px`,top:`calc((var(--roadmap-item-block-height) + var(--roadmap-row-gap)) * ${me})`,height:te,opacity:he?0:void 0,transform:he?"translateY(-6px)":void 0},children:[o.jsx("div",{className:"nhsuk-product-roadmap__inline-child-bg"}),o.jsx("div",{className:"nhsuk-product-roadmap__inline-child-content",children:J.title})]},J.id)})})]},L.id)})})})]},N.heading+z)}),s&&u==="overlay"&&d.size===1&&(()=>{const N=Array.from(d)[0],z=e.flatMap(R=>R.roadmapItems).find(R=>R.id===N);return!z||!z.childItems?null:o.jsxs("div",{className:"nhsuk-product-roadmap__drilldown-overlay",role:"dialog","aria-modal":"true","aria-label":`${z.title} details`,children:[o.jsxs("div",{className:"nhsuk-product-roadmap__drilldown-panel",children:[o.jsxs("header",{className:"nhsuk-product-roadmap__drilldown-header",children:[o.jsx("h3",{className:"nhsuk-product-roadmap__drilldown-title",children:z.title}),o.jsx("button",{type:"button",className:"nhsuk-product-roadmap__drilldown-close",onClick:$,"aria-label":"Close details",children:"Ã—"})]}),o.jsx("div",{className:"nhsuk-product-roadmap__drilldown-content",children:z.content}),o.jsx("ul",{className:"nhsuk-product-roadmap__drilldown-children",children:z.childItems.map(R=>o.jsxs("li",{className:"nhsuk-product-roadmap__drilldown-child",children:[o.jsx("strong",{className:"nhsuk-product-roadmap__drilldown-child-title",children:R.title}),R.content&&o.jsx("div",{className:"nhsuk-product-roadmap__drilldown-child-content",children:R.content})]},R.id))})]}),o.jsx("div",{className:"nhsuk-product-roadmap__drilldown-backdrop",onClick:$,"aria-hidden":"true"})]})})()]})});lu.displayName="ProductRoadmap";function nt(t){return function(){return t}}const ys=Math.PI,xs=2*ys,Mn=1e-6,q_=xs-Mn;function cu(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function X_(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return cu;const n=10**e;return function(r){this._+=r[0];for(let a=1,i=r.length;a<i;++a)this._+=Math.round(arguments[a]*n)/n+r[a]}}class K_{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?cu:X_(e)}moveTo(e,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,n){this._append`L${this._x1=+e},${this._y1=+n}`}quadraticCurveTo(e,n,r,a){this._append`Q${+e},${+n},${this._x1=+r},${this._y1=+a}`}bezierCurveTo(e,n,r,a,i,s){this._append`C${+e},${+n},${+r},${+a},${this._x1=+i},${this._y1=+s}`}arcTo(e,n,r,a,i){if(e=+e,n=+n,r=+r,a=+a,i=+i,i<0)throw new Error(`negative radius: ${i}`);let s=this._x1,l=this._y1,u=r-e,c=a-n,d=s-e,m=l-n,p=d*d+m*m;if(this._x1===null)this._append`M${this._x1=e},${this._y1=n}`;else if(p>Mn)if(!(Math.abs(m*u-c*d)>Mn)||!i)this._append`L${this._x1=e},${this._y1=n}`;else{let b=r-s,_=a-l,f=u*u+c*c,h=b*b+_*_,$=Math.sqrt(f),C=Math.sqrt(p),S=i*Math.tan((ys-Math.acos((f+p-h)/(2*$*C)))/2),y=S/C,w=S/$;Math.abs(y-1)>Mn&&this._append`L${e+y*d},${n+y*m}`,this._append`A${i},${i},0,0,${+(m*b>d*_)},${this._x1=e+w*u},${this._y1=n+w*c}`}}arc(e,n,r,a,i,s){if(e=+e,n=+n,r=+r,s=!!s,r<0)throw new Error(`negative radius: ${r}`);let l=r*Math.cos(a),u=r*Math.sin(a),c=e+l,d=n+u,m=1^s,p=s?a-i:i-a;this._x1===null?this._append`M${c},${d}`:(Math.abs(this._x1-c)>Mn||Math.abs(this._y1-d)>Mn)&&this._append`L${c},${d}`,r&&(p<0&&(p=p%xs+xs),p>q_?this._append`A${r},${r},0,1,${m},${e-l},${n-u}A${r},${r},0,1,${m},${this._x1=c},${this._y1=d}`:p>Mn&&this._append`A${r},${r},0,${+(p>=ys)},${m},${this._x1=e+r*Math.cos(i)},${this._y1=n+r*Math.sin(i)}`)}rect(e,n,r,a){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${r=+r}v${+a}h${-r}Z`}toString(){return this._}}function uu(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(n==null)e=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);e=r}return t},()=>new K_(e)}function du(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function fu(t){this._context=t}fu.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function hu(t){return new fu(t)}function mu(t){return t[0]}function pu(t){return t[1]}function gu(t,e){var n=nt(!0),r=null,a=hu,i=null,s=uu(l);t=typeof t=="function"?t:t===void 0?mu:nt(t),e=typeof e=="function"?e:e===void 0?pu:nt(e);function l(u){var c,d=(u=du(u)).length,m,p=!1,b;for(r==null&&(i=a(b=s())),c=0;c<=d;++c)!(c<d&&n(m=u[c],c,u))===p&&((p=!p)?i.lineStart():i.lineEnd()),p&&i.point(+t(m,c,u),+e(m,c,u));if(b)return i=null,b+""||null}return l.x=function(u){return arguments.length?(t=typeof u=="function"?u:nt(+u),l):t},l.y=function(u){return arguments.length?(e=typeof u=="function"?u:nt(+u),l):e},l.defined=function(u){return arguments.length?(n=typeof u=="function"?u:nt(!!u),l):n},l.curve=function(u){return arguments.length?(a=u,r!=null&&(i=a(r)),l):a},l.context=function(u){return arguments.length?(u==null?r=i=null:i=a(r=u),l):r},l}function Z_(t,e,n){var r=null,a=nt(!0),i=null,s=hu,l=null,u=uu(c);t=typeof t=="function"?t:t===void 0?mu:nt(+t),e=typeof e=="function"?e:nt(e===void 0?0:+e),n=typeof n=="function"?n:n===void 0?pu:nt(+n);function c(m){var p,b,_,f=(m=du(m)).length,h,$=!1,C,S=new Array(f),y=new Array(f);for(i==null&&(l=s(C=u())),p=0;p<=f;++p){if(!(p<f&&a(h=m[p],p,m))===$)if($=!$)b=p,l.areaStart(),l.lineStart();else{for(l.lineEnd(),l.lineStart(),_=p-1;_>=b;--_)l.point(S[_],y[_]);l.lineEnd(),l.areaEnd()}$&&(S[p]=+t(h,p,m),y[p]=+e(h,p,m),l.point(r?+r(h,p,m):S[p],n?+n(h,p,m):y[p]))}if(C)return l=null,C+""||null}function d(){return gu().defined(a).curve(s).context(i)}return c.x=function(m){return arguments.length?(t=typeof m=="function"?m:nt(+m),r=null,c):t},c.x0=function(m){return arguments.length?(t=typeof m=="function"?m:nt(+m),c):t},c.x1=function(m){return arguments.length?(r=m==null?null:typeof m=="function"?m:nt(+m),c):r},c.y=function(m){return arguments.length?(e=typeof m=="function"?m:nt(+m),n=null,c):e},c.y0=function(m){return arguments.length?(e=typeof m=="function"?m:nt(+m),c):e},c.y1=function(m){return arguments.length?(n=m==null?null:typeof m=="function"?m:nt(+m),c):n},c.lineX0=c.lineY0=function(){return d().x(t).y(e)},c.lineY1=function(){return d().x(t).y(n)},c.lineX1=function(){return d().x(r).y(e)},c.defined=function(m){return arguments.length?(a=typeof m=="function"?m:nt(!!m),c):a},c.curve=function(m){return arguments.length?(s=m,i!=null&&(l=s(i)),c):s},c.context=function(m){return arguments.length?(m==null?i=l=null:l=s(i=m),c):i},c}function bu(t){return t<0?-1:1}function _u(t,e,n){var r=t._x1-t._x0,a=e-t._x1,i=(t._y1-t._y0)/(r||a<0&&-0),s=(n-t._y1)/(a||r<0&&-0),l=(i*a+s*r)/(r+a);return(bu(i)+bu(s))*Math.min(Math.abs(i),Math.abs(s),.5*Math.abs(l))||0}function yu(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function vs(t,e,n){var r=t._x0,a=t._y0,i=t._x1,s=t._y1,l=(i-r)/3;t._context.bezierCurveTo(r+l,a+l*e,i-l,s-l*n,i,s)}function Va(t){this._context=t}Va.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:vs(this,this._t0,yu(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,vs(this,yu(this,n=_u(this,t,e)),n);break;default:vs(this,this._t0,n=_u(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}},Object.create(Va.prototype).point=function(t,e){Va.prototype.point.call(this,e,t)};function xu(t){return new Va(t)}function J_(t,e,n){const r=Gl(t,e);return os().domain(r).range(n)}function vu(t,e,n){const[r,a]=Gl(t,e);if(!(Number.isFinite(r)&&Number.isFinite(a)))return Zi().domain([0,0]).range(n);let s;if(r<=0)s=Math.min(0,r);else{const u=a-r,c=(u>0?u:r)*.1;s=Math.max(0,r-c),s===r&&(s=Math.max(0,r*.9))}const l=a??0;return Zi().domain([s,l]).nice().range(n)}function Q_(t,e,n,r){const a=gu().x(e).y(n);return r?.smooth!==!1&&a.curve(xu),a(t)??""}function ey(t={}){const e=Z.useRef(null),n=Z.useMemo(()=>({top:t.top??16,right:t.right??16,bottom:t.bottom??32,left:t.left??48}),[t.bottom,t.left,t.right,t.top]),[r,a]=Z.useState({width:0,height:0});Z.useLayoutEffect(()=>{if(!e.current)return;const l=new ResizeObserver(u=>{for(const c of u){const{width:d,height:m}=c.contentRect;a({width:d,height:m})}});return l.observe(e.current),()=>l.disconnect()},[]);const i=Math.max(0,r.width-n.left-n.right),s=Math.max(0,r.height-n.top-n.bottom);return{width:r.width,height:r.height,innerWidth:i,innerHeight:s,margin:n,ref:e}}const Su=Z.createContext(null);function Dr(){return Z.useContext(Su)}const ty=({height:t=240,margin:e,width:n,className:r="fdp-chart",children:a,role:i="group",ariaLabel:s})=>{const l=ey(e),u={height:t,position:"relative"};return n!==void 0&&(u.width=typeof n=="number"?`${n}px`:n),o.jsx("div",{ref:l.ref,className:r,style:u,role:i,"aria-label":s,children:o.jsx(Su.Provider,{value:l,children:a})})},wu=Z.createContext(null),Mr=()=>Z.useContext(wu),ny=({series:t,innerWidth:e,innerHeight:n,parseX:r,children:a,xTickCount:i=6,yTickCount:s=5,yDomain:l,xPadding:u,yPadding:c})=>{const d=Dr(),m=e??d?.innerWidth??0,p=n??d?.innerHeight??0,b=Z.useMemo(()=>t.flatMap(y=>y.data),[t]),_=Z.useCallback(y=>{if(r)return r(y);const w=y.x;return w instanceof Date?w:new Date(w)},[r]),f=u??6,h=c??6,$=Z.useMemo(()=>J_(b,_,[f,Math.max(0,m-f)]),[b,_,m,f]),C=Z.useMemo(()=>{if(l){const y=vu([],w=>w.y,[Math.max(0,p-h),h]);return y.domain(l),y}return vu(b,y=>y.y,[Math.max(0,p-h),h])},[b,p,l]),S=Z.useMemo(()=>({xScale:$,yScale:C,getXTicks:(y=i)=>$.ticks(y),getYTicks:(y=s)=>C.ticks(y)}),[$,C,i,s]);return o.jsx(wu.Provider,{value:S,children:a})},ku=({type:t,scale:e,tickCount:n,tickValues:r,formatTick:a,label:i,offset:s,className:l,minLabelSpacing:u,maxTickLabelLength:c,autoMinLabelSpacing:d=t==="x",labelAngle:m=0,allowLabelWrap:p=!0,tickFormatPreset:b})=>{const _=Mr(),f=Dr(),h=e||(t==="x"?_?.xScale:_?.yScale),$=n??(t==="x"?6:5),C=typeof a=="function",S=Z.useMemo(()=>{if(C||!b)return;const x=M=>new Intl.DateTimeFormat(void 0,M);switch(b){case"dayShortMonth":return M=>{const T=M instanceof Date?M:new Date(M);return`${T.getDate()}
${x({month:"short"}).format(T)}`};case"dayShortMonthYear":return M=>{const T=M instanceof Date?M:new Date(M);return`${T.getDate()}
${x({month:"short"}).format(T)} ${T.getFullYear()}`};case"shortMonth":return M=>{const T=M instanceof Date?M:new Date(M);return x({month:"short"}).format(T)};case"shortMonthYear":return M=>{const T=M instanceof Date?M:new Date(M);return`${x({month:"short"}).format(T)} ${T.getFullYear()}`};case"hourMinute":return M=>{const T=M instanceof Date?M:new Date(M);return x({hour:"2-digit",minute:"2-digit"}).format(T)};default:return}},[C,b]);let y=C?a:S||(x=>String(x));const w=Z.useMemo(()=>r&&Array.isArray(r)?r:h?typeof h.ticks=="function"?h.ticks($):h.domain?h.domain():[]:[],[h,$,r]);if(t==="x"&&!C&&!b&&w.length&&w.every(x=>x instanceof Date)){const x=w[0],M=w[w.length-1],T=M.getTime()-x.getTime(),k=24*3600*1e3,D=365*k,v=x.getFullYear()===M.getFullYear(),N=new Intl.DateTimeFormat(void 0,{month:"short"});if(T<2*k){const z=new Intl.DateTimeFormat(void 0,{hour:"2-digit",minute:"2-digit"});y=R=>z.format(R)}else if(T<32*k)y=z=>{const R=z;return`${R.getDate()} ${N.format(R)}`};else if(T<D&&v)y=z=>N.format(z);else if(T<2*D){const z=new Set;y=R=>{const P=R,F=P.getMonth();return z.has(F)||z.add(F),`${N.format(P)} ${P.getFullYear()}`}}else y=z=>String(z.getFullYear())}if(!h||!f)return null;if(t==="x"){const x=s??f.innerHeight,M=typeof h.bandwidth=="function",T=M?h.bandwidth():0,k=N=>{const z=h(N);return M?z+T/2:z};let D=u??0;if(d&&u==null){const N=w.map(R=>y(R).replace(/\n.*/g,"")),z=N.length?N.reduce((R,P)=>R+P.length,0)/N.length:0;D=Math.max(12,Math.round(z*6+4))}const v=Z.useMemo(()=>{if(r&&Array.isArray(r)||D<=0)return w;const N=[];let z=-1/0;for(const R of w){const P=k(R);P-z>=D&&(N.push(R),z=P)}return N},[w,h,D,r,M,T]);return o.jsxs("g",{className:["fdp-axis","fdp-axis--x",l].filter(Boolean).join(" "),transform:`translate(0,${x})`,fontFamily:"var(--nhs-fdp-font-family-base, var(--fdp-chart-font-family))",children:[o.jsx("line",{x1:0,x2:f.innerWidth,y1:0,y2:0,stroke:"currentColor"}),v.map((N,z)=>{const R=y(N),P=c&&R.length>c?R.slice(0,Math.max(1,c-1))+"â€¦":R,F=p?P.split(/\n/):[P.replace(/\n/g," ")],j=m<0?"end":m>0?"start":"middle";return o.jsxs("g",{transform:`translate(${k(N)},0)`,children:[o.jsx("line",{y2:6,stroke:"currentColor"}),o.jsxs("text",{y:9,textAnchor:j,className:"fdp-axis__tick",dominantBaseline:"hanging",transform:m?`rotate(${m})`:void 0,fontFamily:"inherit",children:[F.map((H,B)=>o.jsx("tspan",{x:0,dy:B===0?0:"1.1em",children:H},B)),P!==R&&o.jsx("title",{children:R})]})]},N?.toString?.()||z)})]})}return o.jsxs("g",{className:["fdp-axis","fdp-axis--y",l].filter(Boolean).join(" "),fontFamily:"var(--nhs-fdp-font-family-base, var(--fdp-chart-font-family))",children:[w.map((x,M)=>{const T=y(x),k=c&&T.length>c?T.slice(0,Math.max(1,c-1))+"â€¦":T,D=p?k.split(/\n/):[k.replace(/\n/g," ")];return o.jsxs("g",{transform:`translate(0,${h(x)})`,children:[o.jsx("line",{x2:-6,stroke:"currentColor"}),o.jsxs("text",{x:-9,dy:"0.32em",textAnchor:"end",className:"fdp-axis__tick",fontFamily:"inherit",children:[D.map((v,N)=>o.jsx("tspan",{x:-9,dy:N===0?0:"1.1em",children:v},N)),k!==T&&o.jsx("title",{children:T})]})]},x?.toString?.()||M)}),i&&o.jsx("text",{transform:"rotate(-90)",x:-f.innerHeight/2,y:-f.margin.left+12,textAnchor:"middle",className:"fdp-axis__label",fontFamily:"inherit",children:i})]})},ry=({axis:t="y",tickCount:e,stroke:n="var(--fdp-chart-grid,#e5e5e5)",dasharray:r="2 4",className:a})=>{const i=Mr(),s=Dr();if(!i||!s)return null;const l=t==="y"?i.getYTicks(e):i.getXTicks(e);return o.jsxs("g",{className:["fdp-grid",a].filter(Boolean).join(" "),children:[t==="y"&&l.map((u,c)=>o.jsx("line",{x1:0,x2:s.innerWidth,y1:i.yScale(u),y2:i.yScale(u),stroke:n,strokeDasharray:r},c)),t==="x"&&l.map((u,c)=>o.jsx("line",{y1:0,y2:s.innerHeight,x1:i.xScale(u),x2:i.xScale(u),stroke:n,strokeDasharray:r},c))]})},Ss={color:{"data-viz":{$type:"color",categorical:{1:{$value:"{color.primary.blue}",$description:"Series 1 â€“ NHS Blue (brand core)"},2:{$value:"#41B6E6",$description:"Series 2 â€“ NHS Light Blue (new)"},3:{$value:"{color.secondary.aqua-green}",$description:"Series 3 â€“ NHS Aqua Green (existing)"},4:{$value:"#78BE20",$description:"Series 4 â€“ NHS Light Green (new)"},5:{$value:"{color.primary.green}",$description:"Series 5 â€“ NHS Green (existing)"},6:{$value:"{color.secondary.warm-yellow}",$description:"Series 6 â€“ NHS Warm Yellow (existing; distinct from focus yellow)"},7:{$value:"#ED4F00",$description:"Series 7 â€“ NHS Tangerine (new; warmer/deeper than existing orange)"},8:{$value:"{color.secondary.pink}",$description:"Series 8 â€“ NHS Pink (existing)"},9:{$value:"#E317AA",$description:"Series 9 â€“ NHS Bright Pink (new vivid accent)"},10:{$value:"#880FB8",$description:"Series 10 â€“ NHS Light Purple (new mid purple)"},11:{$value:"{color.primary.purple}",$description:"Series 11 â€“ NHS Purple (existing dark purple)"},12:{$value:"#9A6324",$description:"Series 12 â€“ NHS Brown (new; earth neutral)"}},neutral:{comparison:{$value:"{color.grey.1}",$description:"Neutral comparison series (optional)"}},region:{$comment:"Fixed colours for NHS geographical regions; prefer stable mapping for maps. London colour updated (#78BE21 â€“ light green).","north-east":{$value:"{color.primary.blue}",$description:"North East â€“ NHS Blue"},"north-west":{$value:"#41B6E6",$description:"North West â€“ NHS Light Blue"},"east-of-england":{$value:"{color.primary.purple}",$description:"East of England â€“ NHS Purple"},midlands:{$value:"{color.secondary.pink}",$description:"Midlands â€“ NHS Pink"},london:{$value:"#78BE21",$description:"London â€“ NHS Light Green (new)"},"south-west":{$value:"#FAE100",$description:"South West â€“ NHS Yellow variant (new)"},"south-east":{$value:"#ed8b00",$description:"South East â€“ NHS Orange (existing base orange)"}},severity:{$comment:"Semantic severity / alert colours (light background ramp â†’ critical).",low:{$value:"{color.secondary.pale-yellow}",$description:"Low severity â€“ pale yellow background"},moderate:{$value:"{color.secondary.warm-yellow}",$description:"Moderate severity â€“ warm yellow"},high:{$value:"{color.secondary.orange}",$description:"High severity â€“ orange"},critical:{$value:"{color.primary.red}",$description:"Critical severity â€“ red"}},"org-level":{$comment:"Organisational level semantic colours (stable NHS brand mappings).",trust:{$value:"{color.primary.blue}",$description:"Trust â€“ NHS Blue"},ambulance:{$value:"{color.primary.green}",$description:"Ambulance â€“ NHS Green"},icb:{$value:"{color.primary.dark-pink}",$description:"ICB â€“ NHS Dark Pink"},region:{$value:"{color.primary.purple}",$description:"Region â€“ NHS Purple"}},stroke:{$comment:"Automatic contrast stroke colours for overlays / borders. Light fills get dark stroke; dark fills get white stroke.",categorical:{1:{$value:"#ffffff",$description:"Stroke for series 1 (blue)"},2:{$value:"#212b32",$description:"Stroke for series 2 (light blue)"},3:{$value:"#212b32",$description:"Stroke for series 3 (aqua green)"},4:{$value:"#212b32",$description:"Stroke for series 4 (light green)"},5:{$value:"#ffffff",$description:"Stroke for series 5 (green)"},6:{$value:"#212b32",$description:"Stroke for series 6 (warm yellow)"},7:{$value:"#ffffff",$description:"Stroke for series 7 (tangerine)"},8:{$value:"#ffffff",$description:"Stroke for series 8 (pink)"},9:{$value:"#ffffff",$description:"Stroke for series 9 (bright pink)"},10:{$value:"#ffffff",$description:"Stroke for series 10 (light purple)"},11:{$value:"#ffffff",$description:"Stroke for series 11 (purple)"},12:{$value:"#ffffff",$description:"Stroke for series 12 (brown)"}},region:{$comment:"Region stroke colours derived from fill colours: dark fills lightened ~35%; light fills darkened ~25% for consistent contrast without defaulting to pure white/black.","north-east":{$value:"#5996D1",$description:"Stroke for North East (blue lightened 35%)"},"north-west":{$value:"#3189AD",$description:"Stroke for North West (light blue darkened 25%)"},"east-of-england":{$value:"#7A59A3",$description:"Stroke for East of England (purple lightened 35%)"},midlands:{$value:"#CA71A4",$description:"Stroke for Midlands (pink lightened 35%)"},london:{$value:"#5A8F19",$description:"Stroke for London (light green darkened 25%)"},"south-west":{$value:"#BCA900",$description:"Stroke for South West (yellow darkened 25%)"},"south-east":{$value:"#B26800",$description:"Stroke for South East (orange darkened 25%)"}},severity:{$comment:"Contrast strokes for severity colours (light backgrounds use dark stroke; dark backgrounds use white).",low:{$value:"#212b32",$description:"Stroke for low severity (pale yellow fill)"},moderate:{$value:"#212b32",$description:"Stroke for moderate severity (warm yellow fill)"},high:{$value:"#212b32",$description:"Stroke for high severity (orange fill)"},critical:{$value:"#ffffff",$description:"Stroke for critical severity (red fill)"}},"org-level":{$comment:"Contrast strokes for organisational level colours (all dark brand fills so white stroke for consistency).",trust:{$value:"#ffffff",$description:"Stroke for trust (blue fill)"},ambulance:{$value:"#ffffff",$description:"Stroke for ambulance (green fill)"},icb:{$value:"#ffffff",$description:"Stroke for ICB (dark pink fill)"},region:{$value:"#ffffff",$description:"Stroke for region (purple fill)"}}},spc:{$comment:"SPC (Statistical Process Control) semantic variation colours aligned to SPCChart.scss and SPCIcons.",improvement:{$value:"#00B0F0",$description:"SPC special cause improvement (favourable)"},concern:{$value:"#E46C0A",$description:"SPC special cause concern (deteriorating)"},"no-judgement":{$value:"#490092",$description:"SPC special cause (no directional judgement)"},"common-cause":{$value:"#A6A6A6",$description:"SPC common cause (baseline variation)"},"assurance-pass":{$value:"#00823B",$description:"SPC assurance pass indicator (process capable)"},"assurance-fail":{$value:"#DA291C",$description:"SPC assurance fail indicator (process not capable)"},gradient:{$comment:"Opacity stops for SPC icon gradient wash (applied top-left -> bottom-right). Consumers build gradients using these opacities + base colour.",stop:{"start-opacity":{$value:"0.18",$description:"Start stop opacity (0%) for classic variant wash"},"mid-opacity":{$value:"0.06",$description:"Mid stop opacity (~65-75%)"},"end-opacity":{$value:"0",$description:"End stop opacity (100%)"},"triangle-start-opacity":{$value:"0.18",$description:"Start opacity for triangle variants (kept aligned)"},"triangle-mid-opacity":{$value:"0.06",$description:"Mid opacity for triangle variants"},"triangle-end-opacity":{$value:"0",$description:"End opacity for triangle variants"}}},stroke:{$comment:"Contrast stroke colours for SPC variation fills.",improvement:{$value:"#000000",$description:"Stroke for improvement points"},concern:{$value:"#000000",$description:"Stroke for concern points"},"no-judgement":{$value:"#000000",$description:"Stroke for no-judgement points"},"common-cause":{$value:"#ffffff",$description:"Stroke for common cause points"},"assurance-pass":{$value:"#000000",$description:"Stroke for assurance pass points"},"assurance-fail":{$value:"#000000",$description:"Stroke for assurance fail points"}}}}}},Cu={color:{primary:{$type:"color",blue:{$value:"#005eb8",$description:"NHS Blue - Primary brand color"},"blue-active":{$value:"#002f5c",$description:"NHS Active Blue (50% shade) â€“ alias of button/login active; promoted for general reuse"},white:{$value:"#ffffff",$description:"NHS White"},black:{$value:"#212b32",$description:"NHS Black"},green:{$value:"#007f3b",$description:"NHS Green"},purple:{$value:"#330072",$description:"NHS Purple"},"dark-pink":{$value:"#7c2855",$description:"NHS Dark Pink"},red:{$value:"#d5281b",$description:"NHS Red"},"light-purple":{$value:"#880FB8",$description:"NHS Light Purple (data viz promoted)"},yellow:{$value:"#ffeb3b",$description:"NHS Yellow"}},secondary:{$type:"color","pale-yellow":{$value:"#fff9c4",$description:"NHS Pale Yellow"},"warm-yellow":{$value:"#ffb81c",$description:"NHS Warm Yellow"},"region-yellow":{$value:"#FAE100",$description:"NHS Region Yellow (maps)"},orange:{$value:"#ed8b00",$description:"NHS Orange"},tangerine:{$value:"#ED4F00",$description:"NHS Tangerine (data viz promoted)"},"aqua-green":{$value:"#00a499",$description:"NHS Aqua Green"},"light-blue":{$value:"#41B6E6",$description:"NHS Light Blue (data viz promoted)"},pink:{$value:"#ae2573",$description:"NHS Pink"},"bright-pink":{$value:"#E317AA",$description:"NHS Bright Pink (data viz promoted)"},"light-green":{$value:"#78BE20",$description:"NHS Light Green (data viz promoted)"},brown:{$value:"#9A6324",$description:"NHS Brown (data viz promoted neutral)"}},grey:{1:{$value:"#4c6272",$description:"NHS Grey 1 - Darkest grey"},2:{$value:"#768692",$description:"NHS Grey 2 - Darker grey"},3:{$value:"#aeb7bd",$description:"NHS Grey 3 - Medium grey"},4:{$value:"#d8dde0",$description:"NHS Grey 4 - Light grey"},5:{$value:"#f0f4f5",$description:"NHS Grey 5 - Lightest grey"},$type:"color"},accessibility:{$type:"color",$comment:"Accessibility-oriented color tokens. Includes CVD-safe pairs and Okabeâ€“Ito colors. Use these for positive/negative semantics and colour-blindâ€“friendly defaults.","okabe-ito":{green:{$value:"#009E73",$description:"Okabeâ€“Ito green (CVD-safe) â€“ recommended positive"},vermillion:{$value:"#D55E00",$description:"Okabeâ€“Ito vermillion / redâ€“orange (CVD-safe) â€“ recommended negative"}},"cvd-safe":{blue:{$value:"#1f77b4",$description:"CVD-safe blue (pairs with orange); widely used in Matplotlib/Tableau sets"},orange:{$value:"#ff7f0e",$description:"CVD-safe orange (pairs with blue)"}},positive:{$value:"{color.accessibility.okabe-ito.green}",$description:"Accessibility semantic alias â€“ positive"},negative:{$value:"{color.accessibility.okabe-ito.vermillion}",$description:"Accessibility semantic alias â€“ negative"}}}},ay=["#005eb8","#0072ce","#41b6e6","#00a499","#7c2855","#330072","#d5281b","#ffb81c","#fae100","#4c6272","#768692","#aeb7bd"];let ws=null,ks=null,Cs=null,Tu="optimized";function iy(){const t={color:{...Cu.color,...Ss.color}},e=(r,a=new Set)=>{if(a.has(r))return;a.add(r);const i=r.split(".").reduce((l,u)=>l?l[u]:void 0,t);if(!i)return;const s=i.$value||i.value;if(typeof s=="string"&&/^\{.+\}$/.test(s))return e(s.slice(1,-1),a);if(typeof s=="string")return s},n=[];try{for(let r=1;r<=12;r++){const a=`color.data-viz.categorical.${r}`,i=e(a);if(!i)throw new Error(`Missing token ${a}`);n.push(i)}return n}catch{return ay}}function sy(){return ws||(ws=iy()),ws}function oy(t){const e=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(t.trim());return e?{r:parseInt(e[1],16),g:parseInt(e[2],16),b:parseInt(e[3],16)}:null}function Ts(t){return t/=255,t<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}function ly(t,e,n){const r=Ts(t),a=Ts(e),i=Ts(n),s=r*.4124+a*.3576+i*.1805,l=r*.2126+a*.7152+i*.0722,u=r*.0193+a*.1192+i*.9505;return{x:s*100,y:l*100,z:u*100}}function cy(t,e,n){let s=t/95.047,l=e/100,u=n/108.883;const c=d=>d>.008856?Math.cbrt(d):7.787*d+16/116;return s=c(s),l=c(l),u=c(u),{L:116*l-16,a:500*(s-l),b:200*(l-u)}}function Nu(t){const e=oy(t);if(!e)return null;const n=ly(e.r,e.g,e.b);return cy(n.x,n.y,n.z)}function ju(t,e){const n=t.L-e.L,r=t.a-e.a,a=t.b-e.b;return Math.sqrt(n*n+r*r+a*a)}function uy(){const t=sy();if(t.length<=2)return t.slice();const e=t.map(s=>Nu(s));let n=0,r=-1;for(let s=0;s<t.length;s++){const l=e[s];if(!l)continue;let u=0,c=0;for(let m=0;m<t.length;m++)s!==m&&e[m]&&(u+=ju(l,e[m]),c++);const d=u/Math.max(1,c);d>r&&(r=d,n=s)}const a=new Set(t.map((s,l)=>l)),i=[];for(i.push(n),a.delete(n);a.size;){let s=Array.from(a)[0],l=-1;for(const u of a){const c=e[u];if(!c)continue;let d=1/0;for(const m of i){const p=e[m];if(p){const b=ju(c,p);b<d&&(d=b)}}d>l&&(l=d,s=u)}i.push(s),a.delete(s)}return i.map(s=>t[s])}function dy(){return ks||(ks=uy()),ks}function fy(t,e,n){const r=(t+16)/116,a=e/500+r,i=r-n/200,s=d=>{const m=d*d*d;return m>.008856?m:(d-16/116)/7.787},l=s(a)*95.047,u=s(r)*100,c=s(i)*108.883;return{X:l,Y:u,Z:c}}function hy(t,e,n){t/=100,e/=100,n/=100;let r=t*3.2406+e*-1.5372+n*-.4986,a=t*-.9689+e*1.8758+n*.0415,i=t*.0557+e*-.204+n*1.057;const s=l=>l<=.0031308?12.92*l:1.055*Math.pow(l,1/2.4)-.055;return r=Math.min(1,Math.max(0,s(r))),a=Math.min(1,Math.max(0,s(a))),i=Math.min(1,Math.max(0,s(i))),{r:Math.round(r*255),g:Math.round(a*255),b:Math.round(i*255)}}function my(t,e,n){return`#${[t,e,n].map(r=>r.toString(16).padStart(2,"0")).join("")}`}function py(t,e){const n=Nu(t);if(!n)return t;const r=Math.min(100,Math.max(0,n.L+e)),{X:a,Y:i,Z:s}=fy(r,n.a,n.b),l=hy(a,i,s);return my(l.r,l.g,l.b)}function gy(){const t=dy(),n=[12,-12,24,-24].map(a=>t.map(i=>py(i,a))),r=[...t];return n.forEach(a=>r.push(...a)),r}function by(){return(!Cs||_y())&&(Cs=gy(),Du=Tu),Cs}let Du=null;function _y(){return Du!==Tu}function Mu(t){const e=by();return e[t%e.length]}let er=null,$r=null,Ns=null,js=null;function yy(){const t=Ss?.color?.["data-viz"]?.stroke;if(t){const e=t.categorical||{};er=[];for(let i=1;i<=12;i++){const s=e[String(i)]?.$value||e[String(i)]?.value;er.push(typeof s=="string"?s:"#212b32")}const n=t.region||{};$r={},Object.keys(n).forEach(i=>{const s=n[i]?.$value||n[i]?.value;typeof s=="string"&&($r[i]=s)});const r=t.severity||{},a=t["org-level"]||{};js={},Object.keys(a).forEach(i=>{const s=a[i]?.$value||a[i]?.value;typeof s=="string"&&(js[i]=s)}),Ns={},Object.keys(r).forEach(i=>{const s=r[i]?.$value||r[i]?.value;typeof s=="string"&&(Ns[i]=s)})}}function $u(){(!er||!$r||!Ns||!js)&&yy()}function Fu(t){return $u(),er?er[t%er.length]:"#212b32"}function xy(t){return $u(),$r?$r[t]:void 0}function vy(t,e){return xy(t)||Fu(e)}let Ds=null;const Sy=["north-east","north-west","east-of-england","midlands","london","south-west","south-east"];function wy(t){return t.trim().toLowerCase().replace(/&/g,"and").replace(/[^a-z0-9]+/g,"-").replace(/^-+|-+$/g,"")}function ky(){const t={color:{...Cu.color,...Ss.color}},e=(a,i=new Set)=>{if(i.has(a))return;i.add(a);const s=a.split(".").reduce((u,c)=>u?u[c]:void 0,t);if(!s)return;const l=s.$value||s.value;return typeof l=="string"&&/^\{.+\}$/.test(l)?e(l.slice(1,-1),i):typeof l=="string"?l:void 0},n={},r=[];return Sy.forEach(a=>{const i=e(`color.data-viz.region.${a}`);i?n[a]=i:r.push(a)}),process.env.NODE_ENV!=="production"&&(Object.keys(n).length===0?console.warn("[DataViz] Region colour tokens unresolved  falling back to categorical colours."):r.length&&console.warn(`[DataViz] Missing region colour tokens: ${r.join(", ")}.`)),n}function Cy(){return Ds||(Ds=ky()),Ds}function Ty(t){return Cy()[wy(t)]}function Ny(t,e){return Ty(t)||Mu(e)}const jy=Z.createContext(null),Iu=()=>Z.useContext(jy),Bu=Z.createContext(null),Fr=()=>Z.useContext(Bu),Dy=({children:t,maxDistance:e=40,wrapAround:n=!1})=>{const r=Mr(),a=Iu(),[i,s]=Z.useState(null),l=Z.useRef(new Map),[u,c]=Z.useState([]),d=Z.useCallback((M,T)=>{l.current.set(M,T)},[]),m=Z.useCallback(M=>{l.current.delete(M)},[]),p=Z.useCallback((M,T)=>{if(!r)return;const{xScale:k,yScale:D}=r;let v=null,N=1/0;l.current.forEach((z,R)=>{z.forEach((P,F)=>{const j=k(P.x),H=D(P.y),B=j-M,E=H-T,W=Math.sqrt(B*B+E*E);W<N&&(N=W,v={seriesId:R,index:F,x:P.x,y:P.y,clientX:j,clientY:H})})}),v&&N<=e?s(v):s(null)},[r,e]),b=Z.useCallback(()=>s(null),[]);Z.useEffect(()=>{if(!i){c([]);return}if(!r)return;const{xScale:M,yScale:T}=r,k=[];l.current.forEach((D,v)=>{D.forEach((N,z)=>{(i.x instanceof Date&&N.x instanceof Date?N.x.getTime()===i.x.getTime():N.x===i.x)&&k.push({seriesId:v,index:z,x:N.x,y:N.y,clientX:M(N.x),clientY:T(N.y)})})}),k.sort((D,v)=>D.seriesId.localeCompare(v.seriesId)),c(k)},[i,r]);const _=Z.useCallback(M=>{if(!i)return;const T=l.current.get(i.seriesId);if(!T)return;let k=i.index+M;if(k<0||k>=T.length){if(!n)return;k=(k+T.length)%T.length}const D=T[k];if(!r)return;const{xScale:v,yScale:N}=r;s({seriesId:i.seriesId,index:k,x:D.x,y:D.y,clientX:v(D.x),clientY:N(D.y)})},[i,r,n]),f=Z.useCallback(M=>{let T=Array.from(l.current.keys());if(a&&(T=T.filter(j=>!a.isHidden(j))),T.length===0)return;if(!i){const j=T[0],H=l.current.get(j);if(!H||!r)return;const{xScale:B,yScale:E}=r,W=H[0];s({seriesId:j,index:0,x:W.x,y:W.y,clientX:B(W.x),clientY:E(W.y)});return}const k=T.indexOf(i.seriesId);if(k===-1)return;let D=k+M;if(D<0||D>=T.length){if(!n)return;D=(D+T.length)%T.length}const v=T[D],N=l.current.get(v);if(!N||!r)return;const z=Math.min(i.index,N.length-1),R=N[z],{xScale:P,yScale:F}=r;s({seriesId:v,index:z,x:R.x,y:R.y,clientX:P(R.x),clientY:F(R.y)})},[i,r,n,a]),h=Z.useCallback(()=>{let M=Array.from(l.current.keys());if(a&&(M=M.filter(z=>!a.isHidden(z))),M.length===0)return;const T=i?i.seriesId:M[0],k=l.current.get(T);if(!k||k.length===0||!r)return;const D=k[0],{xScale:v,yScale:N}=r;s({seriesId:T,index:0,x:D.x,y:D.y,clientX:v(D.x),clientY:N(D.y)})},[i,r,a]),$=Z.useCallback(()=>{let M=Array.from(l.current.keys());if(a&&(M=M.filter(R=>!a.isHidden(R))),M.length===0)return;const T=i?i.seriesId:M[0],k=l.current.get(T);if(!k||k.length===0||!r)return;const D=k.length-1,v=k[D],{xScale:N,yScale:z}=r;s({seriesId:T,index:D,x:v.x,y:v.y,clientX:N(v.x),clientY:z(v.y)})},[i,r,a]),C=Z.useCallback(()=>_(1),[_]),S=Z.useCallback(()=>_(-1),[_]),y=Z.useCallback(()=>f(1),[f]),w=Z.useCallback(()=>f(-1),[f]),x=Z.useMemo(()=>({focused:i,setFocused:s,aggregated:u,focusNearest:p,clear:b,registerSeries:d,unregisterSeries:m,focusNextPoint:C,focusPrevPoint:S,focusNextSeries:y,focusPrevSeries:w,focusFirstPoint:h,focusLastPoint:$}),[i,u,p,b,d,m,C,S,y,w,h,$]);return o.jsx(Bu.Provider,{value:x,children:t})},My=({series:t,seriesIndex:e,palette:n,showPoints:r,focusablePoints:a,focusIndex:i,parseX:s,visibilityMode:l="remove",strokeWidth:u=1,smooth:c=!0,gradientFillId:d})=>{const m=Mr();if(!m)return null;const{xScale:p,yScale:b}=m,f=Iu()?.isHidden(t.id)??!1,h=f&&l==="fade";if(f&&l==="remove")return null;const $=Fr();Z.useEffect(()=>{if(!$)return;const x=t.data.map(M=>({x:s(M),y:M.y}));return $.registerSeries(t.id,x),()=>$.unregisterSeries(t.id)},[$,t.id,t.data,s]);const C=Z.useMemo(()=>Q_(t.data,x=>p(s(x)),x=>b(x.y),{smooth:c}),[t.data,p,b,s,c]),S=Z.useMemo(()=>{if(!t.data.length)return"";const[x]=b.domain(),M=Z_().x(T=>p(s(T))).y0(()=>b(x)).y1(T=>b(T.y));return c&&M.curve(xu),M(t.data)||""},[t.data,p,b,s,c]),y=t.color||(n==="region"?Ny(t.id,e):Mu(e)),w=n==="region"?vy(t.id,e):Fu(e);return o.jsxs("g",{className:"fdp-line-series","data-series":t.id,opacity:h?.25:1,"aria-hidden":h?!0:void 0,children:[d&&o.jsx("path",{d:S,fill:`url(#${d})`,stroke:"none",role:"presentation",className:"fdp-line-series__gradient"}),o.jsx("path",{d:C,fill:"none",stroke:y,strokeWidth:u,role:"presentation"}),r&&t.data.map((x,M)=>{const T=p(s(x)),k=b(x.y),D=a?0:-1,v=!h&&(a&&M===i||$?.focused?.seriesId===t.id&&$.focused.index===M),N=()=>{$&&!h&&$.setFocused({seriesId:t.id,index:M,x:s(x),y:x.y,clientX:T,clientY:k})},z=()=>{$&&$.focused?.seriesId===t.id&&$.focused.index===M&&$.clear()};return o.jsx("circle",{cx:T,cy:k,r:v?5:3.5,stroke:v?"var(--nhs-fdp-color-primary-yellow, #ffeb3b)":w,strokeWidth:v?2:1,fill:v?"var(--nhs-fdp-color-grey-3, #aeb7bd)":y,className:"fdp-line-point",tabIndex:h?-1:D,"aria-label":`${t.label||t.id} ${s(x).toDateString()} value ${x.y}`,"data-series":t.id,"data-index":M,onMouseEnter:N,onFocus:N,onMouseLeave:z,onBlur:z},M)})]})},$y=({polite:t=!0,format:e})=>{const n=Fr(),[r,a]=Z.useState(""),i=Z.useRef("");return Z.useEffect(()=>{if(!n?.focused)return;const{focused:s,aggregated:l}=n;let u;if(l&&l.length>1){const c=l.map(m=>`${m.seriesId} ${m.y}`).join("; ");u=`${s.x instanceof Date?s.x.toDateString():String(s.x)} â€“ ${c}`}else u=e?e({seriesId:s.seriesId,x:s.x,y:s.y,index:s.index}):Fy(s.seriesId,s.x,s.y,s.index);if(u!==i.current){i.current=u,a("");const c=setTimeout(()=>a(u),10);return()=>clearTimeout(c)}},[n?.focused,e]),o.jsx("div",{"aria-live":t?"polite":"assertive","aria-atomic":"true",style:{position:"absolute",width:1,height:1,margin:-1,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",border:0},children:r})};function Fy(t,e,n,r){const a=e instanceof Date?e.toDateString():String(e);return`Series ${t}, point ${r+1}, ${a}, value ${n}`}var $n=(t=>(t.Up="Up",t.Down="Down",t.Neither="Neither",t))($n||{}),Je=(t=>(t.Improvement="improvement",t.Concern="concern",t.Neither="neither",t.None="none",t))(Je||{}),hn=(t=>(t.Pass="pass",t.Fail="fail",t.None="none",t))(hn||{});const fe=t=>typeof t=="number"&&Number.isFinite(t),Iy=t=>t.reduce((e,n)=>e+n,0),mn=t=>t.length?Iy(t)/t.length:NaN;function By(t){const e=[];let n=[];for(const r of t)r.baseline&&n.length&&(e.push(n),n=[]),n.push(r);return n.length&&e.push(n),e}function Pu(t,e){const n=new Array(t.length).fill(null);let r=null;for(let a=0;a<t.length;a++){const i=t[a];if(!e[a]&&fe(i)){if(r!==null){const s=t[r];n[a]=fe(s)?Math.abs(i-s):null}r=a}}return n}function Lu(t,e){const n=t.filter(i=>fe(i));if(!n.length)return{mrMean:NaN,mrUcl:NaN};let r=mn(n),a=3.267*r;if(e){const i=n.filter(s=>s<=a);i.length&&i.length!==n.length&&(r=mn(i),a=3.267*r)}return{mrMean:r,mrUcl:a}}function Py(t,e){if(!fe(t)||!fe(e))return{upperProcessLimit:null,lowerProcessLimit:null,upperTwoSigma:null,lowerTwoSigma:null,upperOneSigma:null,lowerOneSigma:null};const n=2.66,r=2/3*n,a=1/3*n;return{upperProcessLimit:t+n*e,lowerProcessLimit:t-n*e,upperTwoSigma:t+r*e,lowerTwoSigma:t-r*e,upperOneSigma:t+a*e,lowerOneSigma:t-a*e}}function Au(t,e){return t.reduce((n,r)=>n+(fe(r)&&r>e?1:0),0)}function Eu(t,e){return t.reduce((n,r)=>n+(fe(r)&&r<e?1:0),0)}function Ru(t,e,n){const r=t.filter(i=>fe(i));if(r.length<e)return!1;const a=r.slice(-e);for(let i=1;i<a.length;i++)if(n==="up"&&!(a[i]>a[i-1])||n==="down"&&!(a[i]<a[i-1]))return!1;return!0}function Hu(t,e,n,r){const a=t.filter(s=>fe(s));if(a.length<e)return!1;const i=a.slice(-e);return r==="high"?i.every(s=>s>n):r==="low"?i.every(s=>s<n):!1}const Ly=.2777,Ay=3.6,Ey=t=>fe(t)&&t>=0?Math.pow(t,Ly):null,Fn=t=>fe(t)&&t>=0?Math.pow(t,Ay):null,tr={one:{low:.1586552539,high:.8413447461},two:{low:.0227501319,high:.9772498681},three:{low:.001349898,high:.998650102}};function Ry(t,e){return!(t>0&&t<1)||!(e>0&&e<1)?NaN:Math.log(1-t)/Math.log(1-e)}function Hy(t){if(!fe(t)||t<0)return{cl:null,lcl:null,ucl:null,oneLow:null,oneHigh:null,twoLow:null,twoHigh:null};const e=1/(t+1),n=d=>Ry(d,e)-1,r=n(.5),a=Math.max(0,n(tr.three.low)),i=n(tr.three.high),s=Math.max(0,n(tr.one.low)),l=n(tr.one.high),u=Math.max(0,n(tr.two.low)),c=n(tr.two.high);return{cl:r,lcl:a,ucl:i,oneLow:s,oneHigh:l,twoLow:u,twoHigh:c}}function zy(t,e,n){const r=t.map(T=>fe(T)?Ey(T):null),a=Pu(r,e),{mrMean:i}=Lu(a,!!n),s=r.filter((T,k)=>!e[k]&&fe(T)),l=s.length?mn(s):NaN;if(!fe(l)||!fe(i))return{center:null,upperProcessLimit:null,lowerProcessLimit:null,upperTwoSigma:null,lowerTwoSigma:null,upperOneSigma:null,lowerOneSigma:null,mr:a,mrMean:null,mrUcl:null};const u=2.66,c=2/3*u,d=1/3*u,m=l+u*i,p=l-u*i,b=l+c*i,_=l-c*i,f=l+d*i,h=l-d*i,$=Fn(l),C=Fn(m),S=p<=0?null:Fn(p),y=Fn(f),w=h<=0?null:Fn(h),x=Fn(b),M=_<=0?null:Fn(_);return{center:$??null,upperProcessLimit:C??null,lowerProcessLimit:S??null,upperTwoSigma:x??null,lowerTwoSigma:M??null,upperOneSigma:y??null,lowerOneSigma:w??null,mr:a,mrMean:i,mrUcl:fe(i)?3.267*i:null}}function zu(t){const{chartType:e,metricImprovement:n,data:r,settings:a={}}=t,i={excludeMovingRangeOutliers:!1,specialCauseShiftPoints:6,specialCauseTrendPoints:6,enableFourOfFiveRule:!1,suppressIsolatedFavourablePoint:!0,minimumPoints:13,minimumPointsWarning:!1,minimumPointsPartition:12,maximumPointsPartition:null,maximumPoints:null,variationIconConflictWarning:!0,nullValueWarning:!0,targetSuppressedWarning:!0,ghostOnRareEventWarning:!0,partitionSizeWarnings:!0,baselineSpecialCauseWarning:!0,maximumPointsWarnings:!0,assuranceCapabilityMode:!0,precedenceStrategy:"legacy",emergingDirectionGrace:!1,collapseClusterRules:!0,baselineSuggest:!1,baselineSuggestMinDeltaSigma:.5,baselineSuggestStabilityPoints:5,baselineSuggestMinGap:12,baselineSuggestScoreThreshold:50,...a};if(!Array.isArray(r))throw new Error("data must be an array of rows");const s=r.map((f,h)=>({rowId:h+1,x:f.x,value:fe(f.value)?f.value:null,ghost:!!f.ghost,baseline:!!f.baseline,target:fe(f.target)?f.target:null})),l=By(s),u=[],c=[],m=s.filter(f=>!f.ghost&&fe(f.value)).length>=(i.minimumPoints??13);let p=0;const b={};for(const f of l){p++;const h=f.map(v=>v.value),$=f.map(v=>v.ghost);let C=new Array(h.length).fill(null),S=NaN,y=NaN,w=NaN,x={upperProcessLimit:null,lowerProcessLimit:null,upperTwoSigma:null,lowerTwoSigma:null,upperOneSigma:null,lowerOneSigma:null};if(e==="XmR"){C=Pu(h,$);const v=h.filter((z,R)=>!$[R]&&fe(z));S=v.length?mn(v):NaN;const N=Lu(C,!!i.excludeMovingRangeOutliers);y=N.mrMean,w=N.mrUcl,x=Py(S,y)}else if(e==="T"){const v=zy(h,$,!!i.excludeMovingRangeOutliers);C=v.mr,y=v.mrMean??NaN,w=v.mrUcl??NaN,S=v.center??NaN,x={upperProcessLimit:v.upperProcessLimit,lowerProcessLimit:v.lowerProcessLimit,upperTwoSigma:v.upperTwoSigma,lowerTwoSigma:v.lowerTwoSigma,upperOneSigma:v.upperOneSigma,lowerOneSigma:v.lowerOneSigma}}else if(e==="G"){const v=h.filter((R,P)=>!$[P]&&fe(R)),N=v.length?mn(v):NaN,z=Hy(N);S=z.cl??NaN,x={upperProcessLimit:z.ucl,lowerProcessLimit:z.lcl,upperTwoSigma:z.twoHigh,lowerTwoSigma:z.twoLow,upperOneSigma:z.oneHigh,lowerOneSigma:z.oneLow},C=new Array(h.length).fill(null),y=NaN,w=NaN}else c.push({code:"unknown_chart_type",category:"config",severity:"error",message:`Unknown ChartType '${e}' â€“ supported: XmR, T, G.`,context:{chartType:e}});const M=f.map((v,N)=>{const z=!v.ghost&&fe(v.value)?h.slice(0,N+1).filter((j,H)=>!$[H]&&fe(j)).length:0,R=m,P=R?x:{upperProcessLimit:null,lowerProcessLimit:null,upperTwoSigma:null,lowerTwoSigma:null,upperOneSigma:null,lowerOneSigma:null};return{rowId:v.rowId,x:v.x,value:fe(v.value)?v.value:null,ghost:v.ghost,partitionId:p,pointRank:z,mean:R&&fe(S)?S:null,mr:fe(C[N])?C[N]:null,mrMean:R&&fe(y)?y:null,mrUcl:R&&fe(w)?w:null,upperProcessLimit:fe(P.upperProcessLimit)?P.upperProcessLimit:null,lowerProcessLimit:fe(P.lowerProcessLimit)?P.lowerProcessLimit:null,upperTwoSigma:fe(P.upperTwoSigma)?P.upperTwoSigma:null,lowerTwoSigma:fe(P.lowerTwoSigma)?P.lowerTwoSigma:null,upperOneSigma:fe(P.upperOneSigma)?P.upperOneSigma:null,lowerOneSigma:fe(P.lowerOneSigma)?P.lowerOneSigma:null,target:fe(v.target)?v.target:null,specialCauseSinglePointAbove:!1,specialCauseSinglePointBelow:!1,specialCauseTwoOfThreeAbove:!1,specialCauseTwoOfThreeBelow:!1,specialCauseFourOfFiveAbove:!1,specialCauseFourOfFiveBelow:!1,specialCauseShiftHigh:!1,specialCauseShiftLow:!1,specialCauseTrendIncreasing:!1,specialCauseTrendDecreasing:!1,variationIcon:"none",assuranceIcon:"none",upperBaseline:R&&fe(S)?S:null,lowerBaseline:R&&fe(S)?S:null,movingRangeHighPointValue:R&&fe(w)?w:null,ghostValue:v.ghost&&fe(v.value)?v.value:null,ghostFlag:!!v.ghost,specialCauseImprovementValue:null,specialCauseConcernValue:null,specialCauseNeitherValue:null}});b[p]=M.filter(v=>!v.ghost&&fe(v.value)).length;const T=i.specialCauseShiftPoints??6,k=i.specialCauseTrendPoints??6,D=[];for(let v=0;v<M.length;v++){const N=M[v],z=N.value;if(!N.ghost&&fe(z)&&D.push(z),!(fe(N.mean)&&fe(N.upperProcessLimit)&&fe(N.lowerProcessLimit))||N.ghost||!fe(z)){u.push(N);continue}N.specialCauseSinglePointAbove=fe(N.upperProcessLimit)?z>N.upperProcessLimit:!1,N.specialCauseSinglePointBelow=fe(N.lowerProcessLimit)?z<N.lowerProcessLimit:!1;const P=(H,B)=>H.every(E=>E>B),F=(H,B)=>H.every(E=>E<B),j=D.slice(-3);if(j.length===3&&fe(N.mean)){const H=N.upperTwoSigma??1/0,B=N.lowerTwoSigma??-1/0,E=Au(j,H),W=Eu(j,B);E>=2&&P(j,N.mean)&&(N.specialCauseTwoOfThreeAbove=!0),W>=2&&F(j,N.mean)&&(N.specialCauseTwoOfThreeBelow=!0)}if(i.enableFourOfFiveRule&&fe(N.mean)){const H=D.slice(-5);if(H.length===5){const B=N.upperOneSigma??1/0,E=N.lowerOneSigma??-1/0,W=Au(H,B),L=Eu(H,E);W>=4&&P(H,N.mean)&&(N.specialCauseFourOfFiveAbove=!0),L>=4&&F(H,N.mean)&&(N.specialCauseFourOfFiveBelow=!0)}}fe(N.mean)&&(N.specialCauseShiftHigh=Hu(D,T,N.mean,"high"),N.specialCauseShiftLow=Hu(D,T,N.mean,"low")),N.specialCauseTrendIncreasing=Ru(D,k,"up"),N.specialCauseTrendDecreasing=Ru(D,k,"down"),u.push(N)}if(i.maximumPointsPartition&&Number.isFinite(i.maximumPointsPartition)){const v=i.maximumPointsPartition;let N=0;for(const z of u.filter(R=>R.partitionId===p))!z.ghost&&fe(z.value)&&N++,N>v&&(z.mean=z.upperProcessLimit=z.lowerProcessLimit=null,z.upperTwoSigma=z.lowerTwoSigma=z.upperOneSigma=z.lowerOneSigma=null)}}for(let f=0;f<u.length;f++){const h=u[f];if(h.ghost||!fe(h.value)||h.mean===null){h.variationIcon="none";continue}const $=h.specialCauseSinglePointAbove||h.specialCauseTwoOfThreeAbove||i.enableFourOfFiveRule&&h.specialCauseFourOfFiveAbove||h.specialCauseShiftHigh||h.specialCauseTrendIncreasing,C=h.specialCauseSinglePointBelow||h.specialCauseTwoOfThreeBelow||i.enableFourOfFiveRule&&h.specialCauseFourOfFiveBelow||h.specialCauseShiftLow||h.specialCauseTrendDecreasing;if(i.collapseClusterRules&&(h.specialCauseTwoOfThreeAbove&&h.specialCauseFourOfFiveAbove&&(h.specialCauseTwoOfThreeAbove=!1),h.specialCauseTwoOfThreeBelow&&h.specialCauseFourOfFiveBelow&&(h.specialCauseTwoOfThreeBelow=!1)),i.precedenceStrategy==="directional_first"){const w=(i.specialCauseTrendPoints??6)-1;let x=!1;if(w>=3&&fe(h.value)){const k=[];for(let D=f;D>=0&&k.length<w;D--){const v=u[D].value;u[D].ghost||!fe(v)||k.unshift(v)}if(k.length===w){let D=0;for(let v=1;v<k.length;v++)n==="Down"?k[v]<=k[v-1]&&D++:n==="Up"&&k[v]>=k[v-1]&&D++;x=D>=w-2}}const M=n==="Up"?$:C,T=n==="Up"?C:$;if(M&&!T)h.variationIcon="improvement";else if(!M&&T){const k=h.specialCauseSinglePointAbove||h.specialCauseSinglePointBelow||h.specialCauseTwoOfThreeAbove||h.specialCauseTwoOfThreeBelow||i.enableFourOfFiveRule&&(h.specialCauseFourOfFiveAbove||h.specialCauseFourOfFiveBelow)||h.specialCauseShiftHigh||h.specialCauseShiftLow;i.emergingDirectionGrace&&x&&!k?h.variationIcon="neither":h.variationIcon="concern"}else M&&T&&i.emergingDirectionGrace&&(x||h.specialCauseTrendIncreasing||h.specialCauseTrendDecreasing)?h.variationIcon="improvement":h.variationIcon="neither"}else n==="Up"?h.variationIcon=$?"improvement":C?"concern":"neither":n==="Down"?h.variationIcon=C?"improvement":$?"concern":"neither":h.variationIcon="neither";if(i.suppressIsolatedFavourablePoint&&h.variationIcon==="improvement"){const y=n==="Up"&&h.specialCauseSinglePointAbove,w=n==="Down"&&h.specialCauseSinglePointBelow,x=n==="Up"&&(h.specialCauseTwoOfThreeAbove||i.enableFourOfFiveRule&&h.specialCauseFourOfFiveAbove||h.specialCauseShiftHigh||h.specialCauseTrendIncreasing)||n==="Down"&&(h.specialCauseTwoOfThreeBelow||i.enableFourOfFiveRule&&h.specialCauseFourOfFiveBelow||h.specialCauseShiftLow||h.specialCauseTrendDecreasing);(y||w)&&!x&&(h.variationIcon="none",h.specialCauseImprovementValue=null)}const S=$||C;if(h.specialCauseImprovementValue=S&&h.variationIcon==="improvement"?h.value:null,h.specialCauseConcernValue=S&&h.variationIcon==="concern"?h.value:null,h.specialCauseNeitherValue=S&&h.variationIcon==="neither"?h.value:null,fe(h.value)&&h.mean!==null){h.assuranceIcon="none";const y=s[h.rowId-1];if(fe(y.target)){const w=y.target;i.assuranceCapabilityMode&&fe(h.upperProcessLimit)&&fe(h.lowerProcessLimit)?n==="Up"?h.lowerProcessLimit!==null&&h.lowerProcessLimit>w?h.assuranceIcon="pass":h.upperProcessLimit!==null&&h.upperProcessLimit<w?h.assuranceIcon="fail":h.assuranceIcon="none":n==="Down"?h.upperProcessLimit!==null&&h.upperProcessLimit<w?h.assuranceIcon="pass":h.lowerProcessLimit!==null&&h.lowerProcessLimit>w?h.assuranceIcon="fail":h.assuranceIcon="none":h.assuranceIcon="none":n==="Down"?h.assuranceIcon=h.value<=w?"pass":"fail":n==="Up"?h.assuranceIcon=h.value>=w?"pass":"fail":h.assuranceIcon="none"}}}if((i.minimumPointsWarning??!1)&&!m){const f=s.filter(h=>!h.ghost&&fe(h.value)).length;c.push({code:"insufficient_points_global",category:"data",severity:"warning",message:`Only ${f} non-ghost points available; minimum required is ${i.minimumPoints}. Limits and icons suppressed.`,context:{available:f,minimumRequired:i.minimumPoints}})}if(i.variationIconConflictWarning)for(const f of u)f.variationIcon==="improvement"&&(f.specialCauseSinglePointAbove||f.specialCauseTwoOfThreeAbove||i.enableFourOfFiveRule&&f.specialCauseFourOfFiveAbove||f.specialCauseShiftHigh||f.specialCauseTrendIncreasing)&&(f.specialCauseSinglePointBelow||f.specialCauseTwoOfThreeBelow||i.enableFourOfFiveRule&&f.specialCauseFourOfFiveBelow||f.specialCauseShiftLow||f.specialCauseTrendDecreasing)&&c.push({code:"variation_conflict_row",category:"logic",severity:"warning",message:`Row ${f.rowId}: simultaneous high/low special-cause signals â€“ variation icon may be ambiguous.`,context:{rowId:f.rowId}});if(i.maximumPoints&&Number.isFinite(i.maximumPoints)){const f=i.maximumPoints;let h=0;for(const $ of u)!$.ghost&&fe($.value)&&h++,h>f&&($.mean=$.upperProcessLimit=$.lowerProcessLimit=null,$.upperTwoSigma=$.lowerTwoSigma=$.upperOneSigma=$.lowerOneSigma=null)}if(i.nullValueWarning&&(e==="XmR"||e==="G")){const f=s.filter(h=>!h.ghost&&(h.value===null||h.value===void 0||!fe(h.value))).length;f&&c.push({code:"null_values_excluded",category:"data",severity:"info",message:`${f} null/missing value(s) excluded from calculations.`,context:{nullCount:f}})}if(i.targetSuppressedWarning&&(e==="T"||e==="G")&&s.some(h=>fe(h.target))&&c.push({code:"target_ignored_rare_event",category:"target",severity:"info",message:`Targets provided are ignored for ${e} charts in this port.`,context:{chartType:e}}),i.ghostOnRareEventWarning&&(e==="T"||e==="G")){const f=s.filter(h=>h.ghost).length;f&&c.push({code:"ghost_rows_rare_event",category:"ghost",severity:"info",message:`${f} ghost row(s) supplied for rare-event chart (${e}); verify intent.`,context:{chartType:e,ghostCount:f}})}if(i.partitionSizeWarnings&&Object.entries(b).forEach(([f,h])=>{h<i.minimumPointsPartition&&c.push({code:"insufficient_points_partition",category:"partition",severity:"warning",message:`Partition ${f} has only ${h} non-ghost point(s); below recommended ${i.minimumPointsPartition}.`,context:{partitionId:Number(f),count:h,minimum:i.minimumPointsPartition}})}),i.baselineSpecialCauseWarning){const f=[];u.forEach(h=>{s[h.rowId-1].baseline&&(h.specialCauseSinglePointAbove||h.specialCauseSinglePointBelow||h.specialCauseTwoOfThreeAbove||h.specialCauseTwoOfThreeBelow||h.specialCauseFourOfFiveAbove||h.specialCauseFourOfFiveBelow||h.specialCauseShiftHigh||h.specialCauseShiftLow||h.specialCauseTrendIncreasing||h.specialCauseTrendDecreasing)&&f.push(h.rowId)}),f.length&&c.push({code:"baseline_with_special_cause",category:"baseline",severity:"warning",message:`Baseline set with special-cause present at row(s): ${f.join(", ")}.`,context:{rows:f}})}i.maximumPointsWarnings&&(i.maximumPointsPartition&&Number.isFinite(i.maximumPointsPartition)&&c.push({code:"partition_cap_applied",category:"limits",severity:"info",message:`Limits suppressed after ${i.maximumPointsPartition} non-ghost points per partition.`,context:{cap:i.maximumPointsPartition}}),i.maximumPoints&&Number.isFinite(i.maximumPoints)&&c.push({code:"global_cap_applied",category:"limits",severity:"info",message:`Limits suppressed after global cap of ${i.maximumPoints} non-ghost points.`,context:{cap:i.maximumPoints}}));let _;if(i.baselineSuggest){const f=u,h=i.baselineSuggestStabilityPoints,$=i.baselineSuggestMinGap,C=i.baselineSuggestMinDeltaSigma,S=i.baselineSuggestScoreThreshold,y=[];let w=0;for(let x=0;x<f.length;x++){let M=function(v){return!!T[v]&&!k?.[v]};const T=f[x];x>0&&f[x-1].partitionId!==T.partitionId&&(w=x);const k=f[x-1],D=[];(M("specialCauseShiftHigh")||M("specialCauseShiftLow"))&&D.push({reason:"shift",index:x}),(M("specialCauseTrendIncreasing")||M("specialCauseTrendDecreasing"))&&D.push({reason:"trend",index:x}),(M("specialCauseSinglePointAbove")||M("specialCauseSinglePointBelow"))&&D.push({reason:"point",index:x});for(const v of D){if(v.index-w<$)continue;const N=Math.max(0,v.index-h),z=v.index-1;if(z-N+1<h)continue;const R=v.index,P=v.index+h-1;if(P>=f.length)continue;const F=f.slice(N,z+1).map(te=>te.value).filter(fe),j=f.slice(R,P+1).map(te=>te.value).filter(fe);if(F.length<h||j.length<h)continue;const H=f[v.index];let B=null;if(fe(H.upperProcessLimit)&&fe(H.mean)){const te=H.upperProcessLimit-H.mean;te>0&&(B=te/3)}if(!B||B<=0)continue;const E=mn(F),W=mn(j),L=W-E;if(Math.abs(L)<C*B)continue;const O=f.slice(R,P+1).filter(te=>te.variationIcon==="concern").length;if(O>1)continue;const Q=te=>{const se=mn(te);return te.length?te.reduce((V,ge)=>V+(ge-se)*(ge-se),0)/te.length:0},he=Q(F),le=Q(j);let J=v.reason==="shift"?90:v.reason==="trend"?70:60;if(le<he&&(J+=10),J-=O*15,J<S)continue;const X=y.find(te=>te.index===v.index);if(X){const te=se=>se==="shift"?3:se==="trend"?2:1;(te(v.reason)>te(X.reason)||J>X.score)&&(X.reason=v.reason,X.score=J,X.deltaMean=L,X.oldMean=E,X.newMean=W,X.window=[R,P])}else y.push({index:v.index,reason:v.reason,score:J,deltaMean:L,oldMean:E,newMean:W,window:[R,P]})}x>0&&f[x-1].partitionId!==f[x].partitionId&&(w=x)}y.sort((x,M)=>x.index-M.index),_=y}return{rows:u,warnings:c,..._?{suggestedBaselines:_}:{}}}const Ms={singlePointAbove:{tooltip:"Single point above upper control limit",narration:"Single point beyond a control limit"},singlePointBelow:{tooltip:"Single point below lower control limit",narration:"Single point beyond a control limit"},twoOfThreeAbove:{tooltip:"Two of three points beyond +2Ïƒ",narration:"Two of three points beyond two sigma (same side)"},twoOfThreeBelow:{tooltip:"Two of three points beyond -2Ïƒ",narration:"Two of three points beyond two sigma (same side)"},fourOfFiveAbove:{tooltip:"Four of five points beyond +1Ïƒ",narration:"Four of five points beyond one sigma (same side)"},fourOfFiveBelow:{tooltip:"Four of five points beyond -1Ïƒ",narration:"Four of five points beyond one sigma (same side)"},shiftHigh:{tooltip:"Shift: run of points above centre line",narration:"Shift (run on one side of mean)"},shiftLow:{tooltip:"Shift: run of points below centre line",narration:"Shift (run on one side of mean)"},trendIncreasing:{tooltip:"Trend: consecutive increasing points",narration:"Trend (consecutive increases)"},trendDecreasing:{tooltip:"Trend: consecutive decreasing points",narration:"Trend (consecutive decreases)"}};function $s(t){if(!t)return[];const e=[];return t.specialCauseSinglePointAbove&&e.push("singlePointAbove"),t.specialCauseSinglePointBelow&&e.push("singlePointBelow"),t.specialCauseTwoOfThreeAbove&&e.push("twoOfThreeAbove"),t.specialCauseTwoOfThreeBelow&&e.push("twoOfThreeBelow"),t.specialCauseFourOfFiveAbove&&e.push("fourOfFiveAbove"),t.specialCauseFourOfFiveBelow&&e.push("fourOfFiveBelow"),t.specialCauseShiftHigh&&e.push("shiftHigh"),t.specialCauseShiftLow&&e.push("shiftLow"),t.specialCauseTrendIncreasing&&e.push("trendIncreasing"),t.specialCauseTrendDecreasing&&e.push("trendDecreasing"),e}function Fs(t){switch(t){case Je.Improvement:return"Improvement signal";case Je.Concern:return"Concern signal";case Je.Neither:return"Common cause variation";case Je.None:return null;default:return null}}function Oy(t){switch(t){case hn.Pass:return"Target met";case hn.Fail:return"Target not met";default:return null}}function Wy(t,e,n){if(t==null||!Number.isFinite(e)||e<=0)return null;const r=Math.abs((n-t)/e);return r<1?"Within 1Ïƒ":r<2?"Between 1â€“2Ïƒ":r<3?"Between 2â€“3Ïƒ":"Beyond 3Ïƒ"}const Bt={improvement:{token:"var(--nhs-fdp-color-data-viz-spc-improvement, #00B0F0)",hex:"#00B0F0"},concern:{token:"var(--nhs-fdp-color-data-viz-spc-concern, #E46C0A)",hex:"#E46C0A"},none:{token:"var(--nhs-fdp-color-data-viz-spc-no-judgement, #490092)",hex:"#490092"},neither:{token:"var(--nhs-fdp-color-data-viz-spc-common-cause, #A6A6A6)",hex:"#A6A6A6"}};function Ou(t){return t?Bt[t]?.token??Bt.neither.token:Bt.neither.token}function Uy(t){return t?Bt[t]?.hex??Bt.neither.hex:Bt.neither.hex}const Wu=({engineRows:t,limits:e,pointDescriber:n,measureName:r,measureUnit:a,dateFormatter:i})=>{const s=Fr(),l=Dr(),[u,c]=Z.useState(null),[d,m]=Z.useState(!1),p=Z.useRef(null);Z.useEffect(()=>{if(s){if(s.focused&&(c(s.focused),p.current&&(cancelAnimationFrame(p.current),p.current=null)),!s.focused&&!d){const se=requestAnimationFrame(()=>{c(null),p.current=null});p.current=se}return()=>{p.current&&(cancelAnimationFrame(p.current),p.current=null)}}},[s,s?.focused,d]);const b=s&&(s.focused||(d?u:null)||u),[_,f]=Z.useState(!1);Z.useEffect(()=>{const se=requestAnimationFrame(()=>f(!0));return()=>cancelAnimationFrame(se)},[b?.index]);const h=l?.innerWidth??0,$=l?.innerHeight??0,C=b?Math.min(Math.max(b.clientX,0),h):0,S=b?Math.min(Math.max(b.clientY,0),$):0,w=l.ref?.current;if(!b)return null;const x=t?.[b.index],M=$s(x).map(se=>Ms[se].tooltip),T=b.x instanceof Date?b.x:new Date(b.x),k=i?i(T):T.toDateString(),D=a?`${a}`:"",v=r||D?`${b.y}${D?""+D:" "}${r?" "+r:""}`:`${b.y}`,N=Fs(x?.variationIcon),z=Oy(x?.assuranceIcon),R=Wy(e.mean??null,e.sigma,b.y),P=n?n(b.index,{x:b.x,y:b.y}):void 0,F=N||z||R,j=M.length>0,H="var(--nhs-fdp-color-primary-yellow, #ffeb3b)",B=Ou(x?.variationIcon),E=6.2,L=[P||"",`${k} â€¢ ${v}`].filter(Boolean).reduce((se,V)=>Math.max(se,V.length*E+32),0),U=200,O=440,Q=Math.min(O,Math.max(U,L));let he=C+12,J=(l.margin?.top??0)+S+16;he+Q>h&&(he=C- -60-Q),he<0&&(he=Math.max(0,h-Q));const X=b?`spc-tooltip-${b.index}`:"spc-tooltip",te=w?Zp.createPortal(o.jsx("div",{id:X,className:"fdp-spc-tooltip fdp-spc-tooltip-portal"+(_?" is-visible":""),style:{position:"absolute",left:he,top:J,width:Q,maxWidth:O,zIndex:10,pointerEvents:"auto",userSelect:"none"},role:"tooltip","aria-live":"polite","aria-hidden":_?"false":"true","data-floating":!0,"data-placement":he+Q+12>h?"left":"right",onPointerEnter:()=>{m(!0),p.current&&(cancelAnimationFrame(p.current),p.current=null)},onPointerLeave:()=>{if(m(!1),!s?.focused){const se=requestAnimationFrame(()=>{c(null),p.current=null});p.current=se}},children:o.jsxs("div",{className:"fdp-spc-tooltip__body",children:[o.jsxs("div",{className:"fdp-spc-tooltip__section fdp-spc-tooltip__section--date",children:[o.jsx("div",{className:"fdp-spc-tooltip__section-label",children:o.jsx("strong",{children:"Date"})}),o.jsx("div",{className:"fdp-spc-tooltip__primary-line",children:k})]}),o.jsxs("div",{className:"fdp-spc-tooltip__section fdp-spc-tooltip__section--value",children:[o.jsx("div",{className:"fdp-spc-tooltip__section-label",children:o.jsx("strong",{children:"Value"})}),o.jsx("div",{className:"fdp-spc-tooltip__primary-line",children:v})]}),F&&o.jsxs("div",{className:"fdp-spc-tooltip__section fdp-spc-tooltip__section--signals",children:[o.jsx("div",{className:"fdp-spc-tooltip__section-label",children:o.jsx("strong",{children:"Signals"})}),o.jsx("div",{className:"fdp-spc-tooltip__badges","aria-label":"Signals",children:N&&(N.toLowerCase().includes("concern")?o.jsx(st,{text:N,color:"default",className:"fdp-spc-tooltip__tag fdp-spc-tag fdp-spc-tag--concern"}):N.toLowerCase().includes("improvement")?o.jsx(st,{text:N,color:"default",className:"fdp-spc-tooltip__tag fdp-spc-tag fdp-spc-tag--improvement"}):o.jsx(st,{text:N,color:"default",className:"fdp-spc-tooltip__tag fdp-spc-tag fdp-spc-tag--common"}))})]}),z&&o.jsxs("div",{className:"fdp-spc-tooltip__section fdp-spc-tooltip__section--assurance",children:[o.jsx("div",{className:"fdp-spc-tooltip__section-label",children:o.jsx("strong",{children:"Assurance"})}),o.jsx("div",{className:"fdp-spc-tooltip__badges","aria-label":"Limits",children:(()=>{const se=z.toLowerCase(),ge=!(se.includes("not met")||se.includes("not achieved"))&&/(^|\b)(met|achieved)(\b|$)/.test(se);return o.jsx(st,{text:z,color:"default",className:`fdp-spc-tooltip__tag fdp-spc-tag fdp-spc-tag--assurance ${ge?"fdp-spc-tag--improvement":"fdp-spc-tag--concern"}`,"aria-label":`Assurance: ${z}`})})()})]}),R&&o.jsxs("div",{className:"fdp-spc-tooltip__section fdp-spc-tooltip__section--limits",children:[o.jsx("div",{className:"fdp-spc-tooltip__section-label",children:o.jsx("strong",{children:"Control Limits & Sigma"})}),o.jsx("div",{className:"fdp-spc-tooltip__badges","aria-label":"Limits",children:o.jsx(st,{text:(()=>{const se=R.toLowerCase();return se.startsWith("within 1")?"â‰¤1Ïƒ":se.startsWith("1â€“2")?"1â€“2Ïƒ":se.startsWith("2â€“3")?"2â€“3Ïƒ":se.startsWith(">3")?">3Ïƒ":R})(),color:R.includes(">3")?"orange":R.includes("2â€“3")?"yellow":"grey","aria-label":`Sigma zone: ${R}`,className:"fdp-spc-tooltip__tag fdp-spc-tag fdp-spc-tag--zone"})})]}),j&&o.jsxs("div",{className:"fdp-spc-tooltip__section fdp-spc-tooltip__section--rules",children:[o.jsx("div",{className:"fdp-spc-tooltip__section-label",children:o.jsx("strong",{children:"Special cause"})}),o.jsx("div",{className:"fdp-spc-tooltip__rule-tags","aria-label":"Special cause rules",children:M.map(se=>{const V=N?N.toLowerCase().includes("concern")?"fdp-spc-tag--concern":N.toLowerCase().includes("improvement")?"fdp-spc-tag--improvement":"fdp-spc-tag--rule":"fdp-spc-tag--rule";return o.jsx(st,{text:se,color:"default",className:`fdp-spc-tooltip__tag fdp-spc-tag ${V}`},se)})})]})]})}),w):null;return o.jsxs("g",{className:"fdp-tooltip-layer fdp-spc-tooltip",pointerEvents:"none","aria-hidden":"true",children:[o.jsx("circle",{cx:C,cy:S,r:7,fill:"none",stroke:H,strokeWidth:3}),o.jsx("circle",{cx:C,cy:S,r:5,fill:"#000",stroke:H,strokeWidth:1.5}),o.jsx("circle",{cx:C,cy:S,r:2.5,fill:B,stroke:"#fff",strokeWidth:.5}),te]})};let Is=null;try{Is=require("@fergusbisset/nhs-fdp-design-system/dist/js/tokens.json")?.color?.["data-viz"]?.spc||null}catch{}const jt=(t,e)=>{if(!Is)return e;const n=t.split(".");let r=Is;for(const i of n){if(r==null)break;r=r[i]}const a=r;return a==null?e:typeof a=="string"||typeof a=="number"?String(a):a.$value!=null?String(a.$value):a.value!=null?String(a.value):e},Uu=()=>({start:jt("gradient.stop.start-opacity","0.12"),mid:jt("gradient.stop.mid-opacity","0.03"),end:jt("gradient.stop.end-opacity","0"),triStart:jt("gradient.stop.triangle-start-opacity",jt("gradient.stop.start-opacity","0.12")),triMid:jt("gradient.stop.triangle-mid-opacity",jt("gradient.stop.mid-opacity","0.03")),triEnd:jt("gradient.stop.triangle-end-opacity",jt("gradient.stop.end-opacity","0"))});var In=(t=>(t.Pass="pass",t.Fail="fail",t.Uncertain="uncertain",t))(In||{});const Gy={pass:"#00B0F0",fail:"#E46C0A",uncertain:"#A6A6A6"},Yy={pass:"P",fail:"F",uncertain:"?"};var ot=(t=>(t.HigherIsBetter="higher_is_better",t.LowerIsBetter="lower_is_better",t.ContextDependent="context_dependent",t))(ot||{}),Se=(t=>(t.Higher="higher",t.Lower="lower",t))(Se||{}),rt=(t=>(t.Improving="improving",t.Deteriorating="deteriorating",t.No_Judgement="no_judgement",t.None="none",t))(rt||{}),Ne=(t=>(t.SpecialCauseImproving="special_cause_improving",t.SpecialCauseDeteriorating="special_cause_deteriorating",t.CommonCause="common_cause",t.SpecialCauseNoJudgement="special_cause_no_judgement",t))(Ne||{});const Vy=t=>{const e=t.replace("#",""),n=parseInt(e.slice(0,2),16)/255,r=parseInt(e.slice(2,4),16)/255,a=parseInt(e.slice(4,6),16)/255,i=[n,r,a].map(l=>l<=.03928?l/12.92:Math.pow((l+.055)/1.055,2.4));return .2126*i[0]+.7152*i[1]+.0722*i[2]<.55?"#ffffff":"#212b32"},Bs={special_cause_deteriorating:{hex:Bt.concern.hex,judgement:"deteriorating",label:"Special Cause (Deteriorating)",description:"Deteriorating variation detected (special cause) relative to baseline."},special_cause_improving:{hex:Bt.improvement.hex,judgement:"improving",label:"Special Cause (Improving)",description:"Improving variation detected (special cause) relative to baseline."},common_cause:{hex:Bt.neither.hex,judgement:"none",label:"Common Cause",description:"Common cause variation only â€“ no special cause detected."},special_cause_no_judgement:{hex:Bt.none.hex,judgement:"no_judgement",label:"Special Cause (No Judgement)",description:"Special cause detected without assigning improving/deteriorating judgement."}};Object.values(Bs).forEach(t=>{t.text||(t.text=Vy(t.hex))});const Gu=t=>Bs[t],Ps=t=>Bs[t].judgement||"none",Yu={special:{higher:[{cx:77.5,cy:158.5},{cx:114,cy:175},{cx:150.5,cy:158.5},{cx:188,cy:125},{cx:225,cy:137}],lower:[{cx:77.5,cy:139.5},{cx:114,cy:124.5},{cx:150.5,cy:139.5},{cx:188,cy:175.5},{cx:224.5,cy:162}]},common:[{cx:76.5,cy:149.5},{cx:113,cy:179.5},{cx:149.5,cy:117},{cx:187,cy:171},{cx:223.5,cy:158}]};function qy(t,e){let n;return t==="common_cause"?n=Yu.common:n=Yu.special[e==="lower"?"lower":"higher"],n.map(r=>({...r}))}const Vu=t=>{if(t.variationIcon!==void 0){const i=t,l={[Je.Improvement]:Ne.SpecialCauseImproving,[Je.Concern]:Ne.SpecialCauseDeteriorating,[Je.Neither]:Ne.CommonCause,[Je.None]:Ne.SpecialCauseNoJudgement}[i.variationIcon];let u=i.trend;return!u&&i.polarity&&(l===Ne.SpecialCauseImproving||l===Ne.SpecialCauseDeteriorating)&&(l===Ne.SpecialCauseImproving?u=i.polarity===ot.LowerIsBetter?Se.Lower:Se.Higher:u=i.polarity===ot.LowerIsBetter?Se.Higher:Se.Lower),u||(u=l===Ne.SpecialCauseImproving?Se.Higher:l===Ne.SpecialCauseDeteriorating?Se.Lower:Se.Higher),{state:l,direction:u,polarity:i.polarity??ot.ContextDependent}}if(t.state!==void 0){const i=t;let s=i.trend;return!s&&(i.state===Ne.SpecialCauseImproving||i.state===Ne.SpecialCauseDeteriorating)&&i.polarity&&(i.state===Ne.SpecialCauseImproving?s=i.polarity===ot.LowerIsBetter?Se.Lower:Se.Higher:s=i.polarity===ot.LowerIsBetter?Se.Higher:Se.Lower),s||(i.state===Ne.SpecialCauseImproving?s=Se.Higher:i.state===Ne.SpecialCauseDeteriorating?s=Se.Lower:s=Se.Higher),{state:i.state,direction:s,polarity:i.polarity??ot.ContextDependent}}const e=t,r={[rt.Improving]:Ne.SpecialCauseImproving,[rt.Deteriorating]:Ne.SpecialCauseDeteriorating,[rt.No_Judgement]:Ne.SpecialCauseNoJudgement,[rt.None]:Ne.CommonCause}[e.judgement];let a;return e.judgement===rt.Improving?a=e.polarity===ot.LowerIsBetter?Se.Lower:Se.Higher:e.judgement===rt.Deteriorating?a=e.polarity===ot.LowerIsBetter?Se.Higher:Se.Lower:a=e.trend??Se.Higher,{state:r,direction:a,polarity:e.polarity}};function Xy(t,e){const{state:n,direction:r,polarity:a}=Vu(t),i=Ps(n),s=r===Se.Higher?"above":"below",l=r===Se.Higher?"upwards":"downwards",u=(()=>{switch(a){case ot.HigherIsBetter:return"For this measure, higher values are better.";case ot.LowerIsBetter:return"For this measure, lower values are better.";default:return"Direction of improvement is context dependent."}})();return[(()=>{switch(i){case rt.Improving:return`Special cause improvement: recent data show a sustained run ${s} the mean (unlikely due to random variation).`;case rt.Deteriorating:return`Special cause deterioration: recent data show a sustained run ${s} the mean (unlikely due to random variation).`;case rt.No_Judgement:return`Special cause detected (no value judgement): recent data show a change in level, trending ${l}.`;case rt.None:default:return"Common cause variation: points vary randomly around the mean; no special cause detected."}})(),u,null,null,null,null,null].filter(Boolean).join(" ")}const Ls=(t,e,n,r,a,i)=>o.jsxs("defs",{children:[r&&o.jsxs("filter",{id:e,filterUnits:"objectBoundingBox",children:[o.jsx("feGaussianBlur",{stdDeviation:"3"}),o.jsx("feOffset",{dx:"0",dy:"15",result:"blur"}),o.jsx("feFlood",{floodColor:"rgb(150,150,150)",floodOpacity:"1"}),o.jsx("feComposite",{in2:"blur",operator:"in",result:"colorShadow"}),o.jsx("feComposite",{in:"SourceGraphic",in2:"colorShadow",operator:"over"})]}),a&&o.jsx("linearGradient",{id:n,x1:"0%",y1:"0%",x2:"100%",y2:"100%",children:i.map(s=>o.jsx("stop",{offset:s.offset,stopColor:t,stopOpacity:parseFloat(s.opacity)},s.offset))})]}),As=({data:t,size:e=44,ariaLabel:n,showLetter:r=!0,dropShadow:a=!0,gradientWash:i=!1,variant:s="classic",runLength:l=0,letterMode:u="polarity",letterOverride:c,...d})=>{const m=I.useId(),p=I.useId(),{start:b,mid:_,end:f,triStart:h,triMid:$,triEnd:C}=Uu(),{state:S,direction:y,polarity:w}=I.useMemo(()=>Vu(t),[t]),x=I.useMemo(()=>Gu(S),[S]),M=I.useMemo(()=>Ps(S),[S]),T=M===rt.Improving||M===rt.Deteriorating;let k="";r&&T&&(u==="polarity"?w===ot.HigherIsBetter?k="H":w===ot.LowerIsBetter?k="L":k="":k=y===Se.Higher?"H":"L"),c!==void 0&&(k=c);const D=S!==Ne.CommonCause,v=S===Ne.SpecialCauseNoJudgement,N=jt("common-cause","#A6A6A6"),z=D?x.hex:N,R=I.useMemo(()=>qy(S,y),[S,y]),P=n||`${x.label}${k?y===Se.Higher?" â€“ Higher":" â€“ Lower":""}`,F=Xy(t);if(s==="triangleWithRun"){const W=[[150,90],[100,190],[200,190]],L=[[150,140+100/2],[150-100/2,140-100/2],[150+100/2,140-100/2]];let U=null;S===Ne.SpecialCauseImproving||S===Ne.SpecialCauseDeteriorating?U=o.jsx("polygon",{points:(y===Se.Higher?W:L).map(ge=>ge.join(",")).join(" "),fill:x.hex,stroke:x.hex,strokeWidth:6,transform:y===Se.Higher?"translate(0, -15)":"translate(0, 15)"}):S===Ne.SpecialCauseNoJudgement&&(U=o.jsx("polygon",{points:y===Se.Higher?W.map(ge=>ge.join(",")).join(" "):L.map(ge=>ge.join(",")).join(" "),fill:x.hex,stroke:x.hex,strokeWidth:6,transform:y===Se.Higher?"translate(0,-6)":"translate(0,6)"}));const O=Math.max(0,Math.min(5,Math.floor(l||0))),Q=S===Ne.CommonCause?160:y===Se.Higher?210:70,he=10,le=26,J=150-2*le,X=S===Ne.SpecialCauseImproving?jt("improvement","#00B0F0"):S===Ne.SpecialCauseDeteriorating?jt("concern","#E46C0A"):N,te=Array.from({length:5}).map((ge,me)=>{const pe=(S===Ne.SpecialCauseImproving||S===Ne.SpecialCauseDeteriorating)&&me>=5-O?X:N;return o.jsx("circle",{cx:J+me*le,cy:Q,r:he,fill:pe,stroke:pe,strokeWidth:1},me)}),se=Ls(x.hex,m,p,a,i,[{offset:"0%",opacity:h},{offset:"75%",opacity:$},{offset:"100%",opacity:C}]),V=S===Ne.CommonCause||y===Se.Higher?"translate(0,-10)":"translate(0,20)";return o.jsxs("svg",{width:e,height:e,viewBox:"0 0 300 300",role:"img","aria-label":P,"aria-description":F,...d,children:[se,o.jsx("circle",{stroke:"none",fill:i?`url(#${p})`:"#ffffff",...a?{filter:`url(#${m})`}:{},cx:"150",cy:"150",r:"120"}),o.jsx("circle",{stroke:x.hex,strokeWidth:15,strokeMiterlimit:10,fill:"none",cx:"150",cy:"150",r:"120"}),o.jsxs("g",{transform:V,children:[U,k&&o.jsx("text",{fill:"#fff",fontFamily:"'Frutiger W01', Frutiger, Arial, 'Helvetica Neue', Helvetica, sans-serif",fontWeight:"bold",fontSize:64,x:"150",y:y===Se.Higher?150:145,textAnchor:"middle",dominantBaseline:"middle",children:k}),te]})]})}if(s==="triangle"){const W=[[150,75],[75,225],[225,225]],L=[[150,150+150/2],[150-150/2,150-150/2],[150+150/2,150-150/2]],U=[[150-150/2,150+150/2],[150+150/2,150+150/2]];let O=null;S===Ne.SpecialCauseImproving||S===Ne.SpecialCauseDeteriorating?O=o.jsx("polygon",{points:(y===Se.Higher?W:L).map(he=>he.join(",")).join(" "),fill:x.hex,stroke:x.hex,strokeWidth:8,transform:y===Se.Higher?"translate(0, -10)":"translate(0, 10)"}):S===Ne.SpecialCauseNoJudgement?O=o.jsx("polygon",{points:y===Se.Higher?W.map(he=>he.join(",")).join(" "):L.map(he=>he.join(",")).join(" "),fill:x.hex,stroke:x.hex,strokeWidth:8,transform:y===Se.Higher?"translate(0, -15)":"translate(0, 15)"}):S===Ne.CommonCause&&(O=o.jsx("line",{x1:U[0][0],y1:U[0][1],x2:U[1][0],y2:U[1][1],stroke:x.hex,strokeWidth:32,strokeLinecap:"square",transform:"translate(0, -75)"}));const Q=Ls(x.hex,m,p,a,i,[{offset:"0%",opacity:h},{offset:"65%",opacity:$},{offset:"100%",opacity:C}]);return o.jsxs("svg",{width:e,height:e,viewBox:"0 0 300 300",role:"img","aria-label":P,"aria-description":F,...d,children:[Q,o.jsx("circle",{stroke:"none",fill:i?`url(#${p})`:"#ffffff",...a?{filter:`url(#${m})`}:{},cx:"150",cy:"150",r:"120"}),o.jsx("circle",{stroke:x.hex,strokeWidth:15,strokeMiterlimit:10,fill:"none",cx:"150",cy:"150",r:"120"}),O,k&&(S===Ne.SpecialCauseImproving||S===Ne.SpecialCauseDeteriorating)&&o.jsx("text",{fill:"#fff",fontFamily:"'Frutiger W01', Frutiger, Arial, 'Helvetica Neue', Helvetica, sans-serif",fontWeight:"bold",fontSize:100,x:"150",y:y===Se.Higher?"170":"140",textAnchor:"middle",dominantBaseline:"middle",children:k})]})}const j=Ls(x.hex,m,p,a,i,[{offset:"0%",opacity:b},{offset:"65%",opacity:_},{offset:"100%",opacity:f}]);return o.jsxs("svg",{width:e,height:e,viewBox:"0 0 300 300",role:"img","aria-label":P,"aria-description":F,...d,children:[j,o.jsx("circle",{stroke:"none",fill:i?`url(#${p})`:"#ffffff",...a?{filter:`url(#${m})`}:{},cx:"150",cy:"150",r:"120"}),o.jsx("circle",{stroke:x.hex,strokeWidth:15,strokeMiterlimit:10,fill:"none",cx:"150",cy:"150",r:"120"}),k&&o.jsx("text",{fill:x.hex,fontFamily:"Arial-BoldMT, Arial, 'Helvetica Neue', Helvetica, sans-serif",fontWeight:"bold",fontSize:176,transform:"translate(86.67, 54) scale(0.5, 0.5)",textAnchor:"end",children:o.jsx("tspan",{x:"120",y:y===Se.Lower?"325":"156",children:k})}),v?o.jsx("path",{"aria-hidden":"true",fillRule:"evenodd",stroke:"none",fill:x.hex,...y===Se.Lower?{transform:"rotate(90 150 150)"}:{transform:"translate(-5 0) rotate(0 150 150)"},d:"M 90.26,185.42 L 149.31,126.37 127.44,104.51 209.81,90.66 195.96,173.02 174.09,151.16 115.05,210.2 90.26,185.42 Z M 90.26,185.42"}):o.jsxs(o.Fragment,{children:[R.length===5&&o.jsx("path",{"aria-hidden":"true",fill:"none",stroke:N,strokeWidth:12,strokeLinecap:"round",strokeLinejoin:"round",opacity:.9,d:`M ${R.map(H=>`${H.cx} ${H.cy}`).join(" L ")}`}),R.map((H,B)=>{const W=B>=R.length-2&&D?z:N,L=W;return o.jsx("circle",{stroke:L,strokeWidth:2,strokeMiterlimit:10,fill:W,cx:H.cx,cy:H.cy,r:16},B)})]})]})};As.displayName="SPCVariationIcon";const Es=({status:t,size:e=44,ariaLabel:n,dropShadow:r=!0,colourOverride:a,gradientWash:i=!1,letterOverride:s,showTrendLines:l=!0,...u})=>{const c=I.useId(),d=I.useId(),{start:m,mid:p,end:b}=Uu(),_=a||Gy[t],f=(s||Yy[t]).slice(0,2),h=n||`Assurance ${t}`;return o.jsxs("svg",{width:e,height:e,viewBox:"0 0 300 300",role:"img","aria-label":h,...u,children:[o.jsxs("defs",{children:[r&&o.jsxs("filter",{id:c,filterUnits:"objectBoundingBox",children:[o.jsx("feGaussianBlur",{stdDeviation:"3"}),o.jsx("feOffset",{dx:"-1",dy:"15",result:"blur"}),o.jsx("feFlood",{floodColor:"rgb(166,166,166)",floodOpacity:"1"}),o.jsx("feComposite",{in2:"blur",operator:"in",result:"colorShadow"}),o.jsx("feComposite",{in:"SourceGraphic",in2:"colorShadow",operator:"over"})]}),i&&o.jsxs("linearGradient",{id:d,x1:"0%",y1:"0%",x2:"100%",y2:"100%",children:[o.jsx("stop",{offset:"0%",stopColor:_,stopOpacity:parseFloat(m)}),o.jsx("stop",{offset:"65%",stopColor:_,stopOpacity:parseFloat(p)}),o.jsx("stop",{offset:"100%",stopColor:"#ffffff",stopOpacity:parseFloat(b)})]})]}),o.jsx("circle",{stroke:"none",fill:i?`url(#${d})`:"#ffffff",...r?{filter:`url(#${c})`}:{},cx:"150",cy:"150",r:"120"}),o.jsx("text",{fill:_,fontFamily:"Arial-BoldMT, Arial, 'Helvetica Neue', Helvetica, sans-serif",fontWeight:"bold",fontSize:176,x:0,y:0,transform:"translate(121.01, 32) scale(0.5, 0.5)",textAnchor:"middle",children:o.jsx("tspan",{x:60,y:184,children:f})}),l&&o.jsxs(o.Fragment,{children:[t===In.Fail?o.jsx("path",{id:"fail-line",stroke:_,strokeWidth:9.5,strokeMiterlimit:9.5,strokeDasharray:"35,10",strokeDashoffset:0,fill:"none",d:"M 33,143 L 268,143"}):t===In.Uncertain?o.jsx("path",{id:"uncertain-line",stroke:"rgb(166, 166, 166)",strokeWidth:9.5,strokeMiterlimit:9.5,strokeDasharray:"16.5,10",strokeDashoffset:0,fill:"none",d:"M 36,174 L 266,174"}):o.jsx("path",{id:"pass-line",stroke:_,strokeWidth:9.5,strokeMiterlimit:9.5,strokeDasharray:"35,10",strokeDashoffset:0,fill:"none",d:"M 48,204 L 254,204"}),o.jsx("path",{id:"data-sparkline",stroke:"rgb(166, 166, 166)",strokeWidth:12,strokeMiterlimit:12,fill:"none",d:"M 59.9,187.91 C 72.79,171.72 87.33,158.06 104.4,157.83 121.91,158.58 140.94,187.85 153.4,189.91 164.1,192.12 163.78,171.38 169.17,170.53 172.87,169.55 174.88,187.45 184.94,189.24 197,191.86 230.54,184.47 239.01,185.9"}),o.jsx("circle",{stroke:_,strokeWidth:15,strokeMiterlimit:10,fill:"none",cx:"150",cy:"150",r:"120"})]})]})};Es.displayName="SPCAssuranceIcon";const qu=({data:t,ariaLabel:e="SPC chart",height:n=260,showZones:r=!0,showPoints:a=!0,announceFocus:i=!1,className:s,unit:l,highlightOutOfControl:u=!0,chartType:c="XmR",metricImprovement:d=$n.Neither,enableRules:m=!0,showIcons:p=!1,showEmbeddedIcon:b=!0,targets:_,baselines:f,ghosts:h,settings:$,narrationContext:C,gradientSequences:S=!1,processLineWidth:y=2})=>{const w=Z.useMemo(()=>{const W=t.map((L,U)=>({x:L.x,value:L.y,target:_?.[U]??void 0,baseline:f?.[U]??void 0,ghost:h?.[U]??void 0}));try{return zu({chartType:c,metricImprovement:d,data:W,settings:$})}catch{return null}},[t,_,f,h,c,d,$]),x=w?.rows.slice().reverse().find(W=>W.mean!=null),M=x?.mean??null,T=x?.upperProcessLimit??null,k=x?.lowerProcessLimit??null,D=x?.upperOneSigma??null,v=x?.lowerOneSigma??null,N=x?.upperTwoSigma??null,z=x?.lowerTwoSigma??null,R=M!=null&&D!=null?Math.abs(D-M):0,P=Z.useMemo(()=>[{id:"process",data:t,color:"#A6A6A6"}],[t]),F=Z.useMemo(()=>{const L=[...t.map(U=>U.y)];if([M,T,k,D,v,N,z].forEach(U=>{U!=null&&L.push(U)}),_&&_.forEach(U=>{typeof U=="number"&&!isNaN(U)&&L.push(U)}),!!L.length)return[Math.min(...L),Math.max(...L)]},[t,M,T,k,D,v,N,z,_]),j=Z.useMemo(()=>{if(!(l||C?.measureUnit)&&t.length)return t.every(W=>W.y>=0&&W.y<=1)?"%":void 0},[l,C?.measureUnit,t]),H=l??C?.measureUnit??j,B=Z.useMemo(()=>H?{...C||{},measureUnit:H}:C,[C,H]),E=Z.useMemo(()=>{if(!b||!w?.rows?.length)return null;const W=w.rows,L=$?.minimumPoints??13;if(W.filter(ge=>!ge.ghost&&ge.value!=null).length<L)return null;let O=-1;for(let ge=W.length-1;ge>=0;ge--){const me=W[ge];if(me&&me.value!=null&&!me.ghost){O=ge;break}}if(O===-1)return null;const Q=W[O],he=Q.variationIcon,le=Q.assuranceIcon,J=le===hn.Pass?In.Pass:le===hn.Fail?In.Fail:In.Uncertain;let X;if(he===Je.None){const ge=Q.specialCauseSinglePointAbove,me=Q.specialCauseSinglePointBelow;d===$n.Up?ge?X=Se.Higher:me&&(X=Se.Lower):d===$n.Down?me?X=Se.Lower:ge&&(X=Se.Higher):X=Se.Higher}let te;switch(he){case Je.Improvement:te=rt.Improving;break;case Je.Concern:te=rt.Deteriorating;break;case Je.None:te=rt.No_Judgement;break;case Je.Neither:default:te=rt.None}let se;d===$n.Up?se=ot.HigherIsBetter:d===$n.Down?se=ot.LowerIsBetter:se=ot.ContextDependent;const V=80;return o.jsxs("div",{style:{display:"flex",gap:12,marginRight:16},children:[o.jsx("div",{className:"fdp-spc-chart__embedded-icon","data-variation":String(he),"data-variation-judgement":String(te),"data-trend-raw":X?String(X):"none","data-trend":X?String(X):"none","data-polarity":String(se??"unknown"),style:{width:V,height:V},children:o.jsx(As,{dropShadow:!1,data:{judgement:te,polarity:se,...X?{trend:X}:{}},letterMode:"direction",size:V})}),o.jsx("div",{className:"fdp-spc-chart__embedded-assurance-icon","data-assurance":String(le),style:{width:V,height:V},children:o.jsx(Es,{status:J,size:V,dropShadow:!1})})]},`embedded-icon-${O}`)},[b,w?.rows,d,$?.minimumPoints,_]);return o.jsxs("div",{className:s?`fdp-spc-chart-wrapper ${s}`:"fdp-spc-chart-wrapper",children:[b&&o.jsx("div",{className:"fdp-spc-chart__top-row",style:{display:"flex",justifyContent:"flex-end",marginBottom:4},children:E}),o.jsx(ty,{height:n,ariaLabel:e,margin:{bottom:48,left:56,right:16,top:12},className:void 0,children:o.jsx(ny,{series:P,yDomain:F,children:o.jsx(Ky,{series:P,showPoints:a,announceFocus:i,limits:{mean:M,ucl:T,lcl:k,sigma:R,onePos:D,oneNeg:v,twoPos:N,twoNeg:z},showZones:r,highlightOutOfControl:u,engineRows:w?.rows||null,enableRules:m,showIcons:p,narrationContext:B,metricImprovement:d,gradientSequences:S,processLineWidth:y,effectiveUnit:H})})})]})},Ky=({series:t,showPoints:e,announceFocus:n,limits:r,showZones:a,highlightOutOfControl:i,engineRows:s,enableRules:l,showIcons:u,narrationContext:c,gradientSequences:d,processLineWidth:m,effectiveUnit:p})=>{const b=Mr(),_=Dr();if(!b)return null;const{xScale:f,yScale:h}=b,$=Fr(),C=t[0]?.data||[],S=Z.useMemo(()=>{if(!r.ucl&&!r.lcl)return new Set;const j=new Set;return C.forEach((H,B)=>{(r.ucl!=null&&H.y>r.ucl||r.lcl!=null&&H.y<r.lcl)&&j.add(B)}),j},[C,r.ucl,r.lcl]),y=Z.useMemo(()=>{if(!s)return null;const j={};return s.forEach((H,B)=>{if(H.value==null||H.ghost)return;const E=H.specialCauseSinglePointAbove||H.specialCauseSinglePointBelow||H.specialCauseTwoOfThreeAbove||H.specialCauseTwoOfThreeBelow||H.specialCauseFourOfFiveAbove||H.specialCauseFourOfFiveBelow||H.specialCauseShiftHigh||H.specialCauseShiftLow||H.specialCauseTrendIncreasing||H.specialCauseTrendDecreasing;j[B]={variation:H.variationIcon,assurance:H.assuranceIcon,special:E,concern:H.variationIcon===Je.Concern,improvement:H.variationIcon===Je.Improvement}}),j},[s]),w=Z.useMemo(()=>{if(!s||!s.length)return null;const j=[];for(const B of s)typeof B.target=="number"&&!isNaN(B.target)&&j.push(B.target);if(!j.length)return null;const H=j[0];return j.every(B=>B===H)?H:null},[s]),x=Z.useMemo(()=>{if(!y)return[];const j=C.map((H,B)=>{const E=y?.[B];return E?.concern?"concern":E?.improvement?"improvement":"common"});for(let H=1;H<j.length-1;H++)(j[H]==="concern"||j[H]==="improvement")&&j[H-1]==="common"&&j[H+1]==="common"&&(j[H]="common");for(let H=1;H<j.length-1;H++){const B=j[H-1],E=j[H],W=j[H+1];E!=="common"&&B!=="common"&&W!=="common"&&B===W&&E!==B&&(j[H]="common")}return j},[y,C]),M=Z.useMemo(()=>{if(!d||!x.length)return[];const j=[];let H=0;for(let B=1;B<=x.length;B++)if(B===x.length||x[B]!==x[H]){const W=x[H],L=B-1,U=L-H+1;W==="common"?j.push({start:H,end:L,category:"common"}):U>1&&j.push({start:H,end:L,category:W}),H=B}return j},[d,x]),T=Z.useMemo(()=>C.map(j=>f(j.x instanceof Date?j.x:new Date(j.x))),[C,f]),k=f.range()[1],D=Z.useMemo(()=>M.length?o.jsx("defs",{children:M.map((j,H)=>{const B=`spc-seq-grad-${H}`;let E,W=.28,L=.12,U=.045;switch(j.category){case"concern":E="var(--nhs-fdp-color-data-viz-spc-concern, #E46C0A)",W=.28,L=.12,U=.045;break;case"improvement":E="var(--nhs-fdp-color-data-viz-spc-improvement, #00B0F0)",W=.26,L=.11,U=.045;break;default:E="var(--nhs-fdp-color-data-viz-spc-common-cause, #A6A6A6)"}return o.jsxs("linearGradient",{id:B,x1:"0%",y1:"0%",x2:"0%",y2:"100%",children:[o.jsx("stop",{offset:"0%",stopColor:E,stopOpacity:W}),o.jsx("stop",{offset:"70%",stopColor:E,stopOpacity:L}),o.jsx("stop",{offset:"100%",stopColor:E,stopOpacity:U})]},B)})}):null,[M]),v=Z.useMemo(()=>{if(!M.length)return null;const[j]=h.domain(),H=h(j),B=M.map((E,W)=>{const L=E.start,U=E.end,O=T[L],Q=T[U],he=L>0?T[L-1]:O,le=U<T.length-1?T[U+1]:Q;let J=L===0?Math.max(0,O-(T.length>1?(T[1]-O)/2:10)):(he+O)/2,X=U===T.length-1?Math.min(k,Q+(T.length>1?(Q-T[T.length-2])/2:10)):(Q+le)/2,te=null,se=null;if(E.category==="common")L>0&&(J=T[L-1],te=h(C[L-1].y)),U<C.length-1&&(X=T[U+1],se=h(C[U+1].y));else if(J=O,L>0){const me=x[L-1];me!=="common"&&me!==E.category&&(J=T[L-1],te=h(C[L-1].y))}let V=`M ${J} ${H}`;const ge=h(C[L].y);te!=null?(V+=` L ${J} ${te}`,O!==J&&(V+=` L ${O} ${ge}`)):(V+=` L ${J} ${ge}`,O!==J&&(V+=` L ${O} ${ge}`));for(let me=L;me<=U;me++){const _e=T[me],pe=h(C[me].y);V+=` L ${_e} ${pe}`}return E.category==="common"&&se!=null?(X!==Q&&(V+=` L ${X} ${se}`),V+=` L ${X} ${H} Z`):V+=` L ${Q} ${H} L ${X} ${H} Z`,o.jsx("path",{d:V,fill:`url(#spc-seq-grad-${W})`,stroke:"none",className:"fdp-spc__sequence-bg","aria-hidden":"true"},`seq-area-${W}`)});return o.jsx("g",{className:"fdp-spc__sequence-bgs",children:B})},[M,T,k,h,C]),N=Z.useMemo(()=>{if(!c?.timeframe&&C.length>=2){const j=C.map(U=>U.x instanceof Date?U.x:new Date(U.x)),H=new Date(Math.min(...j.map(U=>U.getTime()))),B=new Date(Math.max(...j.map(U=>U.getTime()))),E=Math.round((B.getTime()-H.getTime())/864e5)||0;if(E<14)return`The chart shows a timeframe of ${E+1} days`;const W=Math.round(E/7);return W<20?`The chart shows a timeframe of ${W} weeks`:`The chart shows a timeframe of ${(B.getFullYear()-H.getFullYear())*12+(B.getMonth()-H.getMonth())+1} months`}if(c?.timeframe)return`The chart shows a timeframe of ${c.timeframe}`},[c?.timeframe,C]),z=j=>{const H=j%10,B=j%100;return H===1&&B!==11?`${j}st`:H===2&&B!==12?`${j}nd`:H===3&&B!==13?`${j}rd`:`${j}th`},R=j=>`${z(j.getDate())} ${j.toLocaleString("en-GB",{month:"long"})}, ${j.getFullYear()}`,P=Z.useCallback(({index:j,x:H,y:B})=>{const E=s?.[j],W=H instanceof Date?H:new Date(H),L=R(W),U=c?.measureUnit?` ${c.measureUnit}`:"",O=c?.measureName?` ${c.measureName}`:"";if(!E)return`General summary is: ${N?N+". ":""}Point ${j+1}, ${L}, ${B}${U}${O}`;const Q=Fs(E.variationIcon)||"Variation",he=$s(E),le=he.length?` Rules: ${[...new Set(he.map(X=>Ms[X].narration))].join("; ")}.`:" No special cause rules.",J=[];return c?.measureName&&J.push(`Measure: ${c.measureName}.`),c?.datasetContext&&J.push(`${c.datasetContext}.`),c?.organisation&&J.push(`Organisation: ${c.organisation}.`),c?.additionalNote&&J.push(c.additionalNote),["General summary is:",...J,`Point ${j+1} recorded on `,L+",",`with a value of ${B} ${U}${O}`,Q+".",le].join(" ").replace(/\s+/g," ").trim()},[s,c,N]),F=Z.useCallback((j,H)=>s?.[j]?P({index:j,seriesId:"process",x:H.x instanceof Date?H.x:new Date(H.x),y:H.y}).replace(/^General summary is:\s*/,"").replace(/^Point \d+\s*/,""):void 0,[s,P]);return o.jsx(Dy,{children:o.jsxs("div",{className:"fdp-spc-chart",role:"group","aria-label":"Statistical process control chart","aria-roledescription":"chart",children:[o.jsx("svg",{width:b.xScale.range()[1]+56+16,height:b.yScale.range()[0]+12+48,role:"img",children:o.jsxs("g",{transform:"translate(56,12)",children:[o.jsx(ku,{type:"x"}),o.jsx(ku,{type:"y"}),o.jsx(ry,{axis:"y"}),D,v,r.mean!=null&&o.jsx("line",{className:"fdp-spc__cl",x1:0,x2:f.range()[1],y1:h(r.mean),y2:h(r.mean),"aria-hidden":"true"}),w!=null&&o.jsx(o.Fragment,{}),r.ucl!=null&&o.jsx("line",{className:"fdp-spc__limit fdp-spc__limit--ucl",x1:0,x2:f.range()[1],y1:h(r.ucl),y2:h(r.ucl),"aria-hidden":"true",strokeWidth:2}),r.lcl!=null&&o.jsx("line",{className:"fdp-spc__limit fdp-spc__limit--lcl",x1:0,x2:f.range()[1],y1:h(r.lcl),y2:h(r.lcl),"aria-hidden":"true",strokeWidth:2}),w!=null&&o.jsxs("g",{"aria-hidden":"true",className:"fdp-spc__target-group",children:[o.jsx("line",{className:"fdp-spc__target","data-testid":"spc-target-line",x1:0,x2:f.range()[1],y1:h(w),y2:h(w),strokeWidth:2.5}),o.jsxs("text",{"data-testid":"spc-target-label",x:f.range()[0]-7,y:h(w)-5,textAnchor:"start",className:"fdp-spc__target-label",fontSize:12,children:["Target ",w," ",p||c?.measureUnit||""]})]}),a&&r.mean!=null&&o.jsxs(o.Fragment,{children:[r.onePos!=null&&o.jsx("line",{className:"fdp-spc__zone fdp-spc__zone--pos1",x1:0,x2:f.range()[1],y1:h(r.onePos),y2:h(r.onePos),"aria-hidden":"true",strokeWidth:2}),r.oneNeg!=null&&o.jsx("line",{className:"fdp-spc__zone fdp-spc__zone--neg1",x1:0,x2:f.range()[1],y1:h(r.oneNeg),y2:h(r.oneNeg),"aria-hidden":"true",strokeWidth:2}),r.twoPos!=null&&o.jsx("line",{className:"fdp-spc__zone fdp-spc__zone--pos2",x1:0,x2:f.range()[1],y1:h(r.twoPos),y2:h(r.twoPos),"aria-hidden":"true",strokeWidth:2}),r.twoNeg!=null&&o.jsx("line",{className:"fdp-spc__zone fdp-spc__zone--neg2",x1:0,x2:f.range()[1],y1:h(r.twoNeg),y2:h(r.twoNeg),"aria-hidden":"true",strokeWidth:2})]}),o.jsx(My,{series:t[0],seriesIndex:0,palette:"categorical",showPoints:!1,focusablePoints:!1,focusIndex:-1,parseX:j=>j.x instanceof Date?j.x:new Date(j.x),smooth:!1,strokeWidth:m}),e&&C.map((j,H)=>{const B=f(j.x instanceof Date?j.x:new Date(j.x)),E=h(j.y),W=S.has(H),L=y?.[H],U=["fdp-spc__point",W&&i?"fdp-spc__point--ooc":null,l&&L?.special&&L.concern?"fdp-spc__point--sc-concern":null,l&&L?.special&&L.improvement?"fdp-spc__point--sc-improvement":null,L?.assurance===hn.Pass?"fdp-spc__point--assurance-pass":null,L?.assurance===hn.Fail?"fdp-spc__point--assurance-fail":null].filter(Boolean).join(" "),O=`Point ${H+1} value ${j.y}`+(L?.special?" special cause":"")+(L?.variation===Je.Improvement?" improving":L?.variation===Je.Concern?" concern":""),Q=$?.focused?.index===H;return o.jsx("circle",{cx:B,cy:E,r:5,className:U,"data-variation":L?.variation,"data-assurance":L?.assurance,"aria-label":O,...Q?{"aria-describedby":`spc-tooltip-${H}`}:{}},H)}),u&&l&&y&&C.map((j,H)=>{const B=y[H];if(!B||!(B.concern||B.improvement))return null;const E=f(j.x instanceof Date?j.x:new Date(j.x)),W=h(j.y);let L=W-10;const U=12,O=h.range()[0]-4;L<U&&(L=Math.min(W+16,O));const Q=f.range()[1],he=Math.min(Math.max(E,0),Q-0);return o.jsx("text",{x:he,y:L,textAnchor:"middle",className:`fdp-spc__icon ${B.concern?"fdp-spc__icon--concern":"fdp-spc__icon--improvement"}`,"aria-hidden":"true",children:B.concern?"!":"â˜…"},`icon-${H}`)}),_&&o.jsx(Zy,{width:f.range()[1],height:h.range()[0]}),o.jsx(Wu,{engineRows:s,limits:{mean:r.mean,sigma:r.sigma},pointDescriber:F,measureName:c?.measureName,measureUnit:c?.measureUnit,dateFormatter:j=>R(j)})]})}),n&&o.jsx($y,{format:j=>P({...j,x:j.x instanceof Date?j.x:new Date(j.x)})})]})})},Zy=({width:t,height:e})=>{const n=Fr();return n?o.jsx("rect",{className:"fdp-spc__interaction-layer",width:t,height:e,fill:"transparent",tabIndex:0,"aria-label":"Interactive chart area. Use arrow keys to move between points.",onMouseMove:r=>{const i=r.currentTarget.getBoundingClientRect(),s=r.clientX-i.left,l=r.clientY-i.top;n.focusNearest(s,l)},onMouseLeave:()=>n.clear(),onKeyDown:r=>{switch(r.key){case"ArrowRight":n.focusNextPoint(),r.preventDefault();break;case"ArrowLeft":n.focusPrevPoint(),r.preventDefault();break;case"ArrowDown":n.focusNextSeries(),r.preventDefault();break;case"ArrowUp":n.focusPrevSeries(),r.preventDefault();break;case"Home":n.focusFirstPoint(),r.preventDefault();break;case"End":n.focusLastPoint(),r.preventDefault();break}},style:{cursor:"crosshair"}}):null},Jy=Object.freeze(Object.defineProperty({__proto__:null,AssuranceIcon:hn,AssuranceResult:In,Direction:Se,ImprovementDirection:$n,MetricPolarity:ot,SPCAssuranceIcon:Es,SPCChart:qu,SPCTooltipOverlay:Wu,SPCVariationIcon:As,VARIATION_COLOR_TOKENS:Bt,VariationIcon:Je,VariationJudgement:rt,VariationState:Ne,buildSpc:zu,extractRuleIds:$s,getVariationColorHex:Uy,getVariationColorToken:Ou,getVariationColour:Gu,getVariationTrend:Ps,ruleGlossary:Ms,variationLabel:Fs},Symbol.toStringTag,{value:"Module"})),Xu="150ms",Ku="300ms",Zu="500ms",Ju="cubic-bezier(0.4, 0, 1, 1)",Qu="cubic-bezier(0, 0, 0.2, 1)",ed="cubic-bezier(0.4, 0, 0.2, 1)",td="cubic-bezier(0.68, -0.55, 0.265, 1.55)",nd="background-color 300ms cubic-bezier(0, 0, 0.2, 1)",rd="box-shadow 150ms cubic-bezier(0, 0, 0.2, 1)",ad="border-color 150ms cubic-bezier(0, 0, 0.2, 1), box-shadow 150ms cubic-bezier(0, 0, 0.2, 1)",id="border-color 300ms cubic-bezier(0, 0, 0.2, 1)",sd="1px",od="2px",ld="4px",cd="4px",ud="4px",dd="2px",fd="1px",hd="0px",md="4px",pd="8px",gd="12px",Rs="#d8dde0",Hs="#4c6272",zs="#d8dde0",Os="#aeb7bd",Ws="#d5281b",Us="#005eb8",Gs="#ffffff",Ys="#212b32",Vs="#007f3b",qs="#330072",Xs="#7c2855",Ks="#d5281b",Zs="#ffeb3b",Js="#fff9c4",Qs="#ffb81c",eo="#ed8b00",to="#00a499",no="#ae2573",ro="#4c6272",ao="#768692",io="#aeb7bd",so="#d8dde0",oo="#f0f4f5",bd="#212b32",_d="#4c6272",yd="#ffffff",xd="#212b32",vd="#005eb8",Sd="#7c2855",wd="#003087",kd="#330072",Cd="#ffeb3b",Td="#212b32",Nd="#d8dde0",jd="#ffffff33",Dd="#d5281b",Md="#4c6272",$d="#ffffff",Fd="#007f3b",Id="#ffffff",Bd="#006530",Pd="#004021",Ld="#004021",Ad="#00000000",Ed="#ffffff",Rd="#005eb8",Hd="#005eb8",zd="#d9e5f2",Od="#c7daf0",Wd="#005eb8",Ud="#ffffff",Gd="#212b32",Yd="#d9dde0",Vd="#b3bcc2",qd="#b3bcc2",Xd="#d5281b",Kd="#aa2016",Zd="#6a140e",Jd="#6a140e",Qd="#005eb8",ef="#004b93",tf="#002f5c",nf="#002f5c",rf="8px",af="16px",sf="12px",of="16px",lf="4px",cf="40px",uf="4px",df="40px",ff="12px",hf="16px",mf="32px",pf="16px",gf="20px",bf="28px",_f="9px",yf="2px",xf="16px",vf="24px",Sf="8px",wf="24px",kf="16px",Cf="4px",Tf="4px",Nf="4px",jf="8px",Df="4px",Mf="16px",$f="#007f3b",Ff="#006530",If="#004021",Bf="#d8dde0",Pf="#ffffff",Lf="#768692",Af="#00000000",Ef="#ffeb3b",Rf="#00000000",Hf="#ffffff",zf="#d9e5f2",Of="#c7daf0",Wf="#005eb8",Uf="#005eb8",lo="8px",co="16px",uo="12px",fo="16px",Gf="2px",Yf="4px",Vf="4px",qf="600",Xf="#ffffff",Kf="#d8dde0",Zf="#aeb7bd",Jf="#f0f4f5",Qf="#212b32",eh="#212b32",th="#005eb8",ho="16px",mo="32px",po="16px",nh="1px",rh="4px",ah="none",ih="0 2px 4px rgba(0, 0, 0, 0.1)",sh="#ffffff",oh="#ffffff",lh="#d8dde0",ch="#ffffff",uh="#4c6272",dh="#ffeb3b",fh="#d5281b",hh="#aeb7bd",mh="#212b32",ph="#4c6272",gh="#768692",bh="#212b32",_h="#ffffff",yh="600",xh="#d5281b",vh="600",Sh="#4c6272",go="4px",bo="40px",_o="40px",yo="12px",wh="2px",kh="4px",Ch="0px",Th="16px",Nh="18px",jh="24px",Dh="32px",Mh="34px",$h="32px",Fh="40px",Ih="48px",Bh="5.4ex",Ph="7.2ex",Lh="9ex",Ah="10.8ex",Eh="20ex",Rh="38ex",Hh="56ex",zh="44px",Oh="40px",Wh="1020px",Uh="100%",Gh="50%",Yh="33.333%",Vh="25%",qh="20%",Xh="320px",Kh="641px",Zh="1025px",Jh="1280px",Qh="960px",em="32px",tm="16px",nm="#d5281b",rm="#d5281b",am="#ffffff",im="#007f3b",sm="#007f3b",om="#ffffff",lm="#ffeb3b",cm="#ffeb3b",um="#212b32",dm="#005eb8",fm="#005eb8",hm="#ffffff",mm="#d8dde0",pm="#aeb7bd",gm="#768692",bm="0 4px 0 #004021",_m="0 4px 0 #005eb8",ym="0 4px 0 #6a140e",xm="0 4px 0 #ffeb3b",vm="none",Sm="0 2px 4px rgba(0, 0, 0, 0.1)",wm="4px",km="0px",Cm="solid",Tm="0 0 0 3px #ffeb3b",Nm="0 0 0 3px #ffeb3b",jm="none",Dm="0 1px 3px rgba(0, 0, 0, 0.12)",Mm="0 2px 6px rgba(0, 0, 0, 0.16)",$m="0 4px 12px rgba(0, 0, 0, 0.20)",xo="0",vo="4px",So="8px",wo="16px",ko="24px",Co="32px",To="40px",No="48px",jo="56px",Do="64px",qa="0",Xa="0",Ka="4px",Za="4px",Ja="8px",Qa="8px",ei="8px",ti="16px",ni="16px",ri="24px",ai="24px",ii="32px",si="32px",oi="40px",li="40px",ci="48px",ui="48px",di="56px",fi="56px",hi="64px",Ir="Frutiger W01",Br="Arial, Helvetica, sans-serif",Pr="sans-serif",Lr="400",Ar="600",Er="400",Rr="12px",Hr="14px",zr="12pt",Or="14px",Wr="16px",Ur="12pt",Gr="16px",Yr="19px",Vr="13pt",qr="19px",Xr="22px",Kr="15pt",Zr="22px",Jr="26px",Qr="17pt",ea="27px",ta="36px",na="20pt",ra="33px",aa="48px",ia="24pt",mi="16px",pi="24px",At={fontFamily:"Frutiger W01",fontWeight:"600",fontSize:{mobile:"33px",tablet:"48px",print:"24pt"},lineHeight:"1.09",marginTop:"0",marginBottom:{mobile:"40px",tablet:"48px"}},Et={fontFamily:"Frutiger W01",fontWeight:"600",fontSize:{mobile:"27px",tablet:"36px",print:"20pt"},lineHeight:"1.11",marginTop:"0",marginBottom:{mobile:"16px",tablet:"24px"}},Rt={fontFamily:"Frutiger W01",fontWeight:"600",fontSize:{mobile:"22px",tablet:"26px",print:"17pt"},lineHeight:"1.15",marginTop:"0",marginBottom:{mobile:"16px",tablet:"24px"}},Ht={fontFamily:"Frutiger W01",fontWeight:"600",fontSize:{mobile:"19px",tablet:"22px",print:"15pt"},lineHeight:"1.18",marginTop:"0",marginBottom:{mobile:"16px",tablet:"24px"}},zt={fontFamily:"Frutiger W01",fontWeight:"600",fontSize:{mobile:"16px",tablet:"19px",print:"13pt"},lineHeight:"1.26",marginTop:"0",marginBottom:{mobile:"16px",tablet:"24px"}},Ot={fontFamily:"Frutiger W01",fontWeight:"400",fontSize:{mobile:"16px",tablet:"19px",print:"13pt"},lineHeight:"1.47",marginTop:"0",marginBottom:{mobile:"16px",tablet:"24px"}},Wt={fontFamily:"Frutiger W01",fontWeight:"400",fontSize:{mobile:"22px",tablet:"26px",print:"17pt"},lineHeight:"1.38",marginTop:"0",marginBottom:{mobile:"24px",tablet:"32px"}},Ut={fontFamily:"Frutiger W01",fontWeight:"400",fontSize:{mobile:"14px",tablet:"16px",print:"12pt"},lineHeight:"1.5",marginTop:"0",marginBottom:{mobile:"16px",tablet:"24px"}},Gt={fontFamily:"Frutiger W01",fontWeight:"400",fontSize:{mobile:"22px",tablet:"26px",print:"17pt"},lineHeight:"1.38",marginTop:"0",marginBottom:{mobile:"40px",tablet:"48px"}},Yt={fontFamily:"Frutiger W01",fontWeight:"400",fontSize:{mobile:"16px",tablet:"19px",print:"13pt"},lineHeight:"1.47",marginTop:"0",marginBottom:{mobile:"24px",tablet:"32px"}},Qy=Object.freeze(Object.defineProperty({__proto__:null,AnimationDurationFast:Xu,AnimationDurationNormal:Ku,AnimationDurationSlow:Zu,AnimationEasingBounce:td,AnimationEasingEaseIn:Ju,AnimationEasingEaseInOut:ed,AnimationEasingEaseOut:Qu,BorderColorCard:zs,BorderColorCardHover:Os,BorderColorDefault:Rs,BorderColorError:Ws,BorderColorForm:Hs,BorderRadiusLarge:gd,BorderRadiusMedium:pd,BorderRadiusNone:hd,BorderRadiusSmall:md,BorderWidthCardBottom:cd,BorderWidthDefault:sd,BorderWidthFormElement:od,BorderWidthFormElementError:ld,BorderWidthPanel:ud,BorderWidthTableCell:fd,BorderWidthTableHeader:dd,BreakpointDesktop:Zh,BreakpointLargeDesktop:Jh,BreakpointMobile:Xh,BreakpointTablet:Kh,ButtonBorderRadius:Yf,ButtonBorderWidth:Gf,ButtonPrimaryBackgroundActive:If,ButtonPrimaryBackgroundDefault:$f,ButtonPrimaryBackgroundDisabled:Bf,ButtonPrimaryBackgroundHover:Ff,ButtonPrimaryBorderDefault:Af,ButtonPrimaryBorderFocus:Ef,ButtonPrimaryTextDefault:Pf,ButtonPrimaryTextDisabled:Lf,ButtonSecondaryBackgroundActive:Of,ButtonSecondaryBackgroundDefault:Rf,ButtonSecondaryBackgroundHover:zf,ButtonSecondaryBackgroundSolid:Hf,ButtonSecondaryBorderDefault:Uf,ButtonSecondaryTextDefault:Wf,ButtonShadowSize:Vf,ButtonSpacingPaddingHorizontalDesktop:fo,ButtonSpacingPaddingHorizontalMobile:co,ButtonSpacingPaddingVerticalDesktop:uo,ButtonSpacingPaddingVerticalMobile:lo,ButtonTypographyWeight:qf,CardBackgroundDefault:Xf,CardBorderBottom:Jf,CardBorderDefault:Kf,CardBorderHover:Zf,CardBorderWidthBottom:rh,CardBorderWidthDefault:nh,CardShadowDefault:ah,CardShadowHover:ih,CardSpacingHeadingMargin:po,CardSpacingPaddingDesktop:mo,CardSpacingPaddingMobile:ho,CardTextDescription:eh,CardTextHeading:Qf,CardTextLink:th,ColorBorderDefault:Nd,ColorBorderSecondary:jd,ColorButtonLoginActive:tf,ColorButtonLoginBackground:Qd,ColorButtonLoginHover:ef,ColorButtonLoginShadow:nf,ColorButtonPrimaryActive:Pd,ColorButtonPrimaryBackground:Fd,ColorButtonPrimaryHover:Bd,ColorButtonPrimaryShadow:Ld,ColorButtonPrimaryText:Id,ColorButtonReverseActive:Vd,ColorButtonReverseBackground:Ud,ColorButtonReverseHover:Yd,ColorButtonReverseShadow:qd,ColorButtonReverseText:Gd,ColorButtonSecondaryActive:Od,ColorButtonSecondaryBackground:Ad,ColorButtonSecondaryBackgroundSolid:Ed,ColorButtonSecondaryBorder:Rd,ColorButtonSecondaryHover:zd,ColorButtonSecondaryShadow:Wd,ColorButtonSecondaryText:Hd,ColorButtonWarningActive:Zd,ColorButtonWarningBackground:Xd,ColorButtonWarningHover:Kd,ColorButtonWarningShadow:Jd,ColorError:Dd,ColorFocusBackground:Cd,ColorFocusText:Td,ColorFormBackground:$d,ColorFormBorder:Md,ColorGrey1:ro,ColorGrey2:ao,ColorGrey3:io,ColorGrey4:so,ColorGrey5:oo,ColorLinkActive:wd,ColorLinkDefault:vd,ColorLinkHover:Sd,ColorLinkVisited:kd,ColorPrimaryBlack:Ys,ColorPrimaryBlue:Us,ColorPrimaryDarkPink:Xs,ColorPrimaryGreen:Vs,ColorPrimaryPurple:qs,ColorPrimaryRed:Ks,ColorPrimaryWhite:Gs,ColorPrimaryYellow:Zs,ColorSecondaryAquaGreen:to,ColorSecondaryOrange:eo,ColorSecondaryPaleYellow:Js,ColorSecondaryPink:no,ColorSecondaryWarmYellow:Qs,ColorTextPrimary:bd,ColorTextPrint:xd,ColorTextReverse:yd,ColorTextSecondary:_d,ComponentBlur:Tf,ComponentBreadcrumbChevronMarginLeft:_f,ComponentBreadcrumbChevronMarginRight:yf,ComponentBreadcrumbPaddingTopDesktop:vf,ComponentBreadcrumbPaddingTopMobile:xf,ComponentButtonPaddingDesktopHorizontal:of,ComponentButtonPaddingDesktopVertical:sf,ComponentButtonPaddingMobileHorizontal:af,ComponentButtonPaddingMobileVertical:rf,ComponentButtonShadowSize:lf,ComponentCardHeadingMargin:pf,ComponentCardPaddingDesktop:mf,ComponentCardPaddingMobile:hf,ComponentDetails:jf,ComponentExpander:Df,ComponentFormCheckboxLabelPadding:ff,ComponentFormCheckboxSize:df,ComponentFormInputMinHeight:cf,ComponentFormInputPadding:uf,ComponentLink:Nf,ComponentPagination:Mf,ComponentPanelPaddingDesktop:bf,ComponentPanelPaddingMobile:gf,ComponentSpread:Cf,ComponentSummaryListCellPaddingHorizontal:wf,ComponentSummaryListCellPaddingVertical:Sf,ComponentSummaryListRowMargin:kf,ElevationHigh:$m,ElevationLow:Dm,ElevationMedium:Mm,ElevationNone:jm,FocusOutlineOffset:km,FocusOutlineStyle:Cm,FocusOutlineWidth:wm,FocusShadowButton:Nm,FocusShadowInput:Tm,FontFamilyBase:Ir,FontFamilyFallback:Br,FontFamilyPrint:Pr,FontLineHeightBase:pi,FontSize14Mobile:Rr,FontSize14Print:zr,FontSize14Tablet:Hr,FontSize16Mobile:Or,FontSize16Print:Ur,FontSize16Tablet:Wr,FontSize19Mobile:Gr,FontSize19Print:Vr,FontSize19Tablet:Yr,FontSize22Mobile:qr,FontSize22Print:Kr,FontSize22Tablet:Xr,FontSize26Mobile:Zr,FontSize26Print:Qr,FontSize26Tablet:Jr,FontSize36Mobile:ea,FontSize36Print:na,FontSize36Tablet:ta,FontSize48Mobile:ra,FontSize48Print:ia,FontSize48Tablet:aa,FontSizeBase:mi,FontWeightBold:Ar,FontWeightLight:Er,FontWeightNormal:Lr,FormBorderRadius:Ch,FormBorderWidthDefault:wh,FormBorderWidthError:kh,FormErrorTextDefault:xh,FormErrorTypographyWeight:vh,FormHintTextDefault:Sh,FormInputBackgroundDefault:sh,FormInputBackgroundDisabled:lh,FormInputBackgroundError:ch,FormInputBackgroundFocus:oh,FormInputBorderDefault:uh,FormInputBorderDisabled:hh,FormInputBorderError:fh,FormInputBorderFocus:dh,FormInputTextDefault:mh,FormInputTextDisabled:gh,FormInputTextPlaceholder:ph,FormLabelTextDefault:bh,FormLabelTextRequired:_h,FormLabelTypographyWeight:yh,FormSpacingCheckboxLabelPadding:yo,FormSpacingCheckboxSize:_o,FormSpacingInputMinHeight:bo,FormSpacingInputPadding:go,GridGutter:em,GridGutterHalf:tm,GridPageWidth:Qh,HeadingsNhsukHeadingL:Et,HeadingsNhsukHeadingM:Rt,HeadingsNhsukHeadingS:Ht,HeadingsNhsukHeadingXl:At,HeadingsNhsukHeadingXs:zt,LayoutColumnActions:qh,LayoutColumnFull:Uh,LayoutColumnHalf:Gh,LayoutColumnQuarter:Vh,LayoutColumnThird:Yh,LayoutContainerMaxWidth:Wh,ParagraphsBody:Ot,ParagraphsBodyLarge:Wt,ParagraphsBodySmall:Ut,ParagraphsLedeText:Gt,ParagraphsLedeTextSmall:Yt,ShadowButtonDefault:bm,ShadowButtonFocus:xm,ShadowButtonSecondary:_m,ShadowButtonWarning:ym,ShadowCardDefault:vm,ShadowCardHover:Sm,SizeButtonMinHeightDesktop:Oh,SizeButtonMinHeightMobile:zh,SizeFormControlLarge:Ih,SizeFormControlMedium:Fh,SizeFormControlSmall:$h,SizeFormInputWidth2xl:Rh,SizeFormInputWidth3xl:Hh,SizeFormInputWidthLg:Ah,SizeFormInputWidthMd:Lh,SizeFormInputWidthSm:Ph,SizeFormInputWidthXl:Eh,SizeFormInputWidthXs:Bh,SizeIconExtraLarge:Dh,SizeIconLarge:jh,SizeIconMedium:Nh,SizeIconNhsDefault:Mh,SizeIconSmall:Th,Spacing0:xo,Spacing1:vo,Spacing2:So,Spacing3:wo,Spacing4:ko,Spacing5:Co,Spacing6:To,Spacing7:No,Spacing8:jo,Spacing9:Do,SpacingResponsive0Mobile:qa,SpacingResponsive0Tablet:Xa,SpacingResponsive1Mobile:Ka,SpacingResponsive1Tablet:Za,SpacingResponsive2Mobile:Ja,SpacingResponsive2Tablet:Qa,SpacingResponsive3Mobile:ei,SpacingResponsive3Tablet:ti,SpacingResponsive4Mobile:ni,SpacingResponsive4Tablet:ri,SpacingResponsive5Mobile:ai,SpacingResponsive5Tablet:ii,SpacingResponsive6Mobile:si,SpacingResponsive6Tablet:oi,SpacingResponsive7Mobile:li,SpacingResponsive7Tablet:ci,SpacingResponsive8Mobile:ui,SpacingResponsive8Tablet:di,SpacingResponsive9Mobile:fi,SpacingResponsive9Tablet:hi,StateDisabledBackground:mm,StateDisabledBorder:pm,StateDisabledText:gm,StateErrorBackground:nm,StateErrorBorder:rm,StateErrorText:am,StateInfoBackground:dm,StateInfoBorder:fm,StateInfoText:hm,StateSuccessBackground:im,StateSuccessBorder:sm,StateSuccessText:om,StateWarningBackground:lm,StateWarningBorder:cm,StateWarningText:um,TransitionButtonDefault:nd,TransitionButtonShadow:rd,TransitionCardHover:id,TransitionInputFocus:ad},Symbol.toStringTag,{value:"Module"})),ex=(t,e)=>({fontSize:t.mobile,marginBottom:e.mobile,"@media (min-width: 768px)":{fontSize:t.tablet,marginBottom:e.tablet},"@media print":{fontSize:t.print||t.tablet}}),tx=({children:t,className:e="",style:n={}})=>o.jsx("h1",{className:e,style:{fontFamily:At.fontFamily,fontWeight:At.fontWeight,fontSize:At.fontSize.mobile,lineHeight:At.lineHeight,marginTop:At.marginTop,marginBottom:At.marginBottom.mobile,...n},children:t}),nx=({children:t,className:e="",style:n={}})=>o.jsx("h2",{className:e,style:{fontFamily:Et.fontFamily,fontWeight:Et.fontWeight,fontSize:Et.fontSize.mobile,lineHeight:Et.lineHeight,marginTop:Et.marginTop,marginBottom:Et.marginBottom.mobile,...n},children:t}),rx=({children:t,className:e="",style:n={}})=>o.jsx("h3",{className:e,style:{fontFamily:Rt.fontFamily,fontWeight:Rt.fontWeight,fontSize:Rt.fontSize.mobile,lineHeight:Rt.lineHeight,marginTop:Rt.marginTop,marginBottom:Rt.marginBottom.mobile,...n},children:t}),ax=({children:t,className:e="",style:n={}})=>o.jsx("h4",{className:e,style:{fontFamily:Ht.fontFamily,fontWeight:Ht.fontWeight,fontSize:Ht.fontSize.mobile,lineHeight:Ht.lineHeight,marginTop:Ht.marginTop,marginBottom:Ht.marginBottom.mobile,...n},children:t}),ix=({children:t,className:e="",style:n={}})=>o.jsx("h5",{className:e,style:{fontFamily:zt.fontFamily,fontWeight:zt.fontWeight,fontSize:zt.fontSize.mobile,lineHeight:zt.lineHeight,marginTop:zt.marginTop,marginBottom:zt.marginBottom.mobile,...n},children:t}),sx=({children:t,className:e="",style:n={}})=>o.jsx("p",{className:e,style:{fontFamily:Ot.fontFamily,fontWeight:Ot.fontWeight,fontSize:Ot.fontSize.mobile,lineHeight:Ot.lineHeight,marginTop:Ot.marginTop,marginBottom:Ot.marginBottom.mobile,...n},children:t}),ox=({children:t,className:e="",style:n={}})=>o.jsx("p",{className:e,style:{fontFamily:Wt.fontFamily,fontWeight:Wt.fontWeight,fontSize:Wt.fontSize.mobile,lineHeight:Wt.lineHeight,marginTop:Wt.marginTop,marginBottom:Wt.marginBottom.mobile,...n},children:t}),lx=({children:t,className:e="",style:n={}})=>o.jsx("p",{className:e,style:{fontFamily:Ut.fontFamily,fontWeight:Ut.fontWeight,fontSize:Ut.fontSize.mobile,lineHeight:Ut.lineHeight,marginTop:Ut.marginTop,marginBottom:Ut.marginBottom.mobile,...n},children:t}),cx=({children:t,className:e="",style:n={}})=>o.jsx("p",{className:e,style:{fontFamily:Gt.fontFamily,fontWeight:Gt.fontWeight,fontSize:Gt.fontSize.mobile,lineHeight:Gt.lineHeight,marginTop:Gt.marginTop,marginBottom:Gt.marginBottom.mobile,...n},children:t}),ux=({children:t,className:e="",style:n={}})=>o.jsx("p",{className:e,style:{fontFamily:Yt.fontFamily,fontWeight:Yt.fontWeight,fontSize:Yt.fontSize.mobile,lineHeight:Yt.lineHeight,marginTop:Yt.marginTop,marginBottom:Yt.marginBottom.mobile,...n},children:t}),dx=()=>I.useMemo(()=>Qy,[]),fx=()=>I.useMemo(()=>({BorderColorDefault:Rs,BorderColorForm:Hs,BorderColorCard:zs,BorderColorCardHover:Os,BorderColorError:Ws,ColorPrimaryBlue:Us,ColorPrimaryWhite:Gs,ColorPrimaryBlack:Ys,ColorPrimaryGreen:Vs,ColorPrimaryPurple:qs,ColorPrimaryDarkPink:Xs,ColorPrimaryRed:Ks,ColorPrimaryYellow:Zs,ColorSecondaryPaleYellow:Js,ColorSecondaryWarmYellow:Qs,ColorSecondaryOrange:eo,ColorSecondaryAquaGreen:to,ColorSecondaryPink:no,ColorGrey1:ro,ColorGrey2:ao,ColorGrey3:io,ColorGrey4:so,ColorGrey5:oo}),[]),hx=()=>I.useMemo(()=>({Spacing0:xo,Spacing1:vo,Spacing2:So,Spacing3:wo,Spacing4:ko,Spacing5:Co,Spacing6:To,Spacing7:No,Spacing8:jo,Spacing9:Do}),[]),mx=()=>I.useMemo(()=>({Mobile:{Size14:Rr,Size16:Or,Size19:Gr,Size22:qr,Size26:Zr,Size36:ea,Size48:ra},Tablet:{Size14:Hr,Size16:Wr,Size19:Yr,Size22:Xr,Size26:Jr,Size36:ta,Size48:aa},Print:{Size14:zr,Size16:Ur,Size19:Vr,Size22:Kr,Size26:Qr,Size36:na,Size48:ia},Family:{Base:Ir,Fallback:Br,Print:Pr},Weight:{Normal:Lr,Bold:Ar,Light:Er},Base:{Size:mi,LineHeight:pi},FontFamilyBase:Ir,FontFamilyFallback:Br,FontFamilyPrint:Pr,FontWeightNormal:Lr,FontWeightBold:Ar,FontWeightLight:Er,FontSize14Mobile:Rr,FontSize14Tablet:Hr,FontSize14Print:zr,FontSize16Mobile:Or,FontSize16Tablet:Wr,FontSize16Print:Ur,FontSize19Mobile:Gr,FontSize19Tablet:Yr,FontSize19Print:Vr,FontSize22Mobile:qr,FontSize22Tablet:Xr,FontSize22Print:Kr,FontSize26Mobile:Zr,FontSize26Tablet:Jr,FontSize26Print:Qr,FontSize36Mobile:ea,FontSize36Tablet:ta,FontSize36Print:na,FontSize48Mobile:ra,FontSize48Tablet:aa,FontSize48Print:ia,FontSizeBase:mi,FontLineHeightBase:pi}),[]),px=()=>I.useMemo(()=>({Mobile:{Size0:qa,Size1:Ka,Size2:Ja,Size3:ei,Size4:ni,Size5:ai,Size6:si,Size7:li,Size8:ui,Size9:fi},Tablet:{Size0:Xa,Size1:Za,Size2:Qa,Size3:ti,Size4:ri,Size5:ii,Size6:oi,Size7:ci,Size8:di,Size9:hi},SpacingResponsive0Mobile:qa,SpacingResponsive0Tablet:Xa,SpacingResponsive1Mobile:Ka,SpacingResponsive1Tablet:Za,SpacingResponsive2Mobile:Ja,SpacingResponsive2Tablet:Qa,SpacingResponsive3Mobile:ei,SpacingResponsive3Tablet:ti,SpacingResponsive4Mobile:ni,SpacingResponsive4Tablet:ri,SpacingResponsive5Mobile:ai,SpacingResponsive5Tablet:ii,SpacingResponsive6Mobile:si,SpacingResponsive6Tablet:oi,SpacingResponsive7Mobile:li,SpacingResponsive7Tablet:ci,SpacingResponsive8Mobile:ui,SpacingResponsive8Tablet:di,SpacingResponsive9Mobile:fi,SpacingResponsive9Tablet:hi}),[]),gx=()=>I.useMemo(()=>({ButtonSpacingPaddingVerticalMobile:lo,ButtonSpacingPaddingHorizontalMobile:co,ButtonSpacingPaddingVerticalDesktop:uo,ButtonSpacingPaddingHorizontalDesktop:fo,CardSpacingPaddingMobile:ho,CardSpacingPaddingDesktop:mo,CardSpacingHeadingMargin:po,FormSpacingInputPadding:go,FormSpacingInputMinHeight:bo,FormSpacingCheckboxSize:_o,FormSpacingCheckboxLabelPadding:yo}),[]),bx=()=>I.useMemo(()=>({xl:At,l:Et,m:Rt,s:Ht,xs:zt}),[]),_x=()=>I.useMemo(()=>({body:Ot,bodyLarge:Wt,bodySmall:Ut,ledeText:Gt,ledeTextSmall:Yt}),[]),yx=()=>I.useMemo(()=>({headings:{xl:At,l:Et,m:Rt,s:Ht,xs:zt},paragraphs:{body:Ot,bodyLarge:Wt,bodySmall:Ut,ledeText:Gt,ledeTextSmall:Yt},fonts:{family:{base:Ir,fallback:Br,print:Pr},weight:{normal:Lr,bold:Ar,light:Er},sizes:{mobile:{size14:Rr,size16:Or,size19:Gr,size22:qr,size26:Zr,size36:ea,size48:ra},tablet:{size14:Hr,size16:Wr,size19:Yr,size22:Xr,size26:Jr,size36:ta,size48:aa},print:{size14:zr,size16:Ur,size19:Vr,size22:Kr,size26:Qr,size36:na,size48:ia}}}}),[]);function xx(t={}){const{initialLayout:e=void 0,fallbackLayout:n="two-column"}=t,[r,a]=Z.useState(e),i=Z.useCallback(()=>a("three-column"),[]),s=Z.useCallback(()=>a(u=>u==="three-column"?n:u),[n]),l=Z.useCallback(()=>a(u=>u==="three-column"?n:"three-column"),[n]);return{forceLayout:r,setLayout:a,drillIn:i,drillOut:s,toggle:l,isDrilledIn:r==="three-column"}}const Mo={fontPath:"https://assets.nhs.uk/fonts/",includeFontFace:!0,useFallbacks:!0,fontWeights:[400,600]},ht={normal:{woff2:"FrutigerLTW01-55Roman.woff2",woff:"FrutigerLTW01-55Roman.woff",ttf:"FrutigerLTW01-55Roman.ttf",eot:"FrutigerLTW01-55Roman.eot"},bold:{woff2:"FrutigerLTW01-65Bold.woff2",woff:"FrutigerLTW01-65Bold.woff",ttf:"FrutigerLTW01-65Bold.ttf",eot:"FrutigerLTW01-65Bold.eot"}};function vx(t={}){const{fontPath:e,fontWeights:n}={...Mo,...t},r=[];return n?.includes(400)&&r.push(`
@font-face {
  font-display: swap;
  font-family: "Frutiger W01";
  font-style: normal;
  font-weight: 400;
  src: url("${e}${ht.normal.eot}?#iefix") format("eot"),
       url("${e}${ht.normal.woff2}") format("woff2"),
       url("${e}${ht.normal.woff}") format("woff"),
       url("${e}${ht.normal.ttf}") format("truetype");
  src: url("${e}${ht.normal.eot}");
}`),n?.includes(600)&&r.push(`
@font-face {
  font-display: swap;
  font-family: "Frutiger W01";
  font-style: normal;
  font-weight: 600;
  src: url("${e}${ht.bold.eot}?#iefix") format("eot"),
       url("${e}${ht.bold.woff2}") format("woff2"),
       url("${e}${ht.bold.woff}") format("woff"),
       url("${e}${ht.bold.ttf}") format("truetype");
  src: url("${e}${ht.bold.eot}");
}`),r.join(`
`)}function Sx(t={}){if(typeof document>"u")return;const{fontPath:e,fontWeights:n}={...Mo,...t};[...n?.includes(400)?[{href:`${e}${ht.normal.woff2}`,as:"font",type:"font/woff2"},{href:`${e}${ht.normal.woff}`,as:"font",type:"font/woff"}]:[],...n?.includes(600)?[{href:`${e}${ht.bold.woff2}`,as:"font",type:"font/woff2"},{href:`${e}${ht.bold.woff}`,as:"font",type:"font/woff"}]:[]].forEach(a=>{const i=document.createElement("link");i.rel="preload",i.href=a.href,i.as=a.as,i.type=a.type,i.crossOrigin="anonymous",document.head.appendChild(i)})}const wx='"Frutiger W01", Arial, Helvetica, sans-serif',kx="Arial, Helvetica, sans-serif";async function Cx(){if(typeof document>"u"||!document.fonts)return!1;try{return await document.fonts.load('1em "Frutiger W01"'),document.fonts.check('1em "Frutiger W01"')}catch{return!1}}function an(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Fm(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}/*!
 * GSAP 3.13.0
 * https://gsap.com
 *
 * @license Copyright 2008-2025, GreenSock. All rights reserved.
 * Subject to the terms at https://gsap.com/standard-license
 * @author: Jack Doyle, jack@greensock.com
*/var vt={autoSleep:120,force3D:"auto",nullTargetWarn:1,units:{lineHeight:""}},nr={duration:.5,overwrite:!1,delay:0},$o,lt,Ee,Dt=1e8,Ie=1/Dt,Fo=Math.PI*2,Tx=Fo/4,Nx=0,Im=Math.sqrt,jx=Math.cos,Dx=Math.sin,at=function(e){return typeof e=="string"},We=function(e){return typeof e=="function"},sn=function(e){return typeof e=="number"},Io=function(e){return typeof e>"u"},Vt=function(e){return typeof e=="object"},gt=function(e){return e!==!1},Bo=function(){return typeof window<"u"},gi=function(e){return We(e)||at(e)},Bm=typeof ArrayBuffer=="function"&&ArrayBuffer.isView||function(){},dt=Array.isArray,Po=/(?:-?\.?\d|\.)+/gi,Pm=/[-+=.]*\d+[.e\-+]*\d*[e\-+]*\d*/g,rr=/[-+=.]*\d+[.e-]*\d*[a-z%]*/g,Lo=/[-+=.]*\d+\.?\d*(?:e-|e\+)?\d*/gi,Lm=/[+-]=-?[.\d]+/,Am=/[^,'"\[\]\s]+/gi,Mx=/^[+\-=e\s\d]*\d+[.\d]*([a-z]*|%)\s*$/i,ze,qt,Ao,Eo,St={},bi={},Em,Rm=function(e){return(bi=ir(e,St))&&yt},Ro=function(e,n){return console.warn("Invalid property",e,"set to",n,"Missing plugin? gsap.registerPlugin()")},sa=function(e,n){return!n&&console.warn(e)},Hm=function(e,n){return e&&(St[e]=n)&&bi&&(bi[e]=n)||St},oa=function(){return 0},$x={suppressEvents:!0,isStart:!0,kill:!1},_i={suppressEvents:!0,kill:!1},Fx={suppressEvents:!0},Ho={},pn=[],zo={},zm,wt={},Oo={},Om=30,yi=[],Wo="",Uo=function(e){var n=e[0],r,a;if(Vt(n)||We(n)||(e=[e]),!(r=(n._gsap||{}).harness)){for(a=yi.length;a--&&!yi[a].targetTest(n););r=yi[a]}for(a=e.length;a--;)e[a]&&(e[a]._gsap||(e[a]._gsap=new bp(e[a],r)))||e.splice(a,1);return e},Bn=function(e){return e._gsap||Uo($t(e))[0]._gsap},Wm=function(e,n,r){return(r=e[n])&&We(r)?e[n]():Io(r)&&e.getAttribute&&e.getAttribute(n)||r},bt=function(e,n){return(e=e.split(",")).forEach(n)||e},Ge=function(e){return Math.round(e*1e5)/1e5||0},qe=function(e){return Math.round(e*1e7)/1e7||0},ar=function(e,n){var r=n.charAt(0),a=parseFloat(n.substr(2));return e=parseFloat(e),r==="+"?e+a:r==="-"?e-a:r==="*"?e*a:e/a},Ix=function(e,n){for(var r=n.length,a=0;e.indexOf(n[a])<0&&++a<r;);return a<r},xi=function(){var e=pn.length,n=pn.slice(0),r,a;for(zo={},pn.length=0,r=0;r<e;r++)a=n[r],a&&a._lazy&&(a.render(a._lazy[0],a._lazy[1],!0)._lazy=0)},Go=function(e){return!!(e._initted||e._startAt||e.add)},Um=function(e,n,r,a){pn.length&&!lt&&xi(),e.render(n,r,!!(lt&&n<0&&Go(e))),pn.length&&!lt&&xi()},Gm=function(e){var n=parseFloat(e);return(n||n===0)&&(e+"").match(Am).length<2?n:at(e)?e.trim():e},Ym=function(e){return e},kt=function(e,n){for(var r in n)r in e||(e[r]=n[r]);return e},Bx=function(e){return function(n,r){for(var a in r)a in n||a==="duration"&&e||a==="ease"||(n[a]=r[a])}},ir=function(e,n){for(var r in n)e[r]=n[r];return e},Vm=function t(e,n){for(var r in n)r!=="__proto__"&&r!=="constructor"&&r!=="prototype"&&(e[r]=Vt(n[r])?t(e[r]||(e[r]={}),n[r]):n[r]);return e},vi=function(e,n){var r={},a;for(a in e)a in n||(r[a]=e[a]);return r},la=function(e){var n=e.parent||ze,r=e.keyframes?Bx(dt(e.keyframes)):kt;if(gt(e.inherit))for(;n;)r(e,n.vars.defaults),n=n.parent||n._dp;return e},Px=function(e,n){for(var r=e.length,a=r===n.length;a&&r--&&e[r]===n[r];);return r<0},qm=function(e,n,r,a,i){var s=e[a],l;if(i)for(l=n[i];s&&s[i]>l;)s=s._prev;return s?(n._next=s._next,s._next=n):(n._next=e[r],e[r]=n),n._next?n._next._prev=n:e[a]=n,n._prev=s,n.parent=n._dp=e,n},Si=function(e,n,r,a){r===void 0&&(r="_first"),a===void 0&&(a="_last");var i=n._prev,s=n._next;i?i._next=s:e[r]===n&&(e[r]=s),s?s._prev=i:e[a]===n&&(e[a]=i),n._next=n._prev=n.parent=null},gn=function(e,n){e.parent&&(!n||e.parent.autoRemoveChildren)&&e.parent.remove&&e.parent.remove(e),e._act=0},Pn=function(e,n){if(e&&(!n||n._end>e._dur||n._start<0))for(var r=e;r;)r._dirty=1,r=r.parent;return e},Lx=function(e){for(var n=e.parent;n&&n.parent;)n._dirty=1,n.totalDuration(),n=n.parent;return e},Yo=function(e,n,r,a){return e._startAt&&(lt?e._startAt.revert(_i):e.vars.immediateRender&&!e.vars.autoRevert||e._startAt.render(n,!0,a))},Ax=function t(e){return!e||e._ts&&t(e.parent)},Xm=function(e){return e._repeat?sr(e._tTime,e=e.duration()+e._rDelay)*e:0},sr=function(e,n){var r=Math.floor(e=qe(e/n));return e&&r===e?r-1:r},wi=function(e,n){return(e-n._start)*n._ts+(n._ts>=0?0:n._dirty?n.totalDuration():n._tDur)},ki=function(e){return e._end=qe(e._start+(e._tDur/Math.abs(e._ts||e._rts||Ie)||0))},Ci=function(e,n){var r=e._dp;return r&&r.smoothChildTiming&&e._ts&&(e._start=qe(r._time-(e._ts>0?n/e._ts:((e._dirty?e.totalDuration():e._tDur)-n)/-e._ts)),ki(e),r._dirty||Pn(r,e)),e},Km=function(e,n){var r;if((n._time||!n._dur&&n._initted||n._start<e._time&&(n._dur||!n.add))&&(r=wi(e.rawTime(),n),(!n._dur||ua(0,n.totalDuration(),r)-n._tTime>Ie)&&n.render(r,!0)),Pn(e,n)._dp&&e._initted&&e._time>=e._dur&&e._ts){if(e._dur<e.duration())for(r=e;r._dp;)r.rawTime()>=0&&r.totalTime(r._tTime),r=r._dp;e._zTime=-Ie}},Xt=function(e,n,r,a){return n.parent&&gn(n),n._start=qe((sn(r)?r:r||e!==ze?Mt(e,r,n):e._time)+n._delay),n._end=qe(n._start+(n.totalDuration()/Math.abs(n.timeScale())||0)),qm(e,n,"_first","_last",e._sort?"_start":0),Vo(n)||(e._recent=n),a||Km(e,n),e._ts<0&&Ci(e,e._tTime),e},Zm=function(e,n){return(St.ScrollTrigger||Ro("scrollTrigger",n))&&St.ScrollTrigger.create(n,e)},Jm=function(e,n,r,a,i){if(nl(e,n,i),!e._initted)return 1;if(!r&&e._pt&&!lt&&(e._dur&&e.vars.lazy!==!1||!e._dur&&e.vars.lazy)&&zm!==Tt.frame)return pn.push(e),e._lazy=[i,a],1},Ex=function t(e){var n=e.parent;return n&&n._ts&&n._initted&&!n._lock&&(n.rawTime()<0||t(n))},Vo=function(e){var n=e.data;return n==="isFromStart"||n==="isStart"},Rx=function(e,n,r,a){var i=e.ratio,s=n<0||!n&&(!e._start&&Ex(e)&&!(!e._initted&&Vo(e))||(e._ts<0||e._dp._ts<0)&&!Vo(e))?0:1,l=e._rDelay,u=0,c,d,m;if(l&&e._repeat&&(u=ua(0,e._tDur,n),d=sr(u,l),e._yoyo&&d&1&&(s=1-s),d!==sr(e._tTime,l)&&(i=1-s,e.vars.repeatRefresh&&e._initted&&e.invalidate())),s!==i||lt||a||e._zTime===Ie||!n&&e._zTime){if(!e._initted&&Jm(e,n,a,r,u))return;for(m=e._zTime,e._zTime=n||(r?Ie:0),r||(r=n&&!m),e.ratio=s,e._from&&(s=1-s),e._time=0,e._tTime=u,c=e._pt;c;)c.r(s,c.d),c=c._next;n<0&&Yo(e,n,r,!0),e._onUpdate&&!r&&Ct(e,"onUpdate"),u&&e._repeat&&!r&&e.parent&&Ct(e,"onRepeat"),(n>=e._tDur||n<0)&&e.ratio===s&&(s&&gn(e,1),!r&&!lt&&(Ct(e,s?"onComplete":"onReverseComplete",!0),e._prom&&e._prom()))}else e._zTime||(e._zTime=n)},Hx=function(e,n,r){var a;if(r>n)for(a=e._first;a&&a._start<=r;){if(a.data==="isPause"&&a._start>n)return a;a=a._next}else for(a=e._last;a&&a._start>=r;){if(a.data==="isPause"&&a._start<n)return a;a=a._prev}},or=function(e,n,r,a){var i=e._repeat,s=qe(n)||0,l=e._tTime/e._tDur;return l&&!a&&(e._time*=s/e._dur),e._dur=s,e._tDur=i?i<0?1e10:qe(s*(i+1)+e._rDelay*i):s,l>0&&!a&&Ci(e,e._tTime=e._tDur*l),e.parent&&ki(e),r||Pn(e.parent,e),e},Qm=function(e){return e instanceof ct?Pn(e):or(e,e._dur)},zx={_start:0,endTime:oa,totalDuration:oa},Mt=function t(e,n,r){var a=e.labels,i=e._recent||zx,s=e.duration()>=Dt?i.endTime(!1):e._dur,l,u,c;return at(n)&&(isNaN(n)||n in a)?(u=n.charAt(0),c=n.substr(-1)==="%",l=n.indexOf("="),u==="<"||u===">"?(l>=0&&(n=n.replace(/=/,"")),(u==="<"?i._start:i.endTime(i._repeat>=0))+(parseFloat(n.substr(1))||0)*(c?(l<0?i:r).totalDuration()/100:1)):l<0?(n in a||(a[n]=s),a[n]):(u=parseFloat(n.charAt(l-1)+n.substr(l+1)),c&&r&&(u=u/100*(dt(r)?r[0]:r).totalDuration()),l>1?t(e,n.substr(0,l-1),r)+u:s+u)):n==null?s:+n},ca=function(e,n,r){var a=sn(n[1]),i=(a?2:1)+(e<2?0:1),s=n[i],l,u;if(a&&(s.duration=n[1]),s.parent=r,e){for(l=s,u=r;u&&!("immediateRender"in l);)l=u.vars.defaults||{},u=gt(u.vars.inherit)&&u.parent;s.immediateRender=gt(l.immediateRender),e<2?s.runBackwards=1:s.startAt=n[i-1]}return new Ye(n[0],s,n[i+1])},bn=function(e,n){return e||e===0?n(e):n},ua=function(e,n,r){return r<e?e:r>n?n:r},ft=function(e,n){return!at(e)||!(n=Mx.exec(e))?"":n[1]},Ox=function(e,n,r){return bn(r,function(a){return ua(e,n,a)})},qo=[].slice,ep=function(e,n){return e&&Vt(e)&&"length"in e&&(!n&&!e.length||e.length-1 in e&&Vt(e[0]))&&!e.nodeType&&e!==qt},Wx=function(e,n,r){return r===void 0&&(r=[]),e.forEach(function(a){var i;return at(a)&&!n||ep(a,1)?(i=r).push.apply(i,$t(a)):r.push(a)})||r},$t=function(e,n,r){return Ee&&!n&&Ee.selector?Ee.selector(e):at(e)&&!r&&(Ao||!cr())?qo.call((n||Eo).querySelectorAll(e),0):dt(e)?Wx(e,r):ep(e)?qo.call(e,0):e?[e]:[]},Xo=function(e){return e=$t(e)[0]||sa("Invalid scope")||{},function(n){var r=e.current||e.nativeElement||e;return $t(n,r.querySelectorAll?r:r===e?sa("Invalid scope")||Eo.createElement("div"):e)}},tp=function(e){return e.sort(function(){return .5-Math.random()})},np=function(e){if(We(e))return e;var n=Vt(e)?e:{each:e},r=Ln(n.ease),a=n.from||0,i=parseFloat(n.base)||0,s={},l=a>0&&a<1,u=isNaN(a)||l,c=n.axis,d=a,m=a;return at(a)?d=m={center:.5,edges:.5,end:1}[a]||0:!l&&u&&(d=a[0],m=a[1]),function(p,b,_){var f=(_||n).length,h=s[f],$,C,S,y,w,x,M,T,k;if(!h){if(k=n.grid==="auto"?0:(n.grid||[1,Dt])[1],!k){for(M=-Dt;M<(M=_[k++].getBoundingClientRect().left)&&k<f;);k<f&&k--}for(h=s[f]=[],$=u?Math.min(k,f)*d-.5:a%k,C=k===Dt?0:u?f*m/k-.5:a/k|0,M=0,T=Dt,x=0;x<f;x++)S=x%k-$,y=C-(x/k|0),h[x]=w=c?Math.abs(c==="y"?y:S):Im(S*S+y*y),w>M&&(M=w),w<T&&(T=w);a==="random"&&tp(h),h.max=M-T,h.min=T,h.v=f=(parseFloat(n.amount)||parseFloat(n.each)*(k>f?f-1:c?c==="y"?f/k:k:Math.max(k,f/k))||0)*(a==="edges"?-1:1),h.b=f<0?i-f:i,h.u=ft(n.amount||n.each)||0,r=r&&f<0?mp(r):r}return f=(h[p]-h.min)/h.max||0,qe(h.b+(r?r(f):f)*h.v)+h.u}},Ko=function(e){var n=Math.pow(10,((e+"").split(".")[1]||"").length);return function(r){var a=qe(Math.round(parseFloat(r)/e)*e*n);return(a-a%1)/n+(sn(r)?0:ft(r))}},rp=function(e,n){var r=dt(e),a,i;return!r&&Vt(e)&&(a=r=e.radius||Dt,e.values?(e=$t(e.values),(i=!sn(e[0]))&&(a*=a)):e=Ko(e.increment)),bn(n,r?We(e)?function(s){return i=e(s),Math.abs(i-s)<=a?i:s}:function(s){for(var l=parseFloat(i?s.x:s),u=parseFloat(i?s.y:0),c=Dt,d=0,m=e.length,p,b;m--;)i?(p=e[m].x-l,b=e[m].y-u,p=p*p+b*b):p=Math.abs(e[m]-l),p<c&&(c=p,d=m);return d=!a||c<=a?e[d]:s,i||d===s||sn(s)?d:d+ft(s)}:Ko(e))},ap=function(e,n,r,a){return bn(dt(e)?!n:r===!0?!!(r=0):!a,function(){return dt(e)?e[~~(Math.random()*e.length)]:(r=r||1e-5)&&(a=r<1?Math.pow(10,(r+"").length-2):1)&&Math.floor(Math.round((e-r/2+Math.random()*(n-e+r*.99))/r)*r*a)/a})},Ux=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return function(a){return n.reduce(function(i,s){return s(i)},a)}},Gx=function(e,n){return function(r){return e(parseFloat(r))+(n||ft(r))}},Yx=function(e,n,r){return sp(e,n,0,1,r)},ip=function(e,n,r){return bn(r,function(a){return e[~~n(a)]})},Vx=function t(e,n,r){var a=n-e;return dt(e)?ip(e,t(0,e.length),n):bn(r,function(i){return(a+(i-e)%a)%a+e})},qx=function t(e,n,r){var a=n-e,i=a*2;return dt(e)?ip(e,t(0,e.length-1),n):bn(r,function(s){return s=(i+(s-e)%i)%i||0,e+(s>a?i-s:s)})},da=function(e){for(var n=0,r="",a,i,s,l;~(a=e.indexOf("random(",n));)s=e.indexOf(")",a),l=e.charAt(a+7)==="[",i=e.substr(a+7,s-a-7).match(l?Am:Po),r+=e.substr(n,a-n)+ap(l?i:+i[0],l?0:+i[1],+i[2]||1e-5),n=s+1;return r+e.substr(n,e.length-n)},sp=function(e,n,r,a,i){var s=n-e,l=a-r;return bn(i,function(u){return r+((u-e)/s*l||0)})},Xx=function t(e,n,r,a){var i=isNaN(e+n)?0:function(b){return(1-b)*e+b*n};if(!i){var s=at(e),l={},u,c,d,m,p;if(r===!0&&(a=1)&&(r=null),s)e={p:e},n={p:n};else if(dt(e)&&!dt(n)){for(d=[],m=e.length,p=m-2,c=1;c<m;c++)d.push(t(e[c-1],e[c]));m--,i=function(_){_*=m;var f=Math.min(p,~~_);return d[f](_-f)},r=n}else a||(e=ir(dt(e)?[]:{},e));if(!d){for(u in n)el.call(l,e,u,"get",n[u]);i=function(_){return il(_,l)||(s?e.p:e)}}}return bn(r,i)},op=function(e,n,r){var a=e.labels,i=Dt,s,l,u;for(s in a)l=a[s]-n,l<0==!!r&&l&&i>(l=Math.abs(l))&&(u=s,i=l);return u},Ct=function(e,n,r){var a=e.vars,i=a[n],s=Ee,l=e._ctx,u,c,d;if(i)return u=a[n+"Params"],c=a.callbackScope||e,r&&pn.length&&xi(),l&&(Ee=l),d=u?i.apply(c,u):i.call(c),Ee=s,d},fa=function(e){return gn(e),e.scrollTrigger&&e.scrollTrigger.kill(!!lt),e.progress()<1&&Ct(e,"onInterrupt"),e},lr,lp=[],cp=function(e){if(e)if(e=!e.name&&e.default||e,Bo()||e.headless){var n=e.name,r=We(e),a=n&&!r&&e.init?function(){this._props=[]}:e,i={init:oa,render:il,add:el,kill:dv,modifier:uv,rawVars:0},s={targetTest:0,get:0,getSetter:al,aliases:{},register:0};if(cr(),e!==a){if(wt[n])return;kt(a,kt(vi(e,i),s)),ir(a.prototype,ir(i,vi(e,s))),wt[a.prop=n]=a,e.targetTest&&(yi.push(a),Ho[n]=1),n=(n==="css"?"CSS":n.charAt(0).toUpperCase()+n.substr(1))+"Plugin"}Hm(n,a),e.register&&e.register(yt,a,_t)}else lp.push(e)},Be=255,ha={aqua:[0,Be,Be],lime:[0,Be,0],silver:[192,192,192],black:[0,0,0],maroon:[128,0,0],teal:[0,128,128],blue:[0,0,Be],navy:[0,0,128],white:[Be,Be,Be],olive:[128,128,0],yellow:[Be,Be,0],orange:[Be,165,0],gray:[128,128,128],purple:[128,0,128],green:[0,128,0],red:[Be,0,0],pink:[Be,192,203],cyan:[0,Be,Be],transparent:[Be,Be,Be,0]},Zo=function(e,n,r){return e+=e<0?1:e>1?-1:0,(e*6<1?n+(r-n)*e*6:e<.5?r:e*3<2?n+(r-n)*(2/3-e)*6:n)*Be+.5|0},up=function(e,n,r){var a=e?sn(e)?[e>>16,e>>8&Be,e&Be]:0:ha.black,i,s,l,u,c,d,m,p,b,_;if(!a){if(e.substr(-1)===","&&(e=e.substr(0,e.length-1)),ha[e])a=ha[e];else if(e.charAt(0)==="#"){if(e.length<6&&(i=e.charAt(1),s=e.charAt(2),l=e.charAt(3),e="#"+i+i+s+s+l+l+(e.length===5?e.charAt(4)+e.charAt(4):"")),e.length===9)return a=parseInt(e.substr(1,6),16),[a>>16,a>>8&Be,a&Be,parseInt(e.substr(7),16)/255];e=parseInt(e.substr(1),16),a=[e>>16,e>>8&Be,e&Be]}else if(e.substr(0,3)==="hsl"){if(a=_=e.match(Po),!n)u=+a[0]%360/360,c=+a[1]/100,d=+a[2]/100,s=d<=.5?d*(c+1):d+c-d*c,i=d*2-s,a.length>3&&(a[3]*=1),a[0]=Zo(u+1/3,i,s),a[1]=Zo(u,i,s),a[2]=Zo(u-1/3,i,s);else if(~e.indexOf("="))return a=e.match(Pm),r&&a.length<4&&(a[3]=1),a}else a=e.match(Po)||ha.transparent;a=a.map(Number)}return n&&!_&&(i=a[0]/Be,s=a[1]/Be,l=a[2]/Be,m=Math.max(i,s,l),p=Math.min(i,s,l),d=(m+p)/2,m===p?u=c=0:(b=m-p,c=d>.5?b/(2-m-p):b/(m+p),u=m===i?(s-l)/b+(s<l?6:0):m===s?(l-i)/b+2:(i-s)/b+4,u*=60),a[0]=~~(u+.5),a[1]=~~(c*100+.5),a[2]=~~(d*100+.5)),r&&a.length<4&&(a[3]=1),a},dp=function(e){var n=[],r=[],a=-1;return e.split(_n).forEach(function(i){var s=i.match(rr)||[];n.push.apply(n,s),r.push(a+=s.length+1)}),n.c=r,n},fp=function(e,n,r){var a="",i=(e+a).match(_n),s=n?"hsla(":"rgba(",l=0,u,c,d,m;if(!i)return e;if(i=i.map(function(p){return(p=up(p,n,1))&&s+(n?p[0]+","+p[1]+"%,"+p[2]+"%,"+p[3]:p.join(","))+")"}),r&&(d=dp(e),u=r.c,u.join(a)!==d.c.join(a)))for(c=e.replace(_n,"1").split(rr),m=c.length-1;l<m;l++)a+=c[l]+(~u.indexOf(l)?i.shift()||s+"0,0,0,0)":(d.length?d:i.length?i:r).shift());if(!c)for(c=e.split(_n),m=c.length-1;l<m;l++)a+=c[l]+i[l];return a+c[m]},_n=(function(){var t="(?:\\b(?:(?:rgb|rgba|hsl|hsla)\\(.+?\\))|\\B#(?:[0-9a-f]{3,4}){1,2}\\b",e;for(e in ha)t+="|"+e+"\\b";return new RegExp(t+")","gi")})(),Kx=/hsl[a]?\(/,hp=function(e){var n=e.join(" "),r;if(_n.lastIndex=0,_n.test(n))return r=Kx.test(n),e[1]=fp(e[1],r),e[0]=fp(e[0],r,dp(e[1])),!0},ma,Tt=(function(){var t=Date.now,e=500,n=33,r=t(),a=r,i=1e3/240,s=i,l=[],u,c,d,m,p,b,_=function f(h){var $=t()-a,C=h===!0,S,y,w,x;if(($>e||$<0)&&(r+=$-n),a+=$,w=a-r,S=w-s,(S>0||C)&&(x=++m.frame,p=w-m.time*1e3,m.time=w=w/1e3,s+=S+(S>=i?4:i-S),y=1),C||(u=c(f)),y)for(b=0;b<l.length;b++)l[b](w,p,x,h)};return m={time:0,frame:0,tick:function(){_(!0)},deltaRatio:function(h){return p/(1e3/(h||60))},wake:function(){Em&&(!Ao&&Bo()&&(qt=Ao=window,Eo=qt.document||{},St.gsap=yt,(qt.gsapVersions||(qt.gsapVersions=[])).push(yt.version),Rm(bi||qt.GreenSockGlobals||!qt.gsap&&qt||{}),lp.forEach(cp)),d=typeof requestAnimationFrame<"u"&&requestAnimationFrame,u&&m.sleep(),c=d||function(h){return setTimeout(h,s-m.time*1e3+1|0)},ma=1,_(2))},sleep:function(){(d?cancelAnimationFrame:clearTimeout)(u),ma=0,c=oa},lagSmoothing:function(h,$){e=h||1/0,n=Math.min($||33,e)},fps:function(h){i=1e3/(h||240),s=m.time*1e3+i},add:function(h,$,C){var S=$?function(y,w,x,M){h(y,w,x,M),m.remove(S)}:h;return m.remove(h),l[C?"unshift":"push"](S),cr(),S},remove:function(h,$){~($=l.indexOf(h))&&l.splice($,1)&&b>=$&&b--},_listeners:l},m})(),cr=function(){return!ma&&Tt.wake()},De={},Zx=/^[\d.\-M][\d.\-,\s]/,Jx=/["']/g,Qx=function(e){for(var n={},r=e.substr(1,e.length-3).split(":"),a=r[0],i=1,s=r.length,l,u,c;i<s;i++)u=r[i],l=i!==s-1?u.lastIndexOf(","):u.length,c=u.substr(0,l),n[a]=isNaN(c)?c.replace(Jx,"").trim():+c,a=u.substr(l+1).trim();return n},ev=function(e){var n=e.indexOf("(")+1,r=e.indexOf(")"),a=e.indexOf("(",n);return e.substring(n,~a&&a<r?e.indexOf(")",r+1):r)},tv=function(e){var n=(e+"").split("("),r=De[n[0]];return r&&n.length>1&&r.config?r.config.apply(null,~e.indexOf("{")?[Qx(n[1])]:ev(e).split(",").map(Gm)):De._CE&&Zx.test(e)?De._CE("",e):r},mp=function(e){return function(n){return 1-e(1-n)}},pp=function t(e,n){for(var r=e._first,a;r;)r instanceof ct?t(r,n):r.vars.yoyoEase&&(!r._yoyo||!r._repeat)&&r._yoyo!==n&&(r.timeline?t(r.timeline,n):(a=r._ease,r._ease=r._yEase,r._yEase=a,r._yoyo=n)),r=r._next},Ln=function(e,n){return e&&(We(e)?e:De[e]||tv(e))||n},An=function(e,n,r,a){r===void 0&&(r=function(u){return 1-n(1-u)}),a===void 0&&(a=function(u){return u<.5?n(u*2)/2:1-n((1-u)*2)/2});var i={easeIn:n,easeOut:r,easeInOut:a},s;return bt(e,function(l){De[l]=St[l]=i,De[s=l.toLowerCase()]=r;for(var u in i)De[s+(u==="easeIn"?".in":u==="easeOut"?".out":".inOut")]=De[l+"."+u]=i[u]}),i},gp=function(e){return function(n){return n<.5?(1-e(1-n*2))/2:.5+e((n-.5)*2)/2}},Jo=function t(e,n,r){var a=n>=1?n:1,i=(r||(e?.3:.45))/(n<1?n:1),s=i/Fo*(Math.asin(1/a)||0),l=function(d){return d===1?1:a*Math.pow(2,-10*d)*Dx((d-s)*i)+1},u=e==="out"?l:e==="in"?function(c){return 1-l(1-c)}:gp(l);return i=Fo/i,u.config=function(c,d){return t(e,c,d)},u},Qo=function t(e,n){n===void 0&&(n=1.70158);var r=function(s){return s?--s*s*((n+1)*s+n)+1:0},a=e==="out"?r:e==="in"?function(i){return 1-r(1-i)}:gp(r);return a.config=function(i){return t(e,i)},a};bt("Linear,Quad,Cubic,Quart,Quint,Strong",function(t,e){var n=e<5?e+1:e;An(t+",Power"+(n-1),e?function(r){return Math.pow(r,n)}:function(r){return r},function(r){return 1-Math.pow(1-r,n)},function(r){return r<.5?Math.pow(r*2,n)/2:1-Math.pow((1-r)*2,n)/2})}),De.Linear.easeNone=De.none=De.Linear.easeIn,An("Elastic",Jo("in"),Jo("out"),Jo()),(function(t,e){var n=1/e,r=2*n,a=2.5*n,i=function(l){return l<n?t*l*l:l<r?t*Math.pow(l-1.5/e,2)+.75:l<a?t*(l-=2.25/e)*l+.9375:t*Math.pow(l-2.625/e,2)+.984375};An("Bounce",function(s){return 1-i(1-s)},i)})(7.5625,2.75),An("Expo",function(t){return Math.pow(2,10*(t-1))*t+t*t*t*t*t*t*(1-t)}),An("Circ",function(t){return-(Im(1-t*t)-1)}),An("Sine",function(t){return t===1?1:-jx(t*Tx)+1}),An("Back",Qo("in"),Qo("out"),Qo()),De.SteppedEase=De.steps=St.SteppedEase={config:function(e,n){e===void 0&&(e=1);var r=1/e,a=e+(n?0:1),i=n?1:0,s=1-Ie;return function(l){return((a*ua(0,s,l)|0)+i)*r}}},nr.ease=De["quad.out"],bt("onComplete,onUpdate,onStart,onRepeat,onReverseComplete,onInterrupt",function(t){return Wo+=t+","+t+"Params,"});var bp=function(e,n){this.id=Nx++,e._gsap=this,this.target=e,this.harness=n,this.get=n?n.get:Wm,this.set=n?n.getSetter:al},pa=(function(){function t(n){this.vars=n,this._delay=+n.delay||0,(this._repeat=n.repeat===1/0?-2:n.repeat||0)&&(this._rDelay=n.repeatDelay||0,this._yoyo=!!n.yoyo||!!n.yoyoEase),this._ts=1,or(this,+n.duration,1,1),this.data=n.data,Ee&&(this._ctx=Ee,Ee.data.push(this)),ma||Tt.wake()}var e=t.prototype;return e.delay=function(r){return r||r===0?(this.parent&&this.parent.smoothChildTiming&&this.startTime(this._start+r-this._delay),this._delay=r,this):this._delay},e.duration=function(r){return arguments.length?this.totalDuration(this._repeat>0?r+(r+this._rDelay)*this._repeat:r):this.totalDuration()&&this._dur},e.totalDuration=function(r){return arguments.length?(this._dirty=0,or(this,this._repeat<0?r:(r-this._repeat*this._rDelay)/(this._repeat+1))):this._tDur},e.totalTime=function(r,a){if(cr(),!arguments.length)return this._tTime;var i=this._dp;if(i&&i.smoothChildTiming&&this._ts){for(Ci(this,r),!i._dp||i.parent||Km(i,this);i&&i.parent;)i.parent._time!==i._start+(i._ts>=0?i._tTime/i._ts:(i.totalDuration()-i._tTime)/-i._ts)&&i.totalTime(i._tTime,!0),i=i.parent;!this.parent&&this._dp.autoRemoveChildren&&(this._ts>0&&r<this._tDur||this._ts<0&&r>0||!this._tDur&&!r)&&Xt(this._dp,this,this._start-this._delay)}return(this._tTime!==r||!this._dur&&!a||this._initted&&Math.abs(this._zTime)===Ie||!r&&!this._initted&&(this.add||this._ptLookup))&&(this._ts||(this._pTime=r),Um(this,r,a)),this},e.time=function(r,a){return arguments.length?this.totalTime(Math.min(this.totalDuration(),r+Xm(this))%(this._dur+this._rDelay)||(r?this._dur:0),a):this._time},e.totalProgress=function(r,a){return arguments.length?this.totalTime(this.totalDuration()*r,a):this.totalDuration()?Math.min(1,this._tTime/this._tDur):this.rawTime()>=0&&this._initted?1:0},e.progress=function(r,a){return arguments.length?this.totalTime(this.duration()*(this._yoyo&&!(this.iteration()&1)?1-r:r)+Xm(this),a):this.duration()?Math.min(1,this._time/this._dur):this.rawTime()>0?1:0},e.iteration=function(r,a){var i=this.duration()+this._rDelay;return arguments.length?this.totalTime(this._time+(r-1)*i,a):this._repeat?sr(this._tTime,i)+1:1},e.timeScale=function(r,a){if(!arguments.length)return this._rts===-Ie?0:this._rts;if(this._rts===r)return this;var i=this.parent&&this._ts?wi(this.parent._time,this):this._tTime;return this._rts=+r||0,this._ts=this._ps||r===-Ie?0:this._rts,this.totalTime(ua(-Math.abs(this._delay),this.totalDuration(),i),a!==!1),ki(this),Lx(this)},e.paused=function(r){return arguments.length?(this._ps!==r&&(this._ps=r,r?(this._pTime=this._tTime||Math.max(-this._delay,this.rawTime()),this._ts=this._act=0):(cr(),this._ts=this._rts,this.totalTime(this.parent&&!this.parent.smoothChildTiming?this.rawTime():this._tTime||this._pTime,this.progress()===1&&Math.abs(this._zTime)!==Ie&&(this._tTime-=Ie)))),this):this._ps},e.startTime=function(r){if(arguments.length){this._start=r;var a=this.parent||this._dp;return a&&(a._sort||!this.parent)&&Xt(a,this,r-this._delay),this}return this._start},e.endTime=function(r){return this._start+(gt(r)?this.totalDuration():this.duration())/Math.abs(this._ts||1)},e.rawTime=function(r){var a=this.parent||this._dp;return a?r&&(!this._ts||this._repeat&&this._time&&this.totalProgress()<1)?this._tTime%(this._dur+this._rDelay):this._ts?wi(a.rawTime(r),this):this._tTime:this._tTime},e.revert=function(r){r===void 0&&(r=Fx);var a=lt;return lt=r,Go(this)&&(this.timeline&&this.timeline.revert(r),this.totalTime(-.01,r.suppressEvents)),this.data!=="nested"&&r.kill!==!1&&this.kill(),lt=a,this},e.globalTime=function(r){for(var a=this,i=arguments.length?r:a.rawTime();a;)i=a._start+i/(Math.abs(a._ts)||1),a=a._dp;return!this.parent&&this._sat?this._sat.globalTime(r):i},e.repeat=function(r){return arguments.length?(this._repeat=r===1/0?-2:r,Qm(this)):this._repeat===-2?1/0:this._repeat},e.repeatDelay=function(r){if(arguments.length){var a=this._time;return this._rDelay=r,Qm(this),a?this.time(a):this}return this._rDelay},e.yoyo=function(r){return arguments.length?(this._yoyo=r,this):this._yoyo},e.seek=function(r,a){return this.totalTime(Mt(this,r),gt(a))},e.restart=function(r,a){return this.play().totalTime(r?-this._delay:0,gt(a)),this._dur||(this._zTime=-Ie),this},e.play=function(r,a){return r!=null&&this.seek(r,a),this.reversed(!1).paused(!1)},e.reverse=function(r,a){return r!=null&&this.seek(r||this.totalDuration(),a),this.reversed(!0).paused(!1)},e.pause=function(r,a){return r!=null&&this.seek(r,a),this.paused(!0)},e.resume=function(){return this.paused(!1)},e.reversed=function(r){return arguments.length?(!!r!==this.reversed()&&this.timeScale(-this._rts||(r?-Ie:0)),this):this._rts<0},e.invalidate=function(){return this._initted=this._act=0,this._zTime=-Ie,this},e.isActive=function(){var r=this.parent||this._dp,a=this._start,i;return!!(!r||this._ts&&this._initted&&r.isActive()&&(i=r.rawTime(!0))>=a&&i<this.endTime(!0)-Ie)},e.eventCallback=function(r,a,i){var s=this.vars;return arguments.length>1?(a?(s[r]=a,i&&(s[r+"Params"]=i),r==="onUpdate"&&(this._onUpdate=a)):delete s[r],this):s[r]},e.then=function(r){var a=this;return new Promise(function(i){var s=We(r)?r:Ym,l=function(){var c=a.then;a.then=null,We(s)&&(s=s(a))&&(s.then||s===a)&&(a.then=c),i(s),a.then=c};a._initted&&a.totalProgress()===1&&a._ts>=0||!a._tTime&&a._ts<0?l():a._prom=l})},e.kill=function(){fa(this)},t})();kt(pa.prototype,{_time:0,_start:0,_end:0,_tTime:0,_tDur:0,_dirty:0,_repeat:0,_yoyo:!1,parent:null,_initted:!1,_rDelay:0,_ts:1,_dp:0,ratio:0,_zTime:-Ie,_prom:0,_ps:!1,_rts:1});var ct=(function(t){Fm(e,t);function e(r,a){var i;return r===void 0&&(r={}),i=t.call(this,r)||this,i.labels={},i.smoothChildTiming=!!r.smoothChildTiming,i.autoRemoveChildren=!!r.autoRemoveChildren,i._sort=gt(r.sortChildren),ze&&Xt(r.parent||ze,an(i),a),r.reversed&&i.reverse(),r.paused&&i.paused(!0),r.scrollTrigger&&Zm(an(i),r.scrollTrigger),i}var n=e.prototype;return n.to=function(a,i,s){return ca(0,arguments,this),this},n.from=function(a,i,s){return ca(1,arguments,this),this},n.fromTo=function(a,i,s,l){return ca(2,arguments,this),this},n.set=function(a,i,s){return i.duration=0,i.parent=this,la(i).repeatDelay||(i.repeat=0),i.immediateRender=!!i.immediateRender,new Ye(a,i,Mt(this,s),1),this},n.call=function(a,i,s){return Xt(this,Ye.delayedCall(0,a,i),s)},n.staggerTo=function(a,i,s,l,u,c,d){return s.duration=i,s.stagger=s.stagger||l,s.onComplete=c,s.onCompleteParams=d,s.parent=this,new Ye(a,s,Mt(this,u)),this},n.staggerFrom=function(a,i,s,l,u,c,d){return s.runBackwards=1,la(s).immediateRender=gt(s.immediateRender),this.staggerTo(a,i,s,l,u,c,d)},n.staggerFromTo=function(a,i,s,l,u,c,d,m){return l.startAt=s,la(l).immediateRender=gt(l.immediateRender),this.staggerTo(a,i,l,u,c,d,m)},n.render=function(a,i,s){var l=this._time,u=this._dirty?this.totalDuration():this._tDur,c=this._dur,d=a<=0?0:qe(a),m=this._zTime<0!=a<0&&(this._initted||!c),p,b,_,f,h,$,C,S,y,w,x,M;if(this!==ze&&d>u&&a>=0&&(d=u),d!==this._tTime||s||m){if(l!==this._time&&c&&(d+=this._time-l,a+=this._time-l),p=d,y=this._start,S=this._ts,$=!S,m&&(c||(l=this._zTime),(a||!i)&&(this._zTime=a)),this._repeat){if(x=this._yoyo,h=c+this._rDelay,this._repeat<-1&&a<0)return this.totalTime(h*100+a,i,s);if(p=qe(d%h),d===u?(f=this._repeat,p=c):(w=qe(d/h),f=~~w,f&&f===w&&(p=c,f--),p>c&&(p=c)),w=sr(this._tTime,h),!l&&this._tTime&&w!==f&&this._tTime-w*h-this._dur<=0&&(w=f),x&&f&1&&(p=c-p,M=1),f!==w&&!this._lock){var T=x&&w&1,k=T===(x&&f&1);if(f<w&&(T=!T),l=T?0:d%c?c:d,this._lock=1,this.render(l||(M?0:qe(f*h)),i,!c)._lock=0,this._tTime=d,!i&&this.parent&&Ct(this,"onRepeat"),this.vars.repeatRefresh&&!M&&(this.invalidate()._lock=1),l&&l!==this._time||$!==!this._ts||this.vars.onRepeat&&!this.parent&&!this._act)return this;if(c=this._dur,u=this._tDur,k&&(this._lock=2,l=T?c:-1e-4,this.render(l,!0),this.vars.repeatRefresh&&!M&&this.invalidate()),this._lock=0,!this._ts&&!$)return this;pp(this,M)}}if(this._hasPause&&!this._forcing&&this._lock<2&&(C=Hx(this,qe(l),qe(p)),C&&(d-=p-(p=C._start))),this._tTime=d,this._time=p,this._act=!S,this._initted||(this._onUpdate=this.vars.onUpdate,this._initted=1,this._zTime=a,l=0),!l&&d&&!i&&!w&&(Ct(this,"onStart"),this._tTime!==d))return this;if(p>=l&&a>=0)for(b=this._first;b;){if(_=b._next,(b._act||p>=b._start)&&b._ts&&C!==b){if(b.parent!==this)return this.render(a,i,s);if(b.render(b._ts>0?(p-b._start)*b._ts:(b._dirty?b.totalDuration():b._tDur)+(p-b._start)*b._ts,i,s),p!==this._time||!this._ts&&!$){C=0,_&&(d+=this._zTime=-Ie);break}}b=_}else{b=this._last;for(var D=a<0?a:p;b;){if(_=b._prev,(b._act||D<=b._end)&&b._ts&&C!==b){if(b.parent!==this)return this.render(a,i,s);if(b.render(b._ts>0?(D-b._start)*b._ts:(b._dirty?b.totalDuration():b._tDur)+(D-b._start)*b._ts,i,s||lt&&Go(b)),p!==this._time||!this._ts&&!$){C=0,_&&(d+=this._zTime=D?-Ie:Ie);break}}b=_}}if(C&&!i&&(this.pause(),C.render(p>=l?0:-Ie)._zTime=p>=l?1:-1,this._ts))return this._start=y,ki(this),this.render(a,i,s);this._onUpdate&&!i&&Ct(this,"onUpdate",!0),(d===u&&this._tTime>=this.totalDuration()||!d&&l)&&(y===this._start||Math.abs(S)!==Math.abs(this._ts))&&(this._lock||((a||!c)&&(d===u&&this._ts>0||!d&&this._ts<0)&&gn(this,1),!i&&!(a<0&&!l)&&(d||l||!u)&&(Ct(this,d===u&&a>=0?"onComplete":"onReverseComplete",!0),this._prom&&!(d<u&&this.timeScale()>0)&&this._prom())))}return this},n.add=function(a,i){var s=this;if(sn(i)||(i=Mt(this,i,a)),!(a instanceof pa)){if(dt(a))return a.forEach(function(l){return s.add(l,i)}),this;if(at(a))return this.addLabel(a,i);if(We(a))a=Ye.delayedCall(0,a);else return this}return this!==a?Xt(this,a,i):this},n.getChildren=function(a,i,s,l){a===void 0&&(a=!0),i===void 0&&(i=!0),s===void 0&&(s=!0),l===void 0&&(l=-Dt);for(var u=[],c=this._first;c;)c._start>=l&&(c instanceof Ye?i&&u.push(c):(s&&u.push(c),a&&u.push.apply(u,c.getChildren(!0,i,s)))),c=c._next;return u},n.getById=function(a){for(var i=this.getChildren(1,1,1),s=i.length;s--;)if(i[s].vars.id===a)return i[s]},n.remove=function(a){return at(a)?this.removeLabel(a):We(a)?this.killTweensOf(a):(a.parent===this&&Si(this,a),a===this._recent&&(this._recent=this._last),Pn(this))},n.totalTime=function(a,i){return arguments.length?(this._forcing=1,!this._dp&&this._ts&&(this._start=qe(Tt.time-(this._ts>0?a/this._ts:(this.totalDuration()-a)/-this._ts))),t.prototype.totalTime.call(this,a,i),this._forcing=0,this):this._tTime},n.addLabel=function(a,i){return this.labels[a]=Mt(this,i),this},n.removeLabel=function(a){return delete this.labels[a],this},n.addPause=function(a,i,s){var l=Ye.delayedCall(0,i||oa,s);return l.data="isPause",this._hasPause=1,Xt(this,l,Mt(this,a))},n.removePause=function(a){var i=this._first;for(a=Mt(this,a);i;)i._start===a&&i.data==="isPause"&&gn(i),i=i._next},n.killTweensOf=function(a,i,s){for(var l=this.getTweensOf(a,s),u=l.length;u--;)yn!==l[u]&&l[u].kill(a,i);return this},n.getTweensOf=function(a,i){for(var s=[],l=$t(a),u=this._first,c=sn(i),d;u;)u instanceof Ye?Ix(u._targets,l)&&(c?(!yn||u._initted&&u._ts)&&u.globalTime(0)<=i&&u.globalTime(u.totalDuration())>i:!i||u.isActive())&&s.push(u):(d=u.getTweensOf(l,i)).length&&s.push.apply(s,d),u=u._next;return s},n.tweenTo=function(a,i){i=i||{};var s=this,l=Mt(s,a),u=i,c=u.startAt,d=u.onStart,m=u.onStartParams,p=u.immediateRender,b,_=Ye.to(s,kt({ease:i.ease||"none",lazy:!1,immediateRender:!1,time:l,overwrite:"auto",duration:i.duration||Math.abs((l-(c&&"time"in c?c.time:s._time))/s.timeScale())||Ie,onStart:function(){if(s.pause(),!b){var h=i.duration||Math.abs((l-(c&&"time"in c?c.time:s._time))/s.timeScale());_._dur!==h&&or(_,h,0,1).render(_._time,!0,!0),b=1}d&&d.apply(_,m||[])}},i));return p?_.render(0):_},n.tweenFromTo=function(a,i,s){return this.tweenTo(i,kt({startAt:{time:Mt(this,a)}},s))},n.recent=function(){return this._recent},n.nextLabel=function(a){return a===void 0&&(a=this._time),op(this,Mt(this,a))},n.previousLabel=function(a){return a===void 0&&(a=this._time),op(this,Mt(this,a),1)},n.currentLabel=function(a){return arguments.length?this.seek(a,!0):this.previousLabel(this._time+Ie)},n.shiftChildren=function(a,i,s){s===void 0&&(s=0);for(var l=this._first,u=this.labels,c;l;)l._start>=s&&(l._start+=a,l._end+=a),l=l._next;if(i)for(c in u)u[c]>=s&&(u[c]+=a);return Pn(this)},n.invalidate=function(a){var i=this._first;for(this._lock=0;i;)i.invalidate(a),i=i._next;return t.prototype.invalidate.call(this,a)},n.clear=function(a){a===void 0&&(a=!0);for(var i=this._first,s;i;)s=i._next,this.remove(i),i=s;return this._dp&&(this._time=this._tTime=this._pTime=0),a&&(this.labels={}),Pn(this)},n.totalDuration=function(a){var i=0,s=this,l=s._last,u=Dt,c,d,m;if(arguments.length)return s.timeScale((s._repeat<0?s.duration():s.totalDuration())/(s.reversed()?-a:a));if(s._dirty){for(m=s.parent;l;)c=l._prev,l._dirty&&l.totalDuration(),d=l._start,d>u&&s._sort&&l._ts&&!s._lock?(s._lock=1,Xt(s,l,d-l._delay,1)._lock=0):u=d,d<0&&l._ts&&(i-=d,(!m&&!s._dp||m&&m.smoothChildTiming)&&(s._start+=d/s._ts,s._time-=d,s._tTime-=d),s.shiftChildren(-d,!1,-1/0),u=0),l._end>i&&l._ts&&(i=l._end),l=c;or(s,s===ze&&s._time>i?s._time:i,1,1),s._dirty=0}return s._tDur},e.updateRoot=function(a){if(ze._ts&&(Um(ze,wi(a,ze)),zm=Tt.frame),Tt.frame>=Om){Om+=vt.autoSleep||120;var i=ze._first;if((!i||!i._ts)&&vt.autoSleep&&Tt._listeners.length<2){for(;i&&!i._ts;)i=i._next;i||Tt.sleep()}}},e})(pa);kt(ct.prototype,{_lock:0,_hasPause:0,_forcing:0});var nv=function(e,n,r,a,i,s,l){var u=new _t(this._pt,e,n,0,1,wp,null,i),c=0,d=0,m,p,b,_,f,h,$,C;for(u.b=r,u.e=a,r+="",a+="",($=~a.indexOf("random("))&&(a=da(a)),s&&(C=[r,a],s(C,e,n),r=C[0],a=C[1]),p=r.match(Lo)||[];m=Lo.exec(a);)_=m[0],f=a.substring(c,m.index),b?b=(b+1)%5:f.substr(-5)==="rgba("&&(b=1),_!==p[d++]&&(h=parseFloat(p[d-1])||0,u._pt={_next:u._pt,p:f||d===1?f:",",s:h,c:_.charAt(1)==="="?ar(h,_)-h:parseFloat(_)-h,m:b&&b<4?Math.round:0},c=Lo.lastIndex);return u.c=c<a.length?a.substring(c,a.length):"",u.fp=l,(Lm.test(a)||$)&&(u.e=0),this._pt=u,u},el=function(e,n,r,a,i,s,l,u,c,d){We(a)&&(a=a(i||0,e,s));var m=e[n],p=r!=="get"?r:We(m)?c?e[n.indexOf("set")||!We(e["get"+n.substr(3)])?n:"get"+n.substr(3)](c):e[n]():m,b=We(m)?c?ov:vp:rl,_;if(at(a)&&(~a.indexOf("random(")&&(a=da(a)),a.charAt(1)==="="&&(_=ar(p,a)+(ft(p)||0),(_||_===0)&&(a=_))),!d||p!==a||tl)return!isNaN(p*a)&&a!==""?(_=new _t(this._pt,e,n,+p||0,a-(p||0),typeof m=="boolean"?cv:Sp,0,b),c&&(_.fp=c),l&&_.modifier(l,this,e),this._pt=_):(!m&&!(n in e)&&Ro(n,a),nv.call(this,e,n,p,a,b,u||vt.stringFilter,c))},rv=function(e,n,r,a,i){if(We(e)&&(e=ga(e,i,n,r,a)),!Vt(e)||e.style&&e.nodeType||dt(e)||Bm(e))return at(e)?ga(e,i,n,r,a):e;var s={},l;for(l in e)s[l]=ga(e[l],i,n,r,a);return s},_p=function(e,n,r,a,i,s){var l,u,c,d;if(wt[e]&&(l=new wt[e]).init(i,l.rawVars?n[e]:rv(n[e],a,i,s,r),r,a,s)!==!1&&(r._pt=u=new _t(r._pt,i,e,0,1,l.render,l,0,l.priority),r!==lr))for(c=r._ptLookup[r._targets.indexOf(i)],d=l._props.length;d--;)c[l._props[d]]=u;return l},yn,tl,nl=function t(e,n,r){var a=e.vars,i=a.ease,s=a.startAt,l=a.immediateRender,u=a.lazy,c=a.onUpdate,d=a.runBackwards,m=a.yoyoEase,p=a.keyframes,b=a.autoRevert,_=e._dur,f=e._startAt,h=e._targets,$=e.parent,C=$&&$.data==="nested"?$.vars.targets:h,S=e._overwrite==="auto"&&!$o,y=e.timeline,w,x,M,T,k,D,v,N,z,R,P,F,j;if(y&&(!p||!i)&&(i="none"),e._ease=Ln(i,nr.ease),e._yEase=m?mp(Ln(m===!0?i:m,nr.ease)):0,m&&e._yoyo&&!e._repeat&&(m=e._yEase,e._yEase=e._ease,e._ease=m),e._from=!y&&!!a.runBackwards,!y||p&&!a.stagger){if(N=h[0]?Bn(h[0]).harness:0,F=N&&a[N.prop],w=vi(a,Ho),f&&(f._zTime<0&&f.progress(1),n<0&&d&&l&&!b?f.render(-1,!0):f.revert(d&&_?_i:$x),f._lazy=0),s){if(gn(e._startAt=Ye.set(h,kt({data:"isStart",overwrite:!1,parent:$,immediateRender:!0,lazy:!f&&gt(u),startAt:null,delay:0,onUpdate:c&&function(){return Ct(e,"onUpdate")},stagger:0},s))),e._startAt._dp=0,e._startAt._sat=e,n<0&&(lt||!l&&!b)&&e._startAt.revert(_i),l&&_&&n<=0&&r<=0){n&&(e._zTime=n);return}}else if(d&&_&&!f){if(n&&(l=!1),M=kt({overwrite:!1,data:"isFromStart",lazy:l&&!f&&gt(u),immediateRender:l,stagger:0,parent:$},w),F&&(M[N.prop]=F),gn(e._startAt=Ye.set(h,M)),e._startAt._dp=0,e._startAt._sat=e,n<0&&(lt?e._startAt.revert(_i):e._startAt.render(-1,!0)),e._zTime=n,!l)t(e._startAt,Ie,Ie);else if(!n)return}for(e._pt=e._ptCache=0,u=_&&gt(u)||u&&!_,x=0;x<h.length;x++){if(k=h[x],v=k._gsap||Uo(h)[x]._gsap,e._ptLookup[x]=R={},zo[v.id]&&pn.length&&xi(),P=C===h?x:C.indexOf(k),N&&(z=new N).init(k,F||w,e,P,C)!==!1&&(e._pt=T=new _t(e._pt,k,z.name,0,1,z.render,z,0,z.priority),z._props.forEach(function(H){R[H]=T}),z.priority&&(D=1)),!N||F)for(M in w)wt[M]&&(z=_p(M,w,e,P,k,C))?z.priority&&(D=1):R[M]=T=el.call(e,k,M,"get",w[M],P,C,0,a.stringFilter);e._op&&e._op[x]&&e.kill(k,e._op[x]),S&&e._pt&&(yn=e,ze.killTweensOf(k,R,e.globalTime(n)),j=!e.parent,yn=0),e._pt&&u&&(zo[v.id]=1)}D&&kp(e),e._onInit&&e._onInit(e)}e._onUpdate=c,e._initted=(!e._op||e._pt)&&!j,p&&n<=0&&y.render(Dt,!0,!0)},av=function(e,n,r,a,i,s,l,u){var c=(e._pt&&e._ptCache||(e._ptCache={}))[n],d,m,p,b;if(!c)for(c=e._ptCache[n]=[],p=e._ptLookup,b=e._targets.length;b--;){if(d=p[b][n],d&&d.d&&d.d._pt)for(d=d.d._pt;d&&d.p!==n&&d.fp!==n;)d=d._next;if(!d)return tl=1,e.vars[n]="+=0",nl(e,l),tl=0,u?sa(n+" not eligible for reset"):1;c.push(d)}for(b=c.length;b--;)m=c[b],d=m._pt||m,d.s=(a||a===0)&&!i?a:d.s+(a||0)+s*d.c,d.c=r-d.s,m.e&&(m.e=Ge(r)+ft(m.e)),m.b&&(m.b=d.s+ft(m.b))},iv=function(e,n){var r=e[0]?Bn(e[0]).harness:0,a=r&&r.aliases,i,s,l,u;if(!a)return n;i=ir({},n);for(s in a)if(s in i)for(u=a[s].split(","),l=u.length;l--;)i[u[l]]=i[s];return i},sv=function(e,n,r,a){var i=n.ease||a||"power1.inOut",s,l;if(dt(n))l=r[e]||(r[e]=[]),n.forEach(function(u,c){return l.push({t:c/(n.length-1)*100,v:u,e:i})});else for(s in n)l=r[s]||(r[s]=[]),s==="ease"||l.push({t:parseFloat(e),v:n[s],e:i})},ga=function(e,n,r,a,i){return We(e)?e.call(n,r,a,i):at(e)&&~e.indexOf("random(")?da(e):e},yp=Wo+"repeat,repeatDelay,yoyo,repeatRefresh,yoyoEase,autoRevert",xp={};bt(yp+",id,stagger,delay,duration,paused,scrollTrigger",function(t){return xp[t]=1});var Ye=(function(t){Fm(e,t);function e(r,a,i,s){var l;typeof a=="number"&&(i.duration=a,a=i,i=null),l=t.call(this,s?a:la(a))||this;var u=l.vars,c=u.duration,d=u.delay,m=u.immediateRender,p=u.stagger,b=u.overwrite,_=u.keyframes,f=u.defaults,h=u.scrollTrigger,$=u.yoyoEase,C=a.parent||ze,S=(dt(r)||Bm(r)?sn(r[0]):"length"in a)?[r]:$t(r),y,w,x,M,T,k,D,v;if(l._targets=S.length?Uo(S):sa("GSAP target "+r+" not found. https://gsap.com",!vt.nullTargetWarn)||[],l._ptLookup=[],l._overwrite=b,_||p||gi(c)||gi(d)){if(a=l.vars,y=l.timeline=new ct({data:"nested",defaults:f||{},targets:C&&C.data==="nested"?C.vars.targets:S}),y.kill(),y.parent=y._dp=an(l),y._start=0,p||gi(c)||gi(d)){if(M=S.length,D=p&&np(p),Vt(p))for(T in p)~yp.indexOf(T)&&(v||(v={}),v[T]=p[T]);for(w=0;w<M;w++)x=vi(a,xp),x.stagger=0,$&&(x.yoyoEase=$),v&&ir(x,v),k=S[w],x.duration=+ga(c,an(l),w,k,S),x.delay=(+ga(d,an(l),w,k,S)||0)-l._delay,!p&&M===1&&x.delay&&(l._delay=d=x.delay,l._start+=d,x.delay=0),y.to(k,x,D?D(w,k,S):0),y._ease=De.none;y.duration()?c=d=0:l.timeline=0}else if(_){la(kt(y.vars.defaults,{ease:"none"})),y._ease=Ln(_.ease||a.ease||"none");var N=0,z,R,P;if(dt(_))_.forEach(function(F){return y.to(S,F,">")}),y.duration();else{x={};for(T in _)T==="ease"||T==="easeEach"||sv(T,_[T],x,_.easeEach);for(T in x)for(z=x[T].sort(function(F,j){return F.t-j.t}),N=0,w=0;w<z.length;w++)R=z[w],P={ease:R.e,duration:(R.t-(w?z[w-1].t:0))/100*c},P[T]=R.v,y.to(S,P,N),N+=P.duration;y.duration()<c&&y.to({},{duration:c-y.duration()})}}c||l.duration(c=y.duration())}else l.timeline=0;return b===!0&&!$o&&(yn=an(l),ze.killTweensOf(S),yn=0),Xt(C,an(l),i),a.reversed&&l.reverse(),a.paused&&l.paused(!0),(m||!c&&!_&&l._start===qe(C._time)&&gt(m)&&Ax(an(l))&&C.data!=="nested")&&(l._tTime=-Ie,l.render(Math.max(0,-d)||0)),h&&Zm(an(l),h),l}var n=e.prototype;return n.render=function(a,i,s){var l=this._time,u=this._tDur,c=this._dur,d=a<0,m=a>u-Ie&&!d?u:a<Ie?0:a,p,b,_,f,h,$,C,S,y;if(!c)Rx(this,a,i,s);else if(m!==this._tTime||!a||s||!this._initted&&this._tTime||this._startAt&&this._zTime<0!==d||this._lazy){if(p=m,S=this.timeline,this._repeat){if(f=c+this._rDelay,this._repeat<-1&&d)return this.totalTime(f*100+a,i,s);if(p=qe(m%f),m===u?(_=this._repeat,p=c):(h=qe(m/f),_=~~h,_&&_===h?(p=c,_--):p>c&&(p=c)),$=this._yoyo&&_&1,$&&(y=this._yEase,p=c-p),h=sr(this._tTime,f),p===l&&!s&&this._initted&&_===h)return this._tTime=m,this;_!==h&&(S&&this._yEase&&pp(S,$),this.vars.repeatRefresh&&!$&&!this._lock&&p!==f&&this._initted&&(this._lock=s=1,this.render(qe(f*_),!0).invalidate()._lock=0))}if(!this._initted){if(Jm(this,d?a:p,s,i,m))return this._tTime=0,this;if(l!==this._time&&!(s&&this.vars.repeatRefresh&&_!==h))return this;if(c!==this._dur)return this.render(a,i,s)}if(this._tTime=m,this._time=p,!this._act&&this._ts&&(this._act=1,this._lazy=0),this.ratio=C=(y||this._ease)(p/c),this._from&&(this.ratio=C=1-C),!l&&m&&!i&&!h&&(Ct(this,"onStart"),this._tTime!==m))return this;for(b=this._pt;b;)b.r(C,b.d),b=b._next;S&&S.render(a<0?a:S._dur*S._ease(p/this._dur),i,s)||this._startAt&&(this._zTime=a),this._onUpdate&&!i&&(d&&Yo(this,a,i,s),Ct(this,"onUpdate")),this._repeat&&_!==h&&this.vars.onRepeat&&!i&&this.parent&&Ct(this,"onRepeat"),(m===this._tDur||!m)&&this._tTime===m&&(d&&!this._onUpdate&&Yo(this,a,!0,!0),(a||!c)&&(m===this._tDur&&this._ts>0||!m&&this._ts<0)&&gn(this,1),!i&&!(d&&!l)&&(m||l||$)&&(Ct(this,m===u?"onComplete":"onReverseComplete",!0),this._prom&&!(m<u&&this.timeScale()>0)&&this._prom()))}return this},n.targets=function(){return this._targets},n.invalidate=function(a){return(!a||!this.vars.runBackwards)&&(this._startAt=0),this._pt=this._op=this._onUpdate=this._lazy=this.ratio=0,this._ptLookup=[],this.timeline&&this.timeline.invalidate(a),t.prototype.invalidate.call(this,a)},n.resetTo=function(a,i,s,l,u){ma||Tt.wake(),this._ts||this.play();var c=Math.min(this._dur,(this._dp._time-this._start)*this._ts),d;return this._initted||nl(this,c),d=this._ease(c/this._dur),av(this,a,i,s,l,d,c,u)?this.resetTo(a,i,s,l,1):(Ci(this,0),this.parent||qm(this._dp,this,"_first","_last",this._dp._sort?"_start":0),this.render(0))},n.kill=function(a,i){if(i===void 0&&(i="all"),!a&&(!i||i==="all"))return this._lazy=this._pt=0,this.parent?fa(this):this.scrollTrigger&&this.scrollTrigger.kill(!!lt),this;if(this.timeline){var s=this.timeline.totalDuration();return this.timeline.killTweensOf(a,i,yn&&yn.vars.overwrite!==!0)._first||fa(this),this.parent&&s!==this.timeline.totalDuration()&&or(this,this._dur*this.timeline._tDur/s,0,1),this}var l=this._targets,u=a?$t(a):l,c=this._ptLookup,d=this._pt,m,p,b,_,f,h,$;if((!i||i==="all")&&Px(l,u))return i==="all"&&(this._pt=0),fa(this);for(m=this._op=this._op||[],i!=="all"&&(at(i)&&(f={},bt(i,function(C){return f[C]=1}),i=f),i=iv(l,i)),$=l.length;$--;)if(~u.indexOf(l[$])){p=c[$],i==="all"?(m[$]=i,_=p,b={}):(b=m[$]=m[$]||{},_=i);for(f in _)h=p&&p[f],h&&((!("kill"in h.d)||h.d.kill(f)===!0)&&Si(this,h,"_pt"),delete p[f]),b!=="all"&&(b[f]=1)}return this._initted&&!this._pt&&d&&fa(this),this},e.to=function(a,i){return new e(a,i,arguments[2])},e.from=function(a,i){return ca(1,arguments)},e.delayedCall=function(a,i,s,l){return new e(i,0,{immediateRender:!1,lazy:!1,overwrite:!1,delay:a,onComplete:i,onReverseComplete:i,onCompleteParams:s,onReverseCompleteParams:s,callbackScope:l})},e.fromTo=function(a,i,s){return ca(2,arguments)},e.set=function(a,i){return i.duration=0,i.repeatDelay||(i.repeat=0),new e(a,i)},e.killTweensOf=function(a,i,s){return ze.killTweensOf(a,i,s)},e})(pa);kt(Ye.prototype,{_targets:[],_lazy:0,_startAt:0,_op:0,_onInit:0}),bt("staggerTo,staggerFrom,staggerFromTo",function(t){Ye[t]=function(){var e=new ct,n=qo.call(arguments,0);return n.splice(t==="staggerFromTo"?5:4,0,0),e[t].apply(e,n)}});var rl=function(e,n,r){return e[n]=r},vp=function(e,n,r){return e[n](r)},ov=function(e,n,r,a){return e[n](a.fp,r)},lv=function(e,n,r){return e.setAttribute(n,r)},al=function(e,n){return We(e[n])?vp:Io(e[n])&&e.setAttribute?lv:rl},Sp=function(e,n){return n.set(n.t,n.p,Math.round((n.s+n.c*e)*1e6)/1e6,n)},cv=function(e,n){return n.set(n.t,n.p,!!(n.s+n.c*e),n)},wp=function(e,n){var r=n._pt,a="";if(!e&&n.b)a=n.b;else if(e===1&&n.e)a=n.e;else{for(;r;)a=r.p+(r.m?r.m(r.s+r.c*e):Math.round((r.s+r.c*e)*1e4)/1e4)+a,r=r._next;a+=n.c}n.set(n.t,n.p,a,n)},il=function(e,n){for(var r=n._pt;r;)r.r(e,r.d),r=r._next},uv=function(e,n,r,a){for(var i=this._pt,s;i;)s=i._next,i.p===a&&i.modifier(e,n,r),i=s},dv=function(e){for(var n=this._pt,r,a;n;)a=n._next,n.p===e&&!n.op||n.op===e?Si(this,n,"_pt"):n.dep||(r=1),n=a;return!r},fv=function(e,n,r,a){a.mSet(e,n,a.m.call(a.tween,r,a.mt),a)},kp=function(e){for(var n=e._pt,r,a,i,s;n;){for(r=n._next,a=i;a&&a.pr>n.pr;)a=a._next;(n._prev=a?a._prev:s)?n._prev._next=n:i=n,(n._next=a)?a._prev=n:s=n,n=r}e._pt=i},_t=(function(){function t(n,r,a,i,s,l,u,c,d){this.t=r,this.s=i,this.c=s,this.p=a,this.r=l||Sp,this.d=u||this,this.set=c||rl,this.pr=d||0,this._next=n,n&&(n._prev=this)}var e=t.prototype;return e.modifier=function(r,a,i){this.mSet=this.mSet||this.set,this.set=fv,this.m=r,this.mt=i,this.tween=a},t})();bt(Wo+"parent,duration,ease,delay,overwrite,runBackwards,startAt,yoyo,immediateRender,repeat,repeatDelay,data,paused,reversed,lazy,callbackScope,stringFilter,id,yoyoEase,stagger,inherit,repeatRefresh,keyframes,autoRevert,scrollTrigger",function(t){return Ho[t]=1}),St.TweenMax=St.TweenLite=Ye,St.TimelineLite=St.TimelineMax=ct,ze=new ct({sortChildren:!1,defaults:nr,autoRemoveChildren:!0,id:"root",smoothChildTiming:!0}),vt.stringFilter=hp;var En=[],Ti={},hv=[],Cp=0,mv=0,sl=function(e){return(Ti[e]||hv).map(function(n){return n()})},ol=function(){var e=Date.now(),n=[];e-Cp>2&&(sl("matchMediaInit"),En.forEach(function(r){var a=r.queries,i=r.conditions,s,l,u,c;for(l in a)s=qt.matchMedia(a[l]).matches,s&&(u=1),s!==i[l]&&(i[l]=s,c=1);c&&(r.revert(),u&&n.push(r))}),sl("matchMediaRevert"),n.forEach(function(r){return r.onMatch(r,function(a){return r.add(null,a)})}),Cp=e,sl("matchMedia"))},Tp=(function(){function t(n,r){this.selector=r&&Xo(r),this.data=[],this._r=[],this.isReverted=!1,this.id=mv++,n&&this.add(n)}var e=t.prototype;return e.add=function(r,a,i){We(r)&&(i=a,a=r,r=We);var s=this,l=function(){var c=Ee,d=s.selector,m;return c&&c!==s&&c.data.push(s),i&&(s.selector=Xo(i)),Ee=s,m=a.apply(s,arguments),We(m)&&s._r.push(m),Ee=c,s.selector=d,s.isReverted=!1,m};return s.last=l,r===We?l(s,function(u){return s.add(null,u)}):r?s[r]=l:l},e.ignore=function(r){var a=Ee;Ee=null,r(this),Ee=a},e.getTweens=function(){var r=[];return this.data.forEach(function(a){return a instanceof t?r.push.apply(r,a.getTweens()):a instanceof Ye&&!(a.parent&&a.parent.data==="nested")&&r.push(a)}),r},e.clear=function(){this._r.length=this.data.length=0},e.kill=function(r,a){var i=this;if(r?(function(){for(var l=i.getTweens(),u=i.data.length,c;u--;)c=i.data[u],c.data==="isFlip"&&(c.revert(),c.getChildren(!0,!0,!1).forEach(function(d){return l.splice(l.indexOf(d),1)}));for(l.map(function(d){return{g:d._dur||d._delay||d._sat&&!d._sat.vars.immediateRender?d.globalTime(0):-1/0,t:d}}).sort(function(d,m){return m.g-d.g||-1/0}).forEach(function(d){return d.t.revert(r)}),u=i.data.length;u--;)c=i.data[u],c instanceof ct?c.data!=="nested"&&(c.scrollTrigger&&c.scrollTrigger.revert(),c.kill()):!(c instanceof Ye)&&c.revert&&c.revert(r);i._r.forEach(function(d){return d(r,i)}),i.isReverted=!0})():this.data.forEach(function(l){return l.kill&&l.kill()}),this.clear(),a)for(var s=En.length;s--;)En[s].id===this.id&&En.splice(s,1)},e.revert=function(r){this.kill(r||{})},t})(),pv=(function(){function t(n){this.contexts=[],this.scope=n,Ee&&Ee.data.push(this)}var e=t.prototype;return e.add=function(r,a,i){Vt(r)||(r={matches:r});var s=new Tp(0,i||this.scope),l=s.conditions={},u,c,d;Ee&&!s.selector&&(s.selector=Ee.selector),this.contexts.push(s),a=s.add("onMatch",a),s.queries=r;for(c in r)c==="all"?d=1:(u=qt.matchMedia(r[c]),u&&(En.indexOf(s)<0&&En.push(s),(l[c]=u.matches)&&(d=1),u.addListener?u.addListener(ol):u.addEventListener("change",ol)));return d&&a(s,function(m){return s.add(null,m)}),this},e.revert=function(r){this.kill(r||{})},e.kill=function(r){this.contexts.forEach(function(a){return a.kill(r,!0)})},t})(),Ni={registerPlugin:function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];n.forEach(function(a){return cp(a)})},timeline:function(e){return new ct(e)},getTweensOf:function(e,n){return ze.getTweensOf(e,n)},getProperty:function(e,n,r,a){at(e)&&(e=$t(e)[0]);var i=Bn(e||{}).get,s=r?Ym:Gm;return r==="native"&&(r=""),e&&(n?s((wt[n]&&wt[n].get||i)(e,n,r,a)):function(l,u,c){return s((wt[l]&&wt[l].get||i)(e,l,u,c))})},quickSetter:function(e,n,r){if(e=$t(e),e.length>1){var a=e.map(function(d){return yt.quickSetter(d,n,r)}),i=a.length;return function(d){for(var m=i;m--;)a[m](d)}}e=e[0]||{};var s=wt[n],l=Bn(e),u=l.harness&&(l.harness.aliases||{})[n]||n,c=s?function(d){var m=new s;lr._pt=0,m.init(e,r?d+r:d,lr,0,[e]),m.render(1,m),lr._pt&&il(1,lr)}:l.set(e,u);return s?c:function(d){return c(e,u,r?d+r:d,l,1)}},quickTo:function(e,n,r){var a,i=yt.to(e,kt((a={},a[n]="+=0.1",a.paused=!0,a.stagger=0,a),r||{})),s=function(u,c,d){return i.resetTo(n,u,c,d)};return s.tween=i,s},isTweening:function(e){return ze.getTweensOf(e,!0).length>0},defaults:function(e){return e&&e.ease&&(e.ease=Ln(e.ease,nr.ease)),Vm(nr,e||{})},config:function(e){return Vm(vt,e||{})},registerEffect:function(e){var n=e.name,r=e.effect,a=e.plugins,i=e.defaults,s=e.extendTimeline;(a||"").split(",").forEach(function(l){return l&&!wt[l]&&!St[l]&&sa(n+" effect requires "+l+" plugin.")}),Oo[n]=function(l,u,c){return r($t(l),kt(u||{},i),c)},s&&(ct.prototype[n]=function(l,u,c){return this.add(Oo[n](l,Vt(u)?u:(c=u)&&{},this),c)})},registerEase:function(e,n){De[e]=Ln(n)},parseEase:function(e,n){return arguments.length?Ln(e,n):De},getById:function(e){return ze.getById(e)},exportRoot:function(e,n){e===void 0&&(e={});var r=new ct(e),a,i;for(r.smoothChildTiming=gt(e.smoothChildTiming),ze.remove(r),r._dp=0,r._time=r._tTime=ze._time,a=ze._first;a;)i=a._next,(n||!(!a._dur&&a instanceof Ye&&a.vars.onComplete===a._targets[0]))&&Xt(r,a,a._start-a._delay),a=i;return Xt(ze,r,0),r},context:function(e,n){return e?new Tp(e,n):Ee},matchMedia:function(e){return new pv(e)},matchMediaRefresh:function(){return En.forEach(function(e){var n=e.conditions,r,a;for(a in n)n[a]&&(n[a]=!1,r=1);r&&e.revert()})||ol()},addEventListener:function(e,n){var r=Ti[e]||(Ti[e]=[]);~r.indexOf(n)||r.push(n)},removeEventListener:function(e,n){var r=Ti[e],a=r&&r.indexOf(n);a>=0&&r.splice(a,1)},utils:{wrap:Vx,wrapYoyo:qx,distribute:np,random:ap,snap:rp,normalize:Yx,getUnit:ft,clamp:Ox,splitColor:up,toArray:$t,selector:Xo,mapRange:sp,pipe:Ux,unitize:Gx,interpolate:Xx,shuffle:tp},install:Rm,effects:Oo,ticker:Tt,updateRoot:ct.updateRoot,plugins:wt,globalTimeline:ze,core:{PropTween:_t,globals:Hm,Tween:Ye,Timeline:ct,Animation:pa,getCache:Bn,_removeLinkedListItem:Si,reverting:function(){return lt},context:function(e){return e&&Ee&&(Ee.data.push(e),e._ctx=Ee),Ee},suppressOverwrites:function(e){return $o=e}}};bt("to,from,fromTo,delayedCall,set,killTweensOf",function(t){return Ni[t]=Ye[t]}),Tt.add(ct.updateRoot),lr=Ni.to({},{duration:0});var gv=function(e,n){for(var r=e._pt;r&&r.p!==n&&r.op!==n&&r.fp!==n;)r=r._next;return r},bv=function(e,n){var r=e._targets,a,i,s;for(a in n)for(i=r.length;i--;)s=e._ptLookup[i][a],s&&(s=s.d)&&(s._pt&&(s=gv(s,a)),s&&s.modifier&&s.modifier(n[a],e,r[i],a))},ll=function(e,n){return{name:e,headless:1,rawVars:1,init:function(a,i,s){s._onInit=function(l){var u,c;if(at(i)&&(u={},bt(i,function(d){return u[d]=1}),i=u),n){u={};for(c in i)u[c]=n(i[c]);i=u}bv(l,i)}}}},yt=Ni.registerPlugin({name:"attr",init:function(e,n,r,a,i){var s,l,u;this.tween=r;for(s in n)u=e.getAttribute(s)||"",l=this.add(e,"setAttribute",(u||0)+"",n[s],a,i,0,0,s),l.op=s,l.b=u,this._props.push(s)},render:function(e,n){for(var r=n._pt;r;)lt?r.set(r.t,r.p,r.b,r):r.r(e,r.d),r=r._next}},{name:"endArray",headless:1,init:function(e,n){for(var r=n.length;r--;)this.add(e,r,e[r]||0,n[r],0,0,0,0,0,1)}},ll("roundProps",Ko),ll("modifiers"),ll("snap",rp))||Ni;Ye.version=ct.version=yt.version="3.13.0",Em=1,Bo()&&cr();var _v=De.Power0,yv=De.Power1,xv=De.Power2,vv=De.Power3,Sv=De.Power4,wv=De.Linear,kv=De.Quad,Cv=De.Cubic,Tv=De.Quart,Nv=De.Quint,jv=De.Strong,Dv=De.Elastic,Mv=De.Back,$v=De.SteppedEase,Fv=De.Bounce,Iv=De.Sine,Bv=De.Expo,Pv=De.Circ;/*!
 * CSSPlugin 3.13.0
 * https://gsap.com
 *
 * Copyright 2008-2025, GreenSock. All rights reserved.
 * Subject to the terms at https://gsap.com/standard-license
 * @author: Jack Doyle, jack@greensock.com
*/var Np,xn,ur,cl,Rn,jp,ul,Lv=function(){return typeof window<"u"},on={},Hn=180/Math.PI,dr=Math.PI/180,fr=Math.atan2,Dp=1e8,dl=/([A-Z])/g,Av=/(left|right|width|margin|padding|x)/i,Ev=/[\s,\(]\S/,Kt={autoAlpha:"opacity,visibility",scale:"scaleX,scaleY",alpha:"opacity"},fl=function(e,n){return n.set(n.t,n.p,Math.round((n.s+n.c*e)*1e4)/1e4+n.u,n)},Rv=function(e,n){return n.set(n.t,n.p,e===1?n.e:Math.round((n.s+n.c*e)*1e4)/1e4+n.u,n)},Hv=function(e,n){return n.set(n.t,n.p,e?Math.round((n.s+n.c*e)*1e4)/1e4+n.u:n.b,n)},zv=function(e,n){var r=n.s+n.c*e;n.set(n.t,n.p,~~(r+(r<0?-.5:.5))+n.u,n)},Mp=function(e,n){return n.set(n.t,n.p,e?n.e:n.b,n)},$p=function(e,n){return n.set(n.t,n.p,e!==1?n.b:n.e,n)},Ov=function(e,n,r){return e.style[n]=r},Wv=function(e,n,r){return e.style.setProperty(n,r)},Uv=function(e,n,r){return e._gsap[n]=r},Gv=function(e,n,r){return e._gsap.scaleX=e._gsap.scaleY=r},Yv=function(e,n,r,a,i){var s=e._gsap;s.scaleX=s.scaleY=r,s.renderTransform(i,s)},Vv=function(e,n,r,a,i){var s=e._gsap;s[n]=r,s.renderTransform(i,s)},Oe="transform",xt=Oe+"Origin",qv=function t(e,n){var r=this,a=this.target,i=a.style,s=a._gsap;if(e in on&&i){if(this.tfm=this.tfm||{},e!=="transform")e=Kt[e]||e,~e.indexOf(",")?e.split(",").forEach(function(l){return r.tfm[l]=ln(a,l)}):this.tfm[e]=s.x?s[e]:ln(a,e),e===xt&&(this.tfm.zOrigin=s.zOrigin);else return Kt.transform.split(",").forEach(function(l){return t.call(r,l,n)});if(this.props.indexOf(Oe)>=0)return;s.svg&&(this.svgo=a.getAttribute("data-svg-origin"),this.props.push(xt,n,"")),e=Oe}(i||n)&&this.props.push(e,n,i[e])},Fp=function(e){e.translate&&(e.removeProperty("translate"),e.removeProperty("scale"),e.removeProperty("rotate"))},Xv=function(){var e=this.props,n=this.target,r=n.style,a=n._gsap,i,s;for(i=0;i<e.length;i+=3)e[i+1]?e[i+1]===2?n[e[i]](e[i+2]):n[e[i]]=e[i+2]:e[i+2]?r[e[i]]=e[i+2]:r.removeProperty(e[i].substr(0,2)==="--"?e[i]:e[i].replace(dl,"-$1").toLowerCase());if(this.tfm){for(s in this.tfm)a[s]=this.tfm[s];a.svg&&(a.renderTransform(),n.setAttribute("data-svg-origin",this.svgo||"")),i=ul(),(!i||!i.isStart)&&!r[Oe]&&(Fp(r),a.zOrigin&&r[xt]&&(r[xt]+=" "+a.zOrigin+"px",a.zOrigin=0,a.renderTransform()),a.uncache=1)}},Ip=function(e,n){var r={target:e,props:[],revert:Xv,save:qv};return e._gsap||yt.core.getCache(e),n&&e.style&&e.nodeType&&n.split(",").forEach(function(a){return r.save(a)}),r},Bp,hl=function(e,n){var r=xn.createElementNS?xn.createElementNS((n||"http://www.w3.org/1999/xhtml").replace(/^https/,"http"),e):xn.createElement(e);return r&&r.style?r:xn.createElement(e)},Ft=function t(e,n,r){var a=getComputedStyle(e);return a[n]||a.getPropertyValue(n.replace(dl,"-$1").toLowerCase())||a.getPropertyValue(n)||!r&&t(e,hr(n)||n,1)||""},Pp="O,Moz,ms,Ms,Webkit".split(","),hr=function(e,n,r){var a=n||Rn,i=a.style,s=5;if(e in i&&!r)return e;for(e=e.charAt(0).toUpperCase()+e.substr(1);s--&&!(Pp[s]+e in i););return s<0?null:(s===3?"ms":s>=0?Pp[s]:"")+e},ml=function(){Lv()&&window.document&&(Np=window,xn=Np.document,ur=xn.documentElement,Rn=hl("div")||{style:{}},hl("div"),Oe=hr(Oe),xt=Oe+"Origin",Rn.style.cssText="border-width:0;line-height:0;position:absolute;padding:0",Bp=!!hr("perspective"),ul=yt.core.reverting,cl=1)},Lp=function(e){var n=e.ownerSVGElement,r=hl("svg",n&&n.getAttribute("xmlns")||"http://www.w3.org/2000/svg"),a=e.cloneNode(!0),i;a.style.display="block",r.appendChild(a),ur.appendChild(r);try{i=a.getBBox()}catch{}return r.removeChild(a),ur.removeChild(r),i},Ap=function(e,n){for(var r=n.length;r--;)if(e.hasAttribute(n[r]))return e.getAttribute(n[r])},Ep=function(e){var n,r;try{n=e.getBBox()}catch{n=Lp(e),r=1}return n&&(n.width||n.height)||r||(n=Lp(e)),n&&!n.width&&!n.x&&!n.y?{x:+Ap(e,["x","cx","x1"])||0,y:+Ap(e,["y","cy","y1"])||0,width:0,height:0}:n},Rp=function(e){return!!(e.getCTM&&(!e.parentNode||e.ownerSVGElement)&&Ep(e))},zn=function(e,n){if(n){var r=e.style,a;n in on&&n!==xt&&(n=Oe),r.removeProperty?(a=n.substr(0,2),(a==="ms"||n.substr(0,6)==="webkit")&&(n="-"+n),r.removeProperty(a==="--"?n:n.replace(dl,"-$1").toLowerCase())):r.removeAttribute(n)}},vn=function(e,n,r,a,i,s){var l=new _t(e._pt,n,r,0,1,s?$p:Mp);return e._pt=l,l.b=a,l.e=i,e._props.push(r),l},Hp={deg:1,rad:1,turn:1},Kv={grid:1,flex:1},Sn=function t(e,n,r,a){var i=parseFloat(r)||0,s=(r+"").trim().substr((i+"").length)||"px",l=Rn.style,u=Av.test(n),c=e.tagName.toLowerCase()==="svg",d=(c?"client":"offset")+(u?"Width":"Height"),m=100,p=a==="px",b=a==="%",_,f,h,$;if(a===s||!i||Hp[a]||Hp[s])return i;if(s!=="px"&&!p&&(i=t(e,n,r,"px")),$=e.getCTM&&Rp(e),(b||s==="%")&&(on[n]||~n.indexOf("adius")))return _=$?e.getBBox()[u?"width":"height"]:e[d],Ge(b?i/_*m:i/100*_);if(l[u?"width":"height"]=m+(p?s:a),f=a!=="rem"&&~n.indexOf("adius")||a==="em"&&e.appendChild&&!c?e:e.parentNode,$&&(f=(e.ownerSVGElement||{}).parentNode),(!f||f===xn||!f.appendChild)&&(f=xn.body),h=f._gsap,h&&b&&h.width&&u&&h.time===Tt.time&&!h.uncache)return Ge(i/h.width*m);if(b&&(n==="height"||n==="width")){var C=e.style[n];e.style[n]=m+a,_=e[d],C?e.style[n]=C:zn(e,n)}else(b||s==="%")&&!Kv[Ft(f,"display")]&&(l.position=Ft(e,"position")),f===e&&(l.position="static"),f.appendChild(Rn),_=Rn[d],f.removeChild(Rn),l.position="absolute";return u&&b&&(h=Bn(f),h.time=Tt.time,h.width=f[d]),Ge(p?_*i/m:_&&i?m/_*i:0)},ln=function(e,n,r,a){var i;return cl||ml(),n in Kt&&n!=="transform"&&(n=Kt[n],~n.indexOf(",")&&(n=n.split(",")[0])),on[n]&&n!=="transform"?(i=_a(e,a),i=n!=="transformOrigin"?i[n]:i.svg?i.origin:Di(Ft(e,xt))+" "+i.zOrigin+"px"):(i=e.style[n],(!i||i==="auto"||a||~(i+"").indexOf("calc("))&&(i=ji[n]&&ji[n](e,n,r)||Ft(e,n)||Wm(e,n)||(n==="opacity"?1:0))),r&&!~(i+"").trim().indexOf(" ")?Sn(e,n,i,r)+r:i},Zv=function(e,n,r,a){if(!r||r==="none"){var i=hr(n,e,1),s=i&&Ft(e,i,1);s&&s!==r?(n=i,r=s):n==="borderColor"&&(r=Ft(e,"borderTopColor"))}var l=new _t(this._pt,e.style,n,0,1,wp),u=0,c=0,d,m,p,b,_,f,h,$,C,S,y,w;if(l.b=r,l.e=a,r+="",a+="",a.substring(0,6)==="var(--"&&(a=Ft(e,a.substring(4,a.indexOf(")")))),a==="auto"&&(f=e.style[n],e.style[n]=a,a=Ft(e,n)||a,f?e.style[n]=f:zn(e,n)),d=[r,a],hp(d),r=d[0],a=d[1],p=r.match(rr)||[],w=a.match(rr)||[],w.length){for(;m=rr.exec(a);)h=m[0],C=a.substring(u,m.index),_?_=(_+1)%5:(C.substr(-5)==="rgba("||C.substr(-5)==="hsla(")&&(_=1),h!==(f=p[c++]||"")&&(b=parseFloat(f)||0,y=f.substr((b+"").length),h.charAt(1)==="="&&(h=ar(b,h)+y),$=parseFloat(h),S=h.substr(($+"").length),u=rr.lastIndex-S.length,S||(S=S||vt.units[n]||y,u===a.length&&(a+=S,l.e+=S)),y!==S&&(b=Sn(e,n,f,S)||0),l._pt={_next:l._pt,p:C||c===1?C:",",s:b,c:$-b,m:_&&_<4||n==="zIndex"?Math.round:0});l.c=u<a.length?a.substring(u,a.length):""}else l.r=n==="display"&&a==="none"?$p:Mp;return Lm.test(a)&&(l.e=0),this._pt=l,l},zp={top:"0%",bottom:"100%",left:"0%",right:"100%",center:"50%"},Jv=function(e){var n=e.split(" "),r=n[0],a=n[1]||"50%";return(r==="top"||r==="bottom"||a==="left"||a==="right")&&(e=r,r=a,a=e),n[0]=zp[r]||r,n[1]=zp[a]||a,n.join(" ")},Qv=function(e,n){if(n.tween&&n.tween._time===n.tween._dur){var r=n.t,a=r.style,i=n.u,s=r._gsap,l,u,c;if(i==="all"||i===!0)a.cssText="",u=1;else for(i=i.split(","),c=i.length;--c>-1;)l=i[c],on[l]&&(u=1,l=l==="transformOrigin"?xt:Oe),zn(r,l);u&&(zn(r,Oe),s&&(s.svg&&r.removeAttribute("transform"),a.scale=a.rotate=a.translate="none",_a(r,1),s.uncache=1,Fp(a)))}},ji={clearProps:function(e,n,r,a,i){if(i.data!=="isFromStart"){var s=e._pt=new _t(e._pt,n,r,0,0,Qv);return s.u=a,s.pr=-10,s.tween=i,e._props.push(r),1}}},ba=[1,0,0,1,0,0],Op={},Wp=function(e){return e==="matrix(1, 0, 0, 1, 0, 0)"||e==="none"||!e},Up=function(e){var n=Ft(e,Oe);return Wp(n)?ba:n.substr(7).match(Pm).map(Ge)},pl=function(e,n){var r=e._gsap||Bn(e),a=e.style,i=Up(e),s,l,u,c;return r.svg&&e.getAttribute("transform")?(u=e.transform.baseVal.consolidate().matrix,i=[u.a,u.b,u.c,u.d,u.e,u.f],i.join(",")==="1,0,0,1,0,0"?ba:i):(i===ba&&!e.offsetParent&&e!==ur&&!r.svg&&(u=a.display,a.display="block",s=e.parentNode,(!s||!e.offsetParent&&!e.getBoundingClientRect().width)&&(c=1,l=e.nextElementSibling,ur.appendChild(e)),i=Up(e),u?a.display=u:zn(e,"display"),c&&(l?s.insertBefore(e,l):s?s.appendChild(e):ur.removeChild(e))),n&&i.length>6?[i[0],i[1],i[4],i[5],i[12],i[13]]:i)},gl=function(e,n,r,a,i,s){var l=e._gsap,u=i||pl(e,!0),c=l.xOrigin||0,d=l.yOrigin||0,m=l.xOffset||0,p=l.yOffset||0,b=u[0],_=u[1],f=u[2],h=u[3],$=u[4],C=u[5],S=n.split(" "),y=parseFloat(S[0])||0,w=parseFloat(S[1])||0,x,M,T,k;r?u!==ba&&(M=b*h-_*f)&&(T=y*(h/M)+w*(-f/M)+(f*C-h*$)/M,k=y*(-_/M)+w*(b/M)-(b*C-_*$)/M,y=T,w=k):(x=Ep(e),y=x.x+(~S[0].indexOf("%")?y/100*x.width:y),w=x.y+(~(S[1]||S[0]).indexOf("%")?w/100*x.height:w)),a||a!==!1&&l.smooth?($=y-c,C=w-d,l.xOffset=m+($*b+C*f)-$,l.yOffset=p+($*_+C*h)-C):l.xOffset=l.yOffset=0,l.xOrigin=y,l.yOrigin=w,l.smooth=!!a,l.origin=n,l.originIsAbsolute=!!r,e.style[xt]="0px 0px",s&&(vn(s,l,"xOrigin",c,y),vn(s,l,"yOrigin",d,w),vn(s,l,"xOffset",m,l.xOffset),vn(s,l,"yOffset",p,l.yOffset)),e.setAttribute("data-svg-origin",y+" "+w)},_a=function(e,n){var r=e._gsap||new bp(e);if("x"in r&&!n&&!r.uncache)return r;var a=e.style,i=r.scaleX<0,s="px",l="deg",u=getComputedStyle(e),c=Ft(e,xt)||"0",d,m,p,b,_,f,h,$,C,S,y,w,x,M,T,k,D,v,N,z,R,P,F,j,H,B,E,W,L,U,O,Q;return d=m=p=f=h=$=C=S=y=0,b=_=1,r.svg=!!(e.getCTM&&Rp(e)),u.translate&&((u.translate!=="none"||u.scale!=="none"||u.rotate!=="none")&&(a[Oe]=(u.translate!=="none"?"translate3d("+(u.translate+" 0 0").split(" ").slice(0,3).join(", ")+") ":"")+(u.rotate!=="none"?"rotate("+u.rotate+") ":"")+(u.scale!=="none"?"scale("+u.scale.split(" ").join(",")+") ":"")+(u[Oe]!=="none"?u[Oe]:"")),a.scale=a.rotate=a.translate="none"),M=pl(e,r.svg),r.svg&&(r.uncache?(H=e.getBBox(),c=r.xOrigin-H.x+"px "+(r.yOrigin-H.y)+"px",j=""):j=!n&&e.getAttribute("data-svg-origin"),gl(e,j||c,!!j||r.originIsAbsolute,r.smooth!==!1,M)),w=r.xOrigin||0,x=r.yOrigin||0,M!==ba&&(v=M[0],N=M[1],z=M[2],R=M[3],d=P=M[4],m=F=M[5],M.length===6?(b=Math.sqrt(v*v+N*N),_=Math.sqrt(R*R+z*z),f=v||N?fr(N,v)*Hn:0,C=z||R?fr(z,R)*Hn+f:0,C&&(_*=Math.abs(Math.cos(C*dr))),r.svg&&(d-=w-(w*v+x*z),m-=x-(w*N+x*R))):(Q=M[6],U=M[7],E=M[8],W=M[9],L=M[10],O=M[11],d=M[12],m=M[13],p=M[14],T=fr(Q,L),h=T*Hn,T&&(k=Math.cos(-T),D=Math.sin(-T),j=P*k+E*D,H=F*k+W*D,B=Q*k+L*D,E=P*-D+E*k,W=F*-D+W*k,L=Q*-D+L*k,O=U*-D+O*k,P=j,F=H,Q=B),T=fr(-z,L),$=T*Hn,T&&(k=Math.cos(-T),D=Math.sin(-T),j=v*k-E*D,H=N*k-W*D,B=z*k-L*D,O=R*D+O*k,v=j,N=H,z=B),T=fr(N,v),f=T*Hn,T&&(k=Math.cos(T),D=Math.sin(T),j=v*k+N*D,H=P*k+F*D,N=N*k-v*D,F=F*k-P*D,v=j,P=H),h&&Math.abs(h)+Math.abs(f)>359.9&&(h=f=0,$=180-$),b=Ge(Math.sqrt(v*v+N*N+z*z)),_=Ge(Math.sqrt(F*F+Q*Q)),T=fr(P,F),C=Math.abs(T)>2e-4?T*Hn:0,y=O?1/(O<0?-O:O):0),r.svg&&(j=e.getAttribute("transform"),r.forceCSS=e.setAttribute("transform","")||!Wp(Ft(e,Oe)),j&&e.setAttribute("transform",j))),Math.abs(C)>90&&Math.abs(C)<270&&(i?(b*=-1,C+=f<=0?180:-180,f+=f<=0?180:-180):(_*=-1,C+=C<=0?180:-180)),n=n||r.uncache,r.x=d-((r.xPercent=d&&(!n&&r.xPercent||(Math.round(e.offsetWidth/2)===Math.round(-d)?-50:0)))?e.offsetWidth*r.xPercent/100:0)+s,r.y=m-((r.yPercent=m&&(!n&&r.yPercent||(Math.round(e.offsetHeight/2)===Math.round(-m)?-50:0)))?e.offsetHeight*r.yPercent/100:0)+s,r.z=p+s,r.scaleX=Ge(b),r.scaleY=Ge(_),r.rotation=Ge(f)+l,r.rotationX=Ge(h)+l,r.rotationY=Ge($)+l,r.skewX=C+l,r.skewY=S+l,r.transformPerspective=y+s,(r.zOrigin=parseFloat(c.split(" ")[2])||!n&&r.zOrigin||0)&&(a[xt]=Di(c)),r.xOffset=r.yOffset=0,r.force3D=vt.force3D,r.renderTransform=r.svg?t1:Bp?Gp:e1,r.uncache=0,r},Di=function(e){return(e=e.split(" "))[0]+" "+e[1]},bl=function(e,n,r){var a=ft(n);return Ge(parseFloat(n)+parseFloat(Sn(e,"x",r+"px",a)))+a},e1=function(e,n){n.z="0px",n.rotationY=n.rotationX="0deg",n.force3D=0,Gp(e,n)},On="0deg",ya="0px",Wn=") ",Gp=function(e,n){var r=n||this,a=r.xPercent,i=r.yPercent,s=r.x,l=r.y,u=r.z,c=r.rotation,d=r.rotationY,m=r.rotationX,p=r.skewX,b=r.skewY,_=r.scaleX,f=r.scaleY,h=r.transformPerspective,$=r.force3D,C=r.target,S=r.zOrigin,y="",w=$==="auto"&&e&&e!==1||$===!0;if(S&&(m!==On||d!==On)){var x=parseFloat(d)*dr,M=Math.sin(x),T=Math.cos(x),k;x=parseFloat(m)*dr,k=Math.cos(x),s=bl(C,s,M*k*-S),l=bl(C,l,-Math.sin(x)*-S),u=bl(C,u,T*k*-S+S)}h!==ya&&(y+="perspective("+h+Wn),(a||i)&&(y+="translate("+a+"%, "+i+"%) "),(w||s!==ya||l!==ya||u!==ya)&&(y+=u!==ya||w?"translate3d("+s+", "+l+", "+u+") ":"translate("+s+", "+l+Wn),c!==On&&(y+="rotate("+c+Wn),d!==On&&(y+="rotateY("+d+Wn),m!==On&&(y+="rotateX("+m+Wn),(p!==On||b!==On)&&(y+="skew("+p+", "+b+Wn),(_!==1||f!==1)&&(y+="scale("+_+", "+f+Wn),C.style[Oe]=y||"translate(0, 0)"},t1=function(e,n){var r=n||this,a=r.xPercent,i=r.yPercent,s=r.x,l=r.y,u=r.rotation,c=r.skewX,d=r.skewY,m=r.scaleX,p=r.scaleY,b=r.target,_=r.xOrigin,f=r.yOrigin,h=r.xOffset,$=r.yOffset,C=r.forceCSS,S=parseFloat(s),y=parseFloat(l),w,x,M,T,k;u=parseFloat(u),c=parseFloat(c),d=parseFloat(d),d&&(d=parseFloat(d),c+=d,u+=d),u||c?(u*=dr,c*=dr,w=Math.cos(u)*m,x=Math.sin(u)*m,M=Math.sin(u-c)*-p,T=Math.cos(u-c)*p,c&&(d*=dr,k=Math.tan(c-d),k=Math.sqrt(1+k*k),M*=k,T*=k,d&&(k=Math.tan(d),k=Math.sqrt(1+k*k),w*=k,x*=k)),w=Ge(w),x=Ge(x),M=Ge(M),T=Ge(T)):(w=m,T=p,x=M=0),(S&&!~(s+"").indexOf("px")||y&&!~(l+"").indexOf("px"))&&(S=Sn(b,"x",s,"px"),y=Sn(b,"y",l,"px")),(_||f||h||$)&&(S=Ge(S+_-(_*w+f*M)+h),y=Ge(y+f-(_*x+f*T)+$)),(a||i)&&(k=b.getBBox(),S=Ge(S+a/100*k.width),y=Ge(y+i/100*k.height)),k="matrix("+w+","+x+","+M+","+T+","+S+","+y+")",b.setAttribute("transform",k),C&&(b.style[Oe]=k)},n1=function(e,n,r,a,i){var s=360,l=at(i),u=parseFloat(i)*(l&&~i.indexOf("rad")?Hn:1),c=u-a,d=a+c+"deg",m,p;return l&&(m=i.split("_")[1],m==="short"&&(c%=s,c!==c%(s/2)&&(c+=c<0?s:-s)),m==="cw"&&c<0?c=(c+s*Dp)%s-~~(c/s)*s:m==="ccw"&&c>0&&(c=(c-s*Dp)%s-~~(c/s)*s)),e._pt=p=new _t(e._pt,n,r,a,c,Rv),p.e=d,p.u="deg",e._props.push(r),p},Yp=function(e,n){for(var r in n)e[r]=n[r];return e},r1=function(e,n,r){var a=Yp({},r._gsap),i="perspective,force3D,transformOrigin,svgOrigin",s=r.style,l,u,c,d,m,p,b,_;a.svg?(c=r.getAttribute("transform"),r.setAttribute("transform",""),s[Oe]=n,l=_a(r,1),zn(r,Oe),r.setAttribute("transform",c)):(c=getComputedStyle(r)[Oe],s[Oe]=n,l=_a(r,1),s[Oe]=c);for(u in on)c=a[u],d=l[u],c!==d&&i.indexOf(u)<0&&(b=ft(c),_=ft(d),m=b!==_?Sn(r,u,c,_):parseFloat(c),p=parseFloat(d),e._pt=new _t(e._pt,l,u,m,p-m,fl),e._pt.u=_||0,e._props.push(u));Yp(l,a)};bt("padding,margin,Width,Radius",function(t,e){var n="Top",r="Right",a="Bottom",i="Left",s=(e<3?[n,r,a,i]:[n+i,n+r,a+r,a+i]).map(function(l){return e<2?t+l:"border"+l+t});ji[e>1?"border"+t:t]=function(l,u,c,d,m){var p,b;if(arguments.length<4)return p=s.map(function(_){return ln(l,_,c)}),b=p.join(" "),b.split(p[0]).length===5?p[0]:b;p=(d+"").split(" "),b={},s.forEach(function(_,f){return b[_]=p[f]=p[f]||p[(f-1)/2|0]}),l.init(u,b,m)}});var _l={name:"css",register:ml,targetTest:function(e){return e.style&&e.nodeType},init:function(e,n,r,a,i){var s=this._props,l=e.style,u=r.vars.startAt,c,d,m,p,b,_,f,h,$,C,S,y,w,x,M,T;cl||ml(),this.styles=this.styles||Ip(e),T=this.styles.props,this.tween=r;for(f in n)if(f!=="autoRound"&&(d=n[f],!(wt[f]&&_p(f,n,r,a,e,i)))){if(b=typeof d,_=ji[f],b==="function"&&(d=d.call(r,a,e,i),b=typeof d),b==="string"&&~d.indexOf("random(")&&(d=da(d)),_)_(this,e,f,d,r)&&(M=1);else if(f.substr(0,2)==="--")c=(getComputedStyle(e).getPropertyValue(f)+"").trim(),d+="",_n.lastIndex=0,_n.test(c)||(h=ft(c),$=ft(d)),$?h!==$&&(c=Sn(e,f,c,$)+$):h&&(d+=h),this.add(l,"setProperty",c,d,a,i,0,0,f),s.push(f),T.push(f,0,l[f]);else if(b!=="undefined"){if(u&&f in u?(c=typeof u[f]=="function"?u[f].call(r,a,e,i):u[f],at(c)&&~c.indexOf("random(")&&(c=da(c)),ft(c+"")||c==="auto"||(c+=vt.units[f]||ft(ln(e,f))||""),(c+"").charAt(1)==="="&&(c=ln(e,f))):c=ln(e,f),p=parseFloat(c),C=b==="string"&&d.charAt(1)==="="&&d.substr(0,2),C&&(d=d.substr(2)),m=parseFloat(d),f in Kt&&(f==="autoAlpha"&&(p===1&&ln(e,"visibility")==="hidden"&&m&&(p=0),T.push("visibility",0,l.visibility),vn(this,l,"visibility",p?"inherit":"hidden",m?"inherit":"hidden",!m)),f!=="scale"&&f!=="transform"&&(f=Kt[f],~f.indexOf(",")&&(f=f.split(",")[0]))),S=f in on,S){if(this.styles.save(f),b==="string"&&d.substring(0,6)==="var(--"&&(d=Ft(e,d.substring(4,d.indexOf(")"))),m=parseFloat(d)),y||(w=e._gsap,w.renderTransform&&!n.parseTransform||_a(e,n.parseTransform),x=n.smoothOrigin!==!1&&w.smooth,y=this._pt=new _t(this._pt,l,Oe,0,1,w.renderTransform,w,0,-1),y.dep=1),f==="scale")this._pt=new _t(this._pt,w,"scaleY",w.scaleY,(C?ar(w.scaleY,C+m):m)-w.scaleY||0,fl),this._pt.u=0,s.push("scaleY",f),f+="X";else if(f==="transformOrigin"){T.push(xt,0,l[xt]),d=Jv(d),w.svg?gl(e,d,0,x,0,this):($=parseFloat(d.split(" ")[2])||0,$!==w.zOrigin&&vn(this,w,"zOrigin",w.zOrigin,$),vn(this,l,f,Di(c),Di(d)));continue}else if(f==="svgOrigin"){gl(e,d,1,x,0,this);continue}else if(f in Op){n1(this,w,f,p,C?ar(p,C+d):d);continue}else if(f==="smoothOrigin"){vn(this,w,"smooth",w.smooth,d);continue}else if(f==="force3D"){w[f]=d;continue}else if(f==="transform"){r1(this,d,e);continue}}else f in l||(f=hr(f)||f);if(S||(m||m===0)&&(p||p===0)&&!Ev.test(d)&&f in l)h=(c+"").substr((p+"").length),m||(m=0),$=ft(d)||(f in vt.units?vt.units[f]:h),h!==$&&(p=Sn(e,f,c,$)),this._pt=new _t(this._pt,S?w:l,f,p,(C?ar(p,C+m):m)-p,!S&&($==="px"||f==="zIndex")&&n.autoRound!==!1?zv:fl),this._pt.u=$||0,h!==$&&$!=="%"&&(this._pt.b=c,this._pt.r=Hv);else if(f in l)Zv.call(this,e,f,c,C?C+d:d);else if(f in e)this.add(e,f,c||e[f],C?C+d:d,a,i);else if(f!=="parseTransform"){Ro(f,d);continue}S||(f in l?T.push(f,0,l[f]):typeof e[f]=="function"?T.push(f,2,e[f]()):T.push(f,1,c||e[f])),s.push(f)}}M&&kp(this)},render:function(e,n){if(n.tween._time||!ul())for(var r=n._pt;r;)r.r(e,r.d),r=r._next;else n.styles.revert()},get:ln,aliases:Kt,getSetter:function(e,n,r){var a=Kt[n];return a&&a.indexOf(",")<0&&(n=a),n in on&&n!==xt&&(e._gsap.x||ln(e,"x"))?r&&jp===r?n==="scale"?Gv:Uv:(jp=r||{})&&(n==="scale"?Yv:Vv):e.style&&!Io(e.style[n])?Ov:~n.indexOf("-")?Wv:al(e,n)},core:{_removeProperty:zn,_getMatrix:pl}};yt.utils.checkPrefix=hr,yt.core.getStyleSaver=Ip,(function(t,e,n,r){var a=bt(t+","+e+","+n,function(i){on[i]=1});bt(e,function(i){vt.units[i]="deg",Op[i]=1}),Kt[a[13]]=t+","+e,bt(r,function(i){var s=i.split(":");Kt[s[1]]=a[s[0]]})})("x,y,z,scale,scaleX,scaleY,xPercent,yPercent","rotation,rotationX,rotationY,skewX,skewY","transform,transformOrigin,svgOrigin,force3D,smoothOrigin,transformPerspective","0:translateX,1:translateY,2:translateZ,8:rotate,8:rotationZ,8:rotateZ,9:rotateX,10:rotateY"),bt("x,y,z,top,right,bottom,left,width,height,fontSize,padding,margin,perspective",function(t){vt.units[t]="px"}),yt.registerPlugin(_l);var yl=yt.registerPlugin(_l)||yt,a1=yl.core.Tween;const i1=Object.freeze(Object.defineProperty({__proto__:null,Back:Mv,Bounce:Fv,CSSPlugin:_l,Circ:Pv,Cubic:Cv,Elastic:Dv,Expo:Bv,Linear:wv,Power0:_v,Power1:yv,Power2:xv,Power3:vv,Power4:Sv,Quad:kv,Quart:Tv,Quint:Nv,Sine:Iv,SteppedEase:$v,Strong:jv,TimelineLite:ct,TimelineMax:ct,TweenLite:Ye,TweenMax:a1,default:yl,gsap:yl},Symbol.toStringTag,{value:"Module"}));g.Account=Il,g.ActionLink=ig,g.AdaptiveDataGrid=gs,g.AnimationDurationFast=Xu,g.AnimationDurationNormal=Ku,g.AnimationDurationSlow=Zu,g.AnimationEasingBounce=td,g.AnimationEasingEaseIn=Ju,g.AnimationEasingEaseInOut=ed,g.AnimationEasingEaseOut=Qu,g.AppointmentCard=hs,g.AriaDataGrid=Oc,g.AriaTabsDataGrid=Ua,g.AriaTabsDataGridAdaptive=gs,g.BackLink=wa,g.BorderColorCard=zs,g.BorderColorCardHover=Os,g.BorderColorDefault=Rs,g.BorderColorError=Ws,g.BorderColorForm=Hs,g.BorderRadiusLarge=gd,g.BorderRadiusMedium=pd,g.BorderRadiusNone=hd,g.BorderRadiusSmall=md,g.BorderWidthCardBottom=cd,g.BorderWidthDefault=sd,g.BorderWidthFormElement=od,g.BorderWidthFormElementError=ld,g.BorderWidthPanel=ud,g.BorderWidthTableCell=fd,g.BorderWidthTableHeader=dd,g.Breadcrumb=Bc,g.BreakpointDesktop=Zh,g.BreakpointLargeDesktop=Jh,g.BreakpointMobile=Xh,g.BreakpointTablet=Kh,g.Button=et,g.ButtonBorderRadius=Yf,g.ButtonBorderWidth=Gf,g.ButtonPrimaryBackgroundActive=If,g.ButtonPrimaryBackgroundDefault=$f,g.ButtonPrimaryBackgroundDisabled=Bf,g.ButtonPrimaryBackgroundHover=Ff,g.ButtonPrimaryBorderDefault=Af,g.ButtonPrimaryBorderFocus=Ef,g.ButtonPrimaryTextDefault=Pf,g.ButtonPrimaryTextDisabled=Lf,g.ButtonSecondaryBackgroundActive=Of,g.ButtonSecondaryBackgroundDefault=Rf,g.ButtonSecondaryBackgroundHover=zf,g.ButtonSecondaryBackgroundSolid=Hf,g.ButtonSecondaryBorderDefault=Uf,g.ButtonSecondaryTextDefault=Wf,g.ButtonShadowSize=Vf,g.ButtonSpacingPaddingHorizontalDesktop=fo,g.ButtonSpacingPaddingHorizontalMobile=co,g.ButtonSpacingPaddingVerticalDesktop=uo,g.ButtonSpacingPaddingVerticalMobile=lo,g.ButtonTypographyWeight=qf,g.Card=cs,g.CardBackgroundDefault=Xf,g.CardBorderBottom=Jf,g.CardBorderDefault=Kf,g.CardBorderHover=Zf,g.CardBorderWidthBottom=rh,g.CardBorderWidthDefault=nh,g.CardGroup=Jb,g.CardGroupItem=Qb,g.CardShadowDefault=ah,g.CardShadowHover=ih,g.CardSpacingHeadingMargin=po,g.CardSpacingPaddingDesktop=mo,g.CardSpacingPaddingMobile=ho,g.CardTextDescription=eh,g.CardTextHeading=Qf,g.CardTextLink=th,g.CareCard=e_,g.CharacterCount=hg,g.Checkbox=Bl,g.Checkboxes=Pl,g.ColorBorderDefault=Nd,g.ColorBorderSecondary=jd,g.ColorButtonLoginActive=tf,g.ColorButtonLoginBackground=Qd,g.ColorButtonLoginHover=ef,g.ColorButtonLoginShadow=nf,g.ColorButtonPrimaryActive=Pd,g.ColorButtonPrimaryBackground=Fd,g.ColorButtonPrimaryHover=Bd,g.ColorButtonPrimaryShadow=Ld,g.ColorButtonPrimaryText=Id,g.ColorButtonReverseActive=Vd,g.ColorButtonReverseBackground=Ud,g.ColorButtonReverseHover=Yd,g.ColorButtonReverseShadow=qd,g.ColorButtonReverseText=Gd,g.ColorButtonSecondaryActive=Od,g.ColorButtonSecondaryBackground=Ad,g.ColorButtonSecondaryBackgroundSolid=Ed,g.ColorButtonSecondaryBorder=Rd,g.ColorButtonSecondaryHover=zd,g.ColorButtonSecondaryShadow=Wd,g.ColorButtonSecondaryText=Hd,g.ColorButtonWarningActive=Zd,g.ColorButtonWarningBackground=Xd,g.ColorButtonWarningHover=Kd,g.ColorButtonWarningShadow=Jd,g.ColorError=Dd,g.ColorFocusBackground=Cd,g.ColorFocusText=Td,g.ColorFormBackground=$d,g.ColorFormBorder=Md,g.ColorGrey1=ro,g.ColorGrey2=ao,g.ColorGrey3=io,g.ColorGrey4=so,g.ColorGrey5=oo,g.ColorLinkActive=wd,g.ColorLinkDefault=vd,g.ColorLinkHover=Sd,g.ColorLinkVisited=kd,g.ColorPrimaryBlack=Ys,g.ColorPrimaryBlue=Us,g.ColorPrimaryDarkPink=Xs,g.ColorPrimaryGreen=Vs,g.ColorPrimaryPurple=qs,g.ColorPrimaryRed=Ks,g.ColorPrimaryWhite=Gs,g.ColorPrimaryYellow=Zs,g.ColorSecondaryAquaGreen=to,g.ColorSecondaryOrange=eo,g.ColorSecondaryPaleYellow=Js,g.ColorSecondaryPink=no,g.ColorSecondaryWarmYellow=Qs,g.ColorTextPrimary=bd,g.ColorTextPrint=xd,g.ColorTextReverse=yd,g.ColorTextSecondary=_d,g.Column=Gn,g.ComponentBlur=Tf,g.ComponentBreadcrumbChevronMarginLeft=_f,g.ComponentBreadcrumbChevronMarginRight=yf,g.ComponentBreadcrumbPaddingTopDesktop=vf,g.ComponentBreadcrumbPaddingTopMobile=xf,g.ComponentButtonPaddingDesktopHorizontal=of,g.ComponentButtonPaddingDesktopVertical=sf,g.ComponentButtonPaddingMobileHorizontal=af,g.ComponentButtonPaddingMobileVertical=rf,g.ComponentButtonShadowSize=lf,g.ComponentCardHeadingMargin=pf,g.ComponentCardPaddingDesktop=mf,g.ComponentCardPaddingMobile=hf,g.ComponentDetails=jf,g.ComponentExpander=Df,g.ComponentFormCheckboxLabelPadding=ff,g.ComponentFormCheckboxSize=df,g.ComponentFormInputMinHeight=cf,g.ComponentFormInputPadding=uf,g.ComponentLink=Nf,g.ComponentPagination=Mf,g.ComponentPanelPaddingDesktop=bf,g.ComponentPanelPaddingMobile=gf,g.ComponentSpread=Cf,g.ComponentSummaryListCellPaddingHorizontal=wf,g.ComponentSummaryListCellPaddingVertical=Sf,g.ComponentSummaryListRowMargin=kf,g.Container=Pi,g.ContentsList=Zb,g.DEFAULT_FONT_CONFIG=Mo,g.DashboardSummaryGrid=f_,g.DateInput=Ng,g.Details=Lc,g.DoDontList=Ac,g.ElevationHigh=$m,g.ElevationLow=Dm,g.ElevationMedium=Mm,g.ElevationNone=jm,g.ErrorMessage=Ai,g.ErrorSummary=Tg,g.Expander=Ec,g.FRUTIGER_FONT_FILES=ht,g.Fieldset=Ta,g.FocusOutlineOffset=km,g.FocusOutlineStyle=Cm,g.FocusOutlineWidth=wm,g.FocusShadowButton=Nm,g.FocusShadowInput=Tm,g.FontFamilyBase=Ir,g.FontFamilyFallback=Br,g.FontFamilyPrint=Pr,g.FontLineHeightBase=pi,g.FontSize14Mobile=Rr,g.FontSize14Print=zr,g.FontSize14Tablet=Hr,g.FontSize16Mobile=Or,g.FontSize16Print=Ur,g.FontSize16Tablet=Wr,g.FontSize19Mobile=Gr,g.FontSize19Print=Vr,g.FontSize19Tablet=Yr,g.FontSize22Mobile=qr,g.FontSize22Print=Kr,g.FontSize22Tablet=Xr,g.FontSize26Mobile=Zr,g.FontSize26Print=Qr,g.FontSize26Tablet=Jr,g.FontSize36Mobile=ea,g.FontSize36Print=na,g.FontSize36Tablet=ta,g.FontSize48Mobile=ra,g.FontSize48Print=ia,g.FontSize48Tablet=aa,g.FontSizeBase=mi,g.FontWeightBold=Ar,g.FontWeightLight=Er,g.FontWeightNormal=Lr,g.Footer=Ei,g.FormBorderRadius=Ch,g.FormBorderWidthDefault=wh,g.FormBorderWidthError=kh,g.FormErrorTextDefault=xh,g.FormErrorTypographyWeight=vh,g.FormHintTextDefault=Sh,g.FormInputBackgroundDefault=sh,g.FormInputBackgroundDisabled=lh,g.FormInputBackgroundError=ch,g.FormInputBackgroundFocus=oh,g.FormInputBorderDefault=uh,g.FormInputBorderDisabled=hh,g.FormInputBorderError=fh,g.FormInputBorderFocus=dh,g.FormInputTextDefault=mh,g.FormInputTextDisabled=gh,g.FormInputTextPlaceholder=ph,g.FormLabelTextDefault=bh,g.FormLabelTextRequired=_h,g.FormLabelTypographyWeight=yh,g.FormSpacingCheckboxLabelPadding=yo,g.FormSpacingCheckboxSize=_o,g.FormSpacingInputMinHeight=bo,g.FormSpacingInputPadding=go,g.GanttChart=Xb,g.Grid=Na,g.GridGutter=em,g.GridGutterHalf=tm,g.GridPageWidth=Qh,g.Header=ja,g.HeaderSSR=Ig,g.HeaderSearch=Ol,g.HeaderStatic=ja,g.Heading=Pt,g.HeadingsNhsukHeadingL=Et,g.HeadingsNhsukHeadingM=Rt,g.HeadingsNhsukHeadingS=Ht,g.HeadingsNhsukHeadingXl=At,g.HeadingsNhsukHeadingXs=zt,g.Hero=Ul,g.Hint=Bi,g.Images=o_,g.Input=ka,g.InsetText=t_,g.Label=Ca,g.LayoutColumnActions=qh,g.LayoutColumnFull=Uh,g.LayoutColumnHalf=Gh,g.LayoutColumnQuarter=Vh,g.LayoutColumnThird=Yh,g.LayoutContainerMaxWidth=Wh,g.List=Rl,g.MainWrapper=Li,g.MedicationCard=ms,g.NHSBodyText=sx,g.NHSBodyTextLarge=ox,g.NHSBodyTextSmall=lx,g.NHSHeading1=tx,g.NHSHeading2=nx,g.NHSHeading3=rx,g.NHSHeading4=ax,g.NHSHeading5=ix,g.NHSLedeText=cx,g.NHSLedeTextSmall=ux,g.NHSThemeProvider=Fg,g.NHS_FALLBACK_FONT_STACK=kx,g.NHS_FONT_STACK=wx,g.NavigationSplitView=su,g.PageTemplate=O_,g.Pagination=Kb,g.Panel=Pc,g.ParagraphsBody=Ot,g.ParagraphsBodyLarge=Wt,g.ParagraphsBodySmall=Ut,g.ParagraphsLedeText=Gt,g.ParagraphsLedeTextSmall=Yt,g.PatientCard=fs,g.ProductRoadmap=lu,g.Radios=mg,g.RadiosServer=pg,g.ResponsiveDataGrid=gs,g.ResponsiveDataGridDemo=z_,g.Row=fn,g.SPC=Jy,g.SPCChart=qu,g.Select=_r,g.SelectOption=Al,g.ShadowButtonDefault=bm,g.ShadowButtonFocus=xm,g.ShadowButtonSecondary=_m,g.ShadowButtonWarning=ym,g.ShadowCardDefault=vm,g.ShadowCardHover=Sm,g.SizeButtonMinHeightDesktop=Oh,g.SizeButtonMinHeightMobile=zh,g.SizeFormControlLarge=Ih,g.SizeFormControlMedium=Fh,g.SizeFormControlSmall=$h,g.SizeFormInputWidth2xl=Rh,g.SizeFormInputWidth3xl=Hh,g.SizeFormInputWidthLg=Ah,g.SizeFormInputWidthMd=Lh,g.SizeFormInputWidthSm=Ph,g.SizeFormInputWidthXl=Eh,g.SizeFormInputWidthXs=Bh,g.SizeIconExtraLarge=Dh,g.SizeIconLarge=jh,g.SizeIconMedium=Nh,g.SizeIconNhsDefault=Mh,g.SizeIconSmall=Th,g.SkipLink=ls,g.SlotMatrix=d_,g.SortStatusControl=__,g.Spacing0=xo,g.Spacing1=vo,g.Spacing2=So,g.Spacing3=wo,g.Spacing4=ko,g.Spacing5=Co,g.Spacing6=To,g.Spacing7=No,g.Spacing8=jo,g.Spacing9=Do,g.SpacingResponsive0Mobile=qa,g.SpacingResponsive0Tablet=Xa,g.SpacingResponsive1Mobile=Ka,g.SpacingResponsive1Tablet=Za,g.SpacingResponsive2Mobile=Ja,g.SpacingResponsive2Tablet=Qa,g.SpacingResponsive3Mobile=ei,g.SpacingResponsive3Tablet=ti,g.SpacingResponsive4Mobile=ni,g.SpacingResponsive4Tablet=ri,g.SpacingResponsive5Mobile=ai,g.SpacingResponsive5Tablet=ii,g.SpacingResponsive6Mobile=si,g.SpacingResponsive6Tablet=oi,g.SpacingResponsive7Mobile=li,g.SpacingResponsive7Tablet=ci,g.SpacingResponsive8Mobile=ui,g.SpacingResponsive8Tablet=di,g.SpacingResponsive9Mobile=fi,g.SpacingResponsive9Tablet=hi,g.SpacingUtilities=_g,g.StateDisabledBackground=mm,g.StateDisabledBorder=pm,g.StateDisabledText=gm,g.StateErrorBackground=nm,g.StateErrorBorder=rm,g.StateErrorText=am,g.StateInfoBackground=dm,g.StateInfoBorder=fm,g.StateInfoText=hm,g.StateSuccessBackground=im,g.StateSuccessBorder=sm,g.StateSuccessText=om,g.StateWarningBackground=lm,g.StateWarningBorder=cm,g.StateWarningText=um,g.SummaryCard=zc,g.SummaryList=n_,g.Table=r_,g.Tabs=a_,g.Tag=st,g.TaskList=Rc,g.Textarea=Ll,g.TransactionalPageTemplate=W_,g.TransitionButtonDefault=nd,g.TransitionButtonShadow=rd,g.TransitionCardHover=id,g.TransitionInputFocus=ad,g.VitalsCard=ps,g.WIDTH_FRACTIONS=Sg,g.WarningCallout=s_,g.WidthContainer=bs,g.WidthUtilities=xg,g.checkFrutigerLoaded=Cx,g.createGenericTabsConfig=Ya,g.createTCHTabsConfig=k_,g.generateFrutigerFontFace=vx,g.getResponsiveStyles=ex,g.getSpacingClass=yg,g.getWidthClass=vg,g.preloadFrutigerFonts=Sx,g.tchDataConfig=Uc,g.useColors=fx,g.useComponentSpacing=gx,g.useNHSHeadings=bx,g.useNHSParagraphs=_x,g.useNHSTheme=Dg,g.useNHSTypographySystem=yx,g.useNavigationSplitDrill=xx,g.useNavigationSplitUrlSync=iu,g.useNhsFdpBreakpoints=_s,g.useResponsiveSpacing=px,g.useResponsiveValue=U_,g.useSpacing=hx,g.useTokens=dx,g.useTypography=mx,Object.defineProperty(g,Symbol.toStringTag,{value:"Module"})}));
//# sourceMappingURL=index.umd.js.map
