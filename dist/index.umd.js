(function(k,P){typeof exports=="object"&&typeof module<"u"?P(exports,require("react"),require("react-dom")):typeof define=="function"&&define.amd?define(["exports","react","react-dom"],P):(k=typeof globalThis<"u"?globalThis:k||self,P(k.NHSFDPDesignSystem={},k.React,k.ReactDOM))})(this,(function(k,P,Hv){"use strict";function zv(e){const t=Object.create(null,{[Symbol.toStringTag]:{value:"Module"}});if(e){for(const n in e)if(n!=="default"){const r=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(t,n,r.get?r:{enumerable:!0,get:()=>e[n]})}}return t.default=e,Object.freeze(t)}const ne=zv(P);function Uv(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var ra={exports:{}},bo={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ff;function Wv(){if(Ff)return bo;Ff=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(r,i,o){var s=null;if(o!==void 0&&(s=""+o),i.key!==void 0&&(s=""+i.key),"key"in i){o={};for(var l in i)l!=="key"&&(o[l]=i[l])}else o=i;return i=o.ref,{$$typeof:e,type:r,key:s,ref:i!==void 0?i:null,props:o}}return bo.Fragment=t,bo.jsx=n,bo.jsxs=n,bo}var vo={};/**
 * @license React
 * react-jsx-runtime.development.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $f;function Gv(){return $f||($f=1,process.env.NODE_ENV!=="production"&&(function(){function e(T){if(T==null)return null;if(typeof T=="function")return T.$$typeof===_?null:T.displayName||T.name||null;if(typeof T=="string")return T;switch(T){case m:return"Fragment";case C:return"Profiler";case y:return"StrictMode";case b:return"Suspense";case S:return"SuspenseList";case v:return"Activity"}if(typeof T=="object")switch(typeof T.tag=="number"&&console.error("Received an unexpected object in getComponentNameFromType(). This is likely a bug in React. Please file an issue."),T.$$typeof){case g:return"Portal";case j:return(T.displayName||"Context")+".Provider";case N:return(T._context.displayName||"Context")+".Consumer";case w:var X=T.render;return T=T.displayName,T||(T=X.displayName||X.name||"",T=T!==""?"ForwardRef("+T+")":"ForwardRef"),T;case M:return X=T.displayName||null,X!==null?X:e(T.type)||"Memo";case x:X=T._payload,T=T._init;try{return e(T(X))}catch{}}return null}function t(T){return""+T}function n(T){try{t(T);var X=!1}catch{X=!0}if(X){X=console;var O=X.error,$=typeof Symbol=="function"&&Symbol.toStringTag&&T[Symbol.toStringTag]||T.constructor.name||"Object";return O.call(X,"The provided key is an unsupported type %s. This value must be coerced to a string before using it here.",$),t(T)}}function r(T){if(T===m)return"<>";if(typeof T=="object"&&T!==null&&T.$$typeof===x)return"<...>";try{var X=e(T);return X?"<"+X+">":"<...>"}catch{return"<...>"}}function i(){var T=E.A;return T===null?null:T.getOwner()}function o(){return Error("react-stack-top-frame")}function s(T){if(D.call(T,"key")){var X=Object.getOwnPropertyDescriptor(T,"key").get;if(X&&X.isReactWarning)return!1}return T.key!==void 0}function l(T,X){function O(){I||(I=!0,console.error("%s: `key` is not a prop. Trying to access it will result in `undefined` being returned. If you need to access the same value within the child component, you should pass it as a different prop. (https://react.dev/link/special-props)",X))}O.isReactWarning=!0,Object.defineProperty(T,"key",{get:O,configurable:!0})}function c(){var T=e(this.type);return L[T]||(L[T]=!0,console.error("Accessing element.ref was removed in React 19. ref is now a regular prop. It will be removed from the JSX Element type in a future release.")),T=this.props.ref,T!==void 0?T:null}function u(T,X,O,$,V,Y,R,J){return O=Y.ref,T={$$typeof:h,type:T,key:X,props:Y,_owner:V},(O!==void 0?O:null)!==null?Object.defineProperty(T,"ref",{enumerable:!1,get:c}):Object.defineProperty(T,"ref",{enumerable:!1,value:null}),T._store={},Object.defineProperty(T._store,"validated",{configurable:!1,enumerable:!1,writable:!0,value:0}),Object.defineProperty(T,"_debugInfo",{configurable:!1,enumerable:!1,writable:!0,value:null}),Object.defineProperty(T,"_debugStack",{configurable:!1,enumerable:!1,writable:!0,value:R}),Object.defineProperty(T,"_debugTask",{configurable:!1,enumerable:!1,writable:!0,value:J}),Object.freeze&&(Object.freeze(T.props),Object.freeze(T)),T}function d(T,X,O,$,V,Y,R,J){var te=X.children;if(te!==void 0)if($)if(B(te)){for($=0;$<te.length;$++)f(te[$]);Object.freeze&&Object.freeze(te)}else console.error("React.jsx: Static children should always be an array. You are likely explicitly calling React.jsxs or React.jsxDEV. Use the Babel transform instead.");else f(te);if(D.call(X,"key")){te=e(T);var K=Object.keys(X).filter(function(ye){return ye!=="key"});$=0<K.length?"{key: someKey, "+K.join(": ..., ")+": ...}":"{key: someKey}",ee[te+$]||(K=0<K.length?"{"+K.join(": ..., ")+": ...}":"{}",console.error(`A props object containing a "key" prop is being spread into JSX:
  let props = %s;
  <%s {...props} />
React keys must be passed directly to JSX without using spread:
  let props = %s;
  <%s key={someKey} {...props} />`,$,te,K,te),ee[te+$]=!0)}if(te=null,O!==void 0&&(n(O),te=""+O),s(X)&&(n(X.key),te=""+X.key),"key"in X){O={};for(var oe in X)oe!=="key"&&(O[oe]=X[oe])}else O=X;return te&&l(O,typeof T=="function"?T.displayName||T.name||"Unknown":T),u(T,te,Y,V,i(),O,R,J)}function f(T){typeof T=="object"&&T!==null&&T.$$typeof===h&&T._store&&(T._store.validated=1)}var p=P,h=Symbol.for("react.transitional.element"),g=Symbol.for("react.portal"),m=Symbol.for("react.fragment"),y=Symbol.for("react.strict_mode"),C=Symbol.for("react.profiler"),N=Symbol.for("react.consumer"),j=Symbol.for("react.context"),w=Symbol.for("react.forward_ref"),b=Symbol.for("react.suspense"),S=Symbol.for("react.suspense_list"),M=Symbol.for("react.memo"),x=Symbol.for("react.lazy"),v=Symbol.for("react.activity"),_=Symbol.for("react.client.reference"),E=p.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,D=Object.prototype.hasOwnProperty,B=Array.isArray,A=console.createTask?console.createTask:function(){return null};p={react_stack_bottom_frame:function(T){return T()}};var I,L={},F=p.react_stack_bottom_frame.bind(p,o)(),G=A(r(o)),ee={};vo.Fragment=m,vo.jsx=function(T,X,O,$,V){var Y=1e4>E.recentlyCreatedOwnerStacks++;return d(T,X,O,!1,$,V,Y?Error("react-stack-top-frame"):F,Y?A(r(T)):G)},vo.jsxs=function(T,X,O,$,V){var Y=1e4>E.recentlyCreatedOwnerStacks++;return d(T,X,O,!0,$,V,Y?Error("react-stack-top-frame"):F,Y?A(r(T)):G)}})()),vo}var Bf;function Yv(){return Bf||(Bf=1,process.env.NODE_ENV==="production"?ra.exports=Wv():ra.exports=Gv()),ra.exports}var a=Yv(),ic={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/var Of;function Vv(){return Of||(Of=1,(function(e){(function(){var t={}.hasOwnProperty;function n(){for(var o="",s=0;s<arguments.length;s++){var l=arguments[s];l&&(o=i(o,r(l)))}return o}function r(o){if(typeof o=="string"||typeof o=="number")return o;if(typeof o!="object")return"";if(Array.isArray(o))return n.apply(null,o);if(o.toString!==Object.prototype.toString&&!o.toString.toString().includes("[native code]"))return o.toString();var s="";for(var l in o)t.call(o,l)&&o[l]&&(s=i(s,l));return s}function i(o,s){return s?o?o+" "+s:o+s:o}e.exports?(n.default=n,e.exports=n):window.classNames=n})()})(ic)),ic.exports}var Zv=Vv();const Oe=Uv(Zv),qv=({text:e,href:t,openInNewWindow:n=!1,className:r,...i})=>{const o=Oe("nhsuk-action-link__link",r);return a.jsx("div",{className:"nhsuk-action-link",children:a.jsxs("a",{className:o,href:t,target:n?"_blank":void 0,rel:n?"noopener noreferrer":void 0,...i,children:[a.jsxs("svg",{className:"nhsuk-icon nhsuk-icon__arrow-right-circle",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24","aria-hidden":"true",width:"36",height:"36",children:[a.jsx("path",{d:"M0 0h24v24H0z",fill:"none"}),a.jsx("path",{d:"M12 2a10 10 0 0 0-9.95 9h11.64L9.74 7.05a1 1 0 0 1 1.41-1.41l5.66 5.65a1 1 0 0 1 0 1.42l-5.66 5.65a1 1 0 0 1-1.41 0 1 1 0 0 1 0-1.41L13.69 13H2.05A10 10 0 1 0 12 2z"})]}),a.jsx("span",{className:"nhsuk-action-link__text",children:e})]})})},oc=({ariaLabel:e="Account",items:t=[],className:n,variant:r="default"})=>{if(!t||t.length===0)return null;const i=o=>{const s=o.icon?a.jsx("svg",{className:"nhsuk-icon nhsuk-icon__user",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24","aria-hidden":"true",focusable:"false",role:"img","aria-label":o.icon===!0?"User":void 0,children:a.jsx("path",{d:"M12 1a11 11 0 1 1 0 22 11 11 0 0 1 0-22Zm0 2a9 9 0 0 0-5 16.5V18a4 4 0 0 1 4-4h2a4 4 0 0 1 4 4v1.5A9 9 0 0 0 12 3Zm0 3a3.5 3.5 0 1 1-3.5 3.5A3.4 3.4 0 0 1 12 6Z"})}):null,l=o.html?a.jsx("span",{dangerouslySetInnerHTML:{__html:o.html}}):o.text,c=a.jsxs(a.Fragment,{children:[s,l]});return o.href?a.jsx("a",{className:"nhsuk-account__link nhsuk-header__account-link",href:o.href,children:c}):o.action?a.jsx("form",{className:"nhsuk-account__form",action:o.action,method:o.method||"post",children:a.jsx("button",{className:"nhsuk-account__button",type:"submit",role:"button",children:c})}):a.jsx("span",{children:c})};return a.jsx("nav",{className:Oe("nhsuk-account",{"nhsuk-account--white":r==="white"},n),"aria-label":e,children:a.jsx("ul",{className:"nhsuk-account__list",children:t.map((o,s)=>o&&a.jsx("li",{className:Oe("nhsuk-account__item nhsuk-header__account-item",o.className),children:i(o)},s))})})};var sc=(e=>(e.Primary="primary",e.Secondary="secondary",e.Reverse="reverse",e.Warning="warning",e.Login="login",e.Metric="metric",e))(sc||{}),ac=(e=>(e.Small="small",e.Default="default",e.Large="large",e))(ac||{});function Xv(e){const t=e.variant||"primary",n=e.size||"default",r=!!e.fullWidth,i=["nhs-aria-button",`nhs-aria-button--${t}`,n!=="default"?`nhs-aria-button--${n}`:"",r?"nhs-aria-button--full-width":"",e.className||""].filter(Boolean).join(" ");return{tag:e.href?"a":"button",classes:i,data:{module:"nhs-button"},attrs:e.href?{href:e.href,role:"button"}:{type:"button"},preventDoubleClick:!!e.preventDoubleClick}}const{forwardRef:Jv,useCallback:Lr,useState:lc}=ne;function Kv(e,t){const{children:n,variant:r=sc.Primary,size:i=ac.Default,fullWidth:o=!1,className:s="",preventDoubleClick:l=!1,...c}=e,[u,d]=lc(!1),[f,p]=lc(!1),[h,g]=lc(!1),m=Xv({variant:r,size:i,fullWidth:o,className:s,preventDoubleClick:l,href:"href"in c?c.href:void 0}),y="disabled"in c?c.disabled:c["aria-disabled"]==="true",C={...u&&{"data-pressed":"true"},...f&&{"data-hovered":"true"},...h&&{"data-focused":"true"},...y&&{"data-disabled":"true"}},N=Lr(()=>!y&&d(!0),[y]),j=Lr(()=>d(!1),[]),w=Lr(()=>!y&&p(!0),[y]),b=Lr(()=>{p(!1),d(!1)},[]),S=Lr(()=>g(!0),[]),M=Lr(()=>g(!1),[]),x=Lr(te=>{te.key===" "&&("href"in c||te.currentTarget.getAttribute("role")==="button")&&(te.preventDefault(),te.currentTarget.click())},[c]),v=Lr(te=>{if(l){const K=te.currentTarget;if(K.getAttribute("data-processing")==="true"){te.preventDefault();return}K.setAttribute("data-processing","true"),setTimeout(()=>{K.removeAttribute("data-processing")},1e3)}},[l]);if("href"in c&&c.href){const{id:te,style:K,title:oe,["aria-label"]:ye,["aria-describedby"]:Z,["aria-labelledby"]:se,tabIndex:de,...Ce}=c,be=c;return a.jsx("a",{ref:t,href:be.href,target:be.target,rel:be.rel,className:m.classes,role:"button",draggable:"false","data-module":"nhs-button",...C,...l&&{"data-prevent-double-click":"true"},...Ce,onKeyDown:q=>{be.onKeyDown?.(q),x(q)},onClick:q=>{be.onClick?.(q),v(q)},onMouseDown:q=>{be.onMouseDown?.(q),N()},onMouseUp:q=>{be.onMouseUp?.(q),j()},onMouseEnter:q=>{be.onMouseEnter?.(q),w()},onMouseLeave:q=>{be.onMouseLeave?.(q),b()},onFocus:q=>{be.onFocus?.(q),S()},onBlur:q=>{be.onBlur?.(q),M()},"aria-disabled":be["aria-disabled"],...be["aria-disabled"]==="true"&&{tabIndex:-1},id:te,style:K,title:oe,"aria-label":ye,"aria-describedby":Z,"aria-labelledby":se,tabIndex:de,children:n})}const{id:_,style:E,title:D,["aria-label"]:B,["aria-describedby"]:A,["aria-labelledby"]:I,tabIndex:L,name:F,value:G,form:ee,formAction:T,formEncType:X,formMethod:O,formNoValidate:$,formTarget:V,autoFocus:Y,...R}=c,J=c;return a.jsx("button",{ref:t,type:J.type||"button",disabled:J.disabled,className:m.classes,"data-module":"nhs-button",...C,...l&&{"data-prevent-double-click":"true"},...J.disabled&&{"aria-disabled":"true"},...R,onKeyDown:te=>{J.onKeyDown?.(te),x(te)},onClick:te=>{J.onClick?.(te),v(te)},onMouseDown:te=>{J.onMouseDown?.(te),N()},onMouseUp:te=>{J.onMouseUp?.(te),j()},onMouseEnter:te=>{J.onMouseEnter?.(te),w()},onMouseLeave:te=>{J.onMouseLeave?.(te),b()},onFocus:te=>{J.onFocus?.(te),S()},onBlur:te=>{J.onBlur?.(te),M()},id:_,style:E,title:D,"aria-label":B,"aria-describedby":A,"aria-labelledby":I,tabIndex:L,name:F,value:G,form:ee,formAction:T,formEncType:X,formMethod:O,formNoValidate:$,formTarget:V,autoFocus:Y,children:n})}const zt=Jv(Kv);zt.displayName="Button";const Li=({text:e="Back",html:t,href:n="#",className:r,element:i="a",onClick:o,...s})=>{const l=Oe("nhsuk-back-link",r),c=Oe("nhsuk-back-link__link"),u=()=>a.jsxs(a.Fragment,{children:[a.jsx("svg",{className:"nhsuk-icon nhsuk-icon__chevron-left",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24","aria-hidden":"true",height:"24",width:"24",children:a.jsx("path",{d:"M8.5 12c0-.3.1-.5.3-.7l5-5c.4-.4 1-.4 1.4 0s.4 1 0 1.4L10.9 12l4.3 4.3c.4.4.4 1 0 1.4s-1 .4-1.4 0l-5-5c-.2-.2-.3-.4-.3-.7z"})}),t?a.jsx("span",{dangerouslySetInnerHTML:{__html:t}}):e]});return a.jsx("div",{className:l,children:i==="button"?a.jsx("button",{className:c,onClick:o,type:"button",...s,children:u()}):a.jsx("a",{className:c,href:n,...s,children:u()})})};function Qv(e){const{color:t="default",noBorder:n,closable:r,disabled:i,className:o}=e;return{classes:["nhsuk-tag",t!=="default"?`nhsuk-tag--${t}`:"",n?"nhsuk-tag--no-border":"",r?"nhsuk-tag--closable":"",i?"nhsuk-tag--disabled":"",o||""].filter(Boolean).join(" "),showClose:!!r,disabled:!!i}}const pt=({text:e,html:t,children:n,color:r="default",noBorder:i=!1,closable:o=!1,onClose:s,disabled:l=!1,className:c,...u})=>{const d=Qv({color:r,noBorder:i,closable:o,disabled:l,className:c}),f=p=>{p.preventDefault(),p.stopPropagation(),!l&&s&&s()};return a.jsxs("strong",{className:d.classes,...u,children:[n||(t?a.jsx("span",{dangerouslySetInnerHTML:{__html:t}}):e),o&&a.jsx("button",{type:"button",className:"nhsuk-tag__close",onClick:f,disabled:l,"aria-label":"Remove",title:"Remove",children:"Ã—"})]})},Rf=({id:e,name:t,checked:n,defaultChecked:r=!1,disabled:i=!1,value:o="true",hint:s,errorMessage:l,className:c,children:u,onChange:d,onBlur:f,onFocus:p,attributes:h,...g})=>{const[m,y]=P.useState(r),C=n!==void 0,N=C?n:m;P.useEffect(()=>{C||y(r)},[r,C]);const j=x=>{const v=x.target.checked;C||y(v),d?.(v,x)},w=s?`${e}-hint`:void 0,b=l?`${e}-error`:void 0,S=[w,b].filter(Boolean).join(" ")||void 0,M=Oe("nhsuk-form-group",{"nhsuk-form-group--error":!!l},c);return a.jsx("div",{className:M,...g,children:a.jsx("div",{className:"nhsuk-checkboxes",children:a.jsxs("div",{className:"nhsuk-checkboxes__item",children:[a.jsx("input",{className:"nhsuk-checkboxes__input",id:e,name:t||e,type:"checkbox",value:o,checked:N,disabled:i,onChange:j,onBlur:f,onFocus:p,"aria-describedby":S,...h}),a.jsx("label",{className:"nhsuk-checkboxes__label",htmlFor:e,children:u}),s&&a.jsx("div",{id:w,className:"nhsuk-checkboxes__hint",children:s}),l&&a.jsxs("div",{id:b,className:"nhsuk-error-message nhsuk-checkboxes__error",children:[a.jsx("span",{className:"nhsuk-u-visually-hidden",children:"Error:"})," ",l]})]})})})};Rf.displayName="Checkbox";function Hf(e){const n=(e.type||"text")==="range";return{classes:["nhsuk-input",e.hasError?"nhsuk-input--error":"",n?"nhsuk-input--range":"",!n&&e.width&&e.width!=="full"?`nhsuk-input--width-${e.width}`:"",e.className||""].filter(Boolean).join(" "),isRange:n}}const ia=({id:e,name:t,type:n="text",value:r,defaultValue:i,placeholder:o,disabled:s=!1,readOnly:l=!1,required:c=!1,hasError:u=!1,describedBy:d,className:f,width:p="full",inputMode:h,autoComplete:g,maxLength:m,minLength:y,pattern:C,step:N,min:j,max:w,showValueLabels:b=!1,showCurrentValue:S=!1,valueLabels:M,onChange:x,onBlur:v,onFocus:_,onKeyDown:E,...D})=>{const[B,A]=P.useState(r||i||(n==="range"?j||"0":""));P.useEffect(()=>{r!==void 0&&A(r)},[r]);const I=V=>{const Y=V.target;A(Y.value),("type"in V&&V.nativeEvent||V.type==="keydown")&&x?.(V)},{classes:L,isRange:F}=Hf({type:n,hasError:u,width:p,className:f}),G=r!==void 0,ee={id:e,name:t,type:n,placeholder:o,disabled:s,readOnly:l,required:c,"aria-describedby":d,inputMode:h,autoComplete:g,maxLength:m,minLength:y,pattern:C,step:N,min:j,max:w,onChange:I,onBlur:v,onFocus:_,onKeyDown:V=>{if(F&&/[0-9]/.test(V.key)){const Y=(B?.toString()||"")+V.key;V.target.value=Y,I(V)}E?.(V)},...D},T=!G&&i!==void 0?{defaultValue:i}:{},X=G?{value:r}:{},O=()=>a.jsx("input",{className:L,...X,...T,"data-current-value":B,...ee}),$=F?a.jsxs("div",{className:"nhsuk-input-range-wrapper",children:[b&&a.jsxs("div",{className:"nhsuk-input-range-labels",children:[a.jsx("span",{className:"nhsuk-input-range-label nhsuk-input-range-label--min",children:M?.min||j||"0"}),O(),a.jsx("span",{className:"nhsuk-input-range-label nhsuk-input-range-label--max",children:M?.max||w||"100"})]}),!b&&O(),S&&a.jsx("div",{className:"nhsuk-input-range-current-value",children:a.jsxs("span",{className:"nhsuk-input-range-current-label",children:[M?.current||"Current value:"," ",a.jsx("strong",{children:B})]})})]}):null;return F?$:a.jsx("input",{className:L,id:e,name:t,type:n,value:r,...r===void 0&&i!==void 0?{defaultValue:i}:{},placeholder:o,disabled:s,readOnly:l,required:c,"aria-describedby":d,inputMode:h,autoComplete:g,maxLength:m,minLength:y,pattern:C,step:N,min:j,max:w,onChange:x,onBlur:v,onFocus:_,onKeyDown:E,...D})};function ex(e){const t=e.size||"m",n=["nhsuk-label",t!=="m"?`nhsuk-label--${t}`:"",e.className||""].filter(Boolean).join(" ");return{tag:e.isPageHeading?"h1":"label",classes:n,size:t,htmlFor:e.isPageHeading?void 0:e.htmlFor,isPageHeading:!!e.isPageHeading}}const oa=({htmlFor:e,className:t,isPageHeading:n=!1,size:r="m",children:i,...o})=>{const s=ex({size:r,isPageHeading:n,className:t,htmlFor:e}),l=s.tag;return a.jsx(l,{className:s.classes,htmlFor:s.htmlFor,...o,children:n?a.jsx("label",{className:"nhsuk-label-wrapper",htmlFor:e,children:i}):i})};function tx(e){const t=["nhsuk-fieldset",e.className||""].filter(Boolean).join(" "),n=e.legend?["nhsuk-fieldset__legend",e.legend.size?`nhsuk-fieldset__legend--${e.legend.size}`:"",e.legend.className||""].filter(Boolean).join(" "):void 0;return{fieldsetClasses:t,legendClasses:n,legendIsPageHeading:!!e.legend?.isPageHeading,describedBy:e.describedBy}}const sa=({children:e,legend:t,className:n,describedBy:r,...i})=>{const o=tx({className:n,describedBy:r,legend:t?{size:t.size,className:t.className,isPageHeading:t.isPageHeading}:void 0}),s=()=>{const l=t?.html?a.jsx("span",{dangerouslySetInnerHTML:{__html:t.html}}):t?.text;return o.legendIsPageHeading?a.jsx("h1",{className:"nhsuk-fieldset__heading",children:l}):l};return a.jsxs("fieldset",{className:o.fieldsetClasses,"aria-describedby":o.describedBy,...i,children:[t&&(t.text||t.html)&&a.jsx("legend",{className:o.legendClasses,children:s()}),e]})};function nx(e){const t=["nhsuk-checkboxes",e.small?"nhsuk-checkboxes--small":"",e.className||""].filter(Boolean).join(" "),n=["nhsuk-form-group",e.hasError?"nhsuk-form-group--error":""].filter(Boolean).join(" ");return{classes:t,formGroupClasses:n}}const zf=({items:e,name:t,idPrefix:n,legend:r,isPageHeading:i=!1,legendSize:o="l",hint:s,errorMessage:l,className:c="",small:u=!1,onChange:d,fieldsetAttributes:f,attributes:p,...h})=>{const[g,m]=P.useState(e.filter(x=>x.checked).map(x=>x.value)),y=n||t,C=s?`${y}-hint`:void 0,N=l?`${y}-error`:void 0,j=[C,N].filter(Boolean).join(" ")||void 0,w=(x,v)=>{let _;v?_=[...g,x]:_=g.filter(E=>E!==x),m(_),d?.(_)},b=()=>e.map((x,v)=>{const _=`${y}-${v+1}`,E=`${_}-conditional`,D=g.includes(x.value),B=x.disabled||!1;return a.jsxs("div",{className:"nhsuk-checkboxes__item",children:[a.jsx("input",{className:"nhsuk-checkboxes__input",id:_,name:t,type:"checkbox",value:x.value,checked:D,disabled:B,onChange:A=>w(x.value,A.target.checked),"aria-describedby":x.hint?`${_}-hint`:j,...x.conditional&&{"aria-controls":E,"aria-expanded":D?"true":"false"},...x.attributes}),a.jsx("label",{className:"nhsuk-checkboxes__label",htmlFor:_,children:x.text}),x.hint&&a.jsx("div",{id:`${_}-hint`,className:"nhsuk-checkboxes__hint",children:x.hint}),x.conditional&&a.jsx("div",{className:Oe("nhsuk-checkboxes__conditional",{"nhsuk-checkboxes__conditional--hidden":!D}),id:E,children:typeof x.conditional=="object"&&x.conditional!==null&&"label"in x.conditional&&"id"in x.conditional&&"name"in x.conditional?a.jsxs("div",{style:{marginTop:"16px"},children:[x.conditional.label&&a.jsx(oa,{htmlFor:x.conditional.id,children:x.conditional.label}),a.jsx(ia,{...x.conditional})]}):x.conditional})]},x.value)}),{classes:S,formGroupClasses:M}=nx({small:u,className:c,hasError:!!l});return a.jsx("div",{className:M,...p,...h,children:a.jsxs(sa,{legend:r?{text:r,isPageHeading:i,size:o}:void 0,describedBy:j,...f,children:[s&&a.jsx("div",{id:C,className:"nhsuk-hint",children:s}),l&&a.jsxs("div",{id:N,className:"nhsuk-error-message",children:[a.jsx("span",{className:"nhsuk-u-visually-hidden",children:"Error:"})," ",l]}),a.jsx("div",{className:S,children:b()})]})})};zf.displayName="Checkboxes";function rx(e){const t=e.resize??"vertical";return{classes:["nhsuk-textarea",e.hasError?"nhsuk-textarea--error":"",t!=="vertical"?`nhsuk-textarea--resize-${t}`:"",e.className||""].filter(Boolean).join(" "),describedBy:e.describedBy}}const Uf=({id:e,name:t,value:n,defaultValue:r,placeholder:i,disabled:o=!1,readOnly:s=!1,required:l=!1,hasError:c=!1,describedBy:u,className:d,rows:f=5,cols:p,maxLength:h,minLength:g,wrap:m="soft",resize:y="vertical",autoComplete:C,spellCheck:N,onChange:j,onBlur:w,onFocus:b,onKeyDown:S,...M})=>{const{classes:x,describedBy:v}=rx({hasError:c,resize:y,className:d,describedBy:u});return a.jsx("textarea",{className:x,id:e,name:t,value:n,defaultValue:r,placeholder:i,disabled:o,readOnly:s,required:l,"aria-describedby":v,rows:f,cols:p,maxLength:h,minLength:g,wrap:m,autoComplete:C,spellCheck:N,onChange:j,onBlur:w,onFocus:b,onKeyDown:S,...M})};function ix(e){return{classes:["nhsuk-hint",e.className||""].filter(Boolean).join(" "),id:e.id}}const cc=({id:e,className:t,children:n,...r})=>{const i=ix({id:e,className:t});return a.jsx("div",{className:i.classes,id:i.id,...r,children:n})},ox=({id:e,maxLength:t,maxWords:n,threshold:r=75,name:i,value:o,defaultValue:s,rows:l,className:c,countMessage:u,onCountChange:d,onChange:f,...p})=>{const h=o??s??"",[g,m]=P.useState(h),[y,C]=P.useState(0),[N,j]=P.useState(!1),[w,b]=P.useState(!1),S=P.useCallback(D=>n?D.trim()===""?0:D.trim().split(/\s+/).length:D.length,[n]);P.useEffect(()=>{const D=S(g),B=t||n||0,A=B-D,I=Math.floor(B*(r/100));C(A),j(D>B),b(D>=I||D>B),d&&d(D,A)},[g,t,n,r,S,d]);const M=D=>{const B=D.target.value;m(B),f&&f(D)},x=()=>{const D=t||n||0,B=n?"word":"character",A=n?"words":"characters";if(!w)return`You can enter up to ${D} ${D===1?B:A}`;if(N){const I=Math.abs(y);return`You have ${I} ${I===1?B:A} too many`}else return`You have ${y} ${y===1?B:A} remaining`},v=Oe("nhsuk-character-count",c),_=Oe("nhsuk-character-count__message",{"nhsuk-character-count__message--disabled":!w,"nhsuk-error-message":N},u?.classes),E=Oe("nhsuk-js-character-count",{"nhsuk-textarea--error":N});return a.jsxs("div",{className:v,"data-module":"nhsuk-character-count","data-maxlength":t,"data-maxwords":n,"data-threshold":r,"data-testid":"character-count",children:[a.jsx(Uf,{id:e,name:i,value:o!==void 0?g:void 0,defaultValue:o===void 0?s??g:void 0,rows:l,className:E,onChange:M,"aria-describedby":`${e}-info`,"aria-invalid":N||void 0,...p}),a.jsx(cc,{id:`${e}-info`,className:_,role:"status","aria-live":"polite",children:x()})]})};function sx(e){return{classes:["nhsuk-select",e.hasError?"nhsuk-select--error":"",e.className||""].filter(Boolean).join(" ")}}const Wf=({value:e,disabled:t=!1,selected:n=!1,className:r,children:i,...o})=>{const s=Oe("nhsuk-select__option",r);return a.jsx("option",{className:s,value:e,disabled:t,...o,children:i})},xo=({id:e,name:t,ariaLabel:n,value:r,defaultValue:i,disabled:o=!1,required:s=!1,hasError:l=!1,describedBy:c,className:u,multiple:d=!1,size:f,autoComplete:p,options:h,children:g,onChange:m,onBlur:y,onFocus:C,...N})=>{const{classes:j}=sx({hasError:l,className:u}),w=()=>h?h.map((S,M)=>a.jsx("option",{value:S.value,disabled:S.disabled,"data-initial-selected":S.selected||void 0,children:S.text},`${S.value}-${M}`)):null,b=i===void 0&&r===void 0&&h?h.find(S=>S.selected)?.value:void 0;return a.jsx("select",{className:j,id:e,name:t,"aria-label":n,value:r,defaultValue:i!==void 0?i:b,disabled:o,required:s,"aria-describedby":c,multiple:d,size:f,autoComplete:p,onChange:m,onBlur:y,onFocus:C,...N,children:g||w()})};xo.Option=Wf;function ax(e){return{classes:["nhsuk-radios",e.hasError?"nhsuk-radios--error":"",e.size==="small"?"nhsuk-radios--small":"",e.inline?"nhsuk-radios--inline":"",e.className||""].filter(Boolean).join(" "),describedBy:e.describedBy}}function Gf(e,{variant:t,selectedValue:n,enableBehaviourAttr:r,handleChange:i,handleBlur:o,handleFocus:s,handleKeyDown:l,itemsRef:c,InputComponent:u}){const{onChange:d,onBlur:f,onFocus:p,...h}=e,{name:g,hasError:m=!1,describedBy:y,className:C,size:N="normal",inline:j=!1,options:w,...b}=h,{classes:S,describedBy:M}=ax({hasError:m,size:N,inline:j,className:C,describedBy:y});return a.jsx(sa,{children:a.jsx("div",{className:S,...b,...r?{"data-nhs-behaviour":"radios"}:{},children:w.map((x,v)=>{const _=`${g}-${v}`,E=x.conditional?`${_}-conditional`:void 0,D=n===x.value;return a.jsxs("div",{className:"nhsuk-radios__item",children:[a.jsx("input",{className:"nhsuk-radios__input",id:_,name:g,type:"radio",value:x.value,disabled:x.disabled,...t==="client"?{checked:D,onChange:i,onBlur:o,onFocus:s,onKeyDown:l,ref:B=>{B&&c&&(c.current[v]=B)}}:{defaultChecked:D,"data-nhs-radios-input":!0},"aria-describedby":M}),a.jsx("label",{className:"nhsuk-radios__label",htmlFor:_,children:x.text}),x.hint&&a.jsx("div",{className:"nhsuk-radios__hint",children:x.hint}),x.conditional&&a.jsx("div",{className:Oe("nhsuk-radios__conditional",{"nhsuk-radios__conditional--hidden":!D}),id:E,...t==="server"?{"data-nhs-radios-conditional":!0}:{},children:typeof x.conditional=="object"&&x.conditional!==null&&"label"in x.conditional&&"id"in x.conditional&&"name"in x.conditional?a.jsxs("div",{style:{marginTop:"16px"},children:[x.conditional.label&&a.jsx(oa,{htmlFor:x.conditional.id,children:x.conditional.label}),a.jsx(u,{...x.conditional})]}):x.conditional})]},x.value)})})})}const lx=({value:e,defaultValue:t,onChange:n,onBlur:r,onFocus:i,...o})=>{const[s,l]=P.useState(e||t||""),c=P.useRef([]),u=P.useRef(s),d=h=>{const g=h.target.value;g!==u.current&&(u.current=g,l(g),n?.(h))},f=h=>{i?.(h)},p=P.useCallback(h=>{const{key:g}=h;if(!["ArrowDown","ArrowUp","ArrowRight","ArrowLeft"].includes(g))return;h.preventDefault();const m=c.current.filter(j=>j&&!j.disabled),y=m.indexOf(h.currentTarget);if(y===-1)return;let C=y;["ArrowDown","ArrowRight"].includes(g)?C=(y+1)%m.length:["ArrowUp","ArrowLeft"].includes(g)&&(C=(y-1+m.length)%m.length);const N=m[C];N&&(N.focus(),N.checked||N.click())},[]);return Gf({value:e,defaultValue:t,onChange:n,onBlur:r,onFocus:i,...o},{variant:"client",selectedValue:s,enableBehaviourAttr:!1,handleChange:d,handleBlur:r,handleFocus:f,handleKeyDown:p,itemsRef:c,InputComponent:ia})};function cx(e){const{id:t,name:n,type:r="text",value:i,defaultValue:o,placeholder:s,disabled:l=!1,readOnly:c=!1,required:u=!1,hasError:d=!1,describedBy:f,className:p,width:h="full",inputMode:g,autoComplete:m,maxLength:y,minLength:C,pattern:N,step:j,min:w,max:b,showValueLabels:S=!1,showCurrentValue:M=!1,valueLabels:x,onChange:v,onBlur:_,onFocus:E,onKeyDown:D,...B}=e,{classes:A,isRange:I}=Hf({type:r,hasError:d,width:h,className:p}),L={id:t,name:n,type:r,placeholder:s,disabled:l,readOnly:c,required:u,"aria-describedby":f,inputMode:g,autoComplete:m,maxLength:y,minLength:C,pattern:N,step:j,min:w,max:b,...B};if(I){const F=i??o??(typeof w<"u"?String(w):"0"),G=a.jsx("input",{className:A,...i!==void 0?{value:i}:{},...i===void 0&&o!==void 0?{defaultValue:o}:{},"data-current-value":F,...L});return a.jsxs("div",{className:"nhsuk-input-range-wrapper",children:[S?a.jsxs("div",{className:"nhsuk-input-range-labels",children:[a.jsx("span",{className:"nhsuk-input-range-label nhsuk-input-range-label--min",children:x?.min||w||"0"}),G,a.jsx("span",{className:"nhsuk-input-range-label nhsuk-input-range-label--max",children:x?.max||b||"100"})]}):G,M&&a.jsx("div",{className:"nhsuk-input-range-current-value",children:a.jsxs("span",{className:"nhsuk-input-range-current-label",children:[x?.current||"Current value:"," ",a.jsx("strong",{children:F})]})})]})}return a.jsx("input",{className:A,...i!==void 0?{value:i}:{},...i===void 0&&o!==void 0?{defaultValue:o}:{},...L})}const ux=({value:e,defaultValue:t,...n})=>{const r=e||t||"";return Gf({value:e,defaultValue:t,...n},{variant:"server",selectedValue:r,enableBehaviourAttr:!0,InputComponent:cx})};var Ar=(e=>(e.OneQuarter="one-quarter",e.OneThird="one-third",e.OneHalf="one-half",e.TwoThirds="two-thirds",e.ThreeQuarters="three-quarters",e.Full="full",e))(Ar||{}),Yf=(e=>(e.Mobile="mobile",e.Tablet="tablet",e.Desktop="desktop",e.LargeDesktop="large-desktop",e))(Yf||{}),Vf=(e=>(e.Left="left",e.Right="right",e))(Vf||{}),Zf=(e=>(e.Left="left",e.Center="center",e.Right="right",e))(Zf||{});const uc=({children:e,className:t,fluid:n=!1,maxWidth:r,style:i,...o})=>{const s=Oe({"nhsuk-width-container":!n,"nhsuk-width-container-fluid":n},t),l=r?{maxWidth:r,...i||{}}:i;return a.jsx("div",{className:s,style:l,...o,children:e})},mr=({children:e,className:t,style:n,align:r,rowGap:i,...o})=>{const s=Oe("nhsuk-grid-row",r?`nhsuk-grid-row-align-${r}`:void 0,t);return a.jsx("div",{className:s,style:n,...o,children:e})},Ai=({children:e,width:t=Ar.Full,mobileWidth:n,tabletWidth:r,desktopWidth:i,start:o,className:s,forceWidth:l=!1,style:c,align:u,...d})=>{const f=Oe({[`nhsuk-grid-column-${t}`]:!l,[`nhsuk-u-${t}`]:l,[`nhsuk-u-${n}-mobile`]:!!n,[`nhsuk-u-${r}-tablet`]:!!r,[`nhsuk-u-${i}-desktop`]:!!i,[`nhsuk-grid-column-start-${o}`]:o&&o>=1&&o<=7,...u?{[`nhsuk-grid-align-${u}`]:!0}:{}},s);return a.jsx("div",{className:f,style:c,...d,children:e})},aa=({children:e,className:t,style:n,rowGap:r=8,...i})=>{const o=P.Children.toArray(e),s=o[0],l=P.isValidElement(s)&&(s.type===mr||typeof s.props=="object"&&s.props&&"className"in s.props&&typeof s.props.className=="string"&&s.props.className.includes("nhsuk-grid-row")),c=typeof r=="number"?`${r}px`:r;let u=e;if(l)u=o.map((d,f)=>{if(!P.isValidElement(d))return d;const p=d,h=p.props||{},g=typeof h.className=="string"?h.className:"";if(!(p.type===mr||g.includes("nhsuk-grid-row")))return d;const y=h.rowGap,C=y!==void 0?typeof y=="number"?`${y}px`:y:c,N=f===0?void 0:C;if(!N)return d;const j={...h.style||{},marginTop:N};return P.cloneElement(p,{style:j})});else{const d={marginTop:void 0};u=a.jsx(mr,{style:d,children:e})}return a.jsx(uc,{className:t,style:n,...i,children:u})},dx=({children:e,type:t="bullet",size:n="medium",border:r=!1,className:i,role:o,as:s,...l})=>{const c=s||(t==="number"?"ol":"ul"),u=Oe("nhsuk-list",{"nhsuk-list--bullet":t==="bullet","nhsuk-list--number":t==="number","nhsuk-list--none":t==="none","nhsuk-list--border":r,[`nhsuk-list--${n}`]:n!=="medium"},i);return a.jsx(c,{className:u,role:o,...l,children:e})},fx=({children:e,className:t,...n})=>{const r=Oe("nhsuk-list__item",t);return a.jsx("li",{className:r,...n,children:e})},qf=dx;qf.Item=fx;const hx=({debug:e=!1,className:t,children:n,...r})=>{if(!n)return null;const i=["nhsuk-spacing-utilities",e&&"nhsuk-spacing-utilities--debug",t].filter(Boolean).join(" ");return a.jsx("div",{className:i,...r,children:n})},px={margin:e=>`nhsuk-u-margin-${e}`,marginTop:e=>`nhsuk-u-margin-top-${e}`,marginRight:e=>`nhsuk-u-margin-right-${e}`,marginBottom:e=>`nhsuk-u-margin-bottom-${e}`,marginLeft:e=>`nhsuk-u-margin-left-${e}`,padding:e=>`nhsuk-u-padding-${e}`,paddingTop:e=>`nhsuk-u-padding-top-${e}`,paddingRight:e=>`nhsuk-u-padding-right-${e}`,paddingBottom:e=>`nhsuk-u-padding-bottom-${e}`,paddingLeft:e=>`nhsuk-u-padding-left-${e}`,marginResponsive:e=>`nhsuk-u-margin-responsive-${e}`,marginTopResponsive:e=>`nhsuk-u-margin-top-responsive-${e}`,marginRightResponsive:e=>`nhsuk-u-margin-right-responsive-${e}`,marginBottomResponsive:e=>`nhsuk-u-margin-bottom-responsive-${e}`,marginLeftResponsive:e=>`nhsuk-u-margin-left-responsive-${e}`,paddingResponsive:e=>`nhsuk-u-padding-responsive-${e}`,paddingTopResponsive:e=>`nhsuk-u-padding-top-responsive-${e}`,paddingRightResponsive:e=>`nhsuk-u-padding-right-responsive-${e}`,paddingBottomResponsive:e=>`nhsuk-u-padding-bottom-responsive-${e}`,paddingLeftResponsive:e=>`nhsuk-u-padding-left-responsive-${e}`},mx=({debug:e=!1,className:t,children:n,...r})=>{if(!n)return null;const i=["nhsuk-width-utilities",e&&"nhsuk-width-utilities--debug",t].filter(Boolean).join(" ");return a.jsx("div",{className:i,...r,children:n})},gx={width:e=>`nhsuk-u-width-${e}`,widthTablet:e=>`nhsuk-u-width-${e}-tablet`},yx=["full","three-quarters","two-thirds","one-half","one-third","one-quarter"],dc=({as:e="main",size:t="default",className:n,children:r,...i})=>{const o=["nhsuk-main-wrapper",t==="large"&&"nhsuk-main-wrapper--l",t==="small"&&"nhsuk-main-wrapper--s",n].filter(Boolean).join(" ");return a.jsx(e,{className:o,...i,children:r})};function bx(e){switch(e){case"xxl":case"xl":return 1;case"l":return 2;case"m":return 3;case"s":return 4;case"xs":return 5;default:return 2}}function vx(e){const t=e.level??bx(e.size),n=["nhsuk-heading",e.size?`nhsuk-heading--${e.size}`:"",e.className||""].filter(Boolean).join(" "),r=e.marginBottom?{marginBottom:e.marginBottom}:void 0;return{tag:`h${t}`,classes:n,style:r}}const zn=({level:e,className:t,text:n,html:r,children:i,size:o,marginBottom:s,...l})=>{const c=vx({level:e,size:o,className:t,marginBottom:s}),u=i||(r?a.jsx("span",{dangerouslySetInnerHTML:{__html:r}}):n);return P.createElement(c.tag,{className:c.classes,style:c.style,...l},u)};function xx(e){return{classes:["nhsuk-error-message",e.className||""].filter(Boolean).join(" "),id:e.id,visuallyHiddenText:e.visuallyHiddenText??"Error:"}}const fc=({id:e,className:t,visuallyHiddenText:n="Error:",children:r,...i})=>{const o=xx({id:e,className:t,visuallyHiddenText:n});return a.jsxs("span",{className:o.classes,id:o.id,...i,children:[a.jsxs("span",{className:"nhsuk-u-visually-hidden",children:[o.visuallyHiddenText," "]}),r]})},_x=({titleText:e="There is a problem",titleHtml:t,descriptionText:n,descriptionHtml:r,errorList:i,className:o,children:s,...l})=>{const c=P.useRef(null);P.useEffect(()=>{c.current&&c.current.focus()},[]);const u=Oe("nhsuk-error-summary",o),d=()=>t?a.jsx("span",{dangerouslySetInnerHTML:{__html:t}}):e,f=()=>r?a.jsx("span",{dangerouslySetInnerHTML:{__html:r}}):n,p=h=>{const g=h.html?a.jsx("span",{dangerouslySetInnerHTML:{__html:h.html}}):h.text;return h.href?a.jsx("a",{href:h.href,...h.attributes,children:g}):g};return a.jsxs("div",{ref:c,className:u,"aria-labelledby":"error-summary-title",role:"alert",tabIndex:-1,"data-module":"nhsuk-error-summary",...l,children:[a.jsx("h2",{className:"nhsuk-error-summary__title",id:"error-summary-title",children:d()}),a.jsxs("div",{className:"nhsuk-error-summary__body",children:[s&&a.jsx("div",{className:"nhsuk-error-summary__description","data-role":"description",children:s}),!s&&(n||r)&&a.jsx("div",{className:"nhsuk-error-summary__description","data-role":"description",children:f()}),a.jsx("ul",{className:"nhsuk-list nhsuk-error-summary__list",role:"list",children:i.map((h,g)=>a.jsx("li",{children:p(h)},g))})]})]})},wx=({id:e,className:t,items:n,namePrefix:r,values:i={},fieldset:o,hint:s,errorMessage:l,onChange:c,...u})=>{const[d,f]=P.useState(()=>({day:i.day||"",month:i.month||"",year:i.year||""})),[p,h]=P.useState({}),g=I=>I%4===0&&I%100!==0||I%400===0,m=(I,L)=>{const F=[31,28,31,30,31,30,31,31,30,31,30,31];return I===2&&g(L)?29:F[I-1]},y=(I,L,F)=>{if(!I)return;if(!/^\d+$/.test(I))return"Day must be a number";const G=parseInt(I,10);if(G<1||G>31)return"Day must be between 1 and 31";if(L&&F){const ee=parseInt(L,10),T=parseInt(F,10);if(!isNaN(ee)&&!isNaN(T)&&ee>=1&&ee<=12){const X=m(ee,T);if(G>X)return`${["January","February","March","April","May","June","July","August","September","October","November","December"][ee-1]} ${T} only has ${X} days`}}},C=I=>{if(!I)return;if(!/^\d+$/.test(I))return"Month must be a number";const L=parseInt(I,10);if(L<1||L>12)return"Month must be between 1 and 12"},N=I=>{if(!I)return;if(!/^\d+$/.test(I))return"Year must be a number";const L=parseInt(I,10),F=new Date().getFullYear();if(L<1900||L>F+10)return`Year must be between 1900 and ${F+10}`},j=(I,L,F)=>{if(!I||!L||!F)return;const G=parseInt(I,10),ee=parseInt(L,10),T=parseInt(F,10);if(isNaN(G)||isNaN(ee)||isNaN(T)||ee<1||ee>12||T<1900)return;const X=m(ee,T);G<1||G>X},w=P.useCallback((I,L)=>{const F={...d,[I]:L};f(F),c&&c(F)},[d,c]),b=P.useCallback(I=>{const L=d[I];let F;if(I==="day")F=y(L,d.month,d.year);else if(I==="month"){if(F=C(L),!F&&d.day){const G=y(d.day,L,d.year);h(ee=>({...ee,day:G}))}}else if(I==="year"&&(F=N(L),!F&&d.day&&d.month)){const G=y(d.day,d.month,L);h(ee=>({...ee,day:G}))}if(h(G=>({...G,[I]:F})),d.day&&d.month&&d.year){const G=j(I==="day"?L:d.day,I==="month"?L:d.month,I==="year"?L:d.year);G&&h(ee=>({...ee,day:G}))}},[d,y,C,N,j]),S=P.useMemo(()=>[{name:"day",classes:"nhsuk-input--width-2",inputmode:"numeric",pattern:"[0-9]*"},{name:"month",classes:"nhsuk-input--width-2",inputmode:"numeric",pattern:"[0-9]*"},{name:"year",classes:"nhsuk-input--width-4",inputmode:"numeric",pattern:"[0-9]*"}],[]),M=n||S;let x=o?.describedBy||"";const v=s?`${e}-hint`:"",_=l?`${e}-error`:"";v&&(x=x?`${x} ${v}`:v),_&&(x=x?`${x} ${_}`:_);const E=Object.values(p).some(I=>I),D=Oe("nhsuk-form-group",{"nhsuk-form-group--error":l||E}),B=Oe("nhsuk-date-input",t),A=()=>a.jsxs(a.Fragment,{children:[s&&a.jsx(cc,{id:v,className:s.classes,children:s.html?a.jsx("span",{dangerouslySetInnerHTML:{__html:s.html}}):s.text}),l&&a.jsx(fc,{id:_,className:l.classes,children:l.html?a.jsx("span",{dangerouslySetInnerHTML:{__html:l.html}}):l.text}),Object.entries(p).map(([I,L])=>L?a.jsxs(fc,{id:`${e}-${I}-error`,className:"nhsuk-error-message",children:[a.jsx("span",{className:"nhsuk-u-visually-hidden",children:"Error:"})," ",L]},`${I}-error`):null),a.jsx("div",{className:B,id:e,"data-testid":"date-input",...u,children:M.map(I=>{const L=I.id||`${e}-${I.name}`,F=r?`${r}[${I.name}]`:I.name,G=I.label||I.name.charAt(0).toUpperCase()+I.name.slice(1),ee=p[I.name],T=d[I.name]||"";let X=x;if(ee){const O=`${e}-${I.name}-error`;X=X?`${X} ${O}`:O}return a.jsxs("div",{className:"nhsuk-date-input__item",children:[a.jsx(oa,{htmlFor:L,className:"nhsuk-date-input__label",children:G}),a.jsx(ia,{id:L,name:F,value:T,className:Oe("nhsuk-date-input__input",I.classes,{"nhsuk-input--error":ee}),inputMode:I.inputmode,autoComplete:I.autocomplete,pattern:I.pattern,"aria-describedby":X||void 0,hasError:!!ee,onChange:O=>w(I.name,O.target.value),onBlur:()=>b(I.name)})]},I.name)})})]});return a.jsx("div",{className:D,children:o?a.jsx(sa,{className:o.classes,legend:o.legend?{text:o.legend}:void 0,describedBy:x||void 0,children:A()}):A()})},Xf={animation:{AnimationDurationFast:"150ms",AnimationDurationNormal:"300ms",AnimationDurationSlow:"500ms",AnimationEasingEaseIn:"cubic-bezier(0.4, 0, 1, 1)",AnimationEasingEaseOut:"cubic-bezier(0, 0, 0.2, 1)",AnimationEasingEaseInOut:"cubic-bezier(0.4, 0, 0.2, 1)",AnimationEasingBounce:"cubic-bezier(0.68, -0.55, 0.265, 1.55)"},transition:{TransitionButtonDefault:"background-color 300ms cubic-bezier(0, 0, 0.2, 1)",TransitionButtonShadow:"box-shadow 150ms cubic-bezier(0, 0, 0.2, 1)",TransitionInputFocus:"border-color 150ms cubic-bezier(0, 0, 0.2, 1), box-shadow 150ms cubic-bezier(0, 0, 0.2, 1)",TransitionCardHover:"border-color 300ms cubic-bezier(0, 0, 0.2, 1)"},border:{BorderWidthDefault:"1px",BorderWidthFormElement:"2px",BorderWidthFormElementError:"4px",BorderWidthCardBottom:"4px",BorderWidthPanel:"4px",BorderWidthTableHeader:"2px",BorderWidthTableCell:"1px",BorderRadiusNone:"0px",BorderRadiusSmall:"4px",BorderRadiusMedium:"8px",BorderRadiusLarge:"12px",BorderColorDefault:"#d8dde0",BorderColorForm:"#4c6272",BorderColorCard:"#d8dde0",BorderColorCardHover:"#aeb7bd",BorderColorError:"#d5281b"},color:{ColorPrimaryBlue:"#005eb8",ColorPrimaryWhite:"#ffffff",ColorPrimaryBlack:"#212b32",ColorPrimaryGreen:"#007f3b",ColorPrimaryPurple:"#330072",ColorPrimaryDarkPink:"#7c2855",ColorPrimaryRed:"#d5281b",ColorPrimaryYellow:"#ffeb3b",ColorSecondaryPaleYellow:"#fff9c4",ColorSecondaryWarmYellow:"#ffb81c",ColorSecondaryOrange:"#ed8b00",ColorSecondaryAquaGreen:"#00a499",ColorSecondaryPink:"#ae2573",ColorGrey1:"#4c6272",ColorGrey2:"#768692",ColorGrey3:"#aeb7bd",ColorGrey4:"#d8dde0",ColorGrey5:"#f0f4f5",ColorTextPrimary:"#212b32",ColorTextSecondary:"#4c6272",ColorTextReverse:"#ffffff",ColorTextPrint:"#212b32",ColorLinkDefault:"#005eb8",ColorLinkHover:"#7c2855",ColorLinkActive:"#003087",ColorLinkVisited:"#330072",ColorFocusBackground:"#ffeb3b",ColorFocusText:"#212b32",ColorBorderDefault:"#d8dde0",ColorBorderSecondary:"#ffffff33",ColorError:"#d5281b",ColorFormBorder:"#4c6272",ColorFormBackground:"#ffffff",ColorButtonPrimaryBackground:"#007f3b",ColorButtonPrimaryText:"#ffffff",ColorButtonPrimaryHover:"#006530",ColorButtonPrimaryActive:"#004021",ColorButtonPrimaryShadow:"#004021",ColorButtonSecondaryBackground:"#00000000",ColorButtonSecondaryBackgroundSolid:"#ffffff",ColorButtonSecondaryBorder:"#005eb8",ColorButtonSecondaryText:"#005eb8",ColorButtonSecondaryHover:"#d9e5f2",ColorButtonSecondaryActive:"#c7daf0",ColorButtonSecondaryShadow:"#005eb8",ColorButtonReverseBackground:"#ffffff",ColorButtonReverseText:"#212b32",ColorButtonReverseHover:"#d9dde0",ColorButtonReverseActive:"#b3bcc2",ColorButtonReverseShadow:"#b3bcc2",ColorButtonWarningBackground:"#d5281b",ColorButtonWarningHover:"#aa2016",ColorButtonWarningActive:"#6a140e",ColorButtonWarningShadow:"#6a140e",ColorButtonLoginBackground:"#005eb8",ColorButtonLoginHover:"#004b93",ColorButtonLoginActive:"#002f5c",ColorButtonLoginShadow:"#002f5c"},component:{ComponentButtonPaddingMobileVertical:"8px",ComponentButtonPaddingMobileHorizontal:"16px",ComponentButtonPaddingDesktopVertical:"12px",ComponentButtonPaddingDesktopHorizontal:"16px",ComponentButtonShadowSize:"4px",ComponentFormInputMinHeight:"40px",ComponentFormInputPadding:"4px",ComponentFormCheckboxSize:"40px",ComponentFormCheckboxLabelPadding:"12px",ComponentCardPaddingMobile:"16px",ComponentCardPaddingDesktop:"32px",ComponentCardHeadingMargin:"16px",ComponentPanelPaddingMobile:"20px",ComponentPanelPaddingDesktop:"28px",ComponentBreadcrumbChevronMarginLeft:"9px",ComponentBreadcrumbChevronMarginRight:"2px",ComponentBreadcrumbPaddingTopMobile:"16px",ComponentBreadcrumbPaddingTopDesktop:"24px",ComponentSummaryListCellPaddingVertical:"8px",ComponentSummaryListCellPaddingHorizontal:"24px",ComponentSummaryListRowMargin:"16px",ComponentSpread:"4px",ComponentBlur:"4px",ComponentLink:"4px",ComponentDetails:"8px",ComponentExpander:"4px",ComponentPagination:"16px"},button:{ButtonPrimaryBackgroundDefault:"#007f3b",ButtonPrimaryBackgroundHover:"#006530",ButtonPrimaryBackgroundActive:"#004021",ButtonPrimaryBackgroundDisabled:"#d8dde0",ButtonPrimaryTextDefault:"#ffffff",ButtonPrimaryTextDisabled:"#768692",ButtonPrimaryBorderDefault:"#00000000",ButtonPrimaryBorderFocus:"#ffeb3b",ButtonSecondaryBackgroundDefault:"#00000000",ButtonSecondaryBackgroundSolid:"#ffffff",ButtonSecondaryBackgroundHover:"#d9e5f2",ButtonSecondaryBackgroundActive:"#c7daf0",ButtonSecondaryTextDefault:"#005eb8",ButtonSecondaryBorderDefault:"#005eb8",ButtonSpacingPaddingVerticalMobile:"8px",ButtonSpacingPaddingHorizontalMobile:"16px",ButtonSpacingPaddingVerticalDesktop:"12px",ButtonSpacingPaddingHorizontalDesktop:"16px",ButtonBorderWidth:"2px",ButtonBorderRadius:"4px",ButtonShadowSize:"4px",ButtonTypographyWeight:"600"},card:{CardBackgroundDefault:"#ffffff",CardBorderDefault:"#d8dde0",CardBorderHover:"#aeb7bd",CardBorderBottom:"#f0f4f5",CardTextHeading:"#212b32",CardTextDescription:"#212b32",CardTextLink:"#005eb8",CardSpacingPaddingMobile:"16px",CardSpacingPaddingDesktop:"32px",CardSpacingHeadingMargin:"16px",CardBorderWidthDefault:"1px",CardBorderWidthBottom:"4px",CardShadowDefault:"none",CardShadowHover:"0 2px 4px rgba(0, 0, 0, 0.1)"},form:{FormInputBackgroundDefault:"#ffffff",FormInputBackgroundFocus:"#ffffff",FormInputBackgroundDisabled:"#d8dde0",FormInputBackgroundError:"#ffffff",FormInputBorderDefault:"#4c6272",FormInputBorderFocus:"#ffeb3b",FormInputBorderError:"#d5281b",FormInputBorderDisabled:"#aeb7bd",FormInputTextDefault:"#212b32",FormInputTextPlaceholder:"#4c6272",FormInputTextDisabled:"#768692",FormLabelTextDefault:"#212b32",FormLabelTextRequired:"#ffffff",FormLabelTypographyWeight:"600",FormErrorTextDefault:"#d5281b",FormErrorTypographyWeight:"600",FormHintTextDefault:"#4c6272",FormSpacingInputPadding:"4px",FormSpacingInputMinHeight:"40px",FormSpacingCheckboxSize:"40px",FormSpacingCheckboxLabelPadding:"12px",FormBorderWidthDefault:"2px",FormBorderWidthError:"4px",FormBorderRadius:"0px"},size:{SizeIconSmall:"16px",SizeIconMedium:"18px",SizeIconLarge:"24px",SizeIconExtraLarge:"32px",SizeIconNhsDefault:"34px",SizeFormControlSmall:"32px",SizeFormControlMedium:"40px",SizeFormControlLarge:"48px",SizeFormInputWidthXs:"5.4ex",SizeFormInputWidthSm:"7.2ex",SizeFormInputWidthMd:"9ex",SizeFormInputWidthLg:"10.8ex",SizeFormInputWidthXl:"20ex",SizeFormInputWidth2xl:"38ex",SizeFormInputWidth3xl:"56ex",SizeButtonMinHeightMobile:"44px",SizeButtonMinHeightDesktop:"40px"},layout:{LayoutContainerMaxWidth:"1020px",LayoutColumnFull:"100%",LayoutColumnHalf:"50%",LayoutColumnThird:"33.333%",LayoutColumnQuarter:"25%",LayoutColumnActions:"20%"},breakpoint:{BreakpointMobile:"320px",BreakpointTablet:"641px",BreakpointDesktop:"1025px",BreakpointLargeDesktop:"1280px"},grid:{GridPageWidth:"960px",GridGutter:"32px",GridGutterHalf:"16px"},state:{StateErrorBackground:"#d5281b",StateErrorBorder:"#d5281b",StateErrorText:"#ffffff",StateSuccessBackground:"#007f3b",StateSuccessBorder:"#007f3b",StateSuccessText:"#ffffff",StateWarningBackground:"#ffeb3b",StateWarningBorder:"#ffeb3b",StateWarningText:"#212b32",StateInfoBackground:"#005eb8",StateInfoBorder:"#005eb8",StateInfoText:"#ffffff",StateDisabledBackground:"#d8dde0",StateDisabledBorder:"#aeb7bd",StateDisabledText:"#768692"},shadow:{ShadowButtonDefault:"0 4px 0 #004021",ShadowButtonSecondary:"0 4px 0 #005eb8",ShadowButtonWarning:"0 4px 0 #6a140e",ShadowButtonFocus:"0 4px 0 #ffeb3b",ShadowCardDefault:"none",ShadowCardHover:"0 2px 4px rgba(0, 0, 0, 0.1)"},"focus-outline":{FocusOutlineWidth:"4px",FocusOutlineOffset:"0px",FocusOutlineStyle:"solid"},"focus-shadow":{FocusShadowInput:"0 0 0 3px #ffeb3b",FocusShadowButton:"0 0 0 3px #ffeb3b"},elevation:{ElevationNone:"none",ElevationLow:"0 1px 3px rgba(0, 0, 0, 0.12)",ElevationMedium:"0 2px 6px rgba(0, 0, 0, 0.16)",ElevationHigh:"0 4px 12px rgba(0, 0, 0, 0.20)"},spacing:{Spacing0:"0",Spacing1:"4px",Spacing2:"8px",Spacing3:"16px",Spacing4:"24px",Spacing5:"32px",Spacing6:"40px",Spacing7:"48px",Spacing8:"56px",Spacing9:"64px"},"spacing-responsive":{SpacingResponsive0Mobile:"0",SpacingResponsive0Tablet:"0",SpacingResponsive1Mobile:"4px",SpacingResponsive1Tablet:"4px",SpacingResponsive2Mobile:"8px",SpacingResponsive2Tablet:"8px",SpacingResponsive3Mobile:"8px",SpacingResponsive3Tablet:"16px",SpacingResponsive4Mobile:"16px",SpacingResponsive4Tablet:"24px",SpacingResponsive5Mobile:"24px",SpacingResponsive5Tablet:"32px",SpacingResponsive6Mobile:"32px",SpacingResponsive6Tablet:"40px",SpacingResponsive7Mobile:"40px",SpacingResponsive7Tablet:"48px",SpacingResponsive8Mobile:"48px",SpacingResponsive8Tablet:"56px",SpacingResponsive9Mobile:"56px",SpacingResponsive9Tablet:"64px"},font:{FontFamilyBase:"Frutiger W01",FontFamilyFallback:"Arial, Helvetica, sans-serif",FontFamilyPrint:"sans-serif",FontWeightNormal:"400",FontWeightBold:"600",FontWeightLight:"400",FontSize14Mobile:"12px",FontSize14Tablet:"14px",FontSize14Print:"12pt",FontSize16Mobile:"14px",FontSize16Tablet:"16px",FontSize16Print:"12pt",FontSize19Mobile:"16px",FontSize19Tablet:"19px",FontSize19Print:"13pt",FontSize22Mobile:"19px",FontSize22Tablet:"22px",FontSize22Print:"15pt",FontSize26Mobile:"22px",FontSize26Tablet:"26px",FontSize26Print:"17pt",FontSize36Mobile:"27px",FontSize36Tablet:"36px",FontSize36Print:"20pt",FontSize48Mobile:"33px",FontSize48Tablet:"48px",FontSize48Print:"24pt",FontSizeBase:"16px",FontLineHeightBase:"24px"},headings:{xl:{fontFamily:"Frutiger W01",fontWeight:"600",fontSize:{mobile:"33px",tablet:"48px",print:"24pt"},lineHeight:"1.09",marginTop:"0",marginBottom:{mobile:"40px",tablet:"48px"}},l:{fontFamily:"Frutiger W01",fontWeight:"600",fontSize:{mobile:"27px",tablet:"36px",print:"20pt"},lineHeight:"1.11",marginTop:"0",marginBottom:{mobile:"16px",tablet:"24px"}},m:{fontFamily:"Frutiger W01",fontWeight:"600",fontSize:{mobile:"22px",tablet:"26px",print:"17pt"},lineHeight:"1.15",marginTop:"0",marginBottom:{mobile:"16px",tablet:"24px"}},s:{fontFamily:"Frutiger W01",fontWeight:"600",fontSize:{mobile:"19px",tablet:"22px",print:"15pt"},lineHeight:"1.18",marginTop:"0",marginBottom:{mobile:"16px",tablet:"24px"}},xs:{fontFamily:"Frutiger W01",fontWeight:"600",fontSize:{mobile:"16px",tablet:"19px",print:"13pt"},lineHeight:"1.26",marginTop:"0",marginBottom:{mobile:"16px",tablet:"24px"}}},paragraphs:{body:{fontFamily:"Frutiger W01",fontWeight:"400",fontSize:{mobile:"16px",tablet:"19px",print:"13pt"},lineHeight:"1.47",marginTop:"0",marginBottom:{mobile:"16px",tablet:"24px"}},bodyLarge:{fontFamily:"Frutiger W01",fontWeight:"400",fontSize:{mobile:"22px",tablet:"26px",print:"17pt"},lineHeight:"1.38",marginTop:"0",marginBottom:{mobile:"24px",tablet:"32px"}},bodySmall:{fontFamily:"Frutiger W01",fontWeight:"400",fontSize:{mobile:"14px",tablet:"16px",print:"12pt"},lineHeight:"1.5",marginTop:"0",marginBottom:{mobile:"16px",tablet:"24px"}},ledeText:{fontFamily:"Frutiger W01",fontWeight:"400",fontSize:{mobile:"22px",tablet:"26px",print:"17pt"},lineHeight:"1.38",marginTop:"0",marginBottom:{mobile:"40px",tablet:"48px"}},ledeTextSmall:{fontFamily:"Frutiger W01",fontWeight:"400",fontSize:{mobile:"16px",tablet:"19px",print:"13pt"},lineHeight:"1.47",marginTop:"0",marginBottom:{mobile:"24px",tablet:"32px"}}}},Jf=P.createContext(Xf),Sx=({children:e,theme:t={}})=>{const n={...Xf,...t};return a.jsx(Jf.Provider,{value:n,children:e})},kx=()=>{const e=P.useContext(Jf);if(!e)throw new Error("useNHSTheme must be used within an NHSThemeProvider");return e};function Cx(){return`
	@font-face {
	  font-display: swap;
	  font-family: "Frutiger W01";
	  font-style: normal;
	  font-weight: 400;
	  src: url("https://assets.nhs.uk/fonts/FrutigerLTW01-55Roman.eot");
	  src: url("https://assets.nhs.uk/fonts/FrutigerLTW01-55Roman.eot?#iefix") format("embedded-opentype"),
		   url("https://assets.nhs.uk/fonts/FrutigerLTW01-55Roman.woff2") format("woff2"),
		   url("https://assets.nhs.uk/fonts/FrutigerLTW01-55Roman.woff") format("woff");
	}
	
	@font-face {
	  font-display: swap;
	  font-family: "Frutiger W01";
	  font-style: normal;
	  font-weight: 600;
	  src: url("https://assets.nhs.uk/fonts/FrutigerLTW01-65Bold.eot");
	  src: url("https://assets.nhs.uk/fonts/FrutigerLTW01-65Bold.eot?#iefix") format("embedded-opentype"),
		   url("https://assets.nhs.uk/fonts/FrutigerLTW01-65Bold.woff2") format("woff2"),
		   url("https://assets.nhs.uk/fonts/FrutigerLTW01-65Bold.woff") format("woff");
	}
  `}function Nx(){if(typeof document>"u"||document.getElementById("nhs-fonts"))return;const e=document.createElement("style");e.id="nhs-fonts",e.textContent=Cx(),document.head.appendChild(e)}const Mx=({children:e,theme:t})=>(P.useEffect(()=>{Nx()},[]),a.jsx(Sx,{theme:t,children:e})),jx="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPCFET0NUWVBFIHN2ZyBQVUJMSUMgIi0vL1czQy8vRFREIFNWRyAxLjEvL0VOIiAiaHR0cDovL3d3dy53My5vcmcvR3JhcGhpY3MvU1ZHLzEuMS9EVEQvc3ZnMTEuZHRkIj4KPHN2ZyB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHdpZHRoPSI1MTIiIGhlaWdodD0iMTEzIiAgeG1sOnNwYWNlPSJwcmVzZXJ2ZSIgaWQ9ImZkcGxvZ28iPgogICAgPHJlY3QgaWQ9ImZkcGxvZ28tcmVjdGFuZ2xlIiBzdHJva2U9Im5vbmUiIGZpbGw9InJnYigzMiwgOTUsIDE3MikiIHg9IjIuNyIgeT0iLTAuMDMiIHdpZHRoPSIxNDQuMSIgaGVpZ2h0PSI1OC4wNSIgLz4KICAgIDxwYXRoIGlkPSJmZHBsb2dvLWJlemllciIgc3Ryb2tlPSJub25lIiBmaWxsPSJyZ2IoMjU0LCAyNTQsIDI1NCkiIGQ9Ik0gNjAuNjEsNS42IEwgNTAuNjYsNTIuMzEgMzUuMDYsNTIuMzEgMjUuMjQsMTkuOTkgMjUuMTEsMTkuOTkgMTguNTgsNTIuMzEgNi43NCw1Mi4zMSAxNi43Nyw1LjYgMzIuNDMsNS42IDQyLjA1LDM3Ljk5IDQyLjE4LDM3Ljk5IDQ4Ljc3LDUuNiA2MC42MSw1LjYgWiBNIDYwLjYxLDUuNiIgLz4KICAgIDxwYXRoIGlkPSJmZHBsb2dvLWJlemllcjIiIHN0cm9rZT0ibm9uZSIgZmlsbD0icmdiKDI1NCwgMjU0LCAyNTQpIiBkPSJNIDEwNS4yNiw1LjYgTCA5NS41MSw1Mi4zMSA4Mi45NCw1Mi4zMSA4Ny4xMSwzMi4zIDcyLjI0LDMyLjMgNjguMDcsNTIuMzEgNTUuNDksNTIuMzEgNjUuMjUsNS42IDc3LjgyLDUuNiA3NC4xMywyMy40NyA4OC45OSwyMy40NyA5Mi42OSw1LjYgMTA1LjI2LDUuNiBaIE0gMTA1LjI2LDUuNiIgLz4KICAgIDxwYXRoIGlkPSJmZHBsb2dvLWJlemllcjMiIHN0cm9rZT0ibm9uZSIgZmlsbD0icmdiKDI1NCwgMjU0LCAyNTQpIiBkPSJNIDE0MS4zOCw2Ljg3IEwgMTM4LjM1LDE2LjE3IEMgMTM1LjkyLDE1LjA0IDEzMi42MywxNC4wNCAxMjcuOTksMTQuMDQgMTIzLjAyLDE0LjA0IDExOC45OCwxNC43NyAxMTguOTgsMTguNTIgMTE4Ljk4LDI1LjE0IDEzNy4yLDIyLjY3IDEzNy4yLDM2Ljg1IDEzNy4yLDQ5Ljc3IDEyNS4xNyw1My4xMiAxMTQuMjcsNTMuMTIgMTA5LjQzLDUzLjEyIDEwMy44NSw1MS45NyA5OS43NSw1MC43IEwgMTAyLjcxLDQxLjIgQyAxMDUuMTksNDIuOCAxMTAuMTcsNDMuODggMTE0LjI3LDQzLjg4IDExOC4xOCw0My44OCAxMjQuMjksNDMuMTQgMTI0LjI5LDM4LjMyIDEyNC4yOSwzMC44MyAxMDYuMDYsMzMuNjQgMTA2LjA2LDIwLjQ2IDEwNi4wNiw4LjQyIDExNi42OSw0LjggMTI2Ljk4LDQuOCAxMzIuNzcsNC44IDEzOC4yMSw1LjQxIDE0MS4zOCw2Ljg3IFogTSAxNDEuMzgsNi44NyIgLz4KICAgIAogICAgPHRleHQgIGZpbGw9InJnYigzNSwgMzEsIDMyKSIgZm9udC1mYW1pbHk9IkZydXRpZ2VyTFRQcm8tQm9sZCwgJ0ZydXRpZ2VyIExUIFBybycsIHNhbnMtc2VyaWYiIGZvbnQtd2VpZ2h0PSJib2xkIiBmb250LXNpemU9IjQwIiB4PSIwIiB5PSI2NC44OSI+PHRzcGFuIHg9IjAiIHk9IjEwMi44OSI+RmVkZXJhdGVkIERhdGEgUGxhdGZvcm08L3RzcGFuPjwvdGV4dD4KPC9zdmc+Cg==",Tx="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPCFET0NUWVBFIHN2ZyBQVUJMSUMgIi0vL1czQy8vRFREIFNWRyAxLjEvL0VOIiAiaHR0cDovL3d3dy53My5vcmcvR3JhcGhpY3MvU1ZHLzEuMS9EVEQvc3ZnMTEuZHRkIj4KPHN2ZyB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHdpZHRoPSIyOTAiIGhlaWdodD0iMTU1IiAgeG1sOnNwYWNlPSJwcmVzZXJ2ZSIgaWQ9ImZkcHR3b2xpbmUiPgogICAgPHJlY3QgaWQ9ImZkcHR3b2xpbmUtcmVjdGFuZ2xlIiBzdHJva2U9Im5vbmUiIGZpbGw9InJnYigzMiwgOTUsIDE3MikiIHg9IjIuNyIgeT0iLTAuMDMiIHdpZHRoPSIxNDQuMSIgaGVpZ2h0PSI1OC4wNSIgLz4KICAgIDxwYXRoIGlkPSJmZHB0d29saW5lLWJlemllciIgc3Ryb2tlPSJub25lIiBmaWxsPSJyZ2IoMjU0LCAyNTQsIDI1NCkiIGQ9Ik0gNjAuNjEsNS42IEwgNTAuNjYsNTIuMzEgMzUuMDYsNTIuMzEgMjUuMjQsMTkuOTkgMjUuMTEsMTkuOTkgMTguNTgsNTIuMzEgNi43NCw1Mi4zMSAxNi43Nyw1LjYgMzIuNDMsNS42IDQyLjA1LDM3Ljk5IDQyLjE4LDM3Ljk5IDQ4Ljc3LDUuNiA2MC42MSw1LjYgWiBNIDYwLjYxLDUuNiIgLz4KICAgIDxwYXRoIGlkPSJmZHB0d29saW5lLWJlemllcjIiIHN0cm9rZT0ibm9uZSIgZmlsbD0icmdiKDI1NCwgMjU0LCAyNTQpIiBkPSJNIDEwNS4yNiw1LjYgTCA5NS41MSw1Mi4zMSA4Mi45NCw1Mi4zMSA4Ny4xMSwzMi4zIDcyLjI0LDMyLjMgNjguMDcsNTIuMzEgNTUuNDksNTIuMzEgNjUuMjUsNS42IDc3LjgyLDUuNiA3NC4xMywyMy40NyA4OC45OSwyMy40NyA5Mi42OSw1LjYgMTA1LjI2LDUuNiBaIE0gMTA1LjI2LDUuNiIgLz4KICAgIDxwYXRoIGlkPSJmZHB0d29saW5lLWJlemllcjMiIHN0cm9rZT0ibm9uZSIgZmlsbD0icmdiKDI1NCwgMjU0LCAyNTQpIiBkPSJNIDE0MS4zOCw2Ljg3IEwgMTM4LjM1LDE2LjE3IEMgMTM1LjkyLDE1LjA0IDEzMi42MywxNC4wNCAxMjcuOTksMTQuMDQgMTIzLjAyLDE0LjA0IDExOC45OCwxNC43NyAxMTguOTgsMTguNTIgMTE4Ljk4LDI1LjE0IDEzNy4yLDIyLjY3IDEzNy4yLDM2Ljg1IDEzNy4yLDQ5Ljc3IDEyNS4xNyw1My4xMiAxMTQuMjcsNTMuMTIgMTA5LjQzLDUzLjEyIDEwMy44NSw1MS45NyA5OS43NSw1MC43IEwgMTAyLjcxLDQxLjIgQyAxMDUuMTksNDIuOCAxMTAuMTcsNDMuODggMTE0LjI3LDQzLjg4IDExOC4xOCw0My44OCAxMjQuMjksNDMuMTQgMTI0LjI5LDM4LjMyIDEyNC4yOSwzMC44MyAxMDYuMDYsMzMuNjQgMTA2LjA2LDIwLjQ2IDEwNi4wNiw4LjQyIDExNi42OSw0LjggMTI2Ljk4LDQuOCAxMzIuNzcsNC44IDEzOC4yMSw1LjQxIDE0MS4zOCw2Ljg3IFogTSAxNDEuMzgsNi44NyIgLz4KICAgIDx0ZXh0ICBmaWxsPSJyZ2IoMzUsIDMxLCAzMikiIGZvbnQtZmFtaWx5PSJGcnV0aWdlckxUUHJvLUJvbGQsICdGcnV0aWdlciBMVCBQcm8nLCBzYW5zLXNlcmlmIiBmb250LXdlaWdodD0iYm9sZCIgZm9udC1zaXplPSI0MCIgeD0iMCIgeT0iNjQuODkiPjx0c3BhbiB4PSIwIiB5PSIxMDIuODkiPkZlZGVyYXRlZCBEYXRhIAo8L3RzcGFuPjx0c3BhbiB4PSIwIiB5PSIxNTAuODkiPlBsYXRmb3JtPC90c3Bhbj48L3RleHQ+Cjwvc3ZnPgo=",Dx="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPCFET0NUWVBFIHN2ZyBQVUJMSUMgIi0vL1czQy8vRFREIFNWRyAxLjEvL0VOIiAiaHR0cDovL3d3dy53My5vcmcvR3JhcGhpY3MvU1ZHLzEuMS9EVEQvc3ZnMTEuZHRkIj4KPHN2ZyB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHdpZHRoPSIyOTAiIGhlaWdodD0iMTU1IiB4bWw6c3BhY2U9InByZXNlcnZlIiBpZD0iZmRwdHdvbGluZWludmVyc2UiPgoJPHJlY3QgaWQ9ImZkcHR3b2xpbmVpbnZlcnNlLXJlY3RhbmdsZSIgc3Ryb2tlPSJub25lIiBmaWxsPSJyZ2IoMzIsIDk1LCAxNzIpIiB4PSIyLjciIHk9Ii0wLjAzIiB3aWR0aD0iMTQ0LjEiIGhlaWdodD0iNTguMDUiIC8+Cgk8cGF0aCBpZD0iZmRwdHdvbGluZWludmVyc2UtYmV6aWVyIiBzdHJva2U9Im5vbmUiIGZpbGw9InJnYigyNTQsIDI1NCwgMjU0KSIgZD0iTSA2MC42MSw1LjYgTCA1MC42Niw1Mi4zMSAzNS4wNiw1Mi4zMSAyNS4yNCwxOS45OSAyNS4xMSwxOS45OSAxOC41OCw1Mi4zMSA2Ljc0LDUyLjMxIDE2Ljc3LDUuNiAzMi40Myw1LjYgNDIuMDUsMzcuOTkgNDIuMTgsMzcuOTkgNDguNzcsNS42IDYwLjYxLDUuNiBaIE0gNjAuNjEsNS42IiAvPgoJPHBhdGggaWQ9ImZkcHR3b2xpbmVpbnZlcnNlLWJlemllcjIiIHN0cm9rZT0ibm9uZSIgZmlsbD0icmdiKDI1NCwgMjU0LCAyNTQpIiBkPSJNIDEwNS4yNiw1LjYgTCA5NS41MSw1Mi4zMSA4Mi45NCw1Mi4zMSA4Ny4xMSwzMi4zIDcyLjI0LDMyLjMgNjguMDcsNTIuMzEgNTUuNDksNTIuMzEgNjUuMjUsNS42IDc3LjgyLDUuNiA3NC4xMywyMy40NyA4OC45OSwyMy40NyA5Mi42OSw1LjYgMTA1LjI2LDUuNiBaIE0gMTA1LjI2LDUuNiIgLz4KCTxwYXRoIGlkPSJmZHB0d29saW5laW52ZXJzZS1iZXppZXIzIiBzdHJva2U9Im5vbmUiIGZpbGw9InJnYigyNTQsIDI1NCwgMjU0KSIgZD0iTSAxNDEuMzgsNi44NyBMIDEzOC4zNSwxNi4xNyBDIDEzNS45MiwxNS4wNCAxMzIuNjMsMTQuMDQgMTI3Ljk5LDE0LjA0IDEyMy4wMiwxNC4wNCAxMTguOTgsMTQuNzcgMTE4Ljk4LDE4LjUyIDExOC45OCwyNS4xNCAxMzcuMiwyMi42NyAxMzcuMiwzNi44NSAxMzcuMiw0OS43NyAxMjUuMTcsNTMuMTIgMTE0LjI3LDUzLjEyIDEwOS40Myw1My4xMiAxMDMuODUsNTEuOTcgOTkuNzUsNTAuNyBMIDEwMi43MSw0MS4yIEMgMTA1LjE5LDQyLjggMTEwLjE3LDQzLjg4IDExNC4yNyw0My44OCAxMTguMTgsNDMuODggMTI0LjI5LDQzLjE0IDEyNC4yOSwzOC4zMiAxMjQuMjksMzAuODMgMTA2LjA2LDMzLjY0IDEwNi4wNiwyMC40NiAxMDYuMDYsOC40MiAxMTYuNjksNC44IDEyNi45OCw0LjggMTMyLjc3LDQuOCAxMzguMjEsNS40MSAxNDEuMzgsNi44NyBaIE0gMTQxLjM4LDYuODciIC8+Cgk8dGV4dCBmaWxsPSJyZ2IoMjU0LCAyNTQsIDI1NCkiIGZvbnQtZmFtaWx5PSJGcnV0aWdlckxUUHJvLUJvbGQsICdGcnV0aWdlciBMVCBQcm8nLCBzYW5zLXNlcmlmIiBmb250LXdlaWdodD0iYm9sZCIgZm9udC1zaXplPSI0MCIgeD0iMCIgeT0iNjQuODkiPgoJCTx0c3BhbiB4PSIwIiB5PSIxMDIuODkiPgoJCQlGZWRlcmF0ZWQgRGF0YQoJCTwvdHNwYW4+CgkJPHRzcGFuIHg9IjAiIHk9IjE1MC44OSI+CgkJCVBsYXRmb3JtCgkJPC90c3Bhbj4KCTwvdGV4dD4KPC9zdmc+Cg==",Ix="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPCFET0NUWVBFIHN2ZyBQVUJMSUMgIi0vL1czQy8vRFREIFNWRyAxLjEvL0VOIiAiaHR0cDovL3d3dy53My5vcmcvR3JhcGhpY3MvU1ZHLzEuMS9EVEQvc3ZnMTEuZHRkIj4KPHN2ZyB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHdpZHRoPSI1MTIiIGhlaWdodD0iMTEzIiAgeG1sOnNwYWNlPSJwcmVzZXJ2ZSIgaWQ9ImZkcGxvZ29pbnZlcnNlIj4KICAgIDxyZWN0IGlkPSJmZHBsb2dvaW52ZXJzZS1yZWN0YW5nbGUiIHN0cm9rZT0ibm9uZSIgZmlsbD0icmdiKDI1NCwgMjU0LCAyNTQpIiB4PSIyLjciIHk9Ii0wLjAzIiB3aWR0aD0iMTQ0LjEiIGhlaWdodD0iNTguMDUiIC8+CiAgICA8ZyBpZD0iZmRwbG9nb2ludmVyc2UtZ3JvdXAiPgogICAgICAgIDxwYXRoIGlkPSJmZHBsb2dvaW52ZXJzZS1iZXppZXIzIiBzdHJva2U9Im5vbmUiIGZpbGw9InJnYigwLCA5NCwgMTg0KSIgZD0iTSAxNDEuMzgsNi44NyBMIDEzOC4zNSwxNi4xNyBDIDEzNS45MiwxNS4wNCAxMzIuNjMsMTQuMDQgMTI3Ljk5LDE0LjA0IDEyMy4wMiwxNC4wNCAxMTguOTgsMTQuNzcgMTE4Ljk4LDE4LjUyIDExOC45OCwyNS4xNCAxMzcuMiwyMi42NyAxMzcuMiwzNi44NSAxMzcuMiw0OS43NyAxMjUuMTcsNTMuMTIgMTE0LjI3LDUzLjEyIDEwOS40Myw1My4xMiAxMDMuODUsNTEuOTcgOTkuNzUsNTAuNyBMIDEwMi43MSw0MS4yIEMgMTA1LjE5LDQyLjggMTEwLjE3LDQzLjg4IDExNC4yNyw0My44OCAxMTguMTgsNDMuODggMTI0LjI5LDQzLjE0IDEyNC4yOSwzOC4zMiAxMjQuMjksMzAuODMgMTA2LjA2LDMzLjY0IDEwNi4wNiwyMC40NiAxMDYuMDYsOC40MiAxMTYuNjksNC44IDEyNi45OCw0LjggMTMyLjc3LDQuOCAxMzguMjEsNS40MSAxNDEuMzgsNi44NyBaIE0gMTQxLjM4LDYuODciIC8+CiAgICAgICAgPHBhdGggaWQ9ImZkcGxvZ29pbnZlcnNlLWJlemllcjIiIHN0cm9rZT0ibm9uZSIgZmlsbD0icmdiKDAsIDk0LCAxODQpIiBkPSJNIDEwNS4yNiw1LjYgTCA5NS41MSw1Mi4zMSA4Mi45NCw1Mi4zMSA4Ny4xMSwzMi4zIDcyLjI0LDMyLjMgNjguMDcsNTIuMzEgNTUuNDksNTIuMzEgNjUuMjUsNS42IDc3LjgyLDUuNiA3NC4xMywyMy40NyA4OC45OSwyMy40NyA5Mi42OSw1LjYgMTA1LjI2LDUuNiBaIE0gMTA1LjI2LDUuNiIgLz4KICAgICAgICA8cGF0aCBpZD0iZmRwbG9nb2ludmVyc2UtYmV6aWVyIiBzdHJva2U9Im5vbmUiIGZpbGw9InJnYigwLCA5NCwgMTg0KSIgZD0iTSA2MC42MSw1LjYgTCA1MC42Niw1Mi4zMSAzNS4wNiw1Mi4zMSAyNS4yNCwxOS45OSAyNS4xMSwxOS45OSAxOC41OCw1Mi4zMSA2Ljc0LDUyLjMxIDE2Ljc3LDUuNiAzMi40Myw1LjYgNDIuMDUsMzcuOTkgNDIuMTgsMzcuOTkgNDguNzcsNS42IDYwLjYxLDUuNiBaIE0gNjAuNjEsNS42IiAvPgogICAgPC9nPgogICAgCiAgICA8dGV4dCAgZmlsbD0icmdiKDI1NCwgMjU0LCAyNTQpIiBmb250LWZhbWlseT0iRnJ1dGlnZXJMVFByby1Cb2xkLCAnRnJ1dGlnZXIgTFQgUHJvJywgc2Fucy1zZXJpZiIgZm9udC13ZWlnaHQ9ImJvbGQiIGZvbnQtc2l6ZT0iNDAiIHg9IjAiIHk9IjY0Ljg5Ij48dHNwYW4geD0iMCIgeT0iMTAyLjg5Ij5GZWRlcmF0ZWQgRGF0YSBQbGF0Zm9ybTwvdHNwYW4+PC90ZXh0Pgo8L3N2Zz4K",Lx="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='UTF-8'?%3e%3c!DOCTYPE%20svg%20PUBLIC%20'-//W3C//DTD%20SVG%201.1//EN'%20'http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd'%3e%3csvg%20version='1.1'%20xmlns='http://www.w3.org/2000/svg'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20width='357'%20height='114'%20xml:space='preserve'%20id='fdpgraphic'%3e%3cdefs%3e%3clinearGradient%20id='fdpgraphic-gradient-rectangle2'%20x1='113.66'%20y1='27.99'%20x2='0.02'%20y2='27.99'%20gradientUnits='userSpaceOnUse'%20%3e%3cstop%20offset='0'%20stop-color='rgb(96,%20178,%20226)'%20stop-opacity='1'%20/%3e%3cstop%20offset='0.51'%20stop-color='rgb(34,%2094,%20172)'%20stop-opacity='1'%20/%3e%3c/linearGradient%3e%3clinearGradient%20id='fdpgraphic-gradient2-clip'%20x1='243.8'%20y1='28.5'%20x2='113.64'%20y2='28.5'%20gradientUnits='userSpaceOnUse'%20%3e%3cstop%20offset='0.5'%20stop-color='rgb(4,%20150,%2071)'%20stop-opacity='1'%20/%3e%3cstop%20offset='0.64'%20stop-color='rgb(51,%20159,%20112)'%20stop-opacity='1'%20/%3e%3cstop%20offset='1'%20stop-color='rgb(98,%20167,%20153)'%20stop-opacity='1'%20/%3e%3c/linearGradient%3e%3clinearGradient%20id='fdpgraphic-gradient4-bezier4'%20x1='357.05'%20y1='85.21'%20x2='243.44'%20y2='85.21'%20gradientUnits='userSpaceOnUse'%20%3e%3cstop%20offset='0.5'%20stop-color='rgb(214,%20203,%20226)'%20stop-opacity='1'%20/%3e%3cstop%20offset='0.86'%20stop-color='rgb(234,%20229,%20240)'%20stop-opacity='1'%20/%3e%3cstop%20offset='1'%20stop-color='rgb(255,%20255,%20255)'%20stop-opacity='1'%20/%3e%3c/linearGradient%3e%3c/defs%3e%3cg%20id='fdpgraphic-group3'%3e%3cg%20id='fdpgraphic-squareGroup'%3e%3crect%20id='fdpgraphic-rectangle'%20stroke='none'%20fill='rgb(34,%2094,%20172)'%20x='0.02'%20y='0.49'%20width='113.6'%20height='113.6'%20/%3e%3crect%20id='fdpgraphic-rectangle2'%20stroke='none'%20fill='url(%23fdpgraphic-gradient-rectangle2)'%20x='0'%20y='0'%20width='113.65'%20height='56'%20/%3e%3c/g%3e%3cg%20id='fdpgraphic-hexagonGroup'%3e%3cpath%20id='fdpgraphic-polygon'%20stroke='none'%20fill='rgb(73,%20160,%20152)'%20d='M%20146.15,-0%20L%20211.25,0%20243.8,57.03%20211.25,114.06%20146.15,114.06%20113.6,57.03%20146.15,-0%20Z%20M%20146.15,-0'%20/%3e%3cg%20id='fdpgraphic-hexagon'%3e%3cpath%20id='fdpgraphic-clip'%20stroke='none'%20fill='url(%23fdpgraphic-gradient2-clip)'%20d='M%20146.18,-0%20L%20113.64,57%20243.8,57%20211.26,-0%20146.18,-0%20Z%20M%20146.18,-0'%20/%3e%3c/g%3e%3c/g%3e%3cg%20id='fdpgraphic-circleGroup'%3e%3ccircle%20id='fdpgraphic-oval'%20stroke='none'%20fill='rgb(214,%20203,%20226)'%20cx='300.25'%20cy='56.8'%20r='56.8'%20/%3e%3cpath%20id='fdpgraphic-bezier4'%20stroke='none'%20fill='url(%23fdpgraphic-gradient4-bezier4)'%20d='M%20300.25,56.8%20L%20243.45,56.8%20C%20243.45,88.18%20268.88,113.61%20300.25,113.61%20L%20300.25,113.61%20C%20331.62,113.61%20357.05,88.18%20357.05,56.8%20L%20357.05,56.8%20300.25,56.8%20Z%20M%20300.25,56.8'%20/%3e%3c/g%3e%3cpath%20id='fdpgraphic-bezier5'%20stroke='rgb(217,%20216,%20216)'%20stroke-width='2.49'%20stroke-miterlimit='2.49'%20fill='none'%20d='M%2054.9,56.9%20L%20301.64,56.9'%20/%3e%3c/g%3e%3c/svg%3e",Ax="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='UTF-8'?%3e%3c!DOCTYPE%20svg%20PUBLIC%20'-//W3C//DTD%20SVG%201.1//EN'%20'http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd'%3e%3csvg%20version='1.1'%20xmlns='http://www.w3.org/2000/svg'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20width='393'%20height='47'%20xml:space='preserve'%20id='fdplockuplogo'%3e%3cdefs%3e%3clinearGradient%20id='fdplockuplogo-gradient-rectangle2'%20x1='45.65'%20y1='11.5'%20x2='0.01'%20y2='11.5'%20gradientUnits='userSpaceOnUse'%20%3e%3cstop%20offset='0'%20stop-color='rgb(96,%20178,%20226)'%20stop-opacity='1'%20/%3e%3cstop%20offset='0.51'%20stop-color='rgb(34,%2094,%20172)'%20stop-opacity='1'%20/%3e%3c/linearGradient%3e%3clinearGradient%20id='fdplockuplogo-gradient2-clip'%20x1='98.8'%20y1='12'%20x2='45.64'%20y2='12'%20gradientUnits='userSpaceOnUse'%20%3e%3cstop%20offset='0.5'%20stop-color='rgb(4,%20150,%2071)'%20stop-opacity='1'%20/%3e%3cstop%20offset='0.64'%20stop-color='rgb(51,%20159,%20112)'%20stop-opacity='1'%20/%3e%3cstop%20offset='1'%20stop-color='rgb(98,%20167,%20153)'%20stop-opacity='1'%20/%3e%3c/linearGradient%3e%3clinearGradient%20id='fdplockuplogo-gradient4-bezier4'%20x1='145.05'%20y1='34.96'%20x2='98.45'%20y2='34.96'%20gradientUnits='userSpaceOnUse'%20%3e%3cstop%20offset='0.5'%20stop-color='rgb(214,%20203,%20226)'%20stop-opacity='1'%20/%3e%3cstop%20offset='0.86'%20stop-color='rgb(234,%20229,%20240)'%20stop-opacity='1'%20/%3e%3cstop%20offset='1'%20stop-color='rgb(255,%20255,%20255)'%20stop-opacity='1'%20/%3e%3c/linearGradient%3e%3c/defs%3e%3cpath%20id='fdplockuplogo-bezier7'%20stroke='none'%20fill='rgb(33,%2094,%20171)'%20d='M%20157.2,1.11%20L%20168.06,1.11%20184.85,34.06%20184.97,34.06%20184.97,1.11%20193.43,1.11%20193.43,45.17%20182.64,45.17%20165.78,12.22%20165.66,12.22%20165.66,45.17%20157.2,45.17%20157.2,1.11%20Z%20M%20157.2,1.11'%20/%3e%3cpath%20id='fdplockuplogo-bezier8'%20stroke='none'%20fill='rgb(33,%2094,%20171)'%20d='M%20200.37,1.11%20L%20209.21,1.11%20209.21,18.91%20226.88,18.91%20226.88,1.11%20235.72,1.11%20235.72,45.17%20226.88,45.17%20226.88,25.85%20209.21,25.85%20209.21,45.17%20200.37,45.17%20200.37,1.11%20Z%20M%20200.37,1.11'%20/%3e%3cpath%20id='fdplockuplogo-bezier9'%20stroke='none'%20fill='rgb(33,%2094,%20171)'%20d='M%20267.78,9.19%20C%20265,7.99%20261.91,7.29%20258.81,7.29%20255.78,7.29%20251.87,8.62%20251.87,13.42%20251.87,21.05%20271.19,17.84%20271.19,32.61%20271.19,42.27%20263.55,45.93%20254.65,45.93%20249.85,45.93%20247.7,45.3%20243.35,44.22%20L%20244.17,36.27%20C%20247.2,37.91%20250.67,38.98%20254.14,38.98%20257.49,38.98%20261.97,37.28%20261.97,33.3%20261.97,24.91%20242.65,28.38%20242.65,13.79%20242.65,3.95%20250.29,0.35%20258.06,0.35%20261.84,0.35%20265.38,0.85%20268.6,1.93%20L%20267.78,9.19%20Z%20M%20267.78,9.19'%20/%3e%3cpath%20id='fdplockuplogo-bezier10'%20stroke='none'%20fill='rgb(33,%2094,%20171)'%20d='M%20287.4,1.11%20L%20311.89,1.11%20311.89,8.05%20296.23,8.05%20296.23,18.91%20311.13,18.91%20311.13,25.85%20296.23,25.85%20296.23,45.17%20287.4,45.17%20287.4,1.11%20Z%20M%20287.4,1.11'%20/%3e%3cpath%20id='fdplockuplogo-bezier11'%20stroke='none'%20fill='rgb(33,%2094,%20171)'%20d='M%20327.66,38.23%20L%20332.59,38.23%20C%20339.97,38.23%20347.11,32.73%20347.11,23.14%20347.11,13.54%20339.97,8.05%20332.59,8.05%20L%20327.66,8.05%20327.66,38.23%20Z%20M%20318.82,1.1%20L%20330.88,1.1%20C%20344.39,1.1%20356.32,5.65%20356.32,23.14%20356.32,40.63%20344.39,45.17%20330.88,45.17%20L%20318.82,45.17%20318.82,1.1%20Z%20M%20318.82,1.1'%20/%3e%3cpath%20id='fdplockuplogo-bezier12'%20stroke='none'%20fill='rgb(33,%2094,%20171)'%20d='M%20372.09,21.5%20L%20375.19,21.5%20C%20379.61,21.5%20383.58,20.04%20383.58,14.93%20383.58,9.82%20379.73,8.05%20375.19,8.05%20L%20372.09,8.05%20372.09,21.5%20Z%20M%20363.26,1.11%20L%20374.43,1.11%20C%20384.03,1.11%20392.8,3.88%20392.8,14.43%20392.8,24.72%20385.29,28.44%20375.82,28.44%20L%20372.09,28.44%20372.09,45.17%20363.26,45.17%20363.26,1.11%20Z%20M%20363.26,1.11'%20/%3e%3cg%20id='fdplockuplogo-group3'%3e%3cg%20id='fdplockuplogo-squareGroup'%3e%3crect%20id='fdplockuplogo-rectangle'%20stroke='none'%20fill='rgb(34,%2094,%20172)'%20x='0.02'%20y='0.49'%20width='45.6'%20height='46.6'%20/%3e%3crect%20id='fdplockuplogo-rectangle2'%20stroke='none'%20fill='url(%23fdplockuplogo-gradient-rectangle2)'%20x='0'%20y='0'%20width='45.65'%20height='23'%20/%3e%3c/g%3e%3cg%20id='fdplockuplogo-hexagonGroup'%3e%3cpath%20id='fdplockuplogo-polygon'%20stroke='none'%20fill='rgb(73,%20160,%20152)'%20d='M%2058.9,-0%20L%2085.5,-0%2098.8,23.53%2085.5,47.06%2058.9,47.06%2045.6,23.53%2058.9,-0%20Z%20M%2058.9,-0'%20/%3e%3cg%20id='fdplockuplogo-hexagon'%3e%3cpath%20id='fdplockuplogo-clip'%20stroke='none'%20fill='url(%23fdplockuplogo-gradient2-clip)'%20d='M%2058.93,-0%20L%2045.64,24%2098.8,24%2085.51,-0%2058.93,-0%20Z%20M%2058.93,-0'%20/%3e%3c/g%3e%3c/g%3e%3cg%20id='fdplockuplogo-circleGroup'%3e%3cg%20id='fdplockuplogo-group'%3e%3ccircle%20id='fdplockuplogo-oval'%20stroke='none'%20fill='rgb(214,%20203,%20226)'%20cx='121.75'%20cy='23.3'%20r='23.3'%20/%3e%3cpath%20id='fdplockuplogo-bezier4'%20stroke='none'%20fill='url(%23fdplockuplogo-gradient4-bezier4)'%20d='M%20121.75,23.3%20L%2098.45,23.3%20C%2098.45,36.17%20108.88,46.61%20121.75,46.61%20L%20121.75,46.61%20C%20134.62,46.61%20145.05,36.17%20145.05,23.3%20L%20145.05,23.3%20121.75,23.3%20Z%20M%20121.75,23.3'%20/%3e%3c/g%3e%3c/g%3e%3cpath%20id='fdplockuplogo-bezier5'%20stroke='rgb(217,%20216,%20216)'%20stroke-width='1'%20stroke-miterlimit='2.49'%20fill='none'%20d='M%2022.3,23.48%20L%20122.54,23.48'%20/%3e%3c/g%3e%3c/svg%3e",Ex="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='UTF-8'?%3e%3c!DOCTYPE%20svg%20PUBLIC%20'-//W3C//DTD%20SVG%201.1//EN'%20'http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd'%3e%3csvg%20version='1.1'%20xmlns='http://www.w3.org/2000/svg'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20width='393'%20height='47'%20xml:space='preserve'%20id='fdplockuplogoinverted'%3e%3cdefs%3e%3clinearGradient%20id='fdplockuplogoinverted-gradient-rectangle2'%20x1='45.65'%20y1='11.5'%20x2='0.01'%20y2='11.5'%20gradientUnits='userSpaceOnUse'%20%3e%3cstop%20offset='0'%20stop-color='rgb(96,%20178,%20226)'%20stop-opacity='1'%20/%3e%3cstop%20offset='0.51'%20stop-color='rgb(34,%2094,%20172)'%20stop-opacity='1'%20/%3e%3c/linearGradient%3e%3clinearGradient%20id='fdplockuplogoinverted-gradient2-clip'%20x1='98.8'%20y1='12'%20x2='45.64'%20y2='12'%20gradientUnits='userSpaceOnUse'%20%3e%3cstop%20offset='0.5'%20stop-color='rgb(4,%20150,%2071)'%20stop-opacity='1'%20/%3e%3cstop%20offset='0.64'%20stop-color='rgb(51,%20159,%20112)'%20stop-opacity='1'%20/%3e%3cstop%20offset='1'%20stop-color='rgb(98,%20167,%20153)'%20stop-opacity='1'%20/%3e%3c/linearGradient%3e%3clinearGradient%20id='fdplockuplogoinverted-gradient4-bezier4'%20x1='145.05'%20y1='34.96'%20x2='98.45'%20y2='34.96'%20gradientUnits='userSpaceOnUse'%20%3e%3cstop%20offset='0.5'%20stop-color='rgb(214,%20203,%20226)'%20stop-opacity='1'%20/%3e%3cstop%20offset='0.86'%20stop-color='rgb(234,%20229,%20240)'%20stop-opacity='1'%20/%3e%3cstop%20offset='1'%20stop-color='rgb(255,%20255,%20255)'%20stop-opacity='1'%20/%3e%3c/linearGradient%3e%3c/defs%3e%3cpath%20id='fdplockuplogoinverted-bezier7'%20stroke='none'%20fill='rgb(254,%20254,%20254)'%20d='M%20157.2,1.11%20L%20168.06,1.11%20184.85,34.06%20184.97,34.06%20184.97,1.11%20193.43,1.11%20193.43,45.17%20182.64,45.17%20165.78,12.22%20165.66,12.22%20165.66,45.17%20157.2,45.17%20157.2,1.11%20Z%20M%20157.2,1.11'%20/%3e%3cpath%20id='fdplockuplogoinverted-bezier8'%20stroke='none'%20fill='rgb(254,%20254,%20254)'%20d='M%20200.37,1.11%20L%20209.21,1.11%20209.21,18.91%20226.88,18.91%20226.88,1.11%20235.72,1.11%20235.72,45.17%20226.88,45.17%20226.88,25.85%20209.21,25.85%20209.21,45.17%20200.37,45.17%20200.37,1.11%20Z%20M%20200.37,1.11'%20/%3e%3cpath%20id='fdplockuplogoinverted-bezier9'%20stroke='none'%20fill='rgb(254,%20254,%20254)'%20d='M%20267.78,9.19%20C%20265,7.99%20261.91,7.29%20258.81,7.29%20255.78,7.29%20251.87,8.62%20251.87,13.42%20251.87,21.05%20271.19,17.84%20271.19,32.61%20271.19,42.27%20263.55,45.93%20254.65,45.93%20249.85,45.93%20247.7,45.3%20243.35,44.22%20L%20244.17,36.27%20C%20247.2,37.91%20250.67,38.98%20254.14,38.98%20257.49,38.98%20261.97,37.28%20261.97,33.3%20261.97,24.91%20242.65,28.38%20242.65,13.79%20242.65,3.95%20250.29,0.35%20258.06,0.35%20261.84,0.35%20265.38,0.85%20268.6,1.93%20L%20267.78,9.19%20Z%20M%20267.78,9.19'%20/%3e%3cpath%20id='fdplockuplogoinverted-bezier10'%20stroke='none'%20fill='rgb(254,%20254,%20254)'%20d='M%20287.4,1.11%20L%20311.89,1.11%20311.89,8.05%20296.23,8.05%20296.23,18.91%20311.13,18.91%20311.13,25.85%20296.23,25.85%20296.23,45.17%20287.4,45.17%20287.4,1.11%20Z%20M%20287.4,1.11'%20/%3e%3cpath%20id='fdplockuplogoinverted-bezier11'%20stroke='none'%20fill='rgb(254,%20254,%20254)'%20d='M%20327.66,38.23%20L%20332.59,38.23%20C%20339.97,38.23%20347.11,32.73%20347.11,23.14%20347.11,13.54%20339.97,8.05%20332.59,8.05%20L%20327.66,8.05%20327.66,38.23%20Z%20M%20318.82,1.1%20L%20330.88,1.1%20C%20344.39,1.1%20356.32,5.65%20356.32,23.14%20356.32,40.63%20344.39,45.17%20330.88,45.17%20L%20318.82,45.17%20318.82,1.1%20Z%20M%20318.82,1.1'%20/%3e%3cpath%20id='fdplockuplogoinverted-bezier12'%20stroke='none'%20fill='rgb(254,%20254,%20254)'%20d='M%20372.09,21.5%20L%20375.19,21.5%20C%20379.61,21.5%20383.58,20.04%20383.58,14.93%20383.58,9.82%20379.73,8.05%20375.19,8.05%20L%20372.09,8.05%20372.09,21.5%20Z%20M%20363.26,1.11%20L%20374.43,1.11%20C%20384.03,1.11%20392.8,3.88%20392.8,14.43%20392.8,24.72%20385.29,28.44%20375.82,28.44%20L%20372.09,28.44%20372.09,45.17%20363.26,45.17%20363.26,1.11%20Z%20M%20363.26,1.11'%20/%3e%3cg%20id='fdplockuplogoinverted-group3'%3e%3cg%20id='fdplockuplogoinverted-squareGroup'%3e%3crect%20id='fdplockuplogoinverted-rectangle'%20stroke='none'%20fill='rgb(34,%2094,%20172)'%20x='0.02'%20y='0.49'%20width='45.6'%20height='46.6'%20/%3e%3crect%20id='fdplockuplogoinverted-rectangle2'%20stroke='none'%20fill='url(%23fdplockuplogoinverted-gradient-rectangle2)'%20x='0'%20y='0'%20width='45.65'%20height='23'%20/%3e%3c/g%3e%3cg%20id='fdplockuplogoinverted-hexagonGroup'%3e%3cpath%20id='fdplockuplogoinverted-polygon'%20stroke='none'%20fill='rgb(73,%20160,%20152)'%20d='M%2058.9,-0%20L%2085.5,-0%2098.8,23.53%2085.5,47.06%2058.9,47.06%2045.6,23.53%2058.9,-0%20Z%20M%2058.9,-0'%20/%3e%3cg%20id='fdplockuplogoinverted-hexagon'%3e%3cpath%20id='fdplockuplogoinverted-clip'%20stroke='none'%20fill='url(%23fdplockuplogoinverted-gradient2-clip)'%20d='M%2058.93,-0%20L%2045.64,24%2098.8,24%2085.51,-0%2058.93,-0%20Z%20M%2058.93,-0'%20/%3e%3c/g%3e%3c/g%3e%3cg%20id='fdplockuplogoinverted-circleGroup'%3e%3cg%20id='fdplockuplogoinverted-group'%3e%3ccircle%20id='fdplockuplogoinverted-oval'%20stroke='none'%20fill='rgb(214,%20203,%20226)'%20cx='121.75'%20cy='23.3'%20r='23.3'%20/%3e%3cpath%20id='fdplockuplogoinverted-bezier4'%20stroke='none'%20fill='url(%23fdplockuplogoinverted-gradient4-bezier4)'%20d='M%20121.75,23.3%20L%2098.45,23.3%20C%2098.45,36.17%20108.88,46.61%20121.75,46.61%20L%20121.75,46.61%20C%20134.62,46.61%20145.05,36.17%20145.05,23.3%20L%20145.05,23.3%20121.75,23.3%20Z%20M%20121.75,23.3'%20/%3e%3c/g%3e%3c/g%3e%3cpath%20id='fdplockuplogoinverted-bezier5'%20stroke='rgb(217,%20216,%20216)'%20stroke-width='1'%20stroke-miterlimit='2.49'%20fill='none'%20d='M%2022.3,23.48%20L%20122.54,23.48'%20/%3e%3c/g%3e%3c/svg%3e";var la=(e=>(e.NHS="nhs",e.FDP="fdp",e))(la||{}),ca=(e=>(e.Full="full",e.Graphic="graphic",e.Inverse="inverse",e.TwoLine="twoLine",e.TwoLineInverse="twoLineInverse",e.Compact="compact",e.CompactInverted="compactInverted",e))(ca||{});const Kf={nhs:{},fdp:{full:{brand:"fdp",variant:"full",src:jx,ariaLabel:"FDP"},graphic:{brand:"fdp",variant:"graphic",src:Lx,ariaLabel:"FDP"},inverse:{brand:"fdp",variant:"inverse",src:Ix,ariaLabel:"FDP"},twoLine:{brand:"fdp",variant:"twoLine",src:Tx,ariaLabel:"FDP"},twoLineInverse:{brand:"fdp",variant:"twoLineInverse",src:Dx,ariaLabel:"FDP"},compact:{brand:"fdp",variant:"compact",src:Ax,ariaLabel:"FDP"},compactInverted:{brand:"fdp",variant:"compactInverted",src:Ex,ariaLabel:"FDP"}}};function hc(e,t="full"){return Kf[e]?.[t]}function Px(e,{variant:t,isClient:n,menuOpen:r=!1,showMoreButton:i=!1,visibleItems:o,dropdownVisible:s,toggleMenu:l,navContainerRef:c,navListRef:u,searchNode:d,brand:f}){const{className:p,logo:h={},service:g={},serviceName:m,organisation:y,search:C,account:N,navigation:j,containerClasses:w,variant:b="default",attributes:S={},maxVisibleItems:M,responsiveNavigation:x=!0,logoVariant:v=ca.Full,logoVariant:_,...E}=e,D={...g,text:g?.text??m};"maxVisibleItems"in E&&delete E.maxVisibleItems;const B=D.href&&!h.href||D.href&&D.href===h.href,A=B?D.href:h.href,I=Oe("nhsuk-header",{"nhsuk-header--organisation":b==="organisation"||y,"nhsuk-header--white":b==="white"},p),L=Oe("nhsuk-header__container",w),F=Oe("nhsuk-header__navigation",{"nhsuk-header__navigation--white":j?.white,"nhsuk-header__navigation--justified":j?.justified},j?.className),ee=f??(typeof document>"u"?"nhs":document.documentElement.getAttribute("data-brand")==="fdp"?"fdp":"nhs"),T=()=>a.jsxs("svg",{className:"nhsuk-header__logo",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 200 80",height:"40",width:"100",focusable:"false",role:"img","aria-label":h.ariaLabel||"NHS",children:[a.jsx("title",{children:h.ariaLabel||"NHS"}),a.jsx("path",{fill:"#fff",d:"M200 0v80H0V0h200Zm-27.5 5.5c-14.5 0-29 5-29 22 0 10.2 7.7 13.5 14.7 16.3l.7.3c5.4 2 10.1 3.9 10.1 8.4 0 6.5-8.5 7.5-14 7.5s-12.5-1.5-16-3.5L135 70c5.5 2 13.5 3.5 20 3.5 15.5 0 32-4.5 32-22.5 0-19.5-25.5-16.5-25.5-25.5 0-5.5 5.5-6.5 12.5-6.5a35 35 0 0 1 14.5 3l4-13.5c-4.5-2-12-3-20-3Zm-131 2h-22l-14 65H22l9-45h.5l13.5 45h21.5l14-65H64l-9 45h-.5l-13-45Zm63 0h-18l-13 65h17l6-28H117l-5.5 28H129l13.5-65H125L119.5 32h-20l5-24.5Z"})]}),X=()=>{if(h.src)return a.jsx("img",{className:"nhsuk-header__organisation-logo",src:h.src,width:"280",alt:h.ariaLabel||(ee==="fdp"?"FDP":"NHS")});if(ee==="fdp"){const R=hc(la.FDP,v);if(R?.src)return a.jsx("img",{className:"nhsuk-header__organisation-logo",src:R.src,"data-logo-variant":v,width:"280",alt:R.ariaLabel||"FDP"})}return T()},O=()=>y?a.jsxs(a.Fragment,{children:[a.jsxs("span",{className:"nhsuk-header__organisation-name",children:[y.name,y.split&&a.jsxs("span",{className:"nhsuk-header__organisation-name-split",children:[" ",y.split]})]}),y.descriptor&&a.jsx("span",{className:"nhsuk-header__organisation-name-descriptor",children:y.descriptor})]}):null,$=(R,J)=>R?J?a.jsx("a",{className:"nhsuk-header__service-name",href:J,children:R}):a.jsx("span",{className:"nhsuk-header__service-name",children:R}):null,V=R=>R.active||R.current?a.jsx("strong",{className:"nhsuk-header__navigation-item-current-fallback",children:R.html?a.jsx("span",{dangerouslySetInnerHTML:{__html:R.html}}):R.text}):R.html?a.jsx("span",{dangerouslySetInnerHTML:{__html:R.html}}):R.text,Y=()=>a.jsx("svg",{className:"nhsuk-icon nhsuk-icon__chevron-down",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24","aria-hidden":"true",focusable:"false",children:a.jsx("path",{d:"M15.5 12a1 1 0 0 1-.29.71l-5 5a1 1 0 0 1-1.42-1.42l4.3-4.29-4.3-4.29a1 1 0 0 1 1.42-1.42l5 5a1 1 0 0 1 .29.71z"})});return j?.items,a.jsxs("header",{className:I,role:"banner","data-module":"nhsuk-header",...S,...E,children:[a.jsxs("div",{className:L,children:[a.jsxs("div",{className:"nhsuk-header__service",children:[A?a.jsxs("a",{className:"nhsuk-header__service-logo",href:A,children:[X(),O(),B&&$(D.text)]}):a.jsxs(a.Fragment,{children:[X(),O(),B&&$(D.text)]}),D.text&&!B&&$(D.text,D.href)]}),d??null,a.jsx(oc,{...N,variant:b==="white"?"white":"default"})]}),j&&j.items&&j.items.length>0&&a.jsx("nav",{className:F,"aria-label":j.ariaLabel||"Menu",children:a.jsx("div",{className:Oe("nhsuk-header__navigation-container","nhsuk-width-container",{"nhsuk-header__navigation-container--initializing":n&&t==="client","nhsuk-header__navigation-container--ssr":!n},w),ref:c,children:a.jsxs("ul",{className:"nhsuk-header__navigation-list",ref:u,children:[(j?.items||[]).map((R,J)=>a.jsx("li",{className:Oe("nhsuk-header__navigation-item",{"nhsuk-header__navigation-item--current":R.active||R.current,"nhsuk-header__navigation-item--hidden":i&&o!==void 0&&J>=(o??0)},R.className),...R.attributes||{},children:a.jsx("a",{className:"nhsuk-header__navigation-link",href:R.href,...R.active||R.current?{"aria-current":R.current?"page":"true"}:{},children:V(R)})},J)),i&&o!==void 0&&a.jsx("li",{className:"nhsuk-header__navigation-item nhsuk-header__navigation-item--more",children:a.jsxs("button",{className:"nhsuk-header__navigation-button",id:"toggle-more-menu",type:"button","aria-haspopup":"true","aria-expanded":r?"true":"false","aria-controls":"nhsuk-header-more-menu",onClick:l,children:[a.jsx("span",{children:"More"}),Y()]})})]})})}),n&&j&&j.items&&j.items.length>0&&r&&s&&a.jsx("div",{className:"nhsuk-header__dropdown-menu",hidden:!s,id:"nhsuk-header-more-menu",children:a.jsx("ul",{className:"nhsuk-header__dropdown-list",children:j.items.slice(o??0).map((R,J)=>a.jsx("li",{className:Oe("nhsuk-header__dropdown-item",{"nhsuk-header__dropdown-item--current":R.active||R.current}),children:a.jsx("a",{className:"nhsuk-header__dropdown-link",href:R.href,...R.active||R.current?{"aria-current":R.current?"page":"true"}:{},onClick:()=>{l?.()},children:V(R)})},`overflow-${(o??0)+J}`))})}),t==="server"]})}const pc=P.createContext(void 0);function Fx({brand:e="nhs",scope:t="document",children:n}){const[r,i]=P.useState(e);P.useEffect(()=>{i(e)},[e]),P.useEffect(()=>{if(t==="document")return document.documentElement.setAttribute("data-brand",r),()=>{}},[r,t]);const o=P.useMemo(()=>({brand:r,setBrand:i}),[r]);return t==="local"?a.jsx(pc.Provider,{value:o,children:a.jsx("div",{"data-brand":r,children:n})}):a.jsx(pc.Provider,{value:o,children:n})}function Qf(){const e=P.useContext(pc);if(!e)throw new Error("useBrand must be used within BrandThemeProvider");return e}const eh=({mode:e="form",action:t="/search",method:n="get",name:r="q",value:i,placeholder:o="Search",visuallyHiddenLabel:s="Search the NHS website",visuallyHiddenButton:l="Search",className:c,disabled:u=!1,callbacks:d={},isLoading:f=!1,showResults:p=!1,results:h=[],formAttributes:g={},inputAttributes:m={},buttonAttributes:y={},preventDefaultSubmit:C=!1,debounceMs:N=300,minQueryLength:j=1})=>{const[w,b]=P.useState(""),[S,M]=P.useState(!1),x=P.useRef(void 0),v=P.useRef(null),_=P.useRef(null),E=e==="controlled"&&i!==void 0,D=E?i:w,B=P.useCallback($=>{x.current&&clearTimeout(x.current),x.current=setTimeout(()=>{d.onChange&&$.length>=j&&d.onChange($)},N)},[d.onChange,N,j]),A=P.useCallback($=>{const V=$.target.value;E||b(V),e!=="form"&&B(V)},[E,e,B]),I=P.useCallback($=>{const V=D.trim(),Y={query:V,timestamp:Date.now(),formData:new FormData($.currentTarget)};e==="controlled"||e==="hybrid"&&C?($.preventDefault(),d.onSearch&&V.length>=j&&d.onSearch(Y)):e==="hybrid"&&d.onSearch&&V.length>=j&&d.onSearch(Y)},[e,D,d.onSearch,C,j]),L=P.useCallback(()=>{M(!0),d.onFocus?.()},[d.onFocus]),F=P.useCallback(()=>{M(!1),d.onBlur?.()},[d.onBlur]),G=P.useCallback(()=>{E||b(""),d.onClear?.(),_.current?.focus()},[E,d.onClear]);P.useEffect(()=>()=>{x.current&&clearTimeout(x.current)},[]);const ee=()=>a.jsx("svg",{className:Oe("nhsuk-icon nhsuk-icon__search",{"nhsuk-icon__search--loading":f}),xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24","aria-hidden":"true",focusable:"false",children:a.jsx("path",{d:"M19.71 18.29l-4.11-4.1a7 7 0 1 0-1.41 1.41l4.1 4.11a1 1 0 0 0 1.42 0 1 1 0 0 0 0-1.42zM5 10a5 5 0 1 1 5 5 5 5 0 0 1-5-5z"})}),T=()=>a.jsx("svg",{className:"nhsuk-icon nhsuk-icon__spinner",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24","aria-hidden":"true",focusable:"false",children:a.jsxs("circle",{cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"2",fill:"none",strokeLinecap:"round",strokeDasharray:"31.416",strokeDashoffset:"31.416",children:[a.jsx("animate",{attributeName:"stroke-dasharray",dur:"2s",values:"0 31.416;15.708 15.708;0 31.416",repeatCount:"indefinite"}),a.jsx("animate",{attributeName:"stroke-dashoffset",dur:"2s",values:"0;-15.708;-31.416",repeatCount:"indefinite"})]})}),X=()=>!D||e==="form"?null:a.jsx("button",{type:"button",className:"nhsuk-header__search-clear",onClick:G,"aria-label":"Clear search",children:a.jsx("svg",{className:"nhsuk-icon nhsuk-icon__close",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24","aria-hidden":"true",focusable:"false",children:a.jsx("path",{d:"M13.41 12l5.3-5.29a1 1 0 1 0-1.42-1.42L12 10.59l-5.29-5.3a1 1 0 0 0-1.42 1.42l5.3 5.29-5.3 5.29a1 1 0 0 0 1.42 1.42l5.29-5.3 5.29 5.3a1 1 0 0 0 1.42-1.42z"})})}),O=()=>!p||!h.length||!S?null:a.jsx("div",{className:"nhsuk-header__search-results",role:"listbox",children:h.map($=>a.jsx("div",{className:"nhsuk-header__search-result",role:"option",children:$.href?a.jsxs("a",{href:$.href,className:"nhsuk-header__search-result-link",children:[a.jsx("span",{className:"nhsuk-header__search-result-title",children:$.title}),$.description&&a.jsx("span",{className:"nhsuk-header__search-result-description",children:$.description})]}):a.jsxs("button",{type:"button",className:"nhsuk-header__search-result-button",onClick:()=>d.onSearch?.({query:$.title,timestamp:Date.now()}),children:[a.jsx("span",{className:"nhsuk-header__search-result-title",children:$.title}),$.description&&a.jsx("span",{className:"nhsuk-header__search-result-description",children:$.description})]})},$.id))});return a.jsxs("div",{className:Oe("nhsuk-header__search",c,{"nhsuk-header__search--controlled":e==="controlled","nhsuk-header__search--hybrid":e==="hybrid","nhsuk-header__search--loading":f,"nhsuk-header__search--focused":S,"nhsuk-header__search--has-results":p&&h.length>0}),children:[a.jsxs("form",{ref:v,className:"nhsuk-header__search-form",id:"search",action:e!=="controlled"?t:void 0,method:e!=="controlled"?n:void 0,role:"search",onSubmit:I,...g,children:[a.jsx("label",{className:"nhsuk-u-visually-hidden",htmlFor:"search-field",children:s}),a.jsxs("div",{className:"nhsuk-header__search-input-wrapper",children:[a.jsx("input",{ref:_,className:"nhsuk-header__search-input nhsuk-input",id:"search-field",name:e!=="controlled"?r:void 0,type:"search",placeholder:o,autoComplete:"off",value:D,onChange:A,onFocus:L,onBlur:F,disabled:u||f,...p&&h.length>0?{"aria-expanded":!0,"aria-haspopup":"listbox"}:{},...m}),X()]}),a.jsxs("button",{className:"nhsuk-header__search-submit",type:"submit",disabled:u||f||e!=="form"&&D.length<j,...y,children:[f?T():ee(),a.jsx("span",{className:"nhsuk-u-visually-hidden",children:f?"Searching...":l})]})]}),O()]})},ua=({className:e,logo:t={},service:n={},organisation:r,search:i,account:o,navigation:s,containerClasses:l,variant:c="default",attributes:u={},...d})=>{const[f,p]=P.useState(!1),[h,g]=P.useState(!1),[m,y]=P.useState(s?.items?.length||0),[C,N]=P.useState(!1),[j,w]=P.useState(!1),b=P.useRef(null),S=P.useRef(null),M=P.useRef(!1);P.useEffect(()=>{typeof window>"u"||w(!0)},[]),P.useEffect(()=>{if(typeof document>"u")return;const D=B=>{B.key==="Escape"&&f&&p(!1)};if(f)return document.addEventListener("keydown",D),()=>document.removeEventListener("keydown",D)},[f]);const x=P.useRef(null),v=P.useCallback(()=>{if(!j||!s?.items||s.items.length===0||M.current)return;const D=b.current,B=S.current;if(!D||!B)return;M.current=!0,D.classList.add("nhsuk-header__navigation-container--measuring");const A=D.clientWidth,I=Array.from(B.children);if(!I.length){D.classList.remove("nhsuk-header__navigation-container--measuring"),M.current=!1;return}if(x.current==null){const Y=document.createElement("button");Y.type="button",Y.className="nhsuk-header__navigation-button nhsuk-header__navigation-button--prototype",Y.style.position="absolute",Y.style.visibility="hidden",Y.style.pointerEvents="none",Y.innerHTML="<span>More</span>",D.appendChild(Y),x.current=Y.getBoundingClientRect().width||104,D.removeChild(Y)}const L=x.current+16;let F=0,G=0;const ee=window.getComputedStyle(D),T=parseFloat(ee.paddingLeft)||0,X=parseFloat(ee.paddingRight)||0;let O=T+X;for(const Y of I){const R=Y.getBoundingClientRect().width;if(F+R+L+O>A)break;F+=R,G+=1}const $=G<s.items.length,V=$?G:s.items.length;g(Y=>Y===$?Y:$),y(Y=>Y===V?Y:V),D.classList.remove("nhsuk-header__navigation-container--measuring"),M.current=!1},[j,s?.items]);P.useEffect(()=>{if(!j)return;const D=b.current;if(!D)return;let B=null;const A=()=>{B==null&&(B=window.requestAnimationFrame(()=>{B=null,v()}))};v();const I=new ResizeObserver(()=>A());return I.observe(D),S.current&&I.observe(S.current),()=>{B!=null&&window.cancelAnimationFrame(B),I.disconnect()}},[j,v]),P.useEffect(()=>{j&&v()},[s?.items?.length,j,v]);const _=D=>{D&&(D.preventDefault(),D.stopPropagation());const B=!f;p(B),N(B)},E=(()=>{try{return Qf()}catch{return}})();return Px({className:e,logo:t,service:n,organisation:r,search:i,account:o,navigation:s,containerClasses:l,variant:c,attributes:u,...d},{variant:"client",isClient:j,menuOpen:f,showMoreButton:h,visibleItems:m,dropdownVisible:C,toggleMenu:_,navContainerRef:b,navListRef:S,searchNode:i?a.jsx(eh,{...i}):null,brand:E?.brand})};function $x(e,{variant:t,isClient:n,brand:r}){const{className:i,logo:o={},service:s={},serviceName:l,organisation:c,account:u,navigation:d,containerClasses:f,variant:p="default",attributes:h={},maxVisibleItems:g,responsiveNavigation:m=!0,logoVariant:y=ca.Full,...C}=e;"maxVisibleItems"in C&&delete C.maxVisibleItems;const N={...s,text:s?.text??l},j=N.href&&!o.href||N.href&&N.href===o.href,w=j?N.href:o.href,b=Oe("nhsuk-header",{"nhsuk-header--organisation":p==="organisation"||c,"nhsuk-header--white":p==="white"},i),S=Oe("nhsuk-header__container",f),M=Oe("nhsuk-header__navigation",{"nhsuk-header__navigation--white":d?.white,"nhsuk-header__navigation--justified":d?.justified},d?.className),x=r==="fdp"?"fdp":"nhs",v=()=>a.jsxs("svg",{className:"nhsuk-header__logo",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 200 80",height:"40",width:"100",focusable:"false",role:"img","aria-label":o.ariaLabel||"NHS",children:[a.jsx("title",{children:o.ariaLabel||"NHS"}),a.jsx("path",{fill:"#fff",d:"M200 0v80H0V0h200Zm-27.5 5.5c-14.5 0-29 5-29 22 0 10.2 7.7 13.5 14.7 16.3l.7.3c5.4 2 10.1 3.9 10.1 8.4 0 6.5-8.5 7.5-14 7.5s-12.5-1.5-16-3.5L135 70c5.5 2 13.5 3.5 20 3.5 15.5 0 32-4.5 32-22.5 0-19.5-25.5-16.5-25.5-25.5 0-5.5 5.5-6.5 12.5-6.5a35 35 0 0 1 14.5 3l4-13.5c-4.5-2-12-3-20-3Zm-131 2h-22l-14 65H22l9-45h.5l13.5 45h21.5l14-65H64l-9 45h-.5l-13-45Zm63 0h-18l-13 65h17l6-28H117l-5.5 28H129l13.5-65H125L119.5 32h-20l5-24.5Z"})]}),_=()=>{if(o.src)return a.jsx("img",{className:"nhsuk-header__organisation-logo",src:o.src,width:"280",alt:o.ariaLabel||(x==="fdp"?"FDP":"NHS")});if(x==="fdp"){const F=hc(la.FDP,y);if(F?.src)return a.jsx("img",{className:"nhsuk-header__organisation-logo",src:F.src,"data-logo-variant":y,width:"280",alt:F.ariaLabel||"FDP"})}return v()},E=()=>c?a.jsxs(a.Fragment,{children:[a.jsxs("span",{className:"nhsuk-header__organisation-name",children:[c.name,c.split&&a.jsxs("span",{className:"nhsuk-header__organisation-name-split",children:[" ",c.split]})]}),c.descriptor&&a.jsx("span",{className:"nhsuk-header__organisation-name-descriptor",children:c.descriptor})]}):null,D=(F,G)=>F?G?a.jsx("a",{className:"nhsuk-header__service-name",href:G,children:F}):a.jsx("span",{className:"nhsuk-header__service-name",children:F}):null,B=F=>F.active||F.current?a.jsx("strong",{className:"nhsuk-header__navigation-item-current-fallback",children:F.html?a.jsx("span",{dangerouslySetInnerHTML:{__html:F.html}}):F.text}):F.html?a.jsx("span",{dangerouslySetInnerHTML:{__html:F.html}}):F.text,A=d?.items&&!m,I=A?[]:d?.items,L=A?d.items:[];return a.jsxs("header",{className:b,role:"banner","data-module":"nhsuk-header",...h,...C,children:[a.jsxs("div",{className:S,children:[a.jsxs("div",{className:"nhsuk-header__service",children:[w?a.jsxs("a",{className:"nhsuk-header__service-logo",href:w,children:[_(),E(),j&&D(N.text)]}):a.jsxs(a.Fragment,{children:[_(),E(),j&&D(N.text)]}),N.text&&!j&&D(N.text,N.href)]}),a.jsx(oc,{...u,variant:p==="white"?"white":"default"})]}),d&&d.items&&d.items.length>0&&a.jsx("nav",{className:M,"aria-label":d.ariaLabel||"Menu",children:a.jsx("div",{className:Oe("nhsuk-header_navigation-container","nhsuk-width-container",{"nhsuk-header__navigation-container--ssr":!n},f),children:a.jsx("ul",{className:"nhsuk-header__navigation-list",children:(I||[]).map((F,G)=>a.jsx("li",{className:Oe("nhsuk-header__navigation-item",{"nhsuk-header__navigation-item--current":F.active||F.current},F.className),...F.attributes||{},children:a.jsx("a",{className:"nhsuk-header__navigation-link",href:F.href,...F.active||F.current?{"aria-current":F.current?"page":"true"}:{},children:B(F)})},G))})})}),A&&L.length>0&&a.jsx("div",{className:"nhsuk-header__dropdown-menu","data-ssr-overflow":"true",children:a.jsx("ul",{className:"nhsuk-header__dropdown-list",children:L.map((F,G)=>a.jsx("li",{className:Oe("nhsuk-header__dropdown-item",{"nhsuk-header__dropdown-item--current":F.active||F.current}),children:a.jsx("a",{className:"nhsuk-header__dropdown-link",href:F.href,...F.active||F.current?{"aria-current":F.current?"page":"true"}:{},children:B(F)})},`overflow-server-${G}`))})})]})}const Bx=e=>{const t=e.attributes?.["data-brand"];return $x(e,{variant:"server",isClient:!1,brand:t==="fdp"||t==="nhs"?t:void 0})},th=({heading:e,headingLevel:t=1,headingClasses:n="",text:r,html:i,imageURL:o,containerClasses:s="",classes:l="",children:c,...u})=>{const d=["nhsuk-hero",o&&e?"nhsuk-hero--image nhsuk-hero--image-description":"",o&&!e?"nhsuk-hero--image":"",l].filter(Boolean).join(" "),f=["nhsuk-width-container",s,o?"":"nhsuk-hero--border"].filter(Boolean).join(" "),p=["nhsuk-hero__heading",n,!c&&!r&&!i?"nhsuk-u-margin-bottom-0":""].filter(Boolean).join(" "),h=c||e||r||i,g=()=>{if(!e)return null;const m={className:p};switch(t){case 1:return a.jsx("h1",{...m,children:e});case 2:return a.jsx("h2",{...m,children:e});case 3:return a.jsx("h3",{...m,children:e});case 4:return a.jsx("h4",{...m,children:e});case 5:return a.jsx("h5",{...m,children:e});case 6:return a.jsx("h6",{...m,children:e});default:return a.jsx("h1",{...m,children:e})}};return a.jsxs("section",{className:d,style:o?{backgroundImage:`url('${o}')`}:void 0,role:"banner",...u,children:[o&&a.jsx("div",{className:"nhsuk-hero__overlay",children:h&&a.jsx("div",{className:f,children:a.jsx("div",{className:"nhsuk-grid-row",children:a.jsx("div",{className:"nhsuk-grid-column-two-thirds",children:a.jsxs("div",{className:"nhsuk-hero-content",children:[g(),c||(i?a.jsx("div",{dangerouslySetInnerHTML:{__html:i}}):r?a.jsx("p",{className:"nhsuk-body-l nhsuk-u-margin-bottom-0",children:r}):null),a.jsx("span",{className:"nhsuk-hero__arrow","aria-hidden":"true"})]})})})})}),!o&&h&&a.jsx("div",{className:f,children:a.jsx("div",{className:"nhsuk-grid-row",children:a.jsx("div",{className:"nhsuk-grid-column-two-thirds",children:a.jsxs("div",{className:"nhsuk-hero__wrapper",children:[g(),c||(i?a.jsx("div",{dangerouslySetInnerHTML:{__html:i}}):r?a.jsx("p",{className:"nhsuk-body-l nhsuk-u-margin-bottom-0",children:r}):null)]})})})})]})};th.displayName="Hero";const mc=({className:e,links:t=[],linksColumn2:n,linksColumn3:r,metaLinks:i,copyright:o="Â© NHS England",containerClasses:s,attributes:l={},style:c,footerStyle:u,containerStyle:d})=>{const f=(h,g=!1)=>a.jsx("li",{className:Oe("nhsuk-footer__list-item",{"nhsuk-footer-default__list-item":g}),children:a.jsx("a",{className:"nhsuk-footer__list-item-link",href:h.URL,target:h.newWindow?"_blank":void 0,rel:h.newWindow?"noopener noreferrer":void 0,children:h.label})},`${h.URL}-${h.label}`),p=!!(n||r);return a.jsx("footer",{role:"contentinfo",...l,style:{...l?.style,...c},children:a.jsxs("div",{className:"nhsuk-footer-container",children:[a.jsxs("div",{className:Oe("nhsuk-width-container",s),style:d,children:[a.jsx("h2",{className:"nhsuk-u-visually-hidden",children:"Support links"}),a.jsx("div",{className:Oe("nhsuk-footer",e),style:u,children:p?a.jsxs(a.Fragment,{children:[t.length>0&&a.jsx("ul",{className:"nhsuk-footer__list",children:t.map(h=>f(h))}),n&&n.length>0&&a.jsx("ul",{className:"nhsuk-footer__list",children:n.map(h=>f(h))}),r&&r.length>0&&a.jsx("ul",{className:"nhsuk-footer__list",children:r.map(h=>f(h))}),i&&i.length>0&&a.jsx("ul",{className:"nhsuk-footer__list nhsuk-footer__meta",children:i.map(h=>f(h))})]}):a.jsxs("ul",{className:"nhsuk-footer__list",children:[t.map(h=>f(h,!0)),(n||[]).map(h=>f(h,!0)),(r||[]).map(h=>f(h,!0)),(i||[]).map(h=>f(h,!0))]})}),!p&&a.jsx("div",{children:a.jsx("p",{className:"nhsuk-footer__copyright",children:o})})]}),p&&a.jsx("div",{className:"nhsuk-width-container",children:a.jsx("div",{children:a.jsx("p",{className:"nhsuk-footer__copyright",children:o})})})]})})};function da(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function Ox(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function gc(e){let t,n,r;e.length!==2?(t=da,n=(l,c)=>da(e(l),c),r=(l,c)=>e(l)-c):(t=e===da||e===Ox?e:Rx,n=e,r=e);function i(l,c,u=0,d=l.length){if(u<d){if(t(c,c)!==0)return d;do{const f=u+d>>>1;n(l[f],c)<0?u=f+1:d=f}while(u<d)}return u}function o(l,c,u=0,d=l.length){if(u<d){if(t(c,c)!==0)return d;do{const f=u+d>>>1;n(l[f],c)<=0?u=f+1:d=f}while(u<d)}return u}function s(l,c,u=0,d=l.length){const f=i(l,c,u,d-1);return f>u&&r(l[f-1],c)>-r(l[f],c)?f-1:f}return{left:i,center:s,right:o}}function Rx(){return 0}function Hx(e){return e===null?NaN:+e}const zx=gc(da).right;gc(Hx).center;function nh(e,t){let n,r;if(t===void 0)for(const i of e)i!=null&&(n===void 0?i>=i&&(n=r=i):(n>i&&(n=i),r<i&&(r=i)));else{let i=-1;for(let o of e)(o=t(o,++i,e))!=null&&(n===void 0?o>=o&&(n=r=o):(n>o&&(n=o),r<o&&(r=o)))}return[n,r]}class rh extends Map{constructor(t,n=Gx){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),t!=null)for(const[r,i]of t)this.set(r,i)}get(t){return super.get(ih(this,t))}has(t){return super.has(ih(this,t))}set(t,n){return super.set(Ux(this,t),n)}delete(t){return super.delete(Wx(this,t))}}function ih({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):n}function Ux({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):(e.set(r,n),n)}function Wx({_intern:e,_key:t},n){const r=t(n);return e.has(r)&&(n=e.get(r),e.delete(r)),n}function Gx(e){return e!==null&&typeof e=="object"?e.valueOf():e}const Yx=Math.sqrt(50),Vx=Math.sqrt(10),Zx=Math.sqrt(2);function fa(e,t,n){const r=(t-e)/Math.max(0,n),i=Math.floor(Math.log10(r)),o=r/Math.pow(10,i),s=o>=Yx?10:o>=Vx?5:o>=Zx?2:1;let l,c,u;return i<0?(u=Math.pow(10,-i)/s,l=Math.round(e*u),c=Math.round(t*u),l/u<e&&++l,c/u>t&&--c,u=-u):(u=Math.pow(10,i)*s,l=Math.round(e/u),c=Math.round(t/u),l*u<e&&++l,c*u>t&&--c),c<l&&.5<=n&&n<2?fa(e,t,n*2):[l,c,u]}function qx(e,t,n){if(t=+t,e=+e,n=+n,!(n>0))return[];if(e===t)return[e];const r=t<e,[i,o,s]=r?fa(t,e,n):fa(e,t,n);if(!(o>=i))return[];const l=o-i+1,c=new Array(l);if(r)if(s<0)for(let u=0;u<l;++u)c[u]=(o-u)/-s;else for(let u=0;u<l;++u)c[u]=(o-u)*s;else if(s<0)for(let u=0;u<l;++u)c[u]=(i+u)/-s;else for(let u=0;u<l;++u)c[u]=(i+u)*s;return c}function yc(e,t,n){return t=+t,e=+e,n=+n,fa(e,t,n)[2]}function bc(e,t,n){t=+t,e=+e,n=+n;const r=t<e,i=r?yc(t,e,n):yc(e,t,n);return(r?-1:1)*(i<0?1/-i:i)}function Xx(e,t,n){e=+e,t=+t,n=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((t-e)/n))|0,o=new Array(i);++r<i;)o[r]=e+r*n;return o}function ha(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}const oh=Symbol("implicit");function sh(){var e=new rh,t=[],n=[],r=oh;function i(o){let s=e.get(o);if(s===void 0){if(r!==oh)return r;e.set(o,s=t.push(o)-1)}return n[s%n.length]}return i.domain=function(o){if(!arguments.length)return t.slice();t=[],e=new rh;for(const s of o)e.has(s)||e.set(s,t.push(s)-1);return i},i.range=function(o){return arguments.length?(n=Array.from(o),i):n.slice()},i.unknown=function(o){return arguments.length?(r=o,i):r},i.copy=function(){return sh(t,n).unknown(r)},ha.apply(i,arguments),i}function ah(){var e=sh().unknown(void 0),t=e.domain,n=e.range,r=0,i=1,o,s,l=!1,c=0,u=0,d=.5;delete e.unknown;function f(){var p=t().length,h=i<r,g=h?i:r,m=h?r:i;o=(m-g)/Math.max(1,p-c+u*2),l&&(o=Math.floor(o)),g+=(m-g-o*(p-c))*d,s=o*(1-c),l&&(g=Math.round(g),s=Math.round(s));var y=Xx(p).map(function(C){return g+o*C});return n(h?y.reverse():y)}return e.domain=function(p){return arguments.length?(t(p),f()):t()},e.range=function(p){return arguments.length?([r,i]=p,r=+r,i=+i,f()):[r,i]},e.rangeRound=function(p){return[r,i]=p,r=+r,i=+i,l=!0,f()},e.bandwidth=function(){return s},e.step=function(){return o},e.round=function(p){return arguments.length?(l=!!p,f()):l},e.padding=function(p){return arguments.length?(c=Math.min(1,u=+p),f()):c},e.paddingInner=function(p){return arguments.length?(c=Math.min(1,p),f()):c},e.paddingOuter=function(p){return arguments.length?(u=+p,f()):u},e.align=function(p){return arguments.length?(d=Math.max(0,Math.min(1,p)),f()):d},e.copy=function(){return ah(t(),[r,i]).round(l).paddingInner(c).paddingOuter(u).align(d)},ha.apply(f(),arguments)}function vc(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function lh(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function _o(){}var wo=.7,pa=1/wo,Ei="\\s*([+-]?\\d+)\\s*",So="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Yn="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Jx=/^#([0-9a-f]{3,8})$/,Kx=new RegExp(`^rgb\\(${Ei},${Ei},${Ei}\\)$`),Qx=new RegExp(`^rgb\\(${Yn},${Yn},${Yn}\\)$`),e_=new RegExp(`^rgba\\(${Ei},${Ei},${Ei},${So}\\)$`),t_=new RegExp(`^rgba\\(${Yn},${Yn},${Yn},${So}\\)$`),n_=new RegExp(`^hsl\\(${So},${Yn},${Yn}\\)$`),r_=new RegExp(`^hsla\\(${So},${Yn},${Yn},${So}\\)$`),ch={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};vc(_o,ko,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:uh,formatHex:uh,formatHex8:i_,formatHsl:o_,formatRgb:dh,toString:dh});function uh(){return this.rgb().formatHex()}function i_(){return this.rgb().formatHex8()}function o_(){return gh(this).formatHsl()}function dh(){return this.rgb().formatRgb()}function ko(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=Jx.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?fh(t):n===3?new fn(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?ma(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?ma(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=Kx.exec(e))?new fn(t[1],t[2],t[3],1):(t=Qx.exec(e))?new fn(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=e_.exec(e))?ma(t[1],t[2],t[3],t[4]):(t=t_.exec(e))?ma(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=n_.exec(e))?mh(t[1],t[2]/100,t[3]/100,1):(t=r_.exec(e))?mh(t[1],t[2]/100,t[3]/100,t[4]):ch.hasOwnProperty(e)?fh(ch[e]):e==="transparent"?new fn(NaN,NaN,NaN,0):null}function fh(e){return new fn(e>>16&255,e>>8&255,e&255,1)}function ma(e,t,n,r){return r<=0&&(e=t=n=NaN),new fn(e,t,n,r)}function s_(e){return e instanceof _o||(e=ko(e)),e?(e=e.rgb(),new fn(e.r,e.g,e.b,e.opacity)):new fn}function xc(e,t,n,r){return arguments.length===1?s_(e):new fn(e,t,n,r??1)}function fn(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}vc(fn,xc,lh(_o,{brighter(e){return e=e==null?pa:Math.pow(pa,e),new fn(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?wo:Math.pow(wo,e),new fn(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new fn(ei(this.r),ei(this.g),ei(this.b),ga(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:hh,formatHex:hh,formatHex8:a_,formatRgb:ph,toString:ph}));function hh(){return`#${ti(this.r)}${ti(this.g)}${ti(this.b)}`}function a_(){return`#${ti(this.r)}${ti(this.g)}${ti(this.b)}${ti((isNaN(this.opacity)?1:this.opacity)*255)}`}function ph(){const e=ga(this.opacity);return`${e===1?"rgb(":"rgba("}${ei(this.r)}, ${ei(this.g)}, ${ei(this.b)}${e===1?")":`, ${e})`}`}function ga(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function ei(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function ti(e){return e=ei(e),(e<16?"0":"")+e.toString(16)}function mh(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new Un(e,t,n,r)}function gh(e){if(e instanceof Un)return new Un(e.h,e.s,e.l,e.opacity);if(e instanceof _o||(e=ko(e)),!e)return new Un;if(e instanceof Un)return e;e=e.rgb();var t=e.r/255,n=e.g/255,r=e.b/255,i=Math.min(t,n,r),o=Math.max(t,n,r),s=NaN,l=o-i,c=(o+i)/2;return l?(t===o?s=(n-r)/l+(n<r)*6:n===o?s=(r-t)/l+2:s=(t-n)/l+4,l/=c<.5?o+i:2-o-i,s*=60):l=c>0&&c<1?0:s,new Un(s,l,c,e.opacity)}function l_(e,t,n,r){return arguments.length===1?gh(e):new Un(e,t,n,r??1)}function Un(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}vc(Un,l_,lh(_o,{brighter(e){return e=e==null?pa:Math.pow(pa,e),new Un(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?wo:Math.pow(wo,e),new Un(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,i=2*n-r;return new fn(_c(e>=240?e-240:e+120,i,r),_c(e,i,r),_c(e<120?e+240:e-120,i,r),this.opacity)},clamp(){return new Un(yh(this.h),ya(this.s),ya(this.l),ga(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=ga(this.opacity);return`${e===1?"hsl(":"hsla("}${yh(this.h)}, ${ya(this.s)*100}%, ${ya(this.l)*100}%${e===1?")":`, ${e})`}`}}));function yh(e){return e=(e||0)%360,e<0?e+360:e}function ya(e){return Math.max(0,Math.min(1,e||0))}function _c(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const wc=e=>()=>e;function c_(e,t){return function(n){return e+n*t}}function u_(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}function d_(e){return(e=+e)==1?bh:function(t,n){return n-t?u_(t,n,e):wc(isNaN(t)?n:t)}}function bh(e,t){var n=t-e;return n?c_(e,n):wc(isNaN(e)?t:e)}const vh=(function e(t){var n=d_(t);function r(i,o){var s=n((i=xc(i)).r,(o=xc(o)).r),l=n(i.g,o.g),c=n(i.b,o.b),u=bh(i.opacity,o.opacity);return function(d){return i.r=s(d),i.g=l(d),i.b=c(d),i.opacity=u(d),i+""}}return r.gamma=e,r})(1);function f_(e,t){t||(t=[]);var n=e?Math.min(t.length,e.length):0,r=t.slice(),i;return function(o){for(i=0;i<n;++i)r[i]=e[i]*(1-o)+t[i]*o;return r}}function h_(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function p_(e,t){var n=t?t.length:0,r=e?Math.min(n,e.length):0,i=new Array(r),o=new Array(n),s;for(s=0;s<r;++s)i[s]=Cc(e[s],t[s]);for(;s<n;++s)o[s]=t[s];return function(l){for(s=0;s<r;++s)o[s]=i[s](l);return o}}function m_(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function ba(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function g_(e,t){var n={},r={},i;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(i in t)i in e?n[i]=Cc(e[i],t[i]):r[i]=t[i];return function(o){for(i in n)r[i]=n[i](o);return r}}var Sc=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,kc=new RegExp(Sc.source,"g");function y_(e){return function(){return e}}function b_(e){return function(t){return e(t)+""}}function v_(e,t){var n=Sc.lastIndex=kc.lastIndex=0,r,i,o,s=-1,l=[],c=[];for(e=e+"",t=t+"";(r=Sc.exec(e))&&(i=kc.exec(t));)(o=i.index)>n&&(o=t.slice(n,o),l[s]?l[s]+=o:l[++s]=o),(r=r[0])===(i=i[0])?l[s]?l[s]+=i:l[++s]=i:(l[++s]=null,c.push({i:s,x:ba(r,i)})),n=kc.lastIndex;return n<t.length&&(o=t.slice(n),l[s]?l[s]+=o:l[++s]=o),l.length<2?c[0]?b_(c[0].x):y_(t):(t=c.length,function(u){for(var d=0,f;d<t;++d)l[(f=c[d]).i]=f.x(u);return l.join("")})}function Cc(e,t){var n=typeof t,r;return t==null||n==="boolean"?wc(t):(n==="number"?ba:n==="string"?(r=ko(t))?(t=r,vh):v_:t instanceof ko?vh:t instanceof Date?m_:h_(t)?f_:Array.isArray(t)?p_:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?g_:ba)(e,t)}function x_(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}function __(e){return function(){return e}}function w_(e){return+e}var xh=[0,1];function Pi(e){return e}function Nc(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:__(isNaN(t)?NaN:.5)}function S_(e,t){var n;return e>t&&(n=e,e=t,t=n),function(r){return Math.max(e,Math.min(t,r))}}function k_(e,t,n){var r=e[0],i=e[1],o=t[0],s=t[1];return i<r?(r=Nc(i,r),o=n(s,o)):(r=Nc(r,i),o=n(o,s)),function(l){return o(r(l))}}function C_(e,t,n){var r=Math.min(e.length,t.length)-1,i=new Array(r),o=new Array(r),s=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++s<r;)i[s]=Nc(e[s],e[s+1]),o[s]=n(t[s],t[s+1]);return function(l){var c=zx(e,l,1,r)-1;return o[c](i[c](l))}}function _h(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function N_(){var e=xh,t=xh,n=Cc,r,i,o,s=Pi,l,c,u;function d(){var p=Math.min(e.length,t.length);return s!==Pi&&(s=S_(e[0],e[p-1])),l=p>2?C_:k_,c=u=null,f}function f(p){return p==null||isNaN(p=+p)?o:(c||(c=l(e.map(r),t,n)))(r(s(p)))}return f.invert=function(p){return s(i((u||(u=l(t,e.map(r),ba)))(p)))},f.domain=function(p){return arguments.length?(e=Array.from(p,w_),d()):e.slice()},f.range=function(p){return arguments.length?(t=Array.from(p),d()):t.slice()},f.rangeRound=function(p){return t=Array.from(p),n=x_,d()},f.clamp=function(p){return arguments.length?(s=p?!0:Pi,d()):s!==Pi},f.interpolate=function(p){return arguments.length?(n=p,d()):n},f.unknown=function(p){return arguments.length?(o=p,f):o},function(p,h){return r=p,i=h,d()}}function wh(){return N_()(Pi,Pi)}function M_(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function va(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}function Fi(e){return e=va(Math.abs(e)),e?e[1]:NaN}function j_(e,t){return function(n,r){for(var i=n.length,o=[],s=0,l=e[0],c=0;i>0&&l>0&&(c+l+1>r&&(l=Math.max(1,r-c)),o.push(n.substring(i-=l,i+l)),!((c+=l+1)>r));)l=e[s=(s+1)%e.length];return o.reverse().join(t)}}function T_(e){return function(t){return t.replace(/[0-9]/g,function(n){return e[+n]})}}var D_=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function xa(e){if(!(t=D_.exec(e)))throw new Error("invalid format: "+e);var t;return new Mc({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}xa.prototype=Mc.prototype;function Mc(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}Mc.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function I_(e){e:for(var t=e.length,n=1,r=-1,i;n<t;++n)switch(e[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+e[n])break e;r>0&&(r=0);break}return r>0?e.slice(0,r)+e.slice(i+1):e}var Sh;function L_(e,t){var n=va(e,t);if(!n)return e+"";var r=n[0],i=n[1],o=i-(Sh=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,s=r.length;return o===s?r:o>s?r+new Array(o-s+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+va(e,Math.max(0,t+o-1))[0]}function kh(e,t){var n=va(e,t);if(!n)return e+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const Ch={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:M_,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>kh(e*100,t),r:kh,s:L_,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function Nh(e){return e}var Mh=Array.prototype.map,jh=["y","z","a","f","p","n","Âµ","m","","k","M","G","T","P","E","Z","Y"];function A_(e){var t=e.grouping===void 0||e.thousands===void 0?Nh:j_(Mh.call(e.grouping,Number),e.thousands+""),n=e.currency===void 0?"":e.currency[0]+"",r=e.currency===void 0?"":e.currency[1]+"",i=e.decimal===void 0?".":e.decimal+"",o=e.numerals===void 0?Nh:T_(Mh.call(e.numerals,String)),s=e.percent===void 0?"%":e.percent+"",l=e.minus===void 0?"âˆ’":e.minus+"",c=e.nan===void 0?"NaN":e.nan+"";function u(f){f=xa(f);var p=f.fill,h=f.align,g=f.sign,m=f.symbol,y=f.zero,C=f.width,N=f.comma,j=f.precision,w=f.trim,b=f.type;b==="n"?(N=!0,b="g"):Ch[b]||(j===void 0&&(j=12),w=!0,b="g"),(y||p==="0"&&h==="=")&&(y=!0,p="0",h="=");var S=m==="$"?n:m==="#"&&/[boxX]/.test(b)?"0"+b.toLowerCase():"",M=m==="$"?r:/[%p]/.test(b)?s:"",x=Ch[b],v=/[defgprs%]/.test(b);j=j===void 0?6:/[gprs]/.test(b)?Math.max(1,Math.min(21,j)):Math.max(0,Math.min(20,j));function _(E){var D=S,B=M,A,I,L;if(b==="c")B=x(E)+B,E="";else{E=+E;var F=E<0||1/E<0;if(E=isNaN(E)?c:x(Math.abs(E),j),w&&(E=I_(E)),F&&+E==0&&g!=="+"&&(F=!1),D=(F?g==="("?g:l:g==="-"||g==="("?"":g)+D,B=(b==="s"?jh[8+Sh/3]:"")+B+(F&&g==="("?")":""),v){for(A=-1,I=E.length;++A<I;)if(L=E.charCodeAt(A),48>L||L>57){B=(L===46?i+E.slice(A+1):E.slice(A))+B,E=E.slice(0,A);break}}}N&&!y&&(E=t(E,1/0));var G=D.length+E.length+B.length,ee=G<C?new Array(C-G+1).join(p):"";switch(N&&y&&(E=t(ee+E,ee.length?C-B.length:1/0),ee=""),h){case"<":E=D+E+B+ee;break;case"=":E=D+ee+E+B;break;case"^":E=ee.slice(0,G=ee.length>>1)+D+E+B+ee.slice(G);break;default:E=ee+D+E+B;break}return o(E)}return _.toString=function(){return f+""},_}function d(f,p){var h=u((f=xa(f),f.type="f",f)),g=Math.max(-8,Math.min(8,Math.floor(Fi(p)/3)))*3,m=Math.pow(10,-g),y=jh[8+g/3];return function(C){return h(m*C)+y}}return{format:u,formatPrefix:d}}var _a,Th,Dh;E_({thousands:",",grouping:[3],currency:["$",""]});function E_(e){return _a=A_(e),Th=_a.format,Dh=_a.formatPrefix,_a}function P_(e){return Math.max(0,-Fi(Math.abs(e)))}function F_(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Fi(t)/3)))*3-Fi(Math.abs(e)))}function $_(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,Fi(t)-Fi(e))+1}function B_(e,t,n,r){var i=bc(e,t,n),o;switch(r=xa(r??",f"),r.type){case"s":{var s=Math.max(Math.abs(e),Math.abs(t));return r.precision==null&&!isNaN(o=F_(i,s))&&(r.precision=o),Dh(r,s)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(o=$_(i,Math.max(Math.abs(e),Math.abs(t))))&&(r.precision=o-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(o=P_(i))&&(r.precision=o-(r.type==="%")*2);break}}return Th(r)}function O_(e){var t=e.domain;return e.ticks=function(n){var r=t();return qx(r[0],r[r.length-1],n??10)},e.tickFormat=function(n,r){var i=t();return B_(i[0],i[i.length-1],n??10,r)},e.nice=function(n){n==null&&(n=10);var r=t(),i=0,o=r.length-1,s=r[i],l=r[o],c,u,d=10;for(l<s&&(u=s,s=l,l=u,u=i,i=o,o=u);d-- >0;){if(u=yc(s,l,n),u===c)return r[i]=s,r[o]=l,t(r);if(u>0)s=Math.floor(s/u)*u,l=Math.ceil(l/u)*u;else if(u<0)s=Math.ceil(s*u)/u,l=Math.floor(l*u)/u;else break;c=u}return e},e}function wa(){var e=wh();return e.copy=function(){return _h(e,wa())},ha.apply(e,arguments),O_(e)}function R_(e,t){e=e.slice();var n=0,r=e.length-1,i=e[n],o=e[r],s;return o<i&&(s=n,n=r,r=s,s=i,i=o,o=s),e[n]=t.floor(i),e[r]=t.ceil(o),e}const jc=new Date,Tc=new Date;function Bt(e,t,n,r){function i(o){return e(o=arguments.length===0?new Date:new Date(+o)),o}return i.floor=o=>(e(o=new Date(+o)),o),i.ceil=o=>(e(o=new Date(o-1)),t(o,1),e(o),o),i.round=o=>{const s=i(o),l=i.ceil(o);return o-s<l-o?s:l},i.offset=(o,s)=>(t(o=new Date(+o),s==null?1:Math.floor(s)),o),i.range=(o,s,l)=>{const c=[];if(o=i.ceil(o),l=l==null?1:Math.floor(l),!(o<s)||!(l>0))return c;let u;do c.push(u=new Date(+o)),t(o,l),e(o);while(u<o&&o<s);return c},i.filter=o=>Bt(s=>{if(s>=s)for(;e(s),!o(s);)s.setTime(s-1)},(s,l)=>{if(s>=s)if(l<0)for(;++l<=0;)for(;t(s,-1),!o(s););else for(;--l>=0;)for(;t(s,1),!o(s););}),n&&(i.count=(o,s)=>(jc.setTime(+o),Tc.setTime(+s),e(jc),e(Tc),Math.floor(n(jc,Tc))),i.every=o=>(o=Math.floor(o),!isFinite(o)||!(o>0)?null:o>1?i.filter(r?s=>r(s)%o===0:s=>i.count(0,s)%o===0):i)),i}const Sa=Bt(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);Sa.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?Bt(t=>{t.setTime(Math.floor(t/e)*e)},(t,n)=>{t.setTime(+t+n*e)},(t,n)=>(n-t)/e):Sa),Sa.range;const gr=1e3,En=gr*60,yr=En*60,br=yr*24,Dc=br*7,Ih=br*30,Ic=br*365,$i=Bt(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*gr)},(e,t)=>(t-e)/gr,e=>e.getUTCSeconds());$i.range;const Lc=Bt(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*gr)},(e,t)=>{e.setTime(+e+t*En)},(e,t)=>(t-e)/En,e=>e.getMinutes());Lc.range,Bt(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*En)},(e,t)=>(t-e)/En,e=>e.getUTCMinutes()).range;const Ac=Bt(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*gr-e.getMinutes()*En)},(e,t)=>{e.setTime(+e+t*yr)},(e,t)=>(t-e)/yr,e=>e.getHours());Ac.range,Bt(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*yr)},(e,t)=>(t-e)/yr,e=>e.getUTCHours()).range;const Co=Bt(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*En)/br,e=>e.getDate()-1);Co.range;const Ec=Bt(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/br,e=>e.getUTCDate()-1);Ec.range,Bt(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/br,e=>Math.floor(e/br)).range;function ni(e){return Bt(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,n)=>{t.setDate(t.getDate()+n*7)},(t,n)=>(n-t-(n.getTimezoneOffset()-t.getTimezoneOffset())*En)/Dc)}const ka=ni(0),Ca=ni(1),H_=ni(2),z_=ni(3),Bi=ni(4),U_=ni(5),W_=ni(6);ka.range,Ca.range,H_.range,z_.range,Bi.range,U_.range,W_.range;function ri(e){return Bt(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCDate(t.getUTCDate()+n*7)},(t,n)=>(n-t)/Dc)}const Lh=ri(0),Na=ri(1),G_=ri(2),Y_=ri(3),Oi=ri(4),V_=ri(5),Z_=ri(6);Lh.range,Na.range,G_.range,Y_.range,Oi.range,V_.range,Z_.range;const No=Bt(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());No.range,Bt(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth()).range;const vr=Bt(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());vr.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Bt(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,n)=>{t.setFullYear(t.getFullYear()+n*e)}),vr.range;const ii=Bt(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());ii.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Bt(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCFullYear(t.getUTCFullYear()+n*e)}),ii.range;function q_(e,t,n,r,i,o){const s=[[$i,1,gr],[$i,5,5*gr],[$i,15,15*gr],[$i,30,30*gr],[o,1,En],[o,5,5*En],[o,15,15*En],[o,30,30*En],[i,1,yr],[i,3,3*yr],[i,6,6*yr],[i,12,12*yr],[r,1,br],[r,2,2*br],[n,1,Dc],[t,1,Ih],[t,3,3*Ih],[e,1,Ic]];function l(u,d,f){const p=d<u;p&&([u,d]=[d,u]);const h=f&&typeof f.range=="function"?f:c(u,d,f),g=h?h.range(u,+d+1):[];return p?g.reverse():g}function c(u,d,f){const p=Math.abs(d-u)/f,h=gc(([,,y])=>y).right(s,p);if(h===s.length)return e.every(bc(u/Ic,d/Ic,f));if(h===0)return Sa.every(Math.max(bc(u,d,f),1));const[g,m]=s[p/s[h-1][2]<s[h][2]/p?h-1:h];return g.every(m)}return[l,c]}const[X_,J_]=q_(vr,No,ka,Co,Ac,Lc);function Pc(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function Fc(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function Mo(e,t,n){return{y:e,m:t,d:n,H:0,M:0,S:0,L:0}}function K_(e){var t=e.dateTime,n=e.date,r=e.time,i=e.periods,o=e.days,s=e.shortDays,l=e.months,c=e.shortMonths,u=jo(i),d=To(i),f=jo(o),p=To(o),h=jo(s),g=To(s),m=jo(l),y=To(l),C=jo(c),N=To(c),j={a:F,A:G,b:ee,B:T,c:null,d:Bh,e:Bh,f:_w,g:Iw,G:Aw,H:bw,I:vw,j:xw,L:Oh,m:ww,M:Sw,p:X,q:O,Q:Gh,s:Yh,S:kw,u:Cw,U:Nw,V:Mw,w:jw,W:Tw,x:null,X:null,y:Dw,Y:Lw,Z:Ew,"%":Wh},w={a:$,A:V,b:Y,B:R,c:null,d:Hh,e:Hh,f:Bw,g:Zw,G:Xw,H:Pw,I:Fw,j:$w,L:zh,m:Ow,M:Rw,p:J,q:te,Q:Gh,s:Yh,S:Hw,u:zw,U:Uw,V:Ww,w:Gw,W:Yw,x:null,X:null,y:Vw,Y:qw,Z:Jw,"%":Wh},b={a:_,A:E,b:D,B,c:A,d:Fh,e:Fh,f:pw,g:Ph,G:Eh,H:$h,I:$h,j:uw,L:hw,m:cw,M:dw,p:v,q:lw,Q:gw,s:yw,S:fw,u:rw,U:iw,V:ow,w:nw,W:sw,x:I,X:L,y:Ph,Y:Eh,Z:aw,"%":mw};j.x=S(n,j),j.X=S(r,j),j.c=S(t,j),w.x=S(n,w),w.X=S(r,w),w.c=S(t,w);function S(K,oe){return function(ye){var Z=[],se=-1,de=0,Ce=K.length,be,q,Ge;for(ye instanceof Date||(ye=new Date(+ye));++se<Ce;)K.charCodeAt(se)===37&&(Z.push(K.slice(de,se)),(q=Ah[be=K.charAt(++se)])!=null?be=K.charAt(++se):q=be==="e"?" ":"0",(Ge=oe[be])&&(be=Ge(ye,q)),Z.push(be),de=se+1);return Z.push(K.slice(de,se)),Z.join("")}}function M(K,oe){return function(ye){var Z=Mo(1900,void 0,1),se=x(Z,K,ye+="",0),de,Ce;if(se!=ye.length)return null;if("Q"in Z)return new Date(Z.Q);if("s"in Z)return new Date(Z.s*1e3+("L"in Z?Z.L:0));if(oe&&!("Z"in Z)&&(Z.Z=0),"p"in Z&&(Z.H=Z.H%12+Z.p*12),Z.m===void 0&&(Z.m="q"in Z?Z.q:0),"V"in Z){if(Z.V<1||Z.V>53)return null;"w"in Z||(Z.w=1),"Z"in Z?(de=Fc(Mo(Z.y,0,1)),Ce=de.getUTCDay(),de=Ce>4||Ce===0?Na.ceil(de):Na(de),de=Ec.offset(de,(Z.V-1)*7),Z.y=de.getUTCFullYear(),Z.m=de.getUTCMonth(),Z.d=de.getUTCDate()+(Z.w+6)%7):(de=Pc(Mo(Z.y,0,1)),Ce=de.getDay(),de=Ce>4||Ce===0?Ca.ceil(de):Ca(de),de=Co.offset(de,(Z.V-1)*7),Z.y=de.getFullYear(),Z.m=de.getMonth(),Z.d=de.getDate()+(Z.w+6)%7)}else("W"in Z||"U"in Z)&&("w"in Z||(Z.w="u"in Z?Z.u%7:"W"in Z?1:0),Ce="Z"in Z?Fc(Mo(Z.y,0,1)).getUTCDay():Pc(Mo(Z.y,0,1)).getDay(),Z.m=0,Z.d="W"in Z?(Z.w+6)%7+Z.W*7-(Ce+5)%7:Z.w+Z.U*7-(Ce+6)%7);return"Z"in Z?(Z.H+=Z.Z/100|0,Z.M+=Z.Z%100,Fc(Z)):Pc(Z)}}function x(K,oe,ye,Z){for(var se=0,de=oe.length,Ce=ye.length,be,q;se<de;){if(Z>=Ce)return-1;if(be=oe.charCodeAt(se++),be===37){if(be=oe.charAt(se++),q=b[be in Ah?oe.charAt(se++):be],!q||(Z=q(K,ye,Z))<0)return-1}else if(be!=ye.charCodeAt(Z++))return-1}return Z}function v(K,oe,ye){var Z=u.exec(oe.slice(ye));return Z?(K.p=d.get(Z[0].toLowerCase()),ye+Z[0].length):-1}function _(K,oe,ye){var Z=h.exec(oe.slice(ye));return Z?(K.w=g.get(Z[0].toLowerCase()),ye+Z[0].length):-1}function E(K,oe,ye){var Z=f.exec(oe.slice(ye));return Z?(K.w=p.get(Z[0].toLowerCase()),ye+Z[0].length):-1}function D(K,oe,ye){var Z=C.exec(oe.slice(ye));return Z?(K.m=N.get(Z[0].toLowerCase()),ye+Z[0].length):-1}function B(K,oe,ye){var Z=m.exec(oe.slice(ye));return Z?(K.m=y.get(Z[0].toLowerCase()),ye+Z[0].length):-1}function A(K,oe,ye){return x(K,t,oe,ye)}function I(K,oe,ye){return x(K,n,oe,ye)}function L(K,oe,ye){return x(K,r,oe,ye)}function F(K){return s[K.getDay()]}function G(K){return o[K.getDay()]}function ee(K){return c[K.getMonth()]}function T(K){return l[K.getMonth()]}function X(K){return i[+(K.getHours()>=12)]}function O(K){return 1+~~(K.getMonth()/3)}function $(K){return s[K.getUTCDay()]}function V(K){return o[K.getUTCDay()]}function Y(K){return c[K.getUTCMonth()]}function R(K){return l[K.getUTCMonth()]}function J(K){return i[+(K.getUTCHours()>=12)]}function te(K){return 1+~~(K.getUTCMonth()/3)}return{format:function(K){var oe=S(K+="",j);return oe.toString=function(){return K},oe},parse:function(K){var oe=M(K+="",!1);return oe.toString=function(){return K},oe},utcFormat:function(K){var oe=S(K+="",w);return oe.toString=function(){return K},oe},utcParse:function(K){var oe=M(K+="",!0);return oe.toString=function(){return K},oe}}}var Ah={"-":"",_:" ",0:"0"},Ut=/^\s*\d+/,Q_=/^%/,ew=/[\\^$*+?|[\]().{}]/g;function dt(e,t,n){var r=e<0?"-":"",i=(r?-e:e)+"",o=i.length;return r+(o<n?new Array(n-o+1).join(t)+i:i)}function tw(e){return e.replace(ew,"\\$&")}function jo(e){return new RegExp("^(?:"+e.map(tw).join("|")+")","i")}function To(e){return new Map(e.map((t,n)=>[t.toLowerCase(),n]))}function nw(e,t,n){var r=Ut.exec(t.slice(n,n+1));return r?(e.w=+r[0],n+r[0].length):-1}function rw(e,t,n){var r=Ut.exec(t.slice(n,n+1));return r?(e.u=+r[0],n+r[0].length):-1}function iw(e,t,n){var r=Ut.exec(t.slice(n,n+2));return r?(e.U=+r[0],n+r[0].length):-1}function ow(e,t,n){var r=Ut.exec(t.slice(n,n+2));return r?(e.V=+r[0],n+r[0].length):-1}function sw(e,t,n){var r=Ut.exec(t.slice(n,n+2));return r?(e.W=+r[0],n+r[0].length):-1}function Eh(e,t,n){var r=Ut.exec(t.slice(n,n+4));return r?(e.y=+r[0],n+r[0].length):-1}function Ph(e,t,n){var r=Ut.exec(t.slice(n,n+2));return r?(e.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function aw(e,t,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return r?(e.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function lw(e,t,n){var r=Ut.exec(t.slice(n,n+1));return r?(e.q=r[0]*3-3,n+r[0].length):-1}function cw(e,t,n){var r=Ut.exec(t.slice(n,n+2));return r?(e.m=r[0]-1,n+r[0].length):-1}function Fh(e,t,n){var r=Ut.exec(t.slice(n,n+2));return r?(e.d=+r[0],n+r[0].length):-1}function uw(e,t,n){var r=Ut.exec(t.slice(n,n+3));return r?(e.m=0,e.d=+r[0],n+r[0].length):-1}function $h(e,t,n){var r=Ut.exec(t.slice(n,n+2));return r?(e.H=+r[0],n+r[0].length):-1}function dw(e,t,n){var r=Ut.exec(t.slice(n,n+2));return r?(e.M=+r[0],n+r[0].length):-1}function fw(e,t,n){var r=Ut.exec(t.slice(n,n+2));return r?(e.S=+r[0],n+r[0].length):-1}function hw(e,t,n){var r=Ut.exec(t.slice(n,n+3));return r?(e.L=+r[0],n+r[0].length):-1}function pw(e,t,n){var r=Ut.exec(t.slice(n,n+6));return r?(e.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function mw(e,t,n){var r=Q_.exec(t.slice(n,n+1));return r?n+r[0].length:-1}function gw(e,t,n){var r=Ut.exec(t.slice(n));return r?(e.Q=+r[0],n+r[0].length):-1}function yw(e,t,n){var r=Ut.exec(t.slice(n));return r?(e.s=+r[0],n+r[0].length):-1}function Bh(e,t){return dt(e.getDate(),t,2)}function bw(e,t){return dt(e.getHours(),t,2)}function vw(e,t){return dt(e.getHours()%12||12,t,2)}function xw(e,t){return dt(1+Co.count(vr(e),e),t,3)}function Oh(e,t){return dt(e.getMilliseconds(),t,3)}function _w(e,t){return Oh(e,t)+"000"}function ww(e,t){return dt(e.getMonth()+1,t,2)}function Sw(e,t){return dt(e.getMinutes(),t,2)}function kw(e,t){return dt(e.getSeconds(),t,2)}function Cw(e){var t=e.getDay();return t===0?7:t}function Nw(e,t){return dt(ka.count(vr(e)-1,e),t,2)}function Rh(e){var t=e.getDay();return t>=4||t===0?Bi(e):Bi.ceil(e)}function Mw(e,t){return e=Rh(e),dt(Bi.count(vr(e),e)+(vr(e).getDay()===4),t,2)}function jw(e){return e.getDay()}function Tw(e,t){return dt(Ca.count(vr(e)-1,e),t,2)}function Dw(e,t){return dt(e.getFullYear()%100,t,2)}function Iw(e,t){return e=Rh(e),dt(e.getFullYear()%100,t,2)}function Lw(e,t){return dt(e.getFullYear()%1e4,t,4)}function Aw(e,t){var n=e.getDay();return e=n>=4||n===0?Bi(e):Bi.ceil(e),dt(e.getFullYear()%1e4,t,4)}function Ew(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+dt(t/60|0,"0",2)+dt(t%60,"0",2)}function Hh(e,t){return dt(e.getUTCDate(),t,2)}function Pw(e,t){return dt(e.getUTCHours(),t,2)}function Fw(e,t){return dt(e.getUTCHours()%12||12,t,2)}function $w(e,t){return dt(1+Ec.count(ii(e),e),t,3)}function zh(e,t){return dt(e.getUTCMilliseconds(),t,3)}function Bw(e,t){return zh(e,t)+"000"}function Ow(e,t){return dt(e.getUTCMonth()+1,t,2)}function Rw(e,t){return dt(e.getUTCMinutes(),t,2)}function Hw(e,t){return dt(e.getUTCSeconds(),t,2)}function zw(e){var t=e.getUTCDay();return t===0?7:t}function Uw(e,t){return dt(Lh.count(ii(e)-1,e),t,2)}function Uh(e){var t=e.getUTCDay();return t>=4||t===0?Oi(e):Oi.ceil(e)}function Ww(e,t){return e=Uh(e),dt(Oi.count(ii(e),e)+(ii(e).getUTCDay()===4),t,2)}function Gw(e){return e.getUTCDay()}function Yw(e,t){return dt(Na.count(ii(e)-1,e),t,2)}function Vw(e,t){return dt(e.getUTCFullYear()%100,t,2)}function Zw(e,t){return e=Uh(e),dt(e.getUTCFullYear()%100,t,2)}function qw(e,t){return dt(e.getUTCFullYear()%1e4,t,4)}function Xw(e,t){var n=e.getUTCDay();return e=n>=4||n===0?Oi(e):Oi.ceil(e),dt(e.getUTCFullYear()%1e4,t,4)}function Jw(){return"+0000"}function Wh(){return"%"}function Gh(e){return+e}function Yh(e){return Math.floor(+e/1e3)}var Ri,Vh;Kw({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function Kw(e){return Ri=K_(e),Vh=Ri.format,Ri.parse,Ri.utcFormat,Ri.utcParse,Ri}function Qw(e){return new Date(e)}function e2(e){return e instanceof Date?+e:+new Date(+e)}function Zh(e,t,n,r,i,o,s,l,c,u){var d=wh(),f=d.invert,p=d.domain,h=u(".%L"),g=u(":%S"),m=u("%I:%M"),y=u("%I %p"),C=u("%a %d"),N=u("%b %d"),j=u("%B"),w=u("%Y");function b(S){return(c(S)<S?h:l(S)<S?g:s(S)<S?m:o(S)<S?y:r(S)<S?i(S)<S?C:N:n(S)<S?j:w)(S)}return d.invert=function(S){return new Date(f(S))},d.domain=function(S){return arguments.length?p(Array.from(S,e2)):p().map(Qw)},d.ticks=function(S){var M=p();return e(M[0],M[M.length-1],S??10)},d.tickFormat=function(S,M){return M==null?b:u(M)},d.nice=function(S){var M=p();return(!S||typeof S.range!="function")&&(S=t(M[0],M[M.length-1],S??10)),S?p(R_(M,S)):d},d.copy=function(){return _h(d,Zh(e,t,n,r,i,o,s,l,c,u))},d}function $c(){return ha.apply(Zh(X_,J_,vr,No,ka,Co,Ac,Lc,$i,Vh).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function t2({task:e,scale:t,onTaskClick:n,onTaskDoubleClick:r,isSelected:i=!1,taskIndex:o,tabIndex:s=-1,onFocus:l,"aria-label":c}){const u=P.useRef(null),[d,f]=P.useState(!1),[p,h]=P.useState(!1),g=t(e.start),m=t(e.end),y=Math.max(m-g,20),C=()=>{if(e.color)return e.color;switch(e.priority){case"high":return"#d5281b";case"medium":return"#005eb8";case"low":return"#007f3b";default:return"#005eb8"}},N=e.progress?y*e.progress/100:0,j=()=>{n?.(e)},w=()=>{r?.(e)},b=D=>{D.key==="Enter"?(D.preventDefault(),j()):D.key===" "&&(D.preventDefault(),w())},S=()=>{f(!0)},M=()=>{f(!1)},x=()=>{h(!0),l?.()},v=()=>{h(!1)},_=["gantt-task-bar",d&&"gantt-task-bar--pressed",(p||i)&&"gantt-task-bar--focused",e.priority&&`gantt-task-bar--priority-${e.priority}`,i&&"gantt-task-bar--selected",e.type&&`gantt-task-bar--type-${e.type}`].filter(Boolean).join(" "),E={"--task-left":`${g}px`,"--task-width":`${y}px`,"--task-color":C(),left:`${g}px`,width:`${y}px`,backgroundColor:C()};return a.jsxs("div",{role:"button",tabIndex:s,ref:u,"data-task-index":o,className:_,style:E,onClick:j,onDoubleClick:w,onKeyDown:b,onMouseDown:S,onMouseUp:M,onFocus:x,onBlur:v,"aria-label":c||`${i?"Selected: ":""}${e.title}: ${e.start.toLocaleDateString()} to ${e.end.toLocaleDateString()}${e.priority?`, priority ${e.priority}`:""}${e.progress?`, ${e.progress}% complete`:""}`,"aria-describedby":`task-${e.id}-details`,children:[a.jsx("span",{className:"task-title",children:e.title}),e.progress!==void 0&&a.jsx("div",{className:"task-progress",style:{width:`${N}px`}}),a.jsx("span",{id:`task-${e.id}-details`,className:"sr-only",children:`Task: ${e.title}, from ${e.start.toLocaleDateString()} to ${e.end.toLocaleDateString()}${e.progress?`, ${e.progress}% complete`:""}${e.priority?`, priority: ${e.priority}`:""}`})]})}function n2({viewStart:e,viewEnd:t,dateCount:n}){const r=[];for(let h=e.getTime();h<=t.getTime();h+=864e5)r.push(new Date(h));const o=new Date;o.setHours(0,0,0,0);const[s,l]=P.useState(-1),c=P.useRef(null),u=h=>{if(h.key==="ArrowLeft"){h.preventDefault();const g=Math.max(0,s===-1?0:s-1);l(g),p(g)}else if(h.key==="ArrowRight"){h.preventDefault();const g=Math.min(r.length-1,s===-1?0:s+1);l(g),p(g)}else if(h.key==="ArrowDown")h.preventDefault(),typeof document<"u"&&(typeof document<"u"&&typeof document<"u"&&typeof document<"u"&&typeof document<"u"&&typeof document<"u"&&typeof document<"u"&&typeof document<"u"&&typeof document<"u"&&typeof document<"u"&&typeof document<"u"&&typeof document<"u"&&typeof document<"u"&&typeof document<"u"&&typeof document<"u"&&typeof document<"u"&&typeof document<"u"?document.querySelector(".gantt-row .timeline-container"):null)?.focus();else if(h.key==="Home")h.preventDefault(),l(0),p(0);else if(h.key==="End"){h.preventDefault();const g=r.length-1;l(g),p(g)}},d=h=>{if(h.key==="ArrowDown")h.preventDefault(),typeof document<"u"&&(typeof document<"u"&&typeof document<"u"&&typeof document<"u"&&typeof document<"u"&&typeof document<"u"&&typeof document<"u"&&typeof document<"u"&&typeof document<"u"&&typeof document<"u"&&typeof document<"u"&&typeof document<"u"&&typeof document<"u"&&typeof document<"u"&&typeof document<"u"&&typeof document<"u"&&typeof document<"u"?document.querySelector(".gantt-row .resource-label"):null)?.focus();else if(h.key==="ArrowRight"){h.preventDefault();const g=c.current;g&&g.focus()}},f=()=>{s===-1&&(l(0),setTimeout(()=>p(0),0))},p=h=>{const g=c.current?.querySelector(`[data-date-index="${h}"]`);g&&g.focus()};return a.jsxs("div",{className:"gantt-header",role:"row","aria-rowindex":1,children:[a.jsx("div",{className:"header-resource",role:"columnheader","aria-colindex":1,tabIndex:0,"aria-label":"Resource column header",onKeyDown:d,children:"Resources"}),a.jsx("div",{ref:c,className:"header-timeline",role:"columnheader","aria-colindex":2,"aria-colspan":n,"aria-label":`Timeline from ${e.toLocaleDateString()} to ${t.toLocaleDateString()}. Use arrow keys to navigate between dates`,tabIndex:0,onKeyDown:u,onFocus:f,children:r.map((h,g)=>{const m=h.getTime()===o.getTime(),y=s===g;return a.jsx("div",{"data-date-index":g,className:`date-column ${m?"today":""} ${y?"focused":""}`,tabIndex:y?0:-1,role:"button","aria-label":`${h.toLocaleDateString("en-GB",{weekday:"long",day:"numeric",month:"long",year:"numeric"})}${m?" (Today)":""}`,onFocus:()=>l(g),onKeyDown:u,children:h.toLocaleDateString("en-GB",{day:"numeric",month:"short"})},g)})})]})}function r2({resource:e,tasks:t,scale:n,onTaskClick:r,onTaskDoubleClick:i,rowIndex:o,dateCount:s}){const[l,c]=P.useState(!1),[u,d]=P.useState(-1),f=P.useRef(null);P.useEffect(()=>{l&&u>=0&&t.length>0&&setTimeout(()=>{f.current?.querySelector(`[data-task-index="${u}"]`)?.focus()},0)},[l,u,t.length]);const p=m=>{if(m.key==="ArrowLeft"&&m.shiftKey){m.preventDefault(),m.currentTarget.scrollBy({left:-30,behavior:"smooth"});return}else if(m.key==="ArrowRight"&&m.shiftKey){m.preventDefault(),m.currentTarget.scrollBy({left:30,behavior:"smooth"});return}if(!l){switch(m.key){case"ArrowUp":m.preventDefault(),o===0?typeof document<"u"&&(typeof document<"u"&&typeof document<"u"&&typeof document<"u"&&typeof document<"u"&&typeof document<"u"&&typeof document<"u"&&typeof document<"u"&&typeof document<"u"&&typeof document<"u"&&typeof document<"u"&&typeof document<"u"&&typeof document<"u"&&typeof document<"u"&&typeof document<"u"&&typeof document<"u"&&typeof document<"u"?document.querySelector(".header-timeline"):null)?.focus():typeof document<"u"&&(typeof document<"u"&&typeof document<"u"&&typeof document<"u"&&typeof document<"u"&&typeof document<"u"&&typeof document<"u"&&typeof document<"u"&&typeof document<"u"&&typeof document<"u"&&typeof document<"u"&&typeof document<"u"&&typeof document<"u"&&typeof document<"u"&&typeof document<"u"&&typeof document<"u"&&typeof document<"u"?document.querySelector(`[aria-rowindex="${o+1}"] .timeline-container`):null)?.focus();break;case"ArrowDown":m.preventDefault(),typeof document<"u"&&(typeof document<"u"&&typeof document<"u"&&typeof document<"u"&&typeof document<"u"&&typeof document<"u"&&typeof document<"u"&&typeof document<"u"&&typeof document<"u"&&typeof document<"u"&&typeof document<"u"&&typeof document<"u"&&typeof document<"u"&&typeof document<"u"&&typeof document<"u"&&typeof document<"u"&&typeof document<"u"?document.querySelector(`[aria-rowindex="${o+3}"] .timeline-container`):null)?.focus();break;case"ArrowLeft":m.preventDefault(),f.current?.closest(".gantt-row")?.querySelector(".resource-label")?.focus();break;case"Enter":t.length>0&&(m.preventDefault(),c(!0),d(0));break}return}switch(m.key){case"ArrowLeft":m.preventDefault();const y=Math.max(0,u-1);d(y),f.current?.querySelector(`[data-task-index="${y}"]`)?.focus();break;case"ArrowRight":m.preventDefault();const N=Math.min(t.length-1,u+1);d(N),f.current?.querySelector(`[data-task-index="${N}"]`)?.focus();break;case"Enter":m.preventDefault(),u>=0&&r?.(t[u]);break;case" ":m.preventDefault(),u>=0&&i?.(t[u]);break;case"Escape":m.preventDefault(),c(!1),d(-1),f.current?.focus();break}},h=m=>{switch(m.key){case"ArrowUp":m.preventDefault(),o===0?typeof document<"u"&&(typeof document<"u"&&typeof document<"u"&&typeof document<"u"&&typeof document<"u"&&typeof document<"u"&&typeof document<"u"&&typeof document<"u"&&typeof document<"u"&&typeof document<"u"&&typeof document<"u"&&typeof document<"u"&&typeof document<"u"&&typeof document<"u"&&typeof document<"u"&&typeof document<"u"&&typeof document<"u"?document.querySelector(".header-resource"):null)?.focus():typeof document<"u"&&(typeof document<"u"&&typeof document<"u"&&typeof document<"u"&&typeof document<"u"&&typeof document<"u"&&typeof document<"u"&&typeof document<"u"&&typeof document<"u"&&typeof document<"u"&&typeof document<"u"&&typeof document<"u"&&typeof document<"u"&&typeof document<"u"&&typeof document<"u"&&typeof document<"u"&&typeof document<"u"?document.querySelector(`[aria-rowindex="${o+1}"] .resource-label`):null)?.focus();break;case"ArrowDown":m.preventDefault(),typeof document<"u"&&(typeof document<"u"&&typeof document<"u"&&typeof document<"u"&&typeof document<"u"&&typeof document<"u"&&typeof document<"u"&&typeof document<"u"&&typeof document<"u"&&typeof document<"u"&&typeof document<"u"&&typeof document<"u"&&typeof document<"u"&&typeof document<"u"&&typeof document<"u"&&typeof document<"u"&&typeof document<"u"?document.querySelector(`[aria-rowindex="${o+3}"] .resource-label`):null)?.focus();break;case"ArrowRight":m.preventDefault(),f.current?.focus();break}},g=m=>{l&&d(m)};return a.jsxs("div",{className:"gantt-row",role:"row","aria-rowindex":o+2,children:[a.jsx("div",{className:"resource-label",role:"gridcell","aria-colindex":1,tabIndex:0,"aria-label":`Resource: ${e.label}`,onKeyDown:h,children:e.label}),a.jsx("div",{ref:f,className:`timeline-container ${l?"timeline-active":""}`,role:"gridcell","aria-colindex":2,"aria-colspan":s,tabIndex:0,"aria-label":`Timeline for ${e.label} with ${t.length} task${t.length!==1?"s":""}. Press Enter to activate task navigation, then use arrow keys to navigate, Enter to select, Space to activate, Escape to exit`,onKeyDown:p,onFocus:()=>{l||d(-1)},children:t.map((m,y)=>a.jsx(t2,{task:m,scale:n,onTaskClick:r,onTaskDoubleClick:i,isSelected:l&&u===y,taskIndex:y,tabIndex:l&&u===y?0:-1,onFocus:()=>g(y)},m.id))})]})}function i2({resources:e,tasks:t=[],viewStart:n,viewEnd:r,onTaskClick:i,onTaskDoubleClick:o}){const s=P.useRef(null),[l,c]=P.useState(800),u=P.useMemo(()=>{if(n instanceof Date)return isNaN(n.getTime())?(console.warn("GanttChart: Invalid viewStart date provided, using current date"),new Date):n;const m=new Date(n);return isNaN(m.getTime())?(console.warn("GanttChart: Invalid viewStart date provided, using current date"),new Date):m},[n]),d=P.useMemo(()=>{if(r instanceof Date)return isNaN(r.getTime())?(console.warn("GanttChart: Invalid viewEnd date provided, using date 7 days from now"),new Date(Date.now()+10080*60*1e3)):r;const m=new Date(r);return isNaN(m.getTime())?(console.warn("GanttChart: Invalid viewEnd date provided, using date 7 days from now"),new Date(Date.now()+10080*60*1e3)):m},[r]),f=P.useMemo(()=>Math.ceil((d.getTime()-u.getTime())/864e5)+1,[u,d]);P.useEffect(()=>{if(!s.current||typeof window>"u")return;const m=typeof ResizeObserver<"u"?ResizeObserver:void 0;if(!m)return;const y=new m(C=>{const N=C[0];N&&c(Math.max(N.contentRect.width-220,400))});return y.observe(s.current),()=>y.disconnect()},[]);const p=P.useMemo(()=>$c().domain([u,d]).range([0,l]),[u,d,l]),h=P.useMemo(()=>{const m=new Map;return t.forEach(y=>{const C=m.get(y.resourceId)||[];C.push(y),m.set(y.resourceId,C)}),m},[t]),g=m=>{if(m.target===m.currentTarget)switch(m.key){case"ArrowDown":m.preventDefault(),typeof document<"u"&&s.current?.querySelector(".gantt-row .resource-label")?.focus();break;case"Home":m.preventDefault(),typeof document<"u"&&s.current?.querySelector(".header-resource")?.focus();break}};return a.jsxs("div",{className:"gantt-chart",role:"grid","aria-label":"Gantt Chart showing resource scheduling and task timelines","aria-rowcount":e.length+1,"aria-colcount":f+1,"aria-description":"Use arrow keys to navigate cells, Tab to cycle through tasks in timeline rows or dates in header, Enter to select task, Space to activate task, Alt+arrows to scroll the grid, Shift+arrows to scroll timeline rows",tabIndex:0,onKeyDown:g,children:[a.jsx(n2,{viewStart:u,viewEnd:d,dateCount:f}),a.jsx("div",{ref:s,className:"gantt-grid",role:"rowgroup","aria-label":"Gantt chart data rows",tabIndex:0,onKeyDown:m=>{m.key==="ArrowLeft"&&m.altKey?(m.preventDefault(),s.current?.scrollBy({left:-50,behavior:"smooth"})):m.key==="ArrowRight"&&m.altKey?(m.preventDefault(),s.current?.scrollBy({left:50,behavior:"smooth"})):m.key==="ArrowUp"&&m.altKey?(m.preventDefault(),s.current?.scrollBy({top:-50,behavior:"smooth"})):m.key==="ArrowDown"&&m.altKey&&(m.preventDefault(),s.current?.scrollBy({top:50,behavior:"smooth"}))},children:e.map((m,y)=>a.jsx(r2,{resource:m,tasks:h.get(m.id)||[],scale:p,onTaskClick:i,onTaskDoubleClick:o,rowIndex:y,dateCount:f},m.id))})]})}const Ma=({children:e,href:t,active:n=!1,attributes:r={}})=>a.jsx("li",{className:"nhsuk-breadcrumb__item",children:n?a.jsx("span",{className:"nhsuk-breadcrumb__link nhsuk-breadcrumb__link--current","aria-current":"page",...r,children:e}):a.jsx("a",{className:"nhsuk-breadcrumb__link",href:t,...r,children:e})}),Bc=({items:e=[],children:t,classes:n,labelText:r="Breadcrumb",href:i,text:o,reverse:s=!1,attributes:l={}})=>{const c=()=>t?P.Children.toArray(t).filter(y=>P.isValidElement(y)&&(y.type===Ma||y.type?.displayName==="BreadcrumbItem")).map(y=>({text:typeof y.props.children=="string"?y.props.children:String(y.props.children),href:y.props.href,active:y.props.active,attributes:y.props.attributes})):[],u=()=>t?c():i&&o?[{href:i,text:o}]:e,d=()=>{const m=u();if(m&&m.length>0){const y=m.slice().reverse().find(C=>C.href&&!C.active);if(y)return{href:y.href,text:y.text}}return{text:"Home"}},f=u(),p=d(),h=Oe("nhsuk-breadcrumb",{"nhsuk-breadcrumb--reverse":s},n),g=r;return a.jsxs("nav",{className:h,"aria-label":g,role:"navigation",...l,children:[a.jsx("ol",{className:"nhsuk-breadcrumb__list",role:"list",children:t?P.Children.map(t,(m,y)=>P.isValidElement(m)&&(m.type===Ma||m.type?.displayName==="BreadcrumbItem")?P.cloneElement(m,{key:y}):null):f?.filter(m=>m.active||!!m.href).map((m,y)=>a.jsx("li",{className:"nhsuk-breadcrumb__item",role:"listitem",children:m.active?a.jsx("span",{className:"nhsuk-breadcrumb__link nhsuk-breadcrumb__link--current","aria-current":"page",role:"text",...m.attributes||{},children:m.text}):a.jsx("a",{className:"nhsuk-breadcrumb__link",href:m.href,role:"link",...m.attributes||{},children:m.text})},y))}),p.href&&a.jsx("p",{className:"nhsuk-breadcrumb__back",children:a.jsxs("a",{className:"nhsuk-breadcrumb__backlink",href:p.href,role:"link","aria-label":`Back to ${p.text}`,...e.length>0?e[e.length-1]?.attributes||{}:{},children:[a.jsx("span",{className:"nhsuk-u-visually-hidden",children:"Back to Â "}),p.text]})})]})};Bc.Item=Ma,Ma.displayName="BreadcrumbItem";const Oc=({text:e="Skip to main content",href:t="#maincontent",classes:n,attributes:r={}})=>{const i=Oe("nhsuk-skip-link",n);return a.jsx("a",{className:i,href:t,"data-module":"nhsuk-skip-link",...r,children:e})},o2=({previousUrl:e,previousPage:t,nextUrl:n,nextPage:r,classes:i,attributes:o={}})=>{const s=Oe("nhsuk-pagination",i);return a.jsx("nav",{className:s,role:"navigation","aria-label":"Pagination",...o,children:a.jsxs("ul",{className:"nhsuk-list nhsuk-pagination__list",children:[e&&t&&a.jsx("li",{className:"nhsuk-pagination-item--previous",children:a.jsxs("a",{className:"nhsuk-pagination__link nhsuk-pagination__link--prev",href:e,children:[a.jsx("span",{className:"nhsuk-pagination__title",children:"Previous"}),a.jsx("span",{className:"nhsuk-u-visually-hidden",children:":"}),a.jsx("span",{className:"nhsuk-pagination__page",children:t}),a.jsx("svg",{className:"nhsuk-icon nhsuk-icon__arrow-left",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24","aria-hidden":"true",width:"34",height:"34",children:a.jsx("path",{d:"M4.1 12.3l2.7 3c.2.2.5.2.7 0 .1-.1.1-.2.1-.3v-2h11c.6 0 1-.4 1-1s-.4-1-1-1h-11V9c0-.2-.1-.4-.3-.5h-.2c-.1 0-.3.1-.4.2l-2.7 3c0 .2 0 .4.1.6z"})})]})}),n&&r&&a.jsx("li",{className:"nhsuk-pagination-item--next",children:a.jsxs("a",{className:"nhsuk-pagination__link nhsuk-pagination__link--next",href:n,children:[a.jsx("span",{className:"nhsuk-pagination__title",children:"Next"}),a.jsx("span",{className:"nhsuk-u-visually-hidden",children:":"}),a.jsx("span",{className:"nhsuk-pagination__page",children:r}),a.jsx("svg",{className:"nhsuk-icon nhsuk-icon__arrow-right",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24","aria-hidden":"true",width:"34",height:"34",children:a.jsx("path",{d:"M19.6 11.66l-2.73-3A.51.51 0 0 0 16 9v2H5a1 1 0 0 0 0 2h11v2a.5.5 0 0 0 .32.46.39.39 0 0 0 .18 0 .52.52 0 0 0 .37-.16l2.73-3a.5.5 0 0 0 0-.64z"})})]})})]})})},s2=({items:e,classes:t,ariaLabel:n="Pages in this guide",attributes:r={}})=>{const i=Oe("nhsuk-contents-list",t),o=(s,l)=>s.current?a.jsx("li",{className:"nhsuk-contents-list__item","aria-current":"page",...s.attributes||{},children:a.jsx("span",{className:"nhsuk-contents-list__current",children:s.text})},l):a.jsx("li",{className:"nhsuk-contents-list__item",children:a.jsx("a",{className:"nhsuk-contents-list__link",href:s.href,...s.attributes||{},children:s.text})},l);return a.jsxs("nav",{className:i,role:"navigation","aria-label":n,...r,children:[a.jsx("h2",{className:"nhsuk-u-visually-hidden",children:"Contents"}),a.jsx("ol",{className:"nhsuk-contents-list__list",children:e.map((s,l)=>o(s,l))})]})},Rc=P.forwardRef(({variant:e="default",heading:t,headingHtml:n,headingLevel:r=2,headingClasses:i,description:o,descriptionHtml:s,href:l,imgURL:c,imgAlt:u,...d},f)=>{const p=["nhsuk-card",e==="clickable"&&"nhsuk-card--clickable",e==="secondary"&&"nhsuk-card--secondary",e==="feature"&&"nhsuk-card--feature",d.className].filter(Boolean).join(" "),h=["nhsuk-card__content",e==="feature"&&"nhsuk-card__content--feature",e==="primary"&&"nhsuk-card__content--primary",e==="secondary"&&"nhsuk-card__content--secondary"].filter(Boolean).join(" "),g=["nhsuk-card__heading",e==="feature"&&"nhsuk-card__heading--feature",i].filter(Boolean).join(" "),m=()=>{if(n)return a.jsx("div",{dangerouslySetInnerHTML:{__html:n}});if(!t)return null;const N=()=>l&&e!=="feature"?a.jsx("a",{className:"nhsuk-card__link",href:l,children:t}):t;return a.jsx(zn,{level:r,className:g,children:N()})},y=()=>d.children?d.children:s?a.jsx("div",{dangerouslySetInnerHTML:{__html:s}}):o?a.jsx("p",{className:"nhsuk-card__description",children:o}):null,C=()=>e!=="primary"?null:a.jsxs("svg",{className:"nhsuk-icon",xmlns:"http://www.w3.org/2000/svg",width:"27",height:"27","aria-hidden":"true",focusable:"false",children:[a.jsx("circle",{cx:"13.333",cy:"13.333",r:"13.333",fill:""}),a.jsxs("g",{fill:"none",stroke:"#fff",strokeLinecap:"round",strokeMiterlimit:"10",strokeWidth:"2.667",children:[a.jsx("path",{d:"M15.438 13l-3.771 3.771"}),a.jsx("path",{d:"M11.667 9.229L15.438 13"})]})]});return a.jsxs("div",{...d,className:p,ref:f,children:[c&&a.jsx("img",{className:"nhsuk-card__img",src:c,alt:u||""}),a.jsxs("div",{className:h,children:[m(),y(),C()]})]})});Rc.displayName="Card";const a2=({className:e,children:t,"data-testid":n,id:r})=>{const i=["nhsuk-card-group",e].filter(Boolean).join(" ");return a.jsx("ul",{className:i,"data-testid":n,id:r,children:t})},l2=({className:e,children:t,"data-testid":n})=>{const r=["nhsuk-card-group__item",e].filter(Boolean).join(" ");return a.jsx("li",{className:r,"data-testid":n,children:t})},c2=({type:e,heading:t,headingHtml:n,headingLevel:r=3,headingClasses:i,description:o,descriptionHtml:s,className:l,children:c,"data-testid":u,id:d,"aria-label":f,"aria-labelledby":p,"aria-describedby":h})=>{const g=["nhsuk-care-card",`nhsuk-care-card--${e}`,l].filter(Boolean).join(" "),m=["nhsuk-care-card__heading",i].filter(Boolean).join(" "),y=()=>{if(n)return a.jsx("div",{dangerouslySetInnerHTML:{__html:n}});if(!t)return null;const N={"non-urgent":"Non-urgent advice:",urgent:"Urgent advice:",emergency:"Immediate action required:"}[e],j=a.jsxs("span",{role:"text",children:[a.jsxs("span",{className:"nhsuk-u-visually-hidden",children:[N," "]}),t]});return a.jsx(zn,{level:r,className:m,children:j})},C=()=>c||(s?a.jsx("div",{dangerouslySetInnerHTML:{__html:s}}):o?a.jsx("p",{className:"nhsuk-care-card__text",children:o}):null);return a.jsxs("div",{className:g,"data-testid":u,id:d,"aria-label":f,"aria-labelledby":p,"aria-describedby":h,children:[a.jsxs("div",{className:"nhsuk-care-card__heading-container",children:[y(),a.jsx("span",{className:"nhsuk-care-card__arrow","aria-hidden":"true"})]}),a.jsx("div",{className:"nhsuk-care-card__content",children:C()})]})},qh=({id:e,className:t,headingText:n,headingHtml:r,headingLevel:i=2,bodyText:o,bodyHtml:s,children:l,...c})=>{const u=Oe("nhsuk-panel",t),d=()=>!n&&!r&&!l?null:r?a.jsx(zn,{level:i,className:"nhsuk-panel__heading",html:r,marginBottom:"var(--panel-heading-margin, 24px)"}):n?a.jsx(zn,{level:i,className:"nhsuk-panel__heading",text:n,marginBottom:"var(--panel-heading-margin, 24px)"}):null,f=()=>l?a.jsx("div",{className:"nhsuk-panel__body",children:l}):s?a.jsx("div",{className:"nhsuk-panel__body",dangerouslySetInnerHTML:{__html:s}}):o?a.jsx("div",{className:"nhsuk-panel__body",children:a.jsx("p",{children:o})}):null;return a.jsxs("div",{className:u,id:e,...c,children:[d(),f()]})},u2=({text:e,html:t,children:n,className:r,...i})=>{const o=Oe("nhsuk-inset-text",r),s=()=>n||(t?a.jsx("div",{dangerouslySetInnerHTML:{__html:t}}):e?a.jsx("p",{children:e}):null);return a.jsx("div",{className:o,...i,children:s()})},d2=({items:e,noBorder:t=!1,className:n,...r})=>{const i=Oe("nhsuk-summary-list",{"nhsuk-summary-list--no-border":t},n),o=l=>l.children?l.children:l.html?a.jsx("span",{dangerouslySetInnerHTML:{__html:l.html}}):l.text?l.text:null,s=l=>!l||!l.items.length?null:a.jsx("dd",{className:"nhsuk-summary-list__actions",children:a.jsx("ul",{className:"nhsuk-summary-list__actions-list",children:l.items.map((c,u)=>a.jsx("li",{className:"nhsuk-summary-list__actions-list-item",children:a.jsxs("a",{href:c.href,className:"nhsuk-link",...c.attributes,children:[o(c),c.visuallyHiddenText&&a.jsx("span",{className:"nhsuk-u-visually-hidden",children:c.visuallyHiddenText})]})},u))})});return a.jsx("div",{className:"nhsuk-summary-list-container",children:a.jsx("dl",{className:i,...r,children:e.map((l,c)=>a.jsxs("div",{className:"nhsuk-summary-list__row",children:[a.jsx("dt",{className:"nhsuk-summary-list__key",children:o(l.key)}),a.jsx("dd",{className:"nhsuk-summary-list__value",children:o(l.value)}),s(l.actions)]},c))})})},Do={current:null},f2=()=>{if(Do.current)return Do.current;try{Do.current=require("prismjs");try{require("prismjs/components/prism-typescript")}catch{}try{require("prismjs/components/prism-tsx")}catch{}try{require("prismjs/components/prism-json")}catch{}}catch{Do.current=null}return Do.current},h2=e=>{const t=[{regex:/\b(import|from|export|const|let|var|return|if|else|for|while|switch|case|break|new|throw|try|catch|finally|class|extends|implements|interface|type|as|async|await|function)\b/g,cls:"kw"},{regex:/(['"`])(?:\\.|(?!\1).)*\1/g,cls:"str"},{regex:/\/\*[^]*?\*\/|\/\/.*$/gm,cls:"com"},{regex:/\b([0-9]+(?:\.[0-9]+)?)\b/g,cls:"num"}];let n=e;return t.forEach(r=>{n=n.replace(r.regex,i=>`<span class="nhsuk-code-${r.cls}">${i}</span>`)}),n},ja=(e,t,n)=>{if(n||!t)return e;const r=f2();if(r&&r.languages){const i=r.languages[t]?t:r.languages.typescript&&(t==="ts"||t==="tsx"||t==="typescript")?"typescript":r.languages.json&&t==="json"?"json":void 0;if(i)try{return r.highlight(e,r.languages[i],i)}catch{}}return h2(e)},p2=({rows:e,head:t,caption:n,captionSize:r,firstCellIsHeader:i=!1,responsive:o=!1,heading:s,headingLevel:l=3,panel:c=!1,panelClasses:u,tableClasses:d,classes:f,attributes:p,"data-testid":h,columns:g,data:m,visuallyHiddenCaption:y=!1})=>{const C=`nhsuk-table__caption ${r?`nhsuk-table__caption--${r}`:""}`.trim(),N=Oe("nhsuk-table",{"nhsuk-table-responsive":o},d),j=Oe(f),w=(v,_)=>{const E=Oe("nhsuk-table__header",{[`nhsuk-table__header--${v.format}`]:v.format},v.classes),D={scope:"col",...v.colspan&&{colSpan:v.colspan},...v.rowspan&&{rowSpan:v.rowspan},...o&&{role:"columnheader"},...v.attributes};let B;if(v.node!=null)B=a.jsx(a.Fragment,{children:v.node});else if(v.html)B=a.jsx("span",{dangerouslySetInnerHTML:{__html:v.html}});else if(v.code!=null){const A=Array.isArray(v.code),I=A?v.code.join(`
`):v.code,L=A||I.includes(`
`),F={className:Oe("nhsuk-table__code",v.codeClassName,{"nhsuk-table__code--block":L,"nhsuk-table__code--inline":!L}),...v.codeLanguage?{"data-language":v.codeLanguage}:{}},G=ja(I,v.codeLanguage);B=L?a.jsx("pre",{className:"nhsuk-table__pre",children:a.jsx("code",{...F,dangerouslySetInnerHTML:{__html:G}})}):a.jsx("code",{...F,dangerouslySetInnerHTML:{__html:G}})}else B=v.text;return a.jsx("th",{className:E,...D,children:B},_)},b=(v,_,E)=>{const D=i&&E||v.rowHeader,B=Oe(D?"nhsuk-table__header":"nhsuk-table__cell",{[`nhsuk-table__${D?"header":"cell"}--${v.format}`]:v.format},v.classes),A={...D&&{scope:"row"},...v.colspan&&{colSpan:v.colspan},...v.rowspan&&{rowSpan:v.rowspan},...o&&{role:D?"rowheader":"cell",...v.header&&{"data-label":v.header}},...v.attributes};let I;if(v.node!=null)I=a.jsx(a.Fragment,{children:v.node});else if(v.html)I=a.jsx("span",{dangerouslySetInnerHTML:{__html:v.html}});else if(v.code!=null){const G=Array.isArray(v.code),ee=G?v.code.join(`
`):v.code,T=G||ee.includes(`
`),X={className:Oe("nhsuk-table__code",v.codeClassName,{"nhsuk-table__code--block":T,"nhsuk-table__code--inline":!T}),...v.codeLanguage?{"data-language":v.codeLanguage}:{}},O=ja(ee,v.codeLanguage,v.disableHighlight);I=T?a.jsx("pre",{className:"nhsuk-table__pre",children:a.jsx("code",{...X,dangerouslySetInnerHTML:{__html:O}})}):a.jsx("code",{...X,dangerouslySetInnerHTML:{__html:O}})}else I=v.text;const L=a.jsxs(a.Fragment,{children:[o&&v.header&&a.jsxs("span",{className:"nhsuk-table-responsive__heading","aria-hidden":"true",children:[v.header," "]}),I]}),F=D?"th":"td";return a.jsx(F,{className:B,...A,children:L},_)};let S=t,M=e;!S&&g&&g.length&&(S=g.map(v=>({text:v.title,format:v.format,classes:v.headerClasses,attributes:v.headerAttributes}))),!M&&g&&m&&m.length&&(M=m.map((v,_)=>g.map(E=>{const D=E.accessor?E.accessor(v,_):v[E.key];let B={format:E.format,classes:E.cellClasses,attributes:E.cellAttributes};if(E.rowHeader&&(B.rowHeader=!0),E.render){const A=E.render(D,v,_,E);return A==null||typeof A=="boolean"?{...B,text:""}:typeof A=="string"||typeof A=="number"?{...B,text:String(A)}:{...B,...A}}return{...B,text:D!=null?String(D):""}})));const x=()=>a.jsxs("table",{className:N,...o&&{role:"table"},...p,...h&&{"data-testid":h},children:[n&&a.jsx("caption",{className:Oe(C,y&&"nhsuk-u-visually-hidden"),children:n}),S&&S.length>0&&a.jsx("thead",{className:"nhsuk-table__head",...o&&{role:"rowgroup"},children:a.jsx("tr",{...o&&{role:"row"},children:S.map((v,_)=>w(v,_))})}),a.jsx("tbody",{className:"nhsuk-table__body",children:M&&M.map((v,_)=>a.jsx("tr",{className:"nhsuk-table__row",...o&&{role:"row"},children:v.map((E,D)=>b(E,D,D===0))},_))})]});return c?a.jsxs(qh,{className:u,children:[s&&a.jsx(zn,{level:l,className:"nhsuk-table__heading-tab",children:s}),x()]}):j?a.jsx("div",{className:j,children:x()}):x()},m2=({children:e,size:t,className:n})=>{const r=Oe("nhsuk-table__caption",t&&`nhsuk-table__caption--${t}`,n);return a.jsx("caption",{className:r,children:e})},Xh=({responsive:e,className:t,children:n,...r})=>{const i=e?{role:"row"}:{};return a.jsx("tr",{className:t,...i,...r,children:n})},Jh=({text:e,html:t,node:n,code:r,codeLanguage:i,codeClassName:o,disableHighlight:s,format:l,classes:c,colspan:u,rowspan:d,attributes:f,responsive:p,as:h="th"})=>{const g=Oe("nhsuk-table__header",{[`nhsuk-table__header--${l}`]:l},c),m={scope:"col",...u&&{colSpan:u},...d&&{rowSpan:d},...p&&{role:"columnheader"},...f};let y;if(n!=null)y=a.jsx(a.Fragment,{children:n});else if(t)y=a.jsx("span",{dangerouslySetInnerHTML:{__html:t}});else if(r!=null){const N=Array.isArray(r),j=N?r.join(`
`):r,w=N||j.includes(`
`),b={className:Oe("nhsuk-table__code",o,{"nhsuk-table__code--block":w,"nhsuk-table__code--inline":!w}),...i?{"data-language":i}:{}},S=ja(j,i,s);y=w?a.jsx("pre",{className:"nhsuk-table__pre",children:a.jsx("code",{...b,dangerouslySetInnerHTML:{__html:S}})}):a.jsx("code",{...b,dangerouslySetInnerHTML:{__html:S}})}else y=e;const C=h;return a.jsx(C,{className:g,...m,children:y})},g2=({text:e,html:t,node:n,code:r,codeLanguage:i,codeClassName:o,disableHighlight:s,format:l,classes:c,colspan:u,rowspan:d,attributes:f,responsive:p,rowHeader:h})=>{const g=!!h,m=g?"th":"td",y=Oe(g?"nhsuk-table__header":"nhsuk-table__cell",l&&`nhsuk-table__${g?"header":"cell"}--${l}`,c),C={...u&&{colSpan:u},...d&&{rowSpan:d},...g&&{scope:"row"},...p&&{role:g?"rowheader":"cell"},...f};let N;if(n!=null)N=a.jsx(a.Fragment,{children:n});else if(t)N=a.jsx("span",{dangerouslySetInnerHTML:{__html:t}});else if(r!=null){const j=Array.isArray(r),w=j?r.join(`
`):r,b=j||w.includes(`
`),S={className:Oe("nhsuk-table__code",o,{"nhsuk-table__code--block":b,"nhsuk-table__code--inline":!b}),...i?{"data-language":i}:{}},M=ja(w,i,s);N=b?a.jsx("pre",{className:"nhsuk-table__pre",children:a.jsx("code",{...S,dangerouslySetInnerHTML:{__html:M}})}):a.jsx("code",{...S,dangerouslySetInnerHTML:{__html:M}})}else N=e;return a.jsx(m,{className:y,...C,children:N})},Vn=p2;Vn.Caption=m2,Vn.BodyRow=Xh,Vn.HeaderCell=Jh,Vn.Cell=g2;let Kh=!1,Qh=!1;Object.defineProperty(Vn,"Row",{configurable:!0,enumerable:!1,get(){return process.env.NODE_ENV!=="production"&&!Kh&&(console.warn("Table.Row is deprecated. Use Table.BodyRow instead."),Kh=!0),Xh}}),Object.defineProperty(Vn,"TH",{configurable:!0,enumerable:!1,get(){return process.env.NODE_ENV!=="production"&&!Qh&&(console.warn("Table.TH is deprecated. Use Table.HeaderCell instead."),Qh=!0),Jh}});const y2=P.forwardRef(({items:e,defaultActiveTab:t,activeTab:n,onTabChange:r,onTabFocus:i,onTabListBlur:o,onEscape:s,autoActivate:l=!0,className:c,id:u,"data-testid":d,...f},p)=>{const h=n!==void 0,[g,m]=P.useState(()=>t||e[0]?.id||""),y=h?n:g,C=P.useRef(null),N=P.useRef(new Map),j=P.useCallback(_=>{h||m(_),r?.(_)},[h,r]),w=P.useCallback(_=>{i?.(_),l&&j(_)},[i,l,j]),b=P.useCallback((_,E)=>{const D=e.filter(I=>!I.disabled).map(I=>I.id),B=D.indexOf(E);let A=null;switch(_.key){case"ArrowLeft":A=B>0?B-1:D.length-1;break;case"ArrowRight":A=B<D.length-1?B+1:0;break;case"Home":A=0;break;case"End":A=D.length-1;break;case"Escape":_.preventDefault(),s?.();return;default:return}if(A!==null){_.preventDefault();const I=D[A],L=N.current.get(I);L&&(L.focus(),w(I))}},[e,w,s]),S=P.useCallback((_,E)=>{E?N.current.set(_,E):N.current.delete(_)},[]),M=P.useCallback(_=>{const E=N.current.get(_);E&&E.focus()},[]);P.useImperativeHandle(p,()=>({focusTab:M,getActiveTab:()=>y,getTabListElement:()=>C.current}),[M,y]);const x=P.useCallback(_=>{const E=_.relatedTarget;C.current?.contains(E)||o?.()},[o]),v=Oe("nhsuk-tabs",c);return a.jsxs("div",{className:v,id:u,"data-testid":d,...f,children:[a.jsx("h2",{className:"nhsuk-tabs__title",children:"Contents"}),a.jsx("div",{className:"nhsuk-tabs__list-container",ref:C,children:a.jsx("ul",{className:"nhsuk-tabs__list",role:"tablist",onBlur:x,children:e.map(_=>{const E=_.id===y,D=_.disabled,B=Oe("nhsuk-tabs__list-item",{"nhsuk-tabs__list-item--selected":E,"nhsuk-tabs__list-item--disabled":D});return a.jsx("li",{className:B,role:"presentation",children:a.jsx("button",{ref:A=>S(_.id,A),className:"nhsuk-tabs__tab",role:"tab","aria-selected":E,"aria-controls":`${_.id}-panel`,id:`${_.id}-tab`,tabIndex:E?0:-1,disabled:D,onClick:()=>!D&&j(_.id),onKeyDown:A=>!D&&b(A,_.id),onFocus:()=>!D&&w(_.id),..._.attributes,children:_.label})},_.id)})})}),e.map(_=>{const E=_.id===y;return a.jsx("div",{className:"nhsuk-tabs__panel",role:"tabpanel","aria-labelledby":`${_.id}-tab`,id:`${_.id}-panel`,hidden:!E,children:_.content},_.id)})]})}),ep=P.forwardRef(({summaryText:e,summaryHtml:t,text:n,html:r,open:i=!1,className:o="",id:s,children:l,...c},u)=>{const d=["nhsuk-details",o].filter(Boolean).join(" "),f=t?a.jsx("span",{className:"nhsuk-details__summary-text",dangerouslySetInnerHTML:{__html:t}}):a.jsx("span",{className:"nhsuk-details__summary-text",children:e});let p;return l?p=l:r?p=a.jsx("div",{dangerouslySetInnerHTML:{__html:r}}):n&&(p=n),a.jsxs("details",{ref:u,id:s,className:d,open:i,...c,children:[a.jsx("summary",{className:"nhsuk-details__summary",tabIndex:0,children:f}),a.jsx("div",{className:"nhsuk-details__text",children:p})]})});ep.displayName="Details";const tp=P.forwardRef(({title:e,type:t,items:n,hidePrefix:r=!1,headingLevel:i=3,className:o,...s},l)=>{const c=["nhsuk-do-dont-list"];o&&c.push(o);const u=["nhsuk-list",t==="tick"?"nhsuk-list--tick":"nhsuk-list--cross"],d=()=>t==="cross"?a.jsxs("svg",{className:"nhsuk-icon nhsuk-icon__cross",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24","aria-hidden":"true",width:"34",height:"34",children:[a.jsx("path",{d:"M17 18.5c-.4 0-.8-.1-1.1-.4l-10-10c-.6-.6-.6-1.6 0-2.1.6-.6 1.5-.6 2.1 0l10 10c.6.6.6 1.5 0 2.1-.3.3-.6.4-1 .4z",fill:"#d5281b"}),a.jsx("path",{d:"M7 18.5c-.4 0-.8-.1-1.1-.4-.6-.6-.6-1.5 0-2.1l10-10c.6-.6 1.5-.6 2.1 0 .6.6.6 1.5 0 2.1l-10 10c-.3.3-.6.4-1 .4z",fill:"#d5281b"})]}):a.jsx("svg",{className:"nhsuk-icon nhsuk-icon__tick",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none","aria-hidden":"true",width:"34",height:"34",children:a.jsx("path",{strokeWidth:"4",strokeLinecap:"round",d:"M18.4 7.8l-8.5 8.4L5.6 12",stroke:"#007f3b"})}),f=h=>t==="cross"&&!r?`do not ${h}`:h,p=()=>a.jsx(zn,{level:i,className:"nhsuk-do-dont-list__label",text:e});return a.jsxs("div",{ref:l,className:c.join(" "),...s,children:[p(),a.jsx("div",{className:"nhsuk-do-dont-list__content--feature",children:a.jsx("ul",{className:u.join(" "),role:"list",children:n.map((h,g)=>a.jsxs("li",{children:[d(),f(h.item)]},g))})})]})});tp.displayName="DoDontList";const np=P.forwardRef(({summaryText:e,summaryHtml:t,text:n,html:r,open:i=!1,className:o="",id:s,children:l,...c},u)=>{const d=["nhsuk-expander",o].filter(Boolean).join(" "),f=t?a.jsx("span",{className:"nhsuk-details__summary-text",dangerouslySetInnerHTML:{__html:t}}):a.jsx("span",{className:"nhsuk-details__summary-text",children:e});let p;return l?p=l:r?p=a.jsx("div",{dangerouslySetInnerHTML:{__html:r}}):n&&(p=n),a.jsxs("details",{ref:u,id:s,className:d,open:i,...c,children:[a.jsx("summary",{className:"nhsuk-details__summary",children:f}),a.jsx("div",{className:"nhsuk-details__text",children:p})]})});np.displayName="Expander";const rp=P.forwardRef(({items:e,idPrefix:t="task-list",className:n,...r},i)=>{const o=["nhsuk-task-list",n].filter(Boolean).join(" "),s=(l,c)=>{const u=c+1,d=`${t}-${u}-hint`,f=`${t}-${u}-status`,p=!!l.href,h=["nhsuk-task-list__item",p&&"nhsuk-task-list__item--with-link",l.classes].filter(Boolean).join(" "),g=[l.hint&&d,f].filter(Boolean).join(" ");return a.jsx(b2,{item:l,itemClasses:h,hasLink:p,hintId:d,statusId:f,ariaDescribedBy:g},c)};return a.jsx("ul",{ref:i,className:o,...r,children:e.map(s)})}),b2=({item:e,itemClasses:t,hasLink:n,hintId:r,statusId:i,ariaDescribedBy:o})=>{const s=()=>{const u=e.title.html?a.jsx("span",{dangerouslySetInnerHTML:{__html:e.title.html}}):e.title.text,d=[n?"nhsuk-task-list__link":"",e.title.classes].filter(Boolean).join(" ");return n?a.jsx("a",{className:d,href:e.href,"aria-describedby":o,children:u}):a.jsx("div",{className:e.title.classes||"",children:u})},l=()=>e.hint?e.hint.html?a.jsx("div",{id:r,className:"nhsuk-task-list__hint",dangerouslySetInnerHTML:{__html:e.hint.html}}):a.jsx("div",{id:r,className:"nhsuk-task-list__hint",children:e.hint.text}):null,c=()=>{const u=["nhsuk-task-list__status",e.status.classes].filter(Boolean).join(" ");let d;return e.status.tag?d=a.jsx(pt,{...e.status.tag}):e.status.html?d=a.jsx("span",{dangerouslySetInnerHTML:{__html:e.status.html}}):d=e.status.text,a.jsx("div",{className:u,id:i,children:d})};return a.jsxs("li",{className:t,children:[a.jsxs("div",{className:"nhsuk-task-list__name-and-hint",children:[s(),l()]}),c()]})};rp.displayName="TaskList";const v2=({heading:e,headingLevel:t=3,text:n,html:r,children:i,className:o,...s})=>{const l=/important/i.test(e),c=()=>i||(r?a.jsx("div",{dangerouslySetInnerHTML:{__html:r}}):n?a.jsx("p",{children:n}):null),u=["nhsuk-warning-callout",o].filter(Boolean).join(" "),d=`h${t}`;return a.jsxs("div",{className:u,...s,children:[P.createElement(d,{className:"nhsuk-warning-callout__label"},l?a.jsxs(a.Fragment,{children:[e,a.jsx("span",{className:"nhsuk-u-visually-hidden",children:":"})]}):a.jsxs("span",{role:"text",children:[a.jsx("span",{className:"nhsuk-u-visually-hidden",children:"Important: "}),e]})),c()]})},x2=({src:e,alt:t,caption:n,sizes:r,srcset:i,className:o,...s})=>{const l=["nhsuk-image",o].filter(Boolean).join(" ");return a.jsxs("figure",{className:l,...s,children:[a.jsx("img",{className:"nhsuk-image__img",src:e,alt:t,...r&&i?{sizes:r,srcSet:i}:{}}),n&&a.jsx("figcaption",{className:"nhsuk-image__caption",dangerouslySetInnerHTML:{__html:n}})]})},_2=({dateRange:e,onPrev:t,onNext:n,onToday:r,density:i,onDensityChange:o,a11yMode:s,onA11yModeChange:l})=>a.jsxs("div",{className:"nhs-slot-matrix__toolbar",role:"group","aria-label":"Slot matrix controls",children:[a.jsxs("div",{className:"nhs-slot-matrix__toolbar-section",children:[a.jsx(zt,{variant:"secondary",size:"small",onClick:t,"aria-label":"Previous date range",children:"Prev"}),a.jsx(zt,{variant:"secondary",size:"small",onClick:r,"aria-label":"Jump to today",children:"Today"}),a.jsx(zt,{variant:"secondary",size:"small",onClick:n,"aria-label":"Next date range",children:"Next"}),a.jsxs("span",{className:"nhs-slot-matrix__toolbar-daterange","aria-live":"polite",children:[e.start.toDateString()," â€“ ",e.end.toDateString()]})]}),a.jsxs("div",{className:"nhs-slot-matrix__toolbar-section",children:[a.jsx("label",{className:"nhs-slot-matrix__toolbar-label",htmlFor:"slot-matrix-density-select",children:"Density"}),a.jsx(xo,{id:"slot-matrix-density-select",name:"slot-matrix-density",ariaLabel:"Change density",value:i,onChange:c=>o?.(c.target.value),options:[{value:"comfortable",text:"Comfortable"},{value:"compact",text:"Compact"}]}),a.jsx("label",{className:"nhs-slot-matrix__toolbar-label",htmlFor:"slot-matrix-mode-select",children:"Mode"}),a.jsx(xo,{id:"slot-matrix-mode-select",name:"slot-matrix-mode",ariaLabel:"Change accessibility mode",value:s,onChange:c=>l?.(c.target.value),options:[{value:"grid",text:"Grid"},{value:"list",text:"List"}]})]})]}),w2=({items:e,orientation:t="horizontal"})=>a.jsx("div",{className:`nhs-slot-matrix__legend nhs-slot-matrix__legend--${t}`,role:"list","aria-label":"Slot legend",children:e.map(n=>a.jsx("div",{role:"listitem",className:"nhs-slot-matrix__legend-item",children:a.jsx(pt,{color:S2(n.status),text:n.label})},n.status))});function S2(e){switch(e){case"available":return"green";case"full":return"grey";case"overbook":return"orange";case"held":return"yellow";case"blocked":return"grey";default:return"default"}}const k2=({slots:e,sessions:t,value:n,defaultValue:r,onChange:i,selectionMode:o="single",a11yMode:s,className:l,style:c,getSlotAriaLabel:u,toolbar:d,enableDefaultToolbar:f=!0,legendItems:p,enableDefaultLegend:h=!0,legendPlacement:g="bottom",onA11yModeChange:m})=>{const[y,C]=P.useState("grid"),N=s||y,[j,w]=P.useState(r||[]),b=n??j,S=P.useMemo(()=>{const A=new Set;return e.forEach(I=>A.add(new Date(I.start).getTime())),Array.from(A).sort((I,L)=>I-L)},[e]),M=P.useMemo(()=>{const A={};return e.forEach(I=>{const L=new Date(I.start).getTime();A[L]||(A[L]={});const F=I.capacity-I.booked-(I.held||0);A[L][I.sessionId]={slot:I,remaining:F}}),A},[e]),x=P.useCallback(A=>{if(o==="single"){const I=[A.id];n||w(I),i?.(I,{lastAction:"select"})}else{const I=b.includes(A.id),L=I?b.filter(F=>F!==A.id):[...b,A.id];n||w(L),i?.(L,{lastAction:I?"deselect":"select"})}},[o,b,n,i]),v=P.useMemo(()=>p||(h?Array.from(new Set(e.map(I=>I.status))).map(I=>({status:I,label:I.charAt(0).toUpperCase()+I.slice(1)})):void 0),[p,h,e]),_=v?a.jsx(w2,{items:v,orientation:g==="left"||g==="right"?"vertical":"horizontal"}):null,E=A=>{s||C(A),m?.(A)},D=d||(f?a.jsx(_2,{dateRange:{start:new Date,end:new Date},density:"comfortable",a11yMode:N,onA11yModeChange:E}):null),B=a.jsx("div",{style:c,className:Oe(l),children:a.jsx(aa,{className:Oe("nhs-slot-matrix-grid-wrapper"),children:a.jsx(mr,{children:a.jsx(Ai,{width:Ar.Full,children:a.jsxs("div",{className:"nhs-slot-matrix",children:[D,g==="top"&&_,a.jsx("ul",{"aria-label":"Appointment slots list",children:e.map(A=>a.jsx("li",{children:a.jsxs("button",{type:"button",onClick:()=>x(A),"aria-pressed":b.includes(A.id),children:[Io(new Date(A.start))," â€“ ",Io(new Date(A.end))," (",A.status,")"]})},A.id))}),g==="bottom"&&_]})})})})});return N==="list"?B:a.jsx("div",{style:c,className:Oe(l),children:a.jsx(aa,{className:Oe("nhs-slot-matrix-grid-wrapper"),children:a.jsx(mr,{children:a.jsx(Ai,{width:Ar.Full,children:a.jsxs("div",{className:"nhs-slot-matrix",children:[D,g==="top"&&_,a.jsxs("div",{role:"grid","aria-rowcount":S.length+1,"aria-colcount":t.length+1,children:[a.jsxs("div",{role:"row",className:"nhs-slot-matrix__row",children:[a.jsx("div",{role:"columnheader","aria-label":"Timebands",className:"nhs-slot-matrix__timeband-header"}),t.map(A=>a.jsx("div",{role:"columnheader","aria-label":`Session ${A.specialty}`,className:"nhs-slot-matrix__session-header",children:A.specialty},A.id))]}),S.map(A=>a.jsxs("div",{role:"row",className:"nhs-slot-matrix__row",children:[a.jsx("div",{role:"rowheader",className:"nhs-slot-matrix__timeband-header","aria-label":Io(new Date(A)),children:Io(new Date(A))}),t.map(I=>{const L=M[A]?.[I.id];if(!L)return a.jsx("div",{role:"gridcell",className:"nhs-slot-matrix__cell","aria-disabled":"true"},I.id);const{slot:F,remaining:G}=L,ee=b.includes(F.id),T=u?u(F):`Slot ${Io(new Date(F.start))} ${F.status}${G===0?" full":""}`;return a.jsx("button",{type:"button",role:"gridcell","data-status":F.status,className:Oe("nhs-slot-matrix__cell",ee&&"nhs-slot-matrix__cell--selected"),"aria-label":T,"aria-selected":ee||void 0,onClick:()=>x(F),children:G>0?`${G} left`:"Full"},F.id)})]},A))]}),g==="bottom"&&_]})})})})})};function ip(e){return e<10?`0${e}`:`${e}`}function Io(e){return`${ip(e.getHours())}:${ip(e.getMinutes())}`}function op(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(n=op(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function Zn(){for(var e,t,n=0,r="",i=arguments.length;n<i;n++)(e=arguments[n])&&(t=op(e))&&(r&&(r+=" "),r+=t);return r}const C2=({level:e,children:t,className:n})=>{const r=`h${e}`;return P.createElement(r,{className:n},t)},N2=({href:e,children:t,className:n,...r})=>a.jsx("a",{href:e,className:n,...r,children:t});function Ta(e,t){return a.jsx("span",{className:Zn("nhs-step-nav__title",{"nhs-step-nav__title--current":t}),children:e.title})}const M2=({id:e,className:t,ariaLabel:n="Step by step",heading:r,summary:i,headingLevel:o=3,variant:s="full-width",items:l,numbered:c=!0,currentStepId:u,renderLink:d,collapsible:f=!0,singleOpen:p=!1,defaultExpandedIds:h,expandedIds:g,onToggle:m,showAllControls:y=!1,autoFocusExpanded:C=!1})=>{const N=d??N2,j=s==="sidebar"?{as:"aside",className:"nhs-step-nav nhs-step-nav--sidebar"}:{as:"nav",className:"nhs-step-nav nhs-step-nav--full"},w=j.as==="aside"?"aside":"nav",b=g===void 0,[S,M]=P.useState(()=>new Set(h??[])),x=P.useMemo(()=>b?S:new Set(g),[b,S,g]),v=P.useMemo(()=>l.some(A=>A.description||A.items&&A.items.length>0),[l]),_=P.useCallback(A=>x.has(A),[x]),E=P.useCallback((A,I)=>{b&&M(L=>{if(p)return I?new Set([A]):new Set;const F=new Set(L);return I?F.add(A):F.delete(A),F}),m?.(A,I)},[b,m,p]),D=P.useCallback(A=>{const I=l.filter(L=>L.description||L.items&&L.items.length>0).map(L=>L.id);b&&M(()=>A?p?new Set(I.slice(0,1)):new Set(I):new Set),I.forEach(L=>m?.(L,A))},[l,b,m,p]),B=P.useCallback((A,I)=>{const L=!_(A.id);if(E(A.id,L),L&&C){const F=document.getElementById(`sbs-${A.id}-panel`);F&&F.querySelector('a, button, input, select, textarea, [tabindex]:not([tabindex="-1"])')?.focus()}else I?.focus()},[C,_,E]);return P.createElement(w,{id:e,"aria-label":n,className:Zn(j.className,t)},a.jsxs(a.Fragment,{children:[s==="full-width"&&(r||i)&&a.jsxs("div",{className:"nhs-step-nav__intro",children:[r&&a.jsx(C2,{level:o,className:"nhs-step-nav__heading",children:r}),i&&a.jsx("p",{className:"nhs-step-nav__summary",children:i}),f&&!p&&y&&v&&a.jsxs("div",{className:"nhs-step-nav__controls",children:[a.jsx("button",{type:"button",className:"nhs-step-nav__control",onClick:()=>D(!0),children:"Show all"}),a.jsx("button",{type:"button",className:"nhs-step-nav__control",onClick:()=>D(!1),children:"Hide all"})]})]}),a.jsx("ol",{className:Zn("nhs-step-nav__list",{"nhs-step-nav__list--numbered":c}),children:l.map((A,I)=>{const L=u===A.id,F=Zn("nhs-step-nav__item",L&&"nhs-step-nav__item--current",A.status&&`nhs-step-nav__item--${A.status}`),G=A.href?a.jsx(N,{href:A.href,className:"nhs-step-nav__link","aria-current":L?"step":void 0,children:Ta(A,L)}):Ta(A,L),ee=!!(A.description||A.items&&A.items.length>0),T=f&&ee?_(A.id):!0,X=`sbs-${A.id}-header`,O=`sbs-${A.id}-panel`;return a.jsxs("li",{className:F,children:[a.jsxs("div",{className:"nhs-step-nav__header",children:[G,(A.optional||A.duration||A.meta)&&a.jsxs("div",{className:"nhs-step-nav__meta",children:[A.optional&&a.jsx("span",{className:"nhs-step-nav__optional","aria-label":"Optional",children:"Optional"}),A.duration&&a.jsx("span",{className:"nhs-step-nav__duration",children:A.duration}),A.meta]}),f&&ee&&a.jsx("button",{id:X,type:"button",className:"nhs-step-nav__toggle","aria-expanded":T,"aria-controls":O,onClick:$=>B(A,$.currentTarget),"aria-label":(T?"Hide":"Show")+` details for ${typeof A.title=="string"?A.title:"this step"}`,children:a.jsx("span",{className:"nhs-step-nav__toggle-icon","aria-hidden":"true"})})]}),ee&&(!f||T)&&a.jsxs("div",{id:O,role:"region","aria-labelledby":f?X:void 0,className:Zn("nhs-step-nav__content"),children:[A.description&&a.jsx("p",{className:"nhs-step-nav__description",children:A.description}),A.items&&A.items.length>0&&a.jsx("ol",{className:"nhs-step-nav__sublist",children:A.items.map($=>{const V=u===$.id,Y=$.href?a.jsx(N,{href:$.href,className:"nhs-step-nav__sublink","aria-current":V?"step":void 0,children:Ta($,V)}):Ta($,V);return a.jsx("li",{className:Zn("nhs-step-nav__subitem",$.status&&`nhs-step-nav__subitem--${$.status}`),children:Y},$.id)})})]})]},A.id||I)})})]}))},sp=({title:e,value:t,subtitle:n,variant:r="default",href:i,className:o="",ariaLabel:s,...l})=>{const c=["nhs-fdp-summary-card",`nhs-fdp-summary-card--${r}`,o].filter(Boolean).join(" "),u=a.jsxs(a.Fragment,{children:[a.jsx(zn,{level:3,className:"nhs-fdp-summary-card__title",children:e}),a.jsx("p",{className:"nhs-fdp-summary-card__value",children:t}),n&&a.jsx("p",{className:"nhs-fdp-summary-card__subtitle",children:n})]});return i?a.jsx("a",{className:`${c} nhs-fdp-summary-card--clickable`,href:i,"aria-label":s||`${e}: ${t}`,...l,children:u}):a.jsx("div",{className:c,"aria-label":s,...l,children:u})},j2=({cards:e,className:t="",...n})=>{const r=["nhs-fdp-dashboard-summary-grid",t].filter(Boolean).join(" ");return a.jsx("div",{className:r,...n,children:a.jsx(aa,{children:a.jsx(mr,{children:e.map((i,o)=>a.jsx(Ai,{width:Ar.OneQuarter,className:"nhs-fdp-dashboard-summary-grid__column","data-card-index":o,children:a.jsx(sp,{...i})},o))})})})};var Da=(e=>(e.String="string",e.Number="number",e.Boolean="boolean",e.Date="date",e.Custom="custom",e))(Da||{}),Hi=(e=>(e.First="first",e.Last="last",e))(Hi||{}),Lo=(e=>(e.TrueFirst="trueFirst",e.FalseFirst="falseFirst",e))(Lo||{});function ap(e){if(e==null)return null;const n=(e instanceof Date?e:new Date(e)).getTime();return Number.isNaN(n)?null:n}const T2=new Intl.Collator(void 0,{numeric:!0,sensitivity:"base"});function D2(e,t){return T2.compare(String(e),String(t))}function lp(e,t){if(t.sortAccessor)return t.sortAccessor(e);if(t.useRendererForSort){if(t.tableRenderer)return t.tableRenderer(e);if(t.render)return t.render(e)}return e[t.key]}function I2(e,t,n,r){if(n?.sortComparator)return n.sortComparator(e,t);const i=n?.sortType;if(i===Da.Number){const o=Number(e),s=Number(t),l=Number.isNaN(o),c=Number.isNaN(s);return l&&c?0:l?1:c?-1:o-s}if(i===Da.Boolean){const o=!!e,s=!!t,l=n?.booleanOrder??r?.booleanOrder??Lo.FalseFirst;return o===s?0:l===Lo.TrueFirst?o?-1:1:o?1:-1}if(i===Da.Date){const o=ap(e),s=ap(t);return o==null&&s==null?0:o==null?1:s==null?-1:o-s}if(typeof e=="number"&&typeof t=="number"){const o=Number.isNaN(e),s=Number.isNaN(t);return o&&s?0:o?1:s?-1:e-t}if(typeof e=="boolean"&&typeof t=="boolean"){const o=n?.booleanOrder??r?.booleanOrder??Lo.FalseFirst;return e===t?0:o===Lo.TrueFirst?e?-1:1:e?1:-1}return D2(e,t)}function Hc(e,t,n=Hi.Last,r){const i=new Map(e.map(s=>[s.key,s])),o=t??[];return(s,l)=>{if(!o.length)return 0;for(const{key:c,direction:u}of o){const d=i.get(c),f=d?lp(s,d):s[c],p=d?lp(l,d):l[c],h=f==null,g=p==null;if(h||g){if(h&&g)continue;return(d?.nullsPosition??r?.nullsPosition??n)===Hi.First?h?-1:1:h?1:-1}let m=I2(f,p,d,r);if(m!==0)return u==="asc"?m:-m}if(r?.stable){const c=s.__originalIndex__??s.originalIndex??void 0,u=l.__originalIndex__??l.originalIndex??void 0;if(typeof c=="number"&&typeof u=="number")return c-u}return 0}}const cp=P.forwardRef(({data:e,columns:t,sortConfig:n,onSort:r,sortingOptions:i,selectedRowIndex:o,onRowSelect:s,id:l,testId:c,ariaLabel:u,ariaLabelledby:d,ariaDescribedby:f,className:p,tableClassName:h,bordered:g=!1,striped:m=!1,responsive:y=!1,tableType:C="default"},N)=>{const j=P.useRef(null),w=P.useRef(null),b=P.useRef(null);P.useImperativeHandle(N,()=>j.current,[]);const[S,M]=P.useState(0),[x,v]=P.useState(0),[_,E]=P.useState("headers"),[D,B]=P.useState("browse"),A=t.length,I=e.length,L=P.useMemo(()=>{if(!n||n.length===0)return e;const $=Hc(t,n,Hi.Last,i);return[...e].sort($)},[e,n,t,i]),F=P.useCallback(($,V)=>{setTimeout(()=>{const Y=j.current?.querySelector(`tbody tr:nth-child(${$+1}) td:nth-child(${V+1})`);Y&&(Y.focus(),typeof Y.scrollIntoView=="function"&&Y.scrollIntoView({behavior:"smooth",block:"center",inline:"nearest"}))},0)},[]),G=P.useCallback($=>{setTimeout(()=>{const V=j.current?.querySelector(`th:nth-child(${$+1})`);V&&(V.focus(),typeof V.scrollIntoView=="function"&&V.scrollIntoView({behavior:"smooth",block:"center",inline:"nearest"}))},0)},[]),ee=P.useCallback($=>{r?.($)},[r]),T=P.useCallback($=>{s?.($)},[s]),X=P.useCallback($=>{const{key:V}=$;switch(V){case"Enter":if($.preventDefault(),_==="headers"&&D==="browse")B("navigate"),G(x);else if(_==="headers"&&D==="navigate"){const Y=t[x];Y&&ee(Y.key)}else _==="cells"&&D==="browse"?(B("navigate"),F(S,x)):_==="cells"&&D==="navigate"&&T(S);break;case"Escape":$.preventDefault(),(_==="headers"&&D==="navigate"||_==="cells"&&D==="navigate")&&B("browse");break;case"ArrowLeft":if($.preventDefault(),D==="navigate"||D==="browse"&&_==="headers"){if(_==="headers"){const Y=Math.max(0,x-1);v(Y),G(Y)}else if(_==="cells"){const Y=Math.max(0,x-1);v(Y),F(S,Y)}}break;case"ArrowRight":if($.preventDefault(),D==="navigate"||D==="browse"&&_==="headers"){if(_==="headers"){const Y=Math.min(A-1,x+1);v(Y),G(Y)}else if(_==="cells"){const Y=Math.min(A-1,x+1);v(Y),F(S,Y)}}break;case"ArrowUp":if($.preventDefault(),_==="cells"){if(D==="browse"){const Y=Math.max(0,S-1);M(Y),F(Y,0),v(0)}else if(D==="navigate")if(S>0){const Y=S-1;M(Y),F(Y,x)}else E("headers"),B("browse"),G(x)}break;case"ArrowDown":if($.preventDefault(),_==="headers"&&D==="browse")E("cells"),M(0),v(0),F(0,0);else if(_==="cells"){const Y=I-1;if(D==="browse"){const R=Math.min(Y,S+1);M(R),F(R,0),v(0)}else if(D==="navigate"&&S<Y){const R=S+1;M(R),F(R,x)}}break;case"Home":$.preventDefault(),_==="headers"?(v(0),G(0)):_==="cells"&&($.ctrlKey?(M(0),v(0),F(0,0)):(v(0),F(S,0)));break;case"End":if($.preventDefault(),_==="headers"){const Y=A-1;v(Y),G(Y)}else if(_==="cells")if($.ctrlKey){const Y=I-1,R=A-1;M(Y),v(R),F(Y,R)}else{const Y=A-1;v(Y),F(S,Y)}break;case" ":if($.preventDefault(),_==="headers"&&D==="navigate"){const Y=t[x];Y&&ee(Y.key)}else _==="cells"&&D==="navigate"&&T(S);break}},[_,D,x,S,A,I,t,F,G,ee,T]);P.useEffect(()=>{const $=j.current;if($)return $.addEventListener("keydown",X),()=>$.removeEventListener("keydown",X)},[X]);const O=Oe("nhsuk-table",h,{"nhsuk-table--responsive":y,"nhsuk-table--bordered":g,"nhsuk-table--striped":m,"nhsuk-table--compact":C==="compact"},p);return a.jsxs("table",{ref:j,className:O,id:l,"data-testid":c,role:"grid","aria-label":u,"aria-labelledby":d,"aria-describedby":f,tabIndex:0,children:[a.jsx("thead",{className:"nhsuk-table__head",role:"rowgroup",children:a.jsx("tr",{ref:w,role:"row",children:t.map(($,V)=>{const Y=n?.find(te=>te.key===$.key),R=!!Y,J=_==="headers"&&x===V;return a.jsx("th",{className:Oe("sortable-header",{"sortable-header--focused":J}),role:"columnheader",tabIndex:J?0:-1,onClick:()=>{E("headers"),v(V),B("navigate"),G(V),ee($.key)},onKeyDown:te=>{(te.key==="Enter"||te.key===" ")&&(te.preventDefault(),ee($.key))},"aria-sort":R?Y?.direction==="asc"?"ascending":"descending":"none",children:a.jsxs("div",{className:"header-content",children:[a.jsx("span",{className:"header-label",children:$.label}),R&&a.jsxs("span",{className:"sort-indicator","aria-hidden":"true",children:[n&&n.length>1&&a.jsx("span",{className:"sort-priority",children:n.findIndex(te=>te.key===$.key)+1}),a.jsx("svg",{width:"12",height:"12",viewBox:"0 0 12 12",fill:"currentColor",className:"sort-arrow",children:Y?.direction==="asc"?a.jsx("path",{d:"M6 2L2 8h8L6 2z"}):a.jsx("path",{d:"M6 10L2 4h8L6 10z"})})]})]})},$.key)})})}),a.jsx("tbody",{ref:b,className:"nhsuk-table__body",role:"rowgroup",children:L.map(($,V)=>{const Y=o===V,R=_==="cells"&&S===V;return a.jsx("tr",{role:"row",className:Oe("data-row",{"data-row--selected":Y,"data-row--focused":R}),"aria-selected":Y,children:t.map((J,te)=>{const K=J.tableRenderer?J.tableRenderer($):J.render?J.render($):$[J.key],oe=_==="cells"&&S===V&&x===te,ye=()=>typeof K=="boolean"?a.jsxs(a.Fragment,{children:[a.jsx("span",{"aria-hidden":"true",children:K?"âœ“":"âœ—"}),a.jsx("span",{className:"sr-only",children:K?"Yes":"No"})]}):String(K??"");return a.jsx("td",{role:"gridcell",className:Oe("data-cell",{"data-cell--focused":oe}),tabIndex:oe?0:-1,onClick:()=>{E("cells"),M(V),v(te),B("navigate"),F(V,te),T(V)},children:ye()},J.key)})},V)})})]})});cp.displayName="AriaDataGrid";const Ao=({sortConfig:e,columns:t,onSortChange:n,className:r="",emptyDescription:i="No sorting applied",activeDescription:o,showReset:s=!0,showHelp:l=!0,disabled:c=!1,ariaLabel:u="Sort configuration",ariaDescribedBy:d})=>{const f=P.useRef(null),p=P.useRef(null),h=P.useRef(null),g=P.useCallback((v,_)=>{c||(p.current=_,v.dataTransfer.effectAllowed="move",v.dataTransfer.setData("text/plain",_))},[c]),m=P.useCallback((v,_)=>{c||p.current===_||(v.preventDefault(),v.dataTransfer.dropEffect="move",h.current=_)},[c]),y=P.useCallback((v,_)=>{if(c)return;v.preventDefault();const E=p.current;if(!E||E===_)return;const D=e.findIndex(A=>A.key===E),B=e.findIndex(A=>A.key===_);if(D!==-1&&B!==-1){const A=[...e],[I]=A.splice(D,1);A.splice(B,0,I),n(A)}p.current=null,h.current=null},[c,e,n]),C=P.useCallback(()=>{p.current=null,h.current=null},[]),N=P.useCallback(v=>{const _=t.find(E=>E.key===v);return _?_.label:v},[t]),j=P.useCallback(v=>["red","orange","blue","aqua-green","grey"][v]||"grey",[]),w=P.useCallback(v=>{if(c)return;const _=e.map(E=>E.key===v?{...E,direction:E.direction==="asc"?"desc":"asc"}:E);n(_)},[e,n,c]),b=P.useCallback(v=>{if(c)return;const _=e.filter(E=>E.key!==v);n(_)},[e,n,c]),S=P.useCallback(()=>{c||n([])},[n,c]),M=()=>{if(e.length===0)return i;if(o)return o;const v=e.map((_,E)=>{const D=_.direction==="asc"?"ascending":"descending";return`${E+1}. ${N(_.key)} (${D})`});if(v.length===1)return`Sorted by: ${v[0]}`;if(v.length===2)return`Sorted by: ${v.join(" and ")}`;{const _=v.pop();return`Sorted by: ${v.join(", ")}, and ${_}`}},x=P.useMemo(()=>{const v=["sort-description"];return l&&v.push("sort-help"),d&&v.push(d),v.join(" ")},[l,d]);return e.length===0?a.jsxs("div",{className:`sort-status-control ${r}`,children:[a.jsx("div",{className:"sort-status-control__description",id:"sort-description","aria-live":"polite",children:i}),l&&a.jsx("div",{className:"sort-status-control__help",id:"sort-help",children:a.jsx("small",{children:"Drag tags to reorder priority. Click tags or â†‘/â†“ buttons to toggle ascending/descending. Click Ã— to remove a sort."})})]}):a.jsxs("div",{className:`sort-status-control ${r}`,children:[a.jsx("div",{className:"sort-status-control__description sort-status-control__description--active",id:"sort-description","aria-live":"polite",children:M()}),a.jsxs("div",{className:"sort-status-container",children:[a.jsx("div",{ref:f,className:"sort-status-control__tags",role:"list","aria-label":u,"aria-describedby":x,children:e.map((v,_)=>a.jsx("div",{className:"sort-status-control__tag-container",role:"listitem",draggable:!c,onDragStart:E=>g(E,v.key),onDragOver:E=>m(E,v.key),onDrop:E=>y(E,v.key),onDragEnd:C,onClick:()=>w(v.key),style:{cursor:c?"default":"pointer"},title:c?"":`Click to toggle sort direction. Currently ${v.direction==="asc"?"ascending":"descending"}`,"data-key":v.key,children:a.jsx(pt,{color:j(_),className:"sort-status-control__tag",closable:!0,onClose:()=>b(v.key),disabled:c,children:a.jsxs("div",{className:"sort-status-control__tag-content",children:[a.jsx("div",{className:"sort-status-control__drag-handle",title:"Drag to reorder",children:"â‹®â‹®"}),a.jsx("div",{className:`sort-status-control__priority-badge sort-priority sort-priority--priority-${_+1}`,children:_+1}),a.jsx("span",{className:"sort-status-control__tag-label",children:N(v.key)}),a.jsx("button",{type:"button",className:"sort-status-control__direction-button",onClick:E=>{E.stopPropagation(),w(v.key)},disabled:c,"aria-label":`Toggle sort direction for ${N(v.key)}. Currently ${v.direction==="asc"?"ascending":"descending"}`,title:"Click to toggle between ascending and descending",children:a.jsx("span",{className:`sort-status-control__direction-icon sort-status-control__direction-icon--${v.direction}`,children:a.jsx("svg",{className:`nhsuk-icon sort-status-control__chevron sort-status-control__chevron--${v.direction}`,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24","aria-hidden":"true",focusable:"false",children:a.jsx("path",{d:"M15.5 12a1 1 0 0 1-.29.71l-5 5a1 1 0 0 1-1.42-1.42l4.3-4.29-4.3-4.29a1 1 0 0 1 1.42-1.42l5 5a1 1 0 0 1 .29.71z"})})})})]})})},v.key))}),s&&a.jsx("div",{className:"sort-status-control__actions",children:a.jsx(zt,{variant:"secondary",onClick:S,disabled:c,"aria-label":"Reset all sorting",className:"sort-status-control__reset-button",children:"Clear All Sorts"})})]}),l&&a.jsx("div",{className:"sort-status-control__help",id:"sort-help",children:a.jsx("small",{children:"Drag tags to reorder priority. Click tags or â†‘/â†“ buttons to toggle ascending/descending. Click Ã— to remove a sort."})})]})};function L2(e,t){switch(t.type){case"SET_SELECTED_INDEX":return{...e,selectedIndex:t.payload};case"SET_TAB_LOADING":const n=[...e.tabLoadingStates];return n[t.payload.tabIndex]=t.payload.isLoading,{...e,tabLoadingStates:n};case"SET_TAB_ERROR":const r=[...e.tabErrors];return r[t.payload.tabIndex]=t.payload.error,{...e,tabErrors:r};case"SET_SORT":return{...e,sortConfig:t.payload};case"SET_SELECTED_ROWS":const i=[...e.selectedRows];return i[t.payload.tabIndex]=t.payload.rowIndices,{...e,selectedRows:i};case"SET_GLOBAL_SELECTED_ROW_DATA":return{...e,globalSelectedRowData:t.payload};case"SET_FILTERS":return{...e,filters:t.payload};case"ADJUST_ARRAYS":const{newLength:o}=t.payload,s=new Array(o).fill(!1),l=new Array(o).fill(null),c=new Array(o).fill([]);for(let u=0;u<Math.min(e.tabLoadingStates.length,o);u++)s[u]=e.tabLoadingStates[u],l[u]=e.tabErrors[u],c[u]=e.selectedRows[u];return{...e,tabLoadingStates:s,tabErrors:l,selectedRows:c};case"RESET_STATE":return{selectedIndex:0,tabLoadingStates:new Array(e.tabLoadingStates.length).fill(!1),tabErrors:new Array(e.tabErrors.length).fill(null),sortConfig:[],selectedRows:new Array(e.selectedRows.length).fill([]),globalSelectedRowData:null,filters:void 0};default:return e}}const Ia=P.forwardRef(function(t,n){const{dataConfig:r={},tabPanels:i,selectedIndex:o,onTabChange:s,onGlobalRowSelectionChange:l,ariaLabel:c,ariaDescription:u,className:d="",disabled:f=!1,orientation:p="horizontal",id:h,isLoading:g=!1,loadingComponent:m,error:y=null,errorComponent:C,"data-testid":N,actions:j,actionsMinGap:w=16,forceActionsAbove:b=!1,hideTabsIfSingle:S=!1,minColumnWidth:M,enableColumnCollapse:x=!1,minVisibleColumns:v=2,showCollapsedColumnsIndicator:_=!0,sortStatusPlacement:E="header"}=t,D=S&&i.length===1,B=P.useId(),A=h??`aria-tabs-datagrid-${B}`,I=typeof u=="string"&&u.trim()!==""&&!/\s/.test(u),L=`${A}-description`,F=`${A}-navigation-help`,{dataComparator:G=(U,ie)=>JSON.stringify(U)===JSON.stringify(ie),filterFunction:ee=U=>U,booleanRenderer:T=U=>U?"âœ“":"âœ—"}=r||{},X=o!==void 0,O=o??0,[$,V]=P.useState({focusArea:D?"headers":"tabs",focusedTabIndex:O,focusedHeaderIndex:0,focusedRowIndex:0,focusedColumnIndex:0,focusedActionIndex:0,isGridActive:!1}),Y=P.useMemo(()=>({selectedIndex:O,tabLoadingStates:new Array(i.length).fill(!1),tabErrors:new Array(i.length).fill(null),sortConfig:[],selectedRows:new Array(i.length).fill([]),globalSelectedRowData:null,filters:void 0}),[O]),[R,J]=P.useReducer(L2,Y);P.useEffect(()=>{const U=R.tabLoadingStates.length,ie=i.length;U!==ie&&J({type:"ADJUST_ARRAYS",payload:{newLength:ie}})},[i.length]),P.useEffect(()=>{X&&J({type:"SET_SELECTED_INDEX",payload:O})},[O,X]),P.useEffect(()=>{V(U=>({...U,focusArea:D?"headers":"tabs",focusedTabIndex:R.selectedIndex,focusedHeaderIndex:0,focusedRowIndex:0,focusedColumnIndex:0,focusedActionIndex:0,isGridActive:!1}))},[R.selectedIndex,D]);const te=P.useRef(null),K=P.useCallback(U=>{U.shiftKey&&(U.key==="ArrowLeft"?(U.preventDefault(),te.current?.scrollBy({left:-64,behavior:"smooth"})):U.key==="ArrowRight"&&(U.preventDefault(),te.current?.scrollBy({left:64,behavior:"smooth"})))},[]),[oe,ye]=P.useState({}),[Z,se]=P.useState(!1),de=P.useRef(null),Ce=P.useRef(null),be=P.useCallback(U=>{const ie=i[U];if(!ie)return[];const Ne=oe[U]||new Set;return ie.columns.filter(Se=>!Ne.has(Se.key))},[i,oe]),q=P.useCallback(U=>{const ie=i[U];if(!ie)return new Set;if(!x)return new Set;const Ne=te.current?.parentElement;if(!Ne)return new Set;const Se=typeof M=="number"?`${M}px`:M||"160px",ke=ie.columns.map((Le,He)=>({key:Le.key,min:Le.minWidth!==void 0?typeof Le.minWidth=="number"?`${Le.minWidth}px`:String(Le.minWidth):Se,priority:Le.collapsePriority??He,lock:!!Le.alwaysVisible,group:Le.collapseGroup,groupPriority:Le.collapseGroupPriority??0})),De=Le=>{if(Le.endsWith("px"))return parseFloat(Le);const He=document.createElement("div");He.style.width=Le,Ne.appendChild(He);const xt=He.getBoundingClientRect().width;return He.remove(),xt||0},Te=ke.reduce((Le,He)=>Le+De(He.min),0),pe=Ne.clientWidth;if(Te<=pe||ke.length<=v)return new Set;const we=ke.map((Le,He)=>({...Le,idx:He})),ae=new Map;for(const Le of we)if(Le.group){const He=ae.get(Le.group)||{keys:[],width:0,groupPriority:Le.groupPriority,lock:!1,indices:[]};He.keys.push(Le.key),He.width+=De(Le.min),He.groupPriority=Math.max(He.groupPriority,Le.groupPriority),He.lock=He.lock||Le.lock,He.indices.push(Le.idx),ae.set(Le.group,He)}const ge=[];for(const[Le,He]of ae)He.lock||ge.push({type:"group",keys:He.keys,width:He.width,priority:He.groupPriority,rightmostIndex:Math.max(...He.indices)});for(const Le of we)!Le.group&&!Le.lock&&ge.push({type:"column",keys:[Le.key],width:De(Le.min),priority:Le.priority,rightmostIndex:Le.idx});ge.sort((Le,He)=>Le.priority!==He.priority?He.priority-Le.priority:He.rightmostIndex-Le.rightmostIndex);let Ie=new Set,Re=Te;const Ee=ke.length;for(const Le of ge){if(Ee-Ie.size<=v)break;if(Re-Le.width>=pe){for(const He of Le.keys)Ie.add(He);Re-=Le.width}else continue}return Ie},[i,x,M,v]);P.useEffect(()=>{if(!x)return;const U=()=>{const Ne=q(R.selectedIndex);if(ye(Se=>({...Se,[R.selectedIndex]:Ne})),_&&Ce.current){const Se=Ne.size;Ce.current.textContent=Se>0?`${Se} column${Se===1?"":"s"} collapsed`:"All columns visible"}};U();const ie=new ResizeObserver(U);return ce.current&&ie.observe(ce.current),()=>{ie.disconnect()}},[R.selectedIndex,i,x,q,_]),P.useEffect(()=>{l&&l(R.globalSelectedRowData)},[R.globalSelectedRowData,l]);const Ge=P.useCallback((U,ie)=>G(U,ie),[G]),Pe=P.useCallback(U=>{U>=0&&U<i.length&&!i[U].disabled&&(J({type:"SET_SELECTED_INDEX",payload:U}),V(ie=>({...ie,focusedTabIndex:U,focusArea:"tabs"})),s?.(U))},[i,s]),$e=P.useRef(!1),xe=P.useCallback((U,ie)=>{if(!ie?.force&&!$e.current&&U===0){$e.current=!0;return}$e.current=!0,setTimeout(()=>{const Ne=z.current[U],Se=Ne?.parentElement;if(Ne&&Se){const ke=Ne.offsetLeft,De=Ne.offsetWidth,Te=Se.clientWidth,pe=ke-Te/2+De/2;try{Se.scrollTo({left:Math.max(0,pe),behavior:"smooth"})}catch{Ne.scrollIntoView({behavior:"smooth",block:"nearest",inline:"center"})}}else process.env.SILENCE_SCROLL_DEBUG||console.debug("[AriaTabsDataGrid] Missing elements for scroll",{tabElementExists:!!Ne,tabListElementExists:!!Se})},50)},[]),z=P.useRef([]),Q=P.useRef([]),fe=P.useCallback((U,ie)=>{const Ne=R.sortConfig||[],Se=Ne.find(Te=>Te.key===ie);let ke;Se?Se.direction==="asc"?ke=Ne.map(Te=>Te.key===ie?{...Te,direction:"desc"}:Te):ke=Ne.filter(Te=>Te.key!==ie):ke=[...Ne,{key:ie,direction:"asc"}],J({type:"SET_SORT",payload:ke}),i[U].onSort?.(ie)},[R.sortConfig,i]),me=P.useCallback(U=>{setTimeout(()=>{const ie=document.querySelector(`[data-tab-panel="${R.selectedIndex}"] th:nth-child(${U+1})`);ie&&ie.focus()},0)},[R.selectedIndex]),_e=P.useCallback(U=>T(U),[T]),H=P.useCallback((U,ie)=>{setTimeout(()=>{const Ne=document.querySelector(`[data-tab-panel="${R.selectedIndex}"] tbody tr:nth-child(${U+1}) td:nth-child(${ie+1})`);Ne&&Ne.focus()},0)},[R.selectedIndex]);P.useEffect(()=>{$.isGridActive&&($.focusArea==="headers"?setTimeout(()=>{me($.focusedHeaderIndex)},0):$.focusArea==="cells"&&setTimeout(()=>{H($.focusedRowIndex,$.focusedColumnIndex)},0))},[$.focusArea,$.isGridActive,$.focusedHeaderIndex,$.focusedRowIndex,$.focusedColumnIndex,me,H]),P.useEffect(()=>{D||xe(R.selectedIndex)},[R.selectedIndex,xe,D]);const W=P.useCallback((U,ie)=>{const{key:Ne}=U,Se=be(R.selectedIndex).length||0;switch(Ne){case"ArrowLeft":U.preventDefault();const ke=Math.max(0,ie-1);V(we=>({...we,focusedHeaderIndex:ke})),me(ke);break;case"ArrowRight":U.preventDefault();const De=Math.min(Se-1,ie+1);V(we=>({...we,focusedHeaderIndex:De})),me(De);break;case"ArrowUp":U.preventDefault(),D?j&&setTimeout(()=>{const we=ve.current;if(!we)return;we.querySelector('button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])')?.focus()},0):(V(we=>({...we,focusArea:"tabs",focusedTabIndex:R.selectedIndex})),xe(R.selectedIndex),z.current[R.selectedIndex]?.focus());break;case"ArrowDown":U.preventDefault(),V(we=>({...we,focusArea:"cells",focusedRowIndex:0,focusedColumnIndex:ie,isGridActive:!0}));break;case"Home":U.preventDefault(),V(we=>({...we,focusedHeaderIndex:0})),me(0);break;case"End":U.preventDefault();const Te=Se-1;V(we=>({...we,focusedHeaderIndex:Te})),me(Te);break;case"Enter":case" ":U.preventDefault();const pe=be(R.selectedIndex)[ie]?.key;pe&&fe(R.selectedIndex,pe);break}},[i,R.selectedIndex,fe,V,me,H,z,be]),le=P.useCallback((U,ie,Ne)=>{const{key:Se}=U,ke=i[R.selectedIndex],De=ke?.data.length||0,Te=be(R.selectedIndex).length||0;switch(Se){case"ArrowUp":if(U.preventDefault(),ie===0)V(ge=>({...ge,focusArea:"headers",focusedHeaderIndex:Ne,isGridActive:!1})),me(Ne);else{const ge=ie-1;V(Ie=>({...Ie,focusedRowIndex:ge})),H(ge,Ne)}break;case"ArrowDown":U.preventDefault();const pe=Math.min(De-1,ie+1);V(ge=>({...ge,focusedRowIndex:pe})),H(pe,Ne);break;case"ArrowLeft":U.preventDefault();const we=Math.max(0,Ne-1);V(ge=>({...ge,focusedColumnIndex:we})),H(ie,we);break;case"ArrowRight":U.preventDefault();const ae=Math.min(Te-1,Ne+1);V(ge=>({...ge,focusedColumnIndex:ae})),H(ie,ae);break;case"Home":U.preventDefault(),U.ctrlKey?(V(ge=>({...ge,focusedRowIndex:0,focusedColumnIndex:0})),H(0,0)):(V(ge=>({...ge,focusedColumnIndex:0})),H(ie,0));break;case"End":if(U.preventDefault(),U.ctrlKey){const ge=De-1,Ie=Te-1;V(Re=>({...Re,focusedRowIndex:ge,focusedColumnIndex:Ie})),H(ge,Ie)}else{const ge=Te-1;V(Ie=>({...Ie,focusedColumnIndex:ge})),H(ie,ge)}break;case"Enter":case" ":if(U.preventDefault(),ke&&ke.data[ie]){const ge=ke.data.some(Ee=>"ews_data"in Ee)?ee(ke.data,R.filters):ke.data,Ie=R.sortConfig;let Re=ge;if(Ie&&Ie.length>0){const Ee=Hc(ke.columns,Ie,Hi.Last,r?.sortingOptions);Re=[...ge].sort(Ee)}if(Re[ie]){const Ee=Re[ie],He=R.globalSelectedRowData&&Ge(R.globalSelectedRowData,Ee)?null:Ee;J({type:"SET_GLOBAL_SELECTED_ROW_DATA",payload:He})}}break}},[i,R.selectedIndex,R.filters,R.sortConfig,ee,Ge,J,V,me,H,be]),re=P.useCallback((U,ie)=>ee(U,ie),[ee]);if(P.useImperativeHandle(n,()=>({selectTab:U=>{U>=0&&U<i.length&&(J({type:"SET_SELECTED_INDEX",payload:U}),s?.(U))},refreshData:U=>{console.log("Refreshing data for tab:",U??"all")},exportData:U=>{const ie=U??R.selectedIndex,Ne=i[ie];return Ne?Ne.data:[]},getSelectedRows:U=>R.globalSelectedRowData?[]:[],clearSelection:U=>{J({type:"SET_GLOBAL_SELECTED_ROW_DATA",payload:null})},applyFilters:U=>{J({type:"SET_FILTERS",payload:U})}}),[R.selectedIndex,R.selectedRows,i,s]),g)return a.jsx("div",{className:`aria-tabs-datagrid aria-tabs-datagrid--loading ${d}`,"data-testid":N,children:m||a.jsx("div",{className:"aria-tabs-datagrid__loading",children:a.jsx("div",{className:"nhsuk-spinner",role:"status","aria-label":"Loading data",children:a.jsx("span",{className:"nhsuk-u-visually-hidden",children:"Loading..."})})})});if(y)return a.jsx("div",{className:`aria-tabs-datagrid aria-tabs-datagrid--error ${d}`,"data-testid":N,children:C||a.jsxs("div",{className:"aria-tabs-datagrid__error",role:"alert",children:[a.jsx("h3",{className:"nhsuk-error-summary__title",children:"Error loading data"}),a.jsx("p",{children:y})]})});const ce=P.useRef(null),ue=P.useRef(null),ve=P.useRef(null),[Me,Ae]=P.useState(!0);P.useEffect(()=>{if(!j){Ae(!1);return}if(D||b){Ae(!1);return}function U(){if(!ce.current||!ue.current||!ve.current)return;const Se=ce.current.clientWidth,ke=Array.from(ue.current.querySelectorAll(":scope > .aria-tabs-datagrid__tab")),De=ke.reduce((ae,ge)=>ae+ge.offsetWidth,0),Te=ve.current.offsetWidth,pe=Math.max(8*(ke.length-1),0),we=De+pe+Te+w<=Se;Ae(we)}const ie=requestAnimationFrame(()=>U()),Ne=new ResizeObserver(()=>U());return ce.current&&Ne.observe(ce.current),ue.current&&Ne.observe(ue.current),()=>{cancelAnimationFrame(ie),Ne.disconnect()}},[j,w,b,i.length,D]);const Ye=ve,Ze=P.useCallback(()=>Ye.current?Array.from(Ye.current.querySelectorAll('button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])')).filter(U=>!U.hasAttribute("disabled")):[],[]),ct=P.useCallback(U=>{const ie=Ze();if(!ie.length)return;const Ne=Math.max(0,Math.min(U,ie.length-1));ie[Ne].focus(),V(Se=>({...Se,focusArea:"actions",focusedActionIndex:Ne}))},[Ze]),Be=P.useCallback(()=>ct(0),[ct]),he=P.useCallback((U,ie)=>{const{key:Ne}=U,Se=i.length-1;switch(Ne){case"ArrowUp":{j&&!Me&&(U.preventDefault(),Be());break}case"ArrowLeft":{U.preventDefault();const ke=ie>0?ie-1:Se;Pe(ke),xe(ke),z.current[ke]?.focus();break}case"ArrowRight":{if(U.preventDefault(),ie===Se&&j&&Me){Be();return}const ke=ie<Se?ie+1:0;Pe(ke),xe(ke),z.current[ke]?.focus();break}case"ArrowDown":{U.preventDefault(),V(ke=>({...ke,focusArea:"headers",focusedHeaderIndex:0,isGridActive:!0}));break}case"Home":{U.preventDefault(),Pe(0),xe(0),z.current[0]?.focus();break}case"End":{U.preventDefault(),Pe(Se),xe(Se),z.current[Se]?.focus();break}case"Enter":case" ":{U.preventDefault(),Pe(ie);break}case"Tab":{!U.shiftKey&&ie===Se&&j&&Me&&Be();break}}},[i.length,Pe,xe,j,Me,Be]),Fe=P.useCallback(U=>{const{key:ie}=U,Ne=Ze();if(!Ne.length)return;const Se=Ne.findIndex(ke=>ke===document.activeElement);switch(ie){case"ArrowLeft":{if(Me)if(Se>0)U.preventDefault(),ct(Se-1);else{U.preventDefault();const ke=i.length-1;Pe(ke),xe(ke),z.current[ke]?.focus(),V(De=>({...De,focusArea:"tabs",focusedTabIndex:ke}))}break}case"ArrowRight":{Me&&(Se<Ne.length-1?(U.preventDefault(),ct(Se+1)):(U.preventDefault(),Pe(0),xe(0),z.current[0]?.focus(),V(ke=>({...ke,focusArea:"tabs",focusedTabIndex:0}))));break}case"ArrowDown":{if(Me)U.preventDefault(),V(ke=>({...ke,focusArea:"headers",focusedHeaderIndex:0,isGridActive:!0}));else{U.preventDefault();const ke=R.selectedIndex;z.current[ke]?.focus(),V(De=>({...De,focusArea:"tabs",focusedTabIndex:ke}))}break}}},[Ze,Me,ct,i.length,Pe,xe,R.selectedIndex]);return a.jsxs("div",{className:`aria-tabs-datagrid aria-tabs-datagrid--${p} ${d}`,id:h,"data-testid":N,ref:ce,children:[u&&!I&&a.jsx("div",{id:L,className:"nhsuk-u-visually-hidden",children:u}),a.jsx("div",{className:"aria-tabs-datagrid__navigation-help sr-only",id:F,children:"Keyboard navigation: Use Tab to move between tabs and grid. Arrow keys navigate within tabs and grid cells. Enter activates tabs and sorts columns. Arrow Down from tabs moves to table headers. Arrow Down from headers moves to table cells. Use Arrow keys to navigate between cells."}),E==="header"&&a.jsx(Ao,{sortConfig:R.sortConfig||[],columns:i.flatMap(U=>U.columns.map(ie=>({key:ie.key,label:ie.label}))).filter((U,ie,Ne)=>Ne.findIndex(Se=>Se.key===U.key)===ie),onSortChange:U=>{J({type:"SET_SORT",payload:U})},ariaLabel:"Data grid sort configuration"}),j&&(!Me||D)&&a.jsx("div",{className:"aria-tabs-datagrid__actions aria-tabs-datagrid__actions--above",ref:ve,role:"toolbar","aria-label":"Additional actions",onKeyDown:Fe,children:j}),!D&&a.jsxs("div",{className:`aria-tabs-datagrid__tabs-wrapper ${Me?"aria-tabs-datagrid__tabs-wrapper--inline-actions":""}`,children:[a.jsx("div",{role:"tablist","aria-label":c,"aria-describedby":u?I?u:L:F,"aria-orientation":p,className:"aria-tabs-datagrid__tabs",ref:ue,children:i.map((U,ie)=>{const Ne=ie===R.selectedIndex,Se=U.disabled||f;return a.jsxs("button",{role:"tab",id:`tab-${U.id}`,"aria-controls":`panel-${U.id}`,"aria-selected":Ne,"aria-disabled":Se,tabIndex:Ne?0:-1,ref:ke=>{z.current[ie]=ke},onClick:()=>Pe(ie),onKeyDown:ke=>he(ke,ie),disabled:Se,className:["aria-tabs-datagrid__tab",Ne?"aria-tabs-datagrid__tab--selected":"",Se?"aria-tabs-datagrid__tab--disabled":""].filter(Boolean).join(" "),children:[a.jsx("span",{className:"aria-tabs-datagrid__tab-label",children:U.label}),R.tabLoadingStates[ie]&&a.jsx("span",{className:"aria-tabs-datagrid__tab-loading","aria-hidden":"true",children:"â³"}),R.tabErrors[ie]&&a.jsx("span",{className:"aria-tabs-datagrid__tab-error","aria-hidden":"true",children:"âš ï¸"})]},U.id)})}),j&&Me&&a.jsx("div",{className:"aria-tabs-datagrid__actions aria-tabs-datagrid__actions--inline",ref:ve,role:"toolbar","aria-label":"Additional actions",onKeyDown:Fe,children:j})]}),x&&_&&(()=>{const U=D?0:R.selectedIndex,ie=oe[U]||new Set;if(ie.size===0)return null;const Ne=i[U],Se=Ne?Ne.columns.filter(ke=>ie.has(ke.key)).map(ke=>ke.label):[];return a.jsxs("div",{className:"aria-tabs-datagrid__collapsed-indicator",children:[a.jsx("div",{className:"nhsuk-u-visually-hidden","aria-live":"polite",ref:Ce}),a.jsxs("div",{className:"collapsed-chip-wrapper",children:[a.jsxs("button",{ref:de,type:"button",className:"collapsed-chip",title:`Collapsed columns: ${Se.join(", ")}`,onClick:()=>se(ke=>!ke),children:[ie.size," hidden column",ie.size===1?"":"s"]}),Z&&a.jsx("div",{className:"collapsed-popover",role:"dialog","aria-label":"Collapsed columns",children:a.jsx("ul",{children:Se.map((ke,De)=>a.jsx("li",{children:ke},De))})})]})]})})(),E==="above"&&a.jsx(Ao,{sortConfig:R.sortConfig||[],columns:i.flatMap(U=>U.columns.map(ie=>({key:ie.key,label:ie.label}))).filter((U,ie,Ne)=>Ne.findIndex(Se=>Se.key===U.key)===ie),onSortChange:U=>{J({type:"SET_SORT",payload:U})},ariaLabel:"Data grid sort configuration"}),i.map((U,ie)=>{const Ne=D?ie===0:ie===R.selectedIndex;return a.jsx("div",{role:D?void 0:"tabpanel",id:D?void 0:`panel-${U.id}`,"aria-labelledby":D?void 0:`tab-${U.id}`,tabIndex:0,hidden:!Ne,ref:Se=>{Q.current[ie]=Se},className:`aria-tabs-datagrid__panel ${U.className||""}`,"data-tab-panel":ie,children:Ne&&(()=>{const Se=U.data.some(De=>"ews_data"in De)?re(U.data,R.filters):U.data,ke=P.useMemo(()=>{const De=R.sortConfig;if(!De||De.length===0)return Se;const Te=Hc(U.columns,De,Hi.Last,r?.sortingOptions);return[...Se].sort(Te)},[Se,R.sortConfig,U.columns,r?.sortingOptions]);return a.jsx("div",{className:"aria-tabs-datagrid__scroll",ref:te,onKeyDown:K,style:{"--atd-min-col-w":typeof M=="number"?`${M}px`:M||void 0},children:a.jsxs("table",{className:"nhsuk-table aria-tabs-datagrid__grid",role:"grid","aria-label":U.ariaLabel,"aria-describedby":U.ariaDescription?`panel-${U.id}-description`:void 0,children:[U.ariaDescription&&a.jsx("caption",{className:"nhsuk-u-visually-hidden",id:`panel-${U.id}-description`,children:U.ariaDescription}),a.jsx("thead",{className:"nhsuk-table__head",role:"rowgroup",children:a.jsx("tr",{role:"row",children:be(ie).map((De,Te)=>{const pe=R.sortConfig?.find(ge=>ge.key===De.key),we=!!pe,ae=$.focusArea==="headers"&&$.focusedHeaderIndex===Te;return a.jsx("th",{className:`sortable-header ${ae?"sortable-header--focused":""} ${we?"sortable-header--sorted":""}`,role:"columnheader",tabIndex:ae?0:-1,onClick:()=>fe(ie,De.key),onKeyDown:ge=>W(ge,Te),"aria-sort":we?pe?.direction==="asc"?"ascending":"descending":"none",style:{minWidth:De.minWidth!==void 0?typeof De.minWidth=="number"?`${De.minWidth}px`:De.minWidth:typeof M=="number"?`${M}px`:M||void 0},children:a.jsxs("div",{className:"header-content",children:[a.jsx("span",{className:"header-label",children:De.label}),a.jsxs("div",{className:`sort-indicator-container ${we?`sort-indicator--${pe?.direction}`:""}`,children:[R.sortConfig&&R.sortConfig.length>0&&R.sortConfig.findIndex(ge=>ge.key===De.key)!==-1&&a.jsx("span",{className:`sort-priority sort-priority--priority-${R.sortConfig.findIndex(ge=>ge.key===De.key)+1}`,"data-priority":R.sortConfig.findIndex(ge=>ge.key===De.key)+1,title:`Sort priority: ${R.sortConfig.findIndex(ge=>ge.key===De.key)+1}`,children:R.sortConfig.findIndex(ge=>ge.key===De.key)+1}),we&&a.jsx("svg",{className:`nhsuk-icon sort-arrow sort-arrow--${pe?.direction}`,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24","aria-hidden":"true",focusable:"false",children:a.jsx("path",{d:"M15.5 12a1 1 0 0 1-.29.71l-5 5a1 1 0 0 1-1.42-1.42l4.3-4.29-4.3-4.29a1 1 0 0 1 1.42-1.42l5 5a1 1 0 0 1 .29.71z"})})]})]})},De.key)})})}),a.jsx("tbody",{className:"nhsuk-table__body",role:"rowgroup",children:ke.map((De,Te)=>{const pe=R.globalSelectedRowData&&Ge(R.globalSelectedRowData,De),we=$.focusArea==="cells"&&$.focusedRowIndex===Te;return a.jsx("tr",{role:"row",className:`data-row ${pe?"data-row--selected":""} ${we?"data-row--focused":""}`,"aria-selected":pe,children:be(ie).map((ae,ge)=>{const Ie=De[ae.key];let Re;ae.tableRenderer?Re=ae.tableRenderer(De):ae.render?Re=ae.render(De):Re=Ie;const Ee=$.focusArea==="cells"&&$.focusedRowIndex===Te&&$.focusedColumnIndex===ge,Le=()=>{if(ae.customRenderer){const He=ae.customRenderer(Ie,De);return a.jsx("span",{className:"data-cell__custom","data-custom-rendered":"true",children:He})}return typeof Ie=="boolean"&&Re===Ie?a.jsxs(a.Fragment,{children:[_e(Ie),a.jsx("span",{className:"nhsuk-u-visually-hidden",children:Ie?"Yes":"No"})]}):P.isValidElement(Re)||typeof Re!="object"?Re??"":Re};return a.jsx("td",{role:"gridcell",className:`data-cell ${Ee?"data-cell--focused":""}`,tabIndex:Ee?0:-1,style:{minWidth:ae.minWidth!==void 0?typeof ae.minWidth=="number"?`${ae.minWidth}px`:ae.minWidth:typeof M=="number"?`${M}px`:M||void 0},onClick:()=>{const xt=R.globalSelectedRowData&&Ge(R.globalSelectedRowData,De)?null:De;J({type:"SET_GLOBAL_SELECTED_ROW_DATA",payload:xt})},onKeyDown:He=>le(He,Te,ge),children:Le()},ae.key)})},Te)})})]})})})()},U.id)}),E==="below"&&a.jsx(Ao,{sortConfig:R.sortConfig||[],columns:i.flatMap(U=>U.columns.map(ie=>({key:ie.key,label:ie.label}))).filter((U,ie,Ne)=>Ne.findIndex(Se=>Se.key===U.key)===ie),onSortChange:U=>{J({type:"SET_SORT",payload:U})},ariaLabel:"Data grid sort configuration"})]})}),La={asc:"â†‘",desc:"â†“"},A2=e=>[...e].sort((t,n)=>t.priority-n.priority);function zc(e){return e.map((t,n)=>({...t,priority:n}))}function E2(e){return e.length>0?Math.max(...e.map(t=>t.priority)):-1}function P2(e,t){const n=t.find(r=>r.id===e);return n?n.priority>0:!1}function F2(e,t){const n=t.find(i=>i.id===e),r=E2(t);return n?n.priority<r:!1}const $2=({sortConfig:e,onSortChange:t,className:n="",emptyDescription:r="No sorting applied",activeDescription:i,showReset:o=!0,showHelp:s=!0,disabled:l=!1,ariaLabel:c="Sort configuration",ariaDescribedBy:u})=>{const d=P.useMemo(()=>A2(e),[e]),f=P.useCallback(N=>{if(l)return;const j=e.map(w=>w.id===N?{...w,direction:w.direction==="asc"?"desc":"asc"}:w);t(j)},[e,t,l]),p=P.useCallback(N=>{if(l)return;const j=e.findIndex(b=>b.id===N);if(j<=0)return;const w=[...e];[w[j],w[j-1]]=[w[j-1],w[j]],t(zc(w))},[e,t,l]),h=P.useCallback(N=>{if(l)return;const j=e.findIndex(b=>b.id===N);if(j>=e.length-1||j===-1)return;const w=[...e];[w[j],w[j+1]]=[w[j+1],w[j]],t(zc(w))},[e,t,l]),g=P.useCallback(N=>{if(l)return;const j=e.filter(w=>w.id!==N);t(zc(j))},[e,t,l]),m=P.useCallback(()=>{l||t([])},[t,l]),y=()=>{if(e.length===0)return r;if(i)return i;const N=d.map((j,w)=>{const b=j.direction==="asc"?"ascending":"descending";return`${w+1}. ${j.label} (${b})`});if(N.length===1)return`Sorted by: ${N[0]}`;if(N.length===2)return`Sorted by: ${N.join(" and ")}`;{const j=N.pop();return`Sorted by: ${N.join(", ")}, and ${j}`}},C=P.useMemo(()=>{const N=["sort-description"];return s&&N.push("sort-help"),u&&N.push(u),N.join(" ")},[s,u]);return e.length===0?a.jsx("div",{className:`sort-status-control sort-status-control--empty ${n}`,children:a.jsx("div",{className:"sort-status-control__description",id:"sort-description","aria-live":"polite",children:y()})}):a.jsxs("div",{className:`sort-status-control ${n}`,children:[a.jsx("div",{className:"sort-status-control__description sort-status-control__description--active",id:"sort-description","aria-live":"polite",children:y()}),a.jsxs("div",{className:"sort-status-control__tags",role:"list","aria-label":c,"aria-describedby":C,children:[a.jsx("div",{className:"sort-status-control__tags-label",children:"Current sorting:"}),d.map(N=>a.jsx("div",{className:"sort-status-control__tag-container",role:"listitem",children:a.jsx(pt,{text:"",color:"blue",className:"sort-status-control__tag",closable:!0,onClose:()=>g(N.id),disabled:l,children:a.jsxs("div",{className:"sort-status-control__tag-content",children:[a.jsx("span",{className:"sort-status-control__tag-priority",children:N.priority+1}),a.jsx("span",{className:"sort-status-control__tag-label",children:N.label}),a.jsx("button",{type:"button",className:"sort-status-control__tag-direction",onClick:()=>f(N.id),disabled:l,"aria-label":`Toggle sort direction for ${N.label}. Currently ${N.direction==="asc"?"ascending":"descending"}`,title:"Click to toggle between ascending and descending",children:N.direction==="asc"?La.asc:La.desc}),a.jsxs("div",{className:"sort-status-control__tag-actions",children:[a.jsx("button",{type:"button",className:"sort-status-control__move-button",onClick:()=>p(N.id),disabled:l||!P2(N.id,e),"aria-label":`Move ${N.label} sort up in priority`,title:"Move up in priority",children:"â–²"}),a.jsx("button",{type:"button",className:"sort-status-control__move-button",onClick:()=>h(N.id),disabled:l||!F2(N.id,e),"aria-label":`Move ${N.label} sort down in priority`,title:"Move down in priority",children:"â–¼"})]})]})})},N.id))]}),o&&a.jsx("div",{className:"sort-status-control__actions",children:a.jsx(zt,{variant:"secondary",onClick:m,disabled:l,"aria-label":"Reset all sorting",className:"sort-status-control__reset-button",children:"Clear All Sorts"})}),s&&a.jsx("div",{className:"sort-status-control__help",id:"sort-help",children:a.jsxs("small",{children:["Click ",La.asc,"/",La.desc," ","to toggle ascending/descending. Use â–²/â–¼ to change sort priority. Click Ã— to remove a sort."]})})]})},Aa=(e,t)=>t.map(n=>({id:n.id,label:n.label,data:n.filter?n.filter(e):e,columns:n.columns.map(r=>({key:r.key,label:r.label,render:r.render,customRenderer:r.customRenderer})),sortConfig:n.sortConfig,ariaLabel:n.ariaLabel||`${n.label} Data Grid`,ariaDescription:n.ariaDescription||`Data grid showing ${n.label.toLowerCase()}`,className:n.className,disabled:n.disabled})),Uc=[{value:!0,icon:a.jsx("svg",{className:"nhsuk-icon nhsuk-icon__tick",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none","aria-hidden":"true",width:"100%",height:"34",children:a.jsx("path",{strokeWidth:"4",strokeLinecap:"round",d:"M18.4 7.8l-8.5 8.4L5.6 12",stroke:"#007f3b"})})},{value:!1,icon:a.jsxs("svg",{className:"nhsuk-icon nhsuk-icon__cross",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24","aria-hidden":"true",width:"100%",height:"34",children:[a.jsx("path",{d:"M17 18.5c-.4 0-.8-.1-1.1-.4l-10-10c-.6-.6-.6-1.6 0-2.1.6-.6 1.5-.6 2.1 0l10 10c.6.6.6 1.5 0 2.1-.3.3-.6.4-1 .4z",fill:"#d5281b"}),a.jsx("path",{d:"M7 18.5c-.4 0-.8-.1-1.1-.4-.6-.6-.6-1.5 0-2.1l10-10c.6-.6 1.5-.6 2.1 0 .6.6.6 1.5 0 2.1l-10 10c-.3.3-.6.4-1 .4z",fill:"#d5281b"})]})}],B2=(e,t)=>!e||!t?e===t:e.name&&e.bed_name&&t.name&&t.bed_name?e.name===t.name&&e.bed_name===t.bed_name:JSON.stringify(e)===JSON.stringify(t),O2=(e,t)=>t?e.filter(n=>{if(t.ewsScoreRange){const[r,i]=t.ewsScoreRange;if(n.ews_score<r||n.ews_score>i)return!1}return!(t.wards&&t.wards.length>0&&!t.wards.includes(n.ward_name)||t.specialties&&t.specialties.length>0&&!t.specialties.includes(n.speciality)||t.dischargeStatuses&&t.dischargeStatuses.length>0&&!t.dischargeStatuses.includes(n.early_discharge_notification)||t.avpuLevels&&t.avpuLevels.length>0&&!t.avpuLevels.includes(n.ews_data.avpu)||t.medicallyOptimised!==null&&t.medicallyOptimised!==void 0&&n.medically_optimised!==t.medicallyOptimised||t.fastTrack!==null&&t.fastTrack!==void 0&&n.fast_track!==t.fastTrack)}):e,R2=e=>{if(typeof e=="boolean"){const n=Uc.find(r=>r.value===e);return n?n.icon:null}const t=Uc.find(n=>n.value===e);return t?t.icon:String(e)},H2=e=>`${e.name}-${e.bed_name}`,z2=()=>({overview:[{key:"name",label:"Patient Name"},{key:"age",label:"Age"},{key:"ward_name",label:"Ward"},{key:"bed_name",label:"Bed"},{key:"ews_score",label:"EWS Score"},{key:"speciality",label:"Specialty"},{key:"consultant",label:"Consultant"}],vitals:[{key:"name",label:"Patient Name"},{key:"ews_score",label:"EWS Score"},{key:"respiratory_rate_bpm",label:"Respiratory Rate",render:e=>e.ews_data.respiratory_rate_bpm},{key:"sp02",label:"SpO2 %",render:e=>e.ews_data.sp02},{key:"temperature",label:"Temperature Â°C",render:e=>e.ews_data.temperature},{key:"systolic_bp",label:"Systolic BP",render:e=>e.ews_data.systolic_bp},{key:"heart_rate",label:"Heart Rate",render:e=>e.ews_data.heart_rate},{key:"avpu",label:"AVPU",render:e=>e.ews_data.avpu.toUpperCase()}],discharge:[{key:"name",label:"Patient Name"},{key:"anticipated_discharge_date",label:"Anticipated Discharge",render:e=>new Date(e.anticipated_discharge_date).toLocaleDateString()},{key:"early_discharge_notification",label:"Discharge Status"},{key:"medically_optimised",label:"Medically Optimised"},{key:"criteria_to_reside",label:"Criteria to Reside"},{key:"fast_track",label:"Fast Track"},{key:"transport_status",label:"Transport Status"},{key:"pathway",label:"Pathway"}],logistics:[{key:"name",label:"Patient Name"},{key:"ward_name",label:"Ward"},{key:"room_name",label:"Room"},{key:"bed_name",label:"Bed"},{key:"bed_type",label:"Bed Type"},{key:"transport_booking",label:"Transport Booked"},{key:"transport_mobility",label:"Transport Type"},{key:"district_nurse_referral",label:"District Nurse"},{key:"equipment",label:"Equipment"}]}),U2=e=>{const t=z2();return[{id:"overview",label:"Patient Overview",data:e,columns:t.overview,ariaLabel:"Patient Overview Data Grid",ariaDescription:"Overview of all patients with basic information"},{id:"vitals",label:"Vital Signs & EWS",data:e,columns:t.vitals,sortConfig:[{key:"ews_score",direction:"desc"},{key:"name",direction:"asc"},{key:"ward_name",direction:"asc"}],ariaLabel:"Patient Vital Signs Data Grid",ariaDescription:"Patient vital signs and Early Warning Scores"},{id:"discharge",label:"Discharge Planning",data:e.filter(n=>n.anticipated_discharge_date),columns:t.discharge,sortConfig:[{key:"anticipated_discharge_date",direction:"asc"},{key:"discharge_status",direction:"desc"}],ariaLabel:"Discharge Planning Data Grid",ariaDescription:"Patient discharge planning and status information"},{id:"logistics",label:"Bed Management",data:e,columns:t.logistics,sortConfig:[{key:"ward_name",direction:"asc"}],ariaLabel:"Bed Management Data Grid",ariaDescription:"Patient location and logistics information"}]},up={dataComparator:B2,filterFunction:O2,booleanRenderer:R2,getDataId:H2};function dp(e,t,n){const{primaryField:r,secondaryFields:i=[],badges:o=[],hiddenFields:s=[],getPriority:l,getVariant:c,fieldRenderers:u={},classPrefix:d="adaptive-card"}=n,f=t.find(j=>j.key===r),p=f?.cardRenderer?f.cardRenderer(e):f?.render?f.render(e):e[r||"name"]||"Untitled",h=()=>i.filter(w=>!s.includes(w)&&e[w]).slice(0,3).map(w=>{const b=t.find(v=>v.key===w),S=e[w],M=u[w]?u[w](S,e):b?.cardRenderer?b.cardRenderer(e):b?.render?b.render(e):S;return`${b?.label||w}: ${M}`}).join(" â€¢ "),g=()=>o.length===0?null:o.filter(j=>e[j.fieldKey]!==void 0).map(j=>{const w=e[j.fieldKey],b=j.render?j.render(w,e):w;return`<span class="nhsuk-tag ${W2(j,w)}">${b}</span>`}).join(""),m=()=>c?c(e):l?.(e)==="high"?"primary":"default",y=g(),C=h(),N=y?`${C}${y?`<div class="adaptive-card__badges">${y}</div>`:""}`:C;return{variant:m(),heading:String(p),descriptionHtml:N,className:`adaptive-card ${d}`,"aria-label":`Record for ${p}`}}function W2(e,t){const n=e.className||"adaptive-card__badge";if(e.fieldKey==="ews_score"||e.fieldKey.includes("score")){const r=Number(t);return r>=7?`${n} nhsuk-tag--red`:r>=3?`${n} nhsuk-tag--yellow`:`${n} nhsuk-tag--green`}if(e.fieldKey==="priority"){const r=String(t).toLowerCase();if(r==="high")return`${n} nhsuk-tag--red`;if(r==="medium")return`${n} nhsuk-tag--yellow`;if(r==="low")return`${n} nhsuk-tag--green`}if(e.fieldKey==="status"){const r=String(t).toLowerCase();if(r==="urgent"||r==="critical")return`${n} nhsuk-tag--red`;if(r==="pending"||r==="warning")return`${n} nhsuk-tag--yellow`;if(r==="completed"||r==="success")return`${n} nhsuk-tag--green`}switch(e.color){case"primary":return`${n} nhsuk-tag--blue`;case"secondary":return`${n} nhsuk-tag--grey`;case"success":return`${n} nhsuk-tag--green`;case"warning":return`${n} nhsuk-tag--yellow`;case"danger":return`${n} nhsuk-tag--red`;default:return n}}const G2={primaryField:"name",secondaryFields:["id","description","status"],badges:[{fieldKey:"priority",render:e=>e.charAt(0).toUpperCase()+e.slice(1),className:"adaptive-card__priority-badge"},{fieldKey:"status",render:e=>e.charAt(0).toUpperCase()+e.slice(1),className:"adaptive-card__status-badge"}],hiddenFields:[],getPriority:e=>e.priority||"medium",getStatus:e=>e.status||"active",getVariant:e=>e.priority==="high"?"primary":"default",fieldRenderers:{},classPrefix:"adaptive-card--generic"},Wc=({data:e,columns:t,onSelect:n,onAction:r,priority:i="medium",status:o="active"})=>{const s=e.name,l=e.age,c=e.ward_name,u=e.bed_name,d=e.ews_score,f=e.speciality,p=e.consultant;return a.jsxs("div",{className:`healthcare-card healthcare-card--patient healthcare-card--${i} healthcare-card--${o}`,onClick:()=>n?.(e),role:"button",tabIndex:0,"aria-label":`Patient record for ${s}, Age ${l}, Ward ${c}, Bed ${u}`,children:[a.jsxs("div",{className:"healthcare-card__header",children:[a.jsxs("div",{className:"healthcare-card__identity",children:[a.jsx("h3",{className:"healthcare-card__patient-name",children:s}),a.jsxs("p",{className:"healthcare-card__age-info",children:[a.jsx("span",{className:"healthcare-card__label",children:"Age: "}),a.jsx("span",{className:"healthcare-card__value",children:l})]})]}),a.jsx("div",{className:"healthcare-card__badges",children:d!==void 0&&a.jsxs(pt,{color:V2(fp(d)),className:"healthcare-card__alert",children:["EWS: ",d]})})]}),a.jsx("div",{className:"healthcare-card__body",children:a.jsxs("dl",{className:"healthcare-card__details",children:[a.jsxs("div",{className:"healthcare-card__detail",children:[a.jsx("dt",{children:"Ward"}),a.jsx("dd",{children:c})]}),a.jsxs("div",{className:"healthcare-card__detail",children:[a.jsx("dt",{children:"Bed"}),a.jsx("dd",{children:u})]}),a.jsxs("div",{className:"healthcare-card__detail",children:[a.jsx("dt",{children:"Specialty"}),a.jsx("dd",{children:f})]}),a.jsxs("div",{className:"healthcare-card__detail healthcare-card__detail--prominent",children:[a.jsx("dt",{children:"Consultant"}),a.jsx("dd",{children:p})]})]})}),a.jsxs("div",{className:"healthcare-card__actions",children:[a.jsx(zt,{variant:"secondary",className:"healthcare-card__action",onClick:h=>{h.stopPropagation(),r?.("view-notes",e)},children:"Notes"}),a.jsx(zt,{variant:"secondary",className:"healthcare-card__action",onClick:h=>{h.stopPropagation(),r?.("view-vitals",e)},children:"Vitals"}),a.jsx(zt,{variant:"primary",className:"healthcare-card__action healthcare-card__action--primary",onClick:h=>{h.stopPropagation(),r?.("view-full",e)},children:"View Full Record"})]})]})},Gc=({data:e,onAction:t})=>a.jsxs("div",{className:"healthcare-card healthcare-card--appointment healthcare-card--medium healthcare-card--active",role:"article",tabIndex:0,children:[a.jsxs("div",{className:"healthcare-card__header",children:[a.jsxs("div",{className:"healthcare-card__time-info",children:[a.jsx("h3",{className:"healthcare-card__time",children:new Date(e.appointment_time).toLocaleTimeString("en-GB",{hour:"2-digit",minute:"2-digit"})}),a.jsx("p",{className:"healthcare-card__type",children:e.appointment_type})]}),a.jsxs("div",{className:"healthcare-card__badges",children:[a.jsx(pt,{color:Z2(e.status||"active"),className:"healthcare-card__status",children:(e.status||"active").charAt(0).toUpperCase()+(e.status||"active").slice(1)}),a.jsxs(pt,{color:"grey",className:"healthcare-card__duration",children:[e.duration||"30"," min"]})]})]}),a.jsx("div",{className:"healthcare-card__body",children:a.jsxs("dl",{className:"healthcare-card__details",children:[a.jsxs("div",{className:"healthcare-card__detail",children:[a.jsx("dt",{children:"Patient"}),a.jsx("dd",{children:e.patient_name})]}),a.jsxs("div",{className:"healthcare-card__detail",children:[a.jsx("dt",{children:"Consultant"}),a.jsx("dd",{children:e.consultant})]}),a.jsxs("div",{className:"healthcare-card__detail",children:[a.jsx("dt",{children:"Location"}),a.jsx("dd",{children:e.location})]})]})}),a.jsxs("div",{className:"healthcare-card__actions",children:[a.jsx(zt,{variant:"secondary",size:"small",onClick:()=>t?.("view",e),children:"View Details"}),a.jsx(zt,{variant:"primary",size:"small",onClick:()=>t?.("edit",e),children:"Reschedule"})]})]}),Yc=({data:e,onAction:t})=>a.jsxs("div",{className:"healthcare-card healthcare-card--medication healthcare-card--medium healthcare-card--active",role:"article",tabIndex:0,children:[a.jsxs("div",{className:"healthcare-card__header",children:[a.jsxs("div",{className:"healthcare-card__medication-info",children:[a.jsx("h3",{className:"healthcare-card__medication-name",children:e.medication}),a.jsxs("p",{className:"healthcare-card__dose",children:[e.dose," â€¢ ",e.frequency]})]}),a.jsxs("div",{className:"healthcare-card__badges",children:[a.jsx(pt,{color:"blue",className:"healthcare-card__route",children:e.route}),e.next_due&&a.jsxs(pt,{color:"red",className:"healthcare-card__warning",children:["Due: ",new Date(e.next_due).toLocaleTimeString("en-GB",{hour:"2-digit",minute:"2-digit"})]})]})]}),a.jsx("div",{className:"healthcare-card__body",children:a.jsxs("dl",{className:"healthcare-card__details",children:[a.jsxs("div",{className:"healthcare-card__detail",children:[a.jsx("dt",{children:"Patient"}),a.jsx("dd",{children:e.patient_name})]}),a.jsxs("div",{className:"healthcare-card__detail",children:[a.jsx("dt",{children:"Prescriber"}),a.jsx("dd",{children:e.prescriber})]}),e.allergies&&a.jsxs("div",{className:"healthcare-card__detail healthcare-card__detail--urgent",children:[a.jsx("dt",{children:"Allergies"}),a.jsx("dd",{children:e.allergies})]})]})}),a.jsxs("div",{className:"healthcare-card__actions",children:[a.jsx(zt,{variant:"secondary",size:"small",onClick:()=>t?.("view",e),children:"View Details"}),a.jsx(zt,{variant:"primary",size:"small",onClick:()=>t?.("edit",e),children:"Adjust Dose"})]})]}),Vc=({data:e,onSelect:t,onAction:n,priority:r="medium"})=>{const i=e.name,o=e.ews_score,s=e.ews_data?.respiratory_rate_bpm,l=e.ews_data?.sp02,c=e.ews_data?.temperature,u=e.ews_data?.systolic_bp,d=e.ews_data?.heart_rate,f=e.ews_data?.avpu;return a.jsxs("div",{className:`healthcare-card healthcare-card--vitals healthcare-card--${r}`,onClick:()=>t?.(e),role:"button",tabIndex:0,"aria-label":`Vital signs for ${i}, EWS Score ${o}`,children:[a.jsxs("div",{className:"healthcare-card__header",children:[a.jsxs("div",{className:"healthcare-card__vitals-summary",children:[a.jsx("h3",{className:"healthcare-card__patient-name",children:i}),o!==void 0&&a.jsxs("p",{className:`healthcare-card__ews-score healthcare-card__ews-score--${Y2(o)}`,children:["EWS: ",o]})]}),a.jsx("div",{className:"healthcare-card__badges",children:f&&a.jsxs(pt,{color:"blue",className:"healthcare-card__avpu",children:["AVPU: ",f.toUpperCase()]})})]}),a.jsx("div",{className:"healthcare-card__body",children:a.jsxs("div",{className:"healthcare-card__vitals-grid",children:[s!==void 0&&a.jsxs("div",{className:"healthcare-card__vital",children:[a.jsx("span",{className:"healthcare-card__vital-label",children:"Respiratory Rate"}),a.jsxs("span",{className:"healthcare-card__vital-value",children:[s," bpm"]})]}),l!==void 0&&a.jsxs("div",{className:"healthcare-card__vital",children:[a.jsx("span",{className:"healthcare-card__vital-label",children:"SpO2"}),a.jsxs("span",{className:"healthcare-card__vital-value",children:[l,"%"]})]}),c!==void 0&&a.jsxs("div",{className:"healthcare-card__vital",children:[a.jsx("span",{className:"healthcare-card__vital-label",children:"Temperature"}),a.jsxs("span",{className:"healthcare-card__vital-value",children:[c,"Â°C"]})]}),u!==void 0&&a.jsxs("div",{className:"healthcare-card__vital",children:[a.jsx("span",{className:"healthcare-card__vital-label",children:"Systolic BP"}),a.jsx("span",{className:"healthcare-card__vital-value",children:u})]}),d!==void 0&&a.jsxs("div",{className:"healthcare-card__vital",children:[a.jsx("span",{className:"healthcare-card__vital-label",children:"Heart Rate"}),a.jsxs("span",{className:"healthcare-card__vital-value",children:[d," bpm"]})]})]})}),a.jsxs("div",{className:"healthcare-card__actions",children:[a.jsx(zt,{variant:"secondary",className:"healthcare-card__action",onClick:p=>{p.stopPropagation(),n?.("view-trend",e)},children:"Trend"}),a.jsx(zt,{variant:"primary",className:"healthcare-card__action healthcare-card__action--primary",onClick:p=>{p.stopPropagation(),n?.("record-new",e)},children:"Record New"})]})]})};function fp(e){const t=typeof e=="string"?parseInt(e,10):e;return t>=7?"critical":t>=5?"high":t>=3?"medium":"low"}function Y2(e){return fp(e)}function V2(e){switch(e){case"critical":return"red";case"high":return"orange";case"medium":return"yellow";case"low":return"grey";default:return"grey"}}function Z2(e){switch(e.toLowerCase()){case"active":return"blue";case"pending":return"orange";case"completed":return"green";case"cancelled":return"grey";default:return"blue"}}const q2=[{fieldKey:"ews_score",render:e=>`EWS: ${e}`,className:"adaptive-card__ews-badge",color:"default"},{fieldKey:"priority",render:e=>e.charAt(0).toUpperCase()+e.slice(1),className:"adaptive-card__priority-badge"},{fieldKey:"status",render:e=>e.charAt(0).toUpperCase()+e.slice(1),className:"adaptive-card__status-badge"}],hp=e=>e.ews_score&&Number(e.ews_score)>=7?"high":e.ews_score&&Number(e.ews_score)>=3?"medium":e.priority==="high"||e.status==="urgent"?"high":e.priority==="low"?"low":"medium",pp={name:"healthcare",defaultCardConfig:{primaryField:"name",secondaryFields:["nhs_number","ward","condition","consultant"],badges:q2,hiddenFields:[],getPriority:hp,getStatus:e=>{if(e.status){const t=e.status.toLowerCase();if(["active","pending","completed","cancelled","urgent"].includes(t))return t}return"active"},getVariant:e=>hp(e)==="high"||e.status==="urgent"?"primary":"default",fieldRenderers:{nhs_number:e=>e?`NHS: ${e}`:"",ews_score:e=>{const t=Number(e),n=t>=7?"HIGH":t>=3?"MEDIUM":"LOW";return`EWS: ${e} (${n})`},age:(e,t)=>t.dob?`${new Date().getFullYear()-new Date(t.dob).getFullYear()}y`:e?`${e}y`:""},classPrefix:"adaptive-card--healthcare"},cssImport:"./HealthcareCardTemplates.scss",cardTemplates:{patient:(e,t,n)=>{const r=n.getPriority?.(e)||"medium",i=n.getStatus?.(e)||"active",o=i==="urgent"?"active":i;return a.jsx(Wc,{data:e,columns:t,priority:r,status:o,onSelect:s=>console.log("Patient selected:",s),onAction:(s,l)=>console.log("Patient action:",s,l)})},appointment:(e,t,n)=>{const r=n.getStatus?.(e)||"pending",i=r==="urgent"?"pending":r;return a.jsx(Gc,{data:e,columns:t,status:i,onSelect:o=>console.log("Appointment selected:",o),onAction:(o,s)=>console.log("Appointment action:",o,s)})},medication:(e,t,n)=>{const r=n.getPriority?.(e)||"medium";return a.jsx(Yc,{data:e,columns:t,priority:r,onSelect:i=>console.log("Medication selected:",i),onAction:(i,o)=>console.log("Medication action:",i,o)})},vitals:(e,t,n)=>{const r=n.getPriority?.(e)||"medium";return a.jsx(Vc,{data:e,columns:t,priority:r,onSelect:i=>console.log("Vitals selected:",i),onAction:(i,o)=>console.log("Vitals action:",i,o)})}},fieldTypes:{isNHSNumber:e=>typeof e=="string"&&/^\d{3}\s?\d{3}\s?\d{4}$/.test(e.replace(/\s/g,"")),isEWSScore:e=>typeof e=="number"&&e>=0&&e<=20,isMedicalDate:e=>typeof e=="string"&&!isNaN(Date.parse(e))}};function mp(e){return{primaryField:e?.primaryField||"name",secondaryFields:e?.secondaryFields||[],badges:e?.badgeFields?.map(t=>({fieldKey:t,className:"adaptive-card__badge"}))||[],hiddenFields:e?.hiddenFields||[],cardTemplate:e?.cardTemplate?(t,n,r)=>e.cardTemplate(t,n):void 0,classPrefix:"adaptive-card--generic"}}function gp(e){if(!e||e.length===0)return!1;const t=e[0];return t.ews_score!==void 0||t.nhs_number!==void 0||t.patient_name!==void 0||t.ward!==void 0||t.consultant!==void 0}function X2(e,t){switch(t.type){case"SET_SELECTED_INDEX":return{...e,selectedIndex:t.payload};case"SET_TAB_LOADING":const n=[...e.tabLoadingStates];return n[t.payload.tabIndex]=t.payload.isLoading,{...e,tabLoadingStates:n};case"SET_TAB_ERROR":const r=[...e.tabErrors];return r[t.payload.tabIndex]=t.payload.error,{...e,tabErrors:r};case"SET_SORT":return{...e,sortConfig:t.payload};case"SET_SELECTED_ROWS":const i=[...e.selectedRows];return i[t.payload.tabIndex]=t.payload.rowIndices,{...e,selectedRows:i};case"SET_GLOBAL_SELECTED_ROW_DATA":return{...e,globalSelectedRowData:t.payload};case"SET_FILTERS":return{...e,filters:t.payload};case"ADJUST_ARRAYS":const{newLength:o}=t.payload,s=new Array(o).fill(!1),l=new Array(o).fill(null),c=new Array(o).fill([]);for(let u=0;u<Math.min(e.tabLoadingStates.length,o);u++)s[u]=e.tabLoadingStates[u],l[u]=e.tabErrors[u],c[u]=e.selectedRows[u];return{...e,tabLoadingStates:s,tabErrors:l,selectedRows:c};case"RESET_STATE":return{selectedIndex:0,tabLoadingStates:new Array(e.tabLoadingStates.length).fill(!1),tabErrors:new Array(e.tabErrors.length).fill(null),sortConfig:[],selectedRows:new Array(e.selectedRows.length).fill([]),globalSelectedRowData:null,filters:void 0};default:return e}}function J2(e,t){const[n,r]=P.useState("cards");return P.useEffect(()=>{if(t){r(t);return}const i=()=>{const o=window.innerWidth;o<e.mobile?r("cards"):o<e.desktop?r("hybrid"):r("table")};return i(),window.addEventListener("resize",i),()=>window.removeEventListener("resize",i)},[e,t]),n}function K2(e){return!e||typeof e!="object"?null:e.appointment_type||e.appointment_time||e.clinic?"appointment":e.medication_name||e.medication||e.dose||e.frequency?"medication":e.ews_score!==void 0||e.respiratory_rate!==void 0||e.spo2!==void 0||e.temperature!==void 0||e.systolic_bp!==void 0||e.heart_rate!==void 0?"vitals":e.name||e.patient_name||e.nhs_number||e.ward||e.bed?"patient":null}function Q2(e,t,n,r){const i=r?{...r.defaultCardConfig,...n}:{...G2,...n};if(r&&r.cardTemplates){const o=K2(e);if(o&&r.cardTemplates[o]){const s=r.cardTemplates[o](e,t,i);if(s)return{variant:"default",children:s}}}return i.cardTemplate&&i.cardTemplate(e,t,i),dp(e,t,i)}const Zc=({breakpoints:e={mobile:768,tablet:1024,desktop:1200},forceLayout:t,cardConfig:n={},experimental:r={},enableAdvancedSorting:i=!1,topActions:o,bottomActions:s,gridActions:l,forceGridActionsAbove:c,hideTabsIfSingle:u,minColumnWidth:d,enableColumnCollapse:f,minVisibleColumns:p,showCollapsedColumnsIndicator:h,sortStatusPlacement:g,tabPanels:m,dataConfig:y,selectedIndex:C,onTabChange:N,ariaLabel:j="Data grid",ariaDescription:w,orientation:b="horizontal",id:S,disabled:M=!1,className:x,...v})=>{const _=J2(e,t),E=C!==void 0,D=C??0,B=P.useMemo(()=>{if(m.some(W=>W.data&&W.data.length>0&&gp(W.data))){const W=mp(n);return{...pp.defaultCardConfig,...W}}else return mp(n)},[n,m]),A=P.useMemo(()=>m.some(W=>W.data&&W.data.length>0&&gp(W.data))?pp:void 0,[m]),I=P.useMemo(()=>({selectedIndex:D,tabLoadingStates:new Array(m.length).fill(!1),tabErrors:new Array(m.length).fill(null),sortConfig:[],selectedRows:new Array(m.length).fill([]),globalSelectedRowData:null,filters:void 0}),[D,m.length]),[L,F]=P.useReducer(X2,I),G=P.useRef([]),ee=P.useRef([]),T=P.useRef([]),X=P.useRef(null),[O,$]=P.useState({focusArea:u&&m.length===1?"sort-controls":"tabs",focusedTabIndex:0,focusedCardIndex:0,selectedCardIndex:-1,isGridActive:!1,focusedCardElementIndex:0,cardElements:[],isCardNavigationActive:!1,gridColumns:1,gridRows:1,cardSortConfig:null,focusedSortControlIndex:0,isSortControlsActive:!1}),V=P.useCallback(H=>{if(!H.current)return{columns:1,rows:0};const W=H.current,le=W.querySelectorAll(".aria-tabs-datagrid-adaptive__card-wrapper");if(le.length===0)return{columns:1,rows:0};const re=W.offsetWidth,ue=le[0].offsetWidth,ve=Math.floor(re/ue)||1,Me=Math.ceil(le.length/ve);return{columns:ve,rows:Me}},[]),Y=P.useCallback((H,W)=>({row:Math.floor(H/W),col:H%W}),[]),R=P.useCallback((H,W,le)=>H*le+W,[]),J=P.useCallback((H,W,le,re)=>{const{row:ce,col:ue}=Y(H,re);let ve=ce,Me=ue;switch(W){case"up":ve=Math.max(0,ce-1);break;case"down":ve=Math.min(Math.floor((le-1)/re),ce+1);break;case"left":Me=Math.max(0,ue-1);break;case"right":Me=Math.min(re-1,ue+1);break}const Ae=R(ve,Me,re);return Math.min(Ae,le-1)},[Y,R]);P.useEffect(()=>{O.isCardNavigationActive&&O.focusedCardElementIndex>=0&&O.cardElements.length>0&&setTimeout(()=>{const H=O.cardElements[O.focusedCardElementIndex];H&&(H.element.focus(),H.element.scrollIntoView({block:"nearest",behavior:"smooth"}))},0)},[O.isCardNavigationActive,O.focusedCardElementIndex,O.cardElements.length]),P.useEffect(()=>{const H=()=>{if(_==="cards"&&X.current){const{columns:re,rows:ce}=V(X);$(ue=>({...ue,gridColumns:re,gridRows:ce}))}},W=setTimeout(H,200),le=()=>{setTimeout(H,100)};return window.addEventListener("resize",le),()=>{clearTimeout(W),window.removeEventListener("resize",le)}},[_,m,V]),P.useEffect(()=>{const H=L.tabLoadingStates.length,W=m.length;H!==W&&F({type:"ADJUST_ARRAYS",payload:{newLength:W}})},[m.length,L.tabLoadingStates.length]),P.useEffect(()=>{E&&C!==L.selectedIndex&&F({type:"SET_SELECTED_INDEX",payload:C})},[E,C,L.selectedIndex]);const te=P.useCallback(H=>{H>=0&&H<m.length&&!m[H].disabled&&(F({type:"SET_SELECTED_INDEX",payload:H}),N?.(H))},[m,N]),K=P.useCallback(H=>{console.log("Card selected:",H),F({type:"SET_GLOBAL_SELECTED_ROW_DATA",payload:H})},[]),oe=P.useCallback(H=>{const W=ee.current[H];W&&(W.focus(),W.scrollIntoView({block:"nearest",behavior:"smooth"}))},[]),ye=P.useCallback(H=>{const W=ee.current[H];if(!W)return[];const le=['button:not([disabled]):not([aria-hidden="true"])','a[href]:not([disabled]):not([aria-hidden="true"])','input:not([disabled]):not([aria-hidden="true"])','select:not([disabled]):not([aria-hidden="true"])','textarea:not([disabled]):not([aria-hidden="true"])','[tabindex]:not([tabindex="-1"]):not([disabled]):not([aria-hidden="true"])','.healthcare-card__detail[tabindex]:not([tabindex="-1"])',".healthcare-card__action:not([disabled])",".tag:not([disabled])"].join(", "),re=W.querySelectorAll(le);return Array.from(re).map((ce,ue)=>({id:ce.id||`card-${H}-element-${ue}`,element:ce,label:ce.getAttribute("aria-label")||ce.textContent?.trim()||ce.getAttribute("title")||`Element ${ue+1}`,type:ce.tagName.toLowerCase()==="button"?"button":ce.tagName.toLowerCase()==="a"?"link":["input","select","textarea"].includes(ce.tagName.toLowerCase())?"input":"generic"}))},[]),Z=P.useRef(null),se=P.useCallback(H=>{const W=Z.current;if(!W)return;const le=document.createElement("div");le.setAttribute("aria-live","polite"),le.setAttribute("aria-atomic","true"),le.className="sr-only",le.textContent=H,W.appendChild(le),setTimeout(()=>{W.contains(le)&&W.removeChild(le)},1e3)},[]),de=P.useCallback(H=>{const W=H.filter(re=>re.sortable!==!1),le=[{value:"",label:"Sort by..."}];return W.forEach(re=>{const ce=re.label||re.key;re.key==="name"?le.push({value:`${re.key}-asc`,label:`${ce} (A-Z)`},{value:`${re.key}-desc`,label:`${ce} (Z-A)`}):re.key==="ews_score"||re.key.includes("score")?le.push({value:`${re.key}-desc`,label:`${ce} (High-Low)`},{value:`${re.key}-asc`,label:`${ce} (Low-High)`}):re.key==="age"||re.key.includes("date")||re.key.includes("time")?le.push({value:`${re.key}-desc`,label:`${ce} (Oldest-Youngest)`},{value:`${re.key}-asc`,label:`${ce} (Youngest-Oldest)`}):le.push({value:`${re.key}-asc`,label:`${ce} (A-Z)`},{value:`${re.key}-desc`,label:`${ce} (Z-A)`})}),le},[]),Ce=P.useCallback((H,W)=>W?[...H].sort((le,re)=>{const ce=le[W.key],ue=re[W.key];if(ce==null&&ue==null)return 0;if(ce==null)return 1;if(ue==null)return-1;const ve=Number(ce),Me=Number(ue);if(!isNaN(ve)&&!isNaN(Me))return W.direction==="asc"?ve-Me:Me-ve;const Ae=String(ce).toLowerCase(),Ye=String(ue).toLowerCase(),Ze=Ae.localeCompare(Ye);return W.direction==="asc"?Ze:-Ze}):H,[]),be=P.useCallback(H=>{if(!H){$(Ae=>({...Ae,cardSortConfig:null})),se("Card sorting cleared");return}const[W,le]=H.split("-"),re={key:W,direction:le};$(Ae=>({...Ae,cardSortConfig:re}));const ve=m[L.selectedIndex]?.columns.find(Ae=>Ae.key===W)?.label||W;se(`Cards sorted by ${ve} in ${le==="asc"?"ascending":"descending"} order`)},[m,L.selectedIndex,se]),q=P.useCallback(H=>{const re=m[L.selectedIndex]?.columns.find(ue=>ue.key===H.key)?.label||H.key,ce=H.direction==="asc"?"ascending":"descending";return`${re} (${ce})`},[m,L.selectedIndex]),Ge=P.useCallback(H=>{const W=m[L.selectedIndex];if(i){const le=L.sortConfig;return!le||le.length===0?H:[...H].sort((re,ce)=>{for(const{key:ue,direction:ve}of le){let Me=re[ue],Ae=ce[ue];const Ye=W?.columns.find(U=>U.key===ue);if(Ye?.cardRenderer?(Me=Ye.cardRenderer(re),Ae=Ye.cardRenderer(ce)):Ye?.render&&(Me=Ye.render(re),Ae=Ye.render(ce)),Me==null&&Ae==null)continue;if(Me==null)return ve==="asc"?-1:1;if(Ae==null)return ve==="asc"?1:-1;const Ze=Number(Me),ct=Number(Ae);if(!isNaN(Ze)&&!isNaN(ct)){const U=Ze-ct;if(U!==0)return ve==="asc"?U:-U;continue}const Be=String(Me).toLowerCase(),he=String(Ae).toLowerCase(),Fe=Be.localeCompare(he);if(Fe!==0)return ve==="asc"?Fe:-Fe}return 0})}else return Ce(H,O.cardSortConfig)},[i,L.sortConfig,O.cardSortConfig,Ce,m,L.selectedIndex]),Pe=P.useCallback((H,W)=>{const le=ye(H),re=le[W];if(re){re.element.scrollIntoView({block:"nearest",behavior:"smooth"});const ce=`Focused on ${re.label}, ${re.type} ${W+1} of ${le.length} within card`;se(ce)}},[ye,se]),$e=P.useCallback(H=>{G.current[H]?.focus()},[]),xe=P.useCallback(()=>{const H=T.current[0];if(!H)return[];const W=['select:not([disabled]):not([aria-hidden="true"])','button:not([disabled]):not([aria-hidden="true"])','input:not([disabled]):not([aria-hidden="true"])','[tabindex]:not([tabindex="-1"]):not([disabled]):not([aria-hidden="true"])'].join(", "),le=H.querySelectorAll(W);return Array.from(le)},[]),z=P.useCallback(H=>{if(H===0){const W=T.current[0],le=W?.querySelector(".sort-controls-row");if(le){le.setAttribute("tabindex","-1"),le.focus();const ce=`Sort controls group with ${xe().length} interactive elements. Press Enter or Space to begin navigating controls.`;se(ce)}else W&&W.focus()}else{const W=xe(),le=H-1,re=W[le];if(re){re.focus();const ce=re.tagName.toLowerCase()==="select",ue=re.tagName.toLowerCase()==="button",ve=ce?"dropdown":ue?"button":"control",Me=ce?". Use Space key to open dropdown":"",Ae=`${ve} ${le+1} of ${W.length}${Me}`;se(Ae)}}},[xe,se]),Q=P.useCallback((H,W)=>{const{key:le}=H,re=m[L.selectedIndex],ce=re?.data.length||0;if(le==="ArrowLeft"&&H.shiftKey){H.preventDefault(),H.currentTarget.scrollBy({left:-30,behavior:"smooth"});return}else if(le==="ArrowRight"&&H.shiftKey){H.preventDefault(),H.currentTarget.scrollBy({left:30,behavior:"smooth"});return}if(!O.isCardNavigationActive){switch(le){case"ArrowUp":if(H.preventDefault(),W===0)$(Ae=>({...Ae,focusArea:"sort-controls",focusedSortControlIndex:0,isSortControlsActive:!1})),z(0);else{const Ae=J(W,"up",ce,O.gridColumns);Ae!==W&&($(Ye=>({...Ye,focusedCardIndex:Ae})),oe(Ae),se(`Moved to card ${Ae+1} of ${ce}`))}break;case"ArrowDown":H.preventDefault();const ue=J(W,"down",ce,O.gridColumns);ue!==W&&($(Ae=>({...Ae,focusedCardIndex:ue})),oe(ue),se(`Moved to card ${ue+1} of ${ce}`));break;case"ArrowLeft":H.preventDefault();const ve=J(W,"left",ce,O.gridColumns);ve!==W?($(Ae=>({...Ae,focusedCardIndex:ve})),oe(ve),se(`Moved to card ${ve+1} of ${ce}`)):L.selectedIndex>0&&(F({type:"SET_SELECTED_INDEX",payload:L.selectedIndex-1}),$(Ae=>({...Ae,focusArea:"tabs"})),setTimeout(()=>$e(L.selectedIndex-1),0));break;case"ArrowRight":H.preventDefault();const Me=J(W,"right",ce,O.gridColumns);Me!==W?($(Ae=>({...Ae,focusedCardIndex:Me})),oe(Me),se(`Moved to card ${Me+1} of ${ce}`)):L.selectedIndex<m.length-1&&(F({type:"SET_SELECTED_INDEX",payload:L.selectedIndex+1}),$(Ae=>({...Ae,focusArea:"tabs"})),setTimeout(()=>$e(L.selectedIndex+1),0));break;case"Enter":if(re?.data[W]){H.preventDefault(),$(Ye=>({...Ye,selectedCardIndex:W}));const Ae=ye(W);Ae.length>0?($(Ye=>({...Ye,focusArea:"card",isCardNavigationActive:!0,focusedCardElementIndex:0,cardElements:Ae,selectedCardIndex:W})),se(`Card ${W+1} selected and navigation activated. ${Ae.length} interactive elements available. Use arrow keys to navigate, Enter to activate, Escape to exit.`)):se(`Card ${W+1} selected.`)}break;case" ":if(re?.data[W]){H.preventDefault(),$(Ye=>({...Ye,selectedCardIndex:Ye.selectedCardIndex===W?-1:W}));const Ae=O.selectedCardIndex===W;se(`Card ${W+1} ${Ae?"deselected":"selected"}.`)}break}return}switch(le){case"ArrowUp":case"ArrowLeft":H.preventDefault();const ue=Math.max(0,O.focusedCardElementIndex-1);$(Ye=>({...Ye,focusedCardElementIndex:ue})),Pe(W,ue);break;case"ArrowDown":case"ArrowRight":H.preventDefault();const ve=Math.min(O.cardElements.length-1,O.focusedCardElementIndex+1);$(Ye=>({...Ye,focusedCardElementIndex:ve})),Pe(W,ve);break;case"Enter":H.preventDefault();const Me=O.cardElements[O.focusedCardElementIndex];Me&&(Me.element.click(),se(`Activated ${Me.label}`));break;case" ":H.preventDefault();const Ae=O.cardElements[O.focusedCardElementIndex];if(Ae){const Ye=new MouseEvent("dblclick",{bubbles:!0});Ae.element.dispatchEvent(Ye),se(`Double-clicked ${Ae.label}`)}break;case"Escape":H.preventDefault(),$(Ye=>({...Ye,focusArea:"cards",isCardNavigationActive:!1,focusedCardElementIndex:0,cardElements:[]})),setTimeout(()=>oe(W),0),se("Exited card navigation, returned to card level");break;case"Home":H.preventDefault(),O.cardElements.length>0&&($(Ye=>({...Ye,focusedCardElementIndex:0})),Pe(W,0));break;case"End":if(H.preventDefault(),O.cardElements.length>0){const Ye=O.cardElements.length-1;$(Ze=>({...Ze,focusedCardElementIndex:Ye})),Pe(W,Ye)}break}},[O,L.selectedIndex,m,K,oe,$e,$,ye,Pe,se]),fe=P.useCallback(H=>{const W=G.current[H],le=W?.parentElement;if(!W||!le){console.log("Tab or container not found for mobile scroll");return}const re=W.getBoundingClientRect(),ce=le.getBoundingClientRect();re.left>=ce.left&&re.right<=ce.right||(console.log("Tab not visible, scrolling into view (mobile)"),W.scrollIntoView({behavior:"smooth",block:"nearest",inline:"center"}))},[]),me=P.useCallback((H,W)=>{if(_!=="cards")return;const{key:le}=H;switch(le){case"ArrowLeft":H.preventDefault();const re=W>0?W-1:m.length-1;te(re),$(Me=>({...Me,focusedTabIndex:re})),G.current[re]?.focus(),fe(re);break;case"ArrowRight":H.preventDefault();const ce=W<m.length-1?W+1:0;te(ce),$(Me=>({...Me,focusedTabIndex:ce})),G.current[ce]?.focus(),fe(ce);break;case"ArrowDown":H.preventDefault();const ue=m[L.selectedIndex];ue&&ue.columns&&ue.columns.length>0?($(Me=>({...Me,focusArea:"sort-controls",focusedSortControlIndex:0})),z(0)):($(Me=>({...Me,focusArea:"cards",focusedCardIndex:0})),oe(0));break;case"Home":H.preventDefault(),te(0),$(Me=>({...Me,focusedTabIndex:0})),G.current[0]?.focus(),fe(0);break;case"End":H.preventDefault();const ve=m.length-1;te(ve),$(Me=>({...Me,focusedTabIndex:ve})),G.current[ve]?.focus(),fe(ve);break;case"Enter":case" ":H.preventDefault(),te(W);break}},[m.length,te,_,oe,$,fe]),_e=P.useCallback((H,W)=>{if(_!=="cards")return;const{key:le}=H,re=m[L.selectedIndex];if(W===0&&!O.isSortControlsActive){switch(le){case"ArrowUp":H.preventDefault(),$(ue=>({...ue,focusArea:"tabs",isSortControlsActive:!1})),$e(L.selectedIndex);break;case"ArrowDown":H.preventDefault(),re?.data&&re.data.length>0&&($(ue=>({...ue,focusArea:"cards",focusedCardIndex:0,isSortControlsActive:!1})),oe(0));break;case"Enter":case" ":H.preventDefault();const ce=xe();if(ce.length>0){$(ve=>({...ve,isSortControlsActive:!0,focusedSortControlIndex:1})),z(1);const ue=`Entered sort controls navigation mode. ${ce.length} controls available. Use arrow keys to navigate between controls.`;se(ue)}break;case"Escape":H.preventDefault(),$(ue=>({...ue,isSortControlsActive:!1,focusArea:"tabs"})),$e(L.selectedIndex);break}return}if(O.isSortControlsActive){const ue=xe().length;switch(le){case"ArrowLeft":H.preventDefault();const ve=O.focusedSortControlIndex>1?O.focusedSortControlIndex-1:ue;$(Ae=>({...Ae,focusedSortControlIndex:ve})),z(ve);break;case"ArrowRight":H.preventDefault();const Me=O.focusedSortControlIndex<ue?O.focusedSortControlIndex+1:1;$(Ae=>({...Ae,focusedSortControlIndex:Me})),z(Me);break;case"ArrowDown":if(H.preventDefault(),O.isSortControlsActive){const Ae=O.focusedSortControlIndex<ue?O.focusedSortControlIndex+1:1;$(Ye=>({...Ye,focusedSortControlIndex:Ae})),z(Ae)}else re?.data&&re.data.length>0&&($(Ae=>({...Ae,focusArea:"cards",focusedCardIndex:0,isSortControlsActive:!1})),oe(0));break;case"ArrowUp":H.preventDefault(),$(Ae=>({...Ae,isSortControlsActive:!1,focusArea:"sort-controls"})),z(0);break;case"Escape":H.preventDefault(),$(Ae=>({...Ae,isSortControlsActive:!1,focusArea:"sort-controls",focusedSortControlIndex:0})),z(0);break}}},[_,m,L.selectedIndex,O.isSortControlsActive,O.focusedSortControlIndex,z,$e,oe,$,se]);if(_==="cards"){const H=!!u&&m.length===1,W=H?m[0]:m[L.selectedIndex];return a.jsxs("div",{className:`aria-tabs-datagrid-adaptive aria-tabs-datagrid-adaptive--cards ${x||""}`,children:[a.jsxs("div",{className:"aria-tabs-datagrid-adaptive__header",children:[!H&&a.jsx("div",{role:"tablist","aria-label":j,"aria-describedby":`${w||""} ${S?`${S}-navigation-help`:""}`.trim(),"aria-orientation":b,className:"aria-tabs-datagrid__tabs",children:m.map((le,re)=>{const ce=re===L.selectedIndex,ue=le.disabled||M;return a.jsxs("button",{role:"tab",id:`tab-${le.id}`,"aria-controls":`panel-${le.id}`,"aria-selected":ce,"aria-disabled":ue,tabIndex:ce?0:-1,ref:ve=>{G.current[re]=ve},onClick:()=>te(re),onKeyDown:ve=>me(ve,re),disabled:ue,className:["aria-tabs-datagrid__tab",ce?"aria-tabs-datagrid__tab--selected":"",ue?"aria-tabs-datagrid__tab--disabled":""].filter(Boolean).join(" "),children:[a.jsx("span",{className:"aria-tabs-datagrid__tab-label",children:le.label}),L.tabLoadingStates[re]&&a.jsx("span",{className:"aria-tabs-datagrid__tab-loading","aria-hidden":"true",children:"â³"}),L.tabErrors[re]&&a.jsx("span",{className:"aria-tabs-datagrid__tab-error","aria-hidden":"true",children:"âš ï¸"})]},le.id)})}),o&&a.jsx("div",{className:"aria-tabs-datagrid-adaptive__top-actions",children:o})]}),W&&W.columns&&a.jsx(a.Fragment,{children:i?a.jsx(a.Fragment,{children:(!g||g==="header"||g==="above")&&a.jsx(Ao,{sortConfig:L.sortConfig||[],columns:W.columns.map(le=>({key:le.key,label:le.label})),onSortChange:le=>{F({type:"SET_SORT",payload:le})},ariaLabel:"Card view sort configuration",className:"aria-tabs-datagrid-adaptive__advanced-sort-controls"})}):a.jsx("div",{className:"aria-tabs-datagrid-adaptive__sort-controls",role:"region","aria-label":"Sort controls",tabIndex:O.focusArea==="sort-controls"?0:-1,ref:le=>{T.current[0]=le},onKeyDown:le=>_e(le,0),children:a.jsxs("div",{className:"sort-controls-row",children:[a.jsxs("div",{className:"sort-select-container",children:[a.jsx("label",{htmlFor:`card-sort-${W.id}`,className:"sort-label",children:"Sort cards by"}),a.jsx(xo,{id:`card-sort-${W.id}`,name:`card-sort-${W.id}`,value:O.cardSortConfig?`${O.cardSortConfig.key}-${O.cardSortConfig.direction}`:"",onChange:le=>be(le.target.value),className:"sort-select",children:de(W.columns).map(le=>a.jsx("option",{value:le.value,children:le.label},le.value))})]}),O.cardSortConfig&&a.jsxs("div",{className:"sort-indicator",role:"status","aria-live":"polite",children:[a.jsxs("span",{className:"sort-indicator-text",children:["Sorted by ",q(O.cardSortConfig)]}),a.jsx(zt,{variant:"secondary",size:"small",onClick:()=>be(""),"aria-label":"Clear card sorting",className:"sort-clear-button",children:"Clear"})]})]})})}),a.jsx("div",{ref:X,className:"aria-tabs-datagrid-adaptive__cards",role:"grid","aria-label":`${W?.label||"Data"} cards in ${O.gridRows} rows and ${O.gridColumns} columns`,"aria-rowcount":O.gridRows,"aria-colcount":O.gridColumns,id:`panel-${W?.id}`,"aria-labelledby":`tab-${W?.id}`,children:Ge(W?.data||[]).map((le,re)=>{const ce=O.selectedCardIndex===re,ue=O.focusedCardIndex===re&&O.focusArea==="cards",ve=O.focusedCardIndex===re&&O.focusArea==="card"&&O.isCardNavigationActive,Me=re===0&&O.focusArea!=="cards",Ae=ue||Me,Ye=Y(re,O.gridColumns);if(n.cardTemplate){const Be=n.cardTemplate(le,W.columns);return a.jsx("div",{role:"row","aria-rowindex":Ye.row+1,className:"aria-tabs-datagrid-adaptive__row",children:a.jsx("div",{ref:he=>{ee.current[re]=he},className:["aria-tabs-datagrid-adaptive__card-wrapper",ce?"aria-tabs-datagrid-adaptive__card-wrapper--selected":"",ue?"aria-tabs-datagrid-adaptive__card-wrapper--focused":"",ve?"aria-tabs-datagrid-adaptive__card-wrapper--card-navigation":""].filter(Boolean).join(" "),role:"gridcell","aria-colindex":Ye.col+1,"aria-selected":ce,"aria-expanded":ve,"aria-description":ve?`Card navigation active. ${O.cardElements.length} interactive elements available.`:void 0,tabIndex:Ae?0:-1,onClick:()=>{$(he=>({...he,selectedCardIndex:he.selectedCardIndex===re?-1:re})),K(le)},onKeyDown:he=>Q(he,re),onFocus:()=>{$(he=>he.isCardNavigationActive?he:he.focusedCardIndex!==re||he.focusArea!=="cards"?{...he,focusedCardIndex:re,focusArea:"cards"}:he)},children:Be})},`card-${re}`)}const Ze=Q2(le,W.columns,B,A),ct=[Ze.className||"",ce?"aria-tabs-datagrid-adaptive__card--selected":"",ue?"aria-tabs-datagrid-adaptive__card--focused":"",ve?"aria-tabs-datagrid-adaptive__card--card-navigation":""].filter(Boolean).join(" ");return a.jsx("div",{role:"row","aria-rowindex":Ye.row+1,className:"aria-tabs-datagrid-adaptive__row",children:a.jsx("div",{className:["aria-tabs-datagrid-adaptive__card-wrapper",ce?"aria-tabs-datagrid-adaptive__card-wrapper--selected":"",ue?"aria-tabs-datagrid-adaptive__card-wrapper--focused":"",ve?"aria-tabs-datagrid-adaptive__card-wrapper--card-navigation":""].filter(Boolean).join(" "),role:"gridcell","aria-colindex":Ye.col+1,"aria-selected":ce,"aria-expanded":ve,onKeyDown:Be=>{Be.key==="Enter"&&(Be.preventDefault(),$(he=>({...he,selectedCardIndex:re}))),Q(Be,re)},children:a.jsx(Rc,{...Ze,ref:Be=>{ee.current[re]=Be},className:ct,"aria-label":`${Ze["aria-label"]||Ze.heading}. ${ve?`Card navigation active with ${O.cardElements.length} interactive elements. Use arrow keys to navigate, Enter to activate, Escape to exit.`:"Press Enter to navigate within card elements."}`,tabIndex:Ae?0:-1,onClick:()=>{$(Be=>({...Be,selectedCardIndex:Be.selectedCardIndex===re?-1:re})),K(le)},onKeyDown:Be=>Q(Be,re),onFocus:()=>{O.isCardNavigationActive||$(Be=>Be.focusedCardIndex!==re||Be.focusArea!=="cards"?{...Be,focusedCardIndex:re,focusArea:"cards",focusedCardElementIndex:0,cardElements:[]}:Be)}})})},`card-${re}`)})}),i&&g==="below"&&W&&W.columns&&a.jsx(Ao,{sortConfig:L.sortConfig||[],columns:W.columns.map(le=>({key:le.key,label:le.label})),onSortChange:le=>{F({type:"SET_SORT",payload:le})},ariaLabel:"Card view sort configuration",className:"aria-tabs-datagrid-adaptive__advanced-sort-controls aria-tabs-datagrid-adaptive__advanced-sort-controls--below"}),s&&a.jsx("div",{className:"aria-tabs-datagrid-adaptive__bottom-actions",children:s}),a.jsx("div",{ref:Z,className:"aria-tabs-datagrid-adaptive__announcements","aria-hidden":"true",style:{position:"fixed",top:"-1px",left:"-1px",width:"1px",height:"1px",overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",border:0,padding:0,margin:0}})]})}return _==="hybrid"?a.jsxs("div",{className:`aria-tabs-datagrid-adaptive aria-tabs-datagrid-adaptive--hybrid ${x||""}`,children:[o&&a.jsx("div",{className:"aria-tabs-datagrid-adaptive__top-actions aria-tabs-datagrid-adaptive__top-actions--above-table",children:o}),a.jsx(Ia,{tabPanels:m,dataConfig:y,ariaLabel:j,ariaDescription:w,orientation:b,id:S,disabled:M,selectedIndex:C,onTabChange:N,className:"aria-tabs-datagrid-adaptive__table--hybrid",actions:l,forceActionsAbove:c,hideTabsIfSingle:u,minColumnWidth:d,enableColumnCollapse:f,minVisibleColumns:p,showCollapsedColumnsIndicator:h,sortStatusPlacement:g,...v}),s&&a.jsx("div",{className:"aria-tabs-datagrid-adaptive__bottom-actions",children:s})]}):a.jsxs("div",{className:`aria-tabs-datagrid-adaptive aria-tabs-datagrid-adaptive--table ${x||""}`,children:[o&&a.jsx("div",{className:"aria-tabs-datagrid-adaptive__top-actions aria-tabs-datagrid-adaptive__top-actions--above-table",children:o}),a.jsx(Ia,{tabPanels:m,dataConfig:y,ariaLabel:j,ariaDescription:w,orientation:b,id:S,disabled:M,selectedIndex:C,onTabChange:N,actions:l,forceActionsAbove:c,hideTabsIfSingle:u,minColumnWidth:d,enableColumnCollapse:f,minVisibleColumns:p,showCollapsedColumnsIndicator:h,sortStatusPlacement:g,...v}),s&&a.jsx("div",{className:"aria-tabs-datagrid-adaptive__bottom-actions",children:s})]})},yp=e=>{const t=Uc.find(n=>n.value===e);return t?t.icon:null},eS={ecommerce:{name:"E-commerce",description:"Product catalogs with pricing, inventory, and ratings",dataConfig:{dataComparator:(e,t)=>e.id===t.id,filterFunction:(e,t)=>t?e.filter(n=>{if(t.priceRange){const[r,i]=t.priceRange,o=n.discountedPrice||n.price;if(o<r||o>i)return!1}return!(t.categories&&t.categories.length>0&&!t.categories.includes(n.category)||t.inStock!==void 0&&n.inStock!==t.inStock||t.minRating!==void 0&&n.rating<t.minRating||t.tags&&t.tags.length>0&&!t.tags.some(r=>n.tags.includes(r)))}):e,booleanRenderer:e=>yp(e),getDataId:e=>`ecommerce-${e.id}`},createTabs:e=>Aa(e,[{id:"all-products",label:"All Products",columns:[{key:"name",label:"Product Name"},{key:"price",label:"Price",render:n=>n.discountedPrice?`$${n.price.toFixed(2)} â†’ $${n.discountedPrice.toFixed(2)}`:`$${n.price.toFixed(2)}`},{key:"inStock",label:"Availability"},{key:"category",label:"Category"},{key:"rating",label:"Rating",render:n=>`${n.rating}/5 (${n.reviews} reviews)`}],ariaLabel:"All Products Grid",ariaDescription:"Complete product catalog with pricing and availability"},{id:"on-sale",label:"On Sale",columns:[{key:"name",label:"Product Name"},{key:"price",label:"Original Price",render:n=>`$${n.price.toFixed(2)}`},{key:"discountedPrice",label:"Sale Price",render:n=>`$${n.discountedPrice?.toFixed(2)||"N/A"}`},{key:"discount",label:"Discount",render:n=>n.discountedPrice?`${((n.price-n.discountedPrice)/n.price*100).toFixed(0)}% OFF`:"N/A"}],filter:n=>n.filter(r=>r.discountedPrice!==void 0),ariaLabel:"Sale Products Grid",ariaDescription:"Products currently on sale with discounted pricing"},{id:"high-rated",label:"Top Rated",columns:[{key:"name",label:"Product Name"},{key:"rating",label:"Rating"},{key:"reviews",label:"Reviews"},{key:"category",label:"Category"}],filter:n=>n.filter(r=>r.rating>=4),sortConfig:[{key:"rating",direction:"desc"}],ariaLabel:"Top Rated Products Grid",ariaDescription:"Highest rated products with 4+ star ratings"}])},financial:{name:"Financial",description:"Transaction data with amounts, categories, and statuses",dataConfig:{dataComparator:(e,t)=>e.id===t.id,filterFunction:(e,t)=>t?e.filter(n=>{if(t.dateRange){const[r,i]=t.dateRange;if(n.date<r||n.date>i)return!1}if(t.amountRange){const[r,i]=t.amountRange;if(Math.abs(n.amount)<r||Math.abs(n.amount)>i)return!1}return!(t.types&&t.types.length>0&&!t.types.includes(n.type)||t.categories&&t.categories.length>0&&!t.categories.includes(n.category)||t.pending!==void 0&&n.pending!==t.pending)}):e,booleanRenderer:e=>yp(e),getDataId:e=>`financial-${e.id}`},createTabs:e=>Aa(e,[{id:"all-transactions",label:"All Transactions",columns:[{key:"date",label:"Date",render:n=>n.date.toLocaleDateString()},{key:"description",label:"Description"},{key:"amount",label:"Amount",render:n=>`${n.type==="credit"?"+":"-"}$${Math.abs(n.amount).toFixed(2)}`},{key:"category",label:"Category"},{key:"pending",label:"Status"}],sortConfig:[{key:"date",direction:"desc"}],ariaLabel:"All Transactions Grid",ariaDescription:"Complete transaction history with amounts and categories"},{id:"credits",label:"Credits",columns:[{key:"date",label:"Date",render:n=>n.date.toLocaleDateString()},{key:"description",label:"Description"},{key:"amount",label:"Amount",render:n=>`+$${n.amount.toFixed(2)}`},{key:"category",label:"Category"}],filter:n=>n.filter(r=>r.type==="credit"),ariaLabel:"Credit Transactions Grid",ariaDescription:"Incoming payments and credits only"},{id:"debits",label:"Debits",columns:[{key:"date",label:"Date",render:n=>n.date.toLocaleDateString()},{key:"description",label:"Description"},{key:"amount",label:"Amount",render:n=>`-$${Math.abs(n.amount).toFixed(2)}`},{key:"category",label:"Category"}],filter:n=>n.filter(r=>r.type==="debit"),ariaLabel:"Debit Transactions Grid",ariaDescription:"Outgoing payments and charges only"},{id:"pending",label:"Pending",columns:[{key:"date",label:"Date",render:n=>n.date.toLocaleDateString()},{key:"description",label:"Description"},{key:"amount",label:"Amount",render:n=>`${n.type==="credit"?"+":"-"}$${Math.abs(n.amount).toFixed(2)}`},{key:"type",label:"Type"}],filter:n=>n.filter(r=>r.pending),ariaLabel:"Pending Transactions Grid",ariaDescription:"Transactions awaiting processing"}])}},bp=(e,t)=>{const n=eS[e];return{dataConfig:n.dataConfig,tabPanels:n.createTabs(t)}},vp=[{name:"Sarah Johnson",age:34,ews_data:{respiratory_rate_bpm:16,sp02:98,temperature:36.8,systolic_bp:140,heart_rate:82,avpu:"alert"},ews_score:3,ward_name:"Cardiology",room_name:"Room A",bed_name:"A-1",bed_type:"bed",admin_note:"Hypertension monitoring",pathway:"Standard",speciality:"Cardiology",consultant:"Dr. Smith",local_authority:"NHS Trust",early_discharge_notification:"not_required",needs_based_assessment:!1,medically_optimised:!0,criteria_to_reside:!0,date_medically_optimised:"2024-01-15",anticipated_discharge_date:"2024-01-18",dru_suitability:!1,optica_planned_discharge_date:"2024-01-18",optica_date_confirmed:"2024-01-16",dsum:null,medications_tta:"None required",transport_booking:!1,transport_status:"Pending",transport_date:"",transport_mobility:"Independent",fast_track:!1,initial_therapy_contact:"",equipment:"None",district_nurse_referral:!1},{name:"Michael Chen",age:67,ews_data:{respiratory_rate_bpm:20,sp02:94,temperature:37.2,systolic_bp:160,heart_rate:95,avpu:"alert"},ews_score:7,ward_name:"Surgery",room_name:"Room B",bed_name:"B-3",bed_type:"bed",admin_note:"Post-operative monitoring",pathway:"Surgical",speciality:"General Surgery",consultant:"Dr. Johnson",local_authority:"NHS Trust",early_discharge_notification:"due",needs_based_assessment:!0,medically_optimised:!1,criteria_to_reside:!0,date_medically_optimised:"2024-01-17",anticipated_discharge_date:"2024-01-20",dru_suitability:!0,optica_planned_discharge_date:"2024-01-20",optica_date_confirmed:"2024-01-16",dsum:"Complex discharge",medications_tta:"Pain management",transport_booking:!0,transport_status:"In Progress",transport_date:"2024-01-20",transport_mobility:"Wheelchair",fast_track:!1,initial_therapy_contact:"2024-01-17",equipment:"Walking frame",district_nurse_referral:!0},{name:"Emma Thompson",age:28,ews_data:{respiratory_rate_bpm:24,sp02:90,temperature:38.5,systolic_bp:110,heart_rate:105,avpu:"alert"},ews_score:5,ward_name:"Respiratory",room_name:"Room C",bed_name:"C-2",bed_type:"bed",admin_note:"Pneumonia treatment",pathway:"Respiratory",speciality:"Respiratory Medicine",consultant:"Dr. Williams",local_authority:"NHS Trust",early_discharge_notification:"overdue",needs_based_assessment:!0,medically_optimised:!1,criteria_to_reside:!1,date_medically_optimised:"",anticipated_discharge_date:"2024-01-22",dru_suitability:!1,optica_planned_discharge_date:"2024-01-22",optica_date_confirmed:"",dsum:null,medications_tta:"Antibiotics",transport_booking:!1,transport_status:"Pending",transport_date:"",transport_mobility:"Independent",fast_track:!0,initial_therapy_contact:"",equipment:"Oxygen",district_nurse_referral:!1}],tS=[{id:"appt-001",appointment_time:"2024-01-18T09:00:00Z",patient_name:"Sarah Johnson",appointment_type:"Cardiology Consultation",consultant:"Dr. Smith",location:"Clinic Room 3",duration:30,status:"pending"},{id:"appt-002",appointment_time:"2024-01-18T10:30:00Z",patient_name:"Michael Davis",appointment_type:"Post-op Follow-up",consultant:"Dr. Johnson",location:"Surgery Ward",duration:15,status:"active"},{id:"appt-003",appointment_time:"2024-01-18T14:00:00Z",patient_name:"Emma Thompson",appointment_type:"Respiratory Assessment",consultant:"Dr. Wilson",location:"Emergency Department",duration:45,status:"pending"}],nS=[{id:"med-001",medication:"Amlodipine",dose:"5mg",frequency:"Once daily",route:"Oral",next_due:"2024-01-18T08:00:00Z",prescriber:"Dr. Smith",patient_name:"Sarah Johnson",allergies:null,priority:"medium"},{id:"med-002",medication:"Morphine",dose:"10mg",frequency:"Every 4 hours",route:"IV",next_due:"2024-01-18T10:00:00Z",prescriber:"Dr. Johnson",patient_name:"Michael Davis",allergies:"Codeine allergy",priority:"high"},{id:"med-003",medication:"Salbutamol",dose:"2 puffs",frequency:"As needed",route:"Inhaled",next_due:"2024-01-18T12:00:00Z",prescriber:"Dr. Wilson",patient_name:"Emma Thompson",allergies:null,priority:"high"}],rS=[{id:"vitals-001",patient_name:"Sarah Johnson",recorded_time:"2024-01-18T07:30:00Z",temperature:36.8,blood_pressure:"140/90",heart_rate:82,respiratory_rate:16,oxygen_saturation:98,ews_score:3,priority:"medium"},{id:"vitals-002",patient_name:"Michael Davis",recorded_time:"2024-01-18T08:15:00Z",temperature:37.2,blood_pressure:"130/85",heart_rate:98,respiratory_rate:20,oxygen_saturation:95,ews_score:7,priority:"high"},{id:"vitals-003",patient_name:"Emma Thompson",recorded_time:"2024-01-18T09:00:00Z",temperature:38.5,blood_pressure:"110/70",heart_rate:105,respiratory_rate:24,oxygen_saturation:90,ews_score:9,priority:"high"}],xp=[{id:"PROD001",name:"Wireless Headphones",price:199.99,discountedPrice:149.99,inStock:!0,category:"Electronics",rating:4.5,reviews:1247,tags:["wireless","bluetooth","premium"]},{id:"PROD002",name:"Running Shoes",price:129.99,inStock:!0,category:"Sports",rating:4.8,reviews:892,tags:["running","athletic","comfortable"]},{id:"PROD003",name:"Coffee Maker",price:89.99,discountedPrice:59.99,inStock:!1,category:"Kitchen",rating:4.2,reviews:456,tags:["kitchen","coffee","appliance"]},{id:"PROD004",name:"Smartphone Case",price:24.99,inStock:!0,category:"Accessories",rating:4,reviews:234,tags:["protection","mobile","durable"]}],_p=[{id:"TXN001",date:new Date("2024-01-15"),amount:2500,type:"credit",category:"Salary",description:"Monthly salary payment",accountId:"ACC001",pending:!1,recurring:!0},{id:"TXN002",date:new Date("2024-01-14"),amount:89.5,type:"debit",category:"Groceries",description:"Supermarket shopping",accountId:"ACC001",pending:!1,recurring:!1},{id:"TXN003",date:new Date("2024-01-16"),amount:1200,type:"debit",category:"Rent",description:"Monthly rent payment",accountId:"ACC001",pending:!0,recurring:!0},{id:"TXN004",date:new Date("2024-01-13"),amount:150,type:"credit",category:"Refund",description:"Product return refund",accountId:"ACC001",pending:!1,recurring:!1}],wp=[{id:"LEAD001",companyName:"Tech Solutions Inc",contactPerson:"John Smith",email:"john@techsolutions.com",status:"qualified",value:5e4,lastContact:new Date("2024-01-15"),source:"Website",isHotLead:!0},{id:"LEAD002",companyName:"Global Industries",contactPerson:"Maria Garcia",email:"maria@globalind.com",status:"contacted",value:25e3,lastContact:new Date("2024-01-14"),source:"Referral",isHotLead:!1},{id:"LEAD003",companyName:"StartupXYZ",contactPerson:"Alex Johnson",email:"alex@startupxyz.com",status:"new",value:15e3,lastContact:new Date("2024-01-16"),source:"Cold Call",isHotLead:!0}],iS={dataComparator:(e,t)=>e.id===t.id,filterFunction:(e,t)=>t?e.filter(n=>!(t.status&&!t.status.includes(n.status)||t.minValue&&n.value<t.minValue||t.hotLeadsOnly&&!n.isHotLead)):e,booleanRenderer:e=>a.jsx("span",{style:{color:e?"#dc2626":"#6b7280",fontWeight:e?"bold":"normal"},children:e?"ðŸ”¥ Hot Lead":"ðŸ“‹ Standard"}),getDataId:e=>`business-${e.id}`},oS=()=>[{id:"patients",label:"Patients",data:vp,columns:[{key:"name",label:"Patient Name"},{key:"age",label:"Age"},{key:"ward_name",label:"Ward"},{key:"ews_score",label:"EWS Score"}],ariaLabel:"Patient Records",ariaDescription:"Healthcare patient management with EWS monitoring",cardTemplate:(e,t)=>a.jsx(Wc,{data:e,columns:t,onSelect:n=>console.log("Selected patient:",n),onAction:(n,r)=>console.log("Patient action:",n,r),priority:e.ews_score>=7?"high":e.ews_score>=3?"medium":"low"})},{id:"appointments",label:"Appointments",data:tS,columns:[{key:"appointment_time",label:"Time"},{key:"patient_name",label:"Patient"},{key:"appointment_type",label:"Type"},{key:"consultant",label:"Consultant"}],ariaLabel:"Patient Appointments",ariaDescription:"Scheduled appointments and consultations",cardTemplate:(e,t)=>a.jsx(Gc,{data:e,columns:t,onSelect:n=>console.log("Selected appointment:",n),onAction:(n,r)=>console.log("Appointment action:",n,r),status:e.status})},{id:"medications",label:"Medications",data:nS,columns:[{key:"medication",label:"Medication"},{key:"dose",label:"Dose"},{key:"frequency",label:"Frequency"},{key:"next_due",label:"Next Due"}],ariaLabel:"Patient Medications",ariaDescription:"Medication administration and scheduling",cardTemplate:(e,t)=>a.jsx(Yc,{data:e,columns:t,onSelect:n=>console.log("Selected medication:",n),onAction:(n,r)=>console.log("Medication action:",n,r),priority:e.priority})},{id:"vitals",label:"Vital Signs",data:rS,columns:[{key:"patient_name",label:"Patient"},{key:"recorded_time",label:"Time"},{key:"temperature",label:"Temperature"},{key:"ews_score",label:"EWS Score"}],ariaLabel:"Patient Vital Signs",ariaDescription:"Patient vital signs monitoring and EWS scores",cardTemplate:(e,t)=>a.jsx(Vc,{data:e,columns:t,onSelect:n=>console.log("Selected vitals:",n),onAction:(n,r)=>console.log("Vitals action:",n,r),priority:e.ews_score>=7?"high":e.ews_score>=3?"medium":"low"})}],sS=()=>{const[e,t]=P.useState("healthcare"),n=P.useMemo(()=>({healthcare:{title:"Healthcare Workflow Management",description:"Comprehensive healthcare workflow with patient cards, appointments, medications, and vitals",dataConfig:up,tabPanels:oS(),data:vp},ecommerce:{title:"E-commerce Product Catalog",description:"Product management with pricing and inventory",...bp("ecommerce",xp),data:xp},financial:{title:"Financial Transaction Dashboard",description:"Banking and financial data management",...bp("financial",_p),data:_p},business:{title:"Sales Lead Management",description:"Custom CRM configuration with business logic",dataConfig:iS,tabPanels:Aa(wp,[{id:"all-leads",label:"All Leads",columns:[{key:"companyName",label:"Company"},{key:"contactPerson",label:"Contact"},{key:"status",label:"Status"},{key:"value",label:"Value",render:i=>`$${i.value.toLocaleString()}`},{key:"isHotLead",label:"Priority"}],ariaLabel:"All Sales Leads Grid",ariaDescription:"Complete sales pipeline with lead information"},{id:"hot-leads",label:"Hot Leads",columns:[{key:"companyName",label:"Company"},{key:"contactPerson",label:"Contact"},{key:"value",label:"Value",render:i=>`$${i.value.toLocaleString()}`},{key:"lastContact",label:"Last Contact",render:i=>i.lastContact.toLocaleDateString()}],filter:i=>i.filter(o=>o.isHotLead),sortConfig:[{key:"value",direction:"desc"}],ariaLabel:"Hot Leads Grid",ariaDescription:"High-priority leads requiring immediate attention"},{id:"pipeline",label:"Active Pipeline",columns:[{key:"companyName",label:"Company"},{key:"status",label:"Status"},{key:"value",label:"Value",render:i=>`$${i.value.toLocaleString()}`},{key:"source",label:"Source"}],filter:i=>i.filter(o=>["contacted","qualified"].includes(o.status)),ariaLabel:"Active Pipeline Grid",ariaDescription:"Leads currently in the sales pipeline"}]),data:wp}}),[]),r=n[e];return a.jsxs("div",{style:{padding:"2rem",maxWidth:"1200px",margin:"0 auto"},children:[a.jsxs("div",{style:{marginBottom:"2rem"},children:[a.jsx("h1",{style:{fontSize:"2rem",fontWeight:"bold",marginBottom:"1rem",color:"#1f2937"},children:"AriaTabsDataGrid - Comprehensive Demo"}),a.jsx("p",{style:{fontSize:"1.1rem",color:"#6b7280",marginBottom:"2rem",lineHeight:"1.6"},children:"This demo showcases the component's versatility across different domains: healthcare, e-commerce, financial services, and custom business applications. Each configuration demonstrates domain-specific data operations, custom renderers, and specialized filtering logic."}),a.jsx("div",{style:{display:"flex",gap:"1rem",marginBottom:"2rem",flexWrap:"wrap"},children:Object.keys(n).map(i=>a.jsx(zt,{variant:e===i?"primary":"secondary",onClick:()=>t(i),style:{textTransform:"capitalize"},children:i},i))}),a.jsxs("div",{style:{backgroundColor:"#f8fafc",border:"1px solid #e2e8f0",borderRadius:"0.5rem",padding:"1.5rem",marginBottom:"2rem"},children:[a.jsx("h2",{style:{fontSize:"1.5rem",fontWeight:"600",marginBottom:"0.5rem",color:"#1e293b"},children:r.title}),a.jsx("p",{style:{color:"#64748b",marginBottom:"1rem"},children:r.description}),a.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:"1rem",fontSize:"0.9rem"},children:[a.jsxs("div",{children:[a.jsx("strong",{children:"Data Records:"})," ",r.data.length]}),a.jsxs("div",{children:[a.jsx("strong",{children:"Tab Panels:"})," ",r.tabPanels.length]}),a.jsxs("div",{children:[a.jsx("strong",{children:"Features:"})," ",["Row Selection","Custom Filtering","Domain-Specific Renderers","Keyboard Navigation","ARIA Compliance"].join(", ")]})]})]})]}),a.jsx(Ia,{dataConfig:r.dataConfig,tabPanels:r.tabPanels,ariaLabel:`${r.title} Data Grid`,ariaDescription:`Interactive data grid for ${r.description.toLowerCase()}`}),a.jsxs("div",{style:{marginTop:"3rem",padding:"1.5rem",backgroundColor:"#f1f5f9",borderRadius:"0.5rem",border:"1px solid #cbd5e1"},children:[a.jsx("h3",{style:{fontSize:"1.25rem",fontWeight:"600",marginBottom:"1rem",color:"#334155"},children:"Implementation Details"}),a.jsxs("div",{style:{display:"grid",gap:"1rem",fontSize:"0.9rem"},children:[a.jsxs("div",{children:[a.jsx("strong",{children:"Current Mode:"})," ",e," configuration"]}),a.jsxs("div",{children:[a.jsx("strong",{children:"Data Operations:"})," Custom comparator, filter function, and boolean renderer"]}),a.jsxs("div",{children:[a.jsx("strong",{children:"Architecture:"})," Generic core with domain-specific plugins and factory helpers"]}),a.jsxs("div",{children:[a.jsx("strong",{children:"State Management:"})," Global row selection with data-object persistence"]}),a.jsxs("div",{children:[a.jsx("strong",{children:"Accessibility:"})," Full ARIA support with dynamic labels and descriptions"]})]})]})]})},qc=e=>a.jsx(uc,{...e}),aS=({children:e,pageTitle:t,pageHeadingProps:n,columnWidth:r=Ar.TwoThirds,mainWrapperSize:i,skipLinkProps:o,headerProps:s,footerProps:l,service:c,navigation:u,search:d,account:f,organisation:p,logo:h,className:g,...m})=>{const y={service:c,navigation:u,search:d,account:f,organisation:p,logo:h,...s};return a.jsxs(a.Fragment,{children:[a.jsx(Oc,{...o}),a.jsx(ua,{...y}),a.jsx(qc,{className:g,...m,children:a.jsx(dc,{size:i,children:a.jsx(mr,{children:a.jsxs(Ai,{width:r,children:[t&&a.jsx(zn,{size:"l",...n,children:t}),e]})})})}),a.jsx(mc,{...l})]})},lS=({children:e,title:t,pageHeadingProps:n,columnWidth:r=Ar.TwoThirds,mainWrapperSize:i="small",skipLinkProps:o,headerProps:s,footerProps:l,backLinkProps:c,serviceName:u,serviceHref:d,logo:f,className:p,...h})=>{const g={service:{text:u,href:d},logo:f,navigation:void 0,search:void 0,account:void 0,...s};return a.jsxs(a.Fragment,{children:[a.jsx(Oc,{...o}),a.jsx(ua,{...g}),a.jsxs(qc,{className:p,...h,children:[c&&a.jsx(Li,{...c}),a.jsx(dc,{size:i,children:a.jsx(mr,{children:a.jsxs(Ai,{width:r,children:[t&&a.jsx(zn,{style:{marginTop:"3rem"},size:"l",...n,children:t}),e]})})})]}),a.jsx(mc,{...l})]})};function Sp(e={}){const{enabled:t=!0,paramSelected:n="nsv",paramDrill:r="nsvDrill"}=e,[i,o]=ne.useState(()=>typeof window>"u"||!t?void 0:new URLSearchParams(window.location.search).get(n)),[s,l]=ne.useState(()=>typeof window>"u"||!t?!1:new URLSearchParams(window.location.search).get(r)==="1");return ne.useEffect(()=>{if(!t||typeof window>"u")return;const c=new URLSearchParams(window.location.search);i?c.set(n,String(i)):c.delete(n),c.set(r,s?"1":"0");const u=`${window.location.pathname}?${c.toString()}${window.location.hash}`;window.history.replaceState(null,"",u)},[i,s,t,n,r]),{selectedId:i,setSelectedId:o,drilledIn:s,setDrilledIn:l}}const cS=({className:e})=>a.jsx("svg",{className:e,width:"16",height:"16",viewBox:"0 0 16 16","aria-hidden":"true",focusable:"false",children:a.jsx("path",{fill:"currentColor",d:"M10.7 3.3a1 1 0 0 1 0 1.4L7.41 8l3.3 3.3a1 1 0 1 1-1.42 1.4l-4-4a1 1 0 0 1 0-1.4l4-4a1 1 0 0 1 1.42 0Z"})}),uS=({className:e})=>a.jsx("svg",{className:e,width:"16",height:"16",viewBox:"0 0 16 16","aria-hidden":"true",focusable:"false",children:a.jsx("path",{fill:"currentColor",d:"M5.3 12.7a1 1 0 0 1 0-1.4L8.59 8l-3.3-3.3a1 1 0 0 1 1.42-1.4l4 4a1 1 0 0 1 0 1.4l-4 4a1 1 0 0 1-1.42 0Z"})}),Ea=({text:e="Next",html:t,href:n="#",className:r,element:i="a",onClick:o,...s})=>{const l=Oe("nhsuk-back-link",r),c=Oe("nhsuk-back-link__link"),u=()=>a.jsxs("span",{style:{display:"inline-flex",alignItems:"center",gap:4},children:[t?a.jsx("span",{dangerouslySetInnerHTML:{__html:t}}):e,a.jsx("svg",{className:"nhsuk-icon nhsuk-icon__chevron-right",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24","aria-hidden":"true",height:"24",width:"24",children:a.jsx("path",{d:"M15.5 12c0 .3-.1.5-.3.7l-5 5c-.4.4-1 .4-1.4 0s-.4-1 0-1.4L13.1 12 8.8 7.7c-.4-.4-.4-1 0-1.4s1-.4 1.4 0l5 5c.2.2.3.4.3.7z"})})]});return a.jsx("div",{className:l,children:i==="button"?a.jsx("button",{className:c,type:"button",onClick:o,...s,children:u()}):a.jsx("a",{className:c,href:n,...s,children:u()})})};Ea.displayName="ForwardLink";const dS=({show:e,label:t,contentHeaderLevel:n,detailActive:r,headerContext:i,backLabel:o,nextLabel:s,onBack:l,onForward:c,renderContentHeader:u,item:d,contentSubheader:f,tertiaryInlineActive:p})=>{if(!e||!d)return null;const h=`h${n}`,g=t?ne.createElement(h,{style:{marginLeft:r?32:0,marginRight:r?32:0}},t):null,m=r?a.jsx(Li,{element:"button",text:o,style:{marginRight:16},onClick:l}):void 0,y=p?void 0:a.jsx(Ea,{element:"button",text:s,onClick:c});if(u)return a.jsx("div",{className:"nhs-navigation-split-view__header",children:u({item:d,detailActive:r,context:i,backLink:m,defaultHeading:g})});const C=d&&f?typeof f=="function"?f(d):f:null;return a.jsx("div",{className:"nhs-navigation-split-view__header",children:a.jsxs("div",{style:{display:"flex",alignItems:"center",width:"100%"},children:[a.jsxs("div",{style:{display:"flex",alignItems:"center",gap:0,flex:"1 1 auto",minWidth:0},children:[m,a.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:4,minWidth:0},children:[g,C&&a.jsx("div",{className:"nhs-navigation-split-view__subheader",children:C})]})]}),y&&a.jsx("div",{style:{marginLeft:"auto"},children:y})]})})};function fS({layout:e,items:t,getId:n,selectedId:r,isLoading:i,emptyState:o,renderItemContent:s,onSelect:l,orientation:c,initialFocus:u,onFocusChange:d,justSelectedId:f,listRef:p,onKeyDownList:h,navigationInstructions:g,controlledFocusedIndex:m}){const[y,C]=ne.useState(()=>u==="first"?0:-1),N=ne.useRef(0);ne.useEffect(()=>{if(typeof m=="number"||y<0||!p?.current)return;const M=Array.from(p.current.querySelectorAll("[data-nav-item]"))[y];if(M){document.activeElement!==M&&M.focus(),N.current=y;const x=t[y];d?.(x?n(x):void 0,x,y)}},[m,y,t,d,n,p]);const j=S=>{if(h)return h(S);const M=c==="vertical"?"ArrowDown":"ArrowRight",x=c==="vertical"?"ArrowUp":"ArrowLeft";if(S.key===M)S.preventDefault(),C(v=>Math.min(t.length-1,v+1));else if(S.key===x)S.preventDefault(),C(v=>Math.max(0,v-1));else if(S.key==="Home")S.preventDefault(),C(0);else if(S.key==="End")S.preventDefault(),C(t.length-1);else if(S.key==="Enter"||S.key===" "){S.preventDefault();const v=t[y];v&&!v.disabled&&l(n(v),v,y)}};if(e==="cards")return a.jsxs("ul",{className:"nhs-navigation-split-view__cards",role:"listbox","aria-activedescendant":r?String(r):void 0,children:[t.map((S,M)=>{const x=n(S),v=x===r;return a.jsx("li",{className:"nhs-navigation-split-view__card-item",role:"option","aria-selected":v,children:a.jsxs("button",{id:String(x),type:"button",className:"nhs-navigation-split-view__card","data-selected":v||void 0,"data-disabled":S.disabled||void 0,disabled:S.disabled,onClick:()=>!S.disabled&&l(x,S,M),children:[S.icon&&a.jsx("span",{className:"nhs-navigation-split-view__item-icon",children:S.icon}),a.jsx("span",{className:"nhs-navigation-split-view__item-label",children:S.label}),S.description&&a.jsx("span",{className:"nhs-navigation-split-view__item-description",children:S.description}),s?.(S),S.badge!==void 0&&a.jsx("span",{className:"nhs-navigation-split-view__badge",children:S.badge})]})},String(x))}),t.length===0&&!i&&a.jsx("li",{className:"nhs-navigation-split-view__card-item","aria-disabled":"true",children:o||a.jsx("div",{style:{padding:16},children:"No items"})})]});const w="nsv-nav-instructions",b=ne.useMemo(()=>ne.memo(({item:S,idx:M,selected:x,focused:v})=>{const _=n(S),E=S.disabled?{"aria-disabled":!0,tabIndex:-1}:{tabIndex:v?0:-1,onClick:()=>{N.current=M,l(_,S,M)},onKeyDown:D=>{(D.key==="Enter"||D.key===" ")&&(D.preventDefault(),N.current=M,l(_,S,M))}};return a.jsxs("li",{id:String(_),"data-nav-item":!0,className:"nhs-navigation-split-view__list-item nhs-navigation-split-view__item-button",role:"option","aria-selected":x,"aria-current":x?"true":void 0,"data-selected":x||void 0,"data-disabled":S.disabled||void 0,...E,children:[S.icon&&a.jsx("span",{className:"nhs-navigation-split-view__item-icon",children:S.icon}),a.jsxs("span",{className:"nhs-navigation-split-view__item-content",children:[a.jsx("span",{className:"nhs-navigation-split-view__item-label",children:S.label}),S.description&&a.jsx("span",{className:"nhs-navigation-split-view__item-description",children:S.description}),s?.(S)]}),S.badge!==void 0&&a.jsx("span",{className:"nhs-navigation-split-view__badge",children:S.badge})]})}),[n,l,s]);return a.jsxs(a.Fragment,{children:[a.jsxs("ul",{ref:p,className:"nhs-navigation-split-view__list",onKeyDown:j,role:"listbox","aria-label":"Navigation items","aria-describedby":w,"aria-activedescendant":r?String(r):void 0,children:[t.map((S,M)=>a.jsx(b,{item:S,idx:M,selected:n(S)===r,focused:(()=>{const x=typeof m=="number"?m:y;return M===x||x===-1&&M===0&&u==="first"})(),"data-just-selected":n(S)===f?"true":void 0},String(n(S)))),t.length===0&&!i&&a.jsx("li",{className:"nhs-navigation-split-view__list-item","aria-disabled":"true",children:o||a.jsx("div",{style:{padding:16},children:"No items"})})]}),a.jsx("div",{id:w,style:{position:"absolute",width:1,height:1,overflow:"hidden",clip:"rect(0 0 0 0)"},children:g||"Use arrow keys to navigate, Enter to open."})]})}const zi=Object.freeze({small:320,smallMax:767,medium:768,large:1025,xlarge:1200,xxlarge:1440});function kp(){return typeof window>"u"?zi.small:window.innerWidth||document.documentElement.clientWidth||0}function Pa(){const[e,t]=ne.useState(kp());ne.useEffect(()=>{if(typeof window>"u")return;const o=()=>t(kp());return window.addEventListener("resize",o),()=>window.removeEventListener("resize",o)},[]);const n=ne.useCallback(o=>e>=zi[o],[e]),r=ne.useCallback(o=>e<zi[o],[e]),i=ne.useCallback((o,s)=>e>=zi[o]&&e<zi[s],[e]);return{width:e,up:n,down:r,between:i,values:zi}}function hS(e){const{width:t,values:n}=Pa();let r=e.base;const i=["small","medium","large","xlarge","xxlarge"];for(const o of i){const s=n[o];t>=s&&e[o]!==void 0&&(r=e[o])}return r}function pS(e,t,n){const{up:r}=Pa(),[i,o]=ne.useState(!1);ne.useEffect(()=>o(!0),[]);const s=i&&r("medium"),l=i&&r("xlarge");let c;return e?c=e:s?c="two-column":c="list",!e&&t&&n&&l&&(c="three-column"),{effectiveLayout:c,hydrated:i,isAtLeastMedium:s,isAtLeastXlarge:l}}function mS(e){const{enabled:t,isAtLeastMedium:n,initiallyCollapsed:r,persist:i,storageKey:o,urlParam:s,onChange:l}=e,c=ne.useMemo(()=>{if(i&&(i==="url"||i==="both")&&typeof window<"u"){const h=new URLSearchParams(window.location.search).get(s);if(h==="1")return!0;if(h==="0")return!1}if(i&&(i==="localStorage"||i==="both")&&typeof window<"u")try{const p=window.localStorage.getItem(o);if(p==="1")return!0;if(p==="0")return!1}catch{}return r},[i,r,o,s]),[u,d]=ne.useState(c);ne.useEffect(()=>{l?.(u)},[u,l]);const f=ne.useCallback(()=>{t&&n&&d(p=>!p)},[t,n]);return ne.useEffect(()=>{if(!(!i||typeof window>"u")){if(i==="localStorage"||i==="both")try{window.localStorage.setItem(o,u?"1":"0")}catch{}if(i==="url"||i==="both"){const p=new URLSearchParams(window.location.search);p.set(s,u?"1":"0");const h=`${window.location.pathname}?${p.toString()}${window.location.hash}`;window.history.replaceState(null,"",h)}}},[u,i,o,s]),{collapsed:u,toggle:f}}function Cp(e){const{items:t,selectedId:n,defaultSelectedId:r,onSelectionChange:i,renderItemContent:o,renderContent:s,renderSecondaryContent:l,forceLayout:c,animated:u=!0,backLabel:d="Back",nextLabel:f="Next",isLoading:p=!1,emptyState:h,a11y:g,className:m,getId:y=je=>je.id,orientation:C="vertical",autoEnableThirdColumn:N=!0,onDrillChange:j,navigationInstructions:w="Use arrow keys to navigate, Enter to open.",initialFocus:b="first",skipFocusOnSelect:S=!1,skipAnnouncements:M=!1,onFocusChange:x,syncUrl:v=!1,urlParamSelected:_="nsv",urlParamDrill:E="nsvDrill",urlSyncDebounceMs:D=0,lazySecondary:B=!1,navFooter:A,collapsibleNav:I=!1,navInitiallyCollapsed:L=!1,onNavCollapseChange:F,collapseToggleLabelShow:G="Show navigation",collapseToggleLabelHide:ee="Hide navigation",collapseToggleIconShow:T,collapseToggleIconHide:X,persistNavCollapsed:O,navCollapsedStorageKey:$="nsvCollapsed",navCollapsedUrlParam:V="nsvCollapsed",autoContentHeader:Y,contentHeaderLevel:R=2,renderContentHeader:J,contentSubheader:te,secondarySubheader:K}=e,{effectiveLayout:oe,hydrated:ye,isAtLeastMedium:Z}=pS(c,N,!!l),se=Sp({enabled:v,paramSelected:_,paramDrill:E}),[de,Ce]=ne.useState(()=>se.selectedId!==void 0?se.selectedId:r),be=n!==void 0?n:de,q=t.find(je=>y(je)===be),[Ge,Pe]=ne.useState(void 0);ne.useEffect(()=>{if(be===void 0)return;Pe(be);const je=setTimeout(()=>Pe(void 0),220);return()=>clearTimeout(je)},[be]);const $e=ne.useRef(null),xe=ne.useRef(null),z=ne.useRef(null),Q=ne.useRef(null),[fe,me]=ne.useState(()=>({contentIndex:0,secondaryIndex:0})),[_e,H]=ne.useState(()=>"nav"),[W,le]=ne.useState(0),re=()=>[Q.current,xe.current,z.current].filter(Boolean),ce=je=>{const ze=re(),qe=Math.max(0,Math.min(je,ze.length-1));ve(ze[qe]),le(qe)},ue=ne.useCallback(je=>je?Array.from(je.querySelectorAll('button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])')).filter(qe=>!qe.hasAttribute("disabled")&&qe.tabIndex!==-1):[],[]),ve=ne.useCallback(je=>{if(je)try{je.focus({preventScroll:!0})}catch{je.focus()}},[]),Me=ne.useCallback(je=>{const ze=ue(xe.current);if(!ze.length){ve(xe.current);return}const qe=Math.max(0,Math.min(je,ze.length-1)),Je=ze[qe];Je.focus(),setTimeout(()=>{document.activeElement!==Je&&(Je.focus(),setTimeout(()=>{document.activeElement!==Je&&Je.click()},10))},10),me(nt=>({...nt,contentIndex:qe}));const ut=nt=>{nt.key==="Escape"&&(nt.preventDefault(),nt.stopPropagation(),ve(xe.current),Je.removeEventListener("keydown",ut))};ze.forEach(nt=>{const gt=nt._escapeHandler;gt&&nt.removeEventListener("keydown",gt)}),Je._escapeHandler=ut,Je.addEventListener("keydown",ut)},[ue]),Ae=ne.useCallback(je=>{const ze=ue(z.current);if(!ze.length){ve(z.current);return}const qe=Math.max(0,Math.min(je,ze.length-1)),Je=ze[qe];Je.focus(),setTimeout(()=>{document.activeElement!==Je&&(Je.focus(),setTimeout(()=>{document.activeElement!==Je&&Je.click()},10))},10),me(nt=>({...nt,secondaryIndex:qe}));const ut=nt=>{nt.key==="Escape"&&(nt.preventDefault(),nt.stopPropagation(),ve(z.current),Je.removeEventListener("keydown",ut))};ze.forEach(nt=>{const gt=nt._escapeHandler;gt&&nt.removeEventListener("keydown",gt)}),Je._escapeHandler=ut,Je.addEventListener("keydown",ut)},[ue]),Ye=je=>{if(je.defaultPrevented)return;const ze=je.key,qe=je.target,Je=!!ae.current&&ae.current.contains(qe),ut=!!xe.current&&xe.current.contains(qe),nt=!!z.current&&z.current.contains(qe),gt=!!z.current,Tr=qe===Q.current||qe===xe.current||qe===z.current,$t=Ze&&(oe==="list"||oe==="cards"),Ct=ut&&!!qe.closest(".nhs-navigation-split-view__header");if(_e==="containers"&&Tr){if(ze==="ArrowRight"){je.preventDefault();const Qe=re(),yt=Math.min(Qe.length-1,W+1);ce(yt);return}if(ze==="ArrowLeft"){je.preventDefault();const Qe=Math.max(0,W-1);ce(Qe);return}if(ze==="Home"){je.preventDefault(),ce(0);return}if(ze==="End"){je.preventDefault(),ce(re().length-1);return}if(ze==="Enter"||ze===" "){if(je.preventDefault(),qe===Q.current){if(H("nav"),ae.current){const Qe=Array.from(ae.current.querySelectorAll("[data-nav-item]"));(Qe[ge>=0?ge:0]||Qe[0])?.focus()}}else qe===xe.current?(H("content"),Me(fe.contentIndex)):qe===z.current&&(H("secondary"),Ae(fe.secondaryIndex));return}return}if(ze==="Escape"){if(_e==="content"||_e==="secondary"){if(ut||nt){if(je.preventDefault(),H("nav"),ae.current){const yt=Array.from(ae.current.querySelectorAll("[data-nav-item]"))[ge>=0?ge:0];setTimeout(()=>yt?.focus(),10)}}else if((qe===xe.current||qe===z.current)&&(je.preventDefault(),H("nav"),ae.current)){const yt=Array.from(ae.current.querySelectorAll("[data-nav-item]"))[ge>=0?ge:0];setTimeout(()=>yt?.focus(),10)}}return}if(ze==="Enter"||ze===" "){if(qe.matches('button, a, input, select, textarea, [role="button"], [role="link"], [role="tab"]'))return;if(qe===xe.current&&_e==="content"){je.preventDefault(),je.stopPropagation(),ue(xe.current).length>0&&setTimeout(()=>{Me(fe.contentIndex)},50);return}if(qe===z.current&&_e==="secondary"){je.preventDefault(),je.stopPropagation(),ue(z.current).length>0&&setTimeout(()=>{Ae(fe.secondaryIndex)},50);return}}if($t&&Ct&&!Tr&&(ze==="ArrowRight"||ze==="ArrowLeft")){const Qe=ue(xe.current).filter(yt=>yt.closest(".nhs-navigation-split-view__header"));if(Qe.length>1){const yt=Qe.indexOf(qe);if(yt>=0){const Kr=(yt+(ze==="ArrowRight"?1:-1)+Qe.length)%Qe.length;je.preventDefault(),Qe[Kr].focus();return}}}if(ze==="ArrowRight"){if(Je||_e==="nav"){je.preventDefault(),H("content"),setTimeout(()=>ve(xe.current),10);return}if(ut||_e==="content"){gt&&(je.preventDefault(),H("secondary"),setTimeout(()=>ve(z.current),10));return}}if(ze==="ArrowLeft"){if(nt||_e==="secondary"){je.preventDefault(),H("content"),setTimeout(()=>ve(xe.current),10);return}if(ut||_e==="content"){if(je.preventDefault(),H("nav"),ae.current){const yt=Array.from(ae.current.querySelectorAll("[data-nav-item]"))[ge>=0?ge:0];setTimeout(()=>ve(yt),10)}return}}if(ze==="Home"&&!Je&&(je.preventDefault(),H("nav"),ae.current)){const Qe=Array.from(ae.current.querySelectorAll("[data-nav-item]")),yt=Qe[ge>=0?ge:0]||Qe[0];setTimeout(()=>ve(yt),10)}if(ze==="End"){const Qe=gt?z.current:xe.current;Qe&&!Qe.contains(qe)&&(je.preventDefault(),gt?(H("secondary"),setTimeout(()=>ve(z.current),10)):(H("content"),setTimeout(()=>ve(xe.current),10)))}if(ze==="ArrowDown"||ze==="ArrowUp"){if(qe===xe.current&&ze==="ArrowDown"){je.preventDefault(),ue(xe.current).length>0&&Me(0);return}if(qe===z.current&&ze==="ArrowDown"){je.preventDefault(),ue(z.current).length>0&&Ae(0);return}if(ut){const Qe=ue(xe.current);if(Qe.length){je.preventDefault();const yt=ze==="ArrowDown"?1:-1,Ln=(fe.contentIndex+yt+Qe.length)%Qe.length;Me(Ln)}}else if(nt){const Qe=ue(z.current);if(Qe.length){je.preventDefault();const yt=ze==="ArrowDown"?1:-1,Ln=(fe.secondaryIndex+yt+Qe.length)%Qe.length;Ae(Ln)}}}},Ze=!!q&&(oe==="list"||oe==="cards"),ct=ne.useMemo(()=>Y===void 0?{mobile:!0,tablet:!1,desktop:!1}:Y===!0?{mobile:!0,tablet:!0,desktop:!0}:Y===!1?{mobile:!1,tablet:!1,desktop:!1}:{mobile:Y.mobile!==void 0?Y.mobile:!0,tablet:Y.tablet||!1,desktop:Y.desktop||!1},[Y]),Be=ye&&Z&&oe!=="three-column",he=ye&&oe==="three-column",Fe=!!l,U=oe==="three-column",[ie,Ne]=ne.useState(!1);ne.useEffect(()=>{U&&ie&&Ne(!1)},[U,ie]),ne.useEffect(()=>{ie&&!U&&(H("secondary"),le(2),setTimeout(()=>{ve(z.current)},50))},[ie,U]),ne.useEffect(()=>{!ie&&!U&&_e==="secondary"&&(H("content"),le(1),setTimeout(()=>{ve(xe.current)},50))},[ie,U,_e]);const ke=!!q&&(Ze&&ct.mobile||!Ze&&Be&&ct.tablet||!Ze&&he&&ct.desktop)||Fe&&!U,De=Ze?"mobile":Be?"tablet":"desktop";ne.useEffect(()=>{if(!v)return;const je=oe==="three-column";let ze=!1;const qe=()=>{ze||(se.selectedId!==be&&se.setSelectedId(be),se.drilledIn!==je&&se.setDrilledIn(je))};if(D&&D>0){const Je=setTimeout(qe,D);return()=>{ze=!0,clearTimeout(Je)}}else qe()},[v,se,be,oe,D]),ne.useEffect(()=>{if(!v)return;const je=()=>{const ze=new URLSearchParams(window.location.search),qe=ze.get(_);ze.get(E),Ce(qe===null?void 0:qe)};return window.addEventListener("popstate",je),()=>window.removeEventListener("popstate",je)},[v,_,E,c,l]);const Te=ne.useRef(0),pe=ne.useRef(null),we=ne.useCallback((je,ze)=>{je!==be&&(n===void 0&&Ce(je),i?.(je,ze))},[n,i,be]);ne.useEffect(()=>{if(!S&&Ze&&xe.current){const je=setTimeout(()=>ve(xe.current),30);return()=>clearTimeout(je)}},[Ze,be,S]);const ae=ne.useRef(null),[ge,Ie]=ne.useState(()=>b==="first"?0:-1);ne.useEffect(()=>{if(ge<0||!ae.current)return;const ze=Array.from(ae.current.querySelectorAll("[data-nav-item]"))[ge];if(ze){document.activeElement!==ze&&ve(ze),Te.current=ge;const qe=t[ge];x?.(qe?y(qe):void 0,qe,ge)}},[ge,t,x,y]);const Re=je=>{const ze=C==="vertical"?"ArrowDown":"ArrowRight",qe=C==="vertical"?"ArrowUp":"ArrowLeft";if(je.key==="ArrowRight"&&C==="vertical"){je.preventDefault(),ie?(H("secondary"),setTimeout(()=>{ve(z.current)},10)):(H("content"),setTimeout(()=>{ve(xe.current)},10));return}if(je.key===ze)je.preventDefault(),Ie(Je=>Math.min(t.length-1,Je+1));else if(je.key===qe)je.preventDefault(),Ie(Je=>Math.max(0,Je-1));else if(je.key==="Home")je.preventDefault(),Ie(0);else if(je.key==="End")je.preventDefault(),Ie(t.length-1);else if(je.key==="Enter"||je.key===" "){je.preventDefault();const Je=t[ge];Je&&!Je.disabled&&we(y(Je),Je)}else if(je.key.length===1&&/[a-z0-9]/i.test(je.key)){pe.current||(pe.current={buffer:"",last:0});const Je=Date.now(),ut=700,nt=je.key.toLowerCase();Je-pe.current.last>ut?pe.current.buffer=nt:pe.current.buffer+=nt,pe.current.last=Je;let gt=pe.current.buffer;const Tr=gt.split("").every(Ln=>Ln===gt[0]),$t=t.map(Ln=>String(Ln.label||"").toLowerCase());let Ct=0;ge>=0&&(Ct=(ge+1)%t.length);let Qe;const yt=(Ln,Kr)=>{const An=t.length;for(let Dr=0;Dr<An;Dr++){const Qr=(Ct+Dr)%An;if(!t[Qr].disabled&&$t[Qr].startsWith(Ln))return Qr}};Tr&&gt.length>1?Qe=yt(gt[0]):(Qe=yt(gt),Qe===void 0&&gt.length>1&&(Qe=yt(gt[gt.length-1]),Qe!==void 0&&pe.current&&(pe.current.buffer=gt[gt.length-1]))),Qe!==void 0&&Ie(Qe)}},{collapsed:Ee,toggle:Le}=mS({enabled:I,isAtLeastMedium:Z,initiallyCollapsed:L,persist:O,storageKey:$,urlParam:V,onChange:F}),He=["nhs-navigation-split-view",u?"nhs-navigation-split-view--animated":"",Ze?"nhs-navigation-split-view--detail-active":"",oe==="three-column"?"nhs-navigation-split-view--three-column":"",I&&Z&&Ee?"nhs-navigation-split-view--nav-collapsed":"",m].filter(Boolean).join(" "),xt=ne.useRef(null);ne.useEffect(()=>{if(!M&&xt.current){const je=q?`Selected ${q.label}`:"Selection cleared";xt.current.textContent=je}},[q,M]),ne.useEffect(()=>{if(!Ze&&be==null&&ae.current){const ze=ae.current.querySelectorAll("[data-nav-item]")[Te.current];ve(ze)}},[Ze,be]);const lt=oe==="three-column",[mt,ht]=ne.useState(!1);ne.useEffect(()=>{lt&&!mt&&ht(!0)},[lt,mt]);const xn=ne.useRef(lt);return ne.useEffect(()=>{xn.current!==lt&&(j?.(lt),xn.current=lt)},[lt,j]),a.jsx("div",{ref:$e,className:He,"aria-label":g?.rootLabel,"data-layout":oe,onKeyDown:Ye,children:a.jsxs("div",{className:"nhs-navigation-split-view__body",children:[a.jsxs("div",{className:"nhs-navigation-split-view__panes","data-active-detail":Ze||void 0,style:{transform:Ze?"translateX(-100%)":void 0},children:[a.jsxs("div",{ref:Q,className:"nhs-navigation-split-view__nav-pane",role:"navigation","aria-label":g?.navigationLabel||"Items","data-collapsed":Ee||void 0,tabIndex:0,children:[I&&Z&&a.jsx("div",{className:"nhs-navigation-split-view__nav-collapse",children:a.jsx("button",{type:"button",onClick:Le,className:"nhs-navigation-split-view__nav-collapse-btn","aria-label":Ee?G:ee,title:Ee?G:ee,children:Ee?T||a.jsx(uS,{}):X||a.jsx(cS,{})})}),a.jsx("div",{className:"nhs-navigation-split-view__nav-scroll",children:a.jsx(fS,{layout:oe==="cards"?"cards":"list",items:t,getId:y,selectedId:be,isLoading:p,emptyState:h,renderItemContent:o,onSelect:(je,ze,qe)=>{Te.current=qe,we(je,ze)},orientation:C,initialFocus:b,onFocusChange:x,justSelectedId:Ge,listRef:ae,onKeyDownList:Re,navigationInstructions:w,controlledFocusedIndex:ge})}),A&&a.jsx("div",{className:"nhs-navigation-split-view__nav-footer",role:"contentinfo",children:A})]}),a.jsxs("div",{ref:xe,className:"nhs-navigation-split-view__content-pane",role:"region","aria-label":g?.contentLabel||"Content","data-has-selection":!!q||void 0,tabIndex:0,style:{display:ie&&!U?"none":void 0},children:[ke&&a.jsx(dS,{show:ke,label:q?q.label:void 0,contentHeaderLevel:R,detailActive:Ze,headerContext:De,backLabel:d,nextLabel:f,onBack:()=>we(void 0,void 0),onForward:()=>Ne(!0),renderContentHeader:J,item:q,contentSubheader:te,tertiaryInlineActive:ie}),a.jsx("div",{className:"nhs-navigation-split-view__content-inner",style:{padding:32,flex:1},children:s(q)})]}),oe==="three-column"&&(!B||mt)||ie&&!U?a.jsx("div",{ref:z,className:"nhs-navigation-split-view__secondary-pane",role:"region","aria-label":g?.secondaryContentLabel||"Secondary",tabIndex:0,children:a.jsxs("div",{className:"nhs-navigation-split-view__secondary-inner",style:{display:"flex",flexDirection:"column",flex:1,minWidth:0},children:[ie&&!U&&a.jsx("div",{className:"nhs-navigation-split-view__header",children:a.jsx("div",{style:{display:"flex",alignItems:"center",width:"100%"},children:a.jsxs("div",{style:{display:"flex",alignItems:"center",gap:0,flex:"1 1 auto",minWidth:0},children:[a.jsx(Li,{element:"button",text:d,style:{marginRight:16},onClick:()=>Ne(!1)}),a.jsx("div",{style:{display:"flex",flexDirection:"column",gap:4,minWidth:0},children:a.jsx("h2",{style:{marginLeft:0,marginRight:0},children:q&&typeof q=="object"&&"label"in q?q.label:String(q)})})]})})}),q&&K&&a.jsx("div",{className:"nhs-navigation-split-view__secondary-header",style:{padding:"16px 32px",borderBottom:"1px solid var(--nsplit-divider)"},children:typeof K=="function"?K(q):K}),a.jsx("div",{style:{padding:32,flex:1,minWidth:0},children:l?.(q)})]})}):null]}),a.jsx("div",{ref:xt,"aria-live":"polite","aria-atomic":"true",style:{position:"absolute",width:1,height:1,overflow:"hidden",clip:"rect(0 0 0 0)"}}),a.jsx("div",{"aria-live":"polite",style:{position:"absolute",width:1,height:1,overflow:"hidden",clip:"rect(0 0 0 0)"},children:lt?"Expanded to three column layout":"In two column layout"})]})})}Cp.displayName="NavigationSplitView";function gS({steps:e,currentIndex:t,onNavigate:n,renderCard:r,className:i,ariaLabel:o="Steps"}){const s=ne.useRef(null),l=c=>{if(e?.length)if(c.key==="ArrowLeft"||c.key==="ArrowUp"){c.preventDefault();const u=Math.max(0,t-1);u!==t&&n?.(u)}else if(c.key==="ArrowRight"||c.key==="ArrowDown"){c.preventDefault();const u=Math.min(e.length-1,t+1);u!==t&&n?.(u)}else c.key==="Home"?(c.preventDefault(),n?.(0)):c.key==="End"&&(c.preventDefault(),n?.(e.length-1))};return a.jsx("div",{className:i,"aria-label":o,role:"region",children:a.jsx("div",{className:"nhsfdp-cards-viewport",role:"group","aria-roledescription":"steps",tabIndex:0,onKeyDown:l,children:a.jsx("div",{ref:s,className:"nhsfdp-cards-track",style:{transform:`translate3d(-${Math.max(0,t)*100}%, 0, 0)`},children:e.map((c,u)=>{const d=u===t;return a.jsx("div",{className:"nhsfdp-pane mobile-pane"+(d?" is-current":""),role:"group","aria-roledescription":"step","aria-label":(c.label??`Step ${u+1}`).toString(),"aria-hidden":!d,onClick:f=>{if(f.defaultPrevented)return;const p=f.target;p&&p.closest('button, a, input, select, textarea, [role="button"], [role="link"], [contenteditable="true"], [data-prevent-card-click]')||n?.(u)},children:r(c,u,d)},u)})})})})}function yS({steps:e,currentIndex:t,onNavigate:n,renderLabel:r,ariaLabel:i="Breadcrumbs",className:o,style:s}){const l=e.map((u,d)=>{const f=d===t,p=d<t,h=r?r(u,d):u.label??`Step ${d+1}`;return{text:String(h),href:p?"#":void 0,active:f,attributes:p?{"data-index":String(d)}:void 0}}),c=u=>{const f=u.target.closest("a.nhsuk-breadcrumb__link, a.nhsuk-breadcrumb__backlink");if(!f)return;if(f.classList.contains("nhsuk-breadcrumb__backlink")){u.preventDefault();const h=Math.max(0,t-1);h!==t&&n?.(h);return}const p=f.getAttribute("data-index");if(p!=null){u.preventDefault();const h=parseInt(p,10);Number.isNaN(h)||n?.(h)}};return a.jsx("div",{style:s,onClick:c,children:a.jsx(Bc,{labelText:i,classes:o,items:l})})}function bS(e){const{up:t}=Pa(),[n,r]=ne.useState(!1);ne.useEffect(()=>r(!0),[]);const i=n&&t("medium")&&!t("xlarge"),o=n&&t("xlarge"),s=o?"desktop":i?"tablet":"mobile",l=ne.useMemo(()=>{if(!e.step||!e.layoutForStep)return s==="mobile"?{panes:1,showPrimaryNav:!1,showSecondaryNav:!1}:s==="tablet"?{panes:2,showPrimaryNav:!0,showSecondaryNav:!1}:{panes:3,showPrimaryNav:!0,showSecondaryNav:!0};try{return e.layoutForStep({step:e.step,index:e.index,breakpoint:s})||{}}catch{return{}}},[e.step,e.index,e.layoutForStep,s]);return{hydrated:n,breakpoint:s,isTablet:i,isDesktop:o,paneConfig:l}}function vS(e){const{steps:t,currentStepId:n,defaultStepId:r,onStepChange:i,layoutForStep:o,renderStepCard:s,renderStepContent:l,renderSecondaryContent:c,renderSecondaryNav:u,renderBreadcrumbs:d,className:f,getId:p=he=>he.id,enableTabletGrid:h=!1,isStepComplete:g,showMobileControls:m,currentSectionId:y,defaultSectionIdForStep:C,onSectionChange:N}=e,j=typeof window<"u"&&!!window.__WSV_DEBUG_FOCUS||!1,w=(...he)=>{j&&console.log("[WorkflowSplitView]",...he)},b=()=>{if(typeof document>"u")return{};const he=document.activeElement,Fe=he?.getAttribute?.("role");return{activeTag:he?.tagName,activeId:he?.id,activeRole:Fe,activeClasses:he?.className}},[S,M]=P.useState(r??(t[0]?p(t[0]):void 0)),x=n??S,v=t.findIndex(he=>p(he)===x),_=v>=0?t[v]:t[0],[E,D]=P.useState({}),B=he=>he?String(p(he)):"",A=P.useCallback(he=>{if(!he)return;try{const U=C?.(he);if(U!==void 0)return U}catch{}const Fe=he.sections&&he.sections[0];return Fe?Fe.id:void 0},[C]),I=y??E[B(_)]??A(_),L=_&&_.sections?_.sections:void 0,F=L?.find(he=>he.id===I),G=he=>{if(_){const Fe=B(_);y===void 0&&D(U=>({...U,[Fe]:he})),N?.(he,L?.find(U=>U.id===he),_)}},ee=he=>{w("navigateTo",String(he)),n===void 0&&M(he);const Fe=t.find(U=>p(U)===he);Fe&&i&&i(he,Fe)},T=d?d({steps:t,current:_,onNavigate:ee}):a.jsx(yS,{steps:t,currentIndex:Math.max(0,v),onNavigate:he=>{const Fe=t[he];Fe&&ee(p(Fe))}}),{hydrated:X,breakpoint:O,paneConfig:$}=bS({step:_,index:v,layoutForStep:o}),V=n!==void 0||r!==void 0&&t.length>0&&t[0]&&r!==p(t[0]),Y=P.useRef(null),R=P.useRef(null),J=P.useRef(null),te=P.useRef(null),K=P.useRef(null),oe=P.useRef(0),ye=P.useRef(!1),Z=P.useRef(!1),se=P.useRef(null),[de,Ce]=P.useState("nav"),be=P.useRef("nav");P.useEffect(()=>{be.current=de,de!=="nav"&&z(!1),de!=="content"&&fe(!1),de!=="secondary"&&_e(!1)},[de]);const[q,Ge]=P.useState(0),[Pe,$e]=P.useState(()=>Math.max(0,v)),[xe,z]=P.useState(!1),[Q,fe]=P.useState(!1),[me,_e]=P.useState(!1),H=P.useCallback(he=>{if(he){try{he.focus({preventScroll:!0})}catch{he.focus()}w("focusEl",{to:he.tagName,id:he.id,class:he.className})}},[]),W=P.useCallback(()=>{const he=()=>J.current;let Fe=0;const U=()=>{const ie=he();ie&&document.activeElement!==ie&&H(ie),Fe+=1,Fe<6&&document.activeElement!==he()&&setTimeout(U,0)};w("focusContentSoon:start",{attempts:Fe}),U(),typeof queueMicrotask=="function"&&queueMicrotask(U),requestAnimationFrame(U)},[H]),le=P.useCallback(he=>he?Array.from(he.querySelectorAll('button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])')).filter(U=>!U.hasAttribute("disabled")&&U.tabIndex!==-1):[],[]),re=()=>[R.current,J.current,te.current].filter(Boolean),ce=(he,Fe)=>{if(!he)return;const U=typeof document<"u"?document.activeElement:null;if(U&&he.contains(U))try{U.blur(),w("blurActiveIfInside",{label:Fe,root:he.getAttribute("aria-label")||he.tagName})}catch{}},ue=()=>{const he=typeof document<"u"?document.activeElement:null;if(he&&R.current&&R.current.contains(he))try{he.blur(),w("blurActiveIfInNav: blurred active element inside nav")}catch{}},ve=he=>{const Fe=re(),U=Math.max(0,Math.min(he,Fe.length-1));w("focusContainerByIndex",{idx:he,clamped:U}),H(Fe[U]),Ge(U)},Me=P.useCallback(he=>{let Fe=0;const U=he??Pe,ie=()=>{const Se=K.current;if(!Se)return null;const ke=Array.from(Se.querySelectorAll("[data-nav-item]"));return ke[U]||ke[0]||null},Ne=()=>{if(be.current!=="nav"){w("focusNavItemSoon: abort (mode changed)",{mode:be.current});return}const Se=ie();Se&&document.activeElement!==Se&&H(Se),Fe+=1,Fe<6&&document.activeElement!==Se&&setTimeout(Ne,0)};w("focusNavItemSoon:start",{index:U,...b()}),Ne(),typeof queueMicrotask=="function"&&queueMicrotask(Ne),requestAnimationFrame(Ne)},[H,Pe]);P.useEffect(()=>{if(!X)return;O==="desktop"||h&&O==="tablet"?V?(Ce("nav"),Ge(0),w("init: grid preselected â†’ mode=nav",{containerIndex:0})):(Ce("containers"),Ge(0),w("init: grid default â†’ mode=containers",{containerIndex:0})):(Ce("nav"),w("init: non-grid â†’ mode=nav"))},[X,O,V,h]),P.useEffect(()=>()=>{se.current!=null&&(clearTimeout(se.current),se.current=null,w("cleanup: cleared nav bootstrap timeout"))},[]),P.useEffect(()=>{const he=Math.max(0,v);$e(he),w("sync navFocusedIndex with currentIndex",{currentIndex:v,navFocusedIndex:he})},[v]),P.useEffect(()=>{w("paneFocusMode â†’",de,b())},[de]);const Ae=he=>{if(!(X&&(O==="desktop"||h&&O==="tablet")))return;const U=he.key,ie=he.target,Ne=ie.tagName.toLowerCase(),Se=Ne==="input"||Ne==="textarea"||Ne==="select",ke=ie.getAttribute("role"),De=ke==="textbox"||ke==="searchbox"||ke==="combobox",Te=ie.getAttribute("contenteditable"),pe=Se||De||Te&&Te!=="false";if(w("onRootKeyDown",{key:U,tag:Ne,role:ke,isEditable:pe,paneFocusMode:de,containerIndex:q,...b()}),pe&&["ArrowLeft","ArrowRight","ArrowUp","ArrowDown","Home","End"].includes(U))return;const we=!!K.current&&K.current.contains(ie),ae=!!J.current&&J.current.contains(ie),ge=!!te.current&&te.current.contains(ie),Ie=ie===R.current||ie===J.current||ie===te.current,Re=!!te.current;if(Ie){if(U==="ArrowLeft"&&ie===J.current){he.preventDefault(),w("container: ArrowLeft on content container â†’ nav item"),Ce("nav"),ce(J.current,"from-content"),oe.current=Pe,Me(Pe);return}if(U==="ArrowRight"&&ie===J.current&&Re){he.preventDefault(),w("container: ArrowRight on content container â†’ secondary"),Ce("secondary"),ce(J.current,"from-content"),fe(!1),setTimeout(()=>H(te.current),10);return}if(U==="ArrowRight"&&ie===R.current){he.preventDefault(),w("container: ArrowRight on nav container â†’ content"),Ce("content"),ce(R.current,"from-nav"),z(!1),W();return}if(U==="ArrowLeft"&&ie===te.current){he.preventDefault(),w("container: ArrowLeft on secondary container â†’ content"),Ce("content"),ce(te.current,"from-secondary"),_e(!1),W();return}if(U==="ArrowRight"){he.preventDefault(),w("container: ArrowRight â†’ next container"),ce(ie,"container-roving"),ie===R.current&&z(!1),ie===J.current&&fe(!1),ie===te.current&&_e(!1),ve(q+1);return}if(U==="ArrowLeft"){he.preventDefault(),w("container: ArrowLeft â†’ prev container"),ce(ie,"container-roving"),ie===R.current&&z(!1),ie===J.current&&fe(!1),ie===te.current&&_e(!1),ve(q-1);return}if(U==="Home"){he.preventDefault(),w("container: Home â†’ first container"),ce(ie,"container-roving"),ie===R.current&&z(!1),ie===J.current&&fe(!1),ie===te.current&&_e(!1),ve(0);return}if(U==="End"){he.preventDefault(),w("container: End â†’ last container"),ce(ie,"container-roving"),ie===R.current&&z(!1),ie===J.current&&fe(!1),ie===te.current&&_e(!1),ve(re().length-1);return}if(U==="Enter"||U===" "){if(he.preventDefault(),ie===R.current)Ce("nav"),w("container: Enter/Space on nav â†’ focus nav item",{navFocusedIndex:Pe}),oe.current=Pe,Z.current=!0,Me(Pe);else if(ie===J.current){Ce("content"),ce(J.current,"descend-content"),fe(!1);const Ee=le(J.current);w("container: Enter/Space on content â†’ focus first focusable",{count:Ee.length}),(Ee[0]||J.current)?.focus()}else if(ie===te.current){Ce("secondary"),ce(te.current,"descend-secondary"),_e(!1);const Ee=le(te.current);w("container: Enter/Space on secondary â†’ focus first focusable",{count:Ee.length}),(Ee[0]||te.current)?.focus()}return}}if(U==="Escape"){if(ae||ge){he.preventDefault(),Ce("containers"),w("Escape: from",ae?"content":"secondary","â†’ containers (focus container)"),ae&&ce(J.current,"escape-ascend"),ge&&ce(te.current,"escape-ascend"),ae&&setTimeout(()=>H(J.current),10),ge&&setTimeout(()=>H(te.current),10);return}if(we){he.preventDefault(),Ce("containers"),w("Escape: from nav â†’ containers (focus nav container)"),ue(),H(R.current);return}if(Ie){he.preventDefault(),Ce("containers"),w("Escape: on container (stay in containers)");return}}if(U==="Enter"||U===" "){if(ie===J.current&&de==="content"){he.preventDefault(),ce(J.current,"descend-content");const Ee=le(J.current);w("Enter/Space on content container in content mode"),(Ee[0]||J.current)?.focus();return}if(ie===te.current&&de==="secondary"){he.preventDefault(),ce(te.current,"descend-secondary");const Ee=le(te.current);w("Enter/Space on secondary container in secondary mode"),(Ee[0]||te.current)?.focus();return}}if(U==="ArrowRight"){if(we||de==="nav"){he.preventDefault(),Ce("content"),w("ArrowRight: from nav â†’ content (focus content)"),ce(R.current,"from-nav"),z(!1),W();return}if(ae||de==="content"){Re&&(he.preventDefault(),Ce("secondary"),w("ArrowRight: from content â†’ secondary (focus secondary)"),ce(J.current,"from-content"),fe(!1),setTimeout(()=>H(te.current),10));return}}if(U==="ArrowLeft"){if(ge||de==="secondary"){he.preventDefault(),w("ArrowLeft: from secondary â†’ content (focus content)"),ce(te.current,"from-secondary"),_e(!1),W();return}if(ae||de==="content"){he.preventDefault(),Ce("nav"),w("ArrowLeft: from content â†’ nav (focus nav item)",{navFocusedIndex:Pe}),oe.current=Pe,ce(J.current,"from-content"),fe(!1),Me(Pe);return}}if((U==="Enter"||U===" ")&&(we||de==="nav")){he.preventDefault();const Ee=K.current,Le=Ee?Array.from(Ee.querySelectorAll("[data-nav-item]")):[];let He=oe.current??Pe;if(Le.length){const xt=document.activeElement,lt=xt?Le.indexOf(xt):-1;lt>=0&&(He=lt)}He=Math.max(0,Math.min(He,Le.length-1)),$e(He),oe.current=He,w("Root: Enter/Space activate from nav context",{idx:He}),ee(p(t[He])),Ce("content"),be.current="content",ye.current=!0,ue(),W();return}},Ye=()=>{const he=()=>{ye.current=!1,Z.current=!1},Fe=Se=>{if(!K.current)return;const ke=Array.from(K.current.querySelectorAll("[data-nav-item]"));if(ke.length){if(Se.key==="ArrowDown"){Se.preventDefault(),Se.stopPropagation(),Z.current=!1,Ce("nav");const De=oe.current??Pe,Te=Math.min(ke.length-1,De+1);$e(Te),oe.current=Te,Me(Te),w("PrimaryNav: ArrowDown",{from:De,to:Te})}else if(Se.key==="ArrowUp"){Se.preventDefault(),Se.stopPropagation(),Z.current=!1,Ce("nav");const De=oe.current??Pe,Te=Math.max(0,De-1);$e(Te),oe.current=Te,Me(Te),w("PrimaryNav: ArrowUp",{from:De,to:Te})}else if(Se.key==="Home"){Se.preventDefault(),Se.stopPropagation(),Z.current=!1;const De=0;$e(De),oe.current=De,Me(De),w("PrimaryNav: Home",{to:De})}else if(Se.key==="End"){Se.preventDefault(),Se.stopPropagation(),Z.current=!1;const De=ke.length-1;$e(De),oe.current=De,Me(De),w("PrimaryNav: End",{to:De})}}},U=Se=>{},ie=Se=>{if(Se.key!=="Enter"&&Se.key!==" "||!K.current)return;const ke=Array.from(K.current.querySelectorAll("[data-nav-item]"));if(!ke.length)return;Se.preventDefault();let De=-1;const pe=Se.target?.closest?.("[data-nav-item]");pe&&(De=ke.indexOf(pe)),De<0&&(De=oe.current??Pe),De=Math.max(0,Math.min(De,ke.length-1)),$e(De),oe.current=De,w("PrimaryNav: Enter/Space activate (capture)",{idx:De}),ee(p(t[De])),Ce("content"),be.current="content",ye.current=!0,se.current!=null&&(clearTimeout(se.current),se.current=null),ue(),W()},Ne=Se=>{if(Se.defaultPrevented)return;ye.current=!1;const ke=Se.target;if(!ke)return;const De=ke.closest("[data-nav-item]");if(!De||!K.current||!K.current.contains(De))return;const pe=Array.from(K.current.querySelectorAll("[data-nav-item]")).indexOf(De);pe<0||($e(pe),oe.current=pe,w("PrimaryNav: click delegate activate",{idx:pe}),ee(p(t[pe])),Ce("content"),ue(),se.current!=null&&(clearTimeout(se.current),se.current=null),W())};return a.jsx("ul",{ref:K,className:"nhsfdp-primary-nav",role:"listbox","aria-activedescendant":String(p(t[Math.max(0,Pe)])),onKeyDownCapture:ie,onKeyDown:Fe,onKeyUp:U,onPointerDown:he,onMouseDown:he,onClick:Ne,children:t.map((Se,ke)=>{const De=p(Se),Te=ke===v,pe=de==="nav"&&ke===Pe;return a.jsx("li",{id:String(De),role:"option","aria-selected":Te,children:a.jsx("button",{"data-nav-item":!0,tabIndex:pe?0:-1,type:"button",className:"nhsfdp-primary-nav__item"+(Te?" is-current":"")+(pe?" is-focused":""),"aria-current":Te?"step":void 0,onPointerDown:he,onMouseDown:he,onKeyDown:we=>{if(we.key==="Enter"||we.key===" "){if(we.preventDefault(),Z.current){Z.current=!1;return}oe.current=ke,ye.current=!0,w("NavItem: onKeyDown activate",{i:ke,id:String(p(t[ke]))}),ee(p(t[ke])),Ce("content"),be.current="content",se.current!=null&&(clearTimeout(se.current),se.current=null),ue(),W()}},onKeyUp:we=>{if(we.key==="Enter"||we.key===" "){if(Z.current){Z.current=!1;return}oe.current=ke,w("NavItem: onKeyUp activate (fallback)",{i:ke,id:String(p(t[ke]))}),ee(p(t[ke])),Ce("content"),be.current="content",se.current!=null&&(clearTimeout(se.current),se.current=null),ue(),W()}},onClick:we=>{if(ye.current){ye.current=!1,we.preventDefault(),we.stopPropagation(),w("NavItem: ignored synthetic click after keyboard activation",{i:ke});return}$e(ke),oe.current=ke,w("NavItem: onClick select",{i:ke,id:String(De)}),ee(De),Ce("content"),be.current="content",se.current!=null&&(clearTimeout(se.current),se.current=null),ue(),W()},children:Se.label})},String(De))})})},Ze=()=>{const he=Math.max(0,v),Fe=he>0,U=he<t.length-1,ie=m?m(_):g?g(_):!0;return a.jsxs("div",{className:"nhsfdp-workflow-mobile",children:[O==="tablet"?T:null,ie&&a.jsxs("div",{className:"nhsfdp-mobile-controls","aria-label":"Step navigation",children:[Fe?a.jsx(Li,{element:"button",text:"Back",onClick:()=>{const Ne=t[he-1];Ne&&ee(p(Ne))}}):a.jsx(Li,{element:"button",text:"Back","aria-hidden":"true",style:{visibility:"hidden"}}),U?a.jsx(Ea,{element:"button",text:"Next",onClick:()=>{const Ne=t[he+1];Ne&&ee(p(Ne))}}):a.jsx(Ea,{element:"button",text:"Next","aria-hidden":"true",style:{visibility:"hidden"}})]}),a.jsx(gS,{steps:t,currentIndex:he,onNavigate:Ne=>{const Se=t[Ne];Se&&ee(p(Se))},renderCard:(Ne,Se,ke)=>s?s(Ne):l(Ne)})]})},ct=he=>a.jsx("div",{className:"nhsfdp-workflow-grid panes-"+(he.panes??2),onKeyDown:Ae,ref:Y,role:"grid","aria-rowcount":1,"aria-colcount":(he.showPrimaryNav?1:0)+1+(he.showSecondaryNav?1:0),"aria-label":"Workflow layout",children:a.jsxs("div",{className:"nhsfdp-workflow-body",role:"row",children:[he.showPrimaryNav&&a.jsx("aside",{ref:R,className:"nhsfdp-pane primary-nav"+(xe?" is-active-pane":""),"aria-label":"Primary navigation",role:"gridcell",tabIndex:0,onFocus:Fe=>{Fe.target===R.current&&z(!0)},onBlur:Fe=>{Fe.target===R.current&&z(!1)},children:a.jsx("section",{role:"complementary","aria-label":"Primary navigation",children:a.jsx(Ye,{})})}),a.jsxs("main",{ref:J,className:"nhsfdp-pane content"+(Q?" is-active-pane":""),"aria-live":"polite",role:"gridcell",tabIndex:0,onFocus:Fe=>{Fe.target===J.current&&fe(!0)},onBlur:Fe=>{Fe.target===J.current&&fe(!1)},children:[T,a.jsx("div",{role:"main",children:l(_,F)})]}),(()=>{const Fe=u?u(_,L,F,Ne=>G(Ne)):L&&L.length>0?a.jsx("ul",{className:"nhsfdp-secondary-nav",role:"listbox","aria-label":"Sections",children:L.map(Ne=>{const Se=I===Ne.id;return a.jsx("li",{role:"option","aria-selected":Se,children:a.jsx("button",{type:"button",className:"nhsfdp-secondary-nav__item"+(Se?" is-current":""),"data-sec-item":!0,onClick:()=>G(Ne.id),children:Ne.label})},String(Ne.id))})}):void 0,U=c?.(_,F);return he.showSecondaryNav&&(Fe||U)?a.jsx("aside",{ref:te,className:"nhsfdp-pane secondary-nav"+(me?" is-active-pane":""),"aria-label":"Secondary navigation",role:"gridcell",tabIndex:0,onFocus:Ne=>{Ne.target===te.current&&_e(!0)},onBlur:Ne=>{Ne.target===te.current&&_e(!1)},children:a.jsxs("section",{role:"complementary","aria-label":"Secondary navigation",children:[Fe,U]})}):null})()]})});return X?O==="mobile"||!h&&O==="tablet"||($.panes??1)===1?a.jsx("div",{className:"nhsfdp-workflow "+(f??""),children:Ze()}):a.jsx("div",{className:"nhsfdp-workflow "+(f??""),children:ct($)}):a.jsx("div",{className:"nhsfdp-workflow "+(f??""),children:a.jsx("div",{className:"nhsfdp-workflow-body",children:a.jsxs("main",{className:"nhsfdp-pane content",children:[d?d({steps:t,current:_,onNavigate:ee}):null,_?l(_,_?.sections?.find(he=>he.id===(C?.(_)??_?.sections?.[0]?.id))):null]})})})}const xS=typeof window<"u"&&window.document?ne.useLayoutEffect:ne.useEffect,Np=(e,t,n,r)=>e==null||Number.isNaN(e)?r:Math.min(n,Math.max(t,e)),_S=({item:e,maxLines:t,enableDrilldown:n,onExpand:r,isActive:i,topLaneIndex:o})=>{const{ariaLabel:s}=e,l=`${e._pxLeft}px`,c=`${e._pxWidth}px`,u=`calc((var(--roadmap-item-block-height) + var(--roadmap-row-gap)) * ${o})`,d=Math.floor(e._startFraction)+2,f=Math.max(1,Math.round(e._spanColumns)),p=n&&e.childItems&&e.childItems.length>0,h=m=>{p&&(m.preventDefault(),r?.(e))},g=p?{role:"button",tabIndex:0,"aria-haspopup":"dialog","aria-expanded":i||!1,onClick:h,onKeyDown:m=>{(m.key==="Enter"||m.key===" ")&&h(m),m.key==="Escape"&&i&&h(m)}}:{};return a.jsxs("div",{className:Oe("nhsuk-product-roadmap__item",p&&"nhsuk-product-roadmap__item--expandable",i&&"nhsuk-product-roadmap__item--active"),style:{left:l,width:c,top:u,"--item-height":t},role:"gridcell","aria-label":s,"aria-colindex":d,"aria-colspan":f,...g,children:[a.jsx("div",{className:"nhsuk-product-roadmap__item-bg","aria-hidden":"true"}),a.jsxs("div",{className:"nhsuk-product-roadmap__item-content",children:[a.jsx("span",{className:"nhsuk-product-roadmap__item-title",children:e.title}),p&&a.jsx("span",{className:Oe("nhsuk-product-roadmap__item-expander",i&&"nhsuk-product-roadmap__item-expander--open"),"aria-hidden":"true"})]})]})},Mp=P.memo(({dateHeadings:e,categories:t,columnWidthPx:n=400,itemMaxLines:r=2,className:i,ariaLabel:o="Product roadmap",enableDrilldown:s=!1,onToggleItem:l,drilldownMode:c="overlay",...u})=>{const[d,f]=P.useState(()=>new Set),[p,h]=P.useState(()=>new Set),g=P.useRef(new Set),m=P.useCallback(D=>d.has(D),[d]),y=P.useCallback(D=>{f(B=>{const A=new Set(B);return A.has(D.id)?(A.delete(D.id),h(I=>{const L=new Set(I);return L.add(D.id),L}),setTimeout(()=>h(I=>{const L=new Set(I);return L.delete(D.id),L}),240),l?.(D.id,!1)):(A.add(D.id),l?.(D.id,!0)),A})},[l]);xS(()=>{if(c!=="inline"||!s||typeof document>"u")return;const D=[];if(d.forEach(L=>{g.current.has(L)||D.push(L)}),g.current=new Set(d),!D.length)return;const B=typeof window<"u"&&typeof window.matchMedia=="function"?window.matchMedia("(prefers-reduced-motion: reduce)").matches:!1,A=D.map(L=>`.nhsuk-product-roadmap__inline-children[data-parent="${L}"] .nhsuk-product-roadmap__inline-child`).join(","),I=Array.from(document.querySelectorAll(A));if(I.length){if(B){I.forEach(L=>{L.style.opacity="1",L.style.transform="translateY(0)"});return}Promise.resolve().then(()=>R1).then(L=>{(L.gsap||L.default||L).to(I,{opacity:1,y:0,duration:.32,ease:"power2.out",stagger:.05})}).catch(()=>{I.forEach(L=>{L.style.opacity="1",L.style.transform="translateY(0)"})})}},[d,c,s]);const C=P.useCallback(()=>{d.size&&f(new Set)},[d]),N=Oe("nhsuk-product-roadmap",i),j=Np(n,120,1200,400),w=Np(r,1,6,2),b=P.useMemo(()=>e.map(D=>new Date(D+" 01")),[e]),S=P.useMemo(()=>{if(b.length===0){const A=new Date;return[A,A]}const D=new Date(b[0]),B=No.offset(new Date(b[b.length-1]),1);return[D,B]},[b]),M=P.useMemo(()=>$c().domain(S).range([0,b.length*j]),[S,b.length,j]),x=P.useCallback(D=>{if(D.startDate){const ee=new Date(D.startDate),T=new Date(D.endDate??D.startDate);T<ee&&T.setTime(ee.getTime());const X=M(ee),O=No.offset(new Date(T),1);let $=M(O);Number.isFinite($)||($=X+j);const V=Math.max(j*.25,$-X),Y=X/j,R=V/j;return{...D,_pxLeft:X,_pxWidth:V,_startFraction:Y,_spanColumns:R}}const B=D.date??1,A=D.dateOffset??0,I=D.length??1,L=D.partialLength??1,F=B-1+A,G=I-1+L;return{...D,_pxLeft:F*j,_pxWidth:G*j,_startFraction:F,_spanColumns:G}},[M,j]),v=P.useMemo(()=>t.map(D=>{const A=D.roadmapItems.map(L=>{const F=!L.childItems&&L.children?{...L,childItems:L.children}:{...L};return x(F)}).sort((L,F)=>L._pxLeft!==F._pxLeft?L._pxLeft-F._pxLeft:F._pxWidth-L._pxWidth),I=[];return A.forEach(L=>{const F=L._pxLeft,G=L._pxLeft+L._pxWidth;let ee=I.findIndex(T=>T<=F);ee===-1&&(ee=I.length,I.push(0)),I[ee]=G,L.verticalPosition=ee+1}),{...D,roadmapItems:A,_laneCount:I.length}}),[t,x]),_=P.useMemo(()=>v.map(D=>D._laneCount||1),[v]),E=P.useMemo(()=>`var(--category-width) ${e.map(()=>"var(--column-width)").join(" ")}`,[e]);return a.jsxs("div",{className:N,style:{"--column-width":`${j}px`,gridTemplateColumns:E},role:"grid","aria-label":o,"aria-colcount":e.length+1,"aria-rowcount":v.length+1,...u,children:[a.jsxs("div",{className:"nhsuk-product-roadmap__header-row",role:"row","aria-rowindex":1,children:[a.jsx("div",{className:"nhsuk-product-roadmap__header-cell",role:"columnheader","aria-colindex":1,children:a.jsx("span",{className:"nhsuk-visually-hidden",children:"Category"})}),e.map((D,B)=>a.jsx("div",{className:"nhsuk-product-roadmap__date-heading",role:"columnheader","aria-colindex":B+2,children:D},`${D}-${B}`))]}),v.map((D,B)=>{const A=B+2,I=_[B];let L,F=0,G=[];s&&c==="inline"&&(G=D.roadmapItems.filter(O=>m(O.id)&&O.childItems&&O.childItems.length).map(O=>({id:O.id,lane:O.verticalPosition||1,count:O.childItems.length})).sort((O,$)=>O.lane-$.lane),F=G.reduce((O,$)=>O+$.count,0));const ee=I+F;L=`calc((${ee} * var(--roadmap-item-block-height)) + (max(0, ${ee} - 1) * var(--roadmap-row-gap)))`;const T={};let X=0;return G.forEach(O=>{X+=O.count,T[O.lane+1]=X}),a.jsxs("div",{className:"nhsuk-product-roadmap__row",role:"row","aria-rowindex":A,children:[a.jsx("div",{className:"nhsuk-product-roadmap__category-cell",role:"rowheader","aria-colindex":1,children:D.heading}),a.jsx("div",{className:"nhsuk-product-roadmap__items-row",style:{gridColumn:`2 / span ${e.length}`,height:L},children:a.jsx("div",{className:"nhsuk-product-roadmap__items-layer",children:D.roadmapItems.map((O,$)=>{const V=(O.verticalPosition||1)-1,Y=G.filter(K=>K.lane-1<V).reduce((K,oe)=>K+oe.count,0),R=V+Y,J=m(O.id),te=p.has(O.id);return a.jsxs(P.Fragment,{children:[a.jsx(_S,{item:O,maxLines:w,enableDrilldown:s,onExpand:y,isActive:J,topLaneIndex:R,laneOffset:Y}),s&&c==="inline"&&(J||te)&&O.childItems&&a.jsx("div",{"data-parent":O.id,className:"nhsuk-product-roadmap__inline-children","aria-label":`${O.title} child tasks`,children:O.childItems.map((K,oe)=>{const ye="calc(var(--roadmap-item-block-height) * 0.75)";let Z=O._pxLeft,se=O._pxWidth;if(K.startDate){const be=new Date(K.startDate);let q=K.endDate?new Date(K.endDate):new Date(be);q<be&&(q=new Date(be));const Ge=new Date(q);Ge.setDate(Ge.getDate()+1);const Pe=M(be);let $e=M(Ge);(!Number.isFinite($e)||$e<=Pe)&&($e=Pe+6),Z=Pe,se=Math.max(6,$e-Pe)}const Ce=R+1+oe;return a.jsxs("div",{className:Oe("nhsuk-product-roadmap__inline-child",K.status&&`nhsuk-product-roadmap__inline-child--status-${K.status}`,!J&&te&&"nhsuk-product-roadmap__inline-child--collapsing"),style:{left:`${Z}px`,width:`${se}px`,top:`calc((var(--roadmap-item-block-height) + var(--roadmap-row-gap)) * ${Ce})`,height:ye,opacity:J?0:void 0,transform:J?"translateY(-6px)":void 0},children:[a.jsx("div",{className:"nhsuk-product-roadmap__inline-child-bg"}),a.jsx("div",{className:"nhsuk-product-roadmap__inline-child-content",children:K.title})]},K.id??oe)})})]},O.id??$)})})})]},`${D.heading}-${B}`)}),s&&c==="overlay"&&d.size===1&&(()=>{const D=Array.from(d)[0],B=t.flatMap(A=>A.roadmapItems).find(A=>A.id===D);return!B||!B.childItems?null:a.jsxs("div",{className:"nhsuk-product-roadmap__drilldown-overlay",role:"dialog","aria-modal":"true","aria-label":`${B.title} details`,children:[a.jsxs("div",{className:"nhsuk-product-roadmap__drilldown-panel",children:[a.jsxs("header",{className:"nhsuk-product-roadmap__drilldown-header",children:[a.jsx("h3",{className:"nhsuk-product-roadmap__drilldown-title",children:B.title}),a.jsx("button",{type:"button",className:"nhsuk-product-roadmap__drilldown-close",onClick:C,"aria-label":"Close details",children:"Ã—"})]}),a.jsx("div",{className:"nhsuk-product-roadmap__drilldown-content",children:B.content}),a.jsx("ul",{className:"nhsuk-product-roadmap__drilldown-children",children:B.childItems.map((A,I)=>a.jsxs("li",{className:"nhsuk-product-roadmap__drilldown-child",children:[a.jsx("strong",{className:"nhsuk-product-roadmap__drilldown-child-title",children:A.title}),A.content&&a.jsx("div",{className:"nhsuk-product-roadmap__drilldown-child-content",children:A.content})]},A.id??I))})]}),a.jsx("div",{className:"nhsuk-product-roadmap__drilldown-backdrop",onClick:C,"aria-hidden":"true"})]})})()]})});Mp.displayName="ProductRoadmap";function Wt(e){return function(){return e}}const Xc=Math.PI,Jc=2*Xc,oi=1e-6,wS=Jc-oi;function jp(e){this._+=e[0];for(let t=1,n=e.length;t<n;++t)this._+=arguments[t]+e[t]}function SS(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return jp;const n=10**t;return function(r){this._+=r[0];for(let i=1,o=r.length;i<o;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class kS{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?jp:SS(t)}moveTo(t,n){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,n){this._append`L${this._x1=+t},${this._y1=+n}`}quadraticCurveTo(t,n,r,i){this._append`Q${+t},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(t,n,r,i,o,s){this._append`C${+t},${+n},${+r},${+i},${this._x1=+o},${this._y1=+s}`}arcTo(t,n,r,i,o){if(t=+t,n=+n,r=+r,i=+i,o=+o,o<0)throw new Error(`negative radius: ${o}`);let s=this._x1,l=this._y1,c=r-t,u=i-n,d=s-t,f=l-n,p=d*d+f*f;if(this._x1===null)this._append`M${this._x1=t},${this._y1=n}`;else if(p>oi)if(!(Math.abs(f*c-u*d)>oi)||!o)this._append`L${this._x1=t},${this._y1=n}`;else{let h=r-s,g=i-l,m=c*c+u*u,y=h*h+g*g,C=Math.sqrt(m),N=Math.sqrt(p),j=o*Math.tan((Xc-Math.acos((m+p-y)/(2*C*N)))/2),w=j/N,b=j/C;Math.abs(w-1)>oi&&this._append`L${t+w*d},${n+w*f}`,this._append`A${o},${o},0,0,${+(f*h>d*g)},${this._x1=t+b*c},${this._y1=n+b*u}`}}arc(t,n,r,i,o,s){if(t=+t,n=+n,r=+r,s=!!s,r<0)throw new Error(`negative radius: ${r}`);let l=r*Math.cos(i),c=r*Math.sin(i),u=t+l,d=n+c,f=1^s,p=s?i-o:o-i;this._x1===null?this._append`M${u},${d}`:(Math.abs(this._x1-u)>oi||Math.abs(this._y1-d)>oi)&&this._append`L${u},${d}`,r&&(p<0&&(p=p%Jc+Jc),p>wS?this._append`A${r},${r},0,1,${f},${t-l},${n-c}A${r},${r},0,1,${f},${this._x1=u},${this._y1=d}`:p>oi&&this._append`A${r},${r},0,${+(p>=Xc)},${f},${this._x1=t+r*Math.cos(o)},${this._y1=n+r*Math.sin(o)}`)}rect(t,n,r,i){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function Tp(e){let t=3;return e.digits=function(n){if(!arguments.length)return t;if(n==null)t=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);t=r}return e},()=>new kS(t)}function Dp(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function Ip(e){this._context=e}Ip.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function Lp(e){return new Ip(e)}function Ap(e){return e[0]}function Ep(e){return e[1]}function Pp(e,t){var n=Wt(!0),r=null,i=Lp,o=null,s=Tp(l);e=typeof e=="function"?e:e===void 0?Ap:Wt(e),t=typeof t=="function"?t:t===void 0?Ep:Wt(t);function l(c){var u,d=(c=Dp(c)).length,f,p=!1,h;for(r==null&&(o=i(h=s())),u=0;u<=d;++u)!(u<d&&n(f=c[u],u,c))===p&&((p=!p)?o.lineStart():o.lineEnd()),p&&o.point(+e(f,u,c),+t(f,u,c));if(h)return o=null,h+""||null}return l.x=function(c){return arguments.length?(e=typeof c=="function"?c:Wt(+c),l):e},l.y=function(c){return arguments.length?(t=typeof c=="function"?c:Wt(+c),l):t},l.defined=function(c){return arguments.length?(n=typeof c=="function"?c:Wt(!!c),l):n},l.curve=function(c){return arguments.length?(i=c,r!=null&&(o=i(r)),l):i},l.context=function(c){return arguments.length?(c==null?r=o=null:o=i(r=c),l):r},l}function Kc(e,t,n){var r=null,i=Wt(!0),o=null,s=Lp,l=null,c=Tp(u);e=typeof e=="function"?e:e===void 0?Ap:Wt(+e),t=typeof t=="function"?t:Wt(t===void 0?0:+t),n=typeof n=="function"?n:n===void 0?Ep:Wt(+n);function u(f){var p,h,g,m=(f=Dp(f)).length,y,C=!1,N,j=new Array(m),w=new Array(m);for(o==null&&(l=s(N=c())),p=0;p<=m;++p){if(!(p<m&&i(y=f[p],p,f))===C)if(C=!C)h=p,l.areaStart(),l.lineStart();else{for(l.lineEnd(),l.lineStart(),g=p-1;g>=h;--g)l.point(j[g],w[g]);l.lineEnd(),l.areaEnd()}C&&(j[p]=+e(y,p,f),w[p]=+t(y,p,f),l.point(r?+r(y,p,f):j[p],n?+n(y,p,f):w[p]))}if(N)return l=null,N+""||null}function d(){return Pp().defined(i).curve(s).context(o)}return u.x=function(f){return arguments.length?(e=typeof f=="function"?f:Wt(+f),r=null,u):e},u.x0=function(f){return arguments.length?(e=typeof f=="function"?f:Wt(+f),u):e},u.x1=function(f){return arguments.length?(r=f==null?null:typeof f=="function"?f:Wt(+f),u):r},u.y=function(f){return arguments.length?(t=typeof f=="function"?f:Wt(+f),n=null,u):t},u.y0=function(f){return arguments.length?(t=typeof f=="function"?f:Wt(+f),u):t},u.y1=function(f){return arguments.length?(n=f==null?null:typeof f=="function"?f:Wt(+f),u):n},u.lineX0=u.lineY0=function(){return d().x(e).y(t)},u.lineY1=function(){return d().x(e).y(n)},u.lineX1=function(){return d().x(r).y(t)},u.defined=function(f){return arguments.length?(i=typeof f=="function"?f:Wt(!!f),u):i},u.curve=function(f){return arguments.length?(s=f,o!=null&&(l=s(o)),u):s},u.context=function(f){return arguments.length?(f==null?o=l=null:l=s(o=f),u):o},u}function Fp(e){return e<0?-1:1}function $p(e,t,n){var r=e._x1-e._x0,i=t-e._x1,o=(e._y1-e._y0)/(r||i<0&&-0),s=(n-e._y1)/(i||r<0&&-0),l=(o*i+s*r)/(r+i);return(Fp(o)+Fp(s))*Math.min(Math.abs(o),Math.abs(s),.5*Math.abs(l))||0}function Bp(e,t){var n=e._x1-e._x0;return n?(3*(e._y1-e._y0)/n-t)/2:t}function Qc(e,t,n){var r=e._x0,i=e._y0,o=e._x1,s=e._y1,l=(o-r)/3;e._context.bezierCurveTo(r+l,i+l*t,o-l,s-l*n,o,s)}function Fa(e){this._context=e}Fa.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Qc(this,this._t0,Bp(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var n=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,Qc(this,Bp(this,n=$p(this,e,t)),n);break;default:Qc(this,this._t0,n=$p(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=n}}},Object.create(Fa.prototype).point=function(e,t){Fa.prototype.point.call(this,t,e)};function $a(e){return new Fa(e)}function CS(e,t,n){const r=nh(e,t);return $c().domain(r).range(n)}function Op(e,t,n){const[r,i]=nh(e,t);if(!(Number.isFinite(r)&&Number.isFinite(i)))return wa().domain([0,0]).range(n);let s;if(r<=0)s=Math.min(0,r);else{const c=i-r,u=(c>0?c:r)*.1;s=Math.max(0,r-u),s===r&&(s=Math.max(0,r*.9))}const l=i??0;return wa().domain([s,l]).nice().range(n)}function eu(e,t,n,r){const i=Pp().x(t).y(n);return r?.smooth!==!1&&i.curve($a),i(e)??""}function NS(e={}){const t=ne.useRef(null),n=ne.useMemo(()=>({top:e.top??16,right:e.right??16,bottom:e.bottom??32,left:e.left??48}),[e.bottom,e.left,e.right,e.top]),[r,i]=ne.useState({width:0,height:0});ne.useLayoutEffect(()=>{if(!t.current)return;const l=new ResizeObserver(c=>{for(const u of c){const{width:d,height:f}=u.contentRect;i({width:d,height:f})}});return l.observe(t.current),()=>l.disconnect()},[]);const o=Math.max(0,r.width-n.left-n.right),s=Math.max(0,r.height-n.top-n.bottom);return{width:r.width,height:r.height,innerWidth:o,innerHeight:s,margin:n,ref:t}}const Rp=ne.createContext(null);function Er(){return ne.useContext(Rp)}const Hp=({height:e=240,margin:t,width:n,className:r="fdp-chart",children:i,role:o="group",ariaLabel:s})=>{const l=NS(t),c={height:e,position:"relative"};return n!==void 0&&(c.width=typeof n=="number"?`${n}px`:n),a.jsx("div",{ref:l.ref,className:r,style:c,role:o,"aria-label":s,children:a.jsx(Rp.Provider,{value:l,children:i})})},tu=ne.createContext(null),si=()=>ne.useContext(tu),zp=({series:e,innerWidth:t,innerHeight:n,parseX:r,children:i,xTickCount:o=6,yTickCount:s=5,yDomain:l,xPadding:c,yPadding:u,yBottomGapPx:d})=>{const f=Er(),p=t??f?.innerWidth??0,h=n??f?.innerHeight??0,g=ne.useMemo(()=>e.flatMap(b=>b.data),[e]),m=ne.useCallback(b=>{if(r)return r(b);const S=b.x;return S instanceof Date?S:new Date(S)},[r]),y=c??6,C=u??6,N=ne.useMemo(()=>CS(g,m,[y,Math.max(0,p-y)]),[g,m,p,y]),j=ne.useMemo(()=>{const b=Math.max(0,d??0),S=Math.max(0,h-(C+b));if(l){const M=Op([],x=>x.y,[S,C]);return M.domain(l),M}return Op(g,M=>M.y,[S,C])},[g,h,l,C,d]),w=ne.useMemo(()=>({xScale:N,yScale:j,getXTicks:(b=o)=>N.ticks(b),getYTicks:(b=s)=>j.ticks(b)}),[N,j,o,s]);return a.jsx(tu.Provider,{value:w,children:i})},Eo=16,Po=6,Up=16,Wp=4,Gp=6,Yp=3,Vp=void 0,nu=({type:e,scale:t,tickCount:n,tickValues:r,formatTick:i,label:o,offset:s,className:l,minLabelSpacing:c,maxTickLabelLength:u,autoMinLabelSpacing:d=e==="x",labelAngle:f=0,allowLabelWrap:p=!0,tickFormatPreset:h,yZeroBreak:g})=>{const m=si(),y=Er(),C=t||(e==="x"?m?.xScale:m?.yScale),N=n??(e==="x"?6:5),j=typeof i=="function",w=ne.useMemo(()=>{if(j||!h)return;const M=x=>new Intl.DateTimeFormat(void 0,x);switch(h){case"dayShortMonth":return x=>{const v=x instanceof Date?x:new Date(x);return`${v.getDate()}
${M({month:"short"}).format(v)}`};case"dayShortMonthYear":return x=>{const v=x instanceof Date?x:new Date(x);return`${v.getDate()}
${M({month:"short"}).format(v)} ${v.getFullYear()}`};case"shortMonth":return x=>{const v=x instanceof Date?x:new Date(x);return M({month:"short"}).format(v)};case"shortMonthYear":return x=>{const v=x instanceof Date?x:new Date(x);return`${M({month:"short"}).format(v)} ${v.getFullYear()}`};case"hourMinute":return x=>{const v=x instanceof Date?x:new Date(x);return M({hour:"2-digit",minute:"2-digit"}).format(v)};default:return}},[j,h]);let b=j?i:w||(M=>String(M));const S=ne.useMemo(()=>r&&Array.isArray(r)?r:C?typeof C.ticks=="function"?C.ticks(N):C.domain?C.domain():[]:[],[C,N,r]);if(e==="x"&&!j&&!h&&S.length&&S.every(M=>M instanceof Date)){const M=S[0],x=S[S.length-1],v=x.getTime()-M.getTime(),_=24*3600*1e3,E=365*_,D=M.getFullYear()===x.getFullYear(),B=new Intl.DateTimeFormat(void 0,{month:"short"});if(v<2*_){const A=new Intl.DateTimeFormat(void 0,{hour:"2-digit",minute:"2-digit"});b=I=>A.format(I)}else if(v<32*_)b=A=>{const I=A;return`${I.getDate()} ${B.format(I)}`};else if(v<E&&D)b=A=>B.format(A);else if(v<2*E){const A=new Set;b=I=>{const L=I,F=L.getMonth();return A.has(F)||A.add(F),`${B.format(L)} ${L.getFullYear()}`}}else b=A=>String(A.getFullYear())}if(!C||!y)return null;if(e==="x"){const M=s??y.innerHeight,x=typeof C.bandwidth=="function",v=x?C.bandwidth():0,_=B=>{const A=C(B);return x?A+v/2:A};let E=c??0;if(d&&c==null){const B=S.map(I=>b(I).replace(/\n.*/g,"")),A=B.length?B.reduce((I,L)=>I+L.length,0)/B.length:0;E=Math.max(12,Math.round(A*6+4))}const D=ne.useMemo(()=>{if(r&&Array.isArray(r)||E<=0)return S;const B=[];let A=-1/0;for(const I of S){const L=_(I);L-A>=E&&(B.push(I),A=L)}return B},[S,C,E,r,x,v]);return a.jsxs("g",{className:["fdp-axis","fdp-axis--x",l].filter(Boolean).join(" "),transform:`translate(0,${M})`,fontFamily:"var(--nhs-fdp-font-family-base, var(--fdp-chart-font-family))",children:[a.jsx("line",{x1:0,x2:y.innerWidth,y1:0,y2:0,stroke:"currentColor"}),D.map((B,A)=>{const I=b(B),L=u&&I.length>u?I.slice(0,Math.max(1,u-1))+"â€¦":I,F=p?L.split(/\n/):[L.replace(/\n/g," ")],G=f<0?"end":f>0?"start":"middle";return a.jsxs("g",{transform:`translate(${_(B)},0)`,children:[a.jsx("line",{y2:6,stroke:"currentColor"}),a.jsxs("text",{y:9,textAnchor:G,className:"fdp-axis__tick",dominantBaseline:"hanging",transform:f?`rotate(${f})`:void 0,fontFamily:"inherit",children:[F.map((ee,T)=>a.jsx("tspan",{x:0,dy:T===0?0:"1.1em",children:ee},T)),L!==I&&a.jsx("title",{children:I})]})]},B?.toString?.()||A)})]})}return a.jsxs("g",{className:["fdp-axis","fdp-axis--y",l].filter(Boolean).join(" "),fontFamily:"var(--nhs-fdp-font-family-base, var(--fdp-chart-font-family))",children:[(()=>{const M=!!g?.enabled,x=Math.max(Po,g?.gapPx??Eo);if(!M)return a.jsx("line",{x1:0,x2:0,y1:0,y2:y.innerHeight,stroke:"currentColor"});const v=Math.max(0,y.innerHeight-x);return a.jsx("line",{x1:0,x2:0,y1:0,y2:v,stroke:"currentColor"})})(),S.map((M,x)=>{const v=b(M),_=u&&v.length>u?v.slice(0,Math.max(1,u-1))+"â€¦":v,E=p?_.split(/\n/):[_.replace(/\n/g," ")];if(!!g?.enabled){const B=Math.max(Po,g?.gapPx??Eo),A=Math.max(0,y.innerHeight-B);if(C(M)>A-1)return null}return a.jsxs("g",{transform:`translate(0,${C(M)})`,children:[a.jsx("line",{x2:-6,stroke:"currentColor"}),a.jsxs("text",{x:-9,dy:"0.32em",textAnchor:"end",className:"fdp-axis__tick",fontFamily:"inherit",children:[E.map((B,A)=>a.jsx("tspan",{x:-9,dy:A===0?0:"1.1em",children:B},A)),_!==v&&a.jsx("title",{children:v})]})]},M?.toString?.()||x)}),!!g?.enabled&&(()=>{const M=Math.max(Po,g?.gapPx??Eo),x=y.innerHeight,_=Math.max(0,x-M),E=_,B=Math.max(4,x-E),A=Wp,I=Gp,L=Math.max(1,Math.round(g?.zigZag?.amplitudePx??A)),F=Math.max(1,Math.round(g?.zigZag?.stepXPx??Yp)),G=g?.zigZag?.heightPx??Vp,ee=Math.max(4,Math.round(G??0));let T,X;if(g?.zigZag?.heightPx&&g.zigZag.heightPx>0){const te=Math.max(4,Math.min(B-2,ee));T=Math.max(1,Math.floor(te/(2*L))),X=Math.max(0,Math.min(te,T*2*L))}else typeof g?.zigZag?.cycles=="number"&&g?.zigZag?.cycles>0?(T=Math.max(1,Math.round(g.zigZag.cycles)),X=T*2*L,X=Math.min(X,B-2),T=Math.max(1,Math.floor(X/(2*L)))):(T=I,X=Math.min(B-2,T*2*L),T=Math.max(1,Math.floor(X/(2*L))));const O=E+(B-X)/2,$=O+X;let V="M0,0";const Y=X>0?Math.max(0,Math.floor((X-L)/(2*L))):0,R=Math.max(0,(X-Y*2*L)/2),J=L>0?F*(R/L):0;R>0&&(V+=` l${J},${R}`);for(let te=0;te<Y;te++)V+=` l-${F},${L} l${F},${L}`;return R>0&&(V+=` l-${J},${R}`),a.jsxs("g",{children:[a.jsx("line",{x1:0,x2:0,y1:_,y2:O,stroke:"currentColor"}),a.jsx("g",{transform:`translate(0,${O})`,"aria-hidden":"true",children:a.jsx("path",{d:V,stroke:"currentColor",fill:"none"})}),a.jsx("line",{x1:0,x2:0,y1:$,y2:x,stroke:"currentColor"}),a.jsx("g",{transform:`translate(0,${x})`,children:a.jsx("text",{x:-9,dy:"0.32em",textAnchor:"end",className:"fdp-axis__tick",fontFamily:"inherit",children:"0"})})]})})(),o&&a.jsx("text",{transform:"rotate(-90)",x:-y.innerHeight/2,y:-y.margin.left+12,textAnchor:"middle",className:"fdp-axis__label",fontFamily:"inherit",children:o})]})},Zp=({axis:e="y",tickCount:t,stroke:n="var(--fdp-chart-grid,#e5e5e5)",dasharray:r="2 4",className:i})=>{const o=si(),s=Er();if(!o||!s)return null;const l=e==="y"?o.getYTicks(t):o.getXTicks(t);return a.jsxs("g",{className:["fdp-grid",i].filter(Boolean).join(" "),children:[e==="y"&&l.map((c,u)=>a.jsx("line",{x1:0,x2:s.innerWidth,y1:o.yScale(c),y2:o.yScale(c),stroke:n,strokeDasharray:r},u)),e==="x"&&l.map((c,u)=>a.jsx("line",{y1:0,y2:s.innerHeight,x1:o.xScale(c),x2:o.xScale(c),stroke:n,strokeDasharray:r},u))]})},Fo={color:{"data-viz":{$type:"color",categorical:{1:{$value:"{color.primary.blue}",$description:"Series 1 â€“ NHS Blue (brand core)"},2:{$value:"#41B6E6",$description:"Series 2 â€“ NHS Light Blue (new)"},3:{$value:"{color.secondary.aqua-green}",$description:"Series 3 â€“ NHS Aqua Green (existing)"},4:{$value:"#78BE20",$description:"Series 4 â€“ NHS Light Green (new)"},5:{$value:"{color.primary.green}",$description:"Series 5 â€“ NHS Green (existing)"},6:{$value:"{color.secondary.warm-yellow}",$description:"Series 6 â€“ NHS Warm Yellow (existing; distinct from focus yellow)"},7:{$value:"#ED4F00",$description:"Series 7 â€“ NHS Tangerine (new; warmer/deeper than existing orange)"},8:{$value:"{color.secondary.pink}",$description:"Series 8 â€“ NHS Pink (existing)"},9:{$value:"#E317AA",$description:"Series 9 â€“ NHS Bright Pink (new vivid accent)"},10:{$value:"#880FB8",$description:"Series 10 â€“ NHS Light Purple (new mid purple)"},11:{$value:"{color.primary.purple}",$description:"Series 11 â€“ NHS Purple (existing dark purple)"},12:{$value:"#9A6324",$description:"Series 12 â€“ NHS Brown (new; earth neutral)"}},neutral:{comparison:{$value:"{color.grey.1}",$description:"Neutral comparison series (optional)"}},region:{$comment:"Fixed colours for NHS geographical regions; prefer stable mapping for maps. London colour updated (#78BE21 â€“ light green).","north-east":{$value:"{color.primary.blue}",$description:"North East â€“ NHS Blue"},"north-west":{$value:"#41B6E6",$description:"North West â€“ NHS Light Blue"},"east-of-england":{$value:"{color.primary.purple}",$description:"East of England â€“ NHS Purple"},midlands:{$value:"{color.secondary.pink}",$description:"Midlands â€“ NHS Pink"},london:{$value:"#78BE21",$description:"London â€“ NHS Light Green (new)"},"south-west":{$value:"#FAE100",$description:"South West â€“ NHS Yellow variant (new)"},"south-east":{$value:"#ed8b00",$description:"South East â€“ NHS Orange (existing base orange)"}},severity:{$comment:"Semantic severity / alert colours (light background ramp â†’ critical).",low:{$value:"{color.secondary.pale-yellow}",$description:"Low severity â€“ pale yellow background"},moderate:{$value:"{color.secondary.warm-yellow}",$description:"Moderate severity â€“ warm yellow"},high:{$value:"{color.secondary.orange}",$description:"High severity â€“ orange"},critical:{$value:"{color.primary.red}",$description:"Critical severity â€“ red"}},"org-level":{$comment:"Organisational level semantic colours (stable NHS brand mappings).",trust:{$value:"{color.primary.blue}",$description:"Trust â€“ NHS Blue"},ambulance:{$value:"{color.primary.green}",$description:"Ambulance â€“ NHS Green"},icb:{$value:"{color.primary.dark-pink}",$description:"ICB â€“ NHS Dark Pink"},region:{$value:"{color.primary.purple}",$description:"Region â€“ NHS Purple"}},stroke:{$comment:"Automatic contrast stroke colours for overlays / borders. Light fills get dark stroke; dark fills get white stroke.",categorical:{1:{$value:"#ffffff",$description:"Stroke for series 1 (blue)"},2:{$value:"#212b32",$description:"Stroke for series 2 (light blue)"},3:{$value:"#212b32",$description:"Stroke for series 3 (aqua green)"},4:{$value:"#212b32",$description:"Stroke for series 4 (light green)"},5:{$value:"#ffffff",$description:"Stroke for series 5 (green)"},6:{$value:"#212b32",$description:"Stroke for series 6 (warm yellow)"},7:{$value:"#ffffff",$description:"Stroke for series 7 (tangerine)"},8:{$value:"#ffffff",$description:"Stroke for series 8 (pink)"},9:{$value:"#ffffff",$description:"Stroke for series 9 (bright pink)"},10:{$value:"#ffffff",$description:"Stroke for series 10 (light purple)"},11:{$value:"#ffffff",$description:"Stroke for series 11 (purple)"},12:{$value:"#ffffff",$description:"Stroke for series 12 (brown)"}},region:{$comment:"Region stroke colours derived from fill colours: dark fills lightened ~35%; light fills darkened ~25% for consistent contrast without defaulting to pure white/black.","north-east":{$value:"#5996D1",$description:"Stroke for North East (blue lightened 35%)"},"north-west":{$value:"#3189AD",$description:"Stroke for North West (light blue darkened 25%)"},"east-of-england":{$value:"#7A59A3",$description:"Stroke for East of England (purple lightened 35%)"},midlands:{$value:"#CA71A4",$description:"Stroke for Midlands (pink lightened 35%)"},london:{$value:"#5A8F19",$description:"Stroke for London (light green darkened 25%)"},"south-west":{$value:"#BCA900",$description:"Stroke for South West (yellow darkened 25%)"},"south-east":{$value:"#B26800",$description:"Stroke for South East (orange darkened 25%)"}},severity:{$comment:"Contrast strokes for severity colours (light backgrounds use dark stroke; dark backgrounds use white).",low:{$value:"#212b32",$description:"Stroke for low severity (pale yellow fill)"},moderate:{$value:"#212b32",$description:"Stroke for moderate severity (warm yellow fill)"},high:{$value:"#212b32",$description:"Stroke for high severity (orange fill)"},critical:{$value:"#ffffff",$description:"Stroke for critical severity (red fill)"}},"org-level":{$comment:"Contrast strokes for organisational level colours (all dark brand fills so white stroke for consistency).",trust:{$value:"#ffffff",$description:"Stroke for trust (blue fill)"},ambulance:{$value:"#ffffff",$description:"Stroke for ambulance (green fill)"},icb:{$value:"#ffffff",$description:"Stroke for ICB (dark pink fill)"},region:{$value:"#ffffff",$description:"Stroke for region (purple fill)"}}},spc:{$comment:"SPC (Statistical Process Control) semantic variation colours aligned to SPCChart.scss and SPCIcons.",improvement:{$value:"#00B0F0",$description:"SPC special cause improvement (favourable)"},concern:{$value:"#E46C0A",$description:"SPC special cause concern (deteriorating)"},"no-judgement":{$value:"#490092",$description:"SPC special cause (no directional judgement)"},"common-cause":{$value:"#A6A6A6",$description:"SPC common cause (baseline variation)"},"assurance-pass":{$value:"#00823B",$description:"SPC assurance pass indicator (process capable)"},"assurance-fail":{$value:"#DA291C",$description:"SPC assurance fail indicator (process not capable)"},gradient:{$comment:"Opacity stops for SPC icon gradient wash (applied top-left -> bottom-right). Consumers build gradients using these opacities + base colour.",stop:{"start-opacity":{$value:"0.18",$description:"Start stop opacity (0%) for classic variant wash"},"mid-opacity":{$value:"0.06",$description:"Mid stop opacity (~65-75%)"},"end-opacity":{$value:"0",$description:"End stop opacity (100%)"},"triangle-start-opacity":{$value:"0.18",$description:"Start opacity for triangle variants (kept aligned)"},"triangle-mid-opacity":{$value:"0.06",$description:"Mid opacity for triangle variants"},"triangle-end-opacity":{$value:"0",$description:"End opacity for triangle variants"}}},stroke:{$comment:"Contrast stroke colours for SPC variation fills.",improvement:{$value:"#000000",$description:"Stroke for improvement points"},concern:{$value:"#000000",$description:"Stroke for concern points"},"no-judgement":{$value:"#000000",$description:"Stroke for no-judgement points"},"common-cause":{$value:"#ffffff",$description:"Stroke for common cause points"},"assurance-pass":{$value:"#000000",$description:"Stroke for assurance pass points"},"assurance-fail":{$value:"#000000",$description:"Stroke for assurance fail points"}}}}}},Ba={color:{primary:{$type:"color",blue:{$value:"#005eb8",$description:"NHS Blue - Primary brand color"},"blue-active":{$value:"#002f5c",$description:"NHS Active Blue (50% shade) â€“ alias of button/login active; promoted for general reuse"},white:{$value:"#ffffff",$description:"NHS White"},black:{$value:"#212b32",$description:"NHS Black"},green:{$value:"#007f3b",$description:"NHS Green"},purple:{$value:"#330072",$description:"NHS Purple"},"dark-pink":{$value:"#7c2855",$description:"NHS Dark Pink"},red:{$value:"#d5281b",$description:"NHS Red"},"light-purple":{$value:"#880FB8",$description:"NHS Light Purple (data viz promoted)"},yellow:{$value:"#ffeb3b",$description:"NHS Yellow"}},secondary:{$type:"color","pale-yellow":{$value:"#fff9c4",$description:"NHS Pale Yellow"},"warm-yellow":{$value:"#ffb81c",$description:"NHS Warm Yellow"},"region-yellow":{$value:"#FAE100",$description:"NHS Region Yellow (maps)"},orange:{$value:"#ed8b00",$description:"NHS Orange"},tangerine:{$value:"#ED4F00",$description:"NHS Tangerine (data viz promoted)"},"aqua-green":{$value:"#00a499",$description:"NHS Aqua Green"},"light-blue":{$value:"#41B6E6",$description:"NHS Light Blue (data viz promoted)"},pink:{$value:"#ae2573",$description:"NHS Pink"},"bright-pink":{$value:"#E317AA",$description:"NHS Bright Pink (data viz promoted)"},"light-green":{$value:"#78BE20",$description:"NHS Light Green (data viz promoted)"},brown:{$value:"#9A6324",$description:"NHS Brown (data viz promoted neutral)"}},grey:{1:{$value:"#4c6272",$description:"NHS Grey 1 - Darkest grey"},2:{$value:"#768692",$description:"NHS Grey 2 - Darker grey"},3:{$value:"#aeb7bd",$description:"NHS Grey 3 - Medium grey"},4:{$value:"#d8dde0",$description:"NHS Grey 4 - Light grey"},5:{$value:"#f0f4f5",$description:"NHS Grey 5 - Lightest grey"},$type:"color"},accessibility:{$type:"color",$comment:"Accessibility-oriented color tokens. Includes CVD-safe pairs and Okabeâ€“Ito colors. Use these for positive/negative semantics and colour-blindâ€“friendly defaults.","okabe-ito":{green:{$value:"#009E73",$description:"Okabeâ€“Ito green (CVD-safe) â€“ recommended positive"},vermillion:{$value:"#D55E00",$description:"Okabeâ€“Ito vermillion / redâ€“orange (CVD-safe) â€“ recommended negative"}},"cvd-safe":{blue:{$value:"#1f77b4",$description:"CVD-safe blue (pairs with orange); widely used in Matplotlib/Tableau sets"},orange:{$value:"#ff7f0e",$description:"CVD-safe orange (pairs with blue)"}},positive:{$value:"{color.accessibility.okabe-ito.green}",$description:"Accessibility semantic alias â€“ positive"},negative:{$value:"{color.accessibility.okabe-ito.vermillion}",$description:"Accessibility semantic alias â€“ negative"}}}},MS=["#005eb8","#0072ce","#41b6e6","#00a499","#7c2855","#330072","#d5281b","#ffb81c","#fae100","#4c6272","#768692","#aeb7bd"];let ru=null,iu=null,ou=null,qp="optimized";function jS(){const e={color:{...Ba.color,...Fo.color}},t=(r,i=new Set)=>{if(i.has(r))return;i.add(r);const o=r.split(".").reduce((l,c)=>l?l[c]:void 0,e);if(!o)return;const s=o.$value||o.value;if(typeof s=="string"&&/^\{.+\}$/.test(s))return t(s.slice(1,-1),i);if(typeof s=="string")return s},n=[];try{for(let r=1;r<=12;r++){const i=`color.data-viz.categorical.${r}`,o=t(i);if(!o)throw new Error(`Missing token ${i}`);n.push(o)}return n}catch{return MS}}function TS(){return ru||(ru=jS()),ru}function DS(e){const t=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e.trim());return t?{r:parseInt(t[1],16),g:parseInt(t[2],16),b:parseInt(t[3],16)}:null}function su(e){return e/=255,e<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4)}function IS(e,t,n){const r=su(e),i=su(t),o=su(n),s=r*.4124+i*.3576+o*.1805,l=r*.2126+i*.7152+o*.0722,c=r*.0193+i*.1192+o*.9505;return{x:s*100,y:l*100,z:c*100}}function LS(e,t,n){let s=e/95.047,l=t/100,c=n/108.883;const u=d=>d>.008856?Math.cbrt(d):7.787*d+16/116;return s=u(s),l=u(l),c=u(c),{L:116*l-16,a:500*(s-l),b:200*(l-c)}}function Xp(e){const t=DS(e);if(!t)return null;const n=IS(t.r,t.g,t.b);return LS(n.x,n.y,n.z)}function Jp(e,t){const n=e.L-t.L,r=e.a-t.a,i=e.b-t.b;return Math.sqrt(n*n+r*r+i*i)}function AS(){const e=TS();if(e.length<=2)return e.slice();const t=e.map(s=>Xp(s));let n=0,r=-1;for(let s=0;s<e.length;s++){const l=t[s];if(!l)continue;let c=0,u=0;for(let f=0;f<e.length;f++)s!==f&&t[f]&&(c+=Jp(l,t[f]),u++);const d=c/Math.max(1,u);d>r&&(r=d,n=s)}const i=new Set(e.map((s,l)=>l)),o=[];for(o.push(n),i.delete(n);i.size;){let s=Array.from(i)[0],l=-1;for(const c of i){const u=t[c];if(!u)continue;let d=1/0;for(const f of o){const p=t[f];if(p){const h=Jp(u,p);h<d&&(d=h)}}d>l&&(l=d,s=c)}o.push(s),i.delete(s)}return o.map(s=>e[s])}function ES(){return iu||(iu=AS()),iu}function PS(e,t,n){const r=(e+16)/116,i=t/500+r,o=r-n/200,s=d=>{const f=d*d*d;return f>.008856?f:(d-16/116)/7.787},l=s(i)*95.047,c=s(r)*100,u=s(o)*108.883;return{X:l,Y:c,Z:u}}function FS(e,t,n){e/=100,t/=100,n/=100;let r=e*3.2406+t*-1.5372+n*-.4986,i=e*-.9689+t*1.8758+n*.0415,o=e*.0557+t*-.204+n*1.057;const s=l=>l<=.0031308?12.92*l:1.055*Math.pow(l,1/2.4)-.055;return r=Math.min(1,Math.max(0,s(r))),i=Math.min(1,Math.max(0,s(i))),o=Math.min(1,Math.max(0,s(o))),{r:Math.round(r*255),g:Math.round(i*255),b:Math.round(o*255)}}function $S(e,t,n){return`#${[e,t,n].map(r=>r.toString(16).padStart(2,"0")).join("")}`}function BS(e,t){const n=Xp(e);if(!n)return e;const r=Math.min(100,Math.max(0,n.L+t)),{X:i,Y:o,Z:s}=PS(r,n.a,n.b),l=FS(i,o,s);return $S(l.r,l.g,l.b)}function OS(){const e=ES(),n=[12,-12,24,-24].map(i=>e.map(o=>BS(o,i))),r=[...e];return n.forEach(i=>r.push(...i)),r}function RS(){return(!ou||HS())&&(ou=OS(),Kp=qp),ou}let Kp=null;function HS(){return Kp!==qp}function qn(e){const t=RS();return t[e%t.length]}let Ui=null,$o=null,Bo=null,Oo=null;function zS(){const e=Fo?.color?.["data-viz"]?.stroke;if(e){const t=e.categorical||{};Ui=[];for(let o=1;o<=12;o++){const s=t[String(o)]?.$value||t[String(o)]?.value;Ui.push(typeof s=="string"?s:"#212b32")}const n=e.region||{};$o={},Object.keys(n).forEach(o=>{const s=n[o]?.$value||n[o]?.value;typeof s=="string"&&($o[o]=s)});const r=e.severity||{},i=e["org-level"]||{};Oo={},Object.keys(i).forEach(o=>{const s=i[o]?.$value||i[o]?.value;typeof s=="string"&&(Oo[o]=s)}),Bo={},Object.keys(r).forEach(o=>{const s=r[o]?.$value||r[o]?.value;typeof s=="string"&&(Bo[o]=s)})}}function Oa(){(!Ui||!$o||!Bo||!Oo)&&zS()}function ai(e){return Oa(),Ui?Ui[e%Ui.length]:"#212b32"}function US(e){return Oa(),$o?$o[e]:void 0}function Ra(e,t){return US(e)||ai(t)}const au=["low","moderate","high","critical"];let lu=null;function WS(){const e={color:{...Ba.color,...Fo.color}},t=(r,i=new Set)=>{if(i.has(r))return;i.add(r);const o=r.split(".").reduce((l,c)=>l?l[c]:void 0,e);if(!o)return;const s=o.$value||o.value;return typeof s=="string"&&/^\{.+\}$/.test(s)?t(s.slice(1,-1),i):typeof s=="string"?s:void 0},n={};return au.forEach(r=>{const i=t(`color.data-viz.severity.${r}`);i&&(n[r]=i)}),n}function Qp(){return lu||(lu=WS()),lu}function GS(e){return Qp()[e.toLowerCase()]}function YS(e,t){return GS(e)||Qp()[au[t%au.length]]||qn(t)}function VS(e){return Oa(),Bo?Bo[e]:void 0}function ZS(e,t){return VS(e)||ai(t)}const cu=["trust","ambulance","icb","region"];let uu=null;function qS(){const e={color:{...Ba.color,...Fo.color}},t=(r,i=new Set)=>{if(i.has(r))return;i.add(r);const o=r.split(".").reduce((l,c)=>l?l[c]:void 0,e);if(!o)return;const s=o.$value||o.value;return typeof s=="string"&&/^\{.+\}$/.test(s)?t(s.slice(1,-1),i):typeof s=="string"?s:void 0},n={};return cu.forEach(r=>{const i=t(`color.data-viz.org-level.${r}`);i&&(n[r]=i)}),n}function em(){return uu||(uu=qS()),uu}function XS(e){return em()[e.toLowerCase()]}function JS(e,t){return XS(e)||em()[cu[t%cu.length]]||qn(t)}function KS(e){return Oa(),Oo?Oo[e]:void 0}function QS(e,t){return KS(e)||ai(t)}let du=null;const ek=["north-east","north-west","east-of-england","midlands","london","south-west","south-east"];function tk(e){return e.trim().toLowerCase().replace(/&/g,"and").replace(/[^a-z0-9]+/g,"-").replace(/^-+|-+$/g,"")}function nk(){const e={color:{...Ba.color,...Fo.color}},t=(i,o=new Set)=>{if(o.has(i))return;o.add(i);const s=i.split(".").reduce((c,u)=>c?c[u]:void 0,e);if(!s)return;const l=s.$value||s.value;return typeof l=="string"&&/^\{.+\}$/.test(l)?t(l.slice(1,-1),o):typeof l=="string"?l:void 0},n={},r=[];return ek.forEach(i=>{const o=t(`color.data-viz.region.${i}`);o?n[i]=o:r.push(i)}),process.env.NODE_ENV!=="production"&&(Object.keys(n).length===0?console.warn("[DataViz] Region colour tokens unresolved  falling back to categorical colours."):r.length&&console.warn(`[DataViz] Missing region colour tokens: ${r.join(", ")}.`)),n}function rk(){return du||(du=nk()),du}function ik(e){return rk()[tk(e)]}function Wi(e,t){return ik(e)||qn(t)}const tm=ne.createContext(null),Ro=()=>ne.useContext(tm),ok=({initialHiddenIds:e=[],children:t,hiddenIds:n,onChange:r})=>{const[i,o]=ne.useState(()=>new Set(e)),s=n!==void 0,l=ne.useMemo(()=>s?new Set(n):i,[s,n,i]),c=ne.useCallback(d=>{s||o(new Set(d)),r?.(Array.from(d))},[s,r]),u=ne.useMemo(()=>({hiddenIds:l,isHidden:d=>l.has(d),toggle:d=>{const f=new Set(l);f.has(d)?f.delete(d):f.add(d),c(f)},showOnly:d=>{c(new Set)},showAll:()=>c(new Set),setHidden:d=>c(new Set(Array.isArray(d)?d:Array.from(d)))}),[l,c]);return a.jsx(tm.Provider,{value:u,children:t})},nm=ne.createContext(null),xr=()=>ne.useContext(nm),rm=({children:e,maxDistance:t=40,wrapAround:n=!1})=>{const r=si(),i=Ro(),[o,s]=ne.useState(null),l=ne.useRef(new Map),[c,u]=ne.useState([]),d=ne.useCallback((M,x)=>{l.current.set(M,x)},[]),f=ne.useCallback(M=>{l.current.delete(M)},[]),p=ne.useCallback((M,x)=>{if(!r)return;const{xScale:v,yScale:_}=r;let E=null,D=1/0;l.current.forEach((B,A)=>{B.forEach((I,L)=>{const F=v(I.x),G=_(I.y),ee=F-M,T=G-x,X=Math.sqrt(ee*ee+T*T);X<D&&(D=X,E={seriesId:A,index:L,x:I.x,y:I.y,clientX:F,clientY:G})})}),E&&D<=t?s(E):s(null)},[r,t]),h=ne.useCallback(()=>s(null),[]);ne.useEffect(()=>{if(!o){u([]);return}if(!r)return;const{xScale:M,yScale:x}=r,v=[];l.current.forEach((_,E)=>{_.forEach((D,B)=>{(o.x instanceof Date&&D.x instanceof Date?D.x.getTime()===o.x.getTime():D.x===o.x)&&v.push({seriesId:E,index:B,x:D.x,y:D.y,clientX:M(D.x),clientY:x(D.y)})})}),v.sort((_,E)=>_.seriesId.localeCompare(E.seriesId)),u(v)},[o,r]);const g=ne.useCallback(M=>{if(!o)return;const x=l.current.get(o.seriesId);if(!x)return;let v=o.index+M;if(v<0||v>=x.length){if(!n)return;v=(v+x.length)%x.length}const _=x[v];if(!r)return;const{xScale:E,yScale:D}=r;s({seriesId:o.seriesId,index:v,x:_.x,y:_.y,clientX:E(_.x),clientY:D(_.y)})},[o,r,n]),m=ne.useCallback(M=>{let x=Array.from(l.current.keys());if(i&&(x=x.filter(F=>!i.isHidden(F))),x.length===0)return;if(!o){const F=x[0],G=l.current.get(F);if(!G||!r)return;const{xScale:ee,yScale:T}=r,X=G[0];s({seriesId:F,index:0,x:X.x,y:X.y,clientX:ee(X.x),clientY:T(X.y)});return}const v=x.indexOf(o.seriesId);if(v===-1)return;let _=v+M;if(_<0||_>=x.length){if(!n)return;_=(_+x.length)%x.length}const E=x[_],D=l.current.get(E);if(!D||!r)return;const B=Math.min(o.index,D.length-1),A=D[B],{xScale:I,yScale:L}=r;s({seriesId:E,index:B,x:A.x,y:A.y,clientX:I(A.x),clientY:L(A.y)})},[o,r,n,i]),y=ne.useCallback(()=>{let M=Array.from(l.current.keys());if(i&&(M=M.filter(B=>!i.isHidden(B))),M.length===0)return;const x=o?o.seriesId:M[0],v=l.current.get(x);if(!v||v.length===0||!r)return;const _=v[0],{xScale:E,yScale:D}=r;s({seriesId:x,index:0,x:_.x,y:_.y,clientX:E(_.x),clientY:D(_.y)})},[o,r,i]),C=ne.useCallback(()=>{let M=Array.from(l.current.keys());if(i&&(M=M.filter(A=>!i.isHidden(A))),M.length===0)return;const x=o?o.seriesId:M[0],v=l.current.get(x);if(!v||v.length===0||!r)return;const _=v.length-1,E=v[_],{xScale:D,yScale:B}=r;s({seriesId:x,index:_,x:E.x,y:E.y,clientX:D(E.x),clientY:B(E.y)})},[o,r,i]),N=ne.useCallback(()=>g(1),[g]),j=ne.useCallback(()=>g(-1),[g]),w=ne.useCallback(()=>m(1),[m]),b=ne.useCallback(()=>m(-1),[m]),S=ne.useMemo(()=>({focused:o,setFocused:s,aggregated:c,focusNearest:p,clear:h,registerSeries:d,unregisterSeries:f,focusNextPoint:N,focusPrevPoint:j,focusNextSeries:w,focusPrevSeries:b,focusFirstPoint:y,focusLastPoint:C}),[o,c,p,h,d,f,N,j,w,b,y,C]);return a.jsx(nm.Provider,{value:S,children:e})},im=({series:e,seriesIndex:t,palette:n,showPoints:r,focusablePoints:i,focusIndex:o,parseX:s,visibilityMode:l="remove",strokeWidth:c=1,smooth:u=!0,gradientFillId:d,colors:f})=>{const p=si();if(!p)return null;const{xScale:h,yScale:g}=p,y=Ro()?.isHidden(e.id)??!1,C=y&&l==="fade";if(y&&l==="remove")return null;const N=xr();ne.useEffect(()=>{if(!N)return;const x=e.data.map(v=>({x:s(v),y:v.y}));return N.registerSeries(e.id,x),()=>N.unregisterSeries(e.id)},[N,e.id,e.data,s]);const j=ne.useMemo(()=>eu(e.data,x=>h(s(x)),x=>g(x.y),{smooth:u}),[e.data,h,g,s,u]),w=ne.useMemo(()=>{if(!e.data.length)return"";const[x]=g.domain(),v=Kc().x(_=>h(s(_))).y0(()=>g(x)).y1(_=>g(_.y));return u&&v.curve($a),v(e.data)||""},[e.data,h,g,s,u]),b=f&&f[t],S=e.color||b||(n==="region"?Wi(e.id,t):qn(t)),M=n==="region"?Ra(e.id,t):ai(t);return a.jsxs("g",{className:"fdp-line-series","data-series":e.id,opacity:C?.25:1,"aria-hidden":C?!0:void 0,children:[d&&a.jsx("path",{d:w,fill:`url(#${d})`,stroke:"none",role:"presentation",className:"fdp-line-series__gradient"}),a.jsx("path",{d:j,fill:"none",stroke:S,strokeWidth:c,role:"presentation"}),r&&e.data.map((x,v)=>{const _=h(s(x)),E=g(x.y),D=i?0:-1,B=!C&&(i&&v===o||N?.focused?.seriesId===e.id&&N.focused.index===v),A=()=>{N&&!C&&N.setFocused({seriesId:e.id,index:v,x:s(x),y:x.y,clientX:_,clientY:E})},I=()=>{N&&N.focused?.seriesId===e.id&&N.focused.index===v&&N.clear()};return a.jsx("circle",{cx:_,cy:E,r:B?5:3.5,stroke:B?"var(--nhs-fdp-color-primary-yellow, #ffeb3b)":M,strokeWidth:B?2:1,fill:B?"var(--nhs-fdp-color-grey-3, #aeb7bd)":S,className:"fdp-line-point",tabIndex:C?-1:D,"aria-label":`${e.label||e.id} ${s(x).toDateString()} value ${x.y}`,"data-series":e.id,"data-index":v,onMouseEnter:A,onFocus:A,onMouseLeave:I,onBlur:I},v)})]})},sk=({polite:e=!0,format:t})=>{const n=xr(),[r,i]=ne.useState(""),o=ne.useRef("");return ne.useEffect(()=>{if(!n?.focused)return;const{focused:s,aggregated:l}=n;let c;if(l&&l.length>1){const u=l.map(f=>`${f.seriesId} ${f.y}`).join("; ");c=`${s.x instanceof Date?s.x.toDateString():String(s.x)} â€“ ${u}`}else c=t?t({seriesId:s.seriesId,x:s.x,y:s.y,index:s.index}):ak(s.seriesId,s.x,s.y,s.index);if(c!==o.current){o.current=c,i("");const u=setTimeout(()=>i(c),10);return()=>clearTimeout(u)}},[n?.focused,t]),a.jsx("div",{"aria-live":e?"polite":"assertive","aria-atomic":"true",style:{position:"absolute",width:1,height:1,margin:-1,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",border:0},children:r})};function ak(e,t,n,r){const i=t instanceof Date?t.toDateString():String(t);return`Series ${e}, point ${r+1}, ${i}, value ${n}`}const lk=()=>{const e=xr(),t=Er();if(!e||!t||!e.focused)return null;const{focused:n,aggregated:r}=e,{innerWidth:i,innerHeight:o}=t,s=Math.min(Math.max(n.clientX,0),i),l=Math.min(Math.max(n.clientY,0),o),c=s+8,u=l-8,d=r.length>1,f=n.x instanceof Date?n.x.toDateString():String(n.x),p=d?f:`${f} â€¢ ${n.y}`,h=/\d+$/.exec(n.seriesId||""),g=h?parseInt(h[0],10)-1:0,m=qn(g>=0?g:0)||"#005eb8",y="var(--nhs-fdp-color-primary-yellow,#ffeb3b)";return a.jsxs("g",{className:"fdp-tooltip-layer",pointerEvents:"none",children:[a.jsx("circle",{cx:s,cy:l,r:7,fill:"none",stroke:y,strokeWidth:3}),a.jsx("circle",{cx:s,cy:l,r:5,fill:"#000",stroke:y,strokeWidth:1.5}),a.jsx("circle",{cx:s,cy:l,r:2.5,fill:m,stroke:"#fff",strokeWidth:.5}),d?(()=>{const N=r.map(M=>`${M.seriesId}: ${M.y}`),j=[p,...N],w=j.reduce((M,x)=>Math.max(M,x.length),0),b=Math.max(90,w*6.2+16),S=16*j.length+8;return a.jsxs("g",{children:[a.jsx("rect",{x:c,y:u-S,rx:4,ry:4,width:b,height:S,fill:"#212b32",opacity:.92}),j.map((M,x)=>a.jsx("text",{x:c+8,y:u-S+6+16*(x+.7),fill:"#fff",fontSize:12,children:M},x))]})})():a.jsxs("g",{children:[a.jsx("rect",{x:c,y:u-24,rx:4,ry:4,width:Math.max(60,p.length*6.2),height:24,fill:"#212b32",opacity:.92}),a.jsx("text",{x:c+8,y:u-8,fill:"#fff",fontSize:12,children:p})]})]})},ck=({items:e,palette:t="categorical",direction:n="row",interactive:r=!1,adjustStrokeForWhiteBackground:i=!0,hiddenIds:o,defaultHiddenIds:s=[],onVisibilityChange:l,formatAnnouncement:c})=>{const u=Ro(),d=!!(u&&!r&&!l&&o===void 0),f=r||d,p=e||[],h=o!==void 0,[g,m]=ne.useState(new Set(s)),y=h?new Set(o):g,[C,N]=ne.useState(""),j=w=>{if(d&&u){const D=u.isHidden(w);u.toggle(w);const A=p.find(L=>L.id===w)?.label||w,I=c?c(w,D,A):`${A} ${D?"shown":"hidden"}`;N(I);return}if(!f)return;const b=new Set(y),S=b.has(w);S?b.delete(w):b.add(w),h||m(b);const M=p.filter(D=>!b.has(D.id)).map(D=>D.id),x=Array.from(b);l?.(M,x);const _=p.find(D=>D.id===w)?.label||w,E=c?c(w,S,_):`${_} ${S?"shown":"hidden"}`;N(E)};return a.jsxs("div",{className:"fdp-legend-wrapper",children:[a.jsx("ul",{className:`fdp-legend fdp-legend--${n}`,children:p.map((w,b)=>{const S=w.palette||t,M=w.color||(S==="region"?Wi(w.id,b):S==="severity"?YS(w.id,b):S==="org-level"?JS(w.id,b):qn(b));let x=w.stroke||(S==="region"?Ra(w.id,b):S==="severity"?ZS(w.id,b):S==="org-level"?QS(w.id,b):ai(b));if(i&&x){const E=x.trim().toLowerCase();(E==="#fff"||E==="#ffffff"||E==="white"||/^rgb\(\s*255\s*,\s*255\s*,\s*255\s*\)$/.test(E))&&(x="#212b32")}const v=d&&u?u.isHidden(w.id):y.has(w.id),_=f?{"aria-pressed":!v,"aria-label":`${w.label} (${v?"show":"hide"})`,onClick:()=>j(w.id)}:{"aria-label":w.label};return a.jsxs("li",{className:`fdp-legend__item${v?" fdp-legend__item--hidden":""}`,children:[a.jsx("button",{type:"button",className:"fdp-legend__swatch",style:{backgroundColor:M,backgroundImage:w.patternDataUrl?`url(${w.patternDataUrl})`:void 0,backgroundSize:w.patternDataUrl?"auto":void 0,borderColor:x},..._}),a.jsx("span",{className:"fdp-legend__label",children:w.label})]},w.id)})}),f&&a.jsx("div",{className:"fdp-visually-hidden","aria-live":"polite","aria-atomic":"true",children:C})]})},uk=({series:e,seriesIndex:t,palette:n,parseX:r,areaOnly:i=!1,visibilityMode:o="remove",baselineY:s=0,smooth:l=!0,stacked:c,gradientFill:u=!0,colors:d})=>{const f=si();if(!f)return null;const{xScale:p,yScale:h}=f,m=Ro()?.isHidden(e.id)??!1,y=m&&o==="fade";if(m&&o==="remove")return null;const C=xr();ne.useEffect(()=>{if(!C)return;const M=e.data.map(x=>({x:r(x),y:x.y}));return C.registerSeries(e.id,M),()=>C.unregisterSeries(e.id)},[C,e.id,e.data,r]);const N=d&&d[t],j=e.color||N||(n==="region"?Wi(e.id,t):qn(t)),w=ne.useMemo(()=>c&&c.length===e.data.length?eu(e.data,M=>p(r(M)),M=>{const x=e.data.indexOf(M);return h(c[x].y1)},{smooth:l}):eu(e.data,M=>p(r(M)),M=>h(M.y),{smooth:l}),[e.data,c,p,h,r,l]),b=ne.useMemo(()=>{if(c&&c.length===e.data.length){const E=Kc().x(D=>p(r(D))).y0((D,B)=>h(c[B].y0)).y1((D,B)=>h(c[B].y1));return l&&E.curve($a),E(e.data)||""}const[M,x]=h.domain();let v=s;v<M?v=M:v>x&&(v=x);const _=Kc().x(E=>p(r(E))).y0(()=>h(v)).y1(E=>h(E.y));return l&&_.curve($a),_(e.data)||""},[e.data,c,p,h,r,s,l]),S=ne.useId();return a.jsxs("g",{className:"fdp-area-series","data-series":e.id,opacity:y?.25:1,"aria-hidden":y?!0:void 0,children:[u&&a.jsx("defs",{children:a.jsxs("linearGradient",{id:S,x1:"0%",y1:"0%",x2:"0%",y2:"100%",children:[a.jsx("stop",{offset:"0%",stopColor:j,stopOpacity:.25}),a.jsx("stop",{offset:"100%",stopColor:j,stopOpacity:0})]})}),a.jsx("path",{className:"fdp-area-series__fill",d:b,fill:u?`url(#${S})`:j,...u?{}:{fillOpacity:.25},stroke:"none"}),!i&&a.jsx("path",{d:w,fill:"none",stroke:j,strokeWidth:1})]})},dk=({series:e,seriesIndex:t,seriesCount:n,palette:r,parseX:i,focusable:o=!0,widthFactor:s=.8,groupGap:l=2,barWidth:c,adaptive:u=!1,adaptiveGroupOccupancy:d=.9,visibilityMode:f="remove",colorMode:p="series",allSeries:h,stacked:g,gapRatio:m=.15,minBarWidth:y,gradientFill:C=!1,gradientStrokeMatch:N=!0,opacity:j=1,fadedOpacity:w=.25,flatFillOpacity:b=1,colors:S})=>{const M=Math.max(0,m),x=si(),v=Er();if(!x||!v)return null;const{xScale:_,yScale:E}=x,B=Ro()?.isHidden(e.id)??!1,A=B&&f==="fade";if(B&&f==="remove")return null;const I=xr();ne.useEffect(()=>{if(!I)return;const K=e.data.map(oe=>({x:i(oe),y:oe.y}));return I.registerSeries(e.id,K),()=>I.unregisterSeries(e.id)},[I,e.id,e.data,i]);const L=typeof _.bandwidth=="function",F=L?_.bandwidth():void 0,G=ne.useMemo(()=>{if(F!=null)return F;const K=h&&h.length?h:[e],oe=[];K.forEach(de=>{de.data.forEach(Ce=>{const be=_(i(Ce));Number.isFinite(be)&&oe.push(be)})});const ye=oe.sort((de,Ce)=>de-Ce);if(ye.length<=1)return 40;const Z=[];for(let de=1;de<ye.length;de++)Z.push(ye[de]-ye[de-1]);return Z.sort((de,Ce)=>de-Ce),(Z[Math.floor(Z.length/2)]||40)*s},[e.data,h,_,i,s,F]),{basePerBar:ee}=ne.useMemo(()=>{if(L){const ye=G,Z=Math.max(1,(ye-l*(n-1))/n),se=e.barWidth??c;let de=se?Math.min(se,ye):Z;if(u){const Ce=ye*Math.min(1,Math.max(.05,d)),be=Math.max(1,(Ce-l*(n-1))/n);de=se?Math.min(de,be):be}return{basePerBar:de}}const K=e.barWidth??c,oe=Math.max(1,(G-l*(n-1))/n);if(u){const ye=h&&h.length?h:[e],Z=[];ye.forEach(Ge=>Ge.data.forEach(Pe=>{const $e=_(i(Pe));Number.isFinite($e)&&Z.push($e)})),Z.sort((Ge,Pe)=>Ge-Pe);const se=[];for(let Ge=1;Ge<Z.length;Ge++)se.push(Z[Ge]-Z[Ge-1]);se.sort((Ge,Pe)=>Ge-Pe);const Ce=(se[Math.floor(se.length/2)]||G)*Math.min(1,Math.max(.05,d)),be=Math.max(1,(Ce-l*(n-1))/n);return{basePerBar:K?Math.min(K,be):be}}return K?{basePerBar:Math.min(K,oe)}:{basePerBar:oe}},[L,G,l,n,c,e.barWidth,u,d,h,_,i]),T=ne.useMemo(()=>{if(L)return[];const K=[];return(h&&h.length?h:[e]).forEach(ye=>ye.data.forEach(Z=>{const se=_(i(Z));Number.isFinite(se)&&K.push(se)})),K.sort((ye,Z)=>ye-Z),Array.from(new Set(K))},[L,h,e,_,i]),X=ne.useMemo(()=>{if(L)return[];if(!T.length)return[];if(T.length===1)return[{center:T[0],left:0,right:v.innerWidth}];const K=[];for(let oe=0;oe<T.length;oe++){const ye=T[oe],Z=oe===0?0:(T[oe-1]+ye)/2,se=oe===T.length-1?v.innerWidth:(ye+T[oe+1])/2;K.push({center:ye,left:Math.max(0,Z),right:Math.min(v.innerWidth,se)})}return K},[L,T,v.innerWidth]),O=ne.useMemo(()=>{if(L||!X.length)return;const K=Math.min(1,Math.max(.05,s)),oe=X.map(Ce=>Math.max(2,Ce.right-Ce.left)),ye=oe.map(Ce=>Math.max(2,Math.min(Ce-1,Ce*K)));let Z=Math.min(...ye);if(y)if(n<=1){const Ce=Math.min(...oe.map(be=>be-1));Ce>=y&&Z<y&&(Z=Math.min(Ce,y))}else{const Ce=Math.min(...oe.map(q=>q-1)),be=y*n+(n-1)*(y*M);be<=Ce&&Z<be&&(Z=be)}if(n<=1)return y&&Z<y&&oe.every(be=>be>=y)?{groupWidth:y,barWidth:y}:{groupWidth:Z,barWidth:Z};let se=Z/(n+(n-1)*M);return se<1&&(se=1),y&&se<y&&y*n+(n-1)*(y*M)<=Z&&(se=y),{groupWidth:se*n+(n-1)*(se*M),barWidth:se}},[L,X,s,n,M,y]),$=S&&S[t]?S[t]:void 0,V=e.color||$||(r==="region"?Wi(e.id,t):qn(t)),Y=r==="region"?Ra(e.id,t):ai(t),R=N&&(e.color||$)?V:Y,J=Number.isFinite(E(0))?E(0):E.range()[0],te=ne.useId();return g&&g.length===e.data.length?a.jsxs("g",{className:"fdp-bar-series fdp-bar-series--stacked","data-series":e.id,opacity:A?w:j,"aria-hidden":A?!0:void 0,children:[C&&a.jsx("defs",{children:a.jsxs("linearGradient",{id:te,x1:"0%",y1:"0%",x2:"0%",y2:"100%",children:[a.jsx("stop",{offset:"0%",stopColor:V,stopOpacity:.3}),a.jsx("stop",{offset:"60%",stopColor:V,stopOpacity:.14}),a.jsx("stop",{offset:"100%",stopColor:V,stopOpacity:.06})]})}),e.data.map((K,oe)=>{const ye=i(K),Z=_(L?K.x:ye);let se,de;if(L)se=G,de=Z;else{const Q=X.find(fe=>Math.abs(fe.center-Z)<.5);if(!Q||!O)se=ee,de=Z-ee/2;else{const{groupWidth:fe}=O;se=fe;let me=Z-fe/2;me<Q.left&&(me=Q.left),me+fe>Q.right&&(me=Math.max(Q.left,Q.right-fe)),de=me}}const Ce=g[oe],be=E(Ce.y0),q=E(Ce.y1),Ge=Math.min(be,q),Pe=Math.abs(q-be)||1;if(!L&&y&&se<y){const Q=X.find(fe=>Math.abs(fe.center-Z)<.5);if(Q){const fe=Math.max(2,Q.right-Q.left-1),me=Math.min(fe,y);me>se&&(se=me,de=Math.max(Q.left,Math.min(Q.right-se,Z-se/2)))}}const $e=!A&&I?.focused?.seriesId===e.id&&I.focused.index===oe,xe=()=>{!I||A||I.setFocused({seriesId:e.id,index:oe,x:ye,y:Ce.y1-Ce.y0,clientX:de+se/2,clientY:Ge})},z=()=>{I?.focused?.seriesId===e.id&&I.focused.index===oe&&I.clear()};return a.jsx("rect",{x:de,y:Ge,width:se,height:Pe,fill:C?`url(#${te})`:V,...C?{}:{fillOpacity:b},stroke:$e?"var(--nhs-fdp-color-primary-yellow, #ffeb3b)":C&&N?V:void 0,strokeWidth:$e?2:1,className:"fdp-bar fdp-bar--stacked",tabIndex:A||!o?-1:0,role:"graphics-symbol","aria-label":`${e.label||e.id} ${ye instanceof Date?ye.toDateString():ye} value ${Ce.y1-Ce.y0}`,onMouseEnter:xe,onFocus:xe,onMouseLeave:z,onBlur:z},oe)})]}):a.jsxs("g",{className:"fdp-bar-series","data-series":e.id,opacity:A?w:j,"aria-hidden":A?!0:void 0,children:[C&&a.jsxs("defs",{children:[p==="series"&&a.jsxs("linearGradient",{id:te,x1:"0%",y1:"0%",x2:"0%",y2:"100%",children:[a.jsx("stop",{offset:"0%",stopColor:V,stopOpacity:.3}),a.jsx("stop",{offset:"60%",stopColor:V,stopOpacity:.14}),a.jsx("stop",{offset:"100%",stopColor:V,stopOpacity:.06})]}),p==="category"&&e.data.map((K,oe)=>{const Z=S&&S[oe]||(r==="region"?Wi(String(K.x),oe):qn(oe)),se=`${te}-${oe}`;return a.jsxs("linearGradient",{id:se,x1:"0%",y1:"0%",x2:"0%",y2:"100%",children:[a.jsx("stop",{offset:"0%",stopColor:Z,stopOpacity:.3}),a.jsx("stop",{offset:"60%",stopColor:Z,stopOpacity:.14}),a.jsx("stop",{offset:"100%",stopColor:Z,stopOpacity:.06})]},se)})]}),e.data.map((K,oe)=>{const ye=i(K),Z=_(L?K.x:ye);let se,de;if(L){const H=G;if(n<=1)de=H,se=Z;else{de=Math.max(1,H/(n+(n-1)*M));const W=de*M,le=de*n+W*(n-1);se=Z+(H-le)/2+t*(de+W)}}else{const H=X.find(W=>W.center===Z);if(!H||!O)de=ee,se=Z-ee/2,y&&de<y&&(de=y,se=Z-de/2);else{const{barWidth:W}=O;de=W;const le=n>1?W*M:0,re=de*n+le*(n-1);let ce=Z-re/2;ce<H.left&&(ce=H.left),ce+re>H.right&&(ce=Math.max(H.left,H.right-re)),se=ce+t*(de+le)}if(y&&de<y){const W=X.find(le=>Math.abs(le.center-Z)<.5);if(W){const le=Math.max(2,W.right-W.left-1),re=Math.min(le,y);if(re>de)if(n<=1)de=re,se=Math.max(W.left,Math.min(W.right-de,Z-de/2));else{const ce=re*M,ue=re*n+ce*(n-1);if(ue<=W.right-W.left-1){de=re;const ve=ue;let Me=Z-ve/2;Me<W.left&&(Me=W.left),Me+ve>W.right&&(Me=Math.max(W.left,W.right-ve)),se=Me+t*(de+ce)}}}}}const Ce=se+de/2,be=E(K.y),q=Math.min(J,be),Ge=Math.abs(J-be),Pe=!A&&I?.focused?.seriesId===e.id&&I.focused.index===oe,$e=()=>{!I||A||I.setFocused({seriesId:e.id,index:oe,x:ye,y:K.y,clientX:Ce,clientY:be})},xe=()=>{I?.focused?.seriesId===e.id&&I.focused.index===oe&&I.clear()},z=p==="category"&&S?S[oe]:void 0,Q=p==="category"?z||(r==="region"?Wi(String(K.x),oe):qn(oe)):V,fe=p==="category"?`${te}-${oe}`:te,me=C&&N?Q:p==="category"?r==="region"?Ra(String(K.x),oe):ai(oe):R,_e=Pe?"var(--nhs-fdp-color-primary-yellow, #ffeb3b)":me||Q;return a.jsx("rect",{x:se,y:q,width:de,height:Ge||1,fill:C?`url(#${fe})`:Q,...C?{}:{fillOpacity:b},stroke:_e,strokeWidth:Pe?2:1,className:"fdp-bar",tabIndex:A||!o?-1:0,role:"graphics-symbol","aria-label":`${e.label||e.id} ${ye instanceof Date?ye.toDateString():ye} value ${K.y}`,onMouseEnter:$e,onFocus:$e,onMouseLeave:xe,onBlur:xe},oe)})]})},fk=({series:e,innerWidth:t,innerHeight:n,paddingInner:r=.1,paddingOuter:i=.05,children:o,yTickCount:s=5})=>{const l=Er(),c=t??l?.innerWidth??0,u=n??l?.innerHeight??0,d=ne.useMemo(()=>e.flatMap(y=>y.data),[e]),f=ne.useMemo(()=>{const y=new Set;return d.forEach(C=>y.add(C.x)),Array.from(y)},[d]),p=ne.useMemo(()=>Math.max(0,...d.map(y=>y.y)),[d]),h=ne.useMemo(()=>ah().domain(f).range([0,c]).paddingInner(r).paddingOuter(i),[f,c,r,i]),g=ne.useMemo(()=>wa().domain([0,p]).nice().range([u,0]),[p,u]),m=ne.useMemo(()=>({xScale:h,yScale:g,getXTicks:()=>f,getYTicks:(y=s)=>g.ticks(y)}),[h,g,f,s]);return a.jsx(tu.Provider,{value:m,children:o})},hk=({title:e,description:t,source:n,table:r,className:i,id:o,message:s="Interactive chart loadingâ€¦",forceFallback:l=!1})=>{const c=ne.useId(),u=o||c,d=t?`${u}-desc`:void 0,f=n?`${u}-src`:void 0,p=typeof window<"u"&&!l;return a.jsxs("figure",{id:u,className:Zn("fdp-chart fdp-chart--noscript",i),"aria-labelledby":`${u}-title`,"aria-describedby":Zn(d,f),"data-component":"ChartNoScript",children:[a.jsx("header",{className:"fdp-chart__header",children:a.jsx("h3",{id:`${u}-title`,className:"fdp-chart__title",children:e})}),t&&a.jsx("p",{id:d,className:"fdp-chart__description",children:t}),!p&&a.jsx("div",{className:"fdp-chart__loading",role:"status","aria-live":"polite",children:s}),a.jsxs("div",{className:"fdp-chart__fallback",role:"group","aria-label":e,children:[a.jsx("noscript",{children:a.jsx("div",{className:"fdp-chart__noscript-wrapper",children:a.jsx(Vn,{...r})})}),a.jsx("div",{className:"fdp-chart__table","data-fallback-table":!0,children:a.jsx(Vn,{...r})})]}),n&&a.jsx("figcaption",{className:"fdp-chart__caption",children:n&&a.jsxs("small",{id:f,className:"fdp-chart__source",children:["Source: ",n]})})]})},pk=({selector:e="figure.fdp-chart",onEnhanced:t,delay:n=0,children:r})=>{const i=ne.useRef(null);return ne.useEffect(()=>{const o=i.current;if(!o)return;const s=()=>{const l=Array.from(o.querySelectorAll(e));if(l.length===0)return;const c=[];l.forEach(u=>{u.classList.contains("fdp-chart--enhanced")||(u.classList.add("fdp-chart--enhanced"),c.push(u))}),c.length&&t&&t(c)};if(n>0){if(typeof window>"u")return;const l=window.setTimeout(s,n);return()=>window.clearTimeout(l)}s()},[e,t,n]),a.jsx("div",{ref:i,children:r})},om=({label:e,value:t,unit:n,delta:r,status:i="neutral",variant:o="default",subtitle:s,metadata:l,trendData:c,loading:u=!1,error:d,valueFormatter:f,className:p,style:h,id:g,announceDelta:m=!0,visual:y})=>{const C=ne.useId(),N=g||C,j=`${N}-label`,w=`${N}-value`,b=`${N}-delta`,S=typeof t=="number"&&!Number.isNaN(t),M=u?"â€”":d?"":S?f?f(t):t.toLocaleString():t;let x,v="",_="";if(r&&!u&&!d){x=r.direction||(r.value>0?"up":r.value<0?"down":"neutral");const E=Math.abs(r.value),D=x==="up"?`+${E}`:x==="down"?`-${E}`:"0",B=r.isPercent?"%":"";if(v=`${D}${B}`,r.ariaLabel)_=r.ariaLabel;else{const A=r.invert?x==="down":x==="up";_=`${x==="neutral"?"no change":x==="up"?"up":"down"} ${E}${B}${x==="neutral"?"":A?" (improvement)":" (worse)"}`}}return a.jsx("div",{className:Zn("fdp-metric-card",o&&`fdp-metric-card--${o}`,i&&`fdp-metric-card--status-${i}`,u&&"fdp-metric-card--loading",d&&"fdp-metric-card--error",p),style:h,role:"group","aria-labelledby":j,"data-component":"MetricCard",children:a.jsxs("div",{className:"fdp-metric-card__inner",children:[a.jsxs("div",{className:"fdp-metric-card__header",children:[a.jsx("h3",{id:j,className:"fdp-metric-card__label",children:e}),l&&a.jsx("div",{className:"fdp-metric-card__metadata",children:l})]}),a.jsxs("div",{className:"fdp-metric-card__content",children:[a.jsxs("div",{className:"fdp-metric-card__value-section",children:[a.jsx("div",{id:w,className:"fdp-metric-card__value",children:u?a.jsx("div",{className:"fdp-metric-card__skeleton","aria-hidden":"true",children:a.jsx("div",{className:"fdp-metric-card__skeleton-line fdp-metric-card__skeleton-line--value"})}):d?a.jsx("div",{className:"fdp-metric-card__error",role:"alert",children:d}):a.jsxs(a.Fragment,{children:[a.jsx("span",{className:"fdp-metric-card__number",children:M}),n&&a.jsx("span",{className:"fdp-metric-card__unit",children:n})]})}),s&&!u&&!d&&a.jsx("div",{className:"fdp-metric-card__subtitle",children:s})]}),r&&!u&&!d&&a.jsx("div",{className:"fdp-metric-card__delta-section",children:a.jsxs("div",{id:b,"aria-label":_,className:Zn("fdp-metric-card__delta",x&&`fdp-metric-card__delta--${x}`),children:[a.jsx("span",{className:"fdp-metric-card__delta-value",children:v}),r.period&&a.jsx("span",{className:"fdp-metric-card__delta-period",children:r.period})]})}),c&&c.length>0&&!u&&!d&&a.jsx("div",{className:"fdp-metric-card__trend","aria-hidden":"true"})]}),y&&!d&&a.jsx("div",{className:"fdp-metric-card__visual","aria-hidden":"true",children:y}),m&&r&&!r.ariaLabel&&!u&&!d&&a.jsx("div",{className:"fdp-visually-hidden","aria-live":"polite",children:_})]})})};var At=(e=>(e.Xs="xs",e.Sm="sm",e.Md="md",e.Lg="lg",e.Xl="xl",e.Full="full",e))(At||{}),sm=(e=>(e.XmR="XmR",e.T="T",e.G="G",e))(sm||{}),Pr=(e=>(e.Up="Up",e.Down="Down",e.Neither="Neither",e))(Pr||{}),et=(e=>(e.Improvement="improvement",e.Concern="concern",e.Neither="neither",e.Suppressed="suppressed",e))(et||{});const fu=["single_point","two_sigma","shift","trend"];fu.reduce((e,t,n)=>(e[t]=n+1,e),{});const mk={single_point:"Single point beyond process limit",two_sigma:"Two of three beyond 2Ïƒ on one side",shift:"Sustained shift (run)",trend:"Monotonic trend"},gk={single_point:"point",two_sigma:"cluster",shift:"sustained",trend:"sustained"},am=fu.reduce((e,t,n)=>(e[t]={id:t,rank:n+1,label:mk[t],category:gk[t],participatesInRanking:!0},e),{});fu.map(e=>am[e]);var Ho=(e=>(e.SinglePointAbove="single_above",e.SinglePointBelow="single_below",e.TwoOfThreeAbove="two_of_three_above",e.TwoOfThreeBelow="two_of_three_below",e.FourOfFiveAbove="four_of_five_above",e.FourOfFiveBelow="four_of_five_below",e.ShiftHigh="shift_high",e.ShiftLow="shift_low",e.TrendIncreasing="trend_inc",e.TrendDecreasing="trend_dec",e.FifteenInnerThird="fifteen_inner_third",e))(Ho||{}),Fr=(e=>(e.Pass="pass",e.Fail="fail",e.None="none",e))(Fr||{}),lm=(e=>(e.Shift="shift",e.Trend="trend",e.Point="point",e))(lm||{});const Gi={singlePointUp:{tooltip:"Single point above upper control limit",narration:"Single point beyond a control limit"},singlePointDown:{tooltip:"Single point below lower control limit",narration:"Single point beyond a control limit"},twoOfThreeUp:{tooltip:"Two of three points beyond +2Ïƒ",narration:"Two of three points beyond two sigma (same side)"},twoOfThreeDown:{tooltip:"Two of three points beyond -2Ïƒ",narration:"Two of three points beyond two sigma (same side)"},fourOfFiveUp:{tooltip:"Four of five points beyond +1Ïƒ",narration:"Four of five points beyond one sigma (same side)"},fourOfFiveDown:{tooltip:"Four of five points beyond -1Ïƒ",narration:"Four of five points beyond one sigma (same side)"},shiftUp:{tooltip:"Shift: run of points above centre line",narration:"Shift (run on one side of mean)"},shiftDown:{tooltip:"Shift: run of points below centre line",narration:"Shift (run on one side of mean)"},trendUp:{tooltip:"Trend: consecutive increasing points",narration:"Trend (consecutive increases)"},trendDown:{tooltip:"Trend: consecutive decreasing points",narration:"Trend (consecutive decreases)"}};function Ha(e){if(!e)return[];const t=[];return e.specialCauseSinglePointUp&&t.push("singlePointUp"),e.specialCauseSinglePointDown&&t.push("singlePointDown"),e.specialCauseTwoOfThreeUp&&t.push("twoOfThreeUp"),e.specialCauseTwoOfThreeDown&&t.push("twoOfThreeDown"),e.specialCauseFourOfFiveUp&&t.push("fourOfFiveUp"),e.specialCauseFourOfFiveDown&&t.push("fourOfFiveDown"),e.specialCauseShiftUp&&t.push("shiftUp"),e.specialCauseShiftDown&&t.push("shiftDown"),e.specialCauseTrendUp&&t.push("trendUp"),e.specialCauseTrendDown&&t.push("trendDown"),t}function za(e){switch(e){case et.Improvement:return"Improvement signal";case et.Concern:return"Concern signal";case et.Neither:return"Common cause variation";case et.Suppressed:return null;default:return null}}function cm(e){switch(e){case Fr.Pass:return"Target met";case Fr.Fail:return"Target not met";default:return null}}function yk(e,t,n){if(e==null||!Number.isFinite(t)||t<=0)return null;const r=Math.abs((n-e)/t);return r<1?"Within 1Ïƒ":r<2?"Between 1â€“2Ïƒ":r<3?"Between 2â€“3Ïƒ":"Beyond 3Ïƒ"}const Wn={improvement:{token:"var(--nhs-fdp-color-data-viz-spc-improvement, #00B0F0)",hex:"#00B0F0"},concern:{token:"var(--nhs-fdp-color-data-viz-spc-concern, #E46C0A)",hex:"#E46C0A"},neither:{token:"var(--nhs-fdp-color-data-viz-spc-common-cause, #A6A6A6)",hex:"#A6A6A6"},suppressed:{token:"var(--nhs-fdp-color-data-viz-spc-no-judgement, #490092)",hex:"#490092"}};function um(e){return e?Wn[e]?.token??Wn.neither.token:Wn.neither.token}function bk(e){return e?Wn[e]?.hex??Wn.neither.hex:Wn.neither.hex}var li=(e=>(e.Pass="pass",e.Fail="fail",e.Uncertain="uncertain",e))(li||{});const vk={pass:"#00B0F0",fail:"#E46C0A",uncertain:"#A6A6A6"},xk={pass:"P",fail:"F",uncertain:"?"};var Et=(e=>(e.HigherIsBetter="higher_is_better",e.LowerIsBetter="lower_is_better",e.ContextDependent="context_dependent",e))(Et||{}),Ke=(e=>(e.Higher="higher",e.Lower="lower",e))(Ke||{}),hn=(e=>(e.Improving="improving",e.Deteriorating="deteriorating",e.No_Judgement="no_judgement",e.None="none",e))(hn||{}),Ve=(e=>(e.SpecialCauseImproving="special_cause_improving",e.SpecialCauseDeteriorating="special_cause_deteriorating",e.CommonCause="common_cause",e.SpecialCauseNoJudgement="special_cause_no_judgement",e))(Ve||{});const _k=e=>{const t=e.replace("#",""),n=parseInt(t.slice(0,2),16)/255,r=parseInt(t.slice(2,4),16)/255,i=parseInt(t.slice(4,6),16)/255,o=[n,r,i].map(l=>l<=.03928?l/12.92:Math.pow((l+.055)/1.055,2.4));return .2126*o[0]+.7152*o[1]+.0722*o[2]<.55?"#ffffff":"#212b32"},Ua={special_cause_deteriorating:{hex:Wn.concern.hex,judgement:"deteriorating",label:"Special Cause (Deteriorating)",description:"Deteriorating variation detected (special cause) relative to baseline."},special_cause_improving:{hex:Wn.improvement.hex,judgement:"improving",label:"Special Cause (Improving)",description:"Improving variation detected (special cause) relative to baseline."},common_cause:{hex:Wn.neither.hex,judgement:"none",label:"Common Cause",description:"Common cause variation only â€“ no special cause detected."},special_cause_no_judgement:{hex:Wn.suppressed.hex,judgement:"no_judgement",label:"Special Cause (No Judgement)",description:"Special cause detected without assigning improving/deteriorating judgement."}};Object.values(Ua).forEach(e=>{e.text||(e.text=_k(e.hex))});const dm=e=>Ua[e],hu=e=>Ua[e].judgement||"none",fm={special:{higher:[{cx:77.5,cy:158.5},{cx:114,cy:175},{cx:150.5,cy:158.5},{cx:188,cy:125},{cx:225,cy:137}],lower:[{cx:77.5,cy:139.5},{cx:114,cy:124.5},{cx:150.5,cy:139.5},{cx:188,cy:175.5},{cx:224.5,cy:162}]},common:[{cx:76.5,cy:149.5},{cx:113,cy:179.5},{cx:149.5,cy:117},{cx:187,cy:171},{cx:223.5,cy:158}]};function wk(e,t){let n;return e==="common_cause"?n=fm.common:n=fm.special[t==="lower"?"lower":"higher"],n.map(r=>({...r}))}let pu=null;try{pu=require("@fergusbisset/nhs-fdp-design-system/dist/js/tokens.json")?.color?.["data-viz"]?.spc||null}catch{}const Kt=(e,t)=>{if(!pu)return t;const n=e.split(".");let r=pu;for(const o of n){if(r==null)break;r=r[o]}const i=r;return i==null?t:typeof i=="string"||typeof i=="number"?String(i):i.$value!=null?String(i.$value):i.value!=null?String(i.value):t},Wa=()=>({start:Kt("gradient.stop.start-opacity","0.12"),mid:Kt("gradient.stop.mid-opacity","0.03"),end:Kt("gradient.stop.end-opacity","0"),triStart:Kt("gradient.stop.triangle-start-opacity",Kt("gradient.stop.start-opacity","0.12")),triMid:Kt("gradient.stop.triangle-mid-opacity",Kt("gradient.stop.mid-opacity","0.03")),triEnd:Kt("gradient.stop.triangle-end-opacity",Kt("gradient.stop.end-opacity","0"))}),Ga={improvement:"improvement",concern:"concern",noJudgement:"no-judgement",common:"common-cause"},Ya={improvement:"#00B0F0",concern:"#E46C0A",noJudgement:"#490092",common:"#A6A6A6"},hm=()=>Kt(Ga.improvement,Ya.improvement),pm=()=>Kt(Ga.concern,Ya.concern),Sk=()=>Kt(Ga.noJudgement,Ya.noJudgement),ci=()=>Kt(Ga.common,Ya.common);function Va(e){switch(e){case et.Improvement:return hm();case et.Concern:return pm();case et.Neither:case et.Suppressed:default:return ci()}}function mm(e){switch(e){case Ve.SpecialCauseImproving:return hm();case Ve.SpecialCauseDeteriorating:return pm();case Ve.SpecialCauseNoJudgement:return Sk();case Ve.CommonCause:default:return ci()}}var _n=(e=>(e.XmR="XmR",e.T="T",e.G="G",e))(_n||{}),tt=(e=>(e.Up="Up",e.Down="Down",e.Neither="Neither",e))(tt||{}),We=(e=>(e.ImprovementHigh="ImprovementHigh",e.ImprovementLow="ImprovementLow",e.ConcernHigh="ConcernHigh",e.ConcernLow="ConcernLow",e.NeitherHigh="NeitherHigh",e.NeitherLow="NeitherLow",e.CommonCause="CommonCause",e))(We||{}),St=(e=>(e.SinglePoint="SinglePoint",e.TwoSigma="TwoSigma",e.Shift="Shift",e.Trend="Trend",e))(St||{}),ui=(e=>(e.Upwards="Upwards",e.Downwards="Downwards",e.Same="Same",e))(ui||{}),Xn=(e=>(e.Up="Up",e.Down="Down",e))(Xn||{}),Yi=(e=>(e.Improvement="Improvement",e.Concern="Concern",e))(Yi||{}),Vi=(e=>(e.SqlPrimeThenRule="SqlPrimeThenRule",e.PreferImprovement="PreferImprovement",e.RuleHierarchy="RuleHierarchy",e))(Vi||{}),Zt=(e=>(e.FavourableSide="FavourableSide",e.CrossingAfterFavourable="CrossingAfterFavourable",e.ExtremeFavourable="ExtremeFavourable",e.FirstFavourable="FirstFavourable",e.LongestFavourable="LongestFavourable",e.LastFavourable="LastFavourable",e.UnfavourableSide="UnfavourableSide",e.CrossingAfterUnfavourable="CrossingAfterUnfavourable",e.ExtremeUnfavourable="ExtremeUnfavourable",e.FirstUnfavourable="FirstUnfavourable",e.LongestUnfavourable="LongestUnfavourable",e.LastUnfavourable="LastUnfavourable",e))(Zt||{}),_r=(e=>(e.Off="Off",e.AutoWhenConflict="AutoWhenConflict",e.Always="Always",e))(_r||{}),Jn=(e=>(e.Info="info",e.Warning="warning",e.Error="error",e))(Jn||{}),Za=(e=>(e.Config="config",e.Data="data",e.Limits="limits",e.SpecialCause="special_cause",e.Baseline="baseline",e.Logic="logic",e.Target="target",e.Ghost="ghost",e.Partition="partition",e))(Za||{}),qa=(e=>(e.UnknownChartType="unknown_chart_type",e.InsufficientPointsGlobal="insufficient_points_global",e.VariationConflictRow="variation_conflict_row",e.NullValuesExcluded="null_values_excluded",e.TargetIgnoredRareEvent="target_ignored_rare_event",e.GhostRowsRareEvent="ghost_rows_rare_event",e.InsufficientPointsPartition="insufficient_points_partition",e.BaselineWithSpecialCause="baseline_with_special_cause",e.PartitionCapApplied="partition_cap_applied",e.GlobalCapApplied="global_cap_applied",e))(qa||{});const $r={[St.SinglePoint]:1,[St.TwoSigma]:2,[St.Shift]:3,[St.Trend]:4},gm=3.267,kk=2.66,ym=.2777;function Xe(e){return typeof e=="number"&&!Number.isNaN(e)}function Zi(e){return e.reduce((t,n)=>t+n,0)/(e.length||1)}function bm(e,t){const n=new Array(e.length).fill(null);let r=null;for(let i=0;i<e.length;i++){const o=e[i];if(!(t[i]||!Xe(o))){if(r!==null){const s=e[r];Xe(s)&&(n[i]=Math.abs(o-s))}r=i}}return n}function vm(e,t){const n=e.filter(Xe);if(!n.length)return{mrMean:NaN,mrUcl:NaN};let r=n.slice();if(t){const o=Zi(r),s=gm*o;r=r.filter(l=>l<=s)}const i=Zi(r);return{mrMean:i,mrUcl:gm*i}}function xm(e,t){if(!Xe(e)||!Xe(t))return{upperProcessLimit:null,lowerProcessLimit:null,upperTwoSigma:null,lowerTwoSigma:null,upperOneSigma:null,lowerOneSigma:null};const n=kk*t,r=2/3*n,i=1/3*n;return{upperProcessLimit:e+n,lowerProcessLimit:e-n,upperTwoSigma:e+r,lowerTwoSigma:e-r,upperOneSigma:e+i,lowerOneSigma:e-i}}function Ck(e,t,n,r){if(e===_n.T){const f=t.map(x=>Xe(x)&&x>0?Math.pow(x,ym):null),p=bm(f,n),h=vm(p,r),g=f.filter((x,v)=>!n[v]&&Xe(x)),m=g.length?Zi(g):NaN,y=xm(m,h.mrMean),C=x=>Xe(x)&&x>0?Math.pow(x,1/ym):null,N=Xe(y.upperProcessLimit)?C(y.upperProcessLimit):null,j=Xe(y.lowerProcessLimit)&&y.lowerProcessLimit>0?C(y.lowerProcessLimit):null,w=Xe(y.upperTwoSigma)?C(y.upperTwoSigma):null,b=Xe(y.lowerTwoSigma)&&y.lowerTwoSigma>0?C(y.lowerTwoSigma):null,S=Xe(y.upperOneSigma)?C(y.upperOneSigma):null,M=Xe(y.lowerOneSigma)&&y.lowerOneSigma>0?C(y.lowerOneSigma):null;return{mean:Xe(m)&&m>0?C(m):null,mr:p,mrMean:h.mrMean,mrUcl:h.mrUcl,upperProcessLimit:N,lowerProcessLimit:j,upperTwoSigma:w,lowerTwoSigma:b,upperOneSigma:S,lowerOneSigma:M}}if(e===_n.G){const f=t.filter((E,D)=>!n[D]&&Xe(E)),p=f.length?Zi(f):NaN,h=Xe(p)?1/(p+1):NaN,g=E=>{if(!Xe(h)||h<=0||h>=1)return NaN;const D=Math.ceil(Math.log(1-E)/Math.log(1-h))-1;return Math.max(0,D)},m=.00135,y=1-.00135,C=.02275,N=1-.02275,j=.158655,w=1-.158655,b=g(y),S=g(m),M=g(N),x=g(C),v=g(w),_=g(j);return{mean:Xe(p)?p:null,mr:new Array(t.length).fill(null),mrMean:NaN,mrUcl:NaN,upperProcessLimit:Xe(b)?b:null,lowerProcessLimit:Xe(S)?S:null,upperTwoSigma:Xe(M)?M:null,lowerTwoSigma:Xe(x)?x:null,upperOneSigma:Xe(v)?v:null,lowerOneSigma:Xe(_)?_:null}}if(e!==_n.XmR)return{mean:NaN,mr:new Array(t.length).fill(null),mrMean:NaN,mrUcl:NaN,upperProcessLimit:null,lowerProcessLimit:null,upperTwoSigma:null,lowerTwoSigma:null,upperOneSigma:null,lowerOneSigma:null};const i=bm(t,n),o=i.filter(Xe),s=o.length?Zi(o):NaN,l=Xe(s)?3.267*s:NaN;let c=NaN;{const f=t.reduce((p,h,g)=>{if(n[g]||!Xe(h))return p;if(!r)return p.push(h),p;const m=i[g];return(m===null||!Xe(l)||Xe(m)&&m<=l)&&p.push(h),p},[]);c=f.length?Zi(f):NaN}const u=vm(i,r),d=xm(c,u.mrMean);return{mean:c,mr:i,mrMean:u.mrMean,mrUcl:u.mrUcl,...d}}function Nk(e,t){const n=e.map((c,u)=>u).filter(c=>!e[c].ghost&&Xe(e[c].value)),r=c=>e[c],i=t.shiftPoints,o=t.trendPoints;let s=[],l=[];for(const c of n){const u=r(c);if(!Xe(u.mean)||!Xe(u.value)?(s=[],l=[]):u.value>u.mean?(s.push(c),l=[]):u.value<u.mean?(l.push(c),s=[]):(s=[],l=[]),s.length>=i)for(const d of s)r(d).shiftUp=!0;if(l.length>=i)for(const d of l)r(d).shiftDown=!0}for(let c=0;c<=n.length-3;c++){const d=n.slice(c,c+3).map(r);if(!d.every(w=>Xe(w.value)&&Xe(w.mean)))continue;const f=d[0].mean,p=d.every(w=>w.value>f),h=d.every(w=>w.value<f);if(!p&&!h)continue;const g=d[0].upperTwoSigma??1/0,m=d[0].lowerTwoSigma??-1/0,y=d[0].upperProcessLimit??1/0,C=d[0].lowerProcessLimit??-1/0,N=d.filter(w=>t.twoSigmaIncludeAboveThree?w.value>g:w.value>g&&w.value<=y),j=d.filter(w=>t.twoSigmaIncludeAboveThree?w.value<m:w.value<m&&w.value>=C);p&&N.length>=2&&N.forEach(w=>w.twoSigmaUp=!0),h&&j.length>=2&&j.forEach(w=>w.twoSigmaDown=!0)}if(t.enableFourOfFiveRule)for(let c=0;c<=n.length-5;c++){const d=n.slice(c,c+5).map(r);if(!d.every(N=>Xe(N.value)&&Xe(N.mean)))continue;const f=d[0].mean,p=d.every(N=>N.value>f),h=d.every(N=>N.value<f);if(!p&&!h)continue;const g=d[0].upperOneSigma??1/0,m=d[0].lowerOneSigma??-1/0,y=d.filter(N=>N.value>g),C=d.filter(N=>N.value<m);p&&y.length>=4&&y.forEach(N=>N.fourOfFiveUp=!0),h&&C.length>=4&&C.forEach(N=>N.fourOfFiveDown=!0)}for(let c=0;c<=n.length-o;c++){const u=n.slice(c,c+o),d=u.map(r);if(!d.every(h=>Xe(h.value)))continue;let f=!0,p=!0;for(let h=1;h<d.length&&(d[h].value>d[h-1].value||(f=!1),d[h].value<d[h-1].value||(p=!1),!(!f&&!p));h++);f&&u.forEach(h=>r(h).trendUp=!0),p&&u.forEach(h=>r(h).trendDown=!0)}}function _m(e){const t=[],n=[];e.singlePointUp&&t.push({id:St.SinglePoint,rank:$r[St.SinglePoint]}),e.singlePointDown&&n.push({id:St.SinglePoint,rank:$r[St.SinglePoint]}),e.twoSigmaUp&&t.push({id:St.TwoSigma,rank:$r[St.TwoSigma]}),e.twoSigmaDown&&n.push({id:St.TwoSigma,rank:$r[St.TwoSigma]}),e.shiftUp&&t.push({id:St.Shift,rank:$r[St.Shift]}),e.shiftDown&&n.push({id:St.Shift,rank:$r[St.Shift]}),e.trendUp&&t.push({id:St.Trend,rank:$r[St.Trend]}),e.trendDown&&n.push({id:St.Trend,rank:$r[St.Trend]});const r=t.reduce((s,l)=>Math.max(s,l.rank),0),i=n.reduce((s,l)=>Math.max(s,l.rank),0),o=r>i?ui.Upwards:i>r?ui.Downwards:ui.Same;return{up:t,dn:n,upMax:r,dnMax:i,primeDirection:o}}function wm(e,t){const n=t===tt.Up?e.singlePointUp||e.twoSigmaUp||e.shiftUp||e.trendUp:t===tt.Down?e.singlePointDown||e.twoSigmaDown||e.shiftDown||e.trendDown:!1,r=t===tt.Up?e.singlePointDown||e.twoSigmaDown||e.shiftDown||e.trendDown:t===tt.Down?e.singlePointUp||e.twoSigmaUp||e.shiftUp||e.trendUp:!1;return{aligned:n,opposite:r}}function Sm(e,t,n,r=!1,i,o,s=!1){const{up:l,dn:c,upMax:u,dnMax:d,primeDirection:f}=_m(e);e.primeDirection=f;const p=e.specialCauseImprovementValue,h=e.specialCauseConcernValue;e.specialCauseImprovementValue!==null&&e.specialCauseConcernValue!==null&&Mk({row:e,metric:t,metricConflictRule:n,preferImprovementWhenConflict:r,preferTrendWhenConflict:s,primeDirection:f,conflictStrategy:i,ruleHierarchy:o}),t===tt.Up?e.variationIcon=e.specialCauseImprovementValue!==null?We.ImprovementHigh:e.specialCauseConcernValue!==null?We.ConcernLow:We.CommonCause:t===tt.Down?e.variationIcon=e.specialCauseImprovementValue!==null?We.ImprovementLow:e.specialCauseConcernValue!==null?We.ConcernHigh:We.CommonCause:e.variationIcon=We.CommonCause;const g=e.specialCauseImprovementValue!==null?Xn.Up:e.specialCauseConcernValue!==null?Xn.Down:void 0,m=g===Xn.Up?u:g===Xn.Down?d:Math.max(u,d);e.primeRank=m||void 0;const y=g===Xn.Up?l.find(C=>C.rank===m):g===Xn.Down?c.find(C=>C.rank===m):void 0;return e.primeRuleId=y?.id,{originalImprovement:p,originalConcern:h}}function Mk(e){const{row:t,metric:n,metricConflictRule:r,preferImprovementWhenConflict:i,preferTrendWhenConflict:o,primeDirection:s=t.primeDirection??ui.Same,conflictStrategy:l,ruleHierarchy:c}=e;if(o&&t.specialCauseImprovementValue!==null&&t.specialCauseConcernValue!==null){const d=!!t.trendUp,f=!!t.trendDown;if(n===tt.Up){if(d&&!f){t.specialCauseConcernValue=null;return}if(!d&&f){t.specialCauseImprovementValue=null;return}}else if(n===tt.Down){if(f&&!d){t.specialCauseConcernValue=null;return}if(!f&&d){t.specialCauseImprovementValue=null;return}}}const u=i?Vi.PreferImprovement:l??Vi.SqlPrimeThenRule;if(u===Vi.PreferImprovement){n===tt.Up?t.specialCauseConcernValue=null:n===tt.Down&&(t.specialCauseImprovementValue=null);return}if(u===Vi.RuleHierarchy){const d=c??[St.Trend,St.Shift,St.TwoSigma,St.SinglePoint],{up:f,dn:p}=_m(t);for(const h of d){const g=f.some(y=>y.id===h),m=p.some(y=>y.id===h);if(g&&!m){n===tt.Up?t.specialCauseConcernValue=null:t.specialCauseImprovementValue=null;return}if(m&&!g){n===tt.Up?t.specialCauseImprovementValue=null:t.specialCauseConcernValue=null;return}if(g&&m){(n===tt.Up||n===tt.Down)&&(r===Yi.Improvement?t.specialCauseConcernValue=null:t.specialCauseImprovementValue=null);return}}}s===ui.Upwards?n===tt.Up?t.specialCauseConcernValue=null:n===tt.Down&&(t.specialCauseImprovementValue=null):s===ui.Downwards?n===tt.Up?t.specialCauseImprovementValue=null:n===tt.Down&&(t.specialCauseConcernValue=null):r===Yi.Improvement?t.specialCauseConcernValue=null:t.specialCauseImprovementValue=null}var mu=(e=>(e.Up="Up",e.Down="Down",e))(mu||{});function jk(e){return e>0?1:e<0?-1:0}function Tk(e){const t=jk(e);if(t>0)return"Above";if(t<0)return"Below"}function km(e){const t=[],n=(s,l,c)=>({segStart:s,segSide:l,minV:c,maxV:c,maxAbsDelta:0}),r=(s,l,c,u,d)=>({minV:Math.min(c,s),maxV:Math.max(u,s),maxAbsDelta:Math.max(d,l)}),i=(s,l,c,u,d,f,p,h)=>{s.push({trendDirection:h,start:l,end:c,side:u,minValue:d,maxValue:f,maxAbsDeltaFromMean:p})};let o=0;for(;o<e.length;){const s=e[o];if(!s||s.value==null||s.ghost||!s.trendUp&&!s.trendDown){o++;continue}const l=s.trendUp?"Up":s.trendDown?"Down":void 0;let c=o,u=o;for(;u<e.length;u++){const C=e[u];if(!C||C.value==null||C.ghost||!(l==="Up"?C.trendUp:C.trendDown))break}const d=u-1,f=[];let p,h,g=1/0,m=-1/0,y=0;for(let C=c;C<=d;C++){const N=e[C];if(N.value==null)continue;const j=N.value-(N.mean??0),w=Tk(j);if(!w){p!==void 0&&(i(f,p,C-1,h,g,m,y,l),p=void 0,h=void 0,g=1/0,m=-1/0,y=0);continue}if(p===void 0)({segStart:p,segSide:h,minV:g,maxV:m,maxAbsDelta:y}=(()=>{const b=n(C,w,N.value);return{segStart:b.segStart,segSide:b.segSide,minV:b.minV,maxV:b.maxV,maxAbsDelta:Math.abs(j)}})());else if(w!==h)i(f,p,C-1,h,g,m,y,l),{segStart:p,segSide:h,minV:g,maxV:m,maxAbsDelta:y}=(()=>{const b=n(C,w,N.value);return{segStart:b.segStart,segSide:b.segSide,minV:b.minV,maxV:b.maxV,maxAbsDelta:Math.abs(j)}})();else{const b=r(N.value,Math.abs(j),g,m,y);g=b.minV,m=b.maxV,y=b.maxAbsDelta}}p!==void 0&&i(f,p,d,h,g,m,y,l),t.push({trendDirection:l,start:c,end:d,segments:f}),o=d+1}return t}function Dk(e){if(e===tt.Up)return"Above";if(e===tt.Down)return"Below"}function Ik(e){if(e)return e==="Above"?"Below":"Above"}function Cm(e,t){const n=t.strategy??Zt.CrossingAfterFavourable,r=Dk(t.metricImprovement),i=Ik(r),o=[];for(const s of e){if(!r){if(n===Zt.ExtremeFavourable||n===Zt.CrossingAfterFavourable){const l=s.segments;if(l.length===0)continue;let c=l[0];for(const u of l)u.maxAbsDeltaFromMean>c.maxAbsDeltaFromMean&&(c=u);o.push(c)}continue}if(n===Zt.FavourableSide){o.push(...s.segments.filter(l=>l.side===r));continue}if(n===Zt.UnfavourableSide){o.push(...s.segments.filter(l=>l.side===i));continue}if(n===Zt.CrossingAfterFavourable){const l=s.segments;let c;for(let u=0;u<l.length;u++){const d=l[u];if(d.side===r&&u>0&&l[u-1].side!==r){c=d;break}}if(!c){const u=l.filter(d=>d.side===r);u.length>0&&(c=u.reduce((d,f)=>f.end-f.start>d.end-d.start?f:d,u[0]))}c&&o.push(c);continue}if(n===Zt.CrossingAfterUnfavourable){const l=s.segments;let c;for(let u=0;u<l.length;u++){const d=l[u];if(d.side===i&&u>0&&l[u-1].side!==i){c=d;break}}if(!c){const u=l.filter(d=>d.side===i);u.length>0&&(c=u.reduce((d,f)=>f.end-f.start>d.end-d.start?f:d,u[0]))}c&&o.push(c);continue}if(n===Zt.ExtremeFavourable){const l=s.segments.filter(u=>u.side===r);if(l.length===0)continue;const c=l.reduce((u,d)=>d.maxAbsDeltaFromMean>u.maxAbsDeltaFromMean?d:u);o.push(c);continue}if(n===Zt.ExtremeUnfavourable){const l=s.segments.filter(u=>u.side===i);if(l.length===0)continue;const c=l.reduce((u,d)=>d.maxAbsDeltaFromMean>u.maxAbsDeltaFromMean?d:u);o.push(c);continue}if(n===Zt.FirstFavourable){const l=s.segments.find(c=>c.side===r);l&&o.push(l);continue}if(n===Zt.FirstUnfavourable){const l=s.segments.find(c=>c.side===i);l&&o.push(l);continue}if(n===Zt.LongestFavourable){const l=s.segments.filter(u=>u.side===r);if(l.length===0)continue;const c=l.reduce((u,d)=>d.end-d.start>u.end-u.start?d:u);o.push(c);continue}if(n===Zt.LongestUnfavourable){const l=s.segments.filter(u=>u.side===i);if(l.length===0)continue;const c=l.reduce((u,d)=>d.end-d.start>u.end-u.start?d:u);o.push(c);continue}if(n===Zt.LastFavourable){const l=s.segments.filter(c=>c.side===r);if(l.length===0)continue;o.push(l[l.length-1]);continue}if(n===Zt.LastUnfavourable){const l=s.segments.filter(c=>c.side===i);if(l.length===0)continue;o.push(l[l.length-1]);continue}}return o}var _t=(e=>(e.Common="Common",e.Improvement="Improvement",e.Concern="Concern",e.NoJudgement="NoJudgement",e))(_t||{}),qi=(e=>(e.Ungated="Ungated",e.Gated="Gated",e))(qi||{});function Lk(e){const t=!!(e.singlePointUp||e.twoSigmaUp||e.shiftUp||e.trendUp),n=!!(e.singlePointDown||e.twoSigmaDown||e.shiftDown||e.trendDown);return{upAny:t,downAny:n}}function zo(e,t){const n=t.metricImprovement,r=t.trendVisualMode??"Ungated",i=t.enableNeutralNoJudgement??!0;return e.map(o=>{if(!o||o.value==null||o.ghost)return"Common";const{upAny:s,downAny:l}=Lk(o);if(s&&l)return"Improvement";switch(o.variationIcon){case We.ImprovementHigh:case We.ImprovementLow:return"Improvement";case We.ConcernHigh:case We.ConcernLow:return"Concern";case We.NeitherHigh:case We.NeitherLow:{if(r==="Ungated"&&n!==tt.Neither){if(s&&!l)return n===tt.Up?"Improvement":"Concern";if(l&&!s)return n===tt.Down?"Improvement":"Concern"}return i?"NoJudgement":"Common"}default:return"Common"}})}function Ak(e,t,n){const r=n?.mode??"Disabled";if(!e.length)return[];let i=zo(e,{metricImprovement:t,trendVisualMode:qi.Ungated,enableNeutralNoJudgement:!0});if(r!=="RecalcCrossing"||t===tt.Neither)return i;const o=Math.max(0,n?.preWindow??2),s=Math.max(0,n?.postWindow??3),l=n?.prePolarity??"Opposite",c=(f,p)=>{if(f<0||f>=i.length)return;const h=i[f];(h===_t.Common||h===_t.NoJudgement)&&(i[f]=p)},u=f=>{if(f==null)return null;const p=e.reduce((g,m)=>(m.partitionId===f&&typeof m.value=="number"&&!m.ghost&&g.push(m.value),g),[]);return p.length?p.reduce((g,m)=>g+m,0)/p.length:null},d=Array.isArray(n?.boundaryIndices)&&n.boundaryIndices.length?n.boundaryIndices.slice().filter(f=>Number.isFinite(f)):e.reduce((f,p,h)=>{if(h===0)return f;const g=e[h-1];return g&&p&&p.partitionId!==g.partitionId&&f.push(h),f},[]);for(const f of d){const p=e[f-1],h=e[f];if(!p||!h)continue;let g=f-1;for(;g-1>=0&&e[g-1]&&e[g-1].partitionId===p.partitionId;)g--;let m=f;for(;m+1<e.length&&e[m+1]&&e[m+1].partitionId===h.partitionId;)m++;let y=null;for(let S=f-1;S>=0;S--){const M=e[S];if(M.partitionId!==p.partitionId)break;if(typeof M.mean=="number"){y=M.mean;break}}let C=null;for(let S=f;S<e.length;S++){const M=e[S];if(M.partitionId!==h.partitionId)break;if(typeof M.mean=="number"){C=M.mean;break}}if(y==null&&(y=u(p.partitionId??null)),C==null&&(C=u(h.partitionId??null)),y==null||C==null)continue;const N=C-y,j=t===tt.Up?N>0:N<0,w=j?_t.Improvement:_t.Concern,b=l==="Same"?w:j?_t.Concern:_t.Improvement;for(let S=1;S<=o;S++){const M=f-S;if(M<g)break;c(M,b)}for(let S=0;S<s;S++){const M=f+S;if(M>m)break;c(M,w)}}return i}function Nm(e){if(!e)return{};if(typeof e=="object"&&("minimumPoints"in e||"shiftPoints"in e||"trendPoints"in e))return e;const t=e,n={};if(t.thresholds){const r=t.thresholds;r.minimumPoints!=null&&(n.minimumPoints=r.minimumPoints),r.shiftPoints!=null&&(n.shiftPoints=r.shiftPoints),r.trendPoints!=null&&(n.trendPoints=r.trendPoints),r.excludeMovingRangeOutliers!=null&&(n.excludeMovingRangeOutliers=r.excludeMovingRangeOutliers)}if(t.eligibility&&t.eligibility.chartLevel!=null&&(n.chartLevelEligibility=t.eligibility.chartLevel),t.parity&&(t.parity.trendAcrossPartitions!=null&&(n.trendAcrossPartitions=t.parity.trendAcrossPartitions),t.parity.twoSigmaIncludeAboveThree!=null&&(n.twoSigmaIncludeAboveThree=t.parity.twoSigmaIncludeAboveThree),t.parity.enableFourOfFiveRule!=null&&(n.enableFourOfFiveRule=t.parity.enableFourOfFiveRule)),t.conflict&&(t.conflict.preferImprovementWhenConflict!=null&&(n.preferImprovementWhenConflict=t.conflict.preferImprovementWhenConflict),t.conflict.preferTrendWhenConflict!=null&&(n.preferTrendWhenConflict=t.conflict.preferTrendWhenConflict),t.conflict.strategy!=null&&(n.conflictStrategy=t.conflict.strategy),t.conflict.ruleHierarchy!=null&&(n.ruleHierarchy=t.conflict.ruleHierarchy),t.conflict.metricRuleOnTie!=null&&(n.metricConflictRule=t.conflict.metricRuleOnTie)),t.trend?.segmentation){const r=t.trend.segmentation;r.mode!=null&&(n.trendSegmentationMode=r.mode),r.favourableSegmentation!=null&&(n.trendFavourableSegmentation=r.favourableSegmentation),r.strategy!=null&&(n.trendSegmentationStrategy=r.strategy),r.dominatesHighlightedWindow!=null&&(n.trendDominatesHighlightedWindow=r.dominatesHighlightedWindow)}return n}function Uo(e){const{chartType:t,metricImprovement:n,data:r}=e,i=Nm(e.settings),o={minimumPoints:13,shiftPoints:6,trendPoints:6,excludeMovingRangeOutliers:!1,metricConflictRule:Yi.Improvement,trendAcrossPartitions:!1,twoSigmaIncludeAboveThree:!1,enableFourOfFiveRule:!1,preferImprovementWhenConflict:!1,conflictStrategy:Vi.SqlPrimeThenRule,ruleHierarchy:void 0,chartLevelEligibility:!1,trendFavourableSegmentation:!1,trendSegmentationMode:_r.Off,trendSegmentationStrategy:Zt.CrossingAfterUnfavourable,trendDominatesHighlightedWindow:!1,...i},s=i?.trendSegmentationMode||(i?.trendFavourableSegmentation===!0?_r.Always:i?.trendFavourableSegmentation===!1?_r.Off:o.trendSegmentationMode),l=r.map((m,y)=>({rowId:y+1,x:m.x,value:Xe(m.value)?m.value:null,ghost:!!m.ghost,baseline:!!m.baseline,target:Xe(m.target)?m.target:null})),c=[];let u=[];for(const m of l)m.baseline&&u.length&&(c.push(u),u=[]),u.push(m);u.length&&c.push(u);const d=[],f=(o.trendFavourableSegmentation||s!==_r.Off)&&!o.preferImprovementWhenConflict,p=l.filter(m=>!m.ghost&&Xe(m.value)).length,h=!!o.chartLevelEligibility&&p>=o.minimumPoints;let g=0;for(const m of c){g++;const y=m.map(b=>b.value),C=m.map(b=>b.ghost),N=Ck(t,y,C,!!o.excludeMovingRangeOutliers),j=m.map((b,S)=>{const M=!b.ghost&&Xe(b.value)?y.slice(0,S+1).filter((v,_)=>!C[_]&&Xe(v)).length:0,x=h?!0:M>=o.minimumPoints;return{rowId:b.rowId,x:b.x,value:Xe(b.value)?b.value:null,ghost:b.ghost,partitionId:g,pointRank:M,mean:(x||h)&&Xe(N.mean)?N.mean:null,upperProcessLimit:x||h?N.upperProcessLimit:null,lowerProcessLimit:x||h?N.lowerProcessLimit:null,upperTwoSigma:x||h?N.upperTwoSigma:null,lowerTwoSigma:x||h?N.lowerTwoSigma:null,upperOneSigma:x||h?N.upperOneSigma:null,lowerOneSigma:x||h?N.lowerOneSigma:null,singlePointUp:!1,singlePointDown:!1,twoSigmaUp:!1,twoSigmaDown:!1,fourOfFiveUp:!1,fourOfFiveDown:!1,shiftUp:!1,shiftDown:!1,trendUp:!1,trendDown:!1,specialCauseImprovementValue:null,specialCauseConcernValue:null,variationIcon:We.CommonCause}});for(const b of j)b.ghost||!Xe(b.value)||b.mean===null||(Xe(b.upperProcessLimit)&&b.value>b.upperProcessLimit&&(b.singlePointUp=!0),Xe(b.lowerProcessLimit)&&b.value<b.lowerProcessLimit&&(b.singlePointDown=!0));Nk(j,{shiftPoints:o.shiftPoints,trendPoints:o.trendPoints,twoSigmaIncludeAboveThree:!!o.twoSigmaIncludeAboveThree,enableFourOfFiveRule:!!o.enableFourOfFiveRule}),f&&(b=>{const S=b.some(E=>(E.singlePointUp||E.twoSigmaUp||E.shiftUp||E.trendUp)&&(E.singlePointDown||E.twoSigmaDown||E.shiftDown||E.trendDown));if(s===_r.Off||s===_r.AutoWhenConflict&&!S)return;const M=km(b),x=Cm(M,{metricImprovement:n,strategy:o.trendSegmentationStrategy}),v=new Set,_=new Set;for(const E of x)for(let D=E.start;D<=E.end;D++)E.trendDirection===mu.Up?v.add(D):_.add(D);b.forEach((E,D)=>{E.trendUp=v.has(D)?E.trendUp:!1,E.trendDown=_.has(D)?E.trendDown:!1,o.trendDominatesHighlightedWindow&&(v.has(D)?(E.singlePointDown=!1,E.twoSigmaDown=!1,E.shiftDown=!1):_.has(D)&&(E.singlePointUp=!1,E.twoSigmaUp=!1,E.shiftUp=!1))})})(j);for(const b of j){if(b.ghost||!Xe(b.value)||b.mean===null){d.push(b);continue}const{aligned:S,opposite:M}=wm(b,n);if(b.specialCauseImprovementValue=S?b.value:null,b.specialCauseConcernValue=M?b.value:null,n===tt.Neither){const x=b.singlePointUp||b.twoSigmaUp||b.shiftUp||b.trendUp,v=b.singlePointDown||b.twoSigmaDown||b.shiftDown||b.trendDown;b.variationIcon=x?We.NeitherHigh:v?We.NeitherLow:We.CommonCause}else Sm(b,n,o.metricConflictRule,o.preferImprovementWhenConflict===!0,o.conflictStrategy,o.ruleHierarchy,o.preferTrendWhenConflict===!0);d.push(b)}}if(o.trendAcrossPartitions){const m=d.map((y,C)=>({idx:C,r:y})).filter(({r:y})=>!y.ghost&&Xe(y.value));if(m.length>=o.trendPoints)for(let y=0;y<=m.length-o.trendPoints;y++){const C=m.slice(y,y+o.trendPoints).map(b=>b.idx),N=C.map(b=>d[b]);if(!N.every(b=>Xe(b.value)))continue;let j=!0,w=!0;for(let b=1;b<N.length&&(N[b].value>N[b-1].value||(j=!1),N[b].value<N[b-1].value||(w=!1),!(!j&&!w));b++);j&&C.forEach(b=>d[b].trendUp=!0),w&&C.forEach(b=>d[b].trendDown=!0)}}if(o.trendAcrossPartitions){if(f){const m=d.some(y=>(y.singlePointUp||y.twoSigmaUp||y.shiftUp||y.trendUp)&&(y.singlePointDown||y.twoSigmaDown||y.shiftDown||y.trendDown));if(s===_r.Always||s===_r.AutoWhenConflict&&m){const y=km(d),C=Cm(y,{metricImprovement:n,strategy:o.trendSegmentationStrategy}),N=new Set,j=new Set;for(const w of C)for(let b=w.start;b<=w.end;b++)w.trendDirection===mu.Up?N.add(b):j.add(b);d.forEach((w,b)=>{w.trendUp=N.has(b)?w.trendUp:!1,w.trendDown=j.has(b)?w.trendDown:!1,o.trendDominatesHighlightedWindow&&(N.has(b)?(w.singlePointDown=!1,w.twoSigmaDown=!1,w.shiftDown=!1):j.has(b)&&(w.singlePointUp=!1,w.twoSigmaUp=!1,w.shiftUp=!1))})}}for(const m of d){if(m.ghost||!Xe(m.value)||m.mean===null||n===tt.Neither)continue;const{aligned:y,opposite:C}=wm(m,n);m.specialCauseImprovementValue=y?m.value:null,m.specialCauseConcernValue=C?m.value:null,Sm(m,n,o.metricConflictRule,o.preferImprovementWhenConflict===!0,o.conflictStrategy,o.ruleHierarchy,o.preferTrendWhenConflict===!0)}}return{rows:d}}function gu(e,t){const n=Uo(e),r=zo(n.rows,{metricImprovement:e.metricImprovement,trendVisualMode:t?.trendVisualMode??qi.Ungated,enableNeutralNoJudgement:t?.enableNeutralNoJudgement??!0}),i=t?.boundaryWindows;if(!i||i.mode!=="RecalcCrossing")return{rows:n.rows,visuals:r};const o=i.directionOverride??e.metricImprovement,s=Ak(n.rows,o,i),l=r.map((c,u)=>{const d=s[u];if(c===_t.Common||c===_t.NoJudgement){if(d===_t.Improvement)return _t.Improvement;if(d===_t.Concern)return _t.Concern}return c});return{rows:n.rows,visuals:l}}var Mm=(e=>(e.None="none",e.RecalcCrossingShift="recalc-crossing-shift",e.RecalcCrossingTrend="recalc-crossing-trend",e.RecalcCrossingTwoSigma="recalc-crossing-two-sigma",e.RecalculationsRecalculated="recalculations-recalculated",e.BaselinesRecalculated="baselines-recalculated",e))(Mm||{});function Ek(e,t,n){const r=n?.trendVisualMode??qi.Ungated,i=n?.enableNeutralNoJudgement??!0,o=Array.isArray(e.data)?e.data.map((f,p)=>f?.baseline?p:-1).filter(f=>f>=0):[];let s;switch(t){case"recalc-crossing-shift":{s={mode:"RecalcCrossing",preWindow:2,postWindow:4,prePolarity:"Same",boundaryIndices:o};break}case"recalc-crossing-trend":{s={mode:"RecalcCrossing",preWindow:1,postWindow:5,prePolarity:"Same",boundaryIndices:o};break}case"recalc-crossing-two-sigma":{s={mode:"RecalcCrossing",preWindow:1,postWindow:1,prePolarity:"Same",boundaryIndices:o};break}case"baselines-recalculated":s={mode:"RecalcCrossing",preWindow:0,postWindow:0,prePolarity:"Same",directionOverride:e.metricImprovement,boundaryIndices:o};break;case"recalculations-recalculated":case"none":default:s=void 0}const{rows:l,visuals:c}=gu(e,{trendVisualMode:r,enableNeutralNoJudgement:i,boundaryWindows:s});let u=c.slice(),d=o.length?o[0]:-1;if(d<0){for(let f=1;f<l.length;f++)if(l[f].partitionId!==l[f-1].partitionId){d=f;break}}return(t==="recalculations-recalculated"||t==="baselines-recalculated")&&d>0&&(u[d-1]=_t.Common),{rows:l,visuals:u}}const jm=Object.freeze({minimumPoints:13,shiftPoints:6,trendPoints:6,excludeMovingRangeOutliers:!1,metricConflictRule:Yi.Improvement,trendAcrossPartitions:!0,twoSigmaIncludeAboveThree:!0,chartLevelEligibility:!0});function Pk(e){return{...jm,...e??{}}}var Ot=(e=>(e.Concern="concern",e.Improvement="improvement",e.NoJudgement="noJudgement",e.Common="common",e))(Ot||{}),di=(e=>(e.Classic="classic",e.Triangle="triangle",e.TriangleWithRun="triangleWithRun",e))(di||{}),Wo=(e=>(e.Direction="direction",e.Polarity="polarity",e))(Wo||{});const yu=e=>{const t=()=>{globalThis.__spcIconDeprecationEmitted||(console.warn("[SPCVariationIcon] Deprecated payload shape detected. Migrate to { variationIcon, improvementDirection, specialCauseNeutral?, trend? }."),globalThis.__spcIconDeprecationEmitted=!0)};if(e.variationIcon!==void 0){const s=e;let l;s.improvementDirection!==void 0?l=s.improvementDirection===tt.Up?Et.HigherIsBetter:s.improvementDirection===tt.Down?Et.LowerIsBetter:Et.ContextDependent:s.polarity&&(l=s.polarity);let c;const u=s.variationIcon;if(u===et.Improvement||u===et.Concern||u===et.Neither||u===et.Suppressed)u===et.Improvement?c=Ve.SpecialCauseImproving:u===et.Concern?c=Ve.SpecialCauseDeteriorating:u===et.Neither?c=Ve.CommonCause:c=Ve.SpecialCauseNoJudgement;else switch(s.variationIcon){case We.ImprovementHigh:case We.ImprovementLow:c=Ve.SpecialCauseImproving;break;case We.ConcernHigh:case We.ConcernLow:c=Ve.SpecialCauseDeteriorating;break;case We.NeitherHigh:case We.NeitherLow:c=s.specialCauseNeutral?Ve.SpecialCauseNoJudgement:Ve.CommonCause;break;case We.CommonCause:c=Ve.CommonCause;break;default:c=Ve.SpecialCauseNoJudgement;break}let d=s.trend;return d||(c===Ve.SpecialCauseImproving?d=l===Et.LowerIsBetter?Ke.Lower:Ke.Higher:c===Ve.SpecialCauseDeteriorating?d=l===Et.LowerIsBetter?Ke.Higher:Ke.Lower:c===Ve.SpecialCauseNoJudgement?s.highSideSignal&&!s.lowSideSignal?d=Ke.Higher:s.lowSideSignal&&!s.highSideSignal?d=Ke.Lower:d=Ke.Higher:d=Ke.Higher),{state:c,direction:d,polarity:l??Et.ContextDependent}}if(e.state!==void 0){t();const s=e;let l=s.trend;return!l&&(s.state===Ve.SpecialCauseImproving||s.state===Ve.SpecialCauseDeteriorating)&&s.polarity&&(s.state===Ve.SpecialCauseImproving?l=s.polarity===Et.LowerIsBetter?Ke.Lower:Ke.Higher:l=s.polarity===Et.LowerIsBetter?Ke.Higher:Ke.Lower),l||(s.state===Ve.SpecialCauseImproving?l=Ke.Higher:s.state===Ve.SpecialCauseDeteriorating?l=Ke.Lower:l=Ke.Higher),{state:s.state,direction:l,polarity:s.polarity??Et.ContextDependent}}const n=e;t();const i={[hn.Improving]:Ve.SpecialCauseImproving,[hn.Deteriorating]:Ve.SpecialCauseDeteriorating,[hn.No_Judgement]:Ve.SpecialCauseNoJudgement,[hn.None]:Ve.CommonCause}[n.judgement];let o;return n.judgement===hn.Improving?o=n.polarity===Et.LowerIsBetter?Ke.Lower:Ke.Higher:n.judgement===hn.Deteriorating?o=n.polarity===Et.LowerIsBetter?Ke.Higher:Ke.Lower:o=n.trend??Ke.Higher,{state:i,direction:o,polarity:n.polarity}};function Tm(e,t){const{state:n,direction:r,polarity:i}=yu(e),o=hu(n),s=r===Ke.Higher?"above":"below",l=r===Ke.Higher?"upwards":"downwards",c=(()=>{switch(i){case Et.HigherIsBetter:return"For this measure, higher values are better.";case Et.LowerIsBetter:return"For this measure, lower values are better.";default:return"Direction of improvement is context dependent."}})();return[(()=>{switch(o){case hn.Improving:return`Special cause improvement: recent data show a sustained run ${s} the mean (unlikely due to random variation).`;case hn.Deteriorating:return`Special cause deterioration: recent data show a sustained run ${s} the mean (unlikely due to random variation).`;case hn.No_Judgement:return`Special cause detected (no value judgement): recent data show a change in level, trending ${l}.`;case hn.None:default:return"Common cause variation: points vary randomly around the mean; no special cause detected."}})(),c,null,null,null,null,null].filter(Boolean).join(" ")}const bu=(e,t,n,r,i,o)=>a.jsxs("defs",{children:[r&&a.jsxs("filter",{id:t,filterUnits:"objectBoundingBox",children:[a.jsx("feGaussianBlur",{stdDeviation:"3"}),a.jsx("feOffset",{dx:"0",dy:"15",result:"blur"}),a.jsx("feFlood",{floodColor:"rgb(150,150,150)",floodOpacity:"1"}),a.jsx("feComposite",{in2:"blur",operator:"in",result:"colorShadow"}),a.jsx("feComposite",{in:"SourceGraphic",in2:"colorShadow",operator:"over"})]}),i&&a.jsx("linearGradient",{id:n,x1:"0%",y1:"0%",x2:"100%",y2:"100%",children:o.map(s=>a.jsx("stop",{offset:s.offset,stopColor:e,stopOpacity:parseFloat(s.opacity)},s.offset))})]}),vu=({data:e,precomputed:t,improvementDirection:n,size:r=44,ariaLabel:i,showLetter:o=!0,dropShadow:s=!0,gradientWash:l=!1,variant:c=di.Classic,runLength:u=0,letterMode:d=Wo.Polarity,letterOverride:f,...p})=>{const h=P.useId(),g=P.useId(),{start:m,mid:y,end:C,triStart:N,triMid:j,triEnd:w}=Wa(),{state:b,direction:S,polarity:M,ariaInput:x}=P.useMemo(()=>{if(t&&t.lastVariationIcon!==void 0){const V={variationIcon:t.lastVariationIcon,improvementDirection:n??tt.Neither,specialCauseNeutral:t.latestState===Ve.SpecialCauseNoJudgement},{state:Y,direction:R,polarity:J}=yu(V);return{state:Y,direction:R,polarity:J,ariaInput:V}}const{state:X,direction:O,polarity:$}=yu(e);return{state:X,direction:O,polarity:$,ariaInput:e}},[e,t,n]),v=P.useMemo(()=>dm(b),[b]),_=P.useMemo(()=>hu(b),[b]),E=_===hn.Improving||_===hn.Deteriorating;let D="";o&&E&&(d===Wo.Polarity?M===Et.HigherIsBetter?D="H":M===Et.LowerIsBetter?D="L":D="":D=S===Ke.Higher?"H":"L"),f!==void 0&&(D=f);const B=b!==Ve.CommonCause,A=b===Ve.SpecialCauseNoJudgement,I=Kt("common-cause","#A6A6A6"),L=B?v.hex:I,F=P.useMemo(()=>wk(b,S),[b,S]),G=i||`${v.label}${D?S===Ke.Higher?" â€“ Higher":" â€“ Lower":""}`,ee=Tm(x);if(c===di.TriangleWithRun){const V=[[150,90],[100,190],[200,190]],Y=[[150,140+100/2],[150-100/2,140-100/2],[150+100/2,140-100/2]];let R=null;b===Ve.SpecialCauseImproving||b===Ve.SpecialCauseDeteriorating?R=a.jsx("polygon",{points:(S===Ke.Higher?V:Y).map(be=>be.join(",")).join(" "),fill:v.hex,stroke:v.hex,strokeWidth:6,transform:S===Ke.Higher?"translate(0, -8)":"translate(0, 15)"}):b===Ve.SpecialCauseNoJudgement&&(R=a.jsx("polygon",{points:S===Ke.Higher?V.map(be=>be.join(",")).join(" "):Y.map(be=>be.join(",")).join(" "),fill:v.hex,stroke:v.hex,strokeWidth:6,transform:S===Ke.Higher?"translate(0,-7)":"translate(0,14)"}));const J=Math.max(0,Math.min(5,Math.floor(u||0))),te=b===Ve.CommonCause?160:S===Ke.Higher?220:70,K=10,oe=26,ye=150-2*oe,Z=b===Ve.CommonCause?I:mm(b),se=Array.from({length:5}).map((be,q)=>{const Pe=(b===Ve.SpecialCauseImproving||b===Ve.SpecialCauseDeteriorating)&&q>=5-J?Z:I;return a.jsx("circle",{cx:ye+q*oe,cy:te,r:K,fill:Pe,stroke:Pe,strokeWidth:1},q)}),de=bu(v.hex,h,g,s,l,[{offset:"0%",opacity:N},{offset:"75%",opacity:j},{offset:"100%",opacity:w}]),Ce=b===Ve.CommonCause||S===Ke.Higher?"translate(0,-10)":"translate(0,25)";return a.jsxs("svg",{width:r,height:r,viewBox:"0 0 300 300",role:"img","aria-label":G,"aria-description":ee,...p,children:[de,a.jsx("circle",{stroke:"none",fill:l?`url(#${g})`:"#ffffff",...s?{filter:`url(#${h})`}:{},cx:"150",cy:"150",r:"120"}),a.jsx("circle",{stroke:v.hex,strokeWidth:15,strokeMiterlimit:10,fill:"none",cx:"150",cy:"150",r:"120"}),a.jsxs("g",{transform:Ce,children:[R,D&&a.jsx("text",{fill:"#fff",fontFamily:"'Frutiger W01', Frutiger, Arial, 'Helvetica Neue', Helvetica, sans-serif",fontWeight:"bold",fontSize:64,x:"150",y:S===Ke.Higher?155:145,textAnchor:"middle",dominantBaseline:"middle",children:D}),se]})]})}if(c===di.Triangle){const V=[[150,75],[75,225],[225,225]],Y=[[150,150+150/2],[150-150/2,150-150/2],[150+150/2,150-150/2]],R=[[150-150/2,150+150/2],[150+150/2,150+150/2]];let J=null;b===Ve.SpecialCauseImproving||b===Ve.SpecialCauseDeteriorating?J=a.jsx("polygon",{points:(S===Ke.Higher?V:Y).map(K=>K.join(",")).join(" "),fill:v.hex,stroke:v.hex,strokeWidth:8,transform:S===Ke.Higher?"translate(0, -10)":"translate(0, 10)"}):b===Ve.SpecialCauseNoJudgement?J=a.jsx("polygon",{points:S===Ke.Higher?V.map(K=>K.join(",")).join(" "):Y.map(K=>K.join(",")).join(" "),fill:v.hex,stroke:v.hex,strokeWidth:8,transform:S===Ke.Higher?"translate(0, -15)":"translate(0, 15)"}):b===Ve.CommonCause&&(J=a.jsx("line",{x1:R[0][0],y1:R[0][1],x2:R[1][0],y2:R[1][1],stroke:v.hex,strokeWidth:32,strokeLinecap:"square",transform:"translate(0, -75)"}));const te=bu(v.hex,h,g,s,l,[{offset:"0%",opacity:N},{offset:"65%",opacity:j},{offset:"100%",opacity:w}]);return a.jsxs("svg",{width:r,height:r,viewBox:"0 0 300 300",role:"img","aria-label":G,"aria-description":ee,...p,children:[te,a.jsx("circle",{stroke:"none",fill:l?`url(#${g})`:"#ffffff",...s?{filter:`url(#${h})`}:{},cx:"150",cy:"150",r:"120"}),a.jsx("circle",{stroke:v.hex,strokeWidth:15,strokeMiterlimit:10,fill:"none",cx:"150",cy:"150",r:"120"}),J,D&&(b===Ve.SpecialCauseImproving||b===Ve.SpecialCauseDeteriorating)&&a.jsx("text",{fill:"#fff",fontFamily:"'Frutiger W01', Frutiger, Arial, 'Helvetica Neue', Helvetica, sans-serif",fontWeight:"bold",fontSize:100,x:"150",y:S===Ke.Higher?"170":"140",textAnchor:"middle",dominantBaseline:"middle",children:D})]})}const T=bu(v.hex,h,g,s,l,[{offset:"0%",opacity:m},{offset:"65%",opacity:y},{offset:"100%",opacity:C}]);return a.jsxs("svg",{width:r,height:r,viewBox:"0 0 300 300",role:"img","aria-label":G,"aria-description":ee,...p,children:[T,a.jsx("circle",{stroke:"none",fill:l?`url(#${g})`:"#ffffff",...s?{filter:`url(#${h})`}:{},cx:"150",cy:"150",r:"120"}),a.jsx("circle",{stroke:v.hex,strokeWidth:15,strokeMiterlimit:10,fill:"none",cx:"150",cy:"150",r:"120"}),D&&a.jsx("text",{fill:v.hex,fontFamily:"Arial-BoldMT, Arial, 'Helvetica Neue', Helvetica, sans-serif",fontWeight:"bold",fontSize:176,transform:"translate(86.67, 54) scale(0.5, 0.5)",textAnchor:"end",children:a.jsx("tspan",{x:"120",y:S===Ke.Lower?"340":"155",children:D})}),A?a.jsx("path",{"aria-hidden":"true",fillRule:"evenodd",stroke:"none",fill:v.hex,...S===Ke.Lower?{transform:"rotate(90 150 150)"}:{transform:"translate(-5 0) rotate(0 150 150)"},d:"M 90.26,185.42 L 149.31,126.37 127.44,104.51 209.81,90.66 195.96,173.02 174.09,151.16 115.05,210.2 90.26,185.42 Z M 90.26,185.42"}):a.jsxs(a.Fragment,{children:[F.length===5&&a.jsx("path",{"aria-hidden":"true",fill:"none",stroke:I,strokeWidth:12,strokeLinecap:"round",strokeLinejoin:"round",opacity:.9,d:`M ${F.map(X=>`${X.cx} ${X.cy}`).join(" L ")}`}),F.map((X,O)=>{const V=O>=F.length-2&&B?L:I,Y=V;return a.jsx("circle",{stroke:Y,strokeWidth:2,strokeMiterlimit:10,fill:V,cx:X.cx,cy:X.cy,r:16},O)})]})]})};vu.displayName="SPCVariationIcon";const Fk={[At.Xs]:{height:24,pointR:2,stroke:1},[At.Sm]:{height:32,pointR:3,stroke:1},[At.Md]:{height:44,pointR:4,stroke:1},[At.Lg]:{height:56,pointR:5,stroke:1},[At.Xl]:{height:72,pointR:6,stroke:1},[At.Full]:{height:44,pointR:2,stroke:1}};function $k(e,t){return!t||e.length<=t?e:e.slice(e.length-t)}function Bk(e){const t=e.filter(s=>typeof s.value=="number");if(!t.length)return{mean:null,latestValue:null,latestIndex:null};const n=t.reduce((s,l)=>s+l.value,0)/t.length,r=[...e].reverse().findIndex(s=>s.value!=null),i=r>=0?e.length-1-r:null,o=i!=null?e[i].value:null;return{mean:n,latestValue:o,latestIndex:i}}const Ok=e=>mm(e),Dm=({data:e,windowSize:t,minPointsForSignals:n=13,showMean:r=!0,showLimits:i=!0,showLimitBand:o=!0,showInnerBands:s=!1,showLatestMarker:l=!0,showStateGlyph:c=!0,variationState:u,metricImprovement:d,gradientWash:f=!1,size:p=At.Sm,ariaLabel:h,className:g,onPointClick:m,maxPoints:y,thinningStrategy:C="stride",colorPointsBySignal:N=!0,centerLine:j,controlLimits:w,sigmaBands:b,pointSignals:S,pointNeutralSpecialCause:M,visualCategories:x})=>{const v=d,_=P.useMemo(()=>$k(e,t),[e,t]),E=P.useMemo(()=>Bk(_),[_]),D=(()=>{if(typeof p=="string")switch(p){case"xs":return At.Xs;case"sm":return At.Sm;case"md":return At.Md;case"lg":return At.Lg;case"xl":return At.Xl;case"full":return At.Full;default:return At.Sm}return p??At.Sm})(),B=Fk[D],A=Math.max(_.length*6,60),I=A,L=D===At.Full?"100%":A,F=B.height,G=P.useMemo(()=>{if(D===At.Full)return{width:"100%",height:"auto",aspectRatio:`${I} / ${F}`,display:"block"}},[D,I,F]),ee=Math.max(6,B.pointR+3),T=Math.max(4,B.pointR+3),X=P.useMemo(()=>(e?.length??0)-(_?.length??0),[e?.length,_?.length]),O=j??E.mean??null,$=P.useMemo(()=>{if(!i)return null;if(w)return w;const xe=_.filter(me=>typeof me.value=="number");if(!xe.length||O==null)return null;const z=xe.map(me=>me.value),Q=Math.min(...z),fe=Math.max(...z);return{lower:Q,upper:fe}},[i,w?.lower,w?.upper,_,O]),Y=P.useMemo(()=>({state:u??Ve.CommonCause,firedRules:[],mean:O??null,stdDev:null,side:E.latestValue!=null&&O!=null?E.latestValue>O?"above":"below":void 0}),[u,O,E.latestValue]).state,R=Ok(Y),J=xe=>{const z=_.filter(_e=>_e.value!=null);if(!z.length)return F/2;const Q=z.map(_e=>_e.value);$&&($.lower!=null&&Q.push($.lower),$.upper!=null&&Q.push($.upper));const fe=Math.min(...Q),me=Math.max(...Q);return fe===me?F/2:F-(xe-fe)/(me-fe)*(F-T*2)-T},te=P.useMemo(()=>{if(!y||_.length<=y)return _.map((H,W)=>W);if(C==="stride"){const H=Math.max(2,y),W=(_.length-1)/(H-1),le=new Set;for(let re=0;re<H;re++)le.add(Math.round(re*W));return le.add(_.length-1),Array.from(le).sort((re,ce)=>re-ce)}const xe=_.map((H,W)=>({i:W,v:H.value}));function z(H,W,le){const re=H.i,ce=H.v??0,ue=W.i,ve=W.v??0,Me=le.i,Ae=le.v??0,Ye=Math.abs((Ae-ve)*re-(Me-ue)*ce+Me*ve-Ae*ue),Ze=Math.hypot(Ae-ve,Me-ue);return Ze===0?0:Ye/Ze}function Q(H,W){if(H.length<=2)return H;let le=-1,re=-1;for(let ce=1;ce<H.length-1;ce++){const ue=z(H[ce],H[0],H[H.length-1]);ue>le&&(le=ue,re=ce)}if(le>W){const ce=Q(H.slice(0,re+1),W),ue=Q(H.slice(re),W);return[...ce.slice(0,-1),...ue]}return[H[0],H[H.length-1]]}let fe=.1,me=xe;for(let H=0;H<8&&(me=Q(xe,fe),!(me.length<=y));H++)fe*=1.6;const _e=new Set(me.map(H=>H.i));return _e.add(0),_e.add(_.length-1),Array.from(_e).sort((H,W)=>H-W)},[_,y,C]),K=P.useMemo(()=>te.map(xe=>_[xe]),[te,_]),oe=P.useMemo(()=>Math.max(1,I-ee*2),[I,ee]),ye=P.useMemo(()=>{const xe=Math.max(1,K.length-1);return z=>z/xe*oe+ee},[K.length,oe,ee]),Z=P.useMemo(()=>{let xe="";return K.forEach((z,Q)=>{if(z.value==null)return;const fe=J(z.value),me=ye(Q);xe+=xe?` L ${me} ${fe}`:`M ${me} ${fe}`}),xe},[K,ye]),se=E.latestIndex??-1,de=$,Ce=Wa(),be=P.useMemo(()=>`spc-spark-wash-${Math.random().toString(36).slice(2)}`,[_.length,f]),q=_.length>=(n||0),Ge=h||"SPC sparkline",Pe=(()=>{if(!Y)return;const xe=v===tt.Up?Et.HigherIsBetter:v===tt.Down?Et.LowerIsBetter:Et.ContextDependent,z={variationIcon:Y===Ve.SpecialCauseImproving?et.Improvement:Y===Ve.SpecialCauseDeteriorating?et.Concern:Y===Ve.SpecialCauseNoJudgement?et.Suppressed:et.Neither,trend:v===tt.Up?Ke.Higher:Ke.Lower,polarity:xe};try{return Tm(z)}catch{return}})(),$e=P.useMemo(()=>{if(!q)return 10;const xe=[..._].reverse().filter(Q=>Q.value!=null).slice(0,6).map(Q=>J(Q.value));return xe.length&&xe.reduce((Q,fe)=>Q+fe,0)/xe.length<F/2?F:10},[_,q,F]);return a.jsxs("svg",{role:"img","aria-label":Ge,"aria-description":Pe,width:D===At.Full?void 0:L,height:D===At.Full?void 0:F,style:G,className:g,viewBox:`0 0 ${I} ${F}`,children:[f&&a.jsxs(a.Fragment,{children:[a.jsx("defs",{children:a.jsxs("linearGradient",{id:be,x1:"0",y1:"0",x2:"0",y2:"1",children:[a.jsx("stop",{offset:"0%",stopColor:R,stopOpacity:Number(Ce.start)}),a.jsx("stop",{offset:"60%",stopColor:R,stopOpacity:Number(Ce.mid)}),a.jsx("stop",{offset:"100%",stopColor:R,stopOpacity:Number(Ce.end)})]})}),a.jsx("rect",{x:0,y:0,width:I,height:F,fill:`url(#${be})`})]}),de&&de.lower!=null&&de.upper!=null&&a.jsxs(a.Fragment,{children:[o&&a.jsx("rect",{x:0,y:Math.min(J(de.upper),J(de.lower)),width:I,height:Math.abs(J(de.upper)-J(de.lower)),fill:R,fillOpacity:.08}),a.jsx("line",{x1:0,x2:I,y1:J(de.lower),y2:J(de.lower),stroke:R,strokeDasharray:"4,4",strokeOpacity:.3,strokeWidth:1}),a.jsx("line",{x1:0,x2:I,y1:J(de.upper),y2:J(de.upper),stroke:R,strokeDasharray:"4,4",strokeOpacity:.3,strokeWidth:1}),b&&s&&a.jsxs(a.Fragment,{children:[b.lowerTwo!=null&&a.jsx("line",{x1:0,x2:I,y1:J(b.lowerTwo),y2:J(b.lowerTwo),stroke:R,strokeDasharray:"3,6",strokeOpacity:.2,strokeWidth:1}),b.lowerOne!=null&&a.jsx("line",{x1:0,x2:I,y1:J(b.lowerOne),y2:J(b.lowerOne),stroke:R,strokeDasharray:"2,6",strokeOpacity:.2,strokeWidth:1}),b.upperOne!=null&&a.jsx("line",{x1:0,x2:I,y1:J(b.upperOne),y2:J(b.upperOne),stroke:R,strokeDasharray:"2,6",strokeOpacity:.2,strokeWidth:1}),b.upperTwo!=null&&a.jsx("line",{x1:0,x2:I,y1:J(b.upperTwo),y2:J(b.upperTwo),stroke:R,strokeDasharray:"3,6",strokeOpacity:.2,strokeWidth:1})]})]}),r&&O!=null&&a.jsx("line",{x1:0,x2:I,y1:J(O),y2:J(O),stroke:ci(),strokeWidth:1,strokeDasharray:"2,2"}),a.jsx("path",{d:Z,fill:"none",stroke:ci(),strokeWidth:B.stroke,strokeLinecap:"round"}),te.map((xe,z)=>{const Q=_[xe];if(!Q||Q.value==null)return null;const fe=J(Q.value),me=ye(z),H=(xe===se&&l?B.pointR+1:B.pointR)-.5;let W=ci();if(N){const le=x?.[X+xe];if(le!=null)le===_t.Improvement?W=Va(et.Improvement):le===_t.Concern?W=Va(et.Concern):le===_t.NoJudgement?W=Kt("no-judgement","#490092"):W=ci();else{const re=S?.[X+xe];re===et.Improvement||re===et.Concern?W=Va(re):W=M?.[X+xe]?Kt("no-judgement","#490092"):ci()}}return a.jsx("circle",{cx:me,cy:fe,r:H,fill:W,stroke:"none",strokeWidth:0,onClick:m?()=>m(xe,Q):void 0,style:m?{cursor:"pointer"}:void 0,"data-index":xe,"data-signal-colour":N?W:void 0},xe)}),c&&q&&Y&&Y!==Ve.CommonCause&&v&&a.jsx("text",{x:I-4,y:$e,textAnchor:"end",fontSize:12,fontWeight:"bold",fill:R,"data-glyph-pos":$e<F/2?"top":"bottom",children:v===tt.Up?"H":"L"})]})};Dm.displayName="SPCSpark";function Xa(e){switch(e){case We.ImprovementHigh:case We.ImprovementLow:return Ve.SpecialCauseImproving;case We.ConcernHigh:case We.ConcernLow:return Ve.SpecialCauseDeteriorating;case We.NeitherHigh:case We.NeitherLow:return Ve.SpecialCauseNoJudgement;case We.CommonCause:return Ve.CommonCause;default:return null}}function Im(e){return e===We.ImprovementHigh||e===We.ImprovementLow||e===We.ConcernHigh||e===We.ConcernLow||e===We.NeitherHigh||e===We.NeitherLow}function Rk({warnings:e,show:t,formatWarningCategory:n,formatWarningCode:r}){const[i,o]=ne.useState(""),s=ne.useRef("");return ne.useEffect(()=>{if(!t){s.current!==""&&(s.current="",o(""));return}const l=e.length;if(!l){const f="Diagnostics: no warnings.";f!==s.current&&(s.current=f,o(f));return}const c={error:e.filter(f=>f.severity===Jn.Error).length,warning:e.filter(f=>f.severity===Jn.Warning).length,info:e.filter(f=>f.severity===Jn.Info).length},u=[];c.error&&u.push(`${c.error} error${c.error===1?"":"s"}`),c.warning&&u.push(`${c.warning} warning${c.warning===1?"":"s"}`),c.info&&u.push(`${c.info} info`);const d=`Diagnostics updated: ${l} warning${l===1?"":"s"} (${u.join(", ")}).`;d!==s.current&&(s.current=d,o(d))},[t,e]),t?a.jsxs(a.Fragment,{children:[i&&a.jsx("div",{"data-testid":"spc-diagnostics-live","aria-live":"polite",style:{position:"absolute",width:1,height:1,padding:0,margin:0,overflow:"hidden",clip:"rect(0 0 0 0)",whiteSpace:"nowrap",border:0},children:i}),e.length>0&&a.jsxs("div",{className:"fdp-spc-chart__warnings",role:"region","aria-label":"SPC diagnostics",children:[a.jsx("p",{className:"fdp-spc-chart__warnings-heading",children:"Diagnostics"}),a.jsx(Vn,{firstCellIsHeader:!1,panel:!1,responsive:!1,head:[{text:"Severity"},{text:"Category"},{text:"Code"},{text:"Details"}],rows:e.map(l=>{let c="grey";return l.severity===Jn.Error?c="red":l.severity===Jn.Warning?c="orange":l.severity===Jn.Info&&(c="blue"),[{node:a.jsx(pt,{color:c,text:(l.severity?String(l.severity):"Info").replace(/^[a-z]/,u=>u.toUpperCase())}),classes:"fdp-spc-chart__warning-cell fdp-spc-chart__warning-cell--severity"},{node:l.category?a.jsx(pt,{color:"purple",text:n(l.category)}):a.jsx("span",{className:"fdp-spc-chart__warning-empty",children:"â€“"}),classes:"fdp-spc-chart__warning-cell fdp-spc-chart__warning-cell--category"},{node:a.jsx(pt,{color:"grey",text:r(l.code)}),classes:"fdp-spc-chart__warning-cell fdp-spc-chart__warning-cell--code"},{node:a.jsxs("div",{className:"fdp-spc-chart__warning-message",children:[a.jsx("span",{children:l.message}),l.context&&Object.keys(l.context).length>0&&a.jsxs("details",{className:"fdp-spc-chart__warning-context",style:{marginTop:4},children:[a.jsx("summary",{children:"context"}),a.jsx("pre",{children:JSON.stringify(l.context,null,2)})]})]}),classes:"fdp-spc-chart__warning-cell fdp-spc-chart__warning-cell--message"}]}),classes:"fdp-spc-chart__warnings-table-wrapper",tableClasses:"fdp-spc-chart__warnings-table"})]})]}):null}function Hk({variationNode:e,assuranceNode:t,show:n}){return n?a.jsxs("div",{className:"fdp-spc-chart__top-row",style:{display:"flex",justifyContent:"flex-end",marginBottom:4},children:[e,t]}):null}const xu=({status:e,size:t=44,ariaLabel:n,dropShadow:r=!0,colourOverride:i,gradientWash:o=!1,letterOverride:s,showTrendLines:l=!0,...c})=>{const u=P.useId(),d=P.useId(),{start:f,mid:p,end:h}=Wa(),g=i||vk[e],m=(s||xk[e]).slice(0,2),y=n||`Assurance ${e}`;return a.jsxs("svg",{width:t,height:t,viewBox:"0 0 300 300",role:"img","aria-label":y,...c,children:[a.jsxs("defs",{children:[r&&a.jsxs("filter",{id:u,filterUnits:"objectBoundingBox",children:[a.jsx("feGaussianBlur",{stdDeviation:"3"}),a.jsx("feOffset",{dx:"-1",dy:"15",result:"blur"}),a.jsx("feFlood",{floodColor:"rgb(166,166,166)",floodOpacity:"1"}),a.jsx("feComposite",{in2:"blur",operator:"in",result:"colorShadow"}),a.jsx("feComposite",{in:"SourceGraphic",in2:"colorShadow",operator:"over"})]}),o&&a.jsxs("linearGradient",{id:d,x1:"0%",y1:"0%",x2:"100%",y2:"100%",children:[a.jsx("stop",{offset:"0%",stopColor:g,stopOpacity:parseFloat(f)}),a.jsx("stop",{offset:"65%",stopColor:g,stopOpacity:parseFloat(p)}),a.jsx("stop",{offset:"100%",stopColor:"#ffffff",stopOpacity:parseFloat(h)})]})]}),a.jsx("circle",{stroke:"none",fill:o?`url(#${d})`:"#ffffff",...r?{filter:`url(#${u})`}:{},cx:"150",cy:"150",r:"120"}),a.jsx("text",{fill:g,fontFamily:"Arial-BoldMT, Arial, 'Helvetica Neue', Helvetica, sans-serif",fontWeight:"bold",fontSize:176,x:0,y:0,transform:"translate(121.01, 32) scale(0.5, 0.5)",textAnchor:"middle",children:a.jsx("tspan",{x:60,y:184,children:m})}),l&&a.jsxs(a.Fragment,{children:[e===li.Fail?a.jsx("path",{id:"fail-line",stroke:g,strokeWidth:9.5,strokeMiterlimit:9.5,strokeDasharray:"35,10",strokeDashoffset:0,fill:"none",d:"M 33,143 L 268,143"}):e===li.Uncertain?a.jsx("path",{id:"uncertain-line",stroke:"rgb(166, 166, 166)",strokeWidth:9.5,strokeMiterlimit:9.5,strokeDasharray:"16.5,10",strokeDashoffset:0,fill:"none",d:"M 36,174 L 266,174"}):a.jsx("path",{id:"pass-line",stroke:g,strokeWidth:9.5,strokeMiterlimit:9.5,strokeDasharray:"35,10",strokeDashoffset:0,fill:"none",d:"M 48,204 L 254,204"}),a.jsx("path",{id:"data-sparkline",stroke:"rgb(166, 166, 166)",strokeWidth:12,strokeMiterlimit:12,fill:"none",d:"M 59.9,187.91 C 72.79,171.72 87.33,158.06 104.4,157.83 121.91,158.58 140.94,187.85 153.4,189.91 164.1,192.12 163.78,171.38 169.17,170.53 172.87,169.55 174.88,187.45 184.94,189.24 197,191.86 230.54,184.47 239.01,185.9"}),a.jsx("circle",{stroke:g,strokeWidth:15,strokeMiterlimit:10,fill:"none",cx:"150",cy:"150",r:"120"})]})]})};xu.displayName="SPCAssuranceIcon";const zk=Object.freeze(Object.defineProperty({__proto__:null,AssuranceResult:li,Direction:Ke,MetricPolarity:Et,SPCAssuranceIcon:xu,SPCVariationIcon:vu,VariationJudgement:hn,VariationState:Ve,getVariationColour:dm,getVariationTrend:hu},Symbol.toStringTag,{value:"Module"}));function Uk(e){const{show:t,rowsForUi:n,minPoints:r,metricImprovement:i,variant:o,runLength:s}=e;if(!t||!n?.length)return null;const l=n,c=typeof r=="number"&&!isNaN(r)?r:13;if(l.filter(b=>!b.data.ghost&&b.data.value!=null).length<c)return null;let d=-1;for(let b=l.length-1;b>=0;b--){const S=l[b];if(S&&S.data.value!=null&&!S.data.ghost){d=b;break}}if(d===-1)return null;const f=l[d],p=f.classification?.variation,h=f.classification?.assurance,g=p===et.Neither&&!!f.classification?.neutralSpecialCauseValue,m=h===Fr.Pass?li.Pass:h===Fr.Fail?li.Fail:li.Uncertain;let y;if(p===et.Suppressed){const b=!!f.rules.singlePoint.up,S=!!f.rules.singlePoint.down;i===Pr.Up?b?y=Ke.Higher:S&&(y=Ke.Lower):i===Pr.Down?S?y=Ke.Lower:b&&(y=Ke.Higher):y=Ke.Higher}else if(p===et.Neither&&g){const b=f.rules.singlePoint.up||f.rules.twoOfThree.up||f.rules.fourOfFive.up||f.rules.shift.up||f.rules.trend.up,S=f.rules.singlePoint.down||f.rules.twoOfThree.down||f.rules.fourOfFive.down||f.rules.shift.down||f.rules.trend.down;b&&!S?y=Ke.Higher:S&&!b?y=Ke.Lower:y=Ke.Higher}const C=80,N=f.rules.singlePoint.up||f.rules.twoOfThree.up||f.rules.fourOfFive.up||f.rules.shift.up||f.rules.trend.up,j=f.rules.singlePoint.down||f.rules.twoOfThree.down||f.rules.fourOfFive.down||f.rules.shift.down||f.rules.trend.down;let w=We.CommonCause;return p===et.Improvement?w=We.ImprovementHigh:p===et.Concern?w=We.ConcernHigh:p===et.Neither&&(g?y===Ke.Lower||j&&!N?w=We.NeitherLow:w=We.NeitherHigh:w=We.CommonCause),a.jsxs("div",{style:{display:"flex",gap:12,marginRight:16},children:[a.jsx("div",{className:"fdp-spc-chart__embedded-icon","data-variation":String(p),"data-trend":y?String(y):"none",style:{width:C,height:C},children:a.jsx(vu,{dropShadow:!1,data:{variationIcon:w,improvementDirection:i,specialCauseNeutral:g,highSideSignal:N,lowSideSignal:j,...y?{trend:y}:{}},letterMode:i===Pr.Neither?Wo.Direction:Wo.Polarity,size:C,variant:o,runLength:o===di.TriangleWithRun?s:void 0})}),a.jsx("div",{className:"fdp-spc-chart__embedded-assurance-icon","data-assurance":String(h),style:{width:C,height:C},children:a.jsx(xu,{status:m,size:C,dropShadow:!1})})]},`embedded-icon-${d}`)}const Lm=({engineRows:e,limits:t,pointDescriber:n,measureName:r,measureUnit:i,dateFormatter:o,enableNeutralNoJudgement:s=!0,showTrendGatingExplanation:l=!0})=>{const c=xr(),u=Er(),[d,f]=ne.useState(null),[p,h]=ne.useState(!1),g=ne.useRef(null);ne.useEffect(()=>{if(c){if(c.focused&&(f(c.focused),g.current&&(cancelAnimationFrame(g.current),g.current=null)),!c.focused&&!p){const $e=requestAnimationFrame(()=>{f(null),g.current=null});g.current=$e}return()=>{g.current&&(cancelAnimationFrame(g.current),g.current=null)}}},[c,c?.focused,p]);const m=c&&(c.focused||(p?d:null)||d),[y,C]=ne.useState(!1);ne.useEffect(()=>{const $e=requestAnimationFrame(()=>C(!0));return()=>cancelAnimationFrame($e)},[m?.index]);const N=u?.innerWidth??0,j=u?.innerHeight??0,w=m?Math.min(Math.max(m.clientX,0),N):0,b=m?Math.min(Math.max(m.clientY,0),j):0,S=u?.ref?.current||void 0;if(!m)return null;const M=e?.[m.index],v=Ha(M?{specialCauseSinglePointUp:!!M.rules.singlePoint.up,specialCauseSinglePointDown:!!M.rules.singlePoint.down,specialCauseTwoOfThreeUp:!!M.rules.twoOfThree.up,specialCauseTwoOfThreeDown:!!M.rules.twoOfThree.down,specialCauseFourOfFiveUp:!!M.rules.fourOfFive.up,specialCauseFourOfFiveDown:!!M.rules.fourOfFive.down,specialCauseShiftUp:!!M.rules.shift.up,specialCauseShiftDown:!!M.rules.shift.down,specialCauseTrendUp:!!M.rules.trend.up,specialCauseTrendDown:!!M.rules.trend.down}:null).map($e=>({id:$e,label:Gi[$e].tooltip})),_=m.x instanceof Date?m.x:new Date(m.x),E=o?o(_):_.toDateString(),D=i?`${i}`:"",B=r||D?`${m.y}${D?""+D:" "}${r?" "+r:""}`:`${m.y}`,A=za(M?.classification?.variation),I=cm(M?.classification?.assurance),L=yk(t.mean??null,t.sigma,m.y),F=n?n(m.index,{x:m.x,y:m.y}):void 0,G=A||I||L,ee=M?.rules.trend.up||M?.rules.trend.down,T=M?.classification?.variation===et.Neither&&ee,X=l&&T?"Trend detected (monotonic run) â€“ held neutral until values cross onto the favourable side of the mean.":null,O=v.length>0,$=M&&"primeDirection"in M?M.primeDirection:void 0,V=M&&"primeRuleId"in M?M.primeRuleId:void 0,Y=s&&M?.classification?.variation===et.Neither&&O,R="var(--nhs-fdp-color-primary-yellow, #ffeb3b)",J=um(M?.classification?.variation),te=6.2,oe=[F||"",`${E} â€¢ ${B}`].filter(Boolean).reduce(($e,xe)=>Math.max($e,xe.length*te+32),0),ye=200,Z=440,se=Math.min(Z,Math.max(ye,oe));let de=w+12,be=(u.margin?.top??0)+b+16;de+se>N&&(de=w- -60-se),de<0&&(de=Math.max(0,N-se));const q=m?`spc-tooltip-${m.index}`:"spc-tooltip",Ge=typeof m.index=="number"?m.index:NaN,Pe=S?Hv.createPortal(a.jsx("div",{id:q,className:"fdp-spc-tooltip fdp-spc-tooltip-portal"+(y?" is-visible":""),style:{position:"absolute",left:de,top:be,width:se,maxWidth:Z,zIndex:10,pointerEvents:"auto",userSelect:"none"},role:"tooltip","aria-live":"polite","aria-hidden":y?"false":"true","data-floating":!0,"data-placement":de+se+12>N?"left":"right",onPointerEnter:()=>{h(!0),g.current&&(cancelAnimationFrame(g.current),g.current=null)},onPointerLeave:()=>{if(h(!1),!c?.focused){const $e=requestAnimationFrame(()=>{f(null),g.current=null});g.current=$e}},children:a.jsxs("div",{className:"fdp-spc-tooltip__body",children:[a.jsxs("div",{className:"fdp-spc-tooltip__section fdp-spc-tooltip__section--point",children:[a.jsx("div",{className:"fdp-spc-tooltip__section-label",children:a.jsx("strong",{children:"Point"})}),a.jsxs("div",{className:"fdp-spc-tooltip__primary-line",children:["Index: ",Ge]})]}),a.jsxs("div",{className:"fdp-spc-tooltip__section fdp-spc-tooltip__section--date",children:[a.jsx("div",{className:"fdp-spc-tooltip__section-label",children:a.jsx("strong",{children:"Date"})}),a.jsx("div",{className:"fdp-spc-tooltip__primary-line",children:E})]}),a.jsxs("div",{className:"fdp-spc-tooltip__section fdp-spc-tooltip__section--value",children:[a.jsx("div",{className:"fdp-spc-tooltip__section-label",children:a.jsx("strong",{children:"Value"})}),a.jsx("div",{className:"fdp-spc-tooltip__primary-line",children:B})]}),G&&a.jsxs("div",{className:"fdp-spc-tooltip__section fdp-spc-tooltip__section--signals",children:[a.jsx("div",{className:"fdp-spc-tooltip__section-label",children:a.jsx("strong",{children:"Signals"})}),a.jsx("div",{className:"fdp-spc-tooltip__badges","aria-label":"Signals",children:A?.toLowerCase().includes("concern")?a.jsx(pt,{text:A,color:"default",className:"fdp-spc-tooltip__tag fdp-spc-tag fdp-spc-tag--concern"}):A?.toLowerCase().includes("improvement")?a.jsx(pt,{text:A,color:"default",className:"fdp-spc-tooltip__tag fdp-spc-tag fdp-spc-tag--improvement"}):Y?a.jsx(pt,{text:"No judgement",color:"default",className:"fdp-spc-tooltip__tag fdp-spc-tag fdp-spc-tag--no-judgement","aria-label":"Neutral special cause (no directional judgement)"}):A?a.jsx(pt,{text:A,color:"default",className:"fdp-spc-tooltip__tag fdp-spc-tag fdp-spc-tag--common"}):null})]}),I&&a.jsxs("div",{className:"fdp-spc-tooltip__section fdp-spc-tooltip__section--assurance",children:[a.jsx("div",{className:"fdp-spc-tooltip__section-label",children:a.jsx("strong",{children:"Assurance"})}),a.jsx("div",{className:"fdp-spc-tooltip__badges","aria-label":"Limits",children:(()=>{const $e=I.toLowerCase(),z=!($e.includes("not met")||$e.includes("not achieved"))&&/(^|\b)(met|achieved)(\b|$)/.test($e);return a.jsx(pt,{text:I,color:"default",className:`fdp-spc-tooltip__tag fdp-spc-tag fdp-spc-tag--assurance ${z?"fdp-spc-tag--improvement":"fdp-spc-tag--concern"}`,"aria-label":`Assurance: ${I}`})})()})]}),L&&a.jsxs("div",{className:"fdp-spc-tooltip__section fdp-spc-tooltip__section--limits",children:[a.jsx("div",{className:"fdp-spc-tooltip__section-label",children:a.jsx("strong",{children:"Control Limits & Sigma"})}),a.jsx("div",{className:"fdp-spc-tooltip__badges","aria-label":"Limits",children:a.jsx(pt,{text:(()=>{const $e=L.toLowerCase();return $e.startsWith("within 1")?"â‰¤1Ïƒ":$e.startsWith("1â€“2")?"1â€“2Ïƒ":$e.startsWith("2â€“3")?"2â€“3Ïƒ":$e.startsWith(">3")?">3Ïƒ":L})(),color:L.includes(">3")?"orange":L.includes("2â€“3")?"yellow":"grey","aria-label":`Sigma zone: ${L}`,className:"fdp-spc-tooltip__tag fdp-spc-tag fdp-spc-tag--zone"})})]}),X&&a.jsxs("div",{className:"fdp-spc-tooltip__section fdp-spc-tooltip__section--gating","data-gating":!0,children:[a.jsx("div",{className:"fdp-spc-tooltip__section-label",children:a.jsx("strong",{children:"Trend gating"})}),a.jsx("div",{className:"fdp-spc-tooltip__explanation","aria-live":"off",children:X})]}),O&&a.jsxs("div",{className:"fdp-spc-tooltip__section fdp-spc-tooltip__section--rules",children:[a.jsx("div",{className:"fdp-spc-tooltip__section-label",children:a.jsx("strong",{children:"Special cause"})}),a.jsx("div",{className:"fdp-spc-tooltip__rule-tags","aria-label":"Special cause rules",children:v.map(({id:$e,label:xe})=>{const z=String($e),fe=z===Ho.TrendIncreasing||z===Ho.TrendDecreasing?"fdp-spc-tag--trend":Y?"fdp-spc-tag--no-judgement":A?A.toLowerCase().includes("concern")?"fdp-spc-tag--concern":A.toLowerCase().includes("improvement")?"fdp-spc-tag--improvement":"fdp-spc-tag--common":"fdp-spc-tag--common";return a.jsx(pt,{text:xe,color:"default",className:`fdp-spc-tooltip__tag fdp-spc-tag ${fe}`,"data-rule-id":z},z)})}),$&&a.jsxs("div",{className:"fdp-spc-tooltip__section fdp-spc-tooltip__section--rules",style:{marginTop:16},children:[a.jsx("div",{className:"fdp-spc-tooltip__section-label",style:{marginBottom:6},children:a.jsx("strong",{children:"Prime Direction"})}),(()=>{const $e=Y?"fdp-spc-tag--no-judgement":A?A.toLowerCase().includes("concern")?"fdp-spc-tag--concern":A.toLowerCase().includes("improvement")?"fdp-spc-tag--improvement":"fdp-spc-tag--common":"fdp-spc-tag--common",xe=`${$}${V?` (${V})`:""}`;return a.jsx(pt,{text:xe,color:"default",className:`fdp-spc-tooltip__tag fdp-spc-tag ${$e}`,"aria-label":`Prime direction ${$}${V?` via ${V}`:""}`})})()]})]})]})}),S):null;return a.jsxs("g",{className:"fdp-tooltip-layer fdp-spc-tooltip",pointerEvents:"none","aria-hidden":"true",children:[a.jsx("circle",{cx:w,cy:b,r:7,fill:"none",stroke:R,strokeWidth:3}),a.jsx("circle",{cx:w,cy:b,r:5,fill:"#000",stroke:R,strokeWidth:1.5}),a.jsx("circle",{cx:w,cy:b,r:2.5,fill:J,stroke:"#fff",strokeWidth:.5}),Pe]})},Wk=({engineRows:e,measureName:t,measureUnit:n,onSignalFocus:r})=>{const i=xr(),o=i?.focused??null,s=o?.index??null,l=typeof s=="number"&&e?e[s]:null,c=ne.useMemo(()=>l?Ha({specialCauseSinglePointUp:!!l.rules.singlePoint.up,specialCauseSinglePointDown:!!l.rules.singlePoint.down,specialCauseTwoOfThreeUp:!!l.rules.twoOfThree.up,specialCauseTwoOfThreeDown:!!l.rules.twoOfThree.down,specialCauseFourOfFiveUp:!!l.rules.fourOfFive.up,specialCauseFourOfFiveDown:!!l.rules.fourOfFive.down,specialCauseShiftUp:!!l.rules.shift.up,specialCauseShiftDown:!!l.rules.shift.down,specialCauseTrendUp:!!l.rules.trend.up,specialCauseTrendDown:!!l.rules.trend.down}):[],[l]),u=ne.useMemo(()=>Array.from(new Set(c.map(m=>Gi[m]?.narration).filter(Boolean))),[c]),d=l?za(l.classification?.variation):null,f=l?cm(l.classification?.assurance):null,p=c.length>0,h=l?l.classification?.variation===et.Neither&&p:!1,g=ne.useRef(null);return ne.useEffect(()=>{if(!r||!o||l==null)return;const m=`${o.seriesId}:${o.index}`;if(g.current!==m){g.current=m;try{r({index:o.index,x:o.x,y:o.y,row:l,rules:c})}catch{}}},[o?.seriesId,o?.index,o?.x,o?.y,l,c,r]),a.jsxs("div",{className:"fdp-spc-inspector",role:"region","aria-label":"Signals inspector","data-testid":"spc-signals-inspector",children:[a.jsxs("div",{className:"fdp-spc-inspector__header",style:{display:"flex",alignItems:"center",justifyContent:"space-between"},children:[a.jsx("strong",{children:"Signals inspector"}),a.jsx("div",{className:"fdp-spc-inspector__nav","aria-hidden":!i,children:i&&a.jsxs("div",{style:{display:"flex",gap:8},children:[a.jsx("button",{type:"button",className:"fdp-button fdp-button--secondary",onClick:()=>{i.focused?i.focusPrevPoint():i.focusFirstPoint()},"aria-label":"Previous point",children:"â—€"}),a.jsx("button",{type:"button",className:"fdp-button fdp-button--secondary",onClick:()=>{i.focused?i.focusNextPoint():i.focusFirstPoint()},"aria-label":"Next point",children:"â–¶"})]})})]}),!l||!o?a.jsx("p",{className:"fdp-spc-inspector__empty",children:"No point selected."}):a.jsxs("div",{className:"fdp-spc-inspector__body",children:[a.jsxs("div",{className:"fdp-spc-inspector__summary",style:{display:"flex",gap:16,flexWrap:"wrap"},children:[a.jsxs("span",{children:[a.jsx("strong",{children:"Point:"})," ",o.index+1]}),a.jsxs("span",{children:[a.jsx("strong",{children:"Value:"})," ",o.y,n?` ${n}`:"",t?` ${t}`:""]})]}),(d||h||f)&&a.jsx("div",{className:"fdp-spc-inspector__signals",style:{marginTop:8},children:a.jsxs("div",{style:{display:"flex",gap:8,flexWrap:"wrap",alignItems:"center"},children:[d?.toLowerCase().includes("concern")?a.jsx(pt,{text:d,color:"default",className:"fdp-spc-tooltip__tag fdp-spc-tag fdp-spc-tag--concern"}):d?.toLowerCase().includes("improvement")?a.jsx(pt,{text:d,color:"default",className:"fdp-spc-tooltip__tag fdp-spc-tag fdp-spc-tag--improvement"}):h?a.jsx(pt,{text:"No judgement",color:"default",className:"fdp-spc-tooltip__tag fdp-spc-tag fdp-spc-tag--no-judgement","aria-label":"Neutral special cause (no directional judgement)"}):d?a.jsx(pt,{text:d,color:"default",className:"fdp-spc-tooltip__tag fdp-spc-tag fdp-spc-tag--common"}):null,f&&(()=>{const m=f.toLowerCase(),C=!(m.includes("not met")||m.includes("not achieved"))&&/(^|\b)(met|achieved)(\b|$)/.test(m);return a.jsx(pt,{text:f,color:"default",className:`fdp-spc-tooltip__tag fdp-spc-tag fdp-spc-tag--assurance ${C?"fdp-spc-tag--improvement":"fdp-spc-tag--concern"}`,"aria-label":`Assurance: ${f}`})})()]})}),a.jsxs("div",{className:"fdp-spc-inspector__rules",style:{marginTop:8},children:[a.jsx("strong",{children:"Special cause:"}),a.jsx("div",{className:"fdp-spc-tooltip__rule-tags","aria-label":"Special cause rules",style:{display:"flex",gap:6,flexWrap:"wrap",marginTop:4},children:c.length===0?a.jsx("span",{children:" None"}):c.map(m=>{const y=String(m),N=y===Ho.TrendIncreasing||y===Ho.TrendDecreasing?"fdp-spc-tag--trend":h?"fdp-spc-tag--no-judgement":d?d.toLowerCase().includes("concern")?"fdp-spc-tag--concern":d.toLowerCase().includes("improvement")?"fdp-spc-tag--improvement":"fdp-spc-tag--common":"fdp-spc-tag--common",j=Gi[m]?.tooltip||y;return a.jsx(pt,{text:j,color:"default",className:`fdp-spc-tooltip__tag fdp-spc-tag ${N}`,"data-rule-id":y,title:Gi[m]?.tooltip},y)})})]}),u.length>0&&a.jsxs("div",{className:"fdp-spc-inspector__narration",style:{marginTop:8},children:[a.jsx("strong",{children:"Summary:"})," ",u.join("; ")]})]})]})};function Gk(e,t=!0){if(!e?.length)return[];const n=[...e];if(t){for(let o=1;o<n.length-1;o++)n[o]===Ot.Common&&n[o-1]===n[o+1]&&n[o-1]!==Ot.Common&&(n[o]=n[o-1]);let i=0;for(;i<n.length;){const o=n[i];let s=i+1;for(;s<n.length&&n[s]===o;)s++;s-i===1&&o!==Ot.Common&&(n[i]=Ot.Common),i=s}}const r=[];if(n.length){let i=0;for(let o=1;o<=n.length;o++)if(o===n.length||n[o]!==n[i]){const s=n[i],l=o-1,c=l-i+1;(s===Ot.Common||c>=2)&&r.push({start:i,end:l,category:s}),i=o}}return r}var Go=(e=>(e.Slope="slope",e.Neutral="neutral",e.Extend="extend",e))(Go||{}),Am=(e=>(e.Ungated="ungated",e.Gated="gated",e))(Am||{});function Yk(e){const{ui:t,input:n,engine:r,container:i,a11y:o,visualsEngine:s,meta:l,data:c,ariaLabel:u,height:d,showZones:f,showPoints:p,announceFocus:h,className:g,unit:m,targets:y,baselines:C,ghosts:N,settings:j,chartType:w,metricImprovement:b,gradientSequences:S,sequenceTransition:M,processLineWidth:x,showPartitionMarkers:v,showWarningsPanel:_,warningsFilter:E,enableNeutralNoJudgement:D,showTrendGatingExplanation:B,trendVisualMode:A,alwaysShowZeroY:I,alwaysShowHundredY:L,percentScale:F,showTrendStartMarkers:G,showFirstFavourableCrossMarkers:ee,showTrendBridgeOverlay:T,showSignalsInspector:X,onSignalFocus:O,showIcons:$,showEmbeddedIcon:V,embeddedIconVariant:Y,embeddedIconRunLength:R,showFocusIndicator:J,visualsScenario:te,visualsEngineSettings:K,source:oe,narrationContext:ye,highlightOutOfControl:Z,precomputed:se}=e;process.env.NODE_ENV!=="production"&&(!n&&(y!==void 0||C!==void 0||N!==void 0)&&console.warn("SPCChart: Flat input props (targets/baselines/ghosts) are deprecated. Use input={{ data, targets, baselines, ghosts }} instead."),!r&&j!==void 0&&console.warn("SPCChart: Flat engine prop 'settings' is deprecated. Use engine={{ chartType, metricImprovement, settings }}."),!i&&(d!==void 0||g!==void 0)&&console.warn("SPCChart: Consider grouped container props. Use container={{ height, className }}."),!o&&(u!==void 0||h!==void 0||ye!==void 0||m!==void 0)&&console.warn("SPCChart: Consider grouped accessibility props. Use a11y={{ label, announceFocus, narrationContext, unit }}."),!s&&(te!==void 0||K!==void 0)&&console.warn("SPCChart: Consider grouped visuals engine props. Use visualsEngine={{ scenario, settings }}."),t?.visuals===void 0&&(f!==void 0||p!==void 0)&&console.warn("SPCChart: Visual toggles should be grouped. Use ui={{ visuals: { showZones, showPoints } }}."),t?.visuals?.rules===void 0&&Z!==void 0&&console.warn("SPCChart: Prefer grouped rules toggle. Use ui={{ visuals: { rules: { highlightOutOfControl } } }}."),!l&&oe!==void 0&&console.warn("SPCChart: Consider grouped meta. Use meta={{ source }}."));const de=n?.data??c??[],Ce=n?.targets??y,be=n?.baselines??C,q=n?.ghosts??N,Ge=r?.chartType??w??sm.XmR,Pe=r?.metricImprovement??b??Pr.Neither,$e=r?.settings??j,xe=r?.autoRecalc,z=t?.axes?.alwaysShowZeroY??I??!1,Q=t?.axes?.alwaysShowHundredY??L??!1,fe=t?.axes?.percentScale??F??!1,me=t?.visuals?.gradientSequences??S??!0,_e=t?.visuals?.sequenceTransition??M??"slope",H=t?.visuals?.processLineWidth??x??2,W=t?.visuals?.trend?.visualMode??A??"ungated",le=t?.visuals?.trend?.showGatingExplanation??B??!0,re=t?.visuals?.rules?.enableNeutralNoJudgement??D??!0,ce=t?.visuals?.rules?.enableRules??e.enableRules??!0,ue=t?.visuals?.showZones,ve=t?.visuals?.showPoints,Me=t?.visuals?.rules?.highlightOutOfControl,Ae=i?.height,Ye=i?.className,Ze=o?.label,ct=o?.unit,Be=o?.narrationContext,he=s?.scenario,Fe=s?.settings,U=l?.source,ie=t?.overlays?.partitionMarkers??v??!1,Ne=t?.overlays?.trendStartMarkers??G??!1,Se=t?.overlays?.firstFavourableCrossMarkers??ee??!1,ke=t?.overlays?.trendBridge??T??!1,De=t?.inspector?.show??X??!1,Te=t?.inspector?.onFocus??O,pe=t?.warnings?.show??_??!1,we=t?.warnings?.filter??E,ae=t?.icons?.show??$??!1,ge=t?.icons?.embedded?.show??V??!0,Ie=t?.icons?.embedded?.variant??Y??di.Classic,Re=t?.icons?.embedded?.runLength??R,Ee=t?.overlays?.focusIndicator??J??!0;return{effData:de,effTargets:Ce,effBaselines:be,effGhosts:q,effChartTypeCore:Ge,effMetricImprovementCore:Pe,effEngineSettings:$e,effEngineAutoRecalc:xe,effHeight:Ae,effClassName:Ye,effAriaLabel:Ze,effUnit:ct,effNarrationContext:Be,effShowZones:ue,effShowPoints:ve,effHighlightOutOfControl:Me,effVisualsScenario:he,effVisualsEngineSettings:Fe,effPrecomputedVisuals:se,effSource:U,effAlwaysShowZeroY:z,effAlwaysShowHundredY:Q,effPercentScale:fe,effGradientSequences:me,effSequenceTransition:_e,effProcessLineWidth:H,effTrendVisualMode:W,effShowTrendGatingExplanation:le,effEnableNeutralNoJudgement:re,effEnableRules:ce,effShowPartitionMarkers:ie,effShowTrendStartMarkers:Ne,effShowFirstFavourableCrossMarkers:Se,effShowTrendBridgeOverlay:ke,effShowSignalsInspector:De,effOnSignalFocus:Te,effShowWarningsPanel:pe,effWarningsFilter:we,effShowIcons:ae,effShowEmbeddedIcon:ge,effEmbeddedIconVariant:Ie,effEmbeddedIconRunLength:Re,effShowFocusIndicator:Ee}}let Vk=0;const Zk=({data:e,targets:t,visuals:n,a11y:r,axis:i,compute:o})=>{const{series:s,engineRows:l,visualCategories:c,partitionMarkers:u}=e,{limits:d,uniformTarget:f}=t,{showPoints:p,showZones:h,highlightOutOfControl:g,gradientSequences:m,sequenceTransition:y,processLineWidth:C,showFocusIndicator:N=!1,enableRules:j,enableNeutralNoJudgement:w=!0,showTrendStartMarkers:b=!1,showFirstFavourableCrossMarkers:S=!1,showTrendBridgeOverlay:M=!1}=n,{announceFocus:x,ariaLabel:v,narrationContext:_,showSignalsInspector:E=!1,onSignalFocus:D,showTrendGatingExplanation:B=!0}=r,{zeroBreakSlotGapPx:A}=i,{metricImprovement:I,effectiveUnit:L}=o,F=si(),G=Er();if(!F)return null;const{xScale:ee,yScale:T}=F,X=ne.useRef("spc-seq-"+ ++Vk),O=xr(),$=s[0]?.data||[],V=ne.useMemo(()=>{if(!d.ucl&&!d.lcl)return new Set;const z=new Set;return $.forEach((Q,fe)=>{typeof d.ucl=="number"&&Q.y>d.ucl&&z.add(fe),typeof d.lcl=="number"&&Q.y<d.lcl&&z.add(fe)}),z},[d.ucl,d.lcl,$]),Y=ne.useMemo(()=>{if(!l||!l.length)return null;const z=[];return l.forEach((Q,fe)=>{const me=Q.classification.variation===et.Concern||Q.classification.variation===et.Improvement||!!Q.classification.neutralSpecialCauseValue,_e=!!Q.rules.singlePoint.up||!!Q.rules.twoOfThree.up||!!Q.rules.fourOfFive.up||!!Q.rules.shift.up||!!Q.rules.trend.up,H=!!Q.rules.singlePoint.down||!!Q.rules.twoOfThree.down||!!Q.rules.fourOfFive.down||!!Q.rules.shift.down||!!Q.rules.trend.down;z[fe]={variation:Q.classification.variation,assurance:Q.classification.assurance,special:me,concern:Q.classification.variation===et.Concern,improvement:Q.classification.variation===et.Improvement,trendUp:!!Q.rules.trend.up,trendDown:!!Q.rules.trend.down,upAny:_e,downAny:H,neutralSpecial:!!Q.classification.neutralSpecialCauseValue,shiftUp:!!Q.rules.shift.up,shiftDown:!!Q.rules.shift.down,twoOfThreeUp:!!Q.rules.twoOfThree.up,twoOfThreeDown:!!Q.rules.twoOfThree.down,fourOfFiveUp:!!Q.rules.fourOfFive.up,fourOfFiveDown:!!Q.rules.fourOfFive.down,partitionId:Q.partition.id??null}}),z},[l]),R=ne.useMemo(()=>(c||[]).map(z=>z===_t.Improvement?Ot.Improvement:z===_t.Concern?Ot.Concern:z===_t.NoJudgement?Ot.NoJudgement:Ot.Common),[c]),J=ne.useMemo(()=>!m||!R.length?[]:Gk(R,!0),[m,R,v]),te=ne.useMemo(()=>$.map(z=>ee(z.x instanceof Date?z.x:new Date(z.x))),[$,ee]),K=ee.range()[1],oe=ee.range()[0],ye=ne.useMemo(()=>{if(!l||!l.length)return null;let z=Number.POSITIVE_INFINITY,Q=Number.POSITIVE_INFINITY;if(l.forEach((re,ce)=>{re.rules.trend.up&&(z=Math.min(z,ce)),re.rules.trend.down&&(Q=Math.min(Q,ce))}),!Number.isFinite(z)&&!Number.isFinite(Q))return null;const fe=z<=Q,me=fe?Xn.Up:Xn.Down,_e=fe?z:Q,H=re=>I==null||I===Pr.Neither||re==null||typeof re.data.value!="number"||typeof re.limits.mean!="number"?!1:me===Xn.Up?I===Pr.Up?re.data.value>re.limits.mean:re.data.value<re.limits.mean:I===Pr.Down?re.data.value<re.limits.mean:re.data.value>re.limits.mean;let W=null;for(let re=_e;re<l.length;re++){const ce=l[re];if(!(fe?!!ce.rules.trend.up:!!ce.rules.trend.down))break;if(H(ce)){W=re;break}}let le=!1;if(W!=null){let re=0;for(let ce=W;ce<l.length;ce++){const ue=l[ce];if(!(fe?!!ue.rules.trend.up:!!ue.rules.trend.down))break;H(ue)&&re++}le=re>=2}return{direction:me,detectedAt:_e,firstFavourableCrossAt:W,persistedAcrossMean:le}},[l,I]),Z=ne.useMemo(()=>{if(!l||!l.length)return null;const z=Q=>{const fe=[];let me=null,_e=null;for(let H=0;H<l.length;H++){const W=l[H],le=Q(W),re=typeof le=="number"&&!isNaN(le)?le:null;if(re==null){me!==null&&_e!=null&&(fe.push({x1:te[me],x2:te[H-1],y:T(_e)}),me=null,_e=null);continue}if(me===null){me=H,_e=re;continue}_e!=null&&Math.abs(re-_e)<=1e-9||(_e!=null&&fe.push({x1:te[me],x2:te[H-1],y:T(_e)}),me=H,_e=re)}return me!==null&&_e!=null&&fe.push({x1:te[me],x2:te[l.length-1],y:T(_e)}),fe};return{mean:z(Q=>Q.limits.mean??null),ucl:z(Q=>Q.limits.ucl??null),lcl:z(Q=>Q.limits.lcl??null),onePos:z(Q=>Q.limits.oneSigma.upper??null),oneNeg:z(Q=>Q.limits.oneSigma.lower??null),twoPos:z(Q=>Q.limits.twoSigma.upper??null),twoNeg:z(Q=>Q.limits.twoSigma.lower??null)}},[l,te,T]),se=ne.useMemo(()=>J.length?a.jsxs("defs",{children:[a.jsxs("linearGradient",{id:`${X.current}-grad-common`,x1:"0%",y1:"0%",x2:"0%",y2:"100%",children:[a.jsx("stop",{offset:"0%",stopColor:"var(--nhs-fdp-color-data-viz-spc-common-cause, #A6A6A6)",stopOpacity:.28}),a.jsx("stop",{offset:"70%",stopColor:"var(--nhs-fdp-color-data-viz-spc-common-cause, #A6A6A6)",stopOpacity:.12}),a.jsx("stop",{offset:"100%",stopColor:"var(--nhs-fdp-color-data-viz-spc-common-cause, #A6A6A6)",stopOpacity:.045})]}),J.map((z,Q)=>{const fe=`${X.current}-grad-${Q}`;let me,_e=.28,H=.12,W=.045;switch(z.category){case Ot.Concern:me="var(--nhs-fdp-color-data-viz-spc-concern, #E46C0A)",_e=.28,H=.12,W=.045;break;case Ot.Improvement:me="var(--nhs-fdp-color-data-viz-spc-improvement, #00B0F0)",_e=.26,H=.11,W=.045;break;case Ot.NoJudgement:me="var(--nhs-fdp-color-data-viz-spc-no-judgement, #490092)",_e=.26,H=.11,W=.045;break;default:me="var(--nhs-fdp-color-data-viz-spc-common-cause, #A6A6A6)"}return a.jsxs("linearGradient",{id:fe,x1:"0%",y1:"0%",x2:"0%",y2:"100%",children:[a.jsx("stop",{offset:"0%",stopColor:me,stopOpacity:_e}),a.jsx("stop",{offset:"70%",stopColor:me,stopOpacity:H}),a.jsx("stop",{offset:"100%",stopColor:me,stopOpacity:W})]},fe)})]}):null,[J]),de=ne.useMemo(()=>{if(!J.length)return null;const[z]=T.domain(),Q=T(z),fe=J.map((me,_e)=>{const{start:H,end:W,category:le}=me;if(H<0||W>=te.length||H>W)return null;const re=te[H],ce=te[W];let ue="";if(le===Ot.Common){const ve=_e>0?J[_e-1]:null,Me=_e<J.length-1?J[_e+1]:null,Ae=ve?te[ve.end]:oe,Ye=ve?T($[ve.end].y):Q,Ze=Me?te[Me.start]:K,ct=Me?T($[Me.start].y):Q;ue=`M ${Ae} ${Q}`,ue+=` L ${Ae} ${Ye}`;for(let Be=H;Be<=W;Be++)ue+=` L ${te[Be]} ${T($[Be].y)}`;ue+=` L ${Ze} ${ct}`,ue+=` L ${Ze} ${Q} Z`}else{const ve=_e>0?J[_e-1]:null,Me=_e<J.length-1?J[_e+1]:null,Ae=ve&&ve.category!==Ot.Common,Ye=Me&&Me.category!==Ot.Common,Ze=T($[H].y),ct=T($[W].y);let Be=re,he=ce;if(Ae){const Fe=te[ve.end],U=T($[ve.end].y),ie=$[H].y-$[ve.end].y;y===Go.Slope&&ie>0?(ue=`M ${Fe} ${U} L ${re} ${Ze}`,Be=Fe):(ue=`M ${re} ${Q} L ${re} ${Ze}`,Be=re)}else ue=`M ${re} ${Q} L ${re} ${Ze}`;for(let Fe=H+1;Fe<=W;Fe++)ue+=` L ${te[Fe]} ${T($[Fe].y)}`;if(ue+=` L ${ce} ${ct}`,Ye){const Fe=te[Me.start],U=T($[Me.start].y),ie=$[Me.start].y-$[W].y;(y===Go.Slope&&ie<=0||y===Go.Extend)&&(ue+=` L ${Fe} ${U}`,he=Fe)}if(ue+=` L ${he} ${Q}`,ue+=` L ${Be} ${Q} Z`,y===Go.Neutral&&Ae){const Fe=te[ve.end],U=T($[ve.end].y),ie=a.jsx("path",{d:`M ${Fe} ${Q} L ${Fe} ${U} L ${re} ${Ze} L ${re} ${Q} Z`,fill:`url(#${X.current}-grad-common)`,stroke:"none",className:"fdp-spc__sequence-bg","aria-hidden":"true"},`seq-wedge-${_e}`);return a.jsxs("g",{children:[ie,a.jsx("path",{d:ue,fill:`url(#${X.current}-grad-${_e})`,stroke:"none",className:"fdp-spc__sequence-bg","aria-hidden":"true"},`seq-area-${_e}`)]},`seq-group-${_e}`)}}return a.jsx("path",{d:ue,fill:`url(#${X.current}-grad-${_e})`,stroke:"none",className:"fdp-spc__sequence-bg","aria-hidden":"true"},`seq-area-${_e}`)}).filter(Boolean);return a.jsx("g",{className:"fdp-spc__sequence-bgs",children:fe})},[J,te,K,T,$,y]),Ce=ne.useMemo(()=>{if(!_?.timeframe&&$.length>=2){const z=$.map(W=>W.x instanceof Date?W.x:new Date(W.x)),Q=new Date(Math.min(...z.map(W=>W.getTime()))),fe=new Date(Math.max(...z.map(W=>W.getTime()))),me=Math.round((fe.getTime()-Q.getTime())/864e5)||0;if(me<14)return`The chart shows a timeframe of ${me+1} days`;const _e=Math.round(me/7);return _e<20?`The chart shows a timeframe of ${_e} weeks`:`The chart shows a timeframe of ${(fe.getFullYear()-Q.getFullYear())*12+(fe.getMonth()-Q.getMonth())+1} months`}if(_?.timeframe)return`The chart shows a timeframe of ${_.timeframe}`},[_?.timeframe,$]),be=z=>{const Q=z%10,fe=z%100;return Q===1&&fe!==11?`${z}st`:Q===2&&fe!==12?`${z}nd`:Q===3&&fe!==13?`${z}rd`:`${z}th`},q=z=>`${be(z.getDate())} ${z.toLocaleString("en-GB",{month:"long"})}, ${z.getFullYear()}`,Ge=z=>({specialCauseSinglePointUp:!!z?.rules.singlePoint.up,specialCauseSinglePointDown:!!z?.rules.singlePoint.down,specialCauseTwoOfThreeUp:!!z?.rules.twoOfThree.up,specialCauseTwoOfThreeDown:!!z?.rules.twoOfThree.down,specialCauseFourOfFiveUp:!!z?.rules.fourOfFive.up,specialCauseFourOfFiveDown:!!z?.rules.fourOfFive.down,specialCauseShiftUp:!!z?.rules.shift.up,specialCauseShiftDown:!!z?.rules.shift.down,specialCauseTrendUp:!!z?.rules.trend.up,specialCauseTrendDown:!!z?.rules.trend.down}),Pe=ne.useCallback(({index:z,x:Q,y:fe})=>{const me=l?.[z],_e=Q instanceof Date?Q:new Date(Q),H=q(_e),W=_?.measureUnit?` ${_.measureUnit}`:"",le=_?.measureName?` ${_.measureName}`:"";if(!me)return`General summary is: ${Ce?Ce+". ":""}Point ${z+1}, ${H}, ${fe}${W}${le}`;const re=za(me.classification?.variation)||"Variation",ce=Ha(Ge(me)),ue=ce.length?` Rules: ${[...new Set(ce.map(Me=>Gi[Me].narration))].join("; ")}.`:" No special cause rules.",ve=[];return _?.measureName&&ve.push(`Measure: ${_.measureName}.`),_?.datasetContext&&ve.push(`${_.datasetContext}.`),_?.organisation&&ve.push(`Organisation: ${_.organisation}.`),_?.additionalNote&&ve.push(_.additionalNote),["General summary is:",...ve,`Point ${z+1} recorded on `,H+",",`with a value of ${fe} ${W}${le}`,re+".",ue].join(" ").replace(/\s+/g," ").trim()},[l,_,Ce]),$e=ne.useCallback((z,Q)=>l?.[z]?Pe({index:z,seriesId:"process",x:Q.x instanceof Date?Q.x:new Date(Q.x),y:Q.y}).replace(/^General summary is:\s*/,"").replace(/^Point \d+\s*/,""):void 0,[l,Pe]),xe=ne.useMemo(()=>{try{const z=typeof T?.domain=="function"?T.domain():void 0;if(!z||!Array.isArray(z)||z.length<2)return!1;const Q=Math.min(z[0],z[1]),fe=Math.max(z[0],z[1]);return!(0>=Q&&0<=fe)}catch{return!1}},[T]);return a.jsx(rm,{children:a.jsxs("div",{className:"fdp-spc-chart",role:"group","aria-label":"Statistical process control chart","aria-roledescription":"chart",children:[a.jsx("svg",{width:F.xScale.range()[1]+56+16,height:(G?.innerHeight??F.yScale.range()[0])+12+48,role:"img",children:a.jsxs("g",{transform:"translate(56,12)",children:[a.jsx(nu,{type:"x"}),a.jsx(nu,{type:"y",yZeroBreak:{enabled:xe,gapPx:A,zigZag:{heightPx:64,amplitudePx:4,cycles:6,stepXPx:3}}}),a.jsx(Zp,{axis:"y"}),se,de,u.map((z,Q)=>{const fe=$[z];if(!fe)return null;const me=ee(fe.x instanceof Date?fe.x:new Date(fe.x));return a.jsx("line",{x1:me,x2:me,y1:0,y2:T.range()[0],stroke:"#555",strokeDasharray:"4 4",strokeWidth:1,"aria-hidden":"true",className:"fdp-spc__partition-marker"},`partition-marker-${Q}`)}),Z?.mean.length?a.jsxs("g",{"aria-hidden":"true",className:"fdp-spc__cl-group",children:[Z.mean.map((z,Q)=>a.jsx("line",{className:"fdp-spc__cl",x1:z.x1,x2:z.x2,y1:z.y,y2:z.y},`mean-${Q}`)),Z.mean.map((z,Q)=>{if(Q===Z.mean.length-1)return null;const fe=Z.mean[Q+1];if(!fe||z.y===fe.y)return null;const _e=Math.max(4,fe.x1-z.x2||0)*.5,H=`M ${z.x2},${z.y} C ${z.x2+_e},${z.y} ${fe.x1-_e},${fe.y} ${fe.x1},${fe.y}`;return a.jsx("path",{className:"fdp-spc__cl fdp-spc__cl-join",d:H,fill:"none"},`mean-join-${Q}`)})]}):null,f!=null&&a.jsx(a.Fragment,{}),Z?.ucl.length?a.jsxs("g",{"aria-hidden":"true",className:"fdp-spc__limit-group fdp-spc__limit-group--ucl",children:[Z.ucl.map((z,Q)=>a.jsx("line",{className:"fdp-spc__limit fdp-spc__limit--ucl",x1:z.x1,x2:z.x2,y1:z.y,y2:z.y,strokeWidth:2},`ucl-${Q}`)),Z.ucl.map((z,Q)=>{if(Q===Z.ucl.length-1)return null;const fe=Z.ucl[Q+1];if(!fe||z.y===fe.y)return null;const _e=Math.max(4,fe.x1-z.x2||0)*.5,H=`M ${z.x2},${z.y} C ${z.x2+_e},${z.y} ${fe.x1-_e},${fe.y} ${fe.x1},${fe.y}`;return a.jsx("path",{className:"fdp-spc__limit fdp-spc__limit--ucl fdp-spc__limit-join",d:H,fill:"none",strokeWidth:2},`ucl-join-${Q}`)})]}):null,Z?.lcl.length?a.jsxs("g",{"aria-hidden":"true",className:"fdp-spc__limit-group fdp-spc__limit-group--lcl",children:[Z.lcl.map((z,Q)=>a.jsx("line",{className:"fdp-spc__limit fdp-spc__limit--lcl",x1:z.x1,x2:z.x2,y1:z.y,y2:z.y,strokeWidth:2},`lcl-${Q}`)),Z.lcl.map((z,Q)=>{if(Q===Z.lcl.length-1)return null;const fe=Z.lcl[Q+1];if(!fe||z.y===fe.y)return null;const _e=Math.max(4,fe.x1-z.x2||0)*.5,H=`M ${z.x2},${z.y} C ${z.x2+_e},${z.y} ${fe.x1-_e},${fe.y} ${fe.x1},${fe.y}`;return a.jsx("path",{className:"fdp-spc__limit fdp-spc__limit--lcl fdp-spc__limit-join",d:H,fill:"none",strokeWidth:2},`lcl-join-${Q}`)})]}):null,f!=null&&a.jsxs("g",{"aria-hidden":"true",className:"fdp-spc__target-group",children:[a.jsx("line",{className:"fdp-spc__target","data-testid":"spc-target-line",x1:0,x2:ee.range()[1],y1:T(f),y2:T(f),strokeWidth:2.5}),a.jsxs("text",{"data-testid":"spc-target-label",x:ee.range()[0]-7,y:T(f)-5,textAnchor:"start",className:"fdp-spc__target-label",fontSize:12,children:["Target ",f," ",L||_?.measureUnit||""]})]}),h&&Z&&Z.mean.length>0&&a.jsxs(a.Fragment,{children:[Z.onePos.map((z,Q)=>a.jsx("line",{className:"fdp-spc__zone fdp-spc__zone--pos1",x1:z.x1,x2:z.x2,y1:z.y,y2:z.y,"aria-hidden":"true",strokeWidth:2},`onePos-${Q}`)),Z.oneNeg.map((z,Q)=>a.jsx("line",{className:"fdp-spc__zone fdp-spc__zone--neg1",x1:z.x1,x2:z.x2,y1:z.y,y2:z.y,"aria-hidden":"true",strokeWidth:2},`oneNeg-${Q}`)),Z.twoPos.map((z,Q)=>a.jsx("line",{className:"fdp-spc__zone fdp-spc__zone--pos2",x1:z.x1,x2:z.x2,y1:z.y,y2:z.y,"aria-hidden":"true",strokeWidth:2},`twoPos-${Q}`)),Z.twoNeg.map((z,Q)=>a.jsx("line",{className:"fdp-spc__zone fdp-spc__zone--neg2",x1:z.x1,x2:z.x2,y1:z.y,y2:z.y,"aria-hidden":"true",strokeWidth:2},`twoNeg-${Q}`))]}),ye&&(b||S||M)&&(()=>{const z=ye.detectedAt,Q=ye.firstFavourableCrossAt,fe=$[z]?ee($[z].x instanceof Date?$[z].x:new Date($[z].x)):null,me=$[z]?T($[z].y):null,_e=Q!=null&&$[Q]?ee($[Q].x instanceof Date?$[Q].x:new Date($[Q].x)):null,H=Q!=null&&$[Q]?T($[Q].y):null;return a.jsxs("g",{"aria-hidden":"true",className:"fdp-spc__trend-overlays",children:[M&&fe!=null&&me!=null&&_e!=null&&H!=null&&a.jsx("line",{x1:fe,y1:me,x2:_e,y2:H,stroke:"#888",strokeDasharray:"4 4",strokeWidth:2,children:a.jsx("title",{children:"Trend bridge: start to first favourable-side point"})}),b&&fe!=null&&me!=null&&a.jsx("circle",{cx:fe,cy:me,r:6,fill:"white",stroke:"#555",strokeWidth:2,children:a.jsx("title",{children:"Trend start (run reached N)"})}),S&&_e!=null&&H!=null&&a.jsx("circle",{cx:_e,cy:H,r:5,fill:"#555",children:a.jsx("title",{children:"First favourable-side inclusion"})})]})})(),a.jsx(im,{series:s[0],seriesIndex:0,palette:"categorical",showPoints:!1,focusablePoints:!1,focusIndex:-1,parseX:z=>z.x instanceof Date?z.x:new Date(z.x),smooth:!1,strokeWidth:C}),p&&$.map((z,Q)=>{const fe=ee(z.x instanceof Date?z.x:new Date(z.x)),me=T(z.y),_e=V.has(Q),H=Y?.[Q],W=R[Q],le=W===Ot.Improvement,re=W===Ot.Concern,ce=W===Ot.NoJudgement,ue=["fdp-spc__point",_e&&g?"fdp-spc__point--ooc":null,j&&re?"fdp-spc__point--sc-concern":null,j&&le?"fdp-spc__point--sc-improvement":null,j&&w&&ce?"fdp-spc__point--sc-no-judgement":null,H?.assurance===Fr.Pass?"fdp-spc__point--assurance-pass":null,H?.assurance===Fr.Fail?"fdp-spc__point--assurance-fail":null].filter(Boolean).join(" "),ve=O?.focused?.index===Q;return a.jsx("circle",{cx:fe,cy:me,r:5,className:ue,"data-variation":H?.variation,"data-assurance":H?.assurance,"aria-label":v,...ve?{"aria-describedby":`spc-tooltip-${Q}`}:{}},Q)}),N&&E&&O?.focused&&(()=>{const z=O.focused,Q=typeof z.index=="number"?z.index:-1;if(Q<0||!$[Q])return null;const fe=ee($[Q].x instanceof Date?$[Q].x:new Date($[Q].x)),me=T($[Q].y),_e="var(--nhs-fdp-color-primary-yellow, #ffeb3b)";return a.jsxs("g",{className:"fdp-spc__focus-indicator","aria-hidden":"true",children:[a.jsx("circle",{cx:fe,cy:me,r:7,fill:"none",stroke:_e,strokeWidth:3}),a.jsx("circle",{cx:fe,cy:me,r:5,fill:"#000",stroke:_e,strokeWidth:1.5}),a.jsx("circle",{cx:fe,cy:me,r:2.5,fill:"var(--nhs-fdp-color-data-viz-spc-common-cause, #A6A6A6)",stroke:"#fff",strokeWidth:.5})]})})(),G&&a.jsx(qk,{width:ee.range()[1],height:T.range()[0]}),!E&&a.jsx(Lm,{engineRows:l,limits:{mean:d.mean,sigma:d.sigma},pointDescriber:$e,measureName:_?.measureName,measureUnit:_?.measureUnit,dateFormatter:z=>q(z),enableNeutralNoJudgement:w,showTrendGatingExplanation:B})]})}),E&&a.jsx("div",{style:{marginTop:8},children:a.jsx(Wk,{engineRows:l,measureName:_?.measureName,measureUnit:L||_?.measureUnit,onSignalFocus:D})}),x&&a.jsx(sk,{format:z=>Pe({...z,x:z.x instanceof Date?z.x:new Date(z.x)})})]})})},qk=({width:e,height:t})=>{const n=xr();return n?a.jsx("rect",{className:"fdp-spc__interaction-layer",width:e,height:t,fill:"transparent",tabIndex:0,"aria-label":"Interactive chart area. Use arrow keys to move between points.",onMouseMove:r=>{const o=r.currentTarget.getBoundingClientRect(),s=r.clientX-o.left,l=r.clientY-o.top;n.focusNearest(s,l)},onMouseLeave:()=>n.clear(),onKeyDown:r=>{switch(r.key){case"ArrowRight":n.focusNextPoint(),r.preventDefault();break;case"ArrowLeft":n.focusPrevPoint(),r.preventDefault();break;case"ArrowDown":n.focusNextSeries(),r.preventDefault();break;case"ArrowUp":n.focusPrevSeries(),r.preventDefault();break;case"Home":n.focusFirstPoint(),r.preventDefault();break;case"End":n.focusLastPoint(),r.preventDefault();break}},style:{cursor:"crosshair"}}):null};function Em(e){if(e==null)return;const t=e instanceof Date?e:new Date(e);return Number.isNaN(t.valueOf())?void 0:t}function Xk(e,t,n){const r=new Array(e),i=new Date(t);for(let o=0;o<e;o++)switch(r[o]=new Date(i),n){case"hourly":i.setHours(i.getHours()+1);break;case"daily":i.setDate(i.getDate()+1);break;case"weekly":i.setDate(i.getDate()+7);break;case"monthly":i.setMonth(i.getMonth()+1);break;case"quarterly":i.setMonth(i.getMonth()+3);break;case"annually":i.setFullYear(i.getFullYear()+1);break}return r}function Jk(e,t){const n=e.filter(Boolean);if(n.length<2)return t;const r=[];for(let c=1;c<n.length;c++)r.push(n[c].getTime()-n[c-1].getTime());const i=r.sort((c,u)=>c-u),o=i[Math.floor(i.length/2)],s=3600*1e3,l=24*s;return o<=2*s?"hourly":o<=2*l?"daily":o<=10*l?"weekly":o<=45*l?"monthly":o<=120*l?"quarterly":"annually"}function Pm(e,t){if(e)try{switch(t){case"hourly":return new Intl.DateTimeFormat(void 0,{hour:"2-digit",minute:"2-digit",day:"2-digit",month:"short",year:"numeric"}).format(e);case"daily":return new Intl.DateTimeFormat(void 0,{day:"2-digit",month:"short",year:"numeric"}).format(e);case"weekly":return`Week of ${new Intl.DateTimeFormat(void 0,{day:"2-digit",month:"short",year:"numeric"}).format(e)}`;case"monthly":return new Intl.DateTimeFormat(void 0,{month:"short",year:"numeric"}).format(e);case"quarterly":return`Q${Math.floor(e.getMonth()/3)+1} ${e.getFullYear()}`;case"annually":return`${e.getFullYear()}`;default:return new Intl.DateTimeFormat(void 0,{day:"2-digit",month:"short",year:"numeric"}).format(e)}}catch{return}}function Kk(e,t,n,r="0-100"){if(t)return t;if(n)return n;const i=e.filter(l=>l!=null);if(!i.length)return;const o=Math.min(...i),s=Math.max(...i);if(r==="0-1"){if(o>=0&&s<=1&&s>0)return"%"}else if(o>=0&&s<=100&&s>0)return"%"}function Qk(e,t,n=1){switch(e||t){case"hourly":return n===1?"last hour":`last ${n} hours`;case"daily":return n===1?"last day":`last ${n} days`;case"weekly":return n===1?"last week":`last ${n} weeks`;case"monthly":return n===1?"last month":`last ${n} months`;case"quarterly":return n===1?"last quarter":`last ${n} quarters`;case"annually":return n===1?"last year":`last ${n} years`;default:return"previous"}}function Fm(e){const{values:t,dates:n,intervalHint:r,startDate:i,providedUnit:o,defaultUnit:s,autoValue:l=!0,autoDelta:c=!0,autoMetadata:u=!0,deltaConfig:d}=e,f=t.map(v=>typeof v=="number"?v:v==null?null:Number(v));let p=-1;for(let v=f.length-1;v>=0;v--)if(f[v]!=null){p=v;break}let h=(n||[]).map(Em);if(!h.some(Boolean)){const v=Em(i);v&&r?h=Xk(f.length,v,r):h=new Array(f.length).fill(void 0)}const m=Jk(h,r),y=Kk(f,o,s,e.percentHeuristic),C=l&&p>=0&&f[p]!=null?f[p]:void 0,N={strategy:"previous",n:1,absolute:!0,skipNulls:!0,...d||{}};function j(){if(p<0)return-1;if(N.strategy==="previous"||N.strategy==="n-points"){let B=p-(N.strategy==="previous"?1:Math.max(1,N.n||1));if(!N.skipNulls)return B;for(let A=B;A>=0;A--)if(f[A]!=null)return A;return-1}const v=h[p];if(!v)return-1;const _=new Date(v);_.setFullYear(_.getFullYear()-1);let E=-1,D=1/0;for(let B=0;B<h.length;B++){const A=h[B];if(!A||f[B]==null)continue;const I=Math.abs(A.getTime()-_.getTime());I<D&&(D=I,E=B)}return E}const w=j(),b=w>=0?f[w]:null;let S;if(c&&C!=null&&b!=null){const v=C-b,_=N.absolute!==!1,E=_?v:b===0?0:v/Math.abs(b)*100;S={value:Number.isFinite(E)?Number(E.toFixed(2)):0,isPercent:_?y==="%":!0,period:`vs ${Qk(m,r,N.strategy==="n-points"?Math.max(1,N.n||1):1)}`}}const M=p>=0?h[p]:void 0,x=u&&Pm(M,m)?`Latest: ${Pm(M,m)}`:void 0;return{value:C,unit:y,delta:S,metadata:x,latestDate:M,frequency:m}}function eC(e){const{rows:t}=Uo(e),n=gu(e);return{rows:t,visuals:n.visuals}}const _u=13;function wu(e){if(!(!e||e.length===0))return e.map(t=>{switch(t){case _t.Improvement:return et.Improvement;case _t.Concern:return et.Concern;case _t.NoJudgement:return et.Neither;default:return null}})}function $m(e){if(!(!e||e.length===0))return e.map(t=>t===_t.NoJudgement)}function Bm(e,t){const n=e===_n.G?_n.G:e===_n.T?_n.T:_n.XmR,r=t===tt.Up?tt.Up:t===tt.Down?tt.Down:tt.Neither;return{chartType:n,metricImprovement:r}}function Om(e,t,n){const r=typeof e?.minimumPoints=="number"&&!isNaN(e.minimumPoints)?e.minimumPoints:_u,i={minimumPoints:r};return t.filter(s=>!s.ghost&&typeof s.value=="number").length>=r&&(i.chartLevelEligibility=!0),e?.enableFourOfFiveRule!=null&&(i.enableFourOfFiveRule=!!e.enableFourOfFiveRule),n&&Object.assign(i,n),Object.keys(i).length?i:void 0}function tC(e,t,n){const r=ne.useMemo(()=>{if(!e||e.length<2)return!1;const s=Math.min(e[0],e[1]),l=Math.max(e[0],e[1]);return!(0>=s&&0<=l)},[e]),{slotPx:i,totalReservedPx:o}=ne.useMemo(()=>{if(!r)return{slotPx:0,totalReservedPx:0};const l=(t??260)-60,c=Eo,d=c+Up,f=n?.maxFraction,p=Math.max(Po,Math.floor(l*f)),h=Math.min(d,p);return{slotPx:Math.min(c,h),totalReservedPx:h}},[r,t,n?.maxFraction]);return{show:r,slotPx:i,totalReservedPx:o}}function nC(e,t,n,r){if(n.percentScale){const c=e.map(f=>f.y),u=Math.max(100,...c),d=Math.min(0,...c);return[d<0?d:0,u>100?u:100]}const i=e.map(c=>c.y),o=c=>{c!=null&&i.push(c)};if(o(t.mean),o(t.ucl),o(t.lcl),o(t.onePos),o(t.oneNeg),o(t.twoPos),o(t.twoNeg),r&&r.length)for(const c of r)typeof c=="number"&&!isNaN(c)&&i.push(c);if(!i.length)return;let s=Math.min(...i),l=Math.max(...i);return n.alwaysShowZeroY&&(s=Math.min(0,s)),n.alwaysShowHundredY&&(l=Math.max(100,l)),[s,l]}function Su(e,t){if(!e?.length||t.chartType!==_n.XmR)return null;const n=Math.max(2,Math.floor(t.shiftLength??6)),r=[];for(let h=0;h<e.length;h++){const g=e[h],m=g.value;g?.ghost||typeof m=="number"&&Number.isFinite(m)&&r.push({idx:h,value:m})}if(r.length<n*2)return null;let i=0,o=0;for(let h=1;h<r.length;h++)i+=Math.abs(r[h].value-r[h-1].value),o++;if(o===0)return null;const l=i/o*(2.66/3);if(!Number.isFinite(l)||l<=0)return null;const c=Math.max(0,t.deltaSigma??.5),u=t.metricImprovement===tt.Up,d=t.metricImprovement===tt.Down,f=(()=>{for(let h=e.length-1;h>=0;h--)if(e[h]?.baseline)return h;return-1})();function p(h,g){let m=0,y=0;for(let C=h;C<g;C++)m+=r[C].value,y++;return y?m/y:NaN}for(let h=n;h<=r.length-n;h++){const g=p(h-n,h),m=p(h,h+n);if(!Number.isFinite(g)||!Number.isFinite(m))continue;const y=m-g,C=y/l;let N=!1,j=!1;if(u?(N=C>=c,j=!0):d?(N=-C>=c,j=!1):(N=Math.abs(C)>=c,j=y>0),!N)continue;const w=M=>j?M>g:M<g;let b=!0;for(let M=h;M<h+n;M++)if(!w(r[M].value)){b=!1;break}if(!b)continue;const S=r[h].idx;if(!(t.minGap&&f>=0&&S-f<t.minGap))return S}return null}function rC(e,t){const n=Su(e,t);return n==null?e.slice():e.map((r,i)=>i===n?{...r,baseline:!0}:r)}function iC(e,t){const n=Math.max(1,Math.floor(t.maxInsertions??1));if(n<=1)return rC(e,t);let r=e.slice(),i=0;const o=Math.max(1,t.minGap??0);for(;i<n;){const s=Su(r,{...t,minGap:o});if(s==null)break;if(r[s]?.baseline){const l=Su(r,{...t,minGap:o+1});if(l==null||l===s)break;r=r.map((c,u)=>u===l?{...c,baseline:!0}:c),i++;continue}r=r.map((l,c)=>c===s?{...l,baseline:!0}:l),i++}return r}const Rm=e=>{const t=ne.useCallback(pe=>String(pe).replace(/^spc_warning_code\.?/i,"").replace(/[_\-]+/g," ").trim().split(" ").filter(Boolean).map(ae=>ae.length?ae[0].toUpperCase()+ae.slice(1):ae).join(" "),[]),n=ne.useCallback(pe=>String(pe).replace(/[_\-]+/g," ").trim().split(" ").filter(Boolean).map(we=>we.length?we[0].toUpperCase()+we.slice(1):we).join(" "),[]);process.env.NODE_ENV!=="production"&&e.disableTrendSideGating!==void 0&&console.warn("SPCChart: 'disableTrendSideGating' prop is deprecated and ignored (trend side gating always enabled).");const{effData:r,effTargets:i,effBaselines:o,effGhosts:s,effChartTypeCore:l,effMetricImprovementCore:c,effEngineSettings:u,effAlwaysShowZeroY:d,effAlwaysShowHundredY:f,effPercentScale:p,effGradientSequences:h,effSequenceTransition:g,effProcessLineWidth:m,effTrendVisualMode:y,effShowTrendGatingExplanation:C,effEnableNeutralNoJudgement:N,effEnableRules:j,effShowPartitionMarkers:w,effShowTrendStartMarkers:b,effShowFirstFavourableCrossMarkers:S,effShowTrendBridgeOverlay:M,effShowSignalsInspector:x,effOnSignalFocus:v,effShowWarningsPanel:_,effWarningsFilter:E,effShowEmbeddedIcon:D,effEmbeddedIconVariant:B,effEmbeddedIconRunLength:A,effShowFocusIndicator:I,effHeight:L,effClassName:F,effAriaLabel:G,effUnit:ee,effNarrationContext:T,effShowZones:X,effShowPoints:O,effHighlightOutOfControl:$,effVisualsScenario:V,effVisualsEngineSettings:Y,effSource:R,effPrecomputedVisuals:J,effEngineAutoRecalc:te}=Yk(e),K=G??e.ariaLabel,oe=L??e.height??260,ye=F??e.className,Z=ee??e.unit,se=T??e.narrationContext,de=X??e.showZones,Ce=O??e.showPoints,be=$??e.highlightOutOfControl,q=V??e.visualsScenario??Mm.None,Ge=Y??e.visualsEngineSettings,Pe=R??e.source,$e=e.a11y?.announceFocus??e.announceFocus??!1,xe=ne.useMemo(()=>r.map((pe,we)=>({x:pe.x,value:pe.y,target:i?.[we]??void 0,baseline:o?.[we]??void 0,ghost:s?.[we]??void 0})),[r,i,o,s]),z=ne.useMemo(()=>{try{const pe=te;return pe?.enabled?iC(xe,{chartType:l,metricImprovement:c,shiftLength:pe.shiftLength,deltaSigma:pe.deltaSigma,minGap:pe.minGap,maxInsertions:pe.maxInsertions}):xe}catch{return xe}},[xe,te,l,c]),Q=ne.useMemo(()=>{if(J?.visuals)return J.visuals;try{const pe=Om(u,z,Ge),{chartType:we,metricImprovement:ae}=Bm(l,c),ge={chartType:we,metricImprovement:ae,data:z,settings:pe},{visuals:Ie}=Ek(ge,q,{trendVisualMode:y===Am.Ungated?qi.Ungated:qi.Gated,enableNeutralNoJudgement:N});return Ie||[]}catch{return[]}},[J?.visuals?.length,z,l,c,y,N,u,q,Ge]),me=ne.useMemo(()=>{if(J?.rows)try{const pe=J.rows,we=ae=>{switch(ae){case We.ImprovementHigh:case We.ImprovementLow:return et.Improvement;case We.ConcernHigh:case We.ConcernLow:return et.Concern;case We.NeitherHigh:case We.NeitherLow:return et.Neither;case We.CommonCause:default:return et.Neither}};return pe.map((ae,ge)=>({data:{value:ae.value,ghost:!!ae.ghost},partition:{id:ae.partitionId},limits:{mean:ae.mean,ucl:ae.upperProcessLimit,lcl:ae.lowerProcessLimit,oneSigma:{upper:ae.upperOneSigma,lower:ae.lowerOneSigma},twoSigma:{upper:ae.upperTwoSigma,lower:ae.lowerTwoSigma}},rules:{singlePoint:{up:!!ae.singlePointUp,down:!!ae.singlePointDown},twoOfThree:{up:!!ae.twoSigmaUp,down:!!ae.twoSigmaDown},fourOfFive:{up:!!ae.fourOfFiveUp,down:!!ae.fourOfFiveDown},shift:{up:!!ae.shiftUp,down:!!ae.shiftDown},trend:{up:!!ae.trendUp,down:!!ae.trendDown}},classification:{variation:we(ae.variationIcon),neutralSpecialCauseValue:ae.variationIcon===We.NeitherHigh||ae.variationIcon===We.NeitherLow?ae.specialCauseImprovementValue??ae.specialCauseConcernValue??1:null,assurance:void 0},target:z[ge]?.target??null}))}catch{return null}try{const pe=Om(u,z,Ge),{chartType:we,metricImprovement:ae}=Bm(l,c),ge={chartType:we,metricImprovement:ae,data:z,settings:pe},{rows:Ie}=eC(ge),Re=Ee=>{switch(Ee){case We.ImprovementHigh:case We.ImprovementLow:return et.Improvement;case We.ConcernHigh:case We.ConcernLow:return et.Concern;case We.NeitherHigh:case We.NeitherLow:return et.Neither;case We.CommonCause:default:return et.Neither}};return Ie.map((Ee,Le)=>({data:{value:Ee.value,ghost:!!Ee.ghost},partition:{id:Ee.partitionId},limits:{mean:Ee.mean,ucl:Ee.upperProcessLimit,lcl:Ee.lowerProcessLimit,oneSigma:{upper:Ee.upperOneSigma,lower:Ee.lowerOneSigma},twoSigma:{upper:Ee.upperTwoSigma,lower:Ee.lowerTwoSigma}},rules:{singlePoint:{up:!!Ee.singlePointUp,down:!!Ee.singlePointDown},twoOfThree:{up:!!Ee.twoSigmaUp,down:!!Ee.twoSigmaDown},fourOfFive:{up:!!Ee.fourOfFiveUp,down:!!Ee.fourOfFiveDown},shift:{up:!!Ee.shiftUp,down:!!Ee.shiftDown},trend:{up:!!Ee.trendUp,down:!!Ee.trendDown}},classification:{variation:Re(Ee.variationIcon),neutralSpecialCauseValue:Ee.variationIcon===We.NeitherHigh||Ee.variationIcon===We.NeitherLow?Ee.specialCauseImprovementValue??Ee.specialCauseConcernValue??1:null,assurance:void 0},target:z[Le]?.target??null}))}catch{return null}},[J?.rows?.length,z,l,c,u,Ge])||null,_e=(me||[]).slice().reverse().find(pe=>pe.limits.mean!=null),H=_e?.limits.mean??null,W=ne.useMemo(()=>{const pe=[];try{const we=me,ae=u?.minimumPoints??13,ge=u?.minimumPoints??12;if(we&&we.length){const Ie=we.filter(Ee=>!Ee.data.ghost&&Ee.data.value!=null).length;Ie<ae&&pe.push({code:qa.InsufficientPointsGlobal,severity:Jn.Warning,category:Za.Data,message:"Not enough non-ghost points to compute stable limits/icons.",context:{nonGhostCount:Ie,minimumPoints:ae}});const Re=new Map;for(const Ee of we){const Le=Ee.partition.id??0,He=Re.get(Le)||{size:0,nonGhost:0};He.size+=1,!Ee.data.ghost&&Ee.data.value!=null&&(He.nonGhost+=1),Re.set(Le,He)}for(const[Ee,Le]of Re)Le.nonGhost>0&&Le.nonGhost<ge&&pe.push({code:qa.InsufficientPointsPartition,severity:Jn.Warning,category:Za.Partition,message:"A partition/baseline segment has too few points for recommended stability.",context:{partitionId:Ee,nonGhostCount:Le.nonGhost,minimumPointsPartition:ge}})}}catch{}return pe},[me,u?.minimumPoints]),le=ne.useMemo(()=>W.length?E?W.filter(pe=>!(E.severities&&pe.severity&&!E.severities.includes(pe.severity)||E.categories&&pe.category&&!E.categories.includes(pe.category)||E.codes&&!E.codes.includes(pe.code))):W:[],[W,E]),re=_e?.limits.ucl??null,ce=_e?.limits.lcl??null,ue=_e?.limits.oneSigma.upper??null,ve=_e?.limits.oneSigma.lower??null,Me=_e?.limits.twoSigma.upper??null,Ae=_e?.limits.twoSigma.lower??null,Ye=H!=null&&ue!=null?Math.abs(ue-H):0,Ze=ne.useMemo(()=>[{id:"process",data:r,color:"#A6A6A6"}],[r]),ct=ne.useMemo(()=>nC(r,{mean:H,ucl:re,lcl:ce,onePos:ue,oneNeg:ve,twoPos:Me,twoNeg:Ae},{alwaysShowZeroY:!!d,alwaysShowHundredY:!!f,percentScale:!!p},i??null),[r,H,re,ce,ue,ve,Me,Ae,i,d,f,p]),Be=ne.useMemo(()=>{const pe=we=>{const ae=we.filter(Ie=>typeof Ie=="number"&&!isNaN(Ie));if(!ae.length)return null;const ge=ae[0];return ae.every(Ie=>Ie===ge)?ge:null};if(me&&me.length){const we=pe(me.map(ae=>ae.target));if(we!=null)return we}return i&&i.length?pe(i):null},[me,i]),{show:he,slotPx:Fe,totalReservedPx:U}=tC(ct,oe,{maxFraction:.35}),ie=he?U:0,Ne=ne.useMemo(()=>{const pe=r.map(we=>we.x);return Fm({values:r.map(we=>we.y),dates:pe,providedUnit:Z||se?.measureUnit,percentHeuristic:"0-1",autoValue:!1,autoDelta:!1,autoMetadata:!1})},[r,Z,se?.measureUnit]),Se=Z??se?.measureUnit??Ne.unit,ke=ne.useMemo(()=>Se?{...se||{},measureUnit:Se}:se,[se,Se]),De=ne.useMemo(()=>{if(!me)return[];const pe=[];for(let we=1;we<me.length;we++)me[we].partition.id!==me[we-1].partition.id&&pe.push(we);return pe},[me]),Te=ne.useMemo(()=>Uk({show:!!D,rowsForUi:me,minPoints:u?.minimumPoints??13,metricImprovement:c,variant:B,runLength:A}),[D,me,u?.minimumPoints,c,B,A]);return a.jsxs("div",{className:ye?`fdp-spc-chart-wrapper ${ye}`:"fdp-spc-chart-wrapper",children:[a.jsx(Hk,{show:!!D,variationNode:Te,assuranceNode:null}),a.jsx(Hp,{height:oe,ariaLabel:K,margin:{bottom:48,left:56,right:16,top:12},children:a.jsx(zp,{series:Ze,yDomain:ct,yBottomGapPx:ie,children:(()=>{const pe={data:{series:Ze,engineRows:me,visualCategories:Q,partitionMarkers:w?De:[]},targets:{limits:{mean:H,ucl:re,lcl:ce,sigma:Ye,onePos:ue,oneNeg:ve,twoPos:Me,twoNeg:Ae},uniformTarget:Be},visuals:{showPoints:Ce,showZones:de,highlightOutOfControl:be,gradientSequences:h,sequenceTransition:g,processLineWidth:m,showFocusIndicator:I,enableRules:j,enableNeutralNoJudgement:N,showTrendStartMarkers:b,showFirstFavourableCrossMarkers:S,showTrendBridgeOverlay:M},a11y:{announceFocus:$e,ariaLabel:K,narrationContext:ke,showSignalsInspector:x,onSignalFocus:v,showTrendGatingExplanation:C},axis:{zeroBreakSlotGapPx:Fe},compute:{effectiveUnit:Se,metricImprovement:c}};return a.jsx(Zk,{...pe})})()})}),Pe&&a.jsx("div",{className:"fdp-spc-chart__source","aria-label":"Chart data source",children:typeof Pe=="string"?a.jsxs("small",{children:["Source: ",Pe]}):Pe}),a.jsx(Rk,{show:!!_,warnings:le,formatWarningCategory:n,formatWarningCode:t})]})};function oC(e,t){const{chartType:n=_n.XmR,metricImprovement:r,minimumPoints:i=_u,enableNeutralNoJudgement:o=!0,includeSignalFallbacks:s=!0}=t,l=e.map(j=>({x:j.x,value:j.value??j.y??null}));let c=null;try{const j=l.filter(b=>typeof b.value=="number").length,w={minimumPoints:i};j>=i&&(w.chartLevelEligibility=!0),c=Uo({chartType:n,metricImprovement:r,data:l,settings:w})}catch{c=null}const u=c?.rows??[];let d=u[u.length-1]??null;for(let j=u.length-1;j>=0;j--){const w=u[j];if(w&&w.value!=null&&!w.ghost){d=w;break}}let f=[];try{f=zo(u,{metricImprovement:r,enableNeutralNoJudgement:o})}catch{f=[]}const p=Xa(d?.variationIcon),h=d?.variationIcon??null,g=d?.mean??null,m=d?{lower:d?.lowerProcessLimit??null,upper:d?.upperProcessLimit??null}:null,y=d?{upperOne:d?.upperOneSigma??null,upperTwo:d?.upperTwoSigma??null,lowerOne:d?.lowerOneSigma??null,lowerTwo:d?.lowerTwoSigma??null}:null;let C,N;return s&&(C=wu(f),N=$m(f)),{rows:u,visuals:f,latestState:p,lastVariationIcon:h,centerLine:g,controlLimits:m,sigmaBands:y,pointSignals:C,pointNeutralSpecialCause:N}}const sC=Object.freeze(Object.defineProperty({__proto__:null,AssuranceIcon:Fr,BaselineSuggestionReason:lm,ChartType:_n,DEFAULT_MIN_POINTS:_u,Icons:zk,ImprovementDirection:tt,PARITY_V26:jm,RULE_METADATA:am,SPCChart:Rm,SPCTooltipOverlay:Lm,SpcEmbeddedIconVariant:di,SpcVisualCategory:_t,SpcWarningCategory:Za,SpcWarningCode:qa,SpcWarningSeverity:Jn,VARIATION_COLOR_TOKENS:Wn,VariationIcon:We,buildSpcV26a:Uo,buildSpcV26aWithVisuals:gu,computeSpcPrecomputed:oC,computeSpcVisualCategories:zo,extractRuleIds:Ha,getVariationColorHex:bk,getVariationColorToken:um,isSpecialCauseIcon:Im,mapIconToVariation:Xa,normaliseSpcSettingsV2:Nm,ruleGlossary:Gi,variationLabel:za,visualsToNeutralFlags:$m,visualsToPointSignals:wu,withParityV26:Pk},Symbol.toStringTag,{value:"Module"}));function aC(e){const t=e.replace("#","");return[parseInt(t.slice(0,2),16),parseInt(t.slice(2,4),16),parseInt(t.slice(4,6),16)]}function Hm(e){const{values:t,x:n,chartType:r=_n.XmR,metricImprovement:i=tt.Neither,showLimits:o=!0,showLimitBand:s=!1,showInnerBands:l=!1,showMean:c=!1}=e,u=ne.useMemo(()=>{const b=[];for(let S=0;S<t.length;S++)b.push({x:n?.[S],value:t[S]});return b},[t,n]),d=ne.useMemo(()=>{try{const b=u.map((v,_)=>({x:v.x??_,value:v.value})),S=13,M=b.filter(v=>typeof v.value=="number").length,x={minimumPoints:S};return M>=S&&(x.chartLevelEligibility=!0),Uo({chartType:r,metricImprovement:i,data:b,settings:x})}catch{return null}},[u,r,i]),f=ne.useMemo(()=>{const b=d?.rows;if(!b||b.length===0)return null;for(let S=b.length-1;S>=0;S--){const M=b[S];if(M&&M.value!=null&&!M.ghost)return M}return b[b.length-1]??null},[d]),p=ne.useMemo(()=>{const b=d?.rows;if(!b||b.length===0)return null;let S=b[b.length-1];for(let M=b.length-1;M>=0;M--){const x=b[M];if(x&&x.value!=null&&!x.ghost){S=x;break}}return Xa(S?.variationIcon)},[d]),h=ne.useMemo(()=>f?.mean??null,[f]),g=ne.useMemo(()=>{if(!f)return null;const b=f?.lowerProcessLimit??null,S=f?.upperProcessLimit??null;return b==null&&S==null?null:{lower:b,upper:S}},[f]),m=ne.useMemo(()=>f?{upperOne:f?.upperOneSigma??null,upperTwo:f?.upperTwoSigma??null,lowerOne:f?.lowerOneSigma??null,lowerTwo:f?.lowerTwoSigma??null}:null,[f]),y=ne.useMemo(()=>{const b=d?.rows;if(!(!b||b.length===0))try{return zo(b,{metricImprovement:i,enableNeutralNoJudgement:!0})}catch{return}},[d,i]),C=ne.useMemo(()=>wu(y),[y?.length]),N=ne.useMemo(()=>{if(!(!y||y.length===0))return y.map(b=>b===_t.NoJudgement)},[y?.length]),j=ne.useMemo(()=>{let b=null;if(f&&f.value!=null&&!f.ghost){const B=f.variationIcon;p===Ve.SpecialCauseNoJudgement?b=Im(B)?Ve.SpecialCauseNoJudgement:Ve.CommonCause:b=Xa(B)??Ve.CommonCause}const S=b??Ve.CommonCause,M=Ua[S].hex,[x,v,_]=aC(M),E=Wa();return{"--fdp-metric-card-bg":`linear-gradient(180deg, rgba(${x}, ${v}, ${_}, ${E.start}) 0%, rgba(${x}, ${v}, ${_}, ${E.mid}) 50%, rgba(${x}, ${v}, ${_}, ${E.end}) 100%)`,"--fdp-metric-card-accent":M}},[f,p]);return{sparkProps:ne.useMemo(()=>({data:u,showMean:c,showLimits:o,showLimitBand:s,showInnerBands:l,metricImprovement:i,centerLine:h,controlLimits:g,sigmaBands:m,pointSignals:C,pointNeutralSpecialCause:N,visualCategories:y,variationState:p??void 0}),[u,c,o,s,l,i,p,h,g?.lower,g?.upper,m?.upperTwo,m?.lowerOne,m?.lowerTwo,C?.length,N?.length,y?.length]),metricCardStyle:j,latestState:p}}const lC=({sparkData:e,direction:t=tt.Neither,showMean:n=!1,showLimits:r=!0,showLimitBand:i=!1,showInnerBands:o=!1,maxPoints:s,autoValue:l=!0,autoDelta:c=!0,autoMetadata:u=!0,defaultUnit:d,intervalHint:f,startDate:p,deltaConfig:h,...g})=>{const m=Hm({values:e.map(S=>S.value??null),metricImprovement:t,showLimits:r,showLimitBand:i,showInnerBands:o,showMean:n}),y=a.jsx(Dm,{...m.sparkProps,maxPoints:s}),C=ne.useMemo(()=>Fm({values:e.map(S=>typeof S.value=="number"?S.value:null),dates:e.map(S=>S.date),intervalHint:f,startDate:p,providedUnit:g.unit,defaultUnit:d,autoValue:l,autoDelta:c,autoMetadata:u,deltaConfig:h}),[e,f,p,g.unit,d,l,c,u,h]),N=l&&C.value!=null?C.value:g.value,j=c&&C.delta?C.delta:g.delta,w=C.unit||g.unit,b=u&&C.metadata?C.metadata:g.metadata;return a.jsx(om,{...g,value:N,unit:w,delta:j,metadata:b,visual:y,style:m.metricCardStyle})};function cC(e){return function(){let t=e+=1831565813;return t=Math.imul(t^t>>>15,t|1),t^=t+Math.imul(t^t>>>7,t|61),((t^t>>>14)>>>0)/4294967296}}function uC(e="auto"){const[t,n]=P.useState(!1);return P.useEffect(()=>{if(e!=="auto"||typeof window>"u"||!window.matchMedia)return;const r=window.matchMedia("(prefers-reduced-motion: reduce)"),i=()=>n(r.matches);return i(),r.addEventListener?.("change",i),()=>r.removeEventListener?.("change",i)},[e]),e==="off"?!1:t}function zm(e,t){return t[Math.floor(e()*t.length)]}function Br(e,t,n){return Math.max(t,Math.min(n,e))}function dC(e,t){const n=e.seed??1,r=cC(n),i=Math.max(6,Math.min(48,Math.round(e.density??18))),o=["circle","hexagon","rect"],s=[],l=e.gradients&&e.gradients.length>0?e.gradients:["nhs-fdp-gradient-blue","nhs-fdp-gradient-aqua","nhs-fdp-gradient-green"],u=(typeof e.callout.width=="number"?e.callout.width:void 0)??Math.min(520,t*.7),d=(t-u)/2,f=d+u,p={left:d/t*100,right:f/t*100,top:20,bottom:80},h=(m,y)=>!(m>p.left-6&&m<p.right+6&&y>p.top-10&&y<p.bottom+10);let g=0;for(;s.length<i&&g<i*50;){g++;const m=zm(r,o),y=Br(r()*1,.15,.95),C=24+r()*72,N=r()*100,j=r()*100;if(!h(N,j))continue;const w=zm(r,l);if(m==="rect"){const b=.6+r()*.8;s.push({kind:m,width:C*b,height:C,x:N,y:j,depth:y,fillToken:w,shadow:"soft"})}else s.push({kind:m,size:C,x:N,y:j,depth:y,fillToken:w,shadow:"soft"})}return s}const fC=e=>{const{seed:t=1,mode:n="scroll",axis:r="xy",height:i=520,strength:o=120,scrub:s=.3,scrollStart:l="top bottom",scrollEnd:c="bottom top",debugMarkers:u=!1,pin:d=!1,pinSpacing:f=!0,reducedMotion:p="auto",callout:h,className:g,style:m}=e,y=P.useRef(null),[C,N]=P.useState({w:1e3,h:520}),j=uC(p),w=e.direction??"se",b=P.useMemo(()=>{switch(w){case"ne":return{x:1,y:-1};case"nw":return{x:-1,y:-1};case"sw":return{x:-1,y:1};case"se":default:return{x:1,y:1}}},[w]);P.useLayoutEffect(()=>{if(!y.current)return;const B=new ResizeObserver(A=>{for(const I of A){const L=I.contentRect;N({w:L.width,h:L.height})}});return B.observe(y.current),()=>B.disconnect()},[]);const S=P.useMemo(()=>e.shapes&&e.shapes.length?e.shapes:dC(e,C.w),[t,C.w,C.h]),[M,x]=P.useState(0),[v,_]=P.useState(null);P.useEffect(()=>{if(n!=="scroll"||j)return;let B;return(async()=>{if(typeof window>"u")return;const A=y.current;if(A)try{const I=await Promise.resolve().then(()=>R1),L=await Promise.resolve().then(()=>YM),F=I.default??I.gsap??I,G=L.ScrollTrigger??L.default??L;F.registerPlugin(G);const ee=G.create({trigger:A,start:l,end:c,markers:u,pin:d,pinSpacing:f,scrub:s,invalidateOnRefresh:!0,onUpdate:T=>x(T.progress)});_(T=>T===null?ee.progress??.5:T),u&&window&&(window.__parallaxRefresh=()=>{try{G.refresh()}catch{}}),B=()=>{try{ee.kill()}catch{}}}catch{const L=()=>{const F=A.getBoundingClientRect(),G=window.innerHeight||document.documentElement.clientHeight,ee=F.height+G,T=G-F.top,X=Br(T/ee,0,1);_(O=>O===null?X:O),x(X)};L(),window.addEventListener("scroll",L,{passive:!0}),window.addEventListener("resize",L),B=()=>{window.removeEventListener("scroll",L),window.removeEventListener("resize",L)}}})(),()=>{B&&B()}},[n,j,l,c,u,d,f,s]),P.useEffect(()=>{if(n!=="timed"||j)return;let B=0,A=performance.now();const I=8e3,L=F=>{const ee=(F-A)%I/I;x(ee),B=requestAnimationFrame(L)};return B=requestAnimationFrame(L),()=>cancelAnimationFrame(B)},[n,j]);const E=B=>.15+(B??.5)*.6,D={position:"absolute",left:"50%",top:"50%",bottom:void 0,right:void 0,transform:"translate(-50%, -50%)",width:typeof h.width=="number"?`${h.width}px`:h.width||"min(520px, 70%)"};return a.jsxs("div",{ref:y,className:["nhs-parallax-scene",g].filter(Boolean).join(" "),style:{position:"relative",height:typeof i=="number"?`${i}px`:i,overflow:"hidden",...m},"aria-hidden":!0,children:[a.jsxs("svg",{className:"nhs-parallax-canvas",width:"100%",height:"100%",viewBox:"0 0 100 100",preserveAspectRatio:"none","aria-hidden":!0,children:[a.jsxs("defs",{children:[a.jsxs("linearGradient",{id:"fdpgradient-blue",x1:"0",x2:"1",y1:"0",y2:"1",children:[a.jsx("stop",{offset:"0%",stopColor:"#2E61A5"}),a.jsx("stop",{offset:"100%",stopColor:"#1B3E73"})]}),a.jsxs("linearGradient",{id:"fdpgradient-aqua",x1:"0",x2:"1",y1:"0",y2:"1",children:[a.jsx("stop",{offset:"0%",stopColor:"#1DC6D2"}),a.jsx("stop",{offset:"100%",stopColor:"#117E8A"})]}),a.jsxs("linearGradient",{id:"fdpgradient-green",x1:"0",x2:"1",y1:"0",y2:"1",children:[a.jsx("stop",{offset:"0%",stopColor:"#2BC06A"}),a.jsx("stop",{offset:"100%",stopColor:"#1A874A"})]}),a.jsxs("linearGradient",{id:"fdpgradient-dark-blue",x1:"0",x2:"1",y1:"0",y2:"1",children:[a.jsx("stop",{offset:"0%",stopColor:"#005eb8"}),a.jsx("stop",{offset:"100%",stopColor:"#003087"})]}),a.jsxs("linearGradient",{id:"fdpgradient-light-blue",x1:"0",x2:"1",y1:"0",y2:"1",children:[a.jsx("stop",{offset:"0%",stopColor:"#005eb8"}),a.jsx("stop",{offset:"100%",stopColor:"#60b2e2"})]}),a.jsxs("linearGradient",{id:"fdpgradient-purple",x1:"0",x2:"1",y1:"0",y2:"1",children:[a.jsx("stop",{offset:"0%",stopColor:"#ac98cb"}),a.jsx("stop",{offset:"100%",stopColor:"#d6cce3"})]}),a.jsxs("linearGradient",{id:"fdpgradient-green-palette",x1:"0",x2:"1",y1:"0",y2:"1",children:[a.jsx("stop",{offset:"0%",stopColor:"#007f3b"}),a.jsx("stop",{offset:"100%",stopColor:"#63a691"})]}),a.jsxs("linearGradient",{id:"fdpgradient-grey",x1:"0",x2:"1",y1:"0",y2:"1",children:[a.jsx("stop",{offset:"0%",stopColor:"#4c6272"}),a.jsx("stop",{offset:"100%",stopColor:"#768692"})]})]}),a.jsx("g",{className:"nhs-parallax-connectors",children:S.map((B,A)=>{const I=B.x,L=B.y,F=(B.width??B.size??40)/C.w*100*1,G=(B.height??B.size??40)/C.h*100*1,ee=B.kind==="circle"?[[I,L-G/2],[I+F/2,L],[I,L+G/2],[I-F/2,L]]:B.kind==="rect"||B.kind==="svg"?[[I-F/2,L-G/2],[I+F/2,L-G/2],[I+F/2,L+G/2],[I-F/2,L+G/2]]:[[I-F/2,L],[I-F/4,L-G/2],[I+F/4,L-G/2],[I+F/2,L],[I+F/4,L+G/2],[I-F/4,L+G/2]],T=E(B.depth),$=(d?M:M-(v??.5))*o*T,V=r==="x"?$:r==="xy"?$*b.x:0,Y=r==="y"?$:r==="xy"?$*b.y:0;return ee.map((R,J)=>a.jsx("line",{x1:Br(R[0]+V,0,100),y1:Br(R[1]+Y,0,100),x2:Br(50+V*.2,0,100),y2:Br(50+Y*.2,0,100),className:"nhs-parallax-connector"},`c-${A}-${J}`))})}),a.jsx("g",{className:"nhs-parallax-shapes",children:S.map((B,A)=>{const I=E(B.depth),G=(d?M:M-(v??.5))*o*I,ee=r==="x"?G:r==="xy"?G*b.x:0,T=r==="y"?G:r==="xy"?G*b.y:0,X=Br(B.x+ee,0,100),O=Br(B.y+T,0,100),$=B.rotate??0,V=["nhs-parallax-shape",B.fillToken,B.shadow&&`nhs-parallax-shadow--${B.shadow}`].filter(Boolean).join(" ");if(B.kind==="circle"){const te=(B.size??40)/C.w*100*.5;return a.jsx("circle",{cx:X,cy:O,r:te,className:V},A)}if(B.kind==="rect"){const te=(B.width??48)/C.w*100,K=(B.height??36)/C.h*100;return a.jsx("rect",{x:X-te/2,y:O-K/2,width:te,height:K,transform:`rotate(${$} ${X} ${O})`,className:V},A)}if(B.kind==="svg"&&B.src){const te=(B.width??48)/C.w*100,K=(B.height??48)/C.h*100;return a.jsx("image",{href:B.src,x:X-te/2,y:O-K/2,width:te,height:K,preserveAspectRatio:"xMidYMid meet",transform:`rotate(${$} ${X} ${O})`,className:V},A)}const Y=(B.size??40)/C.w*100,R=Y*.866,J=[[X-Y/2,O],[X-Y/4,O-R/2],[X+Y/4,O-R/2],[X+Y/2,O],[X+Y/4,O+R/2],[X-Y/4,O+R/2]].map(te=>te.join(",")).join(" ");return a.jsx("polygon",{points:J,className:V},A)})})]}),a.jsx("div",{className:"nhs-parallax-callout",style:D,"aria-hidden":!1,children:a.jsxs("div",{className:["nhs-parallax-callout-inner",h.backgroundToken].filter(Boolean).join(" "),children:[" ",h.content," "]})})]})};function hC(e){return function(){let t=e+=1831565813;return t=Math.imul(t^t>>>15,t|1),t^=t+Math.imul(t^t>>>7,t|61),((t^t>>>14)>>>0)/4294967296}}function Tt(e,t,n){return Math.max(t,Math.min(n,e))}function pC(e,t,n,r,i,o,s,l,c,u,d,f){const p=hC(e),h=[],g=[],m=["rect","hex","circle"],y={x:50,y:50},C=r,N=1200,j=400,w=1.2,b={left:y.x-C.w/2,right:y.x+C.w/2,top:y.y-C.h/2,bottom:y.y+C.h/2},S=!c&&!!d&&d.r>0,M=!c&&!!f&&(f.rx>0||f.ry>0),x=(L,F)=>{if(!S)return!1;const G=L-y.x,ee=F-y.y;return G*G+ee*ee<=d.r*d.r},v=(L,F)=>{if(!M)return!1;const G=Math.max(1e-6,f.rx||0),ee=Math.max(1e-6,f.ry||0),T=(L-y.x)/G,X=(F-y.y)/ee;return T*T+X*X<=1},_=(L,F)=>!(L.right<F.left||L.left>F.right||L.bottom<F.top||L.top>F.bottom),E=L=>L.left>=0&&L.top>=0&&L.right<=100&&L.bottom<=100,D=(L,F,G,ee,T,X)=>{let O=0,$=0;if(L==="rect"){const V=ee??48,Y=T??36;O=V/N*100,$=Y/j*100}else if(L==="circle"){const V=X??40;O=V/N*100,$=V/j*100}else{const V=X??40;O=V/N*100,$=V*o/j*100}return{left:F-O/2-w,right:F+O/2+w,top:G-$/2-w,bottom:G+$/2+w}};let B=0;const A=Tt(Math.round(t),4,48);let I=null;if(u){const L=Math.ceil(Math.sqrt(A)),F=Math.ceil(A/L);I=[];for(let G=0;G<F;G++)for(let ee=0;ee<L&&!(I.length>=A);ee++){const T=(ee+.5)/L*100,X=(G+.5)/F*100;I.push({x:T,y:X})}}for(;h.length<A&&B<A*120;){B++;const L=m[Math.floor(p()*m.length)];let F,G;if(u&&I&&I.length){const O=h.length%I.length;F=I[O].x,G=I[O].y}else{const O=Tt(i??0,0,1),$=()=>p()*100,V=()=>{const R=Math.max(p(),1e-6),J=Math.max(p(),1e-6),te=Math.sqrt(-2*Math.log(R)),K=2*Math.PI*J;return 50+te*Math.cos(K)*12.5},Y=(R,J,te)=>R*(1-te)+J*te;F=Tt(Y($(),V(),O),0,100),G=Tt(Y($(),V(),O),0,100)}const ee=D(L,F,G,32,24,28);if(!E(ee))continue;const T=Tt(p(),.15,.95),X=0;if(L==="rect"){const O=40+p()*80,$=28+p()*64,V=D(L,F,G,O,$);if(!c&&(_(V,b)||x(F,G)||v(F,G)))continue;if(!s){let R=!1;for(let J=0;J<g.length;J++)if(_(V,g[J])){R=!0;break}if(R)continue}let Y;if(s){const R=new Set;for(let te=0;te<g.length;te++)if(_(V,g[te])){const K=h[te].fill;K&&R.add(K)}const J=n.filter(te=>!R.has(te));if(J.length===0){if(l==="skip")continue;Y=n[Math.floor(p()*n.length)]}else Y=J[Math.floor(p()*J.length)]}else Y=n[Math.floor(p()*n.length)];g.push(V),h.push({kind:L,x:F,y:G,width:O,height:$,rotate:X,depth:T,fill:Y,shadow:"soft"})}else if(L==="circle"){const O=24+p()*80,$=D(L,F,G,void 0,void 0,O);if(!c&&(_($,b)||x(F,G)||v(F,G)))continue;if(!s){let Y=!1;for(let R=0;R<g.length;R++)if(_($,g[R])){Y=!0;break}if(Y)continue}let V;if(s){const Y=new Set;for(let J=0;J<g.length;J++)if(_($,g[J])){const te=h[J].fill;te&&Y.add(te)}const R=n.filter(J=>!Y.has(J));if(R.length===0){if(l==="skip")continue;V=n[Math.floor(p()*n.length)]}else V=R[Math.floor(p()*R.length)]}else V=n[Math.floor(p()*n.length)];g.push($),h.push({kind:L,x:F,y:G,size:O,rotate:X,depth:T,fill:V,shadow:"soft"})}else{const O=28+p()*72,$=D(L,F,G,void 0,void 0,O);if(!c&&(_($,b)||x(F,G)||v(F,G)))continue;if(!s){let Y=!1;for(let R=0;R<g.length;R++)if(_($,g[R])){Y=!0;break}if(Y)continue}let V;if(s){const Y=new Set;for(let J=0;J<g.length;J++)if(_($,g[J])){const te=h[J].fill;te&&Y.add(te)}const R=n.filter(J=>!Y.has(J));if(R.length===0){if(l==="skip")continue;V=n[Math.floor(p()*n.length)]}else V=R[Math.floor(p()*R.length)]}else V=n[Math.floor(p()*n.length)];g.push($),h.push({kind:L,x:F,y:G,size:O,rotate:X,depth:T,fill:V,shadow:"soft"})}}return h}const mC=({seed:e=1,width:t="100%",height:n=400,density:r=16,centrality:i=0,gradients:o=["pb-grad-aqua-green","pb-grad-purple","pb-grad-blue","pb-grad-grey","pb-grad-azure"],shapes:s,neighbors:l=1,connectorColor:c,connectorWidth:u,connectorDasharray:d,hexAspectRatio:f=Math.sqrt(3)/2,allowOverlaps:p=!1,overlapColorPolicy:h="recolor",feature:g,featureWidth:m="min(640px, 80%)",featureLayer:y="over",excludeBoxPct:C={w:50,h:36},excludeCirclePct:N,excludeEllipsePct:j,uniformDistribution:w=!1,className:b,style:S})=>{const M=P.useRef(null),[x,v]=P.useState({w:1200,h:400});P.useLayoutEffect(()=>{if(!M.current)return;const I=new ResizeObserver(L=>{for(const F of L){const G=F.contentRect;v({w:G.width,h:G.height})}});return I.observe(M.current),()=>I.disconnect()},[]);const _=P.useMemo(()=>s?.length?s:pC(e,r,o,C,i,f,p,h,y==="over"||w,w,N,j),[e,r,o.join(","),C.w,C.h,i,f,p,h,y,w,N?.r,j?.rx,j?.ry,s]),E=100,D=100,B=Math.sqrt(3)/2,A=(I,L,F)=>{const G=(F??40)/2,ee=I/100*x.w,T=L/100*x.h,X=f/B;return[Math.PI,2*Math.PI/3,Math.PI/3,0,-Math.PI/3,-(2*Math.PI)/3].map($=>{const V=ee+G*Math.cos($),Y=T+G*Math.sin($)*X;return[Tt(V/x.w*100,0,100),Tt(Y/x.h*100,0,100)]})};return a.jsxs("div",{ref:M,className:["nhs-pattern-banner",y==="under"?"nhs-pattern-banner--feature-under":"nhs-pattern-banner--feature-over",b].filter(Boolean).join(" "),style:{width:typeof t=="number"?`${t}px`:t,height:typeof n=="number"?`${n}px`:n,...S},"aria-hidden":!0,children:[a.jsxs("svg",{className:"nhs-pattern-banner__svg",viewBox:`0 0 ${E} ${D}`,preserveAspectRatio:"none","aria-hidden":!0,children:[a.jsxs("defs",{children:[a.jsxs("linearGradient",{id:"pb-grad-aqua-green",x1:"0",y1:"0",x2:"1",y2:"1",gradientUnits:"objectBoundingBox",children:[a.jsx("stop",{offset:"0",stopColor:"rgb(0, 163, 151)"}),a.jsx("stop",{offset:"1",stopColor:"rgb(11, 148, 71)"})]}),a.jsxs("linearGradient",{id:"pb-grad-purple",x1:"0",y1:"0",x2:"1",y2:"0",gradientUnits:"objectBoundingBox",children:[a.jsx("stop",{offset:"0",stopColor:"rgb(214, 203, 226)"}),a.jsx("stop",{offset:"0.72",stopColor:"rgb(192, 177, 213)"}),a.jsx("stop",{offset:"1",stopColor:"rgb(171, 151, 199)"})]}),a.jsxs("linearGradient",{id:"pb-grad-blue",x1:"0",y1:"0",x2:"1",y2:"1",gradientUnits:"objectBoundingBox",children:[a.jsx("stop",{offset:"0",stopColor:"rgb(38, 58, 127)"}),a.jsx("stop",{offset:"1",stopColor:"rgb(34, 94, 171)"})]}),a.jsxs("linearGradient",{id:"pb-grad-grey",x1:"0",y1:"0",x2:"1",y2:"1",gradientUnits:"objectBoundingBox",children:[a.jsx("stop",{offset:"0",stopColor:"rgb(66, 85, 101)"}),a.jsx("stop",{offset:"1",stopColor:"rgb(112, 132, 147)"})]}),a.jsxs("linearGradient",{id:"pb-grad-azure",x1:"0",y1:"0",x2:"1",y2:"1",gradientUnits:"objectBoundingBox",children:[a.jsx("stop",{offset:"0",stopColor:"rgb(96, 178, 226)"}),a.jsx("stop",{offset:"0.51",stopColor:"rgb(34, 94, 172)"})]})]}),a.jsx("g",{children:(()=>{const I=O=>O/x.w*100,L=O=>O/x.h*100,F=_.map(O=>{const $=Tt(O.x,0,100),V=Tt(O.y,0,100);if(O.kind==="circle")return[[$,V]];if(O.kind==="rect"){const Y=I(O.width??48),R=L(O.height??36);return[[$-Y/2,V-R/2],[$+Y/2,V-R/2],[$+Y/2,V+R/2],[$-Y/2,V+R/2]]}if(O.kind==="svg"){const Y=I(O.width??48),R=L(O.height??48);return[[$-Y/2,V-R/2],[$+Y/2,V-R/2],[$+Y/2,V+R/2],[$-Y/2,V+R/2]]}return A($,V,O.size??40)}),G=Math.max(1,Math.floor(l??1)),ee=new Set,T=[];for(let O=0;O<_.length;O++){const $=[];for(let Y=0;Y<_.length;Y++){if(O===Y)continue;const R=_[O].x-_[Y].x,J=_[O].y-_[Y].y;$.push({j:Y,d2:R*R+J*J})}$.sort((Y,R)=>Y.d2-R.d2);const V=Math.min(G,$.length);for(let Y=0;Y<V;Y++){const R=$[Y].j,J=Math.min(O,R),te=Math.max(O,R),K=`${J}-${te}`;ee.has(K)||(ee.add(K),T.push([J,te]))}}const X=[];for(const[O,$]of T){const V=F[O],Y=F[$];let R=null;for(const J of V)for(const te of Y){const K=J[0]-te[0],oe=J[1]-te[1],ye=K*K+oe*oe;(!R||ye<R.d2)&&(R={p:J,q:te,d2:ye})}R&&X.push(a.jsx("line",{x1:Tt(R.p[0],0,100),y1:Tt(R.p[1],0,100),x2:Tt(R.q[0],0,100),y2:Tt(R.q[1],0,100),className:"nhs-pattern-banner-connector",style:{stroke:c,strokeWidth:u,strokeDasharray:d}},`nn-line-${O}-${$}`))}return X})()}),a.jsx("g",{children:_.map((I,L)=>{const F=["nhs-pattern-banner-shape",I.fill].filter(Boolean).join(" ");if(I.kind==="circle"){const O=(I.size??40)/x.w*100*.5,$=x.w/x.h,V=O*$;return a.jsx("ellipse",{cx:Tt(I.x,0,100),cy:Tt(I.y,0,100),rx:O,ry:V,className:F},L)}if(I.kind==="rect"){const O=(I.width??48)/x.w*100,$=(I.height??36)/x.h*100,V=Tt(I.x-O/2,0,100),Y=Tt(I.y-$/2,0,100);return a.jsx("rect",{x:V,y:Y,width:O,height:$,className:F},L)}if(I.kind==="svg"&&I.src){const O=(I.width??48)/x.w*100,$=(I.height??48)/x.h*100,V=Tt(I.x-O/2,0,100),Y=Tt(I.y-$/2,0,100);return a.jsx("image",{href:I.src,x:V,y:Y,width:O,height:$,preserveAspectRatio:"xMidYMid meet",className:F},L)}const G=Tt(I.x,0,100),ee=Tt(I.y,0,100),X=A(G,ee,I.size??40).map(O=>O.join(",")).join(" ");return a.jsx("polygon",{points:X,className:F},L)})})]}),a.jsx("div",{className:"nhs-pattern-banner__feature",style:{width:typeof m=="number"?`${m}px`:m},children:g})]})};var fi=(e=>(e.AquaGreen="aqua-green",e.Purple="purple",e.Blue="blue",e.Grey="grey",e.Azure="azure",e))(fi||{});function gC(e){return function(){let t=e+=1831565813;return t=Math.imul(t^t>>>15,t|1),t^=t+Math.imul(t^t>>>7,t|61),((t^t>>>14)>>>0)/4294967296}}const Yo=[fi.AquaGreen,fi.Purple,fi.Blue,fi.Grey,fi.Azure];function ku(e,t,n){return Math.max(t,Math.min(n,e))}function yC(e,t,n=4){const r=gC(e),i=[],o=["rect","hex","circle"],s=Yo.indexOf(t),l=[t,Yo[(s+2)%Yo.length],Yo[(s+3)%Yo.length]],c=[],u=1200,d=400,f=1.2,p=(C,N)=>!(C.right<N.left||C.left>N.right||C.bottom<N.top||C.top>N.bottom),h=C=>C.left>=0&&C.top>=0&&C.right<=100&&C.bottom<=100,g=(C,N,j,w,b,S)=>{let M=0,x=0;if(C==="rect"){const v=w??48,_=b??36;M=v/u*100,x=_/d*100}else if(C==="circle"){const v=S??40;M=v/u*100,x=v/d*100}else{const v=S??40;M=v/u*100,x=v*(Math.sqrt(3)/2)/d*100}return{left:N-M/2-f,right:N+M/2+f,top:j-x/2-f,bottom:j+x/2+f}};let m=0;const y=ku(Math.round(n),4,12);for(;i.length<y&&m<y*120;){m++;const C=o[Math.floor(r()*o.length)],N=ku(20+r()*60,10,90),j=ku(20+r()*60,10,90),w=l[Math.floor(r()*l.length)],b=i.length<2?"soft":"none";if(C==="rect"){const S=40+r()*80,M=28+r()*64,x=g(C,N,j,S,M);if(!h(x))continue;let v=!1;for(let _=0;_<c.length;_++)if(p(x,c[_])){v=!0;break}if(v)continue;c.push(x),i.push({kind:C,x:N,y:j,width:S,height:M,gradient:w,rotate:0,shadow:b})}else if(C==="circle"){const S=24+r()*80,M=g(C,N,j,void 0,void 0,S);if(!h(M))continue;let x=!1;for(let v=0;v<c.length;v++)if(p(M,c[v])){x=!0;break}if(x)continue;c.push(M),i.push({kind:C,x:N,y:j,size:S,gradient:w,rotate:0,shadow:b})}else{const S=28+r()*72,M=r()*360,x=g(C,N,j,void 0,void 0,S);if(!h(x))continue;let v=!1;for(let _=0;_<c.length;_++)if(p(x,c[_])){v=!0;break}if(v)continue;c.push(x),i.push({kind:C,x:N,y:j,size:S,gradient:w,rotate:M,shadow:b})}}return i}const bC=({shapes:e,aspectRatio:t})=>{const r=600*t,i=600,o=(s,l,c)=>{const u=c/2;return[0,60,120,180,240,300].map(f=>{const p=f*Math.PI/180,h=s+u*Math.cos(p),g=l+u*Math.sin(p);return`${h},${g}`}).join(" ")};return a.jsxs("svg",{className:"nhs-product-card__graphic",viewBox:`0 0 ${r} ${i}`,preserveAspectRatio:"xMidYMid slice","aria-hidden":"true",children:[a.jsxs("defs",{children:[a.jsxs("linearGradient",{id:"pc-grad-aqua-green",x1:"0",y1:"0",x2:"1",y2:"1",gradientUnits:"objectBoundingBox",children:[a.jsx("stop",{offset:"0",stopColor:"rgb(0, 163, 151)"}),a.jsx("stop",{offset:"1",stopColor:"rgb(11, 148, 71)"})]}),a.jsxs("linearGradient",{id:"pc-grad-purple",x1:"0",y1:"0",x2:"1",y2:"1",gradientUnits:"objectBoundingBox",children:[a.jsx("stop",{offset:"0",stopColor:"rgb(176, 161, 201)"}),a.jsx("stop",{offset:"1",stopColor:"rgb(198, 189, 216)"})]}),a.jsxs("linearGradient",{id:"pc-grad-blue",x1:"0",y1:"0",x2:"1",y2:"1",gradientUnits:"objectBoundingBox",children:[a.jsx("stop",{offset:"0",stopColor:"rgb(0, 94, 184)"}),a.jsx("stop",{offset:"1",stopColor:"rgb(65, 131, 196)"})]}),a.jsxs("linearGradient",{id:"pc-grad-grey",x1:"0",y1:"0",x2:"1",y2:"1",gradientUnits:"objectBoundingBox",children:[a.jsx("stop",{offset:"0",stopColor:"rgb(76, 98, 114)"}),a.jsx("stop",{offset:"1",stopColor:"rgb(174, 184, 192)"})]}),a.jsxs("linearGradient",{id:"pc-grad-azure",x1:"0",y1:"0",x2:"1",y2:"1",gradientUnits:"objectBoundingBox",children:[a.jsx("stop",{offset:"0",stopColor:"rgb(0, 122, 204)"}),a.jsx("stop",{offset:"1",stopColor:"rgb(103, 192, 229)"})]}),a.jsxs("filter",{id:"pc-shadow-soft",x:"-50%",y:"-50%",width:"200%",height:"200%",children:[a.jsx("feGaussianBlur",{in:"SourceAlpha",stdDeviation:"2"}),a.jsx("feOffset",{dx:"0",dy:"2",result:"offsetblur"}),a.jsx("feComponentTransfer",{children:a.jsx("feFuncA",{type:"linear",slope:"0.2"})}),a.jsxs("feMerge",{children:[a.jsx("feMergeNode",{}),a.jsx("feMergeNode",{in:"SourceGraphic"})]})]}),a.jsxs("filter",{id:"pc-shadow-strong",x:"-50%",y:"-50%",width:"200%",height:"200%",children:[a.jsx("feGaussianBlur",{in:"SourceAlpha",stdDeviation:"4"}),a.jsx("feOffset",{dx:"0",dy:"4",result:"offsetblur"}),a.jsx("feComponentTransfer",{children:a.jsx("feFuncA",{type:"linear",slope:"0.3"})}),a.jsxs("feMerge",{children:[a.jsx("feMergeNode",{}),a.jsx("feMergeNode",{in:"SourceGraphic"})]})]})]}),a.jsx("g",{style:{mixBlendMode:"multiply"},children:(()=>{if(e.length<2)return null;const s=e.map(d=>{const f=d.x/100*r,p=d.y/100*i;if(d.kind==="circle"){const h=(d.size??40)/2;return[0,45,90,135,180,225,270,315].map(m=>{const y=m*Math.PI/180;return[f+h*Math.cos(y),p+h*Math.sin(y)]})}else if(d.kind==="rect"){const h=d.width??60,g=d.height??40;return[[f-h/2,p-g/2],[f+h/2,p-g/2],[f+h/2,p+g/2],[f-h/2,p+g/2]]}else{const g=(d.size??40)/2;return[0,60,120,180,240,300].map(y=>{const C=y*Math.PI/180;return[f+g*Math.cos(C),p+g*Math.sin(C)]})}}),l=1,c=new Set,u=[];for(let d=0;d<e.length;d++){const f=[];for(let h=0;h<e.length;h++){if(d===h)continue;const g=e[d].x-e[h].x,m=e[d].y-e[h].y;f.push({j:h,d2:g*g+m*m})}f.sort((h,g)=>h.d2-g.d2);const p=Math.min(l,f.length);for(let h=0;h<p;h++){const g=f[h].j,m=Math.min(d,g),y=Math.max(d,g),C=`${m}-${y}`;c.has(C)||(c.add(C),u.push([m,y]))}}return u.map(([d,f])=>{const p=s[d],h=s[f];let g=null;for(const m of p)for(const y of h){const C=m[0]-y[0],N=m[1]-y[1],j=C*C+N*N;(!g||j<g.d2)&&(g={p:m,q:y,d2:j})}return g?a.jsx("line",{x1:g.p[0],y1:g.p[1],x2:g.q[0],y2:g.q[1],stroke:"rgb(158, 171, 181)",strokeWidth:"0.5",strokeMiterlimit:"0.5"},`connector-${d}-${f}`):null})})()}),e.map((s,l)=>{const c=`pc-grad-${s.gradient}`,u=s.shadow==="soft"?"url(#pc-shadow-soft)":s.shadow==="strong"?"url(#pc-shadow-strong)":void 0,d=s.x/100*r,f=s.y/100*i;if(s.kind==="rect"){const p=s.width||60,h=s.height||40;return a.jsx("rect",{className:c,x:d-p/2,y:f-h/2,width:p,height:h,transform:`rotate(${s.rotate||0} ${d} ${f})`,filter:u},l)}else if(s.kind==="circle"){const p=(s.size||40)/2;return a.jsx("circle",{className:c,cx:d,cy:f,r:p,filter:u},l)}else if(s.kind==="hex"){const p=s.size||40;return a.jsx("polygon",{className:c,points:o(d,f,p),transform:`rotate(${s.rotate||0} ${d} ${f})`,filter:u},l)}return null})]})},vC=({title:e,description:t,image:n,layout:r="vertical",buttons:i=[],badge:o,theme:s="blue",className:l,style:c,onClick:u,href:d,headingLevel:f=3,footer:p,elevated:h=!0,imageAspectRatio:g=1.5})=>{const m=P.useMemo(()=>{if(n?.type==="graphic"){if(n.shapes)return n.shapes;const b=n.seed??0,S=n.theme??s;return yC(b,S)}return[]},[n,s]),y=["nhs-product-card",`nhs-product-card--${r}`,`nhs-product-card--theme-${s}`,h&&"nhs-product-card--elevated",(u||d)&&"nhs-product-card--clickable",l].filter(Boolean).join(" "),C=b=>{u?u(b):d&&!b.defaultPrevented&&(window.location.href=d)},N=b=>{(u||d)&&(b.key==="Enter"||b.key===" ")&&(b.preventDefault(),u?u(b):d&&(window.location.href=d))},j=()=>{if(!n)return null;const b=["nhs-product-card__image",n.type==="graphic"&&"nhs-product-card__image--graphic"].filter(Boolean).join(" ");return a.jsx("div",{className:b,style:{aspectRatio:g.toString()},children:n.type==="photo"&&n.src?a.jsx("img",{src:n.src,alt:n.alt||""}):n.type==="graphic"?a.jsx(bC,{shapes:m,aspectRatio:g}):null})},w=()=>i.length?a.jsx("div",{className:"nhs-product-card__actions",children:i.map((b,S)=>{const M=["nhs-product-card__button",`nhs-product-card__button--${b.variant||"primary"}`,b.disabled&&"nhs-product-card__button--disabled"].filter(Boolean).join(" ");return b.href?a.jsx("a",{href:b.href,className:M,"aria-label":b.ariaLabel,onClick:x=>{if(b.disabled){x.preventDefault();return}b.onClick&&(x.stopPropagation(),b.onClick(x))},children:b.label},S):a.jsx("button",{type:"button",className:M,disabled:b.disabled,"aria-label":b.ariaLabel,onClick:x=>{b.onClick&&(x.stopPropagation(),b.onClick(x))},children:b.label},S)})}):null;return a.jsxs("div",{className:y,style:c,onClick:u||d?C:void 0,onKeyDown:u||d?N:void 0,role:u||d?"button":void 0,tabIndex:u||d?0:void 0,children:[o&&a.jsx("div",{className:"nhs-product-card__badge",children:o}),j(),a.jsxs("div",{className:"nhs-product-card__content",children:[a.jsx(zn,{level:f,className:"nhs-product-card__title",children:e}),a.jsx("p",{className:"nhs-product-card__description",children:t}),w(),p&&a.jsx("div",{className:"nhs-product-card__footer",children:p})]})]})},Um="150ms",Wm="300ms",Gm="500ms",Ym="cubic-bezier(0.4, 0, 1, 1)",Vm="cubic-bezier(0, 0, 0.2, 1)",Zm="cubic-bezier(0.4, 0, 0.2, 1)",qm="cubic-bezier(0.68, -0.55, 0.265, 1.55)",Xm="background-color 300ms cubic-bezier(0, 0, 0.2, 1)",Jm="box-shadow 150ms cubic-bezier(0, 0, 0.2, 1)",Km="border-color 150ms cubic-bezier(0, 0, 0.2, 1), box-shadow 150ms cubic-bezier(0, 0, 0.2, 1)",Qm="border-color 300ms cubic-bezier(0, 0, 0.2, 1)",eg="1px",tg="2px",ng="4px",rg="4px",ig="4px",og="2px",sg="1px",ag="0px",lg="4px",cg="8px",ug="12px",Cu="#d8dde0",Nu="#4c6272",Mu="#d8dde0",ju="#aeb7bd",Tu="#d5281b",Du="#005eb8",Iu="#ffffff",Lu="#212b32",Au="#007f3b",Eu="#330072",Pu="#7c2855",Fu="#d5281b",$u="#ffeb3b",Bu="#fff9c4",Ou="#ffb81c",Ru="#ed8b00",Hu="#00a499",zu="#ae2573",Uu="#4c6272",Wu="#768692",Gu="#aeb7bd",Yu="#d8dde0",Vu="#f0f4f5",dg="#212b32",fg="#4c6272",hg="#ffffff",pg="#212b32",mg="#005eb8",gg="#7c2855",yg="#003087",bg="#330072",vg="#ffeb3b",xg="#212b32",_g="#d8dde0",wg="#ffffff33",Sg="#d5281b",kg="#4c6272",Cg="#ffffff",Ng="#007f3b",Mg="#ffffff",jg="#006530",Tg="#004021",Dg="#004021",Ig="#00000000",Lg="#ffffff",Ag="#005eb8",Eg="#005eb8",Pg="#d9e5f2",Fg="#c7daf0",$g="#005eb8",Bg="#ffffff",Og="#212b32",Rg="#d9dde0",Hg="#b3bcc2",zg="#b3bcc2",Ug="#d5281b",Wg="#aa2016",Gg="#6a140e",Yg="#6a140e",Vg="#005eb8",Zg="#004b93",qg="#002f5c",Xg="#002f5c",Jg="8px",Kg="16px",Qg="12px",e0="16px",t0="4px",n0="40px",r0="4px",i0="40px",o0="12px",s0="16px",a0="32px",l0="16px",c0="20px",u0="28px",d0="9px",f0="2px",h0="16px",p0="24px",m0="8px",g0="24px",y0="16px",b0="4px",v0="4px",x0="4px",_0="8px",w0="4px",S0="16px",k0="#007f3b",C0="#006530",N0="#004021",M0="#d8dde0",j0="#ffffff",T0="#768692",D0="#00000000",I0="#ffeb3b",L0="#00000000",A0="#ffffff",E0="#d9e5f2",P0="#c7daf0",F0="#005eb8",$0="#005eb8",Zu="8px",qu="16px",Xu="12px",Ju="16px",B0="2px",O0="4px",R0="4px",H0="600",z0="#ffffff",U0="#d8dde0",W0="#aeb7bd",G0="#f0f4f5",Y0="#212b32",V0="#212b32",Z0="#005eb8",Ku="16px",Qu="32px",ed="16px",q0="1px",X0="4px",J0="none",K0="0 2px 4px rgba(0, 0, 0, 0.1)",Q0="#ffffff",ey="#ffffff",ty="#d8dde0",ny="#ffffff",ry="#4c6272",iy="#ffeb3b",oy="#d5281b",sy="#aeb7bd",ay="#212b32",ly="#4c6272",cy="#768692",uy="#212b32",dy="#ffffff",fy="600",hy="#d5281b",py="600",my="#4c6272",td="4px",nd="40px",rd="40px",id="12px",gy="2px",yy="4px",by="0px",vy="16px",xy="18px",_y="24px",wy="32px",Sy="34px",ky="32px",Cy="40px",Ny="48px",My="5.4ex",jy="7.2ex",Ty="9ex",Dy="10.8ex",Iy="20ex",Ly="38ex",Ay="56ex",Ey="44px",Py="40px",Fy="1020px",$y="100%",By="50%",Oy="33.333%",Ry="25%",Hy="20%",zy="320px",Uy="641px",Wy="1025px",Gy="1280px",Yy="960px",Vy="32px",Zy="16px",qy="#d5281b",Xy="#d5281b",Jy="#ffffff",Ky="#007f3b",Qy="#007f3b",eb="#ffffff",tb="#ffeb3b",nb="#ffeb3b",rb="#212b32",ib="#005eb8",ob="#005eb8",sb="#ffffff",ab="#d8dde0",lb="#aeb7bd",cb="#768692",ub="0 4px 0 #004021",db="0 4px 0 #005eb8",fb="0 4px 0 #6a140e",hb="0 4px 0 #ffeb3b",pb="none",mb="0 2px 4px rgba(0, 0, 0, 0.1)",gb="4px",yb="0px",bb="solid",vb="0 0 0 3px #ffeb3b",xb="0 0 0 3px #ffeb3b",_b="none",wb="0 1px 3px rgba(0, 0, 0, 0.12)",Sb="0 2px 6px rgba(0, 0, 0, 0.16)",kb="0 4px 12px rgba(0, 0, 0, 0.20)",od="0",sd="4px",ad="8px",ld="16px",cd="24px",ud="32px",dd="40px",fd="48px",hd="56px",pd="64px",Ja="0",Ka="0",Qa="4px",el="4px",tl="8px",nl="8px",rl="8px",il="16px",ol="16px",sl="24px",al="24px",ll="32px",cl="32px",ul="40px",dl="40px",fl="48px",hl="48px",pl="56px",ml="56px",gl="64px",Vo="Frutiger W01",Zo="Arial, Helvetica, sans-serif",qo="sans-serif",Xo="400",Jo="600",Ko="400",Qo="12px",es="14px",ts="12pt",ns="14px",rs="16px",is="12pt",os="16px",ss="19px",as="13pt",ls="19px",cs="22px",us="15pt",ds="22px",fs="26px",hs="17pt",ps="27px",ms="36px",gs="20pt",ys="33px",bs="48px",vs="24pt",yl="16px",bl="24px",Kn={fontFamily:"Frutiger W01",fontWeight:"600",fontSize:{mobile:"33px",tablet:"48px",print:"24pt"},lineHeight:"1.09",marginTop:"0",marginBottom:{mobile:"40px",tablet:"48px"}},Qn={fontFamily:"Frutiger W01",fontWeight:"600",fontSize:{mobile:"27px",tablet:"36px",print:"20pt"},lineHeight:"1.11",marginTop:"0",marginBottom:{mobile:"16px",tablet:"24px"}},er={fontFamily:"Frutiger W01",fontWeight:"600",fontSize:{mobile:"22px",tablet:"26px",print:"17pt"},lineHeight:"1.15",marginTop:"0",marginBottom:{mobile:"16px",tablet:"24px"}},tr={fontFamily:"Frutiger W01",fontWeight:"600",fontSize:{mobile:"19px",tablet:"22px",print:"15pt"},lineHeight:"1.18",marginTop:"0",marginBottom:{mobile:"16px",tablet:"24px"}},nr={fontFamily:"Frutiger W01",fontWeight:"600",fontSize:{mobile:"16px",tablet:"19px",print:"13pt"},lineHeight:"1.26",marginTop:"0",marginBottom:{mobile:"16px",tablet:"24px"}},rr={fontFamily:"Frutiger W01",fontWeight:"400",fontSize:{mobile:"16px",tablet:"19px",print:"13pt"},lineHeight:"1.47",marginTop:"0",marginBottom:{mobile:"16px",tablet:"24px"}},ir={fontFamily:"Frutiger W01",fontWeight:"400",fontSize:{mobile:"22px",tablet:"26px",print:"17pt"},lineHeight:"1.38",marginTop:"0",marginBottom:{mobile:"24px",tablet:"32px"}},or={fontFamily:"Frutiger W01",fontWeight:"400",fontSize:{mobile:"14px",tablet:"16px",print:"12pt"},lineHeight:"1.5",marginTop:"0",marginBottom:{mobile:"16px",tablet:"24px"}},sr={fontFamily:"Frutiger W01",fontWeight:"400",fontSize:{mobile:"22px",tablet:"26px",print:"17pt"},lineHeight:"1.38",marginTop:"0",marginBottom:{mobile:"40px",tablet:"48px"}},ar={fontFamily:"Frutiger W01",fontWeight:"400",fontSize:{mobile:"16px",tablet:"19px",print:"13pt"},lineHeight:"1.47",marginTop:"0",marginBottom:{mobile:"24px",tablet:"32px"}},xC=Object.freeze(Object.defineProperty({__proto__:null,AnimationDurationFast:Um,AnimationDurationNormal:Wm,AnimationDurationSlow:Gm,AnimationEasingBounce:qm,AnimationEasingEaseIn:Ym,AnimationEasingEaseInOut:Zm,AnimationEasingEaseOut:Vm,BorderColorCard:Mu,BorderColorCardHover:ju,BorderColorDefault:Cu,BorderColorError:Tu,BorderColorForm:Nu,BorderRadiusLarge:ug,BorderRadiusMedium:cg,BorderRadiusNone:ag,BorderRadiusSmall:lg,BorderWidthCardBottom:rg,BorderWidthDefault:eg,BorderWidthFormElement:tg,BorderWidthFormElementError:ng,BorderWidthPanel:ig,BorderWidthTableCell:sg,BorderWidthTableHeader:og,BreakpointDesktop:Wy,BreakpointLargeDesktop:Gy,BreakpointMobile:zy,BreakpointTablet:Uy,ButtonBorderRadius:O0,ButtonBorderWidth:B0,ButtonPrimaryBackgroundActive:N0,ButtonPrimaryBackgroundDefault:k0,ButtonPrimaryBackgroundDisabled:M0,ButtonPrimaryBackgroundHover:C0,ButtonPrimaryBorderDefault:D0,ButtonPrimaryBorderFocus:I0,ButtonPrimaryTextDefault:j0,ButtonPrimaryTextDisabled:T0,ButtonSecondaryBackgroundActive:P0,ButtonSecondaryBackgroundDefault:L0,ButtonSecondaryBackgroundHover:E0,ButtonSecondaryBackgroundSolid:A0,ButtonSecondaryBorderDefault:$0,ButtonSecondaryTextDefault:F0,ButtonShadowSize:R0,ButtonSpacingPaddingHorizontalDesktop:Ju,ButtonSpacingPaddingHorizontalMobile:qu,ButtonSpacingPaddingVerticalDesktop:Xu,ButtonSpacingPaddingVerticalMobile:Zu,ButtonTypographyWeight:H0,CardBackgroundDefault:z0,CardBorderBottom:G0,CardBorderDefault:U0,CardBorderHover:W0,CardBorderWidthBottom:X0,CardBorderWidthDefault:q0,CardShadowDefault:J0,CardShadowHover:K0,CardSpacingHeadingMargin:ed,CardSpacingPaddingDesktop:Qu,CardSpacingPaddingMobile:Ku,CardTextDescription:V0,CardTextHeading:Y0,CardTextLink:Z0,ColorBorderDefault:_g,ColorBorderSecondary:wg,ColorButtonLoginActive:qg,ColorButtonLoginBackground:Vg,ColorButtonLoginHover:Zg,ColorButtonLoginShadow:Xg,ColorButtonPrimaryActive:Tg,ColorButtonPrimaryBackground:Ng,ColorButtonPrimaryHover:jg,ColorButtonPrimaryShadow:Dg,ColorButtonPrimaryText:Mg,ColorButtonReverseActive:Hg,ColorButtonReverseBackground:Bg,ColorButtonReverseHover:Rg,ColorButtonReverseShadow:zg,ColorButtonReverseText:Og,ColorButtonSecondaryActive:Fg,ColorButtonSecondaryBackground:Ig,ColorButtonSecondaryBackgroundSolid:Lg,ColorButtonSecondaryBorder:Ag,ColorButtonSecondaryHover:Pg,ColorButtonSecondaryShadow:$g,ColorButtonSecondaryText:Eg,ColorButtonWarningActive:Gg,ColorButtonWarningBackground:Ug,ColorButtonWarningHover:Wg,ColorButtonWarningShadow:Yg,ColorError:Sg,ColorFocusBackground:vg,ColorFocusText:xg,ColorFormBackground:Cg,ColorFormBorder:kg,ColorGrey1:Uu,ColorGrey2:Wu,ColorGrey3:Gu,ColorGrey4:Yu,ColorGrey5:Vu,ColorLinkActive:yg,ColorLinkDefault:mg,ColorLinkHover:gg,ColorLinkVisited:bg,ColorPrimaryBlack:Lu,ColorPrimaryBlue:Du,ColorPrimaryDarkPink:Pu,ColorPrimaryGreen:Au,ColorPrimaryPurple:Eu,ColorPrimaryRed:Fu,ColorPrimaryWhite:Iu,ColorPrimaryYellow:$u,ColorSecondaryAquaGreen:Hu,ColorSecondaryOrange:Ru,ColorSecondaryPaleYellow:Bu,ColorSecondaryPink:zu,ColorSecondaryWarmYellow:Ou,ColorTextPrimary:dg,ColorTextPrint:pg,ColorTextReverse:hg,ColorTextSecondary:fg,ComponentBlur:v0,ComponentBreadcrumbChevronMarginLeft:d0,ComponentBreadcrumbChevronMarginRight:f0,ComponentBreadcrumbPaddingTopDesktop:p0,ComponentBreadcrumbPaddingTopMobile:h0,ComponentButtonPaddingDesktopHorizontal:e0,ComponentButtonPaddingDesktopVertical:Qg,ComponentButtonPaddingMobileHorizontal:Kg,ComponentButtonPaddingMobileVertical:Jg,ComponentButtonShadowSize:t0,ComponentCardHeadingMargin:l0,ComponentCardPaddingDesktop:a0,ComponentCardPaddingMobile:s0,ComponentDetails:_0,ComponentExpander:w0,ComponentFormCheckboxLabelPadding:o0,ComponentFormCheckboxSize:i0,ComponentFormInputMinHeight:n0,ComponentFormInputPadding:r0,ComponentLink:x0,ComponentPagination:S0,ComponentPanelPaddingDesktop:u0,ComponentPanelPaddingMobile:c0,ComponentSpread:b0,ComponentSummaryListCellPaddingHorizontal:g0,ComponentSummaryListCellPaddingVertical:m0,ComponentSummaryListRowMargin:y0,ElevationHigh:kb,ElevationLow:wb,ElevationMedium:Sb,ElevationNone:_b,FocusOutlineOffset:yb,FocusOutlineStyle:bb,FocusOutlineWidth:gb,FocusShadowButton:xb,FocusShadowInput:vb,FontFamilyBase:Vo,FontFamilyFallback:Zo,FontFamilyPrint:qo,FontLineHeightBase:bl,FontSize14Mobile:Qo,FontSize14Print:ts,FontSize14Tablet:es,FontSize16Mobile:ns,FontSize16Print:is,FontSize16Tablet:rs,FontSize19Mobile:os,FontSize19Print:as,FontSize19Tablet:ss,FontSize22Mobile:ls,FontSize22Print:us,FontSize22Tablet:cs,FontSize26Mobile:ds,FontSize26Print:hs,FontSize26Tablet:fs,FontSize36Mobile:ps,FontSize36Print:gs,FontSize36Tablet:ms,FontSize48Mobile:ys,FontSize48Print:vs,FontSize48Tablet:bs,FontSizeBase:yl,FontWeightBold:Jo,FontWeightLight:Ko,FontWeightNormal:Xo,FormBorderRadius:by,FormBorderWidthDefault:gy,FormBorderWidthError:yy,FormErrorTextDefault:hy,FormErrorTypographyWeight:py,FormHintTextDefault:my,FormInputBackgroundDefault:Q0,FormInputBackgroundDisabled:ty,FormInputBackgroundError:ny,FormInputBackgroundFocus:ey,FormInputBorderDefault:ry,FormInputBorderDisabled:sy,FormInputBorderError:oy,FormInputBorderFocus:iy,FormInputTextDefault:ay,FormInputTextDisabled:cy,FormInputTextPlaceholder:ly,FormLabelTextDefault:uy,FormLabelTextRequired:dy,FormLabelTypographyWeight:fy,FormSpacingCheckboxLabelPadding:id,FormSpacingCheckboxSize:rd,FormSpacingInputMinHeight:nd,FormSpacingInputPadding:td,GridGutter:Vy,GridGutterHalf:Zy,GridPageWidth:Yy,HeadingsNhsukHeadingL:Qn,HeadingsNhsukHeadingM:er,HeadingsNhsukHeadingS:tr,HeadingsNhsukHeadingXl:Kn,HeadingsNhsukHeadingXs:nr,LayoutColumnActions:Hy,LayoutColumnFull:$y,LayoutColumnHalf:By,LayoutColumnQuarter:Ry,LayoutColumnThird:Oy,LayoutContainerMaxWidth:Fy,ParagraphsBody:rr,ParagraphsBodyLarge:ir,ParagraphsBodySmall:or,ParagraphsLedeText:sr,ParagraphsLedeTextSmall:ar,ShadowButtonDefault:ub,ShadowButtonFocus:hb,ShadowButtonSecondary:db,ShadowButtonWarning:fb,ShadowCardDefault:pb,ShadowCardHover:mb,SizeButtonMinHeightDesktop:Py,SizeButtonMinHeightMobile:Ey,SizeFormControlLarge:Ny,SizeFormControlMedium:Cy,SizeFormControlSmall:ky,SizeFormInputWidth2xl:Ly,SizeFormInputWidth3xl:Ay,SizeFormInputWidthLg:Dy,SizeFormInputWidthMd:Ty,SizeFormInputWidthSm:jy,SizeFormInputWidthXl:Iy,SizeFormInputWidthXs:My,SizeIconExtraLarge:wy,SizeIconLarge:_y,SizeIconMedium:xy,SizeIconNhsDefault:Sy,SizeIconSmall:vy,Spacing0:od,Spacing1:sd,Spacing2:ad,Spacing3:ld,Spacing4:cd,Spacing5:ud,Spacing6:dd,Spacing7:fd,Spacing8:hd,Spacing9:pd,SpacingResponsive0Mobile:Ja,SpacingResponsive0Tablet:Ka,SpacingResponsive1Mobile:Qa,SpacingResponsive1Tablet:el,SpacingResponsive2Mobile:tl,SpacingResponsive2Tablet:nl,SpacingResponsive3Mobile:rl,SpacingResponsive3Tablet:il,SpacingResponsive4Mobile:ol,SpacingResponsive4Tablet:sl,SpacingResponsive5Mobile:al,SpacingResponsive5Tablet:ll,SpacingResponsive6Mobile:cl,SpacingResponsive6Tablet:ul,SpacingResponsive7Mobile:dl,SpacingResponsive7Tablet:fl,SpacingResponsive8Mobile:hl,SpacingResponsive8Tablet:pl,SpacingResponsive9Mobile:ml,SpacingResponsive9Tablet:gl,StateDisabledBackground:ab,StateDisabledBorder:lb,StateDisabledText:cb,StateErrorBackground:qy,StateErrorBorder:Xy,StateErrorText:Jy,StateInfoBackground:ib,StateInfoBorder:ob,StateInfoText:sb,StateSuccessBackground:Ky,StateSuccessBorder:Qy,StateSuccessText:eb,StateWarningBackground:tb,StateWarningBorder:nb,StateWarningText:rb,TransitionButtonDefault:Xm,TransitionButtonShadow:Jm,TransitionCardHover:Qm,TransitionInputFocus:Km},Symbol.toStringTag,{value:"Module"})),_C=(e,t)=>({fontSize:e.mobile,marginBottom:t.mobile,"@media (min-width: 768px)":{fontSize:e.tablet,marginBottom:t.tablet},"@media print":{fontSize:e.print||e.tablet}}),wC=({children:e,className:t="",style:n={}})=>a.jsx("h1",{className:t,style:{fontFamily:Kn.fontFamily,fontWeight:Kn.fontWeight,fontSize:Kn.fontSize.mobile,lineHeight:Kn.lineHeight,marginTop:Kn.marginTop,marginBottom:Kn.marginBottom.mobile,...n},children:e}),SC=({children:e,className:t="",style:n={}})=>a.jsx("h2",{className:t,style:{fontFamily:Qn.fontFamily,fontWeight:Qn.fontWeight,fontSize:Qn.fontSize.mobile,lineHeight:Qn.lineHeight,marginTop:Qn.marginTop,marginBottom:Qn.marginBottom.mobile,...n},children:e}),kC=({children:e,className:t="",style:n={}})=>a.jsx("h3",{className:t,style:{fontFamily:er.fontFamily,fontWeight:er.fontWeight,fontSize:er.fontSize.mobile,lineHeight:er.lineHeight,marginTop:er.marginTop,marginBottom:er.marginBottom.mobile,...n},children:e}),CC=({children:e,className:t="",style:n={}})=>a.jsx("h4",{className:t,style:{fontFamily:tr.fontFamily,fontWeight:tr.fontWeight,fontSize:tr.fontSize.mobile,lineHeight:tr.lineHeight,marginTop:tr.marginTop,marginBottom:tr.marginBottom.mobile,...n},children:e}),NC=({children:e,className:t="",style:n={}})=>a.jsx("h5",{className:t,style:{fontFamily:nr.fontFamily,fontWeight:nr.fontWeight,fontSize:nr.fontSize.mobile,lineHeight:nr.lineHeight,marginTop:nr.marginTop,marginBottom:nr.marginBottom.mobile,...n},children:e}),MC=({children:e,className:t="",style:n={}})=>a.jsx("p",{className:t,style:{fontFamily:rr.fontFamily,fontWeight:rr.fontWeight,fontSize:rr.fontSize.mobile,lineHeight:rr.lineHeight,marginTop:rr.marginTop,marginBottom:rr.marginBottom.mobile,...n},children:e}),jC=({children:e,className:t="",style:n={}})=>a.jsx("p",{className:t,style:{fontFamily:ir.fontFamily,fontWeight:ir.fontWeight,fontSize:ir.fontSize.mobile,lineHeight:ir.lineHeight,marginTop:ir.marginTop,marginBottom:ir.marginBottom.mobile,...n},children:e}),TC=({children:e,className:t="",style:n={}})=>a.jsx("p",{className:t,style:{fontFamily:or.fontFamily,fontWeight:or.fontWeight,fontSize:or.fontSize.mobile,lineHeight:or.lineHeight,marginTop:or.marginTop,marginBottom:or.marginBottom.mobile,...n},children:e}),DC=({children:e,className:t="",style:n={}})=>a.jsx("p",{className:t,style:{fontFamily:sr.fontFamily,fontWeight:sr.fontWeight,fontSize:sr.fontSize.mobile,lineHeight:sr.lineHeight,marginTop:sr.marginTop,marginBottom:sr.marginBottom.mobile,...n},children:e}),IC=({children:e,className:t="",style:n={}})=>a.jsx("p",{className:t,style:{fontFamily:ar.fontFamily,fontWeight:ar.fontWeight,fontSize:ar.fontSize.mobile,lineHeight:ar.lineHeight,marginTop:ar.marginTop,marginBottom:ar.marginBottom.mobile,...n},children:e}),LC=()=>P.useMemo(()=>xC,[]),AC=()=>P.useMemo(()=>({BorderColorDefault:Cu,BorderColorForm:Nu,BorderColorCard:Mu,BorderColorCardHover:ju,BorderColorError:Tu,ColorPrimaryBlue:Du,ColorPrimaryWhite:Iu,ColorPrimaryBlack:Lu,ColorPrimaryGreen:Au,ColorPrimaryPurple:Eu,ColorPrimaryDarkPink:Pu,ColorPrimaryRed:Fu,ColorPrimaryYellow:$u,ColorSecondaryPaleYellow:Bu,ColorSecondaryWarmYellow:Ou,ColorSecondaryOrange:Ru,ColorSecondaryAquaGreen:Hu,ColorSecondaryPink:zu,ColorGrey1:Uu,ColorGrey2:Wu,ColorGrey3:Gu,ColorGrey4:Yu,ColorGrey5:Vu}),[]),EC=()=>P.useMemo(()=>({Spacing0:od,Spacing1:sd,Spacing2:ad,Spacing3:ld,Spacing4:cd,Spacing5:ud,Spacing6:dd,Spacing7:fd,Spacing8:hd,Spacing9:pd}),[]),PC=()=>P.useMemo(()=>({Mobile:{Size14:Qo,Size16:ns,Size19:os,Size22:ls,Size26:ds,Size36:ps,Size48:ys},Tablet:{Size14:es,Size16:rs,Size19:ss,Size22:cs,Size26:fs,Size36:ms,Size48:bs},Print:{Size14:ts,Size16:is,Size19:as,Size22:us,Size26:hs,Size36:gs,Size48:vs},Family:{Base:Vo,Fallback:Zo,Print:qo},Weight:{Normal:Xo,Bold:Jo,Light:Ko},Base:{Size:yl,LineHeight:bl},FontFamilyBase:Vo,FontFamilyFallback:Zo,FontFamilyPrint:qo,FontWeightNormal:Xo,FontWeightBold:Jo,FontWeightLight:Ko,FontSize14Mobile:Qo,FontSize14Tablet:es,FontSize14Print:ts,FontSize16Mobile:ns,FontSize16Tablet:rs,FontSize16Print:is,FontSize19Mobile:os,FontSize19Tablet:ss,FontSize19Print:as,FontSize22Mobile:ls,FontSize22Tablet:cs,FontSize22Print:us,FontSize26Mobile:ds,FontSize26Tablet:fs,FontSize26Print:hs,FontSize36Mobile:ps,FontSize36Tablet:ms,FontSize36Print:gs,FontSize48Mobile:ys,FontSize48Tablet:bs,FontSize48Print:vs,FontSizeBase:yl,FontLineHeightBase:bl}),[]),FC=()=>P.useMemo(()=>({Mobile:{Size0:Ja,Size1:Qa,Size2:tl,Size3:rl,Size4:ol,Size5:al,Size6:cl,Size7:dl,Size8:hl,Size9:ml},Tablet:{Size0:Ka,Size1:el,Size2:nl,Size3:il,Size4:sl,Size5:ll,Size6:ul,Size7:fl,Size8:pl,Size9:gl},SpacingResponsive0Mobile:Ja,SpacingResponsive0Tablet:Ka,SpacingResponsive1Mobile:Qa,SpacingResponsive1Tablet:el,SpacingResponsive2Mobile:tl,SpacingResponsive2Tablet:nl,SpacingResponsive3Mobile:rl,SpacingResponsive3Tablet:il,SpacingResponsive4Mobile:ol,SpacingResponsive4Tablet:sl,SpacingResponsive5Mobile:al,SpacingResponsive5Tablet:ll,SpacingResponsive6Mobile:cl,SpacingResponsive6Tablet:ul,SpacingResponsive7Mobile:dl,SpacingResponsive7Tablet:fl,SpacingResponsive8Mobile:hl,SpacingResponsive8Tablet:pl,SpacingResponsive9Mobile:ml,SpacingResponsive9Tablet:gl}),[]),$C=()=>P.useMemo(()=>({ButtonSpacingPaddingVerticalMobile:Zu,ButtonSpacingPaddingHorizontalMobile:qu,ButtonSpacingPaddingVerticalDesktop:Xu,ButtonSpacingPaddingHorizontalDesktop:Ju,CardSpacingPaddingMobile:Ku,CardSpacingPaddingDesktop:Qu,CardSpacingHeadingMargin:ed,FormSpacingInputPadding:td,FormSpacingInputMinHeight:nd,FormSpacingCheckboxSize:rd,FormSpacingCheckboxLabelPadding:id}),[]),BC=()=>P.useMemo(()=>({xl:Kn,l:Qn,m:er,s:tr,xs:nr}),[]),OC=()=>P.useMemo(()=>({body:rr,bodyLarge:ir,bodySmall:or,ledeText:sr,ledeTextSmall:ar}),[]),RC=()=>P.useMemo(()=>({headings:{xl:Kn,l:Qn,m:er,s:tr,xs:nr},paragraphs:{body:rr,bodyLarge:ir,bodySmall:or,ledeText:sr,ledeTextSmall:ar},fonts:{family:{base:Vo,fallback:Zo,print:qo},weight:{normal:Xo,bold:Jo,light:Ko},sizes:{mobile:{size14:Qo,size16:ns,size19:os,size22:ls,size26:ds,size36:ps,size48:ys},tablet:{size14:es,size16:rs,size19:ss,size22:cs,size26:fs,size36:ms,size48:bs},print:{size14:ts,size16:is,size19:as,size22:us,size26:hs,size36:gs,size48:vs}}}}),[]);function HC(e={}){const{initialLayout:t=void 0,fallbackLayout:n="two-column"}=e,[r,i]=ne.useState(t),o=ne.useCallback(()=>i("three-column"),[]),s=ne.useCallback(()=>i(c=>c==="three-column"?n:c),[n]),l=ne.useCallback(()=>i(c=>c==="three-column"?n:"three-column"),[n]);return{forceLayout:r,setLayout:i,drillIn:o,drillOut:s,toggle:l,isDrilledIn:r==="three-column"}}const md={fontPath:"https://assets.nhs.uk/fonts/",includeFontFace:!0,useFallbacks:!0,fontWeights:[400,600]},on={normal:{woff2:"FrutigerLTW01-55Roman.woff2",woff:"FrutigerLTW01-55Roman.woff",ttf:"FrutigerLTW01-55Roman.ttf",eot:"FrutigerLTW01-55Roman.eot"},bold:{woff2:"FrutigerLTW01-65Bold.woff2",woff:"FrutigerLTW01-65Bold.woff",ttf:"FrutigerLTW01-65Bold.ttf",eot:"FrutigerLTW01-65Bold.eot"}};function zC(e={}){const{fontPath:t,fontWeights:n}={...md,...e},r=[];return n?.includes(400)&&r.push(`
@font-face {
  font-display: swap;
  font-family: "Frutiger W01";
  font-style: normal;
  font-weight: 400;
  src: url("${t}${on.normal.eot}?#iefix") format("eot"),
       url("${t}${on.normal.woff2}") format("woff2"),
       url("${t}${on.normal.woff}") format("woff"),
       url("${t}${on.normal.ttf}") format("truetype");
  src: url("${t}${on.normal.eot}");
}`),n?.includes(600)&&r.push(`
@font-face {
  font-display: swap;
  font-family: "Frutiger W01";
  font-style: normal;
  font-weight: 600;
  src: url("${t}${on.bold.eot}?#iefix") format("eot"),
       url("${t}${on.bold.woff2}") format("woff2"),
       url("${t}${on.bold.woff}") format("woff"),
       url("${t}${on.bold.ttf}") format("truetype");
  src: url("${t}${on.bold.eot}");
}`),r.join(`
`)}function UC(e={}){if(typeof document>"u")return;const{fontPath:t,fontWeights:n}={...md,...e};[...n?.includes(400)?[{href:`${t}${on.normal.woff2}`,as:"font",type:"font/woff2"},{href:`${t}${on.normal.woff}`,as:"font",type:"font/woff"}]:[],...n?.includes(600)?[{href:`${t}${on.bold.woff2}`,as:"font",type:"font/woff2"},{href:`${t}${on.bold.woff}`,as:"font",type:"font/woff"}]:[]].forEach(i=>{const o=document.createElement("link");o.rel="preload",o.href=i.href,o.as=i.as,o.type=i.type,o.crossOrigin="anonymous",document.head.appendChild(o)})}const WC='"Frutiger W01", Arial, Helvetica, sans-serif',GC="Arial, Helvetica, sans-serif";async function YC(){if(typeof document>"u"||!document.fonts)return!1;try{return await document.fonts.load('1em "Frutiger W01"'),document.fonts.check('1em "Frutiger W01"')}catch{return!1}}function VC({scope:e,onInit:t,onError:n}={}){return P.useEffect(()=>{typeof window>"u"||(window.__nhsInitAllBehaviours||(window.__nhsInitAllBehaviours=()=>{}),Promise.resolve().then(()=>nj).then(({initAll:r})=>{window.__nhsInitAllBehaviours=r;try{r(e||document),t?.()}catch(i){console.error("[BehavioursLoader] Failed to initialize behaviours:",i),n?.(i)}}).catch(r=>{console.error("[BehavioursLoader] Failed to load behaviours module:",r),n?.(r)}))},[e,t,n]),null}function wr(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Cb(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}/*!
 * GSAP 3.13.0
 * https://gsap.com
 *
 * @license Copyright 2008-2025, GreenSock. All rights reserved.
 * Subject to the terms at https://gsap.com/standard-license
 * @author: Jack Doyle, jack@greensock.com
*/var wn={autoSleep:120,force3D:"auto",nullTargetWarn:1,units:{lineHeight:""}},Xi={duration:.5,overwrite:!1,delay:0},gd,qt,kt,Pn=1e8,bt=1/Pn,yd=Math.PI*2,ZC=yd/4,qC=0,Nb=Math.sqrt,XC=Math.cos,JC=Math.sin,Gt=function(t){return typeof t=="string"},jt=function(t){return typeof t=="function"},Sr=function(t){return typeof t=="number"},bd=function(t){return typeof t>"u"},lr=function(t){return typeof t=="object"},pn=function(t){return t!==!1},vd=function(){return typeof window<"u"},vl=function(t){return jt(t)||Gt(t)},Mb=typeof ArrayBuffer=="function"&&ArrayBuffer.isView||function(){},Qt=Array.isArray,xd=/(?:-?\.?\d|\.)+/gi,jb=/[-+=.]*\d+[.e\-+]*\d*[e\-+]*\d*/g,Ji=/[-+=.]*\d+[.e-]*\d*[a-z%]*/g,_d=/[-+=.]*\d+\.?\d*(?:e-|e\+)?\d*/gi,Tb=/[+-]=-?[.\d]+/,Db=/[^,'"\[\]\s]+/gi,KC=/^[+\-=e\s\d]*\d+[.\d]*([a-z]*|%)\s*$/i,Nt,cr,wd,Sd,Sn={},xl={},Ib,Lb=function(t){return(xl=Qi(t,Sn))&&yn},kd=function(t,n){return console.warn("Invalid property",t,"set to",n,"Missing plugin? gsap.registerPlugin()")},xs=function(t,n){return!n&&console.warn(t)},Ab=function(t,n){return t&&(Sn[t]=n)&&xl&&(xl[t]=n)||Sn},_s=function(){return 0},QC={suppressEvents:!0,isStart:!0,kill:!1},_l={suppressEvents:!0,kill:!1},eN={suppressEvents:!0},Cd={},Or=[],Nd={},Eb,kn={},Md={},Pb=30,wl=[],jd="",Td=function(t){var n=t[0],r,i;if(lr(n)||jt(n)||(t=[t]),!(r=(n._gsap||{}).harness)){for(i=wl.length;i--&&!wl[i].targetTest(n););r=wl[i]}for(i=t.length;i--;)t[i]&&(t[i]._gsap||(t[i]._gsap=new u1(t[i],r)))||t.splice(i,1);return t},hi=function(t){return t._gsap||Td($n(t))[0]._gsap},Fb=function(t,n,r){return(r=t[n])&&jt(r)?t[n]():bd(r)&&t.getAttribute&&t.getAttribute(n)||r},mn=function(t,n){return(t=t.split(",")).forEach(n)||t},Dt=function(t){return Math.round(t*1e5)/1e5||0},Pt=function(t){return Math.round(t*1e7)/1e7||0},Ki=function(t,n){var r=n.charAt(0),i=parseFloat(n.substr(2));return t=parseFloat(t),r==="+"?t+i:r==="-"?t-i:r==="*"?t*i:t/i},tN=function(t,n){for(var r=n.length,i=0;t.indexOf(n[i])<0&&++i<r;);return i<r},Sl=function(){var t=Or.length,n=Or.slice(0),r,i;for(Nd={},Or.length=0,r=0;r<t;r++)i=n[r],i&&i._lazy&&(i.render(i._lazy[0],i._lazy[1],!0)._lazy=0)},Dd=function(t){return!!(t._initted||t._startAt||t.add)},$b=function(t,n,r,i){Or.length&&!qt&&Sl(),t.render(n,r,!!(qt&&n<0&&Dd(t))),Or.length&&!qt&&Sl()},Bb=function(t){var n=parseFloat(t);return(n||n===0)&&(t+"").match(Db).length<2?n:Gt(t)?t.trim():t},Ob=function(t){return t},Cn=function(t,n){for(var r in n)r in t||(t[r]=n[r]);return t},nN=function(t){return function(n,r){for(var i in r)i in n||i==="duration"&&t||i==="ease"||(n[i]=r[i])}},Qi=function(t,n){for(var r in n)t[r]=n[r];return t},Rb=function e(t,n){for(var r in n)r!=="__proto__"&&r!=="constructor"&&r!=="prototype"&&(t[r]=lr(n[r])?e(t[r]||(t[r]={}),n[r]):n[r]);return t},kl=function(t,n){var r={},i;for(i in t)i in n||(r[i]=t[i]);return r},ws=function(t){var n=t.parent||Nt,r=t.keyframes?nN(Qt(t.keyframes)):Cn;if(pn(t.inherit))for(;n;)r(t,n.vars.defaults),n=n.parent||n._dp;return t},rN=function(t,n){for(var r=t.length,i=r===n.length;i&&r--&&t[r]===n[r];);return r<0},Hb=function(t,n,r,i,o){var s=t[i],l;if(o)for(l=n[o];s&&s[o]>l;)s=s._prev;return s?(n._next=s._next,s._next=n):(n._next=t[r],t[r]=n),n._next?n._next._prev=n:t[i]=n,n._prev=s,n.parent=n._dp=t,n},Cl=function(t,n,r,i){r===void 0&&(r="_first"),i===void 0&&(i="_last");var o=n._prev,s=n._next;o?o._next=s:t[r]===n&&(t[r]=s),s?s._prev=o:t[i]===n&&(t[i]=o),n._next=n._prev=n.parent=null},Rr=function(t,n){t.parent&&(!n||t.parent.autoRemoveChildren)&&t.parent.remove&&t.parent.remove(t),t._act=0},pi=function(t,n){if(t&&(!n||n._end>t._dur||n._start<0))for(var r=t;r;)r._dirty=1,r=r.parent;return t},iN=function(t){for(var n=t.parent;n&&n.parent;)n._dirty=1,n.totalDuration(),n=n.parent;return t},Id=function(t,n,r,i){return t._startAt&&(qt?t._startAt.revert(_l):t.vars.immediateRender&&!t.vars.autoRevert||t._startAt.render(n,!0,i))},oN=function e(t){return!t||t._ts&&e(t.parent)},zb=function(t){return t._repeat?eo(t._tTime,t=t.duration()+t._rDelay)*t:0},eo=function(t,n){var r=Math.floor(t=Pt(t/n));return t&&r===t?r-1:r},Nl=function(t,n){return(t-n._start)*n._ts+(n._ts>=0?0:n._dirty?n.totalDuration():n._tDur)},Ml=function(t){return t._end=Pt(t._start+(t._tDur/Math.abs(t._ts||t._rts||bt)||0))},jl=function(t,n){var r=t._dp;return r&&r.smoothChildTiming&&t._ts&&(t._start=Pt(r._time-(t._ts>0?n/t._ts:((t._dirty?t.totalDuration():t._tDur)-n)/-t._ts)),Ml(t),r._dirty||pi(r,t)),t},Ub=function(t,n){var r;if((n._time||!n._dur&&n._initted||n._start<t._time&&(n._dur||!n.add))&&(r=Nl(t.rawTime(),n),(!n._dur||ks(0,n.totalDuration(),r)-n._tTime>bt)&&n.render(r,!0)),pi(t,n)._dp&&t._initted&&t._time>=t._dur&&t._ts){if(t._dur<t.duration())for(r=t;r._dp;)r.rawTime()>=0&&r.totalTime(r._tTime),r=r._dp;t._zTime=-bt}},ur=function(t,n,r,i){return n.parent&&Rr(n),n._start=Pt((Sr(r)?r:r||t!==Nt?Fn(t,r,n):t._time)+n._delay),n._end=Pt(n._start+(n.totalDuration()/Math.abs(n.timeScale())||0)),Hb(t,n,"_first","_last",t._sort?"_start":0),Ld(n)||(t._recent=n),i||Ub(t,n),t._ts<0&&jl(t,t._tTime),t},Wb=function(t,n){return(Sn.ScrollTrigger||kd("scrollTrigger",n))&&Sn.ScrollTrigger.create(n,t)},Gb=function(t,n,r,i,o){if(Hd(t,n,o),!t._initted)return 1;if(!r&&t._pt&&!qt&&(t._dur&&t.vars.lazy!==!1||!t._dur&&t.vars.lazy)&&Eb!==Mn.frame)return Or.push(t),t._lazy=[o,i],1},sN=function e(t){var n=t.parent;return n&&n._ts&&n._initted&&!n._lock&&(n.rawTime()<0||e(n))},Ld=function(t){var n=t.data;return n==="isFromStart"||n==="isStart"},aN=function(t,n,r,i){var o=t.ratio,s=n<0||!n&&(!t._start&&sN(t)&&!(!t._initted&&Ld(t))||(t._ts<0||t._dp._ts<0)&&!Ld(t))?0:1,l=t._rDelay,c=0,u,d,f;if(l&&t._repeat&&(c=ks(0,t._tDur,n),d=eo(c,l),t._yoyo&&d&1&&(s=1-s),d!==eo(t._tTime,l)&&(o=1-s,t.vars.repeatRefresh&&t._initted&&t.invalidate())),s!==o||qt||i||t._zTime===bt||!n&&t._zTime){if(!t._initted&&Gb(t,n,i,r,c))return;for(f=t._zTime,t._zTime=n||(r?bt:0),r||(r=n&&!f),t.ratio=s,t._from&&(s=1-s),t._time=0,t._tTime=c,u=t._pt;u;)u.r(s,u.d),u=u._next;n<0&&Id(t,n,r,!0),t._onUpdate&&!r&&Nn(t,"onUpdate"),c&&t._repeat&&!r&&t.parent&&Nn(t,"onRepeat"),(n>=t._tDur||n<0)&&t.ratio===s&&(s&&Rr(t,1),!r&&!qt&&(Nn(t,s?"onComplete":"onReverseComplete",!0),t._prom&&t._prom()))}else t._zTime||(t._zTime=n)},lN=function(t,n,r){var i;if(r>n)for(i=t._first;i&&i._start<=r;){if(i.data==="isPause"&&i._start>n)return i;i=i._next}else for(i=t._last;i&&i._start>=r;){if(i.data==="isPause"&&i._start<n)return i;i=i._prev}},to=function(t,n,r,i){var o=t._repeat,s=Pt(n)||0,l=t._tTime/t._tDur;return l&&!i&&(t._time*=s/t._dur),t._dur=s,t._tDur=o?o<0?1e10:Pt(s*(o+1)+t._rDelay*o):s,l>0&&!i&&jl(t,t._tTime=t._tDur*l),t.parent&&Ml(t),r||pi(t.parent,t),t},Yb=function(t){return t instanceof Xt?pi(t):to(t,t._dur)},cN={_start:0,endTime:_s,totalDuration:_s},Fn=function e(t,n,r){var i=t.labels,o=t._recent||cN,s=t.duration()>=Pn?o.endTime(!1):t._dur,l,c,u;return Gt(n)&&(isNaN(n)||n in i)?(c=n.charAt(0),u=n.substr(-1)==="%",l=n.indexOf("="),c==="<"||c===">"?(l>=0&&(n=n.replace(/=/,"")),(c==="<"?o._start:o.endTime(o._repeat>=0))+(parseFloat(n.substr(1))||0)*(u?(l<0?o:r).totalDuration()/100:1)):l<0?(n in i||(i[n]=s),i[n]):(c=parseFloat(n.charAt(l-1)+n.substr(l+1)),u&&r&&(c=c/100*(Qt(r)?r[0]:r).totalDuration()),l>1?e(t,n.substr(0,l-1),r)+c:s+c)):n==null?s:+n},Ss=function(t,n,r){var i=Sr(n[1]),o=(i?2:1)+(t<2?0:1),s=n[o],l,c;if(i&&(s.duration=n[1]),s.parent=r,t){for(l=s,c=r;c&&!("immediateRender"in l);)l=c.vars.defaults||{},c=pn(c.vars.inherit)&&c.parent;s.immediateRender=pn(l.immediateRender),t<2?s.runBackwards=1:s.startAt=n[o-1]}return new It(n[0],s,n[o+1])},Hr=function(t,n){return t||t===0?n(t):n},ks=function(t,n,r){return r<t?t:r>n?n:r},en=function(t,n){return!Gt(t)||!(n=KC.exec(t))?"":n[1]},uN=function(t,n,r){return Hr(r,function(i){return ks(t,n,i)})},Ad=[].slice,Vb=function(t,n){return t&&lr(t)&&"length"in t&&(!n&&!t.length||t.length-1 in t&&lr(t[0]))&&!t.nodeType&&t!==cr},dN=function(t,n,r){return r===void 0&&(r=[]),t.forEach(function(i){var o;return Gt(i)&&!n||Vb(i,1)?(o=r).push.apply(o,$n(i)):r.push(i)})||r},$n=function(t,n,r){return kt&&!n&&kt.selector?kt.selector(t):Gt(t)&&!r&&(wd||!ro())?Ad.call((n||Sd).querySelectorAll(t),0):Qt(t)?dN(t,r):Vb(t)?Ad.call(t,0):t?[t]:[]},Ed=function(t){return t=$n(t)[0]||xs("Invalid scope")||{},function(n){var r=t.current||t.nativeElement||t;return $n(n,r.querySelectorAll?r:r===t?xs("Invalid scope")||Sd.createElement("div"):t)}},Zb=function(t){return t.sort(function(){return .5-Math.random()})},qb=function(t){if(jt(t))return t;var n=lr(t)?t:{each:t},r=mi(n.ease),i=n.from||0,o=parseFloat(n.base)||0,s={},l=i>0&&i<1,c=isNaN(i)||l,u=n.axis,d=i,f=i;return Gt(i)?d=f={center:.5,edges:.5,end:1}[i]||0:!l&&c&&(d=i[0],f=i[1]),function(p,h,g){var m=(g||n).length,y=s[m],C,N,j,w,b,S,M,x,v;if(!y){if(v=n.grid==="auto"?0:(n.grid||[1,Pn])[1],!v){for(M=-Pn;M<(M=g[v++].getBoundingClientRect().left)&&v<m;);v<m&&v--}for(y=s[m]=[],C=c?Math.min(v,m)*d-.5:i%v,N=v===Pn?0:c?m*f/v-.5:i/v|0,M=0,x=Pn,S=0;S<m;S++)j=S%v-C,w=N-(S/v|0),y[S]=b=u?Math.abs(u==="y"?w:j):Nb(j*j+w*w),b>M&&(M=b),b<x&&(x=b);i==="random"&&Zb(y),y.max=M-x,y.min=x,y.v=m=(parseFloat(n.amount)||parseFloat(n.each)*(v>m?m-1:u?u==="y"?m/v:v:Math.max(v,m/v))||0)*(i==="edges"?-1:1),y.b=m<0?o-m:o,y.u=en(n.amount||n.each)||0,r=r&&m<0?a1(r):r}return m=(y[p]-y.min)/y.max||0,Pt(y.b+(r?r(m):m)*y.v)+y.u}},Pd=function(t){var n=Math.pow(10,((t+"").split(".")[1]||"").length);return function(r){var i=Pt(Math.round(parseFloat(r)/t)*t*n);return(i-i%1)/n+(Sr(r)?0:en(r))}},Xb=function(t,n){var r=Qt(t),i,o;return!r&&lr(t)&&(i=r=t.radius||Pn,t.values?(t=$n(t.values),(o=!Sr(t[0]))&&(i*=i)):t=Pd(t.increment)),Hr(n,r?jt(t)?function(s){return o=t(s),Math.abs(o-s)<=i?o:s}:function(s){for(var l=parseFloat(o?s.x:s),c=parseFloat(o?s.y:0),u=Pn,d=0,f=t.length,p,h;f--;)o?(p=t[f].x-l,h=t[f].y-c,p=p*p+h*h):p=Math.abs(t[f]-l),p<u&&(u=p,d=f);return d=!i||u<=i?t[d]:s,o||d===s||Sr(s)?d:d+en(s)}:Pd(t))},Jb=function(t,n,r,i){return Hr(Qt(t)?!n:r===!0?!!(r=0):!i,function(){return Qt(t)?t[~~(Math.random()*t.length)]:(r=r||1e-5)&&(i=r<1?Math.pow(10,(r+"").length-2):1)&&Math.floor(Math.round((t-r/2+Math.random()*(n-t+r*.99))/r)*r*i)/i})},fN=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return function(i){return n.reduce(function(o,s){return s(o)},i)}},hN=function(t,n){return function(r){return t(parseFloat(r))+(n||en(r))}},pN=function(t,n,r){return Qb(t,n,0,1,r)},Kb=function(t,n,r){return Hr(r,function(i){return t[~~n(i)]})},mN=function e(t,n,r){var i=n-t;return Qt(t)?Kb(t,e(0,t.length),n):Hr(r,function(o){return(i+(o-t)%i)%i+t})},gN=function e(t,n,r){var i=n-t,o=i*2;return Qt(t)?Kb(t,e(0,t.length-1),n):Hr(r,function(s){return s=(o+(s-t)%o)%o||0,t+(s>i?o-s:s)})},Cs=function(t){for(var n=0,r="",i,o,s,l;~(i=t.indexOf("random(",n));)s=t.indexOf(")",i),l=t.charAt(i+7)==="[",o=t.substr(i+7,s-i-7).match(l?Db:xd),r+=t.substr(n,i-n)+Jb(l?o:+o[0],l?0:+o[1],+o[2]||1e-5),n=s+1;return r+t.substr(n,t.length-n)},Qb=function(t,n,r,i,o){var s=n-t,l=i-r;return Hr(o,function(c){return r+((c-t)/s*l||0)})},yN=function e(t,n,r,i){var o=isNaN(t+n)?0:function(h){return(1-h)*t+h*n};if(!o){var s=Gt(t),l={},c,u,d,f,p;if(r===!0&&(i=1)&&(r=null),s)t={p:t},n={p:n};else if(Qt(t)&&!Qt(n)){for(d=[],f=t.length,p=f-2,u=1;u<f;u++)d.push(e(t[u-1],t[u]));f--,o=function(g){g*=f;var m=Math.min(p,~~g);return d[m](g-m)},r=n}else i||(t=Qi(Qt(t)?[]:{},t));if(!d){for(c in n)Od.call(l,t,c,"get",n[c]);o=function(g){return Wd(g,l)||(s?t.p:t)}}}return Hr(r,o)},e1=function(t,n,r){var i=t.labels,o=Pn,s,l,c;for(s in i)l=i[s]-n,l<0==!!r&&l&&o>(l=Math.abs(l))&&(c=s,o=l);return c},Nn=function(t,n,r){var i=t.vars,o=i[n],s=kt,l=t._ctx,c,u,d;if(o)return c=i[n+"Params"],u=i.callbackScope||t,r&&Or.length&&Sl(),l&&(kt=l),d=c?o.apply(u,c):o.call(u),kt=s,d},Ns=function(t){return Rr(t),t.scrollTrigger&&t.scrollTrigger.kill(!!qt),t.progress()<1&&Nn(t,"onInterrupt"),t},no,t1=[],n1=function(t){if(t)if(t=!t.name&&t.default||t,vd()||t.headless){var n=t.name,r=jt(t),i=n&&!r&&t.init?function(){this._props=[]}:t,o={init:_s,render:Wd,add:Od,kill:AN,modifier:LN,rawVars:0},s={targetTest:0,get:0,getSetter:Ud,aliases:{},register:0};if(ro(),t!==i){if(kn[n])return;Cn(i,Cn(kl(t,o),s)),Qi(i.prototype,Qi(o,kl(t,s))),kn[i.prop=n]=i,t.targetTest&&(wl.push(i),Cd[n]=1),n=(n==="css"?"CSS":n.charAt(0).toUpperCase()+n.substr(1))+"Plugin"}Ab(n,i),t.register&&t.register(yn,i,gn)}else t1.push(t)},vt=255,Ms={aqua:[0,vt,vt],lime:[0,vt,0],silver:[192,192,192],black:[0,0,0],maroon:[128,0,0],teal:[0,128,128],blue:[0,0,vt],navy:[0,0,128],white:[vt,vt,vt],olive:[128,128,0],yellow:[vt,vt,0],orange:[vt,165,0],gray:[128,128,128],purple:[128,0,128],green:[0,128,0],red:[vt,0,0],pink:[vt,192,203],cyan:[0,vt,vt],transparent:[vt,vt,vt,0]},Fd=function(t,n,r){return t+=t<0?1:t>1?-1:0,(t*6<1?n+(r-n)*t*6:t<.5?r:t*3<2?n+(r-n)*(2/3-t)*6:n)*vt+.5|0},r1=function(t,n,r){var i=t?Sr(t)?[t>>16,t>>8&vt,t&vt]:0:Ms.black,o,s,l,c,u,d,f,p,h,g;if(!i){if(t.substr(-1)===","&&(t=t.substr(0,t.length-1)),Ms[t])i=Ms[t];else if(t.charAt(0)==="#"){if(t.length<6&&(o=t.charAt(1),s=t.charAt(2),l=t.charAt(3),t="#"+o+o+s+s+l+l+(t.length===5?t.charAt(4)+t.charAt(4):"")),t.length===9)return i=parseInt(t.substr(1,6),16),[i>>16,i>>8&vt,i&vt,parseInt(t.substr(7),16)/255];t=parseInt(t.substr(1),16),i=[t>>16,t>>8&vt,t&vt]}else if(t.substr(0,3)==="hsl"){if(i=g=t.match(xd),!n)c=+i[0]%360/360,u=+i[1]/100,d=+i[2]/100,s=d<=.5?d*(u+1):d+u-d*u,o=d*2-s,i.length>3&&(i[3]*=1),i[0]=Fd(c+1/3,o,s),i[1]=Fd(c,o,s),i[2]=Fd(c-1/3,o,s);else if(~t.indexOf("="))return i=t.match(jb),r&&i.length<4&&(i[3]=1),i}else i=t.match(xd)||Ms.transparent;i=i.map(Number)}return n&&!g&&(o=i[0]/vt,s=i[1]/vt,l=i[2]/vt,f=Math.max(o,s,l),p=Math.min(o,s,l),d=(f+p)/2,f===p?c=u=0:(h=f-p,u=d>.5?h/(2-f-p):h/(f+p),c=f===o?(s-l)/h+(s<l?6:0):f===s?(l-o)/h+2:(o-s)/h+4,c*=60),i[0]=~~(c+.5),i[1]=~~(u*100+.5),i[2]=~~(d*100+.5)),r&&i.length<4&&(i[3]=1),i},i1=function(t){var n=[],r=[],i=-1;return t.split(zr).forEach(function(o){var s=o.match(Ji)||[];n.push.apply(n,s),r.push(i+=s.length+1)}),n.c=r,n},o1=function(t,n,r){var i="",o=(t+i).match(zr),s=n?"hsla(":"rgba(",l=0,c,u,d,f;if(!o)return t;if(o=o.map(function(p){return(p=r1(p,n,1))&&s+(n?p[0]+","+p[1]+"%,"+p[2]+"%,"+p[3]:p.join(","))+")"}),r&&(d=i1(t),c=r.c,c.join(i)!==d.c.join(i)))for(u=t.replace(zr,"1").split(Ji),f=u.length-1;l<f;l++)i+=u[l]+(~c.indexOf(l)?o.shift()||s+"0,0,0,0)":(d.length?d:o.length?o:r).shift());if(!u)for(u=t.split(zr),f=u.length-1;l<f;l++)i+=u[l]+o[l];return i+u[f]},zr=(function(){var e="(?:\\b(?:(?:rgb|rgba|hsl|hsla)\\(.+?\\))|\\B#(?:[0-9a-f]{3,4}){1,2}\\b",t;for(t in Ms)e+="|"+t+"\\b";return new RegExp(e+")","gi")})(),bN=/hsl[a]?\(/,s1=function(t){var n=t.join(" "),r;if(zr.lastIndex=0,zr.test(n))return r=bN.test(n),t[1]=o1(t[1],r),t[0]=o1(t[0],r,i1(t[1])),!0},js,Mn=(function(){var e=Date.now,t=500,n=33,r=e(),i=r,o=1e3/240,s=o,l=[],c,u,d,f,p,h,g=function m(y){var C=e()-i,N=y===!0,j,w,b,S;if((C>t||C<0)&&(r+=C-n),i+=C,b=i-r,j=b-s,(j>0||N)&&(S=++f.frame,p=b-f.time*1e3,f.time=b=b/1e3,s+=j+(j>=o?4:o-j),w=1),N||(c=u(m)),w)for(h=0;h<l.length;h++)l[h](b,p,S,y)};return f={time:0,frame:0,tick:function(){g(!0)},deltaRatio:function(y){return p/(1e3/(y||60))},wake:function(){Ib&&(!wd&&vd()&&(cr=wd=window,Sd=cr.document||{},Sn.gsap=yn,(cr.gsapVersions||(cr.gsapVersions=[])).push(yn.version),Lb(xl||cr.GreenSockGlobals||!cr.gsap&&cr||{}),t1.forEach(n1)),d=typeof requestAnimationFrame<"u"&&requestAnimationFrame,c&&f.sleep(),u=d||function(y){return setTimeout(y,s-f.time*1e3+1|0)},js=1,g(2))},sleep:function(){(d?cancelAnimationFrame:clearTimeout)(c),js=0,u=_s},lagSmoothing:function(y,C){t=y||1/0,n=Math.min(C||33,t)},fps:function(y){o=1e3/(y||240),s=f.time*1e3+o},add:function(y,C,N){var j=C?function(w,b,S,M){y(w,b,S,M),f.remove(j)}:y;return f.remove(y),l[N?"unshift":"push"](j),ro(),j},remove:function(y,C){~(C=l.indexOf(y))&&l.splice(C,1)&&h>=C&&h--},_listeners:l},f})(),ro=function(){return!js&&Mn.wake()},at={},vN=/^[\d.\-M][\d.\-,\s]/,xN=/["']/g,_N=function(t){for(var n={},r=t.substr(1,t.length-3).split(":"),i=r[0],o=1,s=r.length,l,c,u;o<s;o++)c=r[o],l=o!==s-1?c.lastIndexOf(","):c.length,u=c.substr(0,l),n[i]=isNaN(u)?u.replace(xN,"").trim():+u,i=c.substr(l+1).trim();return n},wN=function(t){var n=t.indexOf("(")+1,r=t.indexOf(")"),i=t.indexOf("(",n);return t.substring(n,~i&&i<r?t.indexOf(")",r+1):r)},SN=function(t){var n=(t+"").split("("),r=at[n[0]];return r&&n.length>1&&r.config?r.config.apply(null,~t.indexOf("{")?[_N(n[1])]:wN(t).split(",").map(Bb)):at._CE&&vN.test(t)?at._CE("",t):r},a1=function(t){return function(n){return 1-t(1-n)}},l1=function e(t,n){for(var r=t._first,i;r;)r instanceof Xt?e(r,n):r.vars.yoyoEase&&(!r._yoyo||!r._repeat)&&r._yoyo!==n&&(r.timeline?e(r.timeline,n):(i=r._ease,r._ease=r._yEase,r._yEase=i,r._yoyo=n)),r=r._next},mi=function(t,n){return t&&(jt(t)?t:at[t]||SN(t))||n},gi=function(t,n,r,i){r===void 0&&(r=function(c){return 1-n(1-c)}),i===void 0&&(i=function(c){return c<.5?n(c*2)/2:1-n((1-c)*2)/2});var o={easeIn:n,easeOut:r,easeInOut:i},s;return mn(t,function(l){at[l]=Sn[l]=o,at[s=l.toLowerCase()]=r;for(var c in o)at[s+(c==="easeIn"?".in":c==="easeOut"?".out":".inOut")]=at[l+"."+c]=o[c]}),o},c1=function(t){return function(n){return n<.5?(1-t(1-n*2))/2:.5+t((n-.5)*2)/2}},$d=function e(t,n,r){var i=n>=1?n:1,o=(r||(t?.3:.45))/(n<1?n:1),s=o/yd*(Math.asin(1/i)||0),l=function(d){return d===1?1:i*Math.pow(2,-10*d)*JC((d-s)*o)+1},c=t==="out"?l:t==="in"?function(u){return 1-l(1-u)}:c1(l);return o=yd/o,c.config=function(u,d){return e(t,u,d)},c},Bd=function e(t,n){n===void 0&&(n=1.70158);var r=function(s){return s?--s*s*((n+1)*s+n)+1:0},i=t==="out"?r:t==="in"?function(o){return 1-r(1-o)}:c1(r);return i.config=function(o){return e(t,o)},i};mn("Linear,Quad,Cubic,Quart,Quint,Strong",function(e,t){var n=t<5?t+1:t;gi(e+",Power"+(n-1),t?function(r){return Math.pow(r,n)}:function(r){return r},function(r){return 1-Math.pow(1-r,n)},function(r){return r<.5?Math.pow(r*2,n)/2:1-Math.pow((1-r)*2,n)/2})}),at.Linear.easeNone=at.none=at.Linear.easeIn,gi("Elastic",$d("in"),$d("out"),$d()),(function(e,t){var n=1/t,r=2*n,i=2.5*n,o=function(l){return l<n?e*l*l:l<r?e*Math.pow(l-1.5/t,2)+.75:l<i?e*(l-=2.25/t)*l+.9375:e*Math.pow(l-2.625/t,2)+.984375};gi("Bounce",function(s){return 1-o(1-s)},o)})(7.5625,2.75),gi("Expo",function(e){return Math.pow(2,10*(e-1))*e+e*e*e*e*e*e*(1-e)}),gi("Circ",function(e){return-(Nb(1-e*e)-1)}),gi("Sine",function(e){return e===1?1:-XC(e*ZC)+1}),gi("Back",Bd("in"),Bd("out"),Bd()),at.SteppedEase=at.steps=Sn.SteppedEase={config:function(t,n){t===void 0&&(t=1);var r=1/t,i=t+(n?0:1),o=n?1:0,s=1-bt;return function(l){return((i*ks(0,s,l)|0)+o)*r}}},Xi.ease=at["quad.out"],mn("onComplete,onUpdate,onStart,onRepeat,onReverseComplete,onInterrupt",function(e){return jd+=e+","+e+"Params,"});var u1=function(t,n){this.id=qC++,t._gsap=this,this.target=t,this.harness=n,this.get=n?n.get:Fb,this.set=n?n.getSetter:Ud},Ts=(function(){function e(n){this.vars=n,this._delay=+n.delay||0,(this._repeat=n.repeat===1/0?-2:n.repeat||0)&&(this._rDelay=n.repeatDelay||0,this._yoyo=!!n.yoyo||!!n.yoyoEase),this._ts=1,to(this,+n.duration,1,1),this.data=n.data,kt&&(this._ctx=kt,kt.data.push(this)),js||Mn.wake()}var t=e.prototype;return t.delay=function(r){return r||r===0?(this.parent&&this.parent.smoothChildTiming&&this.startTime(this._start+r-this._delay),this._delay=r,this):this._delay},t.duration=function(r){return arguments.length?this.totalDuration(this._repeat>0?r+(r+this._rDelay)*this._repeat:r):this.totalDuration()&&this._dur},t.totalDuration=function(r){return arguments.length?(this._dirty=0,to(this,this._repeat<0?r:(r-this._repeat*this._rDelay)/(this._repeat+1))):this._tDur},t.totalTime=function(r,i){if(ro(),!arguments.length)return this._tTime;var o=this._dp;if(o&&o.smoothChildTiming&&this._ts){for(jl(this,r),!o._dp||o.parent||Ub(o,this);o&&o.parent;)o.parent._time!==o._start+(o._ts>=0?o._tTime/o._ts:(o.totalDuration()-o._tTime)/-o._ts)&&o.totalTime(o._tTime,!0),o=o.parent;!this.parent&&this._dp.autoRemoveChildren&&(this._ts>0&&r<this._tDur||this._ts<0&&r>0||!this._tDur&&!r)&&ur(this._dp,this,this._start-this._delay)}return(this._tTime!==r||!this._dur&&!i||this._initted&&Math.abs(this._zTime)===bt||!r&&!this._initted&&(this.add||this._ptLookup))&&(this._ts||(this._pTime=r),$b(this,r,i)),this},t.time=function(r,i){return arguments.length?this.totalTime(Math.min(this.totalDuration(),r+zb(this))%(this._dur+this._rDelay)||(r?this._dur:0),i):this._time},t.totalProgress=function(r,i){return arguments.length?this.totalTime(this.totalDuration()*r,i):this.totalDuration()?Math.min(1,this._tTime/this._tDur):this.rawTime()>=0&&this._initted?1:0},t.progress=function(r,i){return arguments.length?this.totalTime(this.duration()*(this._yoyo&&!(this.iteration()&1)?1-r:r)+zb(this),i):this.duration()?Math.min(1,this._time/this._dur):this.rawTime()>0?1:0},t.iteration=function(r,i){var o=this.duration()+this._rDelay;return arguments.length?this.totalTime(this._time+(r-1)*o,i):this._repeat?eo(this._tTime,o)+1:1},t.timeScale=function(r,i){if(!arguments.length)return this._rts===-bt?0:this._rts;if(this._rts===r)return this;var o=this.parent&&this._ts?Nl(this.parent._time,this):this._tTime;return this._rts=+r||0,this._ts=this._ps||r===-bt?0:this._rts,this.totalTime(ks(-Math.abs(this._delay),this.totalDuration(),o),i!==!1),Ml(this),iN(this)},t.paused=function(r){return arguments.length?(this._ps!==r&&(this._ps=r,r?(this._pTime=this._tTime||Math.max(-this._delay,this.rawTime()),this._ts=this._act=0):(ro(),this._ts=this._rts,this.totalTime(this.parent&&!this.parent.smoothChildTiming?this.rawTime():this._tTime||this._pTime,this.progress()===1&&Math.abs(this._zTime)!==bt&&(this._tTime-=bt)))),this):this._ps},t.startTime=function(r){if(arguments.length){this._start=r;var i=this.parent||this._dp;return i&&(i._sort||!this.parent)&&ur(i,this,r-this._delay),this}return this._start},t.endTime=function(r){return this._start+(pn(r)?this.totalDuration():this.duration())/Math.abs(this._ts||1)},t.rawTime=function(r){var i=this.parent||this._dp;return i?r&&(!this._ts||this._repeat&&this._time&&this.totalProgress()<1)?this._tTime%(this._dur+this._rDelay):this._ts?Nl(i.rawTime(r),this):this._tTime:this._tTime},t.revert=function(r){r===void 0&&(r=eN);var i=qt;return qt=r,Dd(this)&&(this.timeline&&this.timeline.revert(r),this.totalTime(-.01,r.suppressEvents)),this.data!=="nested"&&r.kill!==!1&&this.kill(),qt=i,this},t.globalTime=function(r){for(var i=this,o=arguments.length?r:i.rawTime();i;)o=i._start+o/(Math.abs(i._ts)||1),i=i._dp;return!this.parent&&this._sat?this._sat.globalTime(r):o},t.repeat=function(r){return arguments.length?(this._repeat=r===1/0?-2:r,Yb(this)):this._repeat===-2?1/0:this._repeat},t.repeatDelay=function(r){if(arguments.length){var i=this._time;return this._rDelay=r,Yb(this),i?this.time(i):this}return this._rDelay},t.yoyo=function(r){return arguments.length?(this._yoyo=r,this):this._yoyo},t.seek=function(r,i){return this.totalTime(Fn(this,r),pn(i))},t.restart=function(r,i){return this.play().totalTime(r?-this._delay:0,pn(i)),this._dur||(this._zTime=-bt),this},t.play=function(r,i){return r!=null&&this.seek(r,i),this.reversed(!1).paused(!1)},t.reverse=function(r,i){return r!=null&&this.seek(r||this.totalDuration(),i),this.reversed(!0).paused(!1)},t.pause=function(r,i){return r!=null&&this.seek(r,i),this.paused(!0)},t.resume=function(){return this.paused(!1)},t.reversed=function(r){return arguments.length?(!!r!==this.reversed()&&this.timeScale(-this._rts||(r?-bt:0)),this):this._rts<0},t.invalidate=function(){return this._initted=this._act=0,this._zTime=-bt,this},t.isActive=function(){var r=this.parent||this._dp,i=this._start,o;return!!(!r||this._ts&&this._initted&&r.isActive()&&(o=r.rawTime(!0))>=i&&o<this.endTime(!0)-bt)},t.eventCallback=function(r,i,o){var s=this.vars;return arguments.length>1?(i?(s[r]=i,o&&(s[r+"Params"]=o),r==="onUpdate"&&(this._onUpdate=i)):delete s[r],this):s[r]},t.then=function(r){var i=this;return new Promise(function(o){var s=jt(r)?r:Ob,l=function(){var u=i.then;i.then=null,jt(s)&&(s=s(i))&&(s.then||s===i)&&(i.then=u),o(s),i.then=u};i._initted&&i.totalProgress()===1&&i._ts>=0||!i._tTime&&i._ts<0?l():i._prom=l})},t.kill=function(){Ns(this)},e})();Cn(Ts.prototype,{_time:0,_start:0,_end:0,_tTime:0,_tDur:0,_dirty:0,_repeat:0,_yoyo:!1,parent:null,_initted:!1,_rDelay:0,_ts:1,_dp:0,ratio:0,_zTime:-bt,_prom:0,_ps:!1,_rts:1});var Xt=(function(e){Cb(t,e);function t(r,i){var o;return r===void 0&&(r={}),o=e.call(this,r)||this,o.labels={},o.smoothChildTiming=!!r.smoothChildTiming,o.autoRemoveChildren=!!r.autoRemoveChildren,o._sort=pn(r.sortChildren),Nt&&ur(r.parent||Nt,wr(o),i),r.reversed&&o.reverse(),r.paused&&o.paused(!0),r.scrollTrigger&&Wb(wr(o),r.scrollTrigger),o}var n=t.prototype;return n.to=function(i,o,s){return Ss(0,arguments,this),this},n.from=function(i,o,s){return Ss(1,arguments,this),this},n.fromTo=function(i,o,s,l){return Ss(2,arguments,this),this},n.set=function(i,o,s){return o.duration=0,o.parent=this,ws(o).repeatDelay||(o.repeat=0),o.immediateRender=!!o.immediateRender,new It(i,o,Fn(this,s),1),this},n.call=function(i,o,s){return ur(this,It.delayedCall(0,i,o),s)},n.staggerTo=function(i,o,s,l,c,u,d){return s.duration=o,s.stagger=s.stagger||l,s.onComplete=u,s.onCompleteParams=d,s.parent=this,new It(i,s,Fn(this,c)),this},n.staggerFrom=function(i,o,s,l,c,u,d){return s.runBackwards=1,ws(s).immediateRender=pn(s.immediateRender),this.staggerTo(i,o,s,l,c,u,d)},n.staggerFromTo=function(i,o,s,l,c,u,d,f){return l.startAt=s,ws(l).immediateRender=pn(l.immediateRender),this.staggerTo(i,o,l,c,u,d,f)},n.render=function(i,o,s){var l=this._time,c=this._dirty?this.totalDuration():this._tDur,u=this._dur,d=i<=0?0:Pt(i),f=this._zTime<0!=i<0&&(this._initted||!u),p,h,g,m,y,C,N,j,w,b,S,M;if(this!==Nt&&d>c&&i>=0&&(d=c),d!==this._tTime||s||f){if(l!==this._time&&u&&(d+=this._time-l,i+=this._time-l),p=d,w=this._start,j=this._ts,C=!j,f&&(u||(l=this._zTime),(i||!o)&&(this._zTime=i)),this._repeat){if(S=this._yoyo,y=u+this._rDelay,this._repeat<-1&&i<0)return this.totalTime(y*100+i,o,s);if(p=Pt(d%y),d===c?(m=this._repeat,p=u):(b=Pt(d/y),m=~~b,m&&m===b&&(p=u,m--),p>u&&(p=u)),b=eo(this._tTime,y),!l&&this._tTime&&b!==m&&this._tTime-b*y-this._dur<=0&&(b=m),S&&m&1&&(p=u-p,M=1),m!==b&&!this._lock){var x=S&&b&1,v=x===(S&&m&1);if(m<b&&(x=!x),l=x?0:d%u?u:d,this._lock=1,this.render(l||(M?0:Pt(m*y)),o,!u)._lock=0,this._tTime=d,!o&&this.parent&&Nn(this,"onRepeat"),this.vars.repeatRefresh&&!M&&(this.invalidate()._lock=1),l&&l!==this._time||C!==!this._ts||this.vars.onRepeat&&!this.parent&&!this._act)return this;if(u=this._dur,c=this._tDur,v&&(this._lock=2,l=x?u:-1e-4,this.render(l,!0),this.vars.repeatRefresh&&!M&&this.invalidate()),this._lock=0,!this._ts&&!C)return this;l1(this,M)}}if(this._hasPause&&!this._forcing&&this._lock<2&&(N=lN(this,Pt(l),Pt(p)),N&&(d-=p-(p=N._start))),this._tTime=d,this._time=p,this._act=!j,this._initted||(this._onUpdate=this.vars.onUpdate,this._initted=1,this._zTime=i,l=0),!l&&d&&!o&&!b&&(Nn(this,"onStart"),this._tTime!==d))return this;if(p>=l&&i>=0)for(h=this._first;h;){if(g=h._next,(h._act||p>=h._start)&&h._ts&&N!==h){if(h.parent!==this)return this.render(i,o,s);if(h.render(h._ts>0?(p-h._start)*h._ts:(h._dirty?h.totalDuration():h._tDur)+(p-h._start)*h._ts,o,s),p!==this._time||!this._ts&&!C){N=0,g&&(d+=this._zTime=-bt);break}}h=g}else{h=this._last;for(var _=i<0?i:p;h;){if(g=h._prev,(h._act||_<=h._end)&&h._ts&&N!==h){if(h.parent!==this)return this.render(i,o,s);if(h.render(h._ts>0?(_-h._start)*h._ts:(h._dirty?h.totalDuration():h._tDur)+(_-h._start)*h._ts,o,s||qt&&Dd(h)),p!==this._time||!this._ts&&!C){N=0,g&&(d+=this._zTime=_?-bt:bt);break}}h=g}}if(N&&!o&&(this.pause(),N.render(p>=l?0:-bt)._zTime=p>=l?1:-1,this._ts))return this._start=w,Ml(this),this.render(i,o,s);this._onUpdate&&!o&&Nn(this,"onUpdate",!0),(d===c&&this._tTime>=this.totalDuration()||!d&&l)&&(w===this._start||Math.abs(j)!==Math.abs(this._ts))&&(this._lock||((i||!u)&&(d===c&&this._ts>0||!d&&this._ts<0)&&Rr(this,1),!o&&!(i<0&&!l)&&(d||l||!c)&&(Nn(this,d===c&&i>=0?"onComplete":"onReverseComplete",!0),this._prom&&!(d<c&&this.timeScale()>0)&&this._prom())))}return this},n.add=function(i,o){var s=this;if(Sr(o)||(o=Fn(this,o,i)),!(i instanceof Ts)){if(Qt(i))return i.forEach(function(l){return s.add(l,o)}),this;if(Gt(i))return this.addLabel(i,o);if(jt(i))i=It.delayedCall(0,i);else return this}return this!==i?ur(this,i,o):this},n.getChildren=function(i,o,s,l){i===void 0&&(i=!0),o===void 0&&(o=!0),s===void 0&&(s=!0),l===void 0&&(l=-Pn);for(var c=[],u=this._first;u;)u._start>=l&&(u instanceof It?o&&c.push(u):(s&&c.push(u),i&&c.push.apply(c,u.getChildren(!0,o,s)))),u=u._next;return c},n.getById=function(i){for(var o=this.getChildren(1,1,1),s=o.length;s--;)if(o[s].vars.id===i)return o[s]},n.remove=function(i){return Gt(i)?this.removeLabel(i):jt(i)?this.killTweensOf(i):(i.parent===this&&Cl(this,i),i===this._recent&&(this._recent=this._last),pi(this))},n.totalTime=function(i,o){return arguments.length?(this._forcing=1,!this._dp&&this._ts&&(this._start=Pt(Mn.time-(this._ts>0?i/this._ts:(this.totalDuration()-i)/-this._ts))),e.prototype.totalTime.call(this,i,o),this._forcing=0,this):this._tTime},n.addLabel=function(i,o){return this.labels[i]=Fn(this,o),this},n.removeLabel=function(i){return delete this.labels[i],this},n.addPause=function(i,o,s){var l=It.delayedCall(0,o||_s,s);return l.data="isPause",this._hasPause=1,ur(this,l,Fn(this,i))},n.removePause=function(i){var o=this._first;for(i=Fn(this,i);o;)o._start===i&&o.data==="isPause"&&Rr(o),o=o._next},n.killTweensOf=function(i,o,s){for(var l=this.getTweensOf(i,s),c=l.length;c--;)Ur!==l[c]&&l[c].kill(i,o);return this},n.getTweensOf=function(i,o){for(var s=[],l=$n(i),c=this._first,u=Sr(o),d;c;)c instanceof It?tN(c._targets,l)&&(u?(!Ur||c._initted&&c._ts)&&c.globalTime(0)<=o&&c.globalTime(c.totalDuration())>o:!o||c.isActive())&&s.push(c):(d=c.getTweensOf(l,o)).length&&s.push.apply(s,d),c=c._next;return s},n.tweenTo=function(i,o){o=o||{};var s=this,l=Fn(s,i),c=o,u=c.startAt,d=c.onStart,f=c.onStartParams,p=c.immediateRender,h,g=It.to(s,Cn({ease:o.ease||"none",lazy:!1,immediateRender:!1,time:l,overwrite:"auto",duration:o.duration||Math.abs((l-(u&&"time"in u?u.time:s._time))/s.timeScale())||bt,onStart:function(){if(s.pause(),!h){var y=o.duration||Math.abs((l-(u&&"time"in u?u.time:s._time))/s.timeScale());g._dur!==y&&to(g,y,0,1).render(g._time,!0,!0),h=1}d&&d.apply(g,f||[])}},o));return p?g.render(0):g},n.tweenFromTo=function(i,o,s){return this.tweenTo(o,Cn({startAt:{time:Fn(this,i)}},s))},n.recent=function(){return this._recent},n.nextLabel=function(i){return i===void 0&&(i=this._time),e1(this,Fn(this,i))},n.previousLabel=function(i){return i===void 0&&(i=this._time),e1(this,Fn(this,i),1)},n.currentLabel=function(i){return arguments.length?this.seek(i,!0):this.previousLabel(this._time+bt)},n.shiftChildren=function(i,o,s){s===void 0&&(s=0);for(var l=this._first,c=this.labels,u;l;)l._start>=s&&(l._start+=i,l._end+=i),l=l._next;if(o)for(u in c)c[u]>=s&&(c[u]+=i);return pi(this)},n.invalidate=function(i){var o=this._first;for(this._lock=0;o;)o.invalidate(i),o=o._next;return e.prototype.invalidate.call(this,i)},n.clear=function(i){i===void 0&&(i=!0);for(var o=this._first,s;o;)s=o._next,this.remove(o),o=s;return this._dp&&(this._time=this._tTime=this._pTime=0),i&&(this.labels={}),pi(this)},n.totalDuration=function(i){var o=0,s=this,l=s._last,c=Pn,u,d,f;if(arguments.length)return s.timeScale((s._repeat<0?s.duration():s.totalDuration())/(s.reversed()?-i:i));if(s._dirty){for(f=s.parent;l;)u=l._prev,l._dirty&&l.totalDuration(),d=l._start,d>c&&s._sort&&l._ts&&!s._lock?(s._lock=1,ur(s,l,d-l._delay,1)._lock=0):c=d,d<0&&l._ts&&(o-=d,(!f&&!s._dp||f&&f.smoothChildTiming)&&(s._start+=d/s._ts,s._time-=d,s._tTime-=d),s.shiftChildren(-d,!1,-1/0),c=0),l._end>o&&l._ts&&(o=l._end),l=u;to(s,s===Nt&&s._time>o?s._time:o,1,1),s._dirty=0}return s._tDur},t.updateRoot=function(i){if(Nt._ts&&($b(Nt,Nl(i,Nt)),Eb=Mn.frame),Mn.frame>=Pb){Pb+=wn.autoSleep||120;var o=Nt._first;if((!o||!o._ts)&&wn.autoSleep&&Mn._listeners.length<2){for(;o&&!o._ts;)o=o._next;o||Mn.sleep()}}},t})(Ts);Cn(Xt.prototype,{_lock:0,_hasPause:0,_forcing:0});var kN=function(t,n,r,i,o,s,l){var c=new gn(this._pt,t,n,0,1,g1,null,o),u=0,d=0,f,p,h,g,m,y,C,N;for(c.b=r,c.e=i,r+="",i+="",(C=~i.indexOf("random("))&&(i=Cs(i)),s&&(N=[r,i],s(N,t,n),r=N[0],i=N[1]),p=r.match(_d)||[];f=_d.exec(i);)g=f[0],m=i.substring(u,f.index),h?h=(h+1)%5:m.substr(-5)==="rgba("&&(h=1),g!==p[d++]&&(y=parseFloat(p[d-1])||0,c._pt={_next:c._pt,p:m||d===1?m:",",s:y,c:g.charAt(1)==="="?Ki(y,g)-y:parseFloat(g)-y,m:h&&h<4?Math.round:0},u=_d.lastIndex);return c.c=u<i.length?i.substring(u,i.length):"",c.fp=l,(Tb.test(i)||C)&&(c.e=0),this._pt=c,c},Od=function(t,n,r,i,o,s,l,c,u,d){jt(i)&&(i=i(o||0,t,s));var f=t[n],p=r!=="get"?r:jt(f)?u?t[n.indexOf("set")||!jt(t["get"+n.substr(3)])?n:"get"+n.substr(3)](u):t[n]():f,h=jt(f)?u?TN:p1:zd,g;if(Gt(i)&&(~i.indexOf("random(")&&(i=Cs(i)),i.charAt(1)==="="&&(g=Ki(p,i)+(en(p)||0),(g||g===0)&&(i=g))),!d||p!==i||Rd)return!isNaN(p*i)&&i!==""?(g=new gn(this._pt,t,n,+p||0,i-(p||0),typeof f=="boolean"?IN:m1,0,h),u&&(g.fp=u),l&&g.modifier(l,this,t),this._pt=g):(!f&&!(n in t)&&kd(n,i),kN.call(this,t,n,p,i,h,c||wn.stringFilter,u))},CN=function(t,n,r,i,o){if(jt(t)&&(t=Ds(t,o,n,r,i)),!lr(t)||t.style&&t.nodeType||Qt(t)||Mb(t))return Gt(t)?Ds(t,o,n,r,i):t;var s={},l;for(l in t)s[l]=Ds(t[l],o,n,r,i);return s},d1=function(t,n,r,i,o,s){var l,c,u,d;if(kn[t]&&(l=new kn[t]).init(o,l.rawVars?n[t]:CN(n[t],i,o,s,r),r,i,s)!==!1&&(r._pt=c=new gn(r._pt,o,t,0,1,l.render,l,0,l.priority),r!==no))for(u=r._ptLookup[r._targets.indexOf(o)],d=l._props.length;d--;)u[l._props[d]]=c;return l},Ur,Rd,Hd=function e(t,n,r){var i=t.vars,o=i.ease,s=i.startAt,l=i.immediateRender,c=i.lazy,u=i.onUpdate,d=i.runBackwards,f=i.yoyoEase,p=i.keyframes,h=i.autoRevert,g=t._dur,m=t._startAt,y=t._targets,C=t.parent,N=C&&C.data==="nested"?C.vars.targets:y,j=t._overwrite==="auto"&&!gd,w=t.timeline,b,S,M,x,v,_,E,D,B,A,I,L,F;if(w&&(!p||!o)&&(o="none"),t._ease=mi(o,Xi.ease),t._yEase=f?a1(mi(f===!0?o:f,Xi.ease)):0,f&&t._yoyo&&!t._repeat&&(f=t._yEase,t._yEase=t._ease,t._ease=f),t._from=!w&&!!i.runBackwards,!w||p&&!i.stagger){if(D=y[0]?hi(y[0]).harness:0,L=D&&i[D.prop],b=kl(i,Cd),m&&(m._zTime<0&&m.progress(1),n<0&&d&&l&&!h?m.render(-1,!0):m.revert(d&&g?_l:QC),m._lazy=0),s){if(Rr(t._startAt=It.set(y,Cn({data:"isStart",overwrite:!1,parent:C,immediateRender:!0,lazy:!m&&pn(c),startAt:null,delay:0,onUpdate:u&&function(){return Nn(t,"onUpdate")},stagger:0},s))),t._startAt._dp=0,t._startAt._sat=t,n<0&&(qt||!l&&!h)&&t._startAt.revert(_l),l&&g&&n<=0&&r<=0){n&&(t._zTime=n);return}}else if(d&&g&&!m){if(n&&(l=!1),M=Cn({overwrite:!1,data:"isFromStart",lazy:l&&!m&&pn(c),immediateRender:l,stagger:0,parent:C},b),L&&(M[D.prop]=L),Rr(t._startAt=It.set(y,M)),t._startAt._dp=0,t._startAt._sat=t,n<0&&(qt?t._startAt.revert(_l):t._startAt.render(-1,!0)),t._zTime=n,!l)e(t._startAt,bt,bt);else if(!n)return}for(t._pt=t._ptCache=0,c=g&&pn(c)||c&&!g,S=0;S<y.length;S++){if(v=y[S],E=v._gsap||Td(y)[S]._gsap,t._ptLookup[S]=A={},Nd[E.id]&&Or.length&&Sl(),I=N===y?S:N.indexOf(v),D&&(B=new D).init(v,L||b,t,I,N)!==!1&&(t._pt=x=new gn(t._pt,v,B.name,0,1,B.render,B,0,B.priority),B._props.forEach(function(G){A[G]=x}),B.priority&&(_=1)),!D||L)for(M in b)kn[M]&&(B=d1(M,b,t,I,v,N))?B.priority&&(_=1):A[M]=x=Od.call(t,v,M,"get",b[M],I,N,0,i.stringFilter);t._op&&t._op[S]&&t.kill(v,t._op[S]),j&&t._pt&&(Ur=t,Nt.killTweensOf(v,A,t.globalTime(n)),F=!t.parent,Ur=0),t._pt&&c&&(Nd[E.id]=1)}_&&y1(t),t._onInit&&t._onInit(t)}t._onUpdate=u,t._initted=(!t._op||t._pt)&&!F,p&&n<=0&&w.render(Pn,!0,!0)},NN=function(t,n,r,i,o,s,l,c){var u=(t._pt&&t._ptCache||(t._ptCache={}))[n],d,f,p,h;if(!u)for(u=t._ptCache[n]=[],p=t._ptLookup,h=t._targets.length;h--;){if(d=p[h][n],d&&d.d&&d.d._pt)for(d=d.d._pt;d&&d.p!==n&&d.fp!==n;)d=d._next;if(!d)return Rd=1,t.vars[n]="+=0",Hd(t,l),Rd=0,c?xs(n+" not eligible for reset"):1;u.push(d)}for(h=u.length;h--;)f=u[h],d=f._pt||f,d.s=(i||i===0)&&!o?i:d.s+(i||0)+s*d.c,d.c=r-d.s,f.e&&(f.e=Dt(r)+en(f.e)),f.b&&(f.b=d.s+en(f.b))},MN=function(t,n){var r=t[0]?hi(t[0]).harness:0,i=r&&r.aliases,o,s,l,c;if(!i)return n;o=Qi({},n);for(s in i)if(s in o)for(c=i[s].split(","),l=c.length;l--;)o[c[l]]=o[s];return o},jN=function(t,n,r,i){var o=n.ease||i||"power1.inOut",s,l;if(Qt(n))l=r[t]||(r[t]=[]),n.forEach(function(c,u){return l.push({t:u/(n.length-1)*100,v:c,e:o})});else for(s in n)l=r[s]||(r[s]=[]),s==="ease"||l.push({t:parseFloat(t),v:n[s],e:o})},Ds=function(t,n,r,i,o){return jt(t)?t.call(n,r,i,o):Gt(t)&&~t.indexOf("random(")?Cs(t):t},f1=jd+"repeat,repeatDelay,yoyo,repeatRefresh,yoyoEase,autoRevert",h1={};mn(f1+",id,stagger,delay,duration,paused,scrollTrigger",function(e){return h1[e]=1});var It=(function(e){Cb(t,e);function t(r,i,o,s){var l;typeof i=="number"&&(o.duration=i,i=o,o=null),l=e.call(this,s?i:ws(i))||this;var c=l.vars,u=c.duration,d=c.delay,f=c.immediateRender,p=c.stagger,h=c.overwrite,g=c.keyframes,m=c.defaults,y=c.scrollTrigger,C=c.yoyoEase,N=i.parent||Nt,j=(Qt(r)||Mb(r)?Sr(r[0]):"length"in i)?[r]:$n(r),w,b,S,M,x,v,_,E;if(l._targets=j.length?Td(j):xs("GSAP target "+r+" not found. https://gsap.com",!wn.nullTargetWarn)||[],l._ptLookup=[],l._overwrite=h,g||p||vl(u)||vl(d)){if(i=l.vars,w=l.timeline=new Xt({data:"nested",defaults:m||{},targets:N&&N.data==="nested"?N.vars.targets:j}),w.kill(),w.parent=w._dp=wr(l),w._start=0,p||vl(u)||vl(d)){if(M=j.length,_=p&&qb(p),lr(p))for(x in p)~f1.indexOf(x)&&(E||(E={}),E[x]=p[x]);for(b=0;b<M;b++)S=kl(i,h1),S.stagger=0,C&&(S.yoyoEase=C),E&&Qi(S,E),v=j[b],S.duration=+Ds(u,wr(l),b,v,j),S.delay=(+Ds(d,wr(l),b,v,j)||0)-l._delay,!p&&M===1&&S.delay&&(l._delay=d=S.delay,l._start+=d,S.delay=0),w.to(v,S,_?_(b,v,j):0),w._ease=at.none;w.duration()?u=d=0:l.timeline=0}else if(g){ws(Cn(w.vars.defaults,{ease:"none"})),w._ease=mi(g.ease||i.ease||"none");var D=0,B,A,I;if(Qt(g))g.forEach(function(L){return w.to(j,L,">")}),w.duration();else{S={};for(x in g)x==="ease"||x==="easeEach"||jN(x,g[x],S,g.easeEach);for(x in S)for(B=S[x].sort(function(L,F){return L.t-F.t}),D=0,b=0;b<B.length;b++)A=B[b],I={ease:A.e,duration:(A.t-(b?B[b-1].t:0))/100*u},I[x]=A.v,w.to(j,I,D),D+=I.duration;w.duration()<u&&w.to({},{duration:u-w.duration()})}}u||l.duration(u=w.duration())}else l.timeline=0;return h===!0&&!gd&&(Ur=wr(l),Nt.killTweensOf(j),Ur=0),ur(N,wr(l),o),i.reversed&&l.reverse(),i.paused&&l.paused(!0),(f||!u&&!g&&l._start===Pt(N._time)&&pn(f)&&oN(wr(l))&&N.data!=="nested")&&(l._tTime=-bt,l.render(Math.max(0,-d)||0)),y&&Wb(wr(l),y),l}var n=t.prototype;return n.render=function(i,o,s){var l=this._time,c=this._tDur,u=this._dur,d=i<0,f=i>c-bt&&!d?c:i<bt?0:i,p,h,g,m,y,C,N,j,w;if(!u)aN(this,i,o,s);else if(f!==this._tTime||!i||s||!this._initted&&this._tTime||this._startAt&&this._zTime<0!==d||this._lazy){if(p=f,j=this.timeline,this._repeat){if(m=u+this._rDelay,this._repeat<-1&&d)return this.totalTime(m*100+i,o,s);if(p=Pt(f%m),f===c?(g=this._repeat,p=u):(y=Pt(f/m),g=~~y,g&&g===y?(p=u,g--):p>u&&(p=u)),C=this._yoyo&&g&1,C&&(w=this._yEase,p=u-p),y=eo(this._tTime,m),p===l&&!s&&this._initted&&g===y)return this._tTime=f,this;g!==y&&(j&&this._yEase&&l1(j,C),this.vars.repeatRefresh&&!C&&!this._lock&&p!==m&&this._initted&&(this._lock=s=1,this.render(Pt(m*g),!0).invalidate()._lock=0))}if(!this._initted){if(Gb(this,d?i:p,s,o,f))return this._tTime=0,this;if(l!==this._time&&!(s&&this.vars.repeatRefresh&&g!==y))return this;if(u!==this._dur)return this.render(i,o,s)}if(this._tTime=f,this._time=p,!this._act&&this._ts&&(this._act=1,this._lazy=0),this.ratio=N=(w||this._ease)(p/u),this._from&&(this.ratio=N=1-N),!l&&f&&!o&&!y&&(Nn(this,"onStart"),this._tTime!==f))return this;for(h=this._pt;h;)h.r(N,h.d),h=h._next;j&&j.render(i<0?i:j._dur*j._ease(p/this._dur),o,s)||this._startAt&&(this._zTime=i),this._onUpdate&&!o&&(d&&Id(this,i,o,s),Nn(this,"onUpdate")),this._repeat&&g!==y&&this.vars.onRepeat&&!o&&this.parent&&Nn(this,"onRepeat"),(f===this._tDur||!f)&&this._tTime===f&&(d&&!this._onUpdate&&Id(this,i,!0,!0),(i||!u)&&(f===this._tDur&&this._ts>0||!f&&this._ts<0)&&Rr(this,1),!o&&!(d&&!l)&&(f||l||C)&&(Nn(this,f===c?"onComplete":"onReverseComplete",!0),this._prom&&!(f<c&&this.timeScale()>0)&&this._prom()))}return this},n.targets=function(){return this._targets},n.invalidate=function(i){return(!i||!this.vars.runBackwards)&&(this._startAt=0),this._pt=this._op=this._onUpdate=this._lazy=this.ratio=0,this._ptLookup=[],this.timeline&&this.timeline.invalidate(i),e.prototype.invalidate.call(this,i)},n.resetTo=function(i,o,s,l,c){js||Mn.wake(),this._ts||this.play();var u=Math.min(this._dur,(this._dp._time-this._start)*this._ts),d;return this._initted||Hd(this,u),d=this._ease(u/this._dur),NN(this,i,o,s,l,d,u,c)?this.resetTo(i,o,s,l,1):(jl(this,0),this.parent||Hb(this._dp,this,"_first","_last",this._dp._sort?"_start":0),this.render(0))},n.kill=function(i,o){if(o===void 0&&(o="all"),!i&&(!o||o==="all"))return this._lazy=this._pt=0,this.parent?Ns(this):this.scrollTrigger&&this.scrollTrigger.kill(!!qt),this;if(this.timeline){var s=this.timeline.totalDuration();return this.timeline.killTweensOf(i,o,Ur&&Ur.vars.overwrite!==!0)._first||Ns(this),this.parent&&s!==this.timeline.totalDuration()&&to(this,this._dur*this.timeline._tDur/s,0,1),this}var l=this._targets,c=i?$n(i):l,u=this._ptLookup,d=this._pt,f,p,h,g,m,y,C;if((!o||o==="all")&&rN(l,c))return o==="all"&&(this._pt=0),Ns(this);for(f=this._op=this._op||[],o!=="all"&&(Gt(o)&&(m={},mn(o,function(N){return m[N]=1}),o=m),o=MN(l,o)),C=l.length;C--;)if(~c.indexOf(l[C])){p=u[C],o==="all"?(f[C]=o,g=p,h={}):(h=f[C]=f[C]||{},g=o);for(m in g)y=p&&p[m],y&&((!("kill"in y.d)||y.d.kill(m)===!0)&&Cl(this,y,"_pt"),delete p[m]),h!=="all"&&(h[m]=1)}return this._initted&&!this._pt&&d&&Ns(this),this},t.to=function(i,o){return new t(i,o,arguments[2])},t.from=function(i,o){return Ss(1,arguments)},t.delayedCall=function(i,o,s,l){return new t(o,0,{immediateRender:!1,lazy:!1,overwrite:!1,delay:i,onComplete:o,onReverseComplete:o,onCompleteParams:s,onReverseCompleteParams:s,callbackScope:l})},t.fromTo=function(i,o,s){return Ss(2,arguments)},t.set=function(i,o){return o.duration=0,o.repeatDelay||(o.repeat=0),new t(i,o)},t.killTweensOf=function(i,o,s){return Nt.killTweensOf(i,o,s)},t})(Ts);Cn(It.prototype,{_targets:[],_lazy:0,_startAt:0,_op:0,_onInit:0}),mn("staggerTo,staggerFrom,staggerFromTo",function(e){It[e]=function(){var t=new Xt,n=Ad.call(arguments,0);return n.splice(e==="staggerFromTo"?5:4,0,0),t[e].apply(t,n)}});var zd=function(t,n,r){return t[n]=r},p1=function(t,n,r){return t[n](r)},TN=function(t,n,r,i){return t[n](i.fp,r)},DN=function(t,n,r){return t.setAttribute(n,r)},Ud=function(t,n){return jt(t[n])?p1:bd(t[n])&&t.setAttribute?DN:zd},m1=function(t,n){return n.set(n.t,n.p,Math.round((n.s+n.c*t)*1e6)/1e6,n)},IN=function(t,n){return n.set(n.t,n.p,!!(n.s+n.c*t),n)},g1=function(t,n){var r=n._pt,i="";if(!t&&n.b)i=n.b;else if(t===1&&n.e)i=n.e;else{for(;r;)i=r.p+(r.m?r.m(r.s+r.c*t):Math.round((r.s+r.c*t)*1e4)/1e4)+i,r=r._next;i+=n.c}n.set(n.t,n.p,i,n)},Wd=function(t,n){for(var r=n._pt;r;)r.r(t,r.d),r=r._next},LN=function(t,n,r,i){for(var o=this._pt,s;o;)s=o._next,o.p===i&&o.modifier(t,n,r),o=s},AN=function(t){for(var n=this._pt,r,i;n;)i=n._next,n.p===t&&!n.op||n.op===t?Cl(this,n,"_pt"):n.dep||(r=1),n=i;return!r},EN=function(t,n,r,i){i.mSet(t,n,i.m.call(i.tween,r,i.mt),i)},y1=function(t){for(var n=t._pt,r,i,o,s;n;){for(r=n._next,i=o;i&&i.pr>n.pr;)i=i._next;(n._prev=i?i._prev:s)?n._prev._next=n:o=n,(n._next=i)?i._prev=n:s=n,n=r}t._pt=o},gn=(function(){function e(n,r,i,o,s,l,c,u,d){this.t=r,this.s=o,this.c=s,this.p=i,this.r=l||m1,this.d=c||this,this.set=u||zd,this.pr=d||0,this._next=n,n&&(n._prev=this)}var t=e.prototype;return t.modifier=function(r,i,o){this.mSet=this.mSet||this.set,this.set=EN,this.m=r,this.mt=o,this.tween=i},e})();mn(jd+"parent,duration,ease,delay,overwrite,runBackwards,startAt,yoyo,immediateRender,repeat,repeatDelay,data,paused,reversed,lazy,callbackScope,stringFilter,id,yoyoEase,stagger,inherit,repeatRefresh,keyframes,autoRevert,scrollTrigger",function(e){return Cd[e]=1}),Sn.TweenMax=Sn.TweenLite=It,Sn.TimelineLite=Sn.TimelineMax=Xt,Nt=new Xt({sortChildren:!1,defaults:Xi,autoRemoveChildren:!0,id:"root",smoothChildTiming:!0}),wn.stringFilter=s1;var yi=[],Tl={},PN=[],b1=0,FN=0,Gd=function(t){return(Tl[t]||PN).map(function(n){return n()})},Yd=function(){var t=Date.now(),n=[];t-b1>2&&(Gd("matchMediaInit"),yi.forEach(function(r){var i=r.queries,o=r.conditions,s,l,c,u;for(l in i)s=cr.matchMedia(i[l]).matches,s&&(c=1),s!==o[l]&&(o[l]=s,u=1);u&&(r.revert(),c&&n.push(r))}),Gd("matchMediaRevert"),n.forEach(function(r){return r.onMatch(r,function(i){return r.add(null,i)})}),b1=t,Gd("matchMedia"))},v1=(function(){function e(n,r){this.selector=r&&Ed(r),this.data=[],this._r=[],this.isReverted=!1,this.id=FN++,n&&this.add(n)}var t=e.prototype;return t.add=function(r,i,o){jt(r)&&(o=i,i=r,r=jt);var s=this,l=function(){var u=kt,d=s.selector,f;return u&&u!==s&&u.data.push(s),o&&(s.selector=Ed(o)),kt=s,f=i.apply(s,arguments),jt(f)&&s._r.push(f),kt=u,s.selector=d,s.isReverted=!1,f};return s.last=l,r===jt?l(s,function(c){return s.add(null,c)}):r?s[r]=l:l},t.ignore=function(r){var i=kt;kt=null,r(this),kt=i},t.getTweens=function(){var r=[];return this.data.forEach(function(i){return i instanceof e?r.push.apply(r,i.getTweens()):i instanceof It&&!(i.parent&&i.parent.data==="nested")&&r.push(i)}),r},t.clear=function(){this._r.length=this.data.length=0},t.kill=function(r,i){var o=this;if(r?(function(){for(var l=o.getTweens(),c=o.data.length,u;c--;)u=o.data[c],u.data==="isFlip"&&(u.revert(),u.getChildren(!0,!0,!1).forEach(function(d){return l.splice(l.indexOf(d),1)}));for(l.map(function(d){return{g:d._dur||d._delay||d._sat&&!d._sat.vars.immediateRender?d.globalTime(0):-1/0,t:d}}).sort(function(d,f){return f.g-d.g||-1/0}).forEach(function(d){return d.t.revert(r)}),c=o.data.length;c--;)u=o.data[c],u instanceof Xt?u.data!=="nested"&&(u.scrollTrigger&&u.scrollTrigger.revert(),u.kill()):!(u instanceof It)&&u.revert&&u.revert(r);o._r.forEach(function(d){return d(r,o)}),o.isReverted=!0})():this.data.forEach(function(l){return l.kill&&l.kill()}),this.clear(),i)for(var s=yi.length;s--;)yi[s].id===this.id&&yi.splice(s,1)},t.revert=function(r){this.kill(r||{})},e})(),$N=(function(){function e(n){this.contexts=[],this.scope=n,kt&&kt.data.push(this)}var t=e.prototype;return t.add=function(r,i,o){lr(r)||(r={matches:r});var s=new v1(0,o||this.scope),l=s.conditions={},c,u,d;kt&&!s.selector&&(s.selector=kt.selector),this.contexts.push(s),i=s.add("onMatch",i),s.queries=r;for(u in r)u==="all"?d=1:(c=cr.matchMedia(r[u]),c&&(yi.indexOf(s)<0&&yi.push(s),(l[u]=c.matches)&&(d=1),c.addListener?c.addListener(Yd):c.addEventListener("change",Yd)));return d&&i(s,function(f){return s.add(null,f)}),this},t.revert=function(r){this.kill(r||{})},t.kill=function(r){this.contexts.forEach(function(i){return i.kill(r,!0)})},e})(),Dl={registerPlugin:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];n.forEach(function(i){return n1(i)})},timeline:function(t){return new Xt(t)},getTweensOf:function(t,n){return Nt.getTweensOf(t,n)},getProperty:function(t,n,r,i){Gt(t)&&(t=$n(t)[0]);var o=hi(t||{}).get,s=r?Ob:Bb;return r==="native"&&(r=""),t&&(n?s((kn[n]&&kn[n].get||o)(t,n,r,i)):function(l,c,u){return s((kn[l]&&kn[l].get||o)(t,l,c,u))})},quickSetter:function(t,n,r){if(t=$n(t),t.length>1){var i=t.map(function(d){return yn.quickSetter(d,n,r)}),o=i.length;return function(d){for(var f=o;f--;)i[f](d)}}t=t[0]||{};var s=kn[n],l=hi(t),c=l.harness&&(l.harness.aliases||{})[n]||n,u=s?function(d){var f=new s;no._pt=0,f.init(t,r?d+r:d,no,0,[t]),f.render(1,f),no._pt&&Wd(1,no)}:l.set(t,c);return s?u:function(d){return u(t,c,r?d+r:d,l,1)}},quickTo:function(t,n,r){var i,o=yn.to(t,Cn((i={},i[n]="+=0.1",i.paused=!0,i.stagger=0,i),r||{})),s=function(c,u,d){return o.resetTo(n,c,u,d)};return s.tween=o,s},isTweening:function(t){return Nt.getTweensOf(t,!0).length>0},defaults:function(t){return t&&t.ease&&(t.ease=mi(t.ease,Xi.ease)),Rb(Xi,t||{})},config:function(t){return Rb(wn,t||{})},registerEffect:function(t){var n=t.name,r=t.effect,i=t.plugins,o=t.defaults,s=t.extendTimeline;(i||"").split(",").forEach(function(l){return l&&!kn[l]&&!Sn[l]&&xs(n+" effect requires "+l+" plugin.")}),Md[n]=function(l,c,u){return r($n(l),Cn(c||{},o),u)},s&&(Xt.prototype[n]=function(l,c,u){return this.add(Md[n](l,lr(c)?c:(u=c)&&{},this),u)})},registerEase:function(t,n){at[t]=mi(n)},parseEase:function(t,n){return arguments.length?mi(t,n):at},getById:function(t){return Nt.getById(t)},exportRoot:function(t,n){t===void 0&&(t={});var r=new Xt(t),i,o;for(r.smoothChildTiming=pn(t.smoothChildTiming),Nt.remove(r),r._dp=0,r._time=r._tTime=Nt._time,i=Nt._first;i;)o=i._next,(n||!(!i._dur&&i instanceof It&&i.vars.onComplete===i._targets[0]))&&ur(r,i,i._start-i._delay),i=o;return ur(Nt,r,0),r},context:function(t,n){return t?new v1(t,n):kt},matchMedia:function(t){return new $N(t)},matchMediaRefresh:function(){return yi.forEach(function(t){var n=t.conditions,r,i;for(i in n)n[i]&&(n[i]=!1,r=1);r&&t.revert()})||Yd()},addEventListener:function(t,n){var r=Tl[t]||(Tl[t]=[]);~r.indexOf(n)||r.push(n)},removeEventListener:function(t,n){var r=Tl[t],i=r&&r.indexOf(n);i>=0&&r.splice(i,1)},utils:{wrap:mN,wrapYoyo:gN,distribute:qb,random:Jb,snap:Xb,normalize:pN,getUnit:en,clamp:uN,splitColor:r1,toArray:$n,selector:Ed,mapRange:Qb,pipe:fN,unitize:hN,interpolate:yN,shuffle:Zb},install:Lb,effects:Md,ticker:Mn,updateRoot:Xt.updateRoot,plugins:kn,globalTimeline:Nt,core:{PropTween:gn,globals:Ab,Tween:It,Timeline:Xt,Animation:Ts,getCache:hi,_removeLinkedListItem:Cl,reverting:function(){return qt},context:function(t){return t&&kt&&(kt.data.push(t),t._ctx=kt),kt},suppressOverwrites:function(t){return gd=t}}};mn("to,from,fromTo,delayedCall,set,killTweensOf",function(e){return Dl[e]=It[e]}),Mn.add(Xt.updateRoot),no=Dl.to({},{duration:0});var BN=function(t,n){for(var r=t._pt;r&&r.p!==n&&r.op!==n&&r.fp!==n;)r=r._next;return r},ON=function(t,n){var r=t._targets,i,o,s;for(i in n)for(o=r.length;o--;)s=t._ptLookup[o][i],s&&(s=s.d)&&(s._pt&&(s=BN(s,i)),s&&s.modifier&&s.modifier(n[i],t,r[o],i))},Vd=function(t,n){return{name:t,headless:1,rawVars:1,init:function(i,o,s){s._onInit=function(l){var c,u;if(Gt(o)&&(c={},mn(o,function(d){return c[d]=1}),o=c),n){c={};for(u in o)c[u]=n(o[u]);o=c}ON(l,o)}}}},yn=Dl.registerPlugin({name:"attr",init:function(t,n,r,i,o){var s,l,c;this.tween=r;for(s in n)c=t.getAttribute(s)||"",l=this.add(t,"setAttribute",(c||0)+"",n[s],i,o,0,0,s),l.op=s,l.b=c,this._props.push(s)},render:function(t,n){for(var r=n._pt;r;)qt?r.set(r.t,r.p,r.b,r):r.r(t,r.d),r=r._next}},{name:"endArray",headless:1,init:function(t,n){for(var r=n.length;r--;)this.add(t,r,t[r]||0,n[r],0,0,0,0,0,1)}},Vd("roundProps",Pd),Vd("modifiers"),Vd("snap",Xb))||Dl;It.version=Xt.version=yn.version="3.13.0",Ib=1,vd()&&ro();var RN=at.Power0,HN=at.Power1,zN=at.Power2,UN=at.Power3,WN=at.Power4,GN=at.Linear,YN=at.Quad,VN=at.Cubic,ZN=at.Quart,qN=at.Quint,XN=at.Strong,JN=at.Elastic,KN=at.Back,QN=at.SteppedEase,eM=at.Bounce,tM=at.Sine,nM=at.Expo,rM=at.Circ;/*!
 * CSSPlugin 3.13.0
 * https://gsap.com
 *
 * Copyright 2008-2025, GreenSock. All rights reserved.
 * Subject to the terms at https://gsap.com/standard-license
 * @author: Jack Doyle, jack@greensock.com
*/var x1,Wr,io,Zd,bi,_1,qd,iM=function(){return typeof window<"u"},kr={},vi=180/Math.PI,oo=Math.PI/180,so=Math.atan2,w1=1e8,Xd=/([A-Z])/g,oM=/(left|right|width|margin|padding|x)/i,sM=/[\s,\(]\S/,dr={autoAlpha:"opacity,visibility",scale:"scaleX,scaleY",alpha:"opacity"},Jd=function(t,n){return n.set(n.t,n.p,Math.round((n.s+n.c*t)*1e4)/1e4+n.u,n)},aM=function(t,n){return n.set(n.t,n.p,t===1?n.e:Math.round((n.s+n.c*t)*1e4)/1e4+n.u,n)},lM=function(t,n){return n.set(n.t,n.p,t?Math.round((n.s+n.c*t)*1e4)/1e4+n.u:n.b,n)},cM=function(t,n){var r=n.s+n.c*t;n.set(n.t,n.p,~~(r+(r<0?-.5:.5))+n.u,n)},S1=function(t,n){return n.set(n.t,n.p,t?n.e:n.b,n)},k1=function(t,n){return n.set(n.t,n.p,t!==1?n.b:n.e,n)},uM=function(t,n,r){return t.style[n]=r},dM=function(t,n,r){return t.style.setProperty(n,r)},fM=function(t,n,r){return t._gsap[n]=r},hM=function(t,n,r){return t._gsap.scaleX=t._gsap.scaleY=r},pM=function(t,n,r,i,o){var s=t._gsap;s.scaleX=s.scaleY=r,s.renderTransform(o,s)},mM=function(t,n,r,i,o){var s=t._gsap;s[n]=r,s.renderTransform(o,s)},Mt="transform",bn=Mt+"Origin",gM=function e(t,n){var r=this,i=this.target,o=i.style,s=i._gsap;if(t in kr&&o){if(this.tfm=this.tfm||{},t!=="transform")t=dr[t]||t,~t.indexOf(",")?t.split(",").forEach(function(l){return r.tfm[l]=Cr(i,l)}):this.tfm[t]=s.x?s[t]:Cr(i,t),t===bn&&(this.tfm.zOrigin=s.zOrigin);else return dr.transform.split(",").forEach(function(l){return e.call(r,l,n)});if(this.props.indexOf(Mt)>=0)return;s.svg&&(this.svgo=i.getAttribute("data-svg-origin"),this.props.push(bn,n,"")),t=Mt}(o||n)&&this.props.push(t,n,o[t])},C1=function(t){t.translate&&(t.removeProperty("translate"),t.removeProperty("scale"),t.removeProperty("rotate"))},yM=function(){var t=this.props,n=this.target,r=n.style,i=n._gsap,o,s;for(o=0;o<t.length;o+=3)t[o+1]?t[o+1]===2?n[t[o]](t[o+2]):n[t[o]]=t[o+2]:t[o+2]?r[t[o]]=t[o+2]:r.removeProperty(t[o].substr(0,2)==="--"?t[o]:t[o].replace(Xd,"-$1").toLowerCase());if(this.tfm){for(s in this.tfm)i[s]=this.tfm[s];i.svg&&(i.renderTransform(),n.setAttribute("data-svg-origin",this.svgo||"")),o=qd(),(!o||!o.isStart)&&!r[Mt]&&(C1(r),i.zOrigin&&r[bn]&&(r[bn]+=" "+i.zOrigin+"px",i.zOrigin=0,i.renderTransform()),i.uncache=1)}},N1=function(t,n){var r={target:t,props:[],revert:yM,save:gM};return t._gsap||yn.core.getCache(t),n&&t.style&&t.nodeType&&n.split(",").forEach(function(i){return r.save(i)}),r},M1,Kd=function(t,n){var r=Wr.createElementNS?Wr.createElementNS((n||"http://www.w3.org/1999/xhtml").replace(/^https/,"http"),t):Wr.createElement(t);return r&&r.style?r:Wr.createElement(t)},Bn=function e(t,n,r){var i=getComputedStyle(t);return i[n]||i.getPropertyValue(n.replace(Xd,"-$1").toLowerCase())||i.getPropertyValue(n)||!r&&e(t,ao(n)||n,1)||""},j1="O,Moz,ms,Ms,Webkit".split(","),ao=function(t,n,r){var i=n||bi,o=i.style,s=5;if(t in o&&!r)return t;for(t=t.charAt(0).toUpperCase()+t.substr(1);s--&&!(j1[s]+t in o););return s<0?null:(s===3?"ms":s>=0?j1[s]:"")+t},Qd=function(){iM()&&window.document&&(x1=window,Wr=x1.document,io=Wr.documentElement,bi=Kd("div")||{style:{}},Kd("div"),Mt=ao(Mt),bn=Mt+"Origin",bi.style.cssText="border-width:0;line-height:0;position:absolute;padding:0",M1=!!ao("perspective"),qd=yn.core.reverting,Zd=1)},T1=function(t){var n=t.ownerSVGElement,r=Kd("svg",n&&n.getAttribute("xmlns")||"http://www.w3.org/2000/svg"),i=t.cloneNode(!0),o;i.style.display="block",r.appendChild(i),io.appendChild(r);try{o=i.getBBox()}catch{}return r.removeChild(i),io.removeChild(r),o},D1=function(t,n){for(var r=n.length;r--;)if(t.hasAttribute(n[r]))return t.getAttribute(n[r])},I1=function(t){var n,r;try{n=t.getBBox()}catch{n=T1(t),r=1}return n&&(n.width||n.height)||r||(n=T1(t)),n&&!n.width&&!n.x&&!n.y?{x:+D1(t,["x","cx","x1"])||0,y:+D1(t,["y","cy","y1"])||0,width:0,height:0}:n},L1=function(t){return!!(t.getCTM&&(!t.parentNode||t.ownerSVGElement)&&I1(t))},xi=function(t,n){if(n){var r=t.style,i;n in kr&&n!==bn&&(n=Mt),r.removeProperty?(i=n.substr(0,2),(i==="ms"||n.substr(0,6)==="webkit")&&(n="-"+n),r.removeProperty(i==="--"?n:n.replace(Xd,"-$1").toLowerCase())):r.removeAttribute(n)}},Gr=function(t,n,r,i,o,s){var l=new gn(t._pt,n,r,0,1,s?k1:S1);return t._pt=l,l.b=i,l.e=o,t._props.push(r),l},A1={deg:1,rad:1,turn:1},bM={grid:1,flex:1},Yr=function e(t,n,r,i){var o=parseFloat(r)||0,s=(r+"").trim().substr((o+"").length)||"px",l=bi.style,c=oM.test(n),u=t.tagName.toLowerCase()==="svg",d=(u?"client":"offset")+(c?"Width":"Height"),f=100,p=i==="px",h=i==="%",g,m,y,C;if(i===s||!o||A1[i]||A1[s])return o;if(s!=="px"&&!p&&(o=e(t,n,r,"px")),C=t.getCTM&&L1(t),(h||s==="%")&&(kr[n]||~n.indexOf("adius")))return g=C?t.getBBox()[c?"width":"height"]:t[d],Dt(h?o/g*f:o/100*g);if(l[c?"width":"height"]=f+(p?s:i),m=i!=="rem"&&~n.indexOf("adius")||i==="em"&&t.appendChild&&!u?t:t.parentNode,C&&(m=(t.ownerSVGElement||{}).parentNode),(!m||m===Wr||!m.appendChild)&&(m=Wr.body),y=m._gsap,y&&h&&y.width&&c&&y.time===Mn.time&&!y.uncache)return Dt(o/y.width*f);if(h&&(n==="height"||n==="width")){var N=t.style[n];t.style[n]=f+i,g=t[d],N?t.style[n]=N:xi(t,n)}else(h||s==="%")&&!bM[Bn(m,"display")]&&(l.position=Bn(t,"position")),m===t&&(l.position="static"),m.appendChild(bi),g=bi[d],m.removeChild(bi),l.position="absolute";return c&&h&&(y=hi(m),y.time=Mn.time,y.width=m[d]),Dt(p?g*o/f:g&&o?f/g*o:0)},Cr=function(t,n,r,i){var o;return Zd||Qd(),n in dr&&n!=="transform"&&(n=dr[n],~n.indexOf(",")&&(n=n.split(",")[0])),kr[n]&&n!=="transform"?(o=Ls(t,i),o=n!=="transformOrigin"?o[n]:o.svg?o.origin:Ll(Bn(t,bn))+" "+o.zOrigin+"px"):(o=t.style[n],(!o||o==="auto"||i||~(o+"").indexOf("calc("))&&(o=Il[n]&&Il[n](t,n,r)||Bn(t,n)||Fb(t,n)||(n==="opacity"?1:0))),r&&!~(o+"").trim().indexOf(" ")?Yr(t,n,o,r)+r:o},vM=function(t,n,r,i){if(!r||r==="none"){var o=ao(n,t,1),s=o&&Bn(t,o,1);s&&s!==r?(n=o,r=s):n==="borderColor"&&(r=Bn(t,"borderTopColor"))}var l=new gn(this._pt,t.style,n,0,1,g1),c=0,u=0,d,f,p,h,g,m,y,C,N,j,w,b;if(l.b=r,l.e=i,r+="",i+="",i.substring(0,6)==="var(--"&&(i=Bn(t,i.substring(4,i.indexOf(")")))),i==="auto"&&(m=t.style[n],t.style[n]=i,i=Bn(t,n)||i,m?t.style[n]=m:xi(t,n)),d=[r,i],s1(d),r=d[0],i=d[1],p=r.match(Ji)||[],b=i.match(Ji)||[],b.length){for(;f=Ji.exec(i);)y=f[0],N=i.substring(c,f.index),g?g=(g+1)%5:(N.substr(-5)==="rgba("||N.substr(-5)==="hsla(")&&(g=1),y!==(m=p[u++]||"")&&(h=parseFloat(m)||0,w=m.substr((h+"").length),y.charAt(1)==="="&&(y=Ki(h,y)+w),C=parseFloat(y),j=y.substr((C+"").length),c=Ji.lastIndex-j.length,j||(j=j||wn.units[n]||w,c===i.length&&(i+=j,l.e+=j)),w!==j&&(h=Yr(t,n,m,j)||0),l._pt={_next:l._pt,p:N||u===1?N:",",s:h,c:C-h,m:g&&g<4||n==="zIndex"?Math.round:0});l.c=c<i.length?i.substring(c,i.length):""}else l.r=n==="display"&&i==="none"?k1:S1;return Tb.test(i)&&(l.e=0),this._pt=l,l},E1={top:"0%",bottom:"100%",left:"0%",right:"100%",center:"50%"},xM=function(t){var n=t.split(" "),r=n[0],i=n[1]||"50%";return(r==="top"||r==="bottom"||i==="left"||i==="right")&&(t=r,r=i,i=t),n[0]=E1[r]||r,n[1]=E1[i]||i,n.join(" ")},_M=function(t,n){if(n.tween&&n.tween._time===n.tween._dur){var r=n.t,i=r.style,o=n.u,s=r._gsap,l,c,u;if(o==="all"||o===!0)i.cssText="",c=1;else for(o=o.split(","),u=o.length;--u>-1;)l=o[u],kr[l]&&(c=1,l=l==="transformOrigin"?bn:Mt),xi(r,l);c&&(xi(r,Mt),s&&(s.svg&&r.removeAttribute("transform"),i.scale=i.rotate=i.translate="none",Ls(r,1),s.uncache=1,C1(i)))}},Il={clearProps:function(t,n,r,i,o){if(o.data!=="isFromStart"){var s=t._pt=new gn(t._pt,n,r,0,0,_M);return s.u=i,s.pr=-10,s.tween=o,t._props.push(r),1}}},Is=[1,0,0,1,0,0],P1={},F1=function(t){return t==="matrix(1, 0, 0, 1, 0, 0)"||t==="none"||!t},$1=function(t){var n=Bn(t,Mt);return F1(n)?Is:n.substr(7).match(jb).map(Dt)},ef=function(t,n){var r=t._gsap||hi(t),i=t.style,o=$1(t),s,l,c,u;return r.svg&&t.getAttribute("transform")?(c=t.transform.baseVal.consolidate().matrix,o=[c.a,c.b,c.c,c.d,c.e,c.f],o.join(",")==="1,0,0,1,0,0"?Is:o):(o===Is&&!t.offsetParent&&t!==io&&!r.svg&&(c=i.display,i.display="block",s=t.parentNode,(!s||!t.offsetParent&&!t.getBoundingClientRect().width)&&(u=1,l=t.nextElementSibling,io.appendChild(t)),o=$1(t),c?i.display=c:xi(t,"display"),u&&(l?s.insertBefore(t,l):s?s.appendChild(t):io.removeChild(t))),n&&o.length>6?[o[0],o[1],o[4],o[5],o[12],o[13]]:o)},tf=function(t,n,r,i,o,s){var l=t._gsap,c=o||ef(t,!0),u=l.xOrigin||0,d=l.yOrigin||0,f=l.xOffset||0,p=l.yOffset||0,h=c[0],g=c[1],m=c[2],y=c[3],C=c[4],N=c[5],j=n.split(" "),w=parseFloat(j[0])||0,b=parseFloat(j[1])||0,S,M,x,v;r?c!==Is&&(M=h*y-g*m)&&(x=w*(y/M)+b*(-m/M)+(m*N-y*C)/M,v=w*(-g/M)+b*(h/M)-(h*N-g*C)/M,w=x,b=v):(S=I1(t),w=S.x+(~j[0].indexOf("%")?w/100*S.width:w),b=S.y+(~(j[1]||j[0]).indexOf("%")?b/100*S.height:b)),i||i!==!1&&l.smooth?(C=w-u,N=b-d,l.xOffset=f+(C*h+N*m)-C,l.yOffset=p+(C*g+N*y)-N):l.xOffset=l.yOffset=0,l.xOrigin=w,l.yOrigin=b,l.smooth=!!i,l.origin=n,l.originIsAbsolute=!!r,t.style[bn]="0px 0px",s&&(Gr(s,l,"xOrigin",u,w),Gr(s,l,"yOrigin",d,b),Gr(s,l,"xOffset",f,l.xOffset),Gr(s,l,"yOffset",p,l.yOffset)),t.setAttribute("data-svg-origin",w+" "+b)},Ls=function(t,n){var r=t._gsap||new u1(t);if("x"in r&&!n&&!r.uncache)return r;var i=t.style,o=r.scaleX<0,s="px",l="deg",c=getComputedStyle(t),u=Bn(t,bn)||"0",d,f,p,h,g,m,y,C,N,j,w,b,S,M,x,v,_,E,D,B,A,I,L,F,G,ee,T,X,O,$,V,Y;return d=f=p=m=y=C=N=j=w=0,h=g=1,r.svg=!!(t.getCTM&&L1(t)),c.translate&&((c.translate!=="none"||c.scale!=="none"||c.rotate!=="none")&&(i[Mt]=(c.translate!=="none"?"translate3d("+(c.translate+" 0 0").split(" ").slice(0,3).join(", ")+") ":"")+(c.rotate!=="none"?"rotate("+c.rotate+") ":"")+(c.scale!=="none"?"scale("+c.scale.split(" ").join(",")+") ":"")+(c[Mt]!=="none"?c[Mt]:"")),i.scale=i.rotate=i.translate="none"),M=ef(t,r.svg),r.svg&&(r.uncache?(G=t.getBBox(),u=r.xOrigin-G.x+"px "+(r.yOrigin-G.y)+"px",F=""):F=!n&&t.getAttribute("data-svg-origin"),tf(t,F||u,!!F||r.originIsAbsolute,r.smooth!==!1,M)),b=r.xOrigin||0,S=r.yOrigin||0,M!==Is&&(E=M[0],D=M[1],B=M[2],A=M[3],d=I=M[4],f=L=M[5],M.length===6?(h=Math.sqrt(E*E+D*D),g=Math.sqrt(A*A+B*B),m=E||D?so(D,E)*vi:0,N=B||A?so(B,A)*vi+m:0,N&&(g*=Math.abs(Math.cos(N*oo))),r.svg&&(d-=b-(b*E+S*B),f-=S-(b*D+S*A))):(Y=M[6],$=M[7],T=M[8],X=M[9],O=M[10],V=M[11],d=M[12],f=M[13],p=M[14],x=so(Y,O),y=x*vi,x&&(v=Math.cos(-x),_=Math.sin(-x),F=I*v+T*_,G=L*v+X*_,ee=Y*v+O*_,T=I*-_+T*v,X=L*-_+X*v,O=Y*-_+O*v,V=$*-_+V*v,I=F,L=G,Y=ee),x=so(-B,O),C=x*vi,x&&(v=Math.cos(-x),_=Math.sin(-x),F=E*v-T*_,G=D*v-X*_,ee=B*v-O*_,V=A*_+V*v,E=F,D=G,B=ee),x=so(D,E),m=x*vi,x&&(v=Math.cos(x),_=Math.sin(x),F=E*v+D*_,G=I*v+L*_,D=D*v-E*_,L=L*v-I*_,E=F,I=G),y&&Math.abs(y)+Math.abs(m)>359.9&&(y=m=0,C=180-C),h=Dt(Math.sqrt(E*E+D*D+B*B)),g=Dt(Math.sqrt(L*L+Y*Y)),x=so(I,L),N=Math.abs(x)>2e-4?x*vi:0,w=V?1/(V<0?-V:V):0),r.svg&&(F=t.getAttribute("transform"),r.forceCSS=t.setAttribute("transform","")||!F1(Bn(t,Mt)),F&&t.setAttribute("transform",F))),Math.abs(N)>90&&Math.abs(N)<270&&(o?(h*=-1,N+=m<=0?180:-180,m+=m<=0?180:-180):(g*=-1,N+=N<=0?180:-180)),n=n||r.uncache,r.x=d-((r.xPercent=d&&(!n&&r.xPercent||(Math.round(t.offsetWidth/2)===Math.round(-d)?-50:0)))?t.offsetWidth*r.xPercent/100:0)+s,r.y=f-((r.yPercent=f&&(!n&&r.yPercent||(Math.round(t.offsetHeight/2)===Math.round(-f)?-50:0)))?t.offsetHeight*r.yPercent/100:0)+s,r.z=p+s,r.scaleX=Dt(h),r.scaleY=Dt(g),r.rotation=Dt(m)+l,r.rotationX=Dt(y)+l,r.rotationY=Dt(C)+l,r.skewX=N+l,r.skewY=j+l,r.transformPerspective=w+s,(r.zOrigin=parseFloat(u.split(" ")[2])||!n&&r.zOrigin||0)&&(i[bn]=Ll(u)),r.xOffset=r.yOffset=0,r.force3D=wn.force3D,r.renderTransform=r.svg?SM:M1?B1:wM,r.uncache=0,r},Ll=function(t){return(t=t.split(" "))[0]+" "+t[1]},nf=function(t,n,r){var i=en(n);return Dt(parseFloat(n)+parseFloat(Yr(t,"x",r+"px",i)))+i},wM=function(t,n){n.z="0px",n.rotationY=n.rotationX="0deg",n.force3D=0,B1(t,n)},_i="0deg",As="0px",wi=") ",B1=function(t,n){var r=n||this,i=r.xPercent,o=r.yPercent,s=r.x,l=r.y,c=r.z,u=r.rotation,d=r.rotationY,f=r.rotationX,p=r.skewX,h=r.skewY,g=r.scaleX,m=r.scaleY,y=r.transformPerspective,C=r.force3D,N=r.target,j=r.zOrigin,w="",b=C==="auto"&&t&&t!==1||C===!0;if(j&&(f!==_i||d!==_i)){var S=parseFloat(d)*oo,M=Math.sin(S),x=Math.cos(S),v;S=parseFloat(f)*oo,v=Math.cos(S),s=nf(N,s,M*v*-j),l=nf(N,l,-Math.sin(S)*-j),c=nf(N,c,x*v*-j+j)}y!==As&&(w+="perspective("+y+wi),(i||o)&&(w+="translate("+i+"%, "+o+"%) "),(b||s!==As||l!==As||c!==As)&&(w+=c!==As||b?"translate3d("+s+", "+l+", "+c+") ":"translate("+s+", "+l+wi),u!==_i&&(w+="rotate("+u+wi),d!==_i&&(w+="rotateY("+d+wi),f!==_i&&(w+="rotateX("+f+wi),(p!==_i||h!==_i)&&(w+="skew("+p+", "+h+wi),(g!==1||m!==1)&&(w+="scale("+g+", "+m+wi),N.style[Mt]=w||"translate(0, 0)"},SM=function(t,n){var r=n||this,i=r.xPercent,o=r.yPercent,s=r.x,l=r.y,c=r.rotation,u=r.skewX,d=r.skewY,f=r.scaleX,p=r.scaleY,h=r.target,g=r.xOrigin,m=r.yOrigin,y=r.xOffset,C=r.yOffset,N=r.forceCSS,j=parseFloat(s),w=parseFloat(l),b,S,M,x,v;c=parseFloat(c),u=parseFloat(u),d=parseFloat(d),d&&(d=parseFloat(d),u+=d,c+=d),c||u?(c*=oo,u*=oo,b=Math.cos(c)*f,S=Math.sin(c)*f,M=Math.sin(c-u)*-p,x=Math.cos(c-u)*p,u&&(d*=oo,v=Math.tan(u-d),v=Math.sqrt(1+v*v),M*=v,x*=v,d&&(v=Math.tan(d),v=Math.sqrt(1+v*v),b*=v,S*=v)),b=Dt(b),S=Dt(S),M=Dt(M),x=Dt(x)):(b=f,x=p,S=M=0),(j&&!~(s+"").indexOf("px")||w&&!~(l+"").indexOf("px"))&&(j=Yr(h,"x",s,"px"),w=Yr(h,"y",l,"px")),(g||m||y||C)&&(j=Dt(j+g-(g*b+m*M)+y),w=Dt(w+m-(g*S+m*x)+C)),(i||o)&&(v=h.getBBox(),j=Dt(j+i/100*v.width),w=Dt(w+o/100*v.height)),v="matrix("+b+","+S+","+M+","+x+","+j+","+w+")",h.setAttribute("transform",v),N&&(h.style[Mt]=v)},kM=function(t,n,r,i,o){var s=360,l=Gt(o),c=parseFloat(o)*(l&&~o.indexOf("rad")?vi:1),u=c-i,d=i+u+"deg",f,p;return l&&(f=o.split("_")[1],f==="short"&&(u%=s,u!==u%(s/2)&&(u+=u<0?s:-s)),f==="cw"&&u<0?u=(u+s*w1)%s-~~(u/s)*s:f==="ccw"&&u>0&&(u=(u-s*w1)%s-~~(u/s)*s)),t._pt=p=new gn(t._pt,n,r,i,u,aM),p.e=d,p.u="deg",t._props.push(r),p},O1=function(t,n){for(var r in n)t[r]=n[r];return t},CM=function(t,n,r){var i=O1({},r._gsap),o="perspective,force3D,transformOrigin,svgOrigin",s=r.style,l,c,u,d,f,p,h,g;i.svg?(u=r.getAttribute("transform"),r.setAttribute("transform",""),s[Mt]=n,l=Ls(r,1),xi(r,Mt),r.setAttribute("transform",u)):(u=getComputedStyle(r)[Mt],s[Mt]=n,l=Ls(r,1),s[Mt]=u);for(c in kr)u=i[c],d=l[c],u!==d&&o.indexOf(c)<0&&(h=en(u),g=en(d),f=h!==g?Yr(r,c,u,g):parseFloat(u),p=parseFloat(d),t._pt=new gn(t._pt,l,c,f,p-f,Jd),t._pt.u=g||0,t._props.push(c));O1(l,i)};mn("padding,margin,Width,Radius",function(e,t){var n="Top",r="Right",i="Bottom",o="Left",s=(t<3?[n,r,i,o]:[n+o,n+r,i+r,i+o]).map(function(l){return t<2?e+l:"border"+l+e});Il[t>1?"border"+e:e]=function(l,c,u,d,f){var p,h;if(arguments.length<4)return p=s.map(function(g){return Cr(l,g,u)}),h=p.join(" "),h.split(p[0]).length===5?p[0]:h;p=(d+"").split(" "),h={},s.forEach(function(g,m){return h[g]=p[m]=p[m]||p[(m-1)/2|0]}),l.init(c,h,f)}});var rf={name:"css",register:Qd,targetTest:function(t){return t.style&&t.nodeType},init:function(t,n,r,i,o){var s=this._props,l=t.style,c=r.vars.startAt,u,d,f,p,h,g,m,y,C,N,j,w,b,S,M,x;Zd||Qd(),this.styles=this.styles||N1(t),x=this.styles.props,this.tween=r;for(m in n)if(m!=="autoRound"&&(d=n[m],!(kn[m]&&d1(m,n,r,i,t,o)))){if(h=typeof d,g=Il[m],h==="function"&&(d=d.call(r,i,t,o),h=typeof d),h==="string"&&~d.indexOf("random(")&&(d=Cs(d)),g)g(this,t,m,d,r)&&(M=1);else if(m.substr(0,2)==="--")u=(getComputedStyle(t).getPropertyValue(m)+"").trim(),d+="",zr.lastIndex=0,zr.test(u)||(y=en(u),C=en(d)),C?y!==C&&(u=Yr(t,m,u,C)+C):y&&(d+=y),this.add(l,"setProperty",u,d,i,o,0,0,m),s.push(m),x.push(m,0,l[m]);else if(h!=="undefined"){if(c&&m in c?(u=typeof c[m]=="function"?c[m].call(r,i,t,o):c[m],Gt(u)&&~u.indexOf("random(")&&(u=Cs(u)),en(u+"")||u==="auto"||(u+=wn.units[m]||en(Cr(t,m))||""),(u+"").charAt(1)==="="&&(u=Cr(t,m))):u=Cr(t,m),p=parseFloat(u),N=h==="string"&&d.charAt(1)==="="&&d.substr(0,2),N&&(d=d.substr(2)),f=parseFloat(d),m in dr&&(m==="autoAlpha"&&(p===1&&Cr(t,"visibility")==="hidden"&&f&&(p=0),x.push("visibility",0,l.visibility),Gr(this,l,"visibility",p?"inherit":"hidden",f?"inherit":"hidden",!f)),m!=="scale"&&m!=="transform"&&(m=dr[m],~m.indexOf(",")&&(m=m.split(",")[0]))),j=m in kr,j){if(this.styles.save(m),h==="string"&&d.substring(0,6)==="var(--"&&(d=Bn(t,d.substring(4,d.indexOf(")"))),f=parseFloat(d)),w||(b=t._gsap,b.renderTransform&&!n.parseTransform||Ls(t,n.parseTransform),S=n.smoothOrigin!==!1&&b.smooth,w=this._pt=new gn(this._pt,l,Mt,0,1,b.renderTransform,b,0,-1),w.dep=1),m==="scale")this._pt=new gn(this._pt,b,"scaleY",b.scaleY,(N?Ki(b.scaleY,N+f):f)-b.scaleY||0,Jd),this._pt.u=0,s.push("scaleY",m),m+="X";else if(m==="transformOrigin"){x.push(bn,0,l[bn]),d=xM(d),b.svg?tf(t,d,0,S,0,this):(C=parseFloat(d.split(" ")[2])||0,C!==b.zOrigin&&Gr(this,b,"zOrigin",b.zOrigin,C),Gr(this,l,m,Ll(u),Ll(d)));continue}else if(m==="svgOrigin"){tf(t,d,1,S,0,this);continue}else if(m in P1){kM(this,b,m,p,N?Ki(p,N+d):d);continue}else if(m==="smoothOrigin"){Gr(this,b,"smooth",b.smooth,d);continue}else if(m==="force3D"){b[m]=d;continue}else if(m==="transform"){CM(this,d,t);continue}}else m in l||(m=ao(m)||m);if(j||(f||f===0)&&(p||p===0)&&!sM.test(d)&&m in l)y=(u+"").substr((p+"").length),f||(f=0),C=en(d)||(m in wn.units?wn.units[m]:y),y!==C&&(p=Yr(t,m,u,C)),this._pt=new gn(this._pt,j?b:l,m,p,(N?Ki(p,N+f):f)-p,!j&&(C==="px"||m==="zIndex")&&n.autoRound!==!1?cM:Jd),this._pt.u=C||0,y!==C&&C!=="%"&&(this._pt.b=u,this._pt.r=lM);else if(m in l)vM.call(this,t,m,u,N?N+d:d);else if(m in t)this.add(t,m,u||t[m],N?N+d:d,i,o);else if(m!=="parseTransform"){kd(m,d);continue}j||(m in l?x.push(m,0,l[m]):typeof t[m]=="function"?x.push(m,2,t[m]()):x.push(m,1,u||t[m])),s.push(m)}}M&&y1(this)},render:function(t,n){if(n.tween._time||!qd())for(var r=n._pt;r;)r.r(t,r.d),r=r._next;else n.styles.revert()},get:Cr,aliases:dr,getSetter:function(t,n,r){var i=dr[n];return i&&i.indexOf(",")<0&&(n=i),n in kr&&n!==bn&&(t._gsap.x||Cr(t,"x"))?r&&_1===r?n==="scale"?hM:fM:(_1=r||{})&&(n==="scale"?pM:mM):t.style&&!bd(t.style[n])?uM:~n.indexOf("-")?dM:Ud(t,n)},core:{_removeProperty:xi,_getMatrix:ef}};yn.utils.checkPrefix=ao,yn.core.getStyleSaver=N1,(function(e,t,n,r){var i=mn(e+","+t+","+n,function(o){kr[o]=1});mn(t,function(o){wn.units[o]="deg",P1[o]=1}),dr[i[13]]=e+","+t,mn(r,function(o){var s=o.split(":");dr[s[1]]=i[s[0]]})})("x,y,z,scale,scaleX,scaleY,xPercent,yPercent","rotation,rotationX,rotationY,skewX,skewY","transform,transformOrigin,svgOrigin,force3D,smoothOrigin,transformPerspective","0:translateX,1:translateY,2:translateZ,8:rotate,8:rotationZ,8:rotateZ,9:rotateX,10:rotateY"),mn("x,y,z,top,right,bottom,left,width,height,fontSize,padding,margin,perspective",function(e){wn.units[e]="px"}),yn.registerPlugin(rf);var of=yn.registerPlugin(rf)||yn,NM=of.core.Tween;const R1=Object.freeze(Object.defineProperty({__proto__:null,Back:KN,Bounce:eM,CSSPlugin:rf,Circ:rM,Cubic:VN,Elastic:JN,Expo:nM,Linear:GN,Power0:RN,Power1:HN,Power2:zN,Power3:UN,Power4:WN,Quad:YN,Quart:ZN,Quint:qN,Sine:tM,SteppedEase:QN,Strong:XN,TimelineLite:Xt,TimelineMax:Xt,TweenLite:It,TweenMax:NM,default:of,gsap:of},Symbol.toStringTag,{value:"Module"}));function MM(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function jM(e,t,n){return t&&MM(e.prototype,t),e}/*!
 * Observer 3.13.0
 * https://gsap.com
 *
 * @license Copyright 2008-2025, GreenSock. All rights reserved.
 * Subject to the terms at https://gsap.com/standard-license
 * @author: Jack Doyle, jack@greensock.com
*/var Jt,Al,jn,Vr,Zr,lo,H1,Si,Es,z1,Nr,Gn,U1,W1=function(){return Jt||typeof window<"u"&&(Jt=window.gsap)&&Jt.registerPlugin&&Jt},G1=1,co=[],it=[],fr=[],Ps=Date.now,sf=function(t,n){return n},TM=function(){var t=Es.core,n=t.bridge||{},r=t._scrollers,i=t._proxies;r.push.apply(r,it),i.push.apply(i,fr),it=r,fr=i,sf=function(s,l){return n[s](l)}},qr=function(t,n){return~fr.indexOf(t)&&fr[fr.indexOf(t)+1][n]},Fs=function(t){return!!~z1.indexOf(t)},sn=function(t,n,r,i,o){return t.addEventListener(n,r,{passive:i!==!1,capture:!!o})},an=function(t,n,r,i){return t.removeEventListener(n,r,!!i)},El="scrollLeft",Pl="scrollTop",af=function(){return Nr&&Nr.isPressed||it.cache++},Fl=function(t,n){var r=function i(o){if(o||o===0){G1&&(jn.history.scrollRestoration="manual");var s=Nr&&Nr.isPressed;o=i.v=Math.round(o)||(Nr&&Nr.iOS?1:0),t(o),i.cacheID=it.cache,s&&sf("ss",o)}else(n||it.cache!==i.cacheID||sf("ref"))&&(i.cacheID=it.cache,i.v=t());return i.v+i.offset};return r.offset=0,t&&r},ln={s:El,p:"left",p2:"Left",os:"right",os2:"Right",d:"width",d2:"Width",a:"x",sc:Fl(function(e){return arguments.length?jn.scrollTo(e,Rt.sc()):jn.pageXOffset||Vr[El]||Zr[El]||lo[El]||0})},Rt={s:Pl,p:"top",p2:"Top",os:"bottom",os2:"Bottom",d:"height",d2:"Height",a:"y",op:ln,sc:Fl(function(e){return arguments.length?jn.scrollTo(ln.sc(),e):jn.pageYOffset||Vr[Pl]||Zr[Pl]||lo[Pl]||0})},vn=function(t,n){return(n&&n._ctx&&n._ctx.selector||Jt.utils.toArray)(t)[0]||(typeof t=="string"&&Jt.config().nullTargetWarn!==!1?console.warn("Element not found:",t):null)},DM=function(t,n){for(var r=n.length;r--;)if(n[r]===t||n[r].contains(t))return!0;return!1},Xr=function(t,n){var r=n.s,i=n.sc;Fs(t)&&(t=Vr.scrollingElement||Zr);var o=it.indexOf(t),s=i===Rt.sc?1:2;!~o&&(o=it.push(t)-1),it[o+s]||sn(t,"scroll",af);var l=it[o+s],c=l||(it[o+s]=Fl(qr(t,r),!0)||(Fs(t)?i:Fl(function(u){return arguments.length?t[r]=u:t[r]})));return c.target=t,l||(c.smooth=Jt.getProperty(t,"scrollBehavior")==="smooth"),c},lf=function(t,n,r){var i=t,o=t,s=Ps(),l=s,c=n||50,u=Math.max(500,c*3),d=function(g,m){var y=Ps();m||y-s>c?(o=i,i=g,l=s,s=y):r?i+=g:i=o+(g-o)/(y-l)*(s-l)},f=function(){o=i=r?0:i,l=s=0},p=function(g){var m=l,y=o,C=Ps();return(g||g===0)&&g!==i&&d(g),s===l||C-l>u?0:(i+(r?y:-y))/((r?C:s)-m)*1e3};return{update:d,reset:f,getVelocity:p}},$s=function(t,n){return n&&!t._gsapAllow&&t.preventDefault(),t.changedTouches?t.changedTouches[0]:t},Y1=function(t){var n=Math.max.apply(Math,t),r=Math.min.apply(Math,t);return Math.abs(n)>=Math.abs(r)?n:r},V1=function(){Es=Jt.core.globals().ScrollTrigger,Es&&Es.core&&TM()},Z1=function(t){return Jt=t||W1(),!Al&&Jt&&typeof document<"u"&&document.body&&(jn=window,Vr=document,Zr=Vr.documentElement,lo=Vr.body,z1=[jn,Vr,Zr,lo],Jt.utils.clamp,U1=Jt.core.context||function(){},Si="onpointerenter"in lo?"pointer":"mouse",H1=Lt.isTouch=jn.matchMedia&&jn.matchMedia("(hover: none), (pointer: coarse)").matches?1:"ontouchstart"in jn||navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0?2:0,Gn=Lt.eventTypes=("ontouchstart"in Zr?"touchstart,touchmove,touchcancel,touchend":"onpointerdown"in Zr?"pointerdown,pointermove,pointercancel,pointerup":"mousedown,mousemove,mouseup,mouseup").split(","),setTimeout(function(){return G1=0},500),V1(),Al=1),Al};ln.op=Rt,it.cache=0;var Lt=(function(){function e(n){this.init(n)}var t=e.prototype;return t.init=function(r){Al||Z1(Jt)||console.warn("Please gsap.registerPlugin(Observer)"),Es||V1();var i=r.tolerance,o=r.dragMinimum,s=r.type,l=r.target,c=r.lineHeight,u=r.debounce,d=r.preventDefault,f=r.onStop,p=r.onStopDelay,h=r.ignore,g=r.wheelSpeed,m=r.event,y=r.onDragStart,C=r.onDragEnd,N=r.onDrag,j=r.onPress,w=r.onRelease,b=r.onRight,S=r.onLeft,M=r.onUp,x=r.onDown,v=r.onChangeX,_=r.onChangeY,E=r.onChange,D=r.onToggleX,B=r.onToggleY,A=r.onHover,I=r.onHoverEnd,L=r.onMove,F=r.ignoreCheck,G=r.isNormalizer,ee=r.onGestureStart,T=r.onGestureEnd,X=r.onWheel,O=r.onEnable,$=r.onDisable,V=r.onClick,Y=r.scrollSpeed,R=r.capture,J=r.allowClicks,te=r.lockAxis,K=r.onLockAxis;this.target=l=vn(l)||Zr,this.vars=r,h&&(h=Jt.utils.toArray(h)),i=i||1e-9,o=o||0,g=g||1,Y=Y||1,s=s||"wheel,touch,pointer",u=u!==!1,c||(c=parseFloat(jn.getComputedStyle(lo).lineHeight)||22);var oe,ye,Z,se,de,Ce,be,q=this,Ge=0,Pe=0,$e=r.passive||!d&&r.passive!==!1,xe=Xr(l,ln),z=Xr(l,Rt),Q=xe(),fe=z(),me=~s.indexOf("touch")&&!~s.indexOf("pointer")&&Gn[0]==="pointerdown",_e=Fs(l),H=l.ownerDocument||Vr,W=[0,0,0],le=[0,0,0],re=0,ce=function(){return re=Ps()},ue=function(pe,we){return(q.event=pe)&&h&&DM(pe.target,h)||we&&me&&pe.pointerType!=="touch"||F&&F(pe,we)},ve=function(){q._vx.reset(),q._vy.reset(),ye.pause(),f&&f(q)},Me=function(){var pe=q.deltaX=Y1(W),we=q.deltaY=Y1(le),ae=Math.abs(pe)>=i,ge=Math.abs(we)>=i;E&&(ae||ge)&&E(q,pe,we,W,le),ae&&(b&&q.deltaX>0&&b(q),S&&q.deltaX<0&&S(q),v&&v(q),D&&q.deltaX<0!=Ge<0&&D(q),Ge=q.deltaX,W[0]=W[1]=W[2]=0),ge&&(x&&q.deltaY>0&&x(q),M&&q.deltaY<0&&M(q),_&&_(q),B&&q.deltaY<0!=Pe<0&&B(q),Pe=q.deltaY,le[0]=le[1]=le[2]=0),(se||Z)&&(L&&L(q),Z&&(y&&Z===1&&y(q),N&&N(q),Z=0),se=!1),Ce&&!(Ce=!1)&&K&&K(q),de&&(X(q),de=!1),oe=0},Ae=function(pe,we,ae){W[ae]+=pe,le[ae]+=we,q._vx.update(pe),q._vy.update(we),u?oe||(oe=requestAnimationFrame(Me)):Me()},Ye=function(pe,we){te&&!be&&(q.axis=be=Math.abs(pe)>Math.abs(we)?"x":"y",Ce=!0),be!=="y"&&(W[2]+=pe,q._vx.update(pe,!0)),be!=="x"&&(le[2]+=we,q._vy.update(we,!0)),u?oe||(oe=requestAnimationFrame(Me)):Me()},Ze=function(pe){if(!ue(pe,1)){pe=$s(pe,d);var we=pe.clientX,ae=pe.clientY,ge=we-q.x,Ie=ae-q.y,Re=q.isDragging;q.x=we,q.y=ae,(Re||(ge||Ie)&&(Math.abs(q.startX-we)>=o||Math.abs(q.startY-ae)>=o))&&(Z=Re?2:1,Re||(q.isDragging=!0),Ye(ge,Ie))}},ct=q.onPress=function(Te){ue(Te,1)||Te&&Te.button||(q.axis=be=null,ye.pause(),q.isPressed=!0,Te=$s(Te),Ge=Pe=0,q.startX=q.x=Te.clientX,q.startY=q.y=Te.clientY,q._vx.reset(),q._vy.reset(),sn(G?l:H,Gn[1],Ze,$e,!0),q.deltaX=q.deltaY=0,j&&j(q))},Be=q.onRelease=function(Te){if(!ue(Te,1)){an(G?l:H,Gn[1],Ze,!0);var pe=!isNaN(q.y-q.startY),we=q.isDragging,ae=we&&(Math.abs(q.x-q.startX)>3||Math.abs(q.y-q.startY)>3),ge=$s(Te);!ae&&pe&&(q._vx.reset(),q._vy.reset(),d&&J&&Jt.delayedCall(.08,function(){if(Ps()-re>300&&!Te.defaultPrevented){if(Te.target.click)Te.target.click();else if(H.createEvent){var Ie=H.createEvent("MouseEvents");Ie.initMouseEvent("click",!0,!0,jn,1,ge.screenX,ge.screenY,ge.clientX,ge.clientY,!1,!1,!1,!1,0,null),Te.target.dispatchEvent(Ie)}}})),q.isDragging=q.isGesturing=q.isPressed=!1,f&&we&&!G&&ye.restart(!0),Z&&Me(),C&&we&&C(q),w&&w(q,ae)}},he=function(pe){return pe.touches&&pe.touches.length>1&&(q.isGesturing=!0)&&ee(pe,q.isDragging)},Fe=function(){return(q.isGesturing=!1)||T(q)},U=function(pe){if(!ue(pe)){var we=xe(),ae=z();Ae((we-Q)*Y,(ae-fe)*Y,1),Q=we,fe=ae,f&&ye.restart(!0)}},ie=function(pe){if(!ue(pe)){pe=$s(pe,d),X&&(de=!0);var we=(pe.deltaMode===1?c:pe.deltaMode===2?jn.innerHeight:1)*g;Ae(pe.deltaX*we,pe.deltaY*we,0),f&&!G&&ye.restart(!0)}},Ne=function(pe){if(!ue(pe)){var we=pe.clientX,ae=pe.clientY,ge=we-q.x,Ie=ae-q.y;q.x=we,q.y=ae,se=!0,f&&ye.restart(!0),(ge||Ie)&&Ye(ge,Ie)}},Se=function(pe){q.event=pe,A(q)},ke=function(pe){q.event=pe,I(q)},De=function(pe){return ue(pe)||$s(pe,d)&&V(q)};ye=q._dc=Jt.delayedCall(p||.25,ve).pause(),q.deltaX=q.deltaY=0,q._vx=lf(0,50,!0),q._vy=lf(0,50,!0),q.scrollX=xe,q.scrollY=z,q.isDragging=q.isGesturing=q.isPressed=!1,U1(this),q.enable=function(Te){return q.isEnabled||(sn(_e?H:l,"scroll",af),s.indexOf("scroll")>=0&&sn(_e?H:l,"scroll",U,$e,R),s.indexOf("wheel")>=0&&sn(l,"wheel",ie,$e,R),(s.indexOf("touch")>=0&&H1||s.indexOf("pointer")>=0)&&(sn(l,Gn[0],ct,$e,R),sn(H,Gn[2],Be),sn(H,Gn[3],Be),J&&sn(l,"click",ce,!0,!0),V&&sn(l,"click",De),ee&&sn(H,"gesturestart",he),T&&sn(H,"gestureend",Fe),A&&sn(l,Si+"enter",Se),I&&sn(l,Si+"leave",ke),L&&sn(l,Si+"move",Ne)),q.isEnabled=!0,q.isDragging=q.isGesturing=q.isPressed=se=Z=!1,q._vx.reset(),q._vy.reset(),Q=xe(),fe=z(),Te&&Te.type&&ct(Te),O&&O(q)),q},q.disable=function(){q.isEnabled&&(co.filter(function(Te){return Te!==q&&Fs(Te.target)}).length||an(_e?H:l,"scroll",af),q.isPressed&&(q._vx.reset(),q._vy.reset(),an(G?l:H,Gn[1],Ze,!0)),an(_e?H:l,"scroll",U,R),an(l,"wheel",ie,R),an(l,Gn[0],ct,R),an(H,Gn[2],Be),an(H,Gn[3],Be),an(l,"click",ce,!0),an(l,"click",De),an(H,"gesturestart",he),an(H,"gestureend",Fe),an(l,Si+"enter",Se),an(l,Si+"leave",ke),an(l,Si+"move",Ne),q.isEnabled=q.isPressed=q.isDragging=!1,$&&$(q))},q.kill=q.revert=function(){q.disable();var Te=co.indexOf(q);Te>=0&&co.splice(Te,1),Nr===q&&(Nr=0)},co.push(q),G&&Fs(l)&&(Nr=q),q.enable(m)},jM(e,[{key:"velocityX",get:function(){return this._vx.getVelocity()}},{key:"velocityY",get:function(){return this._vy.getVelocity()}}]),e})();Lt.version="3.13.0",Lt.create=function(e){return new Lt(e)},Lt.register=Z1,Lt.getAll=function(){return co.slice()},Lt.getById=function(e){return co.filter(function(t){return t.vars.id===e})[0]},W1()&&Jt.registerPlugin(Lt);/*!
 * ScrollTrigger 3.13.0
 * https://gsap.com
 *
 * @license Copyright 2008-2025, GreenSock. All rights reserved.
 * Subject to the terms at https://gsap.com/standard-license
 * @author: Jack Doyle, jack@greensock.com
*/var Ue,uo,ot,wt,Tn,ft,cf,$l,Bs,Os,Rs,Bl,tn,Ol,uf,cn,q1,X1,fo,J1,df,K1,un,ff,Q1,ev,Jr,hf,pf,ho,mf,Rl,gf,yf,Hl=1,nn=Date.now,bf=nn(),On=0,Hs=0,tv=function(t,n,r){var i=Dn(t)&&(t.substr(0,6)==="clamp("||t.indexOf("max")>-1);return r["_"+n+"Clamp"]=i,i?t.substr(6,t.length-7):t},nv=function(t,n){return n&&(!Dn(t)||t.substr(0,6)!=="clamp(")?"clamp("+t+")":t},IM=function e(){return Hs&&requestAnimationFrame(e)},rv=function(){return Ol=1},iv=function(){return Ol=0},hr=function(t){return t},zs=function(t){return Math.round(t*1e5)/1e5||0},ov=function(){return typeof window<"u"},sv=function(){return Ue||ov()&&(Ue=window.gsap)&&Ue.registerPlugin&&Ue},ki=function(t){return!!~cf.indexOf(t)},av=function(t){return(t==="Height"?mf:ot["inner"+t])||Tn["client"+t]||ft["client"+t]},lv=function(t){return qr(t,"getBoundingClientRect")||(ki(t)?function(){return ec.width=ot.innerWidth,ec.height=mf,ec}:function(){return Mr(t)})},LM=function(t,n,r){var i=r.d,o=r.d2,s=r.a;return(s=qr(t,"getBoundingClientRect"))?function(){return s()[i]}:function(){return(n?av(o):t["client"+o])||0}},AM=function(t,n){return!n||~fr.indexOf(t)?lv(t):function(){return ec}},pr=function(t,n){var r=n.s,i=n.d2,o=n.d,s=n.a;return Math.max(0,(r="scroll"+i)&&(s=qr(t,r))?s()-lv(t)()[o]:ki(t)?(Tn[r]||ft[r])-av(i):t[r]-t["offset"+i])},zl=function(t,n){for(var r=0;r<fo.length;r+=3)(!n||~n.indexOf(fo[r+1]))&&t(fo[r],fo[r+1],fo[r+2])},Dn=function(t){return typeof t=="string"},rn=function(t){return typeof t=="function"},Us=function(t){return typeof t=="number"},Ci=function(t){return typeof t=="object"},Ws=function(t,n,r){return t&&t.progress(n?0:1)&&r&&t.pause()},vf=function(t,n){if(t.enabled){var r=t._ctx?t._ctx.add(function(){return n(t)}):n(t);r&&r.totalTime&&(t.callbackAnimation=r)}},po=Math.abs,cv="left",uv="top",xf="right",_f="bottom",Ni="width",Mi="height",Gs="Right",Ys="Left",Vs="Top",Zs="Bottom",Ft="padding",Rn="margin",mo="Width",wf="Height",Ht="px",Hn=function(t){return ot.getComputedStyle(t)},EM=function(t){var n=Hn(t).position;t.style.position=n==="absolute"||n==="fixed"?n:"relative"},dv=function(t,n){for(var r in n)r in t||(t[r]=n[r]);return t},Mr=function(t,n){var r=n&&Hn(t)[uf]!=="matrix(1, 0, 0, 1, 0, 0)"&&Ue.to(t,{x:0,y:0,xPercent:0,yPercent:0,rotation:0,rotationX:0,rotationY:0,scale:1,skewX:0,skewY:0}).progress(1),i=t.getBoundingClientRect();return r&&r.progress(0).kill(),i},Ul=function(t,n){var r=n.d2;return t["offset"+r]||t["client"+r]||0},fv=function(t){var n=[],r=t.labels,i=t.duration(),o;for(o in r)n.push(r[o]/i);return n},PM=function(t){return function(n){return Ue.utils.snap(fv(t),n)}},Sf=function(t){var n=Ue.utils.snap(t),r=Array.isArray(t)&&t.slice(0).sort(function(i,o){return i-o});return r?function(i,o,s){s===void 0&&(s=.001);var l;if(!o)return n(i);if(o>0){for(i-=s,l=0;l<r.length;l++)if(r[l]>=i)return r[l];return r[l-1]}else for(l=r.length,i+=s;l--;)if(r[l]<=i)return r[l];return r[0]}:function(i,o,s){s===void 0&&(s=.001);var l=n(i);return!o||Math.abs(l-i)<s||l-i<0==o<0?l:n(o<0?i-t:i+t)}},FM=function(t){return function(n,r){return Sf(fv(t))(n,r.direction)}},Wl=function(t,n,r,i){return r.split(",").forEach(function(o){return t(n,o,i)})},Yt=function(t,n,r,i,o){return t.addEventListener(n,r,{passive:!i,capture:!!o})},Vt=function(t,n,r,i){return t.removeEventListener(n,r,!!i)},Gl=function(t,n,r){r=r&&r.wheelHandler,r&&(t(n,"wheel",r),t(n,"touchmove",r))},hv={startColor:"green",endColor:"red",indent:0,fontSize:"16px",fontWeight:"normal"},Yl={toggleActions:"play",anticipatePin:0},Vl={top:0,left:0,center:.5,bottom:1,right:1},Zl=function(t,n){if(Dn(t)){var r=t.indexOf("="),i=~r?+(t.charAt(r-1)+1)*parseFloat(t.substr(r+1)):0;~r&&(t.indexOf("%")>r&&(i*=n/100),t=t.substr(0,r-1)),t=i+(t in Vl?Vl[t]*n:~t.indexOf("%")?parseFloat(t)*n/100:parseFloat(t)||0)}return t},ql=function(t,n,r,i,o,s,l,c){var u=o.startColor,d=o.endColor,f=o.fontSize,p=o.indent,h=o.fontWeight,g=wt.createElement("div"),m=ki(r)||qr(r,"pinType")==="fixed",y=t.indexOf("scroller")!==-1,C=m?ft:r,N=t.indexOf("start")!==-1,j=N?u:d,w="border-color:"+j+";font-size:"+f+";color:"+j+";font-weight:"+h+";pointer-events:none;white-space:nowrap;font-family:sans-serif,Arial;z-index:1000;padding:4px 8px;border-width:0;border-style:solid;";return w+="position:"+((y||c)&&m?"fixed;":"absolute;"),(y||c||!m)&&(w+=(i===Rt?xf:_f)+":"+(s+parseFloat(p))+"px;"),l&&(w+="box-sizing:border-box;text-align:left;width:"+l.offsetWidth+"px;"),g._isStart=N,g.setAttribute("class","gsap-marker-"+t+(n?" marker-"+n:"")),g.style.cssText=w,g.innerText=n||n===0?t+"-"+n:t,C.children[0]?C.insertBefore(g,C.children[0]):C.appendChild(g),g._offset=g["offset"+i.op.d2],Xl(g,0,i,N),g},Xl=function(t,n,r,i){var o={display:"block"},s=r[i?"os2":"p2"],l=r[i?"p2":"os2"];t._isFlipped=i,o[r.a+"Percent"]=i?-100:0,o[r.a]=i?"1px":0,o["border"+s+mo]=1,o["border"+l+mo]=0,o[r.p]=n+"px",Ue.set(t,o)},rt=[],kf={},qs,pv=function(){return nn()-On>34&&(qs||(qs=requestAnimationFrame(jr)))},go=function(){(!un||!un.isPressed||un.startX>ft.clientWidth)&&(it.cache++,un?qs||(qs=requestAnimationFrame(jr)):jr(),On||Ti("scrollStart"),On=nn())},Cf=function(){ev=ot.innerWidth,Q1=ot.innerHeight},Xs=function(t){it.cache++,(t===!0||!tn&&!K1&&!wt.fullscreenElement&&!wt.webkitFullscreenElement&&(!ff||ev!==ot.innerWidth||Math.abs(ot.innerHeight-Q1)>ot.innerHeight*.25))&&$l.restart(!0)},ji={},$M=[],mv=function e(){return Vt(st,"scrollEnd",e)||Ii(!0)},Ti=function(t){return ji[t]&&ji[t].map(function(n){return n()})||$M},In=[],gv=function(t){for(var n=0;n<In.length;n+=5)(!t||In[n+4]&&In[n+4].query===t)&&(In[n].style.cssText=In[n+1],In[n].getBBox&&In[n].setAttribute("transform",In[n+2]||""),In[n+3].uncache=1)},Nf=function(t,n){var r;for(cn=0;cn<rt.length;cn++)r=rt[cn],r&&(!n||r._ctx===n)&&(t?r.kill(1):r.revert(!0,!0));Rl=!0,n&&gv(n),n||Ti("revert")},yv=function(t,n){it.cache++,(n||!dn)&&it.forEach(function(r){return rn(r)&&r.cacheID++&&(r.rec=0)}),Dn(t)&&(ot.history.scrollRestoration=pf=t)},dn,Di=0,bv,BM=function(){if(bv!==Di){var t=bv=Di;requestAnimationFrame(function(){return t===Di&&Ii(!0)})}},vv=function(){ft.appendChild(ho),mf=!un&&ho.offsetHeight||ot.innerHeight,ft.removeChild(ho)},xv=function(t){return Bs(".gsap-marker-start, .gsap-marker-end, .gsap-marker-scroller-start, .gsap-marker-scroller-end").forEach(function(n){return n.style.display=t?"none":"block"})},Ii=function(t,n){if(Tn=wt.documentElement,ft=wt.body,cf=[ot,wt,Tn,ft],On&&!t&&!Rl){Yt(st,"scrollEnd",mv);return}vv(),dn=st.isRefreshing=!0,it.forEach(function(i){return rn(i)&&++i.cacheID&&(i.rec=i())});var r=Ti("refreshInit");J1&&st.sort(),n||Nf(),it.forEach(function(i){rn(i)&&(i.smooth&&(i.target.style.scrollBehavior="auto"),i(0))}),rt.slice(0).forEach(function(i){return i.refresh()}),Rl=!1,rt.forEach(function(i){if(i._subPinOffset&&i.pin){var o=i.vars.horizontal?"offsetWidth":"offsetHeight",s=i.pin[o];i.revert(!0,1),i.adjustPinSpacing(i.pin[o]-s),i.refresh()}}),gf=1,xv(!0),rt.forEach(function(i){var o=pr(i.scroller,i._dir),s=i.vars.end==="max"||i._endClamp&&i.end>o,l=i._startClamp&&i.start>=o;(s||l)&&i.setPositions(l?o-1:i.start,s?Math.max(l?o:i.start+1,o):i.end,!0)}),xv(!1),gf=0,r.forEach(function(i){return i&&i.render&&i.render(-1)}),it.forEach(function(i){rn(i)&&(i.smooth&&requestAnimationFrame(function(){return i.target.style.scrollBehavior="smooth"}),i.rec&&i(i.rec))}),yv(pf,1),$l.pause(),Di++,dn=2,jr(2),rt.forEach(function(i){return rn(i.vars.onRefresh)&&i.vars.onRefresh(i)}),dn=st.isRefreshing=!1,Ti("refresh")},Mf=0,Jl=1,Js,jr=function(t){if(t===2||!dn&&!Rl){st.isUpdating=!0,Js&&Js.update(0);var n=rt.length,r=nn(),i=r-bf>=50,o=n&&rt[0].scroll();if(Jl=Mf>o?-1:1,dn||(Mf=o),i&&(On&&!Ol&&r-On>200&&(On=0,Ti("scrollEnd")),Rs=bf,bf=r),Jl<0){for(cn=n;cn-- >0;)rt[cn]&&rt[cn].update(0,i);Jl=1}else for(cn=0;cn<n;cn++)rt[cn]&&rt[cn].update(0,i);st.isUpdating=!1}qs=0},jf=[cv,uv,_f,xf,Rn+Zs,Rn+Gs,Rn+Vs,Rn+Ys,"display","flexShrink","float","zIndex","gridColumnStart","gridColumnEnd","gridRowStart","gridRowEnd","gridArea","justifySelf","alignSelf","placeSelf","order"],Kl=jf.concat([Ni,Mi,"boxSizing","max"+mo,"max"+wf,"position",Rn,Ft,Ft+Vs,Ft+Gs,Ft+Zs,Ft+Ys]),OM=function(t,n,r){yo(r);var i=t._gsap;if(i.spacerIsNative)yo(i.spacerState);else if(t._gsap.swappedIn){var o=n.parentNode;o&&(o.insertBefore(t,n),o.removeChild(n))}t._gsap.swappedIn=!1},Tf=function(t,n,r,i){if(!t._gsap.swappedIn){for(var o=jf.length,s=n.style,l=t.style,c;o--;)c=jf[o],s[c]=r[c];s.position=r.position==="absolute"?"absolute":"relative",r.display==="inline"&&(s.display="inline-block"),l[_f]=l[xf]="auto",s.flexBasis=r.flexBasis||"auto",s.overflow="visible",s.boxSizing="border-box",s[Ni]=Ul(t,ln)+Ht,s[Mi]=Ul(t,Rt)+Ht,s[Ft]=l[Rn]=l[uv]=l[cv]="0",yo(i),l[Ni]=l["max"+mo]=r[Ni],l[Mi]=l["max"+wf]=r[Mi],l[Ft]=r[Ft],t.parentNode!==n&&(t.parentNode.insertBefore(n,t),n.appendChild(t)),t._gsap.swappedIn=!0}},RM=/([A-Z])/g,yo=function(t){if(t){var n=t.t.style,r=t.length,i=0,o,s;for((t.t._gsap||Ue.core.getCache(t.t)).uncache=1;i<r;i+=2)s=t[i+1],o=t[i],s?n[o]=s:n[o]&&n.removeProperty(o.replace(RM,"-$1").toLowerCase())}},Ql=function(t){for(var n=Kl.length,r=t.style,i=[],o=0;o<n;o++)i.push(Kl[o],r[Kl[o]]);return i.t=t,i},HM=function(t,n,r){for(var i=[],o=t.length,s=r?8:0,l;s<o;s+=2)l=t[s],i.push(l,l in n?n[l]:t[s+1]);return i.t=t.t,i},ec={left:0,top:0},_v=function(t,n,r,i,o,s,l,c,u,d,f,p,h,g){rn(t)&&(t=t(c)),Dn(t)&&t.substr(0,3)==="max"&&(t=p+(t.charAt(4)==="="?Zl("0"+t.substr(3),r):0));var m=h?h.time():0,y,C,N;if(h&&h.seek(0),isNaN(t)||(t=+t),Us(t))h&&(t=Ue.utils.mapRange(h.scrollTrigger.start,h.scrollTrigger.end,0,p,t)),l&&Xl(l,r,i,!0);else{rn(n)&&(n=n(c));var j=(t||"0").split(" "),w,b,S,M;N=vn(n,c)||ft,w=Mr(N)||{},(!w||!w.left&&!w.top)&&Hn(N).display==="none"&&(M=N.style.display,N.style.display="block",w=Mr(N),M?N.style.display=M:N.style.removeProperty("display")),b=Zl(j[0],w[i.d]),S=Zl(j[1]||"0",r),t=w[i.p]-u[i.p]-d+b+o-S,l&&Xl(l,S,i,r-S<20||l._isStart&&S>20),r-=r-S}if(g&&(c[g]=t||-.001,t<0&&(t=0)),s){var x=t+r,v=s._isStart;y="scroll"+i.d2,Xl(s,x,i,v&&x>20||!v&&(f?Math.max(ft[y],Tn[y]):s.parentNode[y])<=x+1),f&&(u=Mr(l),f&&(s.style[i.op.p]=u[i.op.p]-i.op.m-s._offset+Ht))}return h&&N&&(y=Mr(N),h.seek(p),C=Mr(N),h._caScrollDist=y[i.p]-C[i.p],t=t/h._caScrollDist*p),h&&h.seek(m),h?t:Math.round(t)},zM=/(webkit|moz|length|cssText|inset)/i,wv=function(t,n,r,i){if(t.parentNode!==n){var o=t.style,s,l;if(n===ft){t._stOrig=o.cssText,l=Hn(t);for(s in l)!+s&&!zM.test(s)&&l[s]&&typeof o[s]=="string"&&s!=="0"&&(o[s]=l[s]);o.top=r,o.left=i}else o.cssText=t._stOrig;Ue.core.getCache(t).uncache=1,n.appendChild(t)}},Sv=function(t,n,r){var i=n,o=i;return function(s){var l=Math.round(t());return l!==i&&l!==o&&Math.abs(l-i)>3&&Math.abs(l-o)>3&&(s=l,r&&r()),o=i,i=Math.round(s),i}},tc=function(t,n,r){var i={};i[n.p]="+="+r,Ue.set(t,i)},kv=function(t,n){var r=Xr(t,n),i="_scroll"+n.p2,o=function s(l,c,u,d,f){var p=s.tween,h=c.onComplete,g={};u=u||r();var m=Sv(r,u,function(){p.kill(),s.tween=0});return f=d&&f||0,d=d||l-u,p&&p.kill(),c[i]=l,c.inherit=!1,c.modifiers=g,g[i]=function(){return m(u+d*p.ratio+f*p.ratio*p.ratio)},c.onUpdate=function(){it.cache++,s.tween&&jr()},c.onComplete=function(){s.tween=0,h&&h.call(p)},p=s.tween=Ue.to(t,c),p};return t[i]=r,r.wheelHandler=function(){return o.tween&&o.tween.kill()&&(o.tween=0)},Yt(t,"wheel",r.wheelHandler),st.isTouch&&Yt(t,"touchmove",r.wheelHandler),o},st=(function(){function e(n,r){uo||e.register(Ue)||console.warn("Please gsap.registerPlugin(ScrollTrigger)"),hf(this),this.init(n,r)}var t=e.prototype;return t.init=function(r,i){if(this.progress=this.start=0,this.vars&&this.kill(!0,!0),!Hs){this.update=this.refresh=this.kill=hr;return}r=dv(Dn(r)||Us(r)||r.nodeType?{trigger:r}:r,Yl);var o=r,s=o.onUpdate,l=o.toggleClass,c=o.id,u=o.onToggle,d=o.onRefresh,f=o.scrub,p=o.trigger,h=o.pin,g=o.pinSpacing,m=o.invalidateOnRefresh,y=o.anticipatePin,C=o.onScrubComplete,N=o.onSnapComplete,j=o.once,w=o.snap,b=o.pinReparent,S=o.pinSpacer,M=o.containerAnimation,x=o.fastScrollEnd,v=o.preventOverlaps,_=r.horizontal||r.containerAnimation&&r.horizontal!==!1?ln:Rt,E=!f&&f!==0,D=vn(r.scroller||ot),B=Ue.core.getCache(D),A=ki(D),I=("pinType"in r?r.pinType:qr(D,"pinType")||A&&"fixed")==="fixed",L=[r.onEnter,r.onLeave,r.onEnterBack,r.onLeaveBack],F=E&&r.toggleActions.split(" "),G="markers"in r?r.markers:Yl.markers,ee=A?0:parseFloat(Hn(D)["border"+_.p2+mo])||0,T=this,X=r.onRefreshInit&&function(){return r.onRefreshInit(T)},O=LM(D,A,_),$=AM(D,A),V=0,Y=0,R=0,J=Xr(D,_),te,K,oe,ye,Z,se,de,Ce,be,q,Ge,Pe,$e,xe,z,Q,fe,me,_e,H,W,le,re,ce,ue,ve,Me,Ae,Ye,Ze,ct,Be,he,Fe,U,ie,Ne,Se,ke;if(T._startClamp=T._endClamp=!1,T._dir=_,y*=45,T.scroller=D,T.scroll=M?M.time.bind(M):J,ye=J(),T.vars=r,i=i||r.animation,"refreshPriority"in r&&(J1=1,r.refreshPriority===-9999&&(Js=T)),B.tweenScroll=B.tweenScroll||{top:kv(D,Rt),left:kv(D,ln)},T.tweenTo=te=B.tweenScroll[_.p],T.scrubDuration=function(ae){he=Us(ae)&&ae,he?Be?Be.duration(ae):Be=Ue.to(i,{ease:"expo",totalProgress:"+=0",inherit:!1,duration:he,paused:!0,onComplete:function(){return C&&C(T)}}):(Be&&Be.progress(1).kill(),Be=0)},i&&(i.vars.lazy=!1,i._initted&&!T.isReverted||i.vars.immediateRender!==!1&&r.immediateRender!==!1&&i.duration()&&i.render(0,!0,!0),T.animation=i.pause(),i.scrollTrigger=T,T.scrubDuration(f),Ze=0,c||(c=i.vars.id)),w&&((!Ci(w)||w.push)&&(w={snapTo:w}),"scrollBehavior"in ft.style&&Ue.set(A?[ft,Tn]:D,{scrollBehavior:"auto"}),it.forEach(function(ae){return rn(ae)&&ae.target===(A?wt.scrollingElement||Tn:D)&&(ae.smooth=!1)}),oe=rn(w.snapTo)?w.snapTo:w.snapTo==="labels"?PM(i):w.snapTo==="labelsDirectional"?FM(i):w.directional!==!1?function(ae,ge){return Sf(w.snapTo)(ae,nn()-Y<500?0:ge.direction)}:Ue.utils.snap(w.snapTo),Fe=w.duration||{min:.1,max:2},Fe=Ci(Fe)?Os(Fe.min,Fe.max):Os(Fe,Fe),U=Ue.delayedCall(w.delay||he/2||.1,function(){var ae=J(),ge=nn()-Y<500,Ie=te.tween;if((ge||Math.abs(T.getVelocity())<10)&&!Ie&&!Ol&&V!==ae){var Re=(ae-se)/xe,Ee=i&&!E?i.totalProgress():Re,Le=ge?0:(Ee-ct)/(nn()-Rs)*1e3||0,He=Ue.utils.clamp(-Re,1-Re,po(Le/2)*Le/.185),xt=Re+(w.inertia===!1?0:He),lt,mt,ht=w,xn=ht.onStart,je=ht.onInterrupt,ze=ht.onComplete;if(lt=oe(xt,T),Us(lt)||(lt=xt),mt=Math.max(0,Math.round(se+lt*xe)),ae<=de&&ae>=se&&mt!==ae){if(Ie&&!Ie._initted&&Ie.data<=po(mt-ae))return;w.inertia===!1&&(He=lt-Re),te(mt,{duration:Fe(po(Math.max(po(xt-Ee),po(lt-Ee))*.185/Le/.05||0)),ease:w.ease||"power3",data:po(mt-ae),onInterrupt:function(){return U.restart(!0)&&je&&je(T)},onComplete:function(){T.update(),V=J(),i&&!E&&(Be?Be.resetTo("totalProgress",lt,i._tTime/i._tDur):i.progress(lt)),Ze=ct=i&&!E?i.totalProgress():T.progress,N&&N(T),ze&&ze(T)}},ae,He*xe,mt-ae-He*xe),xn&&xn(T,te.tween)}}else T.isActive&&V!==ae&&U.restart(!0)}).pause()),c&&(kf[c]=T),p=T.trigger=vn(p||h!==!0&&h),ke=p&&p._gsap&&p._gsap.stRevert,ke&&(ke=ke(T)),h=h===!0?p:vn(h),Dn(l)&&(l={targets:p,className:l}),h&&(g===!1||g===Rn||(g=!g&&h.parentNode&&h.parentNode.style&&Hn(h.parentNode).display==="flex"?!1:Ft),T.pin=h,K=Ue.core.getCache(h),K.spacer?z=K.pinState:(S&&(S=vn(S),S&&!S.nodeType&&(S=S.current||S.nativeElement),K.spacerIsNative=!!S,S&&(K.spacerState=Ql(S))),K.spacer=me=S||wt.createElement("div"),me.classList.add("pin-spacer"),c&&me.classList.add("pin-spacer-"+c),K.pinState=z=Ql(h)),r.force3D!==!1&&Ue.set(h,{force3D:!0}),T.spacer=me=K.spacer,Ye=Hn(h),ce=Ye[g+_.os2],H=Ue.getProperty(h),W=Ue.quickSetter(h,_.a,Ht),Tf(h,me,Ye),fe=Ql(h)),G){Pe=Ci(G)?dv(G,hv):hv,q=ql("scroller-start",c,D,_,Pe,0),Ge=ql("scroller-end",c,D,_,Pe,0,q),_e=q["offset"+_.op.d2];var De=vn(qr(D,"content")||D);Ce=this.markerStart=ql("start",c,De,_,Pe,_e,0,M),be=this.markerEnd=ql("end",c,De,_,Pe,_e,0,M),M&&(Se=Ue.quickSetter([Ce,be],_.a,Ht)),!I&&!(fr.length&&qr(D,"fixedMarkers")===!0)&&(EM(A?ft:D),Ue.set([q,Ge],{force3D:!0}),ve=Ue.quickSetter(q,_.a,Ht),Ae=Ue.quickSetter(Ge,_.a,Ht))}if(M){var Te=M.vars.onUpdate,pe=M.vars.onUpdateParams;M.eventCallback("onUpdate",function(){T.update(0,0,1),Te&&Te.apply(M,pe||[])})}if(T.previous=function(){return rt[rt.indexOf(T)-1]},T.next=function(){return rt[rt.indexOf(T)+1]},T.revert=function(ae,ge){if(!ge)return T.kill(!0);var Ie=ae!==!1||!T.enabled,Re=tn;Ie!==T.isReverted&&(Ie&&(ie=Math.max(J(),T.scroll.rec||0),R=T.progress,Ne=i&&i.progress()),Ce&&[Ce,be,q,Ge].forEach(function(Ee){return Ee.style.display=Ie?"none":"block"}),Ie&&(tn=T,T.update(Ie)),h&&(!b||!T.isActive)&&(Ie?OM(h,me,z):Tf(h,me,Hn(h),ue)),Ie||T.update(Ie),tn=Re,T.isReverted=Ie)},T.refresh=function(ae,ge,Ie,Re){if(!((tn||!T.enabled)&&!ge)){if(h&&ae&&On){Yt(e,"scrollEnd",mv);return}!dn&&X&&X(T),tn=T,te.tween&&!Ie&&(te.tween.kill(),te.tween=0),Be&&Be.pause(),m&&i&&(i.revert({kill:!1}).invalidate(),i.getChildren&&i.getChildren(!0,!0,!1).forEach(function(Ir){return Ir.vars.immediateRender&&Ir.render(0,!0,!0)})),T.isReverted||T.revert(!0,!0),T._subPinOffset=!1;var Ee=O(),Le=$(),He=M?M.duration():pr(D,_),xt=xe<=.01||!xe,lt=0,mt=Re||0,ht=Ci(Ie)?Ie.end:r.end,xn=r.endTrigger||p,je=Ci(Ie)?Ie.start:r.start||(r.start===0||!p?0:h?"0 0":"0 100%"),ze=T.pinnedContainer=r.pinnedContainer&&vn(r.pinnedContainer,T),qe=p&&Math.max(0,rt.indexOf(T))||0,Je=qe,ut,nt,gt,Tr,$t,Ct,Qe,yt,Ln,Kr,An,Dr,Qr;for(G&&Ci(Ie)&&(Dr=Ue.getProperty(q,_.p),Qr=Ue.getProperty(Ge,_.p));Je-- >0;)Ct=rt[Je],Ct.end||Ct.refresh(0,1)||(tn=T),Qe=Ct.pin,Qe&&(Qe===p||Qe===h||Qe===ze)&&!Ct.isReverted&&(Kr||(Kr=[]),Kr.unshift(Ct),Ct.revert(!0,!0)),Ct!==rt[Je]&&(qe--,Je--);for(rn(je)&&(je=je(T)),je=tv(je,"start",T),se=_v(je,p,Ee,_,J(),Ce,q,T,Le,ee,I,He,M,T._startClamp&&"_startClamp")||(h?-.001:0),rn(ht)&&(ht=ht(T)),Dn(ht)&&!ht.indexOf("+=")&&(~ht.indexOf(" ")?ht=(Dn(je)?je.split(" ")[0]:"")+ht:(lt=Zl(ht.substr(2),Ee),ht=Dn(je)?je:(M?Ue.utils.mapRange(0,M.duration(),M.scrollTrigger.start,M.scrollTrigger.end,se):se)+lt,xn=p)),ht=tv(ht,"end",T),de=Math.max(se,_v(ht||(xn?"100% 0":He),xn,Ee,_,J()+lt,be,Ge,T,Le,ee,I,He,M,T._endClamp&&"_endClamp"))||-.001,lt=0,Je=qe;Je--;)Ct=rt[Je],Qe=Ct.pin,Qe&&Ct.start-Ct._pinPush<=se&&!M&&Ct.end>0&&(ut=Ct.end-(T._startClamp?Math.max(0,Ct.start):Ct.start),(Qe===p&&Ct.start-Ct._pinPush<se||Qe===ze)&&isNaN(je)&&(lt+=ut*(1-Ct.progress)),Qe===h&&(mt+=ut));if(se+=lt,de+=lt,T._startClamp&&(T._startClamp+=lt),T._endClamp&&!dn&&(T._endClamp=de||-.001,de=Math.min(de,pr(D,_))),xe=de-se||(se-=.01)&&.001,xt&&(R=Ue.utils.clamp(0,1,Ue.utils.normalize(se,de,ie))),T._pinPush=mt,Ce&&lt&&(ut={},ut[_.a]="+="+lt,ze&&(ut[_.p]="-="+J()),Ue.set([Ce,be],ut)),h&&!(gf&&T.end>=pr(D,_)))ut=Hn(h),Tr=_===Rt,gt=J(),le=parseFloat(H(_.a))+mt,!He&&de>1&&(An=(A?wt.scrollingElement||Tn:D).style,An={style:An,value:An["overflow"+_.a.toUpperCase()]},A&&Hn(ft)["overflow"+_.a.toUpperCase()]!=="scroll"&&(An.style["overflow"+_.a.toUpperCase()]="scroll")),Tf(h,me,ut),fe=Ql(h),nt=Mr(h,!0),yt=I&&Xr(D,Tr?ln:Rt)(),g?(ue=[g+_.os2,xe+mt+Ht],ue.t=me,Je=g===Ft?Ul(h,_)+xe+mt:0,Je&&(ue.push(_.d,Je+Ht),me.style.flexBasis!=="auto"&&(me.style.flexBasis=Je+Ht)),yo(ue),ze&&rt.forEach(function(Ir){Ir.pin===ze&&Ir.vars.pinSpacing!==!1&&(Ir._subPinOffset=!0)}),I&&J(ie)):(Je=Ul(h,_),Je&&me.style.flexBasis!=="auto"&&(me.style.flexBasis=Je+Ht)),I&&($t={top:nt.top+(Tr?gt-se:yt)+Ht,left:nt.left+(Tr?yt:gt-se)+Ht,boxSizing:"border-box",position:"fixed"},$t[Ni]=$t["max"+mo]=Math.ceil(nt.width)+Ht,$t[Mi]=$t["max"+wf]=Math.ceil(nt.height)+Ht,$t[Rn]=$t[Rn+Vs]=$t[Rn+Gs]=$t[Rn+Zs]=$t[Rn+Ys]="0",$t[Ft]=ut[Ft],$t[Ft+Vs]=ut[Ft+Vs],$t[Ft+Gs]=ut[Ft+Gs],$t[Ft+Zs]=ut[Ft+Zs],$t[Ft+Ys]=ut[Ft+Ys],Q=HM(z,$t,b),dn&&J(0)),i?(Ln=i._initted,df(1),i.render(i.duration(),!0,!0),re=H(_.a)-le+xe+mt,Me=Math.abs(xe-re)>1,I&&Me&&Q.splice(Q.length-2,2),i.render(0,!0,!0),Ln||i.invalidate(!0),i.parent||i.totalTime(i.totalTime()),df(0)):re=xe,An&&(An.value?An.style["overflow"+_.a.toUpperCase()]=An.value:An.style.removeProperty("overflow-"+_.a));else if(p&&J()&&!M)for(nt=p.parentNode;nt&&nt!==ft;)nt._pinOffset&&(se-=nt._pinOffset,de-=nt._pinOffset),nt=nt.parentNode;Kr&&Kr.forEach(function(Ir){return Ir.revert(!1,!0)}),T.start=se,T.end=de,ye=Z=dn?ie:J(),!M&&!dn&&(ye<ie&&J(ie),T.scroll.rec=0),T.revert(!1,!0),Y=nn(),U&&(V=-1,U.restart(!0)),tn=0,i&&E&&(i._initted||Ne)&&i.progress()!==Ne&&i.progress(Ne||0,!0).render(i.time(),!0,!0),(xt||R!==T.progress||M||m||i&&!i._initted)&&(i&&!E&&(i._initted||R||i.vars.immediateRender!==!1)&&i.totalProgress(M&&se<-.001&&!R?Ue.utils.normalize(se,de,0):R,!0),T.progress=xt||(ye-se)/xe===R?0:R),h&&g&&(me._pinOffset=Math.round(T.progress*re)),Be&&Be.invalidate(),isNaN(Dr)||(Dr-=Ue.getProperty(q,_.p),Qr-=Ue.getProperty(Ge,_.p),tc(q,_,Dr),tc(Ce,_,Dr-(Re||0)),tc(Ge,_,Qr),tc(be,_,Qr-(Re||0))),xt&&!dn&&T.update(),d&&!dn&&!$e&&($e=!0,d(T),$e=!1)}},T.getVelocity=function(){return(J()-Z)/(nn()-Rs)*1e3||0},T.endAnimation=function(){Ws(T.callbackAnimation),i&&(Be?Be.progress(1):i.paused()?E||Ws(i,T.direction<0,1):Ws(i,i.reversed()))},T.labelToScroll=function(ae){return i&&i.labels&&(se||T.refresh()||se)+i.labels[ae]/i.duration()*xe||0},T.getTrailing=function(ae){var ge=rt.indexOf(T),Ie=T.direction>0?rt.slice(0,ge).reverse():rt.slice(ge+1);return(Dn(ae)?Ie.filter(function(Re){return Re.vars.preventOverlaps===ae}):Ie).filter(function(Re){return T.direction>0?Re.end<=se:Re.start>=de})},T.update=function(ae,ge,Ie){if(!(M&&!Ie&&!ae)){var Re=dn===!0?ie:T.scroll(),Ee=ae?0:(Re-se)/xe,Le=Ee<0?0:Ee>1?1:Ee||0,He=T.progress,xt,lt,mt,ht,xn,je,ze,qe;if(ge&&(Z=ye,ye=M?J():Re,w&&(ct=Ze,Ze=i&&!E?i.totalProgress():Le)),y&&h&&!tn&&!Hl&&On&&(!Le&&se<Re+(Re-Z)/(nn()-Rs)*y?Le=1e-4:Le===1&&de>Re+(Re-Z)/(nn()-Rs)*y&&(Le=.9999)),Le!==He&&T.enabled){if(xt=T.isActive=!!Le&&Le<1,lt=!!He&&He<1,je=xt!==lt,xn=je||!!Le!=!!He,T.direction=Le>He?1:-1,T.progress=Le,xn&&!tn&&(mt=Le&&!He?0:Le===1?1:He===1?2:3,E&&(ht=!je&&F[mt+1]!=="none"&&F[mt+1]||F[mt],qe=i&&(ht==="complete"||ht==="reset"||ht in i))),v&&(je||qe)&&(qe||f||!i)&&(rn(v)?v(T):T.getTrailing(v).forEach(function(gt){return gt.endAnimation()})),E||(Be&&!tn&&!Hl?(Be._dp._time-Be._start!==Be._time&&Be.render(Be._dp._time-Be._start),Be.resetTo?Be.resetTo("totalProgress",Le,i._tTime/i._tDur):(Be.vars.totalProgress=Le,Be.invalidate().restart())):i&&i.totalProgress(Le,!!(tn&&(Y||ae)))),h){if(ae&&g&&(me.style[g+_.os2]=ce),!I)W(zs(le+re*Le));else if(xn){if(ze=!ae&&Le>He&&de+1>Re&&Re+1>=pr(D,_),b)if(!ae&&(xt||ze)){var Je=Mr(h,!0),ut=Re-se;wv(h,ft,Je.top+(_===Rt?ut:0)+Ht,Je.left+(_===Rt?0:ut)+Ht)}else wv(h,me);yo(xt||ze?Q:fe),Me&&Le<1&&xt||W(le+(Le===1&&!ze?re:0))}}w&&!te.tween&&!tn&&!Hl&&U.restart(!0),l&&(je||j&&Le&&(Le<1||!yf))&&Bs(l.targets).forEach(function(gt){return gt.classList[xt||j?"add":"remove"](l.className)}),s&&!E&&!ae&&s(T),xn&&!tn?(E&&(qe&&(ht==="complete"?i.pause().totalProgress(1):ht==="reset"?i.restart(!0).pause():ht==="restart"?i.restart(!0):i[ht]()),s&&s(T)),(je||!yf)&&(u&&je&&vf(T,u),L[mt]&&vf(T,L[mt]),j&&(Le===1?T.kill(!1,1):L[mt]=0),je||(mt=Le===1?1:3,L[mt]&&vf(T,L[mt]))),x&&!xt&&Math.abs(T.getVelocity())>(Us(x)?x:2500)&&(Ws(T.callbackAnimation),Be?Be.progress(1):Ws(i,ht==="reverse"?1:!Le,1))):E&&s&&!tn&&s(T)}if(Ae){var nt=M?Re/M.duration()*(M._caScrollDist||0):Re;ve(nt+(q._isFlipped?1:0)),Ae(nt)}Se&&Se(-Re/M.duration()*(M._caScrollDist||0))}},T.enable=function(ae,ge){T.enabled||(T.enabled=!0,Yt(D,"resize",Xs),A||Yt(D,"scroll",go),X&&Yt(e,"refreshInit",X),ae!==!1&&(T.progress=R=0,ye=Z=V=J()),ge!==!1&&T.refresh())},T.getTween=function(ae){return ae&&te?te.tween:Be},T.setPositions=function(ae,ge,Ie,Re){if(M){var Ee=M.scrollTrigger,Le=M.duration(),He=Ee.end-Ee.start;ae=Ee.start+He*ae/Le,ge=Ee.start+He*ge/Le}T.refresh(!1,!1,{start:nv(ae,Ie&&!!T._startClamp),end:nv(ge,Ie&&!!T._endClamp)},Re),T.update()},T.adjustPinSpacing=function(ae){if(ue&&ae){var ge=ue.indexOf(_.d)+1;ue[ge]=parseFloat(ue[ge])+ae+Ht,ue[1]=parseFloat(ue[1])+ae+Ht,yo(ue)}},T.disable=function(ae,ge){if(T.enabled&&(ae!==!1&&T.revert(!0,!0),T.enabled=T.isActive=!1,ge||Be&&Be.pause(),ie=0,K&&(K.uncache=1),X&&Vt(e,"refreshInit",X),U&&(U.pause(),te.tween&&te.tween.kill()&&(te.tween=0)),!A)){for(var Ie=rt.length;Ie--;)if(rt[Ie].scroller===D&&rt[Ie]!==T)return;Vt(D,"resize",Xs),A||Vt(D,"scroll",go)}},T.kill=function(ae,ge){T.disable(ae,ge),Be&&!ge&&Be.kill(),c&&delete kf[c];var Ie=rt.indexOf(T);Ie>=0&&rt.splice(Ie,1),Ie===cn&&Jl>0&&cn--,Ie=0,rt.forEach(function(Re){return Re.scroller===T.scroller&&(Ie=1)}),Ie||dn||(T.scroll.rec=0),i&&(i.scrollTrigger=null,ae&&i.revert({kill:!1}),ge||i.kill()),Ce&&[Ce,be,q,Ge].forEach(function(Re){return Re.parentNode&&Re.parentNode.removeChild(Re)}),Js===T&&(Js=0),h&&(K&&(K.uncache=1),Ie=0,rt.forEach(function(Re){return Re.pin===h&&Ie++}),Ie||(K.spacer=0)),r.onKill&&r.onKill(T)},rt.push(T),T.enable(!1,!1),ke&&ke(T),i&&i.add&&!xe){var we=T.update;T.update=function(){T.update=we,it.cache++,se||de||T.refresh()},Ue.delayedCall(.01,T.update),xe=.01,se=de=0}else T.refresh();h&&BM()},e.register=function(r){return uo||(Ue=r||sv(),ov()&&window.document&&e.enable(),uo=Hs),uo},e.defaults=function(r){if(r)for(var i in r)Yl[i]=r[i];return Yl},e.disable=function(r,i){Hs=0,rt.forEach(function(s){return s[i?"kill":"disable"](r)}),Vt(ot,"wheel",go),Vt(wt,"scroll",go),clearInterval(Bl),Vt(wt,"touchcancel",hr),Vt(ft,"touchstart",hr),Wl(Vt,wt,"pointerdown,touchstart,mousedown",rv),Wl(Vt,wt,"pointerup,touchend,mouseup",iv),$l.kill(),zl(Vt);for(var o=0;o<it.length;o+=3)Gl(Vt,it[o],it[o+1]),Gl(Vt,it[o],it[o+2])},e.enable=function(){if(ot=window,wt=document,Tn=wt.documentElement,ft=wt.body,Ue&&(Bs=Ue.utils.toArray,Os=Ue.utils.clamp,hf=Ue.core.context||hr,df=Ue.core.suppressOverwrites||hr,pf=ot.history.scrollRestoration||"auto",Mf=ot.pageYOffset||0,Ue.core.globals("ScrollTrigger",e),ft)){Hs=1,ho=document.createElement("div"),ho.style.height="100vh",ho.style.position="absolute",vv(),IM(),Lt.register(Ue),e.isTouch=Lt.isTouch,Jr=Lt.isTouch&&/(iPad|iPhone|iPod|Mac)/g.test(navigator.userAgent),ff=Lt.isTouch===1,Yt(ot,"wheel",go),cf=[ot,wt,Tn,ft],Ue.matchMedia?(e.matchMedia=function(u){var d=Ue.matchMedia(),f;for(f in u)d.add(f,u[f]);return d},Ue.addEventListener("matchMediaInit",function(){return Nf()}),Ue.addEventListener("matchMediaRevert",function(){return gv()}),Ue.addEventListener("matchMedia",function(){Ii(0,1),Ti("matchMedia")}),Ue.matchMedia().add("(orientation: portrait)",function(){return Cf(),Cf})):console.warn("Requires GSAP 3.11.0 or later"),Cf(),Yt(wt,"scroll",go);var r=ft.hasAttribute("style"),i=ft.style,o=i.borderTopStyle,s=Ue.core.Animation.prototype,l,c;for(s.revert||Object.defineProperty(s,"revert",{value:function(){return this.time(-.01,!0)}}),i.borderTopStyle="solid",l=Mr(ft),Rt.m=Math.round(l.top+Rt.sc())||0,ln.m=Math.round(l.left+ln.sc())||0,o?i.borderTopStyle=o:i.removeProperty("border-top-style"),r||(ft.setAttribute("style",""),ft.removeAttribute("style")),Bl=setInterval(pv,250),Ue.delayedCall(.5,function(){return Hl=0}),Yt(wt,"touchcancel",hr),Yt(ft,"touchstart",hr),Wl(Yt,wt,"pointerdown,touchstart,mousedown",rv),Wl(Yt,wt,"pointerup,touchend,mouseup",iv),uf=Ue.utils.checkPrefix("transform"),Kl.push(uf),uo=nn(),$l=Ue.delayedCall(.2,Ii).pause(),fo=[wt,"visibilitychange",function(){var u=ot.innerWidth,d=ot.innerHeight;wt.hidden?(q1=u,X1=d):(q1!==u||X1!==d)&&Xs()},wt,"DOMContentLoaded",Ii,ot,"load",Ii,ot,"resize",Xs],zl(Yt),rt.forEach(function(u){return u.enable(0,1)}),c=0;c<it.length;c+=3)Gl(Vt,it[c],it[c+1]),Gl(Vt,it[c],it[c+2])}},e.config=function(r){"limitCallbacks"in r&&(yf=!!r.limitCallbacks);var i=r.syncInterval;i&&clearInterval(Bl)||(Bl=i)&&setInterval(pv,i),"ignoreMobileResize"in r&&(ff=e.isTouch===1&&r.ignoreMobileResize),"autoRefreshEvents"in r&&(zl(Vt)||zl(Yt,r.autoRefreshEvents||"none"),K1=(r.autoRefreshEvents+"").indexOf("resize")===-1)},e.scrollerProxy=function(r,i){var o=vn(r),s=it.indexOf(o),l=ki(o);~s&&it.splice(s,l?6:2),i&&(l?fr.unshift(ot,i,ft,i,Tn,i):fr.unshift(o,i))},e.clearMatchMedia=function(r){rt.forEach(function(i){return i._ctx&&i._ctx.query===r&&i._ctx.kill(!0,!0)})},e.isInViewport=function(r,i,o){var s=(Dn(r)?vn(r):r).getBoundingClientRect(),l=s[o?Ni:Mi]*i||0;return o?s.right-l>0&&s.left+l<ot.innerWidth:s.bottom-l>0&&s.top+l<ot.innerHeight},e.positionInViewport=function(r,i,o){Dn(r)&&(r=vn(r));var s=r.getBoundingClientRect(),l=s[o?Ni:Mi],c=i==null?l/2:i in Vl?Vl[i]*l:~i.indexOf("%")?parseFloat(i)*l/100:parseFloat(i)||0;return o?(s.left+c)/ot.innerWidth:(s.top+c)/ot.innerHeight},e.killAll=function(r){if(rt.slice(0).forEach(function(o){return o.vars.id!=="ScrollSmoother"&&o.kill()}),r!==!0){var i=ji.killAll||[];ji={},i.forEach(function(o){return o()})}},e})();st.version="3.13.0",st.saveStyles=function(e){return e?Bs(e).forEach(function(t){if(t&&t.style){var n=In.indexOf(t);n>=0&&In.splice(n,5),In.push(t,t.style.cssText,t.getBBox&&t.getAttribute("transform"),Ue.core.getCache(t),hf())}}):In},st.revert=function(e,t){return Nf(!e,t)},st.create=function(e,t){return new st(e,t)},st.refresh=function(e){return e?Xs(!0):(uo||st.register())&&Ii(!0)},st.update=function(e){return++it.cache&&jr(e===!0?2:0)},st.clearScrollMemory=yv,st.maxScroll=function(e,t){return pr(e,t?ln:Rt)},st.getScrollFunc=function(e,t){return Xr(vn(e),t?ln:Rt)},st.getById=function(e){return kf[e]},st.getAll=function(){return rt.filter(function(e){return e.vars.id!=="ScrollSmoother"})},st.isScrolling=function(){return!!On},st.snapDirectional=Sf,st.addEventListener=function(e,t){var n=ji[e]||(ji[e]=[]);~n.indexOf(t)||n.push(t)},st.removeEventListener=function(e,t){var n=ji[e],r=n&&n.indexOf(t);r>=0&&n.splice(r,1)},st.batch=function(e,t){var n=[],r={},i=t.interval||.016,o=t.batchMax||1e9,s=function(u,d){var f=[],p=[],h=Ue.delayedCall(i,function(){d(f,p),f=[],p=[]}).pause();return function(g){f.length||h.restart(!0),f.push(g.trigger),p.push(g),o<=f.length&&h.progress(1)}},l;for(l in t)r[l]=l.substr(0,2)==="on"&&rn(t[l])&&l!=="onRefreshInit"?s(l,t[l]):t[l];return rn(o)&&(o=o(),Yt(st,"refresh",function(){return o=t.batchMax()})),Bs(e).forEach(function(c){var u={};for(l in r)u[l]=r[l];u.trigger=c,n.push(st.create(u))}),n};var Cv=function(t,n,r,i){return n>i?t(i):n<0&&t(0),r>i?(i-n)/(r-n):r<0?n/(n-r):1},Df=function e(t,n){n===!0?t.style.removeProperty("touch-action"):t.style.touchAction=n===!0?"auto":n?"pan-"+n+(Lt.isTouch?" pinch-zoom":""):"none",t===Tn&&e(ft,n)},nc={auto:1,scroll:1},UM=function(t){var n=t.event,r=t.target,i=t.axis,o=(n.changedTouches?n.changedTouches[0]:n).target,s=o._gsap||Ue.core.getCache(o),l=nn(),c;if(!s._isScrollT||l-s._isScrollT>2e3){for(;o&&o!==ft&&(o.scrollHeight<=o.clientHeight&&o.scrollWidth<=o.clientWidth||!(nc[(c=Hn(o)).overflowY]||nc[c.overflowX]));)o=o.parentNode;s._isScroll=o&&o!==r&&!ki(o)&&(nc[(c=Hn(o)).overflowY]||nc[c.overflowX]),s._isScrollT=l}(s._isScroll||i==="x")&&(n.stopPropagation(),n._gsapAllow=!0)},Nv=function(t,n,r,i){return Lt.create({target:t,capture:!0,debounce:!1,lockAxis:!0,type:n,onWheel:i=i&&UM,onPress:i,onDrag:i,onScroll:i,onEnable:function(){return r&&Yt(wt,Lt.eventTypes[0],jv,!1,!0)},onDisable:function(){return Vt(wt,Lt.eventTypes[0],jv,!0)}})},WM=/(input|label|select|textarea)/i,Mv,jv=function(t){var n=WM.test(t.target.tagName);(n||Mv)&&(t._gsapAllow=!0,Mv=n)},GM=function(t){Ci(t)||(t={}),t.preventDefault=t.isNormalizer=t.allowClicks=!0,t.type||(t.type="wheel,touch"),t.debounce=!!t.debounce,t.id=t.id||"normalizer";var n=t,r=n.normalizeScrollX,i=n.momentum,o=n.allowNestedScroll,s=n.onRelease,l,c,u=vn(t.target)||Tn,d=Ue.core.globals().ScrollSmoother,f=d&&d.get(),p=Jr&&(t.content&&vn(t.content)||f&&t.content!==!1&&!f.smooth()&&f.content()),h=Xr(u,Rt),g=Xr(u,ln),m=1,y=(Lt.isTouch&&ot.visualViewport?ot.visualViewport.scale*ot.visualViewport.width:ot.outerWidth)/ot.innerWidth,C=0,N=rn(i)?function(){return i(l)}:function(){return i||2.8},j,w,b=Nv(u,t.type,!0,o),S=function(){return w=!1},M=hr,x=hr,v=function(){c=pr(u,Rt),x=Os(Jr?1:0,c),r&&(M=Os(0,pr(u,ln))),j=Di},_=function(){p._gsap.y=zs(parseFloat(p._gsap.y)+h.offset)+"px",p.style.transform="matrix3d(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, "+parseFloat(p._gsap.y)+", 0, 1)",h.offset=h.cacheID=0},E=function(){if(w){requestAnimationFrame(S);var G=zs(l.deltaY/2),ee=x(h.v-G);if(p&&ee!==h.v+h.offset){h.offset=ee-h.v;var T=zs((parseFloat(p&&p._gsap.y)||0)-h.offset);p.style.transform="matrix3d(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, "+T+", 0, 1)",p._gsap.y=T+"px",h.cacheID=it.cache,jr()}return!0}h.offset&&_(),w=!0},D,B,A,I,L=function(){v(),D.isActive()&&D.vars.scrollY>c&&(h()>c?D.progress(1)&&h(c):D.resetTo("scrollY",c))};return p&&Ue.set(p,{y:"+=0"}),t.ignoreCheck=function(F){return Jr&&F.type==="touchmove"&&E()||m>1.05&&F.type!=="touchstart"||l.isGesturing||F.touches&&F.touches.length>1},t.onPress=function(){w=!1;var F=m;m=zs((ot.visualViewport&&ot.visualViewport.scale||1)/y),D.pause(),F!==m&&Df(u,m>1.01?!0:r?!1:"x"),B=g(),A=h(),v(),j=Di},t.onRelease=t.onGestureStart=function(F,G){if(h.offset&&_(),!G)I.restart(!0);else{it.cache++;var ee=N(),T,X;r&&(T=g(),X=T+ee*.05*-F.velocityX/.227,ee*=Cv(g,T,X,pr(u,ln)),D.vars.scrollX=M(X)),T=h(),X=T+ee*.05*-F.velocityY/.227,ee*=Cv(h,T,X,pr(u,Rt)),D.vars.scrollY=x(X),D.invalidate().duration(ee).play(.01),(Jr&&D.vars.scrollY>=c||T>=c-1)&&Ue.to({},{onUpdate:L,duration:ee})}s&&s(F)},t.onWheel=function(){D._ts&&D.pause(),nn()-C>1e3&&(j=0,C=nn())},t.onChange=function(F,G,ee,T,X){if(Di!==j&&v(),G&&r&&g(M(T[2]===G?B+(F.startX-F.x):g()+G-T[1])),ee){h.offset&&_();var O=X[2]===ee,$=O?A+F.startY-F.y:h()+ee-X[1],V=x($);O&&$!==V&&(A+=V-$),h(V)}(ee||G)&&jr()},t.onEnable=function(){Df(u,r?!1:"x"),st.addEventListener("refresh",L),Yt(ot,"resize",L),h.smooth&&(h.target.style.scrollBehavior="auto",h.smooth=g.smooth=!1),b.enable()},t.onDisable=function(){Df(u,!0),Vt(ot,"resize",L),st.removeEventListener("refresh",L),b.kill()},t.lockAxis=t.lockAxis!==!1,l=new Lt(t),l.iOS=Jr,Jr&&!h()&&h(1),Jr&&Ue.ticker.add(hr),I=l._dc,D=Ue.to(l,{ease:"power4",paused:!0,inherit:!1,scrollX:r?"+=0.1":"+=0",scrollY:"+=0.1",modifiers:{scrollY:Sv(h,h(),function(){return D.pause()})},onUpdate:jr,onComplete:I.vars.onComplete}),l};st.sort=function(e){if(rn(e))return rt.sort(e);var t=ot.pageYOffset||0;return st.getAll().forEach(function(n){return n._sortY=n.trigger?t+n.trigger.getBoundingClientRect().top:n.start+ot.innerHeight}),rt.sort(e||function(n,r){return(n.vars.refreshPriority||0)*-1e6+(n.vars.containerAnimation?1e6:n._sortY)-((r.vars.containerAnimation?1e6:r._sortY)+(r.vars.refreshPriority||0)*-1e6)})},st.observe=function(e){return new Lt(e)},st.normalizeScroll=function(e){if(typeof e>"u")return un;if(e===!0&&un)return un.enable();if(e===!1){un&&un.kill(),un=e;return}var t=e instanceof Lt?e:GM(e);return un&&un.target===t.target&&un.kill(),ki(t.target)&&(un=t),t},st.core={_getVelocityProp:lf,_inputObserver:Nv,_scrollers:it,_proxies:fr,bridge:{ss:function(){On||Ti("scrollStart"),On=nn()},ref:function(){return tn}}},sv()&&Ue.registerPlugin(st);const YM=Object.freeze(Object.defineProperty({__proto__:null,ScrollTrigger:st,default:st},Symbol.toStringTag,{value:"Module"}));function Tv(e={}){let t=null;const{preventDoubleClick:n,onClick:r}=e;let i=null;const o=l=>{if(n){if(t?.getAttribute("data-processing")==="true"){l.preventDefault();return}t?.setAttribute("data-processing","true"),i=window.setTimeout(()=>{t?.removeAttribute("data-processing"),i=null},1e3)}r?.(l)},s=l=>{t&&l.key===" "&&t.tagName==="A"&&(l.preventDefault(),t.click())};return{attach(l){t=l,t.addEventListener("click",o),t.addEventListener("keydown",s)},detach(){t&&(t.removeEventListener("click",o),t.removeEventListener("keydown",s),i&&window.clearTimeout(i),t=null)}}}function Ks(e=document){Array.from(e.querySelectorAll('[data-module="nhs-button"][data-prevent-double-click]')).forEach(n=>{const r=n;if(!r.__nhsButtonBehaviour){const i=Tv({preventDoubleClick:!0});i.attach(r),r.__nhsButtonBehaviour=i}})}function If(e=document){Array.from(e.querySelectorAll('[data-module="nhs-button"][data-prevent-double-click]')).forEach(n=>{const r=n;r.__nhsButtonBehaviour&&(r.__nhsButtonBehaviour.detach(),delete r.__nhsButtonBehaviour)})}typeof window<"u"&&(window.__nhsInitButtons||(window.__nhsInitButtons=Ks,window.__nhsDetachButtons=If,document.readyState==="loading"?document.addEventListener("DOMContentLoaded",()=>Ks()):Ks()));function Dv(e){const t=Array.from(e.container.querySelectorAll(e.inputSelector));if(!t.length)return{detach:()=>{}};const n=()=>{e.exclusive&&t.forEach(i=>{const o=document.getElementById(i.id+"-conditional");o&&(o.classList.add(e.hiddenClass),i.setAttribute("aria-expanded","false"))}),t.forEach(i=>{const o=document.getElementById(i.id+"-conditional");if(o){const s=i.checked;o.classList.toggle(e.hiddenClass,!s),i.setAttribute("aria-expanded",s?"true":"false")}})},r=()=>{n(),e.container.dispatchEvent(new CustomEvent(e.eventName,{bubbles:!0}))};return t.forEach(i=>{i.addEventListener("change",r),document.getElementById(i.id+"-conditional")&&!i.hasAttribute("aria-controls")&&i.setAttribute("aria-controls",i.id+"-conditional")}),n(),{detach(){t.forEach(i=>i.removeEventListener("change",r))}}}function VM(e){const t=Array.from(e.querySelectorAll('input.nhsuk-radios__input[type="radio"][name]')),n=t[0]?.name;if(!n)return{detach:()=>{}};const r=o=>{if(!["ArrowDown","ArrowUp","ArrowLeft","ArrowRight"].includes(o.key))return;const s=t.filter(d=>!d.disabled),l=s.indexOf(o.target);if(l===-1)return;o.preventDefault();let c=l;o.key==="ArrowDown"||o.key==="ArrowRight"?c=(l+1)%s.length:c=(l-1+s.length)%s.length;const u=s[c];u&&u!==o.target&&(u.focus(),u.checked||u.click())},i=Dv({inputSelector:'input.nhsuk-radios__input[type="radio"][name="'+n+'"]',hiddenClass:"nhsuk-radios__conditional--hidden",container:e,eventName:"nhs:radios:change",exclusive:!0});return t.forEach(o=>{o.addEventListener("keydown",r)}),{detach(){t.forEach(o=>{o.removeEventListener("keydown",r)}),i.detach()}}}function Qs(e=document){Array.from(e.querySelectorAll(".nhsuk-radios")).forEach(n=>{n.__nhsRadiosBehaviour||(n.__nhsRadiosBehaviour=VM(n))})}function Lf(e=document){Array.from(e.querySelectorAll(".nhsuk-radios")).forEach(n=>{n.__nhsRadiosBehaviour?.detach(),delete n.__nhsRadiosBehaviour})}typeof window<"u"&&(window.__nhsInitRadios||(window.__nhsInitRadios=Qs,window.__nhsDetachRadios=Lf,document.readyState==="loading"?document.addEventListener("DOMContentLoaded",()=>Qs()):Qs()));function ZM(e){const n=e.closest(".nhsuk-input-range-wrapper")?.querySelector(".nhsuk-input-range-current-value strong"),r=()=>{const o=e.value;e.setAttribute("data-current-value",o),n&&(n.textContent=o)},i=()=>{r(),e.dispatchEvent(new CustomEvent("nhs:range:update",{bubbles:!0}))};return e.addEventListener("input",i),r(),{detach(){e.removeEventListener("input",i)}}}function ea(e=document){Array.from(e.querySelectorAll("input.nhsuk-input--range[data-current-value]")).forEach(n=>{n.__nhsRangeBehaviour||(n.__nhsRangeBehaviour=ZM(n))})}function Af(e=document){Array.from(e.querySelectorAll("input.nhsuk-input--range[data-current-value]")).forEach(n=>{n.__nhsRangeBehaviour?.detach(),delete n.__nhsRangeBehaviour})}typeof window<"u"&&(window.__nhsInitRanges||(window.__nhsInitRanges=ea,window.__nhsDetachRanges=Af,document.readyState==="loading"?document.addEventListener("DOMContentLoaded",()=>ea()):ea()));function qM(e){const t=e.querySelector("textarea"),n=e.querySelector(".nhsuk-character-count__message, .nhsuk-hint");if(!t||!n)return{detach:()=>{}};const r=Number(e.getAttribute("data-maxlength"))||void 0,i=Number(e.getAttribute("data-maxwords"))||void 0,o=Number(e.getAttribute("data-threshold"))||0,s=r||i||0,l=i?"word":"character",c=i?"words":"characters";function u(p){if(i){const h=p.trim();return h?h.split(/\s+/).length:0}return p.length}function d(){const p=t.value,h=u(p),g=s-h,m=Math.floor(s*(o/100)),y=h>=m||h>s,C=h>s;let N;if(!y)N=`You can enter up to ${s} ${s===1?l:c}`;else if(C){const j=Math.abs(g);N=`You have ${j} ${j===1?l:c} too many`}else N=`You have ${g} ${g===1?l:c} remaining`;n.textContent=N,n.classList.toggle("nhsuk-error-message",C),C?t.setAttribute("aria-invalid","true"):t.removeAttribute("aria-invalid"),e.dispatchEvent(new CustomEvent("nhs:character-count:update",{bubbles:!0,detail:{current:h,remaining:g,isOverLimit:C}}))}const f=()=>d();return t.addEventListener("input",f),d(),{detach(){t.removeEventListener("input",f)}}}function ta(e=document){Array.from(e.querySelectorAll('[data-module="nhsuk-character-count"]')).forEach(n=>{n.__nhsCharacterCount||(n.__nhsCharacterCount=qM(n))})}function Ef(e=document){Array.from(e.querySelectorAll('[data-module="nhsuk-character-count"]')).forEach(n=>{n.__nhsCharacterCount?.detach(),delete n.__nhsCharacterCount})}typeof window<"u"&&(window.__nhsInitCharacterCounts||(window.__nhsInitCharacterCounts=ta,window.__nhsDetachCharacterCounts=Ef,document.readyState==="loading"?document.addEventListener("DOMContentLoaded",()=>ta()):ta()));function XM(e){return Dv({inputSelector:'input.nhsuk-checkboxes__input[type="checkbox"]',hiddenClass:"nhsuk-checkboxes__conditional--hidden",container:e,eventName:"nhs:checkboxes:change"})}function na(e=document){Array.from(e.querySelectorAll(".nhsuk-checkboxes")).forEach(n=>{n.__nhsCheckboxesBehaviour||(n.__nhsCheckboxesBehaviour=XM(n))})}function Pf(e=document){Array.from(e.querySelectorAll(".nhsuk-checkboxes")).forEach(n=>{n.__nhsCheckboxesBehaviour?.detach(),delete n.__nhsCheckboxesBehaviour})}typeof window<"u"&&(window.__nhsInitCheckboxes||(window.__nhsInitCheckboxes=na,window.__nhsDetachCheckboxes=Pf,document.readyState==="loading"?document.addEventListener("DOMContentLoaded",()=>na()):na()));const Iv=".nhsuk-header",JM=".nhsuk-header__navigation-container",KM=".nhsuk-header__navigation-list",Lv="nhsuk-header__dropdown-menu",Av="nhsuk-header__dropdown-list",Ev="nhsuk-header__navigation-item--more",Pv=".nhsuk-header__navigation-item:not(."+Ev+")",QM=150;function ej(e,t=QM){let n;return(...r)=>{n&&window.clearTimeout(n),n=window.setTimeout(()=>e(...r),t)}}function Fv(e=document){return typeof window>"u"?[]:Array.from(e.querySelectorAll(Iv)).map(tj).filter(Boolean)}function $v(e=document){(e.querySelectorAll(Iv)||[]).forEach(n=>{n._nhsHeaderInstance?.destroy()})}function tj(e){if(e._nhsHeaderInstance)return e._nhsHeaderInstance;e.setAttribute("data-enhancing","header");const t=e.querySelector(JM),n=e.querySelector(KM);if(!t||!n)return null;const r=e.querySelector(`.${Lv}[data-ssr-overflow="true"]`);if(r){const x=r.querySelector(`.${Av}`);if(x){const v=Array.from(x.children);n.innerHTML="",v.forEach(_=>{_.className=_.className.replace("nhsuk-header__dropdown-item--current","nhsuk-header__navigation-item--current").replace("nhsuk-header__dropdown-item","nhsuk-header__navigation-item");const E=_.querySelector("a");E&&(E.className=E.className.replace("nhsuk-header__dropdown-link","nhsuk-header__navigation-link")),n.appendChild(_)}),r.remove()}}let i=Array.from(n.querySelectorAll(Pv)).map(x=>x.outerHTML);if(!i.length)return null;let o=null,s=null,l=null,c=!1;function u(){if(o)return;o=document.createElement("li"),o.className=`nhsuk-header__navigation-item ${Ev}`;const x=document.createElement("button");x.type="button",x.className="nhsuk-header__navigation-button",x.id="toggle-more-menu",x.setAttribute("aria-expanded","false"),x.setAttribute("aria-controls","nhsuk-header-overflow-menu"),x.innerHTML='<span>More</span><svg class="nhsuk-icon nhsuk-icon__chevron-down" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" aria-hidden="true" focusable="false"><path d="M15.5 12a1 1 0 0 1-.29.71l-5 5a1 1 0 0 1-1.42-1.42l4.3-4.29-4.3-4.29a1 1 0 0 1 1.42-1.42l5 5a1 1 0 0 1 .29.71z"/></svg>',x.addEventListener("click",h),o.appendChild(x)}function d(){s||(s=document.createElement("div"),s.className=Lv,s.hidden=!0,s.id="nhsuk-header-overflow-menu",l=document.createElement("ul"),l.className=Av,s.appendChild(l),e.appendChild(s))}function f(){if(!c)return;c=!1,s&&(s.hidden=!0),o?.querySelector("button")?.setAttribute("aria-expanded","false")}function p(){if(c)return;c=!0,s&&(s.hidden=!1),o?.querySelector("button")?.setAttribute("aria-expanded","true")}function h(){c?f():p()}function g(x){const v=x.cloneNode(!0);v.className=v.className.replace("nhsuk-header__navigation-item--current","nhsuk-header__dropdown-item--current").replace("nhsuk-header__navigation-item","nhsuk-header__dropdown-item");const _=v.querySelector("a");return _&&(_.className="nhsuk-header__dropdown-link"),v}function m(){const x=document.createElement("ul");x.className="nhsuk-header__navigation-list",x.style.cssText="position:absolute;visibility:hidden;left:-9999px;top:0;display:flex;flex-wrap:nowrap;",x.innerHTML=i.join(""),document.body.appendChild(x);const v=Array.from(x.children).map(_=>_.offsetWidth);return document.body.removeChild(x),v}function y(){if(f(),!n)return;e.dataset.headerDistStart=String(Date.now());const x=m();if(e.dataset.headerLastCalc=e.dataset.headerDistStart,!x.length||!t)return;const v=t.offsetWidth;if(v<=0)return;const _=window.innerWidth<768,D=v-(_?16:32)*2,B=_?72:100;n.innerHTML="",n.style.display="flex",n.style.flexWrap="nowrap",s&&(s.hidden=!0,l.innerHTML=""),n.innerHTML=i.join("");const A=n.scrollWidth;if(e.dataset.headerRealScroll=String(A),e.dataset.headerAvail=String(D),A<=D-4){s&&(s.remove(),s=null,l=null),e.dataset.headerOverflow="none";return}u(),d();const L=D-B;let F=0,G=0;for(let T=0;T<x.length&&F+x[T]<=L;T++)F+=x[T],G=T+1;if(G===x.length){s&&(s.remove(),s=null,l=null),o=null,n.innerHTML=i.join(""),e.dataset.headerOverflow="none",e.classList.remove("nhsuk-header--nav-overflow-active");return}G=Math.max(1,G),n.innerHTML="";for(let T=0;T<G;T++)n.insertAdjacentHTML("beforeend",i[T]);n.appendChild(o);for(let T=G;T<i.length;T++){const X=document.createElement("div");X.innerHTML=i[T];const O=X.firstElementChild;O&&l.appendChild(g(O))}const ee=n.scrollWidth;e.dataset.headerPostScroll=String(ee),e.dataset.headerOverflow="active",e.classList.add("nhsuk-header--nav-overflow-active")}let C=!1;const N=new MutationObserver(x=>{if(!C&&x.some(v=>v.type==="childList")){const v=Array.from(n.querySelectorAll(Pv));v.length&&v.length!==i.length&&(i=v.map(_=>_.outerHTML)),requestAnimationFrame(j)}});N.observe(n,{childList:!0});function j(){C=!0;try{y()}finally{setTimeout(()=>{C=!1},0)}}const w=x=>{x.key==="Escape"&&f()},b=x=>{c&&!e.contains(x.target)&&f()},S=ej(j,150);window.addEventListener("resize",S),window.addEventListener("orientationchange",S),document.addEventListener("keydown",w),document.addEventListener("mousedown",b),requestAnimationFrame(j);const M={root:e,destroy(){window.removeEventListener("resize",S),window.removeEventListener("orientationchange",S),document.removeEventListener("keydown",w),document.removeEventListener("mousedown",b),N.disconnect(),f()}};return e.classList.add("nhsuk-header--enhanced"),e._nhsHeaderInstance=M,M}function Bv(e=document){if(typeof window>"u"||typeof document>"u")return;const t=r=>{const i=r.currentTarget,o=i.getAttribute("href");if(!o||!o.startsWith("#"))return;const s=document.querySelector(o);if(!s)return;const l=s.hasAttribute("tabindex");l||s.setAttribute("tabindex","-1"),s.focus(),s.classList.add("nhsuk-skip-link-focused-element");const c=window.setTimeout(()=>{s.classList.remove("nhsuk-skip-link-focused-element"),!l&&s.getAttribute("tabindex")==="-1"&&s.removeAttribute("tabindex")},3e3);i.__nhsSkipLinkTimeout=c};e.querySelectorAll(".nhsuk-skip-link").forEach(r=>{const i=r;i.__nhsSkipLinkHandler||(i.addEventListener("click",t),i.__nhsSkipLinkHandler=t),i.setAttribute("data-enhanced","true")})}function Ov(e=document){if(typeof window>"u"||typeof document>"u")return;e.querySelectorAll(".nhsuk-skip-link").forEach(n=>{const r=n,i=r.__nhsSkipLinkTimeout;i&&window.clearTimeout&&window.clearTimeout(i),r.__nhsSkipLinkHandler&&(r.removeEventListener("click",r.__nhsSkipLinkHandler),delete r.__nhsSkipLinkHandler),r.removeAttribute("data-enhanced")})}function rc(e=document){Ks(e),Qs(e),ea(e),ta(e),na(e),Fv(e),Bv(e)}function Rv(e=document){If(e),Lf(e),Af(e),Ef(e),Pf(e),$v(e),Ov(e)}typeof window<"u"&&(window.__nhsInitAllBehaviours||(window.__nhsInitAllBehaviours=rc,window.__nhsTeardownAllBehaviours=Rv,document.readyState==="loading"?document.addEventListener("DOMContentLoaded",()=>rc()):rc()));const nj=Object.freeze(Object.defineProperty({__proto__:null,createButtonBehaviour:Tv,detachButtons:If,detachCharacterCounts:Ef,detachCheckboxes:Pf,detachHeaders:$v,detachRadios:Lf,detachRanges:Af,detachSkipLinks:Ov,initAll:rc,initButtons:Ks,initCharacterCounts:ta,initCheckboxes:na,initHeaders:Fv,initRadios:Qs,initRanges:ea,initSkipLinks:Bv,teardownAll:Rv},Symbol.toStringTag,{value:"Module"}));k.AXIS_Y_ZERO_BREAK_DEFAULT_EXTRA_CLEARANCE_PX=Up,k.AXIS_Y_ZERO_BREAK_DEFAULT_GAP_PX=Eo,k.AXIS_Y_ZERO_BREAK_MIN_GAP_PX=Po,k.AXIS_ZIGZAG_DEFAULT_AMPLITUDE_PX=Wp,k.AXIS_ZIGZAG_DEFAULT_CYCLES=Gp,k.AXIS_ZIGZAG_DEFAULT_HEIGHT_PX=Vp,k.AXIS_ZIGZAG_DEFAULT_STEP_X_PX=Yp,k.Account=oc,k.ActionLink=qv,k.AdaptiveDataGrid=Zc,k.AnimationDurationFast=Um,k.AnimationDurationNormal=Wm,k.AnimationDurationSlow=Gm,k.AnimationEasingBounce=qm,k.AnimationEasingEaseIn=Ym,k.AnimationEasingEaseInOut=Zm,k.AnimationEasingEaseOut=Vm,k.AppointmentCard=Gc,k.AreaSeriesPrimitive=uk,k.AriaDataGrid=cp,k.AriaTabsDataGrid=Ia,k.AriaTabsDataGridAdaptive=Zc,k.Axis=nu,k.BackLink=Li,k.BandScalesProvider=fk,k.BarSeriesPrimitive=dk,k.BehavioursLoader=VC,k.BorderColorCard=Mu,k.BorderColorCardHover=ju,k.BorderColorDefault=Cu,k.BorderColorError=Tu,k.BorderColorForm=Nu,k.BorderRadiusLarge=ug,k.BorderRadiusMedium=cg,k.BorderRadiusNone=ag,k.BorderRadiusSmall=lg,k.BorderWidthCardBottom=rg,k.BorderWidthDefault=eg,k.BorderWidthFormElement=tg,k.BorderWidthFormElementError=ng,k.BorderWidthPanel=ig,k.BorderWidthTableCell=sg,k.BorderWidthTableHeader=og,k.BrandKey=la,k.BrandThemeProvider=Fx,k.Breadcrumb=Bc,k.Breakpoint=Yf,k.BreakpointDesktop=Wy,k.BreakpointLargeDesktop=Gy,k.BreakpointMobile=zy,k.BreakpointTablet=Uy,k.Button=zt,k.ButtonBorderRadius=O0,k.ButtonBorderWidth=B0,k.ButtonPrimaryBackgroundActive=N0,k.ButtonPrimaryBackgroundDefault=k0,k.ButtonPrimaryBackgroundDisabled=M0,k.ButtonPrimaryBackgroundHover=C0,k.ButtonPrimaryBorderDefault=D0,k.ButtonPrimaryBorderFocus=I0,k.ButtonPrimaryTextDefault=j0,k.ButtonPrimaryTextDisabled=T0,k.ButtonSecondaryBackgroundActive=P0,k.ButtonSecondaryBackgroundDefault=L0,k.ButtonSecondaryBackgroundHover=E0,k.ButtonSecondaryBackgroundSolid=A0,k.ButtonSecondaryBorderDefault=$0,k.ButtonSecondaryTextDefault=F0,k.ButtonShadowSize=R0,k.ButtonSize=ac,k.ButtonSpacingPaddingHorizontalDesktop=Ju,k.ButtonSpacingPaddingHorizontalMobile=qu,k.ButtonSpacingPaddingVerticalDesktop=Xu,k.ButtonSpacingPaddingVerticalMobile=Zu,k.ButtonTypographyWeight=H0,k.ButtonVariant=sc,k.Card=Rc,k.CardBackgroundDefault=z0,k.CardBorderBottom=G0,k.CardBorderDefault=U0,k.CardBorderHover=W0,k.CardBorderWidthBottom=X0,k.CardBorderWidthDefault=q0,k.CardGroup=a2,k.CardGroupItem=l2,k.CardShadowDefault=J0,k.CardShadowHover=K0,k.CardSpacingHeadingMargin=ed,k.CardSpacingPaddingDesktop=Qu,k.CardSpacingPaddingMobile=Ku,k.CardTextDescription=V0,k.CardTextHeading=Y0,k.CardTextLink=Z0,k.CareCard=c2,k.CharacterCount=ox,k.ChartEnhancer=pk,k.ChartNoScript=hk,k.ChartRoot=Hp,k.Checkbox=Rf,k.Checkboxes=zf,k.ColorBorderDefault=_g,k.ColorBorderSecondary=wg,k.ColorButtonLoginActive=qg,k.ColorButtonLoginBackground=Vg,k.ColorButtonLoginHover=Zg,k.ColorButtonLoginShadow=Xg,k.ColorButtonPrimaryActive=Tg,k.ColorButtonPrimaryBackground=Ng,k.ColorButtonPrimaryHover=jg,k.ColorButtonPrimaryShadow=Dg,k.ColorButtonPrimaryText=Mg,k.ColorButtonReverseActive=Hg,k.ColorButtonReverseBackground=Bg,k.ColorButtonReverseHover=Rg,k.ColorButtonReverseShadow=zg,k.ColorButtonReverseText=Og,k.ColorButtonSecondaryActive=Fg,k.ColorButtonSecondaryBackground=Ig,k.ColorButtonSecondaryBackgroundSolid=Lg,k.ColorButtonSecondaryBorder=Ag,k.ColorButtonSecondaryHover=Pg,k.ColorButtonSecondaryShadow=$g,k.ColorButtonSecondaryText=Eg,k.ColorButtonWarningActive=Gg,k.ColorButtonWarningBackground=Ug,k.ColorButtonWarningHover=Wg,k.ColorButtonWarningShadow=Yg,k.ColorError=Sg,k.ColorFocusBackground=vg,k.ColorFocusText=xg,k.ColorFormBackground=Cg,k.ColorFormBorder=kg,k.ColorGrey1=Uu,k.ColorGrey2=Wu,k.ColorGrey3=Gu,k.ColorGrey4=Yu,k.ColorGrey5=Vu,k.ColorLinkActive=yg,k.ColorLinkDefault=mg,k.ColorLinkHover=gg,k.ColorLinkVisited=bg,k.ColorPrimaryBlack=Lu,k.ColorPrimaryBlue=Du,k.ColorPrimaryDarkPink=Pu,k.ColorPrimaryGreen=Au,k.ColorPrimaryPurple=Eu,k.ColorPrimaryRed=Fu,k.ColorPrimaryWhite=Iu,k.ColorPrimaryYellow=$u,k.ColorSecondaryAquaGreen=Hu,k.ColorSecondaryOrange=Ru,k.ColorSecondaryPaleYellow=Bu,k.ColorSecondaryPink=zu,k.ColorSecondaryWarmYellow=Ou,k.ColorTextPrimary=dg,k.ColorTextPrint=pg,k.ColorTextReverse=hg,k.ColorTextSecondary=fg,k.Column=Ai,k.ColumnAlign=Zf,k.ComponentBlur=v0,k.ComponentBreadcrumbChevronMarginLeft=d0,k.ComponentBreadcrumbChevronMarginRight=f0,k.ComponentBreadcrumbPaddingTopDesktop=p0,k.ComponentBreadcrumbPaddingTopMobile=h0,k.ComponentButtonPaddingDesktopHorizontal=e0,k.ComponentButtonPaddingDesktopVertical=Qg,k.ComponentButtonPaddingMobileHorizontal=Kg,k.ComponentButtonPaddingMobileVertical=Jg,k.ComponentButtonShadowSize=t0,k.ComponentCardHeadingMargin=l0,k.ComponentCardPaddingDesktop=a0,k.ComponentCardPaddingMobile=s0,k.ComponentDetails=_0,k.ComponentExpander=w0,k.ComponentFormCheckboxLabelPadding=o0,k.ComponentFormCheckboxSize=i0,k.ComponentFormInputMinHeight=n0,k.ComponentFormInputPadding=r0,k.ComponentLink=x0,k.ComponentPagination=S0,k.ComponentPanelPaddingDesktop=u0,k.ComponentPanelPaddingMobile=c0,k.ComponentSpread=b0,k.ComponentSummaryListCellPaddingHorizontal=g0,k.ComponentSummaryListCellPaddingVertical=m0,k.ComponentSummaryListRowMargin=y0,k.Container=uc,k.ContentsList=s2,k.DEFAULT_FONT_CONFIG=md,k.DashboardSummaryGrid=j2,k.DateInput=wx,k.Details=ep,k.DoDontList=tp,k.ElevationHigh=kb,k.ElevationLow=wb,k.ElevationMedium=Sb,k.ElevationNone=_b,k.ErrorMessage=fc,k.ErrorSummary=_x,k.Expander=np,k.FRUTIGER_FONT_FILES=on,k.Fieldset=sa,k.Float=Vf,k.FocusOutlineOffset=yb,k.FocusOutlineStyle=bb,k.FocusOutlineWidth=gb,k.FocusShadowButton=xb,k.FocusShadowInput=vb,k.FontFamilyBase=Vo,k.FontFamilyFallback=Zo,k.FontFamilyPrint=qo,k.FontLineHeightBase=bl,k.FontSize14Mobile=Qo,k.FontSize14Print=ts,k.FontSize14Tablet=es,k.FontSize16Mobile=ns,k.FontSize16Print=is,k.FontSize16Tablet=rs,k.FontSize19Mobile=os,k.FontSize19Print=as,k.FontSize19Tablet=ss,k.FontSize22Mobile=ls,k.FontSize22Print=us,k.FontSize22Tablet=cs,k.FontSize26Mobile=ds,k.FontSize26Print=hs,k.FontSize26Tablet=fs,k.FontSize36Mobile=ps,k.FontSize36Print=gs,k.FontSize36Tablet=ms,k.FontSize48Mobile=ys,k.FontSize48Print=vs,k.FontSize48Tablet=bs,k.FontSizeBase=yl,k.FontWeightBold=Jo,k.FontWeightLight=Ko,k.FontWeightNormal=Xo,k.Footer=mc,k.FormBorderRadius=by,k.FormBorderWidthDefault=gy,k.FormBorderWidthError=yy,k.FormErrorTextDefault=hy,k.FormErrorTypographyWeight=py,k.FormHintTextDefault=my,k.FormInputBackgroundDefault=Q0,k.FormInputBackgroundDisabled=ty,k.FormInputBackgroundError=ny,k.FormInputBackgroundFocus=ey,k.FormInputBorderDefault=ry,k.FormInputBorderDisabled=sy,k.FormInputBorderError=oy,k.FormInputBorderFocus=iy,k.FormInputTextDefault=ay,k.FormInputTextDisabled=cy,k.FormInputTextPlaceholder=ly,k.FormLabelTextDefault=uy,k.FormLabelTextRequired=dy,k.FormLabelTypographyWeight=fy,k.FormSpacingCheckboxLabelPadding=id,k.FormSpacingCheckboxSize=rd,k.FormSpacingInputMinHeight=nd,k.FormSpacingInputPadding=td,k.GanttChart=i2,k.Grid=aa,k.GridGutter=Vy,k.GridGutterHalf=Zy,k.GridLines=Zp,k.GridPageWidth=Yy,k.GridWidth=Ar,k.Header=ua,k.HeaderSSR=Bx,k.HeaderSearch=eh,k.HeaderStatic=ua,k.Heading=zn,k.HeadingsNhsukHeadingL=Qn,k.HeadingsNhsukHeadingM=er,k.HeadingsNhsukHeadingS=tr,k.HeadingsNhsukHeadingXl=Kn,k.HeadingsNhsukHeadingXs=nr,k.Hero=th,k.Hint=cc,k.Images=x2,k.Input=ia,k.InsetText=u2,k.Label=oa,k.LayoutColumnActions=Hy,k.LayoutColumnFull=$y,k.LayoutColumnHalf=By,k.LayoutColumnQuarter=Ry,k.LayoutColumnThird=Oy,k.LayoutContainerMaxWidth=Fy,k.Legend=ck,k.LineScalesProvider=zp,k.LineSeriesPrimitive=im,k.List=qf,k.LogoVariant=ca,k.MainWrapper=dc,k.MedicationCard=Yc,k.MetricCard=om,k.NHSBodyText=MC,k.NHSBodyTextLarge=jC,k.NHSBodyTextSmall=TC,k.NHSHeading1=wC,k.NHSHeading2=SC,k.NHSHeading3=kC,k.NHSHeading4=CC,k.NHSHeading5=NC,k.NHSLedeText=DC,k.NHSLedeTextSmall=IC,k.NHSThemeProvider=Mx,k.NHS_FALLBACK_FONT_STACK=GC,k.NHS_FONT_STACK=WC,k.NavigationSplitView=Cp,k.PageTemplate=aS,k.Pagination=o2,k.Panel=qh,k.ParagraphsBody=rr,k.ParagraphsBodyLarge=ir,k.ParagraphsBodySmall=or,k.ParagraphsLedeText=sr,k.ParagraphsLedeTextSmall=ar,k.ParallaxScene=fC,k.PatientCard=Wc,k.PatternBanner=mC,k.ProductCard=vC,k.ProductCardThemeEnum=fi,k.ProductRoadmap=Mp,k.Radios=lx,k.RadiosServer=ux,k.ResponsiveDataGrid=Zc,k.ResponsiveDataGridDemo=sS,k.Row=mr,k.SPC=sC,k.SPCChart=Rm,k.SPCMetricCard=lC,k.Select=xo,k.SelectOption=Wf,k.ShadowButtonDefault=ub,k.ShadowButtonFocus=hb,k.ShadowButtonSecondary=db,k.ShadowButtonWarning=fb,k.ShadowCardDefault=pb,k.ShadowCardHover=mb,k.SizeButtonMinHeightDesktop=Py,k.SizeButtonMinHeightMobile=Ey,k.SizeFormControlLarge=Ny,k.SizeFormControlMedium=Cy,k.SizeFormControlSmall=ky,k.SizeFormInputWidth2xl=Ly,k.SizeFormInputWidth3xl=Ay,k.SizeFormInputWidthLg=Dy,k.SizeFormInputWidthMd=Ty,k.SizeFormInputWidthSm=jy,k.SizeFormInputWidthXl=Iy,k.SizeFormInputWidthXs=My,k.SizeIconExtraLarge=wy,k.SizeIconLarge=_y,k.SizeIconMedium=xy,k.SizeIconNhsDefault=Sy,k.SizeIconSmall=vy,k.SkipLink=Oc,k.SlotMatrix=k2,k.SortStatusControl=$2,k.Spacing0=od,k.Spacing1=sd,k.Spacing2=ad,k.Spacing3=ld,k.Spacing4=cd,k.Spacing5=ud,k.Spacing6=dd,k.Spacing7=fd,k.Spacing8=hd,k.Spacing9=pd,k.SpacingResponsive0Mobile=Ja,k.SpacingResponsive0Tablet=Ka,k.SpacingResponsive1Mobile=Qa,k.SpacingResponsive1Tablet=el,k.SpacingResponsive2Mobile=tl,k.SpacingResponsive2Tablet=nl,k.SpacingResponsive3Mobile=rl,k.SpacingResponsive3Tablet=il,k.SpacingResponsive4Mobile=ol,k.SpacingResponsive4Tablet=sl,k.SpacingResponsive5Mobile=al,k.SpacingResponsive5Tablet=ll,k.SpacingResponsive6Mobile=cl,k.SpacingResponsive6Tablet=ul,k.SpacingResponsive7Mobile=dl,k.SpacingResponsive7Tablet=fl,k.SpacingResponsive8Mobile=hl,k.SpacingResponsive8Tablet=pl,k.SpacingResponsive9Mobile=ml,k.SpacingResponsive9Tablet=gl,k.SpacingUtilities=hx,k.StateDisabledBackground=ab,k.StateDisabledBorder=lb,k.StateDisabledText=cb,k.StateErrorBackground=qy,k.StateErrorBorder=Xy,k.StateErrorText=Jy,k.StateInfoBackground=ib,k.StateInfoBorder=ob,k.StateInfoText=sb,k.StateSuccessBackground=Ky,k.StateSuccessBorder=Qy,k.StateSuccessText=eb,k.StateWarningBackground=tb,k.StateWarningBorder=nb,k.StateWarningText=rb,k.StepByStepNavigation=M2,k.SummaryCard=sp,k.SummaryList=d2,k.Table=Vn,k.Tabs=y2,k.Tag=pt,k.TaskList=rp,k.Textarea=Uf,k.TooltipOverlay=lk,k.TooltipProvider=rm,k.TransactionalPageTemplate=lS,k.TransitionButtonDefault=Xm,k.TransitionButtonShadow=Jm,k.TransitionCardHover=Qm,k.TransitionInputFocus=Km,k.VisibilityProvider=ok,k.VitalsCard=Vc,k.WIDTH_FRACTIONS=yx,k.WarningCallout=v2,k.WidthContainer=qc,k.WidthUtilities=mx,k.WorkflowSplitView=vS,k.brandLogos=Kf,k.checkFrutigerLoaded=YC,k.createGenericTabsConfig=Aa,k.createTCHTabsConfig=U2,k.generateFrutigerFontFace=zC,k.getBrandLogo=hc,k.getResponsiveStyles=_C,k.getSpacingClass=px,k.getWidthClass=gx,k.preloadFrutigerFonts=UC,k.tchDataConfig=up,k.useBrand=Qf,k.useColors=AC,k.useComponentSpacing=$C,k.useNHSHeadings=BC,k.useNHSParagraphs=OC,k.useNHSTheme=kx,k.useNHSTypographySystem=RC,k.useNavigationSplitDrill=HC,k.useNavigationSplitUrlSync=Sp,k.useNhsFdpBreakpoints=Pa,k.useResponsiveSpacing=FC,k.useResponsiveValue=hS,k.useSpacing=EC,k.useSpc=Hm,k.useTokens=LC,k.useTypography=PC,Object.defineProperty(k,Symbol.toStringTag,{value:"Module"})}));
//# sourceMappingURL=index.umd.js.map
