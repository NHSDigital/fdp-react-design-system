(function(_,A){typeof exports=="object"&&typeof module<"u"?A(exports,require("react"),require("react-dom")):typeof define=="function"&&define.amd?define(["exports","react","react-dom"],A):(_=typeof globalThis<"u"?globalThis:_||self,A(_.NHSFDPDesignSystem={},_.React,_.ReactDOM))})(this,(function(_,A,$g){"use strict";function Ig(t){const e=Object.create(null,{[Symbol.toStringTag]:{value:"Module"}});if(t){for(const n in t)if(n!=="default"){const r=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(e,n,r.get?r:{enumerable:!0,get:()=>t[n]})}}return e.default=t,Object.freeze(e)}const K=Ig(A);function Pg(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Fa={exports:{}},Nr={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ac;function Lg(){if(ac)return Nr;ac=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(r,a,i){var o=null;if(i!==void 0&&(o=""+i),a.key!==void 0&&(o=""+a.key),"key"in a){i={};for(var l in a)l!=="key"&&(i[l]=a[l])}else i=a;return a=i.ref,{$$typeof:t,type:r,key:o,ref:a!==void 0?a:null,props:i}}return Nr.Fragment=e,Nr.jsx=n,Nr.jsxs=n,Nr}var jr={};/**
 * @license React
 * react-jsx-runtime.development.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ic;function Fg(){return ic||(ic=1,process.env.NODE_ENV!=="production"&&(function(){function t(W){if(W==null)return null;if(typeof W=="function")return W.$$typeof===D?null:W.displayName||W.name||null;if(typeof W=="string")return W;switch(W){case h:return"Fragment";case L:return"Profiler";case f:return"StrictMode";case N:return"Suspense";case k:return"SuspenseList";case b:return"Activity"}if(typeof W=="object")switch(typeof W.tag=="number"&&console.error("Received an unexpected object in getComponentNameFromType(). This is likely a bug in React. Please file an issue."),W.$$typeof){case y:return"Portal";case j:return(W.displayName||"Context")+".Provider";case M:return(W._context.displayName||"Context")+".Consumer";case S:var G=W.render;return W=W.displayName,W||(W=G.displayName||G.name||"",W=W!==""?"ForwardRef("+W+")":"ForwardRef"),W;case $:return G=W.displayName||null,G!==null?G:t(W.type)||"Memo";case v:G=W._payload,W=W._init;try{return t(W(G))}catch{}}return null}function e(W){return""+W}function n(W){try{e(W);var G=!1}catch{G=!0}if(G){G=console;var H=G.error,oe=typeof Symbol=="function"&&Symbol.toStringTag&&W[Symbol.toStringTag]||W.constructor.name||"Object";return H.call(G,"The provided key is an unsupported type %s. This value must be coerced to a string before using it here.",oe),e(W)}}function r(W){if(W===h)return"<>";if(typeof W=="object"&&W!==null&&W.$$typeof===v)return"<...>";try{var G=t(W);return G?"<"+G+">":"<...>"}catch{return"<...>"}}function a(){var W=x.A;return W===null?null:W.getOwner()}function i(){return Error("react-stack-top-frame")}function o(W){if(C.call(W,"key")){var G=Object.getOwnPropertyDescriptor(W,"key").get;if(G&&G.isReactWarning)return!1}return W.key!==void 0}function l(W,G){function H(){P||(P=!0,console.error("%s: `key` is not a prop. Trying to access it will result in `undefined` being returned. If you need to access the same value within the child component, you should pass it as a different prop. (https://react.dev/link/special-props)",G))}H.isReactWarning=!0,Object.defineProperty(W,"key",{get:H,configurable:!0})}function u(){var W=t(this.type);return w[W]||(w[W]=!0,console.error("Accessing element.ref was removed in React 19. ref is now a regular prop. It will be removed from the JSX Element type in a future release.")),W=this.props.ref,W!==void 0?W:null}function c(W,G,H,oe,T,O,Q,re){return H=O.ref,W={$$typeof:g,type:W,key:G,props:O,_owner:T},(H!==void 0?H:null)!==null?Object.defineProperty(W,"ref",{enumerable:!1,get:u}):Object.defineProperty(W,"ref",{enumerable:!1,value:null}),W._store={},Object.defineProperty(W._store,"validated",{configurable:!1,enumerable:!1,writable:!0,value:0}),Object.defineProperty(W,"_debugInfo",{configurable:!1,enumerable:!1,writable:!0,value:null}),Object.defineProperty(W,"_debugStack",{configurable:!1,enumerable:!1,writable:!0,value:Q}),Object.defineProperty(W,"_debugTask",{configurable:!1,enumerable:!1,writable:!0,value:re}),Object.freeze&&(Object.freeze(W.props),Object.freeze(W)),W}function d(W,G,H,oe,T,O,Q,re){var q=G.children;if(q!==void 0)if(oe)if(B(q)){for(oe=0;oe<q.length;oe++)p(q[oe]);Object.freeze&&Object.freeze(q)}else console.error("React.jsx: Static children should always be an array. You are likely explicitly calling React.jsxs or React.jsxDEV. Use the Babel transform instead.");else p(q);if(C.call(G,"key")){q=t(W);var R=Object.keys(G).filter(function(le){return le!=="key"});oe=0<R.length?"{key: someKey, "+R.join(": ..., ")+": ...}":"{key: someKey}",z[q+oe]||(R=0<R.length?"{"+R.join(": ..., ")+": ...}":"{}",console.error(`A props object containing a "key" prop is being spread into JSX:
  let props = %s;
  <%s {...props} />
React keys must be passed directly to JSX without using spread:
  let props = %s;
  <%s key={someKey} {...props} />`,oe,q,R,q),z[q+oe]=!0)}if(q=null,H!==void 0&&(n(H),q=""+H),o(G)&&(n(G.key),q=""+G.key),"key"in G){H={};for(var V in G)V!=="key"&&(H[V]=G[V])}else H=G;return q&&l(H,typeof W=="function"?W.displayName||W.name||"Unknown":W),c(W,q,O,T,a(),H,Q,re)}function p(W){typeof W=="object"&&W!==null&&W.$$typeof===g&&W._store&&(W._store.validated=1)}var m=A,g=Symbol.for("react.transitional.element"),y=Symbol.for("react.portal"),h=Symbol.for("react.fragment"),f=Symbol.for("react.strict_mode"),L=Symbol.for("react.profiler"),M=Symbol.for("react.consumer"),j=Symbol.for("react.context"),S=Symbol.for("react.forward_ref"),N=Symbol.for("react.suspense"),k=Symbol.for("react.suspense_list"),$=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),b=Symbol.for("react.activity"),D=Symbol.for("react.client.reference"),x=m.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,C=Object.prototype.hasOwnProperty,B=Array.isArray,I=console.createTask?console.createTask:function(){return null};m={react_stack_bottom_frame:function(W){return W()}};var P,w={},E=m.react_stack_bottom_frame.bind(m,i)(),te=I(r(i)),z={};jr.Fragment=h,jr.jsx=function(W,G,H,oe,T){var O=1e4>x.recentlyCreatedOwnerStacks++;return d(W,G,H,!1,oe,T,O?Error("react-stack-top-frame"):E,O?I(r(W)):te)},jr.jsxs=function(W,G,H,oe,T){var O=1e4>x.recentlyCreatedOwnerStacks++;return d(W,G,H,!0,oe,T,O?Error("react-stack-top-frame"):E,O?I(r(W)):te)}})()),jr}var sc;function Bg(){return sc||(sc=1,process.env.NODE_ENV==="production"?Fa.exports=Lg():Fa.exports=Fg()),Fa.exports}var s=Bg(),ns={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/var oc;function Ag(){return oc||(oc=1,(function(t){(function(){var e={}.hasOwnProperty;function n(){for(var i="",o=0;o<arguments.length;o++){var l=arguments[o];l&&(i=a(i,r(l)))}return i}function r(i){if(typeof i=="string"||typeof i=="number")return i;if(typeof i!="object")return"";if(Array.isArray(i))return n.apply(null,i);if(i.toString!==Object.prototype.toString&&!i.toString.toString().includes("[native code]"))return i.toString();var o="";for(var l in i)e.call(i,l)&&i[l]&&(o=a(o,l));return o}function a(i,o){return o?i?i+" "+o:i+o:i}t.exports?(n.default=n,t.exports=n):window.classNames=n})()})(ns)),ns.exports}var Eg=Ag();const ge=Pg(Eg),Hg=({text:t,href:e,openInNewWindow:n=!1,className:r,...a})=>{const i=ge("nhsuk-action-link__link",r);return s.jsx("div",{className:"nhsuk-action-link",children:s.jsxs("a",{className:i,href:e,target:n?"_blank":void 0,rel:n?"noopener noreferrer":void 0,...a,children:[s.jsxs("svg",{className:"nhsuk-icon nhsuk-icon__arrow-right-circle",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24","aria-hidden":"true",width:"36",height:"36",children:[s.jsx("path",{d:"M0 0h24v24H0z",fill:"none"}),s.jsx("path",{d:"M12 2a10 10 0 0 0-9.95 9h11.64L9.74 7.05a1 1 0 0 1 1.41-1.41l5.66 5.65a1 1 0 0 1 0 1.42l-5.66 5.65a1 1 0 0 1-1.41 0 1 1 0 0 1 0-1.41L13.69 13H2.05A10 10 0 1 0 12 2z"})]}),s.jsx("span",{className:"nhsuk-action-link__text",children:t})]})})},lc=({ariaLabel:t="Account",items:e=[],className:n,variant:r="default"})=>{if(!e||e.length===0)return null;const a=i=>{const o=i.icon?s.jsx("svg",{className:"nhsuk-icon nhsuk-icon__user",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24","aria-hidden":"true",focusable:"false",role:"img","aria-label":i.icon===!0?"User":void 0,children:s.jsx("path",{d:"M12 1a11 11 0 1 1 0 22 11 11 0 0 1 0-22Zm0 2a9 9 0 0 0-5 16.5V18a4 4 0 0 1 4-4h2a4 4 0 0 1 4 4v1.5A9 9 0 0 0 12 3Zm0 3a3.5 3.5 0 1 1-3.5 3.5A3.4 3.4 0 0 1 12 6Z"})}):null,l=i.html?s.jsx("span",{dangerouslySetInnerHTML:{__html:i.html}}):i.text,u=s.jsxs(s.Fragment,{children:[o,l]});return i.href?s.jsx("a",{className:"nhsuk-account__link nhsuk-header__account-link",href:i.href,children:u}):i.action?s.jsx("form",{className:"nhsuk-account__form",action:i.action,method:i.method||"post",children:s.jsx("button",{className:"nhsuk-account__button",type:"submit",role:"button",children:u})}):s.jsx("span",{children:u})};return s.jsx("nav",{className:ge("nhsuk-account",{"nhsuk-account--white":r==="white"},n),"aria-label":t,children:s.jsx("ul",{className:"nhsuk-account__list",children:e.map((i,o)=>i&&s.jsx("li",{className:ge("nhsuk-account__item nhsuk-header__account-item",i.className),children:a(i)},o))})})};function Rg(t){const e=t.variant||"primary",n=t.size||"default",r=!!t.fullWidth,a=["nhs-aria-button",`nhs-aria-button--${e}`,n!=="default"?`nhs-aria-button--${n}`:"",r?"nhs-aria-button--full-width":"",t.className||""].filter(Boolean).join(" ");return{tag:t.href?"a":"button",classes:a,data:{module:"nhs-button"},attrs:t.href?{href:t.href,role:"button"}:{type:"button"},preventDoubleClick:!!t.preventDoubleClick}}const{forwardRef:Og,useCallback:gn,useState:rs}=K;function zg(t,e){const{children:n,variant:r="primary",size:a="default",fullWidth:i=!1,className:o="",preventDoubleClick:l=!1,...u}=t,[c,d]=rs(!1),[p,m]=rs(!1),[g,y]=rs(!1),h=Rg({variant:r,size:a,fullWidth:i,className:o,preventDoubleClick:l,href:"href"in u?u.href:void 0}),f="disabled"in u?u.disabled:u["aria-disabled"]==="true",L={...c&&{"data-pressed":"true"},...p&&{"data-hovered":"true"},...g&&{"data-focused":"true"},...f&&{"data-disabled":"true"}},M=gn(()=>!f&&d(!0),[f]),j=gn(()=>d(!1),[]),S=gn(()=>!f&&m(!0),[f]),N=gn(()=>{m(!1),d(!1)},[]),k=gn(()=>y(!0),[]),$=gn(()=>y(!1),[]),v=gn(q=>{q.key===" "&&("href"in u||q.currentTarget.getAttribute("role")==="button")&&(q.preventDefault(),q.currentTarget.click())},[u]),b=gn(q=>{if(l){const R=q.currentTarget;if(R.getAttribute("data-processing")==="true"){q.preventDefault();return}R.setAttribute("data-processing","true"),setTimeout(()=>{R.removeAttribute("data-processing")},1e3)}},[l]);if("href"in u&&u.href){const{id:q,style:R,title:V,["aria-label"]:le,["aria-describedby"]:U,["aria-labelledby"]:de,tabIndex:ie,...ue}=u,fe=u;return s.jsx("a",{ref:e,href:fe.href,target:fe.target,rel:fe.rel,className:h.classes,role:"button",draggable:"false","data-module":"nhs-button",...L,...l&&{"data-prevent-double-click":"true"},...ue,onKeyDown:ye=>{fe.onKeyDown?.(ye),v(ye)},onClick:ye=>{fe.onClick?.(ye),b(ye)},onMouseDown:ye=>{fe.onMouseDown?.(ye),M()},onMouseUp:ye=>{fe.onMouseUp?.(ye),j()},onMouseEnter:ye=>{fe.onMouseEnter?.(ye),S()},onMouseLeave:ye=>{fe.onMouseLeave?.(ye),N()},onFocus:ye=>{fe.onFocus?.(ye),k()},onBlur:ye=>{fe.onBlur?.(ye),$()},"aria-disabled":fe["aria-disabled"],...fe["aria-disabled"]==="true"&&{tabIndex:-1},id:q,style:R,title:V,"aria-label":le,"aria-describedby":U,"aria-labelledby":de,tabIndex:ie,children:n})}const{id:D,style:x,title:C,["aria-label"]:B,["aria-describedby"]:I,["aria-labelledby"]:P,tabIndex:w,name:E,value:te,form:z,formAction:W,formEncType:G,formMethod:H,formNoValidate:oe,formTarget:T,autoFocus:O,...Q}=u,re=u;return s.jsx("button",{ref:e,type:re.type||"button",disabled:re.disabled,className:h.classes,"data-module":"nhs-button",...L,...l&&{"data-prevent-double-click":"true"},...re.disabled&&{"aria-disabled":"true"},...Q,onKeyDown:q=>{re.onKeyDown?.(q),v(q)},onClick:q=>{re.onClick?.(q),b(q)},onMouseDown:q=>{re.onMouseDown?.(q),M()},onMouseUp:q=>{re.onMouseUp?.(q),j()},onMouseEnter:q=>{re.onMouseEnter?.(q),S()},onMouseLeave:q=>{re.onMouseLeave?.(q),N()},onFocus:q=>{re.onFocus?.(q),k()},onBlur:q=>{re.onBlur?.(q),$()},id:D,style:x,title:C,"aria-label":B,"aria-describedby":I,"aria-labelledby":P,tabIndex:w,name:E,value:te,form:z,formAction:W,formEncType:G,formMethod:H,formNoValidate:oe,formTarget:T,autoFocus:O,children:n})}const rt=Og(zg);rt.displayName="Button";const Ba=({text:t="Back",html:e,href:n="#",className:r,element:a="a",onClick:i,...o})=>{const l=ge("nhsuk-back-link",r),u=ge("nhsuk-back-link__link"),c=()=>s.jsxs(s.Fragment,{children:[s.jsx("svg",{className:"nhsuk-icon nhsuk-icon__chevron-left",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24","aria-hidden":"true",height:"24",width:"24",children:s.jsx("path",{d:"M8.5 12c0-.3.1-.5.3-.7l5-5c.4-.4 1-.4 1.4 0s.4 1 0 1.4L10.9 12l4.3 4.3c.4.4.4 1 0 1.4s-1 .4-1.4 0l-5-5c-.2-.2-.3-.4-.3-.7z"})}),e?s.jsx("span",{dangerouslySetInnerHTML:{__html:e}}):t]});return s.jsx("div",{className:l,children:a==="button"?s.jsx("button",{className:u,onClick:i,type:"button",...o,children:c()}):s.jsx("a",{className:u,href:n,...o,children:c()})})};function Wg(t){const{color:e="default",noBorder:n,closable:r,disabled:a,className:i}=t;return{classes:["nhsuk-tag",e!=="default"?`nhsuk-tag--${e}`:"",n?"nhsuk-tag--no-border":"",r?"nhsuk-tag--closable":"",a?"nhsuk-tag--disabled":"",i||""].filter(Boolean).join(" "),showClose:!!r,disabled:!!a}}const Ge=({text:t,html:e,children:n,color:r="default",noBorder:a=!1,closable:i=!1,onClose:o,disabled:l=!1,className:u,...c})=>{const d=Wg({color:r,noBorder:a,closable:i,disabled:l,className:u}),p=m=>{m.preventDefault(),m.stopPropagation(),!l&&o&&o()};return s.jsxs("strong",{className:d.classes,...c,children:[n||(e?s.jsx("span",{dangerouslySetInnerHTML:{__html:e}}):t),i&&s.jsx("button",{type:"button",className:"nhsuk-tag__close",onClick:p,disabled:l,"aria-label":"Remove",title:"Remove",children:"Ã—"})]})},cc=({id:t,name:e,checked:n,defaultChecked:r=!1,disabled:a=!1,value:i="true",hint:o,errorMessage:l,className:u,children:c,onChange:d,onBlur:p,onFocus:m,attributes:g,...y})=>{const[h,f]=A.useState(r),L=n!==void 0,M=L?n:h;A.useEffect(()=>{L||f(r)},[r,L]);const j=v=>{const b=v.target.checked;L||f(b),d?.(b,v)},S=o?`${t}-hint`:void 0,N=l?`${t}-error`:void 0,k=[S,N].filter(Boolean).join(" ")||void 0,$=ge("nhsuk-form-group",{"nhsuk-form-group--error":!!l},u);return s.jsx("div",{className:$,...y,children:s.jsx("div",{className:"nhsuk-checkboxes",children:s.jsxs("div",{className:"nhsuk-checkboxes__item",children:[s.jsx("input",{className:"nhsuk-checkboxes__input",id:t,name:e||t,type:"checkbox",value:i,checked:M,disabled:a,onChange:j,onBlur:p,onFocus:m,"aria-describedby":k,...g}),s.jsx("label",{className:"nhsuk-checkboxes__label",htmlFor:t,children:c}),o&&s.jsx("div",{id:S,className:"nhsuk-checkboxes__hint",children:o}),l&&s.jsxs("div",{id:N,className:"nhsuk-error-message nhsuk-checkboxes__error",children:[s.jsx("span",{className:"nhsuk-u-visually-hidden",children:"Error:"})," ",l]})]})})})};cc.displayName="Checkbox";function Ug(t){const n=(t.type||"text")==="range";return{classes:["nhsuk-input",t.hasError?"nhsuk-input--error":"",n?"nhsuk-input--range":"",!n&&t.width&&t.width!=="full"?`nhsuk-input--width-${t.width}`:"",t.className||""].filter(Boolean).join(" "),isRange:n}}const Aa=({id:t,name:e,type:n="text",value:r,defaultValue:a,placeholder:i,disabled:o=!1,readOnly:l=!1,required:u=!1,hasError:c=!1,describedBy:d,className:p,width:m="full",inputMode:g,autoComplete:y,maxLength:h,minLength:f,pattern:L,step:M,min:j,max:S,showValueLabels:N=!1,showCurrentValue:k=!1,valueLabels:$,onChange:v,onBlur:b,onFocus:D,onKeyDown:x,...C})=>{const[B,I]=A.useState(r||a||(n==="range"?j||"0":""));A.useEffect(()=>{r!==void 0&&I(r)},[r]);const P=T=>{const O=T.target;I(O.value),("type"in T&&T.nativeEvent||T.type==="keydown")&&v?.(T)},{classes:w,isRange:E}=Ug({type:n,hasError:c,width:m,className:p}),te=r!==void 0,z={id:t,name:e,type:n,placeholder:i,disabled:o,readOnly:l,required:u,"aria-describedby":d,inputMode:g,autoComplete:y,maxLength:h,minLength:f,pattern:L,step:M,min:j,max:S,onChange:P,onBlur:b,onFocus:D,onKeyDown:T=>{if(E&&/[0-9]/.test(T.key)){const O=(B?.toString()||"")+T.key;T.target.value=O,P(T)}x?.(T)},...C},W=!te&&a!==void 0?{defaultValue:a}:{},G=te?{value:r}:{},H=()=>s.jsx("input",{className:w,...G,...W,"data-current-value":B,...z}),oe=E?s.jsxs("div",{className:"nhsuk-input-range-wrapper",children:[N&&s.jsxs("div",{className:"nhsuk-input-range-labels",children:[s.jsx("span",{className:"nhsuk-input-range-label nhsuk-input-range-label--min",children:$?.min||j||"0"}),H(),s.jsx("span",{className:"nhsuk-input-range-label nhsuk-input-range-label--max",children:$?.max||S||"100"})]}),!N&&H(),k&&s.jsx("div",{className:"nhsuk-input-range-current-value",children:s.jsxs("span",{className:"nhsuk-input-range-current-label",children:[$?.current||"Current value:"," ",s.jsx("strong",{children:B})]})})]}):null;return E?oe:s.jsx("input",{className:w,id:t,name:e,type:n,value:r,...r===void 0&&a!==void 0?{defaultValue:a}:{},placeholder:i,disabled:o,readOnly:l,required:u,"aria-describedby":d,inputMode:g,autoComplete:y,maxLength:h,minLength:f,pattern:L,step:M,min:j,max:S,onChange:v,onBlur:b,onFocus:D,onKeyDown:x,...C})};function Gg(t){const e=t.size||"m",n=["nhsuk-label",e!=="m"?`nhsuk-label--${e}`:"",t.className||""].filter(Boolean).join(" ");return{tag:t.isPageHeading?"h1":"label",classes:n,size:e,htmlFor:t.isPageHeading?void 0:t.htmlFor,isPageHeading:!!t.isPageHeading}}const Ea=({htmlFor:t,className:e,isPageHeading:n=!1,size:r="m",children:a,...i})=>{const o=Gg({size:r,isPageHeading:n,className:e,htmlFor:t}),l=o.tag;return s.jsx(l,{className:o.classes,htmlFor:o.htmlFor,...i,children:n?s.jsx("label",{className:"nhsuk-label-wrapper",htmlFor:t,children:a}):a})},Ha=({children:t,legend:e,className:n,describedBy:r,...a})=>{const i=ge("nhsuk-fieldset",n),o=ge("nhsuk-fieldset__legend",{[`nhsuk-fieldset__legend--${e?.size}`]:e?.size},e?.className),l=()=>{const u=e?.html?s.jsx("span",{dangerouslySetInnerHTML:{__html:e.html}}):e?.text;return e?.isPageHeading?s.jsx("h1",{className:"nhsuk-fieldset__heading",children:u}):u};return s.jsxs("fieldset",{className:i,"aria-describedby":r,...a,children:[e&&(e.text||e.html)&&s.jsx("legend",{className:o,children:l()}),t]})},uc=({items:t,name:e,idPrefix:n,legend:r,isPageHeading:a=!1,legendSize:i="l",hint:o,errorMessage:l,className:u="",small:c=!1,onChange:d,fieldsetAttributes:p,attributes:m,...g})=>{const[y,h]=A.useState(t.filter(v=>v.checked).map(v=>v.value)),f=n||e,L=o?`${f}-hint`:void 0,M=l?`${f}-error`:void 0,j=[L,M].filter(Boolean).join(" ")||void 0,S=(v,b)=>{let D;b?D=[...y,v]:D=y.filter(x=>x!==v),h(D),d?.(D)},N=()=>t.map((v,b)=>{const D=`${f}-${b+1}`,x=`${D}-conditional`,C=y.includes(v.value),B=v.disabled||!1;return s.jsxs("div",{className:"nhsuk-checkboxes__item",children:[s.jsx("input",{className:"nhsuk-checkboxes__input",id:D,name:e,type:"checkbox",value:v.value,checked:C,disabled:B,onChange:I=>S(v.value,I.target.checked),"aria-describedby":v.hint?`${D}-hint`:j,...v.conditional&&{"aria-controls":x,"aria-expanded":C?"true":"false"},...v.attributes}),s.jsx("label",{className:"nhsuk-checkboxes__label",htmlFor:D,children:v.text}),v.hint&&s.jsx("div",{id:`${D}-hint`,className:"nhsuk-checkboxes__hint",children:v.hint}),v.conditional&&s.jsx("div",{className:ge("nhsuk-checkboxes__conditional",{"nhsuk-checkboxes__conditional--hidden":!C}),id:x,children:typeof v.conditional=="object"&&v.conditional!==null&&"label"in v.conditional&&"id"in v.conditional&&"name"in v.conditional?s.jsxs("div",{style:{marginTop:"16px"},children:[v.conditional.label&&s.jsx(Ea,{htmlFor:v.conditional.id,children:v.conditional.label}),s.jsx(Aa,{...v.conditional})]}):v.conditional})]},v.value)}),k=ge("nhsuk-checkboxes",{"nhsuk-checkboxes--small":c},u),$=ge("nhsuk-form-group",{"nhsuk-form-group--error":!!l});return s.jsx("div",{className:$,...m,...g,children:s.jsxs(Ha,{legend:r?{text:r,isPageHeading:a,size:i}:void 0,describedBy:j,...p,children:[o&&s.jsx("div",{id:L,className:"nhsuk-hint",children:o}),l&&s.jsxs("div",{id:M,className:"nhsuk-error-message",children:[s.jsx("span",{className:"nhsuk-u-visually-hidden",children:"Error:"})," ",l]}),s.jsx("div",{className:k,children:N()})]})})};uc.displayName="Checkboxes";const dc=({id:t,name:e,value:n,defaultValue:r,placeholder:a,disabled:i=!1,readOnly:o=!1,required:l=!1,hasError:u=!1,describedBy:c,className:d,rows:p=5,cols:m,maxLength:g,minLength:y,wrap:h="soft",resize:f="vertical",autoComplete:L,spellCheck:M,onChange:j,onBlur:S,onFocus:N,onKeyDown:k,...$})=>{const v=ge("nhsuk-textarea",{"nhsuk-textarea--error":u,[`nhsuk-textarea--resize-${f}`]:f!=="vertical"},d);return s.jsx("textarea",{className:v,id:t,name:e,value:n,defaultValue:r,placeholder:a,disabled:i,readOnly:o,required:l,"aria-describedby":c,rows:p,cols:m,maxLength:g,minLength:y,wrap:h,autoComplete:L,spellCheck:M,onChange:j,onBlur:S,onFocus:N,onKeyDown:k,...$})};function Vg(t){return{classes:["nhsuk-hint",t.className||""].filter(Boolean).join(" "),id:t.id}}const as=({id:t,className:e,children:n,...r})=>{const a=Vg({id:t,className:e});return s.jsx("div",{className:a.classes,id:a.id,...r,children:n})},Yg=({id:t,maxLength:e,maxWords:n,threshold:r=75,name:a,value:i,defaultValue:o,rows:l,className:u,countMessage:c,onCountChange:d,onChange:p,...m})=>{const g=i??o??"",[y,h]=A.useState(g),[f,L]=A.useState(0),[M,j]=A.useState(!1),[S,N]=A.useState(!1),k=A.useCallback(C=>n?C.trim()===""?0:C.trim().split(/\s+/).length:C.length,[n]);A.useEffect(()=>{const C=k(y),B=e||n||0,I=B-C,P=Math.floor(B*(r/100));L(I),j(C>B),N(C>=P||C>B),d&&d(C,I)},[y,e,n,r,k,d]);const $=C=>{const B=C.target.value;h(B),p&&p(C)},v=()=>{const C=e||n||0,B=n?"word":"character",I=n?"words":"characters";if(!S)return`You can enter up to ${C} ${C===1?B:I}`;if(M){const P=Math.abs(f);return`You have ${P} ${P===1?B:I} too many`}else return`You have ${f} ${f===1?B:I} remaining`},b=ge("nhsuk-character-count",u),D=ge("nhsuk-character-count__message",{"nhsuk-character-count__message--disabled":!S,"nhsuk-error-message":M},c?.classes),x=ge("nhsuk-js-character-count",{"nhsuk-textarea--error":M});return s.jsxs("div",{className:b,"data-module":"nhsuk-character-count","data-maxlength":e,"data-maxwords":n,"data-threshold":r,"data-testid":"character-count",children:[s.jsx(dc,{id:t,name:a,value:i!==void 0?y:void 0,defaultValue:i===void 0?o??y:void 0,rows:l,className:x,onChange:$,"aria-describedby":`${t}-info`,"aria-invalid":M||void 0,...m}),s.jsx(as,{id:`${t}-info`,className:D,role:"status","aria-live":"polite",children:v()})]})},fc=({value:t,disabled:e=!1,selected:n=!1,className:r,children:a,...i})=>{const o=ge("nhsuk-select__option",r);return s.jsx("option",{className:o,value:t,disabled:e,...i,children:a})},Dr=({id:t,name:e,ariaLabel:n,value:r,defaultValue:a,disabled:i=!1,required:o=!1,hasError:l=!1,describedBy:u,className:c,multiple:d=!1,size:p,autoComplete:m,options:g,children:y,onChange:h,onBlur:f,onFocus:L,...M})=>{const j=ge("nhsuk-select",{"nhsuk-select--error":l},c),S=()=>g?g.map((k,$)=>s.jsx("option",{value:k.value,disabled:k.disabled,"data-initial-selected":k.selected||void 0,children:k.text},`${k.value}-${$}`)):null,N=a===void 0&&r===void 0&&g?g.find(k=>k.selected)?.value:void 0;return s.jsx("select",{className:j,id:t,name:e,"aria-label":n,value:r,defaultValue:a!==void 0?a:N,disabled:i,required:o,"aria-describedby":u,multiple:d,size:p,autoComplete:m,onChange:h,onBlur:f,onFocus:L,...M,children:y||S()})};Dr.Option=fc;function hc(t,{variant:e,selectedValue:n,enableBehaviourAttr:r,handleChange:a,handleBlur:i,handleFocus:o,handleKeyDown:l,itemsRef:u}){const{onChange:c,onBlur:d,onFocus:p,...m}=t,{name:g,hasError:y=!1,describedBy:h,className:f,size:L="normal",inline:M=!1,options:j,...S}=m,N=ge("nhsuk-radios",{"nhsuk-radios--error":y,"nhsuk-radios--small":L==="small","nhsuk-radios--inline":M},f);return s.jsx(Ha,{children:s.jsx("div",{className:N,...S,...r?{"data-nhs-behaviour":"radios"}:{},children:j.map((k,$)=>{const v=`${g}-${$}`,b=k.conditional?`${v}-conditional`:void 0,D=n===k.value;return s.jsxs("div",{className:"nhsuk-radios__item",children:[s.jsx("input",{className:"nhsuk-radios__input",id:v,name:g,type:"radio",value:k.value,disabled:k.disabled,...e==="client"?{checked:D,onChange:a,onBlur:i,onFocus:o,onKeyDown:l,ref:x=>{x&&u&&(u.current[$]=x)}}:{defaultChecked:D,"data-nhs-radios-input":!0},"aria-describedby":h}),s.jsx("label",{className:"nhsuk-radios__label",htmlFor:v,children:k.text}),k.hint&&s.jsx("div",{className:"nhsuk-radios__hint",children:k.hint}),k.conditional&&s.jsx("div",{className:ge("nhsuk-radios__conditional",{"nhsuk-radios__conditional--hidden":!D}),id:b,...e==="server"?{"data-nhs-radios-conditional":!0}:{},children:typeof k.conditional=="object"&&k.conditional!==null&&"label"in k.conditional&&"id"in k.conditional&&"name"in k.conditional?s.jsxs("div",{style:{marginTop:"16px"},children:[k.conditional.label&&s.jsx(Ea,{htmlFor:k.conditional.id,children:k.conditional.label}),s.jsx(Aa,{...k.conditional})]}):k.conditional})]},k.value)})})})}const qg=({value:t,defaultValue:e,onChange:n,onBlur:r,onFocus:a,...i})=>{const[o,l]=A.useState(t||e||""),u=A.useRef([]),c=A.useRef(o),d=g=>{const y=g.target.value;y!==c.current&&(c.current=y,l(y),n?.(g))},p=g=>{a?.(g)},m=A.useCallback(g=>{const{key:y}=g;if(!["ArrowDown","ArrowUp","ArrowRight","ArrowLeft"].includes(y))return;g.preventDefault();const h=u.current.filter(j=>j&&!j.disabled),f=h.indexOf(g.currentTarget);if(f===-1)return;let L=f;["ArrowDown","ArrowRight"].includes(y)?L=(f+1)%h.length:["ArrowUp","ArrowLeft"].includes(y)&&(L=(f-1+h.length)%h.length);const M=h[L];M&&(M.focus(),M.checked||M.click())},[]);return hc({value:t,defaultValue:e,onChange:n,onBlur:r,onFocus:a,...i},{variant:"client",selectedValue:o,enableBehaviourAttr:!1,handleChange:d,handleBlur:r,handleFocus:p,handleKeyDown:m,itemsRef:u})},Xg=({value:t,defaultValue:e,...n})=>{const r=t||e||"";return hc({value:t,defaultValue:e,...n},{variant:"server",selectedValue:r,enableBehaviourAttr:!0})},is=({children:t,className:e,fluid:n=!1,maxWidth:r,style:a,...i})=>{const o=ge({"nhsuk-width-container":!n,"nhsuk-width-container-fluid":n},e),l=r?{maxWidth:r,...a||{}}:a;return s.jsx("div",{className:o,style:l,...i,children:t})},_n=({children:t,className:e,style:n,...r})=>{const a=ge("nhsuk-grid-row",e);return s.jsx("div",{className:a,style:n,...r,children:t})},Qn=({children:t,width:e="full",mobileWidth:n,tabletWidth:r,desktopWidth:a,start:i,className:o,forceWidth:l=!1,style:u,...c})=>{const d=ge({[`nhsuk-grid-column-${e}`]:!l,[`nhsuk-u-${e}`]:l,[`nhsuk-u-${n}-mobile`]:n,[`nhsuk-u-${r}-tablet`]:r,[`nhsuk-u-${a}-desktop`]:a,[`nhsuk-grid-column-start-${i}`]:i&&i>=1&&i<=7},o);return s.jsx("div",{className:d,style:u,...c,children:t})},Ra=({children:t,className:e,style:n,...r})=>{const i=A.Children.toArray(t)[0],o=A.isValidElement(i)&&(i.type===_n||typeof i.props=="object"&&i.props&&"className"in i.props&&typeof i.props.className=="string"&&i.props.className.includes("nhsuk-grid-row"));return s.jsx(is,{className:e,style:n,...r,children:o?t:s.jsx(_n,{children:t})})},Kg=({children:t,type:e="bullet",size:n="medium",border:r=!1,className:a,role:i,as:o,...l})=>{const u=o||(e==="number"?"ol":"ul"),c=ge("nhsuk-list",{"nhsuk-list--bullet":e==="bullet","nhsuk-list--number":e==="number","nhsuk-list--none":e==="none","nhsuk-list--border":r,[`nhsuk-list--${n}`]:n!=="medium"},a);return s.jsx(u,{className:c,role:i,...l,children:t})},Zg=({children:t,className:e,...n})=>{const r=ge("nhsuk-list__item",e);return s.jsx("li",{className:r,...n,children:t})},pc=Kg;pc.Item=Zg;const Jg=({debug:t=!1,className:e,children:n,...r})=>{if(!n)return null;const a=["nhsuk-spacing-utilities",t&&"nhsuk-spacing-utilities--debug",e].filter(Boolean).join(" ");return s.jsx("div",{className:a,...r,children:n})},Qg={margin:t=>`nhsuk-u-margin-${t}`,marginTop:t=>`nhsuk-u-margin-top-${t}`,marginRight:t=>`nhsuk-u-margin-right-${t}`,marginBottom:t=>`nhsuk-u-margin-bottom-${t}`,marginLeft:t=>`nhsuk-u-margin-left-${t}`,padding:t=>`nhsuk-u-padding-${t}`,paddingTop:t=>`nhsuk-u-padding-top-${t}`,paddingRight:t=>`nhsuk-u-padding-right-${t}`,paddingBottom:t=>`nhsuk-u-padding-bottom-${t}`,paddingLeft:t=>`nhsuk-u-padding-left-${t}`,marginResponsive:t=>`nhsuk-u-margin-responsive-${t}`,marginTopResponsive:t=>`nhsuk-u-margin-top-responsive-${t}`,marginRightResponsive:t=>`nhsuk-u-margin-right-responsive-${t}`,marginBottomResponsive:t=>`nhsuk-u-margin-bottom-responsive-${t}`,marginLeftResponsive:t=>`nhsuk-u-margin-left-responsive-${t}`,paddingResponsive:t=>`nhsuk-u-padding-responsive-${t}`,paddingTopResponsive:t=>`nhsuk-u-padding-top-responsive-${t}`,paddingRightResponsive:t=>`nhsuk-u-padding-right-responsive-${t}`,paddingBottomResponsive:t=>`nhsuk-u-padding-bottom-responsive-${t}`,paddingLeftResponsive:t=>`nhsuk-u-padding-left-responsive-${t}`},e0=({debug:t=!1,className:e,children:n,...r})=>{if(!n)return null;const a=["nhsuk-width-utilities",t&&"nhsuk-width-utilities--debug",e].filter(Boolean).join(" ");return s.jsx("div",{className:a,...r,children:n})},t0={width:t=>`nhsuk-u-width-${t}`,widthTablet:t=>`nhsuk-u-width-${t}-tablet`},n0=["full","three-quarters","two-thirds","one-half","one-third","one-quarter"],ss=({as:t="main",size:e="default",className:n,children:r,...a})=>{const i=["nhsuk-main-wrapper",e==="large"&&"nhsuk-main-wrapper--l",e==="small"&&"nhsuk-main-wrapper--s",n].filter(Boolean).join(" ");return s.jsx(t,{className:i,...a,children:r})};function r0(t){switch(t){case"xxl":case"xl":return 1;case"l":return 2;case"m":return 3;case"s":return 4;case"xs":return 5;default:return 2}}function a0(t){const e=t.level??r0(t.size),n=["nhsuk-heading",t.size?`nhsuk-heading--${t.size}`:"",t.className||""].filter(Boolean).join(" "),r=t.marginBottom?{marginBottom:t.marginBottom}:void 0;return{tag:`h${e}`,classes:n,style:r}}const At=({level:t,className:e,text:n,html:r,children:a,size:i,marginBottom:o,...l})=>{const u=a0({level:t,size:i,className:e,marginBottom:o}),c=a||(r?s.jsx("span",{dangerouslySetInnerHTML:{__html:r}}):n);return A.createElement(u.tag,{className:u.classes,style:u.style,...l},c)};function i0(t){return{classes:["nhsuk-error-message",t.className||""].filter(Boolean).join(" "),id:t.id,visuallyHiddenText:t.visuallyHiddenText??"Error:"}}const os=({id:t,className:e,visuallyHiddenText:n="Error:",children:r,...a})=>{const i=i0({id:t,className:e,visuallyHiddenText:n});return s.jsxs("span",{className:i.classes,id:i.id,...a,children:[s.jsxs("span",{className:"nhsuk-u-visually-hidden",children:[i.visuallyHiddenText," "]}),r]})},s0=({titleText:t="There is a problem",titleHtml:e,descriptionText:n,descriptionHtml:r,errorList:a,className:i,children:o,...l})=>{const u=A.useRef(null);A.useEffect(()=>{u.current&&u.current.focus()},[]);const c=ge("nhsuk-error-summary",i),d=()=>e?s.jsx("span",{dangerouslySetInnerHTML:{__html:e}}):t,p=()=>r?s.jsx("span",{dangerouslySetInnerHTML:{__html:r}}):n,m=g=>{const y=g.html?s.jsx("span",{dangerouslySetInnerHTML:{__html:g.html}}):g.text;return g.href?s.jsx("a",{href:g.href,...g.attributes,children:y}):y};return s.jsxs("div",{ref:u,className:c,"aria-labelledby":"error-summary-title",role:"alert",tabIndex:-1,"data-module":"nhsuk-error-summary",...l,children:[s.jsx("h2",{className:"nhsuk-error-summary__title",id:"error-summary-title",children:d()}),s.jsxs("div",{className:"nhsuk-error-summary__body",children:[o&&s.jsx("div",{className:"nhsuk-error-summary__description","data-role":"description",children:o}),!o&&(n||r)&&s.jsx("div",{className:"nhsuk-error-summary__description","data-role":"description",children:p()}),s.jsx("ul",{className:"nhsuk-list nhsuk-error-summary__list",role:"list",children:a.map((g,y)=>s.jsx("li",{children:m(g)},y))})]})]})},o0=({id:t,className:e,items:n,namePrefix:r,values:a={},fieldset:i,hint:o,errorMessage:l,onChange:u,...c})=>{const[d,p]=A.useState(()=>({day:a.day||"",month:a.month||"",year:a.year||""})),[m,g]=A.useState({}),y=P=>P%4===0&&P%100!==0||P%400===0,h=(P,w)=>{const E=[31,28,31,30,31,30,31,31,30,31,30,31];return P===2&&y(w)?29:E[P-1]},f=(P,w,E)=>{if(!P)return;if(!/^\d+$/.test(P))return"Day must be a number";const te=parseInt(P,10);if(te<1||te>31)return"Day must be between 1 and 31";if(w&&E){const z=parseInt(w,10),W=parseInt(E,10);if(!isNaN(z)&&!isNaN(W)&&z>=1&&z<=12){const G=h(z,W);if(te>G)return`${["January","February","March","April","May","June","July","August","September","October","November","December"][z-1]} ${W} only has ${G} days`}}},L=P=>{if(!P)return;if(!/^\d+$/.test(P))return"Month must be a number";const w=parseInt(P,10);if(w<1||w>12)return"Month must be between 1 and 12"},M=P=>{if(!P)return;if(!/^\d+$/.test(P))return"Year must be a number";const w=parseInt(P,10),E=new Date().getFullYear();if(w<1900||w>E+10)return`Year must be between 1900 and ${E+10}`},j=(P,w,E)=>{if(!P||!w||!E)return;const te=parseInt(P,10),z=parseInt(w,10),W=parseInt(E,10);if(isNaN(te)||isNaN(z)||isNaN(W)||z<1||z>12||W<1900)return;const G=h(z,W);te<1||te>G},S=A.useCallback((P,w)=>{const E={...d,[P]:w};p(E),u&&u(E)},[d,u]),N=A.useCallback(P=>{const w=d[P];let E;if(P==="day")E=f(w,d.month,d.year);else if(P==="month"){if(E=L(w),!E&&d.day){const te=f(d.day,w,d.year);g(z=>({...z,day:te}))}}else if(P==="year"&&(E=M(w),!E&&d.day&&d.month)){const te=f(d.day,d.month,w);g(z=>({...z,day:te}))}if(g(te=>({...te,[P]:E})),d.day&&d.month&&d.year){const te=j(P==="day"?w:d.day,P==="month"?w:d.month,P==="year"?w:d.year);te&&g(z=>({...z,day:te}))}},[d,f,L,M,j]),k=A.useMemo(()=>[{name:"day",classes:"nhsuk-input--width-2",inputmode:"numeric",pattern:"[0-9]*"},{name:"month",classes:"nhsuk-input--width-2",inputmode:"numeric",pattern:"[0-9]*"},{name:"year",classes:"nhsuk-input--width-4",inputmode:"numeric",pattern:"[0-9]*"}],[]),$=n||k;let v=i?.describedBy||"";const b=o?`${t}-hint`:"",D=l?`${t}-error`:"";b&&(v=v?`${v} ${b}`:b),D&&(v=v?`${v} ${D}`:D);const x=Object.values(m).some(P=>P),C=ge("nhsuk-form-group",{"nhsuk-form-group--error":l||x}),B=ge("nhsuk-date-input",e),I=()=>s.jsxs(s.Fragment,{children:[o&&s.jsx(as,{id:b,className:o.classes,children:o.html?s.jsx("span",{dangerouslySetInnerHTML:{__html:o.html}}):o.text}),l&&s.jsx(os,{id:D,className:l.classes,children:l.html?s.jsx("span",{dangerouslySetInnerHTML:{__html:l.html}}):l.text}),Object.entries(m).map(([P,w])=>w?s.jsxs(os,{id:`${t}-${P}-error`,className:"nhsuk-error-message",children:[s.jsx("span",{className:"nhsuk-u-visually-hidden",children:"Error:"})," ",w]},`${P}-error`):null),s.jsx("div",{className:B,id:t,"data-testid":"date-input",...c,children:$.map(P=>{const w=P.id||`${t}-${P.name}`,E=r?`${r}[${P.name}]`:P.name,te=P.label||P.name.charAt(0).toUpperCase()+P.name.slice(1),z=m[P.name],W=d[P.name]||"";let G=v;if(z){const H=`${t}-${P.name}-error`;G=G?`${G} ${H}`:H}return s.jsxs("div",{className:"nhsuk-date-input__item",children:[s.jsx(Ea,{htmlFor:w,className:"nhsuk-date-input__label",children:te}),s.jsx(Aa,{id:w,name:E,value:W,className:ge("nhsuk-date-input__input",P.classes,{"nhsuk-input--error":z}),inputMode:P.inputmode,autoComplete:P.autocomplete,pattern:P.pattern,"aria-describedby":G||void 0,hasError:!!z,onChange:H=>S(P.name,H.target.value),onBlur:()=>N(P.name)})]},P.name)})})]});return s.jsx("div",{className:C,children:i?s.jsx(Ha,{className:i.classes,legend:i.legend?{text:i.legend}:void 0,describedBy:v||void 0,children:I()}):I()})},mc={animation:{AnimationDurationFast:"150ms",AnimationDurationNormal:"300ms",AnimationDurationSlow:"500ms",AnimationEasingEaseIn:"cubic-bezier(0.4, 0, 1, 1)",AnimationEasingEaseOut:"cubic-bezier(0, 0, 0.2, 1)",AnimationEasingEaseInOut:"cubic-bezier(0.4, 0, 0.2, 1)",AnimationEasingBounce:"cubic-bezier(0.68, -0.55, 0.265, 1.55)"},transition:{TransitionButtonDefault:"background-color 300ms cubic-bezier(0, 0, 0.2, 1)",TransitionButtonShadow:"box-shadow 150ms cubic-bezier(0, 0, 0.2, 1)",TransitionInputFocus:"border-color 150ms cubic-bezier(0, 0, 0.2, 1), box-shadow 150ms cubic-bezier(0, 0, 0.2, 1)",TransitionCardHover:"border-color 300ms cubic-bezier(0, 0, 0.2, 1)"},border:{BorderWidthDefault:"1px",BorderWidthFormElement:"2px",BorderWidthFormElementError:"4px",BorderWidthCardBottom:"4px",BorderWidthPanel:"4px",BorderWidthTableHeader:"2px",BorderWidthTableCell:"1px",BorderRadiusNone:"0px",BorderRadiusSmall:"4px",BorderRadiusMedium:"8px",BorderRadiusLarge:"12px",BorderColorDefault:"#d8dde0",BorderColorForm:"#4c6272",BorderColorCard:"#d8dde0",BorderColorCardHover:"#aeb7bd",BorderColorError:"#d5281b"},color:{ColorPrimaryBlue:"#005eb8",ColorPrimaryWhite:"#ffffff",ColorPrimaryBlack:"#212b32",ColorPrimaryGreen:"#007f3b",ColorPrimaryPurple:"#330072",ColorPrimaryDarkPink:"#7c2855",ColorPrimaryRed:"#d5281b",ColorPrimaryYellow:"#ffeb3b",ColorSecondaryPaleYellow:"#fff9c4",ColorSecondaryWarmYellow:"#ffb81c",ColorSecondaryOrange:"#ed8b00",ColorSecondaryAquaGreen:"#00a499",ColorSecondaryPink:"#ae2573",ColorGrey1:"#4c6272",ColorGrey2:"#768692",ColorGrey3:"#aeb7bd",ColorGrey4:"#d8dde0",ColorGrey5:"#f0f4f5",ColorTextPrimary:"#212b32",ColorTextSecondary:"#4c6272",ColorTextReverse:"#ffffff",ColorTextPrint:"#212b32",ColorLinkDefault:"#005eb8",ColorLinkHover:"#7c2855",ColorLinkActive:"#003087",ColorLinkVisited:"#330072",ColorFocusBackground:"#ffeb3b",ColorFocusText:"#212b32",ColorBorderDefault:"#d8dde0",ColorBorderSecondary:"#ffffff33",ColorError:"#d5281b",ColorFormBorder:"#4c6272",ColorFormBackground:"#ffffff",ColorButtonPrimaryBackground:"#007f3b",ColorButtonPrimaryText:"#ffffff",ColorButtonPrimaryHover:"#006530",ColorButtonPrimaryActive:"#004021",ColorButtonPrimaryShadow:"#004021",ColorButtonSecondaryBackground:"#00000000",ColorButtonSecondaryBackgroundSolid:"#ffffff",ColorButtonSecondaryBorder:"#005eb8",ColorButtonSecondaryText:"#005eb8",ColorButtonSecondaryHover:"#d9e5f2",ColorButtonSecondaryActive:"#c7daf0",ColorButtonSecondaryShadow:"#005eb8",ColorButtonReverseBackground:"#ffffff",ColorButtonReverseText:"#212b32",ColorButtonReverseHover:"#d9dde0",ColorButtonReverseActive:"#b3bcc2",ColorButtonReverseShadow:"#b3bcc2",ColorButtonWarningBackground:"#d5281b",ColorButtonWarningHover:"#aa2016",ColorButtonWarningActive:"#6a140e",ColorButtonWarningShadow:"#6a140e",ColorButtonLoginBackground:"#005eb8",ColorButtonLoginHover:"#004b93",ColorButtonLoginActive:"#002f5c",ColorButtonLoginShadow:"#002f5c"},component:{ComponentButtonPaddingMobileVertical:"8px",ComponentButtonPaddingMobileHorizontal:"16px",ComponentButtonPaddingDesktopVertical:"12px",ComponentButtonPaddingDesktopHorizontal:"16px",ComponentButtonShadowSize:"4px",ComponentFormInputMinHeight:"40px",ComponentFormInputPadding:"4px",ComponentFormCheckboxSize:"40px",ComponentFormCheckboxLabelPadding:"12px",ComponentCardPaddingMobile:"16px",ComponentCardPaddingDesktop:"32px",ComponentCardHeadingMargin:"16px",ComponentPanelPaddingMobile:"20px",ComponentPanelPaddingDesktop:"28px",ComponentBreadcrumbChevronMarginLeft:"9px",ComponentBreadcrumbChevronMarginRight:"2px",ComponentBreadcrumbPaddingTopMobile:"16px",ComponentBreadcrumbPaddingTopDesktop:"24px",ComponentSummaryListCellPaddingVertical:"8px",ComponentSummaryListCellPaddingHorizontal:"24px",ComponentSummaryListRowMargin:"16px",ComponentSpread:"4px",ComponentBlur:"4px",ComponentLink:"4px",ComponentDetails:"8px",ComponentExpander:"4px",ComponentPagination:"16px"},button:{ButtonPrimaryBackgroundDefault:"#007f3b",ButtonPrimaryBackgroundHover:"#006530",ButtonPrimaryBackgroundActive:"#004021",ButtonPrimaryBackgroundDisabled:"#d8dde0",ButtonPrimaryTextDefault:"#ffffff",ButtonPrimaryTextDisabled:"#768692",ButtonPrimaryBorderDefault:"#00000000",ButtonPrimaryBorderFocus:"#ffeb3b",ButtonSecondaryBackgroundDefault:"#00000000",ButtonSecondaryBackgroundSolid:"#ffffff",ButtonSecondaryBackgroundHover:"#d9e5f2",ButtonSecondaryBackgroundActive:"#c7daf0",ButtonSecondaryTextDefault:"#005eb8",ButtonSecondaryBorderDefault:"#005eb8",ButtonSpacingPaddingVerticalMobile:"8px",ButtonSpacingPaddingHorizontalMobile:"16px",ButtonSpacingPaddingVerticalDesktop:"12px",ButtonSpacingPaddingHorizontalDesktop:"16px",ButtonBorderWidth:"2px",ButtonBorderRadius:"4px",ButtonShadowSize:"4px",ButtonTypographyWeight:"600"},card:{CardBackgroundDefault:"#ffffff",CardBorderDefault:"#d8dde0",CardBorderHover:"#aeb7bd",CardBorderBottom:"#f0f4f5",CardTextHeading:"#212b32",CardTextDescription:"#212b32",CardTextLink:"#005eb8",CardSpacingPaddingMobile:"16px",CardSpacingPaddingDesktop:"32px",CardSpacingHeadingMargin:"16px",CardBorderWidthDefault:"1px",CardBorderWidthBottom:"4px",CardShadowDefault:"none",CardShadowHover:"0 2px 4px rgba(0, 0, 0, 0.1)"},form:{FormInputBackgroundDefault:"#ffffff",FormInputBackgroundFocus:"#ffffff",FormInputBackgroundDisabled:"#d8dde0",FormInputBackgroundError:"#ffffff",FormInputBorderDefault:"#4c6272",FormInputBorderFocus:"#ffeb3b",FormInputBorderError:"#d5281b",FormInputBorderDisabled:"#aeb7bd",FormInputTextDefault:"#212b32",FormInputTextPlaceholder:"#4c6272",FormInputTextDisabled:"#768692",FormLabelTextDefault:"#212b32",FormLabelTextRequired:"#ffffff",FormLabelTypographyWeight:"600",FormErrorTextDefault:"#d5281b",FormErrorTypographyWeight:"600",FormHintTextDefault:"#4c6272",FormSpacingInputPadding:"4px",FormSpacingInputMinHeight:"40px",FormSpacingCheckboxSize:"40px",FormSpacingCheckboxLabelPadding:"12px",FormBorderWidthDefault:"2px",FormBorderWidthError:"4px",FormBorderRadius:"0px"},size:{SizeIconSmall:"16px",SizeIconMedium:"18px",SizeIconLarge:"24px",SizeIconExtraLarge:"32px",SizeIconNhsDefault:"34px",SizeFormControlSmall:"32px",SizeFormControlMedium:"40px",SizeFormControlLarge:"48px",SizeFormInputWidthXs:"5.4ex",SizeFormInputWidthSm:"7.2ex",SizeFormInputWidthMd:"9ex",SizeFormInputWidthLg:"10.8ex",SizeFormInputWidthXl:"20ex",SizeFormInputWidth2xl:"38ex",SizeFormInputWidth3xl:"56ex",SizeButtonMinHeightMobile:"44px",SizeButtonMinHeightDesktop:"40px"},layout:{LayoutContainerMaxWidth:"1020px",LayoutColumnFull:"100%",LayoutColumnHalf:"50%",LayoutColumnThird:"33.333%",LayoutColumnQuarter:"25%",LayoutColumnActions:"20%"},breakpoint:{BreakpointMobile:"320px",BreakpointTablet:"641px",BreakpointDesktop:"1025px",BreakpointLargeDesktop:"1280px"},grid:{GridPageWidth:"960px",GridGutter:"32px",GridGutterHalf:"16px"},state:{StateErrorBackground:"#d5281b",StateErrorBorder:"#d5281b",StateErrorText:"#ffffff",StateSuccessBackground:"#007f3b",StateSuccessBorder:"#007f3b",StateSuccessText:"#ffffff",StateWarningBackground:"#ffeb3b",StateWarningBorder:"#ffeb3b",StateWarningText:"#212b32",StateInfoBackground:"#005eb8",StateInfoBorder:"#005eb8",StateInfoText:"#ffffff",StateDisabledBackground:"#d8dde0",StateDisabledBorder:"#aeb7bd",StateDisabledText:"#768692"},shadow:{ShadowButtonDefault:"0 4px 0 #004021",ShadowButtonSecondary:"0 4px 0 #005eb8",ShadowButtonWarning:"0 4px 0 #6a140e",ShadowButtonFocus:"0 4px 0 #ffeb3b",ShadowCardDefault:"none",ShadowCardHover:"0 2px 4px rgba(0, 0, 0, 0.1)"},"focus-outline":{FocusOutlineWidth:"4px",FocusOutlineOffset:"0px",FocusOutlineStyle:"solid"},"focus-shadow":{FocusShadowInput:"0 0 0 3px #ffeb3b",FocusShadowButton:"0 0 0 3px #ffeb3b"},elevation:{ElevationNone:"none",ElevationLow:"0 1px 3px rgba(0, 0, 0, 0.12)",ElevationMedium:"0 2px 6px rgba(0, 0, 0, 0.16)",ElevationHigh:"0 4px 12px rgba(0, 0, 0, 0.20)"},spacing:{Spacing0:"0",Spacing1:"4px",Spacing2:"8px",Spacing3:"16px",Spacing4:"24px",Spacing5:"32px",Spacing6:"40px",Spacing7:"48px",Spacing8:"56px",Spacing9:"64px"},"spacing-responsive":{SpacingResponsive0Mobile:"0",SpacingResponsive0Tablet:"0",SpacingResponsive1Mobile:"4px",SpacingResponsive1Tablet:"4px",SpacingResponsive2Mobile:"8px",SpacingResponsive2Tablet:"8px",SpacingResponsive3Mobile:"8px",SpacingResponsive3Tablet:"16px",SpacingResponsive4Mobile:"16px",SpacingResponsive4Tablet:"24px",SpacingResponsive5Mobile:"24px",SpacingResponsive5Tablet:"32px",SpacingResponsive6Mobile:"32px",SpacingResponsive6Tablet:"40px",SpacingResponsive7Mobile:"40px",SpacingResponsive7Tablet:"48px",SpacingResponsive8Mobile:"48px",SpacingResponsive8Tablet:"56px",SpacingResponsive9Mobile:"56px",SpacingResponsive9Tablet:"64px"},font:{FontFamilyBase:"Frutiger W01",FontFamilyFallback:"Arial, Helvetica, sans-serif",FontFamilyPrint:"sans-serif",FontWeightNormal:"400",FontWeightBold:"600",FontWeightLight:"400",FontSize14Mobile:"12px",FontSize14Tablet:"14px",FontSize14Print:"12pt",FontSize16Mobile:"14px",FontSize16Tablet:"16px",FontSize16Print:"12pt",FontSize19Mobile:"16px",FontSize19Tablet:"19px",FontSize19Print:"13pt",FontSize22Mobile:"19px",FontSize22Tablet:"22px",FontSize22Print:"15pt",FontSize26Mobile:"22px",FontSize26Tablet:"26px",FontSize26Print:"17pt",FontSize36Mobile:"27px",FontSize36Tablet:"36px",FontSize36Print:"20pt",FontSize48Mobile:"33px",FontSize48Tablet:"48px",FontSize48Print:"24pt",FontSizeBase:"16px",FontLineHeightBase:"24px"},headings:{xl:{fontFamily:"Frutiger W01",fontWeight:"600",fontSize:{mobile:"33px",tablet:"48px",print:"24pt"},lineHeight:"1.09",marginTop:"0",marginBottom:{mobile:"40px",tablet:"48px"}},l:{fontFamily:"Frutiger W01",fontWeight:"600",fontSize:{mobile:"27px",tablet:"36px",print:"20pt"},lineHeight:"1.11",marginTop:"0",marginBottom:{mobile:"16px",tablet:"24px"}},m:{fontFamily:"Frutiger W01",fontWeight:"600",fontSize:{mobile:"22px",tablet:"26px",print:"17pt"},lineHeight:"1.15",marginTop:"0",marginBottom:{mobile:"16px",tablet:"24px"}},s:{fontFamily:"Frutiger W01",fontWeight:"600",fontSize:{mobile:"19px",tablet:"22px",print:"15pt"},lineHeight:"1.18",marginTop:"0",marginBottom:{mobile:"16px",tablet:"24px"}},xs:{fontFamily:"Frutiger W01",fontWeight:"600",fontSize:{mobile:"16px",tablet:"19px",print:"13pt"},lineHeight:"1.26",marginTop:"0",marginBottom:{mobile:"16px",tablet:"24px"}}},paragraphs:{body:{fontFamily:"Frutiger W01",fontWeight:"400",fontSize:{mobile:"16px",tablet:"19px",print:"13pt"},lineHeight:"1.47",marginTop:"0",marginBottom:{mobile:"16px",tablet:"24px"}},bodyLarge:{fontFamily:"Frutiger W01",fontWeight:"400",fontSize:{mobile:"22px",tablet:"26px",print:"17pt"},lineHeight:"1.38",marginTop:"0",marginBottom:{mobile:"24px",tablet:"32px"}},bodySmall:{fontFamily:"Frutiger W01",fontWeight:"400",fontSize:{mobile:"14px",tablet:"16px",print:"12pt"},lineHeight:"1.5",marginTop:"0",marginBottom:{mobile:"16px",tablet:"24px"}},ledeText:{fontFamily:"Frutiger W01",fontWeight:"400",fontSize:{mobile:"22px",tablet:"26px",print:"17pt"},lineHeight:"1.38",marginTop:"0",marginBottom:{mobile:"40px",tablet:"48px"}},ledeTextSmall:{fontFamily:"Frutiger W01",fontWeight:"400",fontSize:{mobile:"16px",tablet:"19px",print:"13pt"},lineHeight:"1.47",marginTop:"0",marginBottom:{mobile:"24px",tablet:"32px"}}}},gc=A.createContext(mc),l0=({children:t,theme:e={}})=>{const n={...mc,...e};return s.jsx(gc.Provider,{value:n,children:t})},c0=()=>{const t=A.useContext(gc);if(!t)throw new Error("useNHSTheme must be used within an NHSThemeProvider");return t};function u0(){return`
	@font-face {
	  font-display: swap;
	  font-family: "Frutiger W01";
	  font-style: normal;
	  font-weight: 400;
	  src: url("https://assets.nhs.uk/fonts/FrutigerLTW01-55Roman.eot");
	  src: url("https://assets.nhs.uk/fonts/FrutigerLTW01-55Roman.eot?#iefix") format("embedded-opentype"),
		   url("https://assets.nhs.uk/fonts/FrutigerLTW01-55Roman.woff2") format("woff2"),
		   url("https://assets.nhs.uk/fonts/FrutigerLTW01-55Roman.woff") format("woff");
	}
	
	@font-face {
	  font-display: swap;
	  font-family: "Frutiger W01";
	  font-style: normal;
	  font-weight: 600;
	  src: url("https://assets.nhs.uk/fonts/FrutigerLTW01-65Bold.eot");
	  src: url("https://assets.nhs.uk/fonts/FrutigerLTW01-65Bold.eot?#iefix") format("embedded-opentype"),
		   url("https://assets.nhs.uk/fonts/FrutigerLTW01-65Bold.woff2") format("woff2"),
		   url("https://assets.nhs.uk/fonts/FrutigerLTW01-65Bold.woff") format("woff");
	}
  `}function d0(){if(typeof document>"u"||document.getElementById("nhs-fonts"))return;const t=document.createElement("style");t.id="nhs-fonts",t.textContent=u0(),document.head.appendChild(t)}const f0=({children:t,theme:e})=>(A.useEffect(()=>{d0()},[]),s.jsx(l0,{theme:e,children:t})),_c=({mode:t="form",action:e="/search",method:n="get",name:r="q",value:a,placeholder:i="Search",visuallyHiddenLabel:o="Search the NHS website",visuallyHiddenButton:l="Search",className:u,disabled:c=!1,callbacks:d={},isLoading:p=!1,showResults:m=!1,results:g=[],formAttributes:y={},inputAttributes:h={},buttonAttributes:f={},preventDefaultSubmit:L=!1,debounceMs:M=300,minQueryLength:j=1})=>{const[S,N]=A.useState(""),[k,$]=A.useState(!1),v=A.useRef(void 0),b=A.useRef(null),D=A.useRef(null),x=t==="controlled"&&a!==void 0,C=x?a:S,B=A.useCallback(oe=>{v.current&&clearTimeout(v.current),v.current=setTimeout(()=>{d.onChange&&oe.length>=j&&d.onChange(oe)},M)},[d.onChange,M,j]),I=A.useCallback(oe=>{const T=oe.target.value;x||N(T),t!=="form"&&B(T)},[x,t,B]),P=A.useCallback(oe=>{const T=C.trim(),O={query:T,timestamp:Date.now(),formData:new FormData(oe.currentTarget)};t==="controlled"||t==="hybrid"&&L?(oe.preventDefault(),d.onSearch&&T.length>=j&&d.onSearch(O)):t==="hybrid"&&d.onSearch&&T.length>=j&&d.onSearch(O)},[t,C,d.onSearch,L,j]),w=A.useCallback(()=>{$(!0),d.onFocus?.()},[d.onFocus]),E=A.useCallback(()=>{$(!1),d.onBlur?.()},[d.onBlur]),te=A.useCallback(()=>{x||N(""),d.onClear?.(),D.current?.focus()},[x,d.onClear]);A.useEffect(()=>()=>{v.current&&clearTimeout(v.current)},[]);const z=()=>s.jsx("svg",{className:ge("nhsuk-icon nhsuk-icon__search",{"nhsuk-icon__search--loading":p}),xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24","aria-hidden":"true",focusable:"false",children:s.jsx("path",{d:"M19.71 18.29l-4.11-4.1a7 7 0 1 0-1.41 1.41l4.1 4.11a1 1 0 0 0 1.42 0 1 1 0 0 0 0-1.42zM5 10a5 5 0 1 1 5 5 5 5 0 0 1-5-5z"})}),W=()=>s.jsx("svg",{className:"nhsuk-icon nhsuk-icon__spinner",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24","aria-hidden":"true",focusable:"false",children:s.jsxs("circle",{cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"2",fill:"none",strokeLinecap:"round",strokeDasharray:"31.416",strokeDashoffset:"31.416",children:[s.jsx("animate",{attributeName:"stroke-dasharray",dur:"2s",values:"0 31.416;15.708 15.708;0 31.416",repeatCount:"indefinite"}),s.jsx("animate",{attributeName:"stroke-dashoffset",dur:"2s",values:"0;-15.708;-31.416",repeatCount:"indefinite"})]})}),G=()=>!C||t==="form"?null:s.jsx("button",{type:"button",className:"nhsuk-header__search-clear",onClick:te,"aria-label":"Clear search",children:s.jsx("svg",{className:"nhsuk-icon nhsuk-icon__close",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24","aria-hidden":"true",focusable:"false",children:s.jsx("path",{d:"M13.41 12l5.3-5.29a1 1 0 1 0-1.42-1.42L12 10.59l-5.29-5.3a1 1 0 0 0-1.42 1.42l5.3 5.29-5.3 5.29a1 1 0 0 0 1.42 1.42l5.29-5.3 5.29 5.3a1 1 0 0 0 1.42-1.42z"})})}),H=()=>!m||!g.length||!k?null:s.jsx("div",{className:"nhsuk-header__search-results",role:"listbox",children:g.map(oe=>s.jsx("div",{className:"nhsuk-header__search-result",role:"option",children:oe.href?s.jsxs("a",{href:oe.href,className:"nhsuk-header__search-result-link",children:[s.jsx("span",{className:"nhsuk-header__search-result-title",children:oe.title}),oe.description&&s.jsx("span",{className:"nhsuk-header__search-result-description",children:oe.description})]}):s.jsxs("button",{type:"button",className:"nhsuk-header__search-result-button",onClick:()=>d.onSearch?.({query:oe.title,timestamp:Date.now()}),children:[s.jsx("span",{className:"nhsuk-header__search-result-title",children:oe.title}),oe.description&&s.jsx("span",{className:"nhsuk-header__search-result-description",children:oe.description})]})},oe.id))});return s.jsxs("div",{className:ge("nhsuk-header__search",u,{"nhsuk-header__search--controlled":t==="controlled","nhsuk-header__search--hybrid":t==="hybrid","nhsuk-header__search--loading":p,"nhsuk-header__search--focused":k,"nhsuk-header__search--has-results":m&&g.length>0}),children:[s.jsxs("form",{ref:b,className:"nhsuk-header__search-form",id:"search",action:t!=="controlled"?e:void 0,method:t!=="controlled"?n:void 0,role:"search",onSubmit:P,...y,children:[s.jsx("label",{className:"nhsuk-u-visually-hidden",htmlFor:"search-field",children:o}),s.jsxs("div",{className:"nhsuk-header__search-input-wrapper",children:[s.jsx("input",{ref:D,className:"nhsuk-header__search-input nhsuk-input",id:"search-field",name:t!=="controlled"?r:void 0,type:"search",placeholder:i,autoComplete:"off",value:C,onChange:I,onFocus:w,onBlur:E,disabled:c||p,...m&&g.length>0?{"aria-expanded":!0,"aria-haspopup":"listbox"}:{},...h}),G()]}),s.jsxs("button",{className:"nhsuk-header__search-submit",type:"submit",disabled:c||p||t!=="form"&&C.length<j,...f,children:[p?W():z(),s.jsx("span",{className:"nhsuk-u-visually-hidden",children:p?"Searching...":l})]})]}),H()]})};function bc(t,{variant:e,isClient:n,menuOpen:r=!1,showMoreButton:a=!1,visibleItems:i,dropdownVisible:o,toggleMenu:l,navContainerRef:u,navListRef:c}){const{className:d,logo:p={},service:m={},organisation:g,search:y,account:h,navigation:f,containerClasses:L,variant:M="default",attributes:j={},maxVisibleItems:S,responsiveNavigation:N=!0,...k}=t;"maxVisibleItems"in k&&delete k.maxVisibleItems;const $=m.href&&!p.href||m.href&&m.href===p.href,v=$?m.href:p.href,b=ge("nhsuk-header",{"nhsuk-header--organisation":M==="organisation"||g,"nhsuk-header--white":M==="white"},d),D=ge("nhsuk-header__container",L),x=ge("nhsuk-header__navigation",{"nhsuk-header__navigation--white":f?.white,"nhsuk-header__navigation--justified":f?.justified},f?.className),C=()=>s.jsxs("svg",{className:"nhsuk-header__logo",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 200 80",height:"40",width:"100",focusable:"false",role:"img","aria-label":p.ariaLabel||"NHS",children:[s.jsx("title",{children:p.ariaLabel||"NHS"}),s.jsx("path",{fill:"#fff",d:"M200 0v80H0V0h200Zm-27.5 5.5c-14.5 0-29 5-29 22 0 10.2 7.7 13.5 14.7 16.3l.7.3c5.4 2 10.1 3.9 10.1 8.4 0 6.5-8.5 7.5-14 7.5s-12.5-1.5-16-3.5L135 70c5.5 2 13.5 3.5 20 3.5 15.5 0 32-4.5 32-22.5 0-19.5-25.5-16.5-25.5-25.5 0-5.5 5.5-6.5 12.5-6.5a35 35 0 0 1 14.5 3l4-13.5c-4.5-2-12-3-20-3Zm-131 2h-22l-14 65H22l9-45h.5l13.5 45h21.5l14-65H64l-9 45h-.5l-13-45Zm63 0h-18l-13 65h17l6-28H117l-5.5 28H129l13.5-65H125L119.5 32h-20l5-24.5Z"})]}),B=()=>p.src?s.jsx("img",{className:"nhsuk-header__organisation-logo",src:p.src,width:"280",alt:p.ariaLabel||"NHS"}):C(),I=()=>g?s.jsxs(s.Fragment,{children:[s.jsxs("span",{className:"nhsuk-header__organisation-name",children:[g.name,g.split&&s.jsxs("span",{className:"nhsuk-header__organisation-name-split",children:[" ",g.split]})]}),g.descriptor&&s.jsx("span",{className:"nhsuk-header__organisation-name-descriptor",children:g.descriptor})]}):null,P=(G,H)=>G?H?s.jsx("a",{className:"nhsuk-header__service-name",href:H,children:G}):s.jsx("span",{className:"nhsuk-header__service-name",children:G}):null,w=G=>G.active||G.current?s.jsx("strong",{className:"nhsuk-header__navigation-item-current-fallback",children:G.html?s.jsx("span",{dangerouslySetInnerHTML:{__html:G.html}}):G.text}):G.html?s.jsx("span",{dangerouslySetInnerHTML:{__html:G.html}}):G.text,E=()=>s.jsx("svg",{className:"nhsuk-icon nhsuk-icon__chevron-down",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24","aria-hidden":"true",focusable:"false",children:s.jsx("path",{d:"M15.5 12a1 1 0 0 1-.29.71l-5 5a1 1 0 0 1-1.42-1.42l4.3-4.29-4.3-4.29a1 1 0 0 1 1.42-1.42l5 5a1 1 0 0 1 .29.71z"})}),te=e==="server"&&f?.items&&!N,z=te?[]:f?.items,W=te?f.items:[];return s.jsxs("header",{className:b,role:"banner","data-module":"nhsuk-header",...j,...k,children:[s.jsxs("div",{className:D,children:[s.jsxs("div",{className:"nhsuk-header__service",children:[v?s.jsxs("a",{className:"nhsuk-header__service-logo",href:v,children:[B(),I(),$&&P(m.text)]}):s.jsxs(s.Fragment,{children:[B(),I(),$&&P(m.text)]}),m.text&&!$&&P(m.text,m.href)]}),y&&s.jsx(_c,{...y}),s.jsx(lc,{...h,variant:M==="white"?"white":"default"})]}),f&&f.items&&f.items.length>0&&s.jsx("nav",{className:x,"aria-label":f.ariaLabel||"Menu",children:s.jsx("div",{className:ge("nhsuk-header__navigation-container","nhsuk-width-container",{"nhsuk-header__navigation-container--initializing":n&&e==="client","nhsuk-header__navigation-container--ssr":!n},L),ref:e==="client"?u:void 0,children:s.jsxs("ul",{className:"nhsuk-header__navigation-list",ref:e==="client"?c:void 0,children:[(e==="server"?z||[]:f?.items||[]).map((G,H)=>s.jsx("li",{className:ge("nhsuk-header__navigation-item",{"nhsuk-header__navigation-item--current":G.active||G.current,"nhsuk-header__navigation-item--hidden":e==="client"&&a&&i!==void 0&&H>=(i??0)},G.className),...G.attributes||{},children:s.jsx("a",{className:"nhsuk-header__navigation-link",href:G.href,...G.active||G.current?{"aria-current":G.current?"page":"true"}:{},children:w(G)})},H)),e==="client"&&a&&i!==void 0&&s.jsx("li",{className:"nhsuk-header__navigation-item nhsuk-header__navigation-item--more",children:s.jsxs("button",{className:"nhsuk-header__navigation-button",id:"toggle-more-menu",type:"button","aria-haspopup":"true","aria-expanded":r?"true":"false","aria-controls":"nhsuk-header-more-menu",onClick:l,children:[s.jsx("span",{children:"More"}),E()]})})]})})}),e==="client"&&n&&f&&f.items&&f.items.length>0&&r&&o&&s.jsx("div",{className:"nhsuk-header__dropdown-menu",hidden:!o,id:"nhsuk-header-more-menu",children:s.jsx("ul",{className:"nhsuk-header__dropdown-list",children:f.items.slice(i??0).map((G,H)=>s.jsx("li",{className:ge("nhsuk-header__dropdown-item",{"nhsuk-header__dropdown-item--current":G.active||G.current}),children:s.jsx("a",{className:"nhsuk-header__dropdown-link",href:G.href,...G.active||G.current?{"aria-current":G.current?"page":"true"}:{},onClick:()=>{l?.()},children:w(G)})},`overflow-${(i??0)+H}`))})}),e==="server"&&te&&W.length>0&&s.jsx("div",{className:"nhsuk-header__dropdown-menu","data-ssr-overflow":"true",children:s.jsx("ul",{className:"nhsuk-header__dropdown-list",children:W.map((G,H)=>s.jsx("li",{className:ge("nhsuk-header__dropdown-item",{"nhsuk-header__dropdown-item--current":G.active||G.current}),children:s.jsx("a",{className:"nhsuk-header__dropdown-link",href:G.href,...G.active||G.current?{"aria-current":G.current?"page":"true"}:{},children:w(G)})},`overflow-server-${H}`))})})]})}const Oa=({className:t,logo:e={},service:n={},organisation:r,search:a,account:i,navigation:o,containerClasses:l,variant:u="default",attributes:c={},...d})=>{const[p,m]=A.useState(!1),[g,y]=A.useState(!1),[h,f]=A.useState(o?.items?.length||0),[L,M]=A.useState(!1),[j,S]=A.useState(!1),N=A.useRef(null),k=A.useRef(null),$=A.useRef(!1);A.useEffect(()=>{typeof window>"u"||S(!0)},[]),A.useEffect(()=>{if(typeof document>"u")return;const x=C=>{C.key==="Escape"&&p&&m(!1)};if(p)return document.addEventListener("keydown",x),()=>document.removeEventListener("keydown",x)},[p]);const v=A.useRef(null),b=A.useCallback(()=>{if(!j||!o?.items||o.items.length===0||$.current)return;const x=N.current,C=k.current;if(!x||!C)return;$.current=!0,x.classList.add("nhsuk-header__navigation-container--measuring");const B=x.clientWidth,I=Array.from(C.children);if(!I.length){x.classList.remove("nhsuk-header__navigation-container--measuring"),$.current=!1;return}if(v.current==null){const T=document.createElement("button");T.type="button",T.className="nhsuk-header__navigation-button nhsuk-header__navigation-button--prototype",T.style.position="absolute",T.style.visibility="hidden",T.style.pointerEvents="none",T.innerHTML="<span>More</span>",x.appendChild(T),v.current=T.getBoundingClientRect().width||104,x.removeChild(T)}const P=v.current+16;let w=0,E=0;const te=window.getComputedStyle(x),z=parseFloat(te.paddingLeft)||0,W=parseFloat(te.paddingRight)||0;let G=z+W;for(const T of I){const O=T.getBoundingClientRect().width;if(w+O+P+G>B)break;w+=O,E+=1}const H=E<o.items.length,oe=H?E:o.items.length;y(T=>T===H?T:H),f(T=>T===oe?T:oe),x.classList.remove("nhsuk-header__navigation-container--measuring"),$.current=!1},[j,o?.items]);A.useEffect(()=>{if(!j)return;const x=N.current;if(!x)return;let C=null;const B=()=>{C==null&&(C=window.requestAnimationFrame(()=>{C=null,b()}))};b();const I=new ResizeObserver(()=>B());return I.observe(x),k.current&&I.observe(k.current),()=>{C!=null&&window.cancelAnimationFrame(C),I.disconnect()}},[j,b]),A.useEffect(()=>{j&&b()},[o?.items?.length,j,b]);const D=x=>{x&&(x.preventDefault(),x.stopPropagation());const C=!p;m(C),M(C)};return bc({className:t,logo:e,service:n,organisation:r,search:a,account:i,navigation:o,containerClasses:l,variant:u,attributes:c,...d},{variant:"client",isClient:j,menuOpen:p,showMoreButton:g,visibleItems:h,dropdownVisible:L,toggleMenu:D,navContainerRef:N,navListRef:k})},h0=t=>bc(t,{variant:"server",isClient:!1}),yc=({heading:t,headingLevel:e=1,headingClasses:n="",text:r,html:a,imageURL:i,containerClasses:o="",classes:l="",children:u,...c})=>{const d=["nhsuk-hero",i&&t?"nhsuk-hero--image nhsuk-hero--image-description":"",i&&!t?"nhsuk-hero--image":"",l].filter(Boolean).join(" "),p=["nhsuk-width-container",o,i?"":"nhsuk-hero--border"].filter(Boolean).join(" "),m=["nhsuk-hero__heading",n,!u&&!r&&!a?"nhsuk-u-margin-bottom-0":""].filter(Boolean).join(" "),g=u||t||r||a,y=()=>{if(!t)return null;const h={className:m};switch(e){case 1:return s.jsx("h1",{...h,children:t});case 2:return s.jsx("h2",{...h,children:t});case 3:return s.jsx("h3",{...h,children:t});case 4:return s.jsx("h4",{...h,children:t});case 5:return s.jsx("h5",{...h,children:t});case 6:return s.jsx("h6",{...h,children:t});default:return s.jsx("h1",{...h,children:t})}};return s.jsxs("section",{className:d,style:i?{backgroundImage:`url('${i}')`}:void 0,role:"banner",...c,children:[i&&s.jsx("div",{className:"nhsuk-hero__overlay",children:g&&s.jsx("div",{className:p,children:s.jsx("div",{className:"nhsuk-grid-row",children:s.jsx("div",{className:"nhsuk-grid-column-two-thirds",children:s.jsxs("div",{className:"nhsuk-hero-content",children:[y(),u||(a?s.jsx("div",{dangerouslySetInnerHTML:{__html:a}}):r?s.jsx("p",{className:"nhsuk-body-l nhsuk-u-margin-bottom-0",children:r}):null),s.jsx("span",{className:"nhsuk-hero__arrow","aria-hidden":"true"})]})})})})}),!i&&g&&s.jsx("div",{className:p,children:s.jsx("div",{className:"nhsuk-grid-row",children:s.jsx("div",{className:"nhsuk-grid-column-two-thirds",children:s.jsxs("div",{className:"nhsuk-hero__wrapper",children:[y(),u||(a?s.jsx("div",{dangerouslySetInnerHTML:{__html:a}}):r?s.jsx("p",{className:"nhsuk-body-l nhsuk-u-margin-bottom-0",children:r}):null)]})})})})]})};yc.displayName="Hero";const ls=({className:t,links:e=[],linksColumn2:n,linksColumn3:r,metaLinks:a,copyright:i="Â© NHS England",containerClasses:o,attributes:l={},style:u,footerStyle:c,containerStyle:d})=>{const p=(g,y=!1)=>s.jsx("li",{className:ge("nhsuk-footer__list-item",{"nhsuk-footer-default__list-item":y}),children:s.jsx("a",{className:"nhsuk-footer__list-item-link",href:g.URL,target:g.newWindow?"_blank":void 0,rel:g.newWindow?"noopener noreferrer":void 0,children:g.label})},`${g.URL}-${g.label}`),m=!!(n||r);return s.jsx("footer",{role:"contentinfo",...l,style:{...l?.style,...u},children:s.jsxs("div",{className:"nhsuk-footer-container",children:[s.jsxs("div",{className:ge("nhsuk-width-container",o),style:d,children:[s.jsx("h2",{className:"nhsuk-u-visually-hidden",children:"Support links"}),s.jsx("div",{className:ge("nhsuk-footer",t),style:c,children:m?s.jsxs(s.Fragment,{children:[e.length>0&&s.jsx("ul",{className:"nhsuk-footer__list",children:e.map(g=>p(g))}),n&&n.length>0&&s.jsx("ul",{className:"nhsuk-footer__list",children:n.map(g=>p(g))}),r&&r.length>0&&s.jsx("ul",{className:"nhsuk-footer__list",children:r.map(g=>p(g))}),a&&a.length>0&&s.jsx("ul",{className:"nhsuk-footer__list nhsuk-footer__meta",children:a.map(g=>p(g))})]}):s.jsxs("ul",{className:"nhsuk-footer__list",children:[e.map(g=>p(g,!0)),(n||[]).map(g=>p(g,!0)),(r||[]).map(g=>p(g,!0)),(a||[]).map(g=>p(g,!0))]})}),!m&&s.jsx("div",{children:s.jsx("p",{className:"nhsuk-footer__copyright",children:i})})]}),m&&s.jsx("div",{className:"nhsuk-width-container",children:s.jsx("div",{children:s.jsx("p",{className:"nhsuk-footer__copyright",children:i})})})]})})};function za(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function p0(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function cs(t){let e,n,r;t.length!==2?(e=za,n=(l,u)=>za(t(l),u),r=(l,u)=>t(l)-u):(e=t===za||t===p0?t:m0,n=t,r=t);function a(l,u,c=0,d=l.length){if(c<d){if(e(u,u)!==0)return d;do{const p=c+d>>>1;n(l[p],u)<0?c=p+1:d=p}while(c<d)}return c}function i(l,u,c=0,d=l.length){if(c<d){if(e(u,u)!==0)return d;do{const p=c+d>>>1;n(l[p],u)<=0?c=p+1:d=p}while(c<d)}return c}function o(l,u,c=0,d=l.length){const p=a(l,u,c,d-1);return p>c&&r(l[p-1],u)>-r(l[p],u)?p-1:p}return{left:a,center:o,right:i}}function m0(){return 0}function g0(t){return t===null?NaN:+t}const _0=cs(za).right;cs(g0).center;function xc(t,e){let n,r;if(e===void 0)for(const a of t)a!=null&&(n===void 0?a>=a&&(n=r=a):(n>a&&(n=a),r<a&&(r=a)));else{let a=-1;for(let i of t)(i=e(i,++a,t))!=null&&(n===void 0?i>=i&&(n=r=i):(n>i&&(n=i),r<i&&(r=i)))}return[n,r]}class vc extends Map{constructor(e,n=x0){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(const[r,a]of e)this.set(r,a)}get(e){return super.get(wc(this,e))}has(e){return super.has(wc(this,e))}set(e,n){return super.set(b0(this,e),n)}delete(e){return super.delete(y0(this,e))}}function wc({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):n}function b0({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):(t.set(r,n),n)}function y0({_intern:t,_key:e},n){const r=e(n);return t.has(r)&&(n=t.get(r),t.delete(r)),n}function x0(t){return t!==null&&typeof t=="object"?t.valueOf():t}const v0=Math.sqrt(50),w0=Math.sqrt(10),S0=Math.sqrt(2);function Wa(t,e,n){const r=(e-t)/Math.max(0,n),a=Math.floor(Math.log10(r)),i=r/Math.pow(10,a),o=i>=v0?10:i>=w0?5:i>=S0?2:1;let l,u,c;return a<0?(c=Math.pow(10,-a)/o,l=Math.round(t*c),u=Math.round(e*c),l/c<t&&++l,u/c>e&&--u,c=-c):(c=Math.pow(10,a)*o,l=Math.round(t/c),u=Math.round(e/c),l*c<t&&++l,u*c>e&&--u),u<l&&.5<=n&&n<2?Wa(t,e,n*2):[l,u,c]}function k0(t,e,n){if(e=+e,t=+t,n=+n,!(n>0))return[];if(t===e)return[t];const r=e<t,[a,i,o]=r?Wa(e,t,n):Wa(t,e,n);if(!(i>=a))return[];const l=i-a+1,u=new Array(l);if(r)if(o<0)for(let c=0;c<l;++c)u[c]=(i-c)/-o;else for(let c=0;c<l;++c)u[c]=(i-c)*o;else if(o<0)for(let c=0;c<l;++c)u[c]=(a+c)/-o;else for(let c=0;c<l;++c)u[c]=(a+c)*o;return u}function us(t,e,n){return e=+e,t=+t,n=+n,Wa(t,e,n)[2]}function ds(t,e,n){e=+e,t=+t,n=+n;const r=e<t,a=r?us(e,t,n):us(t,e,n);return(r?-1:1)*(a<0?1/-a:a)}function C0(t,e,n){t=+t,e=+e,n=(a=arguments.length)<2?(e=t,t=0,1):a<3?1:+n;for(var r=-1,a=Math.max(0,Math.ceil((e-t)/n))|0,i=new Array(a);++r<a;)i[r]=t+r*n;return i}function Ua(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}const Sc=Symbol("implicit");function kc(){var t=new vc,e=[],n=[],r=Sc;function a(i){let o=t.get(i);if(o===void 0){if(r!==Sc)return r;t.set(i,o=e.push(i)-1)}return n[o%n.length]}return a.domain=function(i){if(!arguments.length)return e.slice();e=[],t=new vc;for(const o of i)t.has(o)||t.set(o,e.push(o)-1);return a},a.range=function(i){return arguments.length?(n=Array.from(i),a):n.slice()},a.unknown=function(i){return arguments.length?(r=i,a):r},a.copy=function(){return kc(e,n).unknown(r)},Ua.apply(a,arguments),a}function Cc(){var t=kc().unknown(void 0),e=t.domain,n=t.range,r=0,a=1,i,o,l=!1,u=0,c=0,d=.5;delete t.unknown;function p(){var m=e().length,g=a<r,y=g?a:r,h=g?r:a;i=(h-y)/Math.max(1,m-u+c*2),l&&(i=Math.floor(i)),y+=(h-y-i*(m-u))*d,o=i*(1-u),l&&(y=Math.round(y),o=Math.round(o));var f=C0(m).map(function(L){return y+i*L});return n(g?f.reverse():f)}return t.domain=function(m){return arguments.length?(e(m),p()):e()},t.range=function(m){return arguments.length?([r,a]=m,r=+r,a=+a,p()):[r,a]},t.rangeRound=function(m){return[r,a]=m,r=+r,a=+a,l=!0,p()},t.bandwidth=function(){return o},t.step=function(){return i},t.round=function(m){return arguments.length?(l=!!m,p()):l},t.padding=function(m){return arguments.length?(u=Math.min(1,c=+m),p()):u},t.paddingInner=function(m){return arguments.length?(u=Math.min(1,m),p()):u},t.paddingOuter=function(m){return arguments.length?(c=+m,p()):c},t.align=function(m){return arguments.length?(d=Math.max(0,Math.min(1,m)),p()):d},t.copy=function(){return Cc(e(),[r,a]).round(l).paddingInner(u).paddingOuter(c).align(d)},Ua.apply(p(),arguments)}function fs(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function Tc(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function Mr(){}var $r=.7,Ga=1/$r,er="\\s*([+-]?\\d+)\\s*",Ir="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Et="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",T0=/^#([0-9a-f]{3,8})$/,N0=new RegExp(`^rgb\\(${er},${er},${er}\\)$`),j0=new RegExp(`^rgb\\(${Et},${Et},${Et}\\)$`),D0=new RegExp(`^rgba\\(${er},${er},${er},${Ir}\\)$`),M0=new RegExp(`^rgba\\(${Et},${Et},${Et},${Ir}\\)$`),$0=new RegExp(`^hsl\\(${Ir},${Et},${Et}\\)$`),I0=new RegExp(`^hsla\\(${Ir},${Et},${Et},${Ir}\\)$`),Nc={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};fs(Mr,Pr,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:jc,formatHex:jc,formatHex8:P0,formatHsl:L0,formatRgb:Dc,toString:Dc});function jc(){return this.rgb().formatHex()}function P0(){return this.rgb().formatHex8()}function L0(){return Lc(this).formatHsl()}function Dc(){return this.rgb().formatRgb()}function Pr(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=T0.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?Mc(e):n===3?new gt(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?Va(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?Va(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=N0.exec(t))?new gt(e[1],e[2],e[3],1):(e=j0.exec(t))?new gt(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=D0.exec(t))?Va(e[1],e[2],e[3],e[4]):(e=M0.exec(t))?Va(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=$0.exec(t))?Pc(e[1],e[2]/100,e[3]/100,1):(e=I0.exec(t))?Pc(e[1],e[2]/100,e[3]/100,e[4]):Nc.hasOwnProperty(t)?Mc(Nc[t]):t==="transparent"?new gt(NaN,NaN,NaN,0):null}function Mc(t){return new gt(t>>16&255,t>>8&255,t&255,1)}function Va(t,e,n,r){return r<=0&&(t=e=n=NaN),new gt(t,e,n,r)}function F0(t){return t instanceof Mr||(t=Pr(t)),t?(t=t.rgb(),new gt(t.r,t.g,t.b,t.opacity)):new gt}function hs(t,e,n,r){return arguments.length===1?F0(t):new gt(t,e,n,r??1)}function gt(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}fs(gt,hs,Tc(Mr,{brighter(t){return t=t==null?Ga:Math.pow(Ga,t),new gt(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?$r:Math.pow($r,t),new gt(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new gt(Pn(this.r),Pn(this.g),Pn(this.b),Ya(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:$c,formatHex:$c,formatHex8:B0,formatRgb:Ic,toString:Ic}));function $c(){return`#${Ln(this.r)}${Ln(this.g)}${Ln(this.b)}`}function B0(){return`#${Ln(this.r)}${Ln(this.g)}${Ln(this.b)}${Ln((isNaN(this.opacity)?1:this.opacity)*255)}`}function Ic(){const t=Ya(this.opacity);return`${t===1?"rgb(":"rgba("}${Pn(this.r)}, ${Pn(this.g)}, ${Pn(this.b)}${t===1?")":`, ${t})`}`}function Ya(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function Pn(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function Ln(t){return t=Pn(t),(t<16?"0":"")+t.toString(16)}function Pc(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new Ft(t,e,n,r)}function Lc(t){if(t instanceof Ft)return new Ft(t.h,t.s,t.l,t.opacity);if(t instanceof Mr||(t=Pr(t)),!t)return new Ft;if(t instanceof Ft)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,a=Math.min(e,n,r),i=Math.max(e,n,r),o=NaN,l=i-a,u=(i+a)/2;return l?(e===i?o=(n-r)/l+(n<r)*6:n===i?o=(r-e)/l+2:o=(e-n)/l+4,l/=u<.5?i+a:2-i-a,o*=60):l=u>0&&u<1?0:o,new Ft(o,l,u,t.opacity)}function A0(t,e,n,r){return arguments.length===1?Lc(t):new Ft(t,e,n,r??1)}function Ft(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}fs(Ft,A0,Tc(Mr,{brighter(t){return t=t==null?Ga:Math.pow(Ga,t),new Ft(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?$r:Math.pow($r,t),new Ft(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,a=2*n-r;return new gt(ps(t>=240?t-240:t+120,a,r),ps(t,a,r),ps(t<120?t+240:t-120,a,r),this.opacity)},clamp(){return new Ft(Fc(this.h),qa(this.s),qa(this.l),Ya(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=Ya(this.opacity);return`${t===1?"hsl(":"hsla("}${Fc(this.h)}, ${qa(this.s)*100}%, ${qa(this.l)*100}%${t===1?")":`, ${t})`}`}}));function Fc(t){return t=(t||0)%360,t<0?t+360:t}function qa(t){return Math.max(0,Math.min(1,t||0))}function ps(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const ms=t=>()=>t;function E0(t,e){return function(n){return t+n*e}}function H0(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function R0(t){return(t=+t)==1?Bc:function(e,n){return n-e?H0(e,n,t):ms(isNaN(e)?n:e)}}function Bc(t,e){var n=e-t;return n?E0(t,n):ms(isNaN(t)?e:t)}const Ac=(function t(e){var n=R0(e);function r(a,i){var o=n((a=hs(a)).r,(i=hs(i)).r),l=n(a.g,i.g),u=n(a.b,i.b),c=Bc(a.opacity,i.opacity);return function(d){return a.r=o(d),a.g=l(d),a.b=u(d),a.opacity=c(d),a+""}}return r.gamma=t,r})(1);function O0(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,r=e.slice(),a;return function(i){for(a=0;a<n;++a)r[a]=t[a]*(1-i)+e[a]*i;return r}}function z0(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function W0(t,e){var n=e?e.length:0,r=t?Math.min(n,t.length):0,a=new Array(r),i=new Array(n),o;for(o=0;o<r;++o)a[o]=bs(t[o],e[o]);for(;o<n;++o)i[o]=e[o];return function(l){for(o=0;o<r;++o)i[o]=a[o](l);return i}}function U0(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function Xa(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function G0(t,e){var n={},r={},a;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(a in e)a in t?n[a]=bs(t[a],e[a]):r[a]=e[a];return function(i){for(a in n)r[a]=n[a](i);return r}}var gs=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,_s=new RegExp(gs.source,"g");function V0(t){return function(){return t}}function Y0(t){return function(e){return t(e)+""}}function q0(t,e){var n=gs.lastIndex=_s.lastIndex=0,r,a,i,o=-1,l=[],u=[];for(t=t+"",e=e+"";(r=gs.exec(t))&&(a=_s.exec(e));)(i=a.index)>n&&(i=e.slice(n,i),l[o]?l[o]+=i:l[++o]=i),(r=r[0])===(a=a[0])?l[o]?l[o]+=a:l[++o]=a:(l[++o]=null,u.push({i:o,x:Xa(r,a)})),n=_s.lastIndex;return n<e.length&&(i=e.slice(n),l[o]?l[o]+=i:l[++o]=i),l.length<2?u[0]?Y0(u[0].x):V0(e):(e=u.length,function(c){for(var d=0,p;d<e;++d)l[(p=u[d]).i]=p.x(c);return l.join("")})}function bs(t,e){var n=typeof e,r;return e==null||n==="boolean"?ms(e):(n==="number"?Xa:n==="string"?(r=Pr(e))?(e=r,Ac):q0:e instanceof Pr?Ac:e instanceof Date?U0:z0(e)?O0:Array.isArray(e)?W0:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?G0:Xa)(t,e)}function X0(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}function K0(t){return function(){return t}}function Z0(t){return+t}var Ec=[0,1];function tr(t){return t}function ys(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:K0(isNaN(e)?NaN:.5)}function J0(t,e){var n;return t>e&&(n=t,t=e,e=n),function(r){return Math.max(t,Math.min(e,r))}}function Q0(t,e,n){var r=t[0],a=t[1],i=e[0],o=e[1];return a<r?(r=ys(a,r),i=n(o,i)):(r=ys(r,a),i=n(i,o)),function(l){return i(r(l))}}function e_(t,e,n){var r=Math.min(t.length,e.length)-1,a=new Array(r),i=new Array(r),o=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++o<r;)a[o]=ys(t[o],t[o+1]),i[o]=n(e[o],e[o+1]);return function(l){var u=_0(t,l,1,r)-1;return i[u](a[u](l))}}function Hc(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function t_(){var t=Ec,e=Ec,n=bs,r,a,i,o=tr,l,u,c;function d(){var m=Math.min(t.length,e.length);return o!==tr&&(o=J0(t[0],t[m-1])),l=m>2?e_:Q0,u=c=null,p}function p(m){return m==null||isNaN(m=+m)?i:(u||(u=l(t.map(r),e,n)))(r(o(m)))}return p.invert=function(m){return o(a((c||(c=l(e,t.map(r),Xa)))(m)))},p.domain=function(m){return arguments.length?(t=Array.from(m,Z0),d()):t.slice()},p.range=function(m){return arguments.length?(e=Array.from(m),d()):e.slice()},p.rangeRound=function(m){return e=Array.from(m),n=X0,d()},p.clamp=function(m){return arguments.length?(o=m?!0:tr,d()):o!==tr},p.interpolate=function(m){return arguments.length?(n=m,d()):n},p.unknown=function(m){return arguments.length?(i=m,p):i},function(m,g){return r=m,a=g,d()}}function Rc(){return t_()(tr,tr)}function n_(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function Ka(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function nr(t){return t=Ka(Math.abs(t)),t?t[1]:NaN}function r_(t,e){return function(n,r){for(var a=n.length,i=[],o=0,l=t[0],u=0;a>0&&l>0&&(u+l+1>r&&(l=Math.max(1,r-u)),i.push(n.substring(a-=l,a+l)),!((u+=l+1)>r));)l=t[o=(o+1)%t.length];return i.reverse().join(e)}}function a_(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var i_=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Za(t){if(!(e=i_.exec(t)))throw new Error("invalid format: "+t);var e;return new xs({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}Za.prototype=xs.prototype;function xs(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}xs.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function s_(t){e:for(var e=t.length,n=1,r=-1,a;n<e;++n)switch(t[n]){case".":r=a=n;break;case"0":r===0&&(r=n),a=n;break;default:if(!+t[n])break e;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(a+1):t}var Oc;function o_(t,e){var n=Ka(t,e);if(!n)return t+"";var r=n[0],a=n[1],i=a-(Oc=Math.max(-8,Math.min(8,Math.floor(a/3)))*3)+1,o=r.length;return i===o?r:i>o?r+new Array(i-o+1).join("0"):i>0?r.slice(0,i)+"."+r.slice(i):"0."+new Array(1-i).join("0")+Ka(t,Math.max(0,e+i-1))[0]}function zc(t,e){var n=Ka(t,e);if(!n)return t+"";var r=n[0],a=n[1];return a<0?"0."+new Array(-a).join("0")+r:r.length>a+1?r.slice(0,a+1)+"."+r.slice(a+1):r+new Array(a-r.length+2).join("0")}const Wc={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:n_,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>zc(t*100,e),r:zc,s:o_,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function Uc(t){return t}var Gc=Array.prototype.map,Vc=["y","z","a","f","p","n","Âµ","m","","k","M","G","T","P","E","Z","Y"];function l_(t){var e=t.grouping===void 0||t.thousands===void 0?Uc:r_(Gc.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",a=t.decimal===void 0?".":t.decimal+"",i=t.numerals===void 0?Uc:a_(Gc.call(t.numerals,String)),o=t.percent===void 0?"%":t.percent+"",l=t.minus===void 0?"âˆ’":t.minus+"",u=t.nan===void 0?"NaN":t.nan+"";function c(p){p=Za(p);var m=p.fill,g=p.align,y=p.sign,h=p.symbol,f=p.zero,L=p.width,M=p.comma,j=p.precision,S=p.trim,N=p.type;N==="n"?(M=!0,N="g"):Wc[N]||(j===void 0&&(j=12),S=!0,N="g"),(f||m==="0"&&g==="=")&&(f=!0,m="0",g="=");var k=h==="$"?n:h==="#"&&/[boxX]/.test(N)?"0"+N.toLowerCase():"",$=h==="$"?r:/[%p]/.test(N)?o:"",v=Wc[N],b=/[defgprs%]/.test(N);j=j===void 0?6:/[gprs]/.test(N)?Math.max(1,Math.min(21,j)):Math.max(0,Math.min(20,j));function D(x){var C=k,B=$,I,P,w;if(N==="c")B=v(x)+B,x="";else{x=+x;var E=x<0||1/x<0;if(x=isNaN(x)?u:v(Math.abs(x),j),S&&(x=s_(x)),E&&+x==0&&y!=="+"&&(E=!1),C=(E?y==="("?y:l:y==="-"||y==="("?"":y)+C,B=(N==="s"?Vc[8+Oc/3]:"")+B+(E&&y==="("?")":""),b){for(I=-1,P=x.length;++I<P;)if(w=x.charCodeAt(I),48>w||w>57){B=(w===46?a+x.slice(I+1):x.slice(I))+B,x=x.slice(0,I);break}}}M&&!f&&(x=e(x,1/0));var te=C.length+x.length+B.length,z=te<L?new Array(L-te+1).join(m):"";switch(M&&f&&(x=e(z+x,z.length?L-B.length:1/0),z=""),g){case"<":x=C+x+B+z;break;case"=":x=C+z+x+B;break;case"^":x=z.slice(0,te=z.length>>1)+C+x+B+z.slice(te);break;default:x=z+C+x+B;break}return i(x)}return D.toString=function(){return p+""},D}function d(p,m){var g=c((p=Za(p),p.type="f",p)),y=Math.max(-8,Math.min(8,Math.floor(nr(m)/3)))*3,h=Math.pow(10,-y),f=Vc[8+y/3];return function(L){return g(h*L)+f}}return{format:c,formatPrefix:d}}var Ja,Yc,qc;c_({thousands:",",grouping:[3],currency:["$",""]});function c_(t){return Ja=l_(t),Yc=Ja.format,qc=Ja.formatPrefix,Ja}function u_(t){return Math.max(0,-nr(Math.abs(t)))}function d_(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(nr(e)/3)))*3-nr(Math.abs(t)))}function f_(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,nr(e)-nr(t))+1}function h_(t,e,n,r){var a=ds(t,e,n),i;switch(r=Za(r??",f"),r.type){case"s":{var o=Math.max(Math.abs(t),Math.abs(e));return r.precision==null&&!isNaN(i=d_(a,o))&&(r.precision=i),qc(r,o)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(i=f_(a,Math.max(Math.abs(t),Math.abs(e))))&&(r.precision=i-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(i=u_(a))&&(r.precision=i-(r.type==="%")*2);break}}return Yc(r)}function p_(t){var e=t.domain;return t.ticks=function(n){var r=e();return k0(r[0],r[r.length-1],n??10)},t.tickFormat=function(n,r){var a=e();return h_(a[0],a[a.length-1],n??10,r)},t.nice=function(n){n==null&&(n=10);var r=e(),a=0,i=r.length-1,o=r[a],l=r[i],u,c,d=10;for(l<o&&(c=o,o=l,l=c,c=a,a=i,i=c);d-- >0;){if(c=us(o,l,n),c===u)return r[a]=o,r[i]=l,e(r);if(c>0)o=Math.floor(o/c)*c,l=Math.ceil(l/c)*c;else if(c<0)o=Math.ceil(o*c)/c,l=Math.floor(l*c)/c;else break;u=c}return t},t}function Qa(){var t=Rc();return t.copy=function(){return Hc(t,Qa())},Ua.apply(t,arguments),p_(t)}function m_(t,e){t=t.slice();var n=0,r=t.length-1,a=t[n],i=t[r],o;return i<a&&(o=n,n=r,r=o,o=a,a=i,i=o),t[n]=e.floor(a),t[r]=e.ceil(i),t}const vs=new Date,ws=new Date;function tt(t,e,n,r){function a(i){return t(i=arguments.length===0?new Date:new Date(+i)),i}return a.floor=i=>(t(i=new Date(+i)),i),a.ceil=i=>(t(i=new Date(i-1)),e(i,1),t(i),i),a.round=i=>{const o=a(i),l=a.ceil(i);return i-o<l-i?o:l},a.offset=(i,o)=>(e(i=new Date(+i),o==null?1:Math.floor(o)),i),a.range=(i,o,l)=>{const u=[];if(i=a.ceil(i),l=l==null?1:Math.floor(l),!(i<o)||!(l>0))return u;let c;do u.push(c=new Date(+i)),e(i,l),t(i);while(c<i&&i<o);return u},a.filter=i=>tt(o=>{if(o>=o)for(;t(o),!i(o);)o.setTime(o-1)},(o,l)=>{if(o>=o)if(l<0)for(;++l<=0;)for(;e(o,-1),!i(o););else for(;--l>=0;)for(;e(o,1),!i(o););}),n&&(a.count=(i,o)=>(vs.setTime(+i),ws.setTime(+o),t(vs),t(ws),Math.floor(n(vs,ws))),a.every=i=>(i=Math.floor(i),!isFinite(i)||!(i>0)?null:i>1?a.filter(r?o=>r(o)%i===0:o=>a.count(0,o)%i===0):a)),a}const ei=tt(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);ei.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?tt(e=>{e.setTime(Math.floor(e/t)*t)},(e,n)=>{e.setTime(+e+n*t)},(e,n)=>(n-e)/t):ei),ei.range;const an=1e3,jt=an*60,sn=jt*60,on=sn*24,Ss=on*7,Xc=on*30,ks=on*365,rr=tt(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*an)},(t,e)=>(e-t)/an,t=>t.getUTCSeconds());rr.range;const Cs=tt(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*an)},(t,e)=>{t.setTime(+t+e*jt)},(t,e)=>(e-t)/jt,t=>t.getMinutes());Cs.range,tt(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*jt)},(t,e)=>(e-t)/jt,t=>t.getUTCMinutes()).range;const Ts=tt(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*an-t.getMinutes()*jt)},(t,e)=>{t.setTime(+t+e*sn)},(t,e)=>(e-t)/sn,t=>t.getHours());Ts.range,tt(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*sn)},(t,e)=>(e-t)/sn,t=>t.getUTCHours()).range;const Lr=tt(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*jt)/on,t=>t.getDate()-1);Lr.range;const Ns=tt(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/on,t=>t.getUTCDate()-1);Ns.range,tt(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/on,t=>Math.floor(t/on)).range;function Fn(t){return tt(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,n)=>{e.setDate(e.getDate()+n*7)},(e,n)=>(n-e-(n.getTimezoneOffset()-e.getTimezoneOffset())*jt)/Ss)}const ti=Fn(0),ni=Fn(1),g_=Fn(2),__=Fn(3),ar=Fn(4),b_=Fn(5),y_=Fn(6);ti.range,ni.range,g_.range,__.range,ar.range,b_.range,y_.range;function Bn(t){return tt(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCDate(e.getUTCDate()+n*7)},(e,n)=>(n-e)/Ss)}const Kc=Bn(0),ri=Bn(1),x_=Bn(2),v_=Bn(3),ir=Bn(4),w_=Bn(5),S_=Bn(6);Kc.range,ri.range,x_.range,v_.range,ir.range,w_.range,S_.range;const Fr=tt(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());Fr.range,tt(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth()).range;const ln=tt(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());ln.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:tt(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,n)=>{e.setFullYear(e.getFullYear()+n*t)}),ln.range;const An=tt(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());An.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:tt(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCFullYear(e.getUTCFullYear()+n*t)}),An.range;function k_(t,e,n,r,a,i){const o=[[rr,1,an],[rr,5,5*an],[rr,15,15*an],[rr,30,30*an],[i,1,jt],[i,5,5*jt],[i,15,15*jt],[i,30,30*jt],[a,1,sn],[a,3,3*sn],[a,6,6*sn],[a,12,12*sn],[r,1,on],[r,2,2*on],[n,1,Ss],[e,1,Xc],[e,3,3*Xc],[t,1,ks]];function l(c,d,p){const m=d<c;m&&([c,d]=[d,c]);const g=p&&typeof p.range=="function"?p:u(c,d,p),y=g?g.range(c,+d+1):[];return m?y.reverse():y}function u(c,d,p){const m=Math.abs(d-c)/p,g=cs(([,,f])=>f).right(o,m);if(g===o.length)return t.every(ds(c/ks,d/ks,p));if(g===0)return ei.every(Math.max(ds(c,d,p),1));const[y,h]=o[m/o[g-1][2]<o[g][2]/m?g-1:g];return y.every(h)}return[l,u]}const[C_,T_]=k_(ln,Fr,ti,Lr,Ts,Cs);function js(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function Ds(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function Br(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}function N_(t){var e=t.dateTime,n=t.date,r=t.time,a=t.periods,i=t.days,o=t.shortDays,l=t.months,u=t.shortMonths,c=Ar(a),d=Er(a),p=Ar(i),m=Er(i),g=Ar(o),y=Er(o),h=Ar(l),f=Er(l),L=Ar(u),M=Er(u),j={a:E,A:te,b:z,B:W,c:null,d:nu,e:nu,f:K_,g:sb,G:lb,H:Y_,I:q_,j:X_,L:ru,m:Z_,M:J_,p:G,q:H,Q:cu,s:uu,S:Q_,u:eb,U:tb,V:nb,w:rb,W:ab,x:null,X:null,y:ib,Y:ob,Z:cb,"%":lu},S={a:oe,A:T,b:O,B:Q,c:null,d:iu,e:iu,f:hb,g:Sb,G:Cb,H:ub,I:db,j:fb,L:su,m:pb,M:mb,p:re,q,Q:cu,s:uu,S:gb,u:_b,U:bb,V:yb,w:xb,W:vb,x:null,X:null,y:wb,Y:kb,Z:Tb,"%":lu},N={a:D,A:x,b:C,B,c:I,d:eu,e:eu,f:W_,g:Qc,G:Jc,H:tu,I:tu,j:H_,L:z_,m:E_,M:R_,p:b,q:A_,Q:G_,s:V_,S:O_,u:I_,U:P_,V:L_,w:$_,W:F_,x:P,X:w,y:Qc,Y:Jc,Z:B_,"%":U_};j.x=k(n,j),j.X=k(r,j),j.c=k(e,j),S.x=k(n,S),S.X=k(r,S),S.c=k(e,S);function k(R,V){return function(le){var U=[],de=-1,ie=0,ue=R.length,fe,ye,De;for(le instanceof Date||(le=new Date(+le));++de<ue;)R.charCodeAt(de)===37&&(U.push(R.slice(ie,de)),(ye=Zc[fe=R.charAt(++de)])!=null?fe=R.charAt(++de):ye=fe==="e"?" ":"0",(De=V[fe])&&(fe=De(le,ye)),U.push(fe),ie=de+1);return U.push(R.slice(ie,de)),U.join("")}}function $(R,V){return function(le){var U=Br(1900,void 0,1),de=v(U,R,le+="",0),ie,ue;if(de!=le.length)return null;if("Q"in U)return new Date(U.Q);if("s"in U)return new Date(U.s*1e3+("L"in U?U.L:0));if(V&&!("Z"in U)&&(U.Z=0),"p"in U&&(U.H=U.H%12+U.p*12),U.m===void 0&&(U.m="q"in U?U.q:0),"V"in U){if(U.V<1||U.V>53)return null;"w"in U||(U.w=1),"Z"in U?(ie=Ds(Br(U.y,0,1)),ue=ie.getUTCDay(),ie=ue>4||ue===0?ri.ceil(ie):ri(ie),ie=Ns.offset(ie,(U.V-1)*7),U.y=ie.getUTCFullYear(),U.m=ie.getUTCMonth(),U.d=ie.getUTCDate()+(U.w+6)%7):(ie=js(Br(U.y,0,1)),ue=ie.getDay(),ie=ue>4||ue===0?ni.ceil(ie):ni(ie),ie=Lr.offset(ie,(U.V-1)*7),U.y=ie.getFullYear(),U.m=ie.getMonth(),U.d=ie.getDate()+(U.w+6)%7)}else("W"in U||"U"in U)&&("w"in U||(U.w="u"in U?U.u%7:"W"in U?1:0),ue="Z"in U?Ds(Br(U.y,0,1)).getUTCDay():js(Br(U.y,0,1)).getDay(),U.m=0,U.d="W"in U?(U.w+6)%7+U.W*7-(ue+5)%7:U.w+U.U*7-(ue+6)%7);return"Z"in U?(U.H+=U.Z/100|0,U.M+=U.Z%100,Ds(U)):js(U)}}function v(R,V,le,U){for(var de=0,ie=V.length,ue=le.length,fe,ye;de<ie;){if(U>=ue)return-1;if(fe=V.charCodeAt(de++),fe===37){if(fe=V.charAt(de++),ye=N[fe in Zc?V.charAt(de++):fe],!ye||(U=ye(R,le,U))<0)return-1}else if(fe!=le.charCodeAt(U++))return-1}return U}function b(R,V,le){var U=c.exec(V.slice(le));return U?(R.p=d.get(U[0].toLowerCase()),le+U[0].length):-1}function D(R,V,le){var U=g.exec(V.slice(le));return U?(R.w=y.get(U[0].toLowerCase()),le+U[0].length):-1}function x(R,V,le){var U=p.exec(V.slice(le));return U?(R.w=m.get(U[0].toLowerCase()),le+U[0].length):-1}function C(R,V,le){var U=L.exec(V.slice(le));return U?(R.m=M.get(U[0].toLowerCase()),le+U[0].length):-1}function B(R,V,le){var U=h.exec(V.slice(le));return U?(R.m=f.get(U[0].toLowerCase()),le+U[0].length):-1}function I(R,V,le){return v(R,e,V,le)}function P(R,V,le){return v(R,n,V,le)}function w(R,V,le){return v(R,r,V,le)}function E(R){return o[R.getDay()]}function te(R){return i[R.getDay()]}function z(R){return u[R.getMonth()]}function W(R){return l[R.getMonth()]}function G(R){return a[+(R.getHours()>=12)]}function H(R){return 1+~~(R.getMonth()/3)}function oe(R){return o[R.getUTCDay()]}function T(R){return i[R.getUTCDay()]}function O(R){return u[R.getUTCMonth()]}function Q(R){return l[R.getUTCMonth()]}function re(R){return a[+(R.getUTCHours()>=12)]}function q(R){return 1+~~(R.getUTCMonth()/3)}return{format:function(R){var V=k(R+="",j);return V.toString=function(){return R},V},parse:function(R){var V=$(R+="",!1);return V.toString=function(){return R},V},utcFormat:function(R){var V=k(R+="",S);return V.toString=function(){return R},V},utcParse:function(R){var V=$(R+="",!0);return V.toString=function(){return R},V}}}var Zc={"-":"",_:" ",0:"0"},at=/^\s*\d+/,j_=/^%/,D_=/[\\^$*+?|[\]().{}]/g;function Le(t,e,n){var r=t<0?"-":"",a=(r?-t:t)+"",i=a.length;return r+(i<n?new Array(n-i+1).join(e)+a:a)}function M_(t){return t.replace(D_,"\\$&")}function Ar(t){return new RegExp("^(?:"+t.map(M_).join("|")+")","i")}function Er(t){return new Map(t.map((e,n)=>[e.toLowerCase(),n]))}function $_(t,e,n){var r=at.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function I_(t,e,n){var r=at.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function P_(t,e,n){var r=at.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function L_(t,e,n){var r=at.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function F_(t,e,n){var r=at.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function Jc(t,e,n){var r=at.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function Qc(t,e,n){var r=at.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function B_(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function A_(t,e,n){var r=at.exec(e.slice(n,n+1));return r?(t.q=r[0]*3-3,n+r[0].length):-1}function E_(t,e,n){var r=at.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function eu(t,e,n){var r=at.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function H_(t,e,n){var r=at.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function tu(t,e,n){var r=at.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function R_(t,e,n){var r=at.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function O_(t,e,n){var r=at.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function z_(t,e,n){var r=at.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function W_(t,e,n){var r=at.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function U_(t,e,n){var r=j_.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function G_(t,e,n){var r=at.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function V_(t,e,n){var r=at.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function nu(t,e){return Le(t.getDate(),e,2)}function Y_(t,e){return Le(t.getHours(),e,2)}function q_(t,e){return Le(t.getHours()%12||12,e,2)}function X_(t,e){return Le(1+Lr.count(ln(t),t),e,3)}function ru(t,e){return Le(t.getMilliseconds(),e,3)}function K_(t,e){return ru(t,e)+"000"}function Z_(t,e){return Le(t.getMonth()+1,e,2)}function J_(t,e){return Le(t.getMinutes(),e,2)}function Q_(t,e){return Le(t.getSeconds(),e,2)}function eb(t){var e=t.getDay();return e===0?7:e}function tb(t,e){return Le(ti.count(ln(t)-1,t),e,2)}function au(t){var e=t.getDay();return e>=4||e===0?ar(t):ar.ceil(t)}function nb(t,e){return t=au(t),Le(ar.count(ln(t),t)+(ln(t).getDay()===4),e,2)}function rb(t){return t.getDay()}function ab(t,e){return Le(ni.count(ln(t)-1,t),e,2)}function ib(t,e){return Le(t.getFullYear()%100,e,2)}function sb(t,e){return t=au(t),Le(t.getFullYear()%100,e,2)}function ob(t,e){return Le(t.getFullYear()%1e4,e,4)}function lb(t,e){var n=t.getDay();return t=n>=4||n===0?ar(t):ar.ceil(t),Le(t.getFullYear()%1e4,e,4)}function cb(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+Le(e/60|0,"0",2)+Le(e%60,"0",2)}function iu(t,e){return Le(t.getUTCDate(),e,2)}function ub(t,e){return Le(t.getUTCHours(),e,2)}function db(t,e){return Le(t.getUTCHours()%12||12,e,2)}function fb(t,e){return Le(1+Ns.count(An(t),t),e,3)}function su(t,e){return Le(t.getUTCMilliseconds(),e,3)}function hb(t,e){return su(t,e)+"000"}function pb(t,e){return Le(t.getUTCMonth()+1,e,2)}function mb(t,e){return Le(t.getUTCMinutes(),e,2)}function gb(t,e){return Le(t.getUTCSeconds(),e,2)}function _b(t){var e=t.getUTCDay();return e===0?7:e}function bb(t,e){return Le(Kc.count(An(t)-1,t),e,2)}function ou(t){var e=t.getUTCDay();return e>=4||e===0?ir(t):ir.ceil(t)}function yb(t,e){return t=ou(t),Le(ir.count(An(t),t)+(An(t).getUTCDay()===4),e,2)}function xb(t){return t.getUTCDay()}function vb(t,e){return Le(ri.count(An(t)-1,t),e,2)}function wb(t,e){return Le(t.getUTCFullYear()%100,e,2)}function Sb(t,e){return t=ou(t),Le(t.getUTCFullYear()%100,e,2)}function kb(t,e){return Le(t.getUTCFullYear()%1e4,e,4)}function Cb(t,e){var n=t.getUTCDay();return t=n>=4||n===0?ir(t):ir.ceil(t),Le(t.getUTCFullYear()%1e4,e,4)}function Tb(){return"+0000"}function lu(){return"%"}function cu(t){return+t}function uu(t){return Math.floor(+t/1e3)}var sr,du;Nb({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function Nb(t){return sr=N_(t),du=sr.format,sr.parse,sr.utcFormat,sr.utcParse,sr}function jb(t){return new Date(t)}function Db(t){return t instanceof Date?+t:+new Date(+t)}function fu(t,e,n,r,a,i,o,l,u,c){var d=Rc(),p=d.invert,m=d.domain,g=c(".%L"),y=c(":%S"),h=c("%I:%M"),f=c("%I %p"),L=c("%a %d"),M=c("%b %d"),j=c("%B"),S=c("%Y");function N(k){return(u(k)<k?g:l(k)<k?y:o(k)<k?h:i(k)<k?f:r(k)<k?a(k)<k?L:M:n(k)<k?j:S)(k)}return d.invert=function(k){return new Date(p(k))},d.domain=function(k){return arguments.length?m(Array.from(k,Db)):m().map(jb)},d.ticks=function(k){var $=m();return t($[0],$[$.length-1],k??10)},d.tickFormat=function(k,$){return $==null?N:c($)},d.nice=function(k){var $=m();return(!k||typeof k.range!="function")&&(k=e($[0],$[$.length-1],k??10)),k?m(m_($,k)):d},d.copy=function(){return Hc(d,fu(t,e,n,r,a,i,o,l,u,c))},d}function Ms(){return Ua.apply(fu(C_,T_,ln,Fr,ti,Lr,Ts,Cs,rr,du).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function Mb({task:t,scale:e,onTaskClick:n,onTaskDoubleClick:r,isSelected:a=!1,taskIndex:i,tabIndex:o=-1,onFocus:l,"aria-label":u}){const c=A.useRef(null),[d,p]=A.useState(!1),[m,g]=A.useState(!1),y=e(t.start),h=e(t.end),f=Math.max(h-y,20),L=()=>{if(t.color)return t.color;switch(t.priority){case"high":return"#d5281b";case"medium":return"#005eb8";case"low":return"#007f3b";default:return"#005eb8"}},M=t.progress?f*t.progress/100:0,j=()=>{n?.(t)},S=()=>{r?.(t)},N=C=>{C.key==="Enter"?(C.preventDefault(),j()):C.key===" "&&(C.preventDefault(),S())},k=()=>{p(!0)},$=()=>{p(!1)},v=()=>{g(!0),l?.()},b=()=>{g(!1)},D=["gantt-task-bar",d&&"gantt-task-bar--pressed",(m||a)&&"gantt-task-bar--focused",t.priority&&`gantt-task-bar--priority-${t.priority}`,a&&"gantt-task-bar--selected",t.type&&`gantt-task-bar--type-${t.type}`].filter(Boolean).join(" "),x={"--task-left":`${y}px`,"--task-width":`${f}px`,"--task-color":L(),left:`${y}px`,width:`${f}px`,backgroundColor:L()};return s.jsxs("div",{role:"button",tabIndex:o,ref:c,"data-task-index":i,className:D,style:x,onClick:j,onDoubleClick:S,onKeyDown:N,onMouseDown:k,onMouseUp:$,onFocus:v,onBlur:b,"aria-label":u||`${a?"Selected: ":""}${t.title}: ${t.start.toLocaleDateString()} to ${t.end.toLocaleDateString()}${t.priority?`, priority ${t.priority}`:""}${t.progress?`, ${t.progress}% complete`:""}`,"aria-describedby":`task-${t.id}-details`,children:[s.jsx("span",{className:"task-title",children:t.title}),t.progress!==void 0&&s.jsx("div",{className:"task-progress",style:{width:`${M}px`}}),s.jsx("span",{id:`task-${t.id}-details`,className:"sr-only",children:`Task: ${t.title}, from ${t.start.toLocaleDateString()} to ${t.end.toLocaleDateString()}${t.progress?`, ${t.progress}% complete`:""}${t.priority?`, priority: ${t.priority}`:""}`})]})}function $b({viewStart:t,viewEnd:e,dateCount:n}){const r=[];for(let g=t.getTime();g<=e.getTime();g+=864e5)r.push(new Date(g));const i=new Date;i.setHours(0,0,0,0);const[o,l]=A.useState(-1),u=A.useRef(null),c=g=>{if(g.key==="ArrowLeft"){g.preventDefault();const y=Math.max(0,o===-1?0:o-1);l(y),m(y)}else if(g.key==="ArrowRight"){g.preventDefault();const y=Math.min(r.length-1,o===-1?0:o+1);l(y),m(y)}else if(g.key==="ArrowDown"){g.preventDefault();const y=document.querySelector(".gantt-row .timeline-container");y&&y.focus()}else if(g.key==="Home")g.preventDefault(),l(0),m(0);else if(g.key==="End"){g.preventDefault();const y=r.length-1;l(y),m(y)}},d=g=>{if(g.key==="ArrowDown"){g.preventDefault();const y=document.querySelector(".gantt-row .resource-label");y&&y.focus()}else if(g.key==="ArrowRight"){g.preventDefault();const y=u.current;y&&y.focus()}},p=()=>{o===-1&&(l(0),setTimeout(()=>m(0),0))},m=g=>{const y=u.current?.querySelector(`[data-date-index="${g}"]`);y&&y.focus()};return s.jsxs("div",{className:"gantt-header",role:"row","aria-rowindex":1,children:[s.jsx("div",{className:"header-resource",role:"columnheader","aria-colindex":1,tabIndex:0,"aria-label":"Resource column header",onKeyDown:d,children:"Resources"}),s.jsx("div",{ref:u,className:"header-timeline",role:"columnheader","aria-colindex":2,"aria-colspan":n,"aria-label":`Timeline from ${t.toLocaleDateString()} to ${e.toLocaleDateString()}. Use arrow keys to navigate between dates`,tabIndex:0,onKeyDown:c,onFocus:p,children:r.map((g,y)=>{const h=g.getTime()===i.getTime(),f=o===y;return s.jsx("div",{"data-date-index":y,className:`date-column ${h?"today":""} ${f?"focused":""}`,tabIndex:f?0:-1,role:"button","aria-label":`${g.toLocaleDateString("en-GB",{weekday:"long",day:"numeric",month:"long",year:"numeric"})}${h?" (Today)":""}`,onFocus:()=>l(y),onKeyDown:c,children:g.toLocaleDateString("en-GB",{day:"numeric",month:"short"})},y)})})]})}function Ib({resource:t,tasks:e,scale:n,onTaskClick:r,onTaskDoubleClick:a,rowIndex:i,dateCount:o}){const[l,u]=A.useState(!1),[c,d]=A.useState(-1),p=A.useRef(null);A.useEffect(()=>{l&&c>=0&&e.length>0&&setTimeout(()=>{p.current?.querySelector(`[data-task-index="${c}"]`)?.focus()},0)},[l,c,e.length]);const m=h=>{if(h.key==="ArrowLeft"&&h.shiftKey){h.preventDefault(),h.currentTarget.scrollBy({left:-30,behavior:"smooth"});return}else if(h.key==="ArrowRight"&&h.shiftKey){h.preventDefault(),h.currentTarget.scrollBy({left:30,behavior:"smooth"});return}if(!l){switch(h.key){case"ArrowUp":h.preventDefault(),i===0?document.querySelector(".header-timeline")?.focus():document.querySelector(`[aria-rowindex="${i+1}"] .timeline-container`)?.focus();break;case"ArrowDown":h.preventDefault(),document.querySelector(`[aria-rowindex="${i+3}"] .timeline-container`)?.focus();break;case"ArrowLeft":h.preventDefault(),p.current?.closest(".gantt-row")?.querySelector(".resource-label")?.focus();break;case"Enter":e.length>0&&(h.preventDefault(),u(!0),d(0));break}return}switch(h.key){case"ArrowLeft":h.preventDefault();const f=Math.max(0,c-1);d(f),p.current?.querySelector(`[data-task-index="${f}"]`)?.focus();break;case"ArrowRight":h.preventDefault();const M=Math.min(e.length-1,c+1);d(M),p.current?.querySelector(`[data-task-index="${M}"]`)?.focus();break;case"Enter":h.preventDefault(),c>=0&&r?.(e[c]);break;case" ":h.preventDefault(),c>=0&&a?.(e[c]);break;case"Escape":h.preventDefault(),u(!1),d(-1),p.current?.focus();break}},g=h=>{switch(h.key){case"ArrowUp":h.preventDefault(),i===0?document.querySelector(".header-resource")?.focus():document.querySelector(`[aria-rowindex="${i+1}"] .resource-label`)?.focus();break;case"ArrowDown":h.preventDefault(),document.querySelector(`[aria-rowindex="${i+3}"] .resource-label`)?.focus();break;case"ArrowRight":h.preventDefault(),p.current?.focus();break}},y=h=>{l&&d(h)};return s.jsxs("div",{className:"gantt-row",role:"row","aria-rowindex":i+2,children:[s.jsx("div",{className:"resource-label",role:"gridcell","aria-colindex":1,tabIndex:0,"aria-label":`Resource: ${t.label}`,onKeyDown:g,children:t.label}),s.jsx("div",{ref:p,className:`timeline-container ${l?"timeline-active":""}`,role:"gridcell","aria-colindex":2,"aria-colspan":o,tabIndex:0,"aria-label":`Timeline for ${t.label} with ${e.length} task${e.length!==1?"s":""}. Press Enter to activate task navigation, then use arrow keys to navigate, Enter to select, Space to activate, Escape to exit`,onKeyDown:m,onFocus:()=>{l||d(-1)},children:e.map((h,f)=>s.jsx(Mb,{task:h,scale:n,onTaskClick:r,onTaskDoubleClick:a,isSelected:l&&c===f,taskIndex:f,tabIndex:l&&c===f?0:-1,onFocus:()=>y(f)},h.id))})]})}function Pb({resources:t,tasks:e=[],viewStart:n,viewEnd:r,onTaskClick:a,onTaskDoubleClick:i}){const o=A.useRef(null),[l,u]=A.useState(800),c=A.useMemo(()=>{if(n instanceof Date)return isNaN(n.getTime())?(console.warn("GanttChart: Invalid viewStart date provided, using current date"),new Date):n;const h=new Date(n);return isNaN(h.getTime())?(console.warn("GanttChart: Invalid viewStart date provided, using current date"),new Date):h},[n]),d=A.useMemo(()=>{if(r instanceof Date)return isNaN(r.getTime())?(console.warn("GanttChart: Invalid viewEnd date provided, using date 7 days from now"),new Date(Date.now()+10080*60*1e3)):r;const h=new Date(r);return isNaN(h.getTime())?(console.warn("GanttChart: Invalid viewEnd date provided, using date 7 days from now"),new Date(Date.now()+10080*60*1e3)):h},[r]),p=A.useMemo(()=>Math.ceil((d.getTime()-c.getTime())/864e5)+1,[c,d]);A.useEffect(()=>{if(!o.current)return;const h=new ResizeObserver(f=>{const L=f[0];L&&u(Math.max(L.contentRect.width-220,400))});return h.observe(o.current),()=>h.disconnect()},[]);const m=A.useMemo(()=>Ms().domain([c,d]).range([0,l]),[c,d,l]),g=A.useMemo(()=>{const h=new Map;return e.forEach(f=>{const L=h.get(f.resourceId)||[];L.push(f),h.set(f.resourceId,L)}),h},[e]),y=h=>{if(h.target===h.currentTarget)switch(h.key){case"ArrowDown":h.preventDefault();const f=o.current?.querySelector(".gantt-row .resource-label");f&&f.focus();break;case"Home":h.preventDefault();const L=o.current?.querySelector(".header-resource");L&&L.focus();break}};return s.jsxs("div",{className:"gantt-chart",role:"grid","aria-label":"Gantt Chart showing resource scheduling and task timelines","aria-rowcount":t.length+1,"aria-colcount":p+1,"aria-description":"Use arrow keys to navigate cells, Tab to cycle through tasks in timeline rows or dates in header, Enter to select task, Space to activate task, Alt+arrows to scroll the grid, Shift+arrows to scroll timeline rows",tabIndex:0,onKeyDown:y,children:[s.jsx($b,{viewStart:c,viewEnd:d,dateCount:p}),s.jsx("div",{ref:o,className:"gantt-grid",role:"rowgroup","aria-label":"Gantt chart data rows",tabIndex:0,onKeyDown:h=>{h.key==="ArrowLeft"&&h.altKey?(h.preventDefault(),o.current?.scrollBy({left:-50,behavior:"smooth"})):h.key==="ArrowRight"&&h.altKey?(h.preventDefault(),o.current?.scrollBy({left:50,behavior:"smooth"})):h.key==="ArrowUp"&&h.altKey?(h.preventDefault(),o.current?.scrollBy({top:-50,behavior:"smooth"})):h.key==="ArrowDown"&&h.altKey&&(h.preventDefault(),o.current?.scrollBy({top:50,behavior:"smooth"}))},children:t.map((h,f)=>s.jsx(Ib,{resource:h,tasks:g.get(h.id)||[],scale:m,onTaskClick:a,onTaskDoubleClick:i,rowIndex:f,dateCount:p},h.id))})]})}const ai=({children:t,href:e,active:n=!1,attributes:r={}})=>s.jsx("li",{className:"nhsuk-breadcrumb__item",children:n?s.jsx("span",{className:"nhsuk-breadcrumb__link nhsuk-breadcrumb__link--current","aria-current":"page",...r,children:t}):s.jsx("a",{className:"nhsuk-breadcrumb__link",href:e,...r,children:t})}),hu=({items:t=[],children:e,classes:n,labelText:r="Breadcrumb",href:a,text:i,reverse:o=!1,attributes:l={}})=>{const u=()=>e?A.Children.toArray(e).filter(f=>A.isValidElement(f)&&(f.type===ai||f.type?.displayName==="BreadcrumbItem")).map(f=>({text:typeof f.props.children=="string"?f.props.children:String(f.props.children),href:f.props.href,active:f.props.active,attributes:f.props.attributes})):[],c=()=>e?u():a&&i?[{href:a,text:i}]:t,d=()=>{const h=c();if(h&&h.length>0){const f=h.slice().reverse().find(L=>L.href&&!L.active);if(f)return{href:f.href,text:f.text}}return{text:"Home"}},p=c(),m=d(),g=ge("nhsuk-breadcrumb",{"nhsuk-breadcrumb--reverse":o},n),y=r;return s.jsxs("nav",{className:g,"aria-label":y,role:"navigation",...l,children:[s.jsx("ol",{className:"nhsuk-breadcrumb__list",role:"list",children:e?A.Children.map(e,(h,f)=>A.isValidElement(h)&&(h.type===ai||h.type?.displayName==="BreadcrumbItem")?A.cloneElement(h,{key:f}):null):p?.filter(h=>h.active||!!h.href).map((h,f)=>s.jsx("li",{className:"nhsuk-breadcrumb__item",role:"listitem",children:h.active?s.jsx("span",{className:"nhsuk-breadcrumb__link nhsuk-breadcrumb__link--current","aria-current":"page",role:"text",...h.attributes||{},children:h.text}):s.jsx("a",{className:"nhsuk-breadcrumb__link",href:h.href,role:"link",...h.attributes||{},children:h.text})},f))}),m.href&&s.jsx("p",{className:"nhsuk-breadcrumb__back",children:s.jsxs("a",{className:"nhsuk-breadcrumb__backlink",href:m.href,role:"link","aria-label":`Back to ${m.text}`,...t.length>0?t[t.length-1]?.attributes||{}:{},children:[s.jsx("span",{className:"nhsuk-u-visually-hidden",children:"Back to Â "}),m.text]})})]})};hu.Item=ai,ai.displayName="BreadcrumbItem";const $s=({text:t="Skip to main content",href:e="#maincontent",classes:n,attributes:r={}})=>{const[a,i]=A.useState(!1);A.useEffect(()=>{i(!0)},[]),A.useEffect(()=>{if(typeof window>"u"||typeof document>"u"||!document.querySelector||!document.querySelectorAll)return;const l=u=>{const c=u.target,d=c.getAttribute("href");if(d&&d.startsWith("#")){const p=document.querySelector(d);if(p){p.hasAttribute("tabindex")||p.setAttribute("tabindex","-1"),p.focus(),p.classList.add("nhsuk-skip-link-focused-element");const m=window.setTimeout(()=>{p.classList.remove("nhsuk-skip-link-focused-element"),p.getAttribute("tabindex")==="-1"&&p.removeAttribute("tabindex")},3e3);c.__nhsSkipLinkTimeout=m}}};try{const u=document.querySelectorAll(".nhsuk-skip-link");return u.forEach(c=>{c.addEventListener("click",l)}),()=>{try{u.forEach(c=>{c.removeEventListener("click",l);const d=c.__nhsSkipLinkTimeout;d&&window.clearTimeout&&window.clearTimeout(d)})}catch(c){console.warn("SkipLink cleanup error:",c)}}}catch(u){return console.warn("SkipLink initialization error:",u),()=>{}}},[a]);const o=ge("nhsuk-skip-link",n);return s.jsx("a",{className:o,href:e,"data-module":"nhsuk-skip-link","data-enhanced":a?"true":"false",...r,children:t})},Lb=({previousUrl:t,previousPage:e,nextUrl:n,nextPage:r,classes:a,attributes:i={}})=>{const o=ge("nhsuk-pagination",a);return s.jsx("nav",{className:o,role:"navigation","aria-label":"Pagination",...i,children:s.jsxs("ul",{className:"nhsuk-list nhsuk-pagination__list",children:[t&&e&&s.jsx("li",{className:"nhsuk-pagination-item--previous",children:s.jsxs("a",{className:"nhsuk-pagination__link nhsuk-pagination__link--prev",href:t,children:[s.jsx("span",{className:"nhsuk-pagination__title",children:"Previous"}),s.jsx("span",{className:"nhsuk-u-visually-hidden",children:":"}),s.jsx("span",{className:"nhsuk-pagination__page",children:e}),s.jsx("svg",{className:"nhsuk-icon nhsuk-icon__arrow-left",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24","aria-hidden":"true",width:"34",height:"34",children:s.jsx("path",{d:"M4.1 12.3l2.7 3c.2.2.5.2.7 0 .1-.1.1-.2.1-.3v-2h11c.6 0 1-.4 1-1s-.4-1-1-1h-11V9c0-.2-.1-.4-.3-.5h-.2c-.1 0-.3.1-.4.2l-2.7 3c0 .2 0 .4.1.6z"})})]})}),n&&r&&s.jsx("li",{className:"nhsuk-pagination-item--next",children:s.jsxs("a",{className:"nhsuk-pagination__link nhsuk-pagination__link--next",href:n,children:[s.jsx("span",{className:"nhsuk-pagination__title",children:"Next"}),s.jsx("span",{className:"nhsuk-u-visually-hidden",children:":"}),s.jsx("span",{className:"nhsuk-pagination__page",children:r}),s.jsx("svg",{className:"nhsuk-icon nhsuk-icon__arrow-right",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24","aria-hidden":"true",width:"34",height:"34",children:s.jsx("path",{d:"M19.6 11.66l-2.73-3A.51.51 0 0 0 16 9v2H5a1 1 0 0 0 0 2h11v2a.5.5 0 0 0 .32.46.39.39 0 0 0 .18 0 .52.52 0 0 0 .37-.16l2.73-3a.5.5 0 0 0 0-.64z"})})]})})]})})},Fb=({items:t,classes:e,ariaLabel:n="Pages in this guide",attributes:r={}})=>{const a=ge("nhsuk-contents-list",e),i=(o,l)=>o.current?s.jsx("li",{className:"nhsuk-contents-list__item","aria-current":"page",...o.attributes||{},children:s.jsx("span",{className:"nhsuk-contents-list__current",children:o.text})},l):s.jsx("li",{className:"nhsuk-contents-list__item",children:s.jsx("a",{className:"nhsuk-contents-list__link",href:o.href,...o.attributes||{},children:o.text})},l);return s.jsxs("nav",{className:a,role:"navigation","aria-label":n,...r,children:[s.jsx("h2",{className:"nhsuk-u-visually-hidden",children:"Contents"}),s.jsx("ol",{className:"nhsuk-contents-list__list",children:t.map((o,l)=>i(o,l))})]})},Is=A.forwardRef(({variant:t="default",heading:e,headingHtml:n,headingLevel:r=2,headingClasses:a,description:i,descriptionHtml:o,href:l,imgURL:u,imgAlt:c,...d},p)=>{const m=["nhsuk-card",t==="clickable"&&"nhsuk-card--clickable",t==="secondary"&&"nhsuk-card--secondary",t==="feature"&&"nhsuk-card--feature",d.className].filter(Boolean).join(" "),g=["nhsuk-card__content",t==="feature"&&"nhsuk-card__content--feature",t==="primary"&&"nhsuk-card__content--primary",t==="secondary"&&"nhsuk-card__content--secondary"].filter(Boolean).join(" "),y=["nhsuk-card__heading",t==="feature"&&"nhsuk-card__heading--feature",a].filter(Boolean).join(" "),h=()=>{if(n)return s.jsx("div",{dangerouslySetInnerHTML:{__html:n}});if(!e)return null;const M=()=>l&&t!=="feature"?s.jsx("a",{className:"nhsuk-card__link",href:l,children:e}):e;return s.jsx(At,{level:r,className:y,children:M()})},f=()=>d.children?d.children:o?s.jsx("div",{dangerouslySetInnerHTML:{__html:o}}):i?s.jsx("p",{className:"nhsuk-card__description",children:i}):null,L=()=>t!=="primary"?null:s.jsxs("svg",{className:"nhsuk-icon",xmlns:"http://www.w3.org/2000/svg",width:"27",height:"27","aria-hidden":"true",focusable:"false",children:[s.jsx("circle",{cx:"13.333",cy:"13.333",r:"13.333",fill:""}),s.jsxs("g",{fill:"none",stroke:"#fff",strokeLinecap:"round",strokeMiterlimit:"10",strokeWidth:"2.667",children:[s.jsx("path",{d:"M15.438 13l-3.771 3.771"}),s.jsx("path",{d:"M11.667 9.229L15.438 13"})]})]});return s.jsxs("div",{...d,className:m,ref:p,children:[u&&s.jsx("img",{className:"nhsuk-card__img",src:u,alt:c||""}),s.jsxs("div",{className:g,children:[h(),f(),L()]})]})});Is.displayName="Card";const Bb=({className:t,children:e,"data-testid":n,id:r})=>{const a=["nhsuk-card-group",t].filter(Boolean).join(" ");return s.jsx("ul",{className:a,"data-testid":n,id:r,children:e})},Ab=({className:t,children:e,"data-testid":n})=>{const r=["nhsuk-card-group__item",t].filter(Boolean).join(" ");return s.jsx("li",{className:r,"data-testid":n,children:e})},Eb=({type:t,heading:e,headingHtml:n,headingLevel:r=3,headingClasses:a,description:i,descriptionHtml:o,className:l,children:u,"data-testid":c,id:d,"aria-label":p,"aria-labelledby":m,"aria-describedby":g})=>{const y=["nhsuk-care-card",`nhsuk-care-card--${t}`,l].filter(Boolean).join(" "),h=["nhsuk-care-card__heading",a].filter(Boolean).join(" "),f=()=>{if(n)return s.jsx("div",{dangerouslySetInnerHTML:{__html:n}});if(!e)return null;const M={"non-urgent":"Non-urgent advice:",urgent:"Urgent advice:",emergency:"Immediate action required:"}[t],j=s.jsxs("span",{role:"text",children:[s.jsxs("span",{className:"nhsuk-u-visually-hidden",children:[M," "]}),e]});return s.jsx(At,{level:r,className:h,children:j})},L=()=>u||(o?s.jsx("div",{dangerouslySetInnerHTML:{__html:o}}):i?s.jsx("p",{className:"nhsuk-care-card__text",children:i}):null);return s.jsxs("div",{className:y,"data-testid":c,id:d,"aria-label":p,"aria-labelledby":m,"aria-describedby":g,children:[s.jsxs("div",{className:"nhsuk-care-card__heading-container",children:[f(),s.jsx("span",{className:"nhsuk-care-card__arrow","aria-hidden":"true"})]}),s.jsx("div",{className:"nhsuk-care-card__content",children:L()})]})},pu=({id:t,className:e,headingText:n,headingHtml:r,headingLevel:a=2,bodyText:i,bodyHtml:o,children:l,...u})=>{const c=ge("nhsuk-panel",e),d=()=>!n&&!r&&!l?null:r?s.jsx(At,{level:a,className:"nhsuk-panel__heading",html:r,marginBottom:"var(--panel-heading-margin, 24px)"}):n?s.jsx(At,{level:a,className:"nhsuk-panel__heading",text:n,marginBottom:"var(--panel-heading-margin, 24px)"}):null,p=()=>l?s.jsx("div",{className:"nhsuk-panel__body",children:l}):o?s.jsx("div",{className:"nhsuk-panel__body",dangerouslySetInnerHTML:{__html:o}}):i?s.jsx("div",{className:"nhsuk-panel__body",children:s.jsx("p",{children:i})}):null;return s.jsxs("div",{className:c,id:t,...u,children:[d(),p()]})},Hb=({text:t,html:e,children:n,className:r,...a})=>{const i=ge("nhsuk-inset-text",r),o=()=>n||(e?s.jsx("div",{dangerouslySetInnerHTML:{__html:e}}):t?s.jsx("p",{children:t}):null);return s.jsx("div",{className:i,...a,children:o()})},Rb=({items:t,noBorder:e=!1,className:n,...r})=>{const a=ge("nhsuk-summary-list",{"nhsuk-summary-list--no-border":e},n),i=l=>l.children?l.children:l.html?s.jsx("span",{dangerouslySetInnerHTML:{__html:l.html}}):l.text?l.text:null,o=l=>!l||!l.items.length?null:s.jsx("dd",{className:"nhsuk-summary-list__actions",children:s.jsx("ul",{className:"nhsuk-summary-list__actions-list",children:l.items.map((u,c)=>s.jsx("li",{className:"nhsuk-summary-list__actions-list-item",children:s.jsxs("a",{href:u.href,className:"nhsuk-link",...u.attributes,children:[i(u),u.visuallyHiddenText&&s.jsx("span",{className:"nhsuk-u-visually-hidden",children:u.visuallyHiddenText})]})},c))})});return s.jsx("div",{className:"nhsuk-summary-list-container",children:s.jsx("dl",{className:a,...r,children:t.map((l,u)=>s.jsxs("div",{className:"nhsuk-summary-list__row",children:[s.jsx("dt",{className:"nhsuk-summary-list__key",children:i(l.key)}),s.jsx("dd",{className:"nhsuk-summary-list__value",children:i(l.value)}),o(l.actions)]},u))})})},Hr={current:null},Ob=()=>{if(Hr.current)return Hr.current;try{Hr.current=require("prismjs");try{require("prismjs/components/prism-typescript")}catch{}try{require("prismjs/components/prism-tsx")}catch{}try{require("prismjs/components/prism-json")}catch{}}catch{Hr.current=null}return Hr.current},zb=t=>{const e=[{regex:/\b(import|from|export|const|let|var|return|if|else|for|while|switch|case|break|new|throw|try|catch|finally|class|extends|implements|interface|type|as|async|await|function)\b/g,cls:"kw"},{regex:/(['"`])(?:\\.|(?!\1).)*\1/g,cls:"str"},{regex:/\/\*[^]*?\*\/|\/\/.*$/gm,cls:"com"},{regex:/\b([0-9]+(?:\.[0-9]+)?)\b/g,cls:"num"}];let n=t;return e.forEach(r=>{n=n.replace(r.regex,a=>`<span class="nhsuk-code-${r.cls}">${a}</span>`)}),n},ii=(t,e,n)=>{if(n||!e)return t;const r=Ob();if(r&&r.languages){const a=r.languages[e]?e:r.languages.typescript&&(e==="ts"||e==="tsx"||e==="typescript")?"typescript":r.languages.json&&e==="json"?"json":void 0;if(a)try{return r.highlight(t,r.languages[a],a)}catch{}}return zb(t)},Wb=({rows:t,head:e,caption:n,captionSize:r,firstCellIsHeader:a=!1,responsive:i=!1,heading:o,headingLevel:l=3,panel:u=!1,panelClasses:c,tableClasses:d,classes:p,attributes:m,"data-testid":g,columns:y,data:h,visuallyHiddenCaption:f=!1})=>{const L=`nhsuk-table__caption ${r?`nhsuk-table__caption--${r}`:""}`.trim(),M=ge("nhsuk-table",{"nhsuk-table-responsive":i},d),j=ge(p),S=(b,D)=>{const x=ge("nhsuk-table__header",{[`nhsuk-table__header--${b.format}`]:b.format},b.classes),C={scope:"col",...b.colspan&&{colSpan:b.colspan},...b.rowspan&&{rowSpan:b.rowspan},...i&&{role:"columnheader"},...b.attributes};let B;if(b.node!=null)B=s.jsx(s.Fragment,{children:b.node});else if(b.html)B=s.jsx("span",{dangerouslySetInnerHTML:{__html:b.html}});else if(b.code!=null){const I=Array.isArray(b.code),P=I?b.code.join(`
`):b.code,w=I||P.includes(`
`),E={className:ge("nhsuk-table__code",b.codeClassName,{"nhsuk-table__code--block":w,"nhsuk-table__code--inline":!w}),...b.codeLanguage?{"data-language":b.codeLanguage}:{}},te=ii(P,b.codeLanguage);B=w?s.jsx("pre",{className:"nhsuk-table__pre",children:s.jsx("code",{...E,dangerouslySetInnerHTML:{__html:te}})}):s.jsx("code",{...E,dangerouslySetInnerHTML:{__html:te}})}else B=b.text;return s.jsx("th",{className:x,...C,children:B},D)},N=(b,D,x)=>{const C=a&&x||b.rowHeader,B=ge(C?"nhsuk-table__header":"nhsuk-table__cell",{[`nhsuk-table__${C?"header":"cell"}--${b.format}`]:b.format},b.classes),I={...C&&{scope:"row"},...b.colspan&&{colSpan:b.colspan},...b.rowspan&&{rowSpan:b.rowspan},...i&&{role:C?"rowheader":"cell",...b.header&&{"data-label":b.header}},...b.attributes};let P;if(b.node!=null)P=s.jsx(s.Fragment,{children:b.node});else if(b.html)P=s.jsx("span",{dangerouslySetInnerHTML:{__html:b.html}});else if(b.code!=null){const te=Array.isArray(b.code),z=te?b.code.join(`
`):b.code,W=te||z.includes(`
`),G={className:ge("nhsuk-table__code",b.codeClassName,{"nhsuk-table__code--block":W,"nhsuk-table__code--inline":!W}),...b.codeLanguage?{"data-language":b.codeLanguage}:{}},H=ii(z,b.codeLanguage,b.disableHighlight);P=W?s.jsx("pre",{className:"nhsuk-table__pre",children:s.jsx("code",{...G,dangerouslySetInnerHTML:{__html:H}})}):s.jsx("code",{...G,dangerouslySetInnerHTML:{__html:H}})}else P=b.text;const w=s.jsxs(s.Fragment,{children:[i&&b.header&&s.jsxs("span",{className:"nhsuk-table-responsive__heading","aria-hidden":"true",children:[b.header," "]}),P]}),E=C?"th":"td";return s.jsx(E,{className:B,...I,children:w},D)};let k=e,$=t;!k&&y&&y.length&&(k=y.map(b=>({text:b.title,format:b.format,classes:b.headerClasses,attributes:b.headerAttributes}))),!$&&y&&h&&h.length&&($=h.map((b,D)=>y.map(x=>{const C=x.accessor?x.accessor(b,D):b[x.key];let B={format:x.format,classes:x.cellClasses,attributes:x.cellAttributes};if(x.rowHeader&&(B.rowHeader=!0),x.render){const I=x.render(C,b,D,x);return I==null||typeof I=="boolean"?{...B,text:""}:typeof I=="string"||typeof I=="number"?{...B,text:String(I)}:{...B,...I}}return{...B,text:C!=null?String(C):""}})));const v=()=>s.jsxs("table",{className:M,...i&&{role:"table"},...m,...g&&{"data-testid":g},children:[n&&s.jsx("caption",{className:ge(L,f&&"nhsuk-u-visually-hidden"),children:n}),k&&k.length>0&&s.jsx("thead",{className:"nhsuk-table__head",...i&&{role:"rowgroup"},children:s.jsx("tr",{...i&&{role:"row"},children:k.map((b,D)=>S(b,D))})}),s.jsx("tbody",{className:"nhsuk-table__body",children:$&&$.map((b,D)=>s.jsx("tr",{className:"nhsuk-table__row",...i&&{role:"row"},children:b.map((x,C)=>N(x,C,C===0))},D))})]});return u?s.jsxs(pu,{className:c,children:[o&&s.jsx(At,{level:l,className:"nhsuk-table__heading-tab",children:o}),v()]}):j?s.jsx("div",{className:j,children:v()}):v()},Ub=({children:t,size:e,className:n})=>{const r=ge("nhsuk-table__caption",e&&`nhsuk-table__caption--${e}`,n);return s.jsx("caption",{className:r,children:t})},mu=({responsive:t,className:e,children:n,...r})=>{const a=t?{role:"row"}:{};return s.jsx("tr",{className:e,...a,...r,children:n})},gu=({text:t,html:e,node:n,code:r,codeLanguage:a,codeClassName:i,disableHighlight:o,format:l,classes:u,colspan:c,rowspan:d,attributes:p,responsive:m,as:g="th"})=>{const y=ge("nhsuk-table__header",{[`nhsuk-table__header--${l}`]:l},u),h={scope:"col",...c&&{colSpan:c},...d&&{rowSpan:d},...m&&{role:"columnheader"},...p};let f;if(n!=null)f=s.jsx(s.Fragment,{children:n});else if(e)f=s.jsx("span",{dangerouslySetInnerHTML:{__html:e}});else if(r!=null){const M=Array.isArray(r),j=M?r.join(`
`):r,S=M||j.includes(`
`),N={className:ge("nhsuk-table__code",i,{"nhsuk-table__code--block":S,"nhsuk-table__code--inline":!S}),...a?{"data-language":a}:{}},k=ii(j,a,o);f=S?s.jsx("pre",{className:"nhsuk-table__pre",children:s.jsx("code",{...N,dangerouslySetInnerHTML:{__html:k}})}):s.jsx("code",{...N,dangerouslySetInnerHTML:{__html:k}})}else f=t;const L=g;return s.jsx(L,{className:y,...h,children:f})},Gb=({text:t,html:e,node:n,code:r,codeLanguage:a,codeClassName:i,disableHighlight:o,format:l,classes:u,colspan:c,rowspan:d,attributes:p,responsive:m,rowHeader:g})=>{const y=!!g,h=y?"th":"td",f=ge(y?"nhsuk-table__header":"nhsuk-table__cell",l&&`nhsuk-table__${y?"header":"cell"}--${l}`,u),L={...c&&{colSpan:c},...d&&{rowSpan:d},...y&&{scope:"row"},...m&&{role:y?"rowheader":"cell"},...p};let M;if(n!=null)M=s.jsx(s.Fragment,{children:n});else if(e)M=s.jsx("span",{dangerouslySetInnerHTML:{__html:e}});else if(r!=null){const j=Array.isArray(r),S=j?r.join(`
`):r,N=j||S.includes(`
`),k={className:ge("nhsuk-table__code",i,{"nhsuk-table__code--block":N,"nhsuk-table__code--inline":!N}),...a?{"data-language":a}:{}},$=ii(S,a,o);M=N?s.jsx("pre",{className:"nhsuk-table__pre",children:s.jsx("code",{...k,dangerouslySetInnerHTML:{__html:$}})}):s.jsx("code",{...k,dangerouslySetInnerHTML:{__html:$}})}else M=t;return s.jsx(h,{className:f,...L,children:M})},Dt=Wb;Dt.Caption=Ub,Dt.BodyRow=mu,Dt.HeaderCell=gu,Dt.Cell=Gb,Dt.Row=mu,Dt.TH=gu,process.env.NODE_ENV!=="production"&&(Dt.Row&&console.warn("Table.Row is deprecated. Use Table.BodyRow instead."),Dt.TH&&console.warn("Table.TH is deprecated. Use Table.HeaderCell instead."));const Vb=A.forwardRef(({items:t,defaultActiveTab:e,activeTab:n,onTabChange:r,onTabFocus:a,onTabListBlur:i,onEscape:o,autoActivate:l=!0,className:u,id:c,"data-testid":d,...p},m)=>{const g=n!==void 0,[y,h]=A.useState(()=>e||t[0]?.id||""),f=g?n:y,L=A.useRef(null),M=A.useRef(new Map),j=A.useCallback(D=>{g||h(D),r?.(D)},[g,r]),S=A.useCallback(D=>{a?.(D),l&&j(D)},[a,l,j]),N=A.useCallback((D,x)=>{const C=t.filter(P=>!P.disabled).map(P=>P.id),B=C.indexOf(x);let I=null;switch(D.key){case"ArrowLeft":I=B>0?B-1:C.length-1;break;case"ArrowRight":I=B<C.length-1?B+1:0;break;case"Home":I=0;break;case"End":I=C.length-1;break;case"Escape":D.preventDefault(),o?.();return;default:return}if(I!==null){D.preventDefault();const P=C[I],w=M.current.get(P);w&&(w.focus(),S(P))}},[t,S,o]),k=A.useCallback((D,x)=>{x?M.current.set(D,x):M.current.delete(D)},[]),$=A.useCallback(D=>{const x=M.current.get(D);x&&x.focus()},[]);A.useImperativeHandle(m,()=>({focusTab:$,getActiveTab:()=>f,getTabListElement:()=>L.current}),[$,f]);const v=A.useCallback(D=>{const x=D.relatedTarget;L.current?.contains(x)||i?.()},[i]),b=ge("nhsuk-tabs",u);return s.jsxs("div",{className:b,id:c,"data-testid":d,...p,children:[s.jsx("h2",{className:"nhsuk-tabs__title",children:"Contents"}),s.jsx("div",{className:"nhsuk-tabs__list-container",ref:L,children:s.jsx("ul",{className:"nhsuk-tabs__list",role:"tablist",onBlur:v,children:t.map(D=>{const x=D.id===f,C=D.disabled,B=ge("nhsuk-tabs__list-item",{"nhsuk-tabs__list-item--selected":x,"nhsuk-tabs__list-item--disabled":C});return s.jsx("li",{className:B,role:"presentation",children:s.jsx("button",{ref:I=>k(D.id,I),className:"nhsuk-tabs__tab",role:"tab","aria-selected":x,"aria-controls":`${D.id}-panel`,id:`${D.id}-tab`,tabIndex:x?0:-1,disabled:C,onClick:()=>!C&&j(D.id),onKeyDown:I=>!C&&N(I,D.id),onFocus:()=>!C&&S(D.id),...D.attributes,children:D.label})},D.id)})})}),t.map(D=>{const x=D.id===f;return s.jsx("div",{className:"nhsuk-tabs__panel",role:"tabpanel","aria-labelledby":`${D.id}-tab`,id:`${D.id}-panel`,hidden:!x,children:D.content},D.id)})]})}),_u=A.forwardRef(({summaryText:t,summaryHtml:e,text:n,html:r,open:a=!1,className:i="",id:o,children:l,...u},c)=>{const d=["nhsuk-details",i].filter(Boolean).join(" "),p=e?s.jsx("span",{className:"nhsuk-details__summary-text",dangerouslySetInnerHTML:{__html:e}}):s.jsx("span",{className:"nhsuk-details__summary-text",children:t});let m;return l?m=l:r?m=s.jsx("div",{dangerouslySetInnerHTML:{__html:r}}):n&&(m=n),s.jsxs("details",{ref:c,id:o,className:d,open:a,...u,children:[s.jsx("summary",{className:"nhsuk-details__summary",tabIndex:0,children:p}),s.jsx("div",{className:"nhsuk-details__text",children:m})]})});_u.displayName="Details";const bu=A.forwardRef(({title:t,type:e,items:n,hidePrefix:r=!1,headingLevel:a=3,className:i,...o},l)=>{const u=["nhsuk-do-dont-list"];i&&u.push(i);const c=["nhsuk-list",e==="tick"?"nhsuk-list--tick":"nhsuk-list--cross"],d=()=>e==="cross"?s.jsxs("svg",{className:"nhsuk-icon nhsuk-icon__cross",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24","aria-hidden":"true",width:"34",height:"34",children:[s.jsx("path",{d:"M17 18.5c-.4 0-.8-.1-1.1-.4l-10-10c-.6-.6-.6-1.6 0-2.1.6-.6 1.5-.6 2.1 0l10 10c.6.6.6 1.5 0 2.1-.3.3-.6.4-1 .4z",fill:"#d5281b"}),s.jsx("path",{d:"M7 18.5c-.4 0-.8-.1-1.1-.4-.6-.6-.6-1.5 0-2.1l10-10c.6-.6 1.5-.6 2.1 0 .6.6.6 1.5 0 2.1l-10 10c-.3.3-.6.4-1 .4z",fill:"#d5281b"})]}):s.jsx("svg",{className:"nhsuk-icon nhsuk-icon__tick",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none","aria-hidden":"true",width:"34",height:"34",children:s.jsx("path",{strokeWidth:"4",strokeLinecap:"round",d:"M18.4 7.8l-8.5 8.4L5.6 12",stroke:"#007f3b"})}),p=g=>e==="cross"&&!r?`do not ${g}`:g,m=()=>s.jsx(At,{level:a,className:"nhsuk-do-dont-list__label",text:t});return s.jsxs("div",{ref:l,className:u.join(" "),...o,children:[m(),s.jsx("div",{className:"nhsuk-do-dont-list__content--feature",children:s.jsx("ul",{className:c.join(" "),role:"list",children:n.map((g,y)=>s.jsxs("li",{children:[d(),p(g.item)]},y))})})]})});bu.displayName="DoDontList";const yu=A.forwardRef(({summaryText:t,summaryHtml:e,text:n,html:r,open:a=!1,className:i="",id:o,children:l,...u},c)=>{const d=["nhsuk-expander",i].filter(Boolean).join(" "),p=e?s.jsx("span",{className:"nhsuk-details__summary-text",dangerouslySetInnerHTML:{__html:e}}):s.jsx("span",{className:"nhsuk-details__summary-text",children:t});let m;return l?m=l:r?m=s.jsx("div",{dangerouslySetInnerHTML:{__html:r}}):n&&(m=n),s.jsxs("details",{ref:c,id:o,className:d,open:a,...u,children:[s.jsx("summary",{className:"nhsuk-details__summary",children:p}),s.jsx("div",{className:"nhsuk-details__text",children:m})]})});yu.displayName="Expander";const xu=A.forwardRef(({items:t,idPrefix:e="task-list",className:n,...r},a)=>{const i=["nhsuk-task-list",n].filter(Boolean).join(" "),o=(l,u)=>{const c=u+1,d=`${e}-${c}-hint`,p=`${e}-${c}-status`,m=!!l.href,g=["nhsuk-task-list__item",m&&"nhsuk-task-list__item--with-link",l.classes].filter(Boolean).join(" "),y=[l.hint&&d,p].filter(Boolean).join(" ");return s.jsx(Yb,{item:l,itemClasses:g,hasLink:m,hintId:d,statusId:p,ariaDescribedBy:y},u)};return s.jsx("ul",{ref:a,className:i,...r,children:t.map(o)})}),Yb=({item:t,itemClasses:e,hasLink:n,hintId:r,statusId:a,ariaDescribedBy:i})=>{const o=()=>{const c=t.title.html?s.jsx("span",{dangerouslySetInnerHTML:{__html:t.title.html}}):t.title.text,d=[n?"nhsuk-task-list__link":"",t.title.classes].filter(Boolean).join(" ");return n?s.jsx("a",{className:d,href:t.href,"aria-describedby":i,children:c}):s.jsx("div",{className:t.title.classes||"",children:c})},l=()=>t.hint?t.hint.html?s.jsx("div",{id:r,className:"nhsuk-task-list__hint",dangerouslySetInnerHTML:{__html:t.hint.html}}):s.jsx("div",{id:r,className:"nhsuk-task-list__hint",children:t.hint.text}):null,u=()=>{const c=["nhsuk-task-list__status",t.status.classes].filter(Boolean).join(" ");let d;return t.status.tag?d=s.jsx(Ge,{...t.status.tag}):t.status.html?d=s.jsx("span",{dangerouslySetInnerHTML:{__html:t.status.html}}):d=t.status.text,s.jsx("div",{className:c,id:a,children:d})};return s.jsxs("li",{className:e,children:[s.jsxs("div",{className:"nhsuk-task-list__name-and-hint",children:[o(),l()]}),u()]})};xu.displayName="TaskList";const qb=({heading:t,headingLevel:e=3,text:n,html:r,children:a,className:i,...o})=>{const l=/important/i.test(t),u=()=>a||(r?s.jsx("div",{dangerouslySetInnerHTML:{__html:r}}):n?s.jsx("p",{children:n}):null),c=["nhsuk-warning-callout",i].filter(Boolean).join(" "),d=`h${e}`;return s.jsxs("div",{className:c,...o,children:[A.createElement(d,{className:"nhsuk-warning-callout__label"},l?s.jsxs(s.Fragment,{children:[t,s.jsx("span",{className:"nhsuk-u-visually-hidden",children:":"})]}):s.jsxs("span",{role:"text",children:[s.jsx("span",{className:"nhsuk-u-visually-hidden",children:"Important: "}),t]})),u()]})},Xb=({src:t,alt:e,caption:n,sizes:r,srcset:a,className:i,...o})=>{const l=["nhsuk-image",i].filter(Boolean).join(" ");return s.jsxs("figure",{className:l,...o,children:[s.jsx("img",{className:"nhsuk-image__img",src:t,alt:e,...r&&a?{sizes:r,srcSet:a}:{}}),n&&s.jsx("figcaption",{className:"nhsuk-image__caption",dangerouslySetInnerHTML:{__html:n}})]})},Kb=({dateRange:t,onPrev:e,onNext:n,onToday:r,density:a,onDensityChange:i,a11yMode:o,onA11yModeChange:l})=>s.jsxs("div",{className:"nhs-slot-matrix__toolbar",role:"group","aria-label":"Slot matrix controls",children:[s.jsxs("div",{className:"nhs-slot-matrix__toolbar-section",children:[s.jsx(rt,{variant:"secondary",size:"small",onClick:e,"aria-label":"Previous date range",children:"Prev"}),s.jsx(rt,{variant:"secondary",size:"small",onClick:r,"aria-label":"Jump to today",children:"Today"}),s.jsx(rt,{variant:"secondary",size:"small",onClick:n,"aria-label":"Next date range",children:"Next"}),s.jsxs("span",{className:"nhs-slot-matrix__toolbar-daterange","aria-live":"polite",children:[t.start.toDateString()," â€“ ",t.end.toDateString()]})]}),s.jsxs("div",{className:"nhs-slot-matrix__toolbar-section",children:[s.jsx("label",{className:"nhs-slot-matrix__toolbar-label",htmlFor:"slot-matrix-density-select",children:"Density"}),s.jsx(Dr,{id:"slot-matrix-density-select",name:"slot-matrix-density",ariaLabel:"Change density",value:a,onChange:u=>i?.(u.target.value),options:[{value:"comfortable",text:"Comfortable"},{value:"compact",text:"Compact"}]}),s.jsx("label",{className:"nhs-slot-matrix__toolbar-label",htmlFor:"slot-matrix-mode-select",children:"Mode"}),s.jsx(Dr,{id:"slot-matrix-mode-select",name:"slot-matrix-mode",ariaLabel:"Change accessibility mode",value:o,onChange:u=>l?.(u.target.value),options:[{value:"grid",text:"Grid"},{value:"list",text:"List"}]})]})]}),Zb=({items:t,orientation:e="horizontal"})=>s.jsx("div",{className:`nhs-slot-matrix__legend nhs-slot-matrix__legend--${e}`,role:"list","aria-label":"Slot legend",children:t.map(n=>s.jsx("div",{role:"listitem",className:"nhs-slot-matrix__legend-item",children:s.jsx(Ge,{color:Jb(n.status),text:n.label})},n.status))});function Jb(t){switch(t){case"available":return"green";case"full":return"grey";case"overbook":return"orange";case"held":return"yellow";case"blocked":return"grey";default:return"default"}}const Qb=({slots:t,sessions:e,value:n,defaultValue:r,onChange:a,selectionMode:i="single",a11yMode:o,className:l,style:u,getSlotAriaLabel:c,toolbar:d,enableDefaultToolbar:p=!0,legendItems:m,enableDefaultLegend:g=!0,legendPlacement:y="bottom",onA11yModeChange:h})=>{const[f,L]=A.useState("grid"),M=o||f,[j,S]=A.useState(r||[]),N=n??j,k=A.useMemo(()=>{const I=new Set;return t.forEach(P=>I.add(new Date(P.start).getTime())),Array.from(I).sort((P,w)=>P-w)},[t]),$=A.useMemo(()=>{const I={};return t.forEach(P=>{const w=new Date(P.start).getTime();I[w]||(I[w]={});const E=P.capacity-P.booked-(P.held||0);I[w][P.sessionId]={slot:P,remaining:E}}),I},[t]),v=A.useCallback(I=>{if(i==="single"){const P=[I.id];n||S(P),a?.(P,{lastAction:"select"})}else{const P=N.includes(I.id),w=P?N.filter(E=>E!==I.id):[...N,I.id];n||S(w),a?.(w,{lastAction:P?"deselect":"select"})}},[i,N,n,a]),b=A.useMemo(()=>m||(g?Array.from(new Set(t.map(P=>P.status))).map(P=>({status:P,label:P.charAt(0).toUpperCase()+P.slice(1)})):void 0),[m,g,t]),D=b?s.jsx(Zb,{items:b,orientation:y==="left"||y==="right"?"vertical":"horizontal"}):null,x=I=>{o||L(I),h?.(I)},C=d||(p?s.jsx(Kb,{dateRange:{start:new Date,end:new Date},density:"comfortable",a11yMode:M,onA11yModeChange:x}):null),B=s.jsx("div",{style:u,className:ge(l),children:s.jsx(Ra,{className:ge("nhs-slot-matrix-grid-wrapper"),children:s.jsx(_n,{children:s.jsx(Qn,{width:"full",children:s.jsxs("div",{className:"nhs-slot-matrix",children:[C,y==="top"&&D,s.jsx("ul",{"aria-label":"Appointment slots list",children:t.map(I=>s.jsx("li",{children:s.jsxs("button",{type:"button",onClick:()=>v(I),"aria-pressed":N.includes(I.id),children:[Rr(new Date(I.start))," â€“ ",Rr(new Date(I.end))," (",I.status,")"]})},I.id))}),y==="bottom"&&D]})})})})});return M==="list"?B:s.jsx("div",{style:u,className:ge(l),children:s.jsx(Ra,{className:ge("nhs-slot-matrix-grid-wrapper"),children:s.jsx(_n,{children:s.jsx(Qn,{width:"full",children:s.jsxs("div",{className:"nhs-slot-matrix",children:[C,y==="top"&&D,s.jsxs("div",{role:"grid","aria-rowcount":k.length+1,"aria-colcount":e.length+1,children:[s.jsxs("div",{role:"row",className:"nhs-slot-matrix__row",children:[s.jsx("div",{role:"columnheader","aria-label":"Timebands",className:"nhs-slot-matrix__timeband-header"}),e.map(I=>s.jsx("div",{role:"columnheader","aria-label":`Session ${I.specialty}`,className:"nhs-slot-matrix__session-header",children:I.specialty},I.id))]}),k.map(I=>s.jsxs("div",{role:"row",className:"nhs-slot-matrix__row",children:[s.jsx("div",{role:"rowheader",className:"nhs-slot-matrix__timeband-header","aria-label":Rr(new Date(I)),children:Rr(new Date(I))}),e.map(P=>{const w=$[I]?.[P.id];if(!w)return s.jsx("div",{role:"gridcell",className:"nhs-slot-matrix__cell","aria-disabled":"true"},P.id);const{slot:E,remaining:te}=w,z=N.includes(E.id),W=c?c(E):`Slot ${Rr(new Date(E.start))} ${E.status}${te===0?" full":""}`;return s.jsx("button",{type:"button",role:"gridcell","data-status":E.status,className:ge("nhs-slot-matrix__cell",z&&"nhs-slot-matrix__cell--selected"),"aria-label":W,"aria-selected":z||void 0,onClick:()=>v(E),children:te>0?`${te} left`:"Full"},E.id)})]},I))]}),y==="bottom"&&D]})})})})})};function vu(t){return t<10?`0${t}`:`${t}`}function Rr(t){return`${vu(t.getHours())}:${vu(t.getMinutes())}`}const wu=({title:t,value:e,subtitle:n,variant:r="default",href:a,className:i="",ariaLabel:o,...l})=>{const u=["nhs-fdp-summary-card",`nhs-fdp-summary-card--${r}`,i].filter(Boolean).join(" "),c=s.jsxs(s.Fragment,{children:[s.jsx(At,{level:3,className:"nhs-fdp-summary-card__title",children:t}),s.jsx("p",{className:"nhs-fdp-summary-card__value",children:e}),n&&s.jsx("p",{className:"nhs-fdp-summary-card__subtitle",children:n})]});return a?s.jsx("a",{className:`${u} nhs-fdp-summary-card--clickable`,href:a,"aria-label":o||`${t}: ${e}`,...l,children:c}):s.jsx("div",{className:u,"aria-label":o,...l,children:c})},ey=({cards:t,className:e="",...n})=>{const r=["nhs-fdp-dashboard-summary-grid",e].filter(Boolean).join(" ");return s.jsx("div",{className:r,...n,children:s.jsx(Ra,{children:s.jsx(_n,{children:t.map((a,i)=>s.jsx(Qn,{width:"one-quarter",className:"nhs-fdp-dashboard-summary-grid__column","data-card-index":i,children:s.jsx(wu,{...a})},i))})})})},Su=A.forwardRef(({data:t,columns:e,sortConfig:n,onSort:r,selectedRowIndex:a,onRowSelect:i,id:o,testId:l,ariaLabel:u,ariaLabelledby:c,ariaDescribedby:d,className:p,tableClassName:m,bordered:g=!1,striped:y=!1,responsive:h=!1,tableType:f="default"},L)=>{const M=A.useRef(null),j=A.useRef(null),S=A.useRef(null);A.useImperativeHandle(L,()=>M.current,[]);const[N,k]=A.useState(0),[$,v]=A.useState(0),[b,D]=A.useState("headers"),[x,C]=A.useState("browse"),B=e.length,I=t.length,P=A.useMemo(()=>!n||n.length===0?t:[...t].sort((H,oe)=>{for(const{key:T,direction:O}of n){const Q=H[T],re=oe[T];if(Q==null&&re==null)continue;if(Q==null)return 1;if(re==null)return-1;let q=0;if(typeof Q=="number"&&typeof re=="number"?q=Q-re:q=String(Q).localeCompare(String(re)),q!==0)return O==="asc"?q:-q}return 0}),[t,n]),w=A.useCallback((H,oe)=>{setTimeout(()=>{const T=M.current?.querySelector(`tbody tr:nth-child(${H+1}) td:nth-child(${oe+1})`);T&&(T.focus(),typeof T.scrollIntoView=="function"&&T.scrollIntoView({behavior:"smooth",block:"center",inline:"nearest"}))},0)},[]),E=A.useCallback(H=>{setTimeout(()=>{const oe=M.current?.querySelector(`th:nth-child(${H+1})`);oe&&(oe.focus(),typeof oe.scrollIntoView=="function"&&oe.scrollIntoView({behavior:"smooth",block:"center",inline:"nearest"}))},0)},[]),te=A.useCallback(H=>{r?.(H)},[r]),z=A.useCallback(H=>{i?.(H)},[i]),W=A.useCallback(H=>{const{key:oe}=H;switch(oe){case"Enter":if(H.preventDefault(),b==="headers"&&x==="browse")C("navigate"),E($);else if(b==="headers"&&x==="navigate"){const T=e[$];T&&te(T.key)}else b==="cells"&&x==="browse"?(C("navigate"),w(N,$)):b==="cells"&&x==="navigate"&&z(N);break;case"Escape":H.preventDefault(),(b==="headers"&&x==="navigate"||b==="cells"&&x==="navigate")&&C("browse");break;case"ArrowLeft":if(H.preventDefault(),x==="navigate"||x==="browse"&&b==="headers"){if(b==="headers"){const T=Math.max(0,$-1);v(T),E(T)}else if(b==="cells"){const T=Math.max(0,$-1);v(T),w(N,T)}}break;case"ArrowRight":if(H.preventDefault(),x==="navigate"||x==="browse"&&b==="headers"){if(b==="headers"){const T=Math.min(B-1,$+1);v(T),E(T)}else if(b==="cells"){const T=Math.min(B-1,$+1);v(T),w(N,T)}}break;case"ArrowUp":if(H.preventDefault(),b==="cells"){if(x==="browse"){const T=Math.max(0,N-1);k(T),w(T,0),v(0)}else if(x==="navigate")if(N>0){const T=N-1;k(T),w(T,$)}else D("headers"),C("browse"),E($)}break;case"ArrowDown":if(H.preventDefault(),b==="headers"&&x==="browse")D("cells"),k(0),v(0),w(0,0);else if(b==="cells"){const T=I-1;if(x==="browse"){const O=Math.min(T,N+1);k(O),w(O,0),v(0)}else if(x==="navigate"&&N<T){const O=N+1;k(O),w(O,$)}}break;case"Home":H.preventDefault(),b==="headers"?(v(0),E(0)):b==="cells"&&(H.ctrlKey?(k(0),v(0),w(0,0)):(v(0),w(N,0)));break;case"End":if(H.preventDefault(),b==="headers"){const T=B-1;v(T),E(T)}else if(b==="cells")if(H.ctrlKey){const T=I-1,O=B-1;k(T),v(O),w(T,O)}else{const T=B-1;v(T),w(N,T)}break;case" ":if(H.preventDefault(),b==="headers"&&x==="navigate"){const T=e[$];T&&te(T.key)}else b==="cells"&&x==="navigate"&&z(N);break}},[b,x,$,N,B,I,e,w,E,te,z]);A.useEffect(()=>{const H=M.current;if(H)return H.addEventListener("keydown",W),()=>H.removeEventListener("keydown",W)},[W]);const G=ge("nhsuk-table",m,{"nhsuk-table--responsive":h,"nhsuk-table--bordered":g,"nhsuk-table--striped":y,"nhsuk-table--compact":f==="compact"},p);return s.jsxs("table",{ref:M,className:G,id:o,"data-testid":l,role:"grid","aria-label":u,"aria-labelledby":c,"aria-describedby":d,tabIndex:0,children:[s.jsx("thead",{className:"nhsuk-table__head",role:"rowgroup",children:s.jsx("tr",{ref:j,role:"row",children:e.map((H,oe)=>{const T=n?.find(re=>re.key===H.key),O=!!T,Q=b==="headers"&&$===oe;return s.jsx("th",{className:ge("sortable-header",{"sortable-header--focused":Q}),role:"columnheader",tabIndex:Q?0:-1,onClick:()=>te(H.key),onKeyDown:re=>{(re.key==="Enter"||re.key===" ")&&(re.preventDefault(),te(H.key))},"aria-sort":O?T?.direction==="asc"?"ascending":"descending":"none",children:s.jsxs("div",{className:"header-content",children:[s.jsx("span",{className:"header-label",children:H.label}),O&&s.jsxs("span",{className:"sort-indicator","aria-hidden":"true",children:[n&&n.length>1&&s.jsx("span",{className:"sort-priority",children:n.findIndex(re=>re.key===H.key)+1}),s.jsx("svg",{width:"12",height:"12",viewBox:"0 0 12 12",fill:"currentColor",className:"sort-arrow",children:T?.direction==="asc"?s.jsx("path",{d:"M6 2L2 8h8L6 2z"}):s.jsx("path",{d:"M6 10L2 4h8L6 10z"})})]})]})},H.key)})})}),s.jsx("tbody",{ref:S,className:"nhsuk-table__body",role:"rowgroup",children:P.map((H,oe)=>{const T=a===oe,O=b==="cells"&&N===oe;return s.jsx("tr",{role:"row",className:ge("data-row",{"data-row--selected":T,"data-row--focused":O}),"aria-selected":T,children:e.map((Q,re)=>{const q=Q.tableRenderer?Q.tableRenderer(H):Q.render?Q.render(H):H[Q.key],R=b==="cells"&&N===oe&&$===re,V=()=>typeof q=="boolean"?s.jsxs(s.Fragment,{children:[s.jsx("span",{"aria-hidden":"true",children:q?"âœ“":"âœ—"}),s.jsx("span",{className:"sr-only",children:q?"Yes":"No"})]}):String(q??"");return s.jsx("td",{role:"gridcell",className:ge("data-cell",{"data-cell--focused":R}),tabIndex:R?0:-1,onClick:()=>z(oe),children:V()},Q.key)})},oe)})})]})});Su.displayName="AriaDataGrid";const ku=({sortConfig:t,columns:e,onSortChange:n,className:r="",emptyDescription:a="No sorting applied",activeDescription:i,showReset:o=!0,showHelp:l=!0,disabled:u=!1,ariaLabel:c="Sort configuration",ariaDescribedBy:d})=>{const p=A.useRef(null),m=A.useRef(null),g=A.useRef(null),y=A.useCallback((b,D)=>{u||(m.current=D,b.dataTransfer.effectAllowed="move",b.dataTransfer.setData("text/plain",D))},[u]),h=A.useCallback((b,D)=>{u||m.current===D||(b.preventDefault(),b.dataTransfer.dropEffect="move",g.current=D)},[u]),f=A.useCallback((b,D)=>{if(u)return;b.preventDefault();const x=m.current;if(!x||x===D)return;const C=t.findIndex(I=>I.key===x),B=t.findIndex(I=>I.key===D);if(C!==-1&&B!==-1){const I=[...t],[P]=I.splice(C,1);I.splice(B,0,P),n(I)}m.current=null,g.current=null},[u,t,n]),L=A.useCallback(()=>{m.current=null,g.current=null},[]),M=A.useCallback(b=>{const D=e.find(x=>x.key===b);return D?D.label:b},[e]),j=A.useCallback(b=>["red","orange","blue","aqua-green","grey"][b]||"grey",[]),S=A.useCallback(b=>{if(u)return;const D=t.map(x=>x.key===b?{...x,direction:x.direction==="asc"?"desc":"asc"}:x);n(D)},[t,n,u]),N=A.useCallback(b=>{if(u)return;const D=t.filter(x=>x.key!==b);n(D)},[t,n,u]),k=A.useCallback(()=>{u||n([])},[n,u]),$=()=>{if(t.length===0)return a;if(i)return i;const b=t.map((D,x)=>{const C=D.direction==="asc"?"ascending":"descending";return`${x+1}. ${M(D.key)} (${C})`});if(b.length===1)return`Sorted by: ${b[0]}`;if(b.length===2)return`Sorted by: ${b.join(" and ")}`;{const D=b.pop();return`Sorted by: ${b.join(", ")}, and ${D}`}},v=A.useMemo(()=>{const b=["sort-description"];return l&&b.push("sort-help"),d&&b.push(d),b.join(" ")},[l,d]);return t.length===0?s.jsxs("div",{className:`sort-status-control ${r}`,children:[s.jsx("div",{className:"sort-status-control__description",id:"sort-description","aria-live":"polite",children:a}),l&&s.jsx("div",{className:"sort-status-control__help",id:"sort-help",children:s.jsx("small",{children:"Drag tags to reorder priority. Click tags or â†‘/â†“ buttons to toggle ascending/descending. Click Ã— to remove a sort."})})]}):s.jsxs("div",{className:`sort-status-control ${r}`,children:[s.jsx("div",{className:"sort-status-control__description sort-status-control__description--active",id:"sort-description","aria-live":"polite",children:$()}),s.jsxs("div",{className:"sort-status-container",children:[s.jsx("div",{ref:p,className:"sort-status-control__tags",role:"list","aria-label":c,"aria-describedby":v,children:t.map((b,D)=>s.jsx("div",{className:"sort-status-control__tag-container",role:"listitem",draggable:!u,onDragStart:x=>y(x,b.key),onDragOver:x=>h(x,b.key),onDrop:x=>f(x,b.key),onDragEnd:L,onClick:()=>S(b.key),style:{cursor:u?"default":"pointer"},title:u?"":`Click to toggle sort direction. Currently ${b.direction==="asc"?"ascending":"descending"}`,"data-key":b.key,children:s.jsx(Ge,{color:j(D),className:"sort-status-control__tag",closable:!0,onClose:()=>N(b.key),disabled:u,children:s.jsxs("div",{className:"sort-status-control__tag-content",children:[s.jsx("div",{className:"sort-status-control__drag-handle",title:"Drag to reorder",children:"â‹®â‹®"}),s.jsx("div",{className:`sort-status-control__priority-badge sort-priority sort-priority--priority-${D+1}`,children:D+1}),s.jsx("span",{className:"sort-status-control__tag-label",children:M(b.key)}),s.jsx("button",{type:"button",className:"sort-status-control__direction-button",onClick:x=>{x.stopPropagation(),S(b.key)},disabled:u,"aria-label":`Toggle sort direction for ${M(b.key)}. Currently ${b.direction==="asc"?"ascending":"descending"}`,title:"Click to toggle between ascending and descending",children:s.jsx("span",{className:`sort-status-control__direction-icon sort-status-control__direction-icon--${b.direction}`,children:s.jsx("svg",{className:`nhsuk-icon sort-status-control__chevron sort-status-control__chevron--${b.direction}`,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24","aria-hidden":"true",focusable:"false",children:s.jsx("path",{d:"M15.5 12a1 1 0 0 1-.29.71l-5 5a1 1 0 0 1-1.42-1.42l4.3-4.29-4.3-4.29a1 1 0 0 1 1.42-1.42l5 5a1 1 0 0 1 .29.71z"})})})})]})})},b.key))}),o&&s.jsx("div",{className:"sort-status-control__actions",children:s.jsx(rt,{variant:"secondary",onClick:k,disabled:u,"aria-label":"Reset all sorting",className:"sort-status-control__reset-button",children:"Clear All Sorts"})})]}),l&&s.jsx("div",{className:"sort-status-control__help",id:"sort-help",children:s.jsx("small",{children:"Drag tags to reorder priority. Click tags or â†‘/â†“ buttons to toggle ascending/descending. Click Ã— to remove a sort."})})]})};function ty(t,e){switch(e.type){case"SET_SELECTED_INDEX":return{...t,selectedIndex:e.payload};case"SET_TAB_LOADING":const n=[...t.tabLoadingStates];return n[e.payload.tabIndex]=e.payload.isLoading,{...t,tabLoadingStates:n};case"SET_TAB_ERROR":const r=[...t.tabErrors];return r[e.payload.tabIndex]=e.payload.error,{...t,tabErrors:r};case"SET_SORT":return{...t,sortConfig:e.payload};case"SET_SELECTED_ROWS":const a=[...t.selectedRows];return a[e.payload.tabIndex]=e.payload.rowIndices,{...t,selectedRows:a};case"SET_GLOBAL_SELECTED_ROW_DATA":return{...t,globalSelectedRowData:e.payload};case"SET_FILTERS":return{...t,filters:e.payload};case"ADJUST_ARRAYS":const{newLength:i}=e.payload,o=new Array(i).fill(!1),l=new Array(i).fill(null),u=new Array(i).fill([]);for(let c=0;c<Math.min(t.tabLoadingStates.length,i);c++)o[c]=t.tabLoadingStates[c],l[c]=t.tabErrors[c],u[c]=t.selectedRows[c];return{...t,tabLoadingStates:o,tabErrors:l,selectedRows:u};case"RESET_STATE":return{selectedIndex:0,tabLoadingStates:new Array(t.tabLoadingStates.length).fill(!1),tabErrors:new Array(t.tabErrors.length).fill(null),sortConfig:[],selectedRows:new Array(t.selectedRows.length).fill([]),globalSelectedRowData:null,filters:void 0};default:return t}}const si=A.forwardRef(function(e,n){const{dataConfig:r={},tabPanels:a,selectedIndex:i,onTabChange:o,onGlobalRowSelectionChange:l,ariaLabel:u,ariaDescription:c,className:d="",disabled:p=!1,orientation:m="horizontal",id:g,isLoading:y=!1,loadingComponent:h,error:f=null,errorComponent:L,"data-testid":M,actions:j,actionsMinGap:S=16,forceActionsAbove:N=!1}=e,$=A.useRef(g||`aria-tabs-datagrid-${Math.random().toString(36).slice(2,9)}`).current,v=typeof c=="string"&&c.trim()!==""&&!/\s/.test(c),b=`${$}-description`,D=`${$}-navigation-help`,{dataComparator:x=(F,X)=>JSON.stringify(F)===JSON.stringify(X),filterFunction:C=F=>F,booleanRenderer:B=F=>F?"âœ“":"âœ—"}=r||{},I=i!==void 0,P=i??0,[w,E]=A.useState({focusArea:"tabs",focusedTabIndex:P,focusedHeaderIndex:0,focusedRowIndex:0,focusedColumnIndex:0,focusedActionIndex:0,isGridActive:!1}),te=A.useMemo(()=>({selectedIndex:P,tabLoadingStates:new Array(a.length).fill(!1),tabErrors:new Array(a.length).fill(null),sortConfig:[],selectedRows:new Array(a.length).fill([]),globalSelectedRowData:null,filters:void 0}),[P]),[z,W]=A.useReducer(ty,te);A.useEffect(()=>{const F=z.tabLoadingStates.length,X=a.length;F!==X&&W({type:"ADJUST_ARRAYS",payload:{newLength:X}})},[a.length]),A.useEffect(()=>{I&&W({type:"SET_SELECTED_INDEX",payload:P})},[P,I]),A.useEffect(()=>{E(F=>({...F,focusArea:"tabs",focusedTabIndex:z.selectedIndex,focusedHeaderIndex:0,focusedRowIndex:0,focusedColumnIndex:0,focusedActionIndex:0,isGridActive:!1}))},[z.selectedIndex]),A.useEffect(()=>{l&&l(z.globalSelectedRowData)},[z.globalSelectedRowData,l]);const G=A.useCallback((F,X)=>x(F,X),[x]),H=A.useCallback(F=>{F>=0&&F<a.length&&!a[F].disabled&&(W({type:"SET_SELECTED_INDEX",payload:F}),E(X=>({...X,focusedTabIndex:F,focusArea:"tabs"})),o?.(F))},[a,o]),oe=A.useRef(!1),T=A.useCallback((F,X)=>{if(!X?.force&&!oe.current&&F===0){oe.current=!0;return}oe.current=!0,setTimeout(()=>{const se=O.current[F],Z=se?.parentElement;if(se&&Z){const ne=se.offsetLeft,ce=se.offsetWidth,we=Z.clientWidth,Ce=ne-we/2+ce/2;try{Z.scrollTo({left:Math.max(0,Ce),behavior:"smooth"})}catch{se.scrollIntoView({behavior:"smooth",block:"nearest",inline:"center"})}}else process.env.SILENCE_SCROLL_DEBUG||console.debug("[AriaTabsDataGrid] Missing elements for scroll",{tabElementExists:!!se,tabListElementExists:!!Z})},50)},[]),O=A.useRef([]),Q=A.useRef([]),re=A.useCallback((F,X)=>{const se=z.sortConfig||[],Z=se.find(we=>we.key===X);let ne;Z?Z.direction==="asc"?ne=se.map(we=>we.key===X?{...we,direction:"desc"}:we):ne=se.filter(we=>we.key!==X):ne=[...se,{key:X,direction:"asc"}],W({type:"SET_SORT",payload:ne}),a[F].onSort?.(X)},[z.sortConfig,a]),q=A.useCallback(F=>{setTimeout(()=>{const X=document.querySelector(`[data-tab-panel="${z.selectedIndex}"] th:nth-child(${F+1})`);X&&X.focus()},0)},[z.selectedIndex]),R=A.useCallback(F=>B(F),[B]),V=A.useCallback((F,X)=>{setTimeout(()=>{const se=document.querySelector(`[data-tab-panel="${z.selectedIndex}"] tbody tr:nth-child(${F+1}) td:nth-child(${X+1})`);se&&se.focus()},0)},[z.selectedIndex]);A.useEffect(()=>{w.isGridActive&&(w.focusArea==="headers"?setTimeout(()=>{q(w.focusedHeaderIndex)},0):w.focusArea==="cells"&&setTimeout(()=>{V(w.focusedRowIndex,w.focusedColumnIndex)},0))},[w.focusArea,w.isGridActive,w.focusedHeaderIndex,w.focusedRowIndex,w.focusedColumnIndex,q,V]),A.useEffect(()=>{T(z.selectedIndex)},[z.selectedIndex,T]);const le=A.useCallback((F,X)=>{const{key:se}=F,Z=a[z.selectedIndex],ne=Z?.columns.length||0;switch(se){case"ArrowLeft":F.preventDefault();const ce=Math.max(0,X-1);E(Ne=>({...Ne,focusedHeaderIndex:ce})),q(ce);break;case"ArrowRight":F.preventDefault();const we=Math.min(ne-1,X+1);E(Ne=>({...Ne,focusedHeaderIndex:we})),q(we);break;case"ArrowUp":F.preventDefault(),E(Ne=>({...Ne,focusArea:"tabs",focusedTabIndex:z.selectedIndex})),T(z.selectedIndex),O.current[z.selectedIndex]?.focus();break;case"ArrowDown":F.preventDefault(),E(Ne=>({...Ne,focusArea:"cells",focusedRowIndex:0,focusedColumnIndex:X,isGridActive:!0}));break;case"Home":F.preventDefault(),E(Ne=>({...Ne,focusedHeaderIndex:0})),q(0);break;case"End":F.preventDefault();const Ce=ne-1;E(Ne=>({...Ne,focusedHeaderIndex:Ce})),q(Ce);break;case"Enter":case" ":F.preventDefault();const xe=Z?.columns[X]?.key;xe&&re(z.selectedIndex,xe);break}},[a,z.selectedIndex,re,E,q,V,O]),U=A.useCallback((F,X,se)=>{const{key:Z}=F,ne=a[z.selectedIndex],ce=ne?.data.length||0,we=ne?.columns.length||0;switch(Z){case"ArrowUp":if(F.preventDefault(),X===0)E(_e=>({..._e,focusArea:"headers",focusedHeaderIndex:se,isGridActive:!1})),q(se);else{const _e=X-1;E(Se=>({...Se,focusedRowIndex:_e})),V(_e,se)}break;case"ArrowDown":F.preventDefault();const Ce=Math.min(ce-1,X+1);E(_e=>({..._e,focusedRowIndex:Ce})),V(Ce,se);break;case"ArrowLeft":F.preventDefault();const xe=Math.max(0,se-1);E(_e=>({..._e,focusedColumnIndex:xe})),V(X,xe);break;case"ArrowRight":F.preventDefault();const Ne=Math.min(we-1,se+1);E(_e=>({..._e,focusedColumnIndex:Ne})),V(X,Ne);break;case"Home":F.preventDefault(),F.ctrlKey?(E(_e=>({..._e,focusedRowIndex:0,focusedColumnIndex:0})),V(0,0)):(E(_e=>({..._e,focusedColumnIndex:0})),V(X,0));break;case"End":if(F.preventDefault(),F.ctrlKey){const _e=ce-1,Se=we-1;E(Ie=>({...Ie,focusedRowIndex:_e,focusedColumnIndex:Se})),V(_e,Se)}else{const _e=we-1;E(Se=>({...Se,focusedColumnIndex:_e})),V(X,_e)}break;case"Enter":case" ":if(F.preventDefault(),ne&&ne.data[X]){const _e=ne.data.some(et=>"ews_data"in et)?C(ne.data,z.filters):ne.data,Se=z.sortConfig;let Ie=_e;if(Se&&Se.length>0&&(Ie=[..._e].sort((et,Ee)=>{for(const{key:mt,direction:$n}of Se){let pn=et[mt],tn=Ee[mt];const nt=ne.columns.find(Pa=>Pa.key===mt);if(nt?.tableRenderer?(pn=nt.tableRenderer(et),tn=nt.tableRenderer(Ee)):nt?.render&&(pn=nt.render(et),tn=nt.render(Ee)),pn==null&&tn==null)continue;if(pn==null)return $n==="asc"?-1:1;if(tn==null)return $n==="asc"?1:-1;let ot=0;if(typeof pn=="number"&&typeof tn=="number"?ot=pn-tn:ot=String(pn).localeCompare(String(tn),void 0,{numeric:!0,sensitivity:"base"}),ot!==0)return $n==="asc"?ot:-ot}return 0})),Ie[X]){const et=Ie[X],mt=z.globalSelectedRowData&&G(z.globalSelectedRowData,et)?null:et;W({type:"SET_GLOBAL_SELECTED_ROW_DATA",payload:mt})}}break}},[a,z.selectedIndex,z.filters,z.sortConfig,C,G,W,E,q,V]),de=A.useCallback((F,X)=>C(F,X),[C]);if(A.useImperativeHandle(n,()=>({selectTab:F=>{F>=0&&F<a.length&&(W({type:"SET_SELECTED_INDEX",payload:F}),o?.(F))},refreshData:F=>{console.log("Refreshing data for tab:",F??"all")},exportData:F=>{const X=F??z.selectedIndex,se=a[X];return se?se.data:[]},getSelectedRows:F=>z.globalSelectedRowData?[]:[],clearSelection:F=>{W({type:"SET_GLOBAL_SELECTED_ROW_DATA",payload:null})},applyFilters:F=>{W({type:"SET_FILTERS",payload:F})}}),[z.selectedIndex,z.selectedRows,a,o]),y)return s.jsx("div",{className:`aria-tabs-datagrid aria-tabs-datagrid--loading ${d}`,"data-testid":M,children:h||s.jsx("div",{className:"aria-tabs-datagrid__loading",children:s.jsx("div",{className:"nhsuk-spinner",role:"status","aria-label":"Loading data",children:s.jsx("span",{className:"nhsuk-u-visually-hidden",children:"Loading..."})})})});if(f)return s.jsx("div",{className:`aria-tabs-datagrid aria-tabs-datagrid--error ${d}`,"data-testid":M,children:L||s.jsxs("div",{className:"aria-tabs-datagrid__error",role:"alert",children:[s.jsx("h3",{className:"nhsuk-error-summary__title",children:"Error loading data"}),s.jsx("p",{children:f})]})});const ie=A.useRef(null),ue=A.useRef(null),fe=A.useRef(null),[ye,De]=A.useState(!0);A.useEffect(()=>{if(!j){De(!1);return}if(N){De(!1);return}function F(){if(!ie.current||!ue.current||!fe.current)return;const Z=ie.current.clientWidth,ne=Array.from(ue.current.querySelectorAll(":scope > .aria-tabs-datagrid__tab")),ce=ne.reduce((Ne,_e)=>Ne+_e.offsetWidth,0),we=fe.current.offsetWidth,Ce=Math.max(8*(ne.length-1),0),xe=ce+Ce+we+S<=Z;De(xe)}const X=requestAnimationFrame(()=>F()),se=new ResizeObserver(()=>F());return ie.current&&se.observe(ie.current),ue.current&&se.observe(ue.current),()=>{cancelAnimationFrame(X),se.disconnect()}},[j,S,N,a.length]);const ke=fe,me=A.useCallback(()=>ke.current?Array.from(ke.current.querySelectorAll('button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])')).filter(F=>!F.hasAttribute("disabled")):[],[]),ee=A.useCallback(F=>{const X=me();if(!X.length)return;const se=Math.max(0,Math.min(F,X.length-1));X[se].focus(),E(Z=>({...Z,focusArea:"actions",focusedActionIndex:se}))},[me]),J=A.useCallback(()=>ee(0),[ee]),ae=A.useCallback((F,X)=>{const{key:se}=F,Z=a.length-1;switch(se){case"ArrowUp":{j&&!ye&&(F.preventDefault(),J());break}case"ArrowLeft":{F.preventDefault();const ne=X>0?X-1:Z;H(ne),T(ne),O.current[ne]?.focus();break}case"ArrowRight":{if(F.preventDefault(),X===Z&&j&&ye){J();return}const ne=X<Z?X+1:0;H(ne),T(ne),O.current[ne]?.focus();break}case"ArrowDown":{F.preventDefault(),E(ne=>({...ne,focusArea:"headers",focusedHeaderIndex:0,isGridActive:!0}));break}case"Home":{F.preventDefault(),H(0),T(0),O.current[0]?.focus();break}case"End":{F.preventDefault(),H(Z),T(Z),O.current[Z]?.focus();break}case"Enter":case" ":{F.preventDefault(),H(X);break}case"Tab":{!F.shiftKey&&X===Z&&j&&ye&&J();break}}},[a.length,H,T,j,ye,J]),Y=A.useCallback(F=>{const{key:X}=F,se=me();if(!se.length)return;const Z=se.findIndex(ne=>ne===document.activeElement);switch(X){case"ArrowLeft":{if(ye)if(Z>0)F.preventDefault(),ee(Z-1);else{F.preventDefault();const ne=a.length-1;H(ne),T(ne),O.current[ne]?.focus(),E(ce=>({...ce,focusArea:"tabs",focusedTabIndex:ne}))}break}case"ArrowRight":{ye&&(Z<se.length-1?(F.preventDefault(),ee(Z+1)):(F.preventDefault(),H(0),T(0),O.current[0]?.focus(),E(ne=>({...ne,focusArea:"tabs",focusedTabIndex:0}))));break}case"ArrowDown":{if(ye)F.preventDefault(),E(ne=>({...ne,focusArea:"headers",focusedHeaderIndex:0,isGridActive:!0}));else{F.preventDefault();const ne=z.selectedIndex;O.current[ne]?.focus(),E(ce=>({...ce,focusArea:"tabs",focusedTabIndex:ne}))}break}}},[me,ye,ee,a.length,H,T,z.selectedIndex]);return s.jsxs("div",{className:`aria-tabs-datagrid aria-tabs-datagrid--${m} ${d}`,id:g,"data-testid":M,ref:ie,children:[c&&!v&&s.jsx("div",{id:b,className:"nhsuk-u-visually-hidden",children:c}),s.jsx("div",{className:"aria-tabs-datagrid__navigation-help sr-only",id:D,children:"Keyboard navigation: Use Tab to move between tabs and grid. Arrow keys navigate within tabs and grid cells. Enter activates tabs and sorts columns. Arrow Down from tabs moves to table headers. Arrow Down from headers moves to table cells. Use Arrow keys to navigate between cells."}),s.jsx(ku,{sortConfig:z.sortConfig||[],columns:a.flatMap(F=>F.columns.map(X=>({key:X.key,label:X.label}))).filter((F,X,se)=>se.findIndex(Z=>Z.key===F.key)===X),onSortChange:F=>{W({type:"SET_SORT",payload:F})},ariaLabel:"Data grid sort configuration"}),j&&!ye&&s.jsx("div",{className:"aria-tabs-datagrid__actions aria-tabs-datagrid__actions--above",ref:fe,role:"toolbar","aria-label":"Additional actions",onKeyDown:Y,children:j}),s.jsxs("div",{className:`aria-tabs-datagrid__tabs-wrapper ${ye?"aria-tabs-datagrid__tabs-wrapper--inline-actions":""}`,children:[s.jsx("div",{role:"tablist","aria-label":u,"aria-describedby":c?v?c:b:D,"aria-orientation":m,className:"aria-tabs-datagrid__tabs",ref:ue,children:a.map((F,X)=>{const se=X===z.selectedIndex,Z=F.disabled||p;return s.jsxs("button",{role:"tab",id:`tab-${F.id}`,"aria-controls":`panel-${F.id}`,"aria-selected":se,"aria-disabled":Z,tabIndex:se?0:-1,ref:ne=>{O.current[X]=ne},onClick:()=>H(X),onKeyDown:ne=>ae(ne,X),disabled:Z,className:["aria-tabs-datagrid__tab",se?"aria-tabs-datagrid__tab--selected":"",Z?"aria-tabs-datagrid__tab--disabled":""].filter(Boolean).join(" "),children:[s.jsx("span",{className:"aria-tabs-datagrid__tab-label",children:F.label}),z.tabLoadingStates[X]&&s.jsx("span",{className:"aria-tabs-datagrid__tab-loading","aria-hidden":"true",children:"â³"}),z.tabErrors[X]&&s.jsx("span",{className:"aria-tabs-datagrid__tab-error","aria-hidden":"true",children:"âš ï¸"})]},F.id)})}),j&&ye&&s.jsx("div",{className:"aria-tabs-datagrid__actions aria-tabs-datagrid__actions--inline",ref:fe,role:"toolbar","aria-label":"Additional actions",onKeyDown:Y,children:j})]}),a.map((F,X)=>{const se=X===z.selectedIndex;return s.jsx("div",{role:"tabpanel",id:`panel-${F.id}`,"aria-labelledby":`tab-${F.id}`,tabIndex:0,hidden:!se,ref:Z=>{Q.current[X]=Z},className:`aria-tabs-datagrid__panel ${F.className||""}`,"data-tab-panel":X,children:se&&(()=>{const Z=F.data.some(ce=>"ews_data"in ce)?de(F.data,z.filters):F.data,ne=A.useMemo(()=>{const ce=z.sortConfig;return!ce||ce.length===0?Z:[...Z].sort((we,Ce)=>{for(const{key:xe,direction:Ne}of ce){let _e=we[xe],Se=Ce[xe];const Ie=F.columns.find(Ee=>Ee.key===xe);if(Ie?.tableRenderer?(_e=Ie.tableRenderer(we),Se=Ie.tableRenderer(Ce)):Ie?.render&&(_e=Ie.render(we),Se=Ie.render(Ce)),_e==null&&Se==null)continue;if(_e==null)return 1;if(Se==null)return-1;let et=0;if(typeof _e=="number"&&typeof Se=="number"?et=_e-Se:typeof _e=="boolean"&&typeof Se=="boolean"?et=_e===Se?0:_e?1:-1:et=String(_e).localeCompare(String(Se),void 0,{numeric:!0,sensitivity:"base"}),et!==0)return Ne==="asc"?et:-et}return 0})},[Z,z.sortConfig,F.columns]);return s.jsxs("table",{className:"nhsuk-table aria-tabs-datagrid__grid",role:"grid","aria-label":F.ariaLabel,"aria-describedby":F.ariaDescription?`panel-${F.id}-description`:void 0,children:[F.ariaDescription&&s.jsx("caption",{className:"nhsuk-u-visually-hidden",id:`panel-${F.id}-description`,children:F.ariaDescription}),s.jsx("thead",{className:"nhsuk-table__head",role:"rowgroup",children:s.jsx("tr",{role:"row",children:F.columns.map((ce,we)=>{const Ce=z.sortConfig?.find(_e=>_e.key===ce.key),xe=!!Ce,Ne=w.focusArea==="headers"&&w.focusedHeaderIndex===we;return s.jsx("th",{className:`sortable-header ${Ne?"sortable-header--focused":""} ${xe?"sortable-header--sorted":""}`,role:"columnheader",tabIndex:Ne?0:-1,onClick:()=>re(X,ce.key),onKeyDown:_e=>le(_e,we),"aria-sort":xe?Ce?.direction==="asc"?"ascending":"descending":"none",children:s.jsxs("div",{className:"header-content",children:[s.jsx("span",{className:"header-label",children:ce.label}),s.jsxs("div",{className:`sort-indicator-container ${xe?`sort-indicator--${Ce?.direction}`:""}`,children:[z.sortConfig&&z.sortConfig.length>0&&z.sortConfig.findIndex(_e=>_e.key===ce.key)!==-1&&s.jsx("span",{className:`sort-priority sort-priority--priority-${z.sortConfig.findIndex(_e=>_e.key===ce.key)+1}`,"data-priority":z.sortConfig.findIndex(_e=>_e.key===ce.key)+1,title:`Sort priority: ${z.sortConfig.findIndex(_e=>_e.key===ce.key)+1}`,children:z.sortConfig.findIndex(_e=>_e.key===ce.key)+1}),xe&&s.jsx("svg",{className:`nhsuk-icon sort-arrow sort-arrow--${Ce?.direction}`,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24","aria-hidden":"true",focusable:"false",children:s.jsx("path",{d:"M15.5 12a1 1 0 0 1-.29.71l-5 5a1 1 0 0 1-1.42-1.42l4.3-4.29-4.3-4.29a1 1 0 0 1 1.42-1.42l5 5a1 1 0 0 1 .29.71z"})})]})]})},ce.key)})})}),s.jsx("tbody",{className:"nhsuk-table__body",role:"rowgroup",children:ne.map((ce,we)=>{const Ce=z.globalSelectedRowData&&G(z.globalSelectedRowData,ce),xe=w.focusArea==="cells"&&w.focusedRowIndex===we;return s.jsx("tr",{role:"row",className:`data-row ${Ce?"data-row--selected":""} ${xe?"data-row--focused":""}`,"aria-selected":Ce,children:F.columns.map((Ne,_e)=>{const Se=ce[Ne.key];let Ie;Ne.tableRenderer?Ie=Ne.tableRenderer(ce):Ne.render?Ie=Ne.render(ce):Ie=Se;const et=w.focusArea==="cells"&&w.focusedRowIndex===we&&w.focusedColumnIndex===_e,Ee=()=>{if(Ne.customRenderer){const mt=Ne.customRenderer(Se,ce);return s.jsx("span",{className:"data-cell__custom","data-custom-rendered":"true",children:mt})}return typeof Se=="boolean"&&Ie===Se?s.jsxs(s.Fragment,{children:[R(Se),s.jsx("span",{className:"nhsuk-u-visually-hidden",children:Se?"Yes":"No"})]}):A.isValidElement(Ie)||typeof Ie!="object"?Ie??"":Ie};return s.jsx("td",{role:"gridcell",className:`data-cell ${et?"data-cell--focused":""}`,tabIndex:et?0:-1,onClick:()=>{const $n=z.globalSelectedRowData&&G(z.globalSelectedRowData,ce)?null:ce;W({type:"SET_GLOBAL_SELECTED_ROW_DATA",payload:$n})},onKeyDown:mt=>U(mt,we,_e),children:Ee()},Ne.key)})},we)})})]})})()},F.id)})]})}),oi={asc:"â†‘",desc:"â†“"},ny=t=>[...t].sort((e,n)=>e.priority-n.priority);function Ps(t){return t.map((e,n)=>({...e,priority:n}))}function ry(t){return t.length>0?Math.max(...t.map(e=>e.priority)):-1}function ay(t,e){const n=e.find(r=>r.id===t);return n?n.priority>0:!1}function iy(t,e){const n=e.find(a=>a.id===t),r=ry(e);return n?n.priority<r:!1}const sy=({sortConfig:t,onSortChange:e,className:n="",emptyDescription:r="No sorting applied",activeDescription:a,showReset:i=!0,showHelp:o=!0,disabled:l=!1,ariaLabel:u="Sort configuration",ariaDescribedBy:c})=>{const d=A.useMemo(()=>ny(t),[t]),p=A.useCallback(M=>{if(l)return;const j=t.map(S=>S.id===M?{...S,direction:S.direction==="asc"?"desc":"asc"}:S);e(j)},[t,e,l]),m=A.useCallback(M=>{if(l)return;const j=t.findIndex(N=>N.id===M);if(j<=0)return;const S=[...t];[S[j],S[j-1]]=[S[j-1],S[j]],e(Ps(S))},[t,e,l]),g=A.useCallback(M=>{if(l)return;const j=t.findIndex(N=>N.id===M);if(j>=t.length-1||j===-1)return;const S=[...t];[S[j],S[j+1]]=[S[j+1],S[j]],e(Ps(S))},[t,e,l]),y=A.useCallback(M=>{if(l)return;const j=t.filter(S=>S.id!==M);e(Ps(j))},[t,e,l]),h=A.useCallback(()=>{l||e([])},[e,l]),f=()=>{if(t.length===0)return r;if(a)return a;const M=d.map((j,S)=>{const N=j.direction==="asc"?"ascending":"descending";return`${S+1}. ${j.label} (${N})`});if(M.length===1)return`Sorted by: ${M[0]}`;if(M.length===2)return`Sorted by: ${M.join(" and ")}`;{const j=M.pop();return`Sorted by: ${M.join(", ")}, and ${j}`}},L=A.useMemo(()=>{const M=["sort-description"];return o&&M.push("sort-help"),c&&M.push(c),M.join(" ")},[o,c]);return t.length===0?s.jsx("div",{className:`sort-status-control sort-status-control--empty ${n}`,children:s.jsx("div",{className:"sort-status-control__description",id:"sort-description","aria-live":"polite",children:f()})}):s.jsxs("div",{className:`sort-status-control ${n}`,children:[s.jsx("div",{className:"sort-status-control__description sort-status-control__description--active",id:"sort-description","aria-live":"polite",children:f()}),s.jsxs("div",{className:"sort-status-control__tags",role:"list","aria-label":u,"aria-describedby":L,children:[s.jsx("div",{className:"sort-status-control__tags-label",children:"Current sorting:"}),d.map(M=>s.jsx("div",{className:"sort-status-control__tag-container",role:"listitem",children:s.jsx(Ge,{text:"",color:"blue",className:"sort-status-control__tag",closable:!0,onClose:()=>y(M.id),disabled:l,children:s.jsxs("div",{className:"sort-status-control__tag-content",children:[s.jsx("span",{className:"sort-status-control__tag-priority",children:M.priority+1}),s.jsx("span",{className:"sort-status-control__tag-label",children:M.label}),s.jsx("button",{type:"button",className:"sort-status-control__tag-direction",onClick:()=>p(M.id),disabled:l,"aria-label":`Toggle sort direction for ${M.label}. Currently ${M.direction==="asc"?"ascending":"descending"}`,title:"Click to toggle between ascending and descending",children:M.direction==="asc"?oi.asc:oi.desc}),s.jsxs("div",{className:"sort-status-control__tag-actions",children:[s.jsx("button",{type:"button",className:"sort-status-control__move-button",onClick:()=>m(M.id),disabled:l||!ay(M.id,t),"aria-label":`Move ${M.label} sort up in priority`,title:"Move up in priority",children:"â–²"}),s.jsx("button",{type:"button",className:"sort-status-control__move-button",onClick:()=>g(M.id),disabled:l||!iy(M.id,t),"aria-label":`Move ${M.label} sort down in priority`,title:"Move down in priority",children:"â–¼"})]})]})})},M.id))]}),i&&s.jsx("div",{className:"sort-status-control__actions",children:s.jsx(rt,{variant:"secondary",onClick:h,disabled:l,"aria-label":"Reset all sorting",className:"sort-status-control__reset-button",children:"Clear All Sorts"})}),o&&s.jsx("div",{className:"sort-status-control__help",id:"sort-help",children:s.jsxs("small",{children:["Click ",oi.asc,"/",oi.desc," to toggle ascending/descending. Use â–²/â–¼ to change sort priority. Click Ã— to remove a sort."]})})]})},li=(t,e)=>e.map(n=>({id:n.id,label:n.label,data:n.filter?n.filter(t):t,columns:n.columns.map(r=>({key:r.key,label:r.label,render:r.render,customRenderer:r.customRenderer})),sortConfig:n.sortConfig,ariaLabel:n.ariaLabel||`${n.label} Data Grid`,ariaDescription:n.ariaDescription||`Data grid showing ${n.label.toLowerCase()}`,className:n.className,disabled:n.disabled})),Ls=[{value:!0,icon:s.jsx("svg",{className:"nhsuk-icon nhsuk-icon__tick",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none","aria-hidden":"true",width:"100%",height:"34",children:s.jsx("path",{strokeWidth:"4",strokeLinecap:"round",d:"M18.4 7.8l-8.5 8.4L5.6 12",stroke:"#007f3b"})})},{value:!1,icon:s.jsxs("svg",{className:"nhsuk-icon nhsuk-icon__cross",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24","aria-hidden":"true",width:"100%",height:"34",children:[s.jsx("path",{d:"M17 18.5c-.4 0-.8-.1-1.1-.4l-10-10c-.6-.6-.6-1.6 0-2.1.6-.6 1.5-.6 2.1 0l10 10c.6.6.6 1.5 0 2.1-.3.3-.6.4-1 .4z",fill:"#d5281b"}),s.jsx("path",{d:"M7 18.5c-.4 0-.8-.1-1.1-.4-.6-.6-.6-1.5 0-2.1l10-10c.6-.6 1.5-.6 2.1 0 .6.6.6 1.5 0 2.1l-10 10c-.3.3-.6.4-1 .4z",fill:"#d5281b"})]})}],oy=(t,e)=>!t||!e?t===e:t.name&&t.bed_name&&e.name&&e.bed_name?t.name===e.name&&t.bed_name===e.bed_name:JSON.stringify(t)===JSON.stringify(e),ly=(t,e)=>e?t.filter(n=>{if(e.ewsScoreRange){const[r,a]=e.ewsScoreRange;if(n.ews_score<r||n.ews_score>a)return!1}return!(e.wards&&e.wards.length>0&&!e.wards.includes(n.ward_name)||e.specialties&&e.specialties.length>0&&!e.specialties.includes(n.speciality)||e.dischargeStatuses&&e.dischargeStatuses.length>0&&!e.dischargeStatuses.includes(n.early_discharge_notification)||e.avpuLevels&&e.avpuLevels.length>0&&!e.avpuLevels.includes(n.ews_data.avpu)||e.medicallyOptimised!==null&&e.medicallyOptimised!==void 0&&n.medically_optimised!==e.medicallyOptimised||e.fastTrack!==null&&e.fastTrack!==void 0&&n.fast_track!==e.fastTrack)}):t,cy=t=>{if(typeof t=="boolean"){const n=Ls.find(r=>r.value===t);return n?n.icon:null}const e=Ls.find(n=>n.value===t);return e?e.icon:String(t)},uy=t=>`${t.name}-${t.bed_name}`,dy=()=>({overview:[{key:"name",label:"Patient Name"},{key:"age",label:"Age"},{key:"ward_name",label:"Ward"},{key:"bed_name",label:"Bed"},{key:"ews_score",label:"EWS Score"},{key:"speciality",label:"Specialty"},{key:"consultant",label:"Consultant"}],vitals:[{key:"name",label:"Patient Name"},{key:"ews_score",label:"EWS Score"},{key:"respiratory_rate_bpm",label:"Respiratory Rate",render:t=>t.ews_data.respiratory_rate_bpm},{key:"sp02",label:"SpO2 %",render:t=>t.ews_data.sp02},{key:"temperature",label:"Temperature Â°C",render:t=>t.ews_data.temperature},{key:"systolic_bp",label:"Systolic BP",render:t=>t.ews_data.systolic_bp},{key:"heart_rate",label:"Heart Rate",render:t=>t.ews_data.heart_rate},{key:"avpu",label:"AVPU",render:t=>t.ews_data.avpu.toUpperCase()}],discharge:[{key:"name",label:"Patient Name"},{key:"anticipated_discharge_date",label:"Anticipated Discharge",render:t=>new Date(t.anticipated_discharge_date).toLocaleDateString()},{key:"early_discharge_notification",label:"Discharge Status"},{key:"medically_optimised",label:"Medically Optimised"},{key:"criteria_to_reside",label:"Criteria to Reside"},{key:"fast_track",label:"Fast Track"},{key:"transport_status",label:"Transport Status"},{key:"pathway",label:"Pathway"}],logistics:[{key:"name",label:"Patient Name"},{key:"ward_name",label:"Ward"},{key:"room_name",label:"Room"},{key:"bed_name",label:"Bed"},{key:"bed_type",label:"Bed Type"},{key:"transport_booking",label:"Transport Booked"},{key:"transport_mobility",label:"Transport Type"},{key:"district_nurse_referral",label:"District Nurse"},{key:"equipment",label:"Equipment"}]}),fy=t=>{const e=dy();return[{id:"overview",label:"Patient Overview",data:t,columns:e.overview,ariaLabel:"Patient Overview Data Grid",ariaDescription:"Overview of all patients with basic information"},{id:"vitals",label:"Vital Signs & EWS",data:t,columns:e.vitals,sortConfig:[{key:"ews_score",direction:"desc"},{key:"name",direction:"asc"},{key:"ward_name",direction:"asc"}],ariaLabel:"Patient Vital Signs Data Grid",ariaDescription:"Patient vital signs and Early Warning Scores"},{id:"discharge",label:"Discharge Planning",data:t.filter(n=>n.anticipated_discharge_date),columns:e.discharge,sortConfig:[{key:"anticipated_discharge_date",direction:"asc"},{key:"discharge_status",direction:"desc"}],ariaLabel:"Discharge Planning Data Grid",ariaDescription:"Patient discharge planning and status information"},{id:"logistics",label:"Bed Management",data:t,columns:e.logistics,sortConfig:[{key:"ward_name",direction:"asc"}],ariaLabel:"Bed Management Data Grid",ariaDescription:"Patient location and logistics information"}]},Cu={dataComparator:oy,filterFunction:ly,booleanRenderer:cy,getDataId:uy};function Tu(t,e,n){const{primaryField:r,secondaryFields:a=[],badges:i=[],hiddenFields:o=[],getPriority:l,getVariant:u,fieldRenderers:c={},classPrefix:d="adaptive-card"}=n,p=e.find(j=>j.key===r),m=p?.cardRenderer?p.cardRenderer(t):p?.render?p.render(t):t[r||"name"]||"Untitled",g=()=>a.filter(S=>!o.includes(S)&&t[S]).slice(0,3).map(S=>{const N=e.find(b=>b.key===S),k=t[S],$=c[S]?c[S](k,t):N?.cardRenderer?N.cardRenderer(t):N?.render?N.render(t):k;return`${N?.label||S}: ${$}`}).join(" â€¢ "),y=()=>i.length===0?null:i.filter(j=>t[j.fieldKey]!==void 0).map(j=>{const S=t[j.fieldKey],N=j.render?j.render(S,t):S;return`<span class="nhsuk-tag ${hy(j,S)}">${N}</span>`}).join(""),h=()=>u?u(t):l?.(t)==="high"?"primary":"default",f=y(),L=g(),M=f?`${L}${f?`<div class="adaptive-card__badges">${f}</div>`:""}`:L;return{variant:h(),heading:String(m),descriptionHtml:M,className:`adaptive-card ${d}`,"aria-label":`Record for ${m}`}}function hy(t,e){const n=t.className||"adaptive-card__badge";if(t.fieldKey==="ews_score"||t.fieldKey.includes("score")){const r=Number(e);return r>=7?`${n} nhsuk-tag--red`:r>=3?`${n} nhsuk-tag--yellow`:`${n} nhsuk-tag--green`}if(t.fieldKey==="priority"){const r=String(e).toLowerCase();if(r==="high")return`${n} nhsuk-tag--red`;if(r==="medium")return`${n} nhsuk-tag--yellow`;if(r==="low")return`${n} nhsuk-tag--green`}if(t.fieldKey==="status"){const r=String(e).toLowerCase();if(r==="urgent"||r==="critical")return`${n} nhsuk-tag--red`;if(r==="pending"||r==="warning")return`${n} nhsuk-tag--yellow`;if(r==="completed"||r==="success")return`${n} nhsuk-tag--green`}switch(t.color){case"primary":return`${n} nhsuk-tag--blue`;case"secondary":return`${n} nhsuk-tag--grey`;case"success":return`${n} nhsuk-tag--green`;case"warning":return`${n} nhsuk-tag--yellow`;case"danger":return`${n} nhsuk-tag--red`;default:return n}}const py={primaryField:"name",secondaryFields:["id","description","status"],badges:[{fieldKey:"priority",render:t=>t.charAt(0).toUpperCase()+t.slice(1),className:"adaptive-card__priority-badge"},{fieldKey:"status",render:t=>t.charAt(0).toUpperCase()+t.slice(1),className:"adaptive-card__status-badge"}],hiddenFields:[],getPriority:t=>t.priority||"medium",getStatus:t=>t.status||"active",getVariant:t=>t.priority==="high"?"primary":"default",fieldRenderers:{},classPrefix:"adaptive-card--generic"},Fs=({data:t,columns:e,onSelect:n,onAction:r,priority:a="medium",status:i="active"})=>{const o=t.name,l=t.age,u=t.ward_name,c=t.bed_name,d=t.ews_score,p=t.speciality,m=t.consultant;return s.jsxs("div",{className:`healthcare-card healthcare-card--patient healthcare-card--${a} healthcare-card--${i}`,onClick:()=>n?.(t),role:"button",tabIndex:0,"aria-label":`Patient record for ${o}, Age ${l}, Ward ${u}, Bed ${c}`,children:[s.jsxs("div",{className:"healthcare-card__header",children:[s.jsxs("div",{className:"healthcare-card__identity",children:[s.jsx("h3",{className:"healthcare-card__patient-name",children:o}),s.jsxs("p",{className:"healthcare-card__age-info",children:[s.jsx("span",{className:"healthcare-card__label",children:"Age: "}),s.jsx("span",{className:"healthcare-card__value",children:l})]})]}),s.jsx("div",{className:"healthcare-card__badges",children:d!==void 0&&s.jsxs(Ge,{color:gy(Nu(d)),className:"healthcare-card__alert",children:["EWS: ",d]})})]}),s.jsx("div",{className:"healthcare-card__body",children:s.jsxs("dl",{className:"healthcare-card__details",children:[s.jsxs("div",{className:"healthcare-card__detail",children:[s.jsx("dt",{children:"Ward"}),s.jsx("dd",{children:u})]}),s.jsxs("div",{className:"healthcare-card__detail",children:[s.jsx("dt",{children:"Bed"}),s.jsx("dd",{children:c})]}),s.jsxs("div",{className:"healthcare-card__detail",children:[s.jsx("dt",{children:"Specialty"}),s.jsx("dd",{children:p})]}),s.jsxs("div",{className:"healthcare-card__detail healthcare-card__detail--prominent",children:[s.jsx("dt",{children:"Consultant"}),s.jsx("dd",{children:m})]})]})}),s.jsxs("div",{className:"healthcare-card__actions",children:[s.jsx(rt,{variant:"secondary",className:"healthcare-card__action",onClick:g=>{g.stopPropagation(),r?.("view-notes",t)},children:"Notes"}),s.jsx(rt,{variant:"secondary",className:"healthcare-card__action",onClick:g=>{g.stopPropagation(),r?.("view-vitals",t)},children:"Vitals"}),s.jsx(rt,{variant:"primary",className:"healthcare-card__action healthcare-card__action--primary",onClick:g=>{g.stopPropagation(),r?.("view-full",t)},children:"View Full Record"})]})]})},Bs=({data:t,onAction:e})=>s.jsxs("div",{className:"healthcare-card healthcare-card--appointment healthcare-card--medium healthcare-card--active",role:"article",tabIndex:0,children:[s.jsxs("div",{className:"healthcare-card__header",children:[s.jsxs("div",{className:"healthcare-card__time-info",children:[s.jsx("h3",{className:"healthcare-card__time",children:new Date(t.appointment_time).toLocaleTimeString("en-GB",{hour:"2-digit",minute:"2-digit"})}),s.jsx("p",{className:"healthcare-card__type",children:t.appointment_type})]}),s.jsxs("div",{className:"healthcare-card__badges",children:[s.jsx(Ge,{color:_y(t.status||"active"),className:"healthcare-card__status",children:(t.status||"active").charAt(0).toUpperCase()+(t.status||"active").slice(1)}),s.jsxs(Ge,{color:"grey",className:"healthcare-card__duration",children:[t.duration||"30"," min"]})]})]}),s.jsx("div",{className:"healthcare-card__body",children:s.jsxs("dl",{className:"healthcare-card__details",children:[s.jsxs("div",{className:"healthcare-card__detail",children:[s.jsx("dt",{children:"Patient"}),s.jsx("dd",{children:t.patient_name})]}),s.jsxs("div",{className:"healthcare-card__detail",children:[s.jsx("dt",{children:"Consultant"}),s.jsx("dd",{children:t.consultant})]}),s.jsxs("div",{className:"healthcare-card__detail",children:[s.jsx("dt",{children:"Location"}),s.jsx("dd",{children:t.location})]})]})}),s.jsxs("div",{className:"healthcare-card__actions",children:[s.jsx(rt,{variant:"secondary",size:"small",onClick:()=>e?.("view",t),children:"View Details"}),s.jsx(rt,{variant:"primary",size:"small",onClick:()=>e?.("edit",t),children:"Reschedule"})]})]}),As=({data:t,onAction:e})=>s.jsxs("div",{className:"healthcare-card healthcare-card--medication healthcare-card--medium healthcare-card--active",role:"article",tabIndex:0,children:[s.jsxs("div",{className:"healthcare-card__header",children:[s.jsxs("div",{className:"healthcare-card__medication-info",children:[s.jsx("h3",{className:"healthcare-card__medication-name",children:t.medication}),s.jsxs("p",{className:"healthcare-card__dose",children:[t.dose," â€¢ ",t.frequency]})]}),s.jsxs("div",{className:"healthcare-card__badges",children:[s.jsx(Ge,{color:"blue",className:"healthcare-card__route",children:t.route}),t.next_due&&s.jsxs(Ge,{color:"red",className:"healthcare-card__warning",children:["Due: ",new Date(t.next_due).toLocaleTimeString("en-GB",{hour:"2-digit",minute:"2-digit"})]})]})]}),s.jsx("div",{className:"healthcare-card__body",children:s.jsxs("dl",{className:"healthcare-card__details",children:[s.jsxs("div",{className:"healthcare-card__detail",children:[s.jsx("dt",{children:"Patient"}),s.jsx("dd",{children:t.patient_name})]}),s.jsxs("div",{className:"healthcare-card__detail",children:[s.jsx("dt",{children:"Prescriber"}),s.jsx("dd",{children:t.prescriber})]}),t.allergies&&s.jsxs("div",{className:"healthcare-card__detail healthcare-card__detail--urgent",children:[s.jsx("dt",{children:"Allergies"}),s.jsx("dd",{children:t.allergies})]})]})}),s.jsxs("div",{className:"healthcare-card__actions",children:[s.jsx(rt,{variant:"secondary",size:"small",onClick:()=>e?.("view",t),children:"View Details"}),s.jsx(rt,{variant:"primary",size:"small",onClick:()=>e?.("edit",t),children:"Adjust Dose"})]})]}),Es=({data:t,onSelect:e,onAction:n,priority:r="medium"})=>{const a=t.name,i=t.ews_score,o=t.ews_data?.respiratory_rate_bpm,l=t.ews_data?.sp02,u=t.ews_data?.temperature,c=t.ews_data?.systolic_bp,d=t.ews_data?.heart_rate,p=t.ews_data?.avpu;return s.jsxs("div",{className:`healthcare-card healthcare-card--vitals healthcare-card--${r}`,onClick:()=>e?.(t),role:"button",tabIndex:0,"aria-label":`Vital signs for ${a}, EWS Score ${i}`,children:[s.jsxs("div",{className:"healthcare-card__header",children:[s.jsxs("div",{className:"healthcare-card__vitals-summary",children:[s.jsx("h3",{className:"healthcare-card__patient-name",children:a}),i!==void 0&&s.jsxs("p",{className:`healthcare-card__ews-score healthcare-card__ews-score--${my(i)}`,children:["EWS: ",i]})]}),s.jsx("div",{className:"healthcare-card__badges",children:p&&s.jsxs(Ge,{color:"blue",className:"healthcare-card__avpu",children:["AVPU: ",p.toUpperCase()]})})]}),s.jsx("div",{className:"healthcare-card__body",children:s.jsxs("div",{className:"healthcare-card__vitals-grid",children:[o!==void 0&&s.jsxs("div",{className:"healthcare-card__vital",children:[s.jsx("span",{className:"healthcare-card__vital-label",children:"Respiratory Rate"}),s.jsxs("span",{className:"healthcare-card__vital-value",children:[o," bpm"]})]}),l!==void 0&&s.jsxs("div",{className:"healthcare-card__vital",children:[s.jsx("span",{className:"healthcare-card__vital-label",children:"SpO2"}),s.jsxs("span",{className:"healthcare-card__vital-value",children:[l,"%"]})]}),u!==void 0&&s.jsxs("div",{className:"healthcare-card__vital",children:[s.jsx("span",{className:"healthcare-card__vital-label",children:"Temperature"}),s.jsxs("span",{className:"healthcare-card__vital-value",children:[u,"Â°C"]})]}),c!==void 0&&s.jsxs("div",{className:"healthcare-card__vital",children:[s.jsx("span",{className:"healthcare-card__vital-label",children:"Systolic BP"}),s.jsx("span",{className:"healthcare-card__vital-value",children:c})]}),d!==void 0&&s.jsxs("div",{className:"healthcare-card__vital",children:[s.jsx("span",{className:"healthcare-card__vital-label",children:"Heart Rate"}),s.jsxs("span",{className:"healthcare-card__vital-value",children:[d," bpm"]})]})]})}),s.jsxs("div",{className:"healthcare-card__actions",children:[s.jsx(rt,{variant:"secondary",className:"healthcare-card__action",onClick:m=>{m.stopPropagation(),n?.("view-trend",t)},children:"Trend"}),s.jsx(rt,{variant:"primary",className:"healthcare-card__action healthcare-card__action--primary",onClick:m=>{m.stopPropagation(),n?.("record-new",t)},children:"Record New"})]})]})};function Nu(t){const e=typeof t=="string"?parseInt(t,10):t;return e>=7?"critical":e>=5?"high":e>=3?"medium":"low"}function my(t){return Nu(t)}function gy(t){switch(t){case"critical":return"red";case"high":return"orange";case"medium":return"yellow";case"low":return"grey";default:return"grey"}}function _y(t){switch(t.toLowerCase()){case"active":return"blue";case"pending":return"orange";case"completed":return"green";case"cancelled":return"grey";default:return"blue"}}const by=[{fieldKey:"ews_score",render:t=>`EWS: ${t}`,className:"adaptive-card__ews-badge",color:"default"},{fieldKey:"priority",render:t=>t.charAt(0).toUpperCase()+t.slice(1),className:"adaptive-card__priority-badge"},{fieldKey:"status",render:t=>t.charAt(0).toUpperCase()+t.slice(1),className:"adaptive-card__status-badge"}],ju=t=>t.ews_score&&Number(t.ews_score)>=7?"high":t.ews_score&&Number(t.ews_score)>=3?"medium":t.priority==="high"||t.status==="urgent"?"high":t.priority==="low"?"low":"medium",Du={name:"healthcare",defaultCardConfig:{primaryField:"name",secondaryFields:["nhs_number","ward","condition","consultant"],badges:by,hiddenFields:[],getPriority:ju,getStatus:t=>{if(t.status){const e=t.status.toLowerCase();if(["active","pending","completed","cancelled","urgent"].includes(e))return e}return"active"},getVariant:t=>ju(t)==="high"||t.status==="urgent"?"primary":"default",fieldRenderers:{nhs_number:t=>t?`NHS: ${t}`:"",ews_score:t=>{const e=Number(t),n=e>=7?"HIGH":e>=3?"MEDIUM":"LOW";return`EWS: ${t} (${n})`},age:(t,e)=>e.dob?`${new Date().getFullYear()-new Date(e.dob).getFullYear()}y`:t?`${t}y`:""},classPrefix:"adaptive-card--healthcare"},cssImport:"./HealthcareCardTemplates.scss",cardTemplates:{patient:(t,e,n)=>{const r=n.getPriority?.(t)||"medium",a=n.getStatus?.(t)||"active",i=a==="urgent"?"active":a;return s.jsx(Fs,{data:t,columns:e,priority:r,status:i,onSelect:o=>console.log("Patient selected:",o),onAction:(o,l)=>console.log("Patient action:",o,l)})},appointment:(t,e,n)=>{const r=n.getStatus?.(t)||"pending",a=r==="urgent"?"pending":r;return s.jsx(Bs,{data:t,columns:e,status:a,onSelect:i=>console.log("Appointment selected:",i),onAction:(i,o)=>console.log("Appointment action:",i,o)})},medication:(t,e,n)=>{const r=n.getPriority?.(t)||"medium";return s.jsx(As,{data:t,columns:e,priority:r,onSelect:a=>console.log("Medication selected:",a),onAction:(a,i)=>console.log("Medication action:",a,i)})},vitals:(t,e,n)=>{const r=n.getPriority?.(t)||"medium";return s.jsx(Es,{data:t,columns:e,priority:r,onSelect:a=>console.log("Vitals selected:",a),onAction:(a,i)=>console.log("Vitals action:",a,i)})}},fieldTypes:{isNHSNumber:t=>typeof t=="string"&&/^\d{3}\s?\d{3}\s?\d{4}$/.test(t.replace(/\s/g,"")),isEWSScore:t=>typeof t=="number"&&t>=0&&t<=20,isMedicalDate:t=>typeof t=="string"&&!isNaN(Date.parse(t))}};function Mu(t){return{primaryField:t?.primaryField||"name",secondaryFields:t?.secondaryFields||[],badges:t?.badgeFields?.map(e=>({fieldKey:e,className:"adaptive-card__badge"}))||[],hiddenFields:t?.hiddenFields||[],cardTemplate:t?.cardTemplate?(e,n,r)=>t.cardTemplate(e,n):void 0,classPrefix:"adaptive-card--generic"}}function $u(t){if(!t||t.length===0)return!1;const e=t[0];return e.ews_score!==void 0||e.nhs_number!==void 0||e.patient_name!==void 0||e.ward!==void 0||e.consultant!==void 0}function yy(t,e){switch(e.type){case"SET_SELECTED_INDEX":return{...t,selectedIndex:e.payload};case"SET_TAB_LOADING":const n=[...t.tabLoadingStates];return n[e.payload.tabIndex]=e.payload.isLoading,{...t,tabLoadingStates:n};case"SET_TAB_ERROR":const r=[...t.tabErrors];return r[e.payload.tabIndex]=e.payload.error,{...t,tabErrors:r};case"SET_SORT":return{...t,sortConfig:e.payload};case"SET_SELECTED_ROWS":const a=[...t.selectedRows];return a[e.payload.tabIndex]=e.payload.rowIndices,{...t,selectedRows:a};case"SET_GLOBAL_SELECTED_ROW_DATA":return{...t,globalSelectedRowData:e.payload};case"SET_FILTERS":return{...t,filters:e.payload};case"ADJUST_ARRAYS":const{newLength:i}=e.payload,o=new Array(i).fill(!1),l=new Array(i).fill(null),u=new Array(i).fill([]);for(let c=0;c<Math.min(t.tabLoadingStates.length,i);c++)o[c]=t.tabLoadingStates[c],l[c]=t.tabErrors[c],u[c]=t.selectedRows[c];return{...t,tabLoadingStates:o,tabErrors:l,selectedRows:u};case"RESET_STATE":return{selectedIndex:0,tabLoadingStates:new Array(t.tabLoadingStates.length).fill(!1),tabErrors:new Array(t.tabErrors.length).fill(null),sortConfig:[],selectedRows:new Array(t.selectedRows.length).fill([]),globalSelectedRowData:null,filters:void 0};default:return t}}function xy(t,e){const[n,r]=A.useState("cards");return A.useEffect(()=>{if(e){r(e);return}const a=()=>{const i=window.innerWidth;i<t.mobile?r("cards"):i<t.desktop?r("hybrid"):r("table")};return a(),window.addEventListener("resize",a),()=>window.removeEventListener("resize",a)},[t,e]),n}function vy(t){return!t||typeof t!="object"?null:t.appointment_type||t.appointment_time||t.clinic?"appointment":t.medication_name||t.medication||t.dose||t.frequency?"medication":t.ews_score!==void 0||t.respiratory_rate!==void 0||t.spo2!==void 0||t.temperature!==void 0||t.systolic_bp!==void 0||t.heart_rate!==void 0?"vitals":t.name||t.patient_name||t.nhs_number||t.ward||t.bed?"patient":null}function wy(t,e,n,r){const a=r?{...r.defaultCardConfig,...n}:{...py,...n};if(r&&r.cardTemplates){const i=vy(t);if(i&&r.cardTemplates[i]){const o=r.cardTemplates[i](t,e,a);if(o)return{variant:"default",children:o}}}return a.cardTemplate&&a.cardTemplate(t,e,a),Tu(t,e,a)}const Hs=({breakpoints:t={mobile:768,tablet:1024,desktop:1200},forceLayout:e,cardConfig:n={},experimental:r={},enableAdvancedSorting:a=!1,topActions:i,bottomActions:o,gridActions:l,forceGridActionsAbove:u,tabPanels:c,dataConfig:d,selectedIndex:p,onTabChange:m,ariaLabel:g="Data grid",ariaDescription:y,orientation:h="horizontal",id:f,disabled:L=!1,className:M,...j})=>{const S=xy(t,e),N=p!==void 0,k=p??0,$=A.useMemo(()=>{if(c.some(J=>J.data&&J.data.length>0&&$u(J.data))){const J=Mu(n);return{...Du.defaultCardConfig,...J}}else return Mu(n)},[n,c]),v=A.useMemo(()=>c.some(J=>J.data&&J.data.length>0&&$u(J.data))?Du:void 0,[c]),b=A.useMemo(()=>({selectedIndex:k,tabLoadingStates:new Array(c.length).fill(!1),tabErrors:new Array(c.length).fill(null),sortConfig:[],selectedRows:new Array(c.length).fill([]),globalSelectedRowData:null,filters:void 0}),[k,c.length]),[D,x]=A.useReducer(yy,b),C=A.useRef([]),B=A.useRef([]),I=A.useRef([]),P=A.useRef(null),[w,E]=A.useState({focusArea:"tabs",focusedTabIndex:0,focusedCardIndex:0,selectedCardIndex:-1,isGridActive:!1,focusedCardElementIndex:0,cardElements:[],isCardNavigationActive:!1,gridColumns:1,gridRows:1,cardSortConfig:null,focusedSortControlIndex:0,isSortControlsActive:!1}),te=A.useCallback(ee=>{if(!ee.current)return{columns:1,rows:0};const J=ee.current,ae=J.querySelectorAll(".aria-tabs-datagrid-adaptive__card-wrapper");if(ae.length===0)return{columns:1,rows:0};const Y=J.offsetWidth,X=ae[0].offsetWidth,se=Math.floor(Y/X)||1,Z=Math.ceil(ae.length/se);return{columns:se,rows:Z}},[]),z=A.useCallback((ee,J)=>({row:Math.floor(ee/J),col:ee%J}),[]),W=A.useCallback((ee,J,ae)=>ee*ae+J,[]),G=A.useCallback((ee,J,ae,Y)=>{const{row:F,col:X}=z(ee,Y);let se=F,Z=X;switch(J){case"up":se=Math.max(0,F-1);break;case"down":se=Math.min(Math.floor((ae-1)/Y),F+1);break;case"left":Z=Math.max(0,X-1);break;case"right":Z=Math.min(Y-1,X+1);break}const ne=W(se,Z,Y);return Math.min(ne,ae-1)},[z,W]);A.useEffect(()=>{w.isCardNavigationActive&&w.focusedCardElementIndex>=0&&w.cardElements.length>0&&setTimeout(()=>{const ee=w.cardElements[w.focusedCardElementIndex];ee&&(ee.element.focus(),ee.element.scrollIntoView({block:"nearest",behavior:"smooth"}))},0)},[w.isCardNavigationActive,w.focusedCardElementIndex,w.cardElements.length]),A.useEffect(()=>{const ee=()=>{if(S==="cards"&&P.current){const{columns:Y,rows:F}=te(P);E(X=>({...X,gridColumns:Y,gridRows:F}))}},J=setTimeout(ee,200),ae=()=>{setTimeout(ee,100)};return window.addEventListener("resize",ae),()=>{clearTimeout(J),window.removeEventListener("resize",ae)}},[S,c,te]),A.useEffect(()=>{const ee=D.tabLoadingStates.length,J=c.length;ee!==J&&x({type:"ADJUST_ARRAYS",payload:{newLength:J}})},[c.length,D.tabLoadingStates.length]),A.useEffect(()=>{N&&p!==D.selectedIndex&&x({type:"SET_SELECTED_INDEX",payload:p})},[N,p,D.selectedIndex]);const H=A.useCallback(ee=>{ee>=0&&ee<c.length&&!c[ee].disabled&&(x({type:"SET_SELECTED_INDEX",payload:ee}),m?.(ee))},[c,m]),oe=A.useCallback(ee=>{console.log("Card selected:",ee),x({type:"SET_GLOBAL_SELECTED_ROW_DATA",payload:ee})},[]),T=A.useCallback(ee=>{const J=B.current[ee];J&&(J.focus(),J.scrollIntoView({block:"nearest",behavior:"smooth"}))},[]),O=A.useCallback(ee=>{const J=B.current[ee];if(!J)return[];const ae=['button:not([disabled]):not([aria-hidden="true"])','a[href]:not([disabled]):not([aria-hidden="true"])','input:not([disabled]):not([aria-hidden="true"])','select:not([disabled]):not([aria-hidden="true"])','textarea:not([disabled]):not([aria-hidden="true"])','[tabindex]:not([tabindex="-1"]):not([disabled]):not([aria-hidden="true"])','.healthcare-card__detail[tabindex]:not([tabindex="-1"])',".healthcare-card__action:not([disabled])",".tag:not([disabled])"].join(", "),Y=J.querySelectorAll(ae);return Array.from(Y).map((F,X)=>({id:F.id||`card-${ee}-element-${X}`,element:F,label:F.getAttribute("aria-label")||F.textContent?.trim()||F.getAttribute("title")||`Element ${X+1}`,type:F.tagName.toLowerCase()==="button"?"button":F.tagName.toLowerCase()==="a"?"link":["input","select","textarea"].includes(F.tagName.toLowerCase())?"input":"generic"}))},[]),Q=A.useRef(null),re=A.useCallback(ee=>{const J=Q.current;if(!J)return;const ae=document.createElement("div");ae.setAttribute("aria-live","polite"),ae.setAttribute("aria-atomic","true"),ae.className="sr-only",ae.textContent=ee,J.appendChild(ae),setTimeout(()=>{J.contains(ae)&&J.removeChild(ae)},1e3)},[]),q=A.useCallback(ee=>{const J=ee.filter(Y=>Y.sortable!==!1),ae=[{value:"",label:"Sort by..."}];return J.forEach(Y=>{const F=Y.label||Y.key;Y.key==="name"?ae.push({value:`${Y.key}-asc`,label:`${F} (A-Z)`},{value:`${Y.key}-desc`,label:`${F} (Z-A)`}):Y.key==="ews_score"||Y.key.includes("score")?ae.push({value:`${Y.key}-desc`,label:`${F} (High-Low)`},{value:`${Y.key}-asc`,label:`${F} (Low-High)`}):Y.key==="age"||Y.key.includes("date")||Y.key.includes("time")?ae.push({value:`${Y.key}-desc`,label:`${F} (Oldest-Youngest)`},{value:`${Y.key}-asc`,label:`${F} (Youngest-Oldest)`}):ae.push({value:`${Y.key}-asc`,label:`${F} (A-Z)`},{value:`${Y.key}-desc`,label:`${F} (Z-A)`})}),ae},[]),R=A.useCallback((ee,J)=>J?[...ee].sort((ae,Y)=>{const F=ae[J.key],X=Y[J.key];if(F==null&&X==null)return 0;if(F==null)return 1;if(X==null)return-1;const se=Number(F),Z=Number(X);if(!isNaN(se)&&!isNaN(Z))return J.direction==="asc"?se-Z:Z-se;const ne=String(F).toLowerCase(),ce=String(X).toLowerCase(),we=ne.localeCompare(ce);return J.direction==="asc"?we:-we}):ee,[]),V=A.useCallback(ee=>{if(!ee){E(ne=>({...ne,cardSortConfig:null})),re("Card sorting cleared");return}const[J,ae]=ee.split("-"),Y={key:J,direction:ae};E(ne=>({...ne,cardSortConfig:Y}));const se=c[D.selectedIndex]?.columns.find(ne=>ne.key===J)?.label||J;re(`Cards sorted by ${se} in ${ae==="asc"?"ascending":"descending"} order`)},[c,D.selectedIndex,re]),le=A.useCallback(ee=>{const Y=c[D.selectedIndex]?.columns.find(X=>X.key===ee.key)?.label||ee.key,F=ee.direction==="asc"?"ascending":"descending";return`${Y} (${F})`},[c,D.selectedIndex]),U=A.useCallback(ee=>{const J=c[D.selectedIndex];if(a){const ae=D.sortConfig;return!ae||ae.length===0?ee:[...ee].sort((Y,F)=>{for(const{key:X,direction:se}of ae){let Z=Y[X],ne=F[X];const ce=J?.columns.find(Se=>Se.key===X);if(ce?.cardRenderer?(Z=ce.cardRenderer(Y),ne=ce.cardRenderer(F)):ce?.render&&(Z=ce.render(Y),ne=ce.render(F)),Z==null&&ne==null)continue;if(Z==null)return se==="asc"?-1:1;if(ne==null)return se==="asc"?1:-1;const we=Number(Z),Ce=Number(ne);if(!isNaN(we)&&!isNaN(Ce)){const Se=we-Ce;if(Se!==0)return se==="asc"?Se:-Se;continue}const xe=String(Z).toLowerCase(),Ne=String(ne).toLowerCase(),_e=xe.localeCompare(Ne);if(_e!==0)return se==="asc"?_e:-_e}return 0})}else return R(ee,w.cardSortConfig)},[a,D.sortConfig,w.cardSortConfig,R,c,D.selectedIndex]),de=A.useCallback((ee,J)=>{const ae=O(ee),Y=ae[J];if(Y){Y.element.scrollIntoView({block:"nearest",behavior:"smooth"});const F=`Focused on ${Y.label}, ${Y.type} ${J+1} of ${ae.length} within card`;re(F)}},[O,re]),ie=A.useCallback(ee=>{C.current[ee]?.focus()},[]),ue=A.useCallback(()=>{const ee=I.current[0];if(!ee)return[];const J=['select:not([disabled]):not([aria-hidden="true"])','button:not([disabled]):not([aria-hidden="true"])','input:not([disabled]):not([aria-hidden="true"])','[tabindex]:not([tabindex="-1"]):not([disabled]):not([aria-hidden="true"])'].join(", "),ae=ee.querySelectorAll(J);return Array.from(ae)},[]),fe=A.useCallback(ee=>{if(ee===0){const J=I.current[0],ae=J?.querySelector(".sort-controls-row");if(ae){ae.setAttribute("tabindex","-1"),ae.focus();const F=`Sort controls group with ${ue().length} interactive elements. Press Enter or Space to begin navigating controls.`;re(F)}else J&&J.focus()}else{const J=ue(),ae=ee-1,Y=J[ae];if(Y){Y.focus();const F=Y.tagName.toLowerCase()==="select",X=Y.tagName.toLowerCase()==="button",se=F?"dropdown":X?"button":"control",Z=F?". Use Space key to open dropdown":"",ne=`${se} ${ae+1} of ${J.length}${Z}`;re(ne)}}},[ue,re]),ye=A.useCallback((ee,J)=>{const{key:ae}=ee,Y=c[D.selectedIndex],F=Y?.data.length||0;if(ae==="ArrowLeft"&&ee.shiftKey){ee.preventDefault(),ee.currentTarget.scrollBy({left:-30,behavior:"smooth"});return}else if(ae==="ArrowRight"&&ee.shiftKey){ee.preventDefault(),ee.currentTarget.scrollBy({left:30,behavior:"smooth"});return}if(!w.isCardNavigationActive){switch(ae){case"ArrowUp":if(ee.preventDefault(),J===0)E(ne=>({...ne,focusArea:"sort-controls",focusedSortControlIndex:0,isSortControlsActive:!1})),fe(0);else{const ne=G(J,"up",F,w.gridColumns);ne!==J&&(E(ce=>({...ce,focusedCardIndex:ne})),T(ne),re(`Moved to card ${ne+1} of ${F}`))}break;case"ArrowDown":ee.preventDefault();const X=G(J,"down",F,w.gridColumns);X!==J&&(E(ne=>({...ne,focusedCardIndex:X})),T(X),re(`Moved to card ${X+1} of ${F}`));break;case"ArrowLeft":ee.preventDefault();const se=G(J,"left",F,w.gridColumns);se!==J?(E(ne=>({...ne,focusedCardIndex:se})),T(se),re(`Moved to card ${se+1} of ${F}`)):D.selectedIndex>0&&(x({type:"SET_SELECTED_INDEX",payload:D.selectedIndex-1}),E(ne=>({...ne,focusArea:"tabs"})),setTimeout(()=>ie(D.selectedIndex-1),0));break;case"ArrowRight":ee.preventDefault();const Z=G(J,"right",F,w.gridColumns);Z!==J?(E(ne=>({...ne,focusedCardIndex:Z})),T(Z),re(`Moved to card ${Z+1} of ${F}`)):D.selectedIndex<c.length-1&&(x({type:"SET_SELECTED_INDEX",payload:D.selectedIndex+1}),E(ne=>({...ne,focusArea:"tabs"})),setTimeout(()=>ie(D.selectedIndex+1),0));break;case"Enter":if(Y?.data[J]){ee.preventDefault(),E(ce=>({...ce,selectedCardIndex:J}));const ne=O(J);ne.length>0?(E(ce=>({...ce,focusArea:"card",isCardNavigationActive:!0,focusedCardElementIndex:0,cardElements:ne,selectedCardIndex:J})),re(`Card ${J+1} selected and navigation activated. ${ne.length} interactive elements available. Use arrow keys to navigate, Enter to activate, Escape to exit.`)):re(`Card ${J+1} selected.`)}break;case" ":if(Y?.data[J]){ee.preventDefault(),E(ce=>({...ce,selectedCardIndex:ce.selectedCardIndex===J?-1:J}));const ne=w.selectedCardIndex===J;re(`Card ${J+1} ${ne?"deselected":"selected"}.`)}break}return}switch(ae){case"ArrowUp":case"ArrowLeft":ee.preventDefault();const X=Math.max(0,w.focusedCardElementIndex-1);E(ce=>({...ce,focusedCardElementIndex:X})),de(J,X);break;case"ArrowDown":case"ArrowRight":ee.preventDefault();const se=Math.min(w.cardElements.length-1,w.focusedCardElementIndex+1);E(ce=>({...ce,focusedCardElementIndex:se})),de(J,se);break;case"Enter":ee.preventDefault();const Z=w.cardElements[w.focusedCardElementIndex];Z&&(Z.element.click(),re(`Activated ${Z.label}`));break;case" ":ee.preventDefault();const ne=w.cardElements[w.focusedCardElementIndex];if(ne){const ce=new MouseEvent("dblclick",{bubbles:!0});ne.element.dispatchEvent(ce),re(`Double-clicked ${ne.label}`)}break;case"Escape":ee.preventDefault(),E(ce=>({...ce,focusArea:"cards",isCardNavigationActive:!1,focusedCardElementIndex:0,cardElements:[]})),setTimeout(()=>T(J),0),re("Exited card navigation, returned to card level");break;case"Home":ee.preventDefault(),w.cardElements.length>0&&(E(ce=>({...ce,focusedCardElementIndex:0})),de(J,0));break;case"End":if(ee.preventDefault(),w.cardElements.length>0){const ce=w.cardElements.length-1;E(we=>({...we,focusedCardElementIndex:ce})),de(J,ce)}break}},[w,D.selectedIndex,c,oe,T,ie,E,O,de,re]),De=A.useCallback(ee=>{const J=C.current[ee],ae=J?.parentElement;if(!J||!ae){console.log("Tab or container not found for mobile scroll");return}const Y=J.getBoundingClientRect(),F=ae.getBoundingClientRect();Y.left>=F.left&&Y.right<=F.right||(console.log("Tab not visible, scrolling into view (mobile)"),J.scrollIntoView({behavior:"smooth",block:"nearest",inline:"center"}))},[]),ke=A.useCallback((ee,J)=>{if(S!=="cards")return;const{key:ae}=ee;switch(ae){case"ArrowLeft":ee.preventDefault();const Y=J>0?J-1:c.length-1;H(Y),E(Z=>({...Z,focusedTabIndex:Y})),C.current[Y]?.focus(),De(Y);break;case"ArrowRight":ee.preventDefault();const F=J<c.length-1?J+1:0;H(F),E(Z=>({...Z,focusedTabIndex:F})),C.current[F]?.focus(),De(F);break;case"ArrowDown":ee.preventDefault();const X=c[D.selectedIndex];X&&X.columns&&X.columns.length>0?(E(Z=>({...Z,focusArea:"sort-controls",focusedSortControlIndex:0})),fe(0)):(E(Z=>({...Z,focusArea:"cards",focusedCardIndex:0})),T(0));break;case"Home":ee.preventDefault(),H(0),E(Z=>({...Z,focusedTabIndex:0})),C.current[0]?.focus(),De(0);break;case"End":ee.preventDefault();const se=c.length-1;H(se),E(Z=>({...Z,focusedTabIndex:se})),C.current[se]?.focus(),De(se);break;case"Enter":case" ":ee.preventDefault(),H(J);break}},[c.length,H,S,T,E,De]),me=A.useCallback((ee,J)=>{if(S!=="cards")return;const{key:ae}=ee,Y=c[D.selectedIndex];if(J===0&&!w.isSortControlsActive){switch(ae){case"ArrowUp":ee.preventDefault(),E(X=>({...X,focusArea:"tabs",isSortControlsActive:!1})),ie(D.selectedIndex);break;case"ArrowDown":ee.preventDefault(),Y?.data&&Y.data.length>0&&(E(X=>({...X,focusArea:"cards",focusedCardIndex:0,isSortControlsActive:!1})),T(0));break;case"Enter":case" ":ee.preventDefault();const F=ue();if(F.length>0){E(se=>({...se,isSortControlsActive:!0,focusedSortControlIndex:1})),fe(1);const X=`Entered sort controls navigation mode. ${F.length} controls available. Use arrow keys to navigate between controls.`;re(X)}break;case"Escape":ee.preventDefault(),E(X=>({...X,isSortControlsActive:!1,focusArea:"tabs"})),ie(D.selectedIndex);break}return}if(w.isSortControlsActive){const X=ue().length;switch(ae){case"ArrowLeft":ee.preventDefault();const se=w.focusedSortControlIndex>1?w.focusedSortControlIndex-1:X;E(ne=>({...ne,focusedSortControlIndex:se})),fe(se);break;case"ArrowRight":ee.preventDefault();const Z=w.focusedSortControlIndex<X?w.focusedSortControlIndex+1:1;E(ne=>({...ne,focusedSortControlIndex:Z})),fe(Z);break;case"ArrowDown":if(ee.preventDefault(),w.isSortControlsActive){const ne=w.focusedSortControlIndex<X?w.focusedSortControlIndex+1:1;E(ce=>({...ce,focusedSortControlIndex:ne})),fe(ne)}else Y?.data&&Y.data.length>0&&(E(ne=>({...ne,focusArea:"cards",focusedCardIndex:0,isSortControlsActive:!1})),T(0));break;case"ArrowUp":ee.preventDefault(),E(ne=>({...ne,isSortControlsActive:!1,focusArea:"sort-controls"})),fe(0);break;case"Escape":ee.preventDefault(),E(ne=>({...ne,isSortControlsActive:!1,focusArea:"sort-controls",focusedSortControlIndex:0})),fe(0);break}}},[S,c,D.selectedIndex,w.isSortControlsActive,w.focusedSortControlIndex,fe,ie,T,E,re]);if(S==="cards"){const ee=c[D.selectedIndex];return s.jsxs("div",{className:`aria-tabs-datagrid-adaptive aria-tabs-datagrid-adaptive--cards ${M||""}`,children:[s.jsxs("div",{className:"aria-tabs-datagrid-adaptive__header",children:[s.jsx("div",{role:"tablist","aria-label":g,"aria-describedby":`${y||""} ${f?`${f}-navigation-help`:""}`.trim(),"aria-orientation":h,className:"aria-tabs-datagrid__tabs",children:c.map((J,ae)=>{const Y=ae===D.selectedIndex,F=J.disabled||L;return s.jsxs("button",{role:"tab",id:`tab-${J.id}`,"aria-controls":`panel-${J.id}`,"aria-selected":Y,"aria-disabled":F,tabIndex:Y?0:-1,ref:X=>{C.current[ae]=X},onClick:()=>H(ae),onKeyDown:X=>ke(X,ae),disabled:F,className:["aria-tabs-datagrid__tab",Y?"aria-tabs-datagrid__tab--selected":"",F?"aria-tabs-datagrid__tab--disabled":""].filter(Boolean).join(" "),children:[s.jsx("span",{className:"aria-tabs-datagrid__tab-label",children:J.label}),D.tabLoadingStates[ae]&&s.jsx("span",{className:"aria-tabs-datagrid__tab-loading","aria-hidden":"true",children:"â³"}),D.tabErrors[ae]&&s.jsx("span",{className:"aria-tabs-datagrid__tab-error","aria-hidden":"true",children:"âš ï¸"})]},J.id)})}),i&&s.jsx("div",{className:"aria-tabs-datagrid-adaptive__top-actions",children:i})]}),ee&&ee.columns&&s.jsx(s.Fragment,{children:a?s.jsx(ku,{sortConfig:D.sortConfig||[],columns:ee.columns.map(J=>({key:J.key,label:J.label})),onSortChange:J=>{x({type:"SET_SORT",payload:J})},ariaLabel:"Card view sort configuration",className:"aria-tabs-datagrid-adaptive__advanced-sort-controls"}):s.jsx("div",{className:"aria-tabs-datagrid-adaptive__sort-controls",role:"region","aria-label":"Sort controls",tabIndex:w.focusArea==="sort-controls"?0:-1,ref:J=>{I.current[0]=J},onKeyDown:J=>me(J,0),children:s.jsxs("div",{className:"sort-controls-row",children:[s.jsxs("div",{className:"sort-select-container",children:[s.jsx("label",{htmlFor:`card-sort-${ee.id}`,className:"sort-label",children:"Sort cards by"}),s.jsx(Dr,{id:`card-sort-${ee.id}`,name:`card-sort-${ee.id}`,value:w.cardSortConfig?`${w.cardSortConfig.key}-${w.cardSortConfig.direction}`:"",onChange:J=>V(J.target.value),className:"sort-select",children:q(ee.columns).map(J=>s.jsx("option",{value:J.value,children:J.label},J.value))})]}),w.cardSortConfig&&s.jsxs("div",{className:"sort-indicator",role:"status","aria-live":"polite",children:[s.jsxs("span",{className:"sort-indicator-text",children:["Sorted by ",le(w.cardSortConfig)]}),s.jsx(rt,{variant:"secondary",size:"small",onClick:()=>V(""),"aria-label":"Clear card sorting",className:"sort-clear-button",children:"Clear"})]})]})})}),s.jsx("div",{ref:P,className:"aria-tabs-datagrid-adaptive__cards",role:"grid","aria-label":`${ee?.label||"Data"} cards in ${w.gridRows} rows and ${w.gridColumns} columns`,"aria-rowcount":w.gridRows,"aria-colcount":w.gridColumns,id:`panel-${ee?.id}`,"aria-labelledby":`tab-${ee?.id}`,children:U(ee?.data||[]).map((J,ae)=>{const Y=w.selectedCardIndex===ae,F=w.focusedCardIndex===ae&&w.focusArea==="cards",X=w.focusedCardIndex===ae&&w.focusArea==="card"&&w.isCardNavigationActive,se=ae===0&&w.focusArea!=="cards",Z=F||se,ne=z(ae,w.gridColumns);if(n.cardTemplate){const Ce=n.cardTemplate(J,ee.columns);return s.jsx("div",{role:"row","aria-rowindex":ne.row+1,className:"aria-tabs-datagrid-adaptive__row",children:s.jsx("div",{ref:xe=>{B.current[ae]=xe},className:["aria-tabs-datagrid-adaptive__card-wrapper",Y?"aria-tabs-datagrid-adaptive__card-wrapper--selected":"",F?"aria-tabs-datagrid-adaptive__card-wrapper--focused":"",X?"aria-tabs-datagrid-adaptive__card-wrapper--card-navigation":""].filter(Boolean).join(" "),role:"gridcell","aria-colindex":ne.col+1,"aria-selected":Y,"aria-expanded":X,"aria-description":X?`Card navigation active. ${w.cardElements.length} interactive elements available.`:void 0,tabIndex:Z?0:-1,onClick:()=>{E(xe=>({...xe,selectedCardIndex:xe.selectedCardIndex===ae?-1:ae})),oe(J)},onKeyDown:xe=>ye(xe,ae),onFocus:()=>{E(xe=>xe.isCardNavigationActive?xe:xe.focusedCardIndex!==ae||xe.focusArea!=="cards"?{...xe,focusedCardIndex:ae,focusArea:"cards"}:xe)},children:Ce})},`card-${ae}`)}const ce=wy(J,ee.columns,$,v),we=[ce.className||"",Y?"aria-tabs-datagrid-adaptive__card--selected":"",F?"aria-tabs-datagrid-adaptive__card--focused":"",X?"aria-tabs-datagrid-adaptive__card--card-navigation":""].filter(Boolean).join(" ");return s.jsx("div",{role:"row","aria-rowindex":ne.row+1,className:"aria-tabs-datagrid-adaptive__row",children:s.jsx("div",{className:["aria-tabs-datagrid-adaptive__card-wrapper",Y?"aria-tabs-datagrid-adaptive__card-wrapper--selected":"",F?"aria-tabs-datagrid-adaptive__card-wrapper--focused":"",X?"aria-tabs-datagrid-adaptive__card-wrapper--card-navigation":""].filter(Boolean).join(" "),role:"gridcell","aria-colindex":ne.col+1,"aria-selected":Y,"aria-expanded":X,onKeyDown:Ce=>{Ce.key==="Enter"&&(Ce.preventDefault(),E(xe=>({...xe,selectedCardIndex:ae}))),ye(Ce,ae)},children:s.jsx(Is,{...ce,ref:Ce=>{B.current[ae]=Ce},className:we,"aria-label":`${ce["aria-label"]||ce.heading}. ${X?`Card navigation active with ${w.cardElements.length} interactive elements. Use arrow keys to navigate, Enter to activate, Escape to exit.`:"Press Enter to navigate within card elements."}`,tabIndex:Z?0:-1,onClick:()=>{E(Ce=>({...Ce,selectedCardIndex:Ce.selectedCardIndex===ae?-1:ae})),oe(J)},onKeyDown:Ce=>ye(Ce,ae),onFocus:()=>{w.isCardNavigationActive||E(Ce=>Ce.focusedCardIndex!==ae||Ce.focusArea!=="cards"?{...Ce,focusedCardIndex:ae,focusArea:"cards",focusedCardElementIndex:0,cardElements:[]}:Ce)}})})},`card-${ae}`)})}),o&&s.jsx("div",{className:"aria-tabs-datagrid-adaptive__bottom-actions",children:o}),s.jsx("div",{ref:Q,className:"aria-tabs-datagrid-adaptive__announcements","aria-hidden":"true",style:{position:"fixed",top:"-1px",left:"-1px",width:"1px",height:"1px",overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",border:0,padding:0,margin:0}})]})}return S==="hybrid"?s.jsxs("div",{className:`aria-tabs-datagrid-adaptive aria-tabs-datagrid-adaptive--hybrid ${M||""}`,children:[i&&s.jsx("div",{className:"aria-tabs-datagrid-adaptive__top-actions aria-tabs-datagrid-adaptive__top-actions--above-table",children:i}),s.jsx(si,{tabPanels:c,dataConfig:d,ariaLabel:g,ariaDescription:y,orientation:h,id:f,disabled:L,selectedIndex:p,onTabChange:m,className:"aria-tabs-datagrid-adaptive__table--hybrid",actions:l,forceActionsAbove:u,...j}),o&&s.jsx("div",{className:"aria-tabs-datagrid-adaptive__bottom-actions",children:o})]}):s.jsxs("div",{className:`aria-tabs-datagrid-adaptive aria-tabs-datagrid-adaptive--table ${M||""}`,children:[i&&s.jsx("div",{className:"aria-tabs-datagrid-adaptive__top-actions aria-tabs-datagrid-adaptive__top-actions--above-table",children:i}),s.jsx(si,{tabPanels:c,dataConfig:d,ariaLabel:g,ariaDescription:y,orientation:h,id:f,disabled:L,selectedIndex:p,onTabChange:m,actions:l,forceActionsAbove:u,...j}),o&&s.jsx("div",{className:"aria-tabs-datagrid-adaptive__bottom-actions",children:o})]})},Iu=t=>{const e=Ls.find(n=>n.value===t);return e?e.icon:null},Sy={ecommerce:{name:"E-commerce",description:"Product catalogs with pricing, inventory, and ratings",dataConfig:{dataComparator:(t,e)=>t.id===e.id,filterFunction:(t,e)=>e?t.filter(n=>{if(e.priceRange){const[r,a]=e.priceRange,i=n.discountedPrice||n.price;if(i<r||i>a)return!1}return!(e.categories&&e.categories.length>0&&!e.categories.includes(n.category)||e.inStock!==void 0&&n.inStock!==e.inStock||e.minRating!==void 0&&n.rating<e.minRating||e.tags&&e.tags.length>0&&!e.tags.some(r=>n.tags.includes(r)))}):t,booleanRenderer:t=>Iu(t),getDataId:t=>`ecommerce-${t.id}`},createTabs:t=>li(t,[{id:"all-products",label:"All Products",columns:[{key:"name",label:"Product Name"},{key:"price",label:"Price",render:n=>n.discountedPrice?`$${n.price.toFixed(2)} â†’ $${n.discountedPrice.toFixed(2)}`:`$${n.price.toFixed(2)}`},{key:"inStock",label:"Availability"},{key:"category",label:"Category"},{key:"rating",label:"Rating",render:n=>`${n.rating}/5 (${n.reviews} reviews)`}],ariaLabel:"All Products Grid",ariaDescription:"Complete product catalog with pricing and availability"},{id:"on-sale",label:"On Sale",columns:[{key:"name",label:"Product Name"},{key:"price",label:"Original Price",render:n=>`$${n.price.toFixed(2)}`},{key:"discountedPrice",label:"Sale Price",render:n=>`$${n.discountedPrice?.toFixed(2)||"N/A"}`},{key:"discount",label:"Discount",render:n=>n.discountedPrice?`${((n.price-n.discountedPrice)/n.price*100).toFixed(0)}% OFF`:"N/A"}],filter:n=>n.filter(r=>r.discountedPrice!==void 0),ariaLabel:"Sale Products Grid",ariaDescription:"Products currently on sale with discounted pricing"},{id:"high-rated",label:"Top Rated",columns:[{key:"name",label:"Product Name"},{key:"rating",label:"Rating"},{key:"reviews",label:"Reviews"},{key:"category",label:"Category"}],filter:n=>n.filter(r=>r.rating>=4),sortConfig:[{key:"rating",direction:"desc"}],ariaLabel:"Top Rated Products Grid",ariaDescription:"Highest rated products with 4+ star ratings"}])},financial:{name:"Financial",description:"Transaction data with amounts, categories, and statuses",dataConfig:{dataComparator:(t,e)=>t.id===e.id,filterFunction:(t,e)=>e?t.filter(n=>{if(e.dateRange){const[r,a]=e.dateRange;if(n.date<r||n.date>a)return!1}if(e.amountRange){const[r,a]=e.amountRange;if(Math.abs(n.amount)<r||Math.abs(n.amount)>a)return!1}return!(e.types&&e.types.length>0&&!e.types.includes(n.type)||e.categories&&e.categories.length>0&&!e.categories.includes(n.category)||e.pending!==void 0&&n.pending!==e.pending)}):t,booleanRenderer:t=>Iu(t),getDataId:t=>`financial-${t.id}`},createTabs:t=>li(t,[{id:"all-transactions",label:"All Transactions",columns:[{key:"date",label:"Date",render:n=>n.date.toLocaleDateString()},{key:"description",label:"Description"},{key:"amount",label:"Amount",render:n=>`${n.type==="credit"?"+":"-"}$${Math.abs(n.amount).toFixed(2)}`},{key:"category",label:"Category"},{key:"pending",label:"Status"}],sortConfig:[{key:"date",direction:"desc"}],ariaLabel:"All Transactions Grid",ariaDescription:"Complete transaction history with amounts and categories"},{id:"credits",label:"Credits",columns:[{key:"date",label:"Date",render:n=>n.date.toLocaleDateString()},{key:"description",label:"Description"},{key:"amount",label:"Amount",render:n=>`+$${n.amount.toFixed(2)}`},{key:"category",label:"Category"}],filter:n=>n.filter(r=>r.type==="credit"),ariaLabel:"Credit Transactions Grid",ariaDescription:"Incoming payments and credits only"},{id:"debits",label:"Debits",columns:[{key:"date",label:"Date",render:n=>n.date.toLocaleDateString()},{key:"description",label:"Description"},{key:"amount",label:"Amount",render:n=>`-$${Math.abs(n.amount).toFixed(2)}`},{key:"category",label:"Category"}],filter:n=>n.filter(r=>r.type==="debit"),ariaLabel:"Debit Transactions Grid",ariaDescription:"Outgoing payments and charges only"},{id:"pending",label:"Pending",columns:[{key:"date",label:"Date",render:n=>n.date.toLocaleDateString()},{key:"description",label:"Description"},{key:"amount",label:"Amount",render:n=>`${n.type==="credit"?"+":"-"}$${Math.abs(n.amount).toFixed(2)}`},{key:"type",label:"Type"}],filter:n=>n.filter(r=>r.pending),ariaLabel:"Pending Transactions Grid",ariaDescription:"Transactions awaiting processing"}])}},Pu=(t,e)=>{const n=Sy[t];return{dataConfig:n.dataConfig,tabPanels:n.createTabs(e)}},Lu=[{name:"Sarah Johnson",age:34,ews_data:{respiratory_rate_bpm:16,sp02:98,temperature:36.8,systolic_bp:140,heart_rate:82,avpu:"alert"},ews_score:3,ward_name:"Cardiology",room_name:"Room A",bed_name:"A-1",bed_type:"bed",admin_note:"Hypertension monitoring",pathway:"Standard",speciality:"Cardiology",consultant:"Dr. Smith",local_authority:"NHS Trust",early_discharge_notification:"not_required",needs_based_assessment:!1,medically_optimised:!0,criteria_to_reside:!0,date_medically_optimised:"2024-01-15",anticipated_discharge_date:"2024-01-18",dru_suitability:!1,optica_planned_discharge_date:"2024-01-18",optica_date_confirmed:"2024-01-16",dsum:null,medications_tta:"None required",transport_booking:!1,transport_status:"Pending",transport_date:"",transport_mobility:"Independent",fast_track:!1,initial_therapy_contact:"",equipment:"None",district_nurse_referral:!1},{name:"Michael Chen",age:67,ews_data:{respiratory_rate_bpm:20,sp02:94,temperature:37.2,systolic_bp:160,heart_rate:95,avpu:"alert"},ews_score:7,ward_name:"Surgery",room_name:"Room B",bed_name:"B-3",bed_type:"bed",admin_note:"Post-operative monitoring",pathway:"Surgical",speciality:"General Surgery",consultant:"Dr. Johnson",local_authority:"NHS Trust",early_discharge_notification:"due",needs_based_assessment:!0,medically_optimised:!1,criteria_to_reside:!0,date_medically_optimised:"2024-01-17",anticipated_discharge_date:"2024-01-20",dru_suitability:!0,optica_planned_discharge_date:"2024-01-20",optica_date_confirmed:"2024-01-16",dsum:"Complex discharge",medications_tta:"Pain management",transport_booking:!0,transport_status:"In Progress",transport_date:"2024-01-20",transport_mobility:"Wheelchair",fast_track:!1,initial_therapy_contact:"2024-01-17",equipment:"Walking frame",district_nurse_referral:!0},{name:"Emma Thompson",age:28,ews_data:{respiratory_rate_bpm:24,sp02:90,temperature:38.5,systolic_bp:110,heart_rate:105,avpu:"alert"},ews_score:5,ward_name:"Respiratory",room_name:"Room C",bed_name:"C-2",bed_type:"bed",admin_note:"Pneumonia treatment",pathway:"Respiratory",speciality:"Respiratory Medicine",consultant:"Dr. Williams",local_authority:"NHS Trust",early_discharge_notification:"overdue",needs_based_assessment:!0,medically_optimised:!1,criteria_to_reside:!1,date_medically_optimised:"",anticipated_discharge_date:"2024-01-22",dru_suitability:!1,optica_planned_discharge_date:"2024-01-22",optica_date_confirmed:"",dsum:null,medications_tta:"Antibiotics",transport_booking:!1,transport_status:"Pending",transport_date:"",transport_mobility:"Independent",fast_track:!0,initial_therapy_contact:"",equipment:"Oxygen",district_nurse_referral:!1}],ky=[{id:"appt-001",appointment_time:"2024-01-18T09:00:00Z",patient_name:"Sarah Johnson",appointment_type:"Cardiology Consultation",consultant:"Dr. Smith",location:"Clinic Room 3",duration:30,status:"pending"},{id:"appt-002",appointment_time:"2024-01-18T10:30:00Z",patient_name:"Michael Davis",appointment_type:"Post-op Follow-up",consultant:"Dr. Johnson",location:"Surgery Ward",duration:15,status:"active"},{id:"appt-003",appointment_time:"2024-01-18T14:00:00Z",patient_name:"Emma Thompson",appointment_type:"Respiratory Assessment",consultant:"Dr. Wilson",location:"Emergency Department",duration:45,status:"pending"}],Cy=[{id:"med-001",medication:"Amlodipine",dose:"5mg",frequency:"Once daily",route:"Oral",next_due:"2024-01-18T08:00:00Z",prescriber:"Dr. Smith",patient_name:"Sarah Johnson",allergies:null,priority:"medium"},{id:"med-002",medication:"Morphine",dose:"10mg",frequency:"Every 4 hours",route:"IV",next_due:"2024-01-18T10:00:00Z",prescriber:"Dr. Johnson",patient_name:"Michael Davis",allergies:"Codeine allergy",priority:"high"},{id:"med-003",medication:"Salbutamol",dose:"2 puffs",frequency:"As needed",route:"Inhaled",next_due:"2024-01-18T12:00:00Z",prescriber:"Dr. Wilson",patient_name:"Emma Thompson",allergies:null,priority:"high"}],Ty=[{id:"vitals-001",patient_name:"Sarah Johnson",recorded_time:"2024-01-18T07:30:00Z",temperature:36.8,blood_pressure:"140/90",heart_rate:82,respiratory_rate:16,oxygen_saturation:98,ews_score:3,priority:"medium"},{id:"vitals-002",patient_name:"Michael Davis",recorded_time:"2024-01-18T08:15:00Z",temperature:37.2,blood_pressure:"130/85",heart_rate:98,respiratory_rate:20,oxygen_saturation:95,ews_score:7,priority:"high"},{id:"vitals-003",patient_name:"Emma Thompson",recorded_time:"2024-01-18T09:00:00Z",temperature:38.5,blood_pressure:"110/70",heart_rate:105,respiratory_rate:24,oxygen_saturation:90,ews_score:9,priority:"high"}],Fu=[{id:"PROD001",name:"Wireless Headphones",price:199.99,discountedPrice:149.99,inStock:!0,category:"Electronics",rating:4.5,reviews:1247,tags:["wireless","bluetooth","premium"]},{id:"PROD002",name:"Running Shoes",price:129.99,inStock:!0,category:"Sports",rating:4.8,reviews:892,tags:["running","athletic","comfortable"]},{id:"PROD003",name:"Coffee Maker",price:89.99,discountedPrice:59.99,inStock:!1,category:"Kitchen",rating:4.2,reviews:456,tags:["kitchen","coffee","appliance"]},{id:"PROD004",name:"Smartphone Case",price:24.99,inStock:!0,category:"Accessories",rating:4,reviews:234,tags:["protection","mobile","durable"]}],Bu=[{id:"TXN001",date:new Date("2024-01-15"),amount:2500,type:"credit",category:"Salary",description:"Monthly salary payment",accountId:"ACC001",pending:!1,recurring:!0},{id:"TXN002",date:new Date("2024-01-14"),amount:89.5,type:"debit",category:"Groceries",description:"Supermarket shopping",accountId:"ACC001",pending:!1,recurring:!1},{id:"TXN003",date:new Date("2024-01-16"),amount:1200,type:"debit",category:"Rent",description:"Monthly rent payment",accountId:"ACC001",pending:!0,recurring:!0},{id:"TXN004",date:new Date("2024-01-13"),amount:150,type:"credit",category:"Refund",description:"Product return refund",accountId:"ACC001",pending:!1,recurring:!1}],Au=[{id:"LEAD001",companyName:"Tech Solutions Inc",contactPerson:"John Smith",email:"john@techsolutions.com",status:"qualified",value:5e4,lastContact:new Date("2024-01-15"),source:"Website",isHotLead:!0},{id:"LEAD002",companyName:"Global Industries",contactPerson:"Maria Garcia",email:"maria@globalind.com",status:"contacted",value:25e3,lastContact:new Date("2024-01-14"),source:"Referral",isHotLead:!1},{id:"LEAD003",companyName:"StartupXYZ",contactPerson:"Alex Johnson",email:"alex@startupxyz.com",status:"new",value:15e3,lastContact:new Date("2024-01-16"),source:"Cold Call",isHotLead:!0}],Ny={dataComparator:(t,e)=>t.id===e.id,filterFunction:(t,e)=>e?t.filter(n=>!(e.status&&!e.status.includes(n.status)||e.minValue&&n.value<e.minValue||e.hotLeadsOnly&&!n.isHotLead)):t,booleanRenderer:t=>s.jsx("span",{style:{color:t?"#dc2626":"#6b7280",fontWeight:t?"bold":"normal"},children:t?"ðŸ”¥ Hot Lead":"ðŸ“‹ Standard"}),getDataId:t=>`business-${t.id}`},jy=()=>[{id:"patients",label:"Patients",data:Lu,columns:[{key:"name",label:"Patient Name"},{key:"age",label:"Age"},{key:"ward_name",label:"Ward"},{key:"ews_score",label:"EWS Score"}],ariaLabel:"Patient Records",ariaDescription:"Healthcare patient management with EWS monitoring",cardTemplate:(t,e)=>s.jsx(Fs,{data:t,columns:e,onSelect:n=>console.log("Selected patient:",n),onAction:(n,r)=>console.log("Patient action:",n,r),priority:t.ews_score>=7?"high":t.ews_score>=3?"medium":"low"})},{id:"appointments",label:"Appointments",data:ky,columns:[{key:"appointment_time",label:"Time"},{key:"patient_name",label:"Patient"},{key:"appointment_type",label:"Type"},{key:"consultant",label:"Consultant"}],ariaLabel:"Patient Appointments",ariaDescription:"Scheduled appointments and consultations",cardTemplate:(t,e)=>s.jsx(Bs,{data:t,columns:e,onSelect:n=>console.log("Selected appointment:",n),onAction:(n,r)=>console.log("Appointment action:",n,r),status:t.status})},{id:"medications",label:"Medications",data:Cy,columns:[{key:"medication",label:"Medication"},{key:"dose",label:"Dose"},{key:"frequency",label:"Frequency"},{key:"next_due",label:"Next Due"}],ariaLabel:"Patient Medications",ariaDescription:"Medication administration and scheduling",cardTemplate:(t,e)=>s.jsx(As,{data:t,columns:e,onSelect:n=>console.log("Selected medication:",n),onAction:(n,r)=>console.log("Medication action:",n,r),priority:t.priority})},{id:"vitals",label:"Vital Signs",data:Ty,columns:[{key:"patient_name",label:"Patient"},{key:"recorded_time",label:"Time"},{key:"temperature",label:"Temperature"},{key:"ews_score",label:"EWS Score"}],ariaLabel:"Patient Vital Signs",ariaDescription:"Patient vital signs monitoring and EWS scores",cardTemplate:(t,e)=>s.jsx(Es,{data:t,columns:e,onSelect:n=>console.log("Selected vitals:",n),onAction:(n,r)=>console.log("Vitals action:",n,r),priority:t.ews_score>=7?"high":t.ews_score>=3?"medium":"low"})}],Dy=()=>{const[t,e]=A.useState("healthcare"),n=A.useMemo(()=>({healthcare:{title:"Healthcare Workflow Management",description:"Comprehensive healthcare workflow with patient cards, appointments, medications, and vitals",dataConfig:Cu,tabPanels:jy(),data:Lu},ecommerce:{title:"E-commerce Product Catalog",description:"Product management with pricing and inventory",...Pu("ecommerce",Fu),data:Fu},financial:{title:"Financial Transaction Dashboard",description:"Banking and financial data management",...Pu("financial",Bu),data:Bu},business:{title:"Sales Lead Management",description:"Custom CRM configuration with business logic",dataConfig:Ny,tabPanels:li(Au,[{id:"all-leads",label:"All Leads",columns:[{key:"companyName",label:"Company"},{key:"contactPerson",label:"Contact"},{key:"status",label:"Status"},{key:"value",label:"Value",render:a=>`$${a.value.toLocaleString()}`},{key:"isHotLead",label:"Priority"}],ariaLabel:"All Sales Leads Grid",ariaDescription:"Complete sales pipeline with lead information"},{id:"hot-leads",label:"Hot Leads",columns:[{key:"companyName",label:"Company"},{key:"contactPerson",label:"Contact"},{key:"value",label:"Value",render:a=>`$${a.value.toLocaleString()}`},{key:"lastContact",label:"Last Contact",render:a=>a.lastContact.toLocaleDateString()}],filter:a=>a.filter(i=>i.isHotLead),sortConfig:[{key:"value",direction:"desc"}],ariaLabel:"Hot Leads Grid",ariaDescription:"High-priority leads requiring immediate attention"},{id:"pipeline",label:"Active Pipeline",columns:[{key:"companyName",label:"Company"},{key:"status",label:"Status"},{key:"value",label:"Value",render:a=>`$${a.value.toLocaleString()}`},{key:"source",label:"Source"}],filter:a=>a.filter(i=>["contacted","qualified"].includes(i.status)),ariaLabel:"Active Pipeline Grid",ariaDescription:"Leads currently in the sales pipeline"}]),data:Au}}),[]),r=n[t];return s.jsxs("div",{style:{padding:"2rem",maxWidth:"1200px",margin:"0 auto"},children:[s.jsxs("div",{style:{marginBottom:"2rem"},children:[s.jsx("h1",{style:{fontSize:"2rem",fontWeight:"bold",marginBottom:"1rem",color:"#1f2937"},children:"AriaTabsDataGrid - Comprehensive Demo"}),s.jsx("p",{style:{fontSize:"1.1rem",color:"#6b7280",marginBottom:"2rem",lineHeight:"1.6"},children:"This demo showcases the component's versatility across different domains: healthcare, e-commerce, financial services, and custom business applications. Each configuration demonstrates domain-specific data operations, custom renderers, and specialized filtering logic."}),s.jsx("div",{style:{display:"flex",gap:"1rem",marginBottom:"2rem",flexWrap:"wrap"},children:Object.keys(n).map(a=>s.jsx(rt,{variant:t===a?"primary":"secondary",onClick:()=>e(a),style:{textTransform:"capitalize"},children:a},a))}),s.jsxs("div",{style:{backgroundColor:"#f8fafc",border:"1px solid #e2e8f0",borderRadius:"0.5rem",padding:"1.5rem",marginBottom:"2rem"},children:[s.jsx("h2",{style:{fontSize:"1.5rem",fontWeight:"600",marginBottom:"0.5rem",color:"#1e293b"},children:r.title}),s.jsx("p",{style:{color:"#64748b",marginBottom:"1rem"},children:r.description}),s.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:"1rem",fontSize:"0.9rem"},children:[s.jsxs("div",{children:[s.jsx("strong",{children:"Data Records:"})," ",r.data.length]}),s.jsxs("div",{children:[s.jsx("strong",{children:"Tab Panels:"})," ",r.tabPanels.length]}),s.jsxs("div",{children:[s.jsx("strong",{children:"Features:"})," ",["Row Selection","Custom Filtering","Domain-Specific Renderers","Keyboard Navigation","ARIA Compliance"].join(", ")]})]})]})]}),s.jsx(si,{dataConfig:r.dataConfig,tabPanels:r.tabPanels,ariaLabel:`${r.title} Data Grid`,ariaDescription:`Interactive data grid for ${r.description.toLowerCase()}`}),s.jsxs("div",{style:{marginTop:"3rem",padding:"1.5rem",backgroundColor:"#f1f5f9",borderRadius:"0.5rem",border:"1px solid #cbd5e1"},children:[s.jsx("h3",{style:{fontSize:"1.25rem",fontWeight:"600",marginBottom:"1rem",color:"#334155"},children:"Implementation Details"}),s.jsxs("div",{style:{display:"grid",gap:"1rem",fontSize:"0.9rem"},children:[s.jsxs("div",{children:[s.jsx("strong",{children:"Current Mode:"})," ",t," configuration"]}),s.jsxs("div",{children:[s.jsx("strong",{children:"Data Operations:"})," Custom comparator, filter function, and boolean renderer"]}),s.jsxs("div",{children:[s.jsx("strong",{children:"Architecture:"})," Generic core with domain-specific plugins and factory helpers"]}),s.jsxs("div",{children:[s.jsx("strong",{children:"State Management:"})," Global row selection with data-object persistence"]}),s.jsxs("div",{children:[s.jsx("strong",{children:"Accessibility:"})," Full ARIA support with dynamic labels and descriptions"]})]})]})]})},Rs=t=>s.jsx(is,{...t}),My=({children:t,pageTitle:e,pageHeadingProps:n,columnWidth:r="two-thirds",mainWrapperSize:a,skipLinkProps:i,headerProps:o,footerProps:l,service:u,navigation:c,search:d,account:p,organisation:m,logo:g,className:y,...h})=>{const f={service:u,navigation:c,search:d,account:p,organisation:m,logo:g,...o};return s.jsxs(s.Fragment,{children:[s.jsx($s,{...i}),s.jsx(Oa,{...f}),s.jsx(Rs,{className:y,...h,children:s.jsx(ss,{size:a,children:s.jsx(_n,{children:s.jsxs(Qn,{width:r,children:[e&&s.jsx(At,{size:"l",...n,children:e}),t]})})})}),s.jsx(ls,{...l})]})},$y=({children:t,pageTitle:e,pageHeadingProps:n,columnWidth:r="two-thirds",mainWrapperSize:a="small",skipLinkProps:i,headerProps:o,footerProps:l,backLinkProps:u,serviceName:c,serviceHref:d,logo:p,className:m,...g})=>{const y={service:{text:c,href:d},logo:p,navigation:void 0,search:void 0,account:void 0,...o};return s.jsxs(s.Fragment,{children:[s.jsx($s,{...i}),s.jsx(Oa,{...y}),s.jsxs(Rs,{className:m,...g,children:[u&&s.jsx(Ba,{...u}),s.jsx(ss,{size:a,children:s.jsx(_n,{children:s.jsxs(Qn,{width:r,children:[e&&s.jsx(At,{size:"l",...n,children:e}),t]})})})]}),s.jsx(ls,{...l})]})},Eu=({text:t="Next",html:e,href:n="#",className:r,element:a="a",onClick:i,...o})=>{const l=ge("nhsuk-back-link",r),u=ge("nhsuk-back-link__link"),c=()=>s.jsxs("span",{style:{display:"inline-flex",alignItems:"center",gap:4},children:[e?s.jsx("span",{dangerouslySetInnerHTML:{__html:e}}):t,s.jsx("svg",{className:"nhsuk-icon nhsuk-icon__chevron-right",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24","aria-hidden":"true",height:"24",width:"24",children:s.jsx("path",{d:"M15.5 12c0 .3-.1.5-.3.7l-5 5c-.4.4-1 .4-1.4 0s-.4-1 0-1.4L13.1 12 8.8 7.7c-.4-.4-.4-1 0-1.4s1-.4 1.4 0l5 5c.2.2.3.4.3.7z"})})]});return s.jsx("div",{className:l,children:a==="button"?s.jsx("button",{className:u,type:"button",onClick:i,...o,children:c()}):s.jsx("a",{className:u,href:n,...o,children:c()})})};Eu.displayName="ForwardLink";const or=Object.freeze({small:320,smallMax:767,medium:768,large:1025,xlarge:1200,xxlarge:1440});function Hu(){return typeof window>"u"?or.small:window.innerWidth||document.documentElement.clientWidth||0}function Os(){const[t,e]=K.useState(Hu());K.useEffect(()=>{if(typeof window>"u")return;const i=()=>e(Hu());return window.addEventListener("resize",i),()=>window.removeEventListener("resize",i)},[]);const n=K.useCallback(i=>t>=or[i],[t]),r=K.useCallback(i=>t<or[i],[t]),a=K.useCallback((i,o)=>t>=or[i]&&t<or[o],[t]);return{width:t,up:n,down:r,between:a,values:or}}function Iy(t){const{width:e,values:n}=Os();let r=t.base;const a=["small","medium","large","xlarge","xxlarge"];for(const i of a){const o=n[i];e>=o&&t[i]!==void 0&&(r=t[i])}return r}function Ru(t={}){const{enabled:e=!0,paramSelected:n="nsv",paramDrill:r="nsvDrill"}=t,[a,i]=K.useState(()=>typeof window>"u"||!e?void 0:new URLSearchParams(window.location.search).get(n)),[o,l]=K.useState(()=>typeof window>"u"||!e?!1:new URLSearchParams(window.location.search).get(r)==="1");return K.useEffect(()=>{if(!e||typeof window>"u")return;const u=new URLSearchParams(window.location.search);a?u.set(n,String(a)):u.delete(n),u.set(r,o?"1":"0");const c=`${window.location.pathname}?${u.toString()}${window.location.hash}`;window.history.replaceState(null,"",c)},[a,o,e,n,r]),{selectedId:a,setSelectedId:i,drilledIn:o,setDrilledIn:l}}const Py=({className:t})=>s.jsx("svg",{className:t,width:"16",height:"16",viewBox:"0 0 16 16","aria-hidden":"true",focusable:"false",children:s.jsx("path",{fill:"currentColor",d:"M10.7 3.3a1 1 0 0 1 0 1.4L7.41 8l3.3 3.3a1 1 0 1 1-1.42 1.4l-4-4a1 1 0 0 1 0-1.4l4-4a1 1 0 0 1 1.42 0Z"})}),Ly=({className:t})=>s.jsx("svg",{className:t,width:"16",height:"16",viewBox:"0 0 16 16","aria-hidden":"true",focusable:"false",children:s.jsx("path",{fill:"currentColor",d:"M5.3 12.7a1 1 0 0 1 0-1.4L8.59 8l-3.3-3.3a1 1 0 0 1 1.42-1.4l4 4a1 1 0 0 1 0 1.4l-4 4a1 1 0 0 1-1.42 0Z"})});function Ou(t){const{items:e,selectedId:n,defaultSelectedId:r,onSelectionChange:a,renderItemContent:i,renderContent:o,renderSecondaryContent:l,forceLayout:u,animated:c=!0,backLabel:d="Back",nextLabel:p="Next",isLoading:m=!1,emptyState:g,a11y:y,className:h,getId:f=he=>he.id,orientation:L="vertical",autoEnableThirdColumn:M=!0,onDrillChange:j,navigationInstructions:S="Use arrow keys to navigate, Enter to open.",initialFocus:N="first",skipFocusOnSelect:k=!1,skipAnnouncements:$=!1,onFocusChange:v,syncUrl:b=!1,urlParamSelected:D="nsv",urlParamDrill:x="nsvDrill",urlSyncDebounceMs:C=0,lazySecondary:B=!1,navFooter:I,collapsibleNav:P=!1,navInitiallyCollapsed:w=!1,onNavCollapseChange:E,collapseToggleLabelShow:te="Show navigation",collapseToggleLabelHide:z="Hide navigation",collapseToggleIconShow:W,collapseToggleIconHide:G,persistNavCollapsed:H,navCollapsedStorageKey:oe="nsvCollapsed",navCollapsedUrlParam:T="nsvCollapsed",autoContentHeader:O,contentHeaderLevel:Q=2,renderContentHeader:re,contentSubheader:q,secondarySubheader:R}=t,{up:V}=Os(),[le,U]=K.useState(!1);K.useEffect(()=>{U(!0)},[]);const de=le&&V("medium"),ie=le&&V("xlarge");let ue;u?ue=u:de?ue="two-column":ue="list",!u&&M&&l&&ie&&(ue="three-column");const fe=Ru({enabled:b,paramSelected:D,paramDrill:x}),[ye,De]=K.useState(()=>fe.selectedId!==void 0?fe.selectedId:r),ke=n!==void 0?n:ye,me=e.find(he=>f(he)===ke),[ee,J]=K.useState(void 0);K.useEffect(()=>{if(ke===void 0)return;J(ke);const he=setTimeout(()=>J(void 0),220);return()=>clearTimeout(he)},[ke]);const ae=K.useRef(null),Y=K.useRef(null),F=K.useRef(null),X=K.useRef(null),[se,Z]=K.useState(()=>({contentIndex:0,secondaryIndex:0})),[ne,ce]=K.useState(()=>"nav"),[we,Ce]=K.useState(0),xe=()=>[X.current,Y.current,F.current].filter(Boolean),Ne=he=>{const ve=xe(),be=Math.max(0,Math.min(he,ve.length-1));ve[be]?.focus(),Ce(be)},_e=K.useCallback(he=>he?Array.from(he.querySelectorAll('button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])')).filter(be=>!be.hasAttribute("disabled")&&be.tabIndex!==-1):[],[]),Se=K.useCallback(he=>{const ve=_e(Y.current);if(!ve.length){Y.current?.focus();return}const be=Math.max(0,Math.min(he,ve.length-1)),je=ve[be];je.focus(),setTimeout(()=>{document.activeElement!==je&&(je.focus(),setTimeout(()=>{document.activeElement!==je&&je.click()},10))},10),Z(He=>({...He,contentIndex:be}));const Ye=He=>{He.key==="Escape"&&(He.preventDefault(),He.stopPropagation(),Y.current?.focus(),je.removeEventListener("keydown",Ye))};ve.forEach(He=>{const Oe=He._escapeHandler;Oe&&He.removeEventListener("keydown",Oe)}),je._escapeHandler=Ye,je.addEventListener("keydown",Ye)},[_e]),Ie=K.useCallback(he=>{const ve=_e(F.current);if(!ve.length){F.current?.focus();return}const be=Math.max(0,Math.min(he,ve.length-1)),je=ve[be];je.focus(),setTimeout(()=>{document.activeElement!==je&&(je.focus(),setTimeout(()=>{document.activeElement!==je&&je.click()},10))},10),Z(He=>({...He,secondaryIndex:be}));const Ye=He=>{He.key==="Escape"&&(He.preventDefault(),He.stopPropagation(),F.current?.focus(),je.removeEventListener("keydown",Ye))};ve.forEach(He=>{const Oe=He._escapeHandler;Oe&&He.removeEventListener("keydown",Oe)}),je._escapeHandler=Ye,je.addEventListener("keydown",Ye)},[_e]),et=he=>{if(he.defaultPrevented)return;const ve=he.key,be=he.target,je=!!ut.current&&ut.current.contains(be),Ye=!!Y.current&&Y.current.contains(be),He=!!F.current&&F.current.contains(be),Oe=!!F.current,Tr=be===X.current||be===Y.current||be===F.current,Jn=Ee&&(ue==="list"||ue==="cards"),ts=Ye&&!!be.closest(".nhs-navigation-split-view__header");if(ne==="containers"&&Tr){if(ve==="ArrowRight"){he.preventDefault();const Me=xe(),ze=Math.min(Me.length-1,we+1);Ne(ze);return}if(ve==="ArrowLeft"){he.preventDefault();const Me=Math.max(0,we-1);Ne(Me);return}if(ve==="Home"){he.preventDefault(),Ne(0);return}if(ve==="End"){he.preventDefault(),Ne(xe().length-1);return}if(ve==="Enter"||ve===" "){if(he.preventDefault(),be===X.current){if(ce("nav"),ut.current){const Me=Array.from(ut.current.querySelectorAll("[data-nav-item]"));(Me[Ze>=0?Ze:0]||Me[0])?.focus()}}else be===Y.current?(ce("content"),Se(se.contentIndex)):be===F.current&&(ce("secondary"),Ie(se.secondaryIndex));return}return}if(ve==="Escape"){if(ne==="content"||ne==="secondary"){if(Ye||He){if(he.preventDefault(),ce("nav"),ut.current){const ze=Array.from(ut.current.querySelectorAll("[data-nav-item]"))[Ze>=0?Ze:0];setTimeout(()=>ze?.focus(),10)}}else if((be===Y.current||be===F.current)&&(he.preventDefault(),ce("nav"),ut.current)){const ze=Array.from(ut.current.querySelectorAll("[data-nav-item]"))[Ze>=0?Ze:0];setTimeout(()=>ze?.focus(),10)}}return}if(ve==="Enter"||ve===" "){if(be.matches('button, a, input, select, textarea, [role="button"], [role="link"], [role="tab"]'))return;if(be===Y.current&&ne==="content"){he.preventDefault(),he.stopPropagation(),_e(Y.current).length>0&&setTimeout(()=>{Se(se.contentIndex)},50);return}if(be===F.current&&ne==="secondary"){he.preventDefault(),he.stopPropagation(),_e(F.current).length>0&&setTimeout(()=>{Ie(se.secondaryIndex)},50);return}}if(Jn&&ts&&!Tr&&(ve==="ArrowRight"||ve==="ArrowLeft")){const Me=_e(Y.current).filter(ze=>ze.closest(".nhs-navigation-split-view__header"));if(Me.length>1){const ze=Me.indexOf(be);if(ze>=0){const Dg=(ze+(ve==="ArrowRight"?1:-1)+Me.length)%Me.length;he.preventDefault(),Me[Dg].focus();return}}}if(ve==="ArrowRight"){if(je||ne==="nav"){he.preventDefault(),ce("content"),setTimeout(()=>Y.current?.focus(),10);return}if(Ye||ne==="content"){Oe&&(he.preventDefault(),ce("secondary"),setTimeout(()=>F.current?.focus(),10));return}}if(ve==="ArrowLeft"){if(He||ne==="secondary"){he.preventDefault(),ce("content"),setTimeout(()=>Y.current?.focus(),10);return}if(Ye||ne==="content"){if(he.preventDefault(),ce("nav"),ut.current){const ze=Array.from(ut.current.querySelectorAll("[data-nav-item]"))[Ze>=0?Ze:0];setTimeout(()=>ze?.focus(),10)}return}}if(ve==="Home"&&!je&&(he.preventDefault(),ce("nav"),ut.current)){const Me=Array.from(ut.current.querySelectorAll("[data-nav-item]")),ze=Me[Ze>=0?Ze:0]||Me[0];setTimeout(()=>ze?.focus(),10)}if(ve==="End"){const Me=Oe?F.current:Y.current;Me&&!Me.contains(be)&&(he.preventDefault(),Oe?(ce("secondary"),setTimeout(()=>F.current?.focus(),10)):(ce("content"),setTimeout(()=>Y.current?.focus(),10)))}if(ve==="ArrowDown"||ve==="ArrowUp"){if(be===Y.current&&ve==="ArrowDown"){he.preventDefault(),_e(Y.current).length>0&&Se(0);return}if(be===F.current&&ve==="ArrowDown"){he.preventDefault(),_e(F.current).length>0&&Ie(0);return}if(Ye){const Me=_e(Y.current);if(Me.length){he.preventDefault();const ze=ve==="ArrowDown"?1:-1,rn=(se.contentIndex+ze+Me.length)%Me.length;Se(rn)}}else if(He){const Me=_e(F.current);if(Me.length){he.preventDefault();const ze=ve==="ArrowDown"?1:-1,rn=(se.secondaryIndex+ze+Me.length)%Me.length;Ie(rn)}}}},Ee=!!me&&(ue==="list"||ue==="cards"),mt=K.useMemo(()=>O===void 0?{mobile:!0,tablet:!1,desktop:!1}:O===!0?{mobile:!0,tablet:!0,desktop:!0}:O===!1?{mobile:!1,tablet:!1,desktop:!1}:{mobile:O.mobile!==void 0?O.mobile:!0,tablet:O.tablet||!1,desktop:O.desktop||!1},[O]),$n=le&&V("medium")&&!V("xlarge"),pn=le&&V("xlarge"),tn=!!l,nt=ue==="three-column",[ot,Pa]=K.useState(!1);K.useEffect(()=>{nt&&ot&&Pa(!1)},[nt,ot]),K.useEffect(()=>{ot&&!nt&&(ce("secondary"),Ce(2),setTimeout(()=>{F.current?.focus()},50))},[ot,nt]),K.useEffect(()=>{!ot&&!nt&&ne==="secondary"&&(ce("content"),Ce(1),setTimeout(()=>{Y.current?.focus()},50))},[ot,nt,ne]);const Xl=!!me&&(Ee&&mt.mobile||!Ee&&$n&&mt.tablet||!Ee&&pn&&mt.desktop)||tn&&!nt,cw=`h${Q}`,Kl=me?K.createElement(cw,{style:{marginLeft:Ee?32:0,marginRight:Ee?32:0}},me.label):null,Ng=Ee?"mobile":$n?"tablet":"desktop",uw=tn&&!nt&&!ot,Zl=Ee&&mt.mobile?s.jsx(Ba,{element:"button",text:d,style:{marginRight:16},onClick:()=>Cr(void 0,void 0)}):void 0,Jl=uw?s.jsx(Eu,{element:"button",text:p,onClick:()=>{Pa(!0)}}):void 0,Ql=!nt&&ot?s.jsx(Ba,{element:"button",text:d,style:{marginRight:16},onClick:()=>Pa(!1)}):void 0,dw=K.useMemo(()=>{if(!Xl||!me)return null;if(re)return re({item:me,detailActive:Ee,context:Ng,backLink:Zl,defaultHeading:Kl});const he=me&&q?typeof q=="function"?q(me):q:null;return s.jsxs("div",{style:{display:"flex",alignItems:"center",width:"100%"},children:[s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:0,flex:"1 1 auto",minWidth:0},children:[Ql||Zl,s.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:4,minWidth:0},children:[Kl,he&&s.jsx("div",{className:"nhs-navigation-split-view__subheader",children:he})]})]}),Jl&&s.jsx("div",{style:{marginLeft:"auto"},children:Jl})]})},[Xl,me,re,Ee,Ng,Zl,Ql,Kl,Jl,q]);K.useEffect(()=>{if(!b)return;const he=ue==="three-column";let ve=!1;const be=()=>{ve||(fe.selectedId!==ke&&fe.setSelectedId(ke),fe.drilledIn!==he&&fe.setDrilledIn(he))};if(C&&C>0){const je=setTimeout(be,C);return()=>{ve=!0,clearTimeout(je)}}else be()},[b,fe,ke,ue,C]),K.useEffect(()=>{if(!b)return;const he=()=>{const ve=new URLSearchParams(window.location.search),be=ve.get(D);ve.get(x),De(be===null?void 0:be)};return window.addEventListener("popstate",he),()=>window.removeEventListener("popstate",he)},[b,D,x,u,l]);const es=K.useRef(0),mn=K.useRef(null),Cr=K.useCallback((he,ve)=>{he!==ke&&(n===void 0&&De(he),a?.(he,ve))},[n,a,ke]);K.useEffect(()=>{if(!k&&Ee&&Y.current){const he=setTimeout(()=>Y.current?.focus(),30);return()=>clearTimeout(he)}},[Ee,ke,k]);const ut=K.useRef(null),[Ze,La]=K.useState(()=>N==="first"?0:-1);K.useEffect(()=>{if(Ze<0||!ut.current)return;const ve=Array.from(ut.current.querySelectorAll("[data-nav-item]"))[Ze];if(ve){document.activeElement!==ve&&ve.focus(),es.current=Ze;const be=e[Ze];v?.(be?f(be):void 0,be,Ze)}},[Ze,e,v,f]);const fw=he=>{const ve=L==="vertical"?"ArrowDown":"ArrowRight",be=L==="vertical"?"ArrowUp":"ArrowLeft";if(he.key==="ArrowRight"&&L==="vertical"){he.preventDefault(),ot?(ce("secondary"),setTimeout(()=>{F.current?.focus()},10)):(ce("content"),setTimeout(()=>{Y.current?.focus()},10));return}if(he.key===ve)he.preventDefault(),La(je=>Math.min(e.length-1,je+1));else if(he.key===be)he.preventDefault(),La(je=>Math.max(0,je-1));else if(he.key==="Home")he.preventDefault(),La(0);else if(he.key==="End")he.preventDefault(),La(e.length-1);else if(he.key==="Enter"||he.key===" "){he.preventDefault();const je=e[Ze];je&&!je.disabled&&Cr(f(je),je)}else if(he.key.length===1&&/[a-z0-9]/i.test(he.key)){mn.current||(mn.current={buffer:"",last:0});const je=Date.now(),Ye=700,He=he.key.toLowerCase();je-mn.current.last>Ye?mn.current.buffer=He:mn.current.buffer+=He,mn.current.last=je;let Oe=mn.current.buffer;const Tr=Oe.split("").every(rn=>rn===Oe[0]),Jn=e.map(rn=>String(rn.label||"").toLowerCase());let ts=0;Ze>=0&&(ts=(Ze+1)%e.length);let Me;const ze=(rn,Dg)=>{const Mg=e.length;for(let nc=0;nc<Mg;nc++){const rc=(ts+nc)%Mg;if(!e[rc].disabled&&Jn[rc].startsWith(rn))return rc}};Tr&&Oe.length>1?Me=ze(Oe[0]):(Me=ze(Oe),Me===void 0&&Oe.length>1&&(Me=ze(Oe[Oe.length-1]),Me!==void 0&&mn.current&&(mn.current.buffer=Oe[Oe.length-1]))),Me!==void 0&&La(Me)}},hw=K.useMemo(()=>{if(H&&(H==="url"||H==="both")&&typeof window<"u"){const ve=new URLSearchParams(window.location.search).get(T);if(ve==="1")return!0;if(ve==="0")return!1}if(H&&(H==="localStorage"||H==="both")&&typeof window<"u")try{const he=window.localStorage.getItem(oe);if(he==="1")return!0;if(he==="0")return!1}catch{}return w},[H,w,oe,T]),[nn,pw]=K.useState(hw);K.useEffect(()=>{E?.(nn)},[nn,E]);const mw=K.useCallback(()=>{de&&P&&pw(he=>!he)},[de,P]);K.useEffect(()=>{if(H&&!(typeof window>"u")){if(H==="localStorage"||H==="both")try{window.localStorage.setItem(oe,nn?"1":"0")}catch{}if(H==="url"||H==="both"){const he=new URLSearchParams(window.location.search);he.set(T,nn?"1":"0");const ve=`${window.location.pathname}?${he.toString()}${window.location.hash}`;window.history.replaceState(null,"",ve)}}},[nn,H,oe,T]);const gw=["nhs-navigation-split-view",c?"nhs-navigation-split-view--animated":"",Ee?"nhs-navigation-split-view--detail-active":"",ue==="three-column"?"nhs-navigation-split-view--three-column":"",P&&de&&nn?"nhs-navigation-split-view--nav-collapsed":"",h].filter(Boolean).join(" "),ec=K.useRef(null);K.useEffect(()=>{if(!$&&ec.current){const he=me?`Selected ${me.label}`:"Selection cleared";ec.current.textContent=he}},[me,$]),K.useEffect(()=>{!Ee&&ke==null&&ut.current&&ut.current.querySelectorAll("[data-nav-item]")[es.current]?.focus()},[Ee,ke]);const In=ue==="three-column",[tc,_w]=K.useState(!1);K.useEffect(()=>{In&&!tc&&_w(!0)},[In,tc]);const jg=K.useRef(In);K.useEffect(()=>{jg.current!==In&&(j?.(In),jg.current=In)},[In,j]);const bw=()=>{if(ue==="cards")return s.jsxs("ul",{className:"nhs-navigation-split-view__cards",role:"listbox","aria-activedescendant":ke?String(ke):void 0,children:[e.map(be=>{const je=f(be),Ye=je===ke;return s.jsx("li",{className:"nhs-navigation-split-view__card-item",role:"option","aria-selected":Ye,children:s.jsxs("button",{id:String(je),type:"button",className:"nhs-navigation-split-view__card","data-selected":Ye||void 0,"data-disabled":be.disabled||void 0,disabled:be.disabled,onClick:()=>!be.disabled&&Cr(je,be),children:[be.icon&&s.jsx("span",{className:"nhs-navigation-split-view__item-icon",children:be.icon}),s.jsx("span",{className:"nhs-navigation-split-view__item-label",children:be.label}),be.description&&s.jsx("span",{className:"nhs-navigation-split-view__item-description",children:be.description}),i?.(be),be.badge!==void 0&&s.jsx("span",{className:"nhs-navigation-split-view__badge",children:be.badge})]})},je)}),e.length===0&&!m&&s.jsx("li",{className:"nhs-navigation-split-view__card-item","aria-disabled":"true",children:g||s.jsx("div",{style:{padding:16},children:"No items"})})]});const he="nsv-nav-instructions",ve=K.useMemo(()=>K.memo(({item:be,idx:je,selected:Ye,focused:He})=>{const Oe=f(be),Tr=be.disabled?{"aria-disabled":!0,tabIndex:-1}:{tabIndex:He?0:-1,onClick:()=>{es.current=je,Cr(Oe,be)},onKeyDown:Jn=>{(Jn.key==="Enter"||Jn.key===" ")&&(Jn.preventDefault(),es.current=je,Cr(Oe,be))}};return s.jsxs("li",{id:String(Oe),"data-nav-item":!0,className:"nhs-navigation-split-view__list-item nhs-navigation-split-view__item-button",role:"option","aria-selected":Ye,"aria-current":Ye?"true":void 0,"data-selected":Ye||void 0,"data-disabled":be.disabled||void 0,...Tr,children:[be.icon&&s.jsx("span",{className:"nhs-navigation-split-view__item-icon",children:be.icon}),s.jsxs("span",{className:"nhs-navigation-split-view__item-content",children:[s.jsx("span",{className:"nhs-navigation-split-view__item-label",children:be.label}),be.description&&s.jsx("span",{className:"nhs-navigation-split-view__item-description",children:be.description}),i?.(be)]}),be.badge!==void 0&&s.jsx("span",{className:"nhs-navigation-split-view__badge",children:be.badge})]})}),[f,Cr,i]);return s.jsxs(s.Fragment,{children:[s.jsxs("ul",{ref:ut,className:"nhs-navigation-split-view__list",onKeyDown:fw,role:"listbox","aria-label":"Navigation items","aria-describedby":he,"aria-activedescendant":ke?String(ke):void 0,children:[e.map((be,je)=>s.jsx(ve,{item:be,idx:je,selected:f(be)===ke,focused:je===Ze||Ze===-1&&je===0&&N==="first","data-just-selected":f(be)===ee?"true":void 0},f(be))),e.length===0&&!m&&s.jsx("li",{className:"nhs-navigation-split-view__list-item","aria-disabled":"true",children:g||s.jsx("div",{style:{padding:16},children:"No items"})})]}),s.jsx("div",{id:he,style:{position:"absolute",width:1,height:1,overflow:"hidden",clip:"rect(0 0 0 0)"},children:S})]})};return s.jsx("div",{ref:ae,className:gw,"aria-label":y?.rootLabel,"data-layout":ue,onKeyDown:et,children:s.jsxs("div",{className:"nhs-navigation-split-view__body",children:[s.jsxs("div",{className:"nhs-navigation-split-view__panes","data-active-detail":Ee||void 0,style:{transform:Ee?"translateX(-100%)":void 0},children:[s.jsxs("div",{ref:X,className:"nhs-navigation-split-view__nav-pane",role:"navigation","aria-label":y?.navigationLabel||"Items","data-collapsed":nn||void 0,tabIndex:0,children:[P&&de&&s.jsx("div",{className:"nhs-navigation-split-view__nav-collapse",children:s.jsx("button",{type:"button",onClick:mw,className:"nhs-navigation-split-view__nav-collapse-btn","aria-label":nn?te:z,title:nn?te:z,children:nn?W||s.jsx(Ly,{}):G||s.jsx(Py,{})})}),s.jsx("div",{className:"nhs-navigation-split-view__nav-scroll",children:bw()}),I&&s.jsx("div",{className:"nhs-navigation-split-view__nav-footer",role:"contentinfo",children:I})]}),s.jsxs("div",{ref:Y,className:"nhs-navigation-split-view__content-pane",role:"region","aria-label":y?.contentLabel||"Content","data-has-selection":!!me||void 0,tabIndex:0,style:{display:ot&&!nt?"none":void 0},children:[Xl&&s.jsx("div",{className:"nhs-navigation-split-view__header",children:dw}),s.jsx("div",{className:"nhs-navigation-split-view__content-inner",style:{padding:32,flex:1},children:o(me)})]}),ue==="three-column"&&(!B||tc)||ot&&!nt?s.jsx("div",{ref:F,className:"nhs-navigation-split-view__secondary-pane",role:"region","aria-label":y?.secondaryContentLabel||"Secondary",tabIndex:0,children:s.jsxs("div",{className:"nhs-navigation-split-view__secondary-inner",style:{display:"flex",flexDirection:"column",flex:1,minWidth:0},children:[ot&&!nt&&s.jsx("div",{className:"nhs-navigation-split-view__header",children:s.jsx("div",{style:{display:"flex",alignItems:"center",width:"100%"},children:s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:0,flex:"1 1 auto",minWidth:0},children:[Ql,s.jsx("div",{style:{display:"flex",flexDirection:"column",gap:4,minWidth:0},children:s.jsx("h2",{style:{marginLeft:0,marginRight:0},children:me&&typeof me=="object"&&"label"in me?me.label:String(me)})})]})})}),me&&R&&s.jsx("div",{className:"nhs-navigation-split-view__secondary-header",style:{padding:"16px 32px",borderBottom:"1px solid var(--nsplit-divider)"},children:typeof R=="function"?R(me):R}),s.jsx("div",{style:{padding:32,flex:1,minWidth:0},children:l?.(me)})]})}):null]}),s.jsx("div",{ref:ec,"aria-live":"polite","aria-atomic":"true",style:{position:"absolute",width:1,height:1,overflow:"hidden",clip:"rect(0 0 0 0)"}}),s.jsx("div",{"aria-live":"polite",style:{position:"absolute",width:1,height:1,overflow:"hidden",clip:"rect(0 0 0 0)"},children:In?"Expanded to three column layout":"In two column layout"})]})})}Ou.displayName="NavigationSplitView";const zu=(t,e,n,r)=>t==null||Number.isNaN(t)?r:Math.min(n,Math.max(e,t)),Fy=({item:t,maxLines:e,enableDrilldown:n,onExpand:r,isActive:a,topLaneIndex:i})=>{const{ariaLabel:o}=t,l=`${t._pxLeft}px`,u=`${t._pxWidth}px`,c=`calc((var(--roadmap-item-block-height) + var(--roadmap-row-gap)) * ${i})`,d=Math.floor(t._startFraction)+2,p=Math.max(1,Math.round(t._spanColumns)),m=n&&t.childItems&&t.childItems.length>0,g=h=>{m&&(h.preventDefault(),r?.(t))},y=m?{role:"button",tabIndex:0,"aria-haspopup":"dialog","aria-expanded":a||!1,onClick:g,onKeyDown:h=>{(h.key==="Enter"||h.key===" ")&&g(h),h.key==="Escape"&&a&&g(h)}}:{};return s.jsxs("div",{className:ge("nhsuk-product-roadmap__item",m&&"nhsuk-product-roadmap__item--expandable",a&&"nhsuk-product-roadmap__item--active"),style:{left:l,width:u,top:c,"--item-height":e},role:"gridcell","aria-label":o,"aria-colindex":d,"aria-colspan":p,...y,children:[s.jsx("div",{className:"nhsuk-product-roadmap__item-bg","aria-hidden":"true"}),s.jsxs("div",{className:"nhsuk-product-roadmap__item-content",children:[s.jsx("span",{className:"nhsuk-product-roadmap__item-title",children:t.title}),m&&s.jsx("span",{className:ge("nhsuk-product-roadmap__item-expander",a&&"nhsuk-product-roadmap__item-expander--open"),"aria-hidden":"true"})]})]})},Wu=A.memo(({dateHeadings:t,categories:e,columnWidthPx:n=400,itemMaxLines:r=2,className:a,ariaLabel:i="Product roadmap",enableDrilldown:o=!1,onToggleItem:l,drilldownMode:u="overlay",...c})=>{const[d,p]=A.useState(()=>new Set),[m,g]=A.useState(()=>new Set),y=A.useRef(new Set),h=A.useCallback(C=>d.has(C),[d]),f=A.useCallback(C=>{p(B=>{const I=new Set(B);return I.has(C.id)?(I.delete(C.id),g(P=>{const w=new Set(P);return w.add(C.id),w}),setTimeout(()=>g(P=>{const w=new Set(P);return w.delete(C.id),w}),240),l?.(C.id,!1)):(I.add(C.id),l?.(C.id,!0)),I})},[l]);A.useLayoutEffect(()=>{if(u!=="inline"||!o)return;const C=[];if(d.forEach(w=>{y.current.has(w)||C.push(w)}),y.current=new Set(d),!C.length)return;const B=typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-reduced-motion: reduce)").matches,I=C.map(w=>`.nhsuk-product-roadmap__inline-children[data-parent="${w}"] .nhsuk-product-roadmap__inline-child`).join(","),P=Array.from(document.querySelectorAll(I));if(P.length){if(B){P.forEach(w=>{w.style.opacity="1",w.style.transform="translateY(0)"});return}Promise.resolve().then(()=>lw).then(w=>{(w.gsap||w.default||w).to(P,{opacity:1,y:0,duration:.32,ease:"power2.out",stagger:.05})}).catch(()=>{P.forEach(w=>{w.style.opacity="1",w.style.transform="translateY(0)"})})}},[d,u,o]);const L=A.useCallback(()=>{d.size&&p(new Set)},[d]),M=ge("nhsuk-product-roadmap",a),j=zu(n,120,1200,400),S=zu(r,1,6,2),N=A.useMemo(()=>t.map(C=>new Date(C+" 01")),[t]),k=A.useMemo(()=>{if(N.length===0){const I=new Date;return[I,I]}const C=new Date(N[0]),B=Fr.offset(new Date(N[N.length-1]),1);return[C,B]},[N]),$=A.useMemo(()=>Ms().domain(k).range([0,N.length*j]),[k,N.length,j]),v=A.useCallback(C=>{if(C.startDate){const z=new Date(C.startDate),W=new Date(C.endDate??C.startDate);W<z&&W.setTime(z.getTime());const G=$(z),H=Fr.offset(new Date(W),1);let oe=$(H);Number.isFinite(oe)||(oe=G+j);const T=Math.max(j*.25,oe-G),O=G/j,Q=T/j;return{...C,_pxLeft:G,_pxWidth:T,_startFraction:O,_spanColumns:Q}}const B=C.date??1,I=C.dateOffset??0,P=C.length??1,w=C.partialLength??1,E=B-1+I,te=P-1+w;return{...C,_pxLeft:E*j,_pxWidth:te*j,_startFraction:E,_spanColumns:te}},[$,j]),b=A.useMemo(()=>e.map(C=>{const I=C.roadmapItems.map(w=>{const E=!w.childItems&&w.children?{...w,childItems:w.children}:{...w};return v(E)}).sort((w,E)=>w._pxLeft!==E._pxLeft?w._pxLeft-E._pxLeft:E._pxWidth-w._pxWidth),P=[];return I.forEach(w=>{const E=w._pxLeft,te=w._pxLeft+w._pxWidth;let z=P.findIndex(W=>W<=E);z===-1&&(z=P.length,P.push(0)),P[z]=te,w.verticalPosition=z+1}),{...C,roadmapItems:I,_laneCount:P.length}}),[e,v]),D=A.useMemo(()=>b.map(C=>C._laneCount||1),[b]),x=A.useMemo(()=>`var(--category-width) ${t.map(()=>"var(--column-width)").join(" ")}`,[t]);return s.jsxs("div",{className:M,style:{"--column-width":`${j}px`,gridTemplateColumns:x},role:"grid","aria-label":i,"aria-colcount":t.length+1,"aria-rowcount":b.length+1,...c,children:[s.jsxs("div",{className:"nhsuk-product-roadmap__header-row",role:"row","aria-rowindex":1,children:[s.jsx("div",{className:"nhsuk-product-roadmap__header-cell",role:"columnheader","aria-colindex":1,children:s.jsx("span",{className:"nhsuk-visually-hidden",children:"Category"})}),t.map((C,B)=>s.jsx("div",{className:"nhsuk-product-roadmap__date-heading",role:"columnheader","aria-colindex":B+2,children:C},`${C}-${B}`))]}),b.map((C,B)=>{const I=B+2,P=D[B];let w,E=0,te=[];o&&u==="inline"&&(te=C.roadmapItems.filter(H=>h(H.id)&&H.childItems&&H.childItems.length).map(H=>({id:H.id,lane:H.verticalPosition||1,count:H.childItems.length})).sort((H,oe)=>H.lane-oe.lane),E=te.reduce((H,oe)=>H+oe.count,0));const z=P+E;w=`calc((${z} * var(--roadmap-item-block-height)) + (max(0, ${z} - 1) * var(--roadmap-row-gap)))`;const W={};let G=0;return te.forEach(H=>{G+=H.count,W[H.lane+1]=G}),s.jsxs("div",{className:"nhsuk-product-roadmap__row",role:"row","aria-rowindex":I,children:[s.jsx("div",{className:"nhsuk-product-roadmap__category-cell",role:"rowheader","aria-colindex":1,children:C.heading}),s.jsx("div",{className:"nhsuk-product-roadmap__items-row",style:{gridColumn:`2 / span ${t.length}`,height:w},children:s.jsx("div",{className:"nhsuk-product-roadmap__items-layer",children:C.roadmapItems.map((H,oe)=>{const T=(H.verticalPosition||1)-1,O=te.filter(R=>R.lane-1<T).reduce((R,V)=>R+V.count,0),Q=T+O,re=h(H.id),q=m.has(H.id);return s.jsxs(A.Fragment,{children:[s.jsx(Fy,{item:H,maxLines:S,enableDrilldown:o,onExpand:f,isActive:re,topLaneIndex:Q,laneOffset:O}),o&&u==="inline"&&(re||q)&&H.childItems&&s.jsx("div",{"data-parent":H.id,className:"nhsuk-product-roadmap__inline-children","aria-label":`${H.title} child tasks`,children:H.childItems.map((R,V)=>{const le="calc(var(--roadmap-item-block-height) * 0.75)";let U=H._pxLeft,de=H._pxWidth;if(R.startDate){const fe=new Date(R.startDate);let ye=R.endDate?new Date(R.endDate):new Date(fe);ye<fe&&(ye=new Date(fe));const De=new Date(ye);De.setDate(De.getDate()+1);const ke=$(fe);let me=$(De);(!Number.isFinite(me)||me<=ke)&&(me=ke+6),U=ke,de=Math.max(6,me-ke)}const ue=Q+1+V;return s.jsxs("div",{className:ge("nhsuk-product-roadmap__inline-child",R.status&&`nhsuk-product-roadmap__inline-child--status-${R.status}`,!re&&q&&"nhsuk-product-roadmap__inline-child--collapsing"),style:{left:`${U}px`,width:`${de}px`,top:`calc((var(--roadmap-item-block-height) + var(--roadmap-row-gap)) * ${ue})`,height:le,opacity:re?0:void 0,transform:re?"translateY(-6px)":void 0},children:[s.jsx("div",{className:"nhsuk-product-roadmap__inline-child-bg"}),s.jsx("div",{className:"nhsuk-product-roadmap__inline-child-content",children:R.title})]},R.id??V)})})]},H.id??oe)})})})]},`${C.heading}-${B}`)}),o&&u==="overlay"&&d.size===1&&(()=>{const C=Array.from(d)[0],B=e.flatMap(I=>I.roadmapItems).find(I=>I.id===C);return!B||!B.childItems?null:s.jsxs("div",{className:"nhsuk-product-roadmap__drilldown-overlay",role:"dialog","aria-modal":"true","aria-label":`${B.title} details`,children:[s.jsxs("div",{className:"nhsuk-product-roadmap__drilldown-panel",children:[s.jsxs("header",{className:"nhsuk-product-roadmap__drilldown-header",children:[s.jsx("h3",{className:"nhsuk-product-roadmap__drilldown-title",children:B.title}),s.jsx("button",{type:"button",className:"nhsuk-product-roadmap__drilldown-close",onClick:L,"aria-label":"Close details",children:"Ã—"})]}),s.jsx("div",{className:"nhsuk-product-roadmap__drilldown-content",children:B.content}),s.jsx("ul",{className:"nhsuk-product-roadmap__drilldown-children",children:B.childItems.map((I,P)=>s.jsxs("li",{className:"nhsuk-product-roadmap__drilldown-child",children:[s.jsx("strong",{className:"nhsuk-product-roadmap__drilldown-child-title",children:I.title}),I.content&&s.jsx("div",{className:"nhsuk-product-roadmap__drilldown-child-content",children:I.content})]},I.id??P))})]}),s.jsx("div",{className:"nhsuk-product-roadmap__drilldown-backdrop",onClick:L,"aria-hidden":"true"})]})})()]})});Wu.displayName="ProductRoadmap";function Uu(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var a=t.length;for(e=0;e<a;e++)t[e]&&(n=Uu(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function ci(){for(var t,e,n=0,r="",a=arguments.length;n<a;n++)(t=arguments[n])&&(e=Uu(t))&&(r&&(r+=" "),r+=e);return r}function it(t){return function(){return t}}const zs=Math.PI,Ws=2*zs,En=1e-6,By=Ws-En;function Gu(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function Ay(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return Gu;const n=10**e;return function(r){this._+=r[0];for(let a=1,i=r.length;a<i;++a)this._+=Math.round(arguments[a]*n)/n+r[a]}}class Ey{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?Gu:Ay(e)}moveTo(e,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,n){this._append`L${this._x1=+e},${this._y1=+n}`}quadraticCurveTo(e,n,r,a){this._append`Q${+e},${+n},${this._x1=+r},${this._y1=+a}`}bezierCurveTo(e,n,r,a,i,o){this._append`C${+e},${+n},${+r},${+a},${this._x1=+i},${this._y1=+o}`}arcTo(e,n,r,a,i){if(e=+e,n=+n,r=+r,a=+a,i=+i,i<0)throw new Error(`negative radius: ${i}`);let o=this._x1,l=this._y1,u=r-e,c=a-n,d=o-e,p=l-n,m=d*d+p*p;if(this._x1===null)this._append`M${this._x1=e},${this._y1=n}`;else if(m>En)if(!(Math.abs(p*u-c*d)>En)||!i)this._append`L${this._x1=e},${this._y1=n}`;else{let g=r-o,y=a-l,h=u*u+c*c,f=g*g+y*y,L=Math.sqrt(h),M=Math.sqrt(m),j=i*Math.tan((zs-Math.acos((h+m-f)/(2*L*M)))/2),S=j/M,N=j/L;Math.abs(S-1)>En&&this._append`L${e+S*d},${n+S*p}`,this._append`A${i},${i},0,0,${+(p*g>d*y)},${this._x1=e+N*u},${this._y1=n+N*c}`}}arc(e,n,r,a,i,o){if(e=+e,n=+n,r=+r,o=!!o,r<0)throw new Error(`negative radius: ${r}`);let l=r*Math.cos(a),u=r*Math.sin(a),c=e+l,d=n+u,p=1^o,m=o?a-i:i-a;this._x1===null?this._append`M${c},${d}`:(Math.abs(this._x1-c)>En||Math.abs(this._y1-d)>En)&&this._append`L${c},${d}`,r&&(m<0&&(m=m%Ws+Ws),m>By?this._append`A${r},${r},0,1,${p},${e-l},${n-u}A${r},${r},0,1,${p},${this._x1=c},${this._y1=d}`:m>En&&this._append`A${r},${r},0,${+(m>=zs)},${p},${this._x1=e+r*Math.cos(i)},${this._y1=n+r*Math.sin(i)}`)}rect(e,n,r,a){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${r=+r}v${+a}h${-r}Z`}toString(){return this._}}function Vu(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(n==null)e=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);e=r}return t},()=>new Ey(e)}function Yu(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function qu(t){this._context=t}qu.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function Xu(t){return new qu(t)}function Ku(t){return t[0]}function Zu(t){return t[1]}function Ju(t,e){var n=it(!0),r=null,a=Xu,i=null,o=Vu(l);t=typeof t=="function"?t:t===void 0?Ku:it(t),e=typeof e=="function"?e:e===void 0?Zu:it(e);function l(u){var c,d=(u=Yu(u)).length,p,m=!1,g;for(r==null&&(i=a(g=o())),c=0;c<=d;++c)!(c<d&&n(p=u[c],c,u))===m&&((m=!m)?i.lineStart():i.lineEnd()),m&&i.point(+t(p,c,u),+e(p,c,u));if(g)return i=null,g+""||null}return l.x=function(u){return arguments.length?(t=typeof u=="function"?u:it(+u),l):t},l.y=function(u){return arguments.length?(e=typeof u=="function"?u:it(+u),l):e},l.defined=function(u){return arguments.length?(n=typeof u=="function"?u:it(!!u),l):n},l.curve=function(u){return arguments.length?(a=u,r!=null&&(i=a(r)),l):a},l.context=function(u){return arguments.length?(u==null?r=i=null:i=a(r=u),l):r},l}function Us(t,e,n){var r=null,a=it(!0),i=null,o=Xu,l=null,u=Vu(c);t=typeof t=="function"?t:t===void 0?Ku:it(+t),e=typeof e=="function"?e:it(e===void 0?0:+e),n=typeof n=="function"?n:n===void 0?Zu:it(+n);function c(p){var m,g,y,h=(p=Yu(p)).length,f,L=!1,M,j=new Array(h),S=new Array(h);for(i==null&&(l=o(M=u())),m=0;m<=h;++m){if(!(m<h&&a(f=p[m],m,p))===L)if(L=!L)g=m,l.areaStart(),l.lineStart();else{for(l.lineEnd(),l.lineStart(),y=m-1;y>=g;--y)l.point(j[y],S[y]);l.lineEnd(),l.areaEnd()}L&&(j[m]=+t(f,m,p),S[m]=+e(f,m,p),l.point(r?+r(f,m,p):j[m],n?+n(f,m,p):S[m]))}if(M)return l=null,M+""||null}function d(){return Ju().defined(a).curve(o).context(i)}return c.x=function(p){return arguments.length?(t=typeof p=="function"?p:it(+p),r=null,c):t},c.x0=function(p){return arguments.length?(t=typeof p=="function"?p:it(+p),c):t},c.x1=function(p){return arguments.length?(r=p==null?null:typeof p=="function"?p:it(+p),c):r},c.y=function(p){return arguments.length?(e=typeof p=="function"?p:it(+p),n=null,c):e},c.y0=function(p){return arguments.length?(e=typeof p=="function"?p:it(+p),c):e},c.y1=function(p){return arguments.length?(n=p==null?null:typeof p=="function"?p:it(+p),c):n},c.lineX0=c.lineY0=function(){return d().x(t).y(e)},c.lineY1=function(){return d().x(t).y(n)},c.lineX1=function(){return d().x(r).y(e)},c.defined=function(p){return arguments.length?(a=typeof p=="function"?p:it(!!p),c):a},c.curve=function(p){return arguments.length?(o=p,i!=null&&(l=o(i)),c):o},c.context=function(p){return arguments.length?(p==null?i=l=null:l=o(i=p),c):i},c}function Qu(t){return t<0?-1:1}function ed(t,e,n){var r=t._x1-t._x0,a=e-t._x1,i=(t._y1-t._y0)/(r||a<0&&-0),o=(n-t._y1)/(a||r<0&&-0),l=(i*a+o*r)/(r+a);return(Qu(i)+Qu(o))*Math.min(Math.abs(i),Math.abs(o),.5*Math.abs(l))||0}function td(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function Gs(t,e,n){var r=t._x0,a=t._y0,i=t._x1,o=t._y1,l=(i-r)/3;t._context.bezierCurveTo(r+l,a+l*e,i-l,o-l*n,i,o)}function ui(t){this._context=t}ui.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Gs(this,this._t0,td(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,Gs(this,td(this,n=ed(this,t,e)),n);break;default:Gs(this,this._t0,n=ed(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}},Object.create(ui.prototype).point=function(t,e){ui.prototype.point.call(this,e,t)};function di(t){return new ui(t)}function Hy(t,e,n){const r=xc(t,e);return Ms().domain(r).range(n)}function nd(t,e,n){const[r,a]=xc(t,e);if(!(Number.isFinite(r)&&Number.isFinite(a)))return Qa().domain([0,0]).range(n);let o;if(r<=0)o=Math.min(0,r);else{const u=a-r,c=(u>0?u:r)*.1;o=Math.max(0,r-c),o===r&&(o=Math.max(0,r*.9))}const l=a??0;return Qa().domain([o,l]).nice().range(n)}function Vs(t,e,n,r){const a=Ju().x(e).y(n);return r?.smooth!==!1&&a.curve(di),a(t)??""}function Ry(t={}){const e=K.useRef(null),n=K.useMemo(()=>({top:t.top??16,right:t.right??16,bottom:t.bottom??32,left:t.left??48}),[t.bottom,t.left,t.right,t.top]),[r,a]=K.useState({width:0,height:0});K.useLayoutEffect(()=>{if(!e.current)return;const l=new ResizeObserver(u=>{for(const c of u){const{width:d,height:p}=c.contentRect;a({width:d,height:p})}});return l.observe(e.current),()=>l.disconnect()},[]);const i=Math.max(0,r.width-n.left-n.right),o=Math.max(0,r.height-n.top-n.bottom);return{width:r.width,height:r.height,innerWidth:i,innerHeight:o,margin:n,ref:e}}const rd=K.createContext(null);function bn(){return K.useContext(rd)}const ad=({height:t=240,margin:e,width:n,className:r="fdp-chart",children:a,role:i="group",ariaLabel:o})=>{const l=Ry(e),u={height:t,position:"relative"};return n!==void 0&&(u.width=typeof n=="number"?`${n}px`:n),s.jsx("div",{ref:l.ref,className:r,style:u,role:i,"aria-label":o,children:s.jsx(rd.Provider,{value:l,children:a})})},Ys=K.createContext(null),Hn=()=>K.useContext(Ys),id=({series:t,innerWidth:e,innerHeight:n,parseX:r,children:a,xTickCount:i=6,yTickCount:o=5,yDomain:l,xPadding:u,yPadding:c})=>{const d=bn(),p=e??d?.innerWidth??0,m=n??d?.innerHeight??0,g=K.useMemo(()=>t.flatMap(S=>S.data),[t]),y=K.useCallback(S=>{if(r)return r(S);const N=S.x;return N instanceof Date?N:new Date(N)},[r]),h=u??6,f=c??6,L=K.useMemo(()=>Hy(g,y,[h,Math.max(0,p-h)]),[g,y,p,h]),M=K.useMemo(()=>{if(l){const S=nd([],N=>N.y,[Math.max(0,m-f),f]);return S.domain(l),S}return nd(g,S=>S.y,[Math.max(0,m-f),f])},[g,m,l]),j=K.useMemo(()=>({xScale:L,yScale:M,getXTicks:(S=i)=>L.ticks(S),getYTicks:(S=o)=>M.ticks(S)}),[L,M,i,o]);return s.jsx(Ys.Provider,{value:j,children:a})},qs=({type:t,scale:e,tickCount:n,tickValues:r,formatTick:a,label:i,offset:o,className:l,minLabelSpacing:u,maxTickLabelLength:c,autoMinLabelSpacing:d=t==="x",labelAngle:p=0,allowLabelWrap:m=!0,tickFormatPreset:g})=>{const y=Hn(),h=bn(),f=e||(t==="x"?y?.xScale:y?.yScale),L=n??(t==="x"?6:5),M=typeof a=="function",j=K.useMemo(()=>{if(M||!g)return;const k=$=>new Intl.DateTimeFormat(void 0,$);switch(g){case"dayShortMonth":return $=>{const v=$ instanceof Date?$:new Date($);return`${v.getDate()}
${k({month:"short"}).format(v)}`};case"dayShortMonthYear":return $=>{const v=$ instanceof Date?$:new Date($);return`${v.getDate()}
${k({month:"short"}).format(v)} ${v.getFullYear()}`};case"shortMonth":return $=>{const v=$ instanceof Date?$:new Date($);return k({month:"short"}).format(v)};case"shortMonthYear":return $=>{const v=$ instanceof Date?$:new Date($);return`${k({month:"short"}).format(v)} ${v.getFullYear()}`};case"hourMinute":return $=>{const v=$ instanceof Date?$:new Date($);return k({hour:"2-digit",minute:"2-digit"}).format(v)};default:return}},[M,g]);let S=M?a:j||(k=>String(k));const N=K.useMemo(()=>r&&Array.isArray(r)?r:f?typeof f.ticks=="function"?f.ticks(L):f.domain?f.domain():[]:[],[f,L,r]);if(t==="x"&&!M&&!g&&N.length&&N.every(k=>k instanceof Date)){const k=N[0],$=N[N.length-1],v=$.getTime()-k.getTime(),b=24*3600*1e3,D=365*b,x=k.getFullYear()===$.getFullYear(),C=new Intl.DateTimeFormat(void 0,{month:"short"});if(v<2*b){const B=new Intl.DateTimeFormat(void 0,{hour:"2-digit",minute:"2-digit"});S=I=>B.format(I)}else if(v<32*b)S=B=>{const I=B;return`${I.getDate()} ${C.format(I)}`};else if(v<D&&x)S=B=>C.format(B);else if(v<2*D){const B=new Set;S=I=>{const P=I,w=P.getMonth();return B.has(w)||B.add(w),`${C.format(P)} ${P.getFullYear()}`}}else S=B=>String(B.getFullYear())}if(!f||!h)return null;if(t==="x"){const k=o??h.innerHeight,$=typeof f.bandwidth=="function",v=$?f.bandwidth():0,b=C=>{const B=f(C);return $?B+v/2:B};let D=u??0;if(d&&u==null){const C=N.map(I=>S(I).replace(/\n.*/g,"")),B=C.length?C.reduce((I,P)=>I+P.length,0)/C.length:0;D=Math.max(12,Math.round(B*6+4))}const x=K.useMemo(()=>{if(r&&Array.isArray(r)||D<=0)return N;const C=[];let B=-1/0;for(const I of N){const P=b(I);P-B>=D&&(C.push(I),B=P)}return C},[N,f,D,r,$,v]);return s.jsxs("g",{className:["fdp-axis","fdp-axis--x",l].filter(Boolean).join(" "),transform:`translate(0,${k})`,fontFamily:"var(--nhs-fdp-font-family-base, var(--fdp-chart-font-family))",children:[s.jsx("line",{x1:0,x2:h.innerWidth,y1:0,y2:0,stroke:"currentColor"}),x.map((C,B)=>{const I=S(C),P=c&&I.length>c?I.slice(0,Math.max(1,c-1))+"â€¦":I,w=m?P.split(/\n/):[P.replace(/\n/g," ")],E=p<0?"end":p>0?"start":"middle";return s.jsxs("g",{transform:`translate(${b(C)},0)`,children:[s.jsx("line",{y2:6,stroke:"currentColor"}),s.jsxs("text",{y:9,textAnchor:E,className:"fdp-axis__tick",dominantBaseline:"hanging",transform:p?`rotate(${p})`:void 0,fontFamily:"inherit",children:[w.map((te,z)=>s.jsx("tspan",{x:0,dy:z===0?0:"1.1em",children:te},z)),P!==I&&s.jsx("title",{children:I})]})]},C?.toString?.()||B)})]})}return s.jsxs("g",{className:["fdp-axis","fdp-axis--y",l].filter(Boolean).join(" "),fontFamily:"var(--nhs-fdp-font-family-base, var(--fdp-chart-font-family))",children:[N.map((k,$)=>{const v=S(k),b=c&&v.length>c?v.slice(0,Math.max(1,c-1))+"â€¦":v,D=m?b.split(/\n/):[b.replace(/\n/g," ")];return s.jsxs("g",{transform:`translate(0,${f(k)})`,children:[s.jsx("line",{x2:-6,stroke:"currentColor"}),s.jsxs("text",{x:-9,dy:"0.32em",textAnchor:"end",className:"fdp-axis__tick",fontFamily:"inherit",children:[D.map((x,C)=>s.jsx("tspan",{x:-9,dy:C===0?0:"1.1em",children:x},C)),b!==v&&s.jsx("title",{children:v})]})]},k?.toString?.()||$)}),i&&s.jsx("text",{transform:"rotate(-90)",x:-h.innerHeight/2,y:-h.margin.left+12,textAnchor:"middle",className:"fdp-axis__label",fontFamily:"inherit",children:i})]})},sd=({axis:t="y",tickCount:e,stroke:n="var(--fdp-chart-grid,#e5e5e5)",dasharray:r="2 4",className:a})=>{const i=Hn(),o=bn();if(!i||!o)return null;const l=t==="y"?i.getYTicks(e):i.getXTicks(e);return s.jsxs("g",{className:["fdp-grid",a].filter(Boolean).join(" "),children:[t==="y"&&l.map((u,c)=>s.jsx("line",{x1:0,x2:o.innerWidth,y1:i.yScale(u),y2:i.yScale(u),stroke:n,strokeDasharray:r},c)),t==="x"&&l.map((u,c)=>s.jsx("line",{y1:0,y2:o.innerHeight,x1:i.xScale(u),x2:i.xScale(u),stroke:n,strokeDasharray:r},c))]})},Or={color:{"data-viz":{$type:"color",categorical:{1:{$value:"{color.primary.blue}",$description:"Series 1 â€“ NHS Blue (brand core)"},2:{$value:"#41B6E6",$description:"Series 2 â€“ NHS Light Blue (new)"},3:{$value:"{color.secondary.aqua-green}",$description:"Series 3 â€“ NHS Aqua Green (existing)"},4:{$value:"#78BE20",$description:"Series 4 â€“ NHS Light Green (new)"},5:{$value:"{color.primary.green}",$description:"Series 5 â€“ NHS Green (existing)"},6:{$value:"{color.secondary.warm-yellow}",$description:"Series 6 â€“ NHS Warm Yellow (existing; distinct from focus yellow)"},7:{$value:"#ED4F00",$description:"Series 7 â€“ NHS Tangerine (new; warmer/deeper than existing orange)"},8:{$value:"{color.secondary.pink}",$description:"Series 8 â€“ NHS Pink (existing)"},9:{$value:"#E317AA",$description:"Series 9 â€“ NHS Bright Pink (new vivid accent)"},10:{$value:"#880FB8",$description:"Series 10 â€“ NHS Light Purple (new mid purple)"},11:{$value:"{color.primary.purple}",$description:"Series 11 â€“ NHS Purple (existing dark purple)"},12:{$value:"#9A6324",$description:"Series 12 â€“ NHS Brown (new; earth neutral)"}},neutral:{comparison:{$value:"{color.grey.1}",$description:"Neutral comparison series (optional)"}},region:{$comment:"Fixed colours for NHS geographical regions; prefer stable mapping for maps. London colour updated (#78BE21 â€“ light green).","north-east":{$value:"{color.primary.blue}",$description:"North East â€“ NHS Blue"},"north-west":{$value:"#41B6E6",$description:"North West â€“ NHS Light Blue"},"east-of-england":{$value:"{color.primary.purple}",$description:"East of England â€“ NHS Purple"},midlands:{$value:"{color.secondary.pink}",$description:"Midlands â€“ NHS Pink"},london:{$value:"#78BE21",$description:"London â€“ NHS Light Green (new)"},"south-west":{$value:"#FAE100",$description:"South West â€“ NHS Yellow variant (new)"},"south-east":{$value:"#ed8b00",$description:"South East â€“ NHS Orange (existing base orange)"}},severity:{$comment:"Semantic severity / alert colours (light background ramp â†’ critical).",low:{$value:"{color.secondary.pale-yellow}",$description:"Low severity â€“ pale yellow background"},moderate:{$value:"{color.secondary.warm-yellow}",$description:"Moderate severity â€“ warm yellow"},high:{$value:"{color.secondary.orange}",$description:"High severity â€“ orange"},critical:{$value:"{color.primary.red}",$description:"Critical severity â€“ red"}},"org-level":{$comment:"Organisational level semantic colours (stable NHS brand mappings).",trust:{$value:"{color.primary.blue}",$description:"Trust â€“ NHS Blue"},ambulance:{$value:"{color.primary.green}",$description:"Ambulance â€“ NHS Green"},icb:{$value:"{color.primary.dark-pink}",$description:"ICB â€“ NHS Dark Pink"},region:{$value:"{color.primary.purple}",$description:"Region â€“ NHS Purple"}},stroke:{$comment:"Automatic contrast stroke colours for overlays / borders. Light fills get dark stroke; dark fills get white stroke.",categorical:{1:{$value:"#ffffff",$description:"Stroke for series 1 (blue)"},2:{$value:"#212b32",$description:"Stroke for series 2 (light blue)"},3:{$value:"#212b32",$description:"Stroke for series 3 (aqua green)"},4:{$value:"#212b32",$description:"Stroke for series 4 (light green)"},5:{$value:"#ffffff",$description:"Stroke for series 5 (green)"},6:{$value:"#212b32",$description:"Stroke for series 6 (warm yellow)"},7:{$value:"#ffffff",$description:"Stroke for series 7 (tangerine)"},8:{$value:"#ffffff",$description:"Stroke for series 8 (pink)"},9:{$value:"#ffffff",$description:"Stroke for series 9 (bright pink)"},10:{$value:"#ffffff",$description:"Stroke for series 10 (light purple)"},11:{$value:"#ffffff",$description:"Stroke for series 11 (purple)"},12:{$value:"#ffffff",$description:"Stroke for series 12 (brown)"}},region:{$comment:"Region stroke colours derived from fill colours: dark fills lightened ~35%; light fills darkened ~25% for consistent contrast without defaulting to pure white/black.","north-east":{$value:"#5996D1",$description:"Stroke for North East (blue lightened 35%)"},"north-west":{$value:"#3189AD",$description:"Stroke for North West (light blue darkened 25%)"},"east-of-england":{$value:"#7A59A3",$description:"Stroke for East of England (purple lightened 35%)"},midlands:{$value:"#CA71A4",$description:"Stroke for Midlands (pink lightened 35%)"},london:{$value:"#5A8F19",$description:"Stroke for London (light green darkened 25%)"},"south-west":{$value:"#BCA900",$description:"Stroke for South West (yellow darkened 25%)"},"south-east":{$value:"#B26800",$description:"Stroke for South East (orange darkened 25%)"}},severity:{$comment:"Contrast strokes for severity colours (light backgrounds use dark stroke; dark backgrounds use white).",low:{$value:"#212b32",$description:"Stroke for low severity (pale yellow fill)"},moderate:{$value:"#212b32",$description:"Stroke for moderate severity (warm yellow fill)"},high:{$value:"#212b32",$description:"Stroke for high severity (orange fill)"},critical:{$value:"#ffffff",$description:"Stroke for critical severity (red fill)"}},"org-level":{$comment:"Contrast strokes for organisational level colours (all dark brand fills so white stroke for consistency).",trust:{$value:"#ffffff",$description:"Stroke for trust (blue fill)"},ambulance:{$value:"#ffffff",$description:"Stroke for ambulance (green fill)"},icb:{$value:"#ffffff",$description:"Stroke for ICB (dark pink fill)"},region:{$value:"#ffffff",$description:"Stroke for region (purple fill)"}}},spc:{$comment:"SPC (Statistical Process Control) semantic variation colours aligned to SPCChart.scss and SPCIcons.",improvement:{$value:"#00B0F0",$description:"SPC special cause improvement (favourable)"},concern:{$value:"#E46C0A",$description:"SPC special cause concern (deteriorating)"},"no-judgement":{$value:"#490092",$description:"SPC special cause (no directional judgement)"},"common-cause":{$value:"#A6A6A6",$description:"SPC common cause (baseline variation)"},"assurance-pass":{$value:"#00823B",$description:"SPC assurance pass indicator (process capable)"},"assurance-fail":{$value:"#DA291C",$description:"SPC assurance fail indicator (process not capable)"},gradient:{$comment:"Opacity stops for SPC icon gradient wash (applied top-left -> bottom-right). Consumers build gradients using these opacities + base colour.",stop:{"start-opacity":{$value:"0.18",$description:"Start stop opacity (0%) for classic variant wash"},"mid-opacity":{$value:"0.06",$description:"Mid stop opacity (~65-75%)"},"end-opacity":{$value:"0",$description:"End stop opacity (100%)"},"triangle-start-opacity":{$value:"0.18",$description:"Start opacity for triangle variants (kept aligned)"},"triangle-mid-opacity":{$value:"0.06",$description:"Mid opacity for triangle variants"},"triangle-end-opacity":{$value:"0",$description:"End opacity for triangle variants"}}},stroke:{$comment:"Contrast stroke colours for SPC variation fills.",improvement:{$value:"#000000",$description:"Stroke for improvement points"},concern:{$value:"#000000",$description:"Stroke for concern points"},"no-judgement":{$value:"#000000",$description:"Stroke for no-judgement points"},"common-cause":{$value:"#ffffff",$description:"Stroke for common cause points"},"assurance-pass":{$value:"#000000",$description:"Stroke for assurance pass points"},"assurance-fail":{$value:"#000000",$description:"Stroke for assurance fail points"}}}}}},fi={color:{primary:{$type:"color",blue:{$value:"#005eb8",$description:"NHS Blue - Primary brand color"},"blue-active":{$value:"#002f5c",$description:"NHS Active Blue (50% shade) â€“ alias of button/login active; promoted for general reuse"},white:{$value:"#ffffff",$description:"NHS White"},black:{$value:"#212b32",$description:"NHS Black"},green:{$value:"#007f3b",$description:"NHS Green"},purple:{$value:"#330072",$description:"NHS Purple"},"dark-pink":{$value:"#7c2855",$description:"NHS Dark Pink"},red:{$value:"#d5281b",$description:"NHS Red"},"light-purple":{$value:"#880FB8",$description:"NHS Light Purple (data viz promoted)"},yellow:{$value:"#ffeb3b",$description:"NHS Yellow"}},secondary:{$type:"color","pale-yellow":{$value:"#fff9c4",$description:"NHS Pale Yellow"},"warm-yellow":{$value:"#ffb81c",$description:"NHS Warm Yellow"},"region-yellow":{$value:"#FAE100",$description:"NHS Region Yellow (maps)"},orange:{$value:"#ed8b00",$description:"NHS Orange"},tangerine:{$value:"#ED4F00",$description:"NHS Tangerine (data viz promoted)"},"aqua-green":{$value:"#00a499",$description:"NHS Aqua Green"},"light-blue":{$value:"#41B6E6",$description:"NHS Light Blue (data viz promoted)"},pink:{$value:"#ae2573",$description:"NHS Pink"},"bright-pink":{$value:"#E317AA",$description:"NHS Bright Pink (data viz promoted)"},"light-green":{$value:"#78BE20",$description:"NHS Light Green (data viz promoted)"},brown:{$value:"#9A6324",$description:"NHS Brown (data viz promoted neutral)"}},grey:{1:{$value:"#4c6272",$description:"NHS Grey 1 - Darkest grey"},2:{$value:"#768692",$description:"NHS Grey 2 - Darker grey"},3:{$value:"#aeb7bd",$description:"NHS Grey 3 - Medium grey"},4:{$value:"#d8dde0",$description:"NHS Grey 4 - Light grey"},5:{$value:"#f0f4f5",$description:"NHS Grey 5 - Lightest grey"},$type:"color"},accessibility:{$type:"color",$comment:"Accessibility-oriented color tokens. Includes CVD-safe pairs and Okabeâ€“Ito colors. Use these for positive/negative semantics and colour-blindâ€“friendly defaults.","okabe-ito":{green:{$value:"#009E73",$description:"Okabeâ€“Ito green (CVD-safe) â€“ recommended positive"},vermillion:{$value:"#D55E00",$description:"Okabeâ€“Ito vermillion / redâ€“orange (CVD-safe) â€“ recommended negative"}},"cvd-safe":{blue:{$value:"#1f77b4",$description:"CVD-safe blue (pairs with orange); widely used in Matplotlib/Tableau sets"},orange:{$value:"#ff7f0e",$description:"CVD-safe orange (pairs with blue)"}},positive:{$value:"{color.accessibility.okabe-ito.green}",$description:"Accessibility semantic alias â€“ positive"},negative:{$value:"{color.accessibility.okabe-ito.vermillion}",$description:"Accessibility semantic alias â€“ negative"}}}},Oy=["#005eb8","#0072ce","#41b6e6","#00a499","#7c2855","#330072","#d5281b","#ffb81c","#fae100","#4c6272","#768692","#aeb7bd"];let Xs=null,Ks=null,Zs=null,od="optimized";function zy(){const t={color:{...fi.color,...Or.color}},e=(r,a=new Set)=>{if(a.has(r))return;a.add(r);const i=r.split(".").reduce((l,u)=>l?l[u]:void 0,t);if(!i)return;const o=i.$value||i.value;if(typeof o=="string"&&/^\{.+\}$/.test(o))return e(o.slice(1,-1),a);if(typeof o=="string")return o},n=[];try{for(let r=1;r<=12;r++){const a=`color.data-viz.categorical.${r}`,i=e(a);if(!i)throw new Error(`Missing token ${a}`);n.push(i)}return n}catch{return Oy}}function Wy(){return Xs||(Xs=zy()),Xs}function Uy(t){const e=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(t.trim());return e?{r:parseInt(e[1],16),g:parseInt(e[2],16),b:parseInt(e[3],16)}:null}function Js(t){return t/=255,t<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}function Gy(t,e,n){const r=Js(t),a=Js(e),i=Js(n),o=r*.4124+a*.3576+i*.1805,l=r*.2126+a*.7152+i*.0722,u=r*.0193+a*.1192+i*.9505;return{x:o*100,y:l*100,z:u*100}}function Vy(t,e,n){let o=t/95.047,l=e/100,u=n/108.883;const c=d=>d>.008856?Math.cbrt(d):7.787*d+16/116;return o=c(o),l=c(l),u=c(u),{L:116*l-16,a:500*(o-l),b:200*(l-u)}}function ld(t){const e=Uy(t);if(!e)return null;const n=Gy(e.r,e.g,e.b);return Vy(n.x,n.y,n.z)}function cd(t,e){const n=t.L-e.L,r=t.a-e.a,a=t.b-e.b;return Math.sqrt(n*n+r*r+a*a)}function Yy(){const t=Wy();if(t.length<=2)return t.slice();const e=t.map(o=>ld(o));let n=0,r=-1;for(let o=0;o<t.length;o++){const l=e[o];if(!l)continue;let u=0,c=0;for(let p=0;p<t.length;p++)o!==p&&e[p]&&(u+=cd(l,e[p]),c++);const d=u/Math.max(1,c);d>r&&(r=d,n=o)}const a=new Set(t.map((o,l)=>l)),i=[];for(i.push(n),a.delete(n);a.size;){let o=Array.from(a)[0],l=-1;for(const u of a){const c=e[u];if(!c)continue;let d=1/0;for(const p of i){const m=e[p];if(m){const g=cd(c,m);g<d&&(d=g)}}d>l&&(l=d,o=u)}i.push(o),a.delete(o)}return i.map(o=>t[o])}function qy(){return Ks||(Ks=Yy()),Ks}function Xy(t,e,n){const r=(t+16)/116,a=e/500+r,i=r-n/200,o=d=>{const p=d*d*d;return p>.008856?p:(d-16/116)/7.787},l=o(a)*95.047,u=o(r)*100,c=o(i)*108.883;return{X:l,Y:u,Z:c}}function Ky(t,e,n){t/=100,e/=100,n/=100;let r=t*3.2406+e*-1.5372+n*-.4986,a=t*-.9689+e*1.8758+n*.0415,i=t*.0557+e*-.204+n*1.057;const o=l=>l<=.0031308?12.92*l:1.055*Math.pow(l,1/2.4)-.055;return r=Math.min(1,Math.max(0,o(r))),a=Math.min(1,Math.max(0,o(a))),i=Math.min(1,Math.max(0,o(i))),{r:Math.round(r*255),g:Math.round(a*255),b:Math.round(i*255)}}function Zy(t,e,n){return`#${[t,e,n].map(r=>r.toString(16).padStart(2,"0")).join("")}`}function Jy(t,e){const n=ld(t);if(!n)return t;const r=Math.min(100,Math.max(0,n.L+e)),{X:a,Y:i,Z:o}=Xy(r,n.a,n.b),l=Ky(a,i,o);return Zy(l.r,l.g,l.b)}function Qy(){const t=qy(),n=[12,-12,24,-24].map(a=>t.map(i=>Jy(i,a))),r=[...t];return n.forEach(a=>r.push(...a)),r}function ex(){return(!Zs||tx())&&(Zs=Qy(),ud=od),Zs}let ud=null;function tx(){return ud!==od}function Ht(t){const e=ex();return e[t%e.length]}let lr=null,zr=null,Wr=null,Ur=null;function nx(){const t=Or?.color?.["data-viz"]?.stroke;if(t){const e=t.categorical||{};lr=[];for(let i=1;i<=12;i++){const o=e[String(i)]?.$value||e[String(i)]?.value;lr.push(typeof o=="string"?o:"#212b32")}const n=t.region||{};zr={},Object.keys(n).forEach(i=>{const o=n[i]?.$value||n[i]?.value;typeof o=="string"&&(zr[i]=o)});const r=t.severity||{},a=t["org-level"]||{};Ur={},Object.keys(a).forEach(i=>{const o=a[i]?.$value||a[i]?.value;typeof o=="string"&&(Ur[i]=o)}),Wr={},Object.keys(r).forEach(i=>{const o=r[i]?.$value||r[i]?.value;typeof o=="string"&&(Wr[i]=o)})}}function hi(){(!lr||!zr||!Wr||!Ur)&&nx()}function Rn(t){return hi(),lr?lr[t%lr.length]:"#212b32"}function rx(t){return hi(),zr?zr[t]:void 0}function pi(t,e){return rx(t)||Rn(e)}const Qs=["low","moderate","high","critical"];let eo=null;function ax(){const t={color:{...fi.color,...Or.color}},e=(r,a=new Set)=>{if(a.has(r))return;a.add(r);const i=r.split(".").reduce((l,u)=>l?l[u]:void 0,t);if(!i)return;const o=i.$value||i.value;return typeof o=="string"&&/^\{.+\}$/.test(o)?e(o.slice(1,-1),a):typeof o=="string"?o:void 0},n={};return Qs.forEach(r=>{const a=e(`color.data-viz.severity.${r}`);a&&(n[r]=a)}),n}function dd(){return eo||(eo=ax()),eo}function ix(t){return dd()[t.toLowerCase()]}function sx(t,e){return ix(t)||dd()[Qs[e%Qs.length]]||Ht(e)}function ox(t){return hi(),Wr?Wr[t]:void 0}function lx(t,e){return ox(t)||Rn(e)}const to=["trust","ambulance","icb","region"];let no=null;function cx(){const t={color:{...fi.color,...Or.color}},e=(r,a=new Set)=>{if(a.has(r))return;a.add(r);const i=r.split(".").reduce((l,u)=>l?l[u]:void 0,t);if(!i)return;const o=i.$value||i.value;return typeof o=="string"&&/^\{.+\}$/.test(o)?e(o.slice(1,-1),a):typeof o=="string"?o:void 0},n={};return to.forEach(r=>{const a=e(`color.data-viz.org-level.${r}`);a&&(n[r]=a)}),n}function fd(){return no||(no=cx()),no}function ux(t){return fd()[t.toLowerCase()]}function dx(t,e){return ux(t)||fd()[to[e%to.length]]||Ht(e)}function fx(t){return hi(),Ur?Ur[t]:void 0}function hx(t,e){return fx(t)||Rn(e)}let ro=null;const px=["north-east","north-west","east-of-england","midlands","london","south-west","south-east"];function mx(t){return t.trim().toLowerCase().replace(/&/g,"and").replace(/[^a-z0-9]+/g,"-").replace(/^-+|-+$/g,"")}function gx(){const t={color:{...fi.color,...Or.color}},e=(a,i=new Set)=>{if(i.has(a))return;i.add(a);const o=a.split(".").reduce((u,c)=>u?u[c]:void 0,t);if(!o)return;const l=o.$value||o.value;return typeof l=="string"&&/^\{.+\}$/.test(l)?e(l.slice(1,-1),i):typeof l=="string"?l:void 0},n={},r=[];return px.forEach(a=>{const i=e(`color.data-viz.region.${a}`);i?n[a]=i:r.push(a)}),process.env.NODE_ENV!=="production"&&(Object.keys(n).length===0?console.warn("[DataViz] Region colour tokens unresolved  falling back to categorical colours."):r.length&&console.warn(`[DataViz] Missing region colour tokens: ${r.join(", ")}.`)),n}function _x(){return ro||(ro=gx()),ro}function bx(t){return _x()[mx(t)]}function cr(t,e){return bx(t)||Ht(e)}const hd=K.createContext(null),Gr=()=>K.useContext(hd),yx=({initialHiddenIds:t=[],children:e,hiddenIds:n,onChange:r})=>{const[a,i]=K.useState(()=>new Set(t)),o=n!==void 0,l=K.useMemo(()=>o?new Set(n):a,[o,n,a]),u=K.useCallback(d=>{o||i(new Set(d)),r?.(Array.from(d))},[o,r]),c=K.useMemo(()=>({hiddenIds:l,isHidden:d=>l.has(d),toggle:d=>{const p=new Set(l);p.has(d)?p.delete(d):p.add(d),u(p)},showOnly:d=>{u(new Set)},showAll:()=>u(new Set),setHidden:d=>u(new Set(Array.isArray(d)?d:Array.from(d)))}),[l,u]);return s.jsx(hd.Provider,{value:c,children:e})},pd=K.createContext(null),yn=()=>K.useContext(pd),md=({children:t,maxDistance:e=40,wrapAround:n=!1})=>{const r=Hn(),a=Gr(),[i,o]=K.useState(null),l=K.useRef(new Map),[u,c]=K.useState([]),d=K.useCallback(($,v)=>{l.current.set($,v)},[]),p=K.useCallback($=>{l.current.delete($)},[]),m=K.useCallback(($,v)=>{if(!r)return;const{xScale:b,yScale:D}=r;let x=null,C=1/0;l.current.forEach((B,I)=>{B.forEach((P,w)=>{const E=b(P.x),te=D(P.y),z=E-$,W=te-v,G=Math.sqrt(z*z+W*W);G<C&&(C=G,x={seriesId:I,index:w,x:P.x,y:P.y,clientX:E,clientY:te})})}),x&&C<=e?o(x):o(null)},[r,e]),g=K.useCallback(()=>o(null),[]);K.useEffect(()=>{if(!i){c([]);return}if(!r)return;const{xScale:$,yScale:v}=r,b=[];l.current.forEach((D,x)=>{D.forEach((C,B)=>{(i.x instanceof Date&&C.x instanceof Date?C.x.getTime()===i.x.getTime():C.x===i.x)&&b.push({seriesId:x,index:B,x:C.x,y:C.y,clientX:$(C.x),clientY:v(C.y)})})}),b.sort((D,x)=>D.seriesId.localeCompare(x.seriesId)),c(b)},[i,r]);const y=K.useCallback($=>{if(!i)return;const v=l.current.get(i.seriesId);if(!v)return;let b=i.index+$;if(b<0||b>=v.length){if(!n)return;b=(b+v.length)%v.length}const D=v[b];if(!r)return;const{xScale:x,yScale:C}=r;o({seriesId:i.seriesId,index:b,x:D.x,y:D.y,clientX:x(D.x),clientY:C(D.y)})},[i,r,n]),h=K.useCallback($=>{let v=Array.from(l.current.keys());if(a&&(v=v.filter(E=>!a.isHidden(E))),v.length===0)return;if(!i){const E=v[0],te=l.current.get(E);if(!te||!r)return;const{xScale:z,yScale:W}=r,G=te[0];o({seriesId:E,index:0,x:G.x,y:G.y,clientX:z(G.x),clientY:W(G.y)});return}const b=v.indexOf(i.seriesId);if(b===-1)return;let D=b+$;if(D<0||D>=v.length){if(!n)return;D=(D+v.length)%v.length}const x=v[D],C=l.current.get(x);if(!C||!r)return;const B=Math.min(i.index,C.length-1),I=C[B],{xScale:P,yScale:w}=r;o({seriesId:x,index:B,x:I.x,y:I.y,clientX:P(I.x),clientY:w(I.y)})},[i,r,n,a]),f=K.useCallback(()=>{let $=Array.from(l.current.keys());if(a&&($=$.filter(B=>!a.isHidden(B))),$.length===0)return;const v=i?i.seriesId:$[0],b=l.current.get(v);if(!b||b.length===0||!r)return;const D=b[0],{xScale:x,yScale:C}=r;o({seriesId:v,index:0,x:D.x,y:D.y,clientX:x(D.x),clientY:C(D.y)})},[i,r,a]),L=K.useCallback(()=>{let $=Array.from(l.current.keys());if(a&&($=$.filter(I=>!a.isHidden(I))),$.length===0)return;const v=i?i.seriesId:$[0],b=l.current.get(v);if(!b||b.length===0||!r)return;const D=b.length-1,x=b[D],{xScale:C,yScale:B}=r;o({seriesId:v,index:D,x:x.x,y:x.y,clientX:C(x.x),clientY:B(x.y)})},[i,r,a]),M=K.useCallback(()=>y(1),[y]),j=K.useCallback(()=>y(-1),[y]),S=K.useCallback(()=>h(1),[h]),N=K.useCallback(()=>h(-1),[h]),k=K.useMemo(()=>({focused:i,setFocused:o,aggregated:u,focusNearest:m,clear:g,registerSeries:d,unregisterSeries:p,focusNextPoint:M,focusPrevPoint:j,focusNextSeries:S,focusPrevSeries:N,focusFirstPoint:f,focusLastPoint:L}),[i,u,m,g,d,p,M,j,S,N,f,L]);return s.jsx(pd.Provider,{value:k,children:t})},gd=({series:t,seriesIndex:e,palette:n,showPoints:r,focusablePoints:a,focusIndex:i,parseX:o,visibilityMode:l="remove",strokeWidth:u=1,smooth:c=!0,gradientFillId:d,colors:p})=>{const m=Hn();if(!m)return null;const{xScale:g,yScale:y}=m,f=Gr()?.isHidden(t.id)??!1,L=f&&l==="fade";if(f&&l==="remove")return null;const M=yn();K.useEffect(()=>{if(!M)return;const v=t.data.map(b=>({x:o(b),y:b.y}));return M.registerSeries(t.id,v),()=>M.unregisterSeries(t.id)},[M,t.id,t.data,o]);const j=K.useMemo(()=>Vs(t.data,v=>g(o(v)),v=>y(v.y),{smooth:c}),[t.data,g,y,o,c]),S=K.useMemo(()=>{if(!t.data.length)return"";const[v]=y.domain(),b=Us().x(D=>g(o(D))).y0(()=>y(v)).y1(D=>y(D.y));return c&&b.curve(di),b(t.data)||""},[t.data,g,y,o,c]),N=p&&p[e],k=t.color||N||(n==="region"?cr(t.id,e):Ht(e)),$=n==="region"?pi(t.id,e):Rn(e);return s.jsxs("g",{className:"fdp-line-series","data-series":t.id,opacity:L?.25:1,"aria-hidden":L?!0:void 0,children:[d&&s.jsx("path",{d:S,fill:`url(#${d})`,stroke:"none",role:"presentation",className:"fdp-line-series__gradient"}),s.jsx("path",{d:j,fill:"none",stroke:k,strokeWidth:u,role:"presentation"}),r&&t.data.map((v,b)=>{const D=g(o(v)),x=y(v.y),C=a?0:-1,B=!L&&(a&&b===i||M?.focused?.seriesId===t.id&&M.focused.index===b),I=()=>{M&&!L&&M.setFocused({seriesId:t.id,index:b,x:o(v),y:v.y,clientX:D,clientY:x})},P=()=>{M&&M.focused?.seriesId===t.id&&M.focused.index===b&&M.clear()};return s.jsx("circle",{cx:D,cy:x,r:B?5:3.5,stroke:B?"var(--nhs-fdp-color-primary-yellow, #ffeb3b)":$,strokeWidth:B?2:1,fill:B?"var(--nhs-fdp-color-grey-3, #aeb7bd)":k,className:"fdp-line-point",tabIndex:L?-1:C,"aria-label":`${t.label||t.id} ${o(v).toDateString()} value ${v.y}`,"data-series":t.id,"data-index":b,onMouseEnter:I,onFocus:I,onMouseLeave:P,onBlur:P},b)})]})},xx=({polite:t=!0,format:e})=>{const n=yn(),[r,a]=K.useState(""),i=K.useRef("");return K.useEffect(()=>{if(!n?.focused)return;const{focused:o,aggregated:l}=n;let u;if(l&&l.length>1){const c=l.map(p=>`${p.seriesId} ${p.y}`).join("; ");u=`${o.x instanceof Date?o.x.toDateString():String(o.x)} â€“ ${c}`}else u=e?e({seriesId:o.seriesId,x:o.x,y:o.y,index:o.index}):vx(o.seriesId,o.x,o.y,o.index);if(u!==i.current){i.current=u,a("");const c=setTimeout(()=>a(u),10);return()=>clearTimeout(c)}},[n?.focused,e]),s.jsx("div",{"aria-live":t?"polite":"assertive","aria-atomic":"true",style:{position:"absolute",width:1,height:1,margin:-1,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",border:0},children:r})};function vx(t,e,n,r){const a=e instanceof Date?e.toDateString():String(e);return`Series ${t}, point ${r+1}, ${a}, value ${n}`}const wx=()=>{const t=yn(),e=bn();if(!t||!e||!t.focused)return null;const{focused:n,aggregated:r}=t,{innerWidth:a,innerHeight:i}=e,o=Math.min(Math.max(n.clientX,0),a),l=Math.min(Math.max(n.clientY,0),i),u=o+8,c=l-8,d=r.length>1,p=n.x instanceof Date?n.x.toDateString():String(n.x),m=d?p:`${p} â€¢ ${n.y}`,g=/\d+$/.exec(n.seriesId||""),y=g?parseInt(g[0],10)-1:0,h=Ht(y>=0?y:0)||"#005eb8",f="var(--nhs-fdp-color-primary-yellow,#ffeb3b)";return s.jsxs("g",{className:"fdp-tooltip-layer",pointerEvents:"none",children:[s.jsx("circle",{cx:o,cy:l,r:7,fill:"none",stroke:f,strokeWidth:3}),s.jsx("circle",{cx:o,cy:l,r:5,fill:"#000",stroke:f,strokeWidth:1.5}),s.jsx("circle",{cx:o,cy:l,r:2.5,fill:h,stroke:"#fff",strokeWidth:.5}),d?(()=>{const M=r.map($=>`${$.seriesId}: ${$.y}`),j=[m,...M],S=j.reduce(($,v)=>Math.max($,v.length),0),N=Math.max(90,S*6.2+16),k=16*j.length+8;return s.jsxs("g",{children:[s.jsx("rect",{x:u,y:c-k,rx:4,ry:4,width:N,height:k,fill:"#212b32",opacity:.92}),j.map(($,v)=>s.jsx("text",{x:u+8,y:c-k+6+16*(v+.7),fill:"#fff",fontSize:12,children:$},v))]})})():s.jsxs("g",{children:[s.jsx("rect",{x:u,y:c-24,rx:4,ry:4,width:Math.max(60,m.length*6.2),height:24,fill:"#212b32",opacity:.92}),s.jsx("text",{x:u+8,y:c-8,fill:"#fff",fontSize:12,children:m})]})]})},Sx=({items:t,palette:e="categorical",direction:n="row",interactive:r=!1,adjustStrokeForWhiteBackground:a=!0,hiddenIds:i,defaultHiddenIds:o=[],onVisibilityChange:l,formatAnnouncement:u})=>{const c=Gr(),d=!!(c&&!r&&!l&&i===void 0),p=r||d,m=t||[],g=i!==void 0,[y,h]=K.useState(new Set(o)),f=g?new Set(i):y,[L,M]=K.useState(""),j=S=>{if(d&&c){const C=c.isHidden(S);c.toggle(S);const I=m.find(w=>w.id===S)?.label||S,P=u?u(S,C,I):`${I} ${C?"shown":"hidden"}`;M(P);return}if(!p)return;const N=new Set(f),k=N.has(S);k?N.delete(S):N.add(S),g||h(N);const $=m.filter(C=>!N.has(C.id)).map(C=>C.id),v=Array.from(N);l?.($,v);const D=m.find(C=>C.id===S)?.label||S,x=u?u(S,k,D):`${D} ${k?"shown":"hidden"}`;M(x)};return s.jsxs("div",{className:"fdp-legend-wrapper",children:[s.jsx("ul",{className:`fdp-legend fdp-legend--${n}`,children:m.map((S,N)=>{const k=S.palette||e,$=S.color||(k==="region"?cr(S.id,N):k==="severity"?sx(S.id,N):k==="org-level"?dx(S.id,N):Ht(N));let v=S.stroke||(k==="region"?pi(S.id,N):k==="severity"?lx(S.id,N):k==="org-level"?hx(S.id,N):Rn(N));if(a&&v){const x=v.trim().toLowerCase();(x==="#fff"||x==="#ffffff"||x==="white"||/^rgb\(\s*255\s*,\s*255\s*,\s*255\s*\)$/.test(x))&&(v="#212b32")}const b=d&&c?c.isHidden(S.id):f.has(S.id),D=p?{"aria-pressed":!b,"aria-label":`${S.label} (${b?"show":"hide"})`,onClick:()=>j(S.id)}:{"aria-label":S.label};return s.jsxs("li",{className:`fdp-legend__item${b?" fdp-legend__item--hidden":""}`,children:[s.jsx("button",{type:"button",className:"fdp-legend__swatch",style:{backgroundColor:$,backgroundImage:S.patternDataUrl?`url(${S.patternDataUrl})`:void 0,backgroundSize:S.patternDataUrl?"auto":void 0,borderColor:v},...D}),s.jsx("span",{className:"fdp-legend__label",children:S.label})]},S.id)})}),p&&s.jsx("div",{className:"fdp-visually-hidden","aria-live":"polite","aria-atomic":"true",children:L})]})},kx=({series:t,seriesIndex:e,palette:n,parseX:r,areaOnly:a=!1,visibilityMode:i="remove",baselineY:o=0,smooth:l=!0,stacked:u,gradientFill:c=!0,colors:d})=>{const p=Hn();if(!p)return null;const{xScale:m,yScale:g}=p,h=Gr()?.isHidden(t.id)??!1,f=h&&i==="fade";if(h&&i==="remove")return null;const L=yn();K.useEffect(()=>{if(!L)return;const $=t.data.map(v=>({x:r(v),y:v.y}));return L.registerSeries(t.id,$),()=>L.unregisterSeries(t.id)},[L,t.id,t.data,r]);const M=d&&d[e],j=t.color||M||(n==="region"?cr(t.id,e):Ht(e)),S=K.useMemo(()=>u&&u.length===t.data.length?Vs(t.data,$=>m(r($)),$=>{const v=t.data.indexOf($);return g(u[v].y1)},{smooth:l}):Vs(t.data,$=>m(r($)),$=>g($.y),{smooth:l}),[t.data,u,m,g,r,l]),N=K.useMemo(()=>{if(u&&u.length===t.data.length){const x=Us().x(C=>m(r(C))).y0((C,B)=>g(u[B].y0)).y1((C,B)=>g(u[B].y1));return l&&x.curve(di),x(t.data)||""}const[$,v]=g.domain();let b=o;b<$?b=$:b>v&&(b=v);const D=Us().x(x=>m(r(x))).y0(()=>g(b)).y1(x=>g(x.y));return l&&D.curve(di),D(t.data)||""},[t.data,u,m,g,r,o,l]),k=K.useId();return s.jsxs("g",{className:"fdp-area-series","data-series":t.id,opacity:f?.25:1,"aria-hidden":f?!0:void 0,children:[c&&s.jsx("defs",{children:s.jsxs("linearGradient",{id:k,x1:"0%",y1:"0%",x2:"0%",y2:"100%",children:[s.jsx("stop",{offset:"0%",stopColor:j,stopOpacity:.25}),s.jsx("stop",{offset:"100%",stopColor:j,stopOpacity:0})]})}),s.jsx("path",{className:"fdp-area-series__fill",d:N,fill:c?`url(#${k})`:j,...c?{}:{fillOpacity:.25},stroke:"none"}),!a&&s.jsx("path",{d:S,fill:"none",stroke:j,strokeWidth:1})]})},Cx=({series:t,seriesIndex:e,seriesCount:n,palette:r,parseX:a,focusable:i=!0,widthFactor:o=.8,groupGap:l=2,barWidth:u,adaptive:c=!1,adaptiveGroupOccupancy:d=.9,visibilityMode:p="remove",colorMode:m="series",allSeries:g,stacked:y,gapRatio:h=.15,minBarWidth:f,gradientFill:L=!0,gradientStrokeMatch:M=!0,opacity:j=1,fadedOpacity:S=.25,flatFillOpacity:N=1,colors:k})=>{const $=Math.max(0,h),v=Hn(),b=bn();if(!v||!b)return null;const{xScale:D,yScale:x}=v,B=Gr()?.isHidden(t.id)??!1,I=B&&p==="fade";if(B&&p==="remove")return null;const P=yn();K.useEffect(()=>{if(!P)return;const R=t.data.map(V=>({x:a(V),y:V.y}));return P.registerSeries(t.id,R),()=>P.unregisterSeries(t.id)},[P,t.id,t.data,a]);const w=typeof D.bandwidth=="function",E=w?D.bandwidth():void 0,te=K.useMemo(()=>{if(E!=null)return E;const R=g&&g.length?g:[t],V=[];R.forEach(ie=>{ie.data.forEach(ue=>{const fe=D(a(ue));Number.isFinite(fe)&&V.push(fe)})});const le=V.sort((ie,ue)=>ie-ue);if(le.length<=1)return 40;const U=[];for(let ie=1;ie<le.length;ie++)U.push(le[ie]-le[ie-1]);return U.sort((ie,ue)=>ie-ue),(U[Math.floor(U.length/2)]||40)*o},[t.data,g,D,a,o,E]),{basePerBar:z}=K.useMemo(()=>{if(w){const le=te,U=Math.max(1,(le-l*(n-1))/n),de=t.barWidth??u;let ie=de?Math.min(de,le):U;if(c){const ue=le*Math.min(1,Math.max(.05,d)),fe=Math.max(1,(ue-l*(n-1))/n);ie=de?Math.min(ie,fe):fe}return{basePerBar:ie}}const R=t.barWidth??u,V=Math.max(1,(te-l*(n-1))/n);if(c){const le=g&&g.length?g:[t],U=[];le.forEach(De=>De.data.forEach(ke=>{const me=D(a(ke));Number.isFinite(me)&&U.push(me)})),U.sort((De,ke)=>De-ke);const de=[];for(let De=1;De<U.length;De++)de.push(U[De]-U[De-1]);de.sort((De,ke)=>De-ke);const ue=(de[Math.floor(de.length/2)]||te)*Math.min(1,Math.max(.05,d)),fe=Math.max(1,(ue-l*(n-1))/n);return{basePerBar:R?Math.min(R,fe):fe}}return R?{basePerBar:Math.min(R,V)}:{basePerBar:V}},[w,te,l,n,u,t.barWidth,c,d,g,D,a]),W=K.useMemo(()=>{if(w)return[];const R=[];return(g&&g.length?g:[t]).forEach(le=>le.data.forEach(U=>{const de=D(a(U));Number.isFinite(de)&&R.push(de)})),R.sort((le,U)=>le-U),Array.from(new Set(R))},[w,g,t,D,a]),G=K.useMemo(()=>{if(w)return[];if(!W.length)return[];if(W.length===1)return[{center:W[0],left:0,right:b.innerWidth}];const R=[];for(let V=0;V<W.length;V++){const le=W[V],U=V===0?0:(W[V-1]+le)/2,de=V===W.length-1?b.innerWidth:(le+W[V+1])/2;R.push({center:le,left:Math.max(0,U),right:Math.min(b.innerWidth,de)})}return R},[w,W,b.innerWidth]),H=K.useMemo(()=>{if(w||!G.length)return;const R=Math.min(1,Math.max(.05,o)),V=G.map(ue=>Math.max(2,ue.right-ue.left)),le=V.map(ue=>Math.max(2,Math.min(ue-1,ue*R)));let U=Math.min(...le);if(f)if(n<=1){const ue=Math.min(...V.map(fe=>fe-1));ue>=f&&U<f&&(U=Math.min(ue,f))}else{const ue=Math.min(...V.map(ye=>ye-1)),fe=f*n+(n-1)*(f*$);fe<=ue&&U<fe&&(U=fe)}if(n<=1)return f&&U<f&&V.every(fe=>fe>=f)?{groupWidth:f,barWidth:f}:{groupWidth:U,barWidth:U};let de=U/(n+(n-1)*$);return de<1&&(de=1),f&&de<f&&f*n+(n-1)*(f*$)<=U&&(de=f),{groupWidth:de*n+(n-1)*(de*$),barWidth:de}},[w,G,o,n,$,f]),oe=k&&k[e]?k[e]:void 0,T=t.color||oe||(r==="region"?cr(t.id,e):Ht(e)),O=r==="region"?pi(t.id,e):Rn(e),Q=M&&(t.color||oe)?T:O,re=Number.isFinite(x(0))?x(0):x.range()[0],q=K.useId();return y&&y.length===t.data.length?s.jsxs("g",{className:"fdp-bar-series fdp-bar-series--stacked","data-series":t.id,opacity:I?S:j,"aria-hidden":I?!0:void 0,children:[L&&s.jsx("defs",{children:s.jsxs("linearGradient",{id:q,x1:"0%",y1:"0%",x2:"0%",y2:"100%",children:[s.jsx("stop",{offset:"0%",stopColor:T,stopOpacity:.3}),s.jsx("stop",{offset:"60%",stopColor:T,stopOpacity:.14}),s.jsx("stop",{offset:"100%",stopColor:T,stopOpacity:.06})]})}),t.data.map((R,V)=>{const le=a(R),U=D(w?R.x:le);let de,ie;if(w)de=te,ie=U;else{const ae=G.find(Y=>Math.abs(Y.center-U)<.5);if(!ae||!H)de=z,ie=U-z/2;else{const{groupWidth:Y}=H;de=Y;let F=U-Y/2;F<ae.left&&(F=ae.left),F+Y>ae.right&&(F=Math.max(ae.left,ae.right-Y)),ie=F}}const ue=y[V],fe=x(ue.y0),ye=x(ue.y1),De=Math.min(fe,ye),ke=Math.abs(ye-fe)||1;if(!w&&f&&de<f){const ae=G.find(Y=>Math.abs(Y.center-U)<.5);if(ae){const Y=Math.max(2,ae.right-ae.left-1),F=Math.min(Y,f);F>de&&(de=F,ie=Math.max(ae.left,Math.min(ae.right-de,U-de/2)))}}const me=!I&&P?.focused?.seriesId===t.id&&P.focused.index===V,ee=()=>{!P||I||P.setFocused({seriesId:t.id,index:V,x:le,y:ue.y1-ue.y0,clientX:ie+de/2,clientY:De})},J=()=>{P?.focused?.seriesId===t.id&&P.focused.index===V&&P.clear()};return s.jsx("rect",{x:ie,y:De,width:de,height:ke,fill:L?`url(#${q})`:T,...L?{}:{fillOpacity:N},stroke:me?"var(--nhs-fdp-color-primary-yellow, #ffeb3b)":L&&M?T:void 0,strokeWidth:me?2:1,className:"fdp-bar fdp-bar--stacked",tabIndex:I||!i?-1:0,role:"graphics-symbol","aria-label":`${t.label||t.id} ${le instanceof Date?le.toDateString():le} value ${ue.y1-ue.y0}`,onMouseEnter:ee,onFocus:ee,onMouseLeave:J,onBlur:J},V)})]}):s.jsxs("g",{className:"fdp-bar-series","data-series":t.id,opacity:I?S:j,"aria-hidden":I?!0:void 0,children:[L&&s.jsxs("defs",{children:[m==="series"&&s.jsxs("linearGradient",{id:q,x1:"0%",y1:"0%",x2:"0%",y2:"100%",children:[s.jsx("stop",{offset:"0%",stopColor:T,stopOpacity:.3}),s.jsx("stop",{offset:"60%",stopColor:T,stopOpacity:.14}),s.jsx("stop",{offset:"100%",stopColor:T,stopOpacity:.06})]}),m==="category"&&t.data.map((R,V)=>{const U=k&&k[V]||(r==="region"?cr(String(R.x),V):Ht(V)),de=`${q}-${V}`;return s.jsxs("linearGradient",{id:de,x1:"0%",y1:"0%",x2:"0%",y2:"100%",children:[s.jsx("stop",{offset:"0%",stopColor:U,stopOpacity:.3}),s.jsx("stop",{offset:"60%",stopColor:U,stopOpacity:.14}),s.jsx("stop",{offset:"100%",stopColor:U,stopOpacity:.06})]},de)})]}),t.data.map((R,V)=>{const le=a(R),U=D(w?R.x:le);let de,ie;if(w){const se=te;if(n<=1)ie=se,de=U;else{ie=Math.max(1,se/(n+(n-1)*$));const Z=ie*$,ne=ie*n+Z*(n-1);de=U+(se-ne)/2+e*(ie+Z)}}else{const se=G.find(Z=>Z.center===U);if(!se||!H)ie=z,de=U-z/2,f&&ie<f&&(ie=f,de=U-ie/2);else{const{barWidth:Z}=H;ie=Z;const ne=n>1?Z*$:0,ce=ie*n+ne*(n-1);let we=U-ce/2;we<se.left&&(we=se.left),we+ce>se.right&&(we=Math.max(se.left,se.right-ce)),de=we+e*(ie+ne)}if(f&&ie<f){const Z=G.find(ne=>Math.abs(ne.center-U)<.5);if(Z){const ne=Math.max(2,Z.right-Z.left-1),ce=Math.min(ne,f);if(ce>ie)if(n<=1)ie=ce,de=Math.max(Z.left,Math.min(Z.right-ie,U-ie/2));else{const we=ce*$,Ce=ce*n+we*(n-1);if(Ce<=Z.right-Z.left-1){ie=ce;const xe=Ce;let Ne=U-xe/2;Ne<Z.left&&(Ne=Z.left),Ne+xe>Z.right&&(Ne=Math.max(Z.left,Z.right-xe)),de=Ne+e*(ie+we)}}}}}const ue=de+ie/2,fe=x(R.y),ye=Math.min(re,fe),De=Math.abs(re-fe),ke=!I&&P?.focused?.seriesId===t.id&&P.focused.index===V,me=()=>{!P||I||P.setFocused({seriesId:t.id,index:V,x:le,y:R.y,clientX:ue,clientY:fe})},ee=()=>{P?.focused?.seriesId===t.id&&P.focused.index===V&&P.clear()},J=m==="category"&&k?k[V]:void 0,ae=m==="category"?J||(r==="region"?cr(String(R.x),V):Ht(V)):T,Y=m==="category"?`${q}-${V}`:q,F=L&&M?ae:m==="category"?r==="region"?pi(String(R.x),V):Rn(V):Q,X=ke?"var(--nhs-fdp-color-primary-yellow, #ffeb3b)":F||ae;return s.jsx("rect",{x:de,y:ye,width:ie,height:De||1,fill:L?`url(#${Y})`:ae,...L?{}:{fillOpacity:N},stroke:X,strokeWidth:ke?2:1,className:"fdp-bar",tabIndex:I||!i?-1:0,role:"graphics-symbol","aria-label":`${t.label||t.id} ${le instanceof Date?le.toDateString():le} value ${R.y}`,onMouseEnter:me,onFocus:me,onMouseLeave:ee,onBlur:ee},V)})]})},Tx=({series:t,innerWidth:e,innerHeight:n,paddingInner:r=.1,paddingOuter:a=.05,children:i,yTickCount:o=5})=>{const l=bn(),u=e??l?.innerWidth??0,c=n??l?.innerHeight??0,d=K.useMemo(()=>t.flatMap(f=>f.data),[t]),p=K.useMemo(()=>{const f=new Set;return d.forEach(L=>f.add(L.x)),Array.from(f)},[d]),m=K.useMemo(()=>Math.max(0,...d.map(f=>f.y)),[d]),g=K.useMemo(()=>Cc().domain(p).range([0,u]).paddingInner(r).paddingOuter(a),[p,u,r,a]),y=K.useMemo(()=>Qa().domain([0,m]).nice().range([c,0]),[m,c]),h=K.useMemo(()=>({xScale:g,yScale:y,getXTicks:()=>p,getYTicks:(f=o)=>y.ticks(f)}),[g,y,p,o]);return s.jsx(Ys.Provider,{value:h,children:i})},Nx=({title:t,description:e,source:n,table:r,className:a,id:i,message:o="Interactive chart loadingâ€¦",forceFallback:l=!1})=>{const u=K.useId(),c=i||u,d=e?`${c}-desc`:void 0,p=n?`${c}-src`:void 0,m=typeof window<"u"&&!l;return s.jsxs("figure",{id:c,className:ci("fdp-chart fdp-chart--noscript",a),"aria-labelledby":`${c}-title`,"aria-describedby":ci(d,p),"data-component":"ChartNoScript",children:[s.jsx("header",{className:"fdp-chart__header",children:s.jsx("h3",{id:`${c}-title`,className:"fdp-chart__title",children:t})}),e&&s.jsx("p",{id:d,className:"fdp-chart__description",children:e}),!m&&s.jsx("div",{className:"fdp-chart__loading",role:"status","aria-live":"polite",children:o}),s.jsxs("div",{className:"fdp-chart__fallback",role:"group","aria-label":t,children:[s.jsx("noscript",{children:s.jsx("div",{className:"fdp-chart__noscript-wrapper",children:s.jsx(Dt,{...r})})}),s.jsx("div",{className:"fdp-chart__table","data-fallback-table":!0,children:s.jsx(Dt,{...r})})]}),n&&s.jsx("figcaption",{className:"fdp-chart__caption",children:n&&s.jsxs("small",{id:p,className:"fdp-chart__source",children:["Source: ",n]})})]})},jx=({selector:t="figure.fdp-chart",onEnhanced:e,delay:n=0,children:r})=>{const a=K.useRef(null);return K.useEffect(()=>{const i=a.current;if(!i)return;const o=()=>{const l=Array.from(i.querySelectorAll(t));if(l.length===0)return;const u=[];l.forEach(c=>{c.classList.contains("fdp-chart--enhanced")||(c.classList.add("fdp-chart--enhanced"),u.push(c))}),u.length&&e&&e(u)};if(n>0){const l=window.setTimeout(o,n);return()=>window.clearTimeout(l)}o()},[t,e,n]),s.jsx("div",{ref:a,children:r})},Dx=({label:t,value:e,unit:n,delta:r,status:a="neutral",variant:i="default",subtitle:o,metadata:l,trendData:u,loading:c=!1,error:d,valueFormatter:p,className:m,id:g,announceDelta:y=!0})=>{const h=K.useId(),f=g||h,L=`${f}-label`,M=`${f}-value`,j=`${f}-delta`,S=typeof e=="number"&&!Number.isNaN(e),N=c?"â€”":d?"":S?p?p(e):e.toLocaleString():e;let k,$="",v="";if(r&&!c&&!d){k=r.direction||(r.value>0?"up":r.value<0?"down":"neutral");const b=Math.abs(r.value),D=k==="up"?`+${b}`:k==="down"?`-${b}`:"0",x=r.isPercent?"%":"";if($=`${D}${x}`,r.ariaLabel)v=r.ariaLabel;else{const C=r.invert?k==="down":k==="up";v=`${k==="neutral"?"no change":k==="up"?"up":"down"} ${b}${x}${k==="neutral"?"":C?" (improvement)":" (worse)"}`}}return s.jsx("div",{className:ci("fdp-metric-card",i&&`fdp-metric-card--${i}`,a&&`fdp-metric-card--status-${a}`,c&&"fdp-metric-card--loading",d&&"fdp-metric-card--error",m),role:"group","aria-labelledby":L,"data-component":"MetricCard",children:s.jsxs("div",{className:"fdp-metric-card__inner",children:[s.jsxs("div",{className:"fdp-metric-card__header",children:[s.jsx("h3",{id:L,className:"fdp-metric-card__label",children:t}),l&&s.jsx("div",{className:"fdp-metric-card__metadata",children:l})]}),s.jsxs("div",{className:"fdp-metric-card__content",children:[s.jsxs("div",{className:"fdp-metric-card__value-section",children:[s.jsx("div",{id:M,className:"fdp-metric-card__value",children:c?s.jsx("div",{className:"fdp-metric-card__skeleton","aria-hidden":"true",children:s.jsx("div",{className:"fdp-metric-card__skeleton-line fdp-metric-card__skeleton-line--value"})}):d?s.jsx("div",{className:"fdp-metric-card__error",role:"alert",children:d}):s.jsxs(s.Fragment,{children:[s.jsx("span",{className:"fdp-metric-card__number",children:N}),n&&s.jsx("span",{className:"fdp-metric-card__unit",children:n})]})}),o&&!c&&!d&&s.jsx("div",{className:"fdp-metric-card__subtitle",children:o})]}),r&&!c&&!d&&s.jsx("div",{className:"fdp-metric-card__delta-section",children:s.jsxs("div",{id:j,"aria-label":v,className:ci("fdp-metric-card__delta",k&&`fdp-metric-card__delta--${k}`),children:[s.jsx("span",{className:"fdp-metric-card__delta-value",children:$}),r.period&&s.jsx("span",{className:"fdp-metric-card__delta-period",children:r.period})]})}),u&&u.length>0&&!c&&!d&&s.jsx("div",{className:"fdp-metric-card__trend","aria-hidden":"true"})]}),y&&r&&!r.ariaLabel&&!c&&!d&&s.jsx("div",{className:"fdp-visually-hidden","aria-live":"polite",children:v})]})})};var ur=(t=>(t.Upwards="Upwards",t.Downwards="Downwards",t.Same="Same",t))(ur||{});function Mx(t){const e=[],n=[],r=(a,i)=>{a.push({id:i,rank:Px[i]})};return t.specialCauseSinglePointAbove&&r(e,cn.SinglePoint),t.specialCauseSinglePointBelow&&r(n,cn.SinglePoint),t.specialCauseTwoOfThreeAbove&&r(e,cn.TwoSigma),t.specialCauseTwoOfThreeBelow&&r(n,cn.TwoSigma),t.specialCauseShiftHigh&&r(e,cn.Shift),t.specialCauseShiftLow&&r(n,cn.Shift),t.specialCauseTrendIncreasing&&r(e,cn.Trend),t.specialCauseTrendDecreasing&&r(n,cn.Trend),{high:e,low:n}}function $x(t,e){const{high:n,low:r}=Mx(t),a=n.reduce((y,h)=>Math.max(y,h.rank),0),i=r.reduce((y,h)=>Math.max(y,h.rank),0);let o;a>i?o="Upwards":i>a?o="Downwards":o="Same";const l=a>0,u=i>0,c=e===Je.Up&&l||e===Je.Down&&u?t.value:null,d=e===Je.Up&&u||e===Je.Down&&l?t.value:null;t.sqlOriginalImprovementValue=c,t.sqlOriginalConcernValue=d,c!==null&&d!==null&&(t.sqlPruned=!0,o==="Upwards"?e===Je.Up||e===Je.Down&&(t.sqlOriginalImprovementValue=null):o==="Downwards"?e===Je.Up?t.sqlOriginalImprovementValue=null:Je.Down:c!==null?t.sqlOriginalConcernValue=null:d!==null&&(t.sqlOriginalImprovementValue=null)),t.sqlOriginalImprovementValue&&!t.sqlOriginalConcernValue?t.variationIcon=Ae.Improvement:!t.sqlOriginalImprovementValue&&t.sqlOriginalConcernValue?t.variationIcon=Ae.Concern:!t.sqlOriginalImprovementValue&&!t.sqlOriginalConcernValue?t.variationIcon=Ae.Neither:t.variationIcon=Ae.Improvement,t.primeDirection=o,t.primeRank=Math.max(a,i)||void 0;const g=((t.variationIcon===Ae.Concern?e===Je.Up?dr.Down:dr.Up:e===Je.Up?dr.Up:dr.Down)===dr.Up?n:r).reduce((y,h)=>!y||h.rank>y.rank?h:y,void 0);g&&(t.primeRuleId=g.id)}function Ix(t){const{chartType:e,metricImprovement:n,data:r,settings:a={},disableTrendSideGating:i}=t,o=so({chartType:e,metricImprovement:n,data:r,settings:{...a,trendSideGatingEnabled:i?!1:a.trendSideGatingEnabled??!0,conflictPrecedenceMode:_d.None}}),l=o.rows.map(u=>({...u}));for(const u of l)$x(u,n);return{rows:l,warnings:o.warnings}}var ao=(t=>(t.XmR="XmR",t.T="T",t.G="G",t))(ao||{}),Je=(t=>(t.Up="Up",t.Down="Down",t.Neither="Neither",t))(Je||{}),Ae=(t=>(t.Improvement="improvement",t.Concern="concern",t.Neither="neither",t.None="none",t))(Ae||{}),cn=(t=>(t.SinglePoint="single_point",t.TwoSigma="two_sigma",t.Shift="shift",t.Trend="trend",t))(cn||{}),dr=(t=>(t.Up="up",t.Down="down",t))(dr||{}),io=(t=>(t.SinglePointAbove="single_above",t.SinglePointBelow="single_below",t.TwoOfThreeAbove="two_of_three_above",t.TwoOfThreeBelow="two_of_three_below",t.FourOfFiveAbove="four_of_five_above",t.FourOfFiveBelow="four_of_five_below",t.ShiftHigh="shift_high",t.ShiftLow="shift_low",t.TrendIncreasing="trend_inc",t.TrendDecreasing="trend_dec",t.FifteenInnerThird="fifteen_inner_third",t))(io||{});const Px={single_point:1,two_sigma:2,shift:3,trend:4};var xn=(t=>(t.Pass="pass",t.Fail="fail",t.None="none",t))(xn||{}),_d=(t=>(t.None="none",t.SqlRankingV26a="sql_ranking_v2_6a",t))(_d||{}),vn=(t=>(t.Info="info",t.Warning="warning",t.Error="error",t))(vn||{}),bd=(t=>(t.Config="config",t.Data="data",t.Limits="limits",t.SpecialCause="special_cause",t.Baseline="baseline",t.Logic="logic",t.Target="target",t.Ghost="ghost",t.Partition="partition",t))(bd||{}),yd=(t=>(t.UnknownChartType="unknown_chart_type",t.InsufficientPointsGlobal="insufficient_points_global",t.VariationConflictRow="variation_conflict_row",t.NullValuesExcluded="null_values_excluded",t.TargetIgnoredRareEvent="target_ignored_rare_event",t.GhostRowsRareEvent="ghost_rows_rare_event",t.InsufficientPointsPartition="insufficient_points_partition",t.BaselineWithSpecialCause="baseline_with_special_cause",t.PartitionCapApplied="partition_cap_applied",t.GlobalCapApplied="global_cap_applied",t))(yd||{}),xd=(t=>(t.Shift="shift",t.Trend="trend",t.Point="point",t))(xd||{});const pe=t=>typeof t=="number"&&Number.isFinite(t),Lx=t=>t.reduce((e,n)=>e+n,0),Rt=t=>t.length?Lx(t)/t.length:NaN;function Fx(t){const e=[];let n=[];for(const r of t)r.baseline&&n.length&&(e.push(n),n=[]),n.push(r);return n.length&&e.push(n),e}function Bx(t,e,n){const r=e.autoRecalculateShiftLength||e.specialCauseShiftPoints||6;if(t.length<r*2)return;const a=t.map((d,p)=>({idx:p,value:d.value})).filter(d=>pe(d.value));if(a.length<r*2)return;const i=n==="Up"||n==="Neither",o=n==="Down";function l(d,p){const m=a.slice(d,p).map(g=>g.value);return m.length?Rt(m):NaN}let u=null;if(a.length>1){const d=[];for(let m=1;m<a.length;m++)d.push(Math.abs(a[m].value-a[m-1].value));const p=Rt(d);pe(p)&&p>0&&(u=p*(2.66/3))}if(!u||u<=0)return;const c=e.autoRecalculateDeltaSigma??.5;for(let d=r;d<=a.length-r;d++){const p=d-r,m=l(p,d),g=l(d,d+r);if(!pe(m)||!pe(g))continue;const h=(g-m)/u;if(!(i?h>=c:o?-h>=c:Math.abs(h)>=c))continue;const L=a.slice(d,d+r).map(S=>S.value);if(!(i?L.every(S=>S>m):o?L.every(S=>S<m):L.every(S=>i?S>m:S<m)))continue;const j=a[d].idx;t[j].baseline||(t[j].baseline=!0);return}}function vd(t,e){const n=new Array(t.length).fill(null);let r=null;for(let a=0;a<t.length;a++){const i=t[a];if(!e[a]&&pe(i)){if(r!==null){const o=t[r];n[a]=pe(o)?Math.abs(i-o):null}r=a}}return n}function wd(t,e){const n=t.filter(i=>pe(i));if(!n.length)return{mrMean:NaN,mrUcl:NaN};let r=Rt(n),a=3.267*r;if(e){const i=n.filter(o=>o<=a);i.length&&i.length!==n.length&&(r=Rt(i),a=3.267*r)}return{mrMean:r,mrUcl:a}}function Ax(t,e){if(!pe(t)||!pe(e))return{upperProcessLimit:null,lowerProcessLimit:null,upperTwoSigma:null,lowerTwoSigma:null,upperOneSigma:null,lowerOneSigma:null};const n=2.66,r=2/3*n,a=1/3*n;return{upperProcessLimit:t+n*e,lowerProcessLimit:t-n*e,upperTwoSigma:t+r*e,lowerTwoSigma:t-r*e,upperOneSigma:t+a*e,lowerOneSigma:t-a*e}}const Ex=.2777,Hx=3.6,Rx=t=>pe(t)&&t>=0?Math.pow(t,Ex):null,On=t=>pe(t)&&t>=0?Math.pow(t,Hx):null,fr={one:{low:.1586552539,high:.8413447461},two:{low:.0227501319,high:.9772498681},three:{low:.001349898,high:.998650102}};function Ox(t,e){return!(t>0&&t<1)||!(e>0&&e<1)?NaN:Math.log(1-t)/Math.log(1-e)}function zx(t){if(!pe(t)||t<0)return{cl:null,lcl:null,ucl:null,oneLow:null,oneHigh:null,twoLow:null,twoHigh:null};const e=1/(t+1),n=d=>Ox(d,e)-1,r=n(.5),a=Math.max(0,n(fr.three.low)),i=n(fr.three.high),o=Math.max(0,n(fr.one.low)),l=n(fr.one.high),u=Math.max(0,n(fr.two.low)),c=n(fr.two.high);return{cl:r,lcl:a,ucl:i,oneLow:o,oneHigh:l,twoLow:u,twoHigh:c}}function Wx(t,e,n){const r=t.map(v=>pe(v)?Rx(v):null),a=vd(r,e),{mrMean:i}=wd(a,!!n),o=r.filter((v,b)=>!e[b]&&pe(v)),l=o.length?Rt(o):NaN;if(!pe(l)||!pe(i))return{center:null,upperProcessLimit:null,lowerProcessLimit:null,upperTwoSigma:null,lowerTwoSigma:null,upperOneSigma:null,lowerOneSigma:null,mr:a,mrMean:null,mrUcl:null};const u=2.66,c=2/3*u,d=1/3*u,p=l+u*i,m=l-u*i,g=l+c*i,y=l-c*i,h=l+d*i,f=l-d*i,L=On(l),M=On(p),j=m<=0?null:On(m),S=On(h),N=f<=0?null:On(f),k=On(g),$=y<=0?null:On(y);return{center:L??null,upperProcessLimit:M??null,lowerProcessLimit:j??null,upperTwoSigma:k??null,lowerTwoSigma:$??null,upperOneSigma:S??null,lowerOneSigma:N??null,mr:a,mrMean:i,mrUcl:pe(i)?3.267*i:null}}function so(t){const{chartType:e,metricImprovement:n,data:r,settings:a={}}=t,i={excludeMovingRangeOutliers:!1,specialCauseShiftPoints:6,specialCauseTrendPoints:6,enableFourOfFiveRule:!1,minimumPoints:13,minimumPointsWarning:!1,minimumPointsPartition:12,maximumPointsPartition:null,maximumPoints:null,variationIconConflictWarning:!0,nullValueWarning:!0,targetSuppressedWarning:!0,ghostOnRareEventWarning:!0,partitionSizeWarnings:!0,baselineSpecialCauseWarning:!0,maximumPointsWarnings:!0,assuranceCapabilityMode:!0,collapseClusterRules:!0,baselineSuggest:!1,baselineSuggestMinDeltaSigma:.5,baselineSuggestStabilityPoints:5,baselineSuggestMinGap:12,baselineSuggestScoreThreshold:50,precedenceStrategy:"legacy",emergingDirectionGrace:!1,trendSideGatingEnabled:!0,...a};if(!Array.isArray(r))throw new Error("data must be an array of rows");const o=r.map((h,f)=>({rowId:f+1,x:h.x,value:pe(h.value)?h.value:null,ghost:!!h.ghost,baseline:!!h.baseline,target:pe(h.target)?h.target:null}));if(a?.autoRecalculateAfterShift)try{Bx(o,a,n)}catch{}const l=Fx(o),u=[],c=[],p=o.filter(h=>!h.ghost&&pe(h.value)).length>=(i.minimumPoints??13);let m=0;const g={};for(const h of l){m++;const f=h.map(x=>x.value),L=h.map(x=>x.ghost);let M=new Array(f.length).fill(null),j=NaN,S=NaN,N=NaN,k={upperProcessLimit:null,lowerProcessLimit:null,upperTwoSigma:null,lowerTwoSigma:null,upperOneSigma:null,lowerOneSigma:null};if(e==="XmR"){M=vd(f,L);const x=f.filter((B,I)=>!L[I]&&pe(B));j=x.length?Rt(x):NaN;const C=wd(M,!!i.excludeMovingRangeOutliers);S=C.mrMean,N=C.mrUcl,k=Ax(j,S)}else if(e==="T"){const x=Wx(f,L,!!i.excludeMovingRangeOutliers);M=x.mr,S=x.mrMean??NaN,N=x.mrUcl??NaN,j=x.center??NaN,k={upperProcessLimit:x.upperProcessLimit,lowerProcessLimit:x.lowerProcessLimit,upperTwoSigma:x.upperTwoSigma,lowerTwoSigma:x.lowerTwoSigma,upperOneSigma:x.upperOneSigma,lowerOneSigma:x.lowerOneSigma}}else if(e==="G"){const x=f.filter((I,P)=>!L[P]&&pe(I)),C=x.length?Rt(x):NaN,B=zx(C);j=B.cl??NaN,k={upperProcessLimit:B.ucl,lowerProcessLimit:B.lcl,upperTwoSigma:B.twoHigh,lowerTwoSigma:B.twoLow,upperOneSigma:B.oneHigh,lowerOneSigma:B.oneLow},M=new Array(f.length).fill(null),S=NaN,N=NaN}else c.push({code:"unknown_chart_type",category:"config",severity:"error",message:`Unknown ChartType '${e}' â€“ supported: XmR, T, G.`,context:{chartType:e}});const $=h.map((x,C)=>{const B=!x.ghost&&pe(x.value)?f.slice(0,C+1).filter((E,te)=>!L[te]&&pe(E)).length:0,I=p,P=I?k:{upperProcessLimit:null,lowerProcessLimit:null,upperTwoSigma:null,lowerTwoSigma:null,upperOneSigma:null,lowerOneSigma:null};return{rowId:x.rowId,x:x.x,value:pe(x.value)?x.value:null,ghost:x.ghost,partitionId:m,pointRank:B,mean:I&&pe(j)?j:null,mr:pe(M[C])?M[C]:null,mrMean:I&&pe(S)?S:null,mrUcl:I&&pe(N)?N:null,upperProcessLimit:pe(P.upperProcessLimit)?P.upperProcessLimit:null,lowerProcessLimit:pe(P.lowerProcessLimit)?P.lowerProcessLimit:null,upperTwoSigma:pe(P.upperTwoSigma)?P.upperTwoSigma:null,lowerTwoSigma:pe(P.lowerTwoSigma)?P.lowerTwoSigma:null,upperOneSigma:pe(P.upperOneSigma)?P.upperOneSigma:null,lowerOneSigma:pe(P.lowerOneSigma)?P.lowerOneSigma:null,target:pe(x.target)?x.target:null,specialCauseSinglePointAbove:!1,specialCauseSinglePointBelow:!1,specialCauseTwoOfThreeAbove:!1,specialCauseTwoOfThreeBelow:!1,specialCauseFourOfFiveAbove:!1,specialCauseFourOfFiveBelow:!1,specialCauseShiftHigh:!1,specialCauseShiftLow:!1,specialCauseTrendIncreasing:!1,specialCauseTrendDecreasing:!1,specialCauseFifteenInnerThird:!1,variationIcon:"none",assuranceIcon:"none",upperBaseline:I&&pe(j)?j:null,lowerBaseline:I&&pe(j)?j:null,movingRangeHighPointValue:I&&pe(N)?N:null,ghostValue:x.ghost&&pe(x.value)?x.value:null,ghostFlag:!!x.ghost,specialCauseImprovementValue:null,specialCauseConcernValue:null,specialCauseNeitherValue:null,ruleTags:[]}});g[m]=$.filter(x=>!x.ghost&&pe(x.value)).length;const v=i.specialCauseShiftPoints??6,b=i.specialCauseTrendPoints??6,D=[];for(let x=0;x<$.length;x++){const C=$[x],B=C.value;if(!C.ghost&&pe(B)&&D.push(x),!(pe(C.mean)&&pe(C.upperProcessLimit)&&pe(C.lowerProcessLimit))||C.ghost||!pe(B)){u.push(C);continue}C.specialCauseSinglePointAbove=pe(C.upperProcessLimit)?B>C.upperProcessLimit:!1,C.specialCauseSinglePointBelow=pe(C.lowerProcessLimit)?B<C.lowerProcessLimit:!1,u.push(C)}if(D.length){const x=I=>$[I];let C=[],B=[];for(const I of D){const P=x(I);if(!pe(P.mean)||!pe(P.value)){C=[],B=[];continue}if(P.value>P.mean?(C.push(I),B=[]):P.value<P.mean?(B.push(I),C=[]):(C=[],B=[]),C.length>=v)for(const w of C)x(w).specialCauseShiftHigh=!0;if(B.length>=v)for(const w of B)x(w).specialCauseShiftLow=!0}for(let I=0;I<=D.length-3;I++){const w=D.slice(I,I+3).map(x);if(!w.every(Q=>pe(Q.mean)&&pe(Q.value)))continue;const E=w[0].mean,te=w.every(Q=>Q.value>E),z=w.every(Q=>Q.value<E);if(!te&&!z)continue;const W=w[0].upperTwoSigma??1/0,G=w[0].lowerTwoSigma??-1/0,H=w[0].upperProcessLimit??1/0,oe=w[0].lowerProcessLimit??-1/0,T=w.filter(Q=>Q.value>W&&Q.value<=H),O=w.filter(Q=>Q.value<G&&Q.value>=oe);if(te&&T.length>=2)for(const Q of T)Q.specialCauseTwoOfThreeAbove=!0;if(z&&O.length>=2)for(const Q of O)Q.specialCauseTwoOfThreeBelow=!0}if(i.enableFourOfFiveRule)for(let I=0;I<=D.length-5;I++){const w=D.slice(I,I+5).map(x);if(!w.every(H=>pe(H.mean)&&pe(H.value)))continue;const E=w[0].mean;if(!w.every(H=>H.value>E)&&!w.every(H=>H.value<E))continue;const te=w[0].upperOneSigma??1/0,z=w[0].lowerOneSigma??-1/0,W=w.filter(H=>H.value>te),G=w.filter(H=>H.value<z);if(w.every(H=>H.value>E)&&W.length>=4)for(const H of W)H.specialCauseFourOfFiveAbove=!0;if(w.every(H=>H.value<E)&&G.length>=4)for(const H of G)H.specialCauseFourOfFiveBelow=!0}for(let I=0;I<=D.length-b;I++){const P=D.slice(I,I+b),w=P.map(x);if(!w.every(z=>pe(z.value)))continue;let E=!0,te=!0;for(let z=1;z<w.length&&(w[z].value>w[z-1].value||(E=!1),w[z].value<w[z-1].value||(te=!1),!(!E&&!te));z++);if(E)for(const z of P)x(z).specialCauseTrendIncreasing=!0;if(te)for(const z of P)x(z).specialCauseTrendDecreasing=!0}if(i.enableFifteenInInnerThirdRule){let I=[];for(const P of D){const w=x(P);if(!pe(w.value)||!pe(w.mean)||!pe(w.upperOneSigma)||!pe(w.lowerOneSigma)){I=[];continue}if(!(w.value<w.upperOneSigma&&w.value>w.lowerOneSigma)){I=[];continue}if(I.push(P),I.length>=15){const te=I.map(x),z=te.some(G=>G.value>G.mean),W=te.some(G=>G.value<G.mean);if(z&&W)for(const G of I)x(G).specialCauseFifteenInnerThird=!0}}}}if(i.maximumPointsPartition&&Number.isFinite(i.maximumPointsPartition)){const x=i.maximumPointsPartition;let C=0;for(const B of u.filter(I=>I.partitionId===m))!B.ghost&&pe(B.value)&&C++,C>x&&(B.mean=B.upperProcessLimit=B.lowerProcessLimit=null,B.upperTwoSigma=B.lowerTwoSigma=B.upperOneSigma=B.lowerOneSigma=null)}}for(const h of u){if(h.ruleTags&&h.ruleTags.length)continue;const f=[];h.specialCauseShiftHigh&&f.push("shift_high"),h.specialCauseShiftLow&&f.push("shift_low"),h.specialCauseTrendIncreasing&&f.push("trend_inc"),h.specialCauseTrendDecreasing&&f.push("trend_dec"),h.specialCauseSinglePointAbove&&f.push("single_above"),h.specialCauseSinglePointBelow&&f.push("single_below"),h.specialCauseTwoOfThreeAbove&&f.push("two_of_three_above"),h.specialCauseTwoOfThreeBelow&&f.push("two_of_three_below"),h.specialCauseFourOfFiveAbove&&f.push("four_of_five_above"),h.specialCauseFourOfFiveBelow&&f.push("four_of_five_below"),h.specialCauseFifteenInnerThird&&f.push("fifteen_inner_third"),f.length&&(h.ruleTags=f)}for(let h=0;h<u.length;h++){const f=u[h];if(f.ghost||!pe(f.value)||f.mean===null){f.variationIcon="none";continue}const L=pe(f.value)&&pe(f.mean)&&f.value>f.mean,M=pe(f.value)&&pe(f.mean)&&f.value<f.mean;i.collapseClusterRules&&(f.specialCauseTwoOfThreeAbove&&f.specialCauseFourOfFiveAbove&&(f.specialCauseTwoOfThreeAbove=!1),f.specialCauseTwoOfThreeBelow&&f.specialCauseFourOfFiveBelow&&(f.specialCauseTwoOfThreeBelow=!1));const j=f.specialCauseTrendIncreasing&&(i.trendSideGatingEnabled?L:!0),S=f.specialCauseTrendDecreasing&&(i.trendSideGatingEnabled?M:!0),N=f.specialCauseSinglePointAbove||f.specialCauseTwoOfThreeAbove||i.enableFourOfFiveRule&&f.specialCauseFourOfFiveAbove||f.specialCauseShiftHigh||j,k=f.specialCauseSinglePointBelow||f.specialCauseTwoOfThreeBelow||i.enableFourOfFiveRule&&f.specialCauseFourOfFiveBelow||f.specialCauseShiftLow||S;let $=!1;if(i.precedenceStrategy==="directional_first"&&i.emergingDirectionGrace){const b=i.specialCauseTrendPoints||6;if(b>1&&!(f.specialCauseTrendIncreasing||f.specialCauseTrendDecreasing)){const D=b-1,x=[];for(let C=h;C>=0&&x.length<D;C--){const B=u[C];!B.ghost&&pe(B.value)&&B.mean!==null&&x.unshift(B)}if(x.length===D){let C=!0;for(let B=1;B<x.length&&C;B++)n==="Up"?x[B].value>x[B-1].value||(C=!1):n==="Down"&&x[B].value<x[B-1].value||(C=!1);$=C}}}if(i.precedenceStrategy==="directional_first"){const b=n==="Up"?N:n==="Down"?k:!1,D=n==="Up"?k:n==="Down"?N:!1;b&&!D?f.variationIcon="improvement":D&&!b?f.variationIcon=$?"neither":"concern":b&&D?f.variationIcon=$||f.specialCauseTrendIncreasing||f.specialCauseTrendDecreasing?"improvement":"neither":f.variationIcon="neither"}else n==="Up"?f.variationIcon=N?"improvement":k?"concern":"neither":n==="Down"?f.variationIcon=k?"improvement":N?"concern":"neither":f.variationIcon="neither";const v=N||k;if(f.specialCauseImprovementValue=v&&f.variationIcon==="improvement"?f.value:null,f.specialCauseConcernValue=v&&f.variationIcon==="concern"?f.value:null,f.specialCauseNeitherValue=v&&f.variationIcon==="neither"?f.value:null,i.conflictPrecedenceMode==="sql_ranking_v2_6a"&&f.specialCauseImprovementValue!==null&&f.specialCauseConcernValue!==null){const b=[];f.specialCauseSinglePointAbove&&b.push({id:"single_point",rank:1,side:"up"}),f.specialCauseSinglePointBelow&&b.push({id:"single_point",rank:1,side:"down"}),f.specialCauseTwoOfThreeAbove&&b.push({id:"two_sigma",rank:2,side:"up"}),f.specialCauseTwoOfThreeBelow&&b.push({id:"two_sigma",rank:2,side:"down"}),f.specialCauseShiftHigh&&b.push({id:"shift",rank:3,side:"up"}),f.specialCauseShiftLow&&b.push({id:"shift",rank:3,side:"down"}),f.specialCauseTrendIncreasing&&b.push({id:"trend",rank:4,side:"up"}),f.specialCauseTrendDecreasing&&b.push({id:"trend",rank:4,side:"down"});const D=b.filter(te=>te.side==="up").reduce((te,z)=>Math.max(te,z.rank),0),x=b.filter(te=>te.side==="down").reduce((te,z)=>Math.max(te,z.rank),0);let C;D>x?C=ur.Upwards:x>D?C=ur.Downwards:C=ur.Same;const B=f.specialCauseImprovementValue,I=f.specialCauseConcernValue;C===ur.Upwards?n==="Up"?f.specialCauseConcernValue=null:n==="Down"&&(f.specialCauseImprovementValue=null):C===ur.Downwards?n==="Up"?f.specialCauseImprovementValue=null:n==="Down"&&(f.specialCauseConcernValue=null):f.variationIcon==="improvement"?f.specialCauseConcernValue=null:f.variationIcon==="concern"?f.specialCauseImprovementValue=null:f.specialCauseConcernValue=null,f.specialCauseImprovementValue!==null&&f.specialCauseConcernValue===null?f.variationIcon="improvement":f.specialCauseConcernValue!==null&&f.specialCauseImprovementValue===null?f.variationIcon="concern":f.specialCauseImprovementValue===null&&f.specialCauseConcernValue===null&&(f.variationIcon="neither");const P=f.specialCauseImprovementValue!==null?"up":f.specialCauseConcernValue!==null?"down":void 0,w=P==="up"?D:P==="down"?x:Math.max(D,x),E=b.find(te=>te.rank===w&&(!P||te.side===P));f.conflictPrimeDirection=C,f.conflictResolved=!0,f.conflictResolvedRank=w||void 0,E&&(f.conflictResolvedByRuleId=E.id),f.originalSpecialCauseImprovementValue=B,f.originalSpecialCauseConcernValue=I}if(pe(f.value)&&f.mean!==null){f.assuranceIcon="none";const b=o[f.rowId-1];if(pe(b.target)){const D=b.target;i.assuranceCapabilityMode&&pe(f.upperProcessLimit)&&pe(f.lowerProcessLimit)?n==="Up"?f.lowerProcessLimit!==null&&f.lowerProcessLimit>D?f.assuranceIcon="pass":f.upperProcessLimit!==null&&f.upperProcessLimit<D?f.assuranceIcon="fail":f.assuranceIcon="none":n==="Down"?f.upperProcessLimit!==null&&f.upperProcessLimit<D?f.assuranceIcon="pass":f.lowerProcessLimit!==null&&f.lowerProcessLimit>D?f.assuranceIcon="fail":f.assuranceIcon="none":f.assuranceIcon="none":n==="Down"?f.assuranceIcon=f.value<=D?"pass":"fail":n==="Up"?f.assuranceIcon=f.value>=D?"pass":"fail":f.assuranceIcon="none"}}}if((i.minimumPointsWarning??!1)&&!p){const h=o.filter(f=>!f.ghost&&pe(f.value)).length;c.push({code:"insufficient_points_global",category:"data",severity:"warning",message:`Only ${h} non-ghost points available; minimum required is ${i.minimumPoints}. Limits and icons suppressed.`,context:{available:h,minimumRequired:i.minimumPoints}})}if(i.variationIconConflictWarning)for(const h of u)h.variationIcon==="improvement"&&(h.specialCauseSinglePointAbove||h.specialCauseTwoOfThreeAbove||i.enableFourOfFiveRule&&h.specialCauseFourOfFiveAbove||h.specialCauseShiftHigh||h.specialCauseTrendIncreasing)&&(h.specialCauseSinglePointBelow||h.specialCauseTwoOfThreeBelow||i.enableFourOfFiveRule&&h.specialCauseFourOfFiveBelow||h.specialCauseShiftLow||h.specialCauseTrendDecreasing)&&c.push({code:"variation_conflict_row",category:"logic",severity:"warning",message:`Row ${h.rowId}: simultaneous high/low special-cause signals â€“ variation icon may be ambiguous.`,context:{rowId:h.rowId}});if(i.maximumPoints&&Number.isFinite(i.maximumPoints)){const h=i.maximumPoints;let f=0;for(const L of u)!L.ghost&&pe(L.value)&&f++,f>h&&(L.mean=L.upperProcessLimit=L.lowerProcessLimit=null,L.upperTwoSigma=L.lowerTwoSigma=L.upperOneSigma=L.lowerOneSigma=null)}if(i.nullValueWarning&&(e==="XmR"||e==="G")){const h=o.filter(f=>!f.ghost&&(f.value===null||f.value===void 0||!pe(f.value))).length;h&&c.push({code:"null_values_excluded",category:"data",severity:"info",message:`${h} null/missing value(s) excluded from calculations.`,context:{nullCount:h}})}if(i.targetSuppressedWarning&&(e==="T"||e==="G")&&o.some(f=>pe(f.target))&&c.push({code:"target_ignored_rare_event",category:"target",severity:"info",message:`Targets provided are ignored for ${e} charts in this port.`,context:{chartType:e}}),i.ghostOnRareEventWarning&&(e==="T"||e==="G")){const h=o.filter(f=>f.ghost).length;h&&c.push({code:"ghost_rows_rare_event",category:"ghost",severity:"info",message:`${h} ghost row(s) supplied for rare-event chart (${e}); verify intent.`,context:{chartType:e,ghostCount:h}})}if(i.partitionSizeWarnings&&Object.entries(g).forEach(([h,f])=>{f<i.minimumPointsPartition&&c.push({code:"insufficient_points_partition",category:"partition",severity:"warning",message:`Partition ${h} has only ${f} non-ghost point(s); below recommended ${i.minimumPointsPartition}.`,context:{partitionId:Number(h),count:f,minimum:i.minimumPointsPartition}})}),i.baselineSpecialCauseWarning){const h=[];u.forEach(f=>{o[f.rowId-1].baseline&&(f.specialCauseSinglePointAbove||f.specialCauseSinglePointBelow||f.specialCauseTwoOfThreeAbove||f.specialCauseTwoOfThreeBelow||f.specialCauseFourOfFiveAbove||f.specialCauseFourOfFiveBelow||f.specialCauseShiftHigh||f.specialCauseShiftLow||f.specialCauseTrendIncreasing||f.specialCauseTrendDecreasing)&&h.push(f.rowId)}),h.length&&c.push({code:"baseline_with_special_cause",category:"baseline",severity:"warning",message:`Baseline set with special-cause present at row(s): ${h.join(", ")}.`,context:{rows:h}})}i.maximumPointsWarnings&&(i.maximumPointsPartition&&Number.isFinite(i.maximumPointsPartition)&&c.push({code:"partition_cap_applied",category:"limits",severity:"info",message:`Limits suppressed after ${i.maximumPointsPartition} non-ghost points per partition.`,context:{cap:i.maximumPointsPartition}}),i.maximumPoints&&Number.isFinite(i.maximumPoints)&&c.push({code:"global_cap_applied",category:"limits",severity:"info",message:`Limits suppressed after global cap of ${i.maximumPoints} non-ghost points.`,context:{cap:i.maximumPoints}}));let y;if(i.baselineSuggest){const h=u,f=i.baselineSuggestStabilityPoints,L=i.baselineSuggestMinGap,M=i.baselineSuggestMinDeltaSigma,j=i.baselineSuggestScoreThreshold,S=[];let N=0;for(let k=0;k<h.length;k++){let $=function(x){return!!v[x]&&!b?.[x]};const v=h[k];k>0&&h[k-1].partitionId!==v.partitionId&&(N=k);const b=h[k-1],D=[];($("specialCauseShiftHigh")||$("specialCauseShiftLow"))&&D.push({reason:"shift",index:k}),($("specialCauseTrendIncreasing")||$("specialCauseTrendDecreasing"))&&D.push({reason:"trend",index:k}),($("specialCauseSinglePointAbove")||$("specialCauseSinglePointBelow"))&&D.push({reason:"point",index:k});for(const x of D){if(x.index-N<L)continue;const C=Math.max(0,x.index-f),B=x.index-1;if(B-C+1<f)continue;const I=x.index,P=x.index+f-1;if(P>=h.length)continue;const w=h.slice(C,B+1).map(V=>V.value).filter(pe),E=h.slice(I,P+1).map(V=>V.value).filter(pe);if(w.length<f||E.length<f)continue;const te=h[x.index];let z=null;if(pe(te.upperProcessLimit)&&pe(te.mean)){const V=te.upperProcessLimit-te.mean;V>0&&(z=V/3)}if(!z||z<=0)continue;const W=Rt(w),G=Rt(E),H=G-W;if(Math.abs(H)<M*z)continue;const T=h.slice(I,P+1).filter(V=>V.variationIcon==="concern").length;if(T>1)continue;const O=V=>{const le=Rt(V);return V.length?V.reduce((U,de)=>U+(de-le)*(de-le),0)/V.length:0},Q=O(w),re=O(E);let q=x.reason==="shift"?90:x.reason==="trend"?70:60;if(re<Q&&(q+=10),q-=T*15,q<j)continue;const R=S.find(V=>V.index===x.index);if(R){const V=le=>le==="shift"?3:le==="trend"?2:1;(V(x.reason)>V(R.reason)||q>R.score)&&(R.reason=x.reason,R.score=q,R.deltaMean=H,R.oldMean=W,R.newMean=G,R.window=[I,P])}else S.push({index:x.index,reason:x.reason,score:q,deltaMean:H,oldMean:W,newMean:G,window:[I,P]})}k>0&&h[k-1].partitionId!==h[k].partitionId&&(N=k)}S.sort((k,$)=>k.index-$.index),y=S}return{rows:u,warnings:c,...y?{suggestedBaselines:y}:{}}}const oo={singlePointAbove:{tooltip:"Single point above upper control limit",narration:"Single point beyond a control limit"},singlePointBelow:{tooltip:"Single point below lower control limit",narration:"Single point beyond a control limit"},twoOfThreeAbove:{tooltip:"Two of three points beyond +2Ïƒ",narration:"Two of three points beyond two sigma (same side)"},twoOfThreeBelow:{tooltip:"Two of three points beyond -2Ïƒ",narration:"Two of three points beyond two sigma (same side)"},fourOfFiveAbove:{tooltip:"Four of five points beyond +1Ïƒ",narration:"Four of five points beyond one sigma (same side)"},fourOfFiveBelow:{tooltip:"Four of five points beyond -1Ïƒ",narration:"Four of five points beyond one sigma (same side)"},shiftHigh:{tooltip:"Shift: run of points above centre line",narration:"Shift (run on one side of mean)"},shiftLow:{tooltip:"Shift: run of points below centre line",narration:"Shift (run on one side of mean)"},trendIncreasing:{tooltip:"Trend: consecutive increasing points",narration:"Trend (consecutive increases)"},trendDecreasing:{tooltip:"Trend: consecutive decreasing points",narration:"Trend (consecutive decreases)"}};function lo(t){if(!t)return[];const e=[];return t.specialCauseSinglePointAbove&&e.push("singlePointAbove"),t.specialCauseSinglePointBelow&&e.push("singlePointBelow"),t.specialCauseTwoOfThreeAbove&&e.push("twoOfThreeAbove"),t.specialCauseTwoOfThreeBelow&&e.push("twoOfThreeBelow"),t.specialCauseFourOfFiveAbove&&e.push("fourOfFiveAbove"),t.specialCauseFourOfFiveBelow&&e.push("fourOfFiveBelow"),t.specialCauseShiftHigh&&e.push("shiftHigh"),t.specialCauseShiftLow&&e.push("shiftLow"),t.specialCauseTrendIncreasing&&e.push("trendIncreasing"),t.specialCauseTrendDecreasing&&e.push("trendDecreasing"),e}function co(t){switch(t){case Ae.Improvement:return"Improvement signal";case Ae.Concern:return"Concern signal";case Ae.Neither:return"Common cause variation";case Ae.None:return null;default:return null}}function Ux(t){switch(t){case xn.Pass:return"Target met";case xn.Fail:return"Target not met";default:return null}}function Gx(t,e,n){if(t==null||!Number.isFinite(e)||e<=0)return null;const r=Math.abs((n-t)/e);return r<1?"Within 1Ïƒ":r<2?"Between 1â€“2Ïƒ":r<3?"Between 2â€“3Ïƒ":"Beyond 3Ïƒ"}const Bt={improvement:{token:"var(--nhs-fdp-color-data-viz-spc-improvement, #00B0F0)",hex:"#00B0F0"},concern:{token:"var(--nhs-fdp-color-data-viz-spc-concern, #E46C0A)",hex:"#E46C0A"},none:{token:"var(--nhs-fdp-color-data-viz-spc-no-judgement, #490092)",hex:"#490092"},neither:{token:"var(--nhs-fdp-color-data-viz-spc-common-cause, #A6A6A6)",hex:"#A6A6A6"}};function Sd(t){return t?Bt[t]?.token??Bt.neither.token:Bt.neither.token}function Vx(t){return t?Bt[t]?.hex??Bt.neither.hex:Bt.neither.hex}const kd=({engineRows:t,limits:e,pointDescriber:n,measureName:r,measureUnit:a,dateFormatter:i,enableNeutralNoJudgement:o=!0,showTrendGatingExplanation:l=!0})=>{const u=yn(),c=bn(),[d,p]=K.useState(null),[m,g]=K.useState(!1),y=K.useRef(null);K.useEffect(()=>{if(u){if(u.focused&&(p(u.focused),y.current&&(cancelAnimationFrame(y.current),y.current=null)),!u.focused&&!m){const me=requestAnimationFrame(()=>{p(null),y.current=null});y.current=me}return()=>{y.current&&(cancelAnimationFrame(y.current),y.current=null)}}},[u,u?.focused,m]);const h=u&&(u.focused||(m?d:null)||d),[f,L]=K.useState(!1);K.useEffect(()=>{const me=requestAnimationFrame(()=>L(!0));return()=>cancelAnimationFrame(me)},[h?.index]);const M=c?.innerWidth??0,j=c?.innerHeight??0,S=h?Math.min(Math.max(h.clientX,0),M):0,N=h?Math.min(Math.max(h.clientY,0),j):0,$=c.ref?.current;if(!h)return null;const v=t?.[h.index],D=lo(v).map(me=>({id:me,label:oo[me].tooltip})),x=h.x instanceof Date?h.x:new Date(h.x),C=i?i(x):x.toDateString(),B=a?`${a}`:"",I=r||B?`${h.y}${B?""+B:" "}${r?" "+r:""}`:`${h.y}`,P=co(v?.variationIcon),w=Ux(v?.assuranceIcon),E=Gx(e.mean??null,e.sigma,h.y),te=n?n(h.index,{x:h.x,y:h.y}):void 0,z=P||w||E,W=v?.specialCauseTrendIncreasing||v?.specialCauseTrendDecreasing,G=v?.variationIcon===Ae.Neither&&W,H=l&&G?"Trend detected (monotonic run) â€“ held neutral until values cross onto the favourable side of the mean.":null,oe=D.length>0,T=v?.primeDirection,O=v?.primeRuleId,Q=o&&v?.variationIcon===Ae.Neither&&oe,re="var(--nhs-fdp-color-primary-yellow, #ffeb3b)",q=Sd(v?.variationIcon),R=6.2,le=[te||"",`${C} â€¢ ${I}`].filter(Boolean).reduce((me,ee)=>Math.max(me,ee.length*R+32),0),U=200,de=440,ie=Math.min(de,Math.max(U,le));let ue=S+12,ye=(c.margin?.top??0)+N+16;ue+ie>M&&(ue=S- -60-ie),ue<0&&(ue=Math.max(0,M-ie));const De=h?`spc-tooltip-${h.index}`:"spc-tooltip",ke=$?$g.createPortal(s.jsx("div",{id:De,className:"fdp-spc-tooltip fdp-spc-tooltip-portal"+(f?" is-visible":""),style:{position:"absolute",left:ue,top:ye,width:ie,maxWidth:de,zIndex:10,pointerEvents:"auto",userSelect:"none"},role:"tooltip","aria-live":"polite","aria-hidden":f?"false":"true","data-floating":!0,"data-placement":ue+ie+12>M?"left":"right",onPointerEnter:()=>{g(!0),y.current&&(cancelAnimationFrame(y.current),y.current=null)},onPointerLeave:()=>{if(g(!1),!u?.focused){const me=requestAnimationFrame(()=>{p(null),y.current=null});y.current=me}},children:s.jsxs("div",{className:"fdp-spc-tooltip__body",children:[s.jsxs("div",{className:"fdp-spc-tooltip__section fdp-spc-tooltip__section--date",children:[s.jsx("div",{className:"fdp-spc-tooltip__section-label",children:s.jsx("strong",{children:"Date"})}),s.jsx("div",{className:"fdp-spc-tooltip__primary-line",children:C})]}),s.jsxs("div",{className:"fdp-spc-tooltip__section fdp-spc-tooltip__section--value",children:[s.jsx("div",{className:"fdp-spc-tooltip__section-label",children:s.jsx("strong",{children:"Value"})}),s.jsx("div",{className:"fdp-spc-tooltip__primary-line",children:I})]}),z&&s.jsxs("div",{className:"fdp-spc-tooltip__section fdp-spc-tooltip__section--signals",children:[s.jsx("div",{className:"fdp-spc-tooltip__section-label",children:s.jsx("strong",{children:"Signals"})}),s.jsx("div",{className:"fdp-spc-tooltip__badges","aria-label":"Signals",children:P?.toLowerCase().includes("concern")?s.jsx(Ge,{text:P,color:"default",className:"fdp-spc-tooltip__tag fdp-spc-tag fdp-spc-tag--concern"}):P?.toLowerCase().includes("improvement")?s.jsx(Ge,{text:P,color:"default",className:"fdp-spc-tooltip__tag fdp-spc-tag fdp-spc-tag--improvement"}):Q?s.jsx(Ge,{text:"No judgement",color:"default",className:"fdp-spc-tooltip__tag fdp-spc-tag fdp-spc-tag--no-judgement","aria-label":"Neutral special cause (no directional judgement)"}):P?s.jsx(Ge,{text:P,color:"default",className:"fdp-spc-tooltip__tag fdp-spc-tag fdp-spc-tag--common"}):null})]}),w&&s.jsxs("div",{className:"fdp-spc-tooltip__section fdp-spc-tooltip__section--assurance",children:[s.jsx("div",{className:"fdp-spc-tooltip__section-label",children:s.jsx("strong",{children:"Assurance"})}),s.jsx("div",{className:"fdp-spc-tooltip__badges","aria-label":"Limits",children:(()=>{const me=w.toLowerCase(),J=!(me.includes("not met")||me.includes("not achieved"))&&/(^|\b)(met|achieved)(\b|$)/.test(me);return s.jsx(Ge,{text:w,color:"default",className:`fdp-spc-tooltip__tag fdp-spc-tag fdp-spc-tag--assurance ${J?"fdp-spc-tag--improvement":"fdp-spc-tag--concern"}`,"aria-label":`Assurance: ${w}`})})()})]}),E&&s.jsxs("div",{className:"fdp-spc-tooltip__section fdp-spc-tooltip__section--limits",children:[s.jsx("div",{className:"fdp-spc-tooltip__section-label",children:s.jsx("strong",{children:"Control Limits & Sigma"})}),s.jsx("div",{className:"fdp-spc-tooltip__badges","aria-label":"Limits",children:s.jsx(Ge,{text:(()=>{const me=E.toLowerCase();return me.startsWith("within 1")?"â‰¤1Ïƒ":me.startsWith("1â€“2")?"1â€“2Ïƒ":me.startsWith("2â€“3")?"2â€“3Ïƒ":me.startsWith(">3")?">3Ïƒ":E})(),color:E.includes(">3")?"orange":E.includes("2â€“3")?"yellow":"grey","aria-label":`Sigma zone: ${E}`,className:"fdp-spc-tooltip__tag fdp-spc-tag fdp-spc-tag--zone"})})]}),H&&s.jsxs("div",{className:"fdp-spc-tooltip__section fdp-spc-tooltip__section--gating","data-gating":!0,children:[s.jsx("div",{className:"fdp-spc-tooltip__section-label",children:s.jsx("strong",{children:"Trend gating"})}),s.jsx("div",{className:"fdp-spc-tooltip__explanation","aria-live":"off",children:H})]}),oe&&s.jsxs("div",{className:"fdp-spc-tooltip__section fdp-spc-tooltip__section--rules",children:[s.jsx("div",{className:"fdp-spc-tooltip__section-label",children:s.jsx("strong",{children:"Special cause"})}),s.jsx("div",{className:"fdp-spc-tooltip__rule-tags","aria-label":"Special cause rules",children:D.map(({id:me,label:ee})=>{const J=String(me),Y=J===io.TrendIncreasing||J===io.TrendDecreasing?"fdp-spc-tag--trend":Q?"fdp-spc-tag--no-judgement":P?P.toLowerCase().includes("concern")?"fdp-spc-tag--concern":P.toLowerCase().includes("improvement")?"fdp-spc-tag--improvement":"fdp-spc-tag--common":"fdp-spc-tag--common";return s.jsx(Ge,{text:ee,color:"default",className:`fdp-spc-tooltip__tag fdp-spc-tag ${Y}`,"data-rule-id":J},J)})}),T&&s.jsxs("div",{className:"fdp-spc-tooltip__section fdp-spc-tooltip__section--rules",style:{marginTop:16},children:[s.jsx("div",{className:"fdp-spc-tooltip__section-label",style:{marginBottom:6},children:s.jsx("strong",{children:"Prime Direction"})}),(()=>{const me=Q?"fdp-spc-tag--no-judgement":P?P.toLowerCase().includes("concern")?"fdp-spc-tag--concern":P.toLowerCase().includes("improvement")?"fdp-spc-tag--improvement":"fdp-spc-tag--common":"fdp-spc-tag--common",ee=`${T}${O?` (${O})`:""}`;return s.jsx(Ge,{text:ee,color:"default",className:`fdp-spc-tooltip__tag fdp-spc-tag ${me}`,"aria-label":`Prime direction ${T}${O?` via ${O}`:""}`})})()]})]})]})}),$):null;return s.jsxs("g",{className:"fdp-tooltip-layer fdp-spc-tooltip",pointerEvents:"none","aria-hidden":"true",children:[s.jsx("circle",{cx:S,cy:N,r:7,fill:"none",stroke:re,strokeWidth:3}),s.jsx("circle",{cx:S,cy:N,r:5,fill:"#000",stroke:re,strokeWidth:1.5}),s.jsx("circle",{cx:S,cy:N,r:2.5,fill:q,stroke:"#fff",strokeWidth:.5}),ke]})};let uo=null;try{uo=require("@fergusbisset/nhs-fdp-design-system/dist/js/tokens.json")?.color?.["data-viz"]?.spc||null}catch{}const Mt=(t,e)=>{if(!uo)return e;const n=t.split(".");let r=uo;for(const i of n){if(r==null)break;r=r[i]}const a=r;return a==null?e:typeof a=="string"||typeof a=="number"?String(a):a.$value!=null?String(a.$value):a.value!=null?String(a.value):e},Cd=()=>({start:Mt("gradient.stop.start-opacity","0.12"),mid:Mt("gradient.stop.mid-opacity","0.03"),end:Mt("gradient.stop.end-opacity","0"),triStart:Mt("gradient.stop.triangle-start-opacity",Mt("gradient.stop.start-opacity","0.12")),triMid:Mt("gradient.stop.triangle-mid-opacity",Mt("gradient.stop.mid-opacity","0.03")),triEnd:Mt("gradient.stop.triangle-end-opacity",Mt("gradient.stop.end-opacity","0"))});var wn=(t=>(t.Pass="pass",t.Fail="fail",t.Uncertain="uncertain",t))(wn||{});const Yx={pass:"#00B0F0",fail:"#E46C0A",uncertain:"#A6A6A6"},qx={pass:"P",fail:"F",uncertain:"?"};var qe=(t=>(t.HigherIsBetter="higher_is_better",t.LowerIsBetter="lower_is_better",t.ContextDependent="context_dependent",t))(qe||{}),Te=(t=>(t.Higher="higher",t.Lower="lower",t))(Te||{}),ht=(t=>(t.Improving="improving",t.Deteriorating="deteriorating",t.No_Judgement="no_judgement",t.None="none",t))(ht||{}),$e=(t=>(t.SpecialCauseImproving="special_cause_improving",t.SpecialCauseDeteriorating="special_cause_deteriorating",t.CommonCause="common_cause",t.SpecialCauseNoJudgement="special_cause_no_judgement",t))($e||{});const Xx=t=>{const e=t.replace("#",""),n=parseInt(e.slice(0,2),16)/255,r=parseInt(e.slice(2,4),16)/255,a=parseInt(e.slice(4,6),16)/255,i=[n,r,a].map(l=>l<=.03928?l/12.92:Math.pow((l+.055)/1.055,2.4));return .2126*i[0]+.7152*i[1]+.0722*i[2]<.55?"#ffffff":"#212b32"},fo={special_cause_deteriorating:{hex:Bt.concern.hex,judgement:"deteriorating",label:"Special Cause (Deteriorating)",description:"Deteriorating variation detected (special cause) relative to baseline."},special_cause_improving:{hex:Bt.improvement.hex,judgement:"improving",label:"Special Cause (Improving)",description:"Improving variation detected (special cause) relative to baseline."},common_cause:{hex:Bt.neither.hex,judgement:"none",label:"Common Cause",description:"Common cause variation only â€“ no special cause detected."},special_cause_no_judgement:{hex:Bt.none.hex,judgement:"no_judgement",label:"Special Cause (No Judgement)",description:"Special cause detected without assigning improving/deteriorating judgement."}};Object.values(fo).forEach(t=>{t.text||(t.text=Xx(t.hex))});const ho=t=>fo[t],mi=t=>fo[t].judgement||"none",Td={special:{higher:[{cx:77.5,cy:158.5},{cx:114,cy:175},{cx:150.5,cy:158.5},{cx:188,cy:125},{cx:225,cy:137}],lower:[{cx:77.5,cy:139.5},{cx:114,cy:124.5},{cx:150.5,cy:139.5},{cx:188,cy:175.5},{cx:224.5,cy:162}]},common:[{cx:76.5,cy:149.5},{cx:113,cy:179.5},{cx:149.5,cy:117},{cx:187,cy:171},{cx:223.5,cy:158}]};function Kx(t,e){let n;return t==="common_cause"?n=Td.common:n=Td.special[e==="lower"?"lower":"higher"],n.map(r=>({...r}))}const Nd=t=>{const e=()=>{globalThis.__spcIconDeprecationEmitted||(console.warn("[SPCVariationIcon] Deprecated payload shape detected. Migrate to { variationIcon, improvementDirection, specialCauseNeutral?, trend? }."),globalThis.__spcIconDeprecationEmitted=!0)};if(t.variationIcon!==void 0){const o=t;let l;o.improvementDirection!==void 0?l=o.improvementDirection===Je.Up?qe.HigherIsBetter:o.improvementDirection===Je.Down?qe.LowerIsBetter:qe.ContextDependent:o.polarity&&(l=o.polarity);let u;switch(o.variationIcon){case Ae.Improvement:u=$e.SpecialCauseImproving;break;case Ae.Concern:u=$e.SpecialCauseDeteriorating;break;case Ae.Neither:u=o.specialCauseNeutral?$e.SpecialCauseNoJudgement:$e.CommonCause;break;case Ae.None:default:u=$e.SpecialCauseNoJudgement;break}let c=o.trend;return c||(u===$e.SpecialCauseImproving?c=l===qe.LowerIsBetter?Te.Lower:Te.Higher:u===$e.SpecialCauseDeteriorating?c=l===qe.LowerIsBetter?Te.Higher:Te.Lower:u===$e.SpecialCauseNoJudgement?o.highSideSignal&&!o.lowSideSignal?c=Te.Higher:o.lowSideSignal&&!o.highSideSignal?c=Te.Lower:c=Te.Higher:c=Te.Higher),{state:u,direction:c,polarity:l??qe.ContextDependent}}if(t.state!==void 0){e();const o=t;let l=o.trend;return!l&&(o.state===$e.SpecialCauseImproving||o.state===$e.SpecialCauseDeteriorating)&&o.polarity&&(o.state===$e.SpecialCauseImproving?l=o.polarity===qe.LowerIsBetter?Te.Lower:Te.Higher:l=o.polarity===qe.LowerIsBetter?Te.Higher:Te.Lower),l||(o.state===$e.SpecialCauseImproving?l=Te.Higher:o.state===$e.SpecialCauseDeteriorating?l=Te.Lower:l=Te.Higher),{state:o.state,direction:l,polarity:o.polarity??qe.ContextDependent}}const n=t;e();const a={[ht.Improving]:$e.SpecialCauseImproving,[ht.Deteriorating]:$e.SpecialCauseDeteriorating,[ht.No_Judgement]:$e.SpecialCauseNoJudgement,[ht.None]:$e.CommonCause}[n.judgement];let i;return n.judgement===ht.Improving?i=n.polarity===qe.LowerIsBetter?Te.Lower:Te.Higher:n.judgement===ht.Deteriorating?i=n.polarity===qe.LowerIsBetter?Te.Higher:Te.Lower:i=n.trend??Te.Higher,{state:a,direction:i,polarity:n.polarity}};function Zx(t,e){const{state:n,direction:r,polarity:a}=Nd(t),i=mi(n),o=r===Te.Higher?"above":"below",l=r===Te.Higher?"upwards":"downwards",u=(()=>{switch(a){case qe.HigherIsBetter:return"For this measure, higher values are better.";case qe.LowerIsBetter:return"For this measure, lower values are better.";default:return"Direction of improvement is context dependent."}})();return[(()=>{switch(i){case ht.Improving:return`Special cause improvement: recent data show a sustained run ${o} the mean (unlikely due to random variation).`;case ht.Deteriorating:return`Special cause deterioration: recent data show a sustained run ${o} the mean (unlikely due to random variation).`;case ht.No_Judgement:return`Special cause detected (no value judgement): recent data show a change in level, trending ${l}.`;case ht.None:default:return"Common cause variation: points vary randomly around the mean; no special cause detected."}})(),u,null,null,null,null,null].filter(Boolean).join(" ")}const po=(t,e,n,r,a,i)=>s.jsxs("defs",{children:[r&&s.jsxs("filter",{id:e,filterUnits:"objectBoundingBox",children:[s.jsx("feGaussianBlur",{stdDeviation:"3"}),s.jsx("feOffset",{dx:"0",dy:"15",result:"blur"}),s.jsx("feFlood",{floodColor:"rgb(150,150,150)",floodOpacity:"1"}),s.jsx("feComposite",{in2:"blur",operator:"in",result:"colorShadow"}),s.jsx("feComposite",{in:"SourceGraphic",in2:"colorShadow",operator:"over"})]}),a&&s.jsx("linearGradient",{id:n,x1:"0%",y1:"0%",x2:"100%",y2:"100%",children:i.map(o=>s.jsx("stop",{offset:o.offset,stopColor:t,stopOpacity:parseFloat(o.opacity)},o.offset))})]}),gi=({data:t,size:e=44,ariaLabel:n,showLetter:r=!0,dropShadow:a=!0,gradientWash:i=!1,variant:o="classic",runLength:l=0,letterMode:u="polarity",letterOverride:c,...d})=>{const p=A.useId(),m=A.useId(),{start:g,mid:y,end:h,triStart:f,triMid:L,triEnd:M}=Cd(),{state:j,direction:S,polarity:N}=A.useMemo(()=>Nd(t),[t]),k=A.useMemo(()=>ho(j),[j]),$=A.useMemo(()=>mi(j),[j]),v=$===ht.Improving||$===ht.Deteriorating;let b="";r&&v&&(u==="polarity"?N===qe.HigherIsBetter?b="H":N===qe.LowerIsBetter?b="L":b="":b=S===Te.Higher?"H":"L"),c!==void 0&&(b=c);const D=j!==$e.CommonCause,x=j===$e.SpecialCauseNoJudgement,C=Mt("common-cause","#A6A6A6"),B=D?k.hex:C,I=A.useMemo(()=>Kx(j,S),[j,S]),P=n||`${k.label}${b?S===Te.Higher?" â€“ Higher":" â€“ Lower":""}`,w=Zx(t);if(o==="triangleWithRun"){const G=[[150,90],[100,190],[200,190]],H=[[150,140+100/2],[150-100/2,140-100/2],[150+100/2,140-100/2]];let oe=null;j===$e.SpecialCauseImproving||j===$e.SpecialCauseDeteriorating?oe=s.jsx("polygon",{points:(S===Te.Higher?G:H).map(de=>de.join(",")).join(" "),fill:k.hex,stroke:k.hex,strokeWidth:6,transform:S===Te.Higher?"translate(0, -8)":"translate(0, 15)"}):j===$e.SpecialCauseNoJudgement&&(oe=s.jsx("polygon",{points:S===Te.Higher?G.map(de=>de.join(",")).join(" "):H.map(de=>de.join(",")).join(" "),fill:k.hex,stroke:k.hex,strokeWidth:6,transform:S===Te.Higher?"translate(0,-7)":"translate(0,14)"}));const T=Math.max(0,Math.min(5,Math.floor(l||0))),O=j===$e.CommonCause?160:S===Te.Higher?220:70,Q=10,re=26,q=150-2*re,R=j===$e.SpecialCauseImproving?Mt("improvement","#00B0F0"):j===$e.SpecialCauseDeteriorating?Mt("concern","#E46C0A"):C,V=Array.from({length:5}).map((de,ie)=>{const fe=(j===$e.SpecialCauseImproving||j===$e.SpecialCauseDeteriorating)&&ie>=5-T?R:C;return s.jsx("circle",{cx:q+ie*re,cy:O,r:Q,fill:fe,stroke:fe,strokeWidth:1},ie)}),le=po(k.hex,p,m,a,i,[{offset:"0%",opacity:f},{offset:"75%",opacity:L},{offset:"100%",opacity:M}]),U=j===$e.CommonCause||S===Te.Higher?"translate(0,-10)":"translate(0,25)";return s.jsxs("svg",{width:e,height:e,viewBox:"0 0 300 300",role:"img","aria-label":P,"aria-description":w,...d,children:[le,s.jsx("circle",{stroke:"none",fill:i?`url(#${m})`:"#ffffff",...a?{filter:`url(#${p})`}:{},cx:"150",cy:"150",r:"120"}),s.jsx("circle",{stroke:k.hex,strokeWidth:15,strokeMiterlimit:10,fill:"none",cx:"150",cy:"150",r:"120"}),s.jsxs("g",{transform:U,children:[oe,b&&s.jsx("text",{fill:"#fff",fontFamily:"'Frutiger W01', Frutiger, Arial, 'Helvetica Neue', Helvetica, sans-serif",fontWeight:"bold",fontSize:64,x:"150",y:S===Te.Higher?155:145,textAnchor:"middle",dominantBaseline:"middle",children:b}),V]})]})}if(o==="triangle"){const G=[[150,75],[75,225],[225,225]],H=[[150,150+150/2],[150-150/2,150-150/2],[150+150/2,150-150/2]],oe=[[150-150/2,150+150/2],[150+150/2,150+150/2]];let T=null;j===$e.SpecialCauseImproving||j===$e.SpecialCauseDeteriorating?T=s.jsx("polygon",{points:(S===Te.Higher?G:H).map(Q=>Q.join(",")).join(" "),fill:k.hex,stroke:k.hex,strokeWidth:8,transform:S===Te.Higher?"translate(0, -10)":"translate(0, 10)"}):j===$e.SpecialCauseNoJudgement?T=s.jsx("polygon",{points:S===Te.Higher?G.map(Q=>Q.join(",")).join(" "):H.map(Q=>Q.join(",")).join(" "),fill:k.hex,stroke:k.hex,strokeWidth:8,transform:S===Te.Higher?"translate(0, -15)":"translate(0, 15)"}):j===$e.CommonCause&&(T=s.jsx("line",{x1:oe[0][0],y1:oe[0][1],x2:oe[1][0],y2:oe[1][1],stroke:k.hex,strokeWidth:32,strokeLinecap:"square",transform:"translate(0, -75)"}));const O=po(k.hex,p,m,a,i,[{offset:"0%",opacity:f},{offset:"65%",opacity:L},{offset:"100%",opacity:M}]);return s.jsxs("svg",{width:e,height:e,viewBox:"0 0 300 300",role:"img","aria-label":P,"aria-description":w,...d,children:[O,s.jsx("circle",{stroke:"none",fill:i?`url(#${m})`:"#ffffff",...a?{filter:`url(#${p})`}:{},cx:"150",cy:"150",r:"120"}),s.jsx("circle",{stroke:k.hex,strokeWidth:15,strokeMiterlimit:10,fill:"none",cx:"150",cy:"150",r:"120"}),T,b&&(j===$e.SpecialCauseImproving||j===$e.SpecialCauseDeteriorating)&&s.jsx("text",{fill:"#fff",fontFamily:"'Frutiger W01', Frutiger, Arial, 'Helvetica Neue', Helvetica, sans-serif",fontWeight:"bold",fontSize:100,x:"150",y:S===Te.Higher?"170":"140",textAnchor:"middle",dominantBaseline:"middle",children:b})]})}const E=po(k.hex,p,m,a,i,[{offset:"0%",opacity:g},{offset:"65%",opacity:y},{offset:"100%",opacity:h}]);return s.jsxs("svg",{width:e,height:e,viewBox:"0 0 300 300",role:"img","aria-label":P,"aria-description":w,...d,children:[E,s.jsx("circle",{stroke:"none",fill:i?`url(#${m})`:"#ffffff",...a?{filter:`url(#${p})`}:{},cx:"150",cy:"150",r:"120"}),s.jsx("circle",{stroke:k.hex,strokeWidth:15,strokeMiterlimit:10,fill:"none",cx:"150",cy:"150",r:"120"}),b&&s.jsx("text",{fill:k.hex,fontFamily:"Arial-BoldMT, Arial, 'Helvetica Neue', Helvetica, sans-serif",fontWeight:"bold",fontSize:176,transform:"translate(86.67, 54) scale(0.5, 0.5)",textAnchor:"end",children:s.jsx("tspan",{x:"120",y:S===Te.Lower?"340":"155",children:b})}),x?s.jsx("path",{"aria-hidden":"true",fillRule:"evenodd",stroke:"none",fill:k.hex,...S===Te.Lower?{transform:"rotate(90 150 150)"}:{transform:"translate(-5 0) rotate(0 150 150)"},d:"M 90.26,185.42 L 149.31,126.37 127.44,104.51 209.81,90.66 195.96,173.02 174.09,151.16 115.05,210.2 90.26,185.42 Z M 90.26,185.42"}):s.jsxs(s.Fragment,{children:[I.length===5&&s.jsx("path",{"aria-hidden":"true",fill:"none",stroke:C,strokeWidth:12,strokeLinecap:"round",strokeLinejoin:"round",opacity:.9,d:`M ${I.map(te=>`${te.cx} ${te.cy}`).join(" L ")}`}),I.map((te,z)=>{const G=z>=I.length-2&&D?B:C,H=G;return s.jsx("circle",{stroke:H,strokeWidth:2,strokeMiterlimit:10,fill:G,cx:te.cx,cy:te.cy,r:16},z)})]})]})};gi.displayName="SPCVariationIcon";const _i=({status:t,size:e=44,ariaLabel:n,dropShadow:r=!0,colourOverride:a,gradientWash:i=!1,letterOverride:o,showTrendLines:l=!0,...u})=>{const c=A.useId(),d=A.useId(),{start:p,mid:m,end:g}=Cd(),y=a||Yx[t],h=(o||qx[t]).slice(0,2),f=n||`Assurance ${t}`;return s.jsxs("svg",{width:e,height:e,viewBox:"0 0 300 300",role:"img","aria-label":f,...u,children:[s.jsxs("defs",{children:[r&&s.jsxs("filter",{id:c,filterUnits:"objectBoundingBox",children:[s.jsx("feGaussianBlur",{stdDeviation:"3"}),s.jsx("feOffset",{dx:"-1",dy:"15",result:"blur"}),s.jsx("feFlood",{floodColor:"rgb(166,166,166)",floodOpacity:"1"}),s.jsx("feComposite",{in2:"blur",operator:"in",result:"colorShadow"}),s.jsx("feComposite",{in:"SourceGraphic",in2:"colorShadow",operator:"over"})]}),i&&s.jsxs("linearGradient",{id:d,x1:"0%",y1:"0%",x2:"100%",y2:"100%",children:[s.jsx("stop",{offset:"0%",stopColor:y,stopOpacity:parseFloat(p)}),s.jsx("stop",{offset:"65%",stopColor:y,stopOpacity:parseFloat(m)}),s.jsx("stop",{offset:"100%",stopColor:"#ffffff",stopOpacity:parseFloat(g)})]})]}),s.jsx("circle",{stroke:"none",fill:i?`url(#${d})`:"#ffffff",...r?{filter:`url(#${c})`}:{},cx:"150",cy:"150",r:"120"}),s.jsx("text",{fill:y,fontFamily:"Arial-BoldMT, Arial, 'Helvetica Neue', Helvetica, sans-serif",fontWeight:"bold",fontSize:176,x:0,y:0,transform:"translate(121.01, 32) scale(0.5, 0.5)",textAnchor:"middle",children:s.jsx("tspan",{x:60,y:184,children:h})}),l&&s.jsxs(s.Fragment,{children:[t===wn.Fail?s.jsx("path",{id:"fail-line",stroke:y,strokeWidth:9.5,strokeMiterlimit:9.5,strokeDasharray:"35,10",strokeDashoffset:0,fill:"none",d:"M 33,143 L 268,143"}):t===wn.Uncertain?s.jsx("path",{id:"uncertain-line",stroke:"rgb(166, 166, 166)",strokeWidth:9.5,strokeMiterlimit:9.5,strokeDasharray:"16.5,10",strokeDashoffset:0,fill:"none",d:"M 36,174 L 266,174"}):s.jsx("path",{id:"pass-line",stroke:y,strokeWidth:9.5,strokeMiterlimit:9.5,strokeDasharray:"35,10",strokeDashoffset:0,fill:"none",d:"M 48,204 L 254,204"}),s.jsx("path",{id:"data-sparkline",stroke:"rgb(166, 166, 166)",strokeWidth:12,strokeMiterlimit:12,fill:"none",d:"M 59.9,187.91 C 72.79,171.72 87.33,158.06 104.4,157.83 121.91,158.58 140.94,187.85 153.4,189.91 164.1,192.12 163.78,171.38 169.17,170.53 172.87,169.55 174.88,187.45 184.94,189.24 197,191.86 230.54,184.47 239.01,185.9"}),s.jsx("circle",{stroke:y,strokeWidth:15,strokeMiterlimit:10,fill:"none",cx:"150",cy:"150",r:"120"})]})]})};_i.displayName="SPCAssuranceIcon";let Jx=0;const jd=({data:t,ariaLabel:e="SPC chart",height:n=260,showZones:r=!0,showPoints:a=!0,announceFocus:i=!1,className:o,unit:l,highlightOutOfControl:u=!0,chartType:c=ao.XmR,metricImprovement:d=Je.Neither,enableRules:p=!0,showIcons:m=!1,showEmbeddedIcon:g=!0,embeddedIconVariant:y="classic",embeddedIconRunLength:h,targets:f,baselines:L,ghosts:M,settings:j,narrationContext:S,gradientSequences:N=!1,sequenceTransition:k="slope",processLineWidth:$=2,showWarningsPanel:v=!1,warningsFilter:b,enableNeutralNoJudgement:D=!0,showTrendGatingExplanation:x=!0,enableTrendSideGating:C,disableTrendSideGating:B,source:I,alwaysShowZeroY:P=!1,alwaysShowHundredY:w=!1,percentScale:E=!1,useSqlCompatEngine:te=!1})=>{const z=K.useCallback(Y=>String(Y).replace(/^spc_warning_code\.?/i,"").replace(/[_\-]+/g," ").trim().split(" ").filter(Boolean).map(X=>X.length?X[0].toUpperCase()+X.slice(1):X).join(" "),[]),W=K.useCallback(Y=>String(Y).replace(/[_\-]+/g," ").trim().split(" ").filter(Boolean).map(F=>F.length?F[0].toUpperCase()+F.slice(1):F).join(" "),[]),G=C??(B!==void 0?!B:!1);process.env.NODE_ENV!=="production"&&B!==void 0&&console.warn("SPCChart: 'disableTrendSideGating' is deprecated. Use 'enableTrendSideGating' instead (inverted semantics).");const H=K.useMemo(()=>{const Y=t.map((F,X)=>({x:F.x,value:F.y,target:f?.[X]??void 0,baseline:L?.[X]??void 0,ghost:M?.[X]??void 0}));try{const F=j?{...j,trendSideGatingEnabled:j.trendSideGatingEnabled??G}:{trendSideGatingEnabled:G};return te?Ix({chartType:c,metricImprovement:d,data:Y,disableTrendSideGating:F.trendSideGatingEnabled===!1,settings:F}):so({chartType:c,metricImprovement:d,data:Y,settings:F})}catch{return null}},[t,f,L,M,c,d,j,C,B,te]),oe=H?.rows.slice().reverse().find(Y=>Y.mean!=null),T=oe?.mean??null,O=H?.warnings||[],Q=K.useMemo(()=>O.length?b?O.filter(Y=>!(b.severities&&Y.severity&&!b.severities.includes(Y.severity)||b.categories&&Y.category&&!b.categories.includes(Y.category)||b.codes&&!b.codes.includes(Y.code))):O:[],[O,b]),[re,q]=K.useState(""),R=K.useRef("");K.useEffect(()=>{if(!v){R.current!==""&&(R.current="",q(""));return}const Y=Q.length;if(!Y){const Z="Diagnostics: no warnings.";Z!==R.current&&(R.current=Z,q(Z));return}const F={error:Q.filter(Z=>Z.severity===vn.Error).length,warning:Q.filter(Z=>Z.severity===vn.Warning).length,info:Q.filter(Z=>Z.severity===vn.Info).length},X=[];F.error&&X.push(`${F.error} error${F.error===1?"":"s"}`),F.warning&&X.push(`${F.warning} warning${F.warning===1?"":"s"}`),F.info&&X.push(`${F.info} info`);const se=`Diagnostics updated: ${Y} warning${Y===1?"":"s"} (${X.join(", ")}).`;se!==R.current&&(R.current=se,q(se))},[v,Q]);const V=oe?.upperProcessLimit??null,le=oe?.lowerProcessLimit??null,U=oe?.upperOneSigma??null,de=oe?.lowerOneSigma??null,ie=oe?.upperTwoSigma??null,ue=oe?.lowerTwoSigma??null,fe=T!=null&&U!=null?Math.abs(U-T):0,ye=K.useMemo(()=>[{id:"process",data:t,color:"#A6A6A6"}],[t]),De=K.useMemo(()=>{if(E){const Z=t.map(we=>we.y),ne=Math.max(100,...Z),ce=Math.min(0,...Z);return[ce<0?ce:0,ne>100?ne:100]}const F=[...t.map(Z=>Z.y)];if([T,V,le,U,de,ie,ue].forEach(Z=>{Z!=null&&F.push(Z)}),f&&f.forEach(Z=>{typeof Z=="number"&&!isNaN(Z)&&F.push(Z)}),!F.length)return;let X=Math.min(...F),se=Math.max(...F);return P&&(X=Math.min(0,X)),w&&(se=Math.max(100,se)),[X,se]},[t,T,V,le,U,de,ie,ue,f,P,w,E]),ke=K.useMemo(()=>{if(!(l||S?.measureUnit)&&t.length)return t.every(Y=>Y.y>=0&&Y.y<=1)?"%":void 0},[l,S?.measureUnit,t]),me=l??S?.measureUnit??ke,ee=K.useMemo(()=>me?{...S||{},measureUnit:me}:S,[S,me]),J=K.useMemo(()=>{if(!H?.rows)return[];const Y=[];for(let F=1;F<H.rows.length;F++)H.rows[F].partitionId!==H.rows[F-1].partitionId&&Y.push(F);return Y},[H?.rows]),ae=K.useMemo(()=>{if(!g||!H?.rows?.length)return null;const Y=H.rows,F=j?.minimumPoints??13;if(Y.filter(Se=>!Se.ghost&&Se.value!=null).length<F)return null;let se=-1;for(let Se=Y.length-1;Se>=0;Se--){const Ie=Y[Se];if(Ie&&Ie.value!=null&&!Ie.ghost){se=Se;break}}if(se===-1)return null;const Z=Y[se],ne=Z.variationIcon,ce=Z.assuranceIcon,we=ne===Ae.Neither&&!!Z.specialCauseNeitherValue,Ce=ce===xn.Pass?wn.Pass:ce===xn.Fail?wn.Fail:wn.Uncertain;let xe;if(ne===Ae.None){const Se=Z.specialCauseSinglePointAbove,Ie=Z.specialCauseSinglePointBelow;d===Je.Up?Se?xe=Te.Higher:Ie&&(xe=Te.Lower):d===Je.Down?Ie?xe=Te.Lower:Se&&(xe=Te.Higher):xe=Te.Higher}else if(ne===Ae.Neither&&we){const Se=Z.specialCauseSinglePointAbove||Z.specialCauseTwoOfThreeAbove||Z.specialCauseFourOfFiveAbove||Z.specialCauseShiftHigh||Z.specialCauseTrendIncreasing,Ie=Z.specialCauseSinglePointBelow||Z.specialCauseTwoOfThreeBelow||Z.specialCauseFourOfFiveBelow||Z.specialCauseShiftLow||Z.specialCauseTrendDecreasing;Se&&!Ie?xe=Te.Higher:Ie&&!Se?xe=Te.Lower:xe=Te.Higher}let Ne;d===Je.Up?Ne=qe.HigherIsBetter:d===Je.Down?Ne=qe.LowerIsBetter:Ne=qe.ContextDependent;const _e=80;return s.jsxs("div",{style:{display:"flex",gap:12,marginRight:16},children:[s.jsx("div",{className:"fdp-spc-chart__embedded-icon","data-variation":String(ne),"data-trend-raw":xe?String(xe):"none","data-trend":xe?String(xe):"none","data-polarity":String(Ne??"unknown"),style:{width:_e,height:_e},children:s.jsx(gi,{dropShadow:!1,data:{variationIcon:ne,improvementDirection:d,polarity:Ne,specialCauseNeutral:we,highSideSignal:Z.specialCauseSinglePointAbove||Z.specialCauseTwoOfThreeAbove||Z.specialCauseFourOfFiveAbove||Z.specialCauseShiftHigh||Z.specialCauseTrendIncreasing,lowSideSignal:Z.specialCauseSinglePointBelow||Z.specialCauseTwoOfThreeBelow||Z.specialCauseFourOfFiveBelow||Z.specialCauseShiftLow||Z.specialCauseTrendDecreasing,...xe?{trend:xe}:{}},letterMode:d===Je.Neither?"direction":"polarity",size:_e,variant:y,runLength:y==="triangleWithRun"?h:void 0})}),s.jsx("div",{className:"fdp-spc-chart__embedded-assurance-icon","data-assurance":String(ce),style:{width:_e,height:_e},children:s.jsx(_i,{status:Ce,size:_e,dropShadow:!1})})]},`embedded-icon-${se}`)},[g,H?.rows,d,j?.minimumPoints,f,y,h]);return s.jsxs("div",{className:o?`fdp-spc-chart-wrapper ${o}`:"fdp-spc-chart-wrapper",children:[g&&s.jsx("div",{className:"fdp-spc-chart__top-row",style:{display:"flex",justifyContent:"flex-end",marginBottom:4},children:ae}),s.jsx(ad,{height:n,ariaLabel:e,margin:{bottom:48,left:56,right:16,top:12},className:void 0,children:s.jsx(id,{series:ye,yDomain:De,children:s.jsx(Qx,{series:ye,showPoints:a,announceFocus:i,limits:{mean:T,ucl:V,lcl:le,sigma:fe,onePos:U,oneNeg:de,twoPos:ie,twoNeg:ue},showZones:r,highlightOutOfControl:u,engineRows:H?.rows||null,enableRules:p,showIcons:m,narrationContext:ee,metricImprovement:d,gradientSequences:N,sequenceTransition:k,processLineWidth:$,effectiveUnit:me,partitionMarkers:J,ariaLabel:e,enableNeutralNoJudgement:D,showTrendGatingExplanation:x})})}),I&&s.jsx("div",{className:"fdp-spc-chart__source","aria-label":"Chart data source",children:typeof I=="string"?s.jsxs("small",{children:["Source: ",I]}):I}),v&&re&&s.jsx("div",{"data-testid":"spc-diagnostics-live","aria-live":"polite",style:{position:"absolute",width:1,height:1,padding:0,margin:0,overflow:"hidden",clip:"rect(0 0 0 0)",whiteSpace:"nowrap",border:0},children:re}),v&&Q.length>0&&s.jsxs("div",{className:"fdp-spc-chart__warnings",role:"region","aria-label":"SPC diagnostics",children:[s.jsx("p",{className:"fdp-spc-chart__warnings-heading",children:"Diagnostics"}),s.jsx(Dt,{firstCellIsHeader:!1,panel:!1,responsive:!1,head:[{text:"Severity"},{text:"Category"},{text:"Code"},{text:"Details"}],rows:Q.map(Y=>{let F="grey";return Y.severity===vn.Error?F="red":Y.severity===vn.Warning?F="orange":Y.severity===vn.Info&&(F="blue"),[{node:s.jsx(Ge,{color:F,text:(Y.severity?String(Y.severity):"Info").replace(/^[a-z]/,X=>X.toUpperCase())}),classes:"fdp-spc-chart__warning-cell fdp-spc-chart__warning-cell--severity"},{node:Y.category?s.jsx(Ge,{color:"purple",text:W(Y.category)}):s.jsx("span",{className:"fdp-spc-chart__warning-empty",children:"â€“"}),classes:"fdp-spc-chart__warning-cell fdp-spc-chart__warning-cell--category"},{node:s.jsx(Ge,{color:"grey",text:z(Y.code)}),classes:"fdp-spc-chart__warning-cell fdp-spc-chart__warning-cell--code"},{node:s.jsxs("div",{className:"fdp-spc-chart__warning-message",children:[s.jsx("span",{children:Y.message}),Y.context&&Object.keys(Y.context).length>0&&s.jsxs("details",{className:"fdp-spc-chart__warning-context",style:{marginTop:4},children:[s.jsx("summary",{children:"context"}),s.jsx("pre",{children:JSON.stringify(Y.context,null,2)})]})]}),classes:"fdp-spc-chart__warning-cell fdp-spc-chart__warning-cell--message"}]}),classes:"fdp-spc-chart__warnings-table-wrapper",tableClasses:"fdp-spc-chart__warnings-table"})]})]})},Qx=({series:t,showPoints:e,announceFocus:n,limits:r,showZones:a,highlightOutOfControl:i,engineRows:o,enableRules:l,showIcons:u,narrationContext:c,gradientSequences:d,sequenceTransition:p,processLineWidth:m,effectiveUnit:g,partitionMarkers:y,ariaLabel:h,enableNeutralNoJudgement:f=!0,showTrendGatingExplanation:L=!0})=>{const M=Hn(),j=bn();if(!M)return null;const{xScale:S,yScale:N}=M,k=K.useRef("spc-seq-"+ ++Jx),$=yn(),v=t[0]?.data||[],b=K.useMemo(()=>{if(!r.ucl&&!r.lcl)return new Set;const T=new Set;return v.forEach((O,Q)=>{(r.ucl!=null&&O.y>r.ucl||r.lcl!=null&&O.y<r.lcl)&&T.add(Q)}),T},[v,r.ucl,r.lcl]),D=K.useMemo(()=>{if(!o)return null;const T={};return o.forEach((O,Q)=>{if(O.value==null||O.ghost)return;const re=O.specialCauseSinglePointAbove||O.specialCauseSinglePointBelow||O.specialCauseTwoOfThreeAbove||O.specialCauseTwoOfThreeBelow||O.specialCauseFourOfFiveAbove||O.specialCauseFourOfFiveBelow||O.specialCauseShiftHigh||O.specialCauseShiftLow||O.specialCauseTrendIncreasing||O.specialCauseTrendDecreasing;T[Q]={variation:O.variationIcon,assurance:O.assuranceIcon,special:re,concern:O.variationIcon===Ae.Concern,improvement:O.variationIcon===Ae.Improvement}}),T},[o]),x=K.useMemo(()=>{if(!o||!o.length)return null;const T=[];for(const Q of o)typeof Q.target=="number"&&!isNaN(Q.target)&&T.push(Q.target);if(!T.length)return null;const O=T[0];return T.every(Q=>Q===O)?O:null},[o]),C=K.useMemo(()=>{if(!D||!v.length)return[];const T=v.map((Q,re)=>{const q=D?.[re];return q?.concern?"concern":q?.improvement?"improvement":f&&q?.special&&q.variation===Ae.Neither?"noJudgement":"common"});return h?.includes("Rule Clash")&&console.log(`[${h}] Raw categories:`,T.map((Q,re)=>`${re}:${Q}(${v[re].y})`).join(", ")),T},[D,v,h,f]),B=K.useMemo(()=>{if(!d||!C.length)return[];const T=[...C];let O=0;for(;O<T.length;){const q=T[O];let R=O+1;for(;R<T.length&&T[R]===q;)R++;R-O===1&&q!=="common"&&(T[O]="common"),O=R}const Q=[];if(T.length){let q=0;for(let R=1;R<=T.length;R++)if(R===T.length||T[R]!==T[q]){const V=T[q],le=R-1,U=le-q+1;(V==="common"||U>=2)&&Q.push({start:q,end:le,category:V}),q=R}}return h?.includes("Rule Clash")&&console.log(`[${h}] Final sequences:`,Q.map(q=>`${q.start}-${q.end}:${q.category}`).join(", ")),Q},[d,C,h]),I=K.useMemo(()=>v.map(T=>S(T.x instanceof Date?T.x:new Date(T.x))),[v,S]),P=S.range()[1],w=K.useMemo(()=>{if(!o||!o.length)return null;const T=O=>{const Q=[];let re=null,q=null;for(let R=0;R<o.length;R++){const V=o[R],le=typeof V[O]=="number"?V[O]:null;if(le==null||isNaN(le)){re!==null&&q!=null&&(Q.push({x1:I[re],x2:I[R-1],y:N(q)}),re=null,q=null);continue}if(re===null){re=R,q=le;continue}q!=null&&Math.abs(le-q)<=1e-9||(q!=null&&Q.push({x1:I[re],x2:I[R-1],y:N(q)}),re=R,q=le)}return re!==null&&q!=null&&Q.push({x1:I[re],x2:I[o.length-1],y:N(q)}),Q};return{mean:T("mean"),ucl:T("upperProcessLimit"),lcl:T("lowerProcessLimit"),onePos:T("upperOneSigma"),oneNeg:T("lowerOneSigma"),twoPos:T("upperTwoSigma"),twoNeg:T("lowerTwoSigma")}},[o,I,N]),E=K.useMemo(()=>B.length?s.jsxs("defs",{children:[s.jsxs("linearGradient",{id:`${k.current}-grad-common`,x1:"0%",y1:"0%",x2:"0%",y2:"100%",children:[s.jsx("stop",{offset:"0%",stopColor:"var(--nhs-fdp-color-data-viz-spc-common-cause, #A6A6A6)",stopOpacity:.28}),s.jsx("stop",{offset:"70%",stopColor:"var(--nhs-fdp-color-data-viz-spc-common-cause, #A6A6A6)",stopOpacity:.12}),s.jsx("stop",{offset:"100%",stopColor:"var(--nhs-fdp-color-data-viz-spc-common-cause, #A6A6A6)",stopOpacity:.045})]}),B.map((T,O)=>{const Q=`${k.current}-grad-${O}`;let re,q=.28,R=.12,V=.045;switch(T.category){case"concern":re="var(--nhs-fdp-color-data-viz-spc-concern, #E46C0A)",q=.28,R=.12,V=.045;break;case"improvement":re="var(--nhs-fdp-color-data-viz-spc-improvement, #00B0F0)",q=.26,R=.11,V=.045;break;case"noJudgement":re="var(--nhs-fdp-color-data-viz-spc-no-judgement, #490092)",q=.26,R=.11,V=.045;break;default:re="var(--nhs-fdp-color-data-viz-spc-common-cause, #A6A6A6)"}return s.jsxs("linearGradient",{id:Q,x1:"0%",y1:"0%",x2:"0%",y2:"100%",children:[s.jsx("stop",{offset:"0%",stopColor:re,stopOpacity:q}),s.jsx("stop",{offset:"70%",stopColor:re,stopOpacity:R}),s.jsx("stop",{offset:"100%",stopColor:re,stopOpacity:V})]},Q)})]}):null,[B]),te=K.useMemo(()=>{if(!B.length)return null;const[T]=N.domain(),O=N(T),Q=B.map((re,q)=>{const{start:R,end:V,category:le}=re;if(R<0||V>=I.length||R>V)return null;const U=I[R],de=I[V];let ie="";if(le==="common"){const ue=q>0?B[q-1]:null,fe=q<B.length-1?B[q+1]:null,ye=ue?I[ue.end]:0,De=ue?N(v[ue.end].y):O,ke=fe?I[fe.start]:P,me=fe?N(v[fe.start].y):O;ie=`M ${ye} ${O}`,ie+=` L ${ye} ${De}`;for(let ee=R;ee<=V;ee++)ie+=` L ${I[ee]} ${N(v[ee].y)}`;ie+=` L ${ke} ${me}`,ie+=` L ${ke} ${O} Z`}else{const ue=q>0?B[q-1]:null,fe=q<B.length-1?B[q+1]:null,ye=ue&&ue.category!=="common",De=fe&&fe.category!=="common",ke=N(v[R].y),me=N(v[V].y);let ee=U,J=de;if(ye){const ae=I[ue.end],Y=N(v[ue.end].y),F=v[R].y-v[ue.end].y;p==="slope"&&F>0?(ie=`M ${ae} ${Y} L ${U} ${ke}`,ee=ae):(ie=`M ${U} ${O} L ${U} ${ke}`,ee=U)}else ie=`M ${U} ${O} L ${U} ${ke}`;for(let ae=R+1;ae<=V;ae++)ie+=` L ${I[ae]} ${N(v[ae].y)}`;if(ie+=` L ${de} ${me}`,De){const ae=I[fe.start],Y=N(v[fe.start].y),F=v[fe.start].y-v[V].y;(p==="slope"&&F<=0||p==="extend")&&(ie+=` L ${ae} ${Y}`,J=ae)}if(ie+=` L ${J} ${O}`,ie+=` L ${ee} ${O} Z`,p==="neutral"&&ye){const ae=I[ue.end],Y=N(v[ue.end].y),F=s.jsx("path",{d:`M ${ae} ${O} L ${ae} ${Y} L ${U} ${ke} L ${U} ${O} Z`,fill:`url(#${k.current}-grad-common)`,stroke:"none",className:"fdp-spc__sequence-bg","aria-hidden":"true"},`seq-wedge-${q}`);return s.jsxs("g",{children:[F,s.jsx("path",{d:ie,fill:`url(#${k.current}-grad-${q})`,stroke:"none",className:"fdp-spc__sequence-bg","aria-hidden":"true"},`seq-area-${q}`)]},`seq-group-${q}`)}}return s.jsx("path",{d:ie,fill:`url(#${k.current}-grad-${q})`,stroke:"none",className:"fdp-spc__sequence-bg","aria-hidden":"true"},`seq-area-${q}`)}).filter(Boolean);return s.jsx("g",{className:"fdp-spc__sequence-bgs",children:Q})},[B,I,P,N,v,p]),z=K.useMemo(()=>{if(!c?.timeframe&&v.length>=2){const T=v.map(V=>V.x instanceof Date?V.x:new Date(V.x)),O=new Date(Math.min(...T.map(V=>V.getTime()))),Q=new Date(Math.max(...T.map(V=>V.getTime()))),re=Math.round((Q.getTime()-O.getTime())/864e5)||0;if(re<14)return`The chart shows a timeframe of ${re+1} days`;const q=Math.round(re/7);return q<20?`The chart shows a timeframe of ${q} weeks`:`The chart shows a timeframe of ${(Q.getFullYear()-O.getFullYear())*12+(Q.getMonth()-O.getMonth())+1} months`}if(c?.timeframe)return`The chart shows a timeframe of ${c.timeframe}`},[c?.timeframe,v]),W=T=>{const O=T%10,Q=T%100;return O===1&&Q!==11?`${T}st`:O===2&&Q!==12?`${T}nd`:O===3&&Q!==13?`${T}rd`:`${T}th`},G=T=>`${W(T.getDate())} ${T.toLocaleString("en-GB",{month:"long"})}, ${T.getFullYear()}`,H=K.useCallback(({index:T,x:O,y:Q})=>{const re=o?.[T],q=O instanceof Date?O:new Date(O),R=G(q),V=c?.measureUnit?` ${c.measureUnit}`:"",le=c?.measureName?` ${c.measureName}`:"";if(!re)return`General summary is: ${z?z+". ":""}Point ${T+1}, ${R}, ${Q}${V}${le}`;const U=co(re.variationIcon)||"Variation",de=lo(re),ie=de.length?` Rules: ${[...new Set(de.map(fe=>oo[fe].narration))].join("; ")}.`:" No special cause rules.",ue=[];return c?.measureName&&ue.push(`Measure: ${c.measureName}.`),c?.datasetContext&&ue.push(`${c.datasetContext}.`),c?.organisation&&ue.push(`Organisation: ${c.organisation}.`),c?.additionalNote&&ue.push(c.additionalNote),["General summary is:",...ue,`Point ${T+1} recorded on `,R+",",`with a value of ${Q} ${V}${le}`,U+".",ie].join(" ").replace(/\s+/g," ").trim()},[o,c,z]),oe=K.useCallback((T,O)=>o?.[T]?H({index:T,seriesId:"process",x:O.x instanceof Date?O.x:new Date(O.x),y:O.y}).replace(/^General summary is:\s*/,"").replace(/^Point \d+\s*/,""):void 0,[o,H]);return s.jsx(md,{children:s.jsxs("div",{className:"fdp-spc-chart",role:"group","aria-label":"Statistical process control chart","aria-roledescription":"chart",children:[s.jsx("svg",{width:M.xScale.range()[1]+56+16,height:M.yScale.range()[0]+12+48,role:"img",children:s.jsxs("g",{transform:"translate(56,12)",children:[s.jsx(qs,{type:"x"}),s.jsx(qs,{type:"y"}),s.jsx(sd,{axis:"y"}),E,te,y.map((T,O)=>{const Q=v[T];if(!Q)return null;const re=S(Q.x instanceof Date?Q.x:new Date(Q.x));return s.jsx("line",{x1:re,x2:re,y1:0,y2:N.range()[0],stroke:"#555",strokeDasharray:"4 4",strokeWidth:1,"aria-hidden":"true",className:"fdp-spc__partition-marker"},`partition-marker-${O}`)}),w?.mean.length?s.jsxs("g",{"aria-hidden":"true",className:"fdp-spc__cl-group",children:[w.mean.map((T,O)=>s.jsx("line",{className:"fdp-spc__cl",x1:T.x1,x2:T.x2,y1:T.y,y2:T.y},`mean-${O}`)),w.mean.map((T,O)=>{if(O===w.mean.length-1)return null;const Q=w.mean[O+1];if(!Q||T.y===Q.y)return null;const q=Math.max(4,Q.x1-T.x2||0)*.5,R=`M ${T.x2},${T.y} C ${T.x2+q},${T.y} ${Q.x1-q},${Q.y} ${Q.x1},${Q.y}`;return s.jsx("path",{className:"fdp-spc__cl fdp-spc__cl-join",d:R,fill:"none"},`mean-join-${O}`)})]}):null,x!=null&&s.jsx(s.Fragment,{}),w?.ucl.length?s.jsxs("g",{"aria-hidden":"true",className:"fdp-spc__limit-group fdp-spc__limit-group--ucl",children:[w.ucl.map((T,O)=>s.jsx("line",{className:"fdp-spc__limit fdp-spc__limit--ucl",x1:T.x1,x2:T.x2,y1:T.y,y2:T.y,strokeWidth:2},`ucl-${O}`)),w.ucl.map((T,O)=>{if(O===w.ucl.length-1)return null;const Q=w.ucl[O+1];if(!Q||T.y===Q.y)return null;const q=Math.max(4,Q.x1-T.x2||0)*.5,R=`M ${T.x2},${T.y} C ${T.x2+q},${T.y} ${Q.x1-q},${Q.y} ${Q.x1},${Q.y}`;return s.jsx("path",{className:"fdp-spc__limit fdp-spc__limit--ucl fdp-spc__limit-join",d:R,fill:"none",strokeWidth:2},`ucl-join-${O}`)})]}):null,w?.lcl.length?s.jsxs("g",{"aria-hidden":"true",className:"fdp-spc__limit-group fdp-spc__limit-group--lcl",children:[w.lcl.map((T,O)=>s.jsx("line",{className:"fdp-spc__limit fdp-spc__limit--lcl",x1:T.x1,x2:T.x2,y1:T.y,y2:T.y,strokeWidth:2},`lcl-${O}`)),w.lcl.map((T,O)=>{if(O===w.lcl.length-1)return null;const Q=w.lcl[O+1];if(!Q||T.y===Q.y)return null;const q=Math.max(4,Q.x1-T.x2||0)*.5,R=`M ${T.x2},${T.y} C ${T.x2+q},${T.y} ${Q.x1-q},${Q.y} ${Q.x1},${Q.y}`;return s.jsx("path",{className:"fdp-spc__limit fdp-spc__limit--lcl fdp-spc__limit-join",d:R,fill:"none",strokeWidth:2},`lcl-join-${O}`)})]}):null,x!=null&&s.jsxs("g",{"aria-hidden":"true",className:"fdp-spc__target-group",children:[s.jsx("line",{className:"fdp-spc__target","data-testid":"spc-target-line",x1:0,x2:S.range()[1],y1:N(x),y2:N(x),strokeWidth:2.5}),s.jsxs("text",{"data-testid":"spc-target-label",x:S.range()[0]-7,y:N(x)-5,textAnchor:"start",className:"fdp-spc__target-label",fontSize:12,children:["Target ",x," ",g||c?.measureUnit||""]})]}),a&&w&&w.mean.length>0&&s.jsxs(s.Fragment,{children:[w.onePos.map((T,O)=>s.jsx("line",{className:"fdp-spc__zone fdp-spc__zone--pos1",x1:T.x1,x2:T.x2,y1:T.y,y2:T.y,"aria-hidden":"true",strokeWidth:2},`onePos-${O}`)),w.oneNeg.map((T,O)=>s.jsx("line",{className:"fdp-spc__zone fdp-spc__zone--neg1",x1:T.x1,x2:T.x2,y1:T.y,y2:T.y,"aria-hidden":"true",strokeWidth:2},`oneNeg-${O}`)),w.twoPos.map((T,O)=>s.jsx("line",{className:"fdp-spc__zone fdp-spc__zone--pos2",x1:T.x1,x2:T.x2,y1:T.y,y2:T.y,"aria-hidden":"true",strokeWidth:2},`twoPos-${O}`)),w.twoNeg.map((T,O)=>s.jsx("line",{className:"fdp-spc__zone fdp-spc__zone--neg2",x1:T.x1,x2:T.x2,y1:T.y,y2:T.y,"aria-hidden":"true",strokeWidth:2},`twoNeg-${O}`))]}),s.jsx(gd,{series:t[0],seriesIndex:0,palette:"categorical",showPoints:!1,focusablePoints:!1,focusIndex:-1,parseX:T=>T.x instanceof Date?T.x:new Date(T.x),smooth:!1,strokeWidth:m}),e&&v.map((T,O)=>{const Q=S(T.x instanceof Date?T.x:new Date(T.x)),re=N(T.y),q=b.has(O),R=D?.[O],V=["fdp-spc__point",q&&i?"fdp-spc__point--ooc":null,l&&R?.special&&R.concern?"fdp-spc__point--sc-concern":null,l&&R?.special&&R.improvement?"fdp-spc__point--sc-improvement":null,l&&f&&R?.special&&R.variation===Ae.Neither?"fdp-spc__point--sc-no-judgement":null,R?.assurance===xn.Pass?"fdp-spc__point--assurance-pass":null,R?.assurance===xn.Fail?"fdp-spc__point--assurance-fail":null].filter(Boolean).join(" "),le=`Point ${O+1} value ${T.y}`+(R?.special?" special cause":"")+(R?.variation===Ae.Improvement?" improving":R?.variation===Ae.Concern?" concern":""),U=$?.focused?.index===O;return s.jsx("circle",{cx:Q,cy:re,r:5,className:V,"data-variation":R?.variation,"data-assurance":R?.assurance,"aria-label":le,...U?{"aria-describedby":`spc-tooltip-${O}`}:{}},O)}),u&&l&&D&&v.map((T,O)=>{const Q=D[O];if(!Q||!(Q.concern||Q.improvement))return null;const re=S(T.x instanceof Date?T.x:new Date(T.x)),q=N(T.y);let R=q-10;const V=12,le=N.range()[0]-4;R<V&&(R=Math.min(q+16,le));const U=S.range()[1],de=Math.min(Math.max(re,0),U-0);return s.jsx("text",{x:de,y:R,textAnchor:"middle",className:`fdp-spc__icon ${Q.concern?"fdp-spc__icon--concern":"fdp-spc__icon--improvement"}`,"aria-hidden":"true",children:Q.concern?"!":"â˜…"},`icon-${O}`)}),j&&s.jsx(ev,{width:S.range()[1],height:N.range()[0]}),s.jsx(kd,{engineRows:o,limits:{mean:r.mean,sigma:r.sigma},pointDescriber:oe,measureName:c?.measureName,measureUnit:c?.measureUnit,dateFormatter:T=>G(T),enableNeutralNoJudgement:f,showTrendGatingExplanation:L})]})}),n&&s.jsx(xx,{format:T=>H({...T,x:T.x instanceof Date?T.x:new Date(T.x)})})]})})},ev=({width:t,height:e})=>{const n=yn();return n?s.jsx("rect",{className:"fdp-spc__interaction-layer",width:t,height:e,fill:"transparent",tabIndex:0,"aria-label":"Interactive chart area. Use arrow keys to move between points.",onMouseMove:r=>{const i=r.currentTarget.getBoundingClientRect(),o=r.clientX-i.left,l=r.clientY-i.top;n.focusNearest(o,l)},onMouseLeave:()=>n.clear(),onKeyDown:r=>{switch(r.key){case"ArrowRight":n.focusNextPoint(),r.preventDefault();break;case"ArrowLeft":n.focusPrevPoint(),r.preventDefault();break;case"ArrowDown":n.focusNextSeries(),r.preventDefault();break;case"ArrowUp":n.focusPrevSeries(),r.preventDefault();break;case"Home":n.focusFirstPoint(),r.preventDefault();break;case"End":n.focusLastPoint(),r.preventDefault();break}},style:{cursor:"crosshair"}}):null},tv=Object.freeze(Object.defineProperty({__proto__:null,AssuranceIcon:xn,AssuranceResult:wn,BaselineSuggestionReason:xd,ChartType:ao,Direction:Te,Icons:Object.freeze(Object.defineProperty({__proto__:null,AssuranceResult:wn,Direction:Te,MetricPolarity:qe,SPCAssuranceIcon:_i,SPCVariationIcon:gi,VariationJudgement:ht,VariationState:$e,getVariationColour:ho,getVariationTrend:mi},Symbol.toStringTag,{value:"Module"})),ImprovementDirection:Je,MetricPolarity:qe,SPCAssuranceIcon:_i,SPCChart:jd,SPCTooltipOverlay:kd,SPCVariationIcon:gi,SpcWarningCategory:bd,SpcWarningCode:yd,SpcWarningSeverity:vn,VARIATION_COLOR_TOKENS:Bt,VariationIcon:Ae,VariationJudgement:ht,VariationState:$e,buildSpc:so,extractRuleIds:lo,getVariationColorHex:Vx,getVariationColorToken:Sd,getVariationColour:ho,getVariationTrend:mi,ruleGlossary:oo,variationLabel:co},Symbol.toStringTag,{value:"Module"})),Dd="150ms",Md="300ms",$d="500ms",Id="cubic-bezier(0.4, 0, 1, 1)",Pd="cubic-bezier(0, 0, 0.2, 1)",Ld="cubic-bezier(0.4, 0, 0.2, 1)",Fd="cubic-bezier(0.68, -0.55, 0.265, 1.55)",Bd="background-color 300ms cubic-bezier(0, 0, 0.2, 1)",Ad="box-shadow 150ms cubic-bezier(0, 0, 0.2, 1)",Ed="border-color 150ms cubic-bezier(0, 0, 0.2, 1), box-shadow 150ms cubic-bezier(0, 0, 0.2, 1)",Hd="border-color 300ms cubic-bezier(0, 0, 0.2, 1)",Rd="1px",Od="2px",zd="4px",Wd="4px",Ud="4px",Gd="2px",Vd="1px",Yd="0px",qd="4px",Xd="8px",Kd="12px",mo="#d8dde0",go="#4c6272",_o="#d8dde0",bo="#aeb7bd",yo="#d5281b",xo="#005eb8",vo="#ffffff",wo="#212b32",So="#007f3b",ko="#330072",Co="#7c2855",To="#d5281b",No="#ffeb3b",jo="#fff9c4",Do="#ffb81c",Mo="#ed8b00",$o="#00a499",Io="#ae2573",Po="#4c6272",Lo="#768692",Fo="#aeb7bd",Bo="#d8dde0",Ao="#f0f4f5",Zd="#212b32",Jd="#4c6272",Qd="#ffffff",ef="#212b32",tf="#005eb8",nf="#7c2855",rf="#003087",af="#330072",sf="#ffeb3b",of="#212b32",lf="#d8dde0",cf="#ffffff33",uf="#d5281b",df="#4c6272",ff="#ffffff",hf="#007f3b",pf="#ffffff",mf="#006530",gf="#004021",_f="#004021",bf="#00000000",yf="#ffffff",xf="#005eb8",vf="#005eb8",wf="#d9e5f2",Sf="#c7daf0",kf="#005eb8",Cf="#ffffff",Tf="#212b32",Nf="#d9dde0",jf="#b3bcc2",Df="#b3bcc2",Mf="#d5281b",$f="#aa2016",If="#6a140e",Pf="#6a140e",Lf="#005eb8",Ff="#004b93",Bf="#002f5c",Af="#002f5c",Ef="8px",Hf="16px",Rf="12px",Of="16px",zf="4px",Wf="40px",Uf="4px",Gf="40px",Vf="12px",Yf="16px",qf="32px",Xf="16px",Kf="20px",Zf="28px",Jf="9px",Qf="2px",eh="16px",th="24px",nh="8px",rh="24px",ah="16px",ih="4px",sh="4px",oh="4px",lh="8px",ch="4px",uh="16px",dh="#007f3b",fh="#006530",hh="#004021",ph="#d8dde0",mh="#ffffff",gh="#768692",_h="#00000000",bh="#ffeb3b",yh="#00000000",xh="#ffffff",vh="#d9e5f2",wh="#c7daf0",Sh="#005eb8",kh="#005eb8",Eo="8px",Ho="16px",Ro="12px",Oo="16px",Ch="2px",Th="4px",Nh="4px",jh="600",Dh="#ffffff",Mh="#d8dde0",$h="#aeb7bd",Ih="#f0f4f5",Ph="#212b32",Lh="#212b32",Fh="#005eb8",zo="16px",Wo="32px",Uo="16px",Bh="1px",Ah="4px",Eh="none",Hh="0 2px 4px rgba(0, 0, 0, 0.1)",Rh="#ffffff",Oh="#ffffff",zh="#d8dde0",Wh="#ffffff",Uh="#4c6272",Gh="#ffeb3b",Vh="#d5281b",Yh="#aeb7bd",qh="#212b32",Xh="#4c6272",Kh="#768692",Zh="#212b32",Jh="#ffffff",Qh="600",ep="#d5281b",tp="600",np="#4c6272",Go="4px",Vo="40px",Yo="40px",qo="12px",rp="2px",ap="4px",ip="0px",sp="16px",op="18px",lp="24px",cp="32px",up="34px",dp="32px",fp="40px",hp="48px",pp="5.4ex",mp="7.2ex",gp="9ex",_p="10.8ex",bp="20ex",yp="38ex",xp="56ex",vp="44px",wp="40px",Sp="1020px",kp="100%",Cp="50%",Tp="33.333%",Np="25%",jp="20%",Dp="320px",Mp="641px",$p="1025px",Ip="1280px",Pp="960px",Lp="32px",Fp="16px",Bp="#d5281b",Ap="#d5281b",Ep="#ffffff",Hp="#007f3b",Rp="#007f3b",Op="#ffffff",zp="#ffeb3b",Wp="#ffeb3b",Up="#212b32",Gp="#005eb8",Vp="#005eb8",Yp="#ffffff",qp="#d8dde0",Xp="#aeb7bd",Kp="#768692",Zp="0 4px 0 #004021",Jp="0 4px 0 #005eb8",Qp="0 4px 0 #6a140e",em="0 4px 0 #ffeb3b",tm="none",nm="0 2px 4px rgba(0, 0, 0, 0.1)",rm="4px",am="0px",im="solid",sm="0 0 0 3px #ffeb3b",om="0 0 0 3px #ffeb3b",lm="none",cm="0 1px 3px rgba(0, 0, 0, 0.12)",um="0 2px 6px rgba(0, 0, 0, 0.16)",dm="0 4px 12px rgba(0, 0, 0, 0.20)",Xo="0",Ko="4px",Zo="8px",Jo="16px",Qo="24px",el="32px",tl="40px",nl="48px",rl="56px",al="64px",bi="0",yi="0",xi="4px",vi="4px",wi="8px",Si="8px",ki="8px",Ci="16px",Ti="16px",Ni="24px",ji="24px",Di="32px",Mi="32px",$i="40px",Ii="40px",Pi="48px",Li="48px",Fi="56px",Bi="56px",Ai="64px",Vr="Frutiger W01",Yr="Arial, Helvetica, sans-serif",qr="sans-serif",Xr="400",Kr="600",Zr="400",Jr="12px",Qr="14px",ea="12pt",ta="14px",na="16px",ra="12pt",aa="16px",ia="19px",sa="13pt",oa="19px",la="22px",ca="15pt",ua="22px",da="26px",fa="17pt",ha="27px",pa="36px",ma="20pt",ga="33px",_a="48px",ba="24pt",Ei="16px",Hi="24px",Ot={fontFamily:"Frutiger W01",fontWeight:"600",fontSize:{mobile:"33px",tablet:"48px",print:"24pt"},lineHeight:"1.09",marginTop:"0",marginBottom:{mobile:"40px",tablet:"48px"}},zt={fontFamily:"Frutiger W01",fontWeight:"600",fontSize:{mobile:"27px",tablet:"36px",print:"20pt"},lineHeight:"1.11",marginTop:"0",marginBottom:{mobile:"16px",tablet:"24px"}},Wt={fontFamily:"Frutiger W01",fontWeight:"600",fontSize:{mobile:"22px",tablet:"26px",print:"17pt"},lineHeight:"1.15",marginTop:"0",marginBottom:{mobile:"16px",tablet:"24px"}},Ut={fontFamily:"Frutiger W01",fontWeight:"600",fontSize:{mobile:"19px",tablet:"22px",print:"15pt"},lineHeight:"1.18",marginTop:"0",marginBottom:{mobile:"16px",tablet:"24px"}},Gt={fontFamily:"Frutiger W01",fontWeight:"600",fontSize:{mobile:"16px",tablet:"19px",print:"13pt"},lineHeight:"1.26",marginTop:"0",marginBottom:{mobile:"16px",tablet:"24px"}},Vt={fontFamily:"Frutiger W01",fontWeight:"400",fontSize:{mobile:"16px",tablet:"19px",print:"13pt"},lineHeight:"1.47",marginTop:"0",marginBottom:{mobile:"16px",tablet:"24px"}},Yt={fontFamily:"Frutiger W01",fontWeight:"400",fontSize:{mobile:"22px",tablet:"26px",print:"17pt"},lineHeight:"1.38",marginTop:"0",marginBottom:{mobile:"24px",tablet:"32px"}},qt={fontFamily:"Frutiger W01",fontWeight:"400",fontSize:{mobile:"14px",tablet:"16px",print:"12pt"},lineHeight:"1.5",marginTop:"0",marginBottom:{mobile:"16px",tablet:"24px"}},Xt={fontFamily:"Frutiger W01",fontWeight:"400",fontSize:{mobile:"22px",tablet:"26px",print:"17pt"},lineHeight:"1.38",marginTop:"0",marginBottom:{mobile:"40px",tablet:"48px"}},Kt={fontFamily:"Frutiger W01",fontWeight:"400",fontSize:{mobile:"16px",tablet:"19px",print:"13pt"},lineHeight:"1.47",marginTop:"0",marginBottom:{mobile:"24px",tablet:"32px"}},nv=Object.freeze(Object.defineProperty({__proto__:null,AnimationDurationFast:Dd,AnimationDurationNormal:Md,AnimationDurationSlow:$d,AnimationEasingBounce:Fd,AnimationEasingEaseIn:Id,AnimationEasingEaseInOut:Ld,AnimationEasingEaseOut:Pd,BorderColorCard:_o,BorderColorCardHover:bo,BorderColorDefault:mo,BorderColorError:yo,BorderColorForm:go,BorderRadiusLarge:Kd,BorderRadiusMedium:Xd,BorderRadiusNone:Yd,BorderRadiusSmall:qd,BorderWidthCardBottom:Wd,BorderWidthDefault:Rd,BorderWidthFormElement:Od,BorderWidthFormElementError:zd,BorderWidthPanel:Ud,BorderWidthTableCell:Vd,BorderWidthTableHeader:Gd,BreakpointDesktop:$p,BreakpointLargeDesktop:Ip,BreakpointMobile:Dp,BreakpointTablet:Mp,ButtonBorderRadius:Th,ButtonBorderWidth:Ch,ButtonPrimaryBackgroundActive:hh,ButtonPrimaryBackgroundDefault:dh,ButtonPrimaryBackgroundDisabled:ph,ButtonPrimaryBackgroundHover:fh,ButtonPrimaryBorderDefault:_h,ButtonPrimaryBorderFocus:bh,ButtonPrimaryTextDefault:mh,ButtonPrimaryTextDisabled:gh,ButtonSecondaryBackgroundActive:wh,ButtonSecondaryBackgroundDefault:yh,ButtonSecondaryBackgroundHover:vh,ButtonSecondaryBackgroundSolid:xh,ButtonSecondaryBorderDefault:kh,ButtonSecondaryTextDefault:Sh,ButtonShadowSize:Nh,ButtonSpacingPaddingHorizontalDesktop:Oo,ButtonSpacingPaddingHorizontalMobile:Ho,ButtonSpacingPaddingVerticalDesktop:Ro,ButtonSpacingPaddingVerticalMobile:Eo,ButtonTypographyWeight:jh,CardBackgroundDefault:Dh,CardBorderBottom:Ih,CardBorderDefault:Mh,CardBorderHover:$h,CardBorderWidthBottom:Ah,CardBorderWidthDefault:Bh,CardShadowDefault:Eh,CardShadowHover:Hh,CardSpacingHeadingMargin:Uo,CardSpacingPaddingDesktop:Wo,CardSpacingPaddingMobile:zo,CardTextDescription:Lh,CardTextHeading:Ph,CardTextLink:Fh,ColorBorderDefault:lf,ColorBorderSecondary:cf,ColorButtonLoginActive:Bf,ColorButtonLoginBackground:Lf,ColorButtonLoginHover:Ff,ColorButtonLoginShadow:Af,ColorButtonPrimaryActive:gf,ColorButtonPrimaryBackground:hf,ColorButtonPrimaryHover:mf,ColorButtonPrimaryShadow:_f,ColorButtonPrimaryText:pf,ColorButtonReverseActive:jf,ColorButtonReverseBackground:Cf,ColorButtonReverseHover:Nf,ColorButtonReverseShadow:Df,ColorButtonReverseText:Tf,ColorButtonSecondaryActive:Sf,ColorButtonSecondaryBackground:bf,ColorButtonSecondaryBackgroundSolid:yf,ColorButtonSecondaryBorder:xf,ColorButtonSecondaryHover:wf,ColorButtonSecondaryShadow:kf,ColorButtonSecondaryText:vf,ColorButtonWarningActive:If,ColorButtonWarningBackground:Mf,ColorButtonWarningHover:$f,ColorButtonWarningShadow:Pf,ColorError:uf,ColorFocusBackground:sf,ColorFocusText:of,ColorFormBackground:ff,ColorFormBorder:df,ColorGrey1:Po,ColorGrey2:Lo,ColorGrey3:Fo,ColorGrey4:Bo,ColorGrey5:Ao,ColorLinkActive:rf,ColorLinkDefault:tf,ColorLinkHover:nf,ColorLinkVisited:af,ColorPrimaryBlack:wo,ColorPrimaryBlue:xo,ColorPrimaryDarkPink:Co,ColorPrimaryGreen:So,ColorPrimaryPurple:ko,ColorPrimaryRed:To,ColorPrimaryWhite:vo,ColorPrimaryYellow:No,ColorSecondaryAquaGreen:$o,ColorSecondaryOrange:Mo,ColorSecondaryPaleYellow:jo,ColorSecondaryPink:Io,ColorSecondaryWarmYellow:Do,ColorTextPrimary:Zd,ColorTextPrint:ef,ColorTextReverse:Qd,ColorTextSecondary:Jd,ComponentBlur:sh,ComponentBreadcrumbChevronMarginLeft:Jf,ComponentBreadcrumbChevronMarginRight:Qf,ComponentBreadcrumbPaddingTopDesktop:th,ComponentBreadcrumbPaddingTopMobile:eh,ComponentButtonPaddingDesktopHorizontal:Of,ComponentButtonPaddingDesktopVertical:Rf,ComponentButtonPaddingMobileHorizontal:Hf,ComponentButtonPaddingMobileVertical:Ef,ComponentButtonShadowSize:zf,ComponentCardHeadingMargin:Xf,ComponentCardPaddingDesktop:qf,ComponentCardPaddingMobile:Yf,ComponentDetails:lh,ComponentExpander:ch,ComponentFormCheckboxLabelPadding:Vf,ComponentFormCheckboxSize:Gf,ComponentFormInputMinHeight:Wf,ComponentFormInputPadding:Uf,ComponentLink:oh,ComponentPagination:uh,ComponentPanelPaddingDesktop:Zf,ComponentPanelPaddingMobile:Kf,ComponentSpread:ih,ComponentSummaryListCellPaddingHorizontal:rh,ComponentSummaryListCellPaddingVertical:nh,ComponentSummaryListRowMargin:ah,ElevationHigh:dm,ElevationLow:cm,ElevationMedium:um,ElevationNone:lm,FocusOutlineOffset:am,FocusOutlineStyle:im,FocusOutlineWidth:rm,FocusShadowButton:om,FocusShadowInput:sm,FontFamilyBase:Vr,FontFamilyFallback:Yr,FontFamilyPrint:qr,FontLineHeightBase:Hi,FontSize14Mobile:Jr,FontSize14Print:ea,FontSize14Tablet:Qr,FontSize16Mobile:ta,FontSize16Print:ra,FontSize16Tablet:na,FontSize19Mobile:aa,FontSize19Print:sa,FontSize19Tablet:ia,FontSize22Mobile:oa,FontSize22Print:ca,FontSize22Tablet:la,FontSize26Mobile:ua,FontSize26Print:fa,FontSize26Tablet:da,FontSize36Mobile:ha,FontSize36Print:ma,FontSize36Tablet:pa,FontSize48Mobile:ga,FontSize48Print:ba,FontSize48Tablet:_a,FontSizeBase:Ei,FontWeightBold:Kr,FontWeightLight:Zr,FontWeightNormal:Xr,FormBorderRadius:ip,FormBorderWidthDefault:rp,FormBorderWidthError:ap,FormErrorTextDefault:ep,FormErrorTypographyWeight:tp,FormHintTextDefault:np,FormInputBackgroundDefault:Rh,FormInputBackgroundDisabled:zh,FormInputBackgroundError:Wh,FormInputBackgroundFocus:Oh,FormInputBorderDefault:Uh,FormInputBorderDisabled:Yh,FormInputBorderError:Vh,FormInputBorderFocus:Gh,FormInputTextDefault:qh,FormInputTextDisabled:Kh,FormInputTextPlaceholder:Xh,FormLabelTextDefault:Zh,FormLabelTextRequired:Jh,FormLabelTypographyWeight:Qh,FormSpacingCheckboxLabelPadding:qo,FormSpacingCheckboxSize:Yo,FormSpacingInputMinHeight:Vo,FormSpacingInputPadding:Go,GridGutter:Lp,GridGutterHalf:Fp,GridPageWidth:Pp,HeadingsNhsukHeadingL:zt,HeadingsNhsukHeadingM:Wt,HeadingsNhsukHeadingS:Ut,HeadingsNhsukHeadingXl:Ot,HeadingsNhsukHeadingXs:Gt,LayoutColumnActions:jp,LayoutColumnFull:kp,LayoutColumnHalf:Cp,LayoutColumnQuarter:Np,LayoutColumnThird:Tp,LayoutContainerMaxWidth:Sp,ParagraphsBody:Vt,ParagraphsBodyLarge:Yt,ParagraphsBodySmall:qt,ParagraphsLedeText:Xt,ParagraphsLedeTextSmall:Kt,ShadowButtonDefault:Zp,ShadowButtonFocus:em,ShadowButtonSecondary:Jp,ShadowButtonWarning:Qp,ShadowCardDefault:tm,ShadowCardHover:nm,SizeButtonMinHeightDesktop:wp,SizeButtonMinHeightMobile:vp,SizeFormControlLarge:hp,SizeFormControlMedium:fp,SizeFormControlSmall:dp,SizeFormInputWidth2xl:yp,SizeFormInputWidth3xl:xp,SizeFormInputWidthLg:_p,SizeFormInputWidthMd:gp,SizeFormInputWidthSm:mp,SizeFormInputWidthXl:bp,SizeFormInputWidthXs:pp,SizeIconExtraLarge:cp,SizeIconLarge:lp,SizeIconMedium:op,SizeIconNhsDefault:up,SizeIconSmall:sp,Spacing0:Xo,Spacing1:Ko,Spacing2:Zo,Spacing3:Jo,Spacing4:Qo,Spacing5:el,Spacing6:tl,Spacing7:nl,Spacing8:rl,Spacing9:al,SpacingResponsive0Mobile:bi,SpacingResponsive0Tablet:yi,SpacingResponsive1Mobile:xi,SpacingResponsive1Tablet:vi,SpacingResponsive2Mobile:wi,SpacingResponsive2Tablet:Si,SpacingResponsive3Mobile:ki,SpacingResponsive3Tablet:Ci,SpacingResponsive4Mobile:Ti,SpacingResponsive4Tablet:Ni,SpacingResponsive5Mobile:ji,SpacingResponsive5Tablet:Di,SpacingResponsive6Mobile:Mi,SpacingResponsive6Tablet:$i,SpacingResponsive7Mobile:Ii,SpacingResponsive7Tablet:Pi,SpacingResponsive8Mobile:Li,SpacingResponsive8Tablet:Fi,SpacingResponsive9Mobile:Bi,SpacingResponsive9Tablet:Ai,StateDisabledBackground:qp,StateDisabledBorder:Xp,StateDisabledText:Kp,StateErrorBackground:Bp,StateErrorBorder:Ap,StateErrorText:Ep,StateInfoBackground:Gp,StateInfoBorder:Vp,StateInfoText:Yp,StateSuccessBackground:Hp,StateSuccessBorder:Rp,StateSuccessText:Op,StateWarningBackground:zp,StateWarningBorder:Wp,StateWarningText:Up,TransitionButtonDefault:Bd,TransitionButtonShadow:Ad,TransitionCardHover:Hd,TransitionInputFocus:Ed},Symbol.toStringTag,{value:"Module"})),rv=(t,e)=>({fontSize:t.mobile,marginBottom:e.mobile,"@media (min-width: 768px)":{fontSize:t.tablet,marginBottom:e.tablet},"@media print":{fontSize:t.print||t.tablet}}),av=({children:t,className:e="",style:n={}})=>s.jsx("h1",{className:e,style:{fontFamily:Ot.fontFamily,fontWeight:Ot.fontWeight,fontSize:Ot.fontSize.mobile,lineHeight:Ot.lineHeight,marginTop:Ot.marginTop,marginBottom:Ot.marginBottom.mobile,...n},children:t}),iv=({children:t,className:e="",style:n={}})=>s.jsx("h2",{className:e,style:{fontFamily:zt.fontFamily,fontWeight:zt.fontWeight,fontSize:zt.fontSize.mobile,lineHeight:zt.lineHeight,marginTop:zt.marginTop,marginBottom:zt.marginBottom.mobile,...n},children:t}),sv=({children:t,className:e="",style:n={}})=>s.jsx("h3",{className:e,style:{fontFamily:Wt.fontFamily,fontWeight:Wt.fontWeight,fontSize:Wt.fontSize.mobile,lineHeight:Wt.lineHeight,marginTop:Wt.marginTop,marginBottom:Wt.marginBottom.mobile,...n},children:t}),ov=({children:t,className:e="",style:n={}})=>s.jsx("h4",{className:e,style:{fontFamily:Ut.fontFamily,fontWeight:Ut.fontWeight,fontSize:Ut.fontSize.mobile,lineHeight:Ut.lineHeight,marginTop:Ut.marginTop,marginBottom:Ut.marginBottom.mobile,...n},children:t}),lv=({children:t,className:e="",style:n={}})=>s.jsx("h5",{className:e,style:{fontFamily:Gt.fontFamily,fontWeight:Gt.fontWeight,fontSize:Gt.fontSize.mobile,lineHeight:Gt.lineHeight,marginTop:Gt.marginTop,marginBottom:Gt.marginBottom.mobile,...n},children:t}),cv=({children:t,className:e="",style:n={}})=>s.jsx("p",{className:e,style:{fontFamily:Vt.fontFamily,fontWeight:Vt.fontWeight,fontSize:Vt.fontSize.mobile,lineHeight:Vt.lineHeight,marginTop:Vt.marginTop,marginBottom:Vt.marginBottom.mobile,...n},children:t}),uv=({children:t,className:e="",style:n={}})=>s.jsx("p",{className:e,style:{fontFamily:Yt.fontFamily,fontWeight:Yt.fontWeight,fontSize:Yt.fontSize.mobile,lineHeight:Yt.lineHeight,marginTop:Yt.marginTop,marginBottom:Yt.marginBottom.mobile,...n},children:t}),dv=({children:t,className:e="",style:n={}})=>s.jsx("p",{className:e,style:{fontFamily:qt.fontFamily,fontWeight:qt.fontWeight,fontSize:qt.fontSize.mobile,lineHeight:qt.lineHeight,marginTop:qt.marginTop,marginBottom:qt.marginBottom.mobile,...n},children:t}),fv=({children:t,className:e="",style:n={}})=>s.jsx("p",{className:e,style:{fontFamily:Xt.fontFamily,fontWeight:Xt.fontWeight,fontSize:Xt.fontSize.mobile,lineHeight:Xt.lineHeight,marginTop:Xt.marginTop,marginBottom:Xt.marginBottom.mobile,...n},children:t}),hv=({children:t,className:e="",style:n={}})=>s.jsx("p",{className:e,style:{fontFamily:Kt.fontFamily,fontWeight:Kt.fontWeight,fontSize:Kt.fontSize.mobile,lineHeight:Kt.lineHeight,marginTop:Kt.marginTop,marginBottom:Kt.marginBottom.mobile,...n},children:t}),pv=()=>A.useMemo(()=>nv,[]),mv=()=>A.useMemo(()=>({BorderColorDefault:mo,BorderColorForm:go,BorderColorCard:_o,BorderColorCardHover:bo,BorderColorError:yo,ColorPrimaryBlue:xo,ColorPrimaryWhite:vo,ColorPrimaryBlack:wo,ColorPrimaryGreen:So,ColorPrimaryPurple:ko,ColorPrimaryDarkPink:Co,ColorPrimaryRed:To,ColorPrimaryYellow:No,ColorSecondaryPaleYellow:jo,ColorSecondaryWarmYellow:Do,ColorSecondaryOrange:Mo,ColorSecondaryAquaGreen:$o,ColorSecondaryPink:Io,ColorGrey1:Po,ColorGrey2:Lo,ColorGrey3:Fo,ColorGrey4:Bo,ColorGrey5:Ao}),[]),gv=()=>A.useMemo(()=>({Spacing0:Xo,Spacing1:Ko,Spacing2:Zo,Spacing3:Jo,Spacing4:Qo,Spacing5:el,Spacing6:tl,Spacing7:nl,Spacing8:rl,Spacing9:al}),[]),_v=()=>A.useMemo(()=>({Mobile:{Size14:Jr,Size16:ta,Size19:aa,Size22:oa,Size26:ua,Size36:ha,Size48:ga},Tablet:{Size14:Qr,Size16:na,Size19:ia,Size22:la,Size26:da,Size36:pa,Size48:_a},Print:{Size14:ea,Size16:ra,Size19:sa,Size22:ca,Size26:fa,Size36:ma,Size48:ba},Family:{Base:Vr,Fallback:Yr,Print:qr},Weight:{Normal:Xr,Bold:Kr,Light:Zr},Base:{Size:Ei,LineHeight:Hi},FontFamilyBase:Vr,FontFamilyFallback:Yr,FontFamilyPrint:qr,FontWeightNormal:Xr,FontWeightBold:Kr,FontWeightLight:Zr,FontSize14Mobile:Jr,FontSize14Tablet:Qr,FontSize14Print:ea,FontSize16Mobile:ta,FontSize16Tablet:na,FontSize16Print:ra,FontSize19Mobile:aa,FontSize19Tablet:ia,FontSize19Print:sa,FontSize22Mobile:oa,FontSize22Tablet:la,FontSize22Print:ca,FontSize26Mobile:ua,FontSize26Tablet:da,FontSize26Print:fa,FontSize36Mobile:ha,FontSize36Tablet:pa,FontSize36Print:ma,FontSize48Mobile:ga,FontSize48Tablet:_a,FontSize48Print:ba,FontSizeBase:Ei,FontLineHeightBase:Hi}),[]),bv=()=>A.useMemo(()=>({Mobile:{Size0:bi,Size1:xi,Size2:wi,Size3:ki,Size4:Ti,Size5:ji,Size6:Mi,Size7:Ii,Size8:Li,Size9:Bi},Tablet:{Size0:yi,Size1:vi,Size2:Si,Size3:Ci,Size4:Ni,Size5:Di,Size6:$i,Size7:Pi,Size8:Fi,Size9:Ai},SpacingResponsive0Mobile:bi,SpacingResponsive0Tablet:yi,SpacingResponsive1Mobile:xi,SpacingResponsive1Tablet:vi,SpacingResponsive2Mobile:wi,SpacingResponsive2Tablet:Si,SpacingResponsive3Mobile:ki,SpacingResponsive3Tablet:Ci,SpacingResponsive4Mobile:Ti,SpacingResponsive4Tablet:Ni,SpacingResponsive5Mobile:ji,SpacingResponsive5Tablet:Di,SpacingResponsive6Mobile:Mi,SpacingResponsive6Tablet:$i,SpacingResponsive7Mobile:Ii,SpacingResponsive7Tablet:Pi,SpacingResponsive8Mobile:Li,SpacingResponsive8Tablet:Fi,SpacingResponsive9Mobile:Bi,SpacingResponsive9Tablet:Ai}),[]),yv=()=>A.useMemo(()=>({ButtonSpacingPaddingVerticalMobile:Eo,ButtonSpacingPaddingHorizontalMobile:Ho,ButtonSpacingPaddingVerticalDesktop:Ro,ButtonSpacingPaddingHorizontalDesktop:Oo,CardSpacingPaddingMobile:zo,CardSpacingPaddingDesktop:Wo,CardSpacingHeadingMargin:Uo,FormSpacingInputPadding:Go,FormSpacingInputMinHeight:Vo,FormSpacingCheckboxSize:Yo,FormSpacingCheckboxLabelPadding:qo}),[]),xv=()=>A.useMemo(()=>({xl:Ot,l:zt,m:Wt,s:Ut,xs:Gt}),[]),vv=()=>A.useMemo(()=>({body:Vt,bodyLarge:Yt,bodySmall:qt,ledeText:Xt,ledeTextSmall:Kt}),[]),wv=()=>A.useMemo(()=>({headings:{xl:Ot,l:zt,m:Wt,s:Ut,xs:Gt},paragraphs:{body:Vt,bodyLarge:Yt,bodySmall:qt,ledeText:Xt,ledeTextSmall:Kt},fonts:{family:{base:Vr,fallback:Yr,print:qr},weight:{normal:Xr,bold:Kr,light:Zr},sizes:{mobile:{size14:Jr,size16:ta,size19:aa,size22:oa,size26:ua,size36:ha,size48:ga},tablet:{size14:Qr,size16:na,size19:ia,size22:la,size26:da,size36:pa,size48:_a},print:{size14:ea,size16:ra,size19:sa,size22:ca,size26:fa,size36:ma,size48:ba}}}}),[]);function Sv(t={}){const{initialLayout:e=void 0,fallbackLayout:n="two-column"}=t,[r,a]=K.useState(e),i=K.useCallback(()=>a("three-column"),[]),o=K.useCallback(()=>a(u=>u==="three-column"?n:u),[n]),l=K.useCallback(()=>a(u=>u==="three-column"?n:"three-column"),[n]);return{forceLayout:r,setLayout:a,drillIn:i,drillOut:o,toggle:l,isDrilledIn:r==="three-column"}}const il={fontPath:"https://assets.nhs.uk/fonts/",includeFontFace:!0,useFallbacks:!0,fontWeights:[400,600]},pt={normal:{woff2:"FrutigerLTW01-55Roman.woff2",woff:"FrutigerLTW01-55Roman.woff",ttf:"FrutigerLTW01-55Roman.ttf",eot:"FrutigerLTW01-55Roman.eot"},bold:{woff2:"FrutigerLTW01-65Bold.woff2",woff:"FrutigerLTW01-65Bold.woff",ttf:"FrutigerLTW01-65Bold.ttf",eot:"FrutigerLTW01-65Bold.eot"}};function kv(t={}){const{fontPath:e,fontWeights:n}={...il,...t},r=[];return n?.includes(400)&&r.push(`
@font-face {
  font-display: swap;
  font-family: "Frutiger W01";
  font-style: normal;
  font-weight: 400;
  src: url("${e}${pt.normal.eot}?#iefix") format("eot"),
       url("${e}${pt.normal.woff2}") format("woff2"),
       url("${e}${pt.normal.woff}") format("woff"),
       url("${e}${pt.normal.ttf}") format("truetype");
  src: url("${e}${pt.normal.eot}");
}`),n?.includes(600)&&r.push(`
@font-face {
  font-display: swap;
  font-family: "Frutiger W01";
  font-style: normal;
  font-weight: 600;
  src: url("${e}${pt.bold.eot}?#iefix") format("eot"),
       url("${e}${pt.bold.woff2}") format("woff2"),
       url("${e}${pt.bold.woff}") format("woff"),
       url("${e}${pt.bold.ttf}") format("truetype");
  src: url("${e}${pt.bold.eot}");
}`),r.join(`
`)}function Cv(t={}){if(typeof document>"u")return;const{fontPath:e,fontWeights:n}={...il,...t};[...n?.includes(400)?[{href:`${e}${pt.normal.woff2}`,as:"font",type:"font/woff2"},{href:`${e}${pt.normal.woff}`,as:"font",type:"font/woff"}]:[],...n?.includes(600)?[{href:`${e}${pt.bold.woff2}`,as:"font",type:"font/woff2"},{href:`${e}${pt.bold.woff}`,as:"font",type:"font/woff"}]:[]].forEach(a=>{const i=document.createElement("link");i.rel="preload",i.href=a.href,i.as=a.as,i.type=a.type,i.crossOrigin="anonymous",document.head.appendChild(i)})}const Tv='"Frutiger W01", Arial, Helvetica, sans-serif',Nv="Arial, Helvetica, sans-serif";async function jv(){if(typeof document>"u"||!document.fonts)return!1;try{return await document.fonts.load('1em "Frutiger W01"'),document.fonts.check('1em "Frutiger W01"')}catch{return!1}}function un(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function fm(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}/*!
 * GSAP 3.13.0
 * https://gsap.com
 *
 * @license Copyright 2008-2025, GreenSock. All rights reserved.
 * Subject to the terms at https://gsap.com/standard-license
 * @author: Jack Doyle, jack@greensock.com
*/var wt={autoSleep:120,force3D:"auto",nullTargetWarn:1,units:{lineHeight:""}},hr={duration:.5,overwrite:!1,delay:0},sl,lt,Re,$t=1e8,Fe=1/$t,ol=Math.PI*2,Dv=ol/4,Mv=0,hm=Math.sqrt,$v=Math.cos,Iv=Math.sin,st=function(e){return typeof e=="string"},Ve=function(e){return typeof e=="function"},dn=function(e){return typeof e=="number"},ll=function(e){return typeof e>"u"},Zt=function(e){return typeof e=="object"},_t=function(e){return e!==!1},cl=function(){return typeof window<"u"},Ri=function(e){return Ve(e)||st(e)},pm=typeof ArrayBuffer=="function"&&ArrayBuffer.isView||function(){},dt=Array.isArray,ul=/(?:-?\.?\d|\.)+/gi,mm=/[-+=.]*\d+[.e\-+]*\d*[e\-+]*\d*/g,pr=/[-+=.]*\d+[.e-]*\d*[a-z%]*/g,dl=/[-+=.]*\d+\.?\d*(?:e-|e\+)?\d*/gi,gm=/[+-]=-?[.\d]+/,_m=/[^,'"\[\]\s]+/gi,Pv=/^[+\-=e\s\d]*\d+[.\d]*([a-z]*|%)\s*$/i,We,Jt,fl,hl,St={},Oi={},bm,ym=function(e){return(Oi=gr(e,St))&&xt},pl=function(e,n){return console.warn("Invalid property",e,"set to",n,"Missing plugin? gsap.registerPlugin()")},ya=function(e,n){return!n&&console.warn(e)},xm=function(e,n){return e&&(St[e]=n)&&Oi&&(Oi[e]=n)||St},xa=function(){return 0},Lv={suppressEvents:!0,isStart:!0,kill:!1},zi={suppressEvents:!0,kill:!1},Fv={suppressEvents:!0},ml={},Sn=[],gl={},vm,kt={},_l={},wm=30,Wi=[],bl="",yl=function(e){var n=e[0],r,a;if(Zt(n)||Ve(n)||(e=[e]),!(r=(n._gsap||{}).harness)){for(a=Wi.length;a--&&!Wi[a].targetTest(n););r=Wi[a]}for(a=e.length;a--;)e[a]&&(e[a]._gsap||(e[a]._gsap=new Zm(e[a],r)))||e.splice(a,1);return e},zn=function(e){return e._gsap||yl(Pt(e))[0]._gsap},Sm=function(e,n,r){return(r=e[n])&&Ve(r)?e[n]():ll(r)&&e.getAttribute&&e.getAttribute(n)||r},bt=function(e,n){return(e=e.split(",")).forEach(n)||e},Xe=function(e){return Math.round(e*1e5)/1e5||0},Qe=function(e){return Math.round(e*1e7)/1e7||0},mr=function(e,n){var r=n.charAt(0),a=parseFloat(n.substr(2));return e=parseFloat(e),r==="+"?e+a:r==="-"?e-a:r==="*"?e*a:e/a},Bv=function(e,n){for(var r=n.length,a=0;e.indexOf(n[a])<0&&++a<r;);return a<r},Ui=function(){var e=Sn.length,n=Sn.slice(0),r,a;for(gl={},Sn.length=0,r=0;r<e;r++)a=n[r],a&&a._lazy&&(a.render(a._lazy[0],a._lazy[1],!0)._lazy=0)},xl=function(e){return!!(e._initted||e._startAt||e.add)},km=function(e,n,r,a){Sn.length&&!lt&&Ui(),e.render(n,r,!!(lt&&n<0&&xl(e))),Sn.length&&!lt&&Ui()},Cm=function(e){var n=parseFloat(e);return(n||n===0)&&(e+"").match(_m).length<2?n:st(e)?e.trim():e},Tm=function(e){return e},Ct=function(e,n){for(var r in n)r in e||(e[r]=n[r]);return e},Av=function(e){return function(n,r){for(var a in r)a in n||a==="duration"&&e||a==="ease"||(n[a]=r[a])}},gr=function(e,n){for(var r in n)e[r]=n[r];return e},Nm=function t(e,n){for(var r in n)r!=="__proto__"&&r!=="constructor"&&r!=="prototype"&&(e[r]=Zt(n[r])?t(e[r]||(e[r]={}),n[r]):n[r]);return e},Gi=function(e,n){var r={},a;for(a in e)a in n||(r[a]=e[a]);return r},va=function(e){var n=e.parent||We,r=e.keyframes?Av(dt(e.keyframes)):Ct;if(_t(e.inherit))for(;n;)r(e,n.vars.defaults),n=n.parent||n._dp;return e},Ev=function(e,n){for(var r=e.length,a=r===n.length;a&&r--&&e[r]===n[r];);return r<0},jm=function(e,n,r,a,i){var o=e[a],l;if(i)for(l=n[i];o&&o[i]>l;)o=o._prev;return o?(n._next=o._next,o._next=n):(n._next=e[r],e[r]=n),n._next?n._next._prev=n:e[a]=n,n._prev=o,n.parent=n._dp=e,n},Vi=function(e,n,r,a){r===void 0&&(r="_first"),a===void 0&&(a="_last");var i=n._prev,o=n._next;i?i._next=o:e[r]===n&&(e[r]=o),o?o._prev=i:e[a]===n&&(e[a]=i),n._next=n._prev=n.parent=null},kn=function(e,n){e.parent&&(!n||e.parent.autoRemoveChildren)&&e.parent.remove&&e.parent.remove(e),e._act=0},Wn=function(e,n){if(e&&(!n||n._end>e._dur||n._start<0))for(var r=e;r;)r._dirty=1,r=r.parent;return e},Hv=function(e){for(var n=e.parent;n&&n.parent;)n._dirty=1,n.totalDuration(),n=n.parent;return e},vl=function(e,n,r,a){return e._startAt&&(lt?e._startAt.revert(zi):e.vars.immediateRender&&!e.vars.autoRevert||e._startAt.render(n,!0,a))},Rv=function t(e){return!e||e._ts&&t(e.parent)},Dm=function(e){return e._repeat?_r(e._tTime,e=e.duration()+e._rDelay)*e:0},_r=function(e,n){var r=Math.floor(e=Qe(e/n));return e&&r===e?r-1:r},Yi=function(e,n){return(e-n._start)*n._ts+(n._ts>=0?0:n._dirty?n.totalDuration():n._tDur)},qi=function(e){return e._end=Qe(e._start+(e._tDur/Math.abs(e._ts||e._rts||Fe)||0))},Xi=function(e,n){var r=e._dp;return r&&r.smoothChildTiming&&e._ts&&(e._start=Qe(r._time-(e._ts>0?n/e._ts:((e._dirty?e.totalDuration():e._tDur)-n)/-e._ts)),qi(e),r._dirty||Wn(r,e)),e},Mm=function(e,n){var r;if((n._time||!n._dur&&n._initted||n._start<e._time&&(n._dur||!n.add))&&(r=Yi(e.rawTime(),n),(!n._dur||Sa(0,n.totalDuration(),r)-n._tTime>Fe)&&n.render(r,!0)),Wn(e,n)._dp&&e._initted&&e._time>=e._dur&&e._ts){if(e._dur<e.duration())for(r=e;r._dp;)r.rawTime()>=0&&r.totalTime(r._tTime),r=r._dp;e._zTime=-Fe}},Qt=function(e,n,r,a){return n.parent&&kn(n),n._start=Qe((dn(r)?r:r||e!==We?It(e,r,n):e._time)+n._delay),n._end=Qe(n._start+(n.totalDuration()/Math.abs(n.timeScale())||0)),jm(e,n,"_first","_last",e._sort?"_start":0),wl(n)||(e._recent=n),a||Mm(e,n),e._ts<0&&Xi(e,e._tTime),e},$m=function(e,n){return(St.ScrollTrigger||pl("scrollTrigger",n))&&St.ScrollTrigger.create(n,e)},Im=function(e,n,r,a,i){if($l(e,n,i),!e._initted)return 1;if(!r&&e._pt&&!lt&&(e._dur&&e.vars.lazy!==!1||!e._dur&&e.vars.lazy)&&vm!==Nt.frame)return Sn.push(e),e._lazy=[i,a],1},Ov=function t(e){var n=e.parent;return n&&n._ts&&n._initted&&!n._lock&&(n.rawTime()<0||t(n))},wl=function(e){var n=e.data;return n==="isFromStart"||n==="isStart"},zv=function(e,n,r,a){var i=e.ratio,o=n<0||!n&&(!e._start&&Ov(e)&&!(!e._initted&&wl(e))||(e._ts<0||e._dp._ts<0)&&!wl(e))?0:1,l=e._rDelay,u=0,c,d,p;if(l&&e._repeat&&(u=Sa(0,e._tDur,n),d=_r(u,l),e._yoyo&&d&1&&(o=1-o),d!==_r(e._tTime,l)&&(i=1-o,e.vars.repeatRefresh&&e._initted&&e.invalidate())),o!==i||lt||a||e._zTime===Fe||!n&&e._zTime){if(!e._initted&&Im(e,n,a,r,u))return;for(p=e._zTime,e._zTime=n||(r?Fe:0),r||(r=n&&!p),e.ratio=o,e._from&&(o=1-o),e._time=0,e._tTime=u,c=e._pt;c;)c.r(o,c.d),c=c._next;n<0&&vl(e,n,r,!0),e._onUpdate&&!r&&Tt(e,"onUpdate"),u&&e._repeat&&!r&&e.parent&&Tt(e,"onRepeat"),(n>=e._tDur||n<0)&&e.ratio===o&&(o&&kn(e,1),!r&&!lt&&(Tt(e,o?"onComplete":"onReverseComplete",!0),e._prom&&e._prom()))}else e._zTime||(e._zTime=n)},Wv=function(e,n,r){var a;if(r>n)for(a=e._first;a&&a._start<=r;){if(a.data==="isPause"&&a._start>n)return a;a=a._next}else for(a=e._last;a&&a._start>=r;){if(a.data==="isPause"&&a._start<n)return a;a=a._prev}},br=function(e,n,r,a){var i=e._repeat,o=Qe(n)||0,l=e._tTime/e._tDur;return l&&!a&&(e._time*=o/e._dur),e._dur=o,e._tDur=i?i<0?1e10:Qe(o*(i+1)+e._rDelay*i):o,l>0&&!a&&Xi(e,e._tTime=e._tDur*l),e.parent&&qi(e),r||Wn(e.parent,e),e},Pm=function(e){return e instanceof ct?Wn(e):br(e,e._dur)},Uv={_start:0,endTime:xa,totalDuration:xa},It=function t(e,n,r){var a=e.labels,i=e._recent||Uv,o=e.duration()>=$t?i.endTime(!1):e._dur,l,u,c;return st(n)&&(isNaN(n)||n in a)?(u=n.charAt(0),c=n.substr(-1)==="%",l=n.indexOf("="),u==="<"||u===">"?(l>=0&&(n=n.replace(/=/,"")),(u==="<"?i._start:i.endTime(i._repeat>=0))+(parseFloat(n.substr(1))||0)*(c?(l<0?i:r).totalDuration()/100:1)):l<0?(n in a||(a[n]=o),a[n]):(u=parseFloat(n.charAt(l-1)+n.substr(l+1)),c&&r&&(u=u/100*(dt(r)?r[0]:r).totalDuration()),l>1?t(e,n.substr(0,l-1),r)+u:o+u)):n==null?o:+n},wa=function(e,n,r){var a=dn(n[1]),i=(a?2:1)+(e<2?0:1),o=n[i],l,u;if(a&&(o.duration=n[1]),o.parent=r,e){for(l=o,u=r;u&&!("immediateRender"in l);)l=u.vars.defaults||{},u=_t(u.vars.inherit)&&u.parent;o.immediateRender=_t(l.immediateRender),e<2?o.runBackwards=1:o.startAt=n[i-1]}return new Ke(n[0],o,n[i+1])},Cn=function(e,n){return e||e===0?n(e):n},Sa=function(e,n,r){return r<e?e:r>n?n:r},ft=function(e,n){return!st(e)||!(n=Pv.exec(e))?"":n[1]},Gv=function(e,n,r){return Cn(r,function(a){return Sa(e,n,a)})},Sl=[].slice,Lm=function(e,n){return e&&Zt(e)&&"length"in e&&(!n&&!e.length||e.length-1 in e&&Zt(e[0]))&&!e.nodeType&&e!==Jt},Vv=function(e,n,r){return r===void 0&&(r=[]),e.forEach(function(a){var i;return st(a)&&!n||Lm(a,1)?(i=r).push.apply(i,Pt(a)):r.push(a)})||r},Pt=function(e,n,r){return Re&&!n&&Re.selector?Re.selector(e):st(e)&&!r&&(fl||!xr())?Sl.call((n||hl).querySelectorAll(e),0):dt(e)?Vv(e,r):Lm(e)?Sl.call(e,0):e?[e]:[]},kl=function(e){return e=Pt(e)[0]||ya("Invalid scope")||{},function(n){var r=e.current||e.nativeElement||e;return Pt(n,r.querySelectorAll?r:r===e?ya("Invalid scope")||hl.createElement("div"):e)}},Fm=function(e){return e.sort(function(){return .5-Math.random()})},Bm=function(e){if(Ve(e))return e;var n=Zt(e)?e:{each:e},r=Un(n.ease),a=n.from||0,i=parseFloat(n.base)||0,o={},l=a>0&&a<1,u=isNaN(a)||l,c=n.axis,d=a,p=a;return st(a)?d=p={center:.5,edges:.5,end:1}[a]||0:!l&&u&&(d=a[0],p=a[1]),function(m,g,y){var h=(y||n).length,f=o[h],L,M,j,S,N,k,$,v,b;if(!f){if(b=n.grid==="auto"?0:(n.grid||[1,$t])[1],!b){for($=-$t;$<($=y[b++].getBoundingClientRect().left)&&b<h;);b<h&&b--}for(f=o[h]=[],L=u?Math.min(b,h)*d-.5:a%b,M=b===$t?0:u?h*p/b-.5:a/b|0,$=0,v=$t,k=0;k<h;k++)j=k%b-L,S=M-(k/b|0),f[k]=N=c?Math.abs(c==="y"?S:j):hm(j*j+S*S),N>$&&($=N),N<v&&(v=N);a==="random"&&Fm(f),f.max=$-v,f.min=v,f.v=h=(parseFloat(n.amount)||parseFloat(n.each)*(b>h?h-1:c?c==="y"?h/b:b:Math.max(b,h/b))||0)*(a==="edges"?-1:1),f.b=h<0?i-h:i,f.u=ft(n.amount||n.each)||0,r=r&&h<0?qm(r):r}return h=(f[m]-f.min)/f.max||0,Qe(f.b+(r?r(h):h)*f.v)+f.u}},Cl=function(e){var n=Math.pow(10,((e+"").split(".")[1]||"").length);return function(r){var a=Qe(Math.round(parseFloat(r)/e)*e*n);return(a-a%1)/n+(dn(r)?0:ft(r))}},Am=function(e,n){var r=dt(e),a,i;return!r&&Zt(e)&&(a=r=e.radius||$t,e.values?(e=Pt(e.values),(i=!dn(e[0]))&&(a*=a)):e=Cl(e.increment)),Cn(n,r?Ve(e)?function(o){return i=e(o),Math.abs(i-o)<=a?i:o}:function(o){for(var l=parseFloat(i?o.x:o),u=parseFloat(i?o.y:0),c=$t,d=0,p=e.length,m,g;p--;)i?(m=e[p].x-l,g=e[p].y-u,m=m*m+g*g):m=Math.abs(e[p]-l),m<c&&(c=m,d=p);return d=!a||c<=a?e[d]:o,i||d===o||dn(o)?d:d+ft(o)}:Cl(e))},Em=function(e,n,r,a){return Cn(dt(e)?!n:r===!0?!!(r=0):!a,function(){return dt(e)?e[~~(Math.random()*e.length)]:(r=r||1e-5)&&(a=r<1?Math.pow(10,(r+"").length-2):1)&&Math.floor(Math.round((e-r/2+Math.random()*(n-e+r*.99))/r)*r*a)/a})},Yv=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return function(a){return n.reduce(function(i,o){return o(i)},a)}},qv=function(e,n){return function(r){return e(parseFloat(r))+(n||ft(r))}},Xv=function(e,n,r){return Rm(e,n,0,1,r)},Hm=function(e,n,r){return Cn(r,function(a){return e[~~n(a)]})},Kv=function t(e,n,r){var a=n-e;return dt(e)?Hm(e,t(0,e.length),n):Cn(r,function(i){return(a+(i-e)%a)%a+e})},Zv=function t(e,n,r){var a=n-e,i=a*2;return dt(e)?Hm(e,t(0,e.length-1),n):Cn(r,function(o){return o=(i+(o-e)%i)%i||0,e+(o>a?i-o:o)})},ka=function(e){for(var n=0,r="",a,i,o,l;~(a=e.indexOf("random(",n));)o=e.indexOf(")",a),l=e.charAt(a+7)==="[",i=e.substr(a+7,o-a-7).match(l?_m:ul),r+=e.substr(n,a-n)+Em(l?i:+i[0],l?0:+i[1],+i[2]||1e-5),n=o+1;return r+e.substr(n,e.length-n)},Rm=function(e,n,r,a,i){var o=n-e,l=a-r;return Cn(i,function(u){return r+((u-e)/o*l||0)})},Jv=function t(e,n,r,a){var i=isNaN(e+n)?0:function(g){return(1-g)*e+g*n};if(!i){var o=st(e),l={},u,c,d,p,m;if(r===!0&&(a=1)&&(r=null),o)e={p:e},n={p:n};else if(dt(e)&&!dt(n)){for(d=[],p=e.length,m=p-2,c=1;c<p;c++)d.push(t(e[c-1],e[c]));p--,i=function(y){y*=p;var h=Math.min(m,~~y);return d[h](y-h)},r=n}else a||(e=gr(dt(e)?[]:{},e));if(!d){for(u in n)Dl.call(l,e,u,"get",n[u]);i=function(y){return Ll(y,l)||(o?e.p:e)}}}return Cn(r,i)},Om=function(e,n,r){var a=e.labels,i=$t,o,l,u;for(o in a)l=a[o]-n,l<0==!!r&&l&&i>(l=Math.abs(l))&&(u=o,i=l);return u},Tt=function(e,n,r){var a=e.vars,i=a[n],o=Re,l=e._ctx,u,c,d;if(i)return u=a[n+"Params"],c=a.callbackScope||e,r&&Sn.length&&Ui(),l&&(Re=l),d=u?i.apply(c,u):i.call(c),Re=o,d},Ca=function(e){return kn(e),e.scrollTrigger&&e.scrollTrigger.kill(!!lt),e.progress()<1&&Tt(e,"onInterrupt"),e},yr,zm=[],Wm=function(e){if(e)if(e=!e.name&&e.default||e,cl()||e.headless){var n=e.name,r=Ve(e),a=n&&!r&&e.init?function(){this._props=[]}:e,i={init:xa,render:Ll,add:Dl,kill:p1,modifier:h1,rawVars:0},o={targetTest:0,get:0,getSetter:Pl,aliases:{},register:0};if(xr(),e!==a){if(kt[n])return;Ct(a,Ct(Gi(e,i),o)),gr(a.prototype,gr(i,Gi(e,o))),kt[a.prop=n]=a,e.targetTest&&(Wi.push(a),ml[n]=1),n=(n==="css"?"CSS":n.charAt(0).toUpperCase()+n.substr(1))+"Plugin"}xm(n,a),e.register&&e.register(xt,a,yt)}else zm.push(e)},Be=255,Ta={aqua:[0,Be,Be],lime:[0,Be,0],silver:[192,192,192],black:[0,0,0],maroon:[128,0,0],teal:[0,128,128],blue:[0,0,Be],navy:[0,0,128],white:[Be,Be,Be],olive:[128,128,0],yellow:[Be,Be,0],orange:[Be,165,0],gray:[128,128,128],purple:[128,0,128],green:[0,128,0],red:[Be,0,0],pink:[Be,192,203],cyan:[0,Be,Be],transparent:[Be,Be,Be,0]},Tl=function(e,n,r){return e+=e<0?1:e>1?-1:0,(e*6<1?n+(r-n)*e*6:e<.5?r:e*3<2?n+(r-n)*(2/3-e)*6:n)*Be+.5|0},Um=function(e,n,r){var a=e?dn(e)?[e>>16,e>>8&Be,e&Be]:0:Ta.black,i,o,l,u,c,d,p,m,g,y;if(!a){if(e.substr(-1)===","&&(e=e.substr(0,e.length-1)),Ta[e])a=Ta[e];else if(e.charAt(0)==="#"){if(e.length<6&&(i=e.charAt(1),o=e.charAt(2),l=e.charAt(3),e="#"+i+i+o+o+l+l+(e.length===5?e.charAt(4)+e.charAt(4):"")),e.length===9)return a=parseInt(e.substr(1,6),16),[a>>16,a>>8&Be,a&Be,parseInt(e.substr(7),16)/255];e=parseInt(e.substr(1),16),a=[e>>16,e>>8&Be,e&Be]}else if(e.substr(0,3)==="hsl"){if(a=y=e.match(ul),!n)u=+a[0]%360/360,c=+a[1]/100,d=+a[2]/100,o=d<=.5?d*(c+1):d+c-d*c,i=d*2-o,a.length>3&&(a[3]*=1),a[0]=Tl(u+1/3,i,o),a[1]=Tl(u,i,o),a[2]=Tl(u-1/3,i,o);else if(~e.indexOf("="))return a=e.match(mm),r&&a.length<4&&(a[3]=1),a}else a=e.match(ul)||Ta.transparent;a=a.map(Number)}return n&&!y&&(i=a[0]/Be,o=a[1]/Be,l=a[2]/Be,p=Math.max(i,o,l),m=Math.min(i,o,l),d=(p+m)/2,p===m?u=c=0:(g=p-m,c=d>.5?g/(2-p-m):g/(p+m),u=p===i?(o-l)/g+(o<l?6:0):p===o?(l-i)/g+2:(i-o)/g+4,u*=60),a[0]=~~(u+.5),a[1]=~~(c*100+.5),a[2]=~~(d*100+.5)),r&&a.length<4&&(a[3]=1),a},Gm=function(e){var n=[],r=[],a=-1;return e.split(Tn).forEach(function(i){var o=i.match(pr)||[];n.push.apply(n,o),r.push(a+=o.length+1)}),n.c=r,n},Vm=function(e,n,r){var a="",i=(e+a).match(Tn),o=n?"hsla(":"rgba(",l=0,u,c,d,p;if(!i)return e;if(i=i.map(function(m){return(m=Um(m,n,1))&&o+(n?m[0]+","+m[1]+"%,"+m[2]+"%,"+m[3]:m.join(","))+")"}),r&&(d=Gm(e),u=r.c,u.join(a)!==d.c.join(a)))for(c=e.replace(Tn,"1").split(pr),p=c.length-1;l<p;l++)a+=c[l]+(~u.indexOf(l)?i.shift()||o+"0,0,0,0)":(d.length?d:i.length?i:r).shift());if(!c)for(c=e.split(Tn),p=c.length-1;l<p;l++)a+=c[l]+i[l];return a+c[p]},Tn=(function(){var t="(?:\\b(?:(?:rgb|rgba|hsl|hsla)\\(.+?\\))|\\B#(?:[0-9a-f]{3,4}){1,2}\\b",e;for(e in Ta)t+="|"+e+"\\b";return new RegExp(t+")","gi")})(),Qv=/hsl[a]?\(/,Ym=function(e){var n=e.join(" "),r;if(Tn.lastIndex=0,Tn.test(n))return r=Qv.test(n),e[1]=Vm(e[1],r),e[0]=Vm(e[0],r,Gm(e[1])),!0},Na,Nt=(function(){var t=Date.now,e=500,n=33,r=t(),a=r,i=1e3/240,o=i,l=[],u,c,d,p,m,g,y=function h(f){var L=t()-a,M=f===!0,j,S,N,k;if((L>e||L<0)&&(r+=L-n),a+=L,N=a-r,j=N-o,(j>0||M)&&(k=++p.frame,m=N-p.time*1e3,p.time=N=N/1e3,o+=j+(j>=i?4:i-j),S=1),M||(u=c(h)),S)for(g=0;g<l.length;g++)l[g](N,m,k,f)};return p={time:0,frame:0,tick:function(){y(!0)},deltaRatio:function(f){return m/(1e3/(f||60))},wake:function(){bm&&(!fl&&cl()&&(Jt=fl=window,hl=Jt.document||{},St.gsap=xt,(Jt.gsapVersions||(Jt.gsapVersions=[])).push(xt.version),ym(Oi||Jt.GreenSockGlobals||!Jt.gsap&&Jt||{}),zm.forEach(Wm)),d=typeof requestAnimationFrame<"u"&&requestAnimationFrame,u&&p.sleep(),c=d||function(f){return setTimeout(f,o-p.time*1e3+1|0)},Na=1,y(2))},sleep:function(){(d?cancelAnimationFrame:clearTimeout)(u),Na=0,c=xa},lagSmoothing:function(f,L){e=f||1/0,n=Math.min(L||33,e)},fps:function(f){i=1e3/(f||240),o=p.time*1e3+i},add:function(f,L,M){var j=L?function(S,N,k,$){f(S,N,k,$),p.remove(j)}:f;return p.remove(f),l[M?"unshift":"push"](j),xr(),j},remove:function(f,L){~(L=l.indexOf(f))&&l.splice(L,1)&&g>=L&&g--},_listeners:l},p})(),xr=function(){return!Na&&Nt.wake()},Pe={},e1=/^[\d.\-M][\d.\-,\s]/,t1=/["']/g,n1=function(e){for(var n={},r=e.substr(1,e.length-3).split(":"),a=r[0],i=1,o=r.length,l,u,c;i<o;i++)u=r[i],l=i!==o-1?u.lastIndexOf(","):u.length,c=u.substr(0,l),n[a]=isNaN(c)?c.replace(t1,"").trim():+c,a=u.substr(l+1).trim();return n},r1=function(e){var n=e.indexOf("(")+1,r=e.indexOf(")"),a=e.indexOf("(",n);return e.substring(n,~a&&a<r?e.indexOf(")",r+1):r)},a1=function(e){var n=(e+"").split("("),r=Pe[n[0]];return r&&n.length>1&&r.config?r.config.apply(null,~e.indexOf("{")?[n1(n[1])]:r1(e).split(",").map(Cm)):Pe._CE&&e1.test(e)?Pe._CE("",e):r},qm=function(e){return function(n){return 1-e(1-n)}},Xm=function t(e,n){for(var r=e._first,a;r;)r instanceof ct?t(r,n):r.vars.yoyoEase&&(!r._yoyo||!r._repeat)&&r._yoyo!==n&&(r.timeline?t(r.timeline,n):(a=r._ease,r._ease=r._yEase,r._yEase=a,r._yoyo=n)),r=r._next},Un=function(e,n){return e&&(Ve(e)?e:Pe[e]||a1(e))||n},Gn=function(e,n,r,a){r===void 0&&(r=function(u){return 1-n(1-u)}),a===void 0&&(a=function(u){return u<.5?n(u*2)/2:1-n((1-u)*2)/2});var i={easeIn:n,easeOut:r,easeInOut:a},o;return bt(e,function(l){Pe[l]=St[l]=i,Pe[o=l.toLowerCase()]=r;for(var u in i)Pe[o+(u==="easeIn"?".in":u==="easeOut"?".out":".inOut")]=Pe[l+"."+u]=i[u]}),i},Km=function(e){return function(n){return n<.5?(1-e(1-n*2))/2:.5+e((n-.5)*2)/2}},Nl=function t(e,n,r){var a=n>=1?n:1,i=(r||(e?.3:.45))/(n<1?n:1),o=i/ol*(Math.asin(1/a)||0),l=function(d){return d===1?1:a*Math.pow(2,-10*d)*Iv((d-o)*i)+1},u=e==="out"?l:e==="in"?function(c){return 1-l(1-c)}:Km(l);return i=ol/i,u.config=function(c,d){return t(e,c,d)},u},jl=function t(e,n){n===void 0&&(n=1.70158);var r=function(o){return o?--o*o*((n+1)*o+n)+1:0},a=e==="out"?r:e==="in"?function(i){return 1-r(1-i)}:Km(r);return a.config=function(i){return t(e,i)},a};bt("Linear,Quad,Cubic,Quart,Quint,Strong",function(t,e){var n=e<5?e+1:e;Gn(t+",Power"+(n-1),e?function(r){return Math.pow(r,n)}:function(r){return r},function(r){return 1-Math.pow(1-r,n)},function(r){return r<.5?Math.pow(r*2,n)/2:1-Math.pow((1-r)*2,n)/2})}),Pe.Linear.easeNone=Pe.none=Pe.Linear.easeIn,Gn("Elastic",Nl("in"),Nl("out"),Nl()),(function(t,e){var n=1/e,r=2*n,a=2.5*n,i=function(l){return l<n?t*l*l:l<r?t*Math.pow(l-1.5/e,2)+.75:l<a?t*(l-=2.25/e)*l+.9375:t*Math.pow(l-2.625/e,2)+.984375};Gn("Bounce",function(o){return 1-i(1-o)},i)})(7.5625,2.75),Gn("Expo",function(t){return Math.pow(2,10*(t-1))*t+t*t*t*t*t*t*(1-t)}),Gn("Circ",function(t){return-(hm(1-t*t)-1)}),Gn("Sine",function(t){return t===1?1:-$v(t*Dv)+1}),Gn("Back",jl("in"),jl("out"),jl()),Pe.SteppedEase=Pe.steps=St.SteppedEase={config:function(e,n){e===void 0&&(e=1);var r=1/e,a=e+(n?0:1),i=n?1:0,o=1-Fe;return function(l){return((a*Sa(0,o,l)|0)+i)*r}}},hr.ease=Pe["quad.out"],bt("onComplete,onUpdate,onStart,onRepeat,onReverseComplete,onInterrupt",function(t){return bl+=t+","+t+"Params,"});var Zm=function(e,n){this.id=Mv++,e._gsap=this,this.target=e,this.harness=n,this.get=n?n.get:Sm,this.set=n?n.getSetter:Pl},ja=(function(){function t(n){this.vars=n,this._delay=+n.delay||0,(this._repeat=n.repeat===1/0?-2:n.repeat||0)&&(this._rDelay=n.repeatDelay||0,this._yoyo=!!n.yoyo||!!n.yoyoEase),this._ts=1,br(this,+n.duration,1,1),this.data=n.data,Re&&(this._ctx=Re,Re.data.push(this)),Na||Nt.wake()}var e=t.prototype;return e.delay=function(r){return r||r===0?(this.parent&&this.parent.smoothChildTiming&&this.startTime(this._start+r-this._delay),this._delay=r,this):this._delay},e.duration=function(r){return arguments.length?this.totalDuration(this._repeat>0?r+(r+this._rDelay)*this._repeat:r):this.totalDuration()&&this._dur},e.totalDuration=function(r){return arguments.length?(this._dirty=0,br(this,this._repeat<0?r:(r-this._repeat*this._rDelay)/(this._repeat+1))):this._tDur},e.totalTime=function(r,a){if(xr(),!arguments.length)return this._tTime;var i=this._dp;if(i&&i.smoothChildTiming&&this._ts){for(Xi(this,r),!i._dp||i.parent||Mm(i,this);i&&i.parent;)i.parent._time!==i._start+(i._ts>=0?i._tTime/i._ts:(i.totalDuration()-i._tTime)/-i._ts)&&i.totalTime(i._tTime,!0),i=i.parent;!this.parent&&this._dp.autoRemoveChildren&&(this._ts>0&&r<this._tDur||this._ts<0&&r>0||!this._tDur&&!r)&&Qt(this._dp,this,this._start-this._delay)}return(this._tTime!==r||!this._dur&&!a||this._initted&&Math.abs(this._zTime)===Fe||!r&&!this._initted&&(this.add||this._ptLookup))&&(this._ts||(this._pTime=r),km(this,r,a)),this},e.time=function(r,a){return arguments.length?this.totalTime(Math.min(this.totalDuration(),r+Dm(this))%(this._dur+this._rDelay)||(r?this._dur:0),a):this._time},e.totalProgress=function(r,a){return arguments.length?this.totalTime(this.totalDuration()*r,a):this.totalDuration()?Math.min(1,this._tTime/this._tDur):this.rawTime()>=0&&this._initted?1:0},e.progress=function(r,a){return arguments.length?this.totalTime(this.duration()*(this._yoyo&&!(this.iteration()&1)?1-r:r)+Dm(this),a):this.duration()?Math.min(1,this._time/this._dur):this.rawTime()>0?1:0},e.iteration=function(r,a){var i=this.duration()+this._rDelay;return arguments.length?this.totalTime(this._time+(r-1)*i,a):this._repeat?_r(this._tTime,i)+1:1},e.timeScale=function(r,a){if(!arguments.length)return this._rts===-Fe?0:this._rts;if(this._rts===r)return this;var i=this.parent&&this._ts?Yi(this.parent._time,this):this._tTime;return this._rts=+r||0,this._ts=this._ps||r===-Fe?0:this._rts,this.totalTime(Sa(-Math.abs(this._delay),this.totalDuration(),i),a!==!1),qi(this),Hv(this)},e.paused=function(r){return arguments.length?(this._ps!==r&&(this._ps=r,r?(this._pTime=this._tTime||Math.max(-this._delay,this.rawTime()),this._ts=this._act=0):(xr(),this._ts=this._rts,this.totalTime(this.parent&&!this.parent.smoothChildTiming?this.rawTime():this._tTime||this._pTime,this.progress()===1&&Math.abs(this._zTime)!==Fe&&(this._tTime-=Fe)))),this):this._ps},e.startTime=function(r){if(arguments.length){this._start=r;var a=this.parent||this._dp;return a&&(a._sort||!this.parent)&&Qt(a,this,r-this._delay),this}return this._start},e.endTime=function(r){return this._start+(_t(r)?this.totalDuration():this.duration())/Math.abs(this._ts||1)},e.rawTime=function(r){var a=this.parent||this._dp;return a?r&&(!this._ts||this._repeat&&this._time&&this.totalProgress()<1)?this._tTime%(this._dur+this._rDelay):this._ts?Yi(a.rawTime(r),this):this._tTime:this._tTime},e.revert=function(r){r===void 0&&(r=Fv);var a=lt;return lt=r,xl(this)&&(this.timeline&&this.timeline.revert(r),this.totalTime(-.01,r.suppressEvents)),this.data!=="nested"&&r.kill!==!1&&this.kill(),lt=a,this},e.globalTime=function(r){for(var a=this,i=arguments.length?r:a.rawTime();a;)i=a._start+i/(Math.abs(a._ts)||1),a=a._dp;return!this.parent&&this._sat?this._sat.globalTime(r):i},e.repeat=function(r){return arguments.length?(this._repeat=r===1/0?-2:r,Pm(this)):this._repeat===-2?1/0:this._repeat},e.repeatDelay=function(r){if(arguments.length){var a=this._time;return this._rDelay=r,Pm(this),a?this.time(a):this}return this._rDelay},e.yoyo=function(r){return arguments.length?(this._yoyo=r,this):this._yoyo},e.seek=function(r,a){return this.totalTime(It(this,r),_t(a))},e.restart=function(r,a){return this.play().totalTime(r?-this._delay:0,_t(a)),this._dur||(this._zTime=-Fe),this},e.play=function(r,a){return r!=null&&this.seek(r,a),this.reversed(!1).paused(!1)},e.reverse=function(r,a){return r!=null&&this.seek(r||this.totalDuration(),a),this.reversed(!0).paused(!1)},e.pause=function(r,a){return r!=null&&this.seek(r,a),this.paused(!0)},e.resume=function(){return this.paused(!1)},e.reversed=function(r){return arguments.length?(!!r!==this.reversed()&&this.timeScale(-this._rts||(r?-Fe:0)),this):this._rts<0},e.invalidate=function(){return this._initted=this._act=0,this._zTime=-Fe,this},e.isActive=function(){var r=this.parent||this._dp,a=this._start,i;return!!(!r||this._ts&&this._initted&&r.isActive()&&(i=r.rawTime(!0))>=a&&i<this.endTime(!0)-Fe)},e.eventCallback=function(r,a,i){var o=this.vars;return arguments.length>1?(a?(o[r]=a,i&&(o[r+"Params"]=i),r==="onUpdate"&&(this._onUpdate=a)):delete o[r],this):o[r]},e.then=function(r){var a=this;return new Promise(function(i){var o=Ve(r)?r:Tm,l=function(){var c=a.then;a.then=null,Ve(o)&&(o=o(a))&&(o.then||o===a)&&(a.then=c),i(o),a.then=c};a._initted&&a.totalProgress()===1&&a._ts>=0||!a._tTime&&a._ts<0?l():a._prom=l})},e.kill=function(){Ca(this)},t})();Ct(ja.prototype,{_time:0,_start:0,_end:0,_tTime:0,_tDur:0,_dirty:0,_repeat:0,_yoyo:!1,parent:null,_initted:!1,_rDelay:0,_ts:1,_dp:0,ratio:0,_zTime:-Fe,_prom:0,_ps:!1,_rts:1});var ct=(function(t){fm(e,t);function e(r,a){var i;return r===void 0&&(r={}),i=t.call(this,r)||this,i.labels={},i.smoothChildTiming=!!r.smoothChildTiming,i.autoRemoveChildren=!!r.autoRemoveChildren,i._sort=_t(r.sortChildren),We&&Qt(r.parent||We,un(i),a),r.reversed&&i.reverse(),r.paused&&i.paused(!0),r.scrollTrigger&&$m(un(i),r.scrollTrigger),i}var n=e.prototype;return n.to=function(a,i,o){return wa(0,arguments,this),this},n.from=function(a,i,o){return wa(1,arguments,this),this},n.fromTo=function(a,i,o,l){return wa(2,arguments,this),this},n.set=function(a,i,o){return i.duration=0,i.parent=this,va(i).repeatDelay||(i.repeat=0),i.immediateRender=!!i.immediateRender,new Ke(a,i,It(this,o),1),this},n.call=function(a,i,o){return Qt(this,Ke.delayedCall(0,a,i),o)},n.staggerTo=function(a,i,o,l,u,c,d){return o.duration=i,o.stagger=o.stagger||l,o.onComplete=c,o.onCompleteParams=d,o.parent=this,new Ke(a,o,It(this,u)),this},n.staggerFrom=function(a,i,o,l,u,c,d){return o.runBackwards=1,va(o).immediateRender=_t(o.immediateRender),this.staggerTo(a,i,o,l,u,c,d)},n.staggerFromTo=function(a,i,o,l,u,c,d,p){return l.startAt=o,va(l).immediateRender=_t(l.immediateRender),this.staggerTo(a,i,l,u,c,d,p)},n.render=function(a,i,o){var l=this._time,u=this._dirty?this.totalDuration():this._tDur,c=this._dur,d=a<=0?0:Qe(a),p=this._zTime<0!=a<0&&(this._initted||!c),m,g,y,h,f,L,M,j,S,N,k,$;if(this!==We&&d>u&&a>=0&&(d=u),d!==this._tTime||o||p){if(l!==this._time&&c&&(d+=this._time-l,a+=this._time-l),m=d,S=this._start,j=this._ts,L=!j,p&&(c||(l=this._zTime),(a||!i)&&(this._zTime=a)),this._repeat){if(k=this._yoyo,f=c+this._rDelay,this._repeat<-1&&a<0)return this.totalTime(f*100+a,i,o);if(m=Qe(d%f),d===u?(h=this._repeat,m=c):(N=Qe(d/f),h=~~N,h&&h===N&&(m=c,h--),m>c&&(m=c)),N=_r(this._tTime,f),!l&&this._tTime&&N!==h&&this._tTime-N*f-this._dur<=0&&(N=h),k&&h&1&&(m=c-m,$=1),h!==N&&!this._lock){var v=k&&N&1,b=v===(k&&h&1);if(h<N&&(v=!v),l=v?0:d%c?c:d,this._lock=1,this.render(l||($?0:Qe(h*f)),i,!c)._lock=0,this._tTime=d,!i&&this.parent&&Tt(this,"onRepeat"),this.vars.repeatRefresh&&!$&&(this.invalidate()._lock=1),l&&l!==this._time||L!==!this._ts||this.vars.onRepeat&&!this.parent&&!this._act)return this;if(c=this._dur,u=this._tDur,b&&(this._lock=2,l=v?c:-1e-4,this.render(l,!0),this.vars.repeatRefresh&&!$&&this.invalidate()),this._lock=0,!this._ts&&!L)return this;Xm(this,$)}}if(this._hasPause&&!this._forcing&&this._lock<2&&(M=Wv(this,Qe(l),Qe(m)),M&&(d-=m-(m=M._start))),this._tTime=d,this._time=m,this._act=!j,this._initted||(this._onUpdate=this.vars.onUpdate,this._initted=1,this._zTime=a,l=0),!l&&d&&!i&&!N&&(Tt(this,"onStart"),this._tTime!==d))return this;if(m>=l&&a>=0)for(g=this._first;g;){if(y=g._next,(g._act||m>=g._start)&&g._ts&&M!==g){if(g.parent!==this)return this.render(a,i,o);if(g.render(g._ts>0?(m-g._start)*g._ts:(g._dirty?g.totalDuration():g._tDur)+(m-g._start)*g._ts,i,o),m!==this._time||!this._ts&&!L){M=0,y&&(d+=this._zTime=-Fe);break}}g=y}else{g=this._last;for(var D=a<0?a:m;g;){if(y=g._prev,(g._act||D<=g._end)&&g._ts&&M!==g){if(g.parent!==this)return this.render(a,i,o);if(g.render(g._ts>0?(D-g._start)*g._ts:(g._dirty?g.totalDuration():g._tDur)+(D-g._start)*g._ts,i,o||lt&&xl(g)),m!==this._time||!this._ts&&!L){M=0,y&&(d+=this._zTime=D?-Fe:Fe);break}}g=y}}if(M&&!i&&(this.pause(),M.render(m>=l?0:-Fe)._zTime=m>=l?1:-1,this._ts))return this._start=S,qi(this),this.render(a,i,o);this._onUpdate&&!i&&Tt(this,"onUpdate",!0),(d===u&&this._tTime>=this.totalDuration()||!d&&l)&&(S===this._start||Math.abs(j)!==Math.abs(this._ts))&&(this._lock||((a||!c)&&(d===u&&this._ts>0||!d&&this._ts<0)&&kn(this,1),!i&&!(a<0&&!l)&&(d||l||!u)&&(Tt(this,d===u&&a>=0?"onComplete":"onReverseComplete",!0),this._prom&&!(d<u&&this.timeScale()>0)&&this._prom())))}return this},n.add=function(a,i){var o=this;if(dn(i)||(i=It(this,i,a)),!(a instanceof ja)){if(dt(a))return a.forEach(function(l){return o.add(l,i)}),this;if(st(a))return this.addLabel(a,i);if(Ve(a))a=Ke.delayedCall(0,a);else return this}return this!==a?Qt(this,a,i):this},n.getChildren=function(a,i,o,l){a===void 0&&(a=!0),i===void 0&&(i=!0),o===void 0&&(o=!0),l===void 0&&(l=-$t);for(var u=[],c=this._first;c;)c._start>=l&&(c instanceof Ke?i&&u.push(c):(o&&u.push(c),a&&u.push.apply(u,c.getChildren(!0,i,o)))),c=c._next;return u},n.getById=function(a){for(var i=this.getChildren(1,1,1),o=i.length;o--;)if(i[o].vars.id===a)return i[o]},n.remove=function(a){return st(a)?this.removeLabel(a):Ve(a)?this.killTweensOf(a):(a.parent===this&&Vi(this,a),a===this._recent&&(this._recent=this._last),Wn(this))},n.totalTime=function(a,i){return arguments.length?(this._forcing=1,!this._dp&&this._ts&&(this._start=Qe(Nt.time-(this._ts>0?a/this._ts:(this.totalDuration()-a)/-this._ts))),t.prototype.totalTime.call(this,a,i),this._forcing=0,this):this._tTime},n.addLabel=function(a,i){return this.labels[a]=It(this,i),this},n.removeLabel=function(a){return delete this.labels[a],this},n.addPause=function(a,i,o){var l=Ke.delayedCall(0,i||xa,o);return l.data="isPause",this._hasPause=1,Qt(this,l,It(this,a))},n.removePause=function(a){var i=this._first;for(a=It(this,a);i;)i._start===a&&i.data==="isPause"&&kn(i),i=i._next},n.killTweensOf=function(a,i,o){for(var l=this.getTweensOf(a,o),u=l.length;u--;)Nn!==l[u]&&l[u].kill(a,i);return this},n.getTweensOf=function(a,i){for(var o=[],l=Pt(a),u=this._first,c=dn(i),d;u;)u instanceof Ke?Bv(u._targets,l)&&(c?(!Nn||u._initted&&u._ts)&&u.globalTime(0)<=i&&u.globalTime(u.totalDuration())>i:!i||u.isActive())&&o.push(u):(d=u.getTweensOf(l,i)).length&&o.push.apply(o,d),u=u._next;return o},n.tweenTo=function(a,i){i=i||{};var o=this,l=It(o,a),u=i,c=u.startAt,d=u.onStart,p=u.onStartParams,m=u.immediateRender,g,y=Ke.to(o,Ct({ease:i.ease||"none",lazy:!1,immediateRender:!1,time:l,overwrite:"auto",duration:i.duration||Math.abs((l-(c&&"time"in c?c.time:o._time))/o.timeScale())||Fe,onStart:function(){if(o.pause(),!g){var f=i.duration||Math.abs((l-(c&&"time"in c?c.time:o._time))/o.timeScale());y._dur!==f&&br(y,f,0,1).render(y._time,!0,!0),g=1}d&&d.apply(y,p||[])}},i));return m?y.render(0):y},n.tweenFromTo=function(a,i,o){return this.tweenTo(i,Ct({startAt:{time:It(this,a)}},o))},n.recent=function(){return this._recent},n.nextLabel=function(a){return a===void 0&&(a=this._time),Om(this,It(this,a))},n.previousLabel=function(a){return a===void 0&&(a=this._time),Om(this,It(this,a),1)},n.currentLabel=function(a){return arguments.length?this.seek(a,!0):this.previousLabel(this._time+Fe)},n.shiftChildren=function(a,i,o){o===void 0&&(o=0);for(var l=this._first,u=this.labels,c;l;)l._start>=o&&(l._start+=a,l._end+=a),l=l._next;if(i)for(c in u)u[c]>=o&&(u[c]+=a);return Wn(this)},n.invalidate=function(a){var i=this._first;for(this._lock=0;i;)i.invalidate(a),i=i._next;return t.prototype.invalidate.call(this,a)},n.clear=function(a){a===void 0&&(a=!0);for(var i=this._first,o;i;)o=i._next,this.remove(i),i=o;return this._dp&&(this._time=this._tTime=this._pTime=0),a&&(this.labels={}),Wn(this)},n.totalDuration=function(a){var i=0,o=this,l=o._last,u=$t,c,d,p;if(arguments.length)return o.timeScale((o._repeat<0?o.duration():o.totalDuration())/(o.reversed()?-a:a));if(o._dirty){for(p=o.parent;l;)c=l._prev,l._dirty&&l.totalDuration(),d=l._start,d>u&&o._sort&&l._ts&&!o._lock?(o._lock=1,Qt(o,l,d-l._delay,1)._lock=0):u=d,d<0&&l._ts&&(i-=d,(!p&&!o._dp||p&&p.smoothChildTiming)&&(o._start+=d/o._ts,o._time-=d,o._tTime-=d),o.shiftChildren(-d,!1,-1/0),u=0),l._end>i&&l._ts&&(i=l._end),l=c;br(o,o===We&&o._time>i?o._time:i,1,1),o._dirty=0}return o._tDur},e.updateRoot=function(a){if(We._ts&&(km(We,Yi(a,We)),vm=Nt.frame),Nt.frame>=wm){wm+=wt.autoSleep||120;var i=We._first;if((!i||!i._ts)&&wt.autoSleep&&Nt._listeners.length<2){for(;i&&!i._ts;)i=i._next;i||Nt.sleep()}}},e})(ja);Ct(ct.prototype,{_lock:0,_hasPause:0,_forcing:0});var i1=function(e,n,r,a,i,o,l){var u=new yt(this._pt,e,n,0,1,rg,null,i),c=0,d=0,p,m,g,y,h,f,L,M;for(u.b=r,u.e=a,r+="",a+="",(L=~a.indexOf("random("))&&(a=ka(a)),o&&(M=[r,a],o(M,e,n),r=M[0],a=M[1]),m=r.match(dl)||[];p=dl.exec(a);)y=p[0],h=a.substring(c,p.index),g?g=(g+1)%5:h.substr(-5)==="rgba("&&(g=1),y!==m[d++]&&(f=parseFloat(m[d-1])||0,u._pt={_next:u._pt,p:h||d===1?h:",",s:f,c:y.charAt(1)==="="?mr(f,y)-f:parseFloat(y)-f,m:g&&g<4?Math.round:0},c=dl.lastIndex);return u.c=c<a.length?a.substring(c,a.length):"",u.fp=l,(gm.test(a)||L)&&(u.e=0),this._pt=u,u},Dl=function(e,n,r,a,i,o,l,u,c,d){Ve(a)&&(a=a(i||0,e,o));var p=e[n],m=r!=="get"?r:Ve(p)?c?e[n.indexOf("set")||!Ve(e["get"+n.substr(3)])?n:"get"+n.substr(3)](c):e[n]():p,g=Ve(p)?c?u1:tg:Il,y;if(st(a)&&(~a.indexOf("random(")&&(a=ka(a)),a.charAt(1)==="="&&(y=mr(m,a)+(ft(m)||0),(y||y===0)&&(a=y))),!d||m!==a||Ml)return!isNaN(m*a)&&a!==""?(y=new yt(this._pt,e,n,+m||0,a-(m||0),typeof p=="boolean"?f1:ng,0,g),c&&(y.fp=c),l&&y.modifier(l,this,e),this._pt=y):(!p&&!(n in e)&&pl(n,a),i1.call(this,e,n,m,a,g,u||wt.stringFilter,c))},s1=function(e,n,r,a,i){if(Ve(e)&&(e=Da(e,i,n,r,a)),!Zt(e)||e.style&&e.nodeType||dt(e)||pm(e))return st(e)?Da(e,i,n,r,a):e;var o={},l;for(l in e)o[l]=Da(e[l],i,n,r,a);return o},Jm=function(e,n,r,a,i,o){var l,u,c,d;if(kt[e]&&(l=new kt[e]).init(i,l.rawVars?n[e]:s1(n[e],a,i,o,r),r,a,o)!==!1&&(r._pt=u=new yt(r._pt,i,e,0,1,l.render,l,0,l.priority),r!==yr))for(c=r._ptLookup[r._targets.indexOf(i)],d=l._props.length;d--;)c[l._props[d]]=u;return l},Nn,Ml,$l=function t(e,n,r){var a=e.vars,i=a.ease,o=a.startAt,l=a.immediateRender,u=a.lazy,c=a.onUpdate,d=a.runBackwards,p=a.yoyoEase,m=a.keyframes,g=a.autoRevert,y=e._dur,h=e._startAt,f=e._targets,L=e.parent,M=L&&L.data==="nested"?L.vars.targets:f,j=e._overwrite==="auto"&&!sl,S=e.timeline,N,k,$,v,b,D,x,C,B,I,P,w,E;if(S&&(!m||!i)&&(i="none"),e._ease=Un(i,hr.ease),e._yEase=p?qm(Un(p===!0?i:p,hr.ease)):0,p&&e._yoyo&&!e._repeat&&(p=e._yEase,e._yEase=e._ease,e._ease=p),e._from=!S&&!!a.runBackwards,!S||m&&!a.stagger){if(C=f[0]?zn(f[0]).harness:0,w=C&&a[C.prop],N=Gi(a,ml),h&&(h._zTime<0&&h.progress(1),n<0&&d&&l&&!g?h.render(-1,!0):h.revert(d&&y?zi:Lv),h._lazy=0),o){if(kn(e._startAt=Ke.set(f,Ct({data:"isStart",overwrite:!1,parent:L,immediateRender:!0,lazy:!h&&_t(u),startAt:null,delay:0,onUpdate:c&&function(){return Tt(e,"onUpdate")},stagger:0},o))),e._startAt._dp=0,e._startAt._sat=e,n<0&&(lt||!l&&!g)&&e._startAt.revert(zi),l&&y&&n<=0&&r<=0){n&&(e._zTime=n);return}}else if(d&&y&&!h){if(n&&(l=!1),$=Ct({overwrite:!1,data:"isFromStart",lazy:l&&!h&&_t(u),immediateRender:l,stagger:0,parent:L},N),w&&($[C.prop]=w),kn(e._startAt=Ke.set(f,$)),e._startAt._dp=0,e._startAt._sat=e,n<0&&(lt?e._startAt.revert(zi):e._startAt.render(-1,!0)),e._zTime=n,!l)t(e._startAt,Fe,Fe);else if(!n)return}for(e._pt=e._ptCache=0,u=y&&_t(u)||u&&!y,k=0;k<f.length;k++){if(b=f[k],x=b._gsap||yl(f)[k]._gsap,e._ptLookup[k]=I={},gl[x.id]&&Sn.length&&Ui(),P=M===f?k:M.indexOf(b),C&&(B=new C).init(b,w||N,e,P,M)!==!1&&(e._pt=v=new yt(e._pt,b,B.name,0,1,B.render,B,0,B.priority),B._props.forEach(function(te){I[te]=v}),B.priority&&(D=1)),!C||w)for($ in N)kt[$]&&(B=Jm($,N,e,P,b,M))?B.priority&&(D=1):I[$]=v=Dl.call(e,b,$,"get",N[$],P,M,0,a.stringFilter);e._op&&e._op[k]&&e.kill(b,e._op[k]),j&&e._pt&&(Nn=e,We.killTweensOf(b,I,e.globalTime(n)),E=!e.parent,Nn=0),e._pt&&u&&(gl[x.id]=1)}D&&ag(e),e._onInit&&e._onInit(e)}e._onUpdate=c,e._initted=(!e._op||e._pt)&&!E,m&&n<=0&&S.render($t,!0,!0)},o1=function(e,n,r,a,i,o,l,u){var c=(e._pt&&e._ptCache||(e._ptCache={}))[n],d,p,m,g;if(!c)for(c=e._ptCache[n]=[],m=e._ptLookup,g=e._targets.length;g--;){if(d=m[g][n],d&&d.d&&d.d._pt)for(d=d.d._pt;d&&d.p!==n&&d.fp!==n;)d=d._next;if(!d)return Ml=1,e.vars[n]="+=0",$l(e,l),Ml=0,u?ya(n+" not eligible for reset"):1;c.push(d)}for(g=c.length;g--;)p=c[g],d=p._pt||p,d.s=(a||a===0)&&!i?a:d.s+(a||0)+o*d.c,d.c=r-d.s,p.e&&(p.e=Xe(r)+ft(p.e)),p.b&&(p.b=d.s+ft(p.b))},l1=function(e,n){var r=e[0]?zn(e[0]).harness:0,a=r&&r.aliases,i,o,l,u;if(!a)return n;i=gr({},n);for(o in a)if(o in i)for(u=a[o].split(","),l=u.length;l--;)i[u[l]]=i[o];return i},c1=function(e,n,r,a){var i=n.ease||a||"power1.inOut",o,l;if(dt(n))l=r[e]||(r[e]=[]),n.forEach(function(u,c){return l.push({t:c/(n.length-1)*100,v:u,e:i})});else for(o in n)l=r[o]||(r[o]=[]),o==="ease"||l.push({t:parseFloat(e),v:n[o],e:i})},Da=function(e,n,r,a,i){return Ve(e)?e.call(n,r,a,i):st(e)&&~e.indexOf("random(")?ka(e):e},Qm=bl+"repeat,repeatDelay,yoyo,repeatRefresh,yoyoEase,autoRevert",eg={};bt(Qm+",id,stagger,delay,duration,paused,scrollTrigger",function(t){return eg[t]=1});var Ke=(function(t){fm(e,t);function e(r,a,i,o){var l;typeof a=="number"&&(i.duration=a,a=i,i=null),l=t.call(this,o?a:va(a))||this;var u=l.vars,c=u.duration,d=u.delay,p=u.immediateRender,m=u.stagger,g=u.overwrite,y=u.keyframes,h=u.defaults,f=u.scrollTrigger,L=u.yoyoEase,M=a.parent||We,j=(dt(r)||pm(r)?dn(r[0]):"length"in a)?[r]:Pt(r),S,N,k,$,v,b,D,x;if(l._targets=j.length?yl(j):ya("GSAP target "+r+" not found. https://gsap.com",!wt.nullTargetWarn)||[],l._ptLookup=[],l._overwrite=g,y||m||Ri(c)||Ri(d)){if(a=l.vars,S=l.timeline=new ct({data:"nested",defaults:h||{},targets:M&&M.data==="nested"?M.vars.targets:j}),S.kill(),S.parent=S._dp=un(l),S._start=0,m||Ri(c)||Ri(d)){if($=j.length,D=m&&Bm(m),Zt(m))for(v in m)~Qm.indexOf(v)&&(x||(x={}),x[v]=m[v]);for(N=0;N<$;N++)k=Gi(a,eg),k.stagger=0,L&&(k.yoyoEase=L),x&&gr(k,x),b=j[N],k.duration=+Da(c,un(l),N,b,j),k.delay=(+Da(d,un(l),N,b,j)||0)-l._delay,!m&&$===1&&k.delay&&(l._delay=d=k.delay,l._start+=d,k.delay=0),S.to(b,k,D?D(N,b,j):0),S._ease=Pe.none;S.duration()?c=d=0:l.timeline=0}else if(y){va(Ct(S.vars.defaults,{ease:"none"})),S._ease=Un(y.ease||a.ease||"none");var C=0,B,I,P;if(dt(y))y.forEach(function(w){return S.to(j,w,">")}),S.duration();else{k={};for(v in y)v==="ease"||v==="easeEach"||c1(v,y[v],k,y.easeEach);for(v in k)for(B=k[v].sort(function(w,E){return w.t-E.t}),C=0,N=0;N<B.length;N++)I=B[N],P={ease:I.e,duration:(I.t-(N?B[N-1].t:0))/100*c},P[v]=I.v,S.to(j,P,C),C+=P.duration;S.duration()<c&&S.to({},{duration:c-S.duration()})}}c||l.duration(c=S.duration())}else l.timeline=0;return g===!0&&!sl&&(Nn=un(l),We.killTweensOf(j),Nn=0),Qt(M,un(l),i),a.reversed&&l.reverse(),a.paused&&l.paused(!0),(p||!c&&!y&&l._start===Qe(M._time)&&_t(p)&&Rv(un(l))&&M.data!=="nested")&&(l._tTime=-Fe,l.render(Math.max(0,-d)||0)),f&&$m(un(l),f),l}var n=e.prototype;return n.render=function(a,i,o){var l=this._time,u=this._tDur,c=this._dur,d=a<0,p=a>u-Fe&&!d?u:a<Fe?0:a,m,g,y,h,f,L,M,j,S;if(!c)zv(this,a,i,o);else if(p!==this._tTime||!a||o||!this._initted&&this._tTime||this._startAt&&this._zTime<0!==d||this._lazy){if(m=p,j=this.timeline,this._repeat){if(h=c+this._rDelay,this._repeat<-1&&d)return this.totalTime(h*100+a,i,o);if(m=Qe(p%h),p===u?(y=this._repeat,m=c):(f=Qe(p/h),y=~~f,y&&y===f?(m=c,y--):m>c&&(m=c)),L=this._yoyo&&y&1,L&&(S=this._yEase,m=c-m),f=_r(this._tTime,h),m===l&&!o&&this._initted&&y===f)return this._tTime=p,this;y!==f&&(j&&this._yEase&&Xm(j,L),this.vars.repeatRefresh&&!L&&!this._lock&&m!==h&&this._initted&&(this._lock=o=1,this.render(Qe(h*y),!0).invalidate()._lock=0))}if(!this._initted){if(Im(this,d?a:m,o,i,p))return this._tTime=0,this;if(l!==this._time&&!(o&&this.vars.repeatRefresh&&y!==f))return this;if(c!==this._dur)return this.render(a,i,o)}if(this._tTime=p,this._time=m,!this._act&&this._ts&&(this._act=1,this._lazy=0),this.ratio=M=(S||this._ease)(m/c),this._from&&(this.ratio=M=1-M),!l&&p&&!i&&!f&&(Tt(this,"onStart"),this._tTime!==p))return this;for(g=this._pt;g;)g.r(M,g.d),g=g._next;j&&j.render(a<0?a:j._dur*j._ease(m/this._dur),i,o)||this._startAt&&(this._zTime=a),this._onUpdate&&!i&&(d&&vl(this,a,i,o),Tt(this,"onUpdate")),this._repeat&&y!==f&&this.vars.onRepeat&&!i&&this.parent&&Tt(this,"onRepeat"),(p===this._tDur||!p)&&this._tTime===p&&(d&&!this._onUpdate&&vl(this,a,!0,!0),(a||!c)&&(p===this._tDur&&this._ts>0||!p&&this._ts<0)&&kn(this,1),!i&&!(d&&!l)&&(p||l||L)&&(Tt(this,p===u?"onComplete":"onReverseComplete",!0),this._prom&&!(p<u&&this.timeScale()>0)&&this._prom()))}return this},n.targets=function(){return this._targets},n.invalidate=function(a){return(!a||!this.vars.runBackwards)&&(this._startAt=0),this._pt=this._op=this._onUpdate=this._lazy=this.ratio=0,this._ptLookup=[],this.timeline&&this.timeline.invalidate(a),t.prototype.invalidate.call(this,a)},n.resetTo=function(a,i,o,l,u){Na||Nt.wake(),this._ts||this.play();var c=Math.min(this._dur,(this._dp._time-this._start)*this._ts),d;return this._initted||$l(this,c),d=this._ease(c/this._dur),o1(this,a,i,o,l,d,c,u)?this.resetTo(a,i,o,l,1):(Xi(this,0),this.parent||jm(this._dp,this,"_first","_last",this._dp._sort?"_start":0),this.render(0))},n.kill=function(a,i){if(i===void 0&&(i="all"),!a&&(!i||i==="all"))return this._lazy=this._pt=0,this.parent?Ca(this):this.scrollTrigger&&this.scrollTrigger.kill(!!lt),this;if(this.timeline){var o=this.timeline.totalDuration();return this.timeline.killTweensOf(a,i,Nn&&Nn.vars.overwrite!==!0)._first||Ca(this),this.parent&&o!==this.timeline.totalDuration()&&br(this,this._dur*this.timeline._tDur/o,0,1),this}var l=this._targets,u=a?Pt(a):l,c=this._ptLookup,d=this._pt,p,m,g,y,h,f,L;if((!i||i==="all")&&Ev(l,u))return i==="all"&&(this._pt=0),Ca(this);for(p=this._op=this._op||[],i!=="all"&&(st(i)&&(h={},bt(i,function(M){return h[M]=1}),i=h),i=l1(l,i)),L=l.length;L--;)if(~u.indexOf(l[L])){m=c[L],i==="all"?(p[L]=i,y=m,g={}):(g=p[L]=p[L]||{},y=i);for(h in y)f=m&&m[h],f&&((!("kill"in f.d)||f.d.kill(h)===!0)&&Vi(this,f,"_pt"),delete m[h]),g!=="all"&&(g[h]=1)}return this._initted&&!this._pt&&d&&Ca(this),this},e.to=function(a,i){return new e(a,i,arguments[2])},e.from=function(a,i){return wa(1,arguments)},e.delayedCall=function(a,i,o,l){return new e(i,0,{immediateRender:!1,lazy:!1,overwrite:!1,delay:a,onComplete:i,onReverseComplete:i,onCompleteParams:o,onReverseCompleteParams:o,callbackScope:l})},e.fromTo=function(a,i,o){return wa(2,arguments)},e.set=function(a,i){return i.duration=0,i.repeatDelay||(i.repeat=0),new e(a,i)},e.killTweensOf=function(a,i,o){return We.killTweensOf(a,i,o)},e})(ja);Ct(Ke.prototype,{_targets:[],_lazy:0,_startAt:0,_op:0,_onInit:0}),bt("staggerTo,staggerFrom,staggerFromTo",function(t){Ke[t]=function(){var e=new ct,n=Sl.call(arguments,0);return n.splice(t==="staggerFromTo"?5:4,0,0),e[t].apply(e,n)}});var Il=function(e,n,r){return e[n]=r},tg=function(e,n,r){return e[n](r)},u1=function(e,n,r,a){return e[n](a.fp,r)},d1=function(e,n,r){return e.setAttribute(n,r)},Pl=function(e,n){return Ve(e[n])?tg:ll(e[n])&&e.setAttribute?d1:Il},ng=function(e,n){return n.set(n.t,n.p,Math.round((n.s+n.c*e)*1e6)/1e6,n)},f1=function(e,n){return n.set(n.t,n.p,!!(n.s+n.c*e),n)},rg=function(e,n){var r=n._pt,a="";if(!e&&n.b)a=n.b;else if(e===1&&n.e)a=n.e;else{for(;r;)a=r.p+(r.m?r.m(r.s+r.c*e):Math.round((r.s+r.c*e)*1e4)/1e4)+a,r=r._next;a+=n.c}n.set(n.t,n.p,a,n)},Ll=function(e,n){for(var r=n._pt;r;)r.r(e,r.d),r=r._next},h1=function(e,n,r,a){for(var i=this._pt,o;i;)o=i._next,i.p===a&&i.modifier(e,n,r),i=o},p1=function(e){for(var n=this._pt,r,a;n;)a=n._next,n.p===e&&!n.op||n.op===e?Vi(this,n,"_pt"):n.dep||(r=1),n=a;return!r},m1=function(e,n,r,a){a.mSet(e,n,a.m.call(a.tween,r,a.mt),a)},ag=function(e){for(var n=e._pt,r,a,i,o;n;){for(r=n._next,a=i;a&&a.pr>n.pr;)a=a._next;(n._prev=a?a._prev:o)?n._prev._next=n:i=n,(n._next=a)?a._prev=n:o=n,n=r}e._pt=i},yt=(function(){function t(n,r,a,i,o,l,u,c,d){this.t=r,this.s=i,this.c=o,this.p=a,this.r=l||ng,this.d=u||this,this.set=c||Il,this.pr=d||0,this._next=n,n&&(n._prev=this)}var e=t.prototype;return e.modifier=function(r,a,i){this.mSet=this.mSet||this.set,this.set=m1,this.m=r,this.mt=i,this.tween=a},t})();bt(bl+"parent,duration,ease,delay,overwrite,runBackwards,startAt,yoyo,immediateRender,repeat,repeatDelay,data,paused,reversed,lazy,callbackScope,stringFilter,id,yoyoEase,stagger,inherit,repeatRefresh,keyframes,autoRevert,scrollTrigger",function(t){return ml[t]=1}),St.TweenMax=St.TweenLite=Ke,St.TimelineLite=St.TimelineMax=ct,We=new ct({sortChildren:!1,defaults:hr,autoRemoveChildren:!0,id:"root",smoothChildTiming:!0}),wt.stringFilter=Ym;var Vn=[],Ki={},g1=[],ig=0,_1=0,Fl=function(e){return(Ki[e]||g1).map(function(n){return n()})},Bl=function(){var e=Date.now(),n=[];e-ig>2&&(Fl("matchMediaInit"),Vn.forEach(function(r){var a=r.queries,i=r.conditions,o,l,u,c;for(l in a)o=Jt.matchMedia(a[l]).matches,o&&(u=1),o!==i[l]&&(i[l]=o,c=1);c&&(r.revert(),u&&n.push(r))}),Fl("matchMediaRevert"),n.forEach(function(r){return r.onMatch(r,function(a){return r.add(null,a)})}),ig=e,Fl("matchMedia"))},sg=(function(){function t(n,r){this.selector=r&&kl(r),this.data=[],this._r=[],this.isReverted=!1,this.id=_1++,n&&this.add(n)}var e=t.prototype;return e.add=function(r,a,i){Ve(r)&&(i=a,a=r,r=Ve);var o=this,l=function(){var c=Re,d=o.selector,p;return c&&c!==o&&c.data.push(o),i&&(o.selector=kl(i)),Re=o,p=a.apply(o,arguments),Ve(p)&&o._r.push(p),Re=c,o.selector=d,o.isReverted=!1,p};return o.last=l,r===Ve?l(o,function(u){return o.add(null,u)}):r?o[r]=l:l},e.ignore=function(r){var a=Re;Re=null,r(this),Re=a},e.getTweens=function(){var r=[];return this.data.forEach(function(a){return a instanceof t?r.push.apply(r,a.getTweens()):a instanceof Ke&&!(a.parent&&a.parent.data==="nested")&&r.push(a)}),r},e.clear=function(){this._r.length=this.data.length=0},e.kill=function(r,a){var i=this;if(r?(function(){for(var l=i.getTweens(),u=i.data.length,c;u--;)c=i.data[u],c.data==="isFlip"&&(c.revert(),c.getChildren(!0,!0,!1).forEach(function(d){return l.splice(l.indexOf(d),1)}));for(l.map(function(d){return{g:d._dur||d._delay||d._sat&&!d._sat.vars.immediateRender?d.globalTime(0):-1/0,t:d}}).sort(function(d,p){return p.g-d.g||-1/0}).forEach(function(d){return d.t.revert(r)}),u=i.data.length;u--;)c=i.data[u],c instanceof ct?c.data!=="nested"&&(c.scrollTrigger&&c.scrollTrigger.revert(),c.kill()):!(c instanceof Ke)&&c.revert&&c.revert(r);i._r.forEach(function(d){return d(r,i)}),i.isReverted=!0})():this.data.forEach(function(l){return l.kill&&l.kill()}),this.clear(),a)for(var o=Vn.length;o--;)Vn[o].id===this.id&&Vn.splice(o,1)},e.revert=function(r){this.kill(r||{})},t})(),b1=(function(){function t(n){this.contexts=[],this.scope=n,Re&&Re.data.push(this)}var e=t.prototype;return e.add=function(r,a,i){Zt(r)||(r={matches:r});var o=new sg(0,i||this.scope),l=o.conditions={},u,c,d;Re&&!o.selector&&(o.selector=Re.selector),this.contexts.push(o),a=o.add("onMatch",a),o.queries=r;for(c in r)c==="all"?d=1:(u=Jt.matchMedia(r[c]),u&&(Vn.indexOf(o)<0&&Vn.push(o),(l[c]=u.matches)&&(d=1),u.addListener?u.addListener(Bl):u.addEventListener("change",Bl)));return d&&a(o,function(p){return o.add(null,p)}),this},e.revert=function(r){this.kill(r||{})},e.kill=function(r){this.contexts.forEach(function(a){return a.kill(r,!0)})},t})(),Zi={registerPlugin:function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];n.forEach(function(a){return Wm(a)})},timeline:function(e){return new ct(e)},getTweensOf:function(e,n){return We.getTweensOf(e,n)},getProperty:function(e,n,r,a){st(e)&&(e=Pt(e)[0]);var i=zn(e||{}).get,o=r?Tm:Cm;return r==="native"&&(r=""),e&&(n?o((kt[n]&&kt[n].get||i)(e,n,r,a)):function(l,u,c){return o((kt[l]&&kt[l].get||i)(e,l,u,c))})},quickSetter:function(e,n,r){if(e=Pt(e),e.length>1){var a=e.map(function(d){return xt.quickSetter(d,n,r)}),i=a.length;return function(d){for(var p=i;p--;)a[p](d)}}e=e[0]||{};var o=kt[n],l=zn(e),u=l.harness&&(l.harness.aliases||{})[n]||n,c=o?function(d){var p=new o;yr._pt=0,p.init(e,r?d+r:d,yr,0,[e]),p.render(1,p),yr._pt&&Ll(1,yr)}:l.set(e,u);return o?c:function(d){return c(e,u,r?d+r:d,l,1)}},quickTo:function(e,n,r){var a,i=xt.to(e,Ct((a={},a[n]="+=0.1",a.paused=!0,a.stagger=0,a),r||{})),o=function(u,c,d){return i.resetTo(n,u,c,d)};return o.tween=i,o},isTweening:function(e){return We.getTweensOf(e,!0).length>0},defaults:function(e){return e&&e.ease&&(e.ease=Un(e.ease,hr.ease)),Nm(hr,e||{})},config:function(e){return Nm(wt,e||{})},registerEffect:function(e){var n=e.name,r=e.effect,a=e.plugins,i=e.defaults,o=e.extendTimeline;(a||"").split(",").forEach(function(l){return l&&!kt[l]&&!St[l]&&ya(n+" effect requires "+l+" plugin.")}),_l[n]=function(l,u,c){return r(Pt(l),Ct(u||{},i),c)},o&&(ct.prototype[n]=function(l,u,c){return this.add(_l[n](l,Zt(u)?u:(c=u)&&{},this),c)})},registerEase:function(e,n){Pe[e]=Un(n)},parseEase:function(e,n){return arguments.length?Un(e,n):Pe},getById:function(e){return We.getById(e)},exportRoot:function(e,n){e===void 0&&(e={});var r=new ct(e),a,i;for(r.smoothChildTiming=_t(e.smoothChildTiming),We.remove(r),r._dp=0,r._time=r._tTime=We._time,a=We._first;a;)i=a._next,(n||!(!a._dur&&a instanceof Ke&&a.vars.onComplete===a._targets[0]))&&Qt(r,a,a._start-a._delay),a=i;return Qt(We,r,0),r},context:function(e,n){return e?new sg(e,n):Re},matchMedia:function(e){return new b1(e)},matchMediaRefresh:function(){return Vn.forEach(function(e){var n=e.conditions,r,a;for(a in n)n[a]&&(n[a]=!1,r=1);r&&e.revert()})||Bl()},addEventListener:function(e,n){var r=Ki[e]||(Ki[e]=[]);~r.indexOf(n)||r.push(n)},removeEventListener:function(e,n){var r=Ki[e],a=r&&r.indexOf(n);a>=0&&r.splice(a,1)},utils:{wrap:Kv,wrapYoyo:Zv,distribute:Bm,random:Em,snap:Am,normalize:Xv,getUnit:ft,clamp:Gv,splitColor:Um,toArray:Pt,selector:kl,mapRange:Rm,pipe:Yv,unitize:qv,interpolate:Jv,shuffle:Fm},install:ym,effects:_l,ticker:Nt,updateRoot:ct.updateRoot,plugins:kt,globalTimeline:We,core:{PropTween:yt,globals:xm,Tween:Ke,Timeline:ct,Animation:ja,getCache:zn,_removeLinkedListItem:Vi,reverting:function(){return lt},context:function(e){return e&&Re&&(Re.data.push(e),e._ctx=Re),Re},suppressOverwrites:function(e){return sl=e}}};bt("to,from,fromTo,delayedCall,set,killTweensOf",function(t){return Zi[t]=Ke[t]}),Nt.add(ct.updateRoot),yr=Zi.to({},{duration:0});var y1=function(e,n){for(var r=e._pt;r&&r.p!==n&&r.op!==n&&r.fp!==n;)r=r._next;return r},x1=function(e,n){var r=e._targets,a,i,o;for(a in n)for(i=r.length;i--;)o=e._ptLookup[i][a],o&&(o=o.d)&&(o._pt&&(o=y1(o,a)),o&&o.modifier&&o.modifier(n[a],e,r[i],a))},Al=function(e,n){return{name:e,headless:1,rawVars:1,init:function(a,i,o){o._onInit=function(l){var u,c;if(st(i)&&(u={},bt(i,function(d){return u[d]=1}),i=u),n){u={};for(c in i)u[c]=n(i[c]);i=u}x1(l,i)}}}},xt=Zi.registerPlugin({name:"attr",init:function(e,n,r,a,i){var o,l,u;this.tween=r;for(o in n)u=e.getAttribute(o)||"",l=this.add(e,"setAttribute",(u||0)+"",n[o],a,i,0,0,o),l.op=o,l.b=u,this._props.push(o)},render:function(e,n){for(var r=n._pt;r;)lt?r.set(r.t,r.p,r.b,r):r.r(e,r.d),r=r._next}},{name:"endArray",headless:1,init:function(e,n){for(var r=n.length;r--;)this.add(e,r,e[r]||0,n[r],0,0,0,0,0,1)}},Al("roundProps",Cl),Al("modifiers"),Al("snap",Am))||Zi;Ke.version=ct.version=xt.version="3.13.0",bm=1,cl()&&xr();var v1=Pe.Power0,w1=Pe.Power1,S1=Pe.Power2,k1=Pe.Power3,C1=Pe.Power4,T1=Pe.Linear,N1=Pe.Quad,j1=Pe.Cubic,D1=Pe.Quart,M1=Pe.Quint,$1=Pe.Strong,I1=Pe.Elastic,P1=Pe.Back,L1=Pe.SteppedEase,F1=Pe.Bounce,B1=Pe.Sine,A1=Pe.Expo,E1=Pe.Circ;/*!
 * CSSPlugin 3.13.0
 * https://gsap.com
 *
 * Copyright 2008-2025, GreenSock. All rights reserved.
 * Subject to the terms at https://gsap.com/standard-license
 * @author: Jack Doyle, jack@greensock.com
*/var og,jn,vr,El,Yn,lg,Hl,H1=function(){return typeof window<"u"},fn={},qn=180/Math.PI,wr=Math.PI/180,Sr=Math.atan2,cg=1e8,Rl=/([A-Z])/g,R1=/(left|right|width|margin|padding|x)/i,O1=/[\s,\(]\S/,en={autoAlpha:"opacity,visibility",scale:"scaleX,scaleY",alpha:"opacity"},Ol=function(e,n){return n.set(n.t,n.p,Math.round((n.s+n.c*e)*1e4)/1e4+n.u,n)},z1=function(e,n){return n.set(n.t,n.p,e===1?n.e:Math.round((n.s+n.c*e)*1e4)/1e4+n.u,n)},W1=function(e,n){return n.set(n.t,n.p,e?Math.round((n.s+n.c*e)*1e4)/1e4+n.u:n.b,n)},U1=function(e,n){var r=n.s+n.c*e;n.set(n.t,n.p,~~(r+(r<0?-.5:.5))+n.u,n)},ug=function(e,n){return n.set(n.t,n.p,e?n.e:n.b,n)},dg=function(e,n){return n.set(n.t,n.p,e!==1?n.b:n.e,n)},G1=function(e,n,r){return e.style[n]=r},V1=function(e,n,r){return e.style.setProperty(n,r)},Y1=function(e,n,r){return e._gsap[n]=r},q1=function(e,n,r){return e._gsap.scaleX=e._gsap.scaleY=r},X1=function(e,n,r,a,i){var o=e._gsap;o.scaleX=o.scaleY=r,o.renderTransform(i,o)},K1=function(e,n,r,a,i){var o=e._gsap;o[n]=r,o.renderTransform(i,o)},Ue="transform",vt=Ue+"Origin",Z1=function t(e,n){var r=this,a=this.target,i=a.style,o=a._gsap;if(e in fn&&i){if(this.tfm=this.tfm||{},e!=="transform")e=en[e]||e,~e.indexOf(",")?e.split(",").forEach(function(l){return r.tfm[l]=hn(a,l)}):this.tfm[e]=o.x?o[e]:hn(a,e),e===vt&&(this.tfm.zOrigin=o.zOrigin);else return en.transform.split(",").forEach(function(l){return t.call(r,l,n)});if(this.props.indexOf(Ue)>=0)return;o.svg&&(this.svgo=a.getAttribute("data-svg-origin"),this.props.push(vt,n,"")),e=Ue}(i||n)&&this.props.push(e,n,i[e])},fg=function(e){e.translate&&(e.removeProperty("translate"),e.removeProperty("scale"),e.removeProperty("rotate"))},J1=function(){var e=this.props,n=this.target,r=n.style,a=n._gsap,i,o;for(i=0;i<e.length;i+=3)e[i+1]?e[i+1]===2?n[e[i]](e[i+2]):n[e[i]]=e[i+2]:e[i+2]?r[e[i]]=e[i+2]:r.removeProperty(e[i].substr(0,2)==="--"?e[i]:e[i].replace(Rl,"-$1").toLowerCase());if(this.tfm){for(o in this.tfm)a[o]=this.tfm[o];a.svg&&(a.renderTransform(),n.setAttribute("data-svg-origin",this.svgo||"")),i=Hl(),(!i||!i.isStart)&&!r[Ue]&&(fg(r),a.zOrigin&&r[vt]&&(r[vt]+=" "+a.zOrigin+"px",a.zOrigin=0,a.renderTransform()),a.uncache=1)}},hg=function(e,n){var r={target:e,props:[],revert:J1,save:Z1};return e._gsap||xt.core.getCache(e),n&&e.style&&e.nodeType&&n.split(",").forEach(function(a){return r.save(a)}),r},pg,zl=function(e,n){var r=jn.createElementNS?jn.createElementNS((n||"http://www.w3.org/1999/xhtml").replace(/^https/,"http"),e):jn.createElement(e);return r&&r.style?r:jn.createElement(e)},Lt=function t(e,n,r){var a=getComputedStyle(e);return a[n]||a.getPropertyValue(n.replace(Rl,"-$1").toLowerCase())||a.getPropertyValue(n)||!r&&t(e,kr(n)||n,1)||""},mg="O,Moz,ms,Ms,Webkit".split(","),kr=function(e,n,r){var a=n||Yn,i=a.style,o=5;if(e in i&&!r)return e;for(e=e.charAt(0).toUpperCase()+e.substr(1);o--&&!(mg[o]+e in i););return o<0?null:(o===3?"ms":o>=0?mg[o]:"")+e},Wl=function(){H1()&&window.document&&(og=window,jn=og.document,vr=jn.documentElement,Yn=zl("div")||{style:{}},zl("div"),Ue=kr(Ue),vt=Ue+"Origin",Yn.style.cssText="border-width:0;line-height:0;position:absolute;padding:0",pg=!!kr("perspective"),Hl=xt.core.reverting,El=1)},gg=function(e){var n=e.ownerSVGElement,r=zl("svg",n&&n.getAttribute("xmlns")||"http://www.w3.org/2000/svg"),a=e.cloneNode(!0),i;a.style.display="block",r.appendChild(a),vr.appendChild(r);try{i=a.getBBox()}catch{}return r.removeChild(a),vr.removeChild(r),i},_g=function(e,n){for(var r=n.length;r--;)if(e.hasAttribute(n[r]))return e.getAttribute(n[r])},bg=function(e){var n,r;try{n=e.getBBox()}catch{n=gg(e),r=1}return n&&(n.width||n.height)||r||(n=gg(e)),n&&!n.width&&!n.x&&!n.y?{x:+_g(e,["x","cx","x1"])||0,y:+_g(e,["y","cy","y1"])||0,width:0,height:0}:n},yg=function(e){return!!(e.getCTM&&(!e.parentNode||e.ownerSVGElement)&&bg(e))},Xn=function(e,n){if(n){var r=e.style,a;n in fn&&n!==vt&&(n=Ue),r.removeProperty?(a=n.substr(0,2),(a==="ms"||n.substr(0,6)==="webkit")&&(n="-"+n),r.removeProperty(a==="--"?n:n.replace(Rl,"-$1").toLowerCase())):r.removeAttribute(n)}},Dn=function(e,n,r,a,i,o){var l=new yt(e._pt,n,r,0,1,o?dg:ug);return e._pt=l,l.b=a,l.e=i,e._props.push(r),l},xg={deg:1,rad:1,turn:1},Q1={grid:1,flex:1},Mn=function t(e,n,r,a){var i=parseFloat(r)||0,o=(r+"").trim().substr((i+"").length)||"px",l=Yn.style,u=R1.test(n),c=e.tagName.toLowerCase()==="svg",d=(c?"client":"offset")+(u?"Width":"Height"),p=100,m=a==="px",g=a==="%",y,h,f,L;if(a===o||!i||xg[a]||xg[o])return i;if(o!=="px"&&!m&&(i=t(e,n,r,"px")),L=e.getCTM&&yg(e),(g||o==="%")&&(fn[n]||~n.indexOf("adius")))return y=L?e.getBBox()[u?"width":"height"]:e[d],Xe(g?i/y*p:i/100*y);if(l[u?"width":"height"]=p+(m?o:a),h=a!=="rem"&&~n.indexOf("adius")||a==="em"&&e.appendChild&&!c?e:e.parentNode,L&&(h=(e.ownerSVGElement||{}).parentNode),(!h||h===jn||!h.appendChild)&&(h=jn.body),f=h._gsap,f&&g&&f.width&&u&&f.time===Nt.time&&!f.uncache)return Xe(i/f.width*p);if(g&&(n==="height"||n==="width")){var M=e.style[n];e.style[n]=p+a,y=e[d],M?e.style[n]=M:Xn(e,n)}else(g||o==="%")&&!Q1[Lt(h,"display")]&&(l.position=Lt(e,"position")),h===e&&(l.position="static"),h.appendChild(Yn),y=Yn[d],h.removeChild(Yn),l.position="absolute";return u&&g&&(f=zn(h),f.time=Nt.time,f.width=h[d]),Xe(m?y*i/p:y&&i?p/y*i:0)},hn=function(e,n,r,a){var i;return El||Wl(),n in en&&n!=="transform"&&(n=en[n],~n.indexOf(",")&&(n=n.split(",")[0])),fn[n]&&n!=="transform"?(i=$a(e,a),i=n!=="transformOrigin"?i[n]:i.svg?i.origin:Qi(Lt(e,vt))+" "+i.zOrigin+"px"):(i=e.style[n],(!i||i==="auto"||a||~(i+"").indexOf("calc("))&&(i=Ji[n]&&Ji[n](e,n,r)||Lt(e,n)||Sm(e,n)||(n==="opacity"?1:0))),r&&!~(i+"").trim().indexOf(" ")?Mn(e,n,i,r)+r:i},ew=function(e,n,r,a){if(!r||r==="none"){var i=kr(n,e,1),o=i&&Lt(e,i,1);o&&o!==r?(n=i,r=o):n==="borderColor"&&(r=Lt(e,"borderTopColor"))}var l=new yt(this._pt,e.style,n,0,1,rg),u=0,c=0,d,p,m,g,y,h,f,L,M,j,S,N;if(l.b=r,l.e=a,r+="",a+="",a.substring(0,6)==="var(--"&&(a=Lt(e,a.substring(4,a.indexOf(")")))),a==="auto"&&(h=e.style[n],e.style[n]=a,a=Lt(e,n)||a,h?e.style[n]=h:Xn(e,n)),d=[r,a],Ym(d),r=d[0],a=d[1],m=r.match(pr)||[],N=a.match(pr)||[],N.length){for(;p=pr.exec(a);)f=p[0],M=a.substring(u,p.index),y?y=(y+1)%5:(M.substr(-5)==="rgba("||M.substr(-5)==="hsla(")&&(y=1),f!==(h=m[c++]||"")&&(g=parseFloat(h)||0,S=h.substr((g+"").length),f.charAt(1)==="="&&(f=mr(g,f)+S),L=parseFloat(f),j=f.substr((L+"").length),u=pr.lastIndex-j.length,j||(j=j||wt.units[n]||S,u===a.length&&(a+=j,l.e+=j)),S!==j&&(g=Mn(e,n,h,j)||0),l._pt={_next:l._pt,p:M||c===1?M:",",s:g,c:L-g,m:y&&y<4||n==="zIndex"?Math.round:0});l.c=u<a.length?a.substring(u,a.length):""}else l.r=n==="display"&&a==="none"?dg:ug;return gm.test(a)&&(l.e=0),this._pt=l,l},vg={top:"0%",bottom:"100%",left:"0%",right:"100%",center:"50%"},tw=function(e){var n=e.split(" "),r=n[0],a=n[1]||"50%";return(r==="top"||r==="bottom"||a==="left"||a==="right")&&(e=r,r=a,a=e),n[0]=vg[r]||r,n[1]=vg[a]||a,n.join(" ")},nw=function(e,n){if(n.tween&&n.tween._time===n.tween._dur){var r=n.t,a=r.style,i=n.u,o=r._gsap,l,u,c;if(i==="all"||i===!0)a.cssText="",u=1;else for(i=i.split(","),c=i.length;--c>-1;)l=i[c],fn[l]&&(u=1,l=l==="transformOrigin"?vt:Ue),Xn(r,l);u&&(Xn(r,Ue),o&&(o.svg&&r.removeAttribute("transform"),a.scale=a.rotate=a.translate="none",$a(r,1),o.uncache=1,fg(a)))}},Ji={clearProps:function(e,n,r,a,i){if(i.data!=="isFromStart"){var o=e._pt=new yt(e._pt,n,r,0,0,nw);return o.u=a,o.pr=-10,o.tween=i,e._props.push(r),1}}},Ma=[1,0,0,1,0,0],wg={},Sg=function(e){return e==="matrix(1, 0, 0, 1, 0, 0)"||e==="none"||!e},kg=function(e){var n=Lt(e,Ue);return Sg(n)?Ma:n.substr(7).match(mm).map(Xe)},Ul=function(e,n){var r=e._gsap||zn(e),a=e.style,i=kg(e),o,l,u,c;return r.svg&&e.getAttribute("transform")?(u=e.transform.baseVal.consolidate().matrix,i=[u.a,u.b,u.c,u.d,u.e,u.f],i.join(",")==="1,0,0,1,0,0"?Ma:i):(i===Ma&&!e.offsetParent&&e!==vr&&!r.svg&&(u=a.display,a.display="block",o=e.parentNode,(!o||!e.offsetParent&&!e.getBoundingClientRect().width)&&(c=1,l=e.nextElementSibling,vr.appendChild(e)),i=kg(e),u?a.display=u:Xn(e,"display"),c&&(l?o.insertBefore(e,l):o?o.appendChild(e):vr.removeChild(e))),n&&i.length>6?[i[0],i[1],i[4],i[5],i[12],i[13]]:i)},Gl=function(e,n,r,a,i,o){var l=e._gsap,u=i||Ul(e,!0),c=l.xOrigin||0,d=l.yOrigin||0,p=l.xOffset||0,m=l.yOffset||0,g=u[0],y=u[1],h=u[2],f=u[3],L=u[4],M=u[5],j=n.split(" "),S=parseFloat(j[0])||0,N=parseFloat(j[1])||0,k,$,v,b;r?u!==Ma&&($=g*f-y*h)&&(v=S*(f/$)+N*(-h/$)+(h*M-f*L)/$,b=S*(-y/$)+N*(g/$)-(g*M-y*L)/$,S=v,N=b):(k=bg(e),S=k.x+(~j[0].indexOf("%")?S/100*k.width:S),N=k.y+(~(j[1]||j[0]).indexOf("%")?N/100*k.height:N)),a||a!==!1&&l.smooth?(L=S-c,M=N-d,l.xOffset=p+(L*g+M*h)-L,l.yOffset=m+(L*y+M*f)-M):l.xOffset=l.yOffset=0,l.xOrigin=S,l.yOrigin=N,l.smooth=!!a,l.origin=n,l.originIsAbsolute=!!r,e.style[vt]="0px 0px",o&&(Dn(o,l,"xOrigin",c,S),Dn(o,l,"yOrigin",d,N),Dn(o,l,"xOffset",p,l.xOffset),Dn(o,l,"yOffset",m,l.yOffset)),e.setAttribute("data-svg-origin",S+" "+N)},$a=function(e,n){var r=e._gsap||new Zm(e);if("x"in r&&!n&&!r.uncache)return r;var a=e.style,i=r.scaleX<0,o="px",l="deg",u=getComputedStyle(e),c=Lt(e,vt)||"0",d,p,m,g,y,h,f,L,M,j,S,N,k,$,v,b,D,x,C,B,I,P,w,E,te,z,W,G,H,oe,T,O;return d=p=m=h=f=L=M=j=S=0,g=y=1,r.svg=!!(e.getCTM&&yg(e)),u.translate&&((u.translate!=="none"||u.scale!=="none"||u.rotate!=="none")&&(a[Ue]=(u.translate!=="none"?"translate3d("+(u.translate+" 0 0").split(" ").slice(0,3).join(", ")+") ":"")+(u.rotate!=="none"?"rotate("+u.rotate+") ":"")+(u.scale!=="none"?"scale("+u.scale.split(" ").join(",")+") ":"")+(u[Ue]!=="none"?u[Ue]:"")),a.scale=a.rotate=a.translate="none"),$=Ul(e,r.svg),r.svg&&(r.uncache?(te=e.getBBox(),c=r.xOrigin-te.x+"px "+(r.yOrigin-te.y)+"px",E=""):E=!n&&e.getAttribute("data-svg-origin"),Gl(e,E||c,!!E||r.originIsAbsolute,r.smooth!==!1,$)),N=r.xOrigin||0,k=r.yOrigin||0,$!==Ma&&(x=$[0],C=$[1],B=$[2],I=$[3],d=P=$[4],p=w=$[5],$.length===6?(g=Math.sqrt(x*x+C*C),y=Math.sqrt(I*I+B*B),h=x||C?Sr(C,x)*qn:0,M=B||I?Sr(B,I)*qn+h:0,M&&(y*=Math.abs(Math.cos(M*wr))),r.svg&&(d-=N-(N*x+k*B),p-=k-(N*C+k*I))):(O=$[6],oe=$[7],W=$[8],G=$[9],H=$[10],T=$[11],d=$[12],p=$[13],m=$[14],v=Sr(O,H),f=v*qn,v&&(b=Math.cos(-v),D=Math.sin(-v),E=P*b+W*D,te=w*b+G*D,z=O*b+H*D,W=P*-D+W*b,G=w*-D+G*b,H=O*-D+H*b,T=oe*-D+T*b,P=E,w=te,O=z),v=Sr(-B,H),L=v*qn,v&&(b=Math.cos(-v),D=Math.sin(-v),E=x*b-W*D,te=C*b-G*D,z=B*b-H*D,T=I*D+T*b,x=E,C=te,B=z),v=Sr(C,x),h=v*qn,v&&(b=Math.cos(v),D=Math.sin(v),E=x*b+C*D,te=P*b+w*D,C=C*b-x*D,w=w*b-P*D,x=E,P=te),f&&Math.abs(f)+Math.abs(h)>359.9&&(f=h=0,L=180-L),g=Xe(Math.sqrt(x*x+C*C+B*B)),y=Xe(Math.sqrt(w*w+O*O)),v=Sr(P,w),M=Math.abs(v)>2e-4?v*qn:0,S=T?1/(T<0?-T:T):0),r.svg&&(E=e.getAttribute("transform"),r.forceCSS=e.setAttribute("transform","")||!Sg(Lt(e,Ue)),E&&e.setAttribute("transform",E))),Math.abs(M)>90&&Math.abs(M)<270&&(i?(g*=-1,M+=h<=0?180:-180,h+=h<=0?180:-180):(y*=-1,M+=M<=0?180:-180)),n=n||r.uncache,r.x=d-((r.xPercent=d&&(!n&&r.xPercent||(Math.round(e.offsetWidth/2)===Math.round(-d)?-50:0)))?e.offsetWidth*r.xPercent/100:0)+o,r.y=p-((r.yPercent=p&&(!n&&r.yPercent||(Math.round(e.offsetHeight/2)===Math.round(-p)?-50:0)))?e.offsetHeight*r.yPercent/100:0)+o,r.z=m+o,r.scaleX=Xe(g),r.scaleY=Xe(y),r.rotation=Xe(h)+l,r.rotationX=Xe(f)+l,r.rotationY=Xe(L)+l,r.skewX=M+l,r.skewY=j+l,r.transformPerspective=S+o,(r.zOrigin=parseFloat(c.split(" ")[2])||!n&&r.zOrigin||0)&&(a[vt]=Qi(c)),r.xOffset=r.yOffset=0,r.force3D=wt.force3D,r.renderTransform=r.svg?aw:pg?Cg:rw,r.uncache=0,r},Qi=function(e){return(e=e.split(" "))[0]+" "+e[1]},Vl=function(e,n,r){var a=ft(n);return Xe(parseFloat(n)+parseFloat(Mn(e,"x",r+"px",a)))+a},rw=function(e,n){n.z="0px",n.rotationY=n.rotationX="0deg",n.force3D=0,Cg(e,n)},Kn="0deg",Ia="0px",Zn=") ",Cg=function(e,n){var r=n||this,a=r.xPercent,i=r.yPercent,o=r.x,l=r.y,u=r.z,c=r.rotation,d=r.rotationY,p=r.rotationX,m=r.skewX,g=r.skewY,y=r.scaleX,h=r.scaleY,f=r.transformPerspective,L=r.force3D,M=r.target,j=r.zOrigin,S="",N=L==="auto"&&e&&e!==1||L===!0;if(j&&(p!==Kn||d!==Kn)){var k=parseFloat(d)*wr,$=Math.sin(k),v=Math.cos(k),b;k=parseFloat(p)*wr,b=Math.cos(k),o=Vl(M,o,$*b*-j),l=Vl(M,l,-Math.sin(k)*-j),u=Vl(M,u,v*b*-j+j)}f!==Ia&&(S+="perspective("+f+Zn),(a||i)&&(S+="translate("+a+"%, "+i+"%) "),(N||o!==Ia||l!==Ia||u!==Ia)&&(S+=u!==Ia||N?"translate3d("+o+", "+l+", "+u+") ":"translate("+o+", "+l+Zn),c!==Kn&&(S+="rotate("+c+Zn),d!==Kn&&(S+="rotateY("+d+Zn),p!==Kn&&(S+="rotateX("+p+Zn),(m!==Kn||g!==Kn)&&(S+="skew("+m+", "+g+Zn),(y!==1||h!==1)&&(S+="scale("+y+", "+h+Zn),M.style[Ue]=S||"translate(0, 0)"},aw=function(e,n){var r=n||this,a=r.xPercent,i=r.yPercent,o=r.x,l=r.y,u=r.rotation,c=r.skewX,d=r.skewY,p=r.scaleX,m=r.scaleY,g=r.target,y=r.xOrigin,h=r.yOrigin,f=r.xOffset,L=r.yOffset,M=r.forceCSS,j=parseFloat(o),S=parseFloat(l),N,k,$,v,b;u=parseFloat(u),c=parseFloat(c),d=parseFloat(d),d&&(d=parseFloat(d),c+=d,u+=d),u||c?(u*=wr,c*=wr,N=Math.cos(u)*p,k=Math.sin(u)*p,$=Math.sin(u-c)*-m,v=Math.cos(u-c)*m,c&&(d*=wr,b=Math.tan(c-d),b=Math.sqrt(1+b*b),$*=b,v*=b,d&&(b=Math.tan(d),b=Math.sqrt(1+b*b),N*=b,k*=b)),N=Xe(N),k=Xe(k),$=Xe($),v=Xe(v)):(N=p,v=m,k=$=0),(j&&!~(o+"").indexOf("px")||S&&!~(l+"").indexOf("px"))&&(j=Mn(g,"x",o,"px"),S=Mn(g,"y",l,"px")),(y||h||f||L)&&(j=Xe(j+y-(y*N+h*$)+f),S=Xe(S+h-(y*k+h*v)+L)),(a||i)&&(b=g.getBBox(),j=Xe(j+a/100*b.width),S=Xe(S+i/100*b.height)),b="matrix("+N+","+k+","+$+","+v+","+j+","+S+")",g.setAttribute("transform",b),M&&(g.style[Ue]=b)},iw=function(e,n,r,a,i){var o=360,l=st(i),u=parseFloat(i)*(l&&~i.indexOf("rad")?qn:1),c=u-a,d=a+c+"deg",p,m;return l&&(p=i.split("_")[1],p==="short"&&(c%=o,c!==c%(o/2)&&(c+=c<0?o:-o)),p==="cw"&&c<0?c=(c+o*cg)%o-~~(c/o)*o:p==="ccw"&&c>0&&(c=(c-o*cg)%o-~~(c/o)*o)),e._pt=m=new yt(e._pt,n,r,a,c,z1),m.e=d,m.u="deg",e._props.push(r),m},Tg=function(e,n){for(var r in n)e[r]=n[r];return e},sw=function(e,n,r){var a=Tg({},r._gsap),i="perspective,force3D,transformOrigin,svgOrigin",o=r.style,l,u,c,d,p,m,g,y;a.svg?(c=r.getAttribute("transform"),r.setAttribute("transform",""),o[Ue]=n,l=$a(r,1),Xn(r,Ue),r.setAttribute("transform",c)):(c=getComputedStyle(r)[Ue],o[Ue]=n,l=$a(r,1),o[Ue]=c);for(u in fn)c=a[u],d=l[u],c!==d&&i.indexOf(u)<0&&(g=ft(c),y=ft(d),p=g!==y?Mn(r,u,c,y):parseFloat(c),m=parseFloat(d),e._pt=new yt(e._pt,l,u,p,m-p,Ol),e._pt.u=y||0,e._props.push(u));Tg(l,a)};bt("padding,margin,Width,Radius",function(t,e){var n="Top",r="Right",a="Bottom",i="Left",o=(e<3?[n,r,a,i]:[n+i,n+r,a+r,a+i]).map(function(l){return e<2?t+l:"border"+l+t});Ji[e>1?"border"+t:t]=function(l,u,c,d,p){var m,g;if(arguments.length<4)return m=o.map(function(y){return hn(l,y,c)}),g=m.join(" "),g.split(m[0]).length===5?m[0]:g;m=(d+"").split(" "),g={},o.forEach(function(y,h){return g[y]=m[h]=m[h]||m[(h-1)/2|0]}),l.init(u,g,p)}});var Yl={name:"css",register:Wl,targetTest:function(e){return e.style&&e.nodeType},init:function(e,n,r,a,i){var o=this._props,l=e.style,u=r.vars.startAt,c,d,p,m,g,y,h,f,L,M,j,S,N,k,$,v;El||Wl(),this.styles=this.styles||hg(e),v=this.styles.props,this.tween=r;for(h in n)if(h!=="autoRound"&&(d=n[h],!(kt[h]&&Jm(h,n,r,a,e,i)))){if(g=typeof d,y=Ji[h],g==="function"&&(d=d.call(r,a,e,i),g=typeof d),g==="string"&&~d.indexOf("random(")&&(d=ka(d)),y)y(this,e,h,d,r)&&($=1);else if(h.substr(0,2)==="--")c=(getComputedStyle(e).getPropertyValue(h)+"").trim(),d+="",Tn.lastIndex=0,Tn.test(c)||(f=ft(c),L=ft(d)),L?f!==L&&(c=Mn(e,h,c,L)+L):f&&(d+=f),this.add(l,"setProperty",c,d,a,i,0,0,h),o.push(h),v.push(h,0,l[h]);else if(g!=="undefined"){if(u&&h in u?(c=typeof u[h]=="function"?u[h].call(r,a,e,i):u[h],st(c)&&~c.indexOf("random(")&&(c=ka(c)),ft(c+"")||c==="auto"||(c+=wt.units[h]||ft(hn(e,h))||""),(c+"").charAt(1)==="="&&(c=hn(e,h))):c=hn(e,h),m=parseFloat(c),M=g==="string"&&d.charAt(1)==="="&&d.substr(0,2),M&&(d=d.substr(2)),p=parseFloat(d),h in en&&(h==="autoAlpha"&&(m===1&&hn(e,"visibility")==="hidden"&&p&&(m=0),v.push("visibility",0,l.visibility),Dn(this,l,"visibility",m?"inherit":"hidden",p?"inherit":"hidden",!p)),h!=="scale"&&h!=="transform"&&(h=en[h],~h.indexOf(",")&&(h=h.split(",")[0]))),j=h in fn,j){if(this.styles.save(h),g==="string"&&d.substring(0,6)==="var(--"&&(d=Lt(e,d.substring(4,d.indexOf(")"))),p=parseFloat(d)),S||(N=e._gsap,N.renderTransform&&!n.parseTransform||$a(e,n.parseTransform),k=n.smoothOrigin!==!1&&N.smooth,S=this._pt=new yt(this._pt,l,Ue,0,1,N.renderTransform,N,0,-1),S.dep=1),h==="scale")this._pt=new yt(this._pt,N,"scaleY",N.scaleY,(M?mr(N.scaleY,M+p):p)-N.scaleY||0,Ol),this._pt.u=0,o.push("scaleY",h),h+="X";else if(h==="transformOrigin"){v.push(vt,0,l[vt]),d=tw(d),N.svg?Gl(e,d,0,k,0,this):(L=parseFloat(d.split(" ")[2])||0,L!==N.zOrigin&&Dn(this,N,"zOrigin",N.zOrigin,L),Dn(this,l,h,Qi(c),Qi(d)));continue}else if(h==="svgOrigin"){Gl(e,d,1,k,0,this);continue}else if(h in wg){iw(this,N,h,m,M?mr(m,M+d):d);continue}else if(h==="smoothOrigin"){Dn(this,N,"smooth",N.smooth,d);continue}else if(h==="force3D"){N[h]=d;continue}else if(h==="transform"){sw(this,d,e);continue}}else h in l||(h=kr(h)||h);if(j||(p||p===0)&&(m||m===0)&&!O1.test(d)&&h in l)f=(c+"").substr((m+"").length),p||(p=0),L=ft(d)||(h in wt.units?wt.units[h]:f),f!==L&&(m=Mn(e,h,c,L)),this._pt=new yt(this._pt,j?N:l,h,m,(M?mr(m,M+p):p)-m,!j&&(L==="px"||h==="zIndex")&&n.autoRound!==!1?U1:Ol),this._pt.u=L||0,f!==L&&L!=="%"&&(this._pt.b=c,this._pt.r=W1);else if(h in l)ew.call(this,e,h,c,M?M+d:d);else if(h in e)this.add(e,h,c||e[h],M?M+d:d,a,i);else if(h!=="parseTransform"){pl(h,d);continue}j||(h in l?v.push(h,0,l[h]):typeof e[h]=="function"?v.push(h,2,e[h]()):v.push(h,1,c||e[h])),o.push(h)}}$&&ag(this)},render:function(e,n){if(n.tween._time||!Hl())for(var r=n._pt;r;)r.r(e,r.d),r=r._next;else n.styles.revert()},get:hn,aliases:en,getSetter:function(e,n,r){var a=en[n];return a&&a.indexOf(",")<0&&(n=a),n in fn&&n!==vt&&(e._gsap.x||hn(e,"x"))?r&&lg===r?n==="scale"?q1:Y1:(lg=r||{})&&(n==="scale"?X1:K1):e.style&&!ll(e.style[n])?G1:~n.indexOf("-")?V1:Pl(e,n)},core:{_removeProperty:Xn,_getMatrix:Ul}};xt.utils.checkPrefix=kr,xt.core.getStyleSaver=hg,(function(t,e,n,r){var a=bt(t+","+e+","+n,function(i){fn[i]=1});bt(e,function(i){wt.units[i]="deg",wg[i]=1}),en[a[13]]=t+","+e,bt(r,function(i){var o=i.split(":");en[o[1]]=a[o[0]]})})("x,y,z,scale,scaleX,scaleY,xPercent,yPercent","rotation,rotationX,rotationY,skewX,skewY","transform,transformOrigin,svgOrigin,force3D,smoothOrigin,transformPerspective","0:translateX,1:translateY,2:translateZ,8:rotate,8:rotationZ,8:rotateZ,9:rotateX,10:rotateY"),bt("x,y,z,top,right,bottom,left,width,height,fontSize,padding,margin,perspective",function(t){wt.units[t]="px"}),xt.registerPlugin(Yl);var ql=xt.registerPlugin(Yl)||xt,ow=ql.core.Tween;const lw=Object.freeze(Object.defineProperty({__proto__:null,Back:P1,Bounce:F1,CSSPlugin:Yl,Circ:E1,Cubic:j1,Elastic:I1,Expo:A1,Linear:T1,Power0:v1,Power1:w1,Power2:S1,Power3:k1,Power4:C1,Quad:N1,Quart:D1,Quint:M1,Sine:B1,SteppedEase:L1,Strong:$1,TimelineLite:ct,TimelineMax:ct,TweenLite:Ke,TweenMax:ow,default:ql,gsap:ql},Symbol.toStringTag,{value:"Module"}));_.Account=lc,_.ActionLink=Hg,_.AdaptiveDataGrid=Hs,_.AnimationDurationFast=Dd,_.AnimationDurationNormal=Md,_.AnimationDurationSlow=$d,_.AnimationEasingBounce=Fd,_.AnimationEasingEaseIn=Id,_.AnimationEasingEaseInOut=Ld,_.AnimationEasingEaseOut=Pd,_.AppointmentCard=Bs,_.AreaSeriesPrimitive=kx,_.AriaDataGrid=Su,_.AriaTabsDataGrid=si,_.AriaTabsDataGridAdaptive=Hs,_.Axis=qs,_.BackLink=Ba,_.BandScalesProvider=Tx,_.BarSeriesPrimitive=Cx,_.BorderColorCard=_o,_.BorderColorCardHover=bo,_.BorderColorDefault=mo,_.BorderColorError=yo,_.BorderColorForm=go,_.BorderRadiusLarge=Kd,_.BorderRadiusMedium=Xd,_.BorderRadiusNone=Yd,_.BorderRadiusSmall=qd,_.BorderWidthCardBottom=Wd,_.BorderWidthDefault=Rd,_.BorderWidthFormElement=Od,_.BorderWidthFormElementError=zd,_.BorderWidthPanel=Ud,_.BorderWidthTableCell=Vd,_.BorderWidthTableHeader=Gd,_.Breadcrumb=hu,_.BreakpointDesktop=$p,_.BreakpointLargeDesktop=Ip,_.BreakpointMobile=Dp,_.BreakpointTablet=Mp,_.Button=rt,_.ButtonBorderRadius=Th,_.ButtonBorderWidth=Ch,_.ButtonPrimaryBackgroundActive=hh,_.ButtonPrimaryBackgroundDefault=dh,_.ButtonPrimaryBackgroundDisabled=ph,_.ButtonPrimaryBackgroundHover=fh,_.ButtonPrimaryBorderDefault=_h,_.ButtonPrimaryBorderFocus=bh,_.ButtonPrimaryTextDefault=mh,_.ButtonPrimaryTextDisabled=gh,_.ButtonSecondaryBackgroundActive=wh,_.ButtonSecondaryBackgroundDefault=yh,_.ButtonSecondaryBackgroundHover=vh,_.ButtonSecondaryBackgroundSolid=xh,_.ButtonSecondaryBorderDefault=kh,_.ButtonSecondaryTextDefault=Sh,_.ButtonShadowSize=Nh,_.ButtonSpacingPaddingHorizontalDesktop=Oo,_.ButtonSpacingPaddingHorizontalMobile=Ho,_.ButtonSpacingPaddingVerticalDesktop=Ro,_.ButtonSpacingPaddingVerticalMobile=Eo,_.ButtonTypographyWeight=jh,_.Card=Is,_.CardBackgroundDefault=Dh,_.CardBorderBottom=Ih,_.CardBorderDefault=Mh,_.CardBorderHover=$h,_.CardBorderWidthBottom=Ah,_.CardBorderWidthDefault=Bh,_.CardGroup=Bb,_.CardGroupItem=Ab,_.CardShadowDefault=Eh,_.CardShadowHover=Hh,_.CardSpacingHeadingMargin=Uo,_.CardSpacingPaddingDesktop=Wo,_.CardSpacingPaddingMobile=zo,_.CardTextDescription=Lh,_.CardTextHeading=Ph,_.CardTextLink=Fh,_.CareCard=Eb,_.CharacterCount=Yg,_.ChartEnhancer=jx,_.ChartNoScript=Nx,_.ChartRoot=ad,_.Checkbox=cc,_.Checkboxes=uc,_.ColorBorderDefault=lf,_.ColorBorderSecondary=cf,_.ColorButtonLoginActive=Bf,_.ColorButtonLoginBackground=Lf,_.ColorButtonLoginHover=Ff,_.ColorButtonLoginShadow=Af,_.ColorButtonPrimaryActive=gf,_.ColorButtonPrimaryBackground=hf,_.ColorButtonPrimaryHover=mf,_.ColorButtonPrimaryShadow=_f,_.ColorButtonPrimaryText=pf,_.ColorButtonReverseActive=jf,_.ColorButtonReverseBackground=Cf,_.ColorButtonReverseHover=Nf,_.ColorButtonReverseShadow=Df,_.ColorButtonReverseText=Tf,_.ColorButtonSecondaryActive=Sf,_.ColorButtonSecondaryBackground=bf,_.ColorButtonSecondaryBackgroundSolid=yf,_.ColorButtonSecondaryBorder=xf,_.ColorButtonSecondaryHover=wf,_.ColorButtonSecondaryShadow=kf,_.ColorButtonSecondaryText=vf,_.ColorButtonWarningActive=If,_.ColorButtonWarningBackground=Mf,_.ColorButtonWarningHover=$f,_.ColorButtonWarningShadow=Pf,_.ColorError=uf,_.ColorFocusBackground=sf,_.ColorFocusText=of,_.ColorFormBackground=ff,_.ColorFormBorder=df,_.ColorGrey1=Po,_.ColorGrey2=Lo,_.ColorGrey3=Fo,_.ColorGrey4=Bo,_.ColorGrey5=Ao,_.ColorLinkActive=rf,_.ColorLinkDefault=tf,_.ColorLinkHover=nf,_.ColorLinkVisited=af,_.ColorPrimaryBlack=wo,_.ColorPrimaryBlue=xo,_.ColorPrimaryDarkPink=Co,_.ColorPrimaryGreen=So,_.ColorPrimaryPurple=ko,_.ColorPrimaryRed=To,_.ColorPrimaryWhite=vo,_.ColorPrimaryYellow=No,_.ColorSecondaryAquaGreen=$o,_.ColorSecondaryOrange=Mo,_.ColorSecondaryPaleYellow=jo,_.ColorSecondaryPink=Io,_.ColorSecondaryWarmYellow=Do,_.ColorTextPrimary=Zd,_.ColorTextPrint=ef,_.ColorTextReverse=Qd,_.ColorTextSecondary=Jd,_.Column=Qn,_.ComponentBlur=sh,_.ComponentBreadcrumbChevronMarginLeft=Jf,_.ComponentBreadcrumbChevronMarginRight=Qf,_.ComponentBreadcrumbPaddingTopDesktop=th,_.ComponentBreadcrumbPaddingTopMobile=eh,_.ComponentButtonPaddingDesktopHorizontal=Of,_.ComponentButtonPaddingDesktopVertical=Rf,_.ComponentButtonPaddingMobileHorizontal=Hf,_.ComponentButtonPaddingMobileVertical=Ef,_.ComponentButtonShadowSize=zf,_.ComponentCardHeadingMargin=Xf,_.ComponentCardPaddingDesktop=qf,_.ComponentCardPaddingMobile=Yf,_.ComponentDetails=lh,_.ComponentExpander=ch,_.ComponentFormCheckboxLabelPadding=Vf,_.ComponentFormCheckboxSize=Gf,_.ComponentFormInputMinHeight=Wf,_.ComponentFormInputPadding=Uf,_.ComponentLink=oh,_.ComponentPagination=uh,_.ComponentPanelPaddingDesktop=Zf,_.ComponentPanelPaddingMobile=Kf,_.ComponentSpread=ih,_.ComponentSummaryListCellPaddingHorizontal=rh,_.ComponentSummaryListCellPaddingVertical=nh,_.ComponentSummaryListRowMargin=ah,_.Container=is,_.ContentsList=Fb,_.DEFAULT_FONT_CONFIG=il,_.DashboardSummaryGrid=ey,_.DateInput=o0,_.Details=_u,_.DoDontList=bu,_.ElevationHigh=dm,_.ElevationLow=cm,_.ElevationMedium=um,_.ElevationNone=lm,_.ErrorMessage=os,_.ErrorSummary=s0,_.Expander=yu,_.FRUTIGER_FONT_FILES=pt,_.Fieldset=Ha,_.FocusOutlineOffset=am,_.FocusOutlineStyle=im,_.FocusOutlineWidth=rm,_.FocusShadowButton=om,_.FocusShadowInput=sm,_.FontFamilyBase=Vr,_.FontFamilyFallback=Yr,_.FontFamilyPrint=qr,_.FontLineHeightBase=Hi,_.FontSize14Mobile=Jr,_.FontSize14Print=ea,_.FontSize14Tablet=Qr,_.FontSize16Mobile=ta,_.FontSize16Print=ra,_.FontSize16Tablet=na,_.FontSize19Mobile=aa,_.FontSize19Print=sa,_.FontSize19Tablet=ia,_.FontSize22Mobile=oa,_.FontSize22Print=ca,_.FontSize22Tablet=la,_.FontSize26Mobile=ua,_.FontSize26Print=fa,_.FontSize26Tablet=da,_.FontSize36Mobile=ha,_.FontSize36Print=ma,_.FontSize36Tablet=pa,_.FontSize48Mobile=ga,_.FontSize48Print=ba,_.FontSize48Tablet=_a,_.FontSizeBase=Ei,_.FontWeightBold=Kr,_.FontWeightLight=Zr,_.FontWeightNormal=Xr,_.Footer=ls,_.FormBorderRadius=ip,_.FormBorderWidthDefault=rp,_.FormBorderWidthError=ap,_.FormErrorTextDefault=ep,_.FormErrorTypographyWeight=tp,_.FormHintTextDefault=np,_.FormInputBackgroundDefault=Rh,_.FormInputBackgroundDisabled=zh,_.FormInputBackgroundError=Wh,_.FormInputBackgroundFocus=Oh,_.FormInputBorderDefault=Uh,_.FormInputBorderDisabled=Yh,_.FormInputBorderError=Vh,_.FormInputBorderFocus=Gh,_.FormInputTextDefault=qh,_.FormInputTextDisabled=Kh,_.FormInputTextPlaceholder=Xh,_.FormLabelTextDefault=Zh,_.FormLabelTextRequired=Jh,_.FormLabelTypographyWeight=Qh,_.FormSpacingCheckboxLabelPadding=qo,_.FormSpacingCheckboxSize=Yo,_.FormSpacingInputMinHeight=Vo,_.FormSpacingInputPadding=Go,_.GanttChart=Pb,_.Grid=Ra,_.GridGutter=Lp,_.GridGutterHalf=Fp,_.GridLines=sd,_.GridPageWidth=Pp,_.Header=Oa,_.HeaderSSR=h0,_.HeaderSearch=_c,_.HeaderStatic=Oa,_.Heading=At,_.HeadingsNhsukHeadingL=zt,_.HeadingsNhsukHeadingM=Wt,_.HeadingsNhsukHeadingS=Ut,_.HeadingsNhsukHeadingXl=Ot,_.HeadingsNhsukHeadingXs=Gt,_.Hero=yc,_.Hint=as,_.Images=Xb,_.Input=Aa,_.InsetText=Hb,_.Label=Ea,_.LayoutColumnActions=jp,_.LayoutColumnFull=kp,_.LayoutColumnHalf=Cp,_.LayoutColumnQuarter=Np,_.LayoutColumnThird=Tp,_.LayoutContainerMaxWidth=Sp,_.Legend=Sx,_.LineScalesProvider=id,_.LineSeriesPrimitive=gd,_.List=pc,_.MainWrapper=ss,_.MedicationCard=As,_.MetricCard=Dx,_.NHSBodyText=cv,_.NHSBodyTextLarge=uv,_.NHSBodyTextSmall=dv,_.NHSHeading1=av,_.NHSHeading2=iv,_.NHSHeading3=sv,_.NHSHeading4=ov,_.NHSHeading5=lv,_.NHSLedeText=fv,_.NHSLedeTextSmall=hv,_.NHSThemeProvider=f0,_.NHS_FALLBACK_FONT_STACK=Nv,_.NHS_FONT_STACK=Tv,_.NavigationSplitView=Ou,_.PageTemplate=My,_.Pagination=Lb,_.Panel=pu,_.ParagraphsBody=Vt,_.ParagraphsBodyLarge=Yt,_.ParagraphsBodySmall=qt,_.ParagraphsLedeText=Xt,_.ParagraphsLedeTextSmall=Kt,_.PatientCard=Fs,_.ProductRoadmap=Wu,_.Radios=qg,_.RadiosServer=Xg,_.ResponsiveDataGrid=Hs,_.ResponsiveDataGridDemo=Dy,_.Row=_n,_.SPC=tv,_.SPCChart=jd,_.Select=Dr,_.SelectOption=fc,_.ShadowButtonDefault=Zp,_.ShadowButtonFocus=em,_.ShadowButtonSecondary=Jp,_.ShadowButtonWarning=Qp,_.ShadowCardDefault=tm,_.ShadowCardHover=nm,_.SizeButtonMinHeightDesktop=wp,_.SizeButtonMinHeightMobile=vp,_.SizeFormControlLarge=hp,_.SizeFormControlMedium=fp,_.SizeFormControlSmall=dp,_.SizeFormInputWidth2xl=yp,_.SizeFormInputWidth3xl=xp,_.SizeFormInputWidthLg=_p,_.SizeFormInputWidthMd=gp,_.SizeFormInputWidthSm=mp,_.SizeFormInputWidthXl=bp,_.SizeFormInputWidthXs=pp,_.SizeIconExtraLarge=cp,_.SizeIconLarge=lp,_.SizeIconMedium=op,_.SizeIconNhsDefault=up,_.SizeIconSmall=sp,_.SkipLink=$s,_.SlotMatrix=Qb,_.SortStatusControl=sy,_.Spacing0=Xo,_.Spacing1=Ko,_.Spacing2=Zo,_.Spacing3=Jo,_.Spacing4=Qo,_.Spacing5=el,_.Spacing6=tl,_.Spacing7=nl,_.Spacing8=rl,_.Spacing9=al,_.SpacingResponsive0Mobile=bi,_.SpacingResponsive0Tablet=yi,_.SpacingResponsive1Mobile=xi,_.SpacingResponsive1Tablet=vi,_.SpacingResponsive2Mobile=wi,_.SpacingResponsive2Tablet=Si,_.SpacingResponsive3Mobile=ki,_.SpacingResponsive3Tablet=Ci,_.SpacingResponsive4Mobile=Ti,_.SpacingResponsive4Tablet=Ni,_.SpacingResponsive5Mobile=ji,_.SpacingResponsive5Tablet=Di,_.SpacingResponsive6Mobile=Mi,_.SpacingResponsive6Tablet=$i,_.SpacingResponsive7Mobile=Ii,_.SpacingResponsive7Tablet=Pi,_.SpacingResponsive8Mobile=Li,_.SpacingResponsive8Tablet=Fi,_.SpacingResponsive9Mobile=Bi,_.SpacingResponsive9Tablet=Ai,_.SpacingUtilities=Jg,_.StateDisabledBackground=qp,_.StateDisabledBorder=Xp,_.StateDisabledText=Kp,_.StateErrorBackground=Bp,_.StateErrorBorder=Ap,_.StateErrorText=Ep,_.StateInfoBackground=Gp,_.StateInfoBorder=Vp,_.StateInfoText=Yp,_.StateSuccessBackground=Hp,_.StateSuccessBorder=Rp,_.StateSuccessText=Op,_.StateWarningBackground=zp,_.StateWarningBorder=Wp,_.StateWarningText=Up,_.SummaryCard=wu,_.SummaryList=Rb,_.Table=Dt,_.Tabs=Vb,_.Tag=Ge,_.TaskList=xu,_.Textarea=dc,_.TooltipOverlay=wx,_.TooltipProvider=md,_.TransactionalPageTemplate=$y,_.TransitionButtonDefault=Bd,_.TransitionButtonShadow=Ad,_.TransitionCardHover=Hd,_.TransitionInputFocus=Ed,_.VisibilityProvider=yx,_.VitalsCard=Es,_.WIDTH_FRACTIONS=n0,_.WarningCallout=qb,_.WidthContainer=Rs,_.WidthUtilities=e0,_.checkFrutigerLoaded=jv,_.createGenericTabsConfig=li,_.createTCHTabsConfig=fy,_.generateFrutigerFontFace=kv,_.getResponsiveStyles=rv,_.getSpacingClass=Qg,_.getWidthClass=t0,_.preloadFrutigerFonts=Cv,_.tchDataConfig=Cu,_.useColors=mv,_.useComponentSpacing=yv,_.useNHSHeadings=xv,_.useNHSParagraphs=vv,_.useNHSTheme=c0,_.useNHSTypographySystem=wv,_.useNavigationSplitDrill=Sv,_.useNavigationSplitUrlSync=Ru,_.useNhsFdpBreakpoints=Os,_.useResponsiveSpacing=bv,_.useResponsiveValue=Iy,_.useSpacing=gv,_.useTokens=pv,_.useTypography=_v,Object.defineProperty(_,Symbol.toStringTag,{value:"Module"})}));
//# sourceMappingURL=index.umd.js.map
