(function(w,$){typeof exports=="object"&&typeof module<"u"?$(exports,require("react"),require("react-dom")):typeof define=="function"&&define.amd?define(["exports","react","react-dom"],$):(w=typeof globalThis<"u"?globalThis:w||self,$(w.NHSFDPDesignSystem={},w.React,w.ReactDOM))})(this,(function(w,$,fv){"use strict";function hv(t){const e=Object.create(null,{[Symbol.toStringTag]:{value:"Module"}});if(t){for(const n in t)if(n!=="default"){const r=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(e,n,r.get?r:{enumerable:!0,get:()=>t[n]})}}return e.default=t,Object.freeze(e)}const ie=hv($);function pv(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Zs={exports:{}},go={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yf;function mv(){if(yf)return go;yf=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(r,i,o){var s=null;if(o!==void 0&&(s=""+o),i.key!==void 0&&(s=""+i.key),"key"in i){o={};for(var a in i)a!=="key"&&(o[a]=i[a])}else o=i;return i=o.ref,{$$typeof:t,type:r,key:s,ref:i!==void 0?i:null,props:o}}return go.Fragment=e,go.jsx=n,go.jsxs=n,go}var yo={};/**
 * @license React
 * react-jsx-runtime.development.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bf;function gv(){return bf||(bf=1,process.env.NODE_ENV!=="production"&&(function(){function t(T){if(T==null)return null;if(typeof T=="function")return T.$$typeof===x?null:T.displayName||T.name||null;if(typeof T=="string")return T;switch(T){case m:return"Fragment";case N:return"Profiler";case g:return"StrictMode";case b:return"Suspense";case S:return"SuspenseList";case v:return"Activity"}if(typeof T=="object")switch(typeof T.tag=="number"&&console.error("Received an unexpected object in getComponentNameFromType(). This is likely a bug in React. Please file an issue."),T.$$typeof){case y:return"Portal";case j:return(T.displayName||"Context")+".Provider";case M:return(T._context.displayName||"Context")+".Consumer";case _:var Q=T.render;return T=T.displayName,T||(T=Q.displayName||Q.name||"",T=T!==""?"ForwardRef("+T+")":"ForwardRef"),T;case C:return Q=T.displayName||null,Q!==null?Q:t(T.type)||"Memo";case k:Q=T._payload,T=T._init;try{return t(T(Q))}catch{}}return null}function e(T){return""+T}function n(T){try{e(T);var Q=!1}catch{Q=!0}if(Q){Q=console;var G=Q.error,U=typeof Symbol=="function"&&Symbol.toStringTag&&T[Symbol.toStringTag]||T.constructor.name||"Object";return G.call(Q,"The provided key is an unsupported type %s. This value must be coerced to a string before using it here.",U),e(T)}}function r(T){if(T===m)return"<>";if(typeof T=="object"&&T!==null&&T.$$typeof===k)return"<...>";try{var Q=t(T);return Q?"<"+Q+">":"<...>"}catch{return"<...>"}}function i(){var T=A.A;return T===null?null:T.getOwner()}function o(){return Error("react-stack-top-frame")}function s(T){if(I.call(T,"key")){var Q=Object.getOwnPropertyDescriptor(T,"key").get;if(Q&&Q.isReactWarning)return!1}return T.key!==void 0}function a(T,Q){function G(){L||(L=!0,console.error("%s: `key` is not a prop. Trying to access it will result in `undefined` being returned. If you need to access the same value within the child component, you should pass it as a different prop. (https://react.dev/link/special-props)",Q))}G.isReactWarning=!0,Object.defineProperty(T,"key",{get:G,configurable:!0})}function c(){var T=t(this.type);return D[T]||(D[T]=!0,console.error("Accessing element.ref was removed in React 19. ref is now a regular prop. It will be removed from the JSX Element type in a future release.")),T=this.props.ref,T!==void 0?T:null}function u(T,Q,G,U,ee,z,oe,J){return G=z.ref,T={$$typeof:h,type:T,key:Q,props:z,_owner:ee},(G!==void 0?G:null)!==null?Object.defineProperty(T,"ref",{enumerable:!1,get:c}):Object.defineProperty(T,"ref",{enumerable:!1,value:null}),T._store={},Object.defineProperty(T._store,"validated",{configurable:!1,enumerable:!1,writable:!0,value:0}),Object.defineProperty(T,"_debugInfo",{configurable:!1,enumerable:!1,writable:!0,value:null}),Object.defineProperty(T,"_debugStack",{configurable:!1,enumerable:!1,writable:!0,value:oe}),Object.defineProperty(T,"_debugTask",{configurable:!1,enumerable:!1,writable:!0,value:J}),Object.freeze&&(Object.freeze(T.props),Object.freeze(T)),T}function d(T,Q,G,U,ee,z,oe,J){var re=Q.children;if(re!==void 0)if(U)if(O(re)){for(U=0;U<re.length;U++)f(re[U]);Object.freeze&&Object.freeze(re)}else console.error("React.jsx: Static children should always be an array. You are likely explicitly calling React.jsxs or React.jsxDEV. Use the Babel transform instead.");else f(re);if(I.call(Q,"key")){re=t(T);var te=Object.keys(Q).filter(function(fe){return fe!=="key"});U=0<te.length?"{key: someKey, "+te.join(": ..., ")+": ...}":"{key: someKey}",W[re+U]||(te=0<te.length?"{"+te.join(": ..., ")+": ...}":"{}",console.error(`A props object containing a "key" prop is being spread into JSX:
  let props = %s;
  <%s {...props} />
React keys must be passed directly to JSX without using spread:
  let props = %s;
  <%s key={someKey} {...props} />`,U,re,te,re),W[re+U]=!0)}if(re=null,G!==void 0&&(n(G),re=""+G),s(Q)&&(n(Q.key),re=""+Q.key),"key"in Q){G={};for(var ae in Q)ae!=="key"&&(G[ae]=Q[ae])}else G=Q;return re&&a(G,typeof T=="function"?T.displayName||T.name||"Unknown":T),u(T,re,z,ee,i(),G,oe,J)}function f(T){typeof T=="object"&&T!==null&&T.$$typeof===h&&T._store&&(T._store.validated=1)}var p=$,h=Symbol.for("react.transitional.element"),y=Symbol.for("react.portal"),m=Symbol.for("react.fragment"),g=Symbol.for("react.strict_mode"),N=Symbol.for("react.profiler"),M=Symbol.for("react.consumer"),j=Symbol.for("react.context"),_=Symbol.for("react.forward_ref"),b=Symbol.for("react.suspense"),S=Symbol.for("react.suspense_list"),C=Symbol.for("react.memo"),k=Symbol.for("react.lazy"),v=Symbol.for("react.activity"),x=Symbol.for("react.client.reference"),A=p.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,I=Object.prototype.hasOwnProperty,O=Array.isArray,E=console.createTask?console.createTask:function(){return null};p={react_stack_bottom_frame:function(T){return T()}};var L,D={},F=p.react_stack_bottom_frame.bind(p,o)(),K=E(r(o)),W={};yo.Fragment=m,yo.jsx=function(T,Q,G,U,ee){var z=1e4>A.recentlyCreatedOwnerStacks++;return d(T,Q,G,!1,U,ee,z?Error("react-stack-top-frame"):F,z?E(r(T)):K)},yo.jsxs=function(T,Q,G,U,ee){var z=1e4>A.recentlyCreatedOwnerStacks++;return d(T,Q,G,!0,U,ee,z?Error("react-stack-top-frame"):F,z?E(r(T)):K)}})()),yo}var vf;function yv(){return vf||(vf=1,process.env.NODE_ENV==="production"?Zs.exports=mv():Zs.exports=gv()),Zs.exports}var l=yv(),Yl={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/var xf;function bv(){return xf||(xf=1,(function(t){(function(){var e={}.hasOwnProperty;function n(){for(var o="",s=0;s<arguments.length;s++){var a=arguments[s];a&&(o=i(o,r(a)))}return o}function r(o){if(typeof o=="string"||typeof o=="number")return o;if(typeof o!="object")return"";if(Array.isArray(o))return n.apply(null,o);if(o.toString!==Object.prototype.toString&&!o.toString.toString().includes("[native code]"))return o.toString();var s="";for(var a in o)e.call(o,a)&&o[a]&&(s=i(s,a));return s}function i(o,s){return s?o?o+" "+s:o+s:o}t.exports?(n.default=n,t.exports=n):window.classNames=n})()})(Yl)),Yl.exports}var vv=bv();const Ie=pv(vv),xv=({text:t,href:e,openInNewWindow:n=!1,className:r,...i})=>{const o=Ie("nhsuk-action-link__link",r);return l.jsx("div",{className:"nhsuk-action-link",children:l.jsxs("a",{className:o,href:e,target:n?"_blank":void 0,rel:n?"noopener noreferrer":void 0,...i,children:[l.jsxs("svg",{className:"nhsuk-icon nhsuk-icon__arrow-right-circle",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24","aria-hidden":"true",width:"36",height:"36",children:[l.jsx("path",{d:"M0 0h24v24H0z",fill:"none"}),l.jsx("path",{d:"M12 2a10 10 0 0 0-9.95 9h11.64L9.74 7.05a1 1 0 0 1 1.41-1.41l5.66 5.65a1 1 0 0 1 0 1.42l-5.66 5.65a1 1 0 0 1-1.41 0 1 1 0 0 1 0-1.41L13.69 13H2.05A10 10 0 1 0 12 2z"})]}),l.jsx("span",{className:"nhsuk-action-link__text",children:t})]})})},Vl=({ariaLabel:t="Account",items:e=[],className:n,variant:r="default"})=>{if(!e||e.length===0)return null;const i=o=>{const s=o.icon?l.jsx("svg",{className:"nhsuk-icon nhsuk-icon__user",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24","aria-hidden":"true",focusable:"false",role:"img","aria-label":o.icon===!0?"User":void 0,children:l.jsx("path",{d:"M12 1a11 11 0 1 1 0 22 11 11 0 0 1 0-22Zm0 2a9 9 0 0 0-5 16.5V18a4 4 0 0 1 4-4h2a4 4 0 0 1 4 4v1.5A9 9 0 0 0 12 3Zm0 3a3.5 3.5 0 1 1-3.5 3.5A3.4 3.4 0 0 1 12 6Z"})}):null,a=o.html?l.jsx("span",{dangerouslySetInnerHTML:{__html:o.html}}):o.text,c=l.jsxs(l.Fragment,{children:[s,a]});return o.href?l.jsx("a",{className:"nhsuk-account__link nhsuk-header__account-link",href:o.href,children:c}):o.action?l.jsx("form",{className:"nhsuk-account__form",action:o.action,method:o.method||"post",children:l.jsx("button",{className:"nhsuk-account__button",type:"submit",role:"button",children:c})}):l.jsx("span",{children:c})};return l.jsx("nav",{className:Ie("nhsuk-account",{"nhsuk-account--white":r==="white"},n),"aria-label":t,children:l.jsx("ul",{className:"nhsuk-account__list",children:e.map((o,s)=>o&&l.jsx("li",{className:Ie("nhsuk-account__item nhsuk-header__account-item",o.className),children:i(o)},s))})})};var Zl=(t=>(t.Primary="primary",t.Secondary="secondary",t.Reverse="reverse",t.Warning="warning",t.Login="login",t.Metric="metric",t))(Zl||{}),ql=(t=>(t.Small="small",t.Default="default",t.Large="large",t))(ql||{});function _v(t){const e=t.variant||"primary",n=t.size||"default",r=!!t.fullWidth,i=["nhs-aria-button",`nhs-aria-button--${e}`,n!=="default"?`nhs-aria-button--${n}`:"",r?"nhs-aria-button--full-width":"",t.className||""].filter(Boolean).join(" ");return{tag:t.href?"a":"button",classes:i,data:{module:"nhs-button"},attrs:t.href?{href:t.href,role:"button"}:{type:"button"},preventDoubleClick:!!t.preventDoubleClick}}const{forwardRef:wv,useCallback:Ir,useState:Xl}=ie;function Sv(t,e){const{children:n,variant:r=Zl.Primary,size:i=ql.Default,fullWidth:o=!1,className:s="",preventDoubleClick:a=!1,...c}=t,[u,d]=Xl(!1),[f,p]=Xl(!1),[h,y]=Xl(!1),m=_v({variant:r,size:i,fullWidth:o,className:s,preventDoubleClick:a,href:"href"in c?c.href:void 0}),g="disabled"in c?c.disabled:c["aria-disabled"]==="true",N={...u&&{"data-pressed":"true"},...f&&{"data-hovered":"true"},...h&&{"data-focused":"true"},...g&&{"data-disabled":"true"}},M=Ir(()=>!g&&d(!0),[g]),j=Ir(()=>d(!1),[]),_=Ir(()=>!g&&p(!0),[g]),b=Ir(()=>{p(!1),d(!1)},[]),S=Ir(()=>y(!0),[]),C=Ir(()=>y(!1),[]),k=Ir(re=>{re.key===" "&&("href"in c||re.currentTarget.getAttribute("role")==="button")&&(re.preventDefault(),re.currentTarget.click())},[c]),v=Ir(re=>{if(a){const te=re.currentTarget;if(te.getAttribute("data-processing")==="true"){re.preventDefault();return}te.setAttribute("data-processing","true"),setTimeout(()=>{te.removeAttribute("data-processing")},1e3)}},[a]);if("href"in c&&c.href){const{id:re,style:te,title:ae,["aria-label"]:fe,["aria-describedby"]:q,["aria-labelledby"]:ce,tabIndex:ue,...ge}=c,he=c;return l.jsx("a",{ref:e,href:he.href,target:he.target,rel:he.rel,className:m.classes,role:"button",draggable:"false","data-module":"nhs-button",...N,...a&&{"data-prevent-double-click":"true"},...ge,onKeyDown:V=>{he.onKeyDown?.(V),k(V)},onClick:V=>{he.onClick?.(V),v(V)},onMouseDown:V=>{he.onMouseDown?.(V),M()},onMouseUp:V=>{he.onMouseUp?.(V),j()},onMouseEnter:V=>{he.onMouseEnter?.(V),_()},onMouseLeave:V=>{he.onMouseLeave?.(V),b()},onFocus:V=>{he.onFocus?.(V),S()},onBlur:V=>{he.onBlur?.(V),C()},"aria-disabled":he["aria-disabled"],...he["aria-disabled"]==="true"&&{tabIndex:-1},id:re,style:te,title:ae,"aria-label":fe,"aria-describedby":q,"aria-labelledby":ce,tabIndex:ue,children:n})}const{id:x,style:A,title:I,["aria-label"]:O,["aria-describedby"]:E,["aria-labelledby"]:L,tabIndex:D,name:F,value:K,form:W,formAction:T,formEncType:Q,formMethod:G,formNoValidate:U,formTarget:ee,autoFocus:z,...oe}=c,J=c;return l.jsx("button",{ref:e,type:J.type||"button",disabled:J.disabled,className:m.classes,"data-module":"nhs-button",...N,...a&&{"data-prevent-double-click":"true"},...J.disabled&&{"aria-disabled":"true"},...oe,onKeyDown:re=>{J.onKeyDown?.(re),k(re)},onClick:re=>{J.onClick?.(re),v(re)},onMouseDown:re=>{J.onMouseDown?.(re),M()},onMouseUp:re=>{J.onMouseUp?.(re),j()},onMouseEnter:re=>{J.onMouseEnter?.(re),_()},onMouseLeave:re=>{J.onMouseLeave?.(re),b()},onFocus:re=>{J.onFocus?.(re),S()},onBlur:re=>{J.onBlur?.(re),C()},id:x,style:A,title:I,"aria-label":O,"aria-describedby":E,"aria-labelledby":L,tabIndex:D,name:F,value:K,form:W,formAction:T,formEncType:Q,formMethod:G,formNoValidate:U,formTarget:ee,autoFocus:z,children:n})}const Ht=wv(Sv);Ht.displayName="Button";const Di=({text:t="Back",html:e,href:n="#",className:r,element:i="a",onClick:o,...s})=>{const a=Ie("nhsuk-back-link",r),c=Ie("nhsuk-back-link__link"),u=()=>l.jsxs(l.Fragment,{children:[l.jsx("svg",{className:"nhsuk-icon nhsuk-icon__chevron-left",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24","aria-hidden":"true",height:"24",width:"24",children:l.jsx("path",{d:"M8.5 12c0-.3.1-.5.3-.7l5-5c.4-.4 1-.4 1.4 0s.4 1 0 1.4L10.9 12l4.3 4.3c.4.4.4 1 0 1.4s-1 .4-1.4 0l-5-5c-.2-.2-.3-.4-.3-.7z"})}),e?l.jsx("span",{dangerouslySetInnerHTML:{__html:e}}):t]});return l.jsx("div",{className:a,children:i==="button"?l.jsx("button",{className:c,onClick:o,type:"button",...s,children:u()}):l.jsx("a",{className:c,href:n,...s,children:u()})})};function kv(t){const{color:e="default",noBorder:n,closable:r,disabled:i,className:o}=t;return{classes:["nhsuk-tag",e!=="default"?`nhsuk-tag--${e}`:"",n?"nhsuk-tag--no-border":"",r?"nhsuk-tag--closable":"",i?"nhsuk-tag--disabled":"",o||""].filter(Boolean).join(" "),showClose:!!r,disabled:!!i}}const pt=({text:t,html:e,children:n,color:r="default",noBorder:i=!1,closable:o=!1,onClose:s,disabled:a=!1,className:c,...u})=>{const d=kv({color:r,noBorder:i,closable:o,disabled:a,className:c}),f=p=>{p.preventDefault(),p.stopPropagation(),!a&&s&&s()};return l.jsxs("strong",{className:d.classes,...u,children:[n||(e?l.jsx("span",{dangerouslySetInnerHTML:{__html:e}}):t),o&&l.jsx("button",{type:"button",className:"nhsuk-tag__close",onClick:f,disabled:a,"aria-label":"Remove",title:"Remove",children:"Ã—"})]})},_f=({id:t,name:e,checked:n,defaultChecked:r=!1,disabled:i=!1,value:o="true",hint:s,errorMessage:a,className:c,children:u,onChange:d,onBlur:f,onFocus:p,attributes:h,...y})=>{const[m,g]=$.useState(r),N=n!==void 0,M=N?n:m;$.useEffect(()=>{N||g(r)},[r,N]);const j=k=>{const v=k.target.checked;N||g(v),d?.(v,k)},_=s?`${t}-hint`:void 0,b=a?`${t}-error`:void 0,S=[_,b].filter(Boolean).join(" ")||void 0,C=Ie("nhsuk-form-group",{"nhsuk-form-group--error":!!a},c);return l.jsx("div",{className:C,...y,children:l.jsx("div",{className:"nhsuk-checkboxes",children:l.jsxs("div",{className:"nhsuk-checkboxes__item",children:[l.jsx("input",{className:"nhsuk-checkboxes__input",id:t,name:e||t,type:"checkbox",value:o,checked:M,disabled:i,onChange:j,onBlur:f,onFocus:p,"aria-describedby":S,...h}),l.jsx("label",{className:"nhsuk-checkboxes__label",htmlFor:t,children:u}),s&&l.jsx("div",{id:_,className:"nhsuk-checkboxes__hint",children:s}),a&&l.jsxs("div",{id:b,className:"nhsuk-error-message nhsuk-checkboxes__error",children:[l.jsx("span",{className:"nhsuk-u-visually-hidden",children:"Error:"})," ",a]})]})})})};_f.displayName="Checkbox";function wf(t){const n=(t.type||"text")==="range";return{classes:["nhsuk-input",t.hasError?"nhsuk-input--error":"",n?"nhsuk-input--range":"",!n&&t.width&&t.width!=="full"?`nhsuk-input--width-${t.width}`:"",t.className||""].filter(Boolean).join(" "),isRange:n}}const qs=({id:t,name:e,type:n="text",value:r,defaultValue:i,placeholder:o,disabled:s=!1,readOnly:a=!1,required:c=!1,hasError:u=!1,describedBy:d,className:f,width:p="full",inputMode:h,autoComplete:y,maxLength:m,minLength:g,pattern:N,step:M,min:j,max:_,showValueLabels:b=!1,showCurrentValue:S=!1,valueLabels:C,onChange:k,onBlur:v,onFocus:x,onKeyDown:A,...I})=>{const[O,E]=$.useState(r||i||(n==="range"?j||"0":""));$.useEffect(()=>{r!==void 0&&E(r)},[r]);const L=ee=>{const z=ee.target;E(z.value),("type"in ee&&ee.nativeEvent||ee.type==="keydown")&&k?.(ee)},{classes:D,isRange:F}=wf({type:n,hasError:u,width:p,className:f}),K=r!==void 0,W={id:t,name:e,type:n,placeholder:o,disabled:s,readOnly:a,required:c,"aria-describedby":d,inputMode:h,autoComplete:y,maxLength:m,minLength:g,pattern:N,step:M,min:j,max:_,onChange:L,onBlur:v,onFocus:x,onKeyDown:ee=>{if(F&&/[0-9]/.test(ee.key)){const z=(O?.toString()||"")+ee.key;ee.target.value=z,L(ee)}A?.(ee)},...I},T=!K&&i!==void 0?{defaultValue:i}:{},Q=K?{value:r}:{},G=()=>l.jsx("input",{className:D,...Q,...T,"data-current-value":O,...W}),U=F?l.jsxs("div",{className:"nhsuk-input-range-wrapper",children:[b&&l.jsxs("div",{className:"nhsuk-input-range-labels",children:[l.jsx("span",{className:"nhsuk-input-range-label nhsuk-input-range-label--min",children:C?.min||j||"0"}),G(),l.jsx("span",{className:"nhsuk-input-range-label nhsuk-input-range-label--max",children:C?.max||_||"100"})]}),!b&&G(),S&&l.jsx("div",{className:"nhsuk-input-range-current-value",children:l.jsxs("span",{className:"nhsuk-input-range-current-label",children:[C?.current||"Current value:"," ",l.jsx("strong",{children:O})]})})]}):null;return F?U:l.jsx("input",{className:D,id:t,name:e,type:n,value:r,...r===void 0&&i!==void 0?{defaultValue:i}:{},placeholder:o,disabled:s,readOnly:a,required:c,"aria-describedby":d,inputMode:h,autoComplete:y,maxLength:m,minLength:g,pattern:N,step:M,min:j,max:_,onChange:k,onBlur:v,onFocus:x,onKeyDown:A,...I})};function Cv(t){const e=t.size||"m",n=["nhsuk-label",e!=="m"?`nhsuk-label--${e}`:"",t.className||""].filter(Boolean).join(" ");return{tag:t.isPageHeading?"h1":"label",classes:n,size:e,htmlFor:t.isPageHeading?void 0:t.htmlFor,isPageHeading:!!t.isPageHeading}}const Xs=({htmlFor:t,className:e,isPageHeading:n=!1,size:r="m",children:i,...o})=>{const s=Cv({size:r,isPageHeading:n,className:e,htmlFor:t}),a=s.tag;return l.jsx(a,{className:s.classes,htmlFor:s.htmlFor,...o,children:n?l.jsx("label",{className:"nhsuk-label-wrapper",htmlFor:t,children:i}):i})};function Nv(t){const e=["nhsuk-fieldset",t.className||""].filter(Boolean).join(" "),n=t.legend?["nhsuk-fieldset__legend",t.legend.size?`nhsuk-fieldset__legend--${t.legend.size}`:"",t.legend.className||""].filter(Boolean).join(" "):void 0;return{fieldsetClasses:e,legendClasses:n,legendIsPageHeading:!!t.legend?.isPageHeading,describedBy:t.describedBy}}const Js=({children:t,legend:e,className:n,describedBy:r,...i})=>{const o=Nv({className:n,describedBy:r,legend:e?{size:e.size,className:e.className,isPageHeading:e.isPageHeading}:void 0}),s=()=>{const a=e?.html?l.jsx("span",{dangerouslySetInnerHTML:{__html:e.html}}):e?.text;return o.legendIsPageHeading?l.jsx("h1",{className:"nhsuk-fieldset__heading",children:a}):a};return l.jsxs("fieldset",{className:o.fieldsetClasses,"aria-describedby":o.describedBy,...i,children:[e&&(e.text||e.html)&&l.jsx("legend",{className:o.legendClasses,children:s()}),t]})};function Mv(t){const e=["nhsuk-checkboxes",t.small?"nhsuk-checkboxes--small":"",t.className||""].filter(Boolean).join(" "),n=["nhsuk-form-group",t.hasError?"nhsuk-form-group--error":""].filter(Boolean).join(" ");return{classes:e,formGroupClasses:n}}const Sf=({items:t,name:e,idPrefix:n,legend:r,isPageHeading:i=!1,legendSize:o="l",hint:s,errorMessage:a,className:c="",small:u=!1,onChange:d,fieldsetAttributes:f,attributes:p,...h})=>{const[y,m]=$.useState(t.filter(k=>k.checked).map(k=>k.value)),g=n||e,N=s?`${g}-hint`:void 0,M=a?`${g}-error`:void 0,j=[N,M].filter(Boolean).join(" ")||void 0,_=(k,v)=>{let x;v?x=[...y,k]:x=y.filter(A=>A!==k),m(x),d?.(x)},b=()=>t.map((k,v)=>{const x=`${g}-${v+1}`,A=`${x}-conditional`,I=y.includes(k.value),O=k.disabled||!1;return l.jsxs("div",{className:"nhsuk-checkboxes__item",children:[l.jsx("input",{className:"nhsuk-checkboxes__input",id:x,name:e,type:"checkbox",value:k.value,checked:I,disabled:O,onChange:E=>_(k.value,E.target.checked),"aria-describedby":k.hint?`${x}-hint`:j,...k.conditional&&{"aria-controls":A,"aria-expanded":I?"true":"false"},...k.attributes}),l.jsx("label",{className:"nhsuk-checkboxes__label",htmlFor:x,children:k.text}),k.hint&&l.jsx("div",{id:`${x}-hint`,className:"nhsuk-checkboxes__hint",children:k.hint}),k.conditional&&l.jsx("div",{className:Ie("nhsuk-checkboxes__conditional",{"nhsuk-checkboxes__conditional--hidden":!I}),id:A,children:typeof k.conditional=="object"&&k.conditional!==null&&"label"in k.conditional&&"id"in k.conditional&&"name"in k.conditional?l.jsxs("div",{style:{marginTop:"16px"},children:[k.conditional.label&&l.jsx(Xs,{htmlFor:k.conditional.id,children:k.conditional.label}),l.jsx(qs,{...k.conditional})]}):k.conditional})]},k.value)}),{classes:S,formGroupClasses:C}=Mv({small:u,className:c,hasError:!!a});return l.jsx("div",{className:C,...p,...h,children:l.jsxs(Js,{legend:r?{text:r,isPageHeading:i,size:o}:void 0,describedBy:j,...f,children:[s&&l.jsx("div",{id:N,className:"nhsuk-hint",children:s}),a&&l.jsxs("div",{id:M,className:"nhsuk-error-message",children:[l.jsx("span",{className:"nhsuk-u-visually-hidden",children:"Error:"})," ",a]}),l.jsx("div",{className:S,children:b()})]})})};Sf.displayName="Checkboxes";function Tv(t){const e=t.resize??"vertical";return{classes:["nhsuk-textarea",t.hasError?"nhsuk-textarea--error":"",e!=="vertical"?`nhsuk-textarea--resize-${e}`:"",t.className||""].filter(Boolean).join(" "),describedBy:t.describedBy}}const kf=({id:t,name:e,value:n,defaultValue:r,placeholder:i,disabled:o=!1,readOnly:s=!1,required:a=!1,hasError:c=!1,describedBy:u,className:d,rows:f=5,cols:p,maxLength:h,minLength:y,wrap:m="soft",resize:g="vertical",autoComplete:N,spellCheck:M,onChange:j,onBlur:_,onFocus:b,onKeyDown:S,...C})=>{const{classes:k,describedBy:v}=Tv({hasError:c,resize:g,className:d,describedBy:u});return l.jsx("textarea",{className:k,id:t,name:e,value:n,defaultValue:r,placeholder:i,disabled:o,readOnly:s,required:a,"aria-describedby":v,rows:f,cols:p,maxLength:h,minLength:y,wrap:m,autoComplete:N,spellCheck:M,onChange:j,onBlur:_,onFocus:b,onKeyDown:S,...C})};function jv(t){return{classes:["nhsuk-hint",t.className||""].filter(Boolean).join(" "),id:t.id}}const Jl=({id:t,className:e,children:n,...r})=>{const i=jv({id:t,className:e});return l.jsx("div",{className:i.classes,id:i.id,...r,children:n})},Dv=({id:t,maxLength:e,maxWords:n,threshold:r=75,name:i,value:o,defaultValue:s,rows:a,className:c,countMessage:u,onCountChange:d,onChange:f,...p})=>{const h=o??s??"",[y,m]=$.useState(h),[g,N]=$.useState(0),[M,j]=$.useState(!1),[_,b]=$.useState(!1),S=$.useCallback(I=>n?I.trim()===""?0:I.trim().split(/\s+/).length:I.length,[n]);$.useEffect(()=>{const I=S(y),O=e||n||0,E=O-I,L=Math.floor(O*(r/100));N(E),j(I>O),b(I>=L||I>O),d&&d(I,E)},[y,e,n,r,S,d]);const C=I=>{const O=I.target.value;m(O),f&&f(I)},k=()=>{const I=e||n||0,O=n?"word":"character",E=n?"words":"characters";if(!_)return`You can enter up to ${I} ${I===1?O:E}`;if(M){const L=Math.abs(g);return`You have ${L} ${L===1?O:E} too many`}else return`You have ${g} ${g===1?O:E} remaining`},v=Ie("nhsuk-character-count",c),x=Ie("nhsuk-character-count__message",{"nhsuk-character-count__message--disabled":!_,"nhsuk-error-message":M},u?.classes),A=Ie("nhsuk-js-character-count",{"nhsuk-textarea--error":M});return l.jsxs("div",{className:v,"data-module":"nhsuk-character-count","data-maxlength":e,"data-maxwords":n,"data-threshold":r,"data-testid":"character-count",children:[l.jsx(kf,{id:t,name:i,value:o!==void 0?y:void 0,defaultValue:o===void 0?s??y:void 0,rows:a,className:A,onChange:C,"aria-describedby":`${t}-info`,"aria-invalid":M||void 0,...p}),l.jsx(Jl,{id:`${t}-info`,className:x,role:"status","aria-live":"polite",children:k()})]})};function Iv(t){return{classes:["nhsuk-select",t.hasError?"nhsuk-select--error":"",t.className||""].filter(Boolean).join(" ")}}const Cf=({value:t,disabled:e=!1,selected:n=!1,className:r,children:i,...o})=>{const s=Ie("nhsuk-select__option",r);return l.jsx("option",{className:s,value:t,disabled:e,...o,children:i})},bo=({id:t,name:e,ariaLabel:n,value:r,defaultValue:i,disabled:o=!1,required:s=!1,hasError:a=!1,describedBy:c,className:u,multiple:d=!1,size:f,autoComplete:p,options:h,children:y,onChange:m,onBlur:g,onFocus:N,...M})=>{const{classes:j}=Iv({hasError:a,className:u}),_=()=>h?h.map((S,C)=>l.jsx("option",{value:S.value,disabled:S.disabled,"data-initial-selected":S.selected||void 0,children:S.text},`${S.value}-${C}`)):null,b=i===void 0&&r===void 0&&h?h.find(S=>S.selected)?.value:void 0;return l.jsx("select",{className:j,id:t,name:e,"aria-label":n,value:r,defaultValue:i!==void 0?i:b,disabled:o,required:s,"aria-describedby":c,multiple:d,size:f,autoComplete:p,onChange:m,onBlur:g,onFocus:N,...M,children:y||_()})};bo.Option=Cf;function Lv(t){return{classes:["nhsuk-radios",t.hasError?"nhsuk-radios--error":"",t.size==="small"?"nhsuk-radios--small":"",t.inline?"nhsuk-radios--inline":"",t.className||""].filter(Boolean).join(" "),describedBy:t.describedBy}}function Nf(t,{variant:e,selectedValue:n,enableBehaviourAttr:r,handleChange:i,handleBlur:o,handleFocus:s,handleKeyDown:a,itemsRef:c,InputComponent:u}){const{onChange:d,onBlur:f,onFocus:p,...h}=t,{name:y,hasError:m=!1,describedBy:g,className:N,size:M="normal",inline:j=!1,options:_,...b}=h,{classes:S,describedBy:C}=Lv({hasError:m,size:M,inline:j,className:N,describedBy:g});return l.jsx(Js,{children:l.jsx("div",{className:S,...b,...r?{"data-nhs-behaviour":"radios"}:{},children:_.map((k,v)=>{const x=`${y}-${v}`,A=k.conditional?`${x}-conditional`:void 0,I=n===k.value;return l.jsxs("div",{className:"nhsuk-radios__item",children:[l.jsx("input",{className:"nhsuk-radios__input",id:x,name:y,type:"radio",value:k.value,disabled:k.disabled,...e==="client"?{checked:I,onChange:i,onBlur:o,onFocus:s,onKeyDown:a,ref:O=>{O&&c&&(c.current[v]=O)}}:{defaultChecked:I,"data-nhs-radios-input":!0},"aria-describedby":C}),l.jsx("label",{className:"nhsuk-radios__label",htmlFor:x,children:k.text}),k.hint&&l.jsx("div",{className:"nhsuk-radios__hint",children:k.hint}),k.conditional&&l.jsx("div",{className:Ie("nhsuk-radios__conditional",{"nhsuk-radios__conditional--hidden":!I}),id:A,...e==="server"?{"data-nhs-radios-conditional":!0}:{},children:typeof k.conditional=="object"&&k.conditional!==null&&"label"in k.conditional&&"id"in k.conditional&&"name"in k.conditional?l.jsxs("div",{style:{marginTop:"16px"},children:[k.conditional.label&&l.jsx(Xs,{htmlFor:k.conditional.id,children:k.conditional.label}),l.jsx(u,{...k.conditional})]}):k.conditional})]},k.value)})})})}const Pv=({value:t,defaultValue:e,onChange:n,onBlur:r,onFocus:i,...o})=>{const[s,a]=$.useState(t||e||""),c=$.useRef([]),u=$.useRef(s),d=h=>{const y=h.target.value;y!==u.current&&(u.current=y,a(y),n?.(h))},f=h=>{i?.(h)},p=$.useCallback(h=>{const{key:y}=h;if(!["ArrowDown","ArrowUp","ArrowRight","ArrowLeft"].includes(y))return;h.preventDefault();const m=c.current.filter(j=>j&&!j.disabled),g=m.indexOf(h.currentTarget);if(g===-1)return;let N=g;["ArrowDown","ArrowRight"].includes(y)?N=(g+1)%m.length:["ArrowUp","ArrowLeft"].includes(y)&&(N=(g-1+m.length)%m.length);const M=m[N];M&&(M.focus(),M.checked||M.click())},[]);return Nf({value:t,defaultValue:e,onChange:n,onBlur:r,onFocus:i,...o},{variant:"client",selectedValue:s,enableBehaviourAttr:!1,handleChange:d,handleBlur:r,handleFocus:f,handleKeyDown:p,itemsRef:c,InputComponent:qs})};function Av(t){const{id:e,name:n,type:r="text",value:i,defaultValue:o,placeholder:s,disabled:a=!1,readOnly:c=!1,required:u=!1,hasError:d=!1,describedBy:f,className:p,width:h="full",inputMode:y,autoComplete:m,maxLength:g,minLength:N,pattern:M,step:j,min:_,max:b,showValueLabels:S=!1,showCurrentValue:C=!1,valueLabels:k,onChange:v,onBlur:x,onFocus:A,onKeyDown:I,...O}=t,{classes:E,isRange:L}=wf({type:r,hasError:d,width:h,className:p}),D={id:e,name:n,type:r,placeholder:s,disabled:a,readOnly:c,required:u,"aria-describedby":f,inputMode:y,autoComplete:m,maxLength:g,minLength:N,pattern:M,step:j,min:_,max:b,...O};if(L){const F=i??o??(typeof _<"u"?String(_):"0"),K=l.jsx("input",{className:E,...i!==void 0?{value:i}:{},...i===void 0&&o!==void 0?{defaultValue:o}:{},"data-current-value":F,...D});return l.jsxs("div",{className:"nhsuk-input-range-wrapper",children:[S?l.jsxs("div",{className:"nhsuk-input-range-labels",children:[l.jsx("span",{className:"nhsuk-input-range-label nhsuk-input-range-label--min",children:k?.min||_||"0"}),K,l.jsx("span",{className:"nhsuk-input-range-label nhsuk-input-range-label--max",children:k?.max||b||"100"})]}):K,C&&l.jsx("div",{className:"nhsuk-input-range-current-value",children:l.jsxs("span",{className:"nhsuk-input-range-current-label",children:[k?.current||"Current value:"," ",l.jsx("strong",{children:F})]})})]})}return l.jsx("input",{className:E,...i!==void 0?{value:i}:{},...i===void 0&&o!==void 0?{defaultValue:o}:{},...D})}const Ev=({value:t,defaultValue:e,...n})=>{const r=t||e||"";return Nf({value:t,defaultValue:e,...n},{variant:"server",selectedValue:r,enableBehaviourAttr:!0,InputComponent:Av})};var Lr=(t=>(t.OneQuarter="one-quarter",t.OneThird="one-third",t.OneHalf="one-half",t.TwoThirds="two-thirds",t.ThreeQuarters="three-quarters",t.Full="full",t))(Lr||{}),Mf=(t=>(t.Mobile="mobile",t.Tablet="tablet",t.Desktop="desktop",t.LargeDesktop="large-desktop",t))(Mf||{}),Tf=(t=>(t.Left="left",t.Right="right",t))(Tf||{}),jf=(t=>(t.Left="left",t.Center="center",t.Right="right",t))(jf||{});const Kl=({children:t,className:e,fluid:n=!1,maxWidth:r,style:i,...o})=>{const s=Ie({"nhsuk-width-container":!n,"nhsuk-width-container-fluid":n},e),a=r?{maxWidth:r,...i||{}}:i;return l.jsx("div",{className:s,style:a,...o,children:t})},pr=({children:t,className:e,style:n,align:r,rowGap:i,...o})=>{const s=Ie("nhsuk-grid-row",r?`nhsuk-grid-row-align-${r}`:void 0,e);return l.jsx("div",{className:s,style:n,...o,children:t})},Ii=({children:t,width:e=Lr.Full,mobileWidth:n,tabletWidth:r,desktopWidth:i,start:o,className:s,forceWidth:a=!1,style:c,align:u,...d})=>{const f=Ie({[`nhsuk-grid-column-${e}`]:!a,[`nhsuk-u-${e}`]:a,[`nhsuk-u-${n}-mobile`]:!!n,[`nhsuk-u-${r}-tablet`]:!!r,[`nhsuk-u-${i}-desktop`]:!!i,[`nhsuk-grid-column-start-${o}`]:o&&o>=1&&o<=7,...u?{[`nhsuk-grid-align-${u}`]:!0}:{}},s);return l.jsx("div",{className:f,style:c,...d,children:t})},Ks=({children:t,className:e,style:n,rowGap:r=8,...i})=>{const o=$.Children.toArray(t),s=o[0],a=$.isValidElement(s)&&(s.type===pr||typeof s.props=="object"&&s.props&&"className"in s.props&&typeof s.props.className=="string"&&s.props.className.includes("nhsuk-grid-row")),c=typeof r=="number"?`${r}px`:r;let u=t;if(a)u=o.map((d,f)=>{if(!$.isValidElement(d))return d;const p=d,h=p.props||{},y=typeof h.className=="string"?h.className:"";if(!(p.type===pr||y.includes("nhsuk-grid-row")))return d;const g=h.rowGap,N=g!==void 0?typeof g=="number"?`${g}px`:g:c,M=f===0?void 0:N;if(!M)return d;const j={...h.style||{},marginTop:M};return $.cloneElement(p,{style:j})});else{const d={marginTop:void 0};u=l.jsx(pr,{style:d,children:t})}return l.jsx(Kl,{className:e,style:n,...i,children:u})},Fv=({children:t,type:e="bullet",size:n="medium",border:r=!1,className:i,role:o,as:s,...a})=>{const c=s||(e==="number"?"ol":"ul"),u=Ie("nhsuk-list",{"nhsuk-list--bullet":e==="bullet","nhsuk-list--number":e==="number","nhsuk-list--none":e==="none","nhsuk-list--border":r,[`nhsuk-list--${n}`]:n!=="medium"},i);return l.jsx(c,{className:u,role:o,...a,children:t})},$v=({children:t,className:e,...n})=>{const r=Ie("nhsuk-list__item",e);return l.jsx("li",{className:r,...n,children:t})},Df=Fv;Df.Item=$v;const Bv=({debug:t=!1,className:e,children:n,...r})=>{if(!n)return null;const i=["nhsuk-spacing-utilities",t&&"nhsuk-spacing-utilities--debug",e].filter(Boolean).join(" ");return l.jsx("div",{className:i,...r,children:n})},Ov={margin:t=>`nhsuk-u-margin-${t}`,marginTop:t=>`nhsuk-u-margin-top-${t}`,marginRight:t=>`nhsuk-u-margin-right-${t}`,marginBottom:t=>`nhsuk-u-margin-bottom-${t}`,marginLeft:t=>`nhsuk-u-margin-left-${t}`,padding:t=>`nhsuk-u-padding-${t}`,paddingTop:t=>`nhsuk-u-padding-top-${t}`,paddingRight:t=>`nhsuk-u-padding-right-${t}`,paddingBottom:t=>`nhsuk-u-padding-bottom-${t}`,paddingLeft:t=>`nhsuk-u-padding-left-${t}`,marginResponsive:t=>`nhsuk-u-margin-responsive-${t}`,marginTopResponsive:t=>`nhsuk-u-margin-top-responsive-${t}`,marginRightResponsive:t=>`nhsuk-u-margin-right-responsive-${t}`,marginBottomResponsive:t=>`nhsuk-u-margin-bottom-responsive-${t}`,marginLeftResponsive:t=>`nhsuk-u-margin-left-responsive-${t}`,paddingResponsive:t=>`nhsuk-u-padding-responsive-${t}`,paddingTopResponsive:t=>`nhsuk-u-padding-top-responsive-${t}`,paddingRightResponsive:t=>`nhsuk-u-padding-right-responsive-${t}`,paddingBottomResponsive:t=>`nhsuk-u-padding-bottom-responsive-${t}`,paddingLeftResponsive:t=>`nhsuk-u-padding-left-responsive-${t}`},Rv=({debug:t=!1,className:e,children:n,...r})=>{if(!n)return null;const i=["nhsuk-width-utilities",t&&"nhsuk-width-utilities--debug",e].filter(Boolean).join(" ");return l.jsx("div",{className:i,...r,children:n})},zv={width:t=>`nhsuk-u-width-${t}`,widthTablet:t=>`nhsuk-u-width-${t}-tablet`},Hv=["full","three-quarters","two-thirds","one-half","one-third","one-quarter"],Ql=({as:t="main",size:e="default",className:n,children:r,...i})=>{const o=["nhsuk-main-wrapper",e==="large"&&"nhsuk-main-wrapper--l",e==="small"&&"nhsuk-main-wrapper--s",n].filter(Boolean).join(" ");return l.jsx(t,{className:o,...i,children:r})};function Uv(t){switch(t){case"xxl":case"xl":return 1;case"l":return 2;case"m":return 3;case"s":return 4;case"xs":return 5;default:return 2}}function Wv(t){const e=t.level??Uv(t.size),n=["nhsuk-heading",t.size?`nhsuk-heading--${t.size}`:"",t.className||""].filter(Boolean).join(" "),r=t.marginBottom?{marginBottom:t.marginBottom}:void 0;return{tag:`h${e}`,classes:n,style:r}}const Gn=({level:t,className:e,text:n,html:r,children:i,size:o,marginBottom:s,...a})=>{const c=Wv({level:t,size:o,className:e,marginBottom:s}),u=i||(r?l.jsx("span",{dangerouslySetInnerHTML:{__html:r}}):n);return $.createElement(c.tag,{className:c.classes,style:c.style,...a},u)};function Gv(t){return{classes:["nhsuk-error-message",t.className||""].filter(Boolean).join(" "),id:t.id,visuallyHiddenText:t.visuallyHiddenText??"Error:"}}const ec=({id:t,className:e,visuallyHiddenText:n="Error:",children:r,...i})=>{const o=Gv({id:t,className:e,visuallyHiddenText:n});return l.jsxs("span",{className:o.classes,id:o.id,...i,children:[l.jsxs("span",{className:"nhsuk-u-visually-hidden",children:[o.visuallyHiddenText," "]}),r]})},Yv=({titleText:t="There is a problem",titleHtml:e,descriptionText:n,descriptionHtml:r,errorList:i,className:o,children:s,...a})=>{const c=$.useRef(null);$.useEffect(()=>{c.current&&c.current.focus()},[]);const u=Ie("nhsuk-error-summary",o),d=()=>e?l.jsx("span",{dangerouslySetInnerHTML:{__html:e}}):t,f=()=>r?l.jsx("span",{dangerouslySetInnerHTML:{__html:r}}):n,p=h=>{const y=h.html?l.jsx("span",{dangerouslySetInnerHTML:{__html:h.html}}):h.text;return h.href?l.jsx("a",{href:h.href,...h.attributes,children:y}):y};return l.jsxs("div",{ref:c,className:u,"aria-labelledby":"error-summary-title",role:"alert",tabIndex:-1,"data-module":"nhsuk-error-summary",...a,children:[l.jsx("h2",{className:"nhsuk-error-summary__title",id:"error-summary-title",children:d()}),l.jsxs("div",{className:"nhsuk-error-summary__body",children:[s&&l.jsx("div",{className:"nhsuk-error-summary__description","data-role":"description",children:s}),!s&&(n||r)&&l.jsx("div",{className:"nhsuk-error-summary__description","data-role":"description",children:f()}),l.jsx("ul",{className:"nhsuk-list nhsuk-error-summary__list",role:"list",children:i.map((h,y)=>l.jsx("li",{children:p(h)},y))})]})]})},Vv=({id:t,className:e,items:n,namePrefix:r,values:i={},fieldset:o,hint:s,errorMessage:a,onChange:c,...u})=>{const[d,f]=$.useState(()=>({day:i.day||"",month:i.month||"",year:i.year||""})),[p,h]=$.useState({}),y=L=>L%4===0&&L%100!==0||L%400===0,m=(L,D)=>{const F=[31,28,31,30,31,30,31,31,30,31,30,31];return L===2&&y(D)?29:F[L-1]},g=(L,D,F)=>{if(!L)return;if(!/^\d+$/.test(L))return"Day must be a number";const K=parseInt(L,10);if(K<1||K>31)return"Day must be between 1 and 31";if(D&&F){const W=parseInt(D,10),T=parseInt(F,10);if(!isNaN(W)&&!isNaN(T)&&W>=1&&W<=12){const Q=m(W,T);if(K>Q)return`${["January","February","March","April","May","June","July","August","September","October","November","December"][W-1]} ${T} only has ${Q} days`}}},N=L=>{if(!L)return;if(!/^\d+$/.test(L))return"Month must be a number";const D=parseInt(L,10);if(D<1||D>12)return"Month must be between 1 and 12"},M=L=>{if(!L)return;if(!/^\d+$/.test(L))return"Year must be a number";const D=parseInt(L,10),F=new Date().getFullYear();if(D<1900||D>F+10)return`Year must be between 1900 and ${F+10}`},j=(L,D,F)=>{if(!L||!D||!F)return;const K=parseInt(L,10),W=parseInt(D,10),T=parseInt(F,10);if(isNaN(K)||isNaN(W)||isNaN(T)||W<1||W>12||T<1900)return;const Q=m(W,T);K<1||K>Q},_=$.useCallback((L,D)=>{const F={...d,[L]:D};f(F),c&&c(F)},[d,c]),b=$.useCallback(L=>{const D=d[L];let F;if(L==="day")F=g(D,d.month,d.year);else if(L==="month"){if(F=N(D),!F&&d.day){const K=g(d.day,D,d.year);h(W=>({...W,day:K}))}}else if(L==="year"&&(F=M(D),!F&&d.day&&d.month)){const K=g(d.day,d.month,D);h(W=>({...W,day:K}))}if(h(K=>({...K,[L]:F})),d.day&&d.month&&d.year){const K=j(L==="day"?D:d.day,L==="month"?D:d.month,L==="year"?D:d.year);K&&h(W=>({...W,day:K}))}},[d,g,N,M,j]),S=$.useMemo(()=>[{name:"day",classes:"nhsuk-input--width-2",inputmode:"numeric",pattern:"[0-9]*"},{name:"month",classes:"nhsuk-input--width-2",inputmode:"numeric",pattern:"[0-9]*"},{name:"year",classes:"nhsuk-input--width-4",inputmode:"numeric",pattern:"[0-9]*"}],[]),C=n||S;let k=o?.describedBy||"";const v=s?`${t}-hint`:"",x=a?`${t}-error`:"";v&&(k=k?`${k} ${v}`:v),x&&(k=k?`${k} ${x}`:x);const A=Object.values(p).some(L=>L),I=Ie("nhsuk-form-group",{"nhsuk-form-group--error":a||A}),O=Ie("nhsuk-date-input",e),E=()=>l.jsxs(l.Fragment,{children:[s&&l.jsx(Jl,{id:v,className:s.classes,children:s.html?l.jsx("span",{dangerouslySetInnerHTML:{__html:s.html}}):s.text}),a&&l.jsx(ec,{id:x,className:a.classes,children:a.html?l.jsx("span",{dangerouslySetInnerHTML:{__html:a.html}}):a.text}),Object.entries(p).map(([L,D])=>D?l.jsxs(ec,{id:`${t}-${L}-error`,className:"nhsuk-error-message",children:[l.jsx("span",{className:"nhsuk-u-visually-hidden",children:"Error:"})," ",D]},`${L}-error`):null),l.jsx("div",{className:O,id:t,"data-testid":"date-input",...u,children:C.map(L=>{const D=L.id||`${t}-${L.name}`,F=r?`${r}[${L.name}]`:L.name,K=L.label||L.name.charAt(0).toUpperCase()+L.name.slice(1),W=p[L.name],T=d[L.name]||"";let Q=k;if(W){const G=`${t}-${L.name}-error`;Q=Q?`${Q} ${G}`:G}return l.jsxs("div",{className:"nhsuk-date-input__item",children:[l.jsx(Xs,{htmlFor:D,className:"nhsuk-date-input__label",children:K}),l.jsx(qs,{id:D,name:F,value:T,className:Ie("nhsuk-date-input__input",L.classes,{"nhsuk-input--error":W}),inputMode:L.inputmode,autoComplete:L.autocomplete,pattern:L.pattern,"aria-describedby":Q||void 0,hasError:!!W,onChange:G=>_(L.name,G.target.value),onBlur:()=>b(L.name)})]},L.name)})})]});return l.jsx("div",{className:I,children:o?l.jsx(Js,{className:o.classes,legend:o.legend?{text:o.legend}:void 0,describedBy:k||void 0,children:E()}):E()})},If={animation:{AnimationDurationFast:"150ms",AnimationDurationNormal:"300ms",AnimationDurationSlow:"500ms",AnimationEasingEaseIn:"cubic-bezier(0.4, 0, 1, 1)",AnimationEasingEaseOut:"cubic-bezier(0, 0, 0.2, 1)",AnimationEasingEaseInOut:"cubic-bezier(0.4, 0, 0.2, 1)",AnimationEasingBounce:"cubic-bezier(0.68, -0.55, 0.265, 1.55)"},transition:{TransitionButtonDefault:"background-color 300ms cubic-bezier(0, 0, 0.2, 1)",TransitionButtonShadow:"box-shadow 150ms cubic-bezier(0, 0, 0.2, 1)",TransitionInputFocus:"border-color 150ms cubic-bezier(0, 0, 0.2, 1), box-shadow 150ms cubic-bezier(0, 0, 0.2, 1)",TransitionCardHover:"border-color 300ms cubic-bezier(0, 0, 0.2, 1)"},border:{BorderWidthDefault:"1px",BorderWidthFormElement:"2px",BorderWidthFormElementError:"4px",BorderWidthCardBottom:"4px",BorderWidthPanel:"4px",BorderWidthTableHeader:"2px",BorderWidthTableCell:"1px",BorderRadiusNone:"0px",BorderRadiusSmall:"4px",BorderRadiusMedium:"8px",BorderRadiusLarge:"12px",BorderColorDefault:"#d8dde0",BorderColorForm:"#4c6272",BorderColorCard:"#d8dde0",BorderColorCardHover:"#aeb7bd",BorderColorError:"#d5281b"},color:{ColorPrimaryBlue:"#005eb8",ColorPrimaryWhite:"#ffffff",ColorPrimaryBlack:"#212b32",ColorPrimaryGreen:"#007f3b",ColorPrimaryPurple:"#330072",ColorPrimaryDarkPink:"#7c2855",ColorPrimaryRed:"#d5281b",ColorPrimaryYellow:"#ffeb3b",ColorSecondaryPaleYellow:"#fff9c4",ColorSecondaryWarmYellow:"#ffb81c",ColorSecondaryOrange:"#ed8b00",ColorSecondaryAquaGreen:"#00a499",ColorSecondaryPink:"#ae2573",ColorGrey1:"#4c6272",ColorGrey2:"#768692",ColorGrey3:"#aeb7bd",ColorGrey4:"#d8dde0",ColorGrey5:"#f0f4f5",ColorTextPrimary:"#212b32",ColorTextSecondary:"#4c6272",ColorTextReverse:"#ffffff",ColorTextPrint:"#212b32",ColorLinkDefault:"#005eb8",ColorLinkHover:"#7c2855",ColorLinkActive:"#003087",ColorLinkVisited:"#330072",ColorFocusBackground:"#ffeb3b",ColorFocusText:"#212b32",ColorBorderDefault:"#d8dde0",ColorBorderSecondary:"#ffffff33",ColorError:"#d5281b",ColorFormBorder:"#4c6272",ColorFormBackground:"#ffffff",ColorButtonPrimaryBackground:"#007f3b",ColorButtonPrimaryText:"#ffffff",ColorButtonPrimaryHover:"#006530",ColorButtonPrimaryActive:"#004021",ColorButtonPrimaryShadow:"#004021",ColorButtonSecondaryBackground:"#00000000",ColorButtonSecondaryBackgroundSolid:"#ffffff",ColorButtonSecondaryBorder:"#005eb8",ColorButtonSecondaryText:"#005eb8",ColorButtonSecondaryHover:"#d9e5f2",ColorButtonSecondaryActive:"#c7daf0",ColorButtonSecondaryShadow:"#005eb8",ColorButtonReverseBackground:"#ffffff",ColorButtonReverseText:"#212b32",ColorButtonReverseHover:"#d9dde0",ColorButtonReverseActive:"#b3bcc2",ColorButtonReverseShadow:"#b3bcc2",ColorButtonWarningBackground:"#d5281b",ColorButtonWarningHover:"#aa2016",ColorButtonWarningActive:"#6a140e",ColorButtonWarningShadow:"#6a140e",ColorButtonLoginBackground:"#005eb8",ColorButtonLoginHover:"#004b93",ColorButtonLoginActive:"#002f5c",ColorButtonLoginShadow:"#002f5c"},component:{ComponentButtonPaddingMobileVertical:"8px",ComponentButtonPaddingMobileHorizontal:"16px",ComponentButtonPaddingDesktopVertical:"12px",ComponentButtonPaddingDesktopHorizontal:"16px",ComponentButtonShadowSize:"4px",ComponentFormInputMinHeight:"40px",ComponentFormInputPadding:"4px",ComponentFormCheckboxSize:"40px",ComponentFormCheckboxLabelPadding:"12px",ComponentCardPaddingMobile:"16px",ComponentCardPaddingDesktop:"32px",ComponentCardHeadingMargin:"16px",ComponentPanelPaddingMobile:"20px",ComponentPanelPaddingDesktop:"28px",ComponentBreadcrumbChevronMarginLeft:"9px",ComponentBreadcrumbChevronMarginRight:"2px",ComponentBreadcrumbPaddingTopMobile:"16px",ComponentBreadcrumbPaddingTopDesktop:"24px",ComponentSummaryListCellPaddingVertical:"8px",ComponentSummaryListCellPaddingHorizontal:"24px",ComponentSummaryListRowMargin:"16px",ComponentSpread:"4px",ComponentBlur:"4px",ComponentLink:"4px",ComponentDetails:"8px",ComponentExpander:"4px",ComponentPagination:"16px"},button:{ButtonPrimaryBackgroundDefault:"#007f3b",ButtonPrimaryBackgroundHover:"#006530",ButtonPrimaryBackgroundActive:"#004021",ButtonPrimaryBackgroundDisabled:"#d8dde0",ButtonPrimaryTextDefault:"#ffffff",ButtonPrimaryTextDisabled:"#768692",ButtonPrimaryBorderDefault:"#00000000",ButtonPrimaryBorderFocus:"#ffeb3b",ButtonSecondaryBackgroundDefault:"#00000000",ButtonSecondaryBackgroundSolid:"#ffffff",ButtonSecondaryBackgroundHover:"#d9e5f2",ButtonSecondaryBackgroundActive:"#c7daf0",ButtonSecondaryTextDefault:"#005eb8",ButtonSecondaryBorderDefault:"#005eb8",ButtonSpacingPaddingVerticalMobile:"8px",ButtonSpacingPaddingHorizontalMobile:"16px",ButtonSpacingPaddingVerticalDesktop:"12px",ButtonSpacingPaddingHorizontalDesktop:"16px",ButtonBorderWidth:"2px",ButtonBorderRadius:"4px",ButtonShadowSize:"4px",ButtonTypographyWeight:"600"},card:{CardBackgroundDefault:"#ffffff",CardBorderDefault:"#d8dde0",CardBorderHover:"#aeb7bd",CardBorderBottom:"#f0f4f5",CardTextHeading:"#212b32",CardTextDescription:"#212b32",CardTextLink:"#005eb8",CardSpacingPaddingMobile:"16px",CardSpacingPaddingDesktop:"32px",CardSpacingHeadingMargin:"16px",CardBorderWidthDefault:"1px",CardBorderWidthBottom:"4px",CardShadowDefault:"none",CardShadowHover:"0 2px 4px rgba(0, 0, 0, 0.1)"},form:{FormInputBackgroundDefault:"#ffffff",FormInputBackgroundFocus:"#ffffff",FormInputBackgroundDisabled:"#d8dde0",FormInputBackgroundError:"#ffffff",FormInputBorderDefault:"#4c6272",FormInputBorderFocus:"#ffeb3b",FormInputBorderError:"#d5281b",FormInputBorderDisabled:"#aeb7bd",FormInputTextDefault:"#212b32",FormInputTextPlaceholder:"#4c6272",FormInputTextDisabled:"#768692",FormLabelTextDefault:"#212b32",FormLabelTextRequired:"#ffffff",FormLabelTypographyWeight:"600",FormErrorTextDefault:"#d5281b",FormErrorTypographyWeight:"600",FormHintTextDefault:"#4c6272",FormSpacingInputPadding:"4px",FormSpacingInputMinHeight:"40px",FormSpacingCheckboxSize:"40px",FormSpacingCheckboxLabelPadding:"12px",FormBorderWidthDefault:"2px",FormBorderWidthError:"4px",FormBorderRadius:"0px"},size:{SizeIconSmall:"16px",SizeIconMedium:"18px",SizeIconLarge:"24px",SizeIconExtraLarge:"32px",SizeIconNhsDefault:"34px",SizeFormControlSmall:"32px",SizeFormControlMedium:"40px",SizeFormControlLarge:"48px",SizeFormInputWidthXs:"5.4ex",SizeFormInputWidthSm:"7.2ex",SizeFormInputWidthMd:"9ex",SizeFormInputWidthLg:"10.8ex",SizeFormInputWidthXl:"20ex",SizeFormInputWidth2xl:"38ex",SizeFormInputWidth3xl:"56ex",SizeButtonMinHeightMobile:"44px",SizeButtonMinHeightDesktop:"40px"},layout:{LayoutContainerMaxWidth:"1020px",LayoutColumnFull:"100%",LayoutColumnHalf:"50%",LayoutColumnThird:"33.333%",LayoutColumnQuarter:"25%",LayoutColumnActions:"20%"},breakpoint:{BreakpointMobile:"320px",BreakpointTablet:"641px",BreakpointDesktop:"1025px",BreakpointLargeDesktop:"1280px"},grid:{GridPageWidth:"960px",GridGutter:"32px",GridGutterHalf:"16px"},state:{StateErrorBackground:"#d5281b",StateErrorBorder:"#d5281b",StateErrorText:"#ffffff",StateSuccessBackground:"#007f3b",StateSuccessBorder:"#007f3b",StateSuccessText:"#ffffff",StateWarningBackground:"#ffeb3b",StateWarningBorder:"#ffeb3b",StateWarningText:"#212b32",StateInfoBackground:"#005eb8",StateInfoBorder:"#005eb8",StateInfoText:"#ffffff",StateDisabledBackground:"#d8dde0",StateDisabledBorder:"#aeb7bd",StateDisabledText:"#768692"},shadow:{ShadowButtonDefault:"0 4px 0 #004021",ShadowButtonSecondary:"0 4px 0 #005eb8",ShadowButtonWarning:"0 4px 0 #6a140e",ShadowButtonFocus:"0 4px 0 #ffeb3b",ShadowCardDefault:"none",ShadowCardHover:"0 2px 4px rgba(0, 0, 0, 0.1)"},"focus-outline":{FocusOutlineWidth:"4px",FocusOutlineOffset:"0px",FocusOutlineStyle:"solid"},"focus-shadow":{FocusShadowInput:"0 0 0 3px #ffeb3b",FocusShadowButton:"0 0 0 3px #ffeb3b"},elevation:{ElevationNone:"none",ElevationLow:"0 1px 3px rgba(0, 0, 0, 0.12)",ElevationMedium:"0 2px 6px rgba(0, 0, 0, 0.16)",ElevationHigh:"0 4px 12px rgba(0, 0, 0, 0.20)"},spacing:{Spacing0:"0",Spacing1:"4px",Spacing2:"8px",Spacing3:"16px",Spacing4:"24px",Spacing5:"32px",Spacing6:"40px",Spacing7:"48px",Spacing8:"56px",Spacing9:"64px"},"spacing-responsive":{SpacingResponsive0Mobile:"0",SpacingResponsive0Tablet:"0",SpacingResponsive1Mobile:"4px",SpacingResponsive1Tablet:"4px",SpacingResponsive2Mobile:"8px",SpacingResponsive2Tablet:"8px",SpacingResponsive3Mobile:"8px",SpacingResponsive3Tablet:"16px",SpacingResponsive4Mobile:"16px",SpacingResponsive4Tablet:"24px",SpacingResponsive5Mobile:"24px",SpacingResponsive5Tablet:"32px",SpacingResponsive6Mobile:"32px",SpacingResponsive6Tablet:"40px",SpacingResponsive7Mobile:"40px",SpacingResponsive7Tablet:"48px",SpacingResponsive8Mobile:"48px",SpacingResponsive8Tablet:"56px",SpacingResponsive9Mobile:"56px",SpacingResponsive9Tablet:"64px"},font:{FontFamilyBase:"Frutiger W01",FontFamilyFallback:"Arial, Helvetica, sans-serif",FontFamilyPrint:"sans-serif",FontWeightNormal:"400",FontWeightBold:"600",FontWeightLight:"400",FontSize14Mobile:"12px",FontSize14Tablet:"14px",FontSize14Print:"12pt",FontSize16Mobile:"14px",FontSize16Tablet:"16px",FontSize16Print:"12pt",FontSize19Mobile:"16px",FontSize19Tablet:"19px",FontSize19Print:"13pt",FontSize22Mobile:"19px",FontSize22Tablet:"22px",FontSize22Print:"15pt",FontSize26Mobile:"22px",FontSize26Tablet:"26px",FontSize26Print:"17pt",FontSize36Mobile:"27px",FontSize36Tablet:"36px",FontSize36Print:"20pt",FontSize48Mobile:"33px",FontSize48Tablet:"48px",FontSize48Print:"24pt",FontSizeBase:"16px",FontLineHeightBase:"24px"},headings:{xl:{fontFamily:"Frutiger W01",fontWeight:"600",fontSize:{mobile:"33px",tablet:"48px",print:"24pt"},lineHeight:"1.09",marginTop:"0",marginBottom:{mobile:"40px",tablet:"48px"}},l:{fontFamily:"Frutiger W01",fontWeight:"600",fontSize:{mobile:"27px",tablet:"36px",print:"20pt"},lineHeight:"1.11",marginTop:"0",marginBottom:{mobile:"16px",tablet:"24px"}},m:{fontFamily:"Frutiger W01",fontWeight:"600",fontSize:{mobile:"22px",tablet:"26px",print:"17pt"},lineHeight:"1.15",marginTop:"0",marginBottom:{mobile:"16px",tablet:"24px"}},s:{fontFamily:"Frutiger W01",fontWeight:"600",fontSize:{mobile:"19px",tablet:"22px",print:"15pt"},lineHeight:"1.18",marginTop:"0",marginBottom:{mobile:"16px",tablet:"24px"}},xs:{fontFamily:"Frutiger W01",fontWeight:"600",fontSize:{mobile:"16px",tablet:"19px",print:"13pt"},lineHeight:"1.26",marginTop:"0",marginBottom:{mobile:"16px",tablet:"24px"}}},paragraphs:{body:{fontFamily:"Frutiger W01",fontWeight:"400",fontSize:{mobile:"16px",tablet:"19px",print:"13pt"},lineHeight:"1.47",marginTop:"0",marginBottom:{mobile:"16px",tablet:"24px"}},bodyLarge:{fontFamily:"Frutiger W01",fontWeight:"400",fontSize:{mobile:"22px",tablet:"26px",print:"17pt"},lineHeight:"1.38",marginTop:"0",marginBottom:{mobile:"24px",tablet:"32px"}},bodySmall:{fontFamily:"Frutiger W01",fontWeight:"400",fontSize:{mobile:"14px",tablet:"16px",print:"12pt"},lineHeight:"1.5",marginTop:"0",marginBottom:{mobile:"16px",tablet:"24px"}},ledeText:{fontFamily:"Frutiger W01",fontWeight:"400",fontSize:{mobile:"22px",tablet:"26px",print:"17pt"},lineHeight:"1.38",marginTop:"0",marginBottom:{mobile:"40px",tablet:"48px"}},ledeTextSmall:{fontFamily:"Frutiger W01",fontWeight:"400",fontSize:{mobile:"16px",tablet:"19px",print:"13pt"},lineHeight:"1.47",marginTop:"0",marginBottom:{mobile:"24px",tablet:"32px"}}}},Lf=$.createContext(If),Zv=({children:t,theme:e={}})=>{const n={...If,...e};return l.jsx(Lf.Provider,{value:n,children:t})},qv=()=>{const t=$.useContext(Lf);if(!t)throw new Error("useNHSTheme must be used within an NHSThemeProvider");return t};function Xv(){return`
	@font-face {
	  font-display: swap;
	  font-family: "Frutiger W01";
	  font-style: normal;
	  font-weight: 400;
	  src: url("https://assets.nhs.uk/fonts/FrutigerLTW01-55Roman.eot");
	  src: url("https://assets.nhs.uk/fonts/FrutigerLTW01-55Roman.eot?#iefix") format("embedded-opentype"),
		   url("https://assets.nhs.uk/fonts/FrutigerLTW01-55Roman.woff2") format("woff2"),
		   url("https://assets.nhs.uk/fonts/FrutigerLTW01-55Roman.woff") format("woff");
	}
	
	@font-face {
	  font-display: swap;
	  font-family: "Frutiger W01";
	  font-style: normal;
	  font-weight: 600;
	  src: url("https://assets.nhs.uk/fonts/FrutigerLTW01-65Bold.eot");
	  src: url("https://assets.nhs.uk/fonts/FrutigerLTW01-65Bold.eot?#iefix") format("embedded-opentype"),
		   url("https://assets.nhs.uk/fonts/FrutigerLTW01-65Bold.woff2") format("woff2"),
		   url("https://assets.nhs.uk/fonts/FrutigerLTW01-65Bold.woff") format("woff");
	}
  `}function Jv(){if(typeof document>"u"||document.getElementById("nhs-fonts"))return;const t=document.createElement("style");t.id="nhs-fonts",t.textContent=Xv(),document.head.appendChild(t)}const Kv=({children:t,theme:e})=>($.useEffect(()=>{Jv()},[]),l.jsx(Zv,{theme:e,children:t})),Qv="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPCFET0NUWVBFIHN2ZyBQVUJMSUMgIi0vL1czQy8vRFREIFNWRyAxLjEvL0VOIiAiaHR0cDovL3d3dy53My5vcmcvR3JhcGhpY3MvU1ZHLzEuMS9EVEQvc3ZnMTEuZHRkIj4KPHN2ZyB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHdpZHRoPSI1MTIiIGhlaWdodD0iMTEzIiAgeG1sOnNwYWNlPSJwcmVzZXJ2ZSIgaWQ9ImZkcGxvZ28iPgogICAgPHJlY3QgaWQ9ImZkcGxvZ28tcmVjdGFuZ2xlIiBzdHJva2U9Im5vbmUiIGZpbGw9InJnYigzMiwgOTUsIDE3MikiIHg9IjIuNyIgeT0iLTAuMDMiIHdpZHRoPSIxNDQuMSIgaGVpZ2h0PSI1OC4wNSIgLz4KICAgIDxwYXRoIGlkPSJmZHBsb2dvLWJlemllciIgc3Ryb2tlPSJub25lIiBmaWxsPSJyZ2IoMjU0LCAyNTQsIDI1NCkiIGQ9Ik0gNjAuNjEsNS42IEwgNTAuNjYsNTIuMzEgMzUuMDYsNTIuMzEgMjUuMjQsMTkuOTkgMjUuMTEsMTkuOTkgMTguNTgsNTIuMzEgNi43NCw1Mi4zMSAxNi43Nyw1LjYgMzIuNDMsNS42IDQyLjA1LDM3Ljk5IDQyLjE4LDM3Ljk5IDQ4Ljc3LDUuNiA2MC42MSw1LjYgWiBNIDYwLjYxLDUuNiIgLz4KICAgIDxwYXRoIGlkPSJmZHBsb2dvLWJlemllcjIiIHN0cm9rZT0ibm9uZSIgZmlsbD0icmdiKDI1NCwgMjU0LCAyNTQpIiBkPSJNIDEwNS4yNiw1LjYgTCA5NS41MSw1Mi4zMSA4Mi45NCw1Mi4zMSA4Ny4xMSwzMi4zIDcyLjI0LDMyLjMgNjguMDcsNTIuMzEgNTUuNDksNTIuMzEgNjUuMjUsNS42IDc3LjgyLDUuNiA3NC4xMywyMy40NyA4OC45OSwyMy40NyA5Mi42OSw1LjYgMTA1LjI2LDUuNiBaIE0gMTA1LjI2LDUuNiIgLz4KICAgIDxwYXRoIGlkPSJmZHBsb2dvLWJlemllcjMiIHN0cm9rZT0ibm9uZSIgZmlsbD0icmdiKDI1NCwgMjU0LCAyNTQpIiBkPSJNIDE0MS4zOCw2Ljg3IEwgMTM4LjM1LDE2LjE3IEMgMTM1LjkyLDE1LjA0IDEzMi42MywxNC4wNCAxMjcuOTksMTQuMDQgMTIzLjAyLDE0LjA0IDExOC45OCwxNC43NyAxMTguOTgsMTguNTIgMTE4Ljk4LDI1LjE0IDEzNy4yLDIyLjY3IDEzNy4yLDM2Ljg1IDEzNy4yLDQ5Ljc3IDEyNS4xNyw1My4xMiAxMTQuMjcsNTMuMTIgMTA5LjQzLDUzLjEyIDEwMy44NSw1MS45NyA5OS43NSw1MC43IEwgMTAyLjcxLDQxLjIgQyAxMDUuMTksNDIuOCAxMTAuMTcsNDMuODggMTE0LjI3LDQzLjg4IDExOC4xOCw0My44OCAxMjQuMjksNDMuMTQgMTI0LjI5LDM4LjMyIDEyNC4yOSwzMC44MyAxMDYuMDYsMzMuNjQgMTA2LjA2LDIwLjQ2IDEwNi4wNiw4LjQyIDExNi42OSw0LjggMTI2Ljk4LDQuOCAxMzIuNzcsNC44IDEzOC4yMSw1LjQxIDE0MS4zOCw2Ljg3IFogTSAxNDEuMzgsNi44NyIgLz4KICAgIAogICAgPHRleHQgIGZpbGw9InJnYigzNSwgMzEsIDMyKSIgZm9udC1mYW1pbHk9IkZydXRpZ2VyTFRQcm8tQm9sZCwgJ0ZydXRpZ2VyIExUIFBybycsIHNhbnMtc2VyaWYiIGZvbnQtd2VpZ2h0PSJib2xkIiBmb250LXNpemU9IjQwIiB4PSIwIiB5PSI2NC44OSI+PHRzcGFuIHg9IjAiIHk9IjEwMi44OSI+RmVkZXJhdGVkIERhdGEgUGxhdGZvcm08L3RzcGFuPjwvdGV4dD4KPC9zdmc+Cg==",ex="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPCFET0NUWVBFIHN2ZyBQVUJMSUMgIi0vL1czQy8vRFREIFNWRyAxLjEvL0VOIiAiaHR0cDovL3d3dy53My5vcmcvR3JhcGhpY3MvU1ZHLzEuMS9EVEQvc3ZnMTEuZHRkIj4KPHN2ZyB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHdpZHRoPSIyOTAiIGhlaWdodD0iMTU1IiAgeG1sOnNwYWNlPSJwcmVzZXJ2ZSIgaWQ9ImZkcHR3b2xpbmUiPgogICAgPHJlY3QgaWQ9ImZkcHR3b2xpbmUtcmVjdGFuZ2xlIiBzdHJva2U9Im5vbmUiIGZpbGw9InJnYigzMiwgOTUsIDE3MikiIHg9IjIuNyIgeT0iLTAuMDMiIHdpZHRoPSIxNDQuMSIgaGVpZ2h0PSI1OC4wNSIgLz4KICAgIDxwYXRoIGlkPSJmZHB0d29saW5lLWJlemllciIgc3Ryb2tlPSJub25lIiBmaWxsPSJyZ2IoMjU0LCAyNTQsIDI1NCkiIGQ9Ik0gNjAuNjEsNS42IEwgNTAuNjYsNTIuMzEgMzUuMDYsNTIuMzEgMjUuMjQsMTkuOTkgMjUuMTEsMTkuOTkgMTguNTgsNTIuMzEgNi43NCw1Mi4zMSAxNi43Nyw1LjYgMzIuNDMsNS42IDQyLjA1LDM3Ljk5IDQyLjE4LDM3Ljk5IDQ4Ljc3LDUuNiA2MC42MSw1LjYgWiBNIDYwLjYxLDUuNiIgLz4KICAgIDxwYXRoIGlkPSJmZHB0d29saW5lLWJlemllcjIiIHN0cm9rZT0ibm9uZSIgZmlsbD0icmdiKDI1NCwgMjU0LCAyNTQpIiBkPSJNIDEwNS4yNiw1LjYgTCA5NS41MSw1Mi4zMSA4Mi45NCw1Mi4zMSA4Ny4xMSwzMi4zIDcyLjI0LDMyLjMgNjguMDcsNTIuMzEgNTUuNDksNTIuMzEgNjUuMjUsNS42IDc3LjgyLDUuNiA3NC4xMywyMy40NyA4OC45OSwyMy40NyA5Mi42OSw1LjYgMTA1LjI2LDUuNiBaIE0gMTA1LjI2LDUuNiIgLz4KICAgIDxwYXRoIGlkPSJmZHB0d29saW5lLWJlemllcjMiIHN0cm9rZT0ibm9uZSIgZmlsbD0icmdiKDI1NCwgMjU0LCAyNTQpIiBkPSJNIDE0MS4zOCw2Ljg3IEwgMTM4LjM1LDE2LjE3IEMgMTM1LjkyLDE1LjA0IDEzMi42MywxNC4wNCAxMjcuOTksMTQuMDQgMTIzLjAyLDE0LjA0IDExOC45OCwxNC43NyAxMTguOTgsMTguNTIgMTE4Ljk4LDI1LjE0IDEzNy4yLDIyLjY3IDEzNy4yLDM2Ljg1IDEzNy4yLDQ5Ljc3IDEyNS4xNyw1My4xMiAxMTQuMjcsNTMuMTIgMTA5LjQzLDUzLjEyIDEwMy44NSw1MS45NyA5OS43NSw1MC43IEwgMTAyLjcxLDQxLjIgQyAxMDUuMTksNDIuOCAxMTAuMTcsNDMuODggMTE0LjI3LDQzLjg4IDExOC4xOCw0My44OCAxMjQuMjksNDMuMTQgMTI0LjI5LDM4LjMyIDEyNC4yOSwzMC44MyAxMDYuMDYsMzMuNjQgMTA2LjA2LDIwLjQ2IDEwNi4wNiw4LjQyIDExNi42OSw0LjggMTI2Ljk4LDQuOCAxMzIuNzcsNC44IDEzOC4yMSw1LjQxIDE0MS4zOCw2Ljg3IFogTSAxNDEuMzgsNi44NyIgLz4KICAgIDx0ZXh0ICBmaWxsPSJyZ2IoMzUsIDMxLCAzMikiIGZvbnQtZmFtaWx5PSJGcnV0aWdlckxUUHJvLUJvbGQsICdGcnV0aWdlciBMVCBQcm8nLCBzYW5zLXNlcmlmIiBmb250LXdlaWdodD0iYm9sZCIgZm9udC1zaXplPSI0MCIgeD0iMCIgeT0iNjQuODkiPjx0c3BhbiB4PSIwIiB5PSIxMDIuODkiPkZlZGVyYXRlZCBEYXRhIAo8L3RzcGFuPjx0c3BhbiB4PSIwIiB5PSIxNTAuODkiPlBsYXRmb3JtPC90c3Bhbj48L3RleHQ+Cjwvc3ZnPgo=",tx="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPCFET0NUWVBFIHN2ZyBQVUJMSUMgIi0vL1czQy8vRFREIFNWRyAxLjEvL0VOIiAiaHR0cDovL3d3dy53My5vcmcvR3JhcGhpY3MvU1ZHLzEuMS9EVEQvc3ZnMTEuZHRkIj4KPHN2ZyB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHdpZHRoPSIyOTAiIGhlaWdodD0iMTU1IiB4bWw6c3BhY2U9InByZXNlcnZlIiBpZD0iZmRwdHdvbGluZWludmVyc2UiPgoJPHJlY3QgaWQ9ImZkcHR3b2xpbmVpbnZlcnNlLXJlY3RhbmdsZSIgc3Ryb2tlPSJub25lIiBmaWxsPSJyZ2IoMzIsIDk1LCAxNzIpIiB4PSIyLjciIHk9Ii0wLjAzIiB3aWR0aD0iMTQ0LjEiIGhlaWdodD0iNTguMDUiIC8+Cgk8cGF0aCBpZD0iZmRwdHdvbGluZWludmVyc2UtYmV6aWVyIiBzdHJva2U9Im5vbmUiIGZpbGw9InJnYigyNTQsIDI1NCwgMjU0KSIgZD0iTSA2MC42MSw1LjYgTCA1MC42Niw1Mi4zMSAzNS4wNiw1Mi4zMSAyNS4yNCwxOS45OSAyNS4xMSwxOS45OSAxOC41OCw1Mi4zMSA2Ljc0LDUyLjMxIDE2Ljc3LDUuNiAzMi40Myw1LjYgNDIuMDUsMzcuOTkgNDIuMTgsMzcuOTkgNDguNzcsNS42IDYwLjYxLDUuNiBaIE0gNjAuNjEsNS42IiAvPgoJPHBhdGggaWQ9ImZkcHR3b2xpbmVpbnZlcnNlLWJlemllcjIiIHN0cm9rZT0ibm9uZSIgZmlsbD0icmdiKDI1NCwgMjU0LCAyNTQpIiBkPSJNIDEwNS4yNiw1LjYgTCA5NS41MSw1Mi4zMSA4Mi45NCw1Mi4zMSA4Ny4xMSwzMi4zIDcyLjI0LDMyLjMgNjguMDcsNTIuMzEgNTUuNDksNTIuMzEgNjUuMjUsNS42IDc3LjgyLDUuNiA3NC4xMywyMy40NyA4OC45OSwyMy40NyA5Mi42OSw1LjYgMTA1LjI2LDUuNiBaIE0gMTA1LjI2LDUuNiIgLz4KCTxwYXRoIGlkPSJmZHB0d29saW5laW52ZXJzZS1iZXppZXIzIiBzdHJva2U9Im5vbmUiIGZpbGw9InJnYigyNTQsIDI1NCwgMjU0KSIgZD0iTSAxNDEuMzgsNi44NyBMIDEzOC4zNSwxNi4xNyBDIDEzNS45MiwxNS4wNCAxMzIuNjMsMTQuMDQgMTI3Ljk5LDE0LjA0IDEyMy4wMiwxNC4wNCAxMTguOTgsMTQuNzcgMTE4Ljk4LDE4LjUyIDExOC45OCwyNS4xNCAxMzcuMiwyMi42NyAxMzcuMiwzNi44NSAxMzcuMiw0OS43NyAxMjUuMTcsNTMuMTIgMTE0LjI3LDUzLjEyIDEwOS40Myw1My4xMiAxMDMuODUsNTEuOTcgOTkuNzUsNTAuNyBMIDEwMi43MSw0MS4yIEMgMTA1LjE5LDQyLjggMTEwLjE3LDQzLjg4IDExNC4yNyw0My44OCAxMTguMTgsNDMuODggMTI0LjI5LDQzLjE0IDEyNC4yOSwzOC4zMiAxMjQuMjksMzAuODMgMTA2LjA2LDMzLjY0IDEwNi4wNiwyMC40NiAxMDYuMDYsOC40MiAxMTYuNjksNC44IDEyNi45OCw0LjggMTMyLjc3LDQuOCAxMzguMjEsNS40MSAxNDEuMzgsNi44NyBaIE0gMTQxLjM4LDYuODciIC8+Cgk8dGV4dCBmaWxsPSJyZ2IoMjU0LCAyNTQsIDI1NCkiIGZvbnQtZmFtaWx5PSJGcnV0aWdlckxUUHJvLUJvbGQsICdGcnV0aWdlciBMVCBQcm8nLCBzYW5zLXNlcmlmIiBmb250LXdlaWdodD0iYm9sZCIgZm9udC1zaXplPSI0MCIgeD0iMCIgeT0iNjQuODkiPgoJCTx0c3BhbiB4PSIwIiB5PSIxMDIuODkiPgoJCQlGZWRlcmF0ZWQgRGF0YQoJCTwvdHNwYW4+CgkJPHRzcGFuIHg9IjAiIHk9IjE1MC44OSI+CgkJCVBsYXRmb3JtCgkJPC90c3Bhbj4KCTwvdGV4dD4KPC9zdmc+Cg==",nx="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPCFET0NUWVBFIHN2ZyBQVUJMSUMgIi0vL1czQy8vRFREIFNWRyAxLjEvL0VOIiAiaHR0cDovL3d3dy53My5vcmcvR3JhcGhpY3MvU1ZHLzEuMS9EVEQvc3ZnMTEuZHRkIj4KPHN2ZyB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHdpZHRoPSI1MTIiIGhlaWdodD0iMTEzIiAgeG1sOnNwYWNlPSJwcmVzZXJ2ZSIgaWQ9ImZkcGxvZ29pbnZlcnNlIj4KICAgIDxyZWN0IGlkPSJmZHBsb2dvaW52ZXJzZS1yZWN0YW5nbGUiIHN0cm9rZT0ibm9uZSIgZmlsbD0icmdiKDI1NCwgMjU0LCAyNTQpIiB4PSIyLjciIHk9Ii0wLjAzIiB3aWR0aD0iMTQ0LjEiIGhlaWdodD0iNTguMDUiIC8+CiAgICA8ZyBpZD0iZmRwbG9nb2ludmVyc2UtZ3JvdXAiPgogICAgICAgIDxwYXRoIGlkPSJmZHBsb2dvaW52ZXJzZS1iZXppZXIzIiBzdHJva2U9Im5vbmUiIGZpbGw9InJnYigwLCA5NCwgMTg0KSIgZD0iTSAxNDEuMzgsNi44NyBMIDEzOC4zNSwxNi4xNyBDIDEzNS45MiwxNS4wNCAxMzIuNjMsMTQuMDQgMTI3Ljk5LDE0LjA0IDEyMy4wMiwxNC4wNCAxMTguOTgsMTQuNzcgMTE4Ljk4LDE4LjUyIDExOC45OCwyNS4xNCAxMzcuMiwyMi42NyAxMzcuMiwzNi44NSAxMzcuMiw0OS43NyAxMjUuMTcsNTMuMTIgMTE0LjI3LDUzLjEyIDEwOS40Myw1My4xMiAxMDMuODUsNTEuOTcgOTkuNzUsNTAuNyBMIDEwMi43MSw0MS4yIEMgMTA1LjE5LDQyLjggMTEwLjE3LDQzLjg4IDExNC4yNyw0My44OCAxMTguMTgsNDMuODggMTI0LjI5LDQzLjE0IDEyNC4yOSwzOC4zMiAxMjQuMjksMzAuODMgMTA2LjA2LDMzLjY0IDEwNi4wNiwyMC40NiAxMDYuMDYsOC40MiAxMTYuNjksNC44IDEyNi45OCw0LjggMTMyLjc3LDQuOCAxMzguMjEsNS40MSAxNDEuMzgsNi44NyBaIE0gMTQxLjM4LDYuODciIC8+CiAgICAgICAgPHBhdGggaWQ9ImZkcGxvZ29pbnZlcnNlLWJlemllcjIiIHN0cm9rZT0ibm9uZSIgZmlsbD0icmdiKDAsIDk0LCAxODQpIiBkPSJNIDEwNS4yNiw1LjYgTCA5NS41MSw1Mi4zMSA4Mi45NCw1Mi4zMSA4Ny4xMSwzMi4zIDcyLjI0LDMyLjMgNjguMDcsNTIuMzEgNTUuNDksNTIuMzEgNjUuMjUsNS42IDc3LjgyLDUuNiA3NC4xMywyMy40NyA4OC45OSwyMy40NyA5Mi42OSw1LjYgMTA1LjI2LDUuNiBaIE0gMTA1LjI2LDUuNiIgLz4KICAgICAgICA8cGF0aCBpZD0iZmRwbG9nb2ludmVyc2UtYmV6aWVyIiBzdHJva2U9Im5vbmUiIGZpbGw9InJnYigwLCA5NCwgMTg0KSIgZD0iTSA2MC42MSw1LjYgTCA1MC42Niw1Mi4zMSAzNS4wNiw1Mi4zMSAyNS4yNCwxOS45OSAyNS4xMSwxOS45OSAxOC41OCw1Mi4zMSA2Ljc0LDUyLjMxIDE2Ljc3LDUuNiAzMi40Myw1LjYgNDIuMDUsMzcuOTkgNDIuMTgsMzcuOTkgNDguNzcsNS42IDYwLjYxLDUuNiBaIE0gNjAuNjEsNS42IiAvPgogICAgPC9nPgogICAgCiAgICA8dGV4dCAgZmlsbD0icmdiKDI1NCwgMjU0LCAyNTQpIiBmb250LWZhbWlseT0iRnJ1dGlnZXJMVFByby1Cb2xkLCAnRnJ1dGlnZXIgTFQgUHJvJywgc2Fucy1zZXJpZiIgZm9udC13ZWlnaHQ9ImJvbGQiIGZvbnQtc2l6ZT0iNDAiIHg9IjAiIHk9IjY0Ljg5Ij48dHNwYW4geD0iMCIgeT0iMTAyLjg5Ij5GZWRlcmF0ZWQgRGF0YSBQbGF0Zm9ybTwvdHNwYW4+PC90ZXh0Pgo8L3N2Zz4K",rx="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='UTF-8'?%3e%3c!DOCTYPE%20svg%20PUBLIC%20'-//W3C//DTD%20SVG%201.1//EN'%20'http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd'%3e%3csvg%20version='1.1'%20xmlns='http://www.w3.org/2000/svg'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20width='357'%20height='114'%20xml:space='preserve'%20id='fdpgraphic'%3e%3cdefs%3e%3clinearGradient%20id='fdpgraphic-gradient-rectangle2'%20x1='113.66'%20y1='27.99'%20x2='0.02'%20y2='27.99'%20gradientUnits='userSpaceOnUse'%20%3e%3cstop%20offset='0'%20stop-color='rgb(96,%20178,%20226)'%20stop-opacity='1'%20/%3e%3cstop%20offset='0.51'%20stop-color='rgb(34,%2094,%20172)'%20stop-opacity='1'%20/%3e%3c/linearGradient%3e%3clinearGradient%20id='fdpgraphic-gradient2-clip'%20x1='243.8'%20y1='28.5'%20x2='113.64'%20y2='28.5'%20gradientUnits='userSpaceOnUse'%20%3e%3cstop%20offset='0.5'%20stop-color='rgb(4,%20150,%2071)'%20stop-opacity='1'%20/%3e%3cstop%20offset='0.64'%20stop-color='rgb(51,%20159,%20112)'%20stop-opacity='1'%20/%3e%3cstop%20offset='1'%20stop-color='rgb(98,%20167,%20153)'%20stop-opacity='1'%20/%3e%3c/linearGradient%3e%3clinearGradient%20id='fdpgraphic-gradient4-bezier4'%20x1='357.05'%20y1='85.21'%20x2='243.44'%20y2='85.21'%20gradientUnits='userSpaceOnUse'%20%3e%3cstop%20offset='0.5'%20stop-color='rgb(214,%20203,%20226)'%20stop-opacity='1'%20/%3e%3cstop%20offset='0.86'%20stop-color='rgb(234,%20229,%20240)'%20stop-opacity='1'%20/%3e%3cstop%20offset='1'%20stop-color='rgb(255,%20255,%20255)'%20stop-opacity='1'%20/%3e%3c/linearGradient%3e%3c/defs%3e%3cg%20id='fdpgraphic-group3'%3e%3cg%20id='fdpgraphic-squareGroup'%3e%3crect%20id='fdpgraphic-rectangle'%20stroke='none'%20fill='rgb(34,%2094,%20172)'%20x='0.02'%20y='0.49'%20width='113.6'%20height='113.6'%20/%3e%3crect%20id='fdpgraphic-rectangle2'%20stroke='none'%20fill='url(%23fdpgraphic-gradient-rectangle2)'%20x='0'%20y='0'%20width='113.65'%20height='56'%20/%3e%3c/g%3e%3cg%20id='fdpgraphic-hexagonGroup'%3e%3cpath%20id='fdpgraphic-polygon'%20stroke='none'%20fill='rgb(73,%20160,%20152)'%20d='M%20146.15,-0%20L%20211.25,0%20243.8,57.03%20211.25,114.06%20146.15,114.06%20113.6,57.03%20146.15,-0%20Z%20M%20146.15,-0'%20/%3e%3cg%20id='fdpgraphic-hexagon'%3e%3cpath%20id='fdpgraphic-clip'%20stroke='none'%20fill='url(%23fdpgraphic-gradient2-clip)'%20d='M%20146.18,-0%20L%20113.64,57%20243.8,57%20211.26,-0%20146.18,-0%20Z%20M%20146.18,-0'%20/%3e%3c/g%3e%3c/g%3e%3cg%20id='fdpgraphic-circleGroup'%3e%3ccircle%20id='fdpgraphic-oval'%20stroke='none'%20fill='rgb(214,%20203,%20226)'%20cx='300.25'%20cy='56.8'%20r='56.8'%20/%3e%3cpath%20id='fdpgraphic-bezier4'%20stroke='none'%20fill='url(%23fdpgraphic-gradient4-bezier4)'%20d='M%20300.25,56.8%20L%20243.45,56.8%20C%20243.45,88.18%20268.88,113.61%20300.25,113.61%20L%20300.25,113.61%20C%20331.62,113.61%20357.05,88.18%20357.05,56.8%20L%20357.05,56.8%20300.25,56.8%20Z%20M%20300.25,56.8'%20/%3e%3c/g%3e%3cpath%20id='fdpgraphic-bezier5'%20stroke='rgb(217,%20216,%20216)'%20stroke-width='2.49'%20stroke-miterlimit='2.49'%20fill='none'%20d='M%2054.9,56.9%20L%20301.64,56.9'%20/%3e%3c/g%3e%3c/svg%3e",ix="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='UTF-8'?%3e%3c!DOCTYPE%20svg%20PUBLIC%20'-//W3C//DTD%20SVG%201.1//EN'%20'http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd'%3e%3csvg%20version='1.1'%20xmlns='http://www.w3.org/2000/svg'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20width='393'%20height='47'%20xml:space='preserve'%20id='fdplockuplogo'%3e%3cdefs%3e%3clinearGradient%20id='fdplockuplogo-gradient-rectangle2'%20x1='45.65'%20y1='11.5'%20x2='0.01'%20y2='11.5'%20gradientUnits='userSpaceOnUse'%20%3e%3cstop%20offset='0'%20stop-color='rgb(96,%20178,%20226)'%20stop-opacity='1'%20/%3e%3cstop%20offset='0.51'%20stop-color='rgb(34,%2094,%20172)'%20stop-opacity='1'%20/%3e%3c/linearGradient%3e%3clinearGradient%20id='fdplockuplogo-gradient2-clip'%20x1='98.8'%20y1='12'%20x2='45.64'%20y2='12'%20gradientUnits='userSpaceOnUse'%20%3e%3cstop%20offset='0.5'%20stop-color='rgb(4,%20150,%2071)'%20stop-opacity='1'%20/%3e%3cstop%20offset='0.64'%20stop-color='rgb(51,%20159,%20112)'%20stop-opacity='1'%20/%3e%3cstop%20offset='1'%20stop-color='rgb(98,%20167,%20153)'%20stop-opacity='1'%20/%3e%3c/linearGradient%3e%3clinearGradient%20id='fdplockuplogo-gradient4-bezier4'%20x1='145.05'%20y1='34.96'%20x2='98.45'%20y2='34.96'%20gradientUnits='userSpaceOnUse'%20%3e%3cstop%20offset='0.5'%20stop-color='rgb(214,%20203,%20226)'%20stop-opacity='1'%20/%3e%3cstop%20offset='0.86'%20stop-color='rgb(234,%20229,%20240)'%20stop-opacity='1'%20/%3e%3cstop%20offset='1'%20stop-color='rgb(255,%20255,%20255)'%20stop-opacity='1'%20/%3e%3c/linearGradient%3e%3c/defs%3e%3cpath%20id='fdplockuplogo-bezier7'%20stroke='none'%20fill='rgb(33,%2094,%20171)'%20d='M%20157.2,1.11%20L%20168.06,1.11%20184.85,34.06%20184.97,34.06%20184.97,1.11%20193.43,1.11%20193.43,45.17%20182.64,45.17%20165.78,12.22%20165.66,12.22%20165.66,45.17%20157.2,45.17%20157.2,1.11%20Z%20M%20157.2,1.11'%20/%3e%3cpath%20id='fdplockuplogo-bezier8'%20stroke='none'%20fill='rgb(33,%2094,%20171)'%20d='M%20200.37,1.11%20L%20209.21,1.11%20209.21,18.91%20226.88,18.91%20226.88,1.11%20235.72,1.11%20235.72,45.17%20226.88,45.17%20226.88,25.85%20209.21,25.85%20209.21,45.17%20200.37,45.17%20200.37,1.11%20Z%20M%20200.37,1.11'%20/%3e%3cpath%20id='fdplockuplogo-bezier9'%20stroke='none'%20fill='rgb(33,%2094,%20171)'%20d='M%20267.78,9.19%20C%20265,7.99%20261.91,7.29%20258.81,7.29%20255.78,7.29%20251.87,8.62%20251.87,13.42%20251.87,21.05%20271.19,17.84%20271.19,32.61%20271.19,42.27%20263.55,45.93%20254.65,45.93%20249.85,45.93%20247.7,45.3%20243.35,44.22%20L%20244.17,36.27%20C%20247.2,37.91%20250.67,38.98%20254.14,38.98%20257.49,38.98%20261.97,37.28%20261.97,33.3%20261.97,24.91%20242.65,28.38%20242.65,13.79%20242.65,3.95%20250.29,0.35%20258.06,0.35%20261.84,0.35%20265.38,0.85%20268.6,1.93%20L%20267.78,9.19%20Z%20M%20267.78,9.19'%20/%3e%3cpath%20id='fdplockuplogo-bezier10'%20stroke='none'%20fill='rgb(33,%2094,%20171)'%20d='M%20287.4,1.11%20L%20311.89,1.11%20311.89,8.05%20296.23,8.05%20296.23,18.91%20311.13,18.91%20311.13,25.85%20296.23,25.85%20296.23,45.17%20287.4,45.17%20287.4,1.11%20Z%20M%20287.4,1.11'%20/%3e%3cpath%20id='fdplockuplogo-bezier11'%20stroke='none'%20fill='rgb(33,%2094,%20171)'%20d='M%20327.66,38.23%20L%20332.59,38.23%20C%20339.97,38.23%20347.11,32.73%20347.11,23.14%20347.11,13.54%20339.97,8.05%20332.59,8.05%20L%20327.66,8.05%20327.66,38.23%20Z%20M%20318.82,1.1%20L%20330.88,1.1%20C%20344.39,1.1%20356.32,5.65%20356.32,23.14%20356.32,40.63%20344.39,45.17%20330.88,45.17%20L%20318.82,45.17%20318.82,1.1%20Z%20M%20318.82,1.1'%20/%3e%3cpath%20id='fdplockuplogo-bezier12'%20stroke='none'%20fill='rgb(33,%2094,%20171)'%20d='M%20372.09,21.5%20L%20375.19,21.5%20C%20379.61,21.5%20383.58,20.04%20383.58,14.93%20383.58,9.82%20379.73,8.05%20375.19,8.05%20L%20372.09,8.05%20372.09,21.5%20Z%20M%20363.26,1.11%20L%20374.43,1.11%20C%20384.03,1.11%20392.8,3.88%20392.8,14.43%20392.8,24.72%20385.29,28.44%20375.82,28.44%20L%20372.09,28.44%20372.09,45.17%20363.26,45.17%20363.26,1.11%20Z%20M%20363.26,1.11'%20/%3e%3cg%20id='fdplockuplogo-group3'%3e%3cg%20id='fdplockuplogo-squareGroup'%3e%3crect%20id='fdplockuplogo-rectangle'%20stroke='none'%20fill='rgb(34,%2094,%20172)'%20x='0.02'%20y='0.49'%20width='45.6'%20height='46.6'%20/%3e%3crect%20id='fdplockuplogo-rectangle2'%20stroke='none'%20fill='url(%23fdplockuplogo-gradient-rectangle2)'%20x='0'%20y='0'%20width='45.65'%20height='23'%20/%3e%3c/g%3e%3cg%20id='fdplockuplogo-hexagonGroup'%3e%3cpath%20id='fdplockuplogo-polygon'%20stroke='none'%20fill='rgb(73,%20160,%20152)'%20d='M%2058.9,-0%20L%2085.5,-0%2098.8,23.53%2085.5,47.06%2058.9,47.06%2045.6,23.53%2058.9,-0%20Z%20M%2058.9,-0'%20/%3e%3cg%20id='fdplockuplogo-hexagon'%3e%3cpath%20id='fdplockuplogo-clip'%20stroke='none'%20fill='url(%23fdplockuplogo-gradient2-clip)'%20d='M%2058.93,-0%20L%2045.64,24%2098.8,24%2085.51,-0%2058.93,-0%20Z%20M%2058.93,-0'%20/%3e%3c/g%3e%3c/g%3e%3cg%20id='fdplockuplogo-circleGroup'%3e%3cg%20id='fdplockuplogo-group'%3e%3ccircle%20id='fdplockuplogo-oval'%20stroke='none'%20fill='rgb(214,%20203,%20226)'%20cx='121.75'%20cy='23.3'%20r='23.3'%20/%3e%3cpath%20id='fdplockuplogo-bezier4'%20stroke='none'%20fill='url(%23fdplockuplogo-gradient4-bezier4)'%20d='M%20121.75,23.3%20L%2098.45,23.3%20C%2098.45,36.17%20108.88,46.61%20121.75,46.61%20L%20121.75,46.61%20C%20134.62,46.61%20145.05,36.17%20145.05,23.3%20L%20145.05,23.3%20121.75,23.3%20Z%20M%20121.75,23.3'%20/%3e%3c/g%3e%3c/g%3e%3cpath%20id='fdplockuplogo-bezier5'%20stroke='rgb(217,%20216,%20216)'%20stroke-width='1'%20stroke-miterlimit='2.49'%20fill='none'%20d='M%2022.3,23.48%20L%20122.54,23.48'%20/%3e%3c/g%3e%3c/svg%3e",ox="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='UTF-8'?%3e%3c!DOCTYPE%20svg%20PUBLIC%20'-//W3C//DTD%20SVG%201.1//EN'%20'http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd'%3e%3csvg%20version='1.1'%20xmlns='http://www.w3.org/2000/svg'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20width='393'%20height='47'%20xml:space='preserve'%20id='fdplockuplogoinverted'%3e%3cdefs%3e%3clinearGradient%20id='fdplockuplogoinverted-gradient-rectangle2'%20x1='45.65'%20y1='11.5'%20x2='0.01'%20y2='11.5'%20gradientUnits='userSpaceOnUse'%20%3e%3cstop%20offset='0'%20stop-color='rgb(96,%20178,%20226)'%20stop-opacity='1'%20/%3e%3cstop%20offset='0.51'%20stop-color='rgb(34,%2094,%20172)'%20stop-opacity='1'%20/%3e%3c/linearGradient%3e%3clinearGradient%20id='fdplockuplogoinverted-gradient2-clip'%20x1='98.8'%20y1='12'%20x2='45.64'%20y2='12'%20gradientUnits='userSpaceOnUse'%20%3e%3cstop%20offset='0.5'%20stop-color='rgb(4,%20150,%2071)'%20stop-opacity='1'%20/%3e%3cstop%20offset='0.64'%20stop-color='rgb(51,%20159,%20112)'%20stop-opacity='1'%20/%3e%3cstop%20offset='1'%20stop-color='rgb(98,%20167,%20153)'%20stop-opacity='1'%20/%3e%3c/linearGradient%3e%3clinearGradient%20id='fdplockuplogoinverted-gradient4-bezier4'%20x1='145.05'%20y1='34.96'%20x2='98.45'%20y2='34.96'%20gradientUnits='userSpaceOnUse'%20%3e%3cstop%20offset='0.5'%20stop-color='rgb(214,%20203,%20226)'%20stop-opacity='1'%20/%3e%3cstop%20offset='0.86'%20stop-color='rgb(234,%20229,%20240)'%20stop-opacity='1'%20/%3e%3cstop%20offset='1'%20stop-color='rgb(255,%20255,%20255)'%20stop-opacity='1'%20/%3e%3c/linearGradient%3e%3c/defs%3e%3cpath%20id='fdplockuplogoinverted-bezier7'%20stroke='none'%20fill='rgb(254,%20254,%20254)'%20d='M%20157.2,1.11%20L%20168.06,1.11%20184.85,34.06%20184.97,34.06%20184.97,1.11%20193.43,1.11%20193.43,45.17%20182.64,45.17%20165.78,12.22%20165.66,12.22%20165.66,45.17%20157.2,45.17%20157.2,1.11%20Z%20M%20157.2,1.11'%20/%3e%3cpath%20id='fdplockuplogoinverted-bezier8'%20stroke='none'%20fill='rgb(254,%20254,%20254)'%20d='M%20200.37,1.11%20L%20209.21,1.11%20209.21,18.91%20226.88,18.91%20226.88,1.11%20235.72,1.11%20235.72,45.17%20226.88,45.17%20226.88,25.85%20209.21,25.85%20209.21,45.17%20200.37,45.17%20200.37,1.11%20Z%20M%20200.37,1.11'%20/%3e%3cpath%20id='fdplockuplogoinverted-bezier9'%20stroke='none'%20fill='rgb(254,%20254,%20254)'%20d='M%20267.78,9.19%20C%20265,7.99%20261.91,7.29%20258.81,7.29%20255.78,7.29%20251.87,8.62%20251.87,13.42%20251.87,21.05%20271.19,17.84%20271.19,32.61%20271.19,42.27%20263.55,45.93%20254.65,45.93%20249.85,45.93%20247.7,45.3%20243.35,44.22%20L%20244.17,36.27%20C%20247.2,37.91%20250.67,38.98%20254.14,38.98%20257.49,38.98%20261.97,37.28%20261.97,33.3%20261.97,24.91%20242.65,28.38%20242.65,13.79%20242.65,3.95%20250.29,0.35%20258.06,0.35%20261.84,0.35%20265.38,0.85%20268.6,1.93%20L%20267.78,9.19%20Z%20M%20267.78,9.19'%20/%3e%3cpath%20id='fdplockuplogoinverted-bezier10'%20stroke='none'%20fill='rgb(254,%20254,%20254)'%20d='M%20287.4,1.11%20L%20311.89,1.11%20311.89,8.05%20296.23,8.05%20296.23,18.91%20311.13,18.91%20311.13,25.85%20296.23,25.85%20296.23,45.17%20287.4,45.17%20287.4,1.11%20Z%20M%20287.4,1.11'%20/%3e%3cpath%20id='fdplockuplogoinverted-bezier11'%20stroke='none'%20fill='rgb(254,%20254,%20254)'%20d='M%20327.66,38.23%20L%20332.59,38.23%20C%20339.97,38.23%20347.11,32.73%20347.11,23.14%20347.11,13.54%20339.97,8.05%20332.59,8.05%20L%20327.66,8.05%20327.66,38.23%20Z%20M%20318.82,1.1%20L%20330.88,1.1%20C%20344.39,1.1%20356.32,5.65%20356.32,23.14%20356.32,40.63%20344.39,45.17%20330.88,45.17%20L%20318.82,45.17%20318.82,1.1%20Z%20M%20318.82,1.1'%20/%3e%3cpath%20id='fdplockuplogoinverted-bezier12'%20stroke='none'%20fill='rgb(254,%20254,%20254)'%20d='M%20372.09,21.5%20L%20375.19,21.5%20C%20379.61,21.5%20383.58,20.04%20383.58,14.93%20383.58,9.82%20379.73,8.05%20375.19,8.05%20L%20372.09,8.05%20372.09,21.5%20Z%20M%20363.26,1.11%20L%20374.43,1.11%20C%20384.03,1.11%20392.8,3.88%20392.8,14.43%20392.8,24.72%20385.29,28.44%20375.82,28.44%20L%20372.09,28.44%20372.09,45.17%20363.26,45.17%20363.26,1.11%20Z%20M%20363.26,1.11'%20/%3e%3cg%20id='fdplockuplogoinverted-group3'%3e%3cg%20id='fdplockuplogoinverted-squareGroup'%3e%3crect%20id='fdplockuplogoinverted-rectangle'%20stroke='none'%20fill='rgb(34,%2094,%20172)'%20x='0.02'%20y='0.49'%20width='45.6'%20height='46.6'%20/%3e%3crect%20id='fdplockuplogoinverted-rectangle2'%20stroke='none'%20fill='url(%23fdplockuplogoinverted-gradient-rectangle2)'%20x='0'%20y='0'%20width='45.65'%20height='23'%20/%3e%3c/g%3e%3cg%20id='fdplockuplogoinverted-hexagonGroup'%3e%3cpath%20id='fdplockuplogoinverted-polygon'%20stroke='none'%20fill='rgb(73,%20160,%20152)'%20d='M%2058.9,-0%20L%2085.5,-0%2098.8,23.53%2085.5,47.06%2058.9,47.06%2045.6,23.53%2058.9,-0%20Z%20M%2058.9,-0'%20/%3e%3cg%20id='fdplockuplogoinverted-hexagon'%3e%3cpath%20id='fdplockuplogoinverted-clip'%20stroke='none'%20fill='url(%23fdplockuplogoinverted-gradient2-clip)'%20d='M%2058.93,-0%20L%2045.64,24%2098.8,24%2085.51,-0%2058.93,-0%20Z%20M%2058.93,-0'%20/%3e%3c/g%3e%3c/g%3e%3cg%20id='fdplockuplogoinverted-circleGroup'%3e%3cg%20id='fdplockuplogoinverted-group'%3e%3ccircle%20id='fdplockuplogoinverted-oval'%20stroke='none'%20fill='rgb(214,%20203,%20226)'%20cx='121.75'%20cy='23.3'%20r='23.3'%20/%3e%3cpath%20id='fdplockuplogoinverted-bezier4'%20stroke='none'%20fill='url(%23fdplockuplogoinverted-gradient4-bezier4)'%20d='M%20121.75,23.3%20L%2098.45,23.3%20C%2098.45,36.17%20108.88,46.61%20121.75,46.61%20L%20121.75,46.61%20C%20134.62,46.61%20145.05,36.17%20145.05,23.3%20L%20145.05,23.3%20121.75,23.3%20Z%20M%20121.75,23.3'%20/%3e%3c/g%3e%3c/g%3e%3cpath%20id='fdplockuplogoinverted-bezier5'%20stroke='rgb(217,%20216,%20216)'%20stroke-width='1'%20stroke-miterlimit='2.49'%20fill='none'%20d='M%2022.3,23.48%20L%20122.54,23.48'%20/%3e%3c/g%3e%3c/svg%3e";var Pf=(t=>(t.NHS="nhs",t.FDP="fdp",t))(Pf||{}),Af=(t=>(t.Full="full",t.Graphic="graphic",t.Inverse="inverse",t.TwoLine="twoLine",t.TwoLineInverse="twoLineInverse",t.Compact="compact",t.CompactInverted="compactInverted",t))(Af||{});const sx={nhs:{},fdp:{full:{brand:"fdp",variant:"full",src:Qv,ariaLabel:"FDP"},graphic:{brand:"fdp",variant:"graphic",src:rx,ariaLabel:"FDP"},inverse:{brand:"fdp",variant:"inverse",src:nx,ariaLabel:"FDP"},twoLine:{brand:"fdp",variant:"twoLine",src:ex,ariaLabel:"FDP"},twoLineInverse:{brand:"fdp",variant:"twoLineInverse",src:tx,ariaLabel:"FDP"},compact:{brand:"fdp",variant:"compact",src:ix,ariaLabel:"FDP"},compactInverted:{brand:"fdp",variant:"compactInverted",src:ox,ariaLabel:"FDP"}}};function ax(t,e="full"){return sx[t]?.[e]}function lx(t,{variant:e,isClient:n,menuOpen:r=!1,showMoreButton:i=!1,visibleItems:o,dropdownVisible:s,toggleMenu:a,navContainerRef:c,navListRef:u,searchNode:d,brand:f}){const{className:p,logo:h={},service:y={},serviceName:m,organisation:g,search:N,account:M,navigation:j,containerClasses:_,variant:b="default",attributes:S={},maxVisibleItems:C,responsiveNavigation:k=!0,logoVariant:v=Af.Full,...x}=t,A={...y,text:y?.text??m};"maxVisibleItems"in x&&delete x.maxVisibleItems;const I=A.href&&!h.href||A.href&&A.href===h.href,O=I?A.href:h.href,E=Ie("nhsuk-header",{"nhsuk-header--organisation":b==="organisation"||g,"nhsuk-header--white":b==="white"},p),L=Ie("nhsuk-header__container",_),D=Ie("nhsuk-header__navigation",{"nhsuk-header__navigation--white":j?.white,"nhsuk-header__navigation--justified":j?.justified},j?.className),K=f??(typeof document>"u"?"nhs":document.documentElement.getAttribute("data-brand")==="fdp"?"fdp":"nhs"),W=()=>l.jsxs("svg",{className:"nhsuk-header__logo",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 200 80",height:"40",width:"100",focusable:"false",role:"img","aria-label":h.ariaLabel||"NHS",children:[l.jsx("title",{children:h.ariaLabel||"NHS"}),l.jsx("path",{fill:"#fff",d:"M200 0v80H0V0h200Zm-27.5 5.5c-14.5 0-29 5-29 22 0 10.2 7.7 13.5 14.7 16.3l.7.3c5.4 2 10.1 3.9 10.1 8.4 0 6.5-8.5 7.5-14 7.5s-12.5-1.5-16-3.5L135 70c5.5 2 13.5 3.5 20 3.5 15.5 0 32-4.5 32-22.5 0-19.5-25.5-16.5-25.5-25.5 0-5.5 5.5-6.5 12.5-6.5a35 35 0 0 1 14.5 3l4-13.5c-4.5-2-12-3-20-3Zm-131 2h-22l-14 65H22l9-45h.5l13.5 45h21.5l14-65H64l-9 45h-.5l-13-45Zm63 0h-18l-13 65h17l6-28H117l-5.5 28H129l13.5-65H125L119.5 32h-20l5-24.5Z"})]}),T=()=>{if(h.src)return l.jsx("img",{className:"nhsuk-header__organisation-logo",src:h.src,width:"280",alt:h.ariaLabel||(K==="fdp"?"FDP":"NHS")});if(K==="fdp"){const z=ax(Pf.FDP,v);if(z?.src)return l.jsx("img",{className:"nhsuk-header__organisation-logo",src:z.src,"data-logo-variant":v,width:"280",alt:z.ariaLabel||"FDP"})}return W()},Q=()=>g?l.jsxs(l.Fragment,{children:[l.jsxs("span",{className:"nhsuk-header__organisation-name",children:[g.name,g.split&&l.jsxs("span",{className:"nhsuk-header__organisation-name-split",children:[" ",g.split]})]}),g.descriptor&&l.jsx("span",{className:"nhsuk-header__organisation-name-descriptor",children:g.descriptor})]}):null,G=(z,oe)=>z?oe?l.jsx("a",{className:"nhsuk-header__service-name",href:oe,children:z}):l.jsx("span",{className:"nhsuk-header__service-name",children:z}):null,U=z=>z.active||z.current?l.jsx("strong",{className:"nhsuk-header__navigation-item-current-fallback",children:z.html?l.jsx("span",{dangerouslySetInnerHTML:{__html:z.html}}):z.text}):z.html?l.jsx("span",{dangerouslySetInnerHTML:{__html:z.html}}):z.text,ee=()=>l.jsx("svg",{className:"nhsuk-icon nhsuk-icon__chevron-down",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24","aria-hidden":"true",focusable:"false",children:l.jsx("path",{d:"M15.5 12a1 1 0 0 1-.29.71l-5 5a1 1 0 0 1-1.42-1.42l4.3-4.29-4.3-4.29a1 1 0 0 1 1.42-1.42l5 5a1 1 0 0 1 .29.71z"})});return j?.items,l.jsxs("header",{className:E,role:"banner","data-module":"nhsuk-header",...S,...x,children:[l.jsxs("div",{className:L,children:[l.jsxs("div",{className:"nhsuk-header__service",children:[O?l.jsxs("a",{className:"nhsuk-header__service-logo",href:O,children:[T(),Q(),I&&G(A.text)]}):l.jsxs(l.Fragment,{children:[T(),Q(),I&&G(A.text)]}),A.text&&!I&&G(A.text,A.href)]}),d??null,l.jsx(Vl,{...M,variant:b==="white"?"white":"default"})]}),j&&j.items&&j.items.length>0&&l.jsx("nav",{className:D,"aria-label":j.ariaLabel||"Menu",children:l.jsx("div",{className:Ie("nhsuk-header__navigation-container","nhsuk-width-container",{"nhsuk-header__navigation-container--initializing":n&&e==="client","nhsuk-header__navigation-container--ssr":!n},_),ref:c,children:l.jsxs("ul",{className:"nhsuk-header__navigation-list",ref:u,children:[(j?.items||[]).map((z,oe)=>l.jsx("li",{className:Ie("nhsuk-header__navigation-item",{"nhsuk-header__navigation-item--current":z.active||z.current,"nhsuk-header__navigation-item--hidden":i&&o!==void 0&&oe>=(o??0)},z.className),...z.attributes||{},children:l.jsx("a",{className:"nhsuk-header__navigation-link",href:z.href,...z.active||z.current?{"aria-current":z.current?"page":"true"}:{},children:U(z)})},oe)),i&&o!==void 0&&l.jsx("li",{className:"nhsuk-header__navigation-item nhsuk-header__navigation-item--more",children:l.jsxs("button",{className:"nhsuk-header__navigation-button",id:"toggle-more-menu",type:"button","aria-haspopup":"true","aria-expanded":r?"true":"false","aria-controls":"nhsuk-header-more-menu",onClick:a,children:[l.jsx("span",{children:"More"}),ee()]})})]})})}),n&&j&&j.items&&j.items.length>0&&r&&s&&l.jsx("div",{className:"nhsuk-header__dropdown-menu",hidden:!s,id:"nhsuk-header-more-menu",children:l.jsx("ul",{className:"nhsuk-header__dropdown-list",children:j.items.slice(o??0).map((z,oe)=>l.jsx("li",{className:Ie("nhsuk-header__dropdown-item",{"nhsuk-header__dropdown-item--current":z.active||z.current}),children:l.jsx("a",{className:"nhsuk-header__dropdown-link",href:z.href,...z.active||z.current?{"aria-current":z.current?"page":"true"}:{},onClick:()=>{a?.()},children:U(z)})},`overflow-${(o??0)+oe}`))})}),e==="server"]})}const tc=$.createContext(void 0);function cx({brand:t="nhs",scope:e="document",children:n}){const[r,i]=$.useState(t);$.useEffect(()=>{i(t)},[t]),$.useEffect(()=>{if(e==="document")return document.documentElement.setAttribute("data-brand",r),()=>{}},[r,e]);const o=$.useMemo(()=>({brand:r,setBrand:i}),[r]);return e==="local"?l.jsx(tc.Provider,{value:o,children:l.jsx("div",{"data-brand":r,children:n})}):l.jsx(tc.Provider,{value:o,children:n})}function Ef(){const t=$.useContext(tc);if(!t)throw new Error("useBrand must be used within BrandThemeProvider");return t}const Ff=({mode:t="form",action:e="/search",method:n="get",name:r="q",value:i,placeholder:o="Search",visuallyHiddenLabel:s="Search the NHS website",visuallyHiddenButton:a="Search",className:c,disabled:u=!1,callbacks:d={},isLoading:f=!1,showResults:p=!1,results:h=[],formAttributes:y={},inputAttributes:m={},buttonAttributes:g={},preventDefaultSubmit:N=!1,debounceMs:M=300,minQueryLength:j=1})=>{const[_,b]=$.useState(""),[S,C]=$.useState(!1),k=$.useRef(void 0),v=$.useRef(null),x=$.useRef(null),A=t==="controlled"&&i!==void 0,I=A?i:_,O=$.useCallback(U=>{k.current&&clearTimeout(k.current),k.current=setTimeout(()=>{d.onChange&&U.length>=j&&d.onChange(U)},M)},[d.onChange,M,j]),E=$.useCallback(U=>{const ee=U.target.value;A||b(ee),t!=="form"&&O(ee)},[A,t,O]),L=$.useCallback(U=>{const ee=I.trim(),z={query:ee,timestamp:Date.now(),formData:new FormData(U.currentTarget)};t==="controlled"||t==="hybrid"&&N?(U.preventDefault(),d.onSearch&&ee.length>=j&&d.onSearch(z)):t==="hybrid"&&d.onSearch&&ee.length>=j&&d.onSearch(z)},[t,I,d.onSearch,N,j]),D=$.useCallback(()=>{C(!0),d.onFocus?.()},[d.onFocus]),F=$.useCallback(()=>{C(!1),d.onBlur?.()},[d.onBlur]),K=$.useCallback(()=>{A||b(""),d.onClear?.(),x.current?.focus()},[A,d.onClear]);$.useEffect(()=>()=>{k.current&&clearTimeout(k.current)},[]);const W=()=>l.jsx("svg",{className:Ie("nhsuk-icon nhsuk-icon__search",{"nhsuk-icon__search--loading":f}),xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24","aria-hidden":"true",focusable:"false",children:l.jsx("path",{d:"M19.71 18.29l-4.11-4.1a7 7 0 1 0-1.41 1.41l4.1 4.11a1 1 0 0 0 1.42 0 1 1 0 0 0 0-1.42zM5 10a5 5 0 1 1 5 5 5 5 0 0 1-5-5z"})}),T=()=>l.jsx("svg",{className:"nhsuk-icon nhsuk-icon__spinner",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24","aria-hidden":"true",focusable:"false",children:l.jsxs("circle",{cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"2",fill:"none",strokeLinecap:"round",strokeDasharray:"31.416",strokeDashoffset:"31.416",children:[l.jsx("animate",{attributeName:"stroke-dasharray",dur:"2s",values:"0 31.416;15.708 15.708;0 31.416",repeatCount:"indefinite"}),l.jsx("animate",{attributeName:"stroke-dashoffset",dur:"2s",values:"0;-15.708;-31.416",repeatCount:"indefinite"})]})}),Q=()=>!I||t==="form"?null:l.jsx("button",{type:"button",className:"nhsuk-header__search-clear",onClick:K,"aria-label":"Clear search",children:l.jsx("svg",{className:"nhsuk-icon nhsuk-icon__close",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24","aria-hidden":"true",focusable:"false",children:l.jsx("path",{d:"M13.41 12l5.3-5.29a1 1 0 1 0-1.42-1.42L12 10.59l-5.29-5.3a1 1 0 0 0-1.42 1.42l5.3 5.29-5.3 5.29a1 1 0 0 0 1.42 1.42l5.29-5.3 5.29 5.3a1 1 0 0 0 1.42-1.42z"})})}),G=()=>!p||!h.length||!S?null:l.jsx("div",{className:"nhsuk-header__search-results",role:"listbox",children:h.map(U=>l.jsx("div",{className:"nhsuk-header__search-result",role:"option",children:U.href?l.jsxs("a",{href:U.href,className:"nhsuk-header__search-result-link",children:[l.jsx("span",{className:"nhsuk-header__search-result-title",children:U.title}),U.description&&l.jsx("span",{className:"nhsuk-header__search-result-description",children:U.description})]}):l.jsxs("button",{type:"button",className:"nhsuk-header__search-result-button",onClick:()=>d.onSearch?.({query:U.title,timestamp:Date.now()}),children:[l.jsx("span",{className:"nhsuk-header__search-result-title",children:U.title}),U.description&&l.jsx("span",{className:"nhsuk-header__search-result-description",children:U.description})]})},U.id))});return l.jsxs("div",{className:Ie("nhsuk-header__search",c,{"nhsuk-header__search--controlled":t==="controlled","nhsuk-header__search--hybrid":t==="hybrid","nhsuk-header__search--loading":f,"nhsuk-header__search--focused":S,"nhsuk-header__search--has-results":p&&h.length>0}),children:[l.jsxs("form",{ref:v,className:"nhsuk-header__search-form",id:"search",action:t!=="controlled"?e:void 0,method:t!=="controlled"?n:void 0,role:"search",onSubmit:L,...y,children:[l.jsx("label",{className:"nhsuk-u-visually-hidden",htmlFor:"search-field",children:s}),l.jsxs("div",{className:"nhsuk-header__search-input-wrapper",children:[l.jsx("input",{ref:x,className:"nhsuk-header__search-input nhsuk-input",id:"search-field",name:t!=="controlled"?r:void 0,type:"search",placeholder:o,autoComplete:"off",value:I,onChange:E,onFocus:D,onBlur:F,disabled:u||f,...p&&h.length>0?{"aria-expanded":!0,"aria-haspopup":"listbox"}:{},...m}),Q()]}),l.jsxs("button",{className:"nhsuk-header__search-submit",type:"submit",disabled:u||f||t!=="form"&&I.length<j,...g,children:[f?T():W(),l.jsx("span",{className:"nhsuk-u-visually-hidden",children:f?"Searching...":a})]})]}),G()]})},Qs=({className:t,logo:e={},service:n={},organisation:r,search:i,account:o,navigation:s,containerClasses:a,variant:c="default",attributes:u={},...d})=>{const[f,p]=$.useState(!1),[h,y]=$.useState(!1),[m,g]=$.useState(s?.items?.length||0),[N,M]=$.useState(!1),[j,_]=$.useState(!1),b=$.useRef(null),S=$.useRef(null),C=$.useRef(!1);$.useEffect(()=>{typeof window>"u"||_(!0)},[]),$.useEffect(()=>{if(typeof document>"u")return;const I=O=>{O.key==="Escape"&&f&&p(!1)};if(f)return document.addEventListener("keydown",I),()=>document.removeEventListener("keydown",I)},[f]);const k=$.useRef(null),v=$.useCallback(()=>{if(!j||!s?.items||s.items.length===0||C.current)return;const I=b.current,O=S.current;if(!I||!O)return;C.current=!0,I.classList.add("nhsuk-header__navigation-container--measuring");const E=I.clientWidth,L=Array.from(O.children);if(!L.length){I.classList.remove("nhsuk-header__navigation-container--measuring"),C.current=!1;return}if(k.current==null){const z=document.createElement("button");z.type="button",z.className="nhsuk-header__navigation-button nhsuk-header__navigation-button--prototype",z.style.position="absolute",z.style.visibility="hidden",z.style.pointerEvents="none",z.innerHTML="<span>More</span>",I.appendChild(z),k.current=z.getBoundingClientRect().width||104,I.removeChild(z)}const D=k.current+16;let F=0,K=0;const W=window.getComputedStyle(I),T=parseFloat(W.paddingLeft)||0,Q=parseFloat(W.paddingRight)||0;let G=T+Q;for(const z of L){const oe=z.getBoundingClientRect().width;if(F+oe+D+G>E)break;F+=oe,K+=1}const U=K<s.items.length,ee=U?K:s.items.length;y(z=>z===U?z:U),g(z=>z===ee?z:ee),I.classList.remove("nhsuk-header__navigation-container--measuring"),C.current=!1},[j,s?.items]);$.useEffect(()=>{if(!j)return;const I=b.current;if(!I)return;let O=null;const E=()=>{O==null&&(O=window.requestAnimationFrame(()=>{O=null,v()}))};v();const L=new ResizeObserver(()=>E());return L.observe(I),S.current&&L.observe(S.current),()=>{O!=null&&window.cancelAnimationFrame(O),L.disconnect()}},[j,v]),$.useEffect(()=>{j&&v()},[s?.items?.length,j,v]);const x=I=>{I&&(I.preventDefault(),I.stopPropagation());const O=!f;p(O),M(O)},A=(()=>{try{return Ef()}catch{return}})();return lx({className:t,logo:e,service:n,organisation:r,search:i,account:o,navigation:s,containerClasses:a,variant:c,attributes:u,...d},{variant:"client",isClient:j,menuOpen:f,showMoreButton:h,visibleItems:m,dropdownVisible:N,toggleMenu:x,navContainerRef:b,navListRef:S,searchNode:i?l.jsx(Ff,{...i}):null,brand:A?.brand})};function ux(t,{variant:e,isClient:n}){const{className:r,logo:i={},service:o={},serviceName:s,organisation:a,account:c,navigation:u,containerClasses:d,variant:f="default",attributes:p={},maxVisibleItems:h,responsiveNavigation:y=!0,...m}=t;"maxVisibleItems"in m&&delete m.maxVisibleItems;const g={...o,text:o?.text??s},N=g.href&&!i.href||g.href&&g.href===i.href,M=N?g.href:i.href,j=Ie("nhsuk-header",{"nhsuk-header--organisation":f==="organisation"||a,"nhsuk-header--white":f==="white"},r),_=Ie("nhsuk-header__container",d),b=Ie("nhsuk-header__navigation",{"nhsuk-header__navigation--white":u?.white,"nhsuk-header__navigation--justified":u?.justified},u?.className),S=()=>l.jsxs("svg",{className:"nhsuk-header__logo",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 200 80",height:"40",width:"100",focusable:"false",role:"img","aria-label":i.ariaLabel||"NHS",children:[l.jsx("title",{children:i.ariaLabel||"NHS"}),l.jsx("path",{fill:"#fff",d:"M200 0v80H0V0h200Zm-27.5 5.5c-14.5 0-29 5-29 22 0 10.2 7.7 13.5 14.7 16.3l.7.3c5.4 2 10.1 3.9 10.1 8.4 0 6.5-8.5 7.5-14 7.5s-12.5-1.5-16-3.5L135 70c5.5 2 13.5 3.5 20 3.5 15.5 0 32-4.5 32-22.5 0-19.5-25.5-16.5-25.5-25.5 0-5.5 5.5-6.5 12.5-6.5a35 35 0 0 1 14.5 3l4-13.5c-4.5-2-12-3-20-3Zm-131 2h-22l-14 65H22l9-45h.5l13.5 45h21.5l14-65H64l-9 45h-.5l-13-45Zm63 0h-18l-13 65h17l6-28H117l-5.5 28H129l13.5-65H125L119.5 32h-20l5-24.5Z"})]}),C=()=>i.src?l.jsx("img",{className:"nhsuk-header__organisation-logo",src:i.src,width:"280",alt:i.ariaLabel||"NHS"}):S(),k=()=>a?l.jsxs(l.Fragment,{children:[l.jsxs("span",{className:"nhsuk-header__organisation-name",children:[a.name,a.split&&l.jsxs("span",{className:"nhsuk-header__organisation-name-split",children:[" ",a.split]})]}),a.descriptor&&l.jsx("span",{className:"nhsuk-header__organisation-name-descriptor",children:a.descriptor})]}):null,v=(E,L)=>E?L?l.jsx("a",{className:"nhsuk-header__service-name",href:L,children:E}):l.jsx("span",{className:"nhsuk-header__service-name",children:E}):null,x=E=>E.active||E.current?l.jsx("strong",{className:"nhsuk-header__navigation-item-current-fallback",children:E.html?l.jsx("span",{dangerouslySetInnerHTML:{__html:E.html}}):E.text}):E.html?l.jsx("span",{dangerouslySetInnerHTML:{__html:E.html}}):E.text,A=u?.items&&!y,I=A?[]:u?.items,O=A?u.items:[];return l.jsxs("header",{className:j,role:"banner","data-module":"nhsuk-header",...p,...m,children:[l.jsxs("div",{className:_,children:[l.jsxs("div",{className:"nhsuk-header__service",children:[M?l.jsxs("a",{className:"nhsuk-header__service-logo",href:M,children:[C(),k(),N&&v(g.text)]}):l.jsxs(l.Fragment,{children:[C(),k(),N&&v(g.text)]}),g.text&&!N&&v(g.text,g.href)]}),l.jsx(Vl,{...c,variant:f==="white"?"white":"default"})]}),u&&u.items&&u.items.length>0&&l.jsx("nav",{className:b,"aria-label":u.ariaLabel||"Menu",children:l.jsx("div",{className:Ie("nhsuk-header_navigation-container","nhsuk-width-container",{"nhsuk-header__navigation-container--ssr":!n},d),children:l.jsx("ul",{className:"nhsuk-header__navigation-list",children:(I||[]).map((E,L)=>l.jsx("li",{className:Ie("nhsuk-header__navigation-item",{"nhsuk-header__navigation-item--current":E.active||E.current},E.className),...E.attributes||{},children:l.jsx("a",{className:"nhsuk-header__navigation-link",href:E.href,...E.active||E.current?{"aria-current":E.current?"page":"true"}:{},children:x(E)})},L))})})}),A&&O.length>0&&l.jsx("div",{className:"nhsuk-header__dropdown-menu","data-ssr-overflow":"true",children:l.jsx("ul",{className:"nhsuk-header__dropdown-list",children:O.map((E,L)=>l.jsx("li",{className:Ie("nhsuk-header__dropdown-item",{"nhsuk-header__dropdown-item--current":E.active||E.current}),children:l.jsx("a",{className:"nhsuk-header__dropdown-link",href:E.href,...E.active||E.current?{"aria-current":E.current?"page":"true"}:{},children:x(E)})},`overflow-server-${L}`))})})]})}const dx=t=>ux(t,{variant:"server",isClient:!1}),$f=({heading:t,headingLevel:e=1,headingClasses:n="",text:r,html:i,imageURL:o,containerClasses:s="",classes:a="",children:c,...u})=>{const d=["nhsuk-hero",o&&t?"nhsuk-hero--image nhsuk-hero--image-description":"",o&&!t?"nhsuk-hero--image":"",a].filter(Boolean).join(" "),f=["nhsuk-width-container",s,o?"":"nhsuk-hero--border"].filter(Boolean).join(" "),p=["nhsuk-hero__heading",n,!c&&!r&&!i?"nhsuk-u-margin-bottom-0":""].filter(Boolean).join(" "),h=c||t||r||i,y=()=>{if(!t)return null;const m={className:p};switch(e){case 1:return l.jsx("h1",{...m,children:t});case 2:return l.jsx("h2",{...m,children:t});case 3:return l.jsx("h3",{...m,children:t});case 4:return l.jsx("h4",{...m,children:t});case 5:return l.jsx("h5",{...m,children:t});case 6:return l.jsx("h6",{...m,children:t});default:return l.jsx("h1",{...m,children:t})}};return l.jsxs("section",{className:d,style:o?{backgroundImage:`url('${o}')`}:void 0,role:"banner",...u,children:[o&&l.jsx("div",{className:"nhsuk-hero__overlay",children:h&&l.jsx("div",{className:f,children:l.jsx("div",{className:"nhsuk-grid-row",children:l.jsx("div",{className:"nhsuk-grid-column-two-thirds",children:l.jsxs("div",{className:"nhsuk-hero-content",children:[y(),c||(i?l.jsx("div",{dangerouslySetInnerHTML:{__html:i}}):r?l.jsx("p",{className:"nhsuk-body-l nhsuk-u-margin-bottom-0",children:r}):null),l.jsx("span",{className:"nhsuk-hero__arrow","aria-hidden":"true"})]})})})})}),!o&&h&&l.jsx("div",{className:f,children:l.jsx("div",{className:"nhsuk-grid-row",children:l.jsx("div",{className:"nhsuk-grid-column-two-thirds",children:l.jsxs("div",{className:"nhsuk-hero__wrapper",children:[y(),c||(i?l.jsx("div",{dangerouslySetInnerHTML:{__html:i}}):r?l.jsx("p",{className:"nhsuk-body-l nhsuk-u-margin-bottom-0",children:r}):null)]})})})})]})};$f.displayName="Hero";const nc=({className:t,links:e=[],linksColumn2:n,linksColumn3:r,metaLinks:i,copyright:o="Â© NHS England",containerClasses:s,attributes:a={},style:c,footerStyle:u,containerStyle:d})=>{const f=(h,y=!1)=>l.jsx("li",{className:Ie("nhsuk-footer__list-item",{"nhsuk-footer-default__list-item":y}),children:l.jsx("a",{className:"nhsuk-footer__list-item-link",href:h.URL,target:h.newWindow?"_blank":void 0,rel:h.newWindow?"noopener noreferrer":void 0,children:h.label})},`${h.URL}-${h.label}`),p=!!(n||r);return l.jsx("footer",{role:"contentinfo",...a,style:{...a?.style,...c},children:l.jsxs("div",{className:"nhsuk-footer-container",children:[l.jsxs("div",{className:Ie("nhsuk-width-container",s),style:d,children:[l.jsx("h2",{className:"nhsuk-u-visually-hidden",children:"Support links"}),l.jsx("div",{className:Ie("nhsuk-footer",t),style:u,children:p?l.jsxs(l.Fragment,{children:[e.length>0&&l.jsx("ul",{className:"nhsuk-footer__list",children:e.map(h=>f(h))}),n&&n.length>0&&l.jsx("ul",{className:"nhsuk-footer__list",children:n.map(h=>f(h))}),r&&r.length>0&&l.jsx("ul",{className:"nhsuk-footer__list",children:r.map(h=>f(h))}),i&&i.length>0&&l.jsx("ul",{className:"nhsuk-footer__list nhsuk-footer__meta",children:i.map(h=>f(h))})]}):l.jsxs("ul",{className:"nhsuk-footer__list",children:[e.map(h=>f(h,!0)),(n||[]).map(h=>f(h,!0)),(r||[]).map(h=>f(h,!0)),(i||[]).map(h=>f(h,!0))]})}),!p&&l.jsx("div",{children:l.jsx("p",{className:"nhsuk-footer__copyright",children:o})})]}),p&&l.jsx("div",{className:"nhsuk-width-container",children:l.jsx("div",{children:l.jsx("p",{className:"nhsuk-footer__copyright",children:o})})})]})})};function ea(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function fx(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function rc(t){let e,n,r;t.length!==2?(e=ea,n=(a,c)=>ea(t(a),c),r=(a,c)=>t(a)-c):(e=t===ea||t===fx?t:hx,n=t,r=t);function i(a,c,u=0,d=a.length){if(u<d){if(e(c,c)!==0)return d;do{const f=u+d>>>1;n(a[f],c)<0?u=f+1:d=f}while(u<d)}return u}function o(a,c,u=0,d=a.length){if(u<d){if(e(c,c)!==0)return d;do{const f=u+d>>>1;n(a[f],c)<=0?u=f+1:d=f}while(u<d)}return u}function s(a,c,u=0,d=a.length){const f=i(a,c,u,d-1);return f>u&&r(a[f-1],c)>-r(a[f],c)?f-1:f}return{left:i,center:s,right:o}}function hx(){return 0}function px(t){return t===null?NaN:+t}const mx=rc(ea).right;rc(px).center;function Bf(t,e){let n,r;if(e===void 0)for(const i of t)i!=null&&(n===void 0?i>=i&&(n=r=i):(n>i&&(n=i),r<i&&(r=i)));else{let i=-1;for(let o of t)(o=e(o,++i,t))!=null&&(n===void 0?o>=o&&(n=r=o):(n>o&&(n=o),r<o&&(r=o)))}return[n,r]}class Of extends Map{constructor(e,n=bx){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(const[r,i]of e)this.set(r,i)}get(e){return super.get(Rf(this,e))}has(e){return super.has(Rf(this,e))}set(e,n){return super.set(gx(this,e),n)}delete(e){return super.delete(yx(this,e))}}function Rf({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):n}function gx({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):(t.set(r,n),n)}function yx({_intern:t,_key:e},n){const r=e(n);return t.has(r)&&(n=t.get(r),t.delete(r)),n}function bx(t){return t!==null&&typeof t=="object"?t.valueOf():t}const vx=Math.sqrt(50),xx=Math.sqrt(10),_x=Math.sqrt(2);function ta(t,e,n){const r=(e-t)/Math.max(0,n),i=Math.floor(Math.log10(r)),o=r/Math.pow(10,i),s=o>=vx?10:o>=xx?5:o>=_x?2:1;let a,c,u;return i<0?(u=Math.pow(10,-i)/s,a=Math.round(t*u),c=Math.round(e*u),a/u<t&&++a,c/u>e&&--c,u=-u):(u=Math.pow(10,i)*s,a=Math.round(t/u),c=Math.round(e/u),a*u<t&&++a,c*u>e&&--c),c<a&&.5<=n&&n<2?ta(t,e,n*2):[a,c,u]}function wx(t,e,n){if(e=+e,t=+t,n=+n,!(n>0))return[];if(t===e)return[t];const r=e<t,[i,o,s]=r?ta(e,t,n):ta(t,e,n);if(!(o>=i))return[];const a=o-i+1,c=new Array(a);if(r)if(s<0)for(let u=0;u<a;++u)c[u]=(o-u)/-s;else for(let u=0;u<a;++u)c[u]=(o-u)*s;else if(s<0)for(let u=0;u<a;++u)c[u]=(i+u)/-s;else for(let u=0;u<a;++u)c[u]=(i+u)*s;return c}function ic(t,e,n){return e=+e,t=+t,n=+n,ta(t,e,n)[2]}function oc(t,e,n){e=+e,t=+t,n=+n;const r=e<t,i=r?ic(e,t,n):ic(t,e,n);return(r?-1:1)*(i<0?1/-i:i)}function Sx(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((e-t)/n))|0,o=new Array(i);++r<i;)o[r]=t+r*n;return o}function na(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}const zf=Symbol("implicit");function Hf(){var t=new Of,e=[],n=[],r=zf;function i(o){let s=t.get(o);if(s===void 0){if(r!==zf)return r;t.set(o,s=e.push(o)-1)}return n[s%n.length]}return i.domain=function(o){if(!arguments.length)return e.slice();e=[],t=new Of;for(const s of o)t.has(s)||t.set(s,e.push(s)-1);return i},i.range=function(o){return arguments.length?(n=Array.from(o),i):n.slice()},i.unknown=function(o){return arguments.length?(r=o,i):r},i.copy=function(){return Hf(e,n).unknown(r)},na.apply(i,arguments),i}function Uf(){var t=Hf().unknown(void 0),e=t.domain,n=t.range,r=0,i=1,o,s,a=!1,c=0,u=0,d=.5;delete t.unknown;function f(){var p=e().length,h=i<r,y=h?i:r,m=h?r:i;o=(m-y)/Math.max(1,p-c+u*2),a&&(o=Math.floor(o)),y+=(m-y-o*(p-c))*d,s=o*(1-c),a&&(y=Math.round(y),s=Math.round(s));var g=Sx(p).map(function(N){return y+o*N});return n(h?g.reverse():g)}return t.domain=function(p){return arguments.length?(e(p),f()):e()},t.range=function(p){return arguments.length?([r,i]=p,r=+r,i=+i,f()):[r,i]},t.rangeRound=function(p){return[r,i]=p,r=+r,i=+i,a=!0,f()},t.bandwidth=function(){return s},t.step=function(){return o},t.round=function(p){return arguments.length?(a=!!p,f()):a},t.padding=function(p){return arguments.length?(c=Math.min(1,u=+p),f()):c},t.paddingInner=function(p){return arguments.length?(c=Math.min(1,p),f()):c},t.paddingOuter=function(p){return arguments.length?(u=+p,f()):u},t.align=function(p){return arguments.length?(d=Math.max(0,Math.min(1,p)),f()):d},t.copy=function(){return Uf(e(),[r,i]).round(a).paddingInner(c).paddingOuter(u).align(d)},na.apply(f(),arguments)}function sc(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function Wf(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function vo(){}var xo=.7,ra=1/xo,Li="\\s*([+-]?\\d+)\\s*",_o="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Yn="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",kx=/^#([0-9a-f]{3,8})$/,Cx=new RegExp(`^rgb\\(${Li},${Li},${Li}\\)$`),Nx=new RegExp(`^rgb\\(${Yn},${Yn},${Yn}\\)$`),Mx=new RegExp(`^rgba\\(${Li},${Li},${Li},${_o}\\)$`),Tx=new RegExp(`^rgba\\(${Yn},${Yn},${Yn},${_o}\\)$`),jx=new RegExp(`^hsl\\(${_o},${Yn},${Yn}\\)$`),Dx=new RegExp(`^hsla\\(${_o},${Yn},${Yn},${_o}\\)$`),Gf={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};sc(vo,wo,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:Yf,formatHex:Yf,formatHex8:Ix,formatHsl:Lx,formatRgb:Vf,toString:Vf});function Yf(){return this.rgb().formatHex()}function Ix(){return this.rgb().formatHex8()}function Lx(){return Kf(this).formatHsl()}function Vf(){return this.rgb().formatRgb()}function wo(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=kx.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?Zf(e):n===3?new fn(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?ia(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?ia(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=Cx.exec(t))?new fn(e[1],e[2],e[3],1):(e=Nx.exec(t))?new fn(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=Mx.exec(t))?ia(e[1],e[2],e[3],e[4]):(e=Tx.exec(t))?ia(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=jx.exec(t))?Jf(e[1],e[2]/100,e[3]/100,1):(e=Dx.exec(t))?Jf(e[1],e[2]/100,e[3]/100,e[4]):Gf.hasOwnProperty(t)?Zf(Gf[t]):t==="transparent"?new fn(NaN,NaN,NaN,0):null}function Zf(t){return new fn(t>>16&255,t>>8&255,t&255,1)}function ia(t,e,n,r){return r<=0&&(t=e=n=NaN),new fn(t,e,n,r)}function Px(t){return t instanceof vo||(t=wo(t)),t?(t=t.rgb(),new fn(t.r,t.g,t.b,t.opacity)):new fn}function ac(t,e,n,r){return arguments.length===1?Px(t):new fn(t,e,n,r??1)}function fn(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}sc(fn,ac,Wf(vo,{brighter(t){return t=t==null?ra:Math.pow(ra,t),new fn(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?xo:Math.pow(xo,t),new fn(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new fn(Qr(this.r),Qr(this.g),Qr(this.b),oa(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:qf,formatHex:qf,formatHex8:Ax,formatRgb:Xf,toString:Xf}));function qf(){return`#${ei(this.r)}${ei(this.g)}${ei(this.b)}`}function Ax(){return`#${ei(this.r)}${ei(this.g)}${ei(this.b)}${ei((isNaN(this.opacity)?1:this.opacity)*255)}`}function Xf(){const t=oa(this.opacity);return`${t===1?"rgb(":"rgba("}${Qr(this.r)}, ${Qr(this.g)}, ${Qr(this.b)}${t===1?")":`, ${t})`}`}function oa(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function Qr(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function ei(t){return t=Qr(t),(t<16?"0":"")+t.toString(16)}function Jf(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new Hn(t,e,n,r)}function Kf(t){if(t instanceof Hn)return new Hn(t.h,t.s,t.l,t.opacity);if(t instanceof vo||(t=wo(t)),!t)return new Hn;if(t instanceof Hn)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),o=Math.max(e,n,r),s=NaN,a=o-i,c=(o+i)/2;return a?(e===o?s=(n-r)/a+(n<r)*6:n===o?s=(r-e)/a+2:s=(e-n)/a+4,a/=c<.5?o+i:2-o-i,s*=60):a=c>0&&c<1?0:s,new Hn(s,a,c,t.opacity)}function Ex(t,e,n,r){return arguments.length===1?Kf(t):new Hn(t,e,n,r??1)}function Hn(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}sc(Hn,Ex,Wf(vo,{brighter(t){return t=t==null?ra:Math.pow(ra,t),new Hn(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?xo:Math.pow(xo,t),new Hn(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new fn(lc(t>=240?t-240:t+120,i,r),lc(t,i,r),lc(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new Hn(Qf(this.h),sa(this.s),sa(this.l),oa(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=oa(this.opacity);return`${t===1?"hsl(":"hsla("}${Qf(this.h)}, ${sa(this.s)*100}%, ${sa(this.l)*100}%${t===1?")":`, ${t})`}`}}));function Qf(t){return t=(t||0)%360,t<0?t+360:t}function sa(t){return Math.max(0,Math.min(1,t||0))}function lc(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const cc=t=>()=>t;function Fx(t,e){return function(n){return t+n*e}}function $x(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function Bx(t){return(t=+t)==1?eh:function(e,n){return n-e?$x(e,n,t):cc(isNaN(e)?n:e)}}function eh(t,e){var n=e-t;return n?Fx(t,n):cc(isNaN(t)?e:t)}const th=(function t(e){var n=Bx(e);function r(i,o){var s=n((i=ac(i)).r,(o=ac(o)).r),a=n(i.g,o.g),c=n(i.b,o.b),u=eh(i.opacity,o.opacity);return function(d){return i.r=s(d),i.g=a(d),i.b=c(d),i.opacity=u(d),i+""}}return r.gamma=t,r})(1);function Ox(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,r=e.slice(),i;return function(o){for(i=0;i<n;++i)r[i]=t[i]*(1-o)+e[i]*o;return r}}function Rx(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function zx(t,e){var n=e?e.length:0,r=t?Math.min(n,t.length):0,i=new Array(r),o=new Array(n),s;for(s=0;s<r;++s)i[s]=fc(t[s],e[s]);for(;s<n;++s)o[s]=e[s];return function(a){for(s=0;s<r;++s)o[s]=i[s](a);return o}}function Hx(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function aa(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function Ux(t,e){var n={},r={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?n[i]=fc(t[i],e[i]):r[i]=e[i];return function(o){for(i in n)r[i]=n[i](o);return r}}var uc=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,dc=new RegExp(uc.source,"g");function Wx(t){return function(){return t}}function Gx(t){return function(e){return t(e)+""}}function Yx(t,e){var n=uc.lastIndex=dc.lastIndex=0,r,i,o,s=-1,a=[],c=[];for(t=t+"",e=e+"";(r=uc.exec(t))&&(i=dc.exec(e));)(o=i.index)>n&&(o=e.slice(n,o),a[s]?a[s]+=o:a[++s]=o),(r=r[0])===(i=i[0])?a[s]?a[s]+=i:a[++s]=i:(a[++s]=null,c.push({i:s,x:aa(r,i)})),n=dc.lastIndex;return n<e.length&&(o=e.slice(n),a[s]?a[s]+=o:a[++s]=o),a.length<2?c[0]?Gx(c[0].x):Wx(e):(e=c.length,function(u){for(var d=0,f;d<e;++d)a[(f=c[d]).i]=f.x(u);return a.join("")})}function fc(t,e){var n=typeof e,r;return e==null||n==="boolean"?cc(e):(n==="number"?aa:n==="string"?(r=wo(e))?(e=r,th):Yx:e instanceof wo?th:e instanceof Date?Hx:Rx(e)?Ox:Array.isArray(e)?zx:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?Ux:aa)(t,e)}function Vx(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}function Zx(t){return function(){return t}}function qx(t){return+t}var nh=[0,1];function Pi(t){return t}function hc(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:Zx(isNaN(e)?NaN:.5)}function Xx(t,e){var n;return t>e&&(n=t,t=e,e=n),function(r){return Math.max(t,Math.min(e,r))}}function Jx(t,e,n){var r=t[0],i=t[1],o=e[0],s=e[1];return i<r?(r=hc(i,r),o=n(s,o)):(r=hc(r,i),o=n(o,s)),function(a){return o(r(a))}}function Kx(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),o=new Array(r),s=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++s<r;)i[s]=hc(t[s],t[s+1]),o[s]=n(e[s],e[s+1]);return function(a){var c=mx(t,a,1,r)-1;return o[c](i[c](a))}}function rh(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function Qx(){var t=nh,e=nh,n=fc,r,i,o,s=Pi,a,c,u;function d(){var p=Math.min(t.length,e.length);return s!==Pi&&(s=Xx(t[0],t[p-1])),a=p>2?Kx:Jx,c=u=null,f}function f(p){return p==null||isNaN(p=+p)?o:(c||(c=a(t.map(r),e,n)))(r(s(p)))}return f.invert=function(p){return s(i((u||(u=a(e,t.map(r),aa)))(p)))},f.domain=function(p){return arguments.length?(t=Array.from(p,qx),d()):t.slice()},f.range=function(p){return arguments.length?(e=Array.from(p),d()):e.slice()},f.rangeRound=function(p){return e=Array.from(p),n=Vx,d()},f.clamp=function(p){return arguments.length?(s=p?!0:Pi,d()):s!==Pi},f.interpolate=function(p){return arguments.length?(n=p,d()):n},f.unknown=function(p){return arguments.length?(o=p,f):o},function(p,h){return r=p,i=h,d()}}function ih(){return Qx()(Pi,Pi)}function e_(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function la(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function Ai(t){return t=la(Math.abs(t)),t?t[1]:NaN}function t_(t,e){return function(n,r){for(var i=n.length,o=[],s=0,a=t[0],c=0;i>0&&a>0&&(c+a+1>r&&(a=Math.max(1,r-c)),o.push(n.substring(i-=a,i+a)),!((c+=a+1)>r));)a=t[s=(s+1)%t.length];return o.reverse().join(e)}}function n_(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var r_=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function ca(t){if(!(e=r_.exec(t)))throw new Error("invalid format: "+t);var e;return new pc({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}ca.prototype=pc.prototype;function pc(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}pc.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function i_(t){e:for(var e=t.length,n=1,r=-1,i;n<e;++n)switch(t[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+t[n])break e;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(i+1):t}var oh;function o_(t,e){var n=la(t,e);if(!n)return t+"";var r=n[0],i=n[1],o=i-(oh=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,s=r.length;return o===s?r:o>s?r+new Array(o-s+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+la(t,Math.max(0,e+o-1))[0]}function sh(t,e){var n=la(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const ah={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:e_,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>sh(t*100,e),r:sh,s:o_,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function lh(t){return t}var ch=Array.prototype.map,uh=["y","z","a","f","p","n","Âµ","m","","k","M","G","T","P","E","Z","Y"];function s_(t){var e=t.grouping===void 0||t.thousands===void 0?lh:t_(ch.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",o=t.numerals===void 0?lh:n_(ch.call(t.numerals,String)),s=t.percent===void 0?"%":t.percent+"",a=t.minus===void 0?"âˆ’":t.minus+"",c=t.nan===void 0?"NaN":t.nan+"";function u(f){f=ca(f);var p=f.fill,h=f.align,y=f.sign,m=f.symbol,g=f.zero,N=f.width,M=f.comma,j=f.precision,_=f.trim,b=f.type;b==="n"?(M=!0,b="g"):ah[b]||(j===void 0&&(j=12),_=!0,b="g"),(g||p==="0"&&h==="=")&&(g=!0,p="0",h="=");var S=m==="$"?n:m==="#"&&/[boxX]/.test(b)?"0"+b.toLowerCase():"",C=m==="$"?r:/[%p]/.test(b)?s:"",k=ah[b],v=/[defgprs%]/.test(b);j=j===void 0?6:/[gprs]/.test(b)?Math.max(1,Math.min(21,j)):Math.max(0,Math.min(20,j));function x(A){var I=S,O=C,E,L,D;if(b==="c")O=k(A)+O,A="";else{A=+A;var F=A<0||1/A<0;if(A=isNaN(A)?c:k(Math.abs(A),j),_&&(A=i_(A)),F&&+A==0&&y!=="+"&&(F=!1),I=(F?y==="("?y:a:y==="-"||y==="("?"":y)+I,O=(b==="s"?uh[8+oh/3]:"")+O+(F&&y==="("?")":""),v){for(E=-1,L=A.length;++E<L;)if(D=A.charCodeAt(E),48>D||D>57){O=(D===46?i+A.slice(E+1):A.slice(E))+O,A=A.slice(0,E);break}}}M&&!g&&(A=e(A,1/0));var K=I.length+A.length+O.length,W=K<N?new Array(N-K+1).join(p):"";switch(M&&g&&(A=e(W+A,W.length?N-O.length:1/0),W=""),h){case"<":A=I+A+O+W;break;case"=":A=I+W+A+O;break;case"^":A=W.slice(0,K=W.length>>1)+I+A+O+W.slice(K);break;default:A=W+I+A+O;break}return o(A)}return x.toString=function(){return f+""},x}function d(f,p){var h=u((f=ca(f),f.type="f",f)),y=Math.max(-8,Math.min(8,Math.floor(Ai(p)/3)))*3,m=Math.pow(10,-y),g=uh[8+y/3];return function(N){return h(m*N)+g}}return{format:u,formatPrefix:d}}var ua,dh,fh;a_({thousands:",",grouping:[3],currency:["$",""]});function a_(t){return ua=s_(t),dh=ua.format,fh=ua.formatPrefix,ua}function l_(t){return Math.max(0,-Ai(Math.abs(t)))}function c_(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Ai(e)/3)))*3-Ai(Math.abs(t)))}function u_(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,Ai(e)-Ai(t))+1}function d_(t,e,n,r){var i=oc(t,e,n),o;switch(r=ca(r??",f"),r.type){case"s":{var s=Math.max(Math.abs(t),Math.abs(e));return r.precision==null&&!isNaN(o=c_(i,s))&&(r.precision=o),fh(r,s)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(o=u_(i,Math.max(Math.abs(t),Math.abs(e))))&&(r.precision=o-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(o=l_(i))&&(r.precision=o-(r.type==="%")*2);break}}return dh(r)}function f_(t){var e=t.domain;return t.ticks=function(n){var r=e();return wx(r[0],r[r.length-1],n??10)},t.tickFormat=function(n,r){var i=e();return d_(i[0],i[i.length-1],n??10,r)},t.nice=function(n){n==null&&(n=10);var r=e(),i=0,o=r.length-1,s=r[i],a=r[o],c,u,d=10;for(a<s&&(u=s,s=a,a=u,u=i,i=o,o=u);d-- >0;){if(u=ic(s,a,n),u===c)return r[i]=s,r[o]=a,e(r);if(u>0)s=Math.floor(s/u)*u,a=Math.ceil(a/u)*u;else if(u<0)s=Math.ceil(s*u)/u,a=Math.floor(a*u)/u;else break;c=u}return t},t}function da(){var t=ih();return t.copy=function(){return rh(t,da())},na.apply(t,arguments),f_(t)}function h_(t,e){t=t.slice();var n=0,r=t.length-1,i=t[n],o=t[r],s;return o<i&&(s=n,n=r,r=s,s=i,i=o,o=s),t[n]=e.floor(i),t[r]=e.ceil(o),t}const mc=new Date,gc=new Date;function Bt(t,e,n,r){function i(o){return t(o=arguments.length===0?new Date:new Date(+o)),o}return i.floor=o=>(t(o=new Date(+o)),o),i.ceil=o=>(t(o=new Date(o-1)),e(o,1),t(o),o),i.round=o=>{const s=i(o),a=i.ceil(o);return o-s<a-o?s:a},i.offset=(o,s)=>(e(o=new Date(+o),s==null?1:Math.floor(s)),o),i.range=(o,s,a)=>{const c=[];if(o=i.ceil(o),a=a==null?1:Math.floor(a),!(o<s)||!(a>0))return c;let u;do c.push(u=new Date(+o)),e(o,a),t(o);while(u<o&&o<s);return c},i.filter=o=>Bt(s=>{if(s>=s)for(;t(s),!o(s);)s.setTime(s-1)},(s,a)=>{if(s>=s)if(a<0)for(;++a<=0;)for(;e(s,-1),!o(s););else for(;--a>=0;)for(;e(s,1),!o(s););}),n&&(i.count=(o,s)=>(mc.setTime(+o),gc.setTime(+s),t(mc),t(gc),Math.floor(n(mc,gc))),i.every=o=>(o=Math.floor(o),!isFinite(o)||!(o>0)?null:o>1?i.filter(r?s=>r(s)%o===0:s=>i.count(0,s)%o===0):i)),i}const fa=Bt(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);fa.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?Bt(e=>{e.setTime(Math.floor(e/t)*t)},(e,n)=>{e.setTime(+e+n*t)},(e,n)=>(n-e)/t):fa),fa.range;const mr=1e3,An=mr*60,gr=An*60,yr=gr*24,yc=yr*7,hh=yr*30,bc=yr*365,Ei=Bt(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*mr)},(t,e)=>(e-t)/mr,t=>t.getUTCSeconds());Ei.range;const vc=Bt(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*mr)},(t,e)=>{t.setTime(+t+e*An)},(t,e)=>(e-t)/An,t=>t.getMinutes());vc.range,Bt(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*An)},(t,e)=>(e-t)/An,t=>t.getUTCMinutes()).range;const xc=Bt(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*mr-t.getMinutes()*An)},(t,e)=>{t.setTime(+t+e*gr)},(t,e)=>(e-t)/gr,t=>t.getHours());xc.range,Bt(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*gr)},(t,e)=>(e-t)/gr,t=>t.getUTCHours()).range;const So=Bt(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*An)/yr,t=>t.getDate()-1);So.range;const _c=Bt(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/yr,t=>t.getUTCDate()-1);_c.range,Bt(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/yr,t=>Math.floor(t/yr)).range;function ti(t){return Bt(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,n)=>{e.setDate(e.getDate()+n*7)},(e,n)=>(n-e-(n.getTimezoneOffset()-e.getTimezoneOffset())*An)/yc)}const ha=ti(0),pa=ti(1),p_=ti(2),m_=ti(3),Fi=ti(4),g_=ti(5),y_=ti(6);ha.range,pa.range,p_.range,m_.range,Fi.range,g_.range,y_.range;function ni(t){return Bt(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCDate(e.getUTCDate()+n*7)},(e,n)=>(n-e)/yc)}const ph=ni(0),ma=ni(1),b_=ni(2),v_=ni(3),$i=ni(4),x_=ni(5),__=ni(6);ph.range,ma.range,b_.range,v_.range,$i.range,x_.range,__.range;const ko=Bt(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());ko.range,Bt(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth()).range;const br=Bt(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());br.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Bt(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,n)=>{e.setFullYear(e.getFullYear()+n*t)}),br.range;const ri=Bt(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());ri.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Bt(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCFullYear(e.getUTCFullYear()+n*t)}),ri.range;function w_(t,e,n,r,i,o){const s=[[Ei,1,mr],[Ei,5,5*mr],[Ei,15,15*mr],[Ei,30,30*mr],[o,1,An],[o,5,5*An],[o,15,15*An],[o,30,30*An],[i,1,gr],[i,3,3*gr],[i,6,6*gr],[i,12,12*gr],[r,1,yr],[r,2,2*yr],[n,1,yc],[e,1,hh],[e,3,3*hh],[t,1,bc]];function a(u,d,f){const p=d<u;p&&([u,d]=[d,u]);const h=f&&typeof f.range=="function"?f:c(u,d,f),y=h?h.range(u,+d+1):[];return p?y.reverse():y}function c(u,d,f){const p=Math.abs(d-u)/f,h=rc(([,,g])=>g).right(s,p);if(h===s.length)return t.every(oc(u/bc,d/bc,f));if(h===0)return fa.every(Math.max(oc(u,d,f),1));const[y,m]=s[p/s[h-1][2]<s[h][2]/p?h-1:h];return y.every(m)}return[a,c]}const[S_,k_]=w_(br,ko,ha,So,xc,vc);function wc(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function Sc(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function Co(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}function C_(t){var e=t.dateTime,n=t.date,r=t.time,i=t.periods,o=t.days,s=t.shortDays,a=t.months,c=t.shortMonths,u=No(i),d=Mo(i),f=No(o),p=Mo(o),h=No(s),y=Mo(s),m=No(a),g=Mo(a),N=No(c),M=Mo(c),j={a:F,A:K,b:W,B:T,c:null,d:xh,e:xh,f:Z_,g:i2,G:s2,H:G_,I:Y_,j:V_,L:_h,m:q_,M:X_,p:Q,q:G,Q:Mh,s:Th,S:J_,u:K_,U:Q_,V:e2,w:t2,W:n2,x:null,X:null,y:r2,Y:o2,Z:a2,"%":Nh},_={a:U,A:ee,b:z,B:oe,c:null,d:Sh,e:Sh,f:d2,g:_2,G:S2,H:l2,I:c2,j:u2,L:kh,m:f2,M:h2,p:J,q:re,Q:Mh,s:Th,S:p2,u:m2,U:g2,V:y2,w:b2,W:v2,x:null,X:null,y:x2,Y:w2,Z:k2,"%":Nh},b={a:x,A,b:I,B:O,c:E,d:bh,e:bh,f:z_,g:yh,G:gh,H:vh,I:vh,j:$_,L:R_,m:F_,M:B_,p:v,q:E_,Q:U_,s:W_,S:O_,u:D_,U:I_,V:L_,w:j_,W:P_,x:L,X:D,y:yh,Y:gh,Z:A_,"%":H_};j.x=S(n,j),j.X=S(r,j),j.c=S(e,j),_.x=S(n,_),_.X=S(r,_),_.c=S(e,_);function S(te,ae){return function(fe){var q=[],ce=-1,ue=0,ge=te.length,he,V,Ee;for(fe instanceof Date||(fe=new Date(+fe));++ce<ge;)te.charCodeAt(ce)===37&&(q.push(te.slice(ue,ce)),(V=mh[he=te.charAt(++ce)])!=null?he=te.charAt(++ce):V=he==="e"?" ":"0",(Ee=ae[he])&&(he=Ee(fe,V)),q.push(he),ue=ce+1);return q.push(te.slice(ue,ce)),q.join("")}}function C(te,ae){return function(fe){var q=Co(1900,void 0,1),ce=k(q,te,fe+="",0),ue,ge;if(ce!=fe.length)return null;if("Q"in q)return new Date(q.Q);if("s"in q)return new Date(q.s*1e3+("L"in q?q.L:0));if(ae&&!("Z"in q)&&(q.Z=0),"p"in q&&(q.H=q.H%12+q.p*12),q.m===void 0&&(q.m="q"in q?q.q:0),"V"in q){if(q.V<1||q.V>53)return null;"w"in q||(q.w=1),"Z"in q?(ue=Sc(Co(q.y,0,1)),ge=ue.getUTCDay(),ue=ge>4||ge===0?ma.ceil(ue):ma(ue),ue=_c.offset(ue,(q.V-1)*7),q.y=ue.getUTCFullYear(),q.m=ue.getUTCMonth(),q.d=ue.getUTCDate()+(q.w+6)%7):(ue=wc(Co(q.y,0,1)),ge=ue.getDay(),ue=ge>4||ge===0?pa.ceil(ue):pa(ue),ue=So.offset(ue,(q.V-1)*7),q.y=ue.getFullYear(),q.m=ue.getMonth(),q.d=ue.getDate()+(q.w+6)%7)}else("W"in q||"U"in q)&&("w"in q||(q.w="u"in q?q.u%7:"W"in q?1:0),ge="Z"in q?Sc(Co(q.y,0,1)).getUTCDay():wc(Co(q.y,0,1)).getDay(),q.m=0,q.d="W"in q?(q.w+6)%7+q.W*7-(ge+5)%7:q.w+q.U*7-(ge+6)%7);return"Z"in q?(q.H+=q.Z/100|0,q.M+=q.Z%100,Sc(q)):wc(q)}}function k(te,ae,fe,q){for(var ce=0,ue=ae.length,ge=fe.length,he,V;ce<ue;){if(q>=ge)return-1;if(he=ae.charCodeAt(ce++),he===37){if(he=ae.charAt(ce++),V=b[he in mh?ae.charAt(ce++):he],!V||(q=V(te,fe,q))<0)return-1}else if(he!=fe.charCodeAt(q++))return-1}return q}function v(te,ae,fe){var q=u.exec(ae.slice(fe));return q?(te.p=d.get(q[0].toLowerCase()),fe+q[0].length):-1}function x(te,ae,fe){var q=h.exec(ae.slice(fe));return q?(te.w=y.get(q[0].toLowerCase()),fe+q[0].length):-1}function A(te,ae,fe){var q=f.exec(ae.slice(fe));return q?(te.w=p.get(q[0].toLowerCase()),fe+q[0].length):-1}function I(te,ae,fe){var q=N.exec(ae.slice(fe));return q?(te.m=M.get(q[0].toLowerCase()),fe+q[0].length):-1}function O(te,ae,fe){var q=m.exec(ae.slice(fe));return q?(te.m=g.get(q[0].toLowerCase()),fe+q[0].length):-1}function E(te,ae,fe){return k(te,e,ae,fe)}function L(te,ae,fe){return k(te,n,ae,fe)}function D(te,ae,fe){return k(te,r,ae,fe)}function F(te){return s[te.getDay()]}function K(te){return o[te.getDay()]}function W(te){return c[te.getMonth()]}function T(te){return a[te.getMonth()]}function Q(te){return i[+(te.getHours()>=12)]}function G(te){return 1+~~(te.getMonth()/3)}function U(te){return s[te.getUTCDay()]}function ee(te){return o[te.getUTCDay()]}function z(te){return c[te.getUTCMonth()]}function oe(te){return a[te.getUTCMonth()]}function J(te){return i[+(te.getUTCHours()>=12)]}function re(te){return 1+~~(te.getUTCMonth()/3)}return{format:function(te){var ae=S(te+="",j);return ae.toString=function(){return te},ae},parse:function(te){var ae=C(te+="",!1);return ae.toString=function(){return te},ae},utcFormat:function(te){var ae=S(te+="",_);return ae.toString=function(){return te},ae},utcParse:function(te){var ae=C(te+="",!0);return ae.toString=function(){return te},ae}}}var mh={"-":"",_:" ",0:"0"},Ut=/^\s*\d+/,N_=/^%/,M_=/[\\^$*+?|[\]().{}]/g;function ut(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",o=i.length;return r+(o<n?new Array(n-o+1).join(e)+i:i)}function T_(t){return t.replace(M_,"\\$&")}function No(t){return new RegExp("^(?:"+t.map(T_).join("|")+")","i")}function Mo(t){return new Map(t.map((e,n)=>[e.toLowerCase(),n]))}function j_(t,e,n){var r=Ut.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function D_(t,e,n){var r=Ut.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function I_(t,e,n){var r=Ut.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function L_(t,e,n){var r=Ut.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function P_(t,e,n){var r=Ut.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function gh(t,e,n){var r=Ut.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function yh(t,e,n){var r=Ut.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function A_(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function E_(t,e,n){var r=Ut.exec(e.slice(n,n+1));return r?(t.q=r[0]*3-3,n+r[0].length):-1}function F_(t,e,n){var r=Ut.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function bh(t,e,n){var r=Ut.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function $_(t,e,n){var r=Ut.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function vh(t,e,n){var r=Ut.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function B_(t,e,n){var r=Ut.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function O_(t,e,n){var r=Ut.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function R_(t,e,n){var r=Ut.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function z_(t,e,n){var r=Ut.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function H_(t,e,n){var r=N_.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function U_(t,e,n){var r=Ut.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function W_(t,e,n){var r=Ut.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function xh(t,e){return ut(t.getDate(),e,2)}function G_(t,e){return ut(t.getHours(),e,2)}function Y_(t,e){return ut(t.getHours()%12||12,e,2)}function V_(t,e){return ut(1+So.count(br(t),t),e,3)}function _h(t,e){return ut(t.getMilliseconds(),e,3)}function Z_(t,e){return _h(t,e)+"000"}function q_(t,e){return ut(t.getMonth()+1,e,2)}function X_(t,e){return ut(t.getMinutes(),e,2)}function J_(t,e){return ut(t.getSeconds(),e,2)}function K_(t){var e=t.getDay();return e===0?7:e}function Q_(t,e){return ut(ha.count(br(t)-1,t),e,2)}function wh(t){var e=t.getDay();return e>=4||e===0?Fi(t):Fi.ceil(t)}function e2(t,e){return t=wh(t),ut(Fi.count(br(t),t)+(br(t).getDay()===4),e,2)}function t2(t){return t.getDay()}function n2(t,e){return ut(pa.count(br(t)-1,t),e,2)}function r2(t,e){return ut(t.getFullYear()%100,e,2)}function i2(t,e){return t=wh(t),ut(t.getFullYear()%100,e,2)}function o2(t,e){return ut(t.getFullYear()%1e4,e,4)}function s2(t,e){var n=t.getDay();return t=n>=4||n===0?Fi(t):Fi.ceil(t),ut(t.getFullYear()%1e4,e,4)}function a2(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+ut(e/60|0,"0",2)+ut(e%60,"0",2)}function Sh(t,e){return ut(t.getUTCDate(),e,2)}function l2(t,e){return ut(t.getUTCHours(),e,2)}function c2(t,e){return ut(t.getUTCHours()%12||12,e,2)}function u2(t,e){return ut(1+_c.count(ri(t),t),e,3)}function kh(t,e){return ut(t.getUTCMilliseconds(),e,3)}function d2(t,e){return kh(t,e)+"000"}function f2(t,e){return ut(t.getUTCMonth()+1,e,2)}function h2(t,e){return ut(t.getUTCMinutes(),e,2)}function p2(t,e){return ut(t.getUTCSeconds(),e,2)}function m2(t){var e=t.getUTCDay();return e===0?7:e}function g2(t,e){return ut(ph.count(ri(t)-1,t),e,2)}function Ch(t){var e=t.getUTCDay();return e>=4||e===0?$i(t):$i.ceil(t)}function y2(t,e){return t=Ch(t),ut($i.count(ri(t),t)+(ri(t).getUTCDay()===4),e,2)}function b2(t){return t.getUTCDay()}function v2(t,e){return ut(ma.count(ri(t)-1,t),e,2)}function x2(t,e){return ut(t.getUTCFullYear()%100,e,2)}function _2(t,e){return t=Ch(t),ut(t.getUTCFullYear()%100,e,2)}function w2(t,e){return ut(t.getUTCFullYear()%1e4,e,4)}function S2(t,e){var n=t.getUTCDay();return t=n>=4||n===0?$i(t):$i.ceil(t),ut(t.getUTCFullYear()%1e4,e,4)}function k2(){return"+0000"}function Nh(){return"%"}function Mh(t){return+t}function Th(t){return Math.floor(+t/1e3)}var Bi,jh;C2({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function C2(t){return Bi=C_(t),jh=Bi.format,Bi.parse,Bi.utcFormat,Bi.utcParse,Bi}function N2(t){return new Date(t)}function M2(t){return t instanceof Date?+t:+new Date(+t)}function Dh(t,e,n,r,i,o,s,a,c,u){var d=ih(),f=d.invert,p=d.domain,h=u(".%L"),y=u(":%S"),m=u("%I:%M"),g=u("%I %p"),N=u("%a %d"),M=u("%b %d"),j=u("%B"),_=u("%Y");function b(S){return(c(S)<S?h:a(S)<S?y:s(S)<S?m:o(S)<S?g:r(S)<S?i(S)<S?N:M:n(S)<S?j:_)(S)}return d.invert=function(S){return new Date(f(S))},d.domain=function(S){return arguments.length?p(Array.from(S,M2)):p().map(N2)},d.ticks=function(S){var C=p();return t(C[0],C[C.length-1],S??10)},d.tickFormat=function(S,C){return C==null?b:u(C)},d.nice=function(S){var C=p();return(!S||typeof S.range!="function")&&(S=e(C[0],C[C.length-1],S??10)),S?p(h_(C,S)):d},d.copy=function(){return rh(d,Dh(t,e,n,r,i,o,s,a,c,u))},d}function kc(){return na.apply(Dh(S_,k_,br,ko,ha,So,xc,vc,Ei,jh).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function T2({task:t,scale:e,onTaskClick:n,onTaskDoubleClick:r,isSelected:i=!1,taskIndex:o,tabIndex:s=-1,onFocus:a,"aria-label":c}){const u=$.useRef(null),[d,f]=$.useState(!1),[p,h]=$.useState(!1),y=e(t.start),m=e(t.end),g=Math.max(m-y,20),N=()=>{if(t.color)return t.color;switch(t.priority){case"high":return"#d5281b";case"medium":return"#005eb8";case"low":return"#007f3b";default:return"#005eb8"}},M=t.progress?g*t.progress/100:0,j=()=>{n?.(t)},_=()=>{r?.(t)},b=I=>{I.key==="Enter"?(I.preventDefault(),j()):I.key===" "&&(I.preventDefault(),_())},S=()=>{f(!0)},C=()=>{f(!1)},k=()=>{h(!0),a?.()},v=()=>{h(!1)},x=["gantt-task-bar",d&&"gantt-task-bar--pressed",(p||i)&&"gantt-task-bar--focused",t.priority&&`gantt-task-bar--priority-${t.priority}`,i&&"gantt-task-bar--selected",t.type&&`gantt-task-bar--type-${t.type}`].filter(Boolean).join(" "),A={"--task-left":`${y}px`,"--task-width":`${g}px`,"--task-color":N(),left:`${y}px`,width:`${g}px`,backgroundColor:N()};return l.jsxs("div",{role:"button",tabIndex:s,ref:u,"data-task-index":o,className:x,style:A,onClick:j,onDoubleClick:_,onKeyDown:b,onMouseDown:S,onMouseUp:C,onFocus:k,onBlur:v,"aria-label":c||`${i?"Selected: ":""}${t.title}: ${t.start.toLocaleDateString()} to ${t.end.toLocaleDateString()}${t.priority?`, priority ${t.priority}`:""}${t.progress?`, ${t.progress}% complete`:""}`,"aria-describedby":`task-${t.id}-details`,children:[l.jsx("span",{className:"task-title",children:t.title}),t.progress!==void 0&&l.jsx("div",{className:"task-progress",style:{width:`${M}px`}}),l.jsx("span",{id:`task-${t.id}-details`,className:"sr-only",children:`Task: ${t.title}, from ${t.start.toLocaleDateString()} to ${t.end.toLocaleDateString()}${t.progress?`, ${t.progress}% complete`:""}${t.priority?`, priority: ${t.priority}`:""}`})]})}function j2({viewStart:t,viewEnd:e,dateCount:n}){const r=[];for(let h=t.getTime();h<=e.getTime();h+=864e5)r.push(new Date(h));const o=new Date;o.setHours(0,0,0,0);const[s,a]=$.useState(-1),c=$.useRef(null),u=h=>{if(h.key==="ArrowLeft"){h.preventDefault();const y=Math.max(0,s===-1?0:s-1);a(y),p(y)}else if(h.key==="ArrowRight"){h.preventDefault();const y=Math.min(r.length-1,s===-1?0:s+1);a(y),p(y)}else if(h.key==="ArrowDown")h.preventDefault(),typeof document<"u"&&(typeof document<"u"&&typeof document<"u"&&typeof document<"u"&&typeof document<"u"&&typeof document<"u"&&typeof document<"u"&&typeof document<"u"&&typeof document<"u"&&typeof document<"u"&&typeof document<"u"&&typeof document<"u"&&typeof document<"u"&&typeof document<"u"&&typeof document<"u"&&typeof document<"u"&&typeof document<"u"?document.querySelector(".gantt-row .timeline-container"):null)?.focus();else if(h.key==="Home")h.preventDefault(),a(0),p(0);else if(h.key==="End"){h.preventDefault();const y=r.length-1;a(y),p(y)}},d=h=>{if(h.key==="ArrowDown")h.preventDefault(),typeof document<"u"&&(typeof document<"u"&&typeof document<"u"&&typeof document<"u"&&typeof document<"u"&&typeof document<"u"&&typeof document<"u"&&typeof document<"u"&&typeof document<"u"&&typeof document<"u"&&typeof document<"u"&&typeof document<"u"&&typeof document<"u"&&typeof document<"u"&&typeof document<"u"&&typeof document<"u"&&typeof document<"u"?document.querySelector(".gantt-row .resource-label"):null)?.focus();else if(h.key==="ArrowRight"){h.preventDefault();const y=c.current;y&&y.focus()}},f=()=>{s===-1&&(a(0),setTimeout(()=>p(0),0))},p=h=>{const y=c.current?.querySelector(`[data-date-index="${h}"]`);y&&y.focus()};return l.jsxs("div",{className:"gantt-header",role:"row","aria-rowindex":1,children:[l.jsx("div",{className:"header-resource",role:"columnheader","aria-colindex":1,tabIndex:0,"aria-label":"Resource column header",onKeyDown:d,children:"Resources"}),l.jsx("div",{ref:c,className:"header-timeline",role:"columnheader","aria-colindex":2,"aria-colspan":n,"aria-label":`Timeline from ${t.toLocaleDateString()} to ${e.toLocaleDateString()}. Use arrow keys to navigate between dates`,tabIndex:0,onKeyDown:u,onFocus:f,children:r.map((h,y)=>{const m=h.getTime()===o.getTime(),g=s===y;return l.jsx("div",{"data-date-index":y,className:`date-column ${m?"today":""} ${g?"focused":""}`,tabIndex:g?0:-1,role:"button","aria-label":`${h.toLocaleDateString("en-GB",{weekday:"long",day:"numeric",month:"long",year:"numeric"})}${m?" (Today)":""}`,onFocus:()=>a(y),onKeyDown:u,children:h.toLocaleDateString("en-GB",{day:"numeric",month:"short"})},y)})})]})}function D2({resource:t,tasks:e,scale:n,onTaskClick:r,onTaskDoubleClick:i,rowIndex:o,dateCount:s}){const[a,c]=$.useState(!1),[u,d]=$.useState(-1),f=$.useRef(null);$.useEffect(()=>{a&&u>=0&&e.length>0&&setTimeout(()=>{f.current?.querySelector(`[data-task-index="${u}"]`)?.focus()},0)},[a,u,e.length]);const p=m=>{if(m.key==="ArrowLeft"&&m.shiftKey){m.preventDefault(),m.currentTarget.scrollBy({left:-30,behavior:"smooth"});return}else if(m.key==="ArrowRight"&&m.shiftKey){m.preventDefault(),m.currentTarget.scrollBy({left:30,behavior:"smooth"});return}if(!a){switch(m.key){case"ArrowUp":m.preventDefault(),o===0?typeof document<"u"&&(typeof document<"u"&&typeof document<"u"&&typeof document<"u"&&typeof document<"u"&&typeof document<"u"&&typeof document<"u"&&typeof document<"u"&&typeof document<"u"&&typeof document<"u"&&typeof document<"u"&&typeof document<"u"&&typeof document<"u"&&typeof document<"u"&&typeof document<"u"&&typeof document<"u"&&typeof document<"u"?document.querySelector(".header-timeline"):null)?.focus():typeof document<"u"&&(typeof document<"u"&&typeof document<"u"&&typeof document<"u"&&typeof document<"u"&&typeof document<"u"&&typeof document<"u"&&typeof document<"u"&&typeof document<"u"&&typeof document<"u"&&typeof document<"u"&&typeof document<"u"&&typeof document<"u"&&typeof document<"u"&&typeof document<"u"&&typeof document<"u"&&typeof document<"u"?document.querySelector(`[aria-rowindex="${o+1}"] .timeline-container`):null)?.focus();break;case"ArrowDown":m.preventDefault(),typeof document<"u"&&(typeof document<"u"&&typeof document<"u"&&typeof document<"u"&&typeof document<"u"&&typeof document<"u"&&typeof document<"u"&&typeof document<"u"&&typeof document<"u"&&typeof document<"u"&&typeof document<"u"&&typeof document<"u"&&typeof document<"u"&&typeof document<"u"&&typeof document<"u"&&typeof document<"u"&&typeof document<"u"?document.querySelector(`[aria-rowindex="${o+3}"] .timeline-container`):null)?.focus();break;case"ArrowLeft":m.preventDefault(),f.current?.closest(".gantt-row")?.querySelector(".resource-label")?.focus();break;case"Enter":e.length>0&&(m.preventDefault(),c(!0),d(0));break}return}switch(m.key){case"ArrowLeft":m.preventDefault();const g=Math.max(0,u-1);d(g),f.current?.querySelector(`[data-task-index="${g}"]`)?.focus();break;case"ArrowRight":m.preventDefault();const M=Math.min(e.length-1,u+1);d(M),f.current?.querySelector(`[data-task-index="${M}"]`)?.focus();break;case"Enter":m.preventDefault(),u>=0&&r?.(e[u]);break;case" ":m.preventDefault(),u>=0&&i?.(e[u]);break;case"Escape":m.preventDefault(),c(!1),d(-1),f.current?.focus();break}},h=m=>{switch(m.key){case"ArrowUp":m.preventDefault(),o===0?typeof document<"u"&&(typeof document<"u"&&typeof document<"u"&&typeof document<"u"&&typeof document<"u"&&typeof document<"u"&&typeof document<"u"&&typeof document<"u"&&typeof document<"u"&&typeof document<"u"&&typeof document<"u"&&typeof document<"u"&&typeof document<"u"&&typeof document<"u"&&typeof document<"u"&&typeof document<"u"&&typeof document<"u"?document.querySelector(".header-resource"):null)?.focus():typeof document<"u"&&(typeof document<"u"&&typeof document<"u"&&typeof document<"u"&&typeof document<"u"&&typeof document<"u"&&typeof document<"u"&&typeof document<"u"&&typeof document<"u"&&typeof document<"u"&&typeof document<"u"&&typeof document<"u"&&typeof document<"u"&&typeof document<"u"&&typeof document<"u"&&typeof document<"u"&&typeof document<"u"?document.querySelector(`[aria-rowindex="${o+1}"] .resource-label`):null)?.focus();break;case"ArrowDown":m.preventDefault(),typeof document<"u"&&(typeof document<"u"&&typeof document<"u"&&typeof document<"u"&&typeof document<"u"&&typeof document<"u"&&typeof document<"u"&&typeof document<"u"&&typeof document<"u"&&typeof document<"u"&&typeof document<"u"&&typeof document<"u"&&typeof document<"u"&&typeof document<"u"&&typeof document<"u"&&typeof document<"u"&&typeof document<"u"?document.querySelector(`[aria-rowindex="${o+3}"] .resource-label`):null)?.focus();break;case"ArrowRight":m.preventDefault(),f.current?.focus();break}},y=m=>{a&&d(m)};return l.jsxs("div",{className:"gantt-row",role:"row","aria-rowindex":o+2,children:[l.jsx("div",{className:"resource-label",role:"gridcell","aria-colindex":1,tabIndex:0,"aria-label":`Resource: ${t.label}`,onKeyDown:h,children:t.label}),l.jsx("div",{ref:f,className:`timeline-container ${a?"timeline-active":""}`,role:"gridcell","aria-colindex":2,"aria-colspan":s,tabIndex:0,"aria-label":`Timeline for ${t.label} with ${e.length} task${e.length!==1?"s":""}. Press Enter to activate task navigation, then use arrow keys to navigate, Enter to select, Space to activate, Escape to exit`,onKeyDown:p,onFocus:()=>{a||d(-1)},children:e.map((m,g)=>l.jsx(T2,{task:m,scale:n,onTaskClick:r,onTaskDoubleClick:i,isSelected:a&&u===g,taskIndex:g,tabIndex:a&&u===g?0:-1,onFocus:()=>y(g)},m.id))})]})}function I2({resources:t,tasks:e=[],viewStart:n,viewEnd:r,onTaskClick:i,onTaskDoubleClick:o}){const s=$.useRef(null),[a,c]=$.useState(800),u=$.useMemo(()=>{if(n instanceof Date)return isNaN(n.getTime())?(console.warn("GanttChart: Invalid viewStart date provided, using current date"),new Date):n;const m=new Date(n);return isNaN(m.getTime())?(console.warn("GanttChart: Invalid viewStart date provided, using current date"),new Date):m},[n]),d=$.useMemo(()=>{if(r instanceof Date)return isNaN(r.getTime())?(console.warn("GanttChart: Invalid viewEnd date provided, using date 7 days from now"),new Date(Date.now()+10080*60*1e3)):r;const m=new Date(r);return isNaN(m.getTime())?(console.warn("GanttChart: Invalid viewEnd date provided, using date 7 days from now"),new Date(Date.now()+10080*60*1e3)):m},[r]),f=$.useMemo(()=>Math.ceil((d.getTime()-u.getTime())/864e5)+1,[u,d]);$.useEffect(()=>{if(!s.current||typeof window>"u")return;const m=typeof ResizeObserver<"u"?ResizeObserver:void 0;if(!m)return;const g=new m(N=>{const M=N[0];M&&c(Math.max(M.contentRect.width-220,400))});return g.observe(s.current),()=>g.disconnect()},[]);const p=$.useMemo(()=>kc().domain([u,d]).range([0,a]),[u,d,a]),h=$.useMemo(()=>{const m=new Map;return e.forEach(g=>{const N=m.get(g.resourceId)||[];N.push(g),m.set(g.resourceId,N)}),m},[e]),y=m=>{if(m.target===m.currentTarget)switch(m.key){case"ArrowDown":m.preventDefault(),typeof document<"u"&&s.current?.querySelector(".gantt-row .resource-label")?.focus();break;case"Home":m.preventDefault(),typeof document<"u"&&s.current?.querySelector(".header-resource")?.focus();break}};return l.jsxs("div",{className:"gantt-chart",role:"grid","aria-label":"Gantt Chart showing resource scheduling and task timelines","aria-rowcount":t.length+1,"aria-colcount":f+1,"aria-description":"Use arrow keys to navigate cells, Tab to cycle through tasks in timeline rows or dates in header, Enter to select task, Space to activate task, Alt+arrows to scroll the grid, Shift+arrows to scroll timeline rows",tabIndex:0,onKeyDown:y,children:[l.jsx(j2,{viewStart:u,viewEnd:d,dateCount:f}),l.jsx("div",{ref:s,className:"gantt-grid",role:"rowgroup","aria-label":"Gantt chart data rows",tabIndex:0,onKeyDown:m=>{m.key==="ArrowLeft"&&m.altKey?(m.preventDefault(),s.current?.scrollBy({left:-50,behavior:"smooth"})):m.key==="ArrowRight"&&m.altKey?(m.preventDefault(),s.current?.scrollBy({left:50,behavior:"smooth"})):m.key==="ArrowUp"&&m.altKey?(m.preventDefault(),s.current?.scrollBy({top:-50,behavior:"smooth"})):m.key==="ArrowDown"&&m.altKey&&(m.preventDefault(),s.current?.scrollBy({top:50,behavior:"smooth"}))},children:t.map((m,g)=>l.jsx(D2,{resource:m,tasks:h.get(m.id)||[],scale:p,onTaskClick:i,onTaskDoubleClick:o,rowIndex:g,dateCount:f},m.id))})]})}const ga=({children:t,href:e,active:n=!1,attributes:r={}})=>l.jsx("li",{className:"nhsuk-breadcrumb__item",children:n?l.jsx("span",{className:"nhsuk-breadcrumb__link nhsuk-breadcrumb__link--current","aria-current":"page",...r,children:t}):l.jsx("a",{className:"nhsuk-breadcrumb__link",href:e,...r,children:t})}),Cc=({items:t=[],children:e,classes:n,labelText:r="Breadcrumb",href:i,text:o,reverse:s=!1,attributes:a={}})=>{const c=()=>e?$.Children.toArray(e).filter(g=>$.isValidElement(g)&&(g.type===ga||g.type?.displayName==="BreadcrumbItem")).map(g=>({text:typeof g.props.children=="string"?g.props.children:String(g.props.children),href:g.props.href,active:g.props.active,attributes:g.props.attributes})):[],u=()=>e?c():i&&o?[{href:i,text:o}]:t,d=()=>{const m=u();if(m&&m.length>0){const g=m.slice().reverse().find(N=>N.href&&!N.active);if(g)return{href:g.href,text:g.text}}return{text:"Home"}},f=u(),p=d(),h=Ie("nhsuk-breadcrumb",{"nhsuk-breadcrumb--reverse":s},n),y=r;return l.jsxs("nav",{className:h,"aria-label":y,role:"navigation",...a,children:[l.jsx("ol",{className:"nhsuk-breadcrumb__list",role:"list",children:e?$.Children.map(e,(m,g)=>$.isValidElement(m)&&(m.type===ga||m.type?.displayName==="BreadcrumbItem")?$.cloneElement(m,{key:g}):null):f?.filter(m=>m.active||!!m.href).map((m,g)=>l.jsx("li",{className:"nhsuk-breadcrumb__item",role:"listitem",children:m.active?l.jsx("span",{className:"nhsuk-breadcrumb__link nhsuk-breadcrumb__link--current","aria-current":"page",role:"text",...m.attributes||{},children:m.text}):l.jsx("a",{className:"nhsuk-breadcrumb__link",href:m.href,role:"link",...m.attributes||{},children:m.text})},g))}),p.href&&l.jsx("p",{className:"nhsuk-breadcrumb__back",children:l.jsxs("a",{className:"nhsuk-breadcrumb__backlink",href:p.href,role:"link","aria-label":`Back to ${p.text}`,...t.length>0?t[t.length-1]?.attributes||{}:{},children:[l.jsx("span",{className:"nhsuk-u-visually-hidden",children:"Back to Â "}),p.text]})})]})};Cc.Item=ga,ga.displayName="BreadcrumbItem";const Nc=({text:t="Skip to main content",href:e="#maincontent",classes:n,attributes:r={}})=>{const[i,o]=$.useState(!1);$.useEffect(()=>{o(!0)},[]),$.useEffect(()=>{if(typeof window>"u"||typeof document>"u"||!document.querySelector||!document.querySelectorAll)return;const a=c=>{const u=c.target,d=u.getAttribute("href");if(d&&d.startsWith("#")){const f=typeof document<"u"&&typeof document<"u"&&typeof document<"u"&&typeof document<"u"&&typeof document<"u"&&typeof document<"u"&&typeof document<"u"&&typeof document<"u"?document.querySelector(d):null;if(f){f.hasAttribute("tabindex")||f.setAttribute("tabindex","-1"),f.focus(),f.classList.add("nhsuk-skip-link-focused-element");const p=window.setTimeout(()=>{f.classList.remove("nhsuk-skip-link-focused-element"),f.getAttribute("tabindex")==="-1"&&f.removeAttribute("tabindex")},3e3);u.__nhsSkipLinkTimeout=p}}};try{const c=document.querySelectorAll(".nhsuk-skip-link");return c.forEach(u=>{u.addEventListener("click",a)}),()=>{try{c.forEach(u=>{u.removeEventListener("click",a);const d=u.__nhsSkipLinkTimeout;d&&window.clearTimeout&&window.clearTimeout(d)})}catch(u){console.warn("SkipLink cleanup error:",u)}}}catch(c){return console.warn("SkipLink initialization error:",c),()=>{}}},[i]);const s=Ie("nhsuk-skip-link",n);return l.jsx("a",{className:s,href:e,"data-module":"nhsuk-skip-link","data-enhanced":i?"true":"false",...r,children:t})},L2=({previousUrl:t,previousPage:e,nextUrl:n,nextPage:r,classes:i,attributes:o={}})=>{const s=Ie("nhsuk-pagination",i);return l.jsx("nav",{className:s,role:"navigation","aria-label":"Pagination",...o,children:l.jsxs("ul",{className:"nhsuk-list nhsuk-pagination__list",children:[t&&e&&l.jsx("li",{className:"nhsuk-pagination-item--previous",children:l.jsxs("a",{className:"nhsuk-pagination__link nhsuk-pagination__link--prev",href:t,children:[l.jsx("span",{className:"nhsuk-pagination__title",children:"Previous"}),l.jsx("span",{className:"nhsuk-u-visually-hidden",children:":"}),l.jsx("span",{className:"nhsuk-pagination__page",children:e}),l.jsx("svg",{className:"nhsuk-icon nhsuk-icon__arrow-left",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24","aria-hidden":"true",width:"34",height:"34",children:l.jsx("path",{d:"M4.1 12.3l2.7 3c.2.2.5.2.7 0 .1-.1.1-.2.1-.3v-2h11c.6 0 1-.4 1-1s-.4-1-1-1h-11V9c0-.2-.1-.4-.3-.5h-.2c-.1 0-.3.1-.4.2l-2.7 3c0 .2 0 .4.1.6z"})})]})}),n&&r&&l.jsx("li",{className:"nhsuk-pagination-item--next",children:l.jsxs("a",{className:"nhsuk-pagination__link nhsuk-pagination__link--next",href:n,children:[l.jsx("span",{className:"nhsuk-pagination__title",children:"Next"}),l.jsx("span",{className:"nhsuk-u-visually-hidden",children:":"}),l.jsx("span",{className:"nhsuk-pagination__page",children:r}),l.jsx("svg",{className:"nhsuk-icon nhsuk-icon__arrow-right",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24","aria-hidden":"true",width:"34",height:"34",children:l.jsx("path",{d:"M19.6 11.66l-2.73-3A.51.51 0 0 0 16 9v2H5a1 1 0 0 0 0 2h11v2a.5.5 0 0 0 .32.46.39.39 0 0 0 .18 0 .52.52 0 0 0 .37-.16l2.73-3a.5.5 0 0 0 0-.64z"})})]})})]})})},P2=({items:t,classes:e,ariaLabel:n="Pages in this guide",attributes:r={}})=>{const i=Ie("nhsuk-contents-list",e),o=(s,a)=>s.current?l.jsx("li",{className:"nhsuk-contents-list__item","aria-current":"page",...s.attributes||{},children:l.jsx("span",{className:"nhsuk-contents-list__current",children:s.text})},a):l.jsx("li",{className:"nhsuk-contents-list__item",children:l.jsx("a",{className:"nhsuk-contents-list__link",href:s.href,...s.attributes||{},children:s.text})},a);return l.jsxs("nav",{className:i,role:"navigation","aria-label":n,...r,children:[l.jsx("h2",{className:"nhsuk-u-visually-hidden",children:"Contents"}),l.jsx("ol",{className:"nhsuk-contents-list__list",children:t.map((s,a)=>o(s,a))})]})},Mc=$.forwardRef(({variant:t="default",heading:e,headingHtml:n,headingLevel:r=2,headingClasses:i,description:o,descriptionHtml:s,href:a,imgURL:c,imgAlt:u,...d},f)=>{const p=["nhsuk-card",t==="clickable"&&"nhsuk-card--clickable",t==="secondary"&&"nhsuk-card--secondary",t==="feature"&&"nhsuk-card--feature",d.className].filter(Boolean).join(" "),h=["nhsuk-card__content",t==="feature"&&"nhsuk-card__content--feature",t==="primary"&&"nhsuk-card__content--primary",t==="secondary"&&"nhsuk-card__content--secondary"].filter(Boolean).join(" "),y=["nhsuk-card__heading",t==="feature"&&"nhsuk-card__heading--feature",i].filter(Boolean).join(" "),m=()=>{if(n)return l.jsx("div",{dangerouslySetInnerHTML:{__html:n}});if(!e)return null;const M=()=>a&&t!=="feature"?l.jsx("a",{className:"nhsuk-card__link",href:a,children:e}):e;return l.jsx(Gn,{level:r,className:y,children:M()})},g=()=>d.children?d.children:s?l.jsx("div",{dangerouslySetInnerHTML:{__html:s}}):o?l.jsx("p",{className:"nhsuk-card__description",children:o}):null,N=()=>t!=="primary"?null:l.jsxs("svg",{className:"nhsuk-icon",xmlns:"http://www.w3.org/2000/svg",width:"27",height:"27","aria-hidden":"true",focusable:"false",children:[l.jsx("circle",{cx:"13.333",cy:"13.333",r:"13.333",fill:""}),l.jsxs("g",{fill:"none",stroke:"#fff",strokeLinecap:"round",strokeMiterlimit:"10",strokeWidth:"2.667",children:[l.jsx("path",{d:"M15.438 13l-3.771 3.771"}),l.jsx("path",{d:"M11.667 9.229L15.438 13"})]})]});return l.jsxs("div",{...d,className:p,ref:f,children:[c&&l.jsx("img",{className:"nhsuk-card__img",src:c,alt:u||""}),l.jsxs("div",{className:h,children:[m(),g(),N()]})]})});Mc.displayName="Card";const A2=({className:t,children:e,"data-testid":n,id:r})=>{const i=["nhsuk-card-group",t].filter(Boolean).join(" ");return l.jsx("ul",{className:i,"data-testid":n,id:r,children:e})},E2=({className:t,children:e,"data-testid":n})=>{const r=["nhsuk-card-group__item",t].filter(Boolean).join(" ");return l.jsx("li",{className:r,"data-testid":n,children:e})},F2=({type:t,heading:e,headingHtml:n,headingLevel:r=3,headingClasses:i,description:o,descriptionHtml:s,className:a,children:c,"data-testid":u,id:d,"aria-label":f,"aria-labelledby":p,"aria-describedby":h})=>{const y=["nhsuk-care-card",`nhsuk-care-card--${t}`,a].filter(Boolean).join(" "),m=["nhsuk-care-card__heading",i].filter(Boolean).join(" "),g=()=>{if(n)return l.jsx("div",{dangerouslySetInnerHTML:{__html:n}});if(!e)return null;const M={"non-urgent":"Non-urgent advice:",urgent:"Urgent advice:",emergency:"Immediate action required:"}[t],j=l.jsxs("span",{role:"text",children:[l.jsxs("span",{className:"nhsuk-u-visually-hidden",children:[M," "]}),e]});return l.jsx(Gn,{level:r,className:m,children:j})},N=()=>c||(s?l.jsx("div",{dangerouslySetInnerHTML:{__html:s}}):o?l.jsx("p",{className:"nhsuk-care-card__text",children:o}):null);return l.jsxs("div",{className:y,"data-testid":u,id:d,"aria-label":f,"aria-labelledby":p,"aria-describedby":h,children:[l.jsxs("div",{className:"nhsuk-care-card__heading-container",children:[g(),l.jsx("span",{className:"nhsuk-care-card__arrow","aria-hidden":"true"})]}),l.jsx("div",{className:"nhsuk-care-card__content",children:N()})]})},Ih=({id:t,className:e,headingText:n,headingHtml:r,headingLevel:i=2,bodyText:o,bodyHtml:s,children:a,...c})=>{const u=Ie("nhsuk-panel",e),d=()=>!n&&!r&&!a?null:r?l.jsx(Gn,{level:i,className:"nhsuk-panel__heading",html:r,marginBottom:"var(--panel-heading-margin, 24px)"}):n?l.jsx(Gn,{level:i,className:"nhsuk-panel__heading",text:n,marginBottom:"var(--panel-heading-margin, 24px)"}):null,f=()=>a?l.jsx("div",{className:"nhsuk-panel__body",children:a}):s?l.jsx("div",{className:"nhsuk-panel__body",dangerouslySetInnerHTML:{__html:s}}):o?l.jsx("div",{className:"nhsuk-panel__body",children:l.jsx("p",{children:o})}):null;return l.jsxs("div",{className:u,id:t,...c,children:[d(),f()]})},$2=({text:t,html:e,children:n,className:r,...i})=>{const o=Ie("nhsuk-inset-text",r),s=()=>n||(e?l.jsx("div",{dangerouslySetInnerHTML:{__html:e}}):t?l.jsx("p",{children:t}):null);return l.jsx("div",{className:o,...i,children:s()})},B2=({items:t,noBorder:e=!1,className:n,...r})=>{const i=Ie("nhsuk-summary-list",{"nhsuk-summary-list--no-border":e},n),o=a=>a.children?a.children:a.html?l.jsx("span",{dangerouslySetInnerHTML:{__html:a.html}}):a.text?a.text:null,s=a=>!a||!a.items.length?null:l.jsx("dd",{className:"nhsuk-summary-list__actions",children:l.jsx("ul",{className:"nhsuk-summary-list__actions-list",children:a.items.map((c,u)=>l.jsx("li",{className:"nhsuk-summary-list__actions-list-item",children:l.jsxs("a",{href:c.href,className:"nhsuk-link",...c.attributes,children:[o(c),c.visuallyHiddenText&&l.jsx("span",{className:"nhsuk-u-visually-hidden",children:c.visuallyHiddenText})]})},u))})});return l.jsx("div",{className:"nhsuk-summary-list-container",children:l.jsx("dl",{className:i,...r,children:t.map((a,c)=>l.jsxs("div",{className:"nhsuk-summary-list__row",children:[l.jsx("dt",{className:"nhsuk-summary-list__key",children:o(a.key)}),l.jsx("dd",{className:"nhsuk-summary-list__value",children:o(a.value)}),s(a.actions)]},c))})})},To={current:null},O2=()=>{if(To.current)return To.current;try{To.current=require("prismjs");try{require("prismjs/components/prism-typescript")}catch{}try{require("prismjs/components/prism-tsx")}catch{}try{require("prismjs/components/prism-json")}catch{}}catch{To.current=null}return To.current},R2=t=>{const e=[{regex:/\b(import|from|export|const|let|var|return|if|else|for|while|switch|case|break|new|throw|try|catch|finally|class|extends|implements|interface|type|as|async|await|function)\b/g,cls:"kw"},{regex:/(['"`])(?:\\.|(?!\1).)*\1/g,cls:"str"},{regex:/\/\*[^]*?\*\/|\/\/.*$/gm,cls:"com"},{regex:/\b([0-9]+(?:\.[0-9]+)?)\b/g,cls:"num"}];let n=t;return e.forEach(r=>{n=n.replace(r.regex,i=>`<span class="nhsuk-code-${r.cls}">${i}</span>`)}),n},ya=(t,e,n)=>{if(n||!e)return t;const r=O2();if(r&&r.languages){const i=r.languages[e]?e:r.languages.typescript&&(e==="ts"||e==="tsx"||e==="typescript")?"typescript":r.languages.json&&e==="json"?"json":void 0;if(i)try{return r.highlight(t,r.languages[i],i)}catch{}}return R2(t)},z2=({rows:t,head:e,caption:n,captionSize:r,firstCellIsHeader:i=!1,responsive:o=!1,heading:s,headingLevel:a=3,panel:c=!1,panelClasses:u,tableClasses:d,classes:f,attributes:p,"data-testid":h,columns:y,data:m,visuallyHiddenCaption:g=!1})=>{const N=`nhsuk-table__caption ${r?`nhsuk-table__caption--${r}`:""}`.trim(),M=Ie("nhsuk-table",{"nhsuk-table-responsive":o},d),j=Ie(f),_=(v,x)=>{const A=Ie("nhsuk-table__header",{[`nhsuk-table__header--${v.format}`]:v.format},v.classes),I={scope:"col",...v.colspan&&{colSpan:v.colspan},...v.rowspan&&{rowSpan:v.rowspan},...o&&{role:"columnheader"},...v.attributes};let O;if(v.node!=null)O=l.jsx(l.Fragment,{children:v.node});else if(v.html)O=l.jsx("span",{dangerouslySetInnerHTML:{__html:v.html}});else if(v.code!=null){const E=Array.isArray(v.code),L=E?v.code.join(`
`):v.code,D=E||L.includes(`
`),F={className:Ie("nhsuk-table__code",v.codeClassName,{"nhsuk-table__code--block":D,"nhsuk-table__code--inline":!D}),...v.codeLanguage?{"data-language":v.codeLanguage}:{}},K=ya(L,v.codeLanguage);O=D?l.jsx("pre",{className:"nhsuk-table__pre",children:l.jsx("code",{...F,dangerouslySetInnerHTML:{__html:K}})}):l.jsx("code",{...F,dangerouslySetInnerHTML:{__html:K}})}else O=v.text;return l.jsx("th",{className:A,...I,children:O},x)},b=(v,x,A)=>{const I=i&&A||v.rowHeader,O=Ie(I?"nhsuk-table__header":"nhsuk-table__cell",{[`nhsuk-table__${I?"header":"cell"}--${v.format}`]:v.format},v.classes),E={...I&&{scope:"row"},...v.colspan&&{colSpan:v.colspan},...v.rowspan&&{rowSpan:v.rowspan},...o&&{role:I?"rowheader":"cell",...v.header&&{"data-label":v.header}},...v.attributes};let L;if(v.node!=null)L=l.jsx(l.Fragment,{children:v.node});else if(v.html)L=l.jsx("span",{dangerouslySetInnerHTML:{__html:v.html}});else if(v.code!=null){const K=Array.isArray(v.code),W=K?v.code.join(`
`):v.code,T=K||W.includes(`
`),Q={className:Ie("nhsuk-table__code",v.codeClassName,{"nhsuk-table__code--block":T,"nhsuk-table__code--inline":!T}),...v.codeLanguage?{"data-language":v.codeLanguage}:{}},G=ya(W,v.codeLanguage,v.disableHighlight);L=T?l.jsx("pre",{className:"nhsuk-table__pre",children:l.jsx("code",{...Q,dangerouslySetInnerHTML:{__html:G}})}):l.jsx("code",{...Q,dangerouslySetInnerHTML:{__html:G}})}else L=v.text;const D=l.jsxs(l.Fragment,{children:[o&&v.header&&l.jsxs("span",{className:"nhsuk-table-responsive__heading","aria-hidden":"true",children:[v.header," "]}),L]}),F=I?"th":"td";return l.jsx(F,{className:O,...E,children:D},x)};let S=e,C=t;!S&&y&&y.length&&(S=y.map(v=>({text:v.title,format:v.format,classes:v.headerClasses,attributes:v.headerAttributes}))),!C&&y&&m&&m.length&&(C=m.map((v,x)=>y.map(A=>{const I=A.accessor?A.accessor(v,x):v[A.key];let O={format:A.format,classes:A.cellClasses,attributes:A.cellAttributes};if(A.rowHeader&&(O.rowHeader=!0),A.render){const E=A.render(I,v,x,A);return E==null||typeof E=="boolean"?{...O,text:""}:typeof E=="string"||typeof E=="number"?{...O,text:String(E)}:{...O,...E}}return{...O,text:I!=null?String(I):""}})));const k=()=>l.jsxs("table",{className:M,...o&&{role:"table"},...p,...h&&{"data-testid":h},children:[n&&l.jsx("caption",{className:Ie(N,g&&"nhsuk-u-visually-hidden"),children:n}),S&&S.length>0&&l.jsx("thead",{className:"nhsuk-table__head",...o&&{role:"rowgroup"},children:l.jsx("tr",{...o&&{role:"row"},children:S.map((v,x)=>_(v,x))})}),l.jsx("tbody",{className:"nhsuk-table__body",children:C&&C.map((v,x)=>l.jsx("tr",{className:"nhsuk-table__row",...o&&{role:"row"},children:v.map((A,I)=>b(A,I,I===0))},x))})]});return c?l.jsxs(Ih,{className:u,children:[s&&l.jsx(Gn,{level:a,className:"nhsuk-table__heading-tab",children:s}),k()]}):j?l.jsx("div",{className:j,children:k()}):k()},H2=({children:t,size:e,className:n})=>{const r=Ie("nhsuk-table__caption",e&&`nhsuk-table__caption--${e}`,n);return l.jsx("caption",{className:r,children:t})},Lh=({responsive:t,className:e,children:n,...r})=>{const i=t?{role:"row"}:{};return l.jsx("tr",{className:e,...i,...r,children:n})},Ph=({text:t,html:e,node:n,code:r,codeLanguage:i,codeClassName:o,disableHighlight:s,format:a,classes:c,colspan:u,rowspan:d,attributes:f,responsive:p,as:h="th"})=>{const y=Ie("nhsuk-table__header",{[`nhsuk-table__header--${a}`]:a},c),m={scope:"col",...u&&{colSpan:u},...d&&{rowSpan:d},...p&&{role:"columnheader"},...f};let g;if(n!=null)g=l.jsx(l.Fragment,{children:n});else if(e)g=l.jsx("span",{dangerouslySetInnerHTML:{__html:e}});else if(r!=null){const M=Array.isArray(r),j=M?r.join(`
`):r,_=M||j.includes(`
`),b={className:Ie("nhsuk-table__code",o,{"nhsuk-table__code--block":_,"nhsuk-table__code--inline":!_}),...i?{"data-language":i}:{}},S=ya(j,i,s);g=_?l.jsx("pre",{className:"nhsuk-table__pre",children:l.jsx("code",{...b,dangerouslySetInnerHTML:{__html:S}})}):l.jsx("code",{...b,dangerouslySetInnerHTML:{__html:S}})}else g=t;const N=h;return l.jsx(N,{className:y,...m,children:g})},U2=({text:t,html:e,node:n,code:r,codeLanguage:i,codeClassName:o,disableHighlight:s,format:a,classes:c,colspan:u,rowspan:d,attributes:f,responsive:p,rowHeader:h})=>{const y=!!h,m=y?"th":"td",g=Ie(y?"nhsuk-table__header":"nhsuk-table__cell",a&&`nhsuk-table__${y?"header":"cell"}--${a}`,c),N={...u&&{colSpan:u},...d&&{rowSpan:d},...y&&{scope:"row"},...p&&{role:y?"rowheader":"cell"},...f};let M;if(n!=null)M=l.jsx(l.Fragment,{children:n});else if(e)M=l.jsx("span",{dangerouslySetInnerHTML:{__html:e}});else if(r!=null){const j=Array.isArray(r),_=j?r.join(`
`):r,b=j||_.includes(`
`),S={className:Ie("nhsuk-table__code",o,{"nhsuk-table__code--block":b,"nhsuk-table__code--inline":!b}),...i?{"data-language":i}:{}},C=ya(_,i,s);M=b?l.jsx("pre",{className:"nhsuk-table__pre",children:l.jsx("code",{...S,dangerouslySetInnerHTML:{__html:C}})}):l.jsx("code",{...S,dangerouslySetInnerHTML:{__html:C}})}else M=t;return l.jsx(m,{className:g,...N,children:M})},Vn=z2;Vn.Caption=H2,Vn.BodyRow=Lh,Vn.HeaderCell=Ph,Vn.Cell=U2;let Ah=!1,Eh=!1;Object.defineProperty(Vn,"Row",{configurable:!0,enumerable:!1,get(){return process.env.NODE_ENV!=="production"&&!Ah&&(console.warn("Table.Row is deprecated. Use Table.BodyRow instead."),Ah=!0),Lh}}),Object.defineProperty(Vn,"TH",{configurable:!0,enumerable:!1,get(){return process.env.NODE_ENV!=="production"&&!Eh&&(console.warn("Table.TH is deprecated. Use Table.HeaderCell instead."),Eh=!0),Ph}});const W2=$.forwardRef(({items:t,defaultActiveTab:e,activeTab:n,onTabChange:r,onTabFocus:i,onTabListBlur:o,onEscape:s,autoActivate:a=!0,className:c,id:u,"data-testid":d,...f},p)=>{const h=n!==void 0,[y,m]=$.useState(()=>e||t[0]?.id||""),g=h?n:y,N=$.useRef(null),M=$.useRef(new Map),j=$.useCallback(x=>{h||m(x),r?.(x)},[h,r]),_=$.useCallback(x=>{i?.(x),a&&j(x)},[i,a,j]),b=$.useCallback((x,A)=>{const I=t.filter(L=>!L.disabled).map(L=>L.id),O=I.indexOf(A);let E=null;switch(x.key){case"ArrowLeft":E=O>0?O-1:I.length-1;break;case"ArrowRight":E=O<I.length-1?O+1:0;break;case"Home":E=0;break;case"End":E=I.length-1;break;case"Escape":x.preventDefault(),s?.();return;default:return}if(E!==null){x.preventDefault();const L=I[E],D=M.current.get(L);D&&(D.focus(),_(L))}},[t,_,s]),S=$.useCallback((x,A)=>{A?M.current.set(x,A):M.current.delete(x)},[]),C=$.useCallback(x=>{const A=M.current.get(x);A&&A.focus()},[]);$.useImperativeHandle(p,()=>({focusTab:C,getActiveTab:()=>g,getTabListElement:()=>N.current}),[C,g]);const k=$.useCallback(x=>{const A=x.relatedTarget;N.current?.contains(A)||o?.()},[o]),v=Ie("nhsuk-tabs",c);return l.jsxs("div",{className:v,id:u,"data-testid":d,...f,children:[l.jsx("h2",{className:"nhsuk-tabs__title",children:"Contents"}),l.jsx("div",{className:"nhsuk-tabs__list-container",ref:N,children:l.jsx("ul",{className:"nhsuk-tabs__list",role:"tablist",onBlur:k,children:t.map(x=>{const A=x.id===g,I=x.disabled,O=Ie("nhsuk-tabs__list-item",{"nhsuk-tabs__list-item--selected":A,"nhsuk-tabs__list-item--disabled":I});return l.jsx("li",{className:O,role:"presentation",children:l.jsx("button",{ref:E=>S(x.id,E),className:"nhsuk-tabs__tab",role:"tab","aria-selected":A,"aria-controls":`${x.id}-panel`,id:`${x.id}-tab`,tabIndex:A?0:-1,disabled:I,onClick:()=>!I&&j(x.id),onKeyDown:E=>!I&&b(E,x.id),onFocus:()=>!I&&_(x.id),...x.attributes,children:x.label})},x.id)})})}),t.map(x=>{const A=x.id===g;return l.jsx("div",{className:"nhsuk-tabs__panel",role:"tabpanel","aria-labelledby":`${x.id}-tab`,id:`${x.id}-panel`,hidden:!A,children:x.content},x.id)})]})}),Fh=$.forwardRef(({summaryText:t,summaryHtml:e,text:n,html:r,open:i=!1,className:o="",id:s,children:a,...c},u)=>{const d=["nhsuk-details",o].filter(Boolean).join(" "),f=e?l.jsx("span",{className:"nhsuk-details__summary-text",dangerouslySetInnerHTML:{__html:e}}):l.jsx("span",{className:"nhsuk-details__summary-text",children:t});let p;return a?p=a:r?p=l.jsx("div",{dangerouslySetInnerHTML:{__html:r}}):n&&(p=n),l.jsxs("details",{ref:u,id:s,className:d,open:i,...c,children:[l.jsx("summary",{className:"nhsuk-details__summary",tabIndex:0,children:f}),l.jsx("div",{className:"nhsuk-details__text",children:p})]})});Fh.displayName="Details";const $h=$.forwardRef(({title:t,type:e,items:n,hidePrefix:r=!1,headingLevel:i=3,className:o,...s},a)=>{const c=["nhsuk-do-dont-list"];o&&c.push(o);const u=["nhsuk-list",e==="tick"?"nhsuk-list--tick":"nhsuk-list--cross"],d=()=>e==="cross"?l.jsxs("svg",{className:"nhsuk-icon nhsuk-icon__cross",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24","aria-hidden":"true",width:"34",height:"34",children:[l.jsx("path",{d:"M17 18.5c-.4 0-.8-.1-1.1-.4l-10-10c-.6-.6-.6-1.6 0-2.1.6-.6 1.5-.6 2.1 0l10 10c.6.6.6 1.5 0 2.1-.3.3-.6.4-1 .4z",fill:"#d5281b"}),l.jsx("path",{d:"M7 18.5c-.4 0-.8-.1-1.1-.4-.6-.6-.6-1.5 0-2.1l10-10c.6-.6 1.5-.6 2.1 0 .6.6.6 1.5 0 2.1l-10 10c-.3.3-.6.4-1 .4z",fill:"#d5281b"})]}):l.jsx("svg",{className:"nhsuk-icon nhsuk-icon__tick",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none","aria-hidden":"true",width:"34",height:"34",children:l.jsx("path",{strokeWidth:"4",strokeLinecap:"round",d:"M18.4 7.8l-8.5 8.4L5.6 12",stroke:"#007f3b"})}),f=h=>e==="cross"&&!r?`do not ${h}`:h,p=()=>l.jsx(Gn,{level:i,className:"nhsuk-do-dont-list__label",text:t});return l.jsxs("div",{ref:a,className:c.join(" "),...s,children:[p(),l.jsx("div",{className:"nhsuk-do-dont-list__content--feature",children:l.jsx("ul",{className:u.join(" "),role:"list",children:n.map((h,y)=>l.jsxs("li",{children:[d(),f(h.item)]},y))})})]})});$h.displayName="DoDontList";const Bh=$.forwardRef(({summaryText:t,summaryHtml:e,text:n,html:r,open:i=!1,className:o="",id:s,children:a,...c},u)=>{const d=["nhsuk-expander",o].filter(Boolean).join(" "),f=e?l.jsx("span",{className:"nhsuk-details__summary-text",dangerouslySetInnerHTML:{__html:e}}):l.jsx("span",{className:"nhsuk-details__summary-text",children:t});let p;return a?p=a:r?p=l.jsx("div",{dangerouslySetInnerHTML:{__html:r}}):n&&(p=n),l.jsxs("details",{ref:u,id:s,className:d,open:i,...c,children:[l.jsx("summary",{className:"nhsuk-details__summary",children:f}),l.jsx("div",{className:"nhsuk-details__text",children:p})]})});Bh.displayName="Expander";const Oh=$.forwardRef(({items:t,idPrefix:e="task-list",className:n,...r},i)=>{const o=["nhsuk-task-list",n].filter(Boolean).join(" "),s=(a,c)=>{const u=c+1,d=`${e}-${u}-hint`,f=`${e}-${u}-status`,p=!!a.href,h=["nhsuk-task-list__item",p&&"nhsuk-task-list__item--with-link",a.classes].filter(Boolean).join(" "),y=[a.hint&&d,f].filter(Boolean).join(" ");return l.jsx(G2,{item:a,itemClasses:h,hasLink:p,hintId:d,statusId:f,ariaDescribedBy:y},c)};return l.jsx("ul",{ref:i,className:o,...r,children:t.map(s)})}),G2=({item:t,itemClasses:e,hasLink:n,hintId:r,statusId:i,ariaDescribedBy:o})=>{const s=()=>{const u=t.title.html?l.jsx("span",{dangerouslySetInnerHTML:{__html:t.title.html}}):t.title.text,d=[n?"nhsuk-task-list__link":"",t.title.classes].filter(Boolean).join(" ");return n?l.jsx("a",{className:d,href:t.href,"aria-describedby":o,children:u}):l.jsx("div",{className:t.title.classes||"",children:u})},a=()=>t.hint?t.hint.html?l.jsx("div",{id:r,className:"nhsuk-task-list__hint",dangerouslySetInnerHTML:{__html:t.hint.html}}):l.jsx("div",{id:r,className:"nhsuk-task-list__hint",children:t.hint.text}):null,c=()=>{const u=["nhsuk-task-list__status",t.status.classes].filter(Boolean).join(" ");let d;return t.status.tag?d=l.jsx(pt,{...t.status.tag}):t.status.html?d=l.jsx("span",{dangerouslySetInnerHTML:{__html:t.status.html}}):d=t.status.text,l.jsx("div",{className:u,id:i,children:d})};return l.jsxs("li",{className:e,children:[l.jsxs("div",{className:"nhsuk-task-list__name-and-hint",children:[s(),a()]}),c()]})};Oh.displayName="TaskList";const Y2=({heading:t,headingLevel:e=3,text:n,html:r,children:i,className:o,...s})=>{const a=/important/i.test(t),c=()=>i||(r?l.jsx("div",{dangerouslySetInnerHTML:{__html:r}}):n?l.jsx("p",{children:n}):null),u=["nhsuk-warning-callout",o].filter(Boolean).join(" "),d=`h${e}`;return l.jsxs("div",{className:u,...s,children:[$.createElement(d,{className:"nhsuk-warning-callout__label"},a?l.jsxs(l.Fragment,{children:[t,l.jsx("span",{className:"nhsuk-u-visually-hidden",children:":"})]}):l.jsxs("span",{role:"text",children:[l.jsx("span",{className:"nhsuk-u-visually-hidden",children:"Important: "}),t]})),c()]})},V2=({src:t,alt:e,caption:n,sizes:r,srcset:i,className:o,...s})=>{const a=["nhsuk-image",o].filter(Boolean).join(" ");return l.jsxs("figure",{className:a,...s,children:[l.jsx("img",{className:"nhsuk-image__img",src:t,alt:e,...r&&i?{sizes:r,srcSet:i}:{}}),n&&l.jsx("figcaption",{className:"nhsuk-image__caption",dangerouslySetInnerHTML:{__html:n}})]})},Z2=({dateRange:t,onPrev:e,onNext:n,onToday:r,density:i,onDensityChange:o,a11yMode:s,onA11yModeChange:a})=>l.jsxs("div",{className:"nhs-slot-matrix__toolbar",role:"group","aria-label":"Slot matrix controls",children:[l.jsxs("div",{className:"nhs-slot-matrix__toolbar-section",children:[l.jsx(Ht,{variant:"secondary",size:"small",onClick:e,"aria-label":"Previous date range",children:"Prev"}),l.jsx(Ht,{variant:"secondary",size:"small",onClick:r,"aria-label":"Jump to today",children:"Today"}),l.jsx(Ht,{variant:"secondary",size:"small",onClick:n,"aria-label":"Next date range",children:"Next"}),l.jsxs("span",{className:"nhs-slot-matrix__toolbar-daterange","aria-live":"polite",children:[t.start.toDateString()," â€“ ",t.end.toDateString()]})]}),l.jsxs("div",{className:"nhs-slot-matrix__toolbar-section",children:[l.jsx("label",{className:"nhs-slot-matrix__toolbar-label",htmlFor:"slot-matrix-density-select",children:"Density"}),l.jsx(bo,{id:"slot-matrix-density-select",name:"slot-matrix-density",ariaLabel:"Change density",value:i,onChange:c=>o?.(c.target.value),options:[{value:"comfortable",text:"Comfortable"},{value:"compact",text:"Compact"}]}),l.jsx("label",{className:"nhs-slot-matrix__toolbar-label",htmlFor:"slot-matrix-mode-select",children:"Mode"}),l.jsx(bo,{id:"slot-matrix-mode-select",name:"slot-matrix-mode",ariaLabel:"Change accessibility mode",value:s,onChange:c=>a?.(c.target.value),options:[{value:"grid",text:"Grid"},{value:"list",text:"List"}]})]})]}),q2=({items:t,orientation:e="horizontal"})=>l.jsx("div",{className:`nhs-slot-matrix__legend nhs-slot-matrix__legend--${e}`,role:"list","aria-label":"Slot legend",children:t.map(n=>l.jsx("div",{role:"listitem",className:"nhs-slot-matrix__legend-item",children:l.jsx(pt,{color:X2(n.status),text:n.label})},n.status))});function X2(t){switch(t){case"available":return"green";case"full":return"grey";case"overbook":return"orange";case"held":return"yellow";case"blocked":return"grey";default:return"default"}}const J2=({slots:t,sessions:e,value:n,defaultValue:r,onChange:i,selectionMode:o="single",a11yMode:s,className:a,style:c,getSlotAriaLabel:u,toolbar:d,enableDefaultToolbar:f=!0,legendItems:p,enableDefaultLegend:h=!0,legendPlacement:y="bottom",onA11yModeChange:m})=>{const[g,N]=$.useState("grid"),M=s||g,[j,_]=$.useState(r||[]),b=n??j,S=$.useMemo(()=>{const E=new Set;return t.forEach(L=>E.add(new Date(L.start).getTime())),Array.from(E).sort((L,D)=>L-D)},[t]),C=$.useMemo(()=>{const E={};return t.forEach(L=>{const D=new Date(L.start).getTime();E[D]||(E[D]={});const F=L.capacity-L.booked-(L.held||0);E[D][L.sessionId]={slot:L,remaining:F}}),E},[t]),k=$.useCallback(E=>{if(o==="single"){const L=[E.id];n||_(L),i?.(L,{lastAction:"select"})}else{const L=b.includes(E.id),D=L?b.filter(F=>F!==E.id):[...b,E.id];n||_(D),i?.(D,{lastAction:L?"deselect":"select"})}},[o,b,n,i]),v=$.useMemo(()=>p||(h?Array.from(new Set(t.map(L=>L.status))).map(L=>({status:L,label:L.charAt(0).toUpperCase()+L.slice(1)})):void 0),[p,h,t]),x=v?l.jsx(q2,{items:v,orientation:y==="left"||y==="right"?"vertical":"horizontal"}):null,A=E=>{s||N(E),m?.(E)},I=d||(f?l.jsx(Z2,{dateRange:{start:new Date,end:new Date},density:"comfortable",a11yMode:M,onA11yModeChange:A}):null),O=l.jsx("div",{style:c,className:Ie(a),children:l.jsx(Ks,{className:Ie("nhs-slot-matrix-grid-wrapper"),children:l.jsx(pr,{children:l.jsx(Ii,{width:Lr.Full,children:l.jsxs("div",{className:"nhs-slot-matrix",children:[I,y==="top"&&x,l.jsx("ul",{"aria-label":"Appointment slots list",children:t.map(E=>l.jsx("li",{children:l.jsxs("button",{type:"button",onClick:()=>k(E),"aria-pressed":b.includes(E.id),children:[jo(new Date(E.start))," â€“ ",jo(new Date(E.end))," (",E.status,")"]})},E.id))}),y==="bottom"&&x]})})})})});return M==="list"?O:l.jsx("div",{style:c,className:Ie(a),children:l.jsx(Ks,{className:Ie("nhs-slot-matrix-grid-wrapper"),children:l.jsx(pr,{children:l.jsx(Ii,{width:Lr.Full,children:l.jsxs("div",{className:"nhs-slot-matrix",children:[I,y==="top"&&x,l.jsxs("div",{role:"grid","aria-rowcount":S.length+1,"aria-colcount":e.length+1,children:[l.jsxs("div",{role:"row",className:"nhs-slot-matrix__row",children:[l.jsx("div",{role:"columnheader","aria-label":"Timebands",className:"nhs-slot-matrix__timeband-header"}),e.map(E=>l.jsx("div",{role:"columnheader","aria-label":`Session ${E.specialty}`,className:"nhs-slot-matrix__session-header",children:E.specialty},E.id))]}),S.map(E=>l.jsxs("div",{role:"row",className:"nhs-slot-matrix__row",children:[l.jsx("div",{role:"rowheader",className:"nhs-slot-matrix__timeband-header","aria-label":jo(new Date(E)),children:jo(new Date(E))}),e.map(L=>{const D=C[E]?.[L.id];if(!D)return l.jsx("div",{role:"gridcell",className:"nhs-slot-matrix__cell","aria-disabled":"true"},L.id);const{slot:F,remaining:K}=D,W=b.includes(F.id),T=u?u(F):`Slot ${jo(new Date(F.start))} ${F.status}${K===0?" full":""}`;return l.jsx("button",{type:"button",role:"gridcell","data-status":F.status,className:Ie("nhs-slot-matrix__cell",W&&"nhs-slot-matrix__cell--selected"),"aria-label":T,"aria-selected":W||void 0,onClick:()=>k(F),children:K>0?`${K} left`:"Full"},F.id)})]},E))]}),y==="bottom"&&x]})})})})})};function Rh(t){return t<10?`0${t}`:`${t}`}function jo(t){return`${Rh(t.getHours())}:${Rh(t.getMinutes())}`}const zh=({title:t,value:e,subtitle:n,variant:r="default",href:i,className:o="",ariaLabel:s,...a})=>{const c=["nhs-fdp-summary-card",`nhs-fdp-summary-card--${r}`,o].filter(Boolean).join(" "),u=l.jsxs(l.Fragment,{children:[l.jsx(Gn,{level:3,className:"nhs-fdp-summary-card__title",children:t}),l.jsx("p",{className:"nhs-fdp-summary-card__value",children:e}),n&&l.jsx("p",{className:"nhs-fdp-summary-card__subtitle",children:n})]});return i?l.jsx("a",{className:`${c} nhs-fdp-summary-card--clickable`,href:i,"aria-label":s||`${t}: ${e}`,...a,children:u}):l.jsx("div",{className:c,"aria-label":s,...a,children:u})},K2=({cards:t,className:e="",...n})=>{const r=["nhs-fdp-dashboard-summary-grid",e].filter(Boolean).join(" ");return l.jsx("div",{className:r,...n,children:l.jsx(Ks,{children:l.jsx(pr,{children:t.map((i,o)=>l.jsx(Ii,{width:Lr.OneQuarter,className:"nhs-fdp-dashboard-summary-grid__column","data-card-index":o,children:l.jsx(zh,{...i})},o))})})})};var ba=(t=>(t.String="string",t.Number="number",t.Boolean="boolean",t.Date="date",t.Custom="custom",t))(ba||{}),Oi=(t=>(t.First="first",t.Last="last",t))(Oi||{}),Do=(t=>(t.TrueFirst="trueFirst",t.FalseFirst="falseFirst",t))(Do||{});function Hh(t){if(t==null)return null;const n=(t instanceof Date?t:new Date(t)).getTime();return Number.isNaN(n)?null:n}const Q2=new Intl.Collator(void 0,{numeric:!0,sensitivity:"base"});function ew(t,e){return Q2.compare(String(t),String(e))}function Uh(t,e){if(e.sortAccessor)return e.sortAccessor(t);if(e.useRendererForSort){if(e.tableRenderer)return e.tableRenderer(t);if(e.render)return e.render(t)}return t[e.key]}function tw(t,e,n,r){if(n?.sortComparator)return n.sortComparator(t,e);const i=n?.sortType;if(i===ba.Number){const o=Number(t),s=Number(e),a=Number.isNaN(o),c=Number.isNaN(s);return a&&c?0:a?1:c?-1:o-s}if(i===ba.Boolean){const o=!!t,s=!!e,a=n?.booleanOrder??r?.booleanOrder??Do.FalseFirst;return o===s?0:a===Do.TrueFirst?o?-1:1:o?1:-1}if(i===ba.Date){const o=Hh(t),s=Hh(e);return o==null&&s==null?0:o==null?1:s==null?-1:o-s}if(typeof t=="number"&&typeof e=="number"){const o=Number.isNaN(t),s=Number.isNaN(e);return o&&s?0:o?1:s?-1:t-e}if(typeof t=="boolean"&&typeof e=="boolean"){const o=n?.booleanOrder??r?.booleanOrder??Do.FalseFirst;return t===e?0:o===Do.TrueFirst?t?-1:1:t?1:-1}return ew(t,e)}function Tc(t,e,n=Oi.Last,r){const i=new Map(t.map(s=>[s.key,s])),o=e??[];return(s,a)=>{if(!o.length)return 0;for(const{key:c,direction:u}of o){const d=i.get(c),f=d?Uh(s,d):s[c],p=d?Uh(a,d):a[c],h=f==null,y=p==null;if(h||y){if(h&&y)continue;return(d?.nullsPosition??r?.nullsPosition??n)===Oi.First?h?-1:1:h?1:-1}let m=tw(f,p,d,r);if(m!==0)return u==="asc"?m:-m}if(r?.stable){const c=s.__originalIndex__??s.originalIndex??void 0,u=a.__originalIndex__??a.originalIndex??void 0;if(typeof c=="number"&&typeof u=="number")return c-u}return 0}}const Wh=$.forwardRef(({data:t,columns:e,sortConfig:n,onSort:r,sortingOptions:i,selectedRowIndex:o,onRowSelect:s,id:a,testId:c,ariaLabel:u,ariaLabelledby:d,ariaDescribedby:f,className:p,tableClassName:h,bordered:y=!1,striped:m=!1,responsive:g=!1,tableType:N="default"},M)=>{const j=$.useRef(null),_=$.useRef(null),b=$.useRef(null);$.useImperativeHandle(M,()=>j.current,[]);const[S,C]=$.useState(0),[k,v]=$.useState(0),[x,A]=$.useState("headers"),[I,O]=$.useState("browse"),E=e.length,L=t.length,D=$.useMemo(()=>{if(!n||n.length===0)return t;const U=Tc(e,n,Oi.Last,i);return[...t].sort(U)},[t,n,e,i]),F=$.useCallback((U,ee)=>{setTimeout(()=>{const z=j.current?.querySelector(`tbody tr:nth-child(${U+1}) td:nth-child(${ee+1})`);z&&(z.focus(),typeof z.scrollIntoView=="function"&&z.scrollIntoView({behavior:"smooth",block:"center",inline:"nearest"}))},0)},[]),K=$.useCallback(U=>{setTimeout(()=>{const ee=j.current?.querySelector(`th:nth-child(${U+1})`);ee&&(ee.focus(),typeof ee.scrollIntoView=="function"&&ee.scrollIntoView({behavior:"smooth",block:"center",inline:"nearest"}))},0)},[]),W=$.useCallback(U=>{r?.(U)},[r]),T=$.useCallback(U=>{s?.(U)},[s]),Q=$.useCallback(U=>{const{key:ee}=U;switch(ee){case"Enter":if(U.preventDefault(),x==="headers"&&I==="browse")O("navigate"),K(k);else if(x==="headers"&&I==="navigate"){const z=e[k];z&&W(z.key)}else x==="cells"&&I==="browse"?(O("navigate"),F(S,k)):x==="cells"&&I==="navigate"&&T(S);break;case"Escape":U.preventDefault(),(x==="headers"&&I==="navigate"||x==="cells"&&I==="navigate")&&O("browse");break;case"ArrowLeft":if(U.preventDefault(),I==="navigate"||I==="browse"&&x==="headers"){if(x==="headers"){const z=Math.max(0,k-1);v(z),K(z)}else if(x==="cells"){const z=Math.max(0,k-1);v(z),F(S,z)}}break;case"ArrowRight":if(U.preventDefault(),I==="navigate"||I==="browse"&&x==="headers"){if(x==="headers"){const z=Math.min(E-1,k+1);v(z),K(z)}else if(x==="cells"){const z=Math.min(E-1,k+1);v(z),F(S,z)}}break;case"ArrowUp":if(U.preventDefault(),x==="cells"){if(I==="browse"){const z=Math.max(0,S-1);C(z),F(z,0),v(0)}else if(I==="navigate")if(S>0){const z=S-1;C(z),F(z,k)}else A("headers"),O("browse"),K(k)}break;case"ArrowDown":if(U.preventDefault(),x==="headers"&&I==="browse")A("cells"),C(0),v(0),F(0,0);else if(x==="cells"){const z=L-1;if(I==="browse"){const oe=Math.min(z,S+1);C(oe),F(oe,0),v(0)}else if(I==="navigate"&&S<z){const oe=S+1;C(oe),F(oe,k)}}break;case"Home":U.preventDefault(),x==="headers"?(v(0),K(0)):x==="cells"&&(U.ctrlKey?(C(0),v(0),F(0,0)):(v(0),F(S,0)));break;case"End":if(U.preventDefault(),x==="headers"){const z=E-1;v(z),K(z)}else if(x==="cells")if(U.ctrlKey){const z=L-1,oe=E-1;C(z),v(oe),F(z,oe)}else{const z=E-1;v(z),F(S,z)}break;case" ":if(U.preventDefault(),x==="headers"&&I==="navigate"){const z=e[k];z&&W(z.key)}else x==="cells"&&I==="navigate"&&T(S);break}},[x,I,k,S,E,L,e,F,K,W,T]);$.useEffect(()=>{const U=j.current;if(U)return U.addEventListener("keydown",Q),()=>U.removeEventListener("keydown",Q)},[Q]);const G=Ie("nhsuk-table",h,{"nhsuk-table--responsive":g,"nhsuk-table--bordered":y,"nhsuk-table--striped":m,"nhsuk-table--compact":N==="compact"},p);return l.jsxs("table",{ref:j,className:G,id:a,"data-testid":c,role:"grid","aria-label":u,"aria-labelledby":d,"aria-describedby":f,tabIndex:0,children:[l.jsx("thead",{className:"nhsuk-table__head",role:"rowgroup",children:l.jsx("tr",{ref:_,role:"row",children:e.map((U,ee)=>{const z=n?.find(re=>re.key===U.key),oe=!!z,J=x==="headers"&&k===ee;return l.jsx("th",{className:Ie("sortable-header",{"sortable-header--focused":J}),role:"columnheader",tabIndex:J?0:-1,onClick:()=>W(U.key),onKeyDown:re=>{(re.key==="Enter"||re.key===" ")&&(re.preventDefault(),W(U.key))},"aria-sort":oe?z?.direction==="asc"?"ascending":"descending":"none",children:l.jsxs("div",{className:"header-content",children:[l.jsx("span",{className:"header-label",children:U.label}),oe&&l.jsxs("span",{className:"sort-indicator","aria-hidden":"true",children:[n&&n.length>1&&l.jsx("span",{className:"sort-priority",children:n.findIndex(re=>re.key===U.key)+1}),l.jsx("svg",{width:"12",height:"12",viewBox:"0 0 12 12",fill:"currentColor",className:"sort-arrow",children:z?.direction==="asc"?l.jsx("path",{d:"M6 2L2 8h8L6 2z"}):l.jsx("path",{d:"M6 10L2 4h8L6 10z"})})]})]})},U.key)})})}),l.jsx("tbody",{ref:b,className:"nhsuk-table__body",role:"rowgroup",children:D.map((U,ee)=>{const z=o===ee,oe=x==="cells"&&S===ee;return l.jsx("tr",{role:"row",className:Ie("data-row",{"data-row--selected":z,"data-row--focused":oe}),"aria-selected":z,children:e.map((J,re)=>{const te=J.tableRenderer?J.tableRenderer(U):J.render?J.render(U):U[J.key],ae=x==="cells"&&S===ee&&k===re,fe=()=>typeof te=="boolean"?l.jsxs(l.Fragment,{children:[l.jsx("span",{"aria-hidden":"true",children:te?"âœ“":"âœ—"}),l.jsx("span",{className:"sr-only",children:te?"Yes":"No"})]}):String(te??"");return l.jsx("td",{role:"gridcell",className:Ie("data-cell",{"data-cell--focused":ae}),tabIndex:ae?0:-1,onClick:()=>T(ee),children:fe()},J.key)})},ee)})})]})});Wh.displayName="AriaDataGrid";const Gh=({sortConfig:t,columns:e,onSortChange:n,className:r="",emptyDescription:i="No sorting applied",activeDescription:o,showReset:s=!0,showHelp:a=!0,disabled:c=!1,ariaLabel:u="Sort configuration",ariaDescribedBy:d})=>{const f=$.useRef(null),p=$.useRef(null),h=$.useRef(null),y=$.useCallback((v,x)=>{c||(p.current=x,v.dataTransfer.effectAllowed="move",v.dataTransfer.setData("text/plain",x))},[c]),m=$.useCallback((v,x)=>{c||p.current===x||(v.preventDefault(),v.dataTransfer.dropEffect="move",h.current=x)},[c]),g=$.useCallback((v,x)=>{if(c)return;v.preventDefault();const A=p.current;if(!A||A===x)return;const I=t.findIndex(E=>E.key===A),O=t.findIndex(E=>E.key===x);if(I!==-1&&O!==-1){const E=[...t],[L]=E.splice(I,1);E.splice(O,0,L),n(E)}p.current=null,h.current=null},[c,t,n]),N=$.useCallback(()=>{p.current=null,h.current=null},[]),M=$.useCallback(v=>{const x=e.find(A=>A.key===v);return x?x.label:v},[e]),j=$.useCallback(v=>["red","orange","blue","aqua-green","grey"][v]||"grey",[]),_=$.useCallback(v=>{if(c)return;const x=t.map(A=>A.key===v?{...A,direction:A.direction==="asc"?"desc":"asc"}:A);n(x)},[t,n,c]),b=$.useCallback(v=>{if(c)return;const x=t.filter(A=>A.key!==v);n(x)},[t,n,c]),S=$.useCallback(()=>{c||n([])},[n,c]),C=()=>{if(t.length===0)return i;if(o)return o;const v=t.map((x,A)=>{const I=x.direction==="asc"?"ascending":"descending";return`${A+1}. ${M(x.key)} (${I})`});if(v.length===1)return`Sorted by: ${v[0]}`;if(v.length===2)return`Sorted by: ${v.join(" and ")}`;{const x=v.pop();return`Sorted by: ${v.join(", ")}, and ${x}`}},k=$.useMemo(()=>{const v=["sort-description"];return a&&v.push("sort-help"),d&&v.push(d),v.join(" ")},[a,d]);return t.length===0?l.jsxs("div",{className:`sort-status-control ${r}`,children:[l.jsx("div",{className:"sort-status-control__description",id:"sort-description","aria-live":"polite",children:i}),a&&l.jsx("div",{className:"sort-status-control__help",id:"sort-help",children:l.jsx("small",{children:"Drag tags to reorder priority. Click tags or â†‘/â†“ buttons to toggle ascending/descending. Click Ã— to remove a sort."})})]}):l.jsxs("div",{className:`sort-status-control ${r}`,children:[l.jsx("div",{className:"sort-status-control__description sort-status-control__description--active",id:"sort-description","aria-live":"polite",children:C()}),l.jsxs("div",{className:"sort-status-container",children:[l.jsx("div",{ref:f,className:"sort-status-control__tags",role:"list","aria-label":u,"aria-describedby":k,children:t.map((v,x)=>l.jsx("div",{className:"sort-status-control__tag-container",role:"listitem",draggable:!c,onDragStart:A=>y(A,v.key),onDragOver:A=>m(A,v.key),onDrop:A=>g(A,v.key),onDragEnd:N,onClick:()=>_(v.key),style:{cursor:c?"default":"pointer"},title:c?"":`Click to toggle sort direction. Currently ${v.direction==="asc"?"ascending":"descending"}`,"data-key":v.key,children:l.jsx(pt,{color:j(x),className:"sort-status-control__tag",closable:!0,onClose:()=>b(v.key),disabled:c,children:l.jsxs("div",{className:"sort-status-control__tag-content",children:[l.jsx("div",{className:"sort-status-control__drag-handle",title:"Drag to reorder",children:"â‹®â‹®"}),l.jsx("div",{className:`sort-status-control__priority-badge sort-priority sort-priority--priority-${x+1}`,children:x+1}),l.jsx("span",{className:"sort-status-control__tag-label",children:M(v.key)}),l.jsx("button",{type:"button",className:"sort-status-control__direction-button",onClick:A=>{A.stopPropagation(),_(v.key)},disabled:c,"aria-label":`Toggle sort direction for ${M(v.key)}. Currently ${v.direction==="asc"?"ascending":"descending"}`,title:"Click to toggle between ascending and descending",children:l.jsx("span",{className:`sort-status-control__direction-icon sort-status-control__direction-icon--${v.direction}`,children:l.jsx("svg",{className:`nhsuk-icon sort-status-control__chevron sort-status-control__chevron--${v.direction}`,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24","aria-hidden":"true",focusable:"false",children:l.jsx("path",{d:"M15.5 12a1 1 0 0 1-.29.71l-5 5a1 1 0 0 1-1.42-1.42l4.3-4.29-4.3-4.29a1 1 0 0 1 1.42-1.42l5 5a1 1 0 0 1 .29.71z"})})})})]})})},v.key))}),s&&l.jsx("div",{className:"sort-status-control__actions",children:l.jsx(Ht,{variant:"secondary",onClick:S,disabled:c,"aria-label":"Reset all sorting",className:"sort-status-control__reset-button",children:"Clear All Sorts"})})]}),a&&l.jsx("div",{className:"sort-status-control__help",id:"sort-help",children:l.jsx("small",{children:"Drag tags to reorder priority. Click tags or â†‘/â†“ buttons to toggle ascending/descending. Click Ã— to remove a sort."})})]})};function nw(t,e){switch(e.type){case"SET_SELECTED_INDEX":return{...t,selectedIndex:e.payload};case"SET_TAB_LOADING":const n=[...t.tabLoadingStates];return n[e.payload.tabIndex]=e.payload.isLoading,{...t,tabLoadingStates:n};case"SET_TAB_ERROR":const r=[...t.tabErrors];return r[e.payload.tabIndex]=e.payload.error,{...t,tabErrors:r};case"SET_SORT":return{...t,sortConfig:e.payload};case"SET_SELECTED_ROWS":const i=[...t.selectedRows];return i[e.payload.tabIndex]=e.payload.rowIndices,{...t,selectedRows:i};case"SET_GLOBAL_SELECTED_ROW_DATA":return{...t,globalSelectedRowData:e.payload};case"SET_FILTERS":return{...t,filters:e.payload};case"ADJUST_ARRAYS":const{newLength:o}=e.payload,s=new Array(o).fill(!1),a=new Array(o).fill(null),c=new Array(o).fill([]);for(let u=0;u<Math.min(t.tabLoadingStates.length,o);u++)s[u]=t.tabLoadingStates[u],a[u]=t.tabErrors[u],c[u]=t.selectedRows[u];return{...t,tabLoadingStates:s,tabErrors:a,selectedRows:c};case"RESET_STATE":return{selectedIndex:0,tabLoadingStates:new Array(t.tabLoadingStates.length).fill(!1),tabErrors:new Array(t.tabErrors.length).fill(null),sortConfig:[],selectedRows:new Array(t.selectedRows.length).fill([]),globalSelectedRowData:null,filters:void 0};default:return t}}const va=$.forwardRef(function(e,n){const{dataConfig:r={},tabPanels:i,selectedIndex:o,onTabChange:s,onGlobalRowSelectionChange:a,ariaLabel:c,ariaDescription:u,className:d="",disabled:f=!1,orientation:p="horizontal",id:h,isLoading:y=!1,loadingComponent:m,error:g=null,errorComponent:N,"data-testid":M,actions:j,actionsMinGap:_=16,forceActionsAbove:b=!1}=e,C=$.useRef(h||`aria-tabs-datagrid-${Math.random().toString(36).slice(2,9)}`).current,k=typeof u=="string"&&u.trim()!==""&&!/\s/.test(u),v=`${C}-description`,x=`${C}-navigation-help`,{dataComparator:A=(B,H)=>JSON.stringify(B)===JSON.stringify(H),filterFunction:I=B=>B,booleanRenderer:O=B=>B?"âœ“":"âœ—"}=r||{},E=o!==void 0,L=o??0,[D,F]=$.useState({focusArea:"tabs",focusedTabIndex:L,focusedHeaderIndex:0,focusedRowIndex:0,focusedColumnIndex:0,focusedActionIndex:0,isGridActive:!1}),K=$.useMemo(()=>({selectedIndex:L,tabLoadingStates:new Array(i.length).fill(!1),tabErrors:new Array(i.length).fill(null),sortConfig:[],selectedRows:new Array(i.length).fill([]),globalSelectedRowData:null,filters:void 0}),[L]),[W,T]=$.useReducer(nw,K);$.useEffect(()=>{const B=W.tabLoadingStates.length,H=i.length;B!==H&&T({type:"ADJUST_ARRAYS",payload:{newLength:H}})},[i.length]),$.useEffect(()=>{E&&T({type:"SET_SELECTED_INDEX",payload:L})},[L,E]),$.useEffect(()=>{F(B=>({...B,focusArea:"tabs",focusedTabIndex:W.selectedIndex,focusedHeaderIndex:0,focusedRowIndex:0,focusedColumnIndex:0,focusedActionIndex:0,isGridActive:!1}))},[W.selectedIndex]),$.useEffect(()=>{a&&a(W.globalSelectedRowData)},[W.globalSelectedRowData,a]);const Q=$.useCallback((B,H)=>A(B,H),[A]),G=$.useCallback(B=>{B>=0&&B<i.length&&!i[B].disabled&&(T({type:"SET_SELECTED_INDEX",payload:B}),F(H=>({...H,focusedTabIndex:B,focusArea:"tabs"})),s?.(B))},[i,s]),U=$.useRef(!1),ee=$.useCallback((B,H)=>{if(!H?.force&&!U.current&&B===0){U.current=!0;return}U.current=!0,setTimeout(()=>{const Y=z.current[B],ne=Y?.parentElement;if(Y&&ne){const se=Y.offsetLeft,le=Y.offsetWidth,be=ne.clientWidth,me=se-be/2+le/2;try{ne.scrollTo({left:Math.max(0,me),behavior:"smooth"})}catch{Y.scrollIntoView({behavior:"smooth",block:"nearest",inline:"center"})}}else process.env.SILENCE_SCROLL_DEBUG||console.debug("[AriaTabsDataGrid] Missing elements for scroll",{tabElementExists:!!Y,tabListElementExists:!!ne})},50)},[]),z=$.useRef([]),oe=$.useRef([]),J=$.useCallback((B,H)=>{const Y=W.sortConfig||[],ne=Y.find(be=>be.key===H);let se;ne?ne.direction==="asc"?se=Y.map(be=>be.key===H?{...be,direction:"desc"}:be):se=Y.filter(be=>be.key!==H):se=[...Y,{key:H,direction:"asc"}],T({type:"SET_SORT",payload:se}),i[B].onSort?.(H)},[W.sortConfig,i]),re=$.useCallback(B=>{setTimeout(()=>{const H=document.querySelector(`[data-tab-panel="${W.selectedIndex}"] th:nth-child(${B+1})`);H&&H.focus()},0)},[W.selectedIndex]),te=$.useCallback(B=>O(B),[O]),ae=$.useCallback((B,H)=>{setTimeout(()=>{const Y=document.querySelector(`[data-tab-panel="${W.selectedIndex}"] tbody tr:nth-child(${B+1}) td:nth-child(${H+1})`);Y&&Y.focus()},0)},[W.selectedIndex]);$.useEffect(()=>{D.isGridActive&&(D.focusArea==="headers"?setTimeout(()=>{re(D.focusedHeaderIndex)},0):D.focusArea==="cells"&&setTimeout(()=>{ae(D.focusedRowIndex,D.focusedColumnIndex)},0))},[D.focusArea,D.isGridActive,D.focusedHeaderIndex,D.focusedRowIndex,D.focusedColumnIndex,re,ae]),$.useEffect(()=>{ee(W.selectedIndex)},[W.selectedIndex,ee]);const fe=$.useCallback((B,H)=>{const{key:Y}=B,ne=i[W.selectedIndex],se=ne?.columns.length||0;switch(Y){case"ArrowLeft":B.preventDefault();const le=Math.max(0,H-1);F(ke=>({...ke,focusedHeaderIndex:le})),re(le);break;case"ArrowRight":B.preventDefault();const be=Math.min(se-1,H+1);F(ke=>({...ke,focusedHeaderIndex:be})),re(be);break;case"ArrowUp":B.preventDefault(),F(ke=>({...ke,focusArea:"tabs",focusedTabIndex:W.selectedIndex})),ee(W.selectedIndex),z.current[W.selectedIndex]?.focus();break;case"ArrowDown":B.preventDefault(),F(ke=>({...ke,focusArea:"cells",focusedRowIndex:0,focusedColumnIndex:H,isGridActive:!0}));break;case"Home":B.preventDefault(),F(ke=>({...ke,focusedHeaderIndex:0})),re(0);break;case"End":B.preventDefault();const me=se-1;F(ke=>({...ke,focusedHeaderIndex:me})),re(me);break;case"Enter":case" ":B.preventDefault();const xe=ne?.columns[H]?.key;xe&&J(W.selectedIndex,xe);break}},[i,W.selectedIndex,J,F,re,ae,z]),q=$.useCallback((B,H,Y)=>{const{key:ne}=B,se=i[W.selectedIndex],le=se?.data.length||0,be=se?.columns.length||0;switch(ne){case"ArrowUp":if(B.preventDefault(),H===0)F(Ne=>({...Ne,focusArea:"headers",focusedHeaderIndex:Y,isGridActive:!1})),re(Y);else{const Ne=H-1;F(et=>({...et,focusedRowIndex:Ne})),ae(Ne,Y)}break;case"ArrowDown":B.preventDefault();const me=Math.min(le-1,H+1);F(Ne=>({...Ne,focusedRowIndex:me})),ae(me,Y);break;case"ArrowLeft":B.preventDefault();const xe=Math.max(0,Y-1);F(Ne=>({...Ne,focusedColumnIndex:xe})),ae(H,xe);break;case"ArrowRight":B.preventDefault();const ke=Math.min(be-1,Y+1);F(Ne=>({...Ne,focusedColumnIndex:ke})),ae(H,ke);break;case"Home":B.preventDefault(),B.ctrlKey?(F(Ne=>({...Ne,focusedRowIndex:0,focusedColumnIndex:0})),ae(0,0)):(F(Ne=>({...Ne,focusedColumnIndex:0})),ae(H,0));break;case"End":if(B.preventDefault(),B.ctrlKey){const Ne=le-1,et=be-1;F(Ue=>({...Ue,focusedRowIndex:Ne,focusedColumnIndex:et})),ae(Ne,et)}else{const Ne=be-1;F(et=>({...et,focusedColumnIndex:Ne})),ae(H,Ne)}break;case"Enter":case" ":if(B.preventDefault(),se&&se.data[H]){const Ne=se.data.some(dt=>"ews_data"in dt)?I(se.data,W.filters):se.data,et=W.sortConfig;let Ue=Ne;if(et&&et.length>0){const dt=Tc(se.columns,et,Oi.Last,r?.sortingOptions);Ue=[...Ne].sort(dt)}if(Ue[H]){const dt=Ue[H],pe=W.globalSelectedRowData&&Q(W.globalSelectedRowData,dt)?null:dt;T({type:"SET_GLOBAL_SELECTED_ROW_DATA",payload:pe})}}break}},[i,W.selectedIndex,W.filters,W.sortConfig,I,Q,T,F,re,ae]),ce=$.useCallback((B,H)=>I(B,H),[I]);if($.useImperativeHandle(n,()=>({selectTab:B=>{B>=0&&B<i.length&&(T({type:"SET_SELECTED_INDEX",payload:B}),s?.(B))},refreshData:B=>{console.log("Refreshing data for tab:",B??"all")},exportData:B=>{const H=B??W.selectedIndex,Y=i[H];return Y?Y.data:[]},getSelectedRows:B=>W.globalSelectedRowData?[]:[],clearSelection:B=>{T({type:"SET_GLOBAL_SELECTED_ROW_DATA",payload:null})},applyFilters:B=>{T({type:"SET_FILTERS",payload:B})}}),[W.selectedIndex,W.selectedRows,i,s]),y)return l.jsx("div",{className:`aria-tabs-datagrid aria-tabs-datagrid--loading ${d}`,"data-testid":M,children:m||l.jsx("div",{className:"aria-tabs-datagrid__loading",children:l.jsx("div",{className:"nhsuk-spinner",role:"status","aria-label":"Loading data",children:l.jsx("span",{className:"nhsuk-u-visually-hidden",children:"Loading..."})})})});if(g)return l.jsx("div",{className:`aria-tabs-datagrid aria-tabs-datagrid--error ${d}`,"data-testid":M,children:N||l.jsxs("div",{className:"aria-tabs-datagrid__error",role:"alert",children:[l.jsx("h3",{className:"nhsuk-error-summary__title",children:"Error loading data"}),l.jsx("p",{children:g})]})});const ue=$.useRef(null),ge=$.useRef(null),he=$.useRef(null),[V,Ee]=$.useState(!0);$.useEffect(()=>{if(!j){Ee(!1);return}if(b){Ee(!1);return}function B(){if(!ue.current||!ge.current||!he.current)return;const ne=ue.current.clientWidth,se=Array.from(ge.current.querySelectorAll(":scope > .aria-tabs-datagrid__tab")),le=se.reduce((ke,Ne)=>ke+Ne.offsetWidth,0),be=he.current.offsetWidth,me=Math.max(8*(se.length-1),0),xe=le+me+be+_<=ne;Ee(xe)}const H=requestAnimationFrame(()=>B()),Y=new ResizeObserver(()=>B());return ue.current&&Y.observe(ue.current),ge.current&&Y.observe(ge.current),()=>{cancelAnimationFrame(H),Y.disconnect()}},[j,_,b,i.length]);const Pe=he,Te=$.useCallback(()=>Pe.current?Array.from(Pe.current.querySelectorAll('button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])')).filter(B=>!B.hasAttribute("disabled")):[],[]),Z=$.useCallback(B=>{const H=Te();if(!H.length)return;const Y=Math.max(0,Math.min(B,H.length-1));H[Y].focus(),F(ne=>({...ne,focusArea:"actions",focusedActionIndex:Y}))},[Te]),P=$.useCallback(()=>Z(0),[Z]),R=$.useCallback((B,H)=>{const{key:Y}=B,ne=i.length-1;switch(Y){case"ArrowUp":{j&&!V&&(B.preventDefault(),P());break}case"ArrowLeft":{B.preventDefault();const se=H>0?H-1:ne;G(se),ee(se),z.current[se]?.focus();break}case"ArrowRight":{if(B.preventDefault(),H===ne&&j&&V){P();return}const se=H<ne?H+1:0;G(se),ee(se),z.current[se]?.focus();break}case"ArrowDown":{B.preventDefault(),F(se=>({...se,focusArea:"headers",focusedHeaderIndex:0,isGridActive:!0}));break}case"Home":{B.preventDefault(),G(0),ee(0),z.current[0]?.focus();break}case"End":{B.preventDefault(),G(ne),ee(ne),z.current[ne]?.focus();break}case"Enter":case" ":{B.preventDefault(),G(H);break}case"Tab":{!B.shiftKey&&H===ne&&j&&V&&P();break}}},[i.length,G,ee,j,V,P]),X=$.useCallback(B=>{const{key:H}=B,Y=Te();if(!Y.length)return;const ne=Y.findIndex(se=>se===document.activeElement);switch(H){case"ArrowLeft":{if(V)if(ne>0)B.preventDefault(),Z(ne-1);else{B.preventDefault();const se=i.length-1;G(se),ee(se),z.current[se]?.focus(),F(le=>({...le,focusArea:"tabs",focusedTabIndex:se}))}break}case"ArrowRight":{V&&(ne<Y.length-1?(B.preventDefault(),Z(ne+1)):(B.preventDefault(),G(0),ee(0),z.current[0]?.focus(),F(se=>({...se,focusArea:"tabs",focusedTabIndex:0}))));break}case"ArrowDown":{if(V)B.preventDefault(),F(se=>({...se,focusArea:"headers",focusedHeaderIndex:0,isGridActive:!0}));else{B.preventDefault();const se=W.selectedIndex;z.current[se]?.focus(),F(le=>({...le,focusArea:"tabs",focusedTabIndex:se}))}break}}},[Te,V,Z,i.length,G,ee,W.selectedIndex]);return l.jsxs("div",{className:`aria-tabs-datagrid aria-tabs-datagrid--${p} ${d}`,id:h,"data-testid":M,ref:ue,children:[u&&!k&&l.jsx("div",{id:v,className:"nhsuk-u-visually-hidden",children:u}),l.jsx("div",{className:"aria-tabs-datagrid__navigation-help sr-only",id:x,children:"Keyboard navigation: Use Tab to move between tabs and grid. Arrow keys navigate within tabs and grid cells. Enter activates tabs and sorts columns. Arrow Down from tabs moves to table headers. Arrow Down from headers moves to table cells. Use Arrow keys to navigate between cells."}),l.jsx(Gh,{sortConfig:W.sortConfig||[],columns:i.flatMap(B=>B.columns.map(H=>({key:H.key,label:H.label}))).filter((B,H,Y)=>Y.findIndex(ne=>ne.key===B.key)===H),onSortChange:B=>{T({type:"SET_SORT",payload:B})},ariaLabel:"Data grid sort configuration"}),j&&!V&&l.jsx("div",{className:"aria-tabs-datagrid__actions aria-tabs-datagrid__actions--above",ref:he,role:"toolbar","aria-label":"Additional actions",onKeyDown:X,children:j}),l.jsxs("div",{className:`aria-tabs-datagrid__tabs-wrapper ${V?"aria-tabs-datagrid__tabs-wrapper--inline-actions":""}`,children:[l.jsx("div",{role:"tablist","aria-label":c,"aria-describedby":u?k?u:v:x,"aria-orientation":p,className:"aria-tabs-datagrid__tabs",ref:ge,children:i.map((B,H)=>{const Y=H===W.selectedIndex,ne=B.disabled||f;return l.jsxs("button",{role:"tab",id:`tab-${B.id}`,"aria-controls":`panel-${B.id}`,"aria-selected":Y,"aria-disabled":ne,tabIndex:Y?0:-1,ref:se=>{z.current[H]=se},onClick:()=>G(H),onKeyDown:se=>R(se,H),disabled:ne,className:["aria-tabs-datagrid__tab",Y?"aria-tabs-datagrid__tab--selected":"",ne?"aria-tabs-datagrid__tab--disabled":""].filter(Boolean).join(" "),children:[l.jsx("span",{className:"aria-tabs-datagrid__tab-label",children:B.label}),W.tabLoadingStates[H]&&l.jsx("span",{className:"aria-tabs-datagrid__tab-loading","aria-hidden":"true",children:"â³"}),W.tabErrors[H]&&l.jsx("span",{className:"aria-tabs-datagrid__tab-error","aria-hidden":"true",children:"âš ï¸"})]},B.id)})}),j&&V&&l.jsx("div",{className:"aria-tabs-datagrid__actions aria-tabs-datagrid__actions--inline",ref:he,role:"toolbar","aria-label":"Additional actions",onKeyDown:X,children:j})]}),i.map((B,H)=>{const Y=H===W.selectedIndex;return l.jsx("div",{role:"tabpanel",id:`panel-${B.id}`,"aria-labelledby":`tab-${B.id}`,tabIndex:0,hidden:!Y,ref:ne=>{oe.current[H]=ne},className:`aria-tabs-datagrid__panel ${B.className||""}`,"data-tab-panel":H,children:Y&&(()=>{const ne=B.data.some(le=>"ews_data"in le)?ce(B.data,W.filters):B.data,se=$.useMemo(()=>{const le=W.sortConfig;if(!le||le.length===0)return ne;const be=Tc(B.columns,le,Oi.Last,r?.sortingOptions);return[...ne].sort(be)},[ne,W.sortConfig,B.columns,r?.sortingOptions]);return l.jsxs("table",{className:"nhsuk-table aria-tabs-datagrid__grid",role:"grid","aria-label":B.ariaLabel,"aria-describedby":B.ariaDescription?`panel-${B.id}-description`:void 0,children:[B.ariaDescription&&l.jsx("caption",{className:"nhsuk-u-visually-hidden",id:`panel-${B.id}-description`,children:B.ariaDescription}),l.jsx("thead",{className:"nhsuk-table__head",role:"rowgroup",children:l.jsx("tr",{role:"row",children:B.columns.map((le,be)=>{const me=W.sortConfig?.find(Ne=>Ne.key===le.key),xe=!!me,ke=D.focusArea==="headers"&&D.focusedHeaderIndex===be;return l.jsx("th",{className:`sortable-header ${ke?"sortable-header--focused":""} ${xe?"sortable-header--sorted":""}`,role:"columnheader",tabIndex:ke?0:-1,onClick:()=>J(H,le.key),onKeyDown:Ne=>fe(Ne,be),"aria-sort":xe?me?.direction==="asc"?"ascending":"descending":"none",children:l.jsxs("div",{className:"header-content",children:[l.jsx("span",{className:"header-label",children:le.label}),l.jsxs("div",{className:`sort-indicator-container ${xe?`sort-indicator--${me?.direction}`:""}`,children:[W.sortConfig&&W.sortConfig.length>0&&W.sortConfig.findIndex(Ne=>Ne.key===le.key)!==-1&&l.jsx("span",{className:`sort-priority sort-priority--priority-${W.sortConfig.findIndex(Ne=>Ne.key===le.key)+1}`,"data-priority":W.sortConfig.findIndex(Ne=>Ne.key===le.key)+1,title:`Sort priority: ${W.sortConfig.findIndex(Ne=>Ne.key===le.key)+1}`,children:W.sortConfig.findIndex(Ne=>Ne.key===le.key)+1}),xe&&l.jsx("svg",{className:`nhsuk-icon sort-arrow sort-arrow--${me?.direction}`,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24","aria-hidden":"true",focusable:"false",children:l.jsx("path",{d:"M15.5 12a1 1 0 0 1-.29.71l-5 5a1 1 0 0 1-1.42-1.42l4.3-4.29-4.3-4.29a1 1 0 0 1 1.42-1.42l5 5a1 1 0 0 1 .29.71z"})})]})]})},le.key)})})}),l.jsx("tbody",{className:"nhsuk-table__body",role:"rowgroup",children:se.map((le,be)=>{const me=W.globalSelectedRowData&&Q(W.globalSelectedRowData,le),xe=D.focusArea==="cells"&&D.focusedRowIndex===be;return l.jsx("tr",{role:"row",className:`data-row ${me?"data-row--selected":""} ${xe?"data-row--focused":""}`,"aria-selected":me,children:B.columns.map((ke,Ne)=>{const et=le[ke.key];let Ue;ke.tableRenderer?Ue=ke.tableRenderer(le):ke.render?Ue=ke.render(le):Ue=et;const dt=D.focusArea==="cells"&&D.focusedRowIndex===be&&D.focusedColumnIndex===Ne,Oe=()=>{if(ke.customRenderer){const pe=ke.customRenderer(et,le);return l.jsx("span",{className:"data-cell__custom","data-custom-rendered":"true",children:pe})}return typeof et=="boolean"&&Ue===et?l.jsxs(l.Fragment,{children:[te(et),l.jsx("span",{className:"nhsuk-u-visually-hidden",children:et?"Yes":"No"})]}):$.isValidElement(Ue)||typeof Ue!="object"?Ue??"":Ue};return l.jsx("td",{role:"gridcell",className:`data-cell ${dt?"data-cell--focused":""}`,tabIndex:dt?0:-1,onClick:()=>{const je=W.globalSelectedRowData&&Q(W.globalSelectedRowData,le)?null:le;T({type:"SET_GLOBAL_SELECTED_ROW_DATA",payload:je})},onKeyDown:pe=>q(pe,be,Ne),children:Oe()},ke.key)})},be)})})]})})()},B.id)})]})}),xa={asc:"â†‘",desc:"â†“"},rw=t=>[...t].sort((e,n)=>e.priority-n.priority);function jc(t){return t.map((e,n)=>({...e,priority:n}))}function iw(t){return t.length>0?Math.max(...t.map(e=>e.priority)):-1}function ow(t,e){const n=e.find(r=>r.id===t);return n?n.priority>0:!1}function sw(t,e){const n=e.find(i=>i.id===t),r=iw(e);return n?n.priority<r:!1}const aw=({sortConfig:t,onSortChange:e,className:n="",emptyDescription:r="No sorting applied",activeDescription:i,showReset:o=!0,showHelp:s=!0,disabled:a=!1,ariaLabel:c="Sort configuration",ariaDescribedBy:u})=>{const d=$.useMemo(()=>rw(t),[t]),f=$.useCallback(M=>{if(a)return;const j=t.map(_=>_.id===M?{..._,direction:_.direction==="asc"?"desc":"asc"}:_);e(j)},[t,e,a]),p=$.useCallback(M=>{if(a)return;const j=t.findIndex(b=>b.id===M);if(j<=0)return;const _=[...t];[_[j],_[j-1]]=[_[j-1],_[j]],e(jc(_))},[t,e,a]),h=$.useCallback(M=>{if(a)return;const j=t.findIndex(b=>b.id===M);if(j>=t.length-1||j===-1)return;const _=[...t];[_[j],_[j+1]]=[_[j+1],_[j]],e(jc(_))},[t,e,a]),y=$.useCallback(M=>{if(a)return;const j=t.filter(_=>_.id!==M);e(jc(j))},[t,e,a]),m=$.useCallback(()=>{a||e([])},[e,a]),g=()=>{if(t.length===0)return r;if(i)return i;const M=d.map((j,_)=>{const b=j.direction==="asc"?"ascending":"descending";return`${_+1}. ${j.label} (${b})`});if(M.length===1)return`Sorted by: ${M[0]}`;if(M.length===2)return`Sorted by: ${M.join(" and ")}`;{const j=M.pop();return`Sorted by: ${M.join(", ")}, and ${j}`}},N=$.useMemo(()=>{const M=["sort-description"];return s&&M.push("sort-help"),u&&M.push(u),M.join(" ")},[s,u]);return t.length===0?l.jsx("div",{className:`sort-status-control sort-status-control--empty ${n}`,children:l.jsx("div",{className:"sort-status-control__description",id:"sort-description","aria-live":"polite",children:g()})}):l.jsxs("div",{className:`sort-status-control ${n}`,children:[l.jsx("div",{className:"sort-status-control__description sort-status-control__description--active",id:"sort-description","aria-live":"polite",children:g()}),l.jsxs("div",{className:"sort-status-control__tags",role:"list","aria-label":c,"aria-describedby":N,children:[l.jsx("div",{className:"sort-status-control__tags-label",children:"Current sorting:"}),d.map(M=>l.jsx("div",{className:"sort-status-control__tag-container",role:"listitem",children:l.jsx(pt,{text:"",color:"blue",className:"sort-status-control__tag",closable:!0,onClose:()=>y(M.id),disabled:a,children:l.jsxs("div",{className:"sort-status-control__tag-content",children:[l.jsx("span",{className:"sort-status-control__tag-priority",children:M.priority+1}),l.jsx("span",{className:"sort-status-control__tag-label",children:M.label}),l.jsx("button",{type:"button",className:"sort-status-control__tag-direction",onClick:()=>f(M.id),disabled:a,"aria-label":`Toggle sort direction for ${M.label}. Currently ${M.direction==="asc"?"ascending":"descending"}`,title:"Click to toggle between ascending and descending",children:M.direction==="asc"?xa.asc:xa.desc}),l.jsxs("div",{className:"sort-status-control__tag-actions",children:[l.jsx("button",{type:"button",className:"sort-status-control__move-button",onClick:()=>p(M.id),disabled:a||!ow(M.id,t),"aria-label":`Move ${M.label} sort up in priority`,title:"Move up in priority",children:"â–²"}),l.jsx("button",{type:"button",className:"sort-status-control__move-button",onClick:()=>h(M.id),disabled:a||!sw(M.id,t),"aria-label":`Move ${M.label} sort down in priority`,title:"Move down in priority",children:"â–¼"})]})]})})},M.id))]}),o&&l.jsx("div",{className:"sort-status-control__actions",children:l.jsx(Ht,{variant:"secondary",onClick:m,disabled:a,"aria-label":"Reset all sorting",className:"sort-status-control__reset-button",children:"Clear All Sorts"})}),s&&l.jsx("div",{className:"sort-status-control__help",id:"sort-help",children:l.jsxs("small",{children:["Click ",xa.asc,"/",xa.desc," to toggle ascending/descending. Use â–²/â–¼ to change sort priority. Click Ã— to remove a sort."]})})]})},_a=(t,e)=>e.map(n=>({id:n.id,label:n.label,data:n.filter?n.filter(t):t,columns:n.columns.map(r=>({key:r.key,label:r.label,render:r.render,customRenderer:r.customRenderer})),sortConfig:n.sortConfig,ariaLabel:n.ariaLabel||`${n.label} Data Grid`,ariaDescription:n.ariaDescription||`Data grid showing ${n.label.toLowerCase()}`,className:n.className,disabled:n.disabled})),Dc=[{value:!0,icon:l.jsx("svg",{className:"nhsuk-icon nhsuk-icon__tick",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none","aria-hidden":"true",width:"100%",height:"34",children:l.jsx("path",{strokeWidth:"4",strokeLinecap:"round",d:"M18.4 7.8l-8.5 8.4L5.6 12",stroke:"#007f3b"})})},{value:!1,icon:l.jsxs("svg",{className:"nhsuk-icon nhsuk-icon__cross",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24","aria-hidden":"true",width:"100%",height:"34",children:[l.jsx("path",{d:"M17 18.5c-.4 0-.8-.1-1.1-.4l-10-10c-.6-.6-.6-1.6 0-2.1.6-.6 1.5-.6 2.1 0l10 10c.6.6.6 1.5 0 2.1-.3.3-.6.4-1 .4z",fill:"#d5281b"}),l.jsx("path",{d:"M7 18.5c-.4 0-.8-.1-1.1-.4-.6-.6-.6-1.5 0-2.1l10-10c.6-.6 1.5-.6 2.1 0 .6.6.6 1.5 0 2.1l-10 10c-.3.3-.6.4-1 .4z",fill:"#d5281b"})]})}],lw=(t,e)=>!t||!e?t===e:t.name&&t.bed_name&&e.name&&e.bed_name?t.name===e.name&&t.bed_name===e.bed_name:JSON.stringify(t)===JSON.stringify(e),cw=(t,e)=>e?t.filter(n=>{if(e.ewsScoreRange){const[r,i]=e.ewsScoreRange;if(n.ews_score<r||n.ews_score>i)return!1}return!(e.wards&&e.wards.length>0&&!e.wards.includes(n.ward_name)||e.specialties&&e.specialties.length>0&&!e.specialties.includes(n.speciality)||e.dischargeStatuses&&e.dischargeStatuses.length>0&&!e.dischargeStatuses.includes(n.early_discharge_notification)||e.avpuLevels&&e.avpuLevels.length>0&&!e.avpuLevels.includes(n.ews_data.avpu)||e.medicallyOptimised!==null&&e.medicallyOptimised!==void 0&&n.medically_optimised!==e.medicallyOptimised||e.fastTrack!==null&&e.fastTrack!==void 0&&n.fast_track!==e.fastTrack)}):t,uw=t=>{if(typeof t=="boolean"){const n=Dc.find(r=>r.value===t);return n?n.icon:null}const e=Dc.find(n=>n.value===t);return e?e.icon:String(t)},dw=t=>`${t.name}-${t.bed_name}`,fw=()=>({overview:[{key:"name",label:"Patient Name"},{key:"age",label:"Age"},{key:"ward_name",label:"Ward"},{key:"bed_name",label:"Bed"},{key:"ews_score",label:"EWS Score"},{key:"speciality",label:"Specialty"},{key:"consultant",label:"Consultant"}],vitals:[{key:"name",label:"Patient Name"},{key:"ews_score",label:"EWS Score"},{key:"respiratory_rate_bpm",label:"Respiratory Rate",render:t=>t.ews_data.respiratory_rate_bpm},{key:"sp02",label:"SpO2 %",render:t=>t.ews_data.sp02},{key:"temperature",label:"Temperature Â°C",render:t=>t.ews_data.temperature},{key:"systolic_bp",label:"Systolic BP",render:t=>t.ews_data.systolic_bp},{key:"heart_rate",label:"Heart Rate",render:t=>t.ews_data.heart_rate},{key:"avpu",label:"AVPU",render:t=>t.ews_data.avpu.toUpperCase()}],discharge:[{key:"name",label:"Patient Name"},{key:"anticipated_discharge_date",label:"Anticipated Discharge",render:t=>new Date(t.anticipated_discharge_date).toLocaleDateString()},{key:"early_discharge_notification",label:"Discharge Status"},{key:"medically_optimised",label:"Medically Optimised"},{key:"criteria_to_reside",label:"Criteria to Reside"},{key:"fast_track",label:"Fast Track"},{key:"transport_status",label:"Transport Status"},{key:"pathway",label:"Pathway"}],logistics:[{key:"name",label:"Patient Name"},{key:"ward_name",label:"Ward"},{key:"room_name",label:"Room"},{key:"bed_name",label:"Bed"},{key:"bed_type",label:"Bed Type"},{key:"transport_booking",label:"Transport Booked"},{key:"transport_mobility",label:"Transport Type"},{key:"district_nurse_referral",label:"District Nurse"},{key:"equipment",label:"Equipment"}]}),hw=t=>{const e=fw();return[{id:"overview",label:"Patient Overview",data:t,columns:e.overview,ariaLabel:"Patient Overview Data Grid",ariaDescription:"Overview of all patients with basic information"},{id:"vitals",label:"Vital Signs & EWS",data:t,columns:e.vitals,sortConfig:[{key:"ews_score",direction:"desc"},{key:"name",direction:"asc"},{key:"ward_name",direction:"asc"}],ariaLabel:"Patient Vital Signs Data Grid",ariaDescription:"Patient vital signs and Early Warning Scores"},{id:"discharge",label:"Discharge Planning",data:t.filter(n=>n.anticipated_discharge_date),columns:e.discharge,sortConfig:[{key:"anticipated_discharge_date",direction:"asc"},{key:"discharge_status",direction:"desc"}],ariaLabel:"Discharge Planning Data Grid",ariaDescription:"Patient discharge planning and status information"},{id:"logistics",label:"Bed Management",data:t,columns:e.logistics,sortConfig:[{key:"ward_name",direction:"asc"}],ariaLabel:"Bed Management Data Grid",ariaDescription:"Patient location and logistics information"}]},Yh={dataComparator:lw,filterFunction:cw,booleanRenderer:uw,getDataId:dw};function Vh(t,e,n){const{primaryField:r,secondaryFields:i=[],badges:o=[],hiddenFields:s=[],getPriority:a,getVariant:c,fieldRenderers:u={},classPrefix:d="adaptive-card"}=n,f=e.find(j=>j.key===r),p=f?.cardRenderer?f.cardRenderer(t):f?.render?f.render(t):t[r||"name"]||"Untitled",h=()=>i.filter(_=>!s.includes(_)&&t[_]).slice(0,3).map(_=>{const b=e.find(v=>v.key===_),S=t[_],C=u[_]?u[_](S,t):b?.cardRenderer?b.cardRenderer(t):b?.render?b.render(t):S;return`${b?.label||_}: ${C}`}).join(" â€¢ "),y=()=>o.length===0?null:o.filter(j=>t[j.fieldKey]!==void 0).map(j=>{const _=t[j.fieldKey],b=j.render?j.render(_,t):_;return`<span class="nhsuk-tag ${pw(j,_)}">${b}</span>`}).join(""),m=()=>c?c(t):a?.(t)==="high"?"primary":"default",g=y(),N=h(),M=g?`${N}${g?`<div class="adaptive-card__badges">${g}</div>`:""}`:N;return{variant:m(),heading:String(p),descriptionHtml:M,className:`adaptive-card ${d}`,"aria-label":`Record for ${p}`}}function pw(t,e){const n=t.className||"adaptive-card__badge";if(t.fieldKey==="ews_score"||t.fieldKey.includes("score")){const r=Number(e);return r>=7?`${n} nhsuk-tag--red`:r>=3?`${n} nhsuk-tag--yellow`:`${n} nhsuk-tag--green`}if(t.fieldKey==="priority"){const r=String(e).toLowerCase();if(r==="high")return`${n} nhsuk-tag--red`;if(r==="medium")return`${n} nhsuk-tag--yellow`;if(r==="low")return`${n} nhsuk-tag--green`}if(t.fieldKey==="status"){const r=String(e).toLowerCase();if(r==="urgent"||r==="critical")return`${n} nhsuk-tag--red`;if(r==="pending"||r==="warning")return`${n} nhsuk-tag--yellow`;if(r==="completed"||r==="success")return`${n} nhsuk-tag--green`}switch(t.color){case"primary":return`${n} nhsuk-tag--blue`;case"secondary":return`${n} nhsuk-tag--grey`;case"success":return`${n} nhsuk-tag--green`;case"warning":return`${n} nhsuk-tag--yellow`;case"danger":return`${n} nhsuk-tag--red`;default:return n}}const mw={primaryField:"name",secondaryFields:["id","description","status"],badges:[{fieldKey:"priority",render:t=>t.charAt(0).toUpperCase()+t.slice(1),className:"adaptive-card__priority-badge"},{fieldKey:"status",render:t=>t.charAt(0).toUpperCase()+t.slice(1),className:"adaptive-card__status-badge"}],hiddenFields:[],getPriority:t=>t.priority||"medium",getStatus:t=>t.status||"active",getVariant:t=>t.priority==="high"?"primary":"default",fieldRenderers:{},classPrefix:"adaptive-card--generic"},Ic=({data:t,columns:e,onSelect:n,onAction:r,priority:i="medium",status:o="active"})=>{const s=t.name,a=t.age,c=t.ward_name,u=t.bed_name,d=t.ews_score,f=t.speciality,p=t.consultant;return l.jsxs("div",{className:`healthcare-card healthcare-card--patient healthcare-card--${i} healthcare-card--${o}`,onClick:()=>n?.(t),role:"button",tabIndex:0,"aria-label":`Patient record for ${s}, Age ${a}, Ward ${c}, Bed ${u}`,children:[l.jsxs("div",{className:"healthcare-card__header",children:[l.jsxs("div",{className:"healthcare-card__identity",children:[l.jsx("h3",{className:"healthcare-card__patient-name",children:s}),l.jsxs("p",{className:"healthcare-card__age-info",children:[l.jsx("span",{className:"healthcare-card__label",children:"Age: "}),l.jsx("span",{className:"healthcare-card__value",children:a})]})]}),l.jsx("div",{className:"healthcare-card__badges",children:d!==void 0&&l.jsxs(pt,{color:yw(Zh(d)),className:"healthcare-card__alert",children:["EWS: ",d]})})]}),l.jsx("div",{className:"healthcare-card__body",children:l.jsxs("dl",{className:"healthcare-card__details",children:[l.jsxs("div",{className:"healthcare-card__detail",children:[l.jsx("dt",{children:"Ward"}),l.jsx("dd",{children:c})]}),l.jsxs("div",{className:"healthcare-card__detail",children:[l.jsx("dt",{children:"Bed"}),l.jsx("dd",{children:u})]}),l.jsxs("div",{className:"healthcare-card__detail",children:[l.jsx("dt",{children:"Specialty"}),l.jsx("dd",{children:f})]}),l.jsxs("div",{className:"healthcare-card__detail healthcare-card__detail--prominent",children:[l.jsx("dt",{children:"Consultant"}),l.jsx("dd",{children:p})]})]})}),l.jsxs("div",{className:"healthcare-card__actions",children:[l.jsx(Ht,{variant:"secondary",className:"healthcare-card__action",onClick:h=>{h.stopPropagation(),r?.("view-notes",t)},children:"Notes"}),l.jsx(Ht,{variant:"secondary",className:"healthcare-card__action",onClick:h=>{h.stopPropagation(),r?.("view-vitals",t)},children:"Vitals"}),l.jsx(Ht,{variant:"primary",className:"healthcare-card__action healthcare-card__action--primary",onClick:h=>{h.stopPropagation(),r?.("view-full",t)},children:"View Full Record"})]})]})},Lc=({data:t,onAction:e})=>l.jsxs("div",{className:"healthcare-card healthcare-card--appointment healthcare-card--medium healthcare-card--active",role:"article",tabIndex:0,children:[l.jsxs("div",{className:"healthcare-card__header",children:[l.jsxs("div",{className:"healthcare-card__time-info",children:[l.jsx("h3",{className:"healthcare-card__time",children:new Date(t.appointment_time).toLocaleTimeString("en-GB",{hour:"2-digit",minute:"2-digit"})}),l.jsx("p",{className:"healthcare-card__type",children:t.appointment_type})]}),l.jsxs("div",{className:"healthcare-card__badges",children:[l.jsx(pt,{color:bw(t.status||"active"),className:"healthcare-card__status",children:(t.status||"active").charAt(0).toUpperCase()+(t.status||"active").slice(1)}),l.jsxs(pt,{color:"grey",className:"healthcare-card__duration",children:[t.duration||"30"," min"]})]})]}),l.jsx("div",{className:"healthcare-card__body",children:l.jsxs("dl",{className:"healthcare-card__details",children:[l.jsxs("div",{className:"healthcare-card__detail",children:[l.jsx("dt",{children:"Patient"}),l.jsx("dd",{children:t.patient_name})]}),l.jsxs("div",{className:"healthcare-card__detail",children:[l.jsx("dt",{children:"Consultant"}),l.jsx("dd",{children:t.consultant})]}),l.jsxs("div",{className:"healthcare-card__detail",children:[l.jsx("dt",{children:"Location"}),l.jsx("dd",{children:t.location})]})]})}),l.jsxs("div",{className:"healthcare-card__actions",children:[l.jsx(Ht,{variant:"secondary",size:"small",onClick:()=>e?.("view",t),children:"View Details"}),l.jsx(Ht,{variant:"primary",size:"small",onClick:()=>e?.("edit",t),children:"Reschedule"})]})]}),Pc=({data:t,onAction:e})=>l.jsxs("div",{className:"healthcare-card healthcare-card--medication healthcare-card--medium healthcare-card--active",role:"article",tabIndex:0,children:[l.jsxs("div",{className:"healthcare-card__header",children:[l.jsxs("div",{className:"healthcare-card__medication-info",children:[l.jsx("h3",{className:"healthcare-card__medication-name",children:t.medication}),l.jsxs("p",{className:"healthcare-card__dose",children:[t.dose," â€¢ ",t.frequency]})]}),l.jsxs("div",{className:"healthcare-card__badges",children:[l.jsx(pt,{color:"blue",className:"healthcare-card__route",children:t.route}),t.next_due&&l.jsxs(pt,{color:"red",className:"healthcare-card__warning",children:["Due: ",new Date(t.next_due).toLocaleTimeString("en-GB",{hour:"2-digit",minute:"2-digit"})]})]})]}),l.jsx("div",{className:"healthcare-card__body",children:l.jsxs("dl",{className:"healthcare-card__details",children:[l.jsxs("div",{className:"healthcare-card__detail",children:[l.jsx("dt",{children:"Patient"}),l.jsx("dd",{children:t.patient_name})]}),l.jsxs("div",{className:"healthcare-card__detail",children:[l.jsx("dt",{children:"Prescriber"}),l.jsx("dd",{children:t.prescriber})]}),t.allergies&&l.jsxs("div",{className:"healthcare-card__detail healthcare-card__detail--urgent",children:[l.jsx("dt",{children:"Allergies"}),l.jsx("dd",{children:t.allergies})]})]})}),l.jsxs("div",{className:"healthcare-card__actions",children:[l.jsx(Ht,{variant:"secondary",size:"small",onClick:()=>e?.("view",t),children:"View Details"}),l.jsx(Ht,{variant:"primary",size:"small",onClick:()=>e?.("edit",t),children:"Adjust Dose"})]})]}),Ac=({data:t,onSelect:e,onAction:n,priority:r="medium"})=>{const i=t.name,o=t.ews_score,s=t.ews_data?.respiratory_rate_bpm,a=t.ews_data?.sp02,c=t.ews_data?.temperature,u=t.ews_data?.systolic_bp,d=t.ews_data?.heart_rate,f=t.ews_data?.avpu;return l.jsxs("div",{className:`healthcare-card healthcare-card--vitals healthcare-card--${r}`,onClick:()=>e?.(t),role:"button",tabIndex:0,"aria-label":`Vital signs for ${i}, EWS Score ${o}`,children:[l.jsxs("div",{className:"healthcare-card__header",children:[l.jsxs("div",{className:"healthcare-card__vitals-summary",children:[l.jsx("h3",{className:"healthcare-card__patient-name",children:i}),o!==void 0&&l.jsxs("p",{className:`healthcare-card__ews-score healthcare-card__ews-score--${gw(o)}`,children:["EWS: ",o]})]}),l.jsx("div",{className:"healthcare-card__badges",children:f&&l.jsxs(pt,{color:"blue",className:"healthcare-card__avpu",children:["AVPU: ",f.toUpperCase()]})})]}),l.jsx("div",{className:"healthcare-card__body",children:l.jsxs("div",{className:"healthcare-card__vitals-grid",children:[s!==void 0&&l.jsxs("div",{className:"healthcare-card__vital",children:[l.jsx("span",{className:"healthcare-card__vital-label",children:"Respiratory Rate"}),l.jsxs("span",{className:"healthcare-card__vital-value",children:[s," bpm"]})]}),a!==void 0&&l.jsxs("div",{className:"healthcare-card__vital",children:[l.jsx("span",{className:"healthcare-card__vital-label",children:"SpO2"}),l.jsxs("span",{className:"healthcare-card__vital-value",children:[a,"%"]})]}),c!==void 0&&l.jsxs("div",{className:"healthcare-card__vital",children:[l.jsx("span",{className:"healthcare-card__vital-label",children:"Temperature"}),l.jsxs("span",{className:"healthcare-card__vital-value",children:[c,"Â°C"]})]}),u!==void 0&&l.jsxs("div",{className:"healthcare-card__vital",children:[l.jsx("span",{className:"healthcare-card__vital-label",children:"Systolic BP"}),l.jsx("span",{className:"healthcare-card__vital-value",children:u})]}),d!==void 0&&l.jsxs("div",{className:"healthcare-card__vital",children:[l.jsx("span",{className:"healthcare-card__vital-label",children:"Heart Rate"}),l.jsxs("span",{className:"healthcare-card__vital-value",children:[d," bpm"]})]})]})}),l.jsxs("div",{className:"healthcare-card__actions",children:[l.jsx(Ht,{variant:"secondary",className:"healthcare-card__action",onClick:p=>{p.stopPropagation(),n?.("view-trend",t)},children:"Trend"}),l.jsx(Ht,{variant:"primary",className:"healthcare-card__action healthcare-card__action--primary",onClick:p=>{p.stopPropagation(),n?.("record-new",t)},children:"Record New"})]})]})};function Zh(t){const e=typeof t=="string"?parseInt(t,10):t;return e>=7?"critical":e>=5?"high":e>=3?"medium":"low"}function gw(t){return Zh(t)}function yw(t){switch(t){case"critical":return"red";case"high":return"orange";case"medium":return"yellow";case"low":return"grey";default:return"grey"}}function bw(t){switch(t.toLowerCase()){case"active":return"blue";case"pending":return"orange";case"completed":return"green";case"cancelled":return"grey";default:return"blue"}}const vw=[{fieldKey:"ews_score",render:t=>`EWS: ${t}`,className:"adaptive-card__ews-badge",color:"default"},{fieldKey:"priority",render:t=>t.charAt(0).toUpperCase()+t.slice(1),className:"adaptive-card__priority-badge"},{fieldKey:"status",render:t=>t.charAt(0).toUpperCase()+t.slice(1),className:"adaptive-card__status-badge"}],qh=t=>t.ews_score&&Number(t.ews_score)>=7?"high":t.ews_score&&Number(t.ews_score)>=3?"medium":t.priority==="high"||t.status==="urgent"?"high":t.priority==="low"?"low":"medium",Xh={name:"healthcare",defaultCardConfig:{primaryField:"name",secondaryFields:["nhs_number","ward","condition","consultant"],badges:vw,hiddenFields:[],getPriority:qh,getStatus:t=>{if(t.status){const e=t.status.toLowerCase();if(["active","pending","completed","cancelled","urgent"].includes(e))return e}return"active"},getVariant:t=>qh(t)==="high"||t.status==="urgent"?"primary":"default",fieldRenderers:{nhs_number:t=>t?`NHS: ${t}`:"",ews_score:t=>{const e=Number(t),n=e>=7?"HIGH":e>=3?"MEDIUM":"LOW";return`EWS: ${t} (${n})`},age:(t,e)=>e.dob?`${new Date().getFullYear()-new Date(e.dob).getFullYear()}y`:t?`${t}y`:""},classPrefix:"adaptive-card--healthcare"},cssImport:"./HealthcareCardTemplates.scss",cardTemplates:{patient:(t,e,n)=>{const r=n.getPriority?.(t)||"medium",i=n.getStatus?.(t)||"active",o=i==="urgent"?"active":i;return l.jsx(Ic,{data:t,columns:e,priority:r,status:o,onSelect:s=>console.log("Patient selected:",s),onAction:(s,a)=>console.log("Patient action:",s,a)})},appointment:(t,e,n)=>{const r=n.getStatus?.(t)||"pending",i=r==="urgent"?"pending":r;return l.jsx(Lc,{data:t,columns:e,status:i,onSelect:o=>console.log("Appointment selected:",o),onAction:(o,s)=>console.log("Appointment action:",o,s)})},medication:(t,e,n)=>{const r=n.getPriority?.(t)||"medium";return l.jsx(Pc,{data:t,columns:e,priority:r,onSelect:i=>console.log("Medication selected:",i),onAction:(i,o)=>console.log("Medication action:",i,o)})},vitals:(t,e,n)=>{const r=n.getPriority?.(t)||"medium";return l.jsx(Ac,{data:t,columns:e,priority:r,onSelect:i=>console.log("Vitals selected:",i),onAction:(i,o)=>console.log("Vitals action:",i,o)})}},fieldTypes:{isNHSNumber:t=>typeof t=="string"&&/^\d{3}\s?\d{3}\s?\d{4}$/.test(t.replace(/\s/g,"")),isEWSScore:t=>typeof t=="number"&&t>=0&&t<=20,isMedicalDate:t=>typeof t=="string"&&!isNaN(Date.parse(t))}};function Jh(t){return{primaryField:t?.primaryField||"name",secondaryFields:t?.secondaryFields||[],badges:t?.badgeFields?.map(e=>({fieldKey:e,className:"adaptive-card__badge"}))||[],hiddenFields:t?.hiddenFields||[],cardTemplate:t?.cardTemplate?(e,n,r)=>t.cardTemplate(e,n):void 0,classPrefix:"adaptive-card--generic"}}function Kh(t){if(!t||t.length===0)return!1;const e=t[0];return e.ews_score!==void 0||e.nhs_number!==void 0||e.patient_name!==void 0||e.ward!==void 0||e.consultant!==void 0}function xw(t,e){switch(e.type){case"SET_SELECTED_INDEX":return{...t,selectedIndex:e.payload};case"SET_TAB_LOADING":const n=[...t.tabLoadingStates];return n[e.payload.tabIndex]=e.payload.isLoading,{...t,tabLoadingStates:n};case"SET_TAB_ERROR":const r=[...t.tabErrors];return r[e.payload.tabIndex]=e.payload.error,{...t,tabErrors:r};case"SET_SORT":return{...t,sortConfig:e.payload};case"SET_SELECTED_ROWS":const i=[...t.selectedRows];return i[e.payload.tabIndex]=e.payload.rowIndices,{...t,selectedRows:i};case"SET_GLOBAL_SELECTED_ROW_DATA":return{...t,globalSelectedRowData:e.payload};case"SET_FILTERS":return{...t,filters:e.payload};case"ADJUST_ARRAYS":const{newLength:o}=e.payload,s=new Array(o).fill(!1),a=new Array(o).fill(null),c=new Array(o).fill([]);for(let u=0;u<Math.min(t.tabLoadingStates.length,o);u++)s[u]=t.tabLoadingStates[u],a[u]=t.tabErrors[u],c[u]=t.selectedRows[u];return{...t,tabLoadingStates:s,tabErrors:a,selectedRows:c};case"RESET_STATE":return{selectedIndex:0,tabLoadingStates:new Array(t.tabLoadingStates.length).fill(!1),tabErrors:new Array(t.tabErrors.length).fill(null),sortConfig:[],selectedRows:new Array(t.selectedRows.length).fill([]),globalSelectedRowData:null,filters:void 0};default:return t}}function _w(t,e){const[n,r]=$.useState("cards");return $.useEffect(()=>{if(e){r(e);return}const i=()=>{const o=window.innerWidth;o<t.mobile?r("cards"):o<t.desktop?r("hybrid"):r("table")};return i(),window.addEventListener("resize",i),()=>window.removeEventListener("resize",i)},[t,e]),n}function ww(t){return!t||typeof t!="object"?null:t.appointment_type||t.appointment_time||t.clinic?"appointment":t.medication_name||t.medication||t.dose||t.frequency?"medication":t.ews_score!==void 0||t.respiratory_rate!==void 0||t.spo2!==void 0||t.temperature!==void 0||t.systolic_bp!==void 0||t.heart_rate!==void 0?"vitals":t.name||t.patient_name||t.nhs_number||t.ward||t.bed?"patient":null}function Sw(t,e,n,r){const i=r?{...r.defaultCardConfig,...n}:{...mw,...n};if(r&&r.cardTemplates){const o=ww(t);if(o&&r.cardTemplates[o]){const s=r.cardTemplates[o](t,e,i);if(s)return{variant:"default",children:s}}}return i.cardTemplate&&i.cardTemplate(t,e,i),Vh(t,e,i)}const Ec=({breakpoints:t={mobile:768,tablet:1024,desktop:1200},forceLayout:e,cardConfig:n={},experimental:r={},enableAdvancedSorting:i=!1,topActions:o,bottomActions:s,gridActions:a,forceGridActionsAbove:c,tabPanels:u,dataConfig:d,selectedIndex:f,onTabChange:p,ariaLabel:h="Data grid",ariaDescription:y,orientation:m="horizontal",id:g,disabled:N=!1,className:M,...j})=>{const _=_w(t,e),b=f!==void 0,S=f??0,C=$.useMemo(()=>{if(u.some(P=>P.data&&P.data.length>0&&Kh(P.data))){const P=Jh(n);return{...Xh.defaultCardConfig,...P}}else return Jh(n)},[n,u]),k=$.useMemo(()=>u.some(P=>P.data&&P.data.length>0&&Kh(P.data))?Xh:void 0,[u]),v=$.useMemo(()=>({selectedIndex:S,tabLoadingStates:new Array(u.length).fill(!1),tabErrors:new Array(u.length).fill(null),sortConfig:[],selectedRows:new Array(u.length).fill([]),globalSelectedRowData:null,filters:void 0}),[S,u.length]),[x,A]=$.useReducer(xw,v),I=$.useRef([]),O=$.useRef([]),E=$.useRef([]),L=$.useRef(null),[D,F]=$.useState({focusArea:"tabs",focusedTabIndex:0,focusedCardIndex:0,selectedCardIndex:-1,isGridActive:!1,focusedCardElementIndex:0,cardElements:[],isCardNavigationActive:!1,gridColumns:1,gridRows:1,cardSortConfig:null,focusedSortControlIndex:0,isSortControlsActive:!1}),K=$.useCallback(Z=>{if(!Z.current)return{columns:1,rows:0};const P=Z.current,R=P.querySelectorAll(".aria-tabs-datagrid-adaptive__card-wrapper");if(R.length===0)return{columns:1,rows:0};const X=P.offsetWidth,H=R[0].offsetWidth,Y=Math.floor(X/H)||1,ne=Math.ceil(R.length/Y);return{columns:Y,rows:ne}},[]),W=$.useCallback((Z,P)=>({row:Math.floor(Z/P),col:Z%P}),[]),T=$.useCallback((Z,P,R)=>Z*R+P,[]),Q=$.useCallback((Z,P,R,X)=>{const{row:B,col:H}=W(Z,X);let Y=B,ne=H;switch(P){case"up":Y=Math.max(0,B-1);break;case"down":Y=Math.min(Math.floor((R-1)/X),B+1);break;case"left":ne=Math.max(0,H-1);break;case"right":ne=Math.min(X-1,H+1);break}const se=T(Y,ne,X);return Math.min(se,R-1)},[W,T]);$.useEffect(()=>{D.isCardNavigationActive&&D.focusedCardElementIndex>=0&&D.cardElements.length>0&&setTimeout(()=>{const Z=D.cardElements[D.focusedCardElementIndex];Z&&(Z.element.focus(),Z.element.scrollIntoView({block:"nearest",behavior:"smooth"}))},0)},[D.isCardNavigationActive,D.focusedCardElementIndex,D.cardElements.length]),$.useEffect(()=>{const Z=()=>{if(_==="cards"&&L.current){const{columns:X,rows:B}=K(L);F(H=>({...H,gridColumns:X,gridRows:B}))}},P=setTimeout(Z,200),R=()=>{setTimeout(Z,100)};return window.addEventListener("resize",R),()=>{clearTimeout(P),window.removeEventListener("resize",R)}},[_,u,K]),$.useEffect(()=>{const Z=x.tabLoadingStates.length,P=u.length;Z!==P&&A({type:"ADJUST_ARRAYS",payload:{newLength:P}})},[u.length,x.tabLoadingStates.length]),$.useEffect(()=>{b&&f!==x.selectedIndex&&A({type:"SET_SELECTED_INDEX",payload:f})},[b,f,x.selectedIndex]);const G=$.useCallback(Z=>{Z>=0&&Z<u.length&&!u[Z].disabled&&(A({type:"SET_SELECTED_INDEX",payload:Z}),p?.(Z))},[u,p]),U=$.useCallback(Z=>{console.log("Card selected:",Z),A({type:"SET_GLOBAL_SELECTED_ROW_DATA",payload:Z})},[]),ee=$.useCallback(Z=>{const P=O.current[Z];P&&(P.focus(),P.scrollIntoView({block:"nearest",behavior:"smooth"}))},[]),z=$.useCallback(Z=>{const P=O.current[Z];if(!P)return[];const R=['button:not([disabled]):not([aria-hidden="true"])','a[href]:not([disabled]):not([aria-hidden="true"])','input:not([disabled]):not([aria-hidden="true"])','select:not([disabled]):not([aria-hidden="true"])','textarea:not([disabled]):not([aria-hidden="true"])','[tabindex]:not([tabindex="-1"]):not([disabled]):not([aria-hidden="true"])','.healthcare-card__detail[tabindex]:not([tabindex="-1"])',".healthcare-card__action:not([disabled])",".tag:not([disabled])"].join(", "),X=P.querySelectorAll(R);return Array.from(X).map((B,H)=>({id:B.id||`card-${Z}-element-${H}`,element:B,label:B.getAttribute("aria-label")||B.textContent?.trim()||B.getAttribute("title")||`Element ${H+1}`,type:B.tagName.toLowerCase()==="button"?"button":B.tagName.toLowerCase()==="a"?"link":["input","select","textarea"].includes(B.tagName.toLowerCase())?"input":"generic"}))},[]),oe=$.useRef(null),J=$.useCallback(Z=>{const P=oe.current;if(!P)return;const R=document.createElement("div");R.setAttribute("aria-live","polite"),R.setAttribute("aria-atomic","true"),R.className="sr-only",R.textContent=Z,P.appendChild(R),setTimeout(()=>{P.contains(R)&&P.removeChild(R)},1e3)},[]),re=$.useCallback(Z=>{const P=Z.filter(X=>X.sortable!==!1),R=[{value:"",label:"Sort by..."}];return P.forEach(X=>{const B=X.label||X.key;X.key==="name"?R.push({value:`${X.key}-asc`,label:`${B} (A-Z)`},{value:`${X.key}-desc`,label:`${B} (Z-A)`}):X.key==="ews_score"||X.key.includes("score")?R.push({value:`${X.key}-desc`,label:`${B} (High-Low)`},{value:`${X.key}-asc`,label:`${B} (Low-High)`}):X.key==="age"||X.key.includes("date")||X.key.includes("time")?R.push({value:`${X.key}-desc`,label:`${B} (Oldest-Youngest)`},{value:`${X.key}-asc`,label:`${B} (Youngest-Oldest)`}):R.push({value:`${X.key}-asc`,label:`${B} (A-Z)`},{value:`${X.key}-desc`,label:`${B} (Z-A)`})}),R},[]),te=$.useCallback((Z,P)=>P?[...Z].sort((R,X)=>{const B=R[P.key],H=X[P.key];if(B==null&&H==null)return 0;if(B==null)return 1;if(H==null)return-1;const Y=Number(B),ne=Number(H);if(!isNaN(Y)&&!isNaN(ne))return P.direction==="asc"?Y-ne:ne-Y;const se=String(B).toLowerCase(),le=String(H).toLowerCase(),be=se.localeCompare(le);return P.direction==="asc"?be:-be}):Z,[]),ae=$.useCallback(Z=>{if(!Z){F(se=>({...se,cardSortConfig:null})),J("Card sorting cleared");return}const[P,R]=Z.split("-"),X={key:P,direction:R};F(se=>({...se,cardSortConfig:X}));const Y=u[x.selectedIndex]?.columns.find(se=>se.key===P)?.label||P;J(`Cards sorted by ${Y} in ${R==="asc"?"ascending":"descending"} order`)},[u,x.selectedIndex,J]),fe=$.useCallback(Z=>{const X=u[x.selectedIndex]?.columns.find(H=>H.key===Z.key)?.label||Z.key,B=Z.direction==="asc"?"ascending":"descending";return`${X} (${B})`},[u,x.selectedIndex]),q=$.useCallback(Z=>{const P=u[x.selectedIndex];if(i){const R=x.sortConfig;return!R||R.length===0?Z:[...Z].sort((X,B)=>{for(const{key:H,direction:Y}of R){let ne=X[H],se=B[H];const le=P?.columns.find(et=>et.key===H);if(le?.cardRenderer?(ne=le.cardRenderer(X),se=le.cardRenderer(B)):le?.render&&(ne=le.render(X),se=le.render(B)),ne==null&&se==null)continue;if(ne==null)return Y==="asc"?-1:1;if(se==null)return Y==="asc"?1:-1;const be=Number(ne),me=Number(se);if(!isNaN(be)&&!isNaN(me)){const et=be-me;if(et!==0)return Y==="asc"?et:-et;continue}const xe=String(ne).toLowerCase(),ke=String(se).toLowerCase(),Ne=xe.localeCompare(ke);if(Ne!==0)return Y==="asc"?Ne:-Ne}return 0})}else return te(Z,D.cardSortConfig)},[i,x.sortConfig,D.cardSortConfig,te,u,x.selectedIndex]),ce=$.useCallback((Z,P)=>{const R=z(Z),X=R[P];if(X){X.element.scrollIntoView({block:"nearest",behavior:"smooth"});const B=`Focused on ${X.label}, ${X.type} ${P+1} of ${R.length} within card`;J(B)}},[z,J]),ue=$.useCallback(Z=>{I.current[Z]?.focus()},[]),ge=$.useCallback(()=>{const Z=E.current[0];if(!Z)return[];const P=['select:not([disabled]):not([aria-hidden="true"])','button:not([disabled]):not([aria-hidden="true"])','input:not([disabled]):not([aria-hidden="true"])','[tabindex]:not([tabindex="-1"]):not([disabled]):not([aria-hidden="true"])'].join(", "),R=Z.querySelectorAll(P);return Array.from(R)},[]),he=$.useCallback(Z=>{if(Z===0){const P=E.current[0],R=P?.querySelector(".sort-controls-row");if(R){R.setAttribute("tabindex","-1"),R.focus();const B=`Sort controls group with ${ge().length} interactive elements. Press Enter or Space to begin navigating controls.`;J(B)}else P&&P.focus()}else{const P=ge(),R=Z-1,X=P[R];if(X){X.focus();const B=X.tagName.toLowerCase()==="select",H=X.tagName.toLowerCase()==="button",Y=B?"dropdown":H?"button":"control",ne=B?". Use Space key to open dropdown":"",se=`${Y} ${R+1} of ${P.length}${ne}`;J(se)}}},[ge,J]),V=$.useCallback((Z,P)=>{const{key:R}=Z,X=u[x.selectedIndex],B=X?.data.length||0;if(R==="ArrowLeft"&&Z.shiftKey){Z.preventDefault(),Z.currentTarget.scrollBy({left:-30,behavior:"smooth"});return}else if(R==="ArrowRight"&&Z.shiftKey){Z.preventDefault(),Z.currentTarget.scrollBy({left:30,behavior:"smooth"});return}if(!D.isCardNavigationActive){switch(R){case"ArrowUp":if(Z.preventDefault(),P===0)F(se=>({...se,focusArea:"sort-controls",focusedSortControlIndex:0,isSortControlsActive:!1})),he(0);else{const se=Q(P,"up",B,D.gridColumns);se!==P&&(F(le=>({...le,focusedCardIndex:se})),ee(se),J(`Moved to card ${se+1} of ${B}`))}break;case"ArrowDown":Z.preventDefault();const H=Q(P,"down",B,D.gridColumns);H!==P&&(F(se=>({...se,focusedCardIndex:H})),ee(H),J(`Moved to card ${H+1} of ${B}`));break;case"ArrowLeft":Z.preventDefault();const Y=Q(P,"left",B,D.gridColumns);Y!==P?(F(se=>({...se,focusedCardIndex:Y})),ee(Y),J(`Moved to card ${Y+1} of ${B}`)):x.selectedIndex>0&&(A({type:"SET_SELECTED_INDEX",payload:x.selectedIndex-1}),F(se=>({...se,focusArea:"tabs"})),setTimeout(()=>ue(x.selectedIndex-1),0));break;case"ArrowRight":Z.preventDefault();const ne=Q(P,"right",B,D.gridColumns);ne!==P?(F(se=>({...se,focusedCardIndex:ne})),ee(ne),J(`Moved to card ${ne+1} of ${B}`)):x.selectedIndex<u.length-1&&(A({type:"SET_SELECTED_INDEX",payload:x.selectedIndex+1}),F(se=>({...se,focusArea:"tabs"})),setTimeout(()=>ue(x.selectedIndex+1),0));break;case"Enter":if(X?.data[P]){Z.preventDefault(),F(le=>({...le,selectedCardIndex:P}));const se=z(P);se.length>0?(F(le=>({...le,focusArea:"card",isCardNavigationActive:!0,focusedCardElementIndex:0,cardElements:se,selectedCardIndex:P})),J(`Card ${P+1} selected and navigation activated. ${se.length} interactive elements available. Use arrow keys to navigate, Enter to activate, Escape to exit.`)):J(`Card ${P+1} selected.`)}break;case" ":if(X?.data[P]){Z.preventDefault(),F(le=>({...le,selectedCardIndex:le.selectedCardIndex===P?-1:P}));const se=D.selectedCardIndex===P;J(`Card ${P+1} ${se?"deselected":"selected"}.`)}break}return}switch(R){case"ArrowUp":case"ArrowLeft":Z.preventDefault();const H=Math.max(0,D.focusedCardElementIndex-1);F(le=>({...le,focusedCardElementIndex:H})),ce(P,H);break;case"ArrowDown":case"ArrowRight":Z.preventDefault();const Y=Math.min(D.cardElements.length-1,D.focusedCardElementIndex+1);F(le=>({...le,focusedCardElementIndex:Y})),ce(P,Y);break;case"Enter":Z.preventDefault();const ne=D.cardElements[D.focusedCardElementIndex];ne&&(ne.element.click(),J(`Activated ${ne.label}`));break;case" ":Z.preventDefault();const se=D.cardElements[D.focusedCardElementIndex];if(se){const le=new MouseEvent("dblclick",{bubbles:!0});se.element.dispatchEvent(le),J(`Double-clicked ${se.label}`)}break;case"Escape":Z.preventDefault(),F(le=>({...le,focusArea:"cards",isCardNavigationActive:!1,focusedCardElementIndex:0,cardElements:[]})),setTimeout(()=>ee(P),0),J("Exited card navigation, returned to card level");break;case"Home":Z.preventDefault(),D.cardElements.length>0&&(F(le=>({...le,focusedCardElementIndex:0})),ce(P,0));break;case"End":if(Z.preventDefault(),D.cardElements.length>0){const le=D.cardElements.length-1;F(be=>({...be,focusedCardElementIndex:le})),ce(P,le)}break}},[D,x.selectedIndex,u,U,ee,ue,F,z,ce,J]),Ee=$.useCallback(Z=>{const P=I.current[Z],R=P?.parentElement;if(!P||!R){console.log("Tab or container not found for mobile scroll");return}const X=P.getBoundingClientRect(),B=R.getBoundingClientRect();X.left>=B.left&&X.right<=B.right||(console.log("Tab not visible, scrolling into view (mobile)"),P.scrollIntoView({behavior:"smooth",block:"nearest",inline:"center"}))},[]),Pe=$.useCallback((Z,P)=>{if(_!=="cards")return;const{key:R}=Z;switch(R){case"ArrowLeft":Z.preventDefault();const X=P>0?P-1:u.length-1;G(X),F(ne=>({...ne,focusedTabIndex:X})),I.current[X]?.focus(),Ee(X);break;case"ArrowRight":Z.preventDefault();const B=P<u.length-1?P+1:0;G(B),F(ne=>({...ne,focusedTabIndex:B})),I.current[B]?.focus(),Ee(B);break;case"ArrowDown":Z.preventDefault();const H=u[x.selectedIndex];H&&H.columns&&H.columns.length>0?(F(ne=>({...ne,focusArea:"sort-controls",focusedSortControlIndex:0})),he(0)):(F(ne=>({...ne,focusArea:"cards",focusedCardIndex:0})),ee(0));break;case"Home":Z.preventDefault(),G(0),F(ne=>({...ne,focusedTabIndex:0})),I.current[0]?.focus(),Ee(0);break;case"End":Z.preventDefault();const Y=u.length-1;G(Y),F(ne=>({...ne,focusedTabIndex:Y})),I.current[Y]?.focus(),Ee(Y);break;case"Enter":case" ":Z.preventDefault(),G(P);break}},[u.length,G,_,ee,F,Ee]),Te=$.useCallback((Z,P)=>{if(_!=="cards")return;const{key:R}=Z,X=u[x.selectedIndex];if(P===0&&!D.isSortControlsActive){switch(R){case"ArrowUp":Z.preventDefault(),F(H=>({...H,focusArea:"tabs",isSortControlsActive:!1})),ue(x.selectedIndex);break;case"ArrowDown":Z.preventDefault(),X?.data&&X.data.length>0&&(F(H=>({...H,focusArea:"cards",focusedCardIndex:0,isSortControlsActive:!1})),ee(0));break;case"Enter":case" ":Z.preventDefault();const B=ge();if(B.length>0){F(Y=>({...Y,isSortControlsActive:!0,focusedSortControlIndex:1})),he(1);const H=`Entered sort controls navigation mode. ${B.length} controls available. Use arrow keys to navigate between controls.`;J(H)}break;case"Escape":Z.preventDefault(),F(H=>({...H,isSortControlsActive:!1,focusArea:"tabs"})),ue(x.selectedIndex);break}return}if(D.isSortControlsActive){const H=ge().length;switch(R){case"ArrowLeft":Z.preventDefault();const Y=D.focusedSortControlIndex>1?D.focusedSortControlIndex-1:H;F(se=>({...se,focusedSortControlIndex:Y})),he(Y);break;case"ArrowRight":Z.preventDefault();const ne=D.focusedSortControlIndex<H?D.focusedSortControlIndex+1:1;F(se=>({...se,focusedSortControlIndex:ne})),he(ne);break;case"ArrowDown":if(Z.preventDefault(),D.isSortControlsActive){const se=D.focusedSortControlIndex<H?D.focusedSortControlIndex+1:1;F(le=>({...le,focusedSortControlIndex:se})),he(se)}else X?.data&&X.data.length>0&&(F(se=>({...se,focusArea:"cards",focusedCardIndex:0,isSortControlsActive:!1})),ee(0));break;case"ArrowUp":Z.preventDefault(),F(se=>({...se,isSortControlsActive:!1,focusArea:"sort-controls"})),he(0);break;case"Escape":Z.preventDefault(),F(se=>({...se,isSortControlsActive:!1,focusArea:"sort-controls",focusedSortControlIndex:0})),he(0);break}}},[_,u,x.selectedIndex,D.isSortControlsActive,D.focusedSortControlIndex,he,ue,ee,F,J]);if(_==="cards"){const Z=u[x.selectedIndex];return l.jsxs("div",{className:`aria-tabs-datagrid-adaptive aria-tabs-datagrid-adaptive--cards ${M||""}`,children:[l.jsxs("div",{className:"aria-tabs-datagrid-adaptive__header",children:[l.jsx("div",{role:"tablist","aria-label":h,"aria-describedby":`${y||""} ${g?`${g}-navigation-help`:""}`.trim(),"aria-orientation":m,className:"aria-tabs-datagrid__tabs",children:u.map((P,R)=>{const X=R===x.selectedIndex,B=P.disabled||N;return l.jsxs("button",{role:"tab",id:`tab-${P.id}`,"aria-controls":`panel-${P.id}`,"aria-selected":X,"aria-disabled":B,tabIndex:X?0:-1,ref:H=>{I.current[R]=H},onClick:()=>G(R),onKeyDown:H=>Pe(H,R),disabled:B,className:["aria-tabs-datagrid__tab",X?"aria-tabs-datagrid__tab--selected":"",B?"aria-tabs-datagrid__tab--disabled":""].filter(Boolean).join(" "),children:[l.jsx("span",{className:"aria-tabs-datagrid__tab-label",children:P.label}),x.tabLoadingStates[R]&&l.jsx("span",{className:"aria-tabs-datagrid__tab-loading","aria-hidden":"true",children:"â³"}),x.tabErrors[R]&&l.jsx("span",{className:"aria-tabs-datagrid__tab-error","aria-hidden":"true",children:"âš ï¸"})]},P.id)})}),o&&l.jsx("div",{className:"aria-tabs-datagrid-adaptive__top-actions",children:o})]}),Z&&Z.columns&&l.jsx(l.Fragment,{children:i?l.jsx(Gh,{sortConfig:x.sortConfig||[],columns:Z.columns.map(P=>({key:P.key,label:P.label})),onSortChange:P=>{A({type:"SET_SORT",payload:P})},ariaLabel:"Card view sort configuration",className:"aria-tabs-datagrid-adaptive__advanced-sort-controls"}):l.jsx("div",{className:"aria-tabs-datagrid-adaptive__sort-controls",role:"region","aria-label":"Sort controls",tabIndex:D.focusArea==="sort-controls"?0:-1,ref:P=>{E.current[0]=P},onKeyDown:P=>Te(P,0),children:l.jsxs("div",{className:"sort-controls-row",children:[l.jsxs("div",{className:"sort-select-container",children:[l.jsx("label",{htmlFor:`card-sort-${Z.id}`,className:"sort-label",children:"Sort cards by"}),l.jsx(bo,{id:`card-sort-${Z.id}`,name:`card-sort-${Z.id}`,value:D.cardSortConfig?`${D.cardSortConfig.key}-${D.cardSortConfig.direction}`:"",onChange:P=>ae(P.target.value),className:"sort-select",children:re(Z.columns).map(P=>l.jsx("option",{value:P.value,children:P.label},P.value))})]}),D.cardSortConfig&&l.jsxs("div",{className:"sort-indicator",role:"status","aria-live":"polite",children:[l.jsxs("span",{className:"sort-indicator-text",children:["Sorted by ",fe(D.cardSortConfig)]}),l.jsx(Ht,{variant:"secondary",size:"small",onClick:()=>ae(""),"aria-label":"Clear card sorting",className:"sort-clear-button",children:"Clear"})]})]})})}),l.jsx("div",{ref:L,className:"aria-tabs-datagrid-adaptive__cards",role:"grid","aria-label":`${Z?.label||"Data"} cards in ${D.gridRows} rows and ${D.gridColumns} columns`,"aria-rowcount":D.gridRows,"aria-colcount":D.gridColumns,id:`panel-${Z?.id}`,"aria-labelledby":`tab-${Z?.id}`,children:q(Z?.data||[]).map((P,R)=>{const X=D.selectedCardIndex===R,B=D.focusedCardIndex===R&&D.focusArea==="cards",H=D.focusedCardIndex===R&&D.focusArea==="card"&&D.isCardNavigationActive,Y=R===0&&D.focusArea!=="cards",ne=B||Y,se=W(R,D.gridColumns);if(n.cardTemplate){const me=n.cardTemplate(P,Z.columns);return l.jsx("div",{role:"row","aria-rowindex":se.row+1,className:"aria-tabs-datagrid-adaptive__row",children:l.jsx("div",{ref:xe=>{O.current[R]=xe},className:["aria-tabs-datagrid-adaptive__card-wrapper",X?"aria-tabs-datagrid-adaptive__card-wrapper--selected":"",B?"aria-tabs-datagrid-adaptive__card-wrapper--focused":"",H?"aria-tabs-datagrid-adaptive__card-wrapper--card-navigation":""].filter(Boolean).join(" "),role:"gridcell","aria-colindex":se.col+1,"aria-selected":X,"aria-expanded":H,"aria-description":H?`Card navigation active. ${D.cardElements.length} interactive elements available.`:void 0,tabIndex:ne?0:-1,onClick:()=>{F(xe=>({...xe,selectedCardIndex:xe.selectedCardIndex===R?-1:R})),U(P)},onKeyDown:xe=>V(xe,R),onFocus:()=>{F(xe=>xe.isCardNavigationActive?xe:xe.focusedCardIndex!==R||xe.focusArea!=="cards"?{...xe,focusedCardIndex:R,focusArea:"cards"}:xe)},children:me})},`card-${R}`)}const le=Sw(P,Z.columns,C,k),be=[le.className||"",X?"aria-tabs-datagrid-adaptive__card--selected":"",B?"aria-tabs-datagrid-adaptive__card--focused":"",H?"aria-tabs-datagrid-adaptive__card--card-navigation":""].filter(Boolean).join(" ");return l.jsx("div",{role:"row","aria-rowindex":se.row+1,className:"aria-tabs-datagrid-adaptive__row",children:l.jsx("div",{className:["aria-tabs-datagrid-adaptive__card-wrapper",X?"aria-tabs-datagrid-adaptive__card-wrapper--selected":"",B?"aria-tabs-datagrid-adaptive__card-wrapper--focused":"",H?"aria-tabs-datagrid-adaptive__card-wrapper--card-navigation":""].filter(Boolean).join(" "),role:"gridcell","aria-colindex":se.col+1,"aria-selected":X,"aria-expanded":H,onKeyDown:me=>{me.key==="Enter"&&(me.preventDefault(),F(xe=>({...xe,selectedCardIndex:R}))),V(me,R)},children:l.jsx(Mc,{...le,ref:me=>{O.current[R]=me},className:be,"aria-label":`${le["aria-label"]||le.heading}. ${H?`Card navigation active with ${D.cardElements.length} interactive elements. Use arrow keys to navigate, Enter to activate, Escape to exit.`:"Press Enter to navigate within card elements."}`,tabIndex:ne?0:-1,onClick:()=>{F(me=>({...me,selectedCardIndex:me.selectedCardIndex===R?-1:R})),U(P)},onKeyDown:me=>V(me,R),onFocus:()=>{D.isCardNavigationActive||F(me=>me.focusedCardIndex!==R||me.focusArea!=="cards"?{...me,focusedCardIndex:R,focusArea:"cards",focusedCardElementIndex:0,cardElements:[]}:me)}})})},`card-${R}`)})}),s&&l.jsx("div",{className:"aria-tabs-datagrid-adaptive__bottom-actions",children:s}),l.jsx("div",{ref:oe,className:"aria-tabs-datagrid-adaptive__announcements","aria-hidden":"true",style:{position:"fixed",top:"-1px",left:"-1px",width:"1px",height:"1px",overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",border:0,padding:0,margin:0}})]})}return _==="hybrid"?l.jsxs("div",{className:`aria-tabs-datagrid-adaptive aria-tabs-datagrid-adaptive--hybrid ${M||""}`,children:[o&&l.jsx("div",{className:"aria-tabs-datagrid-adaptive__top-actions aria-tabs-datagrid-adaptive__top-actions--above-table",children:o}),l.jsx(va,{tabPanels:u,dataConfig:d,ariaLabel:h,ariaDescription:y,orientation:m,id:g,disabled:N,selectedIndex:f,onTabChange:p,className:"aria-tabs-datagrid-adaptive__table--hybrid",actions:a,forceActionsAbove:c,...j}),s&&l.jsx("div",{className:"aria-tabs-datagrid-adaptive__bottom-actions",children:s})]}):l.jsxs("div",{className:`aria-tabs-datagrid-adaptive aria-tabs-datagrid-adaptive--table ${M||""}`,children:[o&&l.jsx("div",{className:"aria-tabs-datagrid-adaptive__top-actions aria-tabs-datagrid-adaptive__top-actions--above-table",children:o}),l.jsx(va,{tabPanels:u,dataConfig:d,ariaLabel:h,ariaDescription:y,orientation:m,id:g,disabled:N,selectedIndex:f,onTabChange:p,actions:a,forceActionsAbove:c,...j}),s&&l.jsx("div",{className:"aria-tabs-datagrid-adaptive__bottom-actions",children:s})]})},Qh=t=>{const e=Dc.find(n=>n.value===t);return e?e.icon:null},kw={ecommerce:{name:"E-commerce",description:"Product catalogs with pricing, inventory, and ratings",dataConfig:{dataComparator:(t,e)=>t.id===e.id,filterFunction:(t,e)=>e?t.filter(n=>{if(e.priceRange){const[r,i]=e.priceRange,o=n.discountedPrice||n.price;if(o<r||o>i)return!1}return!(e.categories&&e.categories.length>0&&!e.categories.includes(n.category)||e.inStock!==void 0&&n.inStock!==e.inStock||e.minRating!==void 0&&n.rating<e.minRating||e.tags&&e.tags.length>0&&!e.tags.some(r=>n.tags.includes(r)))}):t,booleanRenderer:t=>Qh(t),getDataId:t=>`ecommerce-${t.id}`},createTabs:t=>_a(t,[{id:"all-products",label:"All Products",columns:[{key:"name",label:"Product Name"},{key:"price",label:"Price",render:n=>n.discountedPrice?`$${n.price.toFixed(2)} â†’ $${n.discountedPrice.toFixed(2)}`:`$${n.price.toFixed(2)}`},{key:"inStock",label:"Availability"},{key:"category",label:"Category"},{key:"rating",label:"Rating",render:n=>`${n.rating}/5 (${n.reviews} reviews)`}],ariaLabel:"All Products Grid",ariaDescription:"Complete product catalog with pricing and availability"},{id:"on-sale",label:"On Sale",columns:[{key:"name",label:"Product Name"},{key:"price",label:"Original Price",render:n=>`$${n.price.toFixed(2)}`},{key:"discountedPrice",label:"Sale Price",render:n=>`$${n.discountedPrice?.toFixed(2)||"N/A"}`},{key:"discount",label:"Discount",render:n=>n.discountedPrice?`${((n.price-n.discountedPrice)/n.price*100).toFixed(0)}% OFF`:"N/A"}],filter:n=>n.filter(r=>r.discountedPrice!==void 0),ariaLabel:"Sale Products Grid",ariaDescription:"Products currently on sale with discounted pricing"},{id:"high-rated",label:"Top Rated",columns:[{key:"name",label:"Product Name"},{key:"rating",label:"Rating"},{key:"reviews",label:"Reviews"},{key:"category",label:"Category"}],filter:n=>n.filter(r=>r.rating>=4),sortConfig:[{key:"rating",direction:"desc"}],ariaLabel:"Top Rated Products Grid",ariaDescription:"Highest rated products with 4+ star ratings"}])},financial:{name:"Financial",description:"Transaction data with amounts, categories, and statuses",dataConfig:{dataComparator:(t,e)=>t.id===e.id,filterFunction:(t,e)=>e?t.filter(n=>{if(e.dateRange){const[r,i]=e.dateRange;if(n.date<r||n.date>i)return!1}if(e.amountRange){const[r,i]=e.amountRange;if(Math.abs(n.amount)<r||Math.abs(n.amount)>i)return!1}return!(e.types&&e.types.length>0&&!e.types.includes(n.type)||e.categories&&e.categories.length>0&&!e.categories.includes(n.category)||e.pending!==void 0&&n.pending!==e.pending)}):t,booleanRenderer:t=>Qh(t),getDataId:t=>`financial-${t.id}`},createTabs:t=>_a(t,[{id:"all-transactions",label:"All Transactions",columns:[{key:"date",label:"Date",render:n=>n.date.toLocaleDateString()},{key:"description",label:"Description"},{key:"amount",label:"Amount",render:n=>`${n.type==="credit"?"+":"-"}$${Math.abs(n.amount).toFixed(2)}`},{key:"category",label:"Category"},{key:"pending",label:"Status"}],sortConfig:[{key:"date",direction:"desc"}],ariaLabel:"All Transactions Grid",ariaDescription:"Complete transaction history with amounts and categories"},{id:"credits",label:"Credits",columns:[{key:"date",label:"Date",render:n=>n.date.toLocaleDateString()},{key:"description",label:"Description"},{key:"amount",label:"Amount",render:n=>`+$${n.amount.toFixed(2)}`},{key:"category",label:"Category"}],filter:n=>n.filter(r=>r.type==="credit"),ariaLabel:"Credit Transactions Grid",ariaDescription:"Incoming payments and credits only"},{id:"debits",label:"Debits",columns:[{key:"date",label:"Date",render:n=>n.date.toLocaleDateString()},{key:"description",label:"Description"},{key:"amount",label:"Amount",render:n=>`-$${Math.abs(n.amount).toFixed(2)}`},{key:"category",label:"Category"}],filter:n=>n.filter(r=>r.type==="debit"),ariaLabel:"Debit Transactions Grid",ariaDescription:"Outgoing payments and charges only"},{id:"pending",label:"Pending",columns:[{key:"date",label:"Date",render:n=>n.date.toLocaleDateString()},{key:"description",label:"Description"},{key:"amount",label:"Amount",render:n=>`${n.type==="credit"?"+":"-"}$${Math.abs(n.amount).toFixed(2)}`},{key:"type",label:"Type"}],filter:n=>n.filter(r=>r.pending),ariaLabel:"Pending Transactions Grid",ariaDescription:"Transactions awaiting processing"}])}},ep=(t,e)=>{const n=kw[t];return{dataConfig:n.dataConfig,tabPanels:n.createTabs(e)}},tp=[{name:"Sarah Johnson",age:34,ews_data:{respiratory_rate_bpm:16,sp02:98,temperature:36.8,systolic_bp:140,heart_rate:82,avpu:"alert"},ews_score:3,ward_name:"Cardiology",room_name:"Room A",bed_name:"A-1",bed_type:"bed",admin_note:"Hypertension monitoring",pathway:"Standard",speciality:"Cardiology",consultant:"Dr. Smith",local_authority:"NHS Trust",early_discharge_notification:"not_required",needs_based_assessment:!1,medically_optimised:!0,criteria_to_reside:!0,date_medically_optimised:"2024-01-15",anticipated_discharge_date:"2024-01-18",dru_suitability:!1,optica_planned_discharge_date:"2024-01-18",optica_date_confirmed:"2024-01-16",dsum:null,medications_tta:"None required",transport_booking:!1,transport_status:"Pending",transport_date:"",transport_mobility:"Independent",fast_track:!1,initial_therapy_contact:"",equipment:"None",district_nurse_referral:!1},{name:"Michael Chen",age:67,ews_data:{respiratory_rate_bpm:20,sp02:94,temperature:37.2,systolic_bp:160,heart_rate:95,avpu:"alert"},ews_score:7,ward_name:"Surgery",room_name:"Room B",bed_name:"B-3",bed_type:"bed",admin_note:"Post-operative monitoring",pathway:"Surgical",speciality:"General Surgery",consultant:"Dr. Johnson",local_authority:"NHS Trust",early_discharge_notification:"due",needs_based_assessment:!0,medically_optimised:!1,criteria_to_reside:!0,date_medically_optimised:"2024-01-17",anticipated_discharge_date:"2024-01-20",dru_suitability:!0,optica_planned_discharge_date:"2024-01-20",optica_date_confirmed:"2024-01-16",dsum:"Complex discharge",medications_tta:"Pain management",transport_booking:!0,transport_status:"In Progress",transport_date:"2024-01-20",transport_mobility:"Wheelchair",fast_track:!1,initial_therapy_contact:"2024-01-17",equipment:"Walking frame",district_nurse_referral:!0},{name:"Emma Thompson",age:28,ews_data:{respiratory_rate_bpm:24,sp02:90,temperature:38.5,systolic_bp:110,heart_rate:105,avpu:"alert"},ews_score:5,ward_name:"Respiratory",room_name:"Room C",bed_name:"C-2",bed_type:"bed",admin_note:"Pneumonia treatment",pathway:"Respiratory",speciality:"Respiratory Medicine",consultant:"Dr. Williams",local_authority:"NHS Trust",early_discharge_notification:"overdue",needs_based_assessment:!0,medically_optimised:!1,criteria_to_reside:!1,date_medically_optimised:"",anticipated_discharge_date:"2024-01-22",dru_suitability:!1,optica_planned_discharge_date:"2024-01-22",optica_date_confirmed:"",dsum:null,medications_tta:"Antibiotics",transport_booking:!1,transport_status:"Pending",transport_date:"",transport_mobility:"Independent",fast_track:!0,initial_therapy_contact:"",equipment:"Oxygen",district_nurse_referral:!1}],Cw=[{id:"appt-001",appointment_time:"2024-01-18T09:00:00Z",patient_name:"Sarah Johnson",appointment_type:"Cardiology Consultation",consultant:"Dr. Smith",location:"Clinic Room 3",duration:30,status:"pending"},{id:"appt-002",appointment_time:"2024-01-18T10:30:00Z",patient_name:"Michael Davis",appointment_type:"Post-op Follow-up",consultant:"Dr. Johnson",location:"Surgery Ward",duration:15,status:"active"},{id:"appt-003",appointment_time:"2024-01-18T14:00:00Z",patient_name:"Emma Thompson",appointment_type:"Respiratory Assessment",consultant:"Dr. Wilson",location:"Emergency Department",duration:45,status:"pending"}],Nw=[{id:"med-001",medication:"Amlodipine",dose:"5mg",frequency:"Once daily",route:"Oral",next_due:"2024-01-18T08:00:00Z",prescriber:"Dr. Smith",patient_name:"Sarah Johnson",allergies:null,priority:"medium"},{id:"med-002",medication:"Morphine",dose:"10mg",frequency:"Every 4 hours",route:"IV",next_due:"2024-01-18T10:00:00Z",prescriber:"Dr. Johnson",patient_name:"Michael Davis",allergies:"Codeine allergy",priority:"high"},{id:"med-003",medication:"Salbutamol",dose:"2 puffs",frequency:"As needed",route:"Inhaled",next_due:"2024-01-18T12:00:00Z",prescriber:"Dr. Wilson",patient_name:"Emma Thompson",allergies:null,priority:"high"}],Mw=[{id:"vitals-001",patient_name:"Sarah Johnson",recorded_time:"2024-01-18T07:30:00Z",temperature:36.8,blood_pressure:"140/90",heart_rate:82,respiratory_rate:16,oxygen_saturation:98,ews_score:3,priority:"medium"},{id:"vitals-002",patient_name:"Michael Davis",recorded_time:"2024-01-18T08:15:00Z",temperature:37.2,blood_pressure:"130/85",heart_rate:98,respiratory_rate:20,oxygen_saturation:95,ews_score:7,priority:"high"},{id:"vitals-003",patient_name:"Emma Thompson",recorded_time:"2024-01-18T09:00:00Z",temperature:38.5,blood_pressure:"110/70",heart_rate:105,respiratory_rate:24,oxygen_saturation:90,ews_score:9,priority:"high"}],np=[{id:"PROD001",name:"Wireless Headphones",price:199.99,discountedPrice:149.99,inStock:!0,category:"Electronics",rating:4.5,reviews:1247,tags:["wireless","bluetooth","premium"]},{id:"PROD002",name:"Running Shoes",price:129.99,inStock:!0,category:"Sports",rating:4.8,reviews:892,tags:["running","athletic","comfortable"]},{id:"PROD003",name:"Coffee Maker",price:89.99,discountedPrice:59.99,inStock:!1,category:"Kitchen",rating:4.2,reviews:456,tags:["kitchen","coffee","appliance"]},{id:"PROD004",name:"Smartphone Case",price:24.99,inStock:!0,category:"Accessories",rating:4,reviews:234,tags:["protection","mobile","durable"]}],rp=[{id:"TXN001",date:new Date("2024-01-15"),amount:2500,type:"credit",category:"Salary",description:"Monthly salary payment",accountId:"ACC001",pending:!1,recurring:!0},{id:"TXN002",date:new Date("2024-01-14"),amount:89.5,type:"debit",category:"Groceries",description:"Supermarket shopping",accountId:"ACC001",pending:!1,recurring:!1},{id:"TXN003",date:new Date("2024-01-16"),amount:1200,type:"debit",category:"Rent",description:"Monthly rent payment",accountId:"ACC001",pending:!0,recurring:!0},{id:"TXN004",date:new Date("2024-01-13"),amount:150,type:"credit",category:"Refund",description:"Product return refund",accountId:"ACC001",pending:!1,recurring:!1}],ip=[{id:"LEAD001",companyName:"Tech Solutions Inc",contactPerson:"John Smith",email:"john@techsolutions.com",status:"qualified",value:5e4,lastContact:new Date("2024-01-15"),source:"Website",isHotLead:!0},{id:"LEAD002",companyName:"Global Industries",contactPerson:"Maria Garcia",email:"maria@globalind.com",status:"contacted",value:25e3,lastContact:new Date("2024-01-14"),source:"Referral",isHotLead:!1},{id:"LEAD003",companyName:"StartupXYZ",contactPerson:"Alex Johnson",email:"alex@startupxyz.com",status:"new",value:15e3,lastContact:new Date("2024-01-16"),source:"Cold Call",isHotLead:!0}],Tw={dataComparator:(t,e)=>t.id===e.id,filterFunction:(t,e)=>e?t.filter(n=>!(e.status&&!e.status.includes(n.status)||e.minValue&&n.value<e.minValue||e.hotLeadsOnly&&!n.isHotLead)):t,booleanRenderer:t=>l.jsx("span",{style:{color:t?"#dc2626":"#6b7280",fontWeight:t?"bold":"normal"},children:t?"ðŸ”¥ Hot Lead":"ðŸ“‹ Standard"}),getDataId:t=>`business-${t.id}`},jw=()=>[{id:"patients",label:"Patients",data:tp,columns:[{key:"name",label:"Patient Name"},{key:"age",label:"Age"},{key:"ward_name",label:"Ward"},{key:"ews_score",label:"EWS Score"}],ariaLabel:"Patient Records",ariaDescription:"Healthcare patient management with EWS monitoring",cardTemplate:(t,e)=>l.jsx(Ic,{data:t,columns:e,onSelect:n=>console.log("Selected patient:",n),onAction:(n,r)=>console.log("Patient action:",n,r),priority:t.ews_score>=7?"high":t.ews_score>=3?"medium":"low"})},{id:"appointments",label:"Appointments",data:Cw,columns:[{key:"appointment_time",label:"Time"},{key:"patient_name",label:"Patient"},{key:"appointment_type",label:"Type"},{key:"consultant",label:"Consultant"}],ariaLabel:"Patient Appointments",ariaDescription:"Scheduled appointments and consultations",cardTemplate:(t,e)=>l.jsx(Lc,{data:t,columns:e,onSelect:n=>console.log("Selected appointment:",n),onAction:(n,r)=>console.log("Appointment action:",n,r),status:t.status})},{id:"medications",label:"Medications",data:Nw,columns:[{key:"medication",label:"Medication"},{key:"dose",label:"Dose"},{key:"frequency",label:"Frequency"},{key:"next_due",label:"Next Due"}],ariaLabel:"Patient Medications",ariaDescription:"Medication administration and scheduling",cardTemplate:(t,e)=>l.jsx(Pc,{data:t,columns:e,onSelect:n=>console.log("Selected medication:",n),onAction:(n,r)=>console.log("Medication action:",n,r),priority:t.priority})},{id:"vitals",label:"Vital Signs",data:Mw,columns:[{key:"patient_name",label:"Patient"},{key:"recorded_time",label:"Time"},{key:"temperature",label:"Temperature"},{key:"ews_score",label:"EWS Score"}],ariaLabel:"Patient Vital Signs",ariaDescription:"Patient vital signs monitoring and EWS scores",cardTemplate:(t,e)=>l.jsx(Ac,{data:t,columns:e,onSelect:n=>console.log("Selected vitals:",n),onAction:(n,r)=>console.log("Vitals action:",n,r),priority:t.ews_score>=7?"high":t.ews_score>=3?"medium":"low"})}],Dw=()=>{const[t,e]=$.useState("healthcare"),n=$.useMemo(()=>({healthcare:{title:"Healthcare Workflow Management",description:"Comprehensive healthcare workflow with patient cards, appointments, medications, and vitals",dataConfig:Yh,tabPanels:jw(),data:tp},ecommerce:{title:"E-commerce Product Catalog",description:"Product management with pricing and inventory",...ep("ecommerce",np),data:np},financial:{title:"Financial Transaction Dashboard",description:"Banking and financial data management",...ep("financial",rp),data:rp},business:{title:"Sales Lead Management",description:"Custom CRM configuration with business logic",dataConfig:Tw,tabPanels:_a(ip,[{id:"all-leads",label:"All Leads",columns:[{key:"companyName",label:"Company"},{key:"contactPerson",label:"Contact"},{key:"status",label:"Status"},{key:"value",label:"Value",render:i=>`$${i.value.toLocaleString()}`},{key:"isHotLead",label:"Priority"}],ariaLabel:"All Sales Leads Grid",ariaDescription:"Complete sales pipeline with lead information"},{id:"hot-leads",label:"Hot Leads",columns:[{key:"companyName",label:"Company"},{key:"contactPerson",label:"Contact"},{key:"value",label:"Value",render:i=>`$${i.value.toLocaleString()}`},{key:"lastContact",label:"Last Contact",render:i=>i.lastContact.toLocaleDateString()}],filter:i=>i.filter(o=>o.isHotLead),sortConfig:[{key:"value",direction:"desc"}],ariaLabel:"Hot Leads Grid",ariaDescription:"High-priority leads requiring immediate attention"},{id:"pipeline",label:"Active Pipeline",columns:[{key:"companyName",label:"Company"},{key:"status",label:"Status"},{key:"value",label:"Value",render:i=>`$${i.value.toLocaleString()}`},{key:"source",label:"Source"}],filter:i=>i.filter(o=>["contacted","qualified"].includes(o.status)),ariaLabel:"Active Pipeline Grid",ariaDescription:"Leads currently in the sales pipeline"}]),data:ip}}),[]),r=n[t];return l.jsxs("div",{style:{padding:"2rem",maxWidth:"1200px",margin:"0 auto"},children:[l.jsxs("div",{style:{marginBottom:"2rem"},children:[l.jsx("h1",{style:{fontSize:"2rem",fontWeight:"bold",marginBottom:"1rem",color:"#1f2937"},children:"AriaTabsDataGrid - Comprehensive Demo"}),l.jsx("p",{style:{fontSize:"1.1rem",color:"#6b7280",marginBottom:"2rem",lineHeight:"1.6"},children:"This demo showcases the component's versatility across different domains: healthcare, e-commerce, financial services, and custom business applications. Each configuration demonstrates domain-specific data operations, custom renderers, and specialized filtering logic."}),l.jsx("div",{style:{display:"flex",gap:"1rem",marginBottom:"2rem",flexWrap:"wrap"},children:Object.keys(n).map(i=>l.jsx(Ht,{variant:t===i?"primary":"secondary",onClick:()=>e(i),style:{textTransform:"capitalize"},children:i},i))}),l.jsxs("div",{style:{backgroundColor:"#f8fafc",border:"1px solid #e2e8f0",borderRadius:"0.5rem",padding:"1.5rem",marginBottom:"2rem"},children:[l.jsx("h2",{style:{fontSize:"1.5rem",fontWeight:"600",marginBottom:"0.5rem",color:"#1e293b"},children:r.title}),l.jsx("p",{style:{color:"#64748b",marginBottom:"1rem"},children:r.description}),l.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:"1rem",fontSize:"0.9rem"},children:[l.jsxs("div",{children:[l.jsx("strong",{children:"Data Records:"})," ",r.data.length]}),l.jsxs("div",{children:[l.jsx("strong",{children:"Tab Panels:"})," ",r.tabPanels.length]}),l.jsxs("div",{children:[l.jsx("strong",{children:"Features:"})," ",["Row Selection","Custom Filtering","Domain-Specific Renderers","Keyboard Navigation","ARIA Compliance"].join(", ")]})]})]})]}),l.jsx(va,{dataConfig:r.dataConfig,tabPanels:r.tabPanels,ariaLabel:`${r.title} Data Grid`,ariaDescription:`Interactive data grid for ${r.description.toLowerCase()}`}),l.jsxs("div",{style:{marginTop:"3rem",padding:"1.5rem",backgroundColor:"#f1f5f9",borderRadius:"0.5rem",border:"1px solid #cbd5e1"},children:[l.jsx("h3",{style:{fontSize:"1.25rem",fontWeight:"600",marginBottom:"1rem",color:"#334155"},children:"Implementation Details"}),l.jsxs("div",{style:{display:"grid",gap:"1rem",fontSize:"0.9rem"},children:[l.jsxs("div",{children:[l.jsx("strong",{children:"Current Mode:"})," ",t," configuration"]}),l.jsxs("div",{children:[l.jsx("strong",{children:"Data Operations:"})," Custom comparator, filter function, and boolean renderer"]}),l.jsxs("div",{children:[l.jsx("strong",{children:"Architecture:"})," Generic core with domain-specific plugins and factory helpers"]}),l.jsxs("div",{children:[l.jsx("strong",{children:"State Management:"})," Global row selection with data-object persistence"]}),l.jsxs("div",{children:[l.jsx("strong",{children:"Accessibility:"})," Full ARIA support with dynamic labels and descriptions"]})]})]})]})},Fc=t=>l.jsx(Kl,{...t}),Iw=({children:t,pageTitle:e,pageHeadingProps:n,columnWidth:r=Lr.TwoThirds,mainWrapperSize:i,skipLinkProps:o,headerProps:s,footerProps:a,service:c,navigation:u,search:d,account:f,organisation:p,logo:h,className:y,...m})=>{const g={service:c,navigation:u,search:d,account:f,organisation:p,logo:h,...s};return l.jsxs(l.Fragment,{children:[l.jsx(Nc,{...o}),l.jsx(Qs,{...g}),l.jsx(Fc,{className:y,...m,children:l.jsx(Ql,{size:i,children:l.jsx(pr,{children:l.jsxs(Ii,{width:r,children:[e&&l.jsx(Gn,{size:"l",...n,children:e}),t]})})})}),l.jsx(nc,{...a})]})},Lw=({children:t,title:e,pageHeadingProps:n,columnWidth:r=Lr.TwoThirds,mainWrapperSize:i="small",skipLinkProps:o,headerProps:s,footerProps:a,backLinkProps:c,serviceName:u,serviceHref:d,logo:f,className:p,...h})=>{const y={service:{text:u,href:d},logo:f,navigation:void 0,search:void 0,account:void 0,...s};return l.jsxs(l.Fragment,{children:[l.jsx(Nc,{...o}),l.jsx(Qs,{...y}),l.jsxs(Fc,{className:p,...h,children:[c&&l.jsx(Di,{...c}),l.jsx(Ql,{size:i,children:l.jsx(pr,{children:l.jsxs(Ii,{width:r,children:[e&&l.jsx(Gn,{style:{marginTop:"3rem"},size:"l",...n,children:e}),t]})})})]}),l.jsx(nc,{...a})]})};function op(t={}){const{enabled:e=!0,paramSelected:n="nsv",paramDrill:r="nsvDrill"}=t,[i,o]=ie.useState(()=>typeof window>"u"||!e?void 0:new URLSearchParams(window.location.search).get(n)),[s,a]=ie.useState(()=>typeof window>"u"||!e?!1:new URLSearchParams(window.location.search).get(r)==="1");return ie.useEffect(()=>{if(!e||typeof window>"u")return;const c=new URLSearchParams(window.location.search);i?c.set(n,String(i)):c.delete(n),c.set(r,s?"1":"0");const u=`${window.location.pathname}?${c.toString()}${window.location.hash}`;window.history.replaceState(null,"",u)},[i,s,e,n,r]),{selectedId:i,setSelectedId:o,drilledIn:s,setDrilledIn:a}}const Pw=({className:t})=>l.jsx("svg",{className:t,width:"16",height:"16",viewBox:"0 0 16 16","aria-hidden":"true",focusable:"false",children:l.jsx("path",{fill:"currentColor",d:"M10.7 3.3a1 1 0 0 1 0 1.4L7.41 8l3.3 3.3a1 1 0 1 1-1.42 1.4l-4-4a1 1 0 0 1 0-1.4l4-4a1 1 0 0 1 1.42 0Z"})}),Aw=({className:t})=>l.jsx("svg",{className:t,width:"16",height:"16",viewBox:"0 0 16 16","aria-hidden":"true",focusable:"false",children:l.jsx("path",{fill:"currentColor",d:"M5.3 12.7a1 1 0 0 1 0-1.4L8.59 8l-3.3-3.3a1 1 0 0 1 1.42-1.4l4 4a1 1 0 0 1 0 1.4l-4 4a1 1 0 0 1-1.42 0Z"})}),wa=({text:t="Next",html:e,href:n="#",className:r,element:i="a",onClick:o,...s})=>{const a=Ie("nhsuk-back-link",r),c=Ie("nhsuk-back-link__link"),u=()=>l.jsxs("span",{style:{display:"inline-flex",alignItems:"center",gap:4},children:[e?l.jsx("span",{dangerouslySetInnerHTML:{__html:e}}):t,l.jsx("svg",{className:"nhsuk-icon nhsuk-icon__chevron-right",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24","aria-hidden":"true",height:"24",width:"24",children:l.jsx("path",{d:"M15.5 12c0 .3-.1.5-.3.7l-5 5c-.4.4-1 .4-1.4 0s-.4-1 0-1.4L13.1 12 8.8 7.7c-.4-.4-.4-1 0-1.4s1-.4 1.4 0l5 5c.2.2.3.4.3.7z"})})]});return l.jsx("div",{className:a,children:i==="button"?l.jsx("button",{className:c,type:"button",onClick:o,...s,children:u()}):l.jsx("a",{className:c,href:n,...s,children:u()})})};wa.displayName="ForwardLink";const Ew=({show:t,label:e,contentHeaderLevel:n,detailActive:r,headerContext:i,backLabel:o,nextLabel:s,onBack:a,onForward:c,renderContentHeader:u,item:d,contentSubheader:f,tertiaryInlineActive:p})=>{if(!t||!d)return null;const h=`h${n}`,y=e?ie.createElement(h,{style:{marginLeft:r?32:0,marginRight:r?32:0}},e):null,m=r?l.jsx(Di,{element:"button",text:o,style:{marginRight:16},onClick:a}):void 0,g=p?void 0:l.jsx(wa,{element:"button",text:s,onClick:c});if(u)return l.jsx("div",{className:"nhs-navigation-split-view__header",children:u({item:d,detailActive:r,context:i,backLink:m,defaultHeading:y})});const N=d&&f?typeof f=="function"?f(d):f:null;return l.jsx("div",{className:"nhs-navigation-split-view__header",children:l.jsxs("div",{style:{display:"flex",alignItems:"center",width:"100%"},children:[l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:0,flex:"1 1 auto",minWidth:0},children:[m,l.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:4,minWidth:0},children:[y,N&&l.jsx("div",{className:"nhs-navigation-split-view__subheader",children:N})]})]}),g&&l.jsx("div",{style:{marginLeft:"auto"},children:g})]})})};function Fw({layout:t,items:e,getId:n,selectedId:r,isLoading:i,emptyState:o,renderItemContent:s,onSelect:a,orientation:c,initialFocus:u,onFocusChange:d,justSelectedId:f,listRef:p,onKeyDownList:h,navigationInstructions:y,controlledFocusedIndex:m}){const[g,N]=ie.useState(()=>u==="first"?0:-1),M=ie.useRef(0);ie.useEffect(()=>{if(typeof m=="number"||g<0||!p?.current)return;const C=Array.from(p.current.querySelectorAll("[data-nav-item]"))[g];if(C){document.activeElement!==C&&C.focus(),M.current=g;const k=e[g];d?.(k?n(k):void 0,k,g)}},[m,g,e,d,n,p]);const j=S=>{if(h)return h(S);const C=c==="vertical"?"ArrowDown":"ArrowRight",k=c==="vertical"?"ArrowUp":"ArrowLeft";if(S.key===C)S.preventDefault(),N(v=>Math.min(e.length-1,v+1));else if(S.key===k)S.preventDefault(),N(v=>Math.max(0,v-1));else if(S.key==="Home")S.preventDefault(),N(0);else if(S.key==="End")S.preventDefault(),N(e.length-1);else if(S.key==="Enter"||S.key===" "){S.preventDefault();const v=e[g];v&&!v.disabled&&a(n(v),v,g)}};if(t==="cards")return l.jsxs("ul",{className:"nhs-navigation-split-view__cards",role:"listbox","aria-activedescendant":r?String(r):void 0,children:[e.map((S,C)=>{const k=n(S),v=k===r;return l.jsx("li",{className:"nhs-navigation-split-view__card-item",role:"option","aria-selected":v,children:l.jsxs("button",{id:String(k),type:"button",className:"nhs-navigation-split-view__card","data-selected":v||void 0,"data-disabled":S.disabled||void 0,disabled:S.disabled,onClick:()=>!S.disabled&&a(k,S,C),children:[S.icon&&l.jsx("span",{className:"nhs-navigation-split-view__item-icon",children:S.icon}),l.jsx("span",{className:"nhs-navigation-split-view__item-label",children:S.label}),S.description&&l.jsx("span",{className:"nhs-navigation-split-view__item-description",children:S.description}),s?.(S),S.badge!==void 0&&l.jsx("span",{className:"nhs-navigation-split-view__badge",children:S.badge})]})},String(k))}),e.length===0&&!i&&l.jsx("li",{className:"nhs-navigation-split-view__card-item","aria-disabled":"true",children:o||l.jsx("div",{style:{padding:16},children:"No items"})})]});const _="nsv-nav-instructions",b=ie.useMemo(()=>ie.memo(({item:S,idx:C,selected:k,focused:v})=>{const x=n(S),A=S.disabled?{"aria-disabled":!0,tabIndex:-1}:{tabIndex:v?0:-1,onClick:()=>{M.current=C,a(x,S,C)},onKeyDown:I=>{(I.key==="Enter"||I.key===" ")&&(I.preventDefault(),M.current=C,a(x,S,C))}};return l.jsxs("li",{id:String(x),"data-nav-item":!0,className:"nhs-navigation-split-view__list-item nhs-navigation-split-view__item-button",role:"option","aria-selected":k,"aria-current":k?"true":void 0,"data-selected":k||void 0,"data-disabled":S.disabled||void 0,...A,children:[S.icon&&l.jsx("span",{className:"nhs-navigation-split-view__item-icon",children:S.icon}),l.jsxs("span",{className:"nhs-navigation-split-view__item-content",children:[l.jsx("span",{className:"nhs-navigation-split-view__item-label",children:S.label}),S.description&&l.jsx("span",{className:"nhs-navigation-split-view__item-description",children:S.description}),s?.(S)]}),S.badge!==void 0&&l.jsx("span",{className:"nhs-navigation-split-view__badge",children:S.badge})]})}),[n,a,s]);return l.jsxs(l.Fragment,{children:[l.jsxs("ul",{ref:p,className:"nhs-navigation-split-view__list",onKeyDown:j,role:"listbox","aria-label":"Navigation items","aria-describedby":_,"aria-activedescendant":r?String(r):void 0,children:[e.map((S,C)=>l.jsx(b,{item:S,idx:C,selected:n(S)===r,focused:(()=>{const k=typeof m=="number"?m:g;return C===k||k===-1&&C===0&&u==="first"})(),"data-just-selected":n(S)===f?"true":void 0},String(n(S)))),e.length===0&&!i&&l.jsx("li",{className:"nhs-navigation-split-view__list-item","aria-disabled":"true",children:o||l.jsx("div",{style:{padding:16},children:"No items"})})]}),l.jsx("div",{id:_,style:{position:"absolute",width:1,height:1,overflow:"hidden",clip:"rect(0 0 0 0)"},children:y||"Use arrow keys to navigate, Enter to open."})]})}const Ri=Object.freeze({small:320,smallMax:767,medium:768,large:1025,xlarge:1200,xxlarge:1440});function sp(){return typeof window>"u"?Ri.small:window.innerWidth||document.documentElement.clientWidth||0}function Sa(){const[t,e]=ie.useState(sp());ie.useEffect(()=>{if(typeof window>"u")return;const o=()=>e(sp());return window.addEventListener("resize",o),()=>window.removeEventListener("resize",o)},[]);const n=ie.useCallback(o=>t>=Ri[o],[t]),r=ie.useCallback(o=>t<Ri[o],[t]),i=ie.useCallback((o,s)=>t>=Ri[o]&&t<Ri[s],[t]);return{width:t,up:n,down:r,between:i,values:Ri}}function $w(t){const{width:e,values:n}=Sa();let r=t.base;const i=["small","medium","large","xlarge","xxlarge"];for(const o of i){const s=n[o];e>=s&&t[o]!==void 0&&(r=t[o])}return r}function Bw(t,e,n){const{up:r}=Sa(),[i,o]=ie.useState(!1);ie.useEffect(()=>o(!0),[]);const s=i&&r("medium"),a=i&&r("xlarge");let c;return t?c=t:s?c="two-column":c="list",!t&&e&&n&&a&&(c="three-column"),{effectiveLayout:c,hydrated:i,isAtLeastMedium:s,isAtLeastXlarge:a}}function Ow(t){const{enabled:e,isAtLeastMedium:n,initiallyCollapsed:r,persist:i,storageKey:o,urlParam:s,onChange:a}=t,c=ie.useMemo(()=>{if(i&&(i==="url"||i==="both")&&typeof window<"u"){const h=new URLSearchParams(window.location.search).get(s);if(h==="1")return!0;if(h==="0")return!1}if(i&&(i==="localStorage"||i==="both")&&typeof window<"u")try{const p=window.localStorage.getItem(o);if(p==="1")return!0;if(p==="0")return!1}catch{}return r},[i,r,o,s]),[u,d]=ie.useState(c);ie.useEffect(()=>{a?.(u)},[u,a]);const f=ie.useCallback(()=>{e&&n&&d(p=>!p)},[e,n]);return ie.useEffect(()=>{if(!(!i||typeof window>"u")){if(i==="localStorage"||i==="both")try{window.localStorage.setItem(o,u?"1":"0")}catch{}if(i==="url"||i==="both"){const p=new URLSearchParams(window.location.search);p.set(s,u?"1":"0");const h=`${window.location.pathname}?${p.toString()}${window.location.hash}`;window.history.replaceState(null,"",h)}}},[u,i,o,s]),{collapsed:u,toggle:f}}function ap(t){const{items:e,selectedId:n,defaultSelectedId:r,onSelectionChange:i,renderItemContent:o,renderContent:s,renderSecondaryContent:a,forceLayout:c,animated:u=!0,backLabel:d="Back",nextLabel:f="Next",isLoading:p=!1,emptyState:h,a11y:y,className:m,getId:g=ve=>ve.id,orientation:N="vertical",autoEnableThirdColumn:M=!0,onDrillChange:j,navigationInstructions:_="Use arrow keys to navigate, Enter to open.",initialFocus:b="first",skipFocusOnSelect:S=!1,skipAnnouncements:C=!1,onFocusChange:k,syncUrl:v=!1,urlParamSelected:x="nsv",urlParamDrill:A="nsvDrill",urlSyncDebounceMs:I=0,lazySecondary:O=!1,navFooter:E,collapsibleNav:L=!1,navInitiallyCollapsed:D=!1,onNavCollapseChange:F,collapseToggleLabelShow:K="Show navigation",collapseToggleLabelHide:W="Hide navigation",collapseToggleIconShow:T,collapseToggleIconHide:Q,persistNavCollapsed:G,navCollapsedStorageKey:U="nsvCollapsed",navCollapsedUrlParam:ee="nsvCollapsed",autoContentHeader:z,contentHeaderLevel:oe=2,renderContentHeader:J,contentSubheader:re,secondarySubheader:te}=t,{effectiveLayout:ae,hydrated:fe,isAtLeastMedium:q}=Bw(c,M,!!a),ce=op({enabled:v,paramSelected:x,paramDrill:A}),[ue,ge]=ie.useState(()=>ce.selectedId!==void 0?ce.selectedId:r),he=n!==void 0?n:ue,V=e.find(ve=>g(ve)===he),[Ee,Pe]=ie.useState(void 0);ie.useEffect(()=>{if(he===void 0)return;Pe(he);const ve=setTimeout(()=>Pe(void 0),220);return()=>clearTimeout(ve)},[he]);const Te=ie.useRef(null),Z=ie.useRef(null),P=ie.useRef(null),R=ie.useRef(null),[X,B]=ie.useState(()=>({contentIndex:0,secondaryIndex:0})),[H,Y]=ie.useState(()=>"nav"),[ne,se]=ie.useState(0),le=()=>[R.current,Z.current,P.current].filter(Boolean),be=ve=>{const Ae=le(),He=Math.max(0,Math.min(ve,Ae.length-1));xe(Ae[He]),se(He)},me=ie.useCallback(ve=>ve?Array.from(ve.querySelectorAll('button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])')).filter(He=>!He.hasAttribute("disabled")&&He.tabIndex!==-1):[],[]),xe=ie.useCallback(ve=>{if(ve)try{ve.focus({preventScroll:!0})}catch{ve.focus()}},[]),ke=ie.useCallback(ve=>{const Ae=me(Z.current);if(!Ae.length){xe(Z.current);return}const He=Math.max(0,Math.min(ve,Ae.length-1)),Ge=Ae[He];Ge.focus(),setTimeout(()=>{document.activeElement!==Ge&&(Ge.focus(),setTimeout(()=>{document.activeElement!==Ge&&Ge.click()},10))},10),B(tt=>({...tt,contentIndex:He}));const ct=tt=>{tt.key==="Escape"&&(tt.preventDefault(),tt.stopPropagation(),xe(Z.current),Ge.removeEventListener("keydown",ct))};Ae.forEach(tt=>{const gt=tt._escapeHandler;gt&&tt.removeEventListener("keydown",gt)}),Ge._escapeHandler=ct,Ge.addEventListener("keydown",ct)},[me]),Ne=ie.useCallback(ve=>{const Ae=me(P.current);if(!Ae.length){xe(P.current);return}const He=Math.max(0,Math.min(ve,Ae.length-1)),Ge=Ae[He];Ge.focus(),setTimeout(()=>{document.activeElement!==Ge&&(Ge.focus(),setTimeout(()=>{document.activeElement!==Ge&&Ge.click()},10))},10),B(tt=>({...tt,secondaryIndex:He}));const ct=tt=>{tt.key==="Escape"&&(tt.preventDefault(),tt.stopPropagation(),xe(P.current),Ge.removeEventListener("keydown",ct))};Ae.forEach(tt=>{const gt=tt._escapeHandler;gt&&tt.removeEventListener("keydown",gt)}),Ge._escapeHandler=ct,Ge.addEventListener("keydown",ct)},[me]),et=ve=>{if(ve.defaultPrevented)return;const Ae=ve.key,He=ve.target,Ge=!!de.current&&de.current.contains(He),ct=!!Z.current&&Z.current.contains(He),tt=!!P.current&&P.current.contains(He),gt=!!P.current,Tr=He===R.current||He===Z.current||He===P.current,$t=Ue&&(ae==="list"||ae==="cards"),kt=ct&&!!He.closest(".nhs-navigation-split-view__header");if(H==="containers"&&Tr){if(Ae==="ArrowRight"){ve.preventDefault();const Ze=le(),yt=Math.min(Ze.length-1,ne+1);be(yt);return}if(Ae==="ArrowLeft"){ve.preventDefault();const Ze=Math.max(0,ne-1);be(Ze);return}if(Ae==="Home"){ve.preventDefault(),be(0);return}if(Ae==="End"){ve.preventDefault(),be(le().length-1);return}if(Ae==="Enter"||Ae===" "){if(ve.preventDefault(),He===R.current){if(Y("nav"),de.current){const Ze=Array.from(de.current.querySelectorAll("[data-nav-item]"));(Ze[Se>=0?Se:0]||Ze[0])?.focus()}}else He===Z.current?(Y("content"),ke(X.contentIndex)):He===P.current&&(Y("secondary"),Ne(X.secondaryIndex));return}return}if(Ae==="Escape"){if(H==="content"||H==="secondary"){if(ct||tt){if(ve.preventDefault(),Y("nav"),de.current){const yt=Array.from(de.current.querySelectorAll("[data-nav-item]"))[Se>=0?Se:0];setTimeout(()=>yt?.focus(),10)}}else if((He===Z.current||He===P.current)&&(ve.preventDefault(),Y("nav"),de.current)){const yt=Array.from(de.current.querySelectorAll("[data-nav-item]"))[Se>=0?Se:0];setTimeout(()=>yt?.focus(),10)}}return}if(Ae==="Enter"||Ae===" "){if(He.matches('button, a, input, select, textarea, [role="button"], [role="link"], [role="tab"]'))return;if(He===Z.current&&H==="content"){ve.preventDefault(),ve.stopPropagation(),me(Z.current).length>0&&setTimeout(()=>{ke(X.contentIndex)},50);return}if(He===P.current&&H==="secondary"){ve.preventDefault(),ve.stopPropagation(),me(P.current).length>0&&setTimeout(()=>{Ne(X.secondaryIndex)},50);return}}if($t&&kt&&!Tr&&(Ae==="ArrowRight"||Ae==="ArrowLeft")){const Ze=me(Z.current).filter(yt=>yt.closest(".nhs-navigation-split-view__header"));if(Ze.length>1){const yt=Ze.indexOf(He);if(yt>=0){const Jr=(yt+(Ae==="ArrowRight"?1:-1)+Ze.length)%Ze.length;ve.preventDefault(),Ze[Jr].focus();return}}}if(Ae==="ArrowRight"){if(Ge||H==="nav"){ve.preventDefault(),Y("content"),setTimeout(()=>xe(Z.current),10);return}if(ct||H==="content"){gt&&(ve.preventDefault(),Y("secondary"),setTimeout(()=>xe(P.current),10));return}}if(Ae==="ArrowLeft"){if(tt||H==="secondary"){ve.preventDefault(),Y("content"),setTimeout(()=>xe(Z.current),10);return}if(ct||H==="content"){if(ve.preventDefault(),Y("nav"),de.current){const yt=Array.from(de.current.querySelectorAll("[data-nav-item]"))[Se>=0?Se:0];setTimeout(()=>xe(yt),10)}return}}if(Ae==="Home"&&!Ge&&(ve.preventDefault(),Y("nav"),de.current)){const Ze=Array.from(de.current.querySelectorAll("[data-nav-item]")),yt=Ze[Se>=0?Se:0]||Ze[0];setTimeout(()=>xe(yt),10)}if(Ae==="End"){const Ze=gt?P.current:Z.current;Ze&&!Ze.contains(He)&&(ve.preventDefault(),gt?(Y("secondary"),setTimeout(()=>xe(P.current),10)):(Y("content"),setTimeout(()=>xe(Z.current),10)))}if(Ae==="ArrowDown"||Ae==="ArrowUp"){if(He===Z.current&&Ae==="ArrowDown"){ve.preventDefault(),me(Z.current).length>0&&ke(0);return}if(He===P.current&&Ae==="ArrowDown"){ve.preventDefault(),me(P.current).length>0&&Ne(0);return}if(ct){const Ze=me(Z.current);if(Ze.length){ve.preventDefault();const yt=Ae==="ArrowDown"?1:-1,Ln=(X.contentIndex+yt+Ze.length)%Ze.length;ke(Ln)}}else if(tt){const Ze=me(P.current);if(Ze.length){ve.preventDefault();const yt=Ae==="ArrowDown"?1:-1,Ln=(X.secondaryIndex+yt+Ze.length)%Ze.length;Ne(Ln)}}}},Ue=!!V&&(ae==="list"||ae==="cards"),dt=ie.useMemo(()=>z===void 0?{mobile:!0,tablet:!1,desktop:!1}:z===!0?{mobile:!0,tablet:!0,desktop:!0}:z===!1?{mobile:!1,tablet:!1,desktop:!1}:{mobile:z.mobile!==void 0?z.mobile:!0,tablet:z.tablet||!1,desktop:z.desktop||!1},[z]),Oe=fe&&q&&ae!=="three-column",pe=fe&&ae==="three-column",je=!!a,_e=ae==="three-column",[Ce,Xe]=ie.useState(!1);ie.useEffect(()=>{_e&&Ce&&Xe(!1)},[_e,Ce]),ie.useEffect(()=>{Ce&&!_e&&(Y("secondary"),se(2),setTimeout(()=>{xe(P.current)},50))},[Ce,_e]),ie.useEffect(()=>{!Ce&&!_e&&H==="secondary"&&(Y("content"),se(1),setTimeout(()=>{xe(Z.current)},50))},[Ce,_e,H]);const Ve=!!V&&(Ue&&dt.mobile||!Ue&&Oe&&dt.tablet||!Ue&&pe&&dt.desktop)||je&&!_e,Ke=Ue?"mobile":Oe?"tablet":"desktop";ie.useEffect(()=>{if(!v)return;const ve=ae==="three-column";let Ae=!1;const He=()=>{Ae||(ce.selectedId!==he&&ce.setSelectedId(he),ce.drilledIn!==ve&&ce.setDrilledIn(ve))};if(I&&I>0){const Ge=setTimeout(He,I);return()=>{Ae=!0,clearTimeout(Ge)}}else He()},[v,ce,he,ae,I]),ie.useEffect(()=>{if(!v)return;const ve=()=>{const Ae=new URLSearchParams(window.location.search),He=Ae.get(x);Ae.get(A),ge(He===null?void 0:He)};return window.addEventListener("popstate",ve),()=>window.removeEventListener("popstate",ve)},[v,x,A,c,a]);const Le=ie.useRef(0),ye=ie.useRef(null),we=ie.useCallback((ve,Ae)=>{ve!==he&&(n===void 0&&ge(ve),i?.(ve,Ae))},[n,i,he]);ie.useEffect(()=>{if(!S&&Ue&&Z.current){const ve=setTimeout(()=>xe(Z.current),30);return()=>clearTimeout(ve)}},[Ue,he,S]);const de=ie.useRef(null),[Se,De]=ie.useState(()=>b==="first"?0:-1);ie.useEffect(()=>{if(Se<0||!de.current)return;const Ae=Array.from(de.current.querySelectorAll("[data-nav-item]"))[Se];if(Ae){document.activeElement!==Ae&&xe(Ae),Le.current=Se;const He=e[Se];k?.(He?g(He):void 0,He,Se)}},[Se,e,k,g]);const ze=ve=>{const Ae=N==="vertical"?"ArrowDown":"ArrowRight",He=N==="vertical"?"ArrowUp":"ArrowLeft";if(ve.key==="ArrowRight"&&N==="vertical"){ve.preventDefault(),Ce?(Y("secondary"),setTimeout(()=>{xe(P.current)},10)):(Y("content"),setTimeout(()=>{xe(Z.current)},10));return}if(ve.key===Ae)ve.preventDefault(),De(Ge=>Math.min(e.length-1,Ge+1));else if(ve.key===He)ve.preventDefault(),De(Ge=>Math.max(0,Ge-1));else if(ve.key==="Home")ve.preventDefault(),De(0);else if(ve.key==="End")ve.preventDefault(),De(e.length-1);else if(ve.key==="Enter"||ve.key===" "){ve.preventDefault();const Ge=e[Se];Ge&&!Ge.disabled&&we(g(Ge),Ge)}else if(ve.key.length===1&&/[a-z0-9]/i.test(ve.key)){ye.current||(ye.current={buffer:"",last:0});const Ge=Date.now(),ct=700,tt=ve.key.toLowerCase();Ge-ye.current.last>ct?ye.current.buffer=tt:ye.current.buffer+=tt,ye.current.last=Ge;let gt=ye.current.buffer;const Tr=gt.split("").every(Ln=>Ln===gt[0]),$t=e.map(Ln=>String(Ln.label||"").toLowerCase());let kt=0;Se>=0&&(kt=(Se+1)%e.length);let Ze;const yt=(Ln,Jr)=>{const Pn=e.length;for(let jr=0;jr<Pn;jr++){const Kr=(kt+jr)%Pn;if(!e[Kr].disabled&&$t[Kr].startsWith(Ln))return Kr}};Tr&&gt.length>1?Ze=yt(gt[0]):(Ze=yt(gt),Ze===void 0&&gt.length>1&&(Ze=yt(gt[gt.length-1]),Ze!==void 0&&ye.current&&(ye.current.buffer=gt[gt.length-1]))),Ze!==void 0&&De(Ze)}},{collapsed:Me,toggle:qe}=Ow({enabled:L,isAtLeastMedium:q,initiallyCollapsed:D,persist:G,storageKey:U,urlParam:ee,onChange:F}),at=["nhs-navigation-split-view",u?"nhs-navigation-split-view--animated":"",Ue?"nhs-navigation-split-view--detail-active":"",ae==="three-column"?"nhs-navigation-split-view--three-column":"",L&&q&&Me?"nhs-navigation-split-view--nav-collapsed":"",m].filter(Boolean).join(" "),Mt=ie.useRef(null);ie.useEffect(()=>{if(!C&&Mt.current){const ve=V?`Selected ${V.label}`:"Selection cleared";Mt.current.textContent=ve}},[V,C]),ie.useEffect(()=>{if(!Ue&&he==null&&de.current){const Ae=de.current.querySelectorAll("[data-nav-item]")[Le.current];xe(Ae)}},[Ue,he]);const lt=ae==="three-column",[mt,ht]=ie.useState(!1);ie.useEffect(()=>{lt&&!mt&&ht(!0)},[lt,mt]);const xn=ie.useRef(lt);return ie.useEffect(()=>{xn.current!==lt&&(j?.(lt),xn.current=lt)},[lt,j]),l.jsx("div",{ref:Te,className:at,"aria-label":y?.rootLabel,"data-layout":ae,onKeyDown:et,children:l.jsxs("div",{className:"nhs-navigation-split-view__body",children:[l.jsxs("div",{className:"nhs-navigation-split-view__panes","data-active-detail":Ue||void 0,style:{transform:Ue?"translateX(-100%)":void 0},children:[l.jsxs("div",{ref:R,className:"nhs-navigation-split-view__nav-pane",role:"navigation","aria-label":y?.navigationLabel||"Items","data-collapsed":Me||void 0,tabIndex:0,children:[L&&q&&l.jsx("div",{className:"nhs-navigation-split-view__nav-collapse",children:l.jsx("button",{type:"button",onClick:qe,className:"nhs-navigation-split-view__nav-collapse-btn","aria-label":Me?K:W,title:Me?K:W,children:Me?T||l.jsx(Aw,{}):Q||l.jsx(Pw,{})})}),l.jsx("div",{className:"nhs-navigation-split-view__nav-scroll",children:l.jsx(Fw,{layout:ae==="cards"?"cards":"list",items:e,getId:g,selectedId:he,isLoading:p,emptyState:h,renderItemContent:o,onSelect:(ve,Ae,He)=>{Le.current=He,we(ve,Ae)},orientation:N,initialFocus:b,onFocusChange:k,justSelectedId:Ee,listRef:de,onKeyDownList:ze,navigationInstructions:_,controlledFocusedIndex:Se})}),E&&l.jsx("div",{className:"nhs-navigation-split-view__nav-footer",role:"contentinfo",children:E})]}),l.jsxs("div",{ref:Z,className:"nhs-navigation-split-view__content-pane",role:"region","aria-label":y?.contentLabel||"Content","data-has-selection":!!V||void 0,tabIndex:0,style:{display:Ce&&!_e?"none":void 0},children:[Ve&&l.jsx(Ew,{show:Ve,label:V?V.label:void 0,contentHeaderLevel:oe,detailActive:Ue,headerContext:Ke,backLabel:d,nextLabel:f,onBack:()=>we(void 0,void 0),onForward:()=>Xe(!0),renderContentHeader:J,item:V,contentSubheader:re,tertiaryInlineActive:Ce}),l.jsx("div",{className:"nhs-navigation-split-view__content-inner",style:{padding:32,flex:1},children:s(V)})]}),ae==="three-column"&&(!O||mt)||Ce&&!_e?l.jsx("div",{ref:P,className:"nhs-navigation-split-view__secondary-pane",role:"region","aria-label":y?.secondaryContentLabel||"Secondary",tabIndex:0,children:l.jsxs("div",{className:"nhs-navigation-split-view__secondary-inner",style:{display:"flex",flexDirection:"column",flex:1,minWidth:0},children:[Ce&&!_e&&l.jsx("div",{className:"nhs-navigation-split-view__header",children:l.jsx("div",{style:{display:"flex",alignItems:"center",width:"100%"},children:l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:0,flex:"1 1 auto",minWidth:0},children:[l.jsx(Di,{element:"button",text:d,style:{marginRight:16},onClick:()=>Xe(!1)}),l.jsx("div",{style:{display:"flex",flexDirection:"column",gap:4,minWidth:0},children:l.jsx("h2",{style:{marginLeft:0,marginRight:0},children:V&&typeof V=="object"&&"label"in V?V.label:String(V)})})]})})}),V&&te&&l.jsx("div",{className:"nhs-navigation-split-view__secondary-header",style:{padding:"16px 32px",borderBottom:"1px solid var(--nsplit-divider)"},children:typeof te=="function"?te(V):te}),l.jsx("div",{style:{padding:32,flex:1,minWidth:0},children:a?.(V)})]})}):null]}),l.jsx("div",{ref:Mt,"aria-live":"polite","aria-atomic":"true",style:{position:"absolute",width:1,height:1,overflow:"hidden",clip:"rect(0 0 0 0)"}}),l.jsx("div",{"aria-live":"polite",style:{position:"absolute",width:1,height:1,overflow:"hidden",clip:"rect(0 0 0 0)"},children:lt?"Expanded to three column layout":"In two column layout"})]})})}ap.displayName="NavigationSplitView";function Rw({steps:t,currentIndex:e,onNavigate:n,renderCard:r,className:i,ariaLabel:o="Steps"}){const s=ie.useRef(null),a=c=>{if(t?.length)if(c.key==="ArrowLeft"||c.key==="ArrowUp"){c.preventDefault();const u=Math.max(0,e-1);u!==e&&n?.(u)}else if(c.key==="ArrowRight"||c.key==="ArrowDown"){c.preventDefault();const u=Math.min(t.length-1,e+1);u!==e&&n?.(u)}else c.key==="Home"?(c.preventDefault(),n?.(0)):c.key==="End"&&(c.preventDefault(),n?.(t.length-1))};return l.jsx("div",{className:i,"aria-label":o,role:"region",children:l.jsx("div",{className:"nhsfdp-cards-viewport",role:"group","aria-roledescription":"steps",tabIndex:0,onKeyDown:a,children:l.jsx("div",{ref:s,className:"nhsfdp-cards-track",style:{transform:`translate3d(-${Math.max(0,e)*100}%, 0, 0)`},children:t.map((c,u)=>{const d=u===e;return l.jsx("div",{className:"nhsfdp-pane mobile-pane"+(d?" is-current":""),role:"group","aria-roledescription":"step","aria-label":(c.label??`Step ${u+1}`).toString(),"aria-hidden":!d,onClick:f=>{if(f.defaultPrevented)return;const p=f.target;p&&p.closest('button, a, input, select, textarea, [role="button"], [role="link"], [contenteditable="true"], [data-prevent-card-click]')||n?.(u)},children:r(c,u,d)},u)})})})})}function zw({steps:t,currentIndex:e,onNavigate:n,renderLabel:r,ariaLabel:i="Breadcrumbs",className:o,style:s}){const a=t.map((u,d)=>{const f=d===e,p=d<e,h=r?r(u,d):u.label??`Step ${d+1}`;return{text:String(h),href:p?"#":void 0,active:f,attributes:p?{"data-index":String(d)}:void 0}}),c=u=>{const f=u.target.closest("a.nhsuk-breadcrumb__link, a.nhsuk-breadcrumb__backlink");if(!f)return;if(f.classList.contains("nhsuk-breadcrumb__backlink")){u.preventDefault();const h=Math.max(0,e-1);h!==e&&n?.(h);return}const p=f.getAttribute("data-index");if(p!=null){u.preventDefault();const h=parseInt(p,10);Number.isNaN(h)||n?.(h)}};return l.jsx("div",{style:s,onClick:c,children:l.jsx(Cc,{labelText:i,classes:o,items:a})})}function Hw(t){const{up:e}=Sa(),[n,r]=ie.useState(!1);ie.useEffect(()=>r(!0),[]);const i=n&&e("medium")&&!e("xlarge"),o=n&&e("xlarge"),s=o?"desktop":i?"tablet":"mobile",a=ie.useMemo(()=>{if(!t.step||!t.layoutForStep)return s==="mobile"?{panes:1,showPrimaryNav:!1,showSecondaryNav:!1}:s==="tablet"?{panes:2,showPrimaryNav:!0,showSecondaryNav:!1}:{panes:3,showPrimaryNav:!0,showSecondaryNav:!0};try{return t.layoutForStep({step:t.step,index:t.index,breakpoint:s})||{}}catch{return{}}},[t.step,t.index,t.layoutForStep,s]);return{hydrated:n,breakpoint:s,isTablet:i,isDesktop:o,paneConfig:a}}function Uw(t){const{steps:e,currentStepId:n,defaultStepId:r,onStepChange:i,layoutForStep:o,renderStepCard:s,renderStepContent:a,renderSecondaryContent:c,renderSecondaryNav:u,renderBreadcrumbs:d,className:f,getId:p=pe=>pe.id,enableTabletGrid:h=!1,isStepComplete:y,showMobileControls:m,currentSectionId:g,defaultSectionIdForStep:N,onSectionChange:M}=t,j=typeof window<"u"&&!!window.__WSV_DEBUG_FOCUS||!1,_=(...pe)=>{j&&console.log("[WorkflowSplitView]",...pe)},b=()=>{if(typeof document>"u")return{};const pe=document.activeElement,je=pe?.getAttribute?.("role");return{activeTag:pe?.tagName,activeId:pe?.id,activeRole:je,activeClasses:pe?.className}},[S,C]=$.useState(r??(e[0]?p(e[0]):void 0)),k=n??S,v=e.findIndex(pe=>p(pe)===k),x=v>=0?e[v]:e[0],[A,I]=$.useState({}),O=pe=>pe?String(p(pe)):"",E=$.useCallback(pe=>{if(!pe)return;try{const _e=N?.(pe);if(_e!==void 0)return _e}catch{}const je=pe.sections&&pe.sections[0];return je?je.id:void 0},[N]),L=g??A[O(x)]??E(x),D=x&&x.sections?x.sections:void 0,F=D?.find(pe=>pe.id===L),K=pe=>{if(x){const je=O(x);g===void 0&&I(_e=>({..._e,[je]:pe})),M?.(pe,D?.find(_e=>_e.id===pe),x)}},W=pe=>{_("navigateTo",String(pe)),n===void 0&&C(pe);const je=e.find(_e=>p(_e)===pe);je&&i&&i(pe,je)},T=d?d({steps:e,current:x,onNavigate:W}):l.jsx(zw,{steps:e,currentIndex:Math.max(0,v),onNavigate:pe=>{const je=e[pe];je&&W(p(je))}}),{hydrated:Q,breakpoint:G,paneConfig:U}=Hw({step:x,index:v,layoutForStep:o}),ee=n!==void 0||r!==void 0&&e.length>0&&e[0]&&r!==p(e[0]),z=$.useRef(null),oe=$.useRef(null),J=$.useRef(null),re=$.useRef(null),te=$.useRef(null),ae=$.useRef(0),fe=$.useRef(!1),q=$.useRef(!1),ce=$.useRef(null),[ue,ge]=$.useState("nav"),he=$.useRef("nav");$.useEffect(()=>{he.current=ue,ue!=="nav"&&P(!1),ue!=="content"&&X(!1),ue!=="secondary"&&H(!1)},[ue]);const[V,Ee]=$.useState(0),[Pe,Te]=$.useState(()=>Math.max(0,v)),[Z,P]=$.useState(!1),[R,X]=$.useState(!1),[B,H]=$.useState(!1),Y=$.useCallback(pe=>{if(pe){try{pe.focus({preventScroll:!0})}catch{pe.focus()}_("focusEl",{to:pe.tagName,id:pe.id,class:pe.className})}},[]),ne=$.useCallback(()=>{const pe=()=>J.current;let je=0;const _e=()=>{const Ce=pe();Ce&&document.activeElement!==Ce&&Y(Ce),je+=1,je<6&&document.activeElement!==pe()&&setTimeout(_e,0)};_("focusContentSoon:start",{attempts:je}),_e(),typeof queueMicrotask=="function"&&queueMicrotask(_e),requestAnimationFrame(_e)},[Y]),se=$.useCallback(pe=>pe?Array.from(pe.querySelectorAll('button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])')).filter(_e=>!_e.hasAttribute("disabled")&&_e.tabIndex!==-1):[],[]),le=()=>[oe.current,J.current,re.current].filter(Boolean),be=(pe,je)=>{if(!pe)return;const _e=typeof document<"u"?document.activeElement:null;if(_e&&pe.contains(_e))try{_e.blur(),_("blurActiveIfInside",{label:je,root:pe.getAttribute("aria-label")||pe.tagName})}catch{}},me=()=>{const pe=typeof document<"u"?document.activeElement:null;if(pe&&oe.current&&oe.current.contains(pe))try{pe.blur(),_("blurActiveIfInNav: blurred active element inside nav")}catch{}},xe=pe=>{const je=le(),_e=Math.max(0,Math.min(pe,je.length-1));_("focusContainerByIndex",{idx:pe,clamped:_e}),Y(je[_e]),Ee(_e)},ke=$.useCallback(pe=>{let je=0;const _e=pe??Pe,Ce=()=>{const Re=te.current;if(!Re)return null;const Ve=Array.from(Re.querySelectorAll("[data-nav-item]"));return Ve[_e]||Ve[0]||null},Xe=()=>{if(he.current!=="nav"){_("focusNavItemSoon: abort (mode changed)",{mode:he.current});return}const Re=Ce();Re&&document.activeElement!==Re&&Y(Re),je+=1,je<6&&document.activeElement!==Re&&setTimeout(Xe,0)};_("focusNavItemSoon:start",{index:_e,...b()}),Xe(),typeof queueMicrotask=="function"&&queueMicrotask(Xe),requestAnimationFrame(Xe)},[Y,Pe]);$.useEffect(()=>{if(!Q)return;G==="desktop"||h&&G==="tablet"?ee?(ge("nav"),Ee(0),_("init: grid preselected â†’ mode=nav",{containerIndex:0})):(ge("containers"),Ee(0),_("init: grid default â†’ mode=containers",{containerIndex:0})):(ge("nav"),_("init: non-grid â†’ mode=nav"))},[Q,G,ee,h]),$.useEffect(()=>()=>{ce.current!=null&&(clearTimeout(ce.current),ce.current=null,_("cleanup: cleared nav bootstrap timeout"))},[]),$.useEffect(()=>{const pe=Math.max(0,v);Te(pe),_("sync navFocusedIndex with currentIndex",{currentIndex:v,navFocusedIndex:pe})},[v]),$.useEffect(()=>{_("paneFocusMode â†’",ue,b())},[ue]);const Ne=pe=>{if(!(Q&&(G==="desktop"||h&&G==="tablet")))return;const _e=pe.key,Ce=pe.target,Xe=Ce.tagName.toLowerCase(),Re=Xe==="input"||Xe==="textarea"||Xe==="select",Ve=Ce.getAttribute("role"),Ke=Ve==="textbox"||Ve==="searchbox"||Ve==="combobox",Le=Ce.getAttribute("contenteditable"),ye=Re||Ke||Le&&Le!=="false";if(_("onRootKeyDown",{key:_e,tag:Xe,role:Ve,isEditable:ye,paneFocusMode:ue,containerIndex:V,...b()}),ye&&["ArrowLeft","ArrowRight","ArrowUp","ArrowDown","Home","End"].includes(_e))return;const we=!!te.current&&te.current.contains(Ce),de=!!J.current&&J.current.contains(Ce),Se=!!re.current&&re.current.contains(Ce),De=Ce===oe.current||Ce===J.current||Ce===re.current,ze=!!re.current;if(De){if(_e==="ArrowLeft"&&Ce===J.current){pe.preventDefault(),_("container: ArrowLeft on content container â†’ nav item"),ge("nav"),be(J.current,"from-content"),ae.current=Pe,ke(Pe);return}if(_e==="ArrowRight"&&Ce===J.current&&ze){pe.preventDefault(),_("container: ArrowRight on content container â†’ secondary"),ge("secondary"),be(J.current,"from-content"),X(!1),setTimeout(()=>Y(re.current),10);return}if(_e==="ArrowRight"&&Ce===oe.current){pe.preventDefault(),_("container: ArrowRight on nav container â†’ content"),ge("content"),be(oe.current,"from-nav"),P(!1),ne();return}if(_e==="ArrowLeft"&&Ce===re.current){pe.preventDefault(),_("container: ArrowLeft on secondary container â†’ content"),ge("content"),be(re.current,"from-secondary"),H(!1),ne();return}if(_e==="ArrowRight"){pe.preventDefault(),_("container: ArrowRight â†’ next container"),be(Ce,"container-roving"),Ce===oe.current&&P(!1),Ce===J.current&&X(!1),Ce===re.current&&H(!1),xe(V+1);return}if(_e==="ArrowLeft"){pe.preventDefault(),_("container: ArrowLeft â†’ prev container"),be(Ce,"container-roving"),Ce===oe.current&&P(!1),Ce===J.current&&X(!1),Ce===re.current&&H(!1),xe(V-1);return}if(_e==="Home"){pe.preventDefault(),_("container: Home â†’ first container"),be(Ce,"container-roving"),Ce===oe.current&&P(!1),Ce===J.current&&X(!1),Ce===re.current&&H(!1),xe(0);return}if(_e==="End"){pe.preventDefault(),_("container: End â†’ last container"),be(Ce,"container-roving"),Ce===oe.current&&P(!1),Ce===J.current&&X(!1),Ce===re.current&&H(!1),xe(le().length-1);return}if(_e==="Enter"||_e===" "){if(pe.preventDefault(),Ce===oe.current)ge("nav"),_("container: Enter/Space on nav â†’ focus nav item",{navFocusedIndex:Pe}),ae.current=Pe,q.current=!0,ke(Pe);else if(Ce===J.current){ge("content"),be(J.current,"descend-content"),X(!1);const Me=se(J.current);_("container: Enter/Space on content â†’ focus first focusable",{count:Me.length}),(Me[0]||J.current)?.focus()}else if(Ce===re.current){ge("secondary"),be(re.current,"descend-secondary"),H(!1);const Me=se(re.current);_("container: Enter/Space on secondary â†’ focus first focusable",{count:Me.length}),(Me[0]||re.current)?.focus()}return}}if(_e==="Escape"){if(de||Se){pe.preventDefault(),ge("containers"),_("Escape: from",de?"content":"secondary","â†’ containers (focus container)"),de&&be(J.current,"escape-ascend"),Se&&be(re.current,"escape-ascend"),de&&setTimeout(()=>Y(J.current),10),Se&&setTimeout(()=>Y(re.current),10);return}if(we){pe.preventDefault(),ge("containers"),_("Escape: from nav â†’ containers (focus nav container)"),me(),Y(oe.current);return}if(De){pe.preventDefault(),ge("containers"),_("Escape: on container (stay in containers)");return}}if(_e==="Enter"||_e===" "){if(Ce===J.current&&ue==="content"){pe.preventDefault(),be(J.current,"descend-content");const Me=se(J.current);_("Enter/Space on content container in content mode"),(Me[0]||J.current)?.focus();return}if(Ce===re.current&&ue==="secondary"){pe.preventDefault(),be(re.current,"descend-secondary");const Me=se(re.current);_("Enter/Space on secondary container in secondary mode"),(Me[0]||re.current)?.focus();return}}if(_e==="ArrowRight"){if(we||ue==="nav"){pe.preventDefault(),ge("content"),_("ArrowRight: from nav â†’ content (focus content)"),be(oe.current,"from-nav"),P(!1),ne();return}if(de||ue==="content"){ze&&(pe.preventDefault(),ge("secondary"),_("ArrowRight: from content â†’ secondary (focus secondary)"),be(J.current,"from-content"),X(!1),setTimeout(()=>Y(re.current),10));return}}if(_e==="ArrowLeft"){if(Se||ue==="secondary"){pe.preventDefault(),_("ArrowLeft: from secondary â†’ content (focus content)"),be(re.current,"from-secondary"),H(!1),ne();return}if(de||ue==="content"){pe.preventDefault(),ge("nav"),_("ArrowLeft: from content â†’ nav (focus nav item)",{navFocusedIndex:Pe}),ae.current=Pe,be(J.current,"from-content"),X(!1),ke(Pe);return}}if((_e==="Enter"||_e===" ")&&(we||ue==="nav")){pe.preventDefault();const Me=te.current,qe=Me?Array.from(Me.querySelectorAll("[data-nav-item]")):[];let at=ae.current??Pe;if(qe.length){const Mt=document.activeElement,lt=Mt?qe.indexOf(Mt):-1;lt>=0&&(at=lt)}at=Math.max(0,Math.min(at,qe.length-1)),Te(at),ae.current=at,_("Root: Enter/Space activate from nav context",{idx:at}),W(p(e[at])),ge("content"),he.current="content",fe.current=!0,me(),ne();return}},et=()=>{const pe=()=>{fe.current=!1,q.current=!1},je=Re=>{if(!te.current)return;const Ve=Array.from(te.current.querySelectorAll("[data-nav-item]"));if(Ve.length){if(Re.key==="ArrowDown"){Re.preventDefault(),Re.stopPropagation(),q.current=!1,ge("nav");const Ke=ae.current??Pe,Le=Math.min(Ve.length-1,Ke+1);Te(Le),ae.current=Le,ke(Le),_("PrimaryNav: ArrowDown",{from:Ke,to:Le})}else if(Re.key==="ArrowUp"){Re.preventDefault(),Re.stopPropagation(),q.current=!1,ge("nav");const Ke=ae.current??Pe,Le=Math.max(0,Ke-1);Te(Le),ae.current=Le,ke(Le),_("PrimaryNav: ArrowUp",{from:Ke,to:Le})}else if(Re.key==="Home"){Re.preventDefault(),Re.stopPropagation(),q.current=!1;const Ke=0;Te(Ke),ae.current=Ke,ke(Ke),_("PrimaryNav: Home",{to:Ke})}else if(Re.key==="End"){Re.preventDefault(),Re.stopPropagation(),q.current=!1;const Ke=Ve.length-1;Te(Ke),ae.current=Ke,ke(Ke),_("PrimaryNav: End",{to:Ke})}}},_e=Re=>{},Ce=Re=>{if(Re.key!=="Enter"&&Re.key!==" "||!te.current)return;const Ve=Array.from(te.current.querySelectorAll("[data-nav-item]"));if(!Ve.length)return;Re.preventDefault();let Ke=-1;const ye=Re.target?.closest?.("[data-nav-item]");ye&&(Ke=Ve.indexOf(ye)),Ke<0&&(Ke=ae.current??Pe),Ke=Math.max(0,Math.min(Ke,Ve.length-1)),Te(Ke),ae.current=Ke,_("PrimaryNav: Enter/Space activate (capture)",{idx:Ke}),W(p(e[Ke])),ge("content"),he.current="content",fe.current=!0,ce.current!=null&&(clearTimeout(ce.current),ce.current=null),me(),ne()},Xe=Re=>{if(Re.defaultPrevented)return;fe.current=!1;const Ve=Re.target;if(!Ve)return;const Ke=Ve.closest("[data-nav-item]");if(!Ke||!te.current||!te.current.contains(Ke))return;const ye=Array.from(te.current.querySelectorAll("[data-nav-item]")).indexOf(Ke);ye<0||(Te(ye),ae.current=ye,_("PrimaryNav: click delegate activate",{idx:ye}),W(p(e[ye])),ge("content"),me(),ce.current!=null&&(clearTimeout(ce.current),ce.current=null),ne())};return l.jsx("ul",{ref:te,className:"nhsfdp-primary-nav",role:"listbox","aria-activedescendant":String(p(e[Math.max(0,Pe)])),onKeyDownCapture:Ce,onKeyDown:je,onKeyUp:_e,onPointerDown:pe,onMouseDown:pe,onClick:Xe,children:e.map((Re,Ve)=>{const Ke=p(Re),Le=Ve===v,ye=ue==="nav"&&Ve===Pe;return l.jsx("li",{id:String(Ke),role:"option","aria-selected":Le,children:l.jsx("button",{"data-nav-item":!0,tabIndex:ye?0:-1,type:"button",className:"nhsfdp-primary-nav__item"+(Le?" is-current":"")+(ye?" is-focused":""),"aria-current":Le?"step":void 0,onPointerDown:pe,onMouseDown:pe,onKeyDown:we=>{if(we.key==="Enter"||we.key===" "){if(we.preventDefault(),q.current){q.current=!1;return}ae.current=Ve,fe.current=!0,_("NavItem: onKeyDown activate",{i:Ve,id:String(p(e[Ve]))}),W(p(e[Ve])),ge("content"),he.current="content",ce.current!=null&&(clearTimeout(ce.current),ce.current=null),me(),ne()}},onKeyUp:we=>{if(we.key==="Enter"||we.key===" "){if(q.current){q.current=!1;return}ae.current=Ve,_("NavItem: onKeyUp activate (fallback)",{i:Ve,id:String(p(e[Ve]))}),W(p(e[Ve])),ge("content"),he.current="content",ce.current!=null&&(clearTimeout(ce.current),ce.current=null),me(),ne()}},onClick:we=>{if(fe.current){fe.current=!1,we.preventDefault(),we.stopPropagation(),_("NavItem: ignored synthetic click after keyboard activation",{i:Ve});return}Te(Ve),ae.current=Ve,_("NavItem: onClick select",{i:Ve,id:String(Ke)}),W(Ke),ge("content"),he.current="content",ce.current!=null&&(clearTimeout(ce.current),ce.current=null),me(),ne()},children:Re.label})},String(Ke))})})},Ue=()=>{const pe=Math.max(0,v),je=pe>0,_e=pe<e.length-1,Ce=m?m(x):y?y(x):!0;return l.jsxs("div",{className:"nhsfdp-workflow-mobile",children:[G==="tablet"?T:null,Ce&&l.jsxs("div",{className:"nhsfdp-mobile-controls","aria-label":"Step navigation",children:[je?l.jsx(Di,{element:"button",text:"Back",onClick:()=>{const Xe=e[pe-1];Xe&&W(p(Xe))}}):l.jsx(Di,{element:"button",text:"Back","aria-hidden":"true",style:{visibility:"hidden"}}),_e?l.jsx(wa,{element:"button",text:"Next",onClick:()=>{const Xe=e[pe+1];Xe&&W(p(Xe))}}):l.jsx(wa,{element:"button",text:"Next","aria-hidden":"true",style:{visibility:"hidden"}})]}),l.jsx(Rw,{steps:e,currentIndex:pe,onNavigate:Xe=>{const Re=e[Xe];Re&&W(p(Re))},renderCard:(Xe,Re,Ve)=>s?s(Xe):a(Xe)})]})},dt=pe=>l.jsx("div",{className:"nhsfdp-workflow-grid panes-"+(pe.panes??2),onKeyDown:Ne,ref:z,role:"grid","aria-rowcount":1,"aria-colcount":(pe.showPrimaryNav?1:0)+1+(pe.showSecondaryNav?1:0),"aria-label":"Workflow layout",children:l.jsxs("div",{className:"nhsfdp-workflow-body",role:"row",children:[pe.showPrimaryNav&&l.jsx("aside",{ref:oe,className:"nhsfdp-pane primary-nav"+(Z?" is-active-pane":""),"aria-label":"Primary navigation",role:"gridcell",tabIndex:0,onFocus:je=>{je.target===oe.current&&P(!0)},onBlur:je=>{je.target===oe.current&&P(!1)},children:l.jsx("section",{role:"complementary","aria-label":"Primary navigation",children:l.jsx(et,{})})}),l.jsxs("main",{ref:J,className:"nhsfdp-pane content"+(R?" is-active-pane":""),"aria-live":"polite",role:"gridcell",tabIndex:0,onFocus:je=>{je.target===J.current&&X(!0)},onBlur:je=>{je.target===J.current&&X(!1)},children:[T,l.jsx("div",{role:"main",children:a(x,F)})]}),(()=>{const je=u?u(x,D,F,Xe=>K(Xe)):D&&D.length>0?l.jsx("ul",{className:"nhsfdp-secondary-nav",role:"listbox","aria-label":"Sections",children:D.map(Xe=>{const Re=L===Xe.id;return l.jsx("li",{role:"option","aria-selected":Re,children:l.jsx("button",{type:"button",className:"nhsfdp-secondary-nav__item"+(Re?" is-current":""),"data-sec-item":!0,onClick:()=>K(Xe.id),children:Xe.label})},String(Xe.id))})}):void 0,_e=c?.(x,F);return pe.showSecondaryNav&&(je||_e)?l.jsx("aside",{ref:re,className:"nhsfdp-pane secondary-nav"+(B?" is-active-pane":""),"aria-label":"Secondary navigation",role:"gridcell",tabIndex:0,onFocus:Xe=>{Xe.target===re.current&&H(!0)},onBlur:Xe=>{Xe.target===re.current&&H(!1)},children:l.jsxs("section",{role:"complementary","aria-label":"Secondary navigation",children:[je,_e]})}):null})()]})});return Q?G==="mobile"||!h&&G==="tablet"||(U.panes??1)===1?l.jsx("div",{className:"nhsfdp-workflow "+(f??""),children:Ue()}):l.jsx("div",{className:"nhsfdp-workflow "+(f??""),children:dt(U)}):l.jsx("div",{className:"nhsfdp-workflow "+(f??""),children:l.jsx("div",{className:"nhsfdp-workflow-body",children:l.jsxs("main",{className:"nhsfdp-pane content",children:[d?d({steps:e,current:x,onNavigate:W}):null,x?a(x,x?.sections?.find(pe=>pe.id===(N?.(x)??x?.sections?.[0]?.id))):null]})})})}const Ww=typeof window<"u"&&window.document?ie.useLayoutEffect:ie.useEffect,lp=(t,e,n,r)=>t==null||Number.isNaN(t)?r:Math.min(n,Math.max(e,t)),Gw=({item:t,maxLines:e,enableDrilldown:n,onExpand:r,isActive:i,topLaneIndex:o})=>{const{ariaLabel:s}=t,a=`${t._pxLeft}px`,c=`${t._pxWidth}px`,u=`calc((var(--roadmap-item-block-height) + var(--roadmap-row-gap)) * ${o})`,d=Math.floor(t._startFraction)+2,f=Math.max(1,Math.round(t._spanColumns)),p=n&&t.childItems&&t.childItems.length>0,h=m=>{p&&(m.preventDefault(),r?.(t))},y=p?{role:"button",tabIndex:0,"aria-haspopup":"dialog","aria-expanded":i||!1,onClick:h,onKeyDown:m=>{(m.key==="Enter"||m.key===" ")&&h(m),m.key==="Escape"&&i&&h(m)}}:{};return l.jsxs("div",{className:Ie("nhsuk-product-roadmap__item",p&&"nhsuk-product-roadmap__item--expandable",i&&"nhsuk-product-roadmap__item--active"),style:{left:a,width:c,top:u,"--item-height":e},role:"gridcell","aria-label":s,"aria-colindex":d,"aria-colspan":f,...y,children:[l.jsx("div",{className:"nhsuk-product-roadmap__item-bg","aria-hidden":"true"}),l.jsxs("div",{className:"nhsuk-product-roadmap__item-content",children:[l.jsx("span",{className:"nhsuk-product-roadmap__item-title",children:t.title}),p&&l.jsx("span",{className:Ie("nhsuk-product-roadmap__item-expander",i&&"nhsuk-product-roadmap__item-expander--open"),"aria-hidden":"true"})]})]})},cp=$.memo(({dateHeadings:t,categories:e,columnWidthPx:n=400,itemMaxLines:r=2,className:i,ariaLabel:o="Product roadmap",enableDrilldown:s=!1,onToggleItem:a,drilldownMode:c="overlay",...u})=>{const[d,f]=$.useState(()=>new Set),[p,h]=$.useState(()=>new Set),y=$.useRef(new Set),m=$.useCallback(I=>d.has(I),[d]),g=$.useCallback(I=>{f(O=>{const E=new Set(O);return E.has(I.id)?(E.delete(I.id),h(L=>{const D=new Set(L);return D.add(I.id),D}),setTimeout(()=>h(L=>{const D=new Set(L);return D.delete(I.id),D}),240),a?.(I.id,!1)):(E.add(I.id),a?.(I.id,!0)),E})},[a]);Ww(()=>{if(c!=="inline"||!s||typeof document>"u")return;const I=[];if(d.forEach(D=>{y.current.has(D)||I.push(D)}),y.current=new Set(d),!I.length)return;const O=typeof window<"u"&&typeof window.matchMedia=="function"?window.matchMedia("(prefers-reduced-motion: reduce)").matches:!1,E=I.map(D=>`.nhsuk-product-roadmap__inline-children[data-parent="${D}"] .nhsuk-product-roadmap__inline-child`).join(","),L=Array.from(document.querySelectorAll(E));if(L.length){if(O){L.forEach(D=>{D.style.opacity="1",D.style.transform="translateY(0)"});return}Promise.resolve().then(()=>S1).then(D=>{(D.gsap||D.default||D).to(L,{opacity:1,y:0,duration:.32,ease:"power2.out",stagger:.05})}).catch(()=>{L.forEach(D=>{D.style.opacity="1",D.style.transform="translateY(0)"})})}},[d,c,s]);const N=$.useCallback(()=>{d.size&&f(new Set)},[d]),M=Ie("nhsuk-product-roadmap",i),j=lp(n,120,1200,400),_=lp(r,1,6,2),b=$.useMemo(()=>t.map(I=>new Date(I+" 01")),[t]),S=$.useMemo(()=>{if(b.length===0){const E=new Date;return[E,E]}const I=new Date(b[0]),O=ko.offset(new Date(b[b.length-1]),1);return[I,O]},[b]),C=$.useMemo(()=>kc().domain(S).range([0,b.length*j]),[S,b.length,j]),k=$.useCallback(I=>{if(I.startDate){const W=new Date(I.startDate),T=new Date(I.endDate??I.startDate);T<W&&T.setTime(W.getTime());const Q=C(W),G=ko.offset(new Date(T),1);let U=C(G);Number.isFinite(U)||(U=Q+j);const ee=Math.max(j*.25,U-Q),z=Q/j,oe=ee/j;return{...I,_pxLeft:Q,_pxWidth:ee,_startFraction:z,_spanColumns:oe}}const O=I.date??1,E=I.dateOffset??0,L=I.length??1,D=I.partialLength??1,F=O-1+E,K=L-1+D;return{...I,_pxLeft:F*j,_pxWidth:K*j,_startFraction:F,_spanColumns:K}},[C,j]),v=$.useMemo(()=>e.map(I=>{const E=I.roadmapItems.map(D=>{const F=!D.childItems&&D.children?{...D,childItems:D.children}:{...D};return k(F)}).sort((D,F)=>D._pxLeft!==F._pxLeft?D._pxLeft-F._pxLeft:F._pxWidth-D._pxWidth),L=[];return E.forEach(D=>{const F=D._pxLeft,K=D._pxLeft+D._pxWidth;let W=L.findIndex(T=>T<=F);W===-1&&(W=L.length,L.push(0)),L[W]=K,D.verticalPosition=W+1}),{...I,roadmapItems:E,_laneCount:L.length}}),[e,k]),x=$.useMemo(()=>v.map(I=>I._laneCount||1),[v]),A=$.useMemo(()=>`var(--category-width) ${t.map(()=>"var(--column-width)").join(" ")}`,[t]);return l.jsxs("div",{className:M,style:{"--column-width":`${j}px`,gridTemplateColumns:A},role:"grid","aria-label":o,"aria-colcount":t.length+1,"aria-rowcount":v.length+1,...u,children:[l.jsxs("div",{className:"nhsuk-product-roadmap__header-row",role:"row","aria-rowindex":1,children:[l.jsx("div",{className:"nhsuk-product-roadmap__header-cell",role:"columnheader","aria-colindex":1,children:l.jsx("span",{className:"nhsuk-visually-hidden",children:"Category"})}),t.map((I,O)=>l.jsx("div",{className:"nhsuk-product-roadmap__date-heading",role:"columnheader","aria-colindex":O+2,children:I},`${I}-${O}`))]}),v.map((I,O)=>{const E=O+2,L=x[O];let D,F=0,K=[];s&&c==="inline"&&(K=I.roadmapItems.filter(G=>m(G.id)&&G.childItems&&G.childItems.length).map(G=>({id:G.id,lane:G.verticalPosition||1,count:G.childItems.length})).sort((G,U)=>G.lane-U.lane),F=K.reduce((G,U)=>G+U.count,0));const W=L+F;D=`calc((${W} * var(--roadmap-item-block-height)) + (max(0, ${W} - 1) * var(--roadmap-row-gap)))`;const T={};let Q=0;return K.forEach(G=>{Q+=G.count,T[G.lane+1]=Q}),l.jsxs("div",{className:"nhsuk-product-roadmap__row",role:"row","aria-rowindex":E,children:[l.jsx("div",{className:"nhsuk-product-roadmap__category-cell",role:"rowheader","aria-colindex":1,children:I.heading}),l.jsx("div",{className:"nhsuk-product-roadmap__items-row",style:{gridColumn:`2 / span ${t.length}`,height:D},children:l.jsx("div",{className:"nhsuk-product-roadmap__items-layer",children:I.roadmapItems.map((G,U)=>{const ee=(G.verticalPosition||1)-1,z=K.filter(te=>te.lane-1<ee).reduce((te,ae)=>te+ae.count,0),oe=ee+z,J=m(G.id),re=p.has(G.id);return l.jsxs($.Fragment,{children:[l.jsx(Gw,{item:G,maxLines:_,enableDrilldown:s,onExpand:g,isActive:J,topLaneIndex:oe,laneOffset:z}),s&&c==="inline"&&(J||re)&&G.childItems&&l.jsx("div",{"data-parent":G.id,className:"nhsuk-product-roadmap__inline-children","aria-label":`${G.title} child tasks`,children:G.childItems.map((te,ae)=>{const fe="calc(var(--roadmap-item-block-height) * 0.75)";let q=G._pxLeft,ce=G._pxWidth;if(te.startDate){const he=new Date(te.startDate);let V=te.endDate?new Date(te.endDate):new Date(he);V<he&&(V=new Date(he));const Ee=new Date(V);Ee.setDate(Ee.getDate()+1);const Pe=C(he);let Te=C(Ee);(!Number.isFinite(Te)||Te<=Pe)&&(Te=Pe+6),q=Pe,ce=Math.max(6,Te-Pe)}const ge=oe+1+ae;return l.jsxs("div",{className:Ie("nhsuk-product-roadmap__inline-child",te.status&&`nhsuk-product-roadmap__inline-child--status-${te.status}`,!J&&re&&"nhsuk-product-roadmap__inline-child--collapsing"),style:{left:`${q}px`,width:`${ce}px`,top:`calc((var(--roadmap-item-block-height) + var(--roadmap-row-gap)) * ${ge})`,height:fe,opacity:J?0:void 0,transform:J?"translateY(-6px)":void 0},children:[l.jsx("div",{className:"nhsuk-product-roadmap__inline-child-bg"}),l.jsx("div",{className:"nhsuk-product-roadmap__inline-child-content",children:te.title})]},te.id??ae)})})]},G.id??U)})})})]},`${I.heading}-${O}`)}),s&&c==="overlay"&&d.size===1&&(()=>{const I=Array.from(d)[0],O=e.flatMap(E=>E.roadmapItems).find(E=>E.id===I);return!O||!O.childItems?null:l.jsxs("div",{className:"nhsuk-product-roadmap__drilldown-overlay",role:"dialog","aria-modal":"true","aria-label":`${O.title} details`,children:[l.jsxs("div",{className:"nhsuk-product-roadmap__drilldown-panel",children:[l.jsxs("header",{className:"nhsuk-product-roadmap__drilldown-header",children:[l.jsx("h3",{className:"nhsuk-product-roadmap__drilldown-title",children:O.title}),l.jsx("button",{type:"button",className:"nhsuk-product-roadmap__drilldown-close",onClick:N,"aria-label":"Close details",children:"Ã—"})]}),l.jsx("div",{className:"nhsuk-product-roadmap__drilldown-content",children:O.content}),l.jsx("ul",{className:"nhsuk-product-roadmap__drilldown-children",children:O.childItems.map((E,L)=>l.jsxs("li",{className:"nhsuk-product-roadmap__drilldown-child",children:[l.jsx("strong",{className:"nhsuk-product-roadmap__drilldown-child-title",children:E.title}),E.content&&l.jsx("div",{className:"nhsuk-product-roadmap__drilldown-child-content",children:E.content})]},E.id??L))})]}),l.jsx("div",{className:"nhsuk-product-roadmap__drilldown-backdrop",onClick:N,"aria-hidden":"true"})]})})()]})});cp.displayName="ProductRoadmap";function up(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=up(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function ka(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=up(t))&&(r&&(r+=" "),r+=e);return r}function Wt(t){return function(){return t}}const $c=Math.PI,Bc=2*$c,ii=1e-6,Yw=Bc-ii;function dp(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function Vw(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return dp;const n=10**e;return function(r){this._+=r[0];for(let i=1,o=r.length;i<o;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class Zw{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?dp:Vw(e)}moveTo(e,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,n){this._append`L${this._x1=+e},${this._y1=+n}`}quadraticCurveTo(e,n,r,i){this._append`Q${+e},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(e,n,r,i,o,s){this._append`C${+e},${+n},${+r},${+i},${this._x1=+o},${this._y1=+s}`}arcTo(e,n,r,i,o){if(e=+e,n=+n,r=+r,i=+i,o=+o,o<0)throw new Error(`negative radius: ${o}`);let s=this._x1,a=this._y1,c=r-e,u=i-n,d=s-e,f=a-n,p=d*d+f*f;if(this._x1===null)this._append`M${this._x1=e},${this._y1=n}`;else if(p>ii)if(!(Math.abs(f*c-u*d)>ii)||!o)this._append`L${this._x1=e},${this._y1=n}`;else{let h=r-s,y=i-a,m=c*c+u*u,g=h*h+y*y,N=Math.sqrt(m),M=Math.sqrt(p),j=o*Math.tan(($c-Math.acos((m+p-g)/(2*N*M)))/2),_=j/M,b=j/N;Math.abs(_-1)>ii&&this._append`L${e+_*d},${n+_*f}`,this._append`A${o},${o},0,0,${+(f*h>d*y)},${this._x1=e+b*c},${this._y1=n+b*u}`}}arc(e,n,r,i,o,s){if(e=+e,n=+n,r=+r,s=!!s,r<0)throw new Error(`negative radius: ${r}`);let a=r*Math.cos(i),c=r*Math.sin(i),u=e+a,d=n+c,f=1^s,p=s?i-o:o-i;this._x1===null?this._append`M${u},${d}`:(Math.abs(this._x1-u)>ii||Math.abs(this._y1-d)>ii)&&this._append`L${u},${d}`,r&&(p<0&&(p=p%Bc+Bc),p>Yw?this._append`A${r},${r},0,1,${f},${e-a},${n-c}A${r},${r},0,1,${f},${this._x1=u},${this._y1=d}`:p>ii&&this._append`A${r},${r},0,${+(p>=$c)},${f},${this._x1=e+r*Math.cos(o)},${this._y1=n+r*Math.sin(o)}`)}rect(e,n,r,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function fp(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(n==null)e=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);e=r}return t},()=>new Zw(e)}function hp(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function pp(t){this._context=t}pp.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function mp(t){return new pp(t)}function gp(t){return t[0]}function yp(t){return t[1]}function bp(t,e){var n=Wt(!0),r=null,i=mp,o=null,s=fp(a);t=typeof t=="function"?t:t===void 0?gp:Wt(t),e=typeof e=="function"?e:e===void 0?yp:Wt(e);function a(c){var u,d=(c=hp(c)).length,f,p=!1,h;for(r==null&&(o=i(h=s())),u=0;u<=d;++u)!(u<d&&n(f=c[u],u,c))===p&&((p=!p)?o.lineStart():o.lineEnd()),p&&o.point(+t(f,u,c),+e(f,u,c));if(h)return o=null,h+""||null}return a.x=function(c){return arguments.length?(t=typeof c=="function"?c:Wt(+c),a):t},a.y=function(c){return arguments.length?(e=typeof c=="function"?c:Wt(+c),a):e},a.defined=function(c){return arguments.length?(n=typeof c=="function"?c:Wt(!!c),a):n},a.curve=function(c){return arguments.length?(i=c,r!=null&&(o=i(r)),a):i},a.context=function(c){return arguments.length?(c==null?r=o=null:o=i(r=c),a):r},a}function Oc(t,e,n){var r=null,i=Wt(!0),o=null,s=mp,a=null,c=fp(u);t=typeof t=="function"?t:t===void 0?gp:Wt(+t),e=typeof e=="function"?e:Wt(e===void 0?0:+e),n=typeof n=="function"?n:n===void 0?yp:Wt(+n);function u(f){var p,h,y,m=(f=hp(f)).length,g,N=!1,M,j=new Array(m),_=new Array(m);for(o==null&&(a=s(M=c())),p=0;p<=m;++p){if(!(p<m&&i(g=f[p],p,f))===N)if(N=!N)h=p,a.areaStart(),a.lineStart();else{for(a.lineEnd(),a.lineStart(),y=p-1;y>=h;--y)a.point(j[y],_[y]);a.lineEnd(),a.areaEnd()}N&&(j[p]=+t(g,p,f),_[p]=+e(g,p,f),a.point(r?+r(g,p,f):j[p],n?+n(g,p,f):_[p]))}if(M)return a=null,M+""||null}function d(){return bp().defined(i).curve(s).context(o)}return u.x=function(f){return arguments.length?(t=typeof f=="function"?f:Wt(+f),r=null,u):t},u.x0=function(f){return arguments.length?(t=typeof f=="function"?f:Wt(+f),u):t},u.x1=function(f){return arguments.length?(r=f==null?null:typeof f=="function"?f:Wt(+f),u):r},u.y=function(f){return arguments.length?(e=typeof f=="function"?f:Wt(+f),n=null,u):e},u.y0=function(f){return arguments.length?(e=typeof f=="function"?f:Wt(+f),u):e},u.y1=function(f){return arguments.length?(n=f==null?null:typeof f=="function"?f:Wt(+f),u):n},u.lineX0=u.lineY0=function(){return d().x(t).y(e)},u.lineY1=function(){return d().x(t).y(n)},u.lineX1=function(){return d().x(r).y(e)},u.defined=function(f){return arguments.length?(i=typeof f=="function"?f:Wt(!!f),u):i},u.curve=function(f){return arguments.length?(s=f,o!=null&&(a=s(o)),u):s},u.context=function(f){return arguments.length?(f==null?o=a=null:a=s(o=f),u):o},u}function vp(t){return t<0?-1:1}function xp(t,e,n){var r=t._x1-t._x0,i=e-t._x1,o=(t._y1-t._y0)/(r||i<0&&-0),s=(n-t._y1)/(i||r<0&&-0),a=(o*i+s*r)/(r+i);return(vp(o)+vp(s))*Math.min(Math.abs(o),Math.abs(s),.5*Math.abs(a))||0}function _p(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function Rc(t,e,n){var r=t._x0,i=t._y0,o=t._x1,s=t._y1,a=(o-r)/3;t._context.bezierCurveTo(r+a,i+a*e,o-a,s-a*n,o,s)}function Ca(t){this._context=t}Ca.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Rc(this,this._t0,_p(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,Rc(this,_p(this,n=xp(this,t,e)),n);break;default:Rc(this,this._t0,n=xp(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}},Object.create(Ca.prototype).point=function(t,e){Ca.prototype.point.call(this,e,t)};function Na(t){return new Ca(t)}function qw(t,e,n){const r=Bf(t,e);return kc().domain(r).range(n)}function wp(t,e,n){const[r,i]=Bf(t,e);if(!(Number.isFinite(r)&&Number.isFinite(i)))return da().domain([0,0]).range(n);let s;if(r<=0)s=Math.min(0,r);else{const c=i-r,u=(c>0?c:r)*.1;s=Math.max(0,r-u),s===r&&(s=Math.max(0,r*.9))}const a=i??0;return da().domain([s,a]).nice().range(n)}function zc(t,e,n,r){const i=bp().x(e).y(n);return r?.smooth!==!1&&i.curve(Na),i(t)??""}function Xw(t={}){const e=ie.useRef(null),n=ie.useMemo(()=>({top:t.top??16,right:t.right??16,bottom:t.bottom??32,left:t.left??48}),[t.bottom,t.left,t.right,t.top]),[r,i]=ie.useState({width:0,height:0});ie.useLayoutEffect(()=>{if(!e.current)return;const a=new ResizeObserver(c=>{for(const u of c){const{width:d,height:f}=u.contentRect;i({width:d,height:f})}});return a.observe(e.current),()=>a.disconnect()},[]);const o=Math.max(0,r.width-n.left-n.right),s=Math.max(0,r.height-n.top-n.bottom);return{width:r.width,height:r.height,innerWidth:o,innerHeight:s,margin:n,ref:e}}const Sp=ie.createContext(null);function Pr(){return ie.useContext(Sp)}const kp=({height:t=240,margin:e,width:n,className:r="fdp-chart",children:i,role:o="group",ariaLabel:s})=>{const a=Xw(e),c={height:t,position:"relative"};return n!==void 0&&(c.width=typeof n=="number"?`${n}px`:n),l.jsx("div",{ref:a.ref,className:r,style:c,role:o,"aria-label":s,children:l.jsx(Sp.Provider,{value:a,children:i})})},Hc=ie.createContext(null),oi=()=>ie.useContext(Hc),Cp=({series:t,innerWidth:e,innerHeight:n,parseX:r,children:i,xTickCount:o=6,yTickCount:s=5,yDomain:a,xPadding:c,yPadding:u,yBottomGapPx:d})=>{const f=Pr(),p=e??f?.innerWidth??0,h=n??f?.innerHeight??0,y=ie.useMemo(()=>t.flatMap(b=>b.data),[t]),m=ie.useCallback(b=>{if(r)return r(b);const S=b.x;return S instanceof Date?S:new Date(S)},[r]),g=c??6,N=u??6,M=ie.useMemo(()=>qw(y,m,[g,Math.max(0,p-g)]),[y,m,p,g]),j=ie.useMemo(()=>{const b=Math.max(0,d??0),S=Math.max(0,h-(N+b));if(a){const C=wp([],k=>k.y,[S,N]);return C.domain(a),C}return wp(y,C=>C.y,[S,N])},[y,h,a,N,d]),_=ie.useMemo(()=>({xScale:M,yScale:j,getXTicks:(b=o)=>M.ticks(b),getYTicks:(b=s)=>j.ticks(b)}),[M,j,o,s]);return l.jsx(Hc.Provider,{value:_,children:i})},Io=16,Lo=6,Np=16,Mp=4,Tp=6,jp=3,Dp=void 0,Uc=({type:t,scale:e,tickCount:n,tickValues:r,formatTick:i,label:o,offset:s,className:a,minLabelSpacing:c,maxTickLabelLength:u,autoMinLabelSpacing:d=t==="x",labelAngle:f=0,allowLabelWrap:p=!0,tickFormatPreset:h,yZeroBreak:y})=>{const m=oi(),g=Pr(),N=e||(t==="x"?m?.xScale:m?.yScale),M=n??(t==="x"?6:5),j=typeof i=="function",_=ie.useMemo(()=>{if(j||!h)return;const C=k=>new Intl.DateTimeFormat(void 0,k);switch(h){case"dayShortMonth":return k=>{const v=k instanceof Date?k:new Date(k);return`${v.getDate()}
${C({month:"short"}).format(v)}`};case"dayShortMonthYear":return k=>{const v=k instanceof Date?k:new Date(k);return`${v.getDate()}
${C({month:"short"}).format(v)} ${v.getFullYear()}`};case"shortMonth":return k=>{const v=k instanceof Date?k:new Date(k);return C({month:"short"}).format(v)};case"shortMonthYear":return k=>{const v=k instanceof Date?k:new Date(k);return`${C({month:"short"}).format(v)} ${v.getFullYear()}`};case"hourMinute":return k=>{const v=k instanceof Date?k:new Date(k);return C({hour:"2-digit",minute:"2-digit"}).format(v)};default:return}},[j,h]);let b=j?i:_||(C=>String(C));const S=ie.useMemo(()=>r&&Array.isArray(r)?r:N?typeof N.ticks=="function"?N.ticks(M):N.domain?N.domain():[]:[],[N,M,r]);if(t==="x"&&!j&&!h&&S.length&&S.every(C=>C instanceof Date)){const C=S[0],k=S[S.length-1],v=k.getTime()-C.getTime(),x=24*3600*1e3,A=365*x,I=C.getFullYear()===k.getFullYear(),O=new Intl.DateTimeFormat(void 0,{month:"short"});if(v<2*x){const E=new Intl.DateTimeFormat(void 0,{hour:"2-digit",minute:"2-digit"});b=L=>E.format(L)}else if(v<32*x)b=E=>{const L=E;return`${L.getDate()} ${O.format(L)}`};else if(v<A&&I)b=E=>O.format(E);else if(v<2*A){const E=new Set;b=L=>{const D=L,F=D.getMonth();return E.has(F)||E.add(F),`${O.format(D)} ${D.getFullYear()}`}}else b=E=>String(E.getFullYear())}if(!N||!g)return null;if(t==="x"){const C=s??g.innerHeight,k=typeof N.bandwidth=="function",v=k?N.bandwidth():0,x=O=>{const E=N(O);return k?E+v/2:E};let A=c??0;if(d&&c==null){const O=S.map(L=>b(L).replace(/\n.*/g,"")),E=O.length?O.reduce((L,D)=>L+D.length,0)/O.length:0;A=Math.max(12,Math.round(E*6+4))}const I=ie.useMemo(()=>{if(r&&Array.isArray(r)||A<=0)return S;const O=[];let E=-1/0;for(const L of S){const D=x(L);D-E>=A&&(O.push(L),E=D)}return O},[S,N,A,r,k,v]);return l.jsxs("g",{className:["fdp-axis","fdp-axis--x",a].filter(Boolean).join(" "),transform:`translate(0,${C})`,fontFamily:"var(--nhs-fdp-font-family-base, var(--fdp-chart-font-family))",children:[l.jsx("line",{x1:0,x2:g.innerWidth,y1:0,y2:0,stroke:"currentColor"}),I.map((O,E)=>{const L=b(O),D=u&&L.length>u?L.slice(0,Math.max(1,u-1))+"â€¦":L,F=p?D.split(/\n/):[D.replace(/\n/g," ")],K=f<0?"end":f>0?"start":"middle";return l.jsxs("g",{transform:`translate(${x(O)},0)`,children:[l.jsx("line",{y2:6,stroke:"currentColor"}),l.jsxs("text",{y:9,textAnchor:K,className:"fdp-axis__tick",dominantBaseline:"hanging",transform:f?`rotate(${f})`:void 0,fontFamily:"inherit",children:[F.map((W,T)=>l.jsx("tspan",{x:0,dy:T===0?0:"1.1em",children:W},T)),D!==L&&l.jsx("title",{children:L})]})]},O?.toString?.()||E)})]})}return l.jsxs("g",{className:["fdp-axis","fdp-axis--y",a].filter(Boolean).join(" "),fontFamily:"var(--nhs-fdp-font-family-base, var(--fdp-chart-font-family))",children:[(()=>{const C=!!y?.enabled,k=Math.max(Lo,y?.gapPx??Io);if(!C)return l.jsx("line",{x1:0,x2:0,y1:0,y2:g.innerHeight,stroke:"currentColor"});const v=Math.max(0,g.innerHeight-k);return l.jsx("line",{x1:0,x2:0,y1:0,y2:v,stroke:"currentColor"})})(),S.map((C,k)=>{const v=b(C),x=u&&v.length>u?v.slice(0,Math.max(1,u-1))+"â€¦":v,A=p?x.split(/\n/):[x.replace(/\n/g," ")];if(!!y?.enabled){const O=Math.max(Lo,y?.gapPx??Io),E=Math.max(0,g.innerHeight-O);if(N(C)>E-1)return null}return l.jsxs("g",{transform:`translate(0,${N(C)})`,children:[l.jsx("line",{x2:-6,stroke:"currentColor"}),l.jsxs("text",{x:-9,dy:"0.32em",textAnchor:"end",className:"fdp-axis__tick",fontFamily:"inherit",children:[A.map((O,E)=>l.jsx("tspan",{x:-9,dy:E===0?0:"1.1em",children:O},E)),x!==v&&l.jsx("title",{children:v})]})]},C?.toString?.()||k)}),!!y?.enabled&&(()=>{const C=Math.max(Lo,y?.gapPx??Io),k=g.innerHeight,x=Math.max(0,k-C),A=x,O=Math.max(4,k-A),E=Mp,L=Tp,D=Math.max(1,Math.round(y?.zigZag?.amplitudePx??E)),F=Math.max(1,Math.round(y?.zigZag?.stepXPx??jp)),K=y?.zigZag?.heightPx??Dp,W=Math.max(4,Math.round(K??0));let T,Q;if(y?.zigZag?.heightPx&&y.zigZag.heightPx>0){const re=Math.max(4,Math.min(O-2,W));T=Math.max(1,Math.floor(re/(2*D))),Q=Math.max(0,Math.min(re,T*2*D))}else typeof y?.zigZag?.cycles=="number"&&y?.zigZag?.cycles>0?(T=Math.max(1,Math.round(y.zigZag.cycles)),Q=T*2*D,Q=Math.min(Q,O-2),T=Math.max(1,Math.floor(Q/(2*D)))):(T=L,Q=Math.min(O-2,T*2*D),T=Math.max(1,Math.floor(Q/(2*D))));const G=A+(O-Q)/2,U=G+Q;let ee="M0,0";const z=Q>0?Math.max(0,Math.floor((Q-D)/(2*D))):0,oe=Math.max(0,(Q-z*2*D)/2),J=D>0?F*(oe/D):0;oe>0&&(ee+=` l${J},${oe}`);for(let re=0;re<z;re++)ee+=` l-${F},${D} l${F},${D}`;return oe>0&&(ee+=` l-${J},${oe}`),l.jsxs("g",{children:[l.jsx("line",{x1:0,x2:0,y1:x,y2:G,stroke:"currentColor"}),l.jsx("g",{transform:`translate(0,${G})`,"aria-hidden":"true",children:l.jsx("path",{d:ee,stroke:"currentColor",fill:"none"})}),l.jsx("line",{x1:0,x2:0,y1:U,y2:k,stroke:"currentColor"}),l.jsx("g",{transform:`translate(0,${k})`,children:l.jsx("text",{x:-9,dy:"0.32em",textAnchor:"end",className:"fdp-axis__tick",fontFamily:"inherit",children:"0"})})]})})(),o&&l.jsx("text",{transform:"rotate(-90)",x:-g.innerHeight/2,y:-g.margin.left+12,textAnchor:"middle",className:"fdp-axis__label",fontFamily:"inherit",children:o})]})},Ip=({axis:t="y",tickCount:e,stroke:n="var(--fdp-chart-grid,#e5e5e5)",dasharray:r="2 4",className:i})=>{const o=oi(),s=Pr();if(!o||!s)return null;const a=t==="y"?o.getYTicks(e):o.getXTicks(e);return l.jsxs("g",{className:["fdp-grid",i].filter(Boolean).join(" "),children:[t==="y"&&a.map((c,u)=>l.jsx("line",{x1:0,x2:s.innerWidth,y1:o.yScale(c),y2:o.yScale(c),stroke:n,strokeDasharray:r},u)),t==="x"&&a.map((c,u)=>l.jsx("line",{y1:0,y2:s.innerHeight,x1:o.xScale(c),x2:o.xScale(c),stroke:n,strokeDasharray:r},u))]})},Po={color:{"data-viz":{$type:"color",categorical:{1:{$value:"{color.primary.blue}",$description:"Series 1 â€“ NHS Blue (brand core)"},2:{$value:"#41B6E6",$description:"Series 2 â€“ NHS Light Blue (new)"},3:{$value:"{color.secondary.aqua-green}",$description:"Series 3 â€“ NHS Aqua Green (existing)"},4:{$value:"#78BE20",$description:"Series 4 â€“ NHS Light Green (new)"},5:{$value:"{color.primary.green}",$description:"Series 5 â€“ NHS Green (existing)"},6:{$value:"{color.secondary.warm-yellow}",$description:"Series 6 â€“ NHS Warm Yellow (existing; distinct from focus yellow)"},7:{$value:"#ED4F00",$description:"Series 7 â€“ NHS Tangerine (new; warmer/deeper than existing orange)"},8:{$value:"{color.secondary.pink}",$description:"Series 8 â€“ NHS Pink (existing)"},9:{$value:"#E317AA",$description:"Series 9 â€“ NHS Bright Pink (new vivid accent)"},10:{$value:"#880FB8",$description:"Series 10 â€“ NHS Light Purple (new mid purple)"},11:{$value:"{color.primary.purple}",$description:"Series 11 â€“ NHS Purple (existing dark purple)"},12:{$value:"#9A6324",$description:"Series 12 â€“ NHS Brown (new; earth neutral)"}},neutral:{comparison:{$value:"{color.grey.1}",$description:"Neutral comparison series (optional)"}},region:{$comment:"Fixed colours for NHS geographical regions; prefer stable mapping for maps. London colour updated (#78BE21 â€“ light green).","north-east":{$value:"{color.primary.blue}",$description:"North East â€“ NHS Blue"},"north-west":{$value:"#41B6E6",$description:"North West â€“ NHS Light Blue"},"east-of-england":{$value:"{color.primary.purple}",$description:"East of England â€“ NHS Purple"},midlands:{$value:"{color.secondary.pink}",$description:"Midlands â€“ NHS Pink"},london:{$value:"#78BE21",$description:"London â€“ NHS Light Green (new)"},"south-west":{$value:"#FAE100",$description:"South West â€“ NHS Yellow variant (new)"},"south-east":{$value:"#ed8b00",$description:"South East â€“ NHS Orange (existing base orange)"}},severity:{$comment:"Semantic severity / alert colours (light background ramp â†’ critical).",low:{$value:"{color.secondary.pale-yellow}",$description:"Low severity â€“ pale yellow background"},moderate:{$value:"{color.secondary.warm-yellow}",$description:"Moderate severity â€“ warm yellow"},high:{$value:"{color.secondary.orange}",$description:"High severity â€“ orange"},critical:{$value:"{color.primary.red}",$description:"Critical severity â€“ red"}},"org-level":{$comment:"Organisational level semantic colours (stable NHS brand mappings).",trust:{$value:"{color.primary.blue}",$description:"Trust â€“ NHS Blue"},ambulance:{$value:"{color.primary.green}",$description:"Ambulance â€“ NHS Green"},icb:{$value:"{color.primary.dark-pink}",$description:"ICB â€“ NHS Dark Pink"},region:{$value:"{color.primary.purple}",$description:"Region â€“ NHS Purple"}},stroke:{$comment:"Automatic contrast stroke colours for overlays / borders. Light fills get dark stroke; dark fills get white stroke.",categorical:{1:{$value:"#ffffff",$description:"Stroke for series 1 (blue)"},2:{$value:"#212b32",$description:"Stroke for series 2 (light blue)"},3:{$value:"#212b32",$description:"Stroke for series 3 (aqua green)"},4:{$value:"#212b32",$description:"Stroke for series 4 (light green)"},5:{$value:"#ffffff",$description:"Stroke for series 5 (green)"},6:{$value:"#212b32",$description:"Stroke for series 6 (warm yellow)"},7:{$value:"#ffffff",$description:"Stroke for series 7 (tangerine)"},8:{$value:"#ffffff",$description:"Stroke for series 8 (pink)"},9:{$value:"#ffffff",$description:"Stroke for series 9 (bright pink)"},10:{$value:"#ffffff",$description:"Stroke for series 10 (light purple)"},11:{$value:"#ffffff",$description:"Stroke for series 11 (purple)"},12:{$value:"#ffffff",$description:"Stroke for series 12 (brown)"}},region:{$comment:"Region stroke colours derived from fill colours: dark fills lightened ~35%; light fills darkened ~25% for consistent contrast without defaulting to pure white/black.","north-east":{$value:"#5996D1",$description:"Stroke for North East (blue lightened 35%)"},"north-west":{$value:"#3189AD",$description:"Stroke for North West (light blue darkened 25%)"},"east-of-england":{$value:"#7A59A3",$description:"Stroke for East of England (purple lightened 35%)"},midlands:{$value:"#CA71A4",$description:"Stroke for Midlands (pink lightened 35%)"},london:{$value:"#5A8F19",$description:"Stroke for London (light green darkened 25%)"},"south-west":{$value:"#BCA900",$description:"Stroke for South West (yellow darkened 25%)"},"south-east":{$value:"#B26800",$description:"Stroke for South East (orange darkened 25%)"}},severity:{$comment:"Contrast strokes for severity colours (light backgrounds use dark stroke; dark backgrounds use white).",low:{$value:"#212b32",$description:"Stroke for low severity (pale yellow fill)"},moderate:{$value:"#212b32",$description:"Stroke for moderate severity (warm yellow fill)"},high:{$value:"#212b32",$description:"Stroke for high severity (orange fill)"},critical:{$value:"#ffffff",$description:"Stroke for critical severity (red fill)"}},"org-level":{$comment:"Contrast strokes for organisational level colours (all dark brand fills so white stroke for consistency).",trust:{$value:"#ffffff",$description:"Stroke for trust (blue fill)"},ambulance:{$value:"#ffffff",$description:"Stroke for ambulance (green fill)"},icb:{$value:"#ffffff",$description:"Stroke for ICB (dark pink fill)"},region:{$value:"#ffffff",$description:"Stroke for region (purple fill)"}}},spc:{$comment:"SPC (Statistical Process Control) semantic variation colours aligned to SPCChart.scss and SPCIcons.",improvement:{$value:"#00B0F0",$description:"SPC special cause improvement (favourable)"},concern:{$value:"#E46C0A",$description:"SPC special cause concern (deteriorating)"},"no-judgement":{$value:"#490092",$description:"SPC special cause (no directional judgement)"},"common-cause":{$value:"#A6A6A6",$description:"SPC common cause (baseline variation)"},"assurance-pass":{$value:"#00823B",$description:"SPC assurance pass indicator (process capable)"},"assurance-fail":{$value:"#DA291C",$description:"SPC assurance fail indicator (process not capable)"},gradient:{$comment:"Opacity stops for SPC icon gradient wash (applied top-left -> bottom-right). Consumers build gradients using these opacities + base colour.",stop:{"start-opacity":{$value:"0.18",$description:"Start stop opacity (0%) for classic variant wash"},"mid-opacity":{$value:"0.06",$description:"Mid stop opacity (~65-75%)"},"end-opacity":{$value:"0",$description:"End stop opacity (100%)"},"triangle-start-opacity":{$value:"0.18",$description:"Start opacity for triangle variants (kept aligned)"},"triangle-mid-opacity":{$value:"0.06",$description:"Mid opacity for triangle variants"},"triangle-end-opacity":{$value:"0",$description:"End opacity for triangle variants"}}},stroke:{$comment:"Contrast stroke colours for SPC variation fills.",improvement:{$value:"#000000",$description:"Stroke for improvement points"},concern:{$value:"#000000",$description:"Stroke for concern points"},"no-judgement":{$value:"#000000",$description:"Stroke for no-judgement points"},"common-cause":{$value:"#ffffff",$description:"Stroke for common cause points"},"assurance-pass":{$value:"#000000",$description:"Stroke for assurance pass points"},"assurance-fail":{$value:"#000000",$description:"Stroke for assurance fail points"}}}}}},Ma={color:{primary:{$type:"color",blue:{$value:"#005eb8",$description:"NHS Blue - Primary brand color"},"blue-active":{$value:"#002f5c",$description:"NHS Active Blue (50% shade) â€“ alias of button/login active; promoted for general reuse"},white:{$value:"#ffffff",$description:"NHS White"},black:{$value:"#212b32",$description:"NHS Black"},green:{$value:"#007f3b",$description:"NHS Green"},purple:{$value:"#330072",$description:"NHS Purple"},"dark-pink":{$value:"#7c2855",$description:"NHS Dark Pink"},red:{$value:"#d5281b",$description:"NHS Red"},"light-purple":{$value:"#880FB8",$description:"NHS Light Purple (data viz promoted)"},yellow:{$value:"#ffeb3b",$description:"NHS Yellow"}},secondary:{$type:"color","pale-yellow":{$value:"#fff9c4",$description:"NHS Pale Yellow"},"warm-yellow":{$value:"#ffb81c",$description:"NHS Warm Yellow"},"region-yellow":{$value:"#FAE100",$description:"NHS Region Yellow (maps)"},orange:{$value:"#ed8b00",$description:"NHS Orange"},tangerine:{$value:"#ED4F00",$description:"NHS Tangerine (data viz promoted)"},"aqua-green":{$value:"#00a499",$description:"NHS Aqua Green"},"light-blue":{$value:"#41B6E6",$description:"NHS Light Blue (data viz promoted)"},pink:{$value:"#ae2573",$description:"NHS Pink"},"bright-pink":{$value:"#E317AA",$description:"NHS Bright Pink (data viz promoted)"},"light-green":{$value:"#78BE20",$description:"NHS Light Green (data viz promoted)"},brown:{$value:"#9A6324",$description:"NHS Brown (data viz promoted neutral)"}},grey:{1:{$value:"#4c6272",$description:"NHS Grey 1 - Darkest grey"},2:{$value:"#768692",$description:"NHS Grey 2 - Darker grey"},3:{$value:"#aeb7bd",$description:"NHS Grey 3 - Medium grey"},4:{$value:"#d8dde0",$description:"NHS Grey 4 - Light grey"},5:{$value:"#f0f4f5",$description:"NHS Grey 5 - Lightest grey"},$type:"color"},accessibility:{$type:"color",$comment:"Accessibility-oriented color tokens. Includes CVD-safe pairs and Okabeâ€“Ito colors. Use these for positive/negative semantics and colour-blindâ€“friendly defaults.","okabe-ito":{green:{$value:"#009E73",$description:"Okabeâ€“Ito green (CVD-safe) â€“ recommended positive"},vermillion:{$value:"#D55E00",$description:"Okabeâ€“Ito vermillion / redâ€“orange (CVD-safe) â€“ recommended negative"}},"cvd-safe":{blue:{$value:"#1f77b4",$description:"CVD-safe blue (pairs with orange); widely used in Matplotlib/Tableau sets"},orange:{$value:"#ff7f0e",$description:"CVD-safe orange (pairs with blue)"}},positive:{$value:"{color.accessibility.okabe-ito.green}",$description:"Accessibility semantic alias â€“ positive"},negative:{$value:"{color.accessibility.okabe-ito.vermillion}",$description:"Accessibility semantic alias â€“ negative"}}}},Jw=["#005eb8","#0072ce","#41b6e6","#00a499","#7c2855","#330072","#d5281b","#ffb81c","#fae100","#4c6272","#768692","#aeb7bd"];let Wc=null,Gc=null,Yc=null,Lp="optimized";function Kw(){const t={color:{...Ma.color,...Po.color}},e=(r,i=new Set)=>{if(i.has(r))return;i.add(r);const o=r.split(".").reduce((a,c)=>a?a[c]:void 0,t);if(!o)return;const s=o.$value||o.value;if(typeof s=="string"&&/^\{.+\}$/.test(s))return e(s.slice(1,-1),i);if(typeof s=="string")return s},n=[];try{for(let r=1;r<=12;r++){const i=`color.data-viz.categorical.${r}`,o=e(i);if(!o)throw new Error(`Missing token ${i}`);n.push(o)}return n}catch{return Jw}}function Qw(){return Wc||(Wc=Kw()),Wc}function eS(t){const e=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(t.trim());return e?{r:parseInt(e[1],16),g:parseInt(e[2],16),b:parseInt(e[3],16)}:null}function Vc(t){return t/=255,t<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}function tS(t,e,n){const r=Vc(t),i=Vc(e),o=Vc(n),s=r*.4124+i*.3576+o*.1805,a=r*.2126+i*.7152+o*.0722,c=r*.0193+i*.1192+o*.9505;return{x:s*100,y:a*100,z:c*100}}function nS(t,e,n){let s=t/95.047,a=e/100,c=n/108.883;const u=d=>d>.008856?Math.cbrt(d):7.787*d+16/116;return s=u(s),a=u(a),c=u(c),{L:116*a-16,a:500*(s-a),b:200*(a-c)}}function Pp(t){const e=eS(t);if(!e)return null;const n=tS(e.r,e.g,e.b);return nS(n.x,n.y,n.z)}function Ap(t,e){const n=t.L-e.L,r=t.a-e.a,i=t.b-e.b;return Math.sqrt(n*n+r*r+i*i)}function rS(){const t=Qw();if(t.length<=2)return t.slice();const e=t.map(s=>Pp(s));let n=0,r=-1;for(let s=0;s<t.length;s++){const a=e[s];if(!a)continue;let c=0,u=0;for(let f=0;f<t.length;f++)s!==f&&e[f]&&(c+=Ap(a,e[f]),u++);const d=c/Math.max(1,u);d>r&&(r=d,n=s)}const i=new Set(t.map((s,a)=>a)),o=[];for(o.push(n),i.delete(n);i.size;){let s=Array.from(i)[0],a=-1;for(const c of i){const u=e[c];if(!u)continue;let d=1/0;for(const f of o){const p=e[f];if(p){const h=Ap(u,p);h<d&&(d=h)}}d>a&&(a=d,s=c)}o.push(s),i.delete(s)}return o.map(s=>t[s])}function iS(){return Gc||(Gc=rS()),Gc}function oS(t,e,n){const r=(t+16)/116,i=e/500+r,o=r-n/200,s=d=>{const f=d*d*d;return f>.008856?f:(d-16/116)/7.787},a=s(i)*95.047,c=s(r)*100,u=s(o)*108.883;return{X:a,Y:c,Z:u}}function sS(t,e,n){t/=100,e/=100,n/=100;let r=t*3.2406+e*-1.5372+n*-.4986,i=t*-.9689+e*1.8758+n*.0415,o=t*.0557+e*-.204+n*1.057;const s=a=>a<=.0031308?12.92*a:1.055*Math.pow(a,1/2.4)-.055;return r=Math.min(1,Math.max(0,s(r))),i=Math.min(1,Math.max(0,s(i))),o=Math.min(1,Math.max(0,s(o))),{r:Math.round(r*255),g:Math.round(i*255),b:Math.round(o*255)}}function aS(t,e,n){return`#${[t,e,n].map(r=>r.toString(16).padStart(2,"0")).join("")}`}function lS(t,e){const n=Pp(t);if(!n)return t;const r=Math.min(100,Math.max(0,n.L+e)),{X:i,Y:o,Z:s}=oS(r,n.a,n.b),a=sS(i,o,s);return aS(a.r,a.g,a.b)}function cS(){const t=iS(),n=[12,-12,24,-24].map(i=>t.map(o=>lS(o,i))),r=[...t];return n.forEach(i=>r.push(...i)),r}function uS(){return(!Yc||dS())&&(Yc=cS(),Ep=Lp),Yc}let Ep=null;function dS(){return Ep!==Lp}function Zn(t){const e=uS();return e[t%e.length]}let zi=null,Ao=null,Eo=null,Fo=null;function fS(){const t=Po?.color?.["data-viz"]?.stroke;if(t){const e=t.categorical||{};zi=[];for(let o=1;o<=12;o++){const s=e[String(o)]?.$value||e[String(o)]?.value;zi.push(typeof s=="string"?s:"#212b32")}const n=t.region||{};Ao={},Object.keys(n).forEach(o=>{const s=n[o]?.$value||n[o]?.value;typeof s=="string"&&(Ao[o]=s)});const r=t.severity||{},i=t["org-level"]||{};Fo={},Object.keys(i).forEach(o=>{const s=i[o]?.$value||i[o]?.value;typeof s=="string"&&(Fo[o]=s)}),Eo={},Object.keys(r).forEach(o=>{const s=r[o]?.$value||r[o]?.value;typeof s=="string"&&(Eo[o]=s)})}}function Ta(){(!zi||!Ao||!Eo||!Fo)&&fS()}function si(t){return Ta(),zi?zi[t%zi.length]:"#212b32"}function hS(t){return Ta(),Ao?Ao[t]:void 0}function ja(t,e){return hS(t)||si(e)}const Zc=["low","moderate","high","critical"];let qc=null;function pS(){const t={color:{...Ma.color,...Po.color}},e=(r,i=new Set)=>{if(i.has(r))return;i.add(r);const o=r.split(".").reduce((a,c)=>a?a[c]:void 0,t);if(!o)return;const s=o.$value||o.value;return typeof s=="string"&&/^\{.+\}$/.test(s)?e(s.slice(1,-1),i):typeof s=="string"?s:void 0},n={};return Zc.forEach(r=>{const i=e(`color.data-viz.severity.${r}`);i&&(n[r]=i)}),n}function Fp(){return qc||(qc=pS()),qc}function mS(t){return Fp()[t.toLowerCase()]}function gS(t,e){return mS(t)||Fp()[Zc[e%Zc.length]]||Zn(e)}function yS(t){return Ta(),Eo?Eo[t]:void 0}function bS(t,e){return yS(t)||si(e)}const Xc=["trust","ambulance","icb","region"];let Jc=null;function vS(){const t={color:{...Ma.color,...Po.color}},e=(r,i=new Set)=>{if(i.has(r))return;i.add(r);const o=r.split(".").reduce((a,c)=>a?a[c]:void 0,t);if(!o)return;const s=o.$value||o.value;return typeof s=="string"&&/^\{.+\}$/.test(s)?e(s.slice(1,-1),i):typeof s=="string"?s:void 0},n={};return Xc.forEach(r=>{const i=e(`color.data-viz.org-level.${r}`);i&&(n[r]=i)}),n}function $p(){return Jc||(Jc=vS()),Jc}function xS(t){return $p()[t.toLowerCase()]}function _S(t,e){return xS(t)||$p()[Xc[e%Xc.length]]||Zn(e)}function wS(t){return Ta(),Fo?Fo[t]:void 0}function SS(t,e){return wS(t)||si(e)}let Kc=null;const kS=["north-east","north-west","east-of-england","midlands","london","south-west","south-east"];function CS(t){return t.trim().toLowerCase().replace(/&/g,"and").replace(/[^a-z0-9]+/g,"-").replace(/^-+|-+$/g,"")}function NS(){const t={color:{...Ma.color,...Po.color}},e=(i,o=new Set)=>{if(o.has(i))return;o.add(i);const s=i.split(".").reduce((c,u)=>c?c[u]:void 0,t);if(!s)return;const a=s.$value||s.value;return typeof a=="string"&&/^\{.+\}$/.test(a)?e(a.slice(1,-1),o):typeof a=="string"?a:void 0},n={},r=[];return kS.forEach(i=>{const o=e(`color.data-viz.region.${i}`);o?n[i]=o:r.push(i)}),process.env.NODE_ENV!=="production"&&(Object.keys(n).length===0?console.warn("[DataViz] Region colour tokens unresolved  falling back to categorical colours."):r.length&&console.warn(`[DataViz] Missing region colour tokens: ${r.join(", ")}.`)),n}function MS(){return Kc||(Kc=NS()),Kc}function TS(t){return MS()[CS(t)]}function Hi(t,e){return TS(t)||Zn(e)}const Bp=ie.createContext(null),$o=()=>ie.useContext(Bp),jS=({initialHiddenIds:t=[],children:e,hiddenIds:n,onChange:r})=>{const[i,o]=ie.useState(()=>new Set(t)),s=n!==void 0,a=ie.useMemo(()=>s?new Set(n):i,[s,n,i]),c=ie.useCallback(d=>{s||o(new Set(d)),r?.(Array.from(d))},[s,r]),u=ie.useMemo(()=>({hiddenIds:a,isHidden:d=>a.has(d),toggle:d=>{const f=new Set(a);f.has(d)?f.delete(d):f.add(d),c(f)},showOnly:d=>{c(new Set)},showAll:()=>c(new Set),setHidden:d=>c(new Set(Array.isArray(d)?d:Array.from(d)))}),[a,c]);return l.jsx(Bp.Provider,{value:u,children:e})},Op=ie.createContext(null),vr=()=>ie.useContext(Op),Rp=({children:t,maxDistance:e=40,wrapAround:n=!1})=>{const r=oi(),i=$o(),[o,s]=ie.useState(null),a=ie.useRef(new Map),[c,u]=ie.useState([]),d=ie.useCallback((C,k)=>{a.current.set(C,k)},[]),f=ie.useCallback(C=>{a.current.delete(C)},[]),p=ie.useCallback((C,k)=>{if(!r)return;const{xScale:v,yScale:x}=r;let A=null,I=1/0;a.current.forEach((O,E)=>{O.forEach((L,D)=>{const F=v(L.x),K=x(L.y),W=F-C,T=K-k,Q=Math.sqrt(W*W+T*T);Q<I&&(I=Q,A={seriesId:E,index:D,x:L.x,y:L.y,clientX:F,clientY:K})})}),A&&I<=e?s(A):s(null)},[r,e]),h=ie.useCallback(()=>s(null),[]);ie.useEffect(()=>{if(!o){u([]);return}if(!r)return;const{xScale:C,yScale:k}=r,v=[];a.current.forEach((x,A)=>{x.forEach((I,O)=>{(o.x instanceof Date&&I.x instanceof Date?I.x.getTime()===o.x.getTime():I.x===o.x)&&v.push({seriesId:A,index:O,x:I.x,y:I.y,clientX:C(I.x),clientY:k(I.y)})})}),v.sort((x,A)=>x.seriesId.localeCompare(A.seriesId)),u(v)},[o,r]);const y=ie.useCallback(C=>{if(!o)return;const k=a.current.get(o.seriesId);if(!k)return;let v=o.index+C;if(v<0||v>=k.length){if(!n)return;v=(v+k.length)%k.length}const x=k[v];if(!r)return;const{xScale:A,yScale:I}=r;s({seriesId:o.seriesId,index:v,x:x.x,y:x.y,clientX:A(x.x),clientY:I(x.y)})},[o,r,n]),m=ie.useCallback(C=>{let k=Array.from(a.current.keys());if(i&&(k=k.filter(F=>!i.isHidden(F))),k.length===0)return;if(!o){const F=k[0],K=a.current.get(F);if(!K||!r)return;const{xScale:W,yScale:T}=r,Q=K[0];s({seriesId:F,index:0,x:Q.x,y:Q.y,clientX:W(Q.x),clientY:T(Q.y)});return}const v=k.indexOf(o.seriesId);if(v===-1)return;let x=v+C;if(x<0||x>=k.length){if(!n)return;x=(x+k.length)%k.length}const A=k[x],I=a.current.get(A);if(!I||!r)return;const O=Math.min(o.index,I.length-1),E=I[O],{xScale:L,yScale:D}=r;s({seriesId:A,index:O,x:E.x,y:E.y,clientX:L(E.x),clientY:D(E.y)})},[o,r,n,i]),g=ie.useCallback(()=>{let C=Array.from(a.current.keys());if(i&&(C=C.filter(O=>!i.isHidden(O))),C.length===0)return;const k=o?o.seriesId:C[0],v=a.current.get(k);if(!v||v.length===0||!r)return;const x=v[0],{xScale:A,yScale:I}=r;s({seriesId:k,index:0,x:x.x,y:x.y,clientX:A(x.x),clientY:I(x.y)})},[o,r,i]),N=ie.useCallback(()=>{let C=Array.from(a.current.keys());if(i&&(C=C.filter(E=>!i.isHidden(E))),C.length===0)return;const k=o?o.seriesId:C[0],v=a.current.get(k);if(!v||v.length===0||!r)return;const x=v.length-1,A=v[x],{xScale:I,yScale:O}=r;s({seriesId:k,index:x,x:A.x,y:A.y,clientX:I(A.x),clientY:O(A.y)})},[o,r,i]),M=ie.useCallback(()=>y(1),[y]),j=ie.useCallback(()=>y(-1),[y]),_=ie.useCallback(()=>m(1),[m]),b=ie.useCallback(()=>m(-1),[m]),S=ie.useMemo(()=>({focused:o,setFocused:s,aggregated:c,focusNearest:p,clear:h,registerSeries:d,unregisterSeries:f,focusNextPoint:M,focusPrevPoint:j,focusNextSeries:_,focusPrevSeries:b,focusFirstPoint:g,focusLastPoint:N}),[o,c,p,h,d,f,M,j,_,b,g,N]);return l.jsx(Op.Provider,{value:S,children:t})},zp=({series:t,seriesIndex:e,palette:n,showPoints:r,focusablePoints:i,focusIndex:o,parseX:s,visibilityMode:a="remove",strokeWidth:c=1,smooth:u=!0,gradientFillId:d,colors:f})=>{const p=oi();if(!p)return null;const{xScale:h,yScale:y}=p,g=$o()?.isHidden(t.id)??!1,N=g&&a==="fade";if(g&&a==="remove")return null;const M=vr();ie.useEffect(()=>{if(!M)return;const k=t.data.map(v=>({x:s(v),y:v.y}));return M.registerSeries(t.id,k),()=>M.unregisterSeries(t.id)},[M,t.id,t.data,s]);const j=ie.useMemo(()=>zc(t.data,k=>h(s(k)),k=>y(k.y),{smooth:u}),[t.data,h,y,s,u]),_=ie.useMemo(()=>{if(!t.data.length)return"";const[k]=y.domain(),v=Oc().x(x=>h(s(x))).y0(()=>y(k)).y1(x=>y(x.y));return u&&v.curve(Na),v(t.data)||""},[t.data,h,y,s,u]),b=f&&f[e],S=t.color||b||(n==="region"?Hi(t.id,e):Zn(e)),C=n==="region"?ja(t.id,e):si(e);return l.jsxs("g",{className:"fdp-line-series","data-series":t.id,opacity:N?.25:1,"aria-hidden":N?!0:void 0,children:[d&&l.jsx("path",{d:_,fill:`url(#${d})`,stroke:"none",role:"presentation",className:"fdp-line-series__gradient"}),l.jsx("path",{d:j,fill:"none",stroke:S,strokeWidth:c,role:"presentation"}),r&&t.data.map((k,v)=>{const x=h(s(k)),A=y(k.y),I=i?0:-1,O=!N&&(i&&v===o||M?.focused?.seriesId===t.id&&M.focused.index===v),E=()=>{M&&!N&&M.setFocused({seriesId:t.id,index:v,x:s(k),y:k.y,clientX:x,clientY:A})},L=()=>{M&&M.focused?.seriesId===t.id&&M.focused.index===v&&M.clear()};return l.jsx("circle",{cx:x,cy:A,r:O?5:3.5,stroke:O?"var(--nhs-fdp-color-primary-yellow, #ffeb3b)":C,strokeWidth:O?2:1,fill:O?"var(--nhs-fdp-color-grey-3, #aeb7bd)":S,className:"fdp-line-point",tabIndex:N?-1:I,"aria-label":`${t.label||t.id} ${s(k).toDateString()} value ${k.y}`,"data-series":t.id,"data-index":v,onMouseEnter:E,onFocus:E,onMouseLeave:L,onBlur:L},v)})]})},DS=({polite:t=!0,format:e})=>{const n=vr(),[r,i]=ie.useState(""),o=ie.useRef("");return ie.useEffect(()=>{if(!n?.focused)return;const{focused:s,aggregated:a}=n;let c;if(a&&a.length>1){const u=a.map(f=>`${f.seriesId} ${f.y}`).join("; ");c=`${s.x instanceof Date?s.x.toDateString():String(s.x)} â€“ ${u}`}else c=e?e({seriesId:s.seriesId,x:s.x,y:s.y,index:s.index}):IS(s.seriesId,s.x,s.y,s.index);if(c!==o.current){o.current=c,i("");const u=setTimeout(()=>i(c),10);return()=>clearTimeout(u)}},[n?.focused,e]),l.jsx("div",{"aria-live":t?"polite":"assertive","aria-atomic":"true",style:{position:"absolute",width:1,height:1,margin:-1,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",border:0},children:r})};function IS(t,e,n,r){const i=e instanceof Date?e.toDateString():String(e);return`Series ${t}, point ${r+1}, ${i}, value ${n}`}const LS=()=>{const t=vr(),e=Pr();if(!t||!e||!t.focused)return null;const{focused:n,aggregated:r}=t,{innerWidth:i,innerHeight:o}=e,s=Math.min(Math.max(n.clientX,0),i),a=Math.min(Math.max(n.clientY,0),o),c=s+8,u=a-8,d=r.length>1,f=n.x instanceof Date?n.x.toDateString():String(n.x),p=d?f:`${f} â€¢ ${n.y}`,h=/\d+$/.exec(n.seriesId||""),y=h?parseInt(h[0],10)-1:0,m=Zn(y>=0?y:0)||"#005eb8",g="var(--nhs-fdp-color-primary-yellow,#ffeb3b)";return l.jsxs("g",{className:"fdp-tooltip-layer",pointerEvents:"none",children:[l.jsx("circle",{cx:s,cy:a,r:7,fill:"none",stroke:g,strokeWidth:3}),l.jsx("circle",{cx:s,cy:a,r:5,fill:"#000",stroke:g,strokeWidth:1.5}),l.jsx("circle",{cx:s,cy:a,r:2.5,fill:m,stroke:"#fff",strokeWidth:.5}),d?(()=>{const M=r.map(C=>`${C.seriesId}: ${C.y}`),j=[p,...M],_=j.reduce((C,k)=>Math.max(C,k.length),0),b=Math.max(90,_*6.2+16),S=16*j.length+8;return l.jsxs("g",{children:[l.jsx("rect",{x:c,y:u-S,rx:4,ry:4,width:b,height:S,fill:"#212b32",opacity:.92}),j.map((C,k)=>l.jsx("text",{x:c+8,y:u-S+6+16*(k+.7),fill:"#fff",fontSize:12,children:C},k))]})})():l.jsxs("g",{children:[l.jsx("rect",{x:c,y:u-24,rx:4,ry:4,width:Math.max(60,p.length*6.2),height:24,fill:"#212b32",opacity:.92}),l.jsx("text",{x:c+8,y:u-8,fill:"#fff",fontSize:12,children:p})]})]})},PS=({items:t,palette:e="categorical",direction:n="row",interactive:r=!1,adjustStrokeForWhiteBackground:i=!0,hiddenIds:o,defaultHiddenIds:s=[],onVisibilityChange:a,formatAnnouncement:c})=>{const u=$o(),d=!!(u&&!r&&!a&&o===void 0),f=r||d,p=t||[],h=o!==void 0,[y,m]=ie.useState(new Set(s)),g=h?new Set(o):y,[N,M]=ie.useState(""),j=_=>{if(d&&u){const I=u.isHidden(_);u.toggle(_);const E=p.find(D=>D.id===_)?.label||_,L=c?c(_,I,E):`${E} ${I?"shown":"hidden"}`;M(L);return}if(!f)return;const b=new Set(g),S=b.has(_);S?b.delete(_):b.add(_),h||m(b);const C=p.filter(I=>!b.has(I.id)).map(I=>I.id),k=Array.from(b);a?.(C,k);const x=p.find(I=>I.id===_)?.label||_,A=c?c(_,S,x):`${x} ${S?"shown":"hidden"}`;M(A)};return l.jsxs("div",{className:"fdp-legend-wrapper",children:[l.jsx("ul",{className:`fdp-legend fdp-legend--${n}`,children:p.map((_,b)=>{const S=_.palette||e,C=_.color||(S==="region"?Hi(_.id,b):S==="severity"?gS(_.id,b):S==="org-level"?_S(_.id,b):Zn(b));let k=_.stroke||(S==="region"?ja(_.id,b):S==="severity"?bS(_.id,b):S==="org-level"?SS(_.id,b):si(b));if(i&&k){const A=k.trim().toLowerCase();(A==="#fff"||A==="#ffffff"||A==="white"||/^rgb\(\s*255\s*,\s*255\s*,\s*255\s*\)$/.test(A))&&(k="#212b32")}const v=d&&u?u.isHidden(_.id):g.has(_.id),x=f?{"aria-pressed":!v,"aria-label":`${_.label} (${v?"show":"hide"})`,onClick:()=>j(_.id)}:{"aria-label":_.label};return l.jsxs("li",{className:`fdp-legend__item${v?" fdp-legend__item--hidden":""}`,children:[l.jsx("button",{type:"button",className:"fdp-legend__swatch",style:{backgroundColor:C,backgroundImage:_.patternDataUrl?`url(${_.patternDataUrl})`:void 0,backgroundSize:_.patternDataUrl?"auto":void 0,borderColor:k},...x}),l.jsx("span",{className:"fdp-legend__label",children:_.label})]},_.id)})}),f&&l.jsx("div",{className:"fdp-visually-hidden","aria-live":"polite","aria-atomic":"true",children:N})]})},AS=({series:t,seriesIndex:e,palette:n,parseX:r,areaOnly:i=!1,visibilityMode:o="remove",baselineY:s=0,smooth:a=!0,stacked:c,gradientFill:u=!0,colors:d})=>{const f=oi();if(!f)return null;const{xScale:p,yScale:h}=f,m=$o()?.isHidden(t.id)??!1,g=m&&o==="fade";if(m&&o==="remove")return null;const N=vr();ie.useEffect(()=>{if(!N)return;const C=t.data.map(k=>({x:r(k),y:k.y}));return N.registerSeries(t.id,C),()=>N.unregisterSeries(t.id)},[N,t.id,t.data,r]);const M=d&&d[e],j=t.color||M||(n==="region"?Hi(t.id,e):Zn(e)),_=ie.useMemo(()=>c&&c.length===t.data.length?zc(t.data,C=>p(r(C)),C=>{const k=t.data.indexOf(C);return h(c[k].y1)},{smooth:a}):zc(t.data,C=>p(r(C)),C=>h(C.y),{smooth:a}),[t.data,c,p,h,r,a]),b=ie.useMemo(()=>{if(c&&c.length===t.data.length){const A=Oc().x(I=>p(r(I))).y0((I,O)=>h(c[O].y0)).y1((I,O)=>h(c[O].y1));return a&&A.curve(Na),A(t.data)||""}const[C,k]=h.domain();let v=s;v<C?v=C:v>k&&(v=k);const x=Oc().x(A=>p(r(A))).y0(()=>h(v)).y1(A=>h(A.y));return a&&x.curve(Na),x(t.data)||""},[t.data,c,p,h,r,s,a]),S=ie.useId();return l.jsxs("g",{className:"fdp-area-series","data-series":t.id,opacity:g?.25:1,"aria-hidden":g?!0:void 0,children:[u&&l.jsx("defs",{children:l.jsxs("linearGradient",{id:S,x1:"0%",y1:"0%",x2:"0%",y2:"100%",children:[l.jsx("stop",{offset:"0%",stopColor:j,stopOpacity:.25}),l.jsx("stop",{offset:"100%",stopColor:j,stopOpacity:0})]})}),l.jsx("path",{className:"fdp-area-series__fill",d:b,fill:u?`url(#${S})`:j,...u?{}:{fillOpacity:.25},stroke:"none"}),!i&&l.jsx("path",{d:_,fill:"none",stroke:j,strokeWidth:1})]})},ES=({series:t,seriesIndex:e,seriesCount:n,palette:r,parseX:i,focusable:o=!0,widthFactor:s=.8,groupGap:a=2,barWidth:c,adaptive:u=!1,adaptiveGroupOccupancy:d=.9,visibilityMode:f="remove",colorMode:p="series",allSeries:h,stacked:y,gapRatio:m=.15,minBarWidth:g,gradientFill:N=!0,gradientStrokeMatch:M=!0,opacity:j=1,fadedOpacity:_=.25,flatFillOpacity:b=1,colors:S})=>{const C=Math.max(0,m),k=oi(),v=Pr();if(!k||!v)return null;const{xScale:x,yScale:A}=k,O=$o()?.isHidden(t.id)??!1,E=O&&f==="fade";if(O&&f==="remove")return null;const L=vr();ie.useEffect(()=>{if(!L)return;const te=t.data.map(ae=>({x:i(ae),y:ae.y}));return L.registerSeries(t.id,te),()=>L.unregisterSeries(t.id)},[L,t.id,t.data,i]);const D=typeof x.bandwidth=="function",F=D?x.bandwidth():void 0,K=ie.useMemo(()=>{if(F!=null)return F;const te=h&&h.length?h:[t],ae=[];te.forEach(ue=>{ue.data.forEach(ge=>{const he=x(i(ge));Number.isFinite(he)&&ae.push(he)})});const fe=ae.sort((ue,ge)=>ue-ge);if(fe.length<=1)return 40;const q=[];for(let ue=1;ue<fe.length;ue++)q.push(fe[ue]-fe[ue-1]);return q.sort((ue,ge)=>ue-ge),(q[Math.floor(q.length/2)]||40)*s},[t.data,h,x,i,s,F]),{basePerBar:W}=ie.useMemo(()=>{if(D){const fe=K,q=Math.max(1,(fe-a*(n-1))/n),ce=t.barWidth??c;let ue=ce?Math.min(ce,fe):q;if(u){const ge=fe*Math.min(1,Math.max(.05,d)),he=Math.max(1,(ge-a*(n-1))/n);ue=ce?Math.min(ue,he):he}return{basePerBar:ue}}const te=t.barWidth??c,ae=Math.max(1,(K-a*(n-1))/n);if(u){const fe=h&&h.length?h:[t],q=[];fe.forEach(Ee=>Ee.data.forEach(Pe=>{const Te=x(i(Pe));Number.isFinite(Te)&&q.push(Te)})),q.sort((Ee,Pe)=>Ee-Pe);const ce=[];for(let Ee=1;Ee<q.length;Ee++)ce.push(q[Ee]-q[Ee-1]);ce.sort((Ee,Pe)=>Ee-Pe);const ge=(ce[Math.floor(ce.length/2)]||K)*Math.min(1,Math.max(.05,d)),he=Math.max(1,(ge-a*(n-1))/n);return{basePerBar:te?Math.min(te,he):he}}return te?{basePerBar:Math.min(te,ae)}:{basePerBar:ae}},[D,K,a,n,c,t.barWidth,u,d,h,x,i]),T=ie.useMemo(()=>{if(D)return[];const te=[];return(h&&h.length?h:[t]).forEach(fe=>fe.data.forEach(q=>{const ce=x(i(q));Number.isFinite(ce)&&te.push(ce)})),te.sort((fe,q)=>fe-q),Array.from(new Set(te))},[D,h,t,x,i]),Q=ie.useMemo(()=>{if(D)return[];if(!T.length)return[];if(T.length===1)return[{center:T[0],left:0,right:v.innerWidth}];const te=[];for(let ae=0;ae<T.length;ae++){const fe=T[ae],q=ae===0?0:(T[ae-1]+fe)/2,ce=ae===T.length-1?v.innerWidth:(fe+T[ae+1])/2;te.push({center:fe,left:Math.max(0,q),right:Math.min(v.innerWidth,ce)})}return te},[D,T,v.innerWidth]),G=ie.useMemo(()=>{if(D||!Q.length)return;const te=Math.min(1,Math.max(.05,s)),ae=Q.map(ge=>Math.max(2,ge.right-ge.left)),fe=ae.map(ge=>Math.max(2,Math.min(ge-1,ge*te)));let q=Math.min(...fe);if(g)if(n<=1){const ge=Math.min(...ae.map(he=>he-1));ge>=g&&q<g&&(q=Math.min(ge,g))}else{const ge=Math.min(...ae.map(V=>V-1)),he=g*n+(n-1)*(g*C);he<=ge&&q<he&&(q=he)}if(n<=1)return g&&q<g&&ae.every(he=>he>=g)?{groupWidth:g,barWidth:g}:{groupWidth:q,barWidth:q};let ce=q/(n+(n-1)*C);return ce<1&&(ce=1),g&&ce<g&&g*n+(n-1)*(g*C)<=q&&(ce=g),{groupWidth:ce*n+(n-1)*(ce*C),barWidth:ce}},[D,Q,s,n,C,g]),U=S&&S[e]?S[e]:void 0,ee=t.color||U||(r==="region"?Hi(t.id,e):Zn(e)),z=r==="region"?ja(t.id,e):si(e),oe=M&&(t.color||U)?ee:z,J=Number.isFinite(A(0))?A(0):A.range()[0],re=ie.useId();return y&&y.length===t.data.length?l.jsxs("g",{className:"fdp-bar-series fdp-bar-series--stacked","data-series":t.id,opacity:E?_:j,"aria-hidden":E?!0:void 0,children:[N&&l.jsx("defs",{children:l.jsxs("linearGradient",{id:re,x1:"0%",y1:"0%",x2:"0%",y2:"100%",children:[l.jsx("stop",{offset:"0%",stopColor:ee,stopOpacity:.3}),l.jsx("stop",{offset:"60%",stopColor:ee,stopOpacity:.14}),l.jsx("stop",{offset:"100%",stopColor:ee,stopOpacity:.06})]})}),t.data.map((te,ae)=>{const fe=i(te),q=x(D?te.x:fe);let ce,ue;if(D)ce=K,ue=q;else{const R=Q.find(X=>Math.abs(X.center-q)<.5);if(!R||!G)ce=W,ue=q-W/2;else{const{groupWidth:X}=G;ce=X;let B=q-X/2;B<R.left&&(B=R.left),B+X>R.right&&(B=Math.max(R.left,R.right-X)),ue=B}}const ge=y[ae],he=A(ge.y0),V=A(ge.y1),Ee=Math.min(he,V),Pe=Math.abs(V-he)||1;if(!D&&g&&ce<g){const R=Q.find(X=>Math.abs(X.center-q)<.5);if(R){const X=Math.max(2,R.right-R.left-1),B=Math.min(X,g);B>ce&&(ce=B,ue=Math.max(R.left,Math.min(R.right-ce,q-ce/2)))}}const Te=!E&&L?.focused?.seriesId===t.id&&L.focused.index===ae,Z=()=>{!L||E||L.setFocused({seriesId:t.id,index:ae,x:fe,y:ge.y1-ge.y0,clientX:ue+ce/2,clientY:Ee})},P=()=>{L?.focused?.seriesId===t.id&&L.focused.index===ae&&L.clear()};return l.jsx("rect",{x:ue,y:Ee,width:ce,height:Pe,fill:N?`url(#${re})`:ee,...N?{}:{fillOpacity:b},stroke:Te?"var(--nhs-fdp-color-primary-yellow, #ffeb3b)":N&&M?ee:void 0,strokeWidth:Te?2:1,className:"fdp-bar fdp-bar--stacked",tabIndex:E||!o?-1:0,role:"graphics-symbol","aria-label":`${t.label||t.id} ${fe instanceof Date?fe.toDateString():fe} value ${ge.y1-ge.y0}`,onMouseEnter:Z,onFocus:Z,onMouseLeave:P,onBlur:P},ae)})]}):l.jsxs("g",{className:"fdp-bar-series","data-series":t.id,opacity:E?_:j,"aria-hidden":E?!0:void 0,children:[N&&l.jsxs("defs",{children:[p==="series"&&l.jsxs("linearGradient",{id:re,x1:"0%",y1:"0%",x2:"0%",y2:"100%",children:[l.jsx("stop",{offset:"0%",stopColor:ee,stopOpacity:.3}),l.jsx("stop",{offset:"60%",stopColor:ee,stopOpacity:.14}),l.jsx("stop",{offset:"100%",stopColor:ee,stopOpacity:.06})]}),p==="category"&&t.data.map((te,ae)=>{const q=S&&S[ae]||(r==="region"?Hi(String(te.x),ae):Zn(ae)),ce=`${re}-${ae}`;return l.jsxs("linearGradient",{id:ce,x1:"0%",y1:"0%",x2:"0%",y2:"100%",children:[l.jsx("stop",{offset:"0%",stopColor:q,stopOpacity:.3}),l.jsx("stop",{offset:"60%",stopColor:q,stopOpacity:.14}),l.jsx("stop",{offset:"100%",stopColor:q,stopOpacity:.06})]},ce)})]}),t.data.map((te,ae)=>{const fe=i(te),q=x(D?te.x:fe);let ce,ue;if(D){const Y=K;if(n<=1)ue=Y,ce=q;else{ue=Math.max(1,Y/(n+(n-1)*C));const ne=ue*C,se=ue*n+ne*(n-1);ce=q+(Y-se)/2+e*(ue+ne)}}else{const Y=Q.find(ne=>ne.center===q);if(!Y||!G)ue=W,ce=q-W/2,g&&ue<g&&(ue=g,ce=q-ue/2);else{const{barWidth:ne}=G;ue=ne;const se=n>1?ne*C:0,le=ue*n+se*(n-1);let be=q-le/2;be<Y.left&&(be=Y.left),be+le>Y.right&&(be=Math.max(Y.left,Y.right-le)),ce=be+e*(ue+se)}if(g&&ue<g){const ne=Q.find(se=>Math.abs(se.center-q)<.5);if(ne){const se=Math.max(2,ne.right-ne.left-1),le=Math.min(se,g);if(le>ue)if(n<=1)ue=le,ce=Math.max(ne.left,Math.min(ne.right-ue,q-ue/2));else{const be=le*C,me=le*n+be*(n-1);if(me<=ne.right-ne.left-1){ue=le;const xe=me;let ke=q-xe/2;ke<ne.left&&(ke=ne.left),ke+xe>ne.right&&(ke=Math.max(ne.left,ne.right-xe)),ce=ke+e*(ue+be)}}}}}const ge=ce+ue/2,he=A(te.y),V=Math.min(J,he),Ee=Math.abs(J-he),Pe=!E&&L?.focused?.seriesId===t.id&&L.focused.index===ae,Te=()=>{!L||E||L.setFocused({seriesId:t.id,index:ae,x:fe,y:te.y,clientX:ge,clientY:he})},Z=()=>{L?.focused?.seriesId===t.id&&L.focused.index===ae&&L.clear()},P=p==="category"&&S?S[ae]:void 0,R=p==="category"?P||(r==="region"?Hi(String(te.x),ae):Zn(ae)):ee,X=p==="category"?`${re}-${ae}`:re,B=N&&M?R:p==="category"?r==="region"?ja(String(te.x),ae):si(ae):oe,H=Pe?"var(--nhs-fdp-color-primary-yellow, #ffeb3b)":B||R;return l.jsx("rect",{x:ce,y:V,width:ue,height:Ee||1,fill:N?`url(#${X})`:R,...N?{}:{fillOpacity:b},stroke:H,strokeWidth:Pe?2:1,className:"fdp-bar",tabIndex:E||!o?-1:0,role:"graphics-symbol","aria-label":`${t.label||t.id} ${fe instanceof Date?fe.toDateString():fe} value ${te.y}`,onMouseEnter:Te,onFocus:Te,onMouseLeave:Z,onBlur:Z},ae)})]})},FS=({series:t,innerWidth:e,innerHeight:n,paddingInner:r=.1,paddingOuter:i=.05,children:o,yTickCount:s=5})=>{const a=Pr(),c=e??a?.innerWidth??0,u=n??a?.innerHeight??0,d=ie.useMemo(()=>t.flatMap(g=>g.data),[t]),f=ie.useMemo(()=>{const g=new Set;return d.forEach(N=>g.add(N.x)),Array.from(g)},[d]),p=ie.useMemo(()=>Math.max(0,...d.map(g=>g.y)),[d]),h=ie.useMemo(()=>Uf().domain(f).range([0,c]).paddingInner(r).paddingOuter(i),[f,c,r,i]),y=ie.useMemo(()=>da().domain([0,p]).nice().range([u,0]),[p,u]),m=ie.useMemo(()=>({xScale:h,yScale:y,getXTicks:()=>f,getYTicks:(g=s)=>y.ticks(g)}),[h,y,f,s]);return l.jsx(Hc.Provider,{value:m,children:o})},$S=({title:t,description:e,source:n,table:r,className:i,id:o,message:s="Interactive chart loadingâ€¦",forceFallback:a=!1})=>{const c=ie.useId(),u=o||c,d=e?`${u}-desc`:void 0,f=n?`${u}-src`:void 0,p=typeof window<"u"&&!a;return l.jsxs("figure",{id:u,className:ka("fdp-chart fdp-chart--noscript",i),"aria-labelledby":`${u}-title`,"aria-describedby":ka(d,f),"data-component":"ChartNoScript",children:[l.jsx("header",{className:"fdp-chart__header",children:l.jsx("h3",{id:`${u}-title`,className:"fdp-chart__title",children:t})}),e&&l.jsx("p",{id:d,className:"fdp-chart__description",children:e}),!p&&l.jsx("div",{className:"fdp-chart__loading",role:"status","aria-live":"polite",children:s}),l.jsxs("div",{className:"fdp-chart__fallback",role:"group","aria-label":t,children:[l.jsx("noscript",{children:l.jsx("div",{className:"fdp-chart__noscript-wrapper",children:l.jsx(Vn,{...r})})}),l.jsx("div",{className:"fdp-chart__table","data-fallback-table":!0,children:l.jsx(Vn,{...r})})]}),n&&l.jsx("figcaption",{className:"fdp-chart__caption",children:n&&l.jsxs("small",{id:f,className:"fdp-chart__source",children:["Source: ",n]})})]})},BS=({selector:t="figure.fdp-chart",onEnhanced:e,delay:n=0,children:r})=>{const i=ie.useRef(null);return ie.useEffect(()=>{const o=i.current;if(!o)return;const s=()=>{const a=Array.from(o.querySelectorAll(t));if(a.length===0)return;const c=[];a.forEach(u=>{u.classList.contains("fdp-chart--enhanced")||(u.classList.add("fdp-chart--enhanced"),c.push(u))}),c.length&&e&&e(c)};if(n>0){if(typeof window>"u")return;const a=window.setTimeout(s,n);return()=>window.clearTimeout(a)}s()},[t,e,n]),l.jsx("div",{ref:i,children:r})},Hp=({label:t,value:e,unit:n,delta:r,status:i="neutral",variant:o="default",subtitle:s,metadata:a,trendData:c,loading:u=!1,error:d,valueFormatter:f,className:p,style:h,id:y,announceDelta:m=!0,visual:g})=>{const N=ie.useId(),M=y||N,j=`${M}-label`,_=`${M}-value`,b=`${M}-delta`,S=typeof e=="number"&&!Number.isNaN(e),C=u?"â€”":d?"":S?f?f(e):e.toLocaleString():e;let k,v="",x="";if(r&&!u&&!d){k=r.direction||(r.value>0?"up":r.value<0?"down":"neutral");const A=Math.abs(r.value),I=k==="up"?`+${A}`:k==="down"?`-${A}`:"0",O=r.isPercent?"%":"";if(v=`${I}${O}`,r.ariaLabel)x=r.ariaLabel;else{const E=r.invert?k==="down":k==="up";x=`${k==="neutral"?"no change":k==="up"?"up":"down"} ${A}${O}${k==="neutral"?"":E?" (improvement)":" (worse)"}`}}return l.jsx("div",{className:ka("fdp-metric-card",o&&`fdp-metric-card--${o}`,i&&`fdp-metric-card--status-${i}`,u&&"fdp-metric-card--loading",d&&"fdp-metric-card--error",p),style:h,role:"group","aria-labelledby":j,"data-component":"MetricCard",children:l.jsxs("div",{className:"fdp-metric-card__inner",children:[l.jsxs("div",{className:"fdp-metric-card__header",children:[l.jsx("h3",{id:j,className:"fdp-metric-card__label",children:t}),a&&l.jsx("div",{className:"fdp-metric-card__metadata",children:a})]}),l.jsxs("div",{className:"fdp-metric-card__content",children:[l.jsxs("div",{className:"fdp-metric-card__value-section",children:[l.jsx("div",{id:_,className:"fdp-metric-card__value",children:u?l.jsx("div",{className:"fdp-metric-card__skeleton","aria-hidden":"true",children:l.jsx("div",{className:"fdp-metric-card__skeleton-line fdp-metric-card__skeleton-line--value"})}):d?l.jsx("div",{className:"fdp-metric-card__error",role:"alert",children:d}):l.jsxs(l.Fragment,{children:[l.jsx("span",{className:"fdp-metric-card__number",children:C}),n&&l.jsx("span",{className:"fdp-metric-card__unit",children:n})]})}),s&&!u&&!d&&l.jsx("div",{className:"fdp-metric-card__subtitle",children:s})]}),r&&!u&&!d&&l.jsx("div",{className:"fdp-metric-card__delta-section",children:l.jsxs("div",{id:b,"aria-label":x,className:ka("fdp-metric-card__delta",k&&`fdp-metric-card__delta--${k}`),children:[l.jsx("span",{className:"fdp-metric-card__delta-value",children:v}),r.period&&l.jsx("span",{className:"fdp-metric-card__delta-period",children:r.period})]})}),c&&c.length>0&&!u&&!d&&l.jsx("div",{className:"fdp-metric-card__trend","aria-hidden":"true"})]}),g&&!d&&l.jsx("div",{className:"fdp-metric-card__visual","aria-hidden":"true",children:g}),m&&r&&!r.ariaLabel&&!u&&!d&&l.jsx("div",{className:"fdp-visually-hidden","aria-live":"polite",children:x})]})})};var Pt=(t=>(t.Xs="xs",t.Sm="sm",t.Md="md",t.Lg="lg",t.Xl="xl",t.Full="full",t))(Pt||{}),Up=(t=>(t.XmR="XmR",t.T="T",t.G="G",t))(Up||{}),Ar=(t=>(t.Up="Up",t.Down="Down",t.Neither="Neither",t))(Ar||{}),Je=(t=>(t.Improvement="improvement",t.Concern="concern",t.Neither="neither",t.Suppressed="suppressed",t))(Je||{});const Qc=["single_point","two_sigma","shift","trend"];Qc.reduce((t,e,n)=>(t[e]=n+1,t),{});const OS={single_point:"Single point beyond process limit",two_sigma:"Two of three beyond 2Ïƒ on one side",shift:"Sustained shift (run)",trend:"Monotonic trend"},RS={single_point:"point",two_sigma:"cluster",shift:"sustained",trend:"sustained"},Wp=Qc.reduce((t,e,n)=>(t[e]={id:e,rank:n+1,label:OS[e],category:RS[e],participatesInRanking:!0},t),{});Qc.map(t=>Wp[t]);var Bo=(t=>(t.SinglePointAbove="single_above",t.SinglePointBelow="single_below",t.TwoOfThreeAbove="two_of_three_above",t.TwoOfThreeBelow="two_of_three_below",t.FourOfFiveAbove="four_of_five_above",t.FourOfFiveBelow="four_of_five_below",t.ShiftHigh="shift_high",t.ShiftLow="shift_low",t.TrendIncreasing="trend_inc",t.TrendDecreasing="trend_dec",t.FifteenInnerThird="fifteen_inner_third",t))(Bo||{}),Er=(t=>(t.Pass="pass",t.Fail="fail",t.None="none",t))(Er||{}),Gp=(t=>(t.Shift="shift",t.Trend="trend",t.Point="point",t))(Gp||{});const Ui={singlePointUp:{tooltip:"Single point above upper control limit",narration:"Single point beyond a control limit"},singlePointDown:{tooltip:"Single point below lower control limit",narration:"Single point beyond a control limit"},twoOfThreeUp:{tooltip:"Two of three points beyond +2Ïƒ",narration:"Two of three points beyond two sigma (same side)"},twoOfThreeDown:{tooltip:"Two of three points beyond -2Ïƒ",narration:"Two of three points beyond two sigma (same side)"},fourOfFiveUp:{tooltip:"Four of five points beyond +1Ïƒ",narration:"Four of five points beyond one sigma (same side)"},fourOfFiveDown:{tooltip:"Four of five points beyond -1Ïƒ",narration:"Four of five points beyond one sigma (same side)"},shiftUp:{tooltip:"Shift: run of points above centre line",narration:"Shift (run on one side of mean)"},shiftDown:{tooltip:"Shift: run of points below centre line",narration:"Shift (run on one side of mean)"},trendUp:{tooltip:"Trend: consecutive increasing points",narration:"Trend (consecutive increases)"},trendDown:{tooltip:"Trend: consecutive decreasing points",narration:"Trend (consecutive decreases)"}};function Da(t){if(!t)return[];const e=[];return t.specialCauseSinglePointUp&&e.push("singlePointUp"),t.specialCauseSinglePointDown&&e.push("singlePointDown"),t.specialCauseTwoOfThreeUp&&e.push("twoOfThreeUp"),t.specialCauseTwoOfThreeDown&&e.push("twoOfThreeDown"),t.specialCauseFourOfFiveUp&&e.push("fourOfFiveUp"),t.specialCauseFourOfFiveDown&&e.push("fourOfFiveDown"),t.specialCauseShiftUp&&e.push("shiftUp"),t.specialCauseShiftDown&&e.push("shiftDown"),t.specialCauseTrendUp&&e.push("trendUp"),t.specialCauseTrendDown&&e.push("trendDown"),e}function Ia(t){switch(t){case Je.Improvement:return"Improvement signal";case Je.Concern:return"Concern signal";case Je.Neither:return"Common cause variation";case Je.Suppressed:return null;default:return null}}function Yp(t){switch(t){case Er.Pass:return"Target met";case Er.Fail:return"Target not met";default:return null}}function zS(t,e,n){if(t==null||!Number.isFinite(e)||e<=0)return null;const r=Math.abs((n-t)/e);return r<1?"Within 1Ïƒ":r<2?"Between 1â€“2Ïƒ":r<3?"Between 2â€“3Ïƒ":"Beyond 3Ïƒ"}const Un={improvement:{token:"var(--nhs-fdp-color-data-viz-spc-improvement, #00B0F0)",hex:"#00B0F0"},concern:{token:"var(--nhs-fdp-color-data-viz-spc-concern, #E46C0A)",hex:"#E46C0A"},neither:{token:"var(--nhs-fdp-color-data-viz-spc-common-cause, #A6A6A6)",hex:"#A6A6A6"},suppressed:{token:"var(--nhs-fdp-color-data-viz-spc-no-judgement, #490092)",hex:"#490092"}};function Vp(t){return t?Un[t]?.token??Un.neither.token:Un.neither.token}function HS(t){return t?Un[t]?.hex??Un.neither.hex:Un.neither.hex}var ai=(t=>(t.Pass="pass",t.Fail="fail",t.Uncertain="uncertain",t))(ai||{});const US={pass:"#00B0F0",fail:"#E46C0A",uncertain:"#A6A6A6"},WS={pass:"P",fail:"F",uncertain:"?"};var At=(t=>(t.HigherIsBetter="higher_is_better",t.LowerIsBetter="lower_is_better",t.ContextDependent="context_dependent",t))(At||{}),Ye=(t=>(t.Higher="higher",t.Lower="lower",t))(Ye||{}),hn=(t=>(t.Improving="improving",t.Deteriorating="deteriorating",t.No_Judgement="no_judgement",t.None="none",t))(hn||{}),Be=(t=>(t.SpecialCauseImproving="special_cause_improving",t.SpecialCauseDeteriorating="special_cause_deteriorating",t.CommonCause="common_cause",t.SpecialCauseNoJudgement="special_cause_no_judgement",t))(Be||{});const GS=t=>{const e=t.replace("#",""),n=parseInt(e.slice(0,2),16)/255,r=parseInt(e.slice(2,4),16)/255,i=parseInt(e.slice(4,6),16)/255,o=[n,r,i].map(a=>a<=.03928?a/12.92:Math.pow((a+.055)/1.055,2.4));return .2126*o[0]+.7152*o[1]+.0722*o[2]<.55?"#ffffff":"#212b32"},La={special_cause_deteriorating:{hex:Un.concern.hex,judgement:"deteriorating",label:"Special Cause (Deteriorating)",description:"Deteriorating variation detected (special cause) relative to baseline."},special_cause_improving:{hex:Un.improvement.hex,judgement:"improving",label:"Special Cause (Improving)",description:"Improving variation detected (special cause) relative to baseline."},common_cause:{hex:Un.neither.hex,judgement:"none",label:"Common Cause",description:"Common cause variation only â€“ no special cause detected."},special_cause_no_judgement:{hex:Un.suppressed.hex,judgement:"no_judgement",label:"Special Cause (No Judgement)",description:"Special cause detected without assigning improving/deteriorating judgement."}};Object.values(La).forEach(t=>{t.text||(t.text=GS(t.hex))});const Zp=t=>La[t],eu=t=>La[t].judgement||"none",qp={special:{higher:[{cx:77.5,cy:158.5},{cx:114,cy:175},{cx:150.5,cy:158.5},{cx:188,cy:125},{cx:225,cy:137}],lower:[{cx:77.5,cy:139.5},{cx:114,cy:124.5},{cx:150.5,cy:139.5},{cx:188,cy:175.5},{cx:224.5,cy:162}]},common:[{cx:76.5,cy:149.5},{cx:113,cy:179.5},{cx:149.5,cy:117},{cx:187,cy:171},{cx:223.5,cy:158}]};function YS(t,e){let n;return t==="common_cause"?n=qp.common:n=qp.special[e==="lower"?"lower":"higher"],n.map(r=>({...r}))}let tu=null;try{tu=require("@fergusbisset/nhs-fdp-design-system/dist/js/tokens.json")?.color?.["data-viz"]?.spc||null}catch{}const Kt=(t,e)=>{if(!tu)return e;const n=t.split(".");let r=tu;for(const o of n){if(r==null)break;r=r[o]}const i=r;return i==null?e:typeof i=="string"||typeof i=="number"?String(i):i.$value!=null?String(i.$value):i.value!=null?String(i.value):e},Pa=()=>({start:Kt("gradient.stop.start-opacity","0.12"),mid:Kt("gradient.stop.mid-opacity","0.03"),end:Kt("gradient.stop.end-opacity","0"),triStart:Kt("gradient.stop.triangle-start-opacity",Kt("gradient.stop.start-opacity","0.12")),triMid:Kt("gradient.stop.triangle-mid-opacity",Kt("gradient.stop.mid-opacity","0.03")),triEnd:Kt("gradient.stop.triangle-end-opacity",Kt("gradient.stop.end-opacity","0"))}),Aa={improvement:"improvement",concern:"concern",noJudgement:"no-judgement",common:"common-cause"},Ea={improvement:"#00B0F0",concern:"#E46C0A",noJudgement:"#490092",common:"#A6A6A6"},Xp=()=>Kt(Aa.improvement,Ea.improvement),Jp=()=>Kt(Aa.concern,Ea.concern),VS=()=>Kt(Aa.noJudgement,Ea.noJudgement),li=()=>Kt(Aa.common,Ea.common);function Fa(t){switch(t){case Je.Improvement:return Xp();case Je.Concern:return Jp();case Je.Neither:case Je.Suppressed:default:return li()}}function Kp(t){switch(t){case Be.SpecialCauseImproving:return Xp();case Be.SpecialCauseDeteriorating:return Jp();case Be.SpecialCauseNoJudgement:return VS();case Be.CommonCause:default:return li()}}var _n=(t=>(t.XmR="XmR",t.T="T",t.G="G",t))(_n||{}),Qe=(t=>(t.Up="Up",t.Down="Down",t.Neither="Neither",t))(Qe||{}),$e=(t=>(t.ImprovementHigh="ImprovementHigh",t.ImprovementLow="ImprovementLow",t.ConcernHigh="ConcernHigh",t.ConcernLow="ConcernLow",t.NeitherHigh="NeitherHigh",t.NeitherLow="NeitherLow",t.CommonCause="CommonCause",t))($e||{}),wt=(t=>(t.SinglePoint="SinglePoint",t.TwoSigma="TwoSigma",t.Shift="Shift",t.Trend="Trend",t))(wt||{}),ci=(t=>(t.Upwards="Upwards",t.Downwards="Downwards",t.Same="Same",t))(ci||{}),qn=(t=>(t.Up="Up",t.Down="Down",t))(qn||{}),Wi=(t=>(t.Improvement="Improvement",t.Concern="Concern",t))(Wi||{}),Gi=(t=>(t.SqlPrimeThenRule="SqlPrimeThenRule",t.PreferImprovement="PreferImprovement",t.RuleHierarchy="RuleHierarchy",t))(Gi||{}),Zt=(t=>(t.FavourableSide="FavourableSide",t.CrossingAfterFavourable="CrossingAfterFavourable",t.ExtremeFavourable="ExtremeFavourable",t.FirstFavourable="FirstFavourable",t.LongestFavourable="LongestFavourable",t.LastFavourable="LastFavourable",t.UnfavourableSide="UnfavourableSide",t.CrossingAfterUnfavourable="CrossingAfterUnfavourable",t.ExtremeUnfavourable="ExtremeUnfavourable",t.FirstUnfavourable="FirstUnfavourable",t.LongestUnfavourable="LongestUnfavourable",t.LastUnfavourable="LastUnfavourable",t))(Zt||{}),xr=(t=>(t.Off="Off",t.AutoWhenConflict="AutoWhenConflict",t.Always="Always",t))(xr||{}),Xn=(t=>(t.Info="info",t.Warning="warning",t.Error="error",t))(Xn||{}),$a=(t=>(t.Config="config",t.Data="data",t.Limits="limits",t.SpecialCause="special_cause",t.Baseline="baseline",t.Logic="logic",t.Target="target",t.Ghost="ghost",t.Partition="partition",t))($a||{}),Ba=(t=>(t.UnknownChartType="unknown_chart_type",t.InsufficientPointsGlobal="insufficient_points_global",t.VariationConflictRow="variation_conflict_row",t.NullValuesExcluded="null_values_excluded",t.TargetIgnoredRareEvent="target_ignored_rare_event",t.GhostRowsRareEvent="ghost_rows_rare_event",t.InsufficientPointsPartition="insufficient_points_partition",t.BaselineWithSpecialCause="baseline_with_special_cause",t.PartitionCapApplied="partition_cap_applied",t.GlobalCapApplied="global_cap_applied",t))(Ba||{});const Fr={[wt.SinglePoint]:1,[wt.TwoSigma]:2,[wt.Shift]:3,[wt.Trend]:4},Qp=3.267,ZS=2.66,em=.2777;function We(t){return typeof t=="number"&&!Number.isNaN(t)}function Yi(t){return t.reduce((e,n)=>e+n,0)/(t.length||1)}function tm(t,e){const n=new Array(t.length).fill(null);let r=null;for(let i=0;i<t.length;i++){const o=t[i];if(!(e[i]||!We(o))){if(r!==null){const s=t[r];We(s)&&(n[i]=Math.abs(o-s))}r=i}}return n}function nm(t,e){const n=t.filter(We);if(!n.length)return{mrMean:NaN,mrUcl:NaN};let r=n.slice();if(e){const o=Yi(r),s=Qp*o;r=r.filter(a=>a<=s)}const i=Yi(r);return{mrMean:i,mrUcl:Qp*i}}function rm(t,e){if(!We(t)||!We(e))return{upperProcessLimit:null,lowerProcessLimit:null,upperTwoSigma:null,lowerTwoSigma:null,upperOneSigma:null,lowerOneSigma:null};const n=ZS*e,r=2/3*n,i=1/3*n;return{upperProcessLimit:t+n,lowerProcessLimit:t-n,upperTwoSigma:t+r,lowerTwoSigma:t-r,upperOneSigma:t+i,lowerOneSigma:t-i}}function qS(t,e,n,r){if(t===_n.T){const f=e.map(k=>We(k)&&k>0?Math.pow(k,em):null),p=tm(f,n),h=nm(p,r),y=f.filter((k,v)=>!n[v]&&We(k)),m=y.length?Yi(y):NaN,g=rm(m,h.mrMean),N=k=>We(k)&&k>0?Math.pow(k,1/em):null,M=We(g.upperProcessLimit)?N(g.upperProcessLimit):null,j=We(g.lowerProcessLimit)&&g.lowerProcessLimit>0?N(g.lowerProcessLimit):null,_=We(g.upperTwoSigma)?N(g.upperTwoSigma):null,b=We(g.lowerTwoSigma)&&g.lowerTwoSigma>0?N(g.lowerTwoSigma):null,S=We(g.upperOneSigma)?N(g.upperOneSigma):null,C=We(g.lowerOneSigma)&&g.lowerOneSigma>0?N(g.lowerOneSigma):null;return{mean:We(m)&&m>0?N(m):null,mr:p,mrMean:h.mrMean,mrUcl:h.mrUcl,upperProcessLimit:M,lowerProcessLimit:j,upperTwoSigma:_,lowerTwoSigma:b,upperOneSigma:S,lowerOneSigma:C}}if(t===_n.G){const f=e.filter((A,I)=>!n[I]&&We(A)),p=f.length?Yi(f):NaN,h=We(p)?1/(p+1):NaN,y=A=>{if(!We(h)||h<=0||h>=1)return NaN;const I=Math.ceil(Math.log(1-A)/Math.log(1-h))-1;return Math.max(0,I)},m=.00135,g=1-.00135,N=.02275,M=1-.02275,j=.158655,_=1-.158655,b=y(g),S=y(m),C=y(M),k=y(N),v=y(_),x=y(j);return{mean:We(p)?p:null,mr:new Array(e.length).fill(null),mrMean:NaN,mrUcl:NaN,upperProcessLimit:We(b)?b:null,lowerProcessLimit:We(S)?S:null,upperTwoSigma:We(C)?C:null,lowerTwoSigma:We(k)?k:null,upperOneSigma:We(v)?v:null,lowerOneSigma:We(x)?x:null}}if(t!==_n.XmR)return{mean:NaN,mr:new Array(e.length).fill(null),mrMean:NaN,mrUcl:NaN,upperProcessLimit:null,lowerProcessLimit:null,upperTwoSigma:null,lowerTwoSigma:null,upperOneSigma:null,lowerOneSigma:null};const i=tm(e,n),o=i.filter(We),s=o.length?Yi(o):NaN,a=We(s)?3.267*s:NaN;let c=NaN;{const f=e.reduce((p,h,y)=>{if(n[y]||!We(h))return p;if(!r)return p.push(h),p;const m=i[y];return(m===null||!We(a)||We(m)&&m<=a)&&p.push(h),p},[]);c=f.length?Yi(f):NaN}const u=nm(i,r),d=rm(c,u.mrMean);return{mean:c,mr:i,mrMean:u.mrMean,mrUcl:u.mrUcl,...d}}function XS(t,e){const n=t.map((c,u)=>u).filter(c=>!t[c].ghost&&We(t[c].value)),r=c=>t[c],i=e.shiftPoints,o=e.trendPoints;let s=[],a=[];for(const c of n){const u=r(c);if(!We(u.mean)||!We(u.value)?(s=[],a=[]):u.value>u.mean?(s.push(c),a=[]):u.value<u.mean?(a.push(c),s=[]):(s=[],a=[]),s.length>=i)for(const d of s)r(d).shiftUp=!0;if(a.length>=i)for(const d of a)r(d).shiftDown=!0}for(let c=0;c<=n.length-3;c++){const d=n.slice(c,c+3).map(r);if(!d.every(_=>We(_.value)&&We(_.mean)))continue;const f=d[0].mean,p=d.every(_=>_.value>f),h=d.every(_=>_.value<f);if(!p&&!h)continue;const y=d[0].upperTwoSigma??1/0,m=d[0].lowerTwoSigma??-1/0,g=d[0].upperProcessLimit??1/0,N=d[0].lowerProcessLimit??-1/0,M=d.filter(_=>e.twoSigmaIncludeAboveThree?_.value>y:_.value>y&&_.value<=g),j=d.filter(_=>e.twoSigmaIncludeAboveThree?_.value<m:_.value<m&&_.value>=N);p&&M.length>=2&&M.forEach(_=>_.twoSigmaUp=!0),h&&j.length>=2&&j.forEach(_=>_.twoSigmaDown=!0)}if(e.enableFourOfFiveRule)for(let c=0;c<=n.length-5;c++){const d=n.slice(c,c+5).map(r);if(!d.every(M=>We(M.value)&&We(M.mean)))continue;const f=d[0].mean,p=d.every(M=>M.value>f),h=d.every(M=>M.value<f);if(!p&&!h)continue;const y=d[0].upperOneSigma??1/0,m=d[0].lowerOneSigma??-1/0,g=d.filter(M=>M.value>y),N=d.filter(M=>M.value<m);p&&g.length>=4&&g.forEach(M=>M.fourOfFiveUp=!0),h&&N.length>=4&&N.forEach(M=>M.fourOfFiveDown=!0)}for(let c=0;c<=n.length-o;c++){const u=n.slice(c,c+o),d=u.map(r);if(!d.every(h=>We(h.value)))continue;let f=!0,p=!0;for(let h=1;h<d.length&&(d[h].value>d[h-1].value||(f=!1),d[h].value<d[h-1].value||(p=!1),!(!f&&!p));h++);f&&u.forEach(h=>r(h).trendUp=!0),p&&u.forEach(h=>r(h).trendDown=!0)}}function im(t){const e=[],n=[];t.singlePointUp&&e.push({id:wt.SinglePoint,rank:Fr[wt.SinglePoint]}),t.singlePointDown&&n.push({id:wt.SinglePoint,rank:Fr[wt.SinglePoint]}),t.twoSigmaUp&&e.push({id:wt.TwoSigma,rank:Fr[wt.TwoSigma]}),t.twoSigmaDown&&n.push({id:wt.TwoSigma,rank:Fr[wt.TwoSigma]}),t.shiftUp&&e.push({id:wt.Shift,rank:Fr[wt.Shift]}),t.shiftDown&&n.push({id:wt.Shift,rank:Fr[wt.Shift]}),t.trendUp&&e.push({id:wt.Trend,rank:Fr[wt.Trend]}),t.trendDown&&n.push({id:wt.Trend,rank:Fr[wt.Trend]});const r=e.reduce((s,a)=>Math.max(s,a.rank),0),i=n.reduce((s,a)=>Math.max(s,a.rank),0),o=r>i?ci.Upwards:i>r?ci.Downwards:ci.Same;return{up:e,dn:n,upMax:r,dnMax:i,primeDirection:o}}function om(t,e){const n=e===Qe.Up?t.singlePointUp||t.twoSigmaUp||t.shiftUp||t.trendUp:e===Qe.Down?t.singlePointDown||t.twoSigmaDown||t.shiftDown||t.trendDown:!1,r=e===Qe.Up?t.singlePointDown||t.twoSigmaDown||t.shiftDown||t.trendDown:e===Qe.Down?t.singlePointUp||t.twoSigmaUp||t.shiftUp||t.trendUp:!1;return{aligned:n,opposite:r}}function sm(t,e,n,r=!1,i,o,s=!1){const{up:a,dn:c,upMax:u,dnMax:d,primeDirection:f}=im(t);t.primeDirection=f;const p=t.specialCauseImprovementValue,h=t.specialCauseConcernValue;t.specialCauseImprovementValue!==null&&t.specialCauseConcernValue!==null&&JS({row:t,metric:e,metricConflictRule:n,preferImprovementWhenConflict:r,preferTrendWhenConflict:s,primeDirection:f,conflictStrategy:i,ruleHierarchy:o}),e===Qe.Up?t.variationIcon=t.specialCauseImprovementValue!==null?$e.ImprovementHigh:t.specialCauseConcernValue!==null?$e.ConcernLow:$e.CommonCause:e===Qe.Down?t.variationIcon=t.specialCauseImprovementValue!==null?$e.ImprovementLow:t.specialCauseConcernValue!==null?$e.ConcernHigh:$e.CommonCause:t.variationIcon=$e.CommonCause;const y=t.specialCauseImprovementValue!==null?qn.Up:t.specialCauseConcernValue!==null?qn.Down:void 0,m=y===qn.Up?u:y===qn.Down?d:Math.max(u,d);t.primeRank=m||void 0;const g=y===qn.Up?a.find(N=>N.rank===m):y===qn.Down?c.find(N=>N.rank===m):void 0;return t.primeRuleId=g?.id,{originalImprovement:p,originalConcern:h}}function JS(t){const{row:e,metric:n,metricConflictRule:r,preferImprovementWhenConflict:i,preferTrendWhenConflict:o,primeDirection:s=e.primeDirection??ci.Same,conflictStrategy:a,ruleHierarchy:c}=t;if(o&&e.specialCauseImprovementValue!==null&&e.specialCauseConcernValue!==null){const d=!!e.trendUp,f=!!e.trendDown;if(n===Qe.Up){if(d&&!f){e.specialCauseConcernValue=null;return}if(!d&&f){e.specialCauseImprovementValue=null;return}}else if(n===Qe.Down){if(f&&!d){e.specialCauseConcernValue=null;return}if(!f&&d){e.specialCauseImprovementValue=null;return}}}const u=i?Gi.PreferImprovement:a??Gi.SqlPrimeThenRule;if(u===Gi.PreferImprovement){n===Qe.Up?e.specialCauseConcernValue=null:n===Qe.Down&&(e.specialCauseImprovementValue=null);return}if(u===Gi.RuleHierarchy){const d=c??[wt.Trend,wt.Shift,wt.TwoSigma,wt.SinglePoint],{up:f,dn:p}=im(e);for(const h of d){const y=f.some(g=>g.id===h),m=p.some(g=>g.id===h);if(y&&!m){n===Qe.Up?e.specialCauseConcernValue=null:e.specialCauseImprovementValue=null;return}if(m&&!y){n===Qe.Up?e.specialCauseImprovementValue=null:e.specialCauseConcernValue=null;return}if(y&&m){(n===Qe.Up||n===Qe.Down)&&(r===Wi.Improvement?e.specialCauseConcernValue=null:e.specialCauseImprovementValue=null);return}}}s===ci.Upwards?n===Qe.Up?e.specialCauseConcernValue=null:n===Qe.Down&&(e.specialCauseImprovementValue=null):s===ci.Downwards?n===Qe.Up?e.specialCauseImprovementValue=null:n===Qe.Down&&(e.specialCauseConcernValue=null):r===Wi.Improvement?e.specialCauseConcernValue=null:e.specialCauseImprovementValue=null}var nu=(t=>(t.Up="Up",t.Down="Down",t))(nu||{});function KS(t){return t>0?1:t<0?-1:0}function QS(t){const e=KS(t);if(e>0)return"Above";if(e<0)return"Below"}function am(t){const e=[],n=(s,a,c)=>({segStart:s,segSide:a,minV:c,maxV:c,maxAbsDelta:0}),r=(s,a,c,u,d)=>({minV:Math.min(c,s),maxV:Math.max(u,s),maxAbsDelta:Math.max(d,a)}),i=(s,a,c,u,d,f,p,h)=>{s.push({trendDirection:h,start:a,end:c,side:u,minValue:d,maxValue:f,maxAbsDeltaFromMean:p})};let o=0;for(;o<t.length;){const s=t[o];if(!s||s.value==null||s.ghost||!s.trendUp&&!s.trendDown){o++;continue}const a=s.trendUp?"Up":s.trendDown?"Down":void 0;let c=o,u=o;for(;u<t.length;u++){const N=t[u];if(!N||N.value==null||N.ghost||!(a==="Up"?N.trendUp:N.trendDown))break}const d=u-1,f=[];let p,h,y=1/0,m=-1/0,g=0;for(let N=c;N<=d;N++){const M=t[N];if(M.value==null)continue;const j=M.value-(M.mean??0),_=QS(j);if(!_){p!==void 0&&(i(f,p,N-1,h,y,m,g,a),p=void 0,h=void 0,y=1/0,m=-1/0,g=0);continue}if(p===void 0)({segStart:p,segSide:h,minV:y,maxV:m,maxAbsDelta:g}=(()=>{const b=n(N,_,M.value);return{segStart:b.segStart,segSide:b.segSide,minV:b.minV,maxV:b.maxV,maxAbsDelta:Math.abs(j)}})());else if(_!==h)i(f,p,N-1,h,y,m,g,a),{segStart:p,segSide:h,minV:y,maxV:m,maxAbsDelta:g}=(()=>{const b=n(N,_,M.value);return{segStart:b.segStart,segSide:b.segSide,minV:b.minV,maxV:b.maxV,maxAbsDelta:Math.abs(j)}})();else{const b=r(M.value,Math.abs(j),y,m,g);y=b.minV,m=b.maxV,g=b.maxAbsDelta}}p!==void 0&&i(f,p,d,h,y,m,g,a),e.push({trendDirection:a,start:c,end:d,segments:f}),o=d+1}return e}function ek(t){if(t===Qe.Up)return"Above";if(t===Qe.Down)return"Below"}function tk(t){if(t)return t==="Above"?"Below":"Above"}function lm(t,e){const n=e.strategy??Zt.CrossingAfterFavourable,r=ek(e.metricImprovement),i=tk(r),o=[];for(const s of t){if(!r){if(n===Zt.ExtremeFavourable||n===Zt.CrossingAfterFavourable){const a=s.segments;if(a.length===0)continue;let c=a[0];for(const u of a)u.maxAbsDeltaFromMean>c.maxAbsDeltaFromMean&&(c=u);o.push(c)}continue}if(n===Zt.FavourableSide){o.push(...s.segments.filter(a=>a.side===r));continue}if(n===Zt.UnfavourableSide){o.push(...s.segments.filter(a=>a.side===i));continue}if(n===Zt.CrossingAfterFavourable){const a=s.segments;let c;for(let u=0;u<a.length;u++){const d=a[u];if(d.side===r&&u>0&&a[u-1].side!==r){c=d;break}}if(!c){const u=a.filter(d=>d.side===r);u.length>0&&(c=u.reduce((d,f)=>f.end-f.start>d.end-d.start?f:d,u[0]))}c&&o.push(c);continue}if(n===Zt.CrossingAfterUnfavourable){const a=s.segments;let c;for(let u=0;u<a.length;u++){const d=a[u];if(d.side===i&&u>0&&a[u-1].side!==i){c=d;break}}if(!c){const u=a.filter(d=>d.side===i);u.length>0&&(c=u.reduce((d,f)=>f.end-f.start>d.end-d.start?f:d,u[0]))}c&&o.push(c);continue}if(n===Zt.ExtremeFavourable){const a=s.segments.filter(u=>u.side===r);if(a.length===0)continue;const c=a.reduce((u,d)=>d.maxAbsDeltaFromMean>u.maxAbsDeltaFromMean?d:u);o.push(c);continue}if(n===Zt.ExtremeUnfavourable){const a=s.segments.filter(u=>u.side===i);if(a.length===0)continue;const c=a.reduce((u,d)=>d.maxAbsDeltaFromMean>u.maxAbsDeltaFromMean?d:u);o.push(c);continue}if(n===Zt.FirstFavourable){const a=s.segments.find(c=>c.side===r);a&&o.push(a);continue}if(n===Zt.FirstUnfavourable){const a=s.segments.find(c=>c.side===i);a&&o.push(a);continue}if(n===Zt.LongestFavourable){const a=s.segments.filter(u=>u.side===r);if(a.length===0)continue;const c=a.reduce((u,d)=>d.end-d.start>u.end-u.start?d:u);o.push(c);continue}if(n===Zt.LongestUnfavourable){const a=s.segments.filter(u=>u.side===i);if(a.length===0)continue;const c=a.reduce((u,d)=>d.end-d.start>u.end-u.start?d:u);o.push(c);continue}if(n===Zt.LastFavourable){const a=s.segments.filter(c=>c.side===r);if(a.length===0)continue;o.push(a[a.length-1]);continue}if(n===Zt.LastUnfavourable){const a=s.segments.filter(c=>c.side===i);if(a.length===0)continue;o.push(a[a.length-1]);continue}}return o}var xt=(t=>(t.Common="Common",t.Improvement="Improvement",t.Concern="Concern",t.NoJudgement="NoJudgement",t))(xt||{}),Vi=(t=>(t.Ungated="Ungated",t.Gated="Gated",t))(Vi||{});function nk(t){const e=!!(t.singlePointUp||t.twoSigmaUp||t.shiftUp||t.trendUp),n=!!(t.singlePointDown||t.twoSigmaDown||t.shiftDown||t.trendDown);return{upAny:e,downAny:n}}function Oo(t,e){const n=e.metricImprovement,r=e.trendVisualMode??"Ungated",i=e.enableNeutralNoJudgement??!0;return t.map(o=>{if(!o||o.value==null||o.ghost)return"Common";const{upAny:s,downAny:a}=nk(o);if(s&&a)return"Improvement";switch(o.variationIcon){case $e.ImprovementHigh:case $e.ImprovementLow:return"Improvement";case $e.ConcernHigh:case $e.ConcernLow:return"Concern";case $e.NeitherHigh:case $e.NeitherLow:{if(r==="Ungated"&&n!==Qe.Neither){if(s&&!a)return n===Qe.Up?"Improvement":"Concern";if(a&&!s)return n===Qe.Down?"Improvement":"Concern"}return i?"NoJudgement":"Common"}default:return"Common"}})}function rk(t,e,n){const r=n?.mode??"Disabled";if(!t.length)return[];let i=Oo(t,{metricImprovement:e,trendVisualMode:Vi.Ungated,enableNeutralNoJudgement:!0});if(r!=="RecalcCrossing"||e===Qe.Neither)return i;const o=Math.max(0,n?.preWindow??2),s=Math.max(0,n?.postWindow??3),a=n?.prePolarity??"Opposite",c=(f,p)=>{if(f<0||f>=i.length)return;const h=i[f];(h===xt.Common||h===xt.NoJudgement)&&(i[f]=p)},u=f=>{if(f==null)return null;const p=t.reduce((y,m)=>(m.partitionId===f&&typeof m.value=="number"&&!m.ghost&&y.push(m.value),y),[]);return p.length?p.reduce((y,m)=>y+m,0)/p.length:null},d=Array.isArray(n?.boundaryIndices)&&n.boundaryIndices.length?n.boundaryIndices.slice().filter(f=>Number.isFinite(f)):t.reduce((f,p,h)=>{if(h===0)return f;const y=t[h-1];return y&&p&&p.partitionId!==y.partitionId&&f.push(h),f},[]);for(const f of d){const p=t[f-1],h=t[f];if(!p||!h)continue;let y=f-1;for(;y-1>=0&&t[y-1]&&t[y-1].partitionId===p.partitionId;)y--;let m=f;for(;m+1<t.length&&t[m+1]&&t[m+1].partitionId===h.partitionId;)m++;let g=null;for(let S=f-1;S>=0;S--){const C=t[S];if(C.partitionId!==p.partitionId)break;if(typeof C.mean=="number"){g=C.mean;break}}let N=null;for(let S=f;S<t.length;S++){const C=t[S];if(C.partitionId!==h.partitionId)break;if(typeof C.mean=="number"){N=C.mean;break}}if(g==null&&(g=u(p.partitionId??null)),N==null&&(N=u(h.partitionId??null)),g==null||N==null)continue;const M=N-g,j=e===Qe.Up?M>0:M<0,_=j?xt.Improvement:xt.Concern,b=a==="Same"?_:j?xt.Concern:xt.Improvement;for(let S=1;S<=o;S++){const C=f-S;if(C<y)break;c(C,b)}for(let S=0;S<s;S++){const C=f+S;if(C>m)break;c(C,_)}}return i}function cm(t){if(!t)return{};if(typeof t=="object"&&("minimumPoints"in t||"shiftPoints"in t||"trendPoints"in t))return t;const e=t,n={};if(e.thresholds){const r=e.thresholds;r.minimumPoints!=null&&(n.minimumPoints=r.minimumPoints),r.shiftPoints!=null&&(n.shiftPoints=r.shiftPoints),r.trendPoints!=null&&(n.trendPoints=r.trendPoints),r.excludeMovingRangeOutliers!=null&&(n.excludeMovingRangeOutliers=r.excludeMovingRangeOutliers)}if(e.eligibility&&e.eligibility.chartLevel!=null&&(n.chartLevelEligibility=e.eligibility.chartLevel),e.parity&&(e.parity.trendAcrossPartitions!=null&&(n.trendAcrossPartitions=e.parity.trendAcrossPartitions),e.parity.twoSigmaIncludeAboveThree!=null&&(n.twoSigmaIncludeAboveThree=e.parity.twoSigmaIncludeAboveThree),e.parity.enableFourOfFiveRule!=null&&(n.enableFourOfFiveRule=e.parity.enableFourOfFiveRule)),e.conflict&&(e.conflict.preferImprovementWhenConflict!=null&&(n.preferImprovementWhenConflict=e.conflict.preferImprovementWhenConflict),e.conflict.preferTrendWhenConflict!=null&&(n.preferTrendWhenConflict=e.conflict.preferTrendWhenConflict),e.conflict.strategy!=null&&(n.conflictStrategy=e.conflict.strategy),e.conflict.ruleHierarchy!=null&&(n.ruleHierarchy=e.conflict.ruleHierarchy),e.conflict.metricRuleOnTie!=null&&(n.metricConflictRule=e.conflict.metricRuleOnTie)),e.trend?.segmentation){const r=e.trend.segmentation;r.mode!=null&&(n.trendSegmentationMode=r.mode),r.favourableSegmentation!=null&&(n.trendFavourableSegmentation=r.favourableSegmentation),r.strategy!=null&&(n.trendSegmentationStrategy=r.strategy),r.dominatesHighlightedWindow!=null&&(n.trendDominatesHighlightedWindow=r.dominatesHighlightedWindow)}return n}function Ro(t){const{chartType:e,metricImprovement:n,data:r}=t,i=cm(t.settings),o={minimumPoints:13,shiftPoints:6,trendPoints:6,excludeMovingRangeOutliers:!1,metricConflictRule:Wi.Improvement,trendAcrossPartitions:!1,twoSigmaIncludeAboveThree:!1,enableFourOfFiveRule:!1,preferImprovementWhenConflict:!1,conflictStrategy:Gi.SqlPrimeThenRule,ruleHierarchy:void 0,chartLevelEligibility:!1,trendFavourableSegmentation:!1,trendSegmentationMode:xr.Off,trendSegmentationStrategy:Zt.CrossingAfterUnfavourable,trendDominatesHighlightedWindow:!1,...i},s=i?.trendSegmentationMode||(i?.trendFavourableSegmentation===!0?xr.Always:i?.trendFavourableSegmentation===!1?xr.Off:o.trendSegmentationMode),a=r.map((m,g)=>({rowId:g+1,x:m.x,value:We(m.value)?m.value:null,ghost:!!m.ghost,baseline:!!m.baseline,target:We(m.target)?m.target:null})),c=[];let u=[];for(const m of a)m.baseline&&u.length&&(c.push(u),u=[]),u.push(m);u.length&&c.push(u);const d=[],f=(o.trendFavourableSegmentation||s!==xr.Off)&&!o.preferImprovementWhenConflict,p=a.filter(m=>!m.ghost&&We(m.value)).length,h=!!o.chartLevelEligibility&&p>=o.minimumPoints;let y=0;for(const m of c){y++;const g=m.map(b=>b.value),N=m.map(b=>b.ghost),M=qS(e,g,N,!!o.excludeMovingRangeOutliers),j=m.map((b,S)=>{const C=!b.ghost&&We(b.value)?g.slice(0,S+1).filter((v,x)=>!N[x]&&We(v)).length:0,k=h?!0:C>=o.minimumPoints;return{rowId:b.rowId,x:b.x,value:We(b.value)?b.value:null,ghost:b.ghost,partitionId:y,pointRank:C,mean:(k||h)&&We(M.mean)?M.mean:null,upperProcessLimit:k||h?M.upperProcessLimit:null,lowerProcessLimit:k||h?M.lowerProcessLimit:null,upperTwoSigma:k||h?M.upperTwoSigma:null,lowerTwoSigma:k||h?M.lowerTwoSigma:null,upperOneSigma:k||h?M.upperOneSigma:null,lowerOneSigma:k||h?M.lowerOneSigma:null,singlePointUp:!1,singlePointDown:!1,twoSigmaUp:!1,twoSigmaDown:!1,fourOfFiveUp:!1,fourOfFiveDown:!1,shiftUp:!1,shiftDown:!1,trendUp:!1,trendDown:!1,specialCauseImprovementValue:null,specialCauseConcernValue:null,variationIcon:$e.CommonCause}});for(const b of j)b.ghost||!We(b.value)||b.mean===null||(We(b.upperProcessLimit)&&b.value>b.upperProcessLimit&&(b.singlePointUp=!0),We(b.lowerProcessLimit)&&b.value<b.lowerProcessLimit&&(b.singlePointDown=!0));XS(j,{shiftPoints:o.shiftPoints,trendPoints:o.trendPoints,twoSigmaIncludeAboveThree:!!o.twoSigmaIncludeAboveThree,enableFourOfFiveRule:!!o.enableFourOfFiveRule}),f&&(b=>{const S=b.some(A=>(A.singlePointUp||A.twoSigmaUp||A.shiftUp||A.trendUp)&&(A.singlePointDown||A.twoSigmaDown||A.shiftDown||A.trendDown));if(s===xr.Off||s===xr.AutoWhenConflict&&!S)return;const C=am(b),k=lm(C,{metricImprovement:n,strategy:o.trendSegmentationStrategy}),v=new Set,x=new Set;for(const A of k)for(let I=A.start;I<=A.end;I++)A.trendDirection===nu.Up?v.add(I):x.add(I);b.forEach((A,I)=>{A.trendUp=v.has(I)?A.trendUp:!1,A.trendDown=x.has(I)?A.trendDown:!1,o.trendDominatesHighlightedWindow&&(v.has(I)?(A.singlePointDown=!1,A.twoSigmaDown=!1,A.shiftDown=!1):x.has(I)&&(A.singlePointUp=!1,A.twoSigmaUp=!1,A.shiftUp=!1))})})(j);for(const b of j){if(b.ghost||!We(b.value)||b.mean===null){d.push(b);continue}const{aligned:S,opposite:C}=om(b,n);if(b.specialCauseImprovementValue=S?b.value:null,b.specialCauseConcernValue=C?b.value:null,n===Qe.Neither){const k=b.singlePointUp||b.twoSigmaUp||b.shiftUp||b.trendUp,v=b.singlePointDown||b.twoSigmaDown||b.shiftDown||b.trendDown;b.variationIcon=k?$e.NeitherHigh:v?$e.NeitherLow:$e.CommonCause}else sm(b,n,o.metricConflictRule,o.preferImprovementWhenConflict===!0,o.conflictStrategy,o.ruleHierarchy,o.preferTrendWhenConflict===!0);d.push(b)}}if(o.trendAcrossPartitions){const m=d.map((g,N)=>({idx:N,r:g})).filter(({r:g})=>!g.ghost&&We(g.value));if(m.length>=o.trendPoints)for(let g=0;g<=m.length-o.trendPoints;g++){const N=m.slice(g,g+o.trendPoints).map(b=>b.idx),M=N.map(b=>d[b]);if(!M.every(b=>We(b.value)))continue;let j=!0,_=!0;for(let b=1;b<M.length&&(M[b].value>M[b-1].value||(j=!1),M[b].value<M[b-1].value||(_=!1),!(!j&&!_));b++);j&&N.forEach(b=>d[b].trendUp=!0),_&&N.forEach(b=>d[b].trendDown=!0)}}if(o.trendAcrossPartitions){if(f){const m=d.some(g=>(g.singlePointUp||g.twoSigmaUp||g.shiftUp||g.trendUp)&&(g.singlePointDown||g.twoSigmaDown||g.shiftDown||g.trendDown));if(s===xr.Always||s===xr.AutoWhenConflict&&m){const g=am(d),N=lm(g,{metricImprovement:n,strategy:o.trendSegmentationStrategy}),M=new Set,j=new Set;for(const _ of N)for(let b=_.start;b<=_.end;b++)_.trendDirection===nu.Up?M.add(b):j.add(b);d.forEach((_,b)=>{_.trendUp=M.has(b)?_.trendUp:!1,_.trendDown=j.has(b)?_.trendDown:!1,o.trendDominatesHighlightedWindow&&(M.has(b)?(_.singlePointDown=!1,_.twoSigmaDown=!1,_.shiftDown=!1):j.has(b)&&(_.singlePointUp=!1,_.twoSigmaUp=!1,_.shiftUp=!1))})}}for(const m of d){if(m.ghost||!We(m.value)||m.mean===null||n===Qe.Neither)continue;const{aligned:g,opposite:N}=om(m,n);m.specialCauseImprovementValue=g?m.value:null,m.specialCauseConcernValue=N?m.value:null,sm(m,n,o.metricConflictRule,o.preferImprovementWhenConflict===!0,o.conflictStrategy,o.ruleHierarchy,o.preferTrendWhenConflict===!0)}}return{rows:d}}function ru(t,e){const n=Ro(t),r=Oo(n.rows,{metricImprovement:t.metricImprovement,trendVisualMode:e?.trendVisualMode??Vi.Ungated,enableNeutralNoJudgement:e?.enableNeutralNoJudgement??!0}),i=e?.boundaryWindows;if(!i||i.mode!=="RecalcCrossing")return{rows:n.rows,visuals:r};const o=i.directionOverride??t.metricImprovement,s=rk(n.rows,o,i),a=r.map((c,u)=>{const d=s[u];if(c===xt.Common||c===xt.NoJudgement){if(d===xt.Improvement)return xt.Improvement;if(d===xt.Concern)return xt.Concern}return c});return{rows:n.rows,visuals:a}}var um=(t=>(t.None="none",t.RecalcCrossingShift="recalc-crossing-shift",t.RecalcCrossingTrend="recalc-crossing-trend",t.RecalcCrossingTwoSigma="recalc-crossing-two-sigma",t.RecalculationsRecalculated="recalculations-recalculated",t.BaselinesRecalculated="baselines-recalculated",t))(um||{});function ik(t,e,n){const r=n?.trendVisualMode??Vi.Ungated,i=n?.enableNeutralNoJudgement??!0,o=Array.isArray(t.data)?t.data.map((f,p)=>f?.baseline?p:-1).filter(f=>f>=0):[];let s;switch(e){case"recalc-crossing-shift":{s={mode:"RecalcCrossing",preWindow:2,postWindow:4,prePolarity:"Same",boundaryIndices:o};break}case"recalc-crossing-trend":{s={mode:"RecalcCrossing",preWindow:1,postWindow:5,prePolarity:"Same",boundaryIndices:o};break}case"recalc-crossing-two-sigma":{s={mode:"RecalcCrossing",preWindow:1,postWindow:1,prePolarity:"Same",boundaryIndices:o};break}case"baselines-recalculated":s={mode:"RecalcCrossing",preWindow:0,postWindow:0,prePolarity:"Same",directionOverride:t.metricImprovement,boundaryIndices:o};break;case"recalculations-recalculated":case"none":default:s=void 0}const{rows:a,visuals:c}=ru(t,{trendVisualMode:r,enableNeutralNoJudgement:i,boundaryWindows:s});let u=c.slice(),d=o.length?o[0]:-1;if(d<0){for(let f=1;f<a.length;f++)if(a[f].partitionId!==a[f-1].partitionId){d=f;break}}return(e==="recalculations-recalculated"||e==="baselines-recalculated")&&d>0&&(u[d-1]=xt.Common),{rows:a,visuals:u}}const dm=Object.freeze({minimumPoints:13,shiftPoints:6,trendPoints:6,excludeMovingRangeOutliers:!1,metricConflictRule:Wi.Improvement,trendAcrossPartitions:!0,twoSigmaIncludeAboveThree:!0,chartLevelEligibility:!0});function ok(t){return{...dm,...t??{}}}var Ot=(t=>(t.Concern="concern",t.Improvement="improvement",t.NoJudgement="noJudgement",t.Common="common",t))(Ot||{}),ui=(t=>(t.Classic="classic",t.Triangle="triangle",t.TriangleWithRun="triangleWithRun",t))(ui||{}),zo=(t=>(t.Direction="direction",t.Polarity="polarity",t))(zo||{});const iu=t=>{const e=()=>{globalThis.__spcIconDeprecationEmitted||(console.warn("[SPCVariationIcon] Deprecated payload shape detected. Migrate to { variationIcon, improvementDirection, specialCauseNeutral?, trend? }."),globalThis.__spcIconDeprecationEmitted=!0)};if(t.variationIcon!==void 0){const s=t;let a;s.improvementDirection!==void 0?a=s.improvementDirection===Qe.Up?At.HigherIsBetter:s.improvementDirection===Qe.Down?At.LowerIsBetter:At.ContextDependent:s.polarity&&(a=s.polarity);let c;const u=s.variationIcon;if(u===Je.Improvement||u===Je.Concern||u===Je.Neither||u===Je.Suppressed)u===Je.Improvement?c=Be.SpecialCauseImproving:u===Je.Concern?c=Be.SpecialCauseDeteriorating:u===Je.Neither?c=Be.CommonCause:c=Be.SpecialCauseNoJudgement;else switch(s.variationIcon){case $e.ImprovementHigh:case $e.ImprovementLow:c=Be.SpecialCauseImproving;break;case $e.ConcernHigh:case $e.ConcernLow:c=Be.SpecialCauseDeteriorating;break;case $e.NeitherHigh:case $e.NeitherLow:c=s.specialCauseNeutral?Be.SpecialCauseNoJudgement:Be.CommonCause;break;case $e.CommonCause:c=Be.CommonCause;break;default:c=Be.SpecialCauseNoJudgement;break}let d=s.trend;return d||(c===Be.SpecialCauseImproving?d=a===At.LowerIsBetter?Ye.Lower:Ye.Higher:c===Be.SpecialCauseDeteriorating?d=a===At.LowerIsBetter?Ye.Higher:Ye.Lower:c===Be.SpecialCauseNoJudgement?s.highSideSignal&&!s.lowSideSignal?d=Ye.Higher:s.lowSideSignal&&!s.highSideSignal?d=Ye.Lower:d=Ye.Higher:d=Ye.Higher),{state:c,direction:d,polarity:a??At.ContextDependent}}if(t.state!==void 0){e();const s=t;let a=s.trend;return!a&&(s.state===Be.SpecialCauseImproving||s.state===Be.SpecialCauseDeteriorating)&&s.polarity&&(s.state===Be.SpecialCauseImproving?a=s.polarity===At.LowerIsBetter?Ye.Lower:Ye.Higher:a=s.polarity===At.LowerIsBetter?Ye.Higher:Ye.Lower),a||(s.state===Be.SpecialCauseImproving?a=Ye.Higher:s.state===Be.SpecialCauseDeteriorating?a=Ye.Lower:a=Ye.Higher),{state:s.state,direction:a,polarity:s.polarity??At.ContextDependent}}const n=t;e();const i={[hn.Improving]:Be.SpecialCauseImproving,[hn.Deteriorating]:Be.SpecialCauseDeteriorating,[hn.No_Judgement]:Be.SpecialCauseNoJudgement,[hn.None]:Be.CommonCause}[n.judgement];let o;return n.judgement===hn.Improving?o=n.polarity===At.LowerIsBetter?Ye.Lower:Ye.Higher:n.judgement===hn.Deteriorating?o=n.polarity===At.LowerIsBetter?Ye.Higher:Ye.Lower:o=n.trend??Ye.Higher,{state:i,direction:o,polarity:n.polarity}};function fm(t,e){const{state:n,direction:r,polarity:i}=iu(t),o=eu(n),s=r===Ye.Higher?"above":"below",a=r===Ye.Higher?"upwards":"downwards",c=(()=>{switch(i){case At.HigherIsBetter:return"For this measure, higher values are better.";case At.LowerIsBetter:return"For this measure, lower values are better.";default:return"Direction of improvement is context dependent."}})();return[(()=>{switch(o){case hn.Improving:return`Special cause improvement: recent data show a sustained run ${s} the mean (unlikely due to random variation).`;case hn.Deteriorating:return`Special cause deterioration: recent data show a sustained run ${s} the mean (unlikely due to random variation).`;case hn.No_Judgement:return`Special cause detected (no value judgement): recent data show a change in level, trending ${a}.`;case hn.None:default:return"Common cause variation: points vary randomly around the mean; no special cause detected."}})(),c,null,null,null,null,null].filter(Boolean).join(" ")}const ou=(t,e,n,r,i,o)=>l.jsxs("defs",{children:[r&&l.jsxs("filter",{id:e,filterUnits:"objectBoundingBox",children:[l.jsx("feGaussianBlur",{stdDeviation:"3"}),l.jsx("feOffset",{dx:"0",dy:"15",result:"blur"}),l.jsx("feFlood",{floodColor:"rgb(150,150,150)",floodOpacity:"1"}),l.jsx("feComposite",{in2:"blur",operator:"in",result:"colorShadow"}),l.jsx("feComposite",{in:"SourceGraphic",in2:"colorShadow",operator:"over"})]}),i&&l.jsx("linearGradient",{id:n,x1:"0%",y1:"0%",x2:"100%",y2:"100%",children:o.map(s=>l.jsx("stop",{offset:s.offset,stopColor:t,stopOpacity:parseFloat(s.opacity)},s.offset))})]}),su=({data:t,precomputed:e,improvementDirection:n,size:r=44,ariaLabel:i,showLetter:o=!0,dropShadow:s=!0,gradientWash:a=!1,variant:c=ui.Classic,runLength:u=0,letterMode:d=zo.Polarity,letterOverride:f,...p})=>{const h=$.useId(),y=$.useId(),{start:m,mid:g,end:N,triStart:M,triMid:j,triEnd:_}=Pa(),{state:b,direction:S,polarity:C,ariaInput:k}=$.useMemo(()=>{if(e&&e.lastVariationIcon!==void 0){const ee={variationIcon:e.lastVariationIcon,improvementDirection:n??Qe.Neither,specialCauseNeutral:e.latestState===Be.SpecialCauseNoJudgement},{state:z,direction:oe,polarity:J}=iu(ee);return{state:z,direction:oe,polarity:J,ariaInput:ee}}const{state:Q,direction:G,polarity:U}=iu(t);return{state:Q,direction:G,polarity:U,ariaInput:t}},[t,e,n]),v=$.useMemo(()=>Zp(b),[b]),x=$.useMemo(()=>eu(b),[b]),A=x===hn.Improving||x===hn.Deteriorating;let I="";o&&A&&(d===zo.Polarity?C===At.HigherIsBetter?I="H":C===At.LowerIsBetter?I="L":I="":I=S===Ye.Higher?"H":"L"),f!==void 0&&(I=f);const O=b!==Be.CommonCause,E=b===Be.SpecialCauseNoJudgement,L=Kt("common-cause","#A6A6A6"),D=O?v.hex:L,F=$.useMemo(()=>YS(b,S),[b,S]),K=i||`${v.label}${I?S===Ye.Higher?" â€“ Higher":" â€“ Lower":""}`,W=fm(k);if(c===ui.TriangleWithRun){const ee=[[150,90],[100,190],[200,190]],z=[[150,140+100/2],[150-100/2,140-100/2],[150+100/2,140-100/2]];let oe=null;b===Be.SpecialCauseImproving||b===Be.SpecialCauseDeteriorating?oe=l.jsx("polygon",{points:(S===Ye.Higher?ee:z).map(he=>he.join(",")).join(" "),fill:v.hex,stroke:v.hex,strokeWidth:6,transform:S===Ye.Higher?"translate(0, -8)":"translate(0, 15)"}):b===Be.SpecialCauseNoJudgement&&(oe=l.jsx("polygon",{points:S===Ye.Higher?ee.map(he=>he.join(",")).join(" "):z.map(he=>he.join(",")).join(" "),fill:v.hex,stroke:v.hex,strokeWidth:6,transform:S===Ye.Higher?"translate(0,-7)":"translate(0,14)"}));const J=Math.max(0,Math.min(5,Math.floor(u||0))),re=b===Be.CommonCause?160:S===Ye.Higher?220:70,te=10,ae=26,fe=150-2*ae,q=b===Be.CommonCause?L:Kp(b),ce=Array.from({length:5}).map((he,V)=>{const Pe=(b===Be.SpecialCauseImproving||b===Be.SpecialCauseDeteriorating)&&V>=5-J?q:L;return l.jsx("circle",{cx:fe+V*ae,cy:re,r:te,fill:Pe,stroke:Pe,strokeWidth:1},V)}),ue=ou(v.hex,h,y,s,a,[{offset:"0%",opacity:M},{offset:"75%",opacity:j},{offset:"100%",opacity:_}]),ge=b===Be.CommonCause||S===Ye.Higher?"translate(0,-10)":"translate(0,25)";return l.jsxs("svg",{width:r,height:r,viewBox:"0 0 300 300",role:"img","aria-label":K,"aria-description":W,...p,children:[ue,l.jsx("circle",{stroke:"none",fill:a?`url(#${y})`:"#ffffff",...s?{filter:`url(#${h})`}:{},cx:"150",cy:"150",r:"120"}),l.jsx("circle",{stroke:v.hex,strokeWidth:15,strokeMiterlimit:10,fill:"none",cx:"150",cy:"150",r:"120"}),l.jsxs("g",{transform:ge,children:[oe,I&&l.jsx("text",{fill:"#fff",fontFamily:"'Frutiger W01', Frutiger, Arial, 'Helvetica Neue', Helvetica, sans-serif",fontWeight:"bold",fontSize:64,x:"150",y:S===Ye.Higher?155:145,textAnchor:"middle",dominantBaseline:"middle",children:I}),ce]})]})}if(c===ui.Triangle){const ee=[[150,75],[75,225],[225,225]],z=[[150,150+150/2],[150-150/2,150-150/2],[150+150/2,150-150/2]],oe=[[150-150/2,150+150/2],[150+150/2,150+150/2]];let J=null;b===Be.SpecialCauseImproving||b===Be.SpecialCauseDeteriorating?J=l.jsx("polygon",{points:(S===Ye.Higher?ee:z).map(te=>te.join(",")).join(" "),fill:v.hex,stroke:v.hex,strokeWidth:8,transform:S===Ye.Higher?"translate(0, -10)":"translate(0, 10)"}):b===Be.SpecialCauseNoJudgement?J=l.jsx("polygon",{points:S===Ye.Higher?ee.map(te=>te.join(",")).join(" "):z.map(te=>te.join(",")).join(" "),fill:v.hex,stroke:v.hex,strokeWidth:8,transform:S===Ye.Higher?"translate(0, -15)":"translate(0, 15)"}):b===Be.CommonCause&&(J=l.jsx("line",{x1:oe[0][0],y1:oe[0][1],x2:oe[1][0],y2:oe[1][1],stroke:v.hex,strokeWidth:32,strokeLinecap:"square",transform:"translate(0, -75)"}));const re=ou(v.hex,h,y,s,a,[{offset:"0%",opacity:M},{offset:"65%",opacity:j},{offset:"100%",opacity:_}]);return l.jsxs("svg",{width:r,height:r,viewBox:"0 0 300 300",role:"img","aria-label":K,"aria-description":W,...p,children:[re,l.jsx("circle",{stroke:"none",fill:a?`url(#${y})`:"#ffffff",...s?{filter:`url(#${h})`}:{},cx:"150",cy:"150",r:"120"}),l.jsx("circle",{stroke:v.hex,strokeWidth:15,strokeMiterlimit:10,fill:"none",cx:"150",cy:"150",r:"120"}),J,I&&(b===Be.SpecialCauseImproving||b===Be.SpecialCauseDeteriorating)&&l.jsx("text",{fill:"#fff",fontFamily:"'Frutiger W01', Frutiger, Arial, 'Helvetica Neue', Helvetica, sans-serif",fontWeight:"bold",fontSize:100,x:"150",y:S===Ye.Higher?"170":"140",textAnchor:"middle",dominantBaseline:"middle",children:I})]})}const T=ou(v.hex,h,y,s,a,[{offset:"0%",opacity:m},{offset:"65%",opacity:g},{offset:"100%",opacity:N}]);return l.jsxs("svg",{width:r,height:r,viewBox:"0 0 300 300",role:"img","aria-label":K,"aria-description":W,...p,children:[T,l.jsx("circle",{stroke:"none",fill:a?`url(#${y})`:"#ffffff",...s?{filter:`url(#${h})`}:{},cx:"150",cy:"150",r:"120"}),l.jsx("circle",{stroke:v.hex,strokeWidth:15,strokeMiterlimit:10,fill:"none",cx:"150",cy:"150",r:"120"}),I&&l.jsx("text",{fill:v.hex,fontFamily:"Arial-BoldMT, Arial, 'Helvetica Neue', Helvetica, sans-serif",fontWeight:"bold",fontSize:176,transform:"translate(86.67, 54) scale(0.5, 0.5)",textAnchor:"end",children:l.jsx("tspan",{x:"120",y:S===Ye.Lower?"340":"155",children:I})}),E?l.jsx("path",{"aria-hidden":"true",fillRule:"evenodd",stroke:"none",fill:v.hex,...S===Ye.Lower?{transform:"rotate(90 150 150)"}:{transform:"translate(-5 0) rotate(0 150 150)"},d:"M 90.26,185.42 L 149.31,126.37 127.44,104.51 209.81,90.66 195.96,173.02 174.09,151.16 115.05,210.2 90.26,185.42 Z M 90.26,185.42"}):l.jsxs(l.Fragment,{children:[F.length===5&&l.jsx("path",{"aria-hidden":"true",fill:"none",stroke:L,strokeWidth:12,strokeLinecap:"round",strokeLinejoin:"round",opacity:.9,d:`M ${F.map(Q=>`${Q.cx} ${Q.cy}`).join(" L ")}`}),F.map((Q,G)=>{const ee=G>=F.length-2&&O?D:L,z=ee;return l.jsx("circle",{stroke:z,strokeWidth:2,strokeMiterlimit:10,fill:ee,cx:Q.cx,cy:Q.cy,r:16},G)})]})]})};su.displayName="SPCVariationIcon";const sk={[Pt.Xs]:{height:24,pointR:2,stroke:1},[Pt.Sm]:{height:32,pointR:3,stroke:1},[Pt.Md]:{height:44,pointR:4,stroke:1},[Pt.Lg]:{height:56,pointR:5,stroke:1},[Pt.Xl]:{height:72,pointR:6,stroke:1},[Pt.Full]:{height:44,pointR:2,stroke:1}};function ak(t,e){return!e||t.length<=e?t:t.slice(t.length-e)}function lk(t){const e=t.filter(s=>typeof s.value=="number");if(!e.length)return{mean:null,latestValue:null,latestIndex:null};const n=e.reduce((s,a)=>s+a.value,0)/e.length,r=[...t].reverse().findIndex(s=>s.value!=null),i=r>=0?t.length-1-r:null,o=i!=null?t[i].value:null;return{mean:n,latestValue:o,latestIndex:i}}const ck=t=>Kp(t),hm=({data:t,windowSize:e,minPointsForSignals:n=13,showMean:r=!0,showLimits:i=!0,showLimitBand:o=!0,showInnerBands:s=!1,showLatestMarker:a=!0,showStateGlyph:c=!0,variationState:u,metricImprovement:d,gradientWash:f=!1,size:p=Pt.Sm,ariaLabel:h,className:y,onPointClick:m,maxPoints:g,thinningStrategy:N="stride",colorPointsBySignal:M=!0,centerLine:j,controlLimits:_,sigmaBands:b,pointSignals:S,pointNeutralSpecialCause:C,visualCategories:k})=>{const v=d,x=$.useMemo(()=>ak(t,e),[t,e]),A=$.useMemo(()=>lk(x),[x]),I=(()=>{if(typeof p=="string")switch(p){case"xs":return Pt.Xs;case"sm":return Pt.Sm;case"md":return Pt.Md;case"lg":return Pt.Lg;case"xl":return Pt.Xl;case"full":return Pt.Full;default:return Pt.Sm}return p??Pt.Sm})(),O=sk[I],E=Math.max(x.length*6,60),L=E,D=I===Pt.Full?"100%":E,F=O.height,K=$.useMemo(()=>{if(I===Pt.Full)return{width:"100%",height:"auto",aspectRatio:`${L} / ${F}`,display:"block"}},[I,L,F]),W=Math.max(6,O.pointR+3),T=Math.max(4,O.pointR+3),Q=$.useMemo(()=>(t?.length??0)-(x?.length??0),[t?.length,x?.length]),G=j??A.mean??null,U=$.useMemo(()=>{if(!i)return null;if(_)return _;const Z=x.filter(B=>typeof B.value=="number");if(!Z.length||G==null)return null;const P=Z.map(B=>B.value),R=Math.min(...P),X=Math.max(...P);return{lower:R,upper:X}},[i,_?.lower,_?.upper,x,G]),z=$.useMemo(()=>({state:u??Be.CommonCause,firedRules:[],mean:G??null,stdDev:null,side:A.latestValue!=null&&G!=null?A.latestValue>G?"above":"below":void 0}),[u,G,A.latestValue]).state,oe=ck(z),J=Z=>{const P=x.filter(H=>H.value!=null);if(!P.length)return F/2;const R=P.map(H=>H.value);U&&(U.lower!=null&&R.push(U.lower),U.upper!=null&&R.push(U.upper));const X=Math.min(...R),B=Math.max(...R);return X===B?F/2:F-(Z-X)/(B-X)*(F-T*2)-T},re=$.useMemo(()=>{if(!g||x.length<=g)return x.map((Y,ne)=>ne);if(N==="stride"){const Y=Math.max(2,g),ne=(x.length-1)/(Y-1),se=new Set;for(let le=0;le<Y;le++)se.add(Math.round(le*ne));return se.add(x.length-1),Array.from(se).sort((le,be)=>le-be)}const Z=x.map((Y,ne)=>({i:ne,v:Y.value}));function P(Y,ne,se){const le=Y.i,be=Y.v??0,me=ne.i,xe=ne.v??0,ke=se.i,Ne=se.v??0,et=Math.abs((Ne-xe)*le-(ke-me)*be+ke*xe-Ne*me),Ue=Math.hypot(Ne-xe,ke-me);return Ue===0?0:et/Ue}function R(Y,ne){if(Y.length<=2)return Y;let se=-1,le=-1;for(let be=1;be<Y.length-1;be++){const me=P(Y[be],Y[0],Y[Y.length-1]);me>se&&(se=me,le=be)}if(se>ne){const be=R(Y.slice(0,le+1),ne),me=R(Y.slice(le),ne);return[...be.slice(0,-1),...me]}return[Y[0],Y[Y.length-1]]}let X=.1,B=Z;for(let Y=0;Y<8&&(B=R(Z,X),!(B.length<=g));Y++)X*=1.6;const H=new Set(B.map(Y=>Y.i));return H.add(0),H.add(x.length-1),Array.from(H).sort((Y,ne)=>Y-ne)},[x,g,N]),te=$.useMemo(()=>re.map(Z=>x[Z]),[re,x]),ae=$.useMemo(()=>Math.max(1,L-W*2),[L,W]),fe=$.useMemo(()=>{const Z=Math.max(1,te.length-1);return P=>P/Z*ae+W},[te.length,ae,W]),q=$.useMemo(()=>{let Z="";return te.forEach((P,R)=>{if(P.value==null)return;const X=J(P.value),B=fe(R);Z+=Z?` L ${B} ${X}`:`M ${B} ${X}`}),Z},[te,fe]),ce=A.latestIndex??-1,ue=U,ge=Pa(),he=$.useMemo(()=>`spc-spark-wash-${Math.random().toString(36).slice(2)}`,[x.length,f]),V=x.length>=(n||0),Ee=h||"SPC sparkline",Pe=(()=>{if(!z)return;const Z=v===Qe.Up?At.HigherIsBetter:v===Qe.Down?At.LowerIsBetter:At.ContextDependent,P={variationIcon:z===Be.SpecialCauseImproving?Je.Improvement:z===Be.SpecialCauseDeteriorating?Je.Concern:z===Be.SpecialCauseNoJudgement?Je.Suppressed:Je.Neither,trend:v===Qe.Up?Ye.Higher:Ye.Lower,polarity:Z};try{return fm(P)}catch{return}})(),Te=$.useMemo(()=>{if(!V)return 10;const Z=[...x].reverse().filter(R=>R.value!=null).slice(0,6).map(R=>J(R.value));return Z.length&&Z.reduce((R,X)=>R+X,0)/Z.length<F/2?F:10},[x,V,F]);return l.jsxs("svg",{role:"img","aria-label":Ee,"aria-description":Pe,width:I===Pt.Full?void 0:D,height:I===Pt.Full?void 0:F,style:K,className:y,viewBox:`0 0 ${L} ${F}`,children:[f&&l.jsxs(l.Fragment,{children:[l.jsx("defs",{children:l.jsxs("linearGradient",{id:he,x1:"0",y1:"0",x2:"0",y2:"1",children:[l.jsx("stop",{offset:"0%",stopColor:oe,stopOpacity:Number(ge.start)}),l.jsx("stop",{offset:"60%",stopColor:oe,stopOpacity:Number(ge.mid)}),l.jsx("stop",{offset:"100%",stopColor:oe,stopOpacity:Number(ge.end)})]})}),l.jsx("rect",{x:0,y:0,width:L,height:F,fill:`url(#${he})`})]}),ue&&ue.lower!=null&&ue.upper!=null&&l.jsxs(l.Fragment,{children:[o&&l.jsx("rect",{x:0,y:Math.min(J(ue.upper),J(ue.lower)),width:L,height:Math.abs(J(ue.upper)-J(ue.lower)),fill:oe,fillOpacity:.08}),l.jsx("line",{x1:0,x2:L,y1:J(ue.lower),y2:J(ue.lower),stroke:oe,strokeDasharray:"4,4",strokeOpacity:.3,strokeWidth:1}),l.jsx("line",{x1:0,x2:L,y1:J(ue.upper),y2:J(ue.upper),stroke:oe,strokeDasharray:"4,4",strokeOpacity:.3,strokeWidth:1}),b&&s&&l.jsxs(l.Fragment,{children:[b.lowerTwo!=null&&l.jsx("line",{x1:0,x2:L,y1:J(b.lowerTwo),y2:J(b.lowerTwo),stroke:oe,strokeDasharray:"3,6",strokeOpacity:.2,strokeWidth:1}),b.lowerOne!=null&&l.jsx("line",{x1:0,x2:L,y1:J(b.lowerOne),y2:J(b.lowerOne),stroke:oe,strokeDasharray:"2,6",strokeOpacity:.2,strokeWidth:1}),b.upperOne!=null&&l.jsx("line",{x1:0,x2:L,y1:J(b.upperOne),y2:J(b.upperOne),stroke:oe,strokeDasharray:"2,6",strokeOpacity:.2,strokeWidth:1}),b.upperTwo!=null&&l.jsx("line",{x1:0,x2:L,y1:J(b.upperTwo),y2:J(b.upperTwo),stroke:oe,strokeDasharray:"3,6",strokeOpacity:.2,strokeWidth:1})]})]}),r&&G!=null&&l.jsx("line",{x1:0,x2:L,y1:J(G),y2:J(G),stroke:li(),strokeWidth:1,strokeDasharray:"2,2"}),l.jsx("path",{d:q,fill:"none",stroke:li(),strokeWidth:O.stroke,strokeLinecap:"round"}),re.map((Z,P)=>{const R=x[Z];if(!R||R.value==null)return null;const X=J(R.value),B=fe(P),Y=(Z===ce&&a?O.pointR+1:O.pointR)-.5;let ne=li();if(M){const se=k?.[Q+Z];if(se!=null)se===xt.Improvement?ne=Fa(Je.Improvement):se===xt.Concern?ne=Fa(Je.Concern):se===xt.NoJudgement?ne=Kt("no-judgement","#490092"):ne=li();else{const le=S?.[Q+Z];le===Je.Improvement||le===Je.Concern?ne=Fa(le):ne=C?.[Q+Z]?Kt("no-judgement","#490092"):li()}}return l.jsx("circle",{cx:B,cy:X,r:Y,fill:ne,stroke:"none",strokeWidth:0,onClick:m?()=>m(Z,R):void 0,style:m?{cursor:"pointer"}:void 0,"data-index":Z,"data-signal-colour":M?ne:void 0},Z)}),c&&V&&z&&z!==Be.CommonCause&&v&&l.jsx("text",{x:L-4,y:Te,textAnchor:"end",fontSize:12,fontWeight:"bold",fill:oe,"data-glyph-pos":Te<F/2?"top":"bottom",children:v===Qe.Up?"H":"L"})]})};hm.displayName="SPCSpark";function Oa(t){switch(t){case $e.ImprovementHigh:case $e.ImprovementLow:return Be.SpecialCauseImproving;case $e.ConcernHigh:case $e.ConcernLow:return Be.SpecialCauseDeteriorating;case $e.NeitherHigh:case $e.NeitherLow:return Be.SpecialCauseNoJudgement;case $e.CommonCause:return Be.CommonCause;default:return null}}function pm(t){return t===$e.ImprovementHigh||t===$e.ImprovementLow||t===$e.ConcernHigh||t===$e.ConcernLow||t===$e.NeitherHigh||t===$e.NeitherLow}function uk({warnings:t,show:e,formatWarningCategory:n,formatWarningCode:r}){const[i,o]=ie.useState(""),s=ie.useRef("");return ie.useEffect(()=>{if(!e){s.current!==""&&(s.current="",o(""));return}const a=t.length;if(!a){const f="Diagnostics: no warnings.";f!==s.current&&(s.current=f,o(f));return}const c={error:t.filter(f=>f.severity===Xn.Error).length,warning:t.filter(f=>f.severity===Xn.Warning).length,info:t.filter(f=>f.severity===Xn.Info).length},u=[];c.error&&u.push(`${c.error} error${c.error===1?"":"s"}`),c.warning&&u.push(`${c.warning} warning${c.warning===1?"":"s"}`),c.info&&u.push(`${c.info} info`);const d=`Diagnostics updated: ${a} warning${a===1?"":"s"} (${u.join(", ")}).`;d!==s.current&&(s.current=d,o(d))},[e,t]),e?l.jsxs(l.Fragment,{children:[i&&l.jsx("div",{"data-testid":"spc-diagnostics-live","aria-live":"polite",style:{position:"absolute",width:1,height:1,padding:0,margin:0,overflow:"hidden",clip:"rect(0 0 0 0)",whiteSpace:"nowrap",border:0},children:i}),t.length>0&&l.jsxs("div",{className:"fdp-spc-chart__warnings",role:"region","aria-label":"SPC diagnostics",children:[l.jsx("p",{className:"fdp-spc-chart__warnings-heading",children:"Diagnostics"}),l.jsx(Vn,{firstCellIsHeader:!1,panel:!1,responsive:!1,head:[{text:"Severity"},{text:"Category"},{text:"Code"},{text:"Details"}],rows:t.map(a=>{let c="grey";return a.severity===Xn.Error?c="red":a.severity===Xn.Warning?c="orange":a.severity===Xn.Info&&(c="blue"),[{node:l.jsx(pt,{color:c,text:(a.severity?String(a.severity):"Info").replace(/^[a-z]/,u=>u.toUpperCase())}),classes:"fdp-spc-chart__warning-cell fdp-spc-chart__warning-cell--severity"},{node:a.category?l.jsx(pt,{color:"purple",text:n(a.category)}):l.jsx("span",{className:"fdp-spc-chart__warning-empty",children:"â€“"}),classes:"fdp-spc-chart__warning-cell fdp-spc-chart__warning-cell--category"},{node:l.jsx(pt,{color:"grey",text:r(a.code)}),classes:"fdp-spc-chart__warning-cell fdp-spc-chart__warning-cell--code"},{node:l.jsxs("div",{className:"fdp-spc-chart__warning-message",children:[l.jsx("span",{children:a.message}),a.context&&Object.keys(a.context).length>0&&l.jsxs("details",{className:"fdp-spc-chart__warning-context",style:{marginTop:4},children:[l.jsx("summary",{children:"context"}),l.jsx("pre",{children:JSON.stringify(a.context,null,2)})]})]}),classes:"fdp-spc-chart__warning-cell fdp-spc-chart__warning-cell--message"}]}),classes:"fdp-spc-chart__warnings-table-wrapper",tableClasses:"fdp-spc-chart__warnings-table"})]})]}):null}function dk({variationNode:t,assuranceNode:e,show:n}){return n?l.jsxs("div",{className:"fdp-spc-chart__top-row",style:{display:"flex",justifyContent:"flex-end",marginBottom:4},children:[t,e]}):null}const au=({status:t,size:e=44,ariaLabel:n,dropShadow:r=!0,colourOverride:i,gradientWash:o=!1,letterOverride:s,showTrendLines:a=!0,...c})=>{const u=$.useId(),d=$.useId(),{start:f,mid:p,end:h}=Pa(),y=i||US[t],m=(s||WS[t]).slice(0,2),g=n||`Assurance ${t}`;return l.jsxs("svg",{width:e,height:e,viewBox:"0 0 300 300",role:"img","aria-label":g,...c,children:[l.jsxs("defs",{children:[r&&l.jsxs("filter",{id:u,filterUnits:"objectBoundingBox",children:[l.jsx("feGaussianBlur",{stdDeviation:"3"}),l.jsx("feOffset",{dx:"-1",dy:"15",result:"blur"}),l.jsx("feFlood",{floodColor:"rgb(166,166,166)",floodOpacity:"1"}),l.jsx("feComposite",{in2:"blur",operator:"in",result:"colorShadow"}),l.jsx("feComposite",{in:"SourceGraphic",in2:"colorShadow",operator:"over"})]}),o&&l.jsxs("linearGradient",{id:d,x1:"0%",y1:"0%",x2:"100%",y2:"100%",children:[l.jsx("stop",{offset:"0%",stopColor:y,stopOpacity:parseFloat(f)}),l.jsx("stop",{offset:"65%",stopColor:y,stopOpacity:parseFloat(p)}),l.jsx("stop",{offset:"100%",stopColor:"#ffffff",stopOpacity:parseFloat(h)})]})]}),l.jsx("circle",{stroke:"none",fill:o?`url(#${d})`:"#ffffff",...r?{filter:`url(#${u})`}:{},cx:"150",cy:"150",r:"120"}),l.jsx("text",{fill:y,fontFamily:"Arial-BoldMT, Arial, 'Helvetica Neue', Helvetica, sans-serif",fontWeight:"bold",fontSize:176,x:0,y:0,transform:"translate(121.01, 32) scale(0.5, 0.5)",textAnchor:"middle",children:l.jsx("tspan",{x:60,y:184,children:m})}),a&&l.jsxs(l.Fragment,{children:[t===ai.Fail?l.jsx("path",{id:"fail-line",stroke:y,strokeWidth:9.5,strokeMiterlimit:9.5,strokeDasharray:"35,10",strokeDashoffset:0,fill:"none",d:"M 33,143 L 268,143"}):t===ai.Uncertain?l.jsx("path",{id:"uncertain-line",stroke:"rgb(166, 166, 166)",strokeWidth:9.5,strokeMiterlimit:9.5,strokeDasharray:"16.5,10",strokeDashoffset:0,fill:"none",d:"M 36,174 L 266,174"}):l.jsx("path",{id:"pass-line",stroke:y,strokeWidth:9.5,strokeMiterlimit:9.5,strokeDasharray:"35,10",strokeDashoffset:0,fill:"none",d:"M 48,204 L 254,204"}),l.jsx("path",{id:"data-sparkline",stroke:"rgb(166, 166, 166)",strokeWidth:12,strokeMiterlimit:12,fill:"none",d:"M 59.9,187.91 C 72.79,171.72 87.33,158.06 104.4,157.83 121.91,158.58 140.94,187.85 153.4,189.91 164.1,192.12 163.78,171.38 169.17,170.53 172.87,169.55 174.88,187.45 184.94,189.24 197,191.86 230.54,184.47 239.01,185.9"}),l.jsx("circle",{stroke:y,strokeWidth:15,strokeMiterlimit:10,fill:"none",cx:"150",cy:"150",r:"120"})]})]})};au.displayName="SPCAssuranceIcon";const fk=Object.freeze(Object.defineProperty({__proto__:null,AssuranceResult:ai,Direction:Ye,MetricPolarity:At,SPCAssuranceIcon:au,SPCVariationIcon:su,VariationJudgement:hn,VariationState:Be,getVariationColour:Zp,getVariationTrend:eu},Symbol.toStringTag,{value:"Module"}));function hk(t){const{show:e,rowsForUi:n,minPoints:r,metricImprovement:i,variant:o,runLength:s}=t;if(!e||!n?.length)return null;const a=n,c=typeof r=="number"&&!isNaN(r)?r:13;if(a.filter(b=>!b.data.ghost&&b.data.value!=null).length<c)return null;let d=-1;for(let b=a.length-1;b>=0;b--){const S=a[b];if(S&&S.data.value!=null&&!S.data.ghost){d=b;break}}if(d===-1)return null;const f=a[d],p=f.classification?.variation,h=f.classification?.assurance,y=p===Je.Neither&&!!f.classification?.neutralSpecialCauseValue,m=h===Er.Pass?ai.Pass:h===Er.Fail?ai.Fail:ai.Uncertain;let g;if(p===Je.Suppressed){const b=!!f.rules.singlePoint.up,S=!!f.rules.singlePoint.down;i===Ar.Up?b?g=Ye.Higher:S&&(g=Ye.Lower):i===Ar.Down?S?g=Ye.Lower:b&&(g=Ye.Higher):g=Ye.Higher}else if(p===Je.Neither&&y){const b=f.rules.singlePoint.up||f.rules.twoOfThree.up||f.rules.fourOfFive.up||f.rules.shift.up||f.rules.trend.up,S=f.rules.singlePoint.down||f.rules.twoOfThree.down||f.rules.fourOfFive.down||f.rules.shift.down||f.rules.trend.down;b&&!S?g=Ye.Higher:S&&!b?g=Ye.Lower:g=Ye.Higher}const N=80,M=f.rules.singlePoint.up||f.rules.twoOfThree.up||f.rules.fourOfFive.up||f.rules.shift.up||f.rules.trend.up,j=f.rules.singlePoint.down||f.rules.twoOfThree.down||f.rules.fourOfFive.down||f.rules.shift.down||f.rules.trend.down;let _=$e.CommonCause;return p===Je.Improvement?_=$e.ImprovementHigh:p===Je.Concern?_=$e.ConcernHigh:p===Je.Neither&&(y?g===Ye.Lower||j&&!M?_=$e.NeitherLow:_=$e.NeitherHigh:_=$e.CommonCause),l.jsxs("div",{style:{display:"flex",gap:12,marginRight:16},children:[l.jsx("div",{className:"fdp-spc-chart__embedded-icon","data-variation":String(p),"data-trend":g?String(g):"none",style:{width:N,height:N},children:l.jsx(su,{dropShadow:!1,data:{variationIcon:_,improvementDirection:i,specialCauseNeutral:y,highSideSignal:M,lowSideSignal:j,...g?{trend:g}:{}},letterMode:i===Ar.Neither?zo.Direction:zo.Polarity,size:N,variant:o,runLength:o===ui.TriangleWithRun?s:void 0})}),l.jsx("div",{className:"fdp-spc-chart__embedded-assurance-icon","data-assurance":String(h),style:{width:N,height:N},children:l.jsx(au,{status:m,size:N,dropShadow:!1})})]},`embedded-icon-${d}`)}const mm=({engineRows:t,limits:e,pointDescriber:n,measureName:r,measureUnit:i,dateFormatter:o,enableNeutralNoJudgement:s=!0,showTrendGatingExplanation:a=!0})=>{const c=vr(),u=Pr(),[d,f]=ie.useState(null),[p,h]=ie.useState(!1),y=ie.useRef(null);ie.useEffect(()=>{if(c){if(c.focused&&(f(c.focused),y.current&&(cancelAnimationFrame(y.current),y.current=null)),!c.focused&&!p){const Te=requestAnimationFrame(()=>{f(null),y.current=null});y.current=Te}return()=>{y.current&&(cancelAnimationFrame(y.current),y.current=null)}}},[c,c?.focused,p]);const m=c&&(c.focused||(p?d:null)||d),[g,N]=ie.useState(!1);ie.useEffect(()=>{const Te=requestAnimationFrame(()=>N(!0));return()=>cancelAnimationFrame(Te)},[m?.index]);const M=u?.innerWidth??0,j=u?.innerHeight??0,_=m?Math.min(Math.max(m.clientX,0),M):0,b=m?Math.min(Math.max(m.clientY,0),j):0,S=u?.ref?.current||void 0;if(!m)return null;const C=t?.[m.index],v=Da(C?{specialCauseSinglePointUp:!!C.rules.singlePoint.up,specialCauseSinglePointDown:!!C.rules.singlePoint.down,specialCauseTwoOfThreeUp:!!C.rules.twoOfThree.up,specialCauseTwoOfThreeDown:!!C.rules.twoOfThree.down,specialCauseFourOfFiveUp:!!C.rules.fourOfFive.up,specialCauseFourOfFiveDown:!!C.rules.fourOfFive.down,specialCauseShiftUp:!!C.rules.shift.up,specialCauseShiftDown:!!C.rules.shift.down,specialCauseTrendUp:!!C.rules.trend.up,specialCauseTrendDown:!!C.rules.trend.down}:null).map(Te=>({id:Te,label:Ui[Te].tooltip})),x=m.x instanceof Date?m.x:new Date(m.x),A=o?o(x):x.toDateString(),I=i?`${i}`:"",O=r||I?`${m.y}${I?""+I:" "}${r?" "+r:""}`:`${m.y}`,E=Ia(C?.classification?.variation),L=Yp(C?.classification?.assurance),D=zS(e.mean??null,e.sigma,m.y),F=n?n(m.index,{x:m.x,y:m.y}):void 0,K=E||L||D,W=C?.rules.trend.up||C?.rules.trend.down,T=C?.classification?.variation===Je.Neither&&W,Q=a&&T?"Trend detected (monotonic run) â€“ held neutral until values cross onto the favourable side of the mean.":null,G=v.length>0,U=C&&"primeDirection"in C?C.primeDirection:void 0,ee=C&&"primeRuleId"in C?C.primeRuleId:void 0,z=s&&C?.classification?.variation===Je.Neither&&G,oe="var(--nhs-fdp-color-primary-yellow, #ffeb3b)",J=Vp(C?.classification?.variation),re=6.2,ae=[F||"",`${A} â€¢ ${O}`].filter(Boolean).reduce((Te,Z)=>Math.max(Te,Z.length*re+32),0),fe=200,q=440,ce=Math.min(q,Math.max(fe,ae));let ue=_+12,he=(u.margin?.top??0)+b+16;ue+ce>M&&(ue=_- -60-ce),ue<0&&(ue=Math.max(0,M-ce));const V=m?`spc-tooltip-${m.index}`:"spc-tooltip",Ee=typeof m.index=="number"?m.index:NaN,Pe=S?fv.createPortal(l.jsx("div",{id:V,className:"fdp-spc-tooltip fdp-spc-tooltip-portal"+(g?" is-visible":""),style:{position:"absolute",left:ue,top:he,width:ce,maxWidth:q,zIndex:10,pointerEvents:"auto",userSelect:"none"},role:"tooltip","aria-live":"polite","aria-hidden":g?"false":"true","data-floating":!0,"data-placement":ue+ce+12>M?"left":"right",onPointerEnter:()=>{h(!0),y.current&&(cancelAnimationFrame(y.current),y.current=null)},onPointerLeave:()=>{if(h(!1),!c?.focused){const Te=requestAnimationFrame(()=>{f(null),y.current=null});y.current=Te}},children:l.jsxs("div",{className:"fdp-spc-tooltip__body",children:[l.jsxs("div",{className:"fdp-spc-tooltip__section fdp-spc-tooltip__section--point",children:[l.jsx("div",{className:"fdp-spc-tooltip__section-label",children:l.jsx("strong",{children:"Point"})}),l.jsxs("div",{className:"fdp-spc-tooltip__primary-line",children:["Index: ",Ee]})]}),l.jsxs("div",{className:"fdp-spc-tooltip__section fdp-spc-tooltip__section--date",children:[l.jsx("div",{className:"fdp-spc-tooltip__section-label",children:l.jsx("strong",{children:"Date"})}),l.jsx("div",{className:"fdp-spc-tooltip__primary-line",children:A})]}),l.jsxs("div",{className:"fdp-spc-tooltip__section fdp-spc-tooltip__section--value",children:[l.jsx("div",{className:"fdp-spc-tooltip__section-label",children:l.jsx("strong",{children:"Value"})}),l.jsx("div",{className:"fdp-spc-tooltip__primary-line",children:O})]}),K&&l.jsxs("div",{className:"fdp-spc-tooltip__section fdp-spc-tooltip__section--signals",children:[l.jsx("div",{className:"fdp-spc-tooltip__section-label",children:l.jsx("strong",{children:"Signals"})}),l.jsx("div",{className:"fdp-spc-tooltip__badges","aria-label":"Signals",children:E?.toLowerCase().includes("concern")?l.jsx(pt,{text:E,color:"default",className:"fdp-spc-tooltip__tag fdp-spc-tag fdp-spc-tag--concern"}):E?.toLowerCase().includes("improvement")?l.jsx(pt,{text:E,color:"default",className:"fdp-spc-tooltip__tag fdp-spc-tag fdp-spc-tag--improvement"}):z?l.jsx(pt,{text:"No judgement",color:"default",className:"fdp-spc-tooltip__tag fdp-spc-tag fdp-spc-tag--no-judgement","aria-label":"Neutral special cause (no directional judgement)"}):E?l.jsx(pt,{text:E,color:"default",className:"fdp-spc-tooltip__tag fdp-spc-tag fdp-spc-tag--common"}):null})]}),L&&l.jsxs("div",{className:"fdp-spc-tooltip__section fdp-spc-tooltip__section--assurance",children:[l.jsx("div",{className:"fdp-spc-tooltip__section-label",children:l.jsx("strong",{children:"Assurance"})}),l.jsx("div",{className:"fdp-spc-tooltip__badges","aria-label":"Limits",children:(()=>{const Te=L.toLowerCase(),P=!(Te.includes("not met")||Te.includes("not achieved"))&&/(^|\b)(met|achieved)(\b|$)/.test(Te);return l.jsx(pt,{text:L,color:"default",className:`fdp-spc-tooltip__tag fdp-spc-tag fdp-spc-tag--assurance ${P?"fdp-spc-tag--improvement":"fdp-spc-tag--concern"}`,"aria-label":`Assurance: ${L}`})})()})]}),D&&l.jsxs("div",{className:"fdp-spc-tooltip__section fdp-spc-tooltip__section--limits",children:[l.jsx("div",{className:"fdp-spc-tooltip__section-label",children:l.jsx("strong",{children:"Control Limits & Sigma"})}),l.jsx("div",{className:"fdp-spc-tooltip__badges","aria-label":"Limits",children:l.jsx(pt,{text:(()=>{const Te=D.toLowerCase();return Te.startsWith("within 1")?"â‰¤1Ïƒ":Te.startsWith("1â€“2")?"1â€“2Ïƒ":Te.startsWith("2â€“3")?"2â€“3Ïƒ":Te.startsWith(">3")?">3Ïƒ":D})(),color:D.includes(">3")?"orange":D.includes("2â€“3")?"yellow":"grey","aria-label":`Sigma zone: ${D}`,className:"fdp-spc-tooltip__tag fdp-spc-tag fdp-spc-tag--zone"})})]}),Q&&l.jsxs("div",{className:"fdp-spc-tooltip__section fdp-spc-tooltip__section--gating","data-gating":!0,children:[l.jsx("div",{className:"fdp-spc-tooltip__section-label",children:l.jsx("strong",{children:"Trend gating"})}),l.jsx("div",{className:"fdp-spc-tooltip__explanation","aria-live":"off",children:Q})]}),G&&l.jsxs("div",{className:"fdp-spc-tooltip__section fdp-spc-tooltip__section--rules",children:[l.jsx("div",{className:"fdp-spc-tooltip__section-label",children:l.jsx("strong",{children:"Special cause"})}),l.jsx("div",{className:"fdp-spc-tooltip__rule-tags","aria-label":"Special cause rules",children:v.map(({id:Te,label:Z})=>{const P=String(Te),X=P===Bo.TrendIncreasing||P===Bo.TrendDecreasing?"fdp-spc-tag--trend":z?"fdp-spc-tag--no-judgement":E?E.toLowerCase().includes("concern")?"fdp-spc-tag--concern":E.toLowerCase().includes("improvement")?"fdp-spc-tag--improvement":"fdp-spc-tag--common":"fdp-spc-tag--common";return l.jsx(pt,{text:Z,color:"default",className:`fdp-spc-tooltip__tag fdp-spc-tag ${X}`,"data-rule-id":P},P)})}),U&&l.jsxs("div",{className:"fdp-spc-tooltip__section fdp-spc-tooltip__section--rules",style:{marginTop:16},children:[l.jsx("div",{className:"fdp-spc-tooltip__section-label",style:{marginBottom:6},children:l.jsx("strong",{children:"Prime Direction"})}),(()=>{const Te=z?"fdp-spc-tag--no-judgement":E?E.toLowerCase().includes("concern")?"fdp-spc-tag--concern":E.toLowerCase().includes("improvement")?"fdp-spc-tag--improvement":"fdp-spc-tag--common":"fdp-spc-tag--common",Z=`${U}${ee?` (${ee})`:""}`;return l.jsx(pt,{text:Z,color:"default",className:`fdp-spc-tooltip__tag fdp-spc-tag ${Te}`,"aria-label":`Prime direction ${U}${ee?` via ${ee}`:""}`})})()]})]})]})}),S):null;return l.jsxs("g",{className:"fdp-tooltip-layer fdp-spc-tooltip",pointerEvents:"none","aria-hidden":"true",children:[l.jsx("circle",{cx:_,cy:b,r:7,fill:"none",stroke:oe,strokeWidth:3}),l.jsx("circle",{cx:_,cy:b,r:5,fill:"#000",stroke:oe,strokeWidth:1.5}),l.jsx("circle",{cx:_,cy:b,r:2.5,fill:J,stroke:"#fff",strokeWidth:.5}),Pe]})},pk=({engineRows:t,measureName:e,measureUnit:n,onSignalFocus:r})=>{const i=vr(),o=i?.focused??null,s=o?.index??null,a=typeof s=="number"&&t?t[s]:null,c=ie.useMemo(()=>a?Da({specialCauseSinglePointUp:!!a.rules.singlePoint.up,specialCauseSinglePointDown:!!a.rules.singlePoint.down,specialCauseTwoOfThreeUp:!!a.rules.twoOfThree.up,specialCauseTwoOfThreeDown:!!a.rules.twoOfThree.down,specialCauseFourOfFiveUp:!!a.rules.fourOfFive.up,specialCauseFourOfFiveDown:!!a.rules.fourOfFive.down,specialCauseShiftUp:!!a.rules.shift.up,specialCauseShiftDown:!!a.rules.shift.down,specialCauseTrendUp:!!a.rules.trend.up,specialCauseTrendDown:!!a.rules.trend.down}):[],[a]),u=ie.useMemo(()=>Array.from(new Set(c.map(m=>Ui[m]?.narration).filter(Boolean))),[c]),d=a?Ia(a.classification?.variation):null,f=a?Yp(a.classification?.assurance):null,p=c.length>0,h=a?a.classification?.variation===Je.Neither&&p:!1,y=ie.useRef(null);return ie.useEffect(()=>{if(!r||!o||a==null)return;const m=`${o.seriesId}:${o.index}`;if(y.current!==m){y.current=m;try{r({index:o.index,x:o.x,y:o.y,row:a,rules:c})}catch{}}},[o?.seriesId,o?.index,o?.x,o?.y,a,c,r]),l.jsxs("div",{className:"fdp-spc-inspector",role:"region","aria-label":"Signals inspector","data-testid":"spc-signals-inspector",children:[l.jsxs("div",{className:"fdp-spc-inspector__header",style:{display:"flex",alignItems:"center",justifyContent:"space-between"},children:[l.jsx("strong",{children:"Signals inspector"}),l.jsx("div",{className:"fdp-spc-inspector__nav","aria-hidden":!i,children:i&&l.jsxs("div",{style:{display:"flex",gap:8},children:[l.jsx("button",{type:"button",className:"fdp-button fdp-button--secondary",onClick:()=>{i.focused?i.focusPrevPoint():i.focusFirstPoint()},"aria-label":"Previous point",children:"â—€"}),l.jsx("button",{type:"button",className:"fdp-button fdp-button--secondary",onClick:()=>{i.focused?i.focusNextPoint():i.focusFirstPoint()},"aria-label":"Next point",children:"â–¶"})]})})]}),!a||!o?l.jsx("p",{className:"fdp-spc-inspector__empty",children:"No point selected."}):l.jsxs("div",{className:"fdp-spc-inspector__body",children:[l.jsxs("div",{className:"fdp-spc-inspector__summary",style:{display:"flex",gap:16,flexWrap:"wrap"},children:[l.jsxs("span",{children:[l.jsx("strong",{children:"Point:"})," ",o.index+1]}),l.jsxs("span",{children:[l.jsx("strong",{children:"Value:"})," ",o.y,n?` ${n}`:"",e?` ${e}`:""]})]}),(d||h||f)&&l.jsx("div",{className:"fdp-spc-inspector__signals",style:{marginTop:8},children:l.jsxs("div",{style:{display:"flex",gap:8,flexWrap:"wrap",alignItems:"center"},children:[d?.toLowerCase().includes("concern")?l.jsx(pt,{text:d,color:"default",className:"fdp-spc-tooltip__tag fdp-spc-tag fdp-spc-tag--concern"}):d?.toLowerCase().includes("improvement")?l.jsx(pt,{text:d,color:"default",className:"fdp-spc-tooltip__tag fdp-spc-tag fdp-spc-tag--improvement"}):h?l.jsx(pt,{text:"No judgement",color:"default",className:"fdp-spc-tooltip__tag fdp-spc-tag fdp-spc-tag--no-judgement","aria-label":"Neutral special cause (no directional judgement)"}):d?l.jsx(pt,{text:d,color:"default",className:"fdp-spc-tooltip__tag fdp-spc-tag fdp-spc-tag--common"}):null,f&&(()=>{const m=f.toLowerCase(),N=!(m.includes("not met")||m.includes("not achieved"))&&/(^|\b)(met|achieved)(\b|$)/.test(m);return l.jsx(pt,{text:f,color:"default",className:`fdp-spc-tooltip__tag fdp-spc-tag fdp-spc-tag--assurance ${N?"fdp-spc-tag--improvement":"fdp-spc-tag--concern"}`,"aria-label":`Assurance: ${f}`})})()]})}),l.jsxs("div",{className:"fdp-spc-inspector__rules",style:{marginTop:8},children:[l.jsx("strong",{children:"Special cause:"}),l.jsx("div",{className:"fdp-spc-tooltip__rule-tags","aria-label":"Special cause rules",style:{display:"flex",gap:6,flexWrap:"wrap",marginTop:4},children:c.length===0?l.jsx("span",{children:" None"}):c.map(m=>{const g=String(m),M=g===Bo.TrendIncreasing||g===Bo.TrendDecreasing?"fdp-spc-tag--trend":h?"fdp-spc-tag--no-judgement":d?d.toLowerCase().includes("concern")?"fdp-spc-tag--concern":d.toLowerCase().includes("improvement")?"fdp-spc-tag--improvement":"fdp-spc-tag--common":"fdp-spc-tag--common",j=Ui[m]?.tooltip||g;return l.jsx(pt,{text:j,color:"default",className:`fdp-spc-tooltip__tag fdp-spc-tag ${M}`,"data-rule-id":g,title:Ui[m]?.tooltip},g)})})]}),u.length>0&&l.jsxs("div",{className:"fdp-spc-inspector__narration",style:{marginTop:8},children:[l.jsx("strong",{children:"Summary:"})," ",u.join("; ")]})]})]})};function mk(t,e=!0){if(!t?.length)return[];const n=[...t];if(e){for(let o=1;o<n.length-1;o++)n[o]===Ot.Common&&n[o-1]===n[o+1]&&n[o-1]!==Ot.Common&&(n[o]=n[o-1]);let i=0;for(;i<n.length;){const o=n[i];let s=i+1;for(;s<n.length&&n[s]===o;)s++;s-i===1&&o!==Ot.Common&&(n[i]=Ot.Common),i=s}}const r=[];if(n.length){let i=0;for(let o=1;o<=n.length;o++)if(o===n.length||n[o]!==n[i]){const s=n[i],a=o-1,c=a-i+1;(s===Ot.Common||c>=2)&&r.push({start:i,end:a,category:s}),i=o}}return r}var Ho=(t=>(t.Slope="slope",t.Neutral="neutral",t.Extend="extend",t))(Ho||{}),gm=(t=>(t.Ungated="ungated",t.Gated="gated",t))(gm||{});function gk(t){const{ui:e,input:n,engine:r,container:i,a11y:o,visualsEngine:s,meta:a,data:c,ariaLabel:u,height:d,showZones:f,showPoints:p,announceFocus:h,className:y,unit:m,targets:g,baselines:N,ghosts:M,settings:j,chartType:_,metricImprovement:b,gradientSequences:S,sequenceTransition:C,processLineWidth:k,showPartitionMarkers:v,showWarningsPanel:x,warningsFilter:A,enableNeutralNoJudgement:I,showTrendGatingExplanation:O,trendVisualMode:E,alwaysShowZeroY:L,alwaysShowHundredY:D,percentScale:F,showTrendStartMarkers:K,showFirstFavourableCrossMarkers:W,showTrendBridgeOverlay:T,showSignalsInspector:Q,onSignalFocus:G,showIcons:U,showEmbeddedIcon:ee,embeddedIconVariant:z,embeddedIconRunLength:oe,showFocusIndicator:J,visualsScenario:re,visualsEngineSettings:te,source:ae,narrationContext:fe,highlightOutOfControl:q,precomputed:ce}=t;process.env.NODE_ENV!=="production"&&(!n&&(g!==void 0||N!==void 0||M!==void 0)&&console.warn("SPCChart: Flat input props (targets/baselines/ghosts) are deprecated. Use input={{ data, targets, baselines, ghosts }} instead."),!r&&j!==void 0&&console.warn("SPCChart: Flat engine prop 'settings' is deprecated. Use engine={{ chartType, metricImprovement, settings }}."),!i&&(d!==void 0||y!==void 0)&&console.warn("SPCChart: Consider grouped container props. Use container={{ height, className }}."),!o&&(u!==void 0||h!==void 0||fe!==void 0||m!==void 0)&&console.warn("SPCChart: Consider grouped accessibility props. Use a11y={{ label, announceFocus, narrationContext, unit }}."),!s&&(re!==void 0||te!==void 0)&&console.warn("SPCChart: Consider grouped visuals engine props. Use visualsEngine={{ scenario, settings }}."),e?.visuals===void 0&&(f!==void 0||p!==void 0)&&console.warn("SPCChart: Visual toggles should be grouped. Use ui={{ visuals: { showZones, showPoints } }}."),e?.visuals?.rules===void 0&&q!==void 0&&console.warn("SPCChart: Prefer grouped rules toggle. Use ui={{ visuals: { rules: { highlightOutOfControl } } }}."),!a&&ae!==void 0&&console.warn("SPCChart: Consider grouped meta. Use meta={{ source }}."));const ue=n?.data??c??[],ge=n?.targets??g,he=n?.baselines??N,V=n?.ghosts??M,Ee=r?.chartType??_??Up.XmR,Pe=r?.metricImprovement??b??Ar.Neither,Te=r?.settings??j,Z=r?.autoRecalc,P=e?.axes?.alwaysShowZeroY??L??!1,R=e?.axes?.alwaysShowHundredY??D??!1,X=e?.axes?.percentScale??F??!1,B=e?.visuals?.gradientSequences??S??!0,H=e?.visuals?.sequenceTransition??C??"slope",Y=e?.visuals?.processLineWidth??k??2,ne=e?.visuals?.trend?.visualMode??E??"ungated",se=e?.visuals?.trend?.showGatingExplanation??O??!0,le=e?.visuals?.rules?.enableNeutralNoJudgement??I??!0,be=e?.visuals?.rules?.enableRules??t.enableRules??!0,me=e?.visuals?.showZones,xe=e?.visuals?.showPoints,ke=e?.visuals?.rules?.highlightOutOfControl,Ne=i?.height,et=i?.className,Ue=o?.label,dt=o?.unit,Oe=o?.narrationContext,pe=s?.scenario,je=s?.settings,_e=a?.source,Ce=e?.overlays?.partitionMarkers??v??!1,Xe=e?.overlays?.trendStartMarkers??K??!1,Re=e?.overlays?.firstFavourableCrossMarkers??W??!1,Ve=e?.overlays?.trendBridge??T??!1,Ke=e?.inspector?.show??Q??!1,Le=e?.inspector?.onFocus??G,ye=e?.warnings?.show??x??!1,we=e?.warnings?.filter??A,de=e?.icons?.show??U??!1,Se=e?.icons?.embedded?.show??ee??!0,De=e?.icons?.embedded?.variant??z??ui.Classic,ze=e?.icons?.embedded?.runLength??oe,Me=e?.overlays?.focusIndicator??J??!0;return{effData:ue,effTargets:ge,effBaselines:he,effGhosts:V,effChartTypeCore:Ee,effMetricImprovementCore:Pe,effEngineSettings:Te,effEngineAutoRecalc:Z,effHeight:Ne,effClassName:et,effAriaLabel:Ue,effUnit:dt,effNarrationContext:Oe,effShowZones:me,effShowPoints:xe,effHighlightOutOfControl:ke,effVisualsScenario:pe,effVisualsEngineSettings:je,effPrecomputedVisuals:ce,effSource:_e,effAlwaysShowZeroY:P,effAlwaysShowHundredY:R,effPercentScale:X,effGradientSequences:B,effSequenceTransition:H,effProcessLineWidth:Y,effTrendVisualMode:ne,effShowTrendGatingExplanation:se,effEnableNeutralNoJudgement:le,effEnableRules:be,effShowPartitionMarkers:Ce,effShowTrendStartMarkers:Xe,effShowFirstFavourableCrossMarkers:Re,effShowTrendBridgeOverlay:Ve,effShowSignalsInspector:Ke,effOnSignalFocus:Le,effShowWarningsPanel:ye,effWarningsFilter:we,effShowIcons:de,effShowEmbeddedIcon:Se,effEmbeddedIconVariant:De,effEmbeddedIconRunLength:ze,effShowFocusIndicator:Me}}let yk=0;const bk=({data:t,targets:e,visuals:n,a11y:r,axis:i,compute:o})=>{const{series:s,engineRows:a,visualCategories:c,partitionMarkers:u}=t,{limits:d,uniformTarget:f}=e,{showPoints:p,showZones:h,highlightOutOfControl:y,gradientSequences:m,sequenceTransition:g,processLineWidth:N,showFocusIndicator:M=!1,enableRules:j,enableNeutralNoJudgement:_=!0,showTrendStartMarkers:b=!1,showFirstFavourableCrossMarkers:S=!1,showTrendBridgeOverlay:C=!1}=n,{announceFocus:k,ariaLabel:v,narrationContext:x,showSignalsInspector:A=!1,onSignalFocus:I,showTrendGatingExplanation:O=!0}=r,{zeroBreakSlotGapPx:E}=i,{metricImprovement:L,effectiveUnit:D}=o,F=oi(),K=Pr();if(!F)return null;const{xScale:W,yScale:T}=F,Q=ie.useRef("spc-seq-"+ ++yk),G=vr(),U=s[0]?.data||[],ee=ie.useMemo(()=>{if(!d.ucl&&!d.lcl)return new Set;const P=new Set;return U.forEach((R,X)=>{typeof d.ucl=="number"&&R.y>d.ucl&&P.add(X),typeof d.lcl=="number"&&R.y<d.lcl&&P.add(X)}),P},[d.ucl,d.lcl,U]),z=ie.useMemo(()=>{if(!a||!a.length)return null;const P=[];return a.forEach((R,X)=>{const B=R.classification.variation===Je.Concern||R.classification.variation===Je.Improvement||!!R.classification.neutralSpecialCauseValue,H=!!R.rules.singlePoint.up||!!R.rules.twoOfThree.up||!!R.rules.fourOfFive.up||!!R.rules.shift.up||!!R.rules.trend.up,Y=!!R.rules.singlePoint.down||!!R.rules.twoOfThree.down||!!R.rules.fourOfFive.down||!!R.rules.shift.down||!!R.rules.trend.down;P[X]={variation:R.classification.variation,assurance:R.classification.assurance,special:B,concern:R.classification.variation===Je.Concern,improvement:R.classification.variation===Je.Improvement,trendUp:!!R.rules.trend.up,trendDown:!!R.rules.trend.down,upAny:H,downAny:Y,neutralSpecial:!!R.classification.neutralSpecialCauseValue,shiftUp:!!R.rules.shift.up,shiftDown:!!R.rules.shift.down,twoOfThreeUp:!!R.rules.twoOfThree.up,twoOfThreeDown:!!R.rules.twoOfThree.down,fourOfFiveUp:!!R.rules.fourOfFive.up,fourOfFiveDown:!!R.rules.fourOfFive.down,partitionId:R.partition.id??null}}),P},[a]),oe=ie.useMemo(()=>(c||[]).map(P=>P===xt.Improvement?Ot.Improvement:P===xt.Concern?Ot.Concern:P===xt.NoJudgement?Ot.NoJudgement:Ot.Common),[c]),J=ie.useMemo(()=>!m||!oe.length?[]:mk(oe,!0),[m,oe,v]),re=ie.useMemo(()=>U.map(P=>W(P.x instanceof Date?P.x:new Date(P.x))),[U,W]),te=W.range()[1],ae=W.range()[0],fe=ie.useMemo(()=>{if(!a||!a.length)return null;let P=Number.POSITIVE_INFINITY,R=Number.POSITIVE_INFINITY;if(a.forEach((le,be)=>{le.rules.trend.up&&(P=Math.min(P,be)),le.rules.trend.down&&(R=Math.min(R,be))}),!Number.isFinite(P)&&!Number.isFinite(R))return null;const X=P<=R,B=X?qn.Up:qn.Down,H=X?P:R,Y=le=>L==null||L===Ar.Neither||le==null||typeof le.data.value!="number"||typeof le.limits.mean!="number"?!1:B===qn.Up?L===Ar.Up?le.data.value>le.limits.mean:le.data.value<le.limits.mean:L===Ar.Down?le.data.value<le.limits.mean:le.data.value>le.limits.mean;let ne=null;for(let le=H;le<a.length;le++){const be=a[le];if(!(X?!!be.rules.trend.up:!!be.rules.trend.down))break;if(Y(be)){ne=le;break}}let se=!1;if(ne!=null){let le=0;for(let be=ne;be<a.length;be++){const me=a[be];if(!(X?!!me.rules.trend.up:!!me.rules.trend.down))break;Y(me)&&le++}se=le>=2}return{direction:B,detectedAt:H,firstFavourableCrossAt:ne,persistedAcrossMean:se}},[a,L]),q=ie.useMemo(()=>{if(!a||!a.length)return null;const P=R=>{const X=[];let B=null,H=null;for(let Y=0;Y<a.length;Y++){const ne=a[Y],se=R(ne),le=typeof se=="number"&&!isNaN(se)?se:null;if(le==null){B!==null&&H!=null&&(X.push({x1:re[B],x2:re[Y-1],y:T(H)}),B=null,H=null);continue}if(B===null){B=Y,H=le;continue}H!=null&&Math.abs(le-H)<=1e-9||(H!=null&&X.push({x1:re[B],x2:re[Y-1],y:T(H)}),B=Y,H=le)}return B!==null&&H!=null&&X.push({x1:re[B],x2:re[a.length-1],y:T(H)}),X};return{mean:P(R=>R.limits.mean??null),ucl:P(R=>R.limits.ucl??null),lcl:P(R=>R.limits.lcl??null),onePos:P(R=>R.limits.oneSigma.upper??null),oneNeg:P(R=>R.limits.oneSigma.lower??null),twoPos:P(R=>R.limits.twoSigma.upper??null),twoNeg:P(R=>R.limits.twoSigma.lower??null)}},[a,re,T]),ce=ie.useMemo(()=>J.length?l.jsxs("defs",{children:[l.jsxs("linearGradient",{id:`${Q.current}-grad-common`,x1:"0%",y1:"0%",x2:"0%",y2:"100%",children:[l.jsx("stop",{offset:"0%",stopColor:"var(--nhs-fdp-color-data-viz-spc-common-cause, #A6A6A6)",stopOpacity:.28}),l.jsx("stop",{offset:"70%",stopColor:"var(--nhs-fdp-color-data-viz-spc-common-cause, #A6A6A6)",stopOpacity:.12}),l.jsx("stop",{offset:"100%",stopColor:"var(--nhs-fdp-color-data-viz-spc-common-cause, #A6A6A6)",stopOpacity:.045})]}),J.map((P,R)=>{const X=`${Q.current}-grad-${R}`;let B,H=.28,Y=.12,ne=.045;switch(P.category){case Ot.Concern:B="var(--nhs-fdp-color-data-viz-spc-concern, #E46C0A)",H=.28,Y=.12,ne=.045;break;case Ot.Improvement:B="var(--nhs-fdp-color-data-viz-spc-improvement, #00B0F0)",H=.26,Y=.11,ne=.045;break;case Ot.NoJudgement:B="var(--nhs-fdp-color-data-viz-spc-no-judgement, #490092)",H=.26,Y=.11,ne=.045;break;default:B="var(--nhs-fdp-color-data-viz-spc-common-cause, #A6A6A6)"}return l.jsxs("linearGradient",{id:X,x1:"0%",y1:"0%",x2:"0%",y2:"100%",children:[l.jsx("stop",{offset:"0%",stopColor:B,stopOpacity:H}),l.jsx("stop",{offset:"70%",stopColor:B,stopOpacity:Y}),l.jsx("stop",{offset:"100%",stopColor:B,stopOpacity:ne})]},X)})]}):null,[J]),ue=ie.useMemo(()=>{if(!J.length)return null;const[P]=T.domain(),R=T(P),X=J.map((B,H)=>{const{start:Y,end:ne,category:se}=B;if(Y<0||ne>=re.length||Y>ne)return null;const le=re[Y],be=re[ne];let me="";if(se===Ot.Common){const xe=H>0?J[H-1]:null,ke=H<J.length-1?J[H+1]:null,Ne=xe?re[xe.end]:ae,et=xe?T(U[xe.end].y):R,Ue=ke?re[ke.start]:te,dt=ke?T(U[ke.start].y):R;me=`M ${Ne} ${R}`,me+=` L ${Ne} ${et}`;for(let Oe=Y;Oe<=ne;Oe++)me+=` L ${re[Oe]} ${T(U[Oe].y)}`;me+=` L ${Ue} ${dt}`,me+=` L ${Ue} ${R} Z`}else{const xe=H>0?J[H-1]:null,ke=H<J.length-1?J[H+1]:null,Ne=xe&&xe.category!==Ot.Common,et=ke&&ke.category!==Ot.Common,Ue=T(U[Y].y),dt=T(U[ne].y);let Oe=le,pe=be;if(Ne){const je=re[xe.end],_e=T(U[xe.end].y),Ce=U[Y].y-U[xe.end].y;g===Ho.Slope&&Ce>0?(me=`M ${je} ${_e} L ${le} ${Ue}`,Oe=je):(me=`M ${le} ${R} L ${le} ${Ue}`,Oe=le)}else me=`M ${le} ${R} L ${le} ${Ue}`;for(let je=Y+1;je<=ne;je++)me+=` L ${re[je]} ${T(U[je].y)}`;if(me+=` L ${be} ${dt}`,et){const je=re[ke.start],_e=T(U[ke.start].y),Ce=U[ke.start].y-U[ne].y;(g===Ho.Slope&&Ce<=0||g===Ho.Extend)&&(me+=` L ${je} ${_e}`,pe=je)}if(me+=` L ${pe} ${R}`,me+=` L ${Oe} ${R} Z`,g===Ho.Neutral&&Ne){const je=re[xe.end],_e=T(U[xe.end].y),Ce=l.jsx("path",{d:`M ${je} ${R} L ${je} ${_e} L ${le} ${Ue} L ${le} ${R} Z`,fill:`url(#${Q.current}-grad-common)`,stroke:"none",className:"fdp-spc__sequence-bg","aria-hidden":"true"},`seq-wedge-${H}`);return l.jsxs("g",{children:[Ce,l.jsx("path",{d:me,fill:`url(#${Q.current}-grad-${H})`,stroke:"none",className:"fdp-spc__sequence-bg","aria-hidden":"true"},`seq-area-${H}`)]},`seq-group-${H}`)}}return l.jsx("path",{d:me,fill:`url(#${Q.current}-grad-${H})`,stroke:"none",className:"fdp-spc__sequence-bg","aria-hidden":"true"},`seq-area-${H}`)}).filter(Boolean);return l.jsx("g",{className:"fdp-spc__sequence-bgs",children:X})},[J,re,te,T,U,g]),ge=ie.useMemo(()=>{if(!x?.timeframe&&U.length>=2){const P=U.map(ne=>ne.x instanceof Date?ne.x:new Date(ne.x)),R=new Date(Math.min(...P.map(ne=>ne.getTime()))),X=new Date(Math.max(...P.map(ne=>ne.getTime()))),B=Math.round((X.getTime()-R.getTime())/864e5)||0;if(B<14)return`The chart shows a timeframe of ${B+1} days`;const H=Math.round(B/7);return H<20?`The chart shows a timeframe of ${H} weeks`:`The chart shows a timeframe of ${(X.getFullYear()-R.getFullYear())*12+(X.getMonth()-R.getMonth())+1} months`}if(x?.timeframe)return`The chart shows a timeframe of ${x.timeframe}`},[x?.timeframe,U]),he=P=>{const R=P%10,X=P%100;return R===1&&X!==11?`${P}st`:R===2&&X!==12?`${P}nd`:R===3&&X!==13?`${P}rd`:`${P}th`},V=P=>`${he(P.getDate())} ${P.toLocaleString("en-GB",{month:"long"})}, ${P.getFullYear()}`,Ee=P=>({specialCauseSinglePointUp:!!P?.rules.singlePoint.up,specialCauseSinglePointDown:!!P?.rules.singlePoint.down,specialCauseTwoOfThreeUp:!!P?.rules.twoOfThree.up,specialCauseTwoOfThreeDown:!!P?.rules.twoOfThree.down,specialCauseFourOfFiveUp:!!P?.rules.fourOfFive.up,specialCauseFourOfFiveDown:!!P?.rules.fourOfFive.down,specialCauseShiftUp:!!P?.rules.shift.up,specialCauseShiftDown:!!P?.rules.shift.down,specialCauseTrendUp:!!P?.rules.trend.up,specialCauseTrendDown:!!P?.rules.trend.down}),Pe=ie.useCallback(({index:P,x:R,y:X})=>{const B=a?.[P],H=R instanceof Date?R:new Date(R),Y=V(H),ne=x?.measureUnit?` ${x.measureUnit}`:"",se=x?.measureName?` ${x.measureName}`:"";if(!B)return`General summary is: ${ge?ge+". ":""}Point ${P+1}, ${Y}, ${X}${ne}${se}`;const le=Ia(B.classification?.variation)||"Variation",be=Da(Ee(B)),me=be.length?` Rules: ${[...new Set(be.map(ke=>Ui[ke].narration))].join("; ")}.`:" No special cause rules.",xe=[];return x?.measureName&&xe.push(`Measure: ${x.measureName}.`),x?.datasetContext&&xe.push(`${x.datasetContext}.`),x?.organisation&&xe.push(`Organisation: ${x.organisation}.`),x?.additionalNote&&xe.push(x.additionalNote),["General summary is:",...xe,`Point ${P+1} recorded on `,Y+",",`with a value of ${X} ${ne}${se}`,le+".",me].join(" ").replace(/\s+/g," ").trim()},[a,x,ge]),Te=ie.useCallback((P,R)=>a?.[P]?Pe({index:P,seriesId:"process",x:R.x instanceof Date?R.x:new Date(R.x),y:R.y}).replace(/^General summary is:\s*/,"").replace(/^Point \d+\s*/,""):void 0,[a,Pe]),Z=ie.useMemo(()=>{try{const P=typeof T?.domain=="function"?T.domain():void 0;if(!P||!Array.isArray(P)||P.length<2)return!1;const R=Math.min(P[0],P[1]),X=Math.max(P[0],P[1]);return!(0>=R&&0<=X)}catch{return!1}},[T]);return l.jsx(Rp,{children:l.jsxs("div",{className:"fdp-spc-chart",role:"group","aria-label":"Statistical process control chart","aria-roledescription":"chart",children:[l.jsx("svg",{width:F.xScale.range()[1]+56+16,height:(K?.innerHeight??F.yScale.range()[0])+12+48,role:"img",children:l.jsxs("g",{transform:"translate(56,12)",children:[l.jsx(Uc,{type:"x"}),l.jsx(Uc,{type:"y",yZeroBreak:{enabled:Z,gapPx:E,zigZag:{heightPx:64,amplitudePx:4,cycles:6,stepXPx:3}}}),l.jsx(Ip,{axis:"y"}),ce,ue,u.map((P,R)=>{const X=U[P];if(!X)return null;const B=W(X.x instanceof Date?X.x:new Date(X.x));return l.jsx("line",{x1:B,x2:B,y1:0,y2:T.range()[0],stroke:"#555",strokeDasharray:"4 4",strokeWidth:1,"aria-hidden":"true",className:"fdp-spc__partition-marker"},`partition-marker-${R}`)}),q?.mean.length?l.jsxs("g",{"aria-hidden":"true",className:"fdp-spc__cl-group",children:[q.mean.map((P,R)=>l.jsx("line",{className:"fdp-spc__cl",x1:P.x1,x2:P.x2,y1:P.y,y2:P.y},`mean-${R}`)),q.mean.map((P,R)=>{if(R===q.mean.length-1)return null;const X=q.mean[R+1];if(!X||P.y===X.y)return null;const H=Math.max(4,X.x1-P.x2||0)*.5,Y=`M ${P.x2},${P.y} C ${P.x2+H},${P.y} ${X.x1-H},${X.y} ${X.x1},${X.y}`;return l.jsx("path",{className:"fdp-spc__cl fdp-spc__cl-join",d:Y,fill:"none"},`mean-join-${R}`)})]}):null,f!=null&&l.jsx(l.Fragment,{}),q?.ucl.length?l.jsxs("g",{"aria-hidden":"true",className:"fdp-spc__limit-group fdp-spc__limit-group--ucl",children:[q.ucl.map((P,R)=>l.jsx("line",{className:"fdp-spc__limit fdp-spc__limit--ucl",x1:P.x1,x2:P.x2,y1:P.y,y2:P.y,strokeWidth:2},`ucl-${R}`)),q.ucl.map((P,R)=>{if(R===q.ucl.length-1)return null;const X=q.ucl[R+1];if(!X||P.y===X.y)return null;const H=Math.max(4,X.x1-P.x2||0)*.5,Y=`M ${P.x2},${P.y} C ${P.x2+H},${P.y} ${X.x1-H},${X.y} ${X.x1},${X.y}`;return l.jsx("path",{className:"fdp-spc__limit fdp-spc__limit--ucl fdp-spc__limit-join",d:Y,fill:"none",strokeWidth:2},`ucl-join-${R}`)})]}):null,q?.lcl.length?l.jsxs("g",{"aria-hidden":"true",className:"fdp-spc__limit-group fdp-spc__limit-group--lcl",children:[q.lcl.map((P,R)=>l.jsx("line",{className:"fdp-spc__limit fdp-spc__limit--lcl",x1:P.x1,x2:P.x2,y1:P.y,y2:P.y,strokeWidth:2},`lcl-${R}`)),q.lcl.map((P,R)=>{if(R===q.lcl.length-1)return null;const X=q.lcl[R+1];if(!X||P.y===X.y)return null;const H=Math.max(4,X.x1-P.x2||0)*.5,Y=`M ${P.x2},${P.y} C ${P.x2+H},${P.y} ${X.x1-H},${X.y} ${X.x1},${X.y}`;return l.jsx("path",{className:"fdp-spc__limit fdp-spc__limit--lcl fdp-spc__limit-join",d:Y,fill:"none",strokeWidth:2},`lcl-join-${R}`)})]}):null,f!=null&&l.jsxs("g",{"aria-hidden":"true",className:"fdp-spc__target-group",children:[l.jsx("line",{className:"fdp-spc__target","data-testid":"spc-target-line",x1:0,x2:W.range()[1],y1:T(f),y2:T(f),strokeWidth:2.5}),l.jsxs("text",{"data-testid":"spc-target-label",x:W.range()[0]-7,y:T(f)-5,textAnchor:"start",className:"fdp-spc__target-label",fontSize:12,children:["Target ",f," ",D||x?.measureUnit||""]})]}),h&&q&&q.mean.length>0&&l.jsxs(l.Fragment,{children:[q.onePos.map((P,R)=>l.jsx("line",{className:"fdp-spc__zone fdp-spc__zone--pos1",x1:P.x1,x2:P.x2,y1:P.y,y2:P.y,"aria-hidden":"true",strokeWidth:2},`onePos-${R}`)),q.oneNeg.map((P,R)=>l.jsx("line",{className:"fdp-spc__zone fdp-spc__zone--neg1",x1:P.x1,x2:P.x2,y1:P.y,y2:P.y,"aria-hidden":"true",strokeWidth:2},`oneNeg-${R}`)),q.twoPos.map((P,R)=>l.jsx("line",{className:"fdp-spc__zone fdp-spc__zone--pos2",x1:P.x1,x2:P.x2,y1:P.y,y2:P.y,"aria-hidden":"true",strokeWidth:2},`twoPos-${R}`)),q.twoNeg.map((P,R)=>l.jsx("line",{className:"fdp-spc__zone fdp-spc__zone--neg2",x1:P.x1,x2:P.x2,y1:P.y,y2:P.y,"aria-hidden":"true",strokeWidth:2},`twoNeg-${R}`))]}),fe&&(b||S||C)&&(()=>{const P=fe.detectedAt,R=fe.firstFavourableCrossAt,X=U[P]?W(U[P].x instanceof Date?U[P].x:new Date(U[P].x)):null,B=U[P]?T(U[P].y):null,H=R!=null&&U[R]?W(U[R].x instanceof Date?U[R].x:new Date(U[R].x)):null,Y=R!=null&&U[R]?T(U[R].y):null;return l.jsxs("g",{"aria-hidden":"true",className:"fdp-spc__trend-overlays",children:[C&&X!=null&&B!=null&&H!=null&&Y!=null&&l.jsx("line",{x1:X,y1:B,x2:H,y2:Y,stroke:"#888",strokeDasharray:"4 4",strokeWidth:2,children:l.jsx("title",{children:"Trend bridge: start to first favourable-side point"})}),b&&X!=null&&B!=null&&l.jsx("circle",{cx:X,cy:B,r:6,fill:"white",stroke:"#555",strokeWidth:2,children:l.jsx("title",{children:"Trend start (run reached N)"})}),S&&H!=null&&Y!=null&&l.jsx("circle",{cx:H,cy:Y,r:5,fill:"#555",children:l.jsx("title",{children:"First favourable-side inclusion"})})]})})(),l.jsx(zp,{series:s[0],seriesIndex:0,palette:"categorical",showPoints:!1,focusablePoints:!1,focusIndex:-1,parseX:P=>P.x instanceof Date?P.x:new Date(P.x),smooth:!1,strokeWidth:N}),p&&U.map((P,R)=>{const X=W(P.x instanceof Date?P.x:new Date(P.x)),B=T(P.y),H=ee.has(R),Y=z?.[R],ne=oe[R],se=ne===Ot.Improvement,le=ne===Ot.Concern,be=ne===Ot.NoJudgement,me=["fdp-spc__point",H&&y?"fdp-spc__point--ooc":null,j&&le?"fdp-spc__point--sc-concern":null,j&&se?"fdp-spc__point--sc-improvement":null,j&&_&&be?"fdp-spc__point--sc-no-judgement":null,Y?.assurance===Er.Pass?"fdp-spc__point--assurance-pass":null,Y?.assurance===Er.Fail?"fdp-spc__point--assurance-fail":null].filter(Boolean).join(" "),xe=G?.focused?.index===R;return l.jsx("circle",{cx:X,cy:B,r:5,className:me,"data-variation":Y?.variation,"data-assurance":Y?.assurance,"aria-label":v,...xe?{"aria-describedby":`spc-tooltip-${R}`}:{}},R)}),M&&A&&G?.focused&&(()=>{const P=G.focused,R=typeof P.index=="number"?P.index:-1;if(R<0||!U[R])return null;const X=W(U[R].x instanceof Date?U[R].x:new Date(U[R].x)),B=T(U[R].y),H="var(--nhs-fdp-color-primary-yellow, #ffeb3b)";return l.jsxs("g",{className:"fdp-spc__focus-indicator","aria-hidden":"true",children:[l.jsx("circle",{cx:X,cy:B,r:7,fill:"none",stroke:H,strokeWidth:3}),l.jsx("circle",{cx:X,cy:B,r:5,fill:"#000",stroke:H,strokeWidth:1.5}),l.jsx("circle",{cx:X,cy:B,r:2.5,fill:"var(--nhs-fdp-color-data-viz-spc-common-cause, #A6A6A6)",stroke:"#fff",strokeWidth:.5})]})})(),K&&l.jsx(vk,{width:W.range()[1],height:T.range()[0]}),!A&&l.jsx(mm,{engineRows:a,limits:{mean:d.mean,sigma:d.sigma},pointDescriber:Te,measureName:x?.measureName,measureUnit:x?.measureUnit,dateFormatter:P=>V(P),enableNeutralNoJudgement:_,showTrendGatingExplanation:O})]})}),A&&l.jsx("div",{style:{marginTop:8},children:l.jsx(pk,{engineRows:a,measureName:x?.measureName,measureUnit:D||x?.measureUnit,onSignalFocus:I})}),k&&l.jsx(DS,{format:P=>Pe({...P,x:P.x instanceof Date?P.x:new Date(P.x)})})]})})},vk=({width:t,height:e})=>{const n=vr();return n?l.jsx("rect",{className:"fdp-spc__interaction-layer",width:t,height:e,fill:"transparent",tabIndex:0,"aria-label":"Interactive chart area. Use arrow keys to move between points.",onMouseMove:r=>{const o=r.currentTarget.getBoundingClientRect(),s=r.clientX-o.left,a=r.clientY-o.top;n.focusNearest(s,a)},onMouseLeave:()=>n.clear(),onKeyDown:r=>{switch(r.key){case"ArrowRight":n.focusNextPoint(),r.preventDefault();break;case"ArrowLeft":n.focusPrevPoint(),r.preventDefault();break;case"ArrowDown":n.focusNextSeries(),r.preventDefault();break;case"ArrowUp":n.focusPrevSeries(),r.preventDefault();break;case"Home":n.focusFirstPoint(),r.preventDefault();break;case"End":n.focusLastPoint(),r.preventDefault();break}},style:{cursor:"crosshair"}}):null};function ym(t){if(t==null)return;const e=t instanceof Date?t:new Date(t);return Number.isNaN(e.valueOf())?void 0:e}function xk(t,e,n){const r=new Array(t),i=new Date(e);for(let o=0;o<t;o++)switch(r[o]=new Date(i),n){case"hourly":i.setHours(i.getHours()+1);break;case"daily":i.setDate(i.getDate()+1);break;case"weekly":i.setDate(i.getDate()+7);break;case"monthly":i.setMonth(i.getMonth()+1);break;case"quarterly":i.setMonth(i.getMonth()+3);break;case"annually":i.setFullYear(i.getFullYear()+1);break}return r}function _k(t,e){const n=t.filter(Boolean);if(n.length<2)return e;const r=[];for(let c=1;c<n.length;c++)r.push(n[c].getTime()-n[c-1].getTime());const i=r.sort((c,u)=>c-u),o=i[Math.floor(i.length/2)],s=3600*1e3,a=24*s;return o<=2*s?"hourly":o<=2*a?"daily":o<=10*a?"weekly":o<=45*a?"monthly":o<=120*a?"quarterly":"annually"}function bm(t,e){if(t)try{switch(e){case"hourly":return new Intl.DateTimeFormat(void 0,{hour:"2-digit",minute:"2-digit",day:"2-digit",month:"short",year:"numeric"}).format(t);case"daily":return new Intl.DateTimeFormat(void 0,{day:"2-digit",month:"short",year:"numeric"}).format(t);case"weekly":return`Week of ${new Intl.DateTimeFormat(void 0,{day:"2-digit",month:"short",year:"numeric"}).format(t)}`;case"monthly":return new Intl.DateTimeFormat(void 0,{month:"short",year:"numeric"}).format(t);case"quarterly":return`Q${Math.floor(t.getMonth()/3)+1} ${t.getFullYear()}`;case"annually":return`${t.getFullYear()}`;default:return new Intl.DateTimeFormat(void 0,{day:"2-digit",month:"short",year:"numeric"}).format(t)}}catch{return}}function wk(t,e,n,r="0-100"){if(e)return e;if(n)return n;const i=t.filter(a=>a!=null);if(!i.length)return;const o=Math.min(...i),s=Math.max(...i);if(r==="0-1"){if(o>=0&&s<=1&&s>0)return"%"}else if(o>=0&&s<=100&&s>0)return"%"}function Sk(t,e,n=1){switch(t||e){case"hourly":return n===1?"last hour":`last ${n} hours`;case"daily":return n===1?"last day":`last ${n} days`;case"weekly":return n===1?"last week":`last ${n} weeks`;case"monthly":return n===1?"last month":`last ${n} months`;case"quarterly":return n===1?"last quarter":`last ${n} quarters`;case"annually":return n===1?"last year":`last ${n} years`;default:return"previous"}}function vm(t){const{values:e,dates:n,intervalHint:r,startDate:i,providedUnit:o,defaultUnit:s,autoValue:a=!0,autoDelta:c=!0,autoMetadata:u=!0,deltaConfig:d}=t,f=e.map(v=>typeof v=="number"?v:v==null?null:Number(v));let p=-1;for(let v=f.length-1;v>=0;v--)if(f[v]!=null){p=v;break}let h=(n||[]).map(ym);if(!h.some(Boolean)){const v=ym(i);v&&r?h=xk(f.length,v,r):h=new Array(f.length).fill(void 0)}const m=_k(h,r),g=wk(f,o,s,t.percentHeuristic),N=a&&p>=0&&f[p]!=null?f[p]:void 0,M={strategy:"previous",n:1,absolute:!0,skipNulls:!0,...d||{}};function j(){if(p<0)return-1;if(M.strategy==="previous"||M.strategy==="n-points"){let O=p-(M.strategy==="previous"?1:Math.max(1,M.n||1));if(!M.skipNulls)return O;for(let E=O;E>=0;E--)if(f[E]!=null)return E;return-1}const v=h[p];if(!v)return-1;const x=new Date(v);x.setFullYear(x.getFullYear()-1);let A=-1,I=1/0;for(let O=0;O<h.length;O++){const E=h[O];if(!E||f[O]==null)continue;const L=Math.abs(E.getTime()-x.getTime());L<I&&(I=L,A=O)}return A}const _=j(),b=_>=0?f[_]:null;let S;if(c&&N!=null&&b!=null){const v=N-b,x=M.absolute!==!1,A=x?v:b===0?0:v/Math.abs(b)*100;S={value:Number.isFinite(A)?Number(A.toFixed(2)):0,isPercent:x?g==="%":!0,period:`vs ${Sk(m,r,M.strategy==="n-points"?Math.max(1,M.n||1):1)}`}}const C=p>=0?h[p]:void 0,k=u&&bm(C,m)?`Latest: ${bm(C,m)}`:void 0;return{value:N,unit:g,delta:S,metadata:k,latestDate:C,frequency:m}}function kk(t){const{rows:e}=Ro(t),n=ru(t);return{rows:e,visuals:n.visuals}}const lu=13;function cu(t){if(!(!t||t.length===0))return t.map(e=>{switch(e){case xt.Improvement:return Je.Improvement;case xt.Concern:return Je.Concern;case xt.NoJudgement:return Je.Neither;default:return null}})}function xm(t){if(!(!t||t.length===0))return t.map(e=>e===xt.NoJudgement)}function _m(t,e){const n=t===_n.G?_n.G:t===_n.T?_n.T:_n.XmR,r=e===Qe.Up?Qe.Up:e===Qe.Down?Qe.Down:Qe.Neither;return{chartType:n,metricImprovement:r}}function wm(t,e,n){const r=typeof t?.minimumPoints=="number"&&!isNaN(t.minimumPoints)?t.minimumPoints:lu,i={minimumPoints:r};return e.filter(s=>!s.ghost&&typeof s.value=="number").length>=r&&(i.chartLevelEligibility=!0),t?.enableFourOfFiveRule!=null&&(i.enableFourOfFiveRule=!!t.enableFourOfFiveRule),n&&Object.assign(i,n),Object.keys(i).length?i:void 0}function Ck(t,e,n){const r=ie.useMemo(()=>{if(!t||t.length<2)return!1;const s=Math.min(t[0],t[1]),a=Math.max(t[0],t[1]);return!(0>=s&&0<=a)},[t]),{slotPx:i,totalReservedPx:o}=ie.useMemo(()=>{if(!r)return{slotPx:0,totalReservedPx:0};const a=(e??260)-60,c=Io,d=c+Np,f=n?.maxFraction,p=Math.max(Lo,Math.floor(a*f)),h=Math.min(d,p);return{slotPx:Math.min(c,h),totalReservedPx:h}},[r,e,n?.maxFraction]);return{show:r,slotPx:i,totalReservedPx:o}}function Nk(t,e,n,r){if(n.percentScale){const c=t.map(f=>f.y),u=Math.max(100,...c),d=Math.min(0,...c);return[d<0?d:0,u>100?u:100]}const i=t.map(c=>c.y),o=c=>{c!=null&&i.push(c)};if(o(e.mean),o(e.ucl),o(e.lcl),o(e.onePos),o(e.oneNeg),o(e.twoPos),o(e.twoNeg),r&&r.length)for(const c of r)typeof c=="number"&&!isNaN(c)&&i.push(c);if(!i.length)return;let s=Math.min(...i),a=Math.max(...i);return n.alwaysShowZeroY&&(s=Math.min(0,s)),n.alwaysShowHundredY&&(a=Math.max(100,a)),[s,a]}function uu(t,e){if(!t?.length||e.chartType!==_n.XmR)return null;const n=Math.max(2,Math.floor(e.shiftLength??6)),r=[];for(let h=0;h<t.length;h++){const y=t[h],m=y.value;y?.ghost||typeof m=="number"&&Number.isFinite(m)&&r.push({idx:h,value:m})}if(r.length<n*2)return null;let i=0,o=0;for(let h=1;h<r.length;h++)i+=Math.abs(r[h].value-r[h-1].value),o++;if(o===0)return null;const a=i/o*(2.66/3);if(!Number.isFinite(a)||a<=0)return null;const c=Math.max(0,e.deltaSigma??.5),u=e.metricImprovement===Qe.Up,d=e.metricImprovement===Qe.Down,f=(()=>{for(let h=t.length-1;h>=0;h--)if(t[h]?.baseline)return h;return-1})();function p(h,y){let m=0,g=0;for(let N=h;N<y;N++)m+=r[N].value,g++;return g?m/g:NaN}for(let h=n;h<=r.length-n;h++){const y=p(h-n,h),m=p(h,h+n);if(!Number.isFinite(y)||!Number.isFinite(m))continue;const g=m-y,N=g/a;let M=!1,j=!1;if(u?(M=N>=c,j=!0):d?(M=-N>=c,j=!1):(M=Math.abs(N)>=c,j=g>0),!M)continue;const _=C=>j?C>y:C<y;let b=!0;for(let C=h;C<h+n;C++)if(!_(r[C].value)){b=!1;break}if(!b)continue;const S=r[h].idx;if(!(e.minGap&&f>=0&&S-f<e.minGap))return S}return null}function Mk(t,e){const n=uu(t,e);return n==null?t.slice():t.map((r,i)=>i===n?{...r,baseline:!0}:r)}function Tk(t,e){const n=Math.max(1,Math.floor(e.maxInsertions??1));if(n<=1)return Mk(t,e);let r=t.slice(),i=0;const o=Math.max(1,e.minGap??0);for(;i<n;){const s=uu(r,{...e,minGap:o});if(s==null)break;if(r[s]?.baseline){const a=uu(r,{...e,minGap:o+1});if(a==null||a===s)break;r=r.map((c,u)=>u===a?{...c,baseline:!0}:c),i++;continue}r=r.map((a,c)=>c===s?{...a,baseline:!0}:a),i++}return r}const Sm=t=>{const e=ie.useCallback(ye=>String(ye).replace(/^spc_warning_code\.?/i,"").replace(/[_\-]+/g," ").trim().split(" ").filter(Boolean).map(de=>de.length?de[0].toUpperCase()+de.slice(1):de).join(" "),[]),n=ie.useCallback(ye=>String(ye).replace(/[_\-]+/g," ").trim().split(" ").filter(Boolean).map(we=>we.length?we[0].toUpperCase()+we.slice(1):we).join(" "),[]);process.env.NODE_ENV!=="production"&&t.disableTrendSideGating!==void 0&&console.warn("SPCChart: 'disableTrendSideGating' prop is deprecated and ignored (trend side gating always enabled).");const{effData:r,effTargets:i,effBaselines:o,effGhosts:s,effChartTypeCore:a,effMetricImprovementCore:c,effEngineSettings:u,effAlwaysShowZeroY:d,effAlwaysShowHundredY:f,effPercentScale:p,effGradientSequences:h,effSequenceTransition:y,effProcessLineWidth:m,effTrendVisualMode:g,effShowTrendGatingExplanation:N,effEnableNeutralNoJudgement:M,effEnableRules:j,effShowPartitionMarkers:_,effShowTrendStartMarkers:b,effShowFirstFavourableCrossMarkers:S,effShowTrendBridgeOverlay:C,effShowSignalsInspector:k,effOnSignalFocus:v,effShowWarningsPanel:x,effWarningsFilter:A,effShowEmbeddedIcon:I,effEmbeddedIconVariant:O,effEmbeddedIconRunLength:E,effShowFocusIndicator:L,effHeight:D,effClassName:F,effAriaLabel:K,effUnit:W,effNarrationContext:T,effShowZones:Q,effShowPoints:G,effHighlightOutOfControl:U,effVisualsScenario:ee,effVisualsEngineSettings:z,effSource:oe,effPrecomputedVisuals:J,effEngineAutoRecalc:re}=gk(t),te=K??t.ariaLabel,ae=D??t.height??260,fe=F??t.className,q=W??t.unit,ce=T??t.narrationContext,ue=Q??t.showZones,ge=G??t.showPoints,he=U??t.highlightOutOfControl,V=ee??t.visualsScenario??um.None,Ee=z??t.visualsEngineSettings,Pe=oe??t.source,Te=t.a11y?.announceFocus??t.announceFocus??!1,Z=ie.useMemo(()=>r.map((ye,we)=>({x:ye.x,value:ye.y,target:i?.[we]??void 0,baseline:o?.[we]??void 0,ghost:s?.[we]??void 0})),[r,i,o,s]),P=ie.useMemo(()=>{try{const ye=re;return ye?.enabled?Tk(Z,{chartType:a,metricImprovement:c,shiftLength:ye.shiftLength,deltaSigma:ye.deltaSigma,minGap:ye.minGap,maxInsertions:ye.maxInsertions}):Z}catch{return Z}},[Z,re,a,c]),R=ie.useMemo(()=>{if(J?.visuals)return J.visuals;try{const ye=wm(u,P,Ee),{chartType:we,metricImprovement:de}=_m(a,c),Se={chartType:we,metricImprovement:de,data:P,settings:ye},{visuals:De}=ik(Se,V,{trendVisualMode:g===gm.Ungated?Vi.Ungated:Vi.Gated,enableNeutralNoJudgement:M});return De||[]}catch{return[]}},[J?.visuals?.length,P,a,c,g,M,u,V,Ee]),B=ie.useMemo(()=>{if(J?.rows)try{const ye=J.rows,we=de=>{switch(de){case $e.ImprovementHigh:case $e.ImprovementLow:return Je.Improvement;case $e.ConcernHigh:case $e.ConcernLow:return Je.Concern;case $e.NeitherHigh:case $e.NeitherLow:return Je.Neither;case $e.CommonCause:default:return Je.Neither}};return ye.map((de,Se)=>({data:{value:de.value,ghost:!!de.ghost},partition:{id:de.partitionId},limits:{mean:de.mean,ucl:de.upperProcessLimit,lcl:de.lowerProcessLimit,oneSigma:{upper:de.upperOneSigma,lower:de.lowerOneSigma},twoSigma:{upper:de.upperTwoSigma,lower:de.lowerTwoSigma}},rules:{singlePoint:{up:!!de.singlePointUp,down:!!de.singlePointDown},twoOfThree:{up:!!de.twoSigmaUp,down:!!de.twoSigmaDown},fourOfFive:{up:!!de.fourOfFiveUp,down:!!de.fourOfFiveDown},shift:{up:!!de.shiftUp,down:!!de.shiftDown},trend:{up:!!de.trendUp,down:!!de.trendDown}},classification:{variation:we(de.variationIcon),neutralSpecialCauseValue:de.variationIcon===$e.NeitherHigh||de.variationIcon===$e.NeitherLow?de.specialCauseImprovementValue??de.specialCauseConcernValue??1:null,assurance:void 0},target:P[Se]?.target??null}))}catch{return null}try{const ye=wm(u,P,Ee),{chartType:we,metricImprovement:de}=_m(a,c),Se={chartType:we,metricImprovement:de,data:P,settings:ye},{rows:De}=kk(Se),ze=Me=>{switch(Me){case $e.ImprovementHigh:case $e.ImprovementLow:return Je.Improvement;case $e.ConcernHigh:case $e.ConcernLow:return Je.Concern;case $e.NeitherHigh:case $e.NeitherLow:return Je.Neither;case $e.CommonCause:default:return Je.Neither}};return De.map((Me,qe)=>({data:{value:Me.value,ghost:!!Me.ghost},partition:{id:Me.partitionId},limits:{mean:Me.mean,ucl:Me.upperProcessLimit,lcl:Me.lowerProcessLimit,oneSigma:{upper:Me.upperOneSigma,lower:Me.lowerOneSigma},twoSigma:{upper:Me.upperTwoSigma,lower:Me.lowerTwoSigma}},rules:{singlePoint:{up:!!Me.singlePointUp,down:!!Me.singlePointDown},twoOfThree:{up:!!Me.twoSigmaUp,down:!!Me.twoSigmaDown},fourOfFive:{up:!!Me.fourOfFiveUp,down:!!Me.fourOfFiveDown},shift:{up:!!Me.shiftUp,down:!!Me.shiftDown},trend:{up:!!Me.trendUp,down:!!Me.trendDown}},classification:{variation:ze(Me.variationIcon),neutralSpecialCauseValue:Me.variationIcon===$e.NeitherHigh||Me.variationIcon===$e.NeitherLow?Me.specialCauseImprovementValue??Me.specialCauseConcernValue??1:null,assurance:void 0},target:P[qe]?.target??null}))}catch{return null}},[J?.rows?.length,P,a,c,u,Ee])||null,H=(B||[]).slice().reverse().find(ye=>ye.limits.mean!=null),Y=H?.limits.mean??null,ne=ie.useMemo(()=>{const ye=[];try{const we=B,de=u?.minimumPoints??13,Se=u?.minimumPoints??12;if(we&&we.length){const De=we.filter(Me=>!Me.data.ghost&&Me.data.value!=null).length;De<de&&ye.push({code:Ba.InsufficientPointsGlobal,severity:Xn.Warning,category:$a.Data,message:"Not enough non-ghost points to compute stable limits/icons.",context:{nonGhostCount:De,minimumPoints:de}});const ze=new Map;for(const Me of we){const qe=Me.partition.id??0,at=ze.get(qe)||{size:0,nonGhost:0};at.size+=1,!Me.data.ghost&&Me.data.value!=null&&(at.nonGhost+=1),ze.set(qe,at)}for(const[Me,qe]of ze)qe.nonGhost>0&&qe.nonGhost<Se&&ye.push({code:Ba.InsufficientPointsPartition,severity:Xn.Warning,category:$a.Partition,message:"A partition/baseline segment has too few points for recommended stability.",context:{partitionId:Me,nonGhostCount:qe.nonGhost,minimumPointsPartition:Se}})}}catch{}return ye},[B,u?.minimumPoints]),se=ie.useMemo(()=>ne.length?A?ne.filter(ye=>!(A.severities&&ye.severity&&!A.severities.includes(ye.severity)||A.categories&&ye.category&&!A.categories.includes(ye.category)||A.codes&&!A.codes.includes(ye.code))):ne:[],[ne,A]),le=H?.limits.ucl??null,be=H?.limits.lcl??null,me=H?.limits.oneSigma.upper??null,xe=H?.limits.oneSigma.lower??null,ke=H?.limits.twoSigma.upper??null,Ne=H?.limits.twoSigma.lower??null,et=Y!=null&&me!=null?Math.abs(me-Y):0,Ue=ie.useMemo(()=>[{id:"process",data:r,color:"#A6A6A6"}],[r]),dt=ie.useMemo(()=>Nk(r,{mean:Y,ucl:le,lcl:be,onePos:me,oneNeg:xe,twoPos:ke,twoNeg:Ne},{alwaysShowZeroY:!!d,alwaysShowHundredY:!!f,percentScale:!!p},i??null),[r,Y,le,be,me,xe,ke,Ne,i,d,f,p]),Oe=ie.useMemo(()=>{const ye=we=>{const de=we.filter(De=>typeof De=="number"&&!isNaN(De));if(!de.length)return null;const Se=de[0];return de.every(De=>De===Se)?Se:null};if(B&&B.length){const we=ye(B.map(de=>de.target));if(we!=null)return we}return i&&i.length?ye(i):null},[B,i]),{show:pe,slotPx:je,totalReservedPx:_e}=Ck(dt,ae,{maxFraction:.35}),Ce=pe?_e:0,Xe=ie.useMemo(()=>{const ye=r.map(we=>we.x);return vm({values:r.map(we=>we.y),dates:ye,providedUnit:q||ce?.measureUnit,percentHeuristic:"0-1",autoValue:!1,autoDelta:!1,autoMetadata:!1})},[r,q,ce?.measureUnit]),Re=q??ce?.measureUnit??Xe.unit,Ve=ie.useMemo(()=>Re?{...ce||{},measureUnit:Re}:ce,[ce,Re]),Ke=ie.useMemo(()=>{if(!B)return[];const ye=[];for(let we=1;we<B.length;we++)B[we].partition.id!==B[we-1].partition.id&&ye.push(we);return ye},[B]),Le=ie.useMemo(()=>hk({show:!!I,rowsForUi:B,minPoints:u?.minimumPoints??13,metricImprovement:c,variant:O,runLength:E}),[I,B,u?.minimumPoints,c,O,E]);return l.jsxs("div",{className:fe?`fdp-spc-chart-wrapper ${fe}`:"fdp-spc-chart-wrapper",children:[l.jsx(dk,{show:!!I,variationNode:Le,assuranceNode:null}),l.jsx(kp,{height:ae,ariaLabel:te,margin:{bottom:48,left:56,right:16,top:12},children:l.jsx(Cp,{series:Ue,yDomain:dt,yBottomGapPx:Ce,children:(()=>{const ye={data:{series:Ue,engineRows:B,visualCategories:R,partitionMarkers:_?Ke:[]},targets:{limits:{mean:Y,ucl:le,lcl:be,sigma:et,onePos:me,oneNeg:xe,twoPos:ke,twoNeg:Ne},uniformTarget:Oe},visuals:{showPoints:ge,showZones:ue,highlightOutOfControl:he,gradientSequences:h,sequenceTransition:y,processLineWidth:m,showFocusIndicator:L,enableRules:j,enableNeutralNoJudgement:M,showTrendStartMarkers:b,showFirstFavourableCrossMarkers:S,showTrendBridgeOverlay:C},a11y:{announceFocus:Te,ariaLabel:te,narrationContext:Ve,showSignalsInspector:k,onSignalFocus:v,showTrendGatingExplanation:N},axis:{zeroBreakSlotGapPx:je},compute:{effectiveUnit:Re,metricImprovement:c}};return l.jsx(bk,{...ye})})()})}),Pe&&l.jsx("div",{className:"fdp-spc-chart__source","aria-label":"Chart data source",children:typeof Pe=="string"?l.jsxs("small",{children:["Source: ",Pe]}):Pe}),l.jsx(uk,{show:!!x,warnings:se,formatWarningCategory:n,formatWarningCode:e})]})};function jk(t,e){const{chartType:n=_n.XmR,metricImprovement:r,minimumPoints:i=lu,enableNeutralNoJudgement:o=!0,includeSignalFallbacks:s=!0}=e,a=t.map(j=>({x:j.x,value:j.value??j.y??null}));let c=null;try{const j=a.filter(b=>typeof b.value=="number").length,_={minimumPoints:i};j>=i&&(_.chartLevelEligibility=!0),c=Ro({chartType:n,metricImprovement:r,data:a,settings:_})}catch{c=null}const u=c?.rows??[];let d=u[u.length-1]??null;for(let j=u.length-1;j>=0;j--){const _=u[j];if(_&&_.value!=null&&!_.ghost){d=_;break}}let f=[];try{f=Oo(u,{metricImprovement:r,enableNeutralNoJudgement:o})}catch{f=[]}const p=Oa(d?.variationIcon),h=d?.variationIcon??null,y=d?.mean??null,m=d?{lower:d?.lowerProcessLimit??null,upper:d?.upperProcessLimit??null}:null,g=d?{upperOne:d?.upperOneSigma??null,upperTwo:d?.upperTwoSigma??null,lowerOne:d?.lowerOneSigma??null,lowerTwo:d?.lowerTwoSigma??null}:null;let N,M;return s&&(N=cu(f),M=xm(f)),{rows:u,visuals:f,latestState:p,lastVariationIcon:h,centerLine:y,controlLimits:m,sigmaBands:g,pointSignals:N,pointNeutralSpecialCause:M}}const Dk=Object.freeze(Object.defineProperty({__proto__:null,AssuranceIcon:Er,BaselineSuggestionReason:Gp,ChartType:_n,DEFAULT_MIN_POINTS:lu,Icons:fk,ImprovementDirection:Qe,PARITY_V26:dm,RULE_METADATA:Wp,SPCChart:Sm,SPCTooltipOverlay:mm,SpcEmbeddedIconVariant:ui,SpcVisualCategory:xt,SpcWarningCategory:$a,SpcWarningCode:Ba,SpcWarningSeverity:Xn,VARIATION_COLOR_TOKENS:Un,VariationIcon:$e,buildSpcV26a:Ro,buildSpcV26aWithVisuals:ru,computeSpcPrecomputed:jk,computeSpcVisualCategories:Oo,extractRuleIds:Da,getVariationColorHex:HS,getVariationColorToken:Vp,isSpecialCauseIcon:pm,mapIconToVariation:Oa,normaliseSpcSettingsV2:cm,ruleGlossary:Ui,variationLabel:Ia,visualsToNeutralFlags:xm,visualsToPointSignals:cu,withParityV26:ok},Symbol.toStringTag,{value:"Module"}));function Ik(t){const e=t.replace("#","");return[parseInt(e.slice(0,2),16),parseInt(e.slice(2,4),16),parseInt(e.slice(4,6),16)]}function km(t){const{values:e,x:n,chartType:r=_n.XmR,metricImprovement:i=Qe.Neither,showLimits:o=!0,showLimitBand:s=!1,showInnerBands:a=!1,showMean:c=!1}=t,u=ie.useMemo(()=>{const b=[];for(let S=0;S<e.length;S++)b.push({x:n?.[S],value:e[S]});return b},[e,n]),d=ie.useMemo(()=>{try{const b=u.map((v,x)=>({x:v.x??x,value:v.value})),S=13,C=b.filter(v=>typeof v.value=="number").length,k={minimumPoints:S};return C>=S&&(k.chartLevelEligibility=!0),Ro({chartType:r,metricImprovement:i,data:b,settings:k})}catch{return null}},[u,r,i]),f=ie.useMemo(()=>{const b=d?.rows;if(!b||b.length===0)return null;for(let S=b.length-1;S>=0;S--){const C=b[S];if(C&&C.value!=null&&!C.ghost)return C}return b[b.length-1]??null},[d]),p=ie.useMemo(()=>{const b=d?.rows;if(!b||b.length===0)return null;let S=b[b.length-1];for(let C=b.length-1;C>=0;C--){const k=b[C];if(k&&k.value!=null&&!k.ghost){S=k;break}}return Oa(S?.variationIcon)},[d]),h=ie.useMemo(()=>f?.mean??null,[f]),y=ie.useMemo(()=>{if(!f)return null;const b=f?.lowerProcessLimit??null,S=f?.upperProcessLimit??null;return b==null&&S==null?null:{lower:b,upper:S}},[f]),m=ie.useMemo(()=>f?{upperOne:f?.upperOneSigma??null,upperTwo:f?.upperTwoSigma??null,lowerOne:f?.lowerOneSigma??null,lowerTwo:f?.lowerTwoSigma??null}:null,[f]),g=ie.useMemo(()=>{const b=d?.rows;if(!(!b||b.length===0))try{return Oo(b,{metricImprovement:i,enableNeutralNoJudgement:!0})}catch{return}},[d,i]),N=ie.useMemo(()=>cu(g),[g?.length]),M=ie.useMemo(()=>{if(!(!g||g.length===0))return g.map(b=>b===xt.NoJudgement)},[g?.length]),j=ie.useMemo(()=>{let b=null;if(f&&f.value!=null&&!f.ghost){const O=f.variationIcon;p===Be.SpecialCauseNoJudgement?b=pm(O)?Be.SpecialCauseNoJudgement:Be.CommonCause:b=Oa(O)??Be.CommonCause}const S=b??Be.CommonCause,C=La[S].hex,[k,v,x]=Ik(C),A=Pa();return{"--fdp-metric-card-bg":`linear-gradient(180deg, rgba(${k}, ${v}, ${x}, ${A.start}) 0%, rgba(${k}, ${v}, ${x}, ${A.mid}) 50%, rgba(${k}, ${v}, ${x}, ${A.end}) 100%)`,"--fdp-metric-card-accent":C}},[f,p]);return{sparkProps:ie.useMemo(()=>({data:u,showMean:c,showLimits:o,showLimitBand:s,showInnerBands:a,metricImprovement:i,centerLine:h,controlLimits:y,sigmaBands:m,pointSignals:N,pointNeutralSpecialCause:M,visualCategories:g,variationState:p??void 0}),[u,c,o,s,a,i,p,h,y?.lower,y?.upper,m?.upperTwo,m?.lowerOne,m?.lowerTwo,N?.length,M?.length,g?.length]),metricCardStyle:j,latestState:p}}const Lk=({sparkData:t,direction:e=Qe.Neither,showMean:n=!1,showLimits:r=!0,showLimitBand:i=!1,showInnerBands:o=!1,maxPoints:s,autoValue:a=!0,autoDelta:c=!0,autoMetadata:u=!0,defaultUnit:d,intervalHint:f,startDate:p,deltaConfig:h,...y})=>{const m=km({values:t.map(S=>S.value??null),metricImprovement:e,showLimits:r,showLimitBand:i,showInnerBands:o,showMean:n}),g=l.jsx(hm,{...m.sparkProps,maxPoints:s}),N=ie.useMemo(()=>vm({values:t.map(S=>typeof S.value=="number"?S.value:null),dates:t.map(S=>S.date),intervalHint:f,startDate:p,providedUnit:y.unit,defaultUnit:d,autoValue:a,autoDelta:c,autoMetadata:u,deltaConfig:h}),[t,f,p,y.unit,d,a,c,u,h]),M=a&&N.value!=null?N.value:y.value,j=c&&N.delta?N.delta:y.delta,_=N.unit||y.unit,b=u&&N.metadata?N.metadata:y.metadata;return l.jsx(Hp,{...y,value:M,unit:_,delta:j,metadata:b,visual:g,style:m.metricCardStyle})};function Pk(t){return function(){let e=t+=1831565813;return e=Math.imul(e^e>>>15,e|1),e^=e+Math.imul(e^e>>>7,e|61),((e^e>>>14)>>>0)/4294967296}}function Ak(t="auto"){const[e,n]=$.useState(!1);return $.useEffect(()=>{if(t!=="auto"||typeof window>"u"||!window.matchMedia)return;const r=window.matchMedia("(prefers-reduced-motion: reduce)"),i=()=>n(r.matches);return i(),r.addEventListener?.("change",i),()=>r.removeEventListener?.("change",i)},[t]),t==="off"?!1:e}function Cm(t,e){return e[Math.floor(t()*e.length)]}function $r(t,e,n){return Math.max(e,Math.min(n,t))}function Ek(t,e){const n=t.seed??1,r=Pk(n),i=Math.max(6,Math.min(48,Math.round(t.density??18))),o=["circle","hexagon","rect"],s=[],a=t.gradients&&t.gradients.length>0?t.gradients:["nhs-fdp-gradient-blue","nhs-fdp-gradient-aqua","nhs-fdp-gradient-green"],u=(typeof t.callout.width=="number"?t.callout.width:void 0)??Math.min(520,e*.7),d=(e-u)/2,f=d+u,p={left:d/e*100,right:f/e*100,top:20,bottom:80},h=(m,g)=>!(m>p.left-6&&m<p.right+6&&g>p.top-10&&g<p.bottom+10);let y=0;for(;s.length<i&&y<i*50;){y++;const m=Cm(r,o),g=$r(r()*1,.15,.95),N=24+r()*72,M=r()*100,j=r()*100;if(!h(M,j))continue;const _=Cm(r,a);if(m==="rect"){const b=.6+r()*.8;s.push({kind:m,width:N*b,height:N,x:M,y:j,depth:g,fillToken:_,shadow:"soft"})}else s.push({kind:m,size:N,x:M,y:j,depth:g,fillToken:_,shadow:"soft"})}return s}const Fk=t=>{const{seed:e=1,mode:n="scroll",axis:r="xy",height:i=520,strength:o=120,scrub:s=.3,scrollStart:a="top bottom",scrollEnd:c="bottom top",debugMarkers:u=!1,pin:d=!1,pinSpacing:f=!0,reducedMotion:p="auto",callout:h,className:y,style:m}=t,g=$.useRef(null),[N,M]=$.useState({w:1e3,h:520}),j=Ak(p),_=t.direction??"se",b=$.useMemo(()=>{switch(_){case"ne":return{x:1,y:-1};case"nw":return{x:-1,y:-1};case"sw":return{x:-1,y:1};case"se":default:return{x:1,y:1}}},[_]);$.useLayoutEffect(()=>{if(!g.current)return;const O=new ResizeObserver(E=>{for(const L of E){const D=L.contentRect;M({w:D.width,h:D.height})}});return O.observe(g.current),()=>O.disconnect()},[]);const S=$.useMemo(()=>t.shapes&&t.shapes.length?t.shapes:Ek(t,N.w),[e,N.w,N.h]),[C,k]=$.useState(0),[v,x]=$.useState(null);$.useEffect(()=>{if(n!=="scroll"||j)return;let O;return(async()=>{if(typeof window>"u")return;const E=g.current;if(E)try{const L=await Promise.resolve().then(()=>S1),D=await Promise.resolve().then(()=>dM),F=L.default??L.gsap??L,K=D.ScrollTrigger??D.default??D;F.registerPlugin(K);const W=K.create({trigger:E,start:a,end:c,markers:u,pin:d,pinSpacing:f,scrub:s,invalidateOnRefresh:!0,onUpdate:T=>k(T.progress)});x(T=>T===null?W.progress??.5:T),u&&window&&(window.__parallaxRefresh=()=>{try{K.refresh()}catch{}}),O=()=>{try{W.kill()}catch{}}}catch{const D=()=>{const F=E.getBoundingClientRect(),K=window.innerHeight||document.documentElement.clientHeight,W=F.height+K,T=K-F.top,Q=$r(T/W,0,1);x(G=>G===null?Q:G),k(Q)};D(),window.addEventListener("scroll",D,{passive:!0}),window.addEventListener("resize",D),O=()=>{window.removeEventListener("scroll",D),window.removeEventListener("resize",D)}}})(),()=>{O&&O()}},[n,j,a,c,u,d,f,s]),$.useEffect(()=>{if(n!=="timed"||j)return;let O=0,E=performance.now();const L=8e3,D=F=>{const W=(F-E)%L/L;k(W),O=requestAnimationFrame(D)};return O=requestAnimationFrame(D),()=>cancelAnimationFrame(O)},[n,j]);const A=O=>.15+(O??.5)*.6,I={position:"absolute",left:"50%",top:"50%",bottom:void 0,right:void 0,transform:"translate(-50%, -50%)",width:typeof h.width=="number"?`${h.width}px`:h.width||"min(520px, 70%)"};return l.jsxs("div",{ref:g,className:["nhs-parallax-scene",y].filter(Boolean).join(" "),style:{position:"relative",height:typeof i=="number"?`${i}px`:i,overflow:"hidden",...m},"aria-hidden":!0,children:[l.jsxs("svg",{className:"nhs-parallax-canvas",width:"100%",height:"100%",viewBox:"0 0 100 100",preserveAspectRatio:"none","aria-hidden":!0,children:[l.jsxs("defs",{children:[l.jsxs("linearGradient",{id:"fdpgradient-blue",x1:"0",x2:"1",y1:"0",y2:"1",children:[l.jsx("stop",{offset:"0%",stopColor:"#2E61A5"}),l.jsx("stop",{offset:"100%",stopColor:"#1B3E73"})]}),l.jsxs("linearGradient",{id:"fdpgradient-aqua",x1:"0",x2:"1",y1:"0",y2:"1",children:[l.jsx("stop",{offset:"0%",stopColor:"#1DC6D2"}),l.jsx("stop",{offset:"100%",stopColor:"#117E8A"})]}),l.jsxs("linearGradient",{id:"fdpgradient-green",x1:"0",x2:"1",y1:"0",y2:"1",children:[l.jsx("stop",{offset:"0%",stopColor:"#2BC06A"}),l.jsx("stop",{offset:"100%",stopColor:"#1A874A"})]}),l.jsxs("linearGradient",{id:"fdpgradient-dark-blue",x1:"0",x2:"1",y1:"0",y2:"1",children:[l.jsx("stop",{offset:"0%",stopColor:"#005eb8"}),l.jsx("stop",{offset:"100%",stopColor:"#003087"})]}),l.jsxs("linearGradient",{id:"fdpgradient-light-blue",x1:"0",x2:"1",y1:"0",y2:"1",children:[l.jsx("stop",{offset:"0%",stopColor:"#005eb8"}),l.jsx("stop",{offset:"100%",stopColor:"#60b2e2"})]}),l.jsxs("linearGradient",{id:"fdpgradient-purple",x1:"0",x2:"1",y1:"0",y2:"1",children:[l.jsx("stop",{offset:"0%",stopColor:"#ac98cb"}),l.jsx("stop",{offset:"100%",stopColor:"#d6cce3"})]}),l.jsxs("linearGradient",{id:"fdpgradient-green-palette",x1:"0",x2:"1",y1:"0",y2:"1",children:[l.jsx("stop",{offset:"0%",stopColor:"#007f3b"}),l.jsx("stop",{offset:"100%",stopColor:"#63a691"})]}),l.jsxs("linearGradient",{id:"fdpgradient-grey",x1:"0",x2:"1",y1:"0",y2:"1",children:[l.jsx("stop",{offset:"0%",stopColor:"#4c6272"}),l.jsx("stop",{offset:"100%",stopColor:"#768692"})]})]}),l.jsx("g",{className:"nhs-parallax-connectors",children:S.map((O,E)=>{const L=O.x,D=O.y,F=(O.width??O.size??40)/N.w*100*1,K=(O.height??O.size??40)/N.h*100*1,W=O.kind==="circle"?[[L,D-K/2],[L+F/2,D],[L,D+K/2],[L-F/2,D]]:O.kind==="rect"||O.kind==="svg"?[[L-F/2,D-K/2],[L+F/2,D-K/2],[L+F/2,D+K/2],[L-F/2,D+K/2]]:[[L-F/2,D],[L-F/4,D-K/2],[L+F/4,D-K/2],[L+F/2,D],[L+F/4,D+K/2],[L-F/4,D+K/2]],T=A(O.depth),U=(d?C:C-(v??.5))*o*T,ee=r==="x"?U:r==="xy"?U*b.x:0,z=r==="y"?U:r==="xy"?U*b.y:0;return W.map((oe,J)=>l.jsx("line",{x1:$r(oe[0]+ee,0,100),y1:$r(oe[1]+z,0,100),x2:$r(50+ee*.2,0,100),y2:$r(50+z*.2,0,100),className:"nhs-parallax-connector"},`c-${E}-${J}`))})}),l.jsx("g",{className:"nhs-parallax-shapes",children:S.map((O,E)=>{const L=A(O.depth),K=(d?C:C-(v??.5))*o*L,W=r==="x"?K:r==="xy"?K*b.x:0,T=r==="y"?K:r==="xy"?K*b.y:0,Q=$r(O.x+W,0,100),G=$r(O.y+T,0,100),U=O.rotate??0,ee=["nhs-parallax-shape",O.fillToken,O.shadow&&`nhs-parallax-shadow--${O.shadow}`].filter(Boolean).join(" ");if(O.kind==="circle"){const re=(O.size??40)/N.w*100*.5;return l.jsx("circle",{cx:Q,cy:G,r:re,className:ee},E)}if(O.kind==="rect"){const re=(O.width??48)/N.w*100,te=(O.height??36)/N.h*100;return l.jsx("rect",{x:Q-re/2,y:G-te/2,width:re,height:te,transform:`rotate(${U} ${Q} ${G})`,className:ee},E)}if(O.kind==="svg"&&O.src){const re=(O.width??48)/N.w*100,te=(O.height??48)/N.h*100;return l.jsx("image",{href:O.src,x:Q-re/2,y:G-te/2,width:re,height:te,preserveAspectRatio:"xMidYMid meet",transform:`rotate(${U} ${Q} ${G})`,className:ee},E)}const z=(O.size??40)/N.w*100,oe=z*.866,J=[[Q-z/2,G],[Q-z/4,G-oe/2],[Q+z/4,G-oe/2],[Q+z/2,G],[Q+z/4,G+oe/2],[Q-z/4,G+oe/2]].map(re=>re.join(",")).join(" ");return l.jsx("polygon",{points:J,className:ee},E)})})]}),l.jsx("div",{className:"nhs-parallax-callout",style:I,"aria-hidden":!1,children:l.jsxs("div",{className:["nhs-parallax-callout-inner",h.backgroundToken].filter(Boolean).join(" "),children:[" ",h.content," "]})})]})};function $k(t){return function(){let e=t+=1831565813;return e=Math.imul(e^e>>>15,e|1),e^=e+Math.imul(e^e>>>7,e|61),((e^e>>>14)>>>0)/4294967296}}function jt(t,e,n){return Math.max(e,Math.min(n,t))}function Bk(t,e,n,r,i,o,s,a,c,u,d,f){const p=$k(t),h=[],y=[],m=["rect","hex","circle"],g={x:50,y:50},N=r,M=1200,j=400,_=1.2,b={left:g.x-N.w/2,right:g.x+N.w/2,top:g.y-N.h/2,bottom:g.y+N.h/2},S=!c&&!!d&&d.r>0,C=!c&&!!f&&(f.rx>0||f.ry>0),k=(D,F)=>{if(!S)return!1;const K=D-g.x,W=F-g.y;return K*K+W*W<=d.r*d.r},v=(D,F)=>{if(!C)return!1;const K=Math.max(1e-6,f.rx||0),W=Math.max(1e-6,f.ry||0),T=(D-g.x)/K,Q=(F-g.y)/W;return T*T+Q*Q<=1},x=(D,F)=>!(D.right<F.left||D.left>F.right||D.bottom<F.top||D.top>F.bottom),A=D=>D.left>=0&&D.top>=0&&D.right<=100&&D.bottom<=100,I=(D,F,K,W,T,Q)=>{let G=0,U=0;if(D==="rect"){const ee=W??48,z=T??36;G=ee/M*100,U=z/j*100}else if(D==="circle"){const ee=Q??40;G=ee/M*100,U=ee/j*100}else{const ee=Q??40;G=ee/M*100,U=ee*o/j*100}return{left:F-G/2-_,right:F+G/2+_,top:K-U/2-_,bottom:K+U/2+_}};let O=0;const E=jt(Math.round(e),4,48);let L=null;if(u){const D=Math.ceil(Math.sqrt(E)),F=Math.ceil(E/D);L=[];for(let K=0;K<F;K++)for(let W=0;W<D&&!(L.length>=E);W++){const T=(W+.5)/D*100,Q=(K+.5)/F*100;L.push({x:T,y:Q})}}for(;h.length<E&&O<E*120;){O++;const D=m[Math.floor(p()*m.length)];let F,K;if(u&&L&&L.length){const G=h.length%L.length;F=L[G].x,K=L[G].y}else{const G=jt(i??0,0,1),U=()=>p()*100,ee=()=>{const oe=Math.max(p(),1e-6),J=Math.max(p(),1e-6),re=Math.sqrt(-2*Math.log(oe)),te=2*Math.PI*J;return 50+re*Math.cos(te)*12.5},z=(oe,J,re)=>oe*(1-re)+J*re;F=jt(z(U(),ee(),G),0,100),K=jt(z(U(),ee(),G),0,100)}const W=I(D,F,K,32,24,28);if(!A(W))continue;const T=jt(p(),.15,.95),Q=0;if(D==="rect"){const G=40+p()*80,U=28+p()*64,ee=I(D,F,K,G,U);if(!c&&(x(ee,b)||k(F,K)||v(F,K)))continue;if(!s){let oe=!1;for(let J=0;J<y.length;J++)if(x(ee,y[J])){oe=!0;break}if(oe)continue}let z;if(s){const oe=new Set;for(let re=0;re<y.length;re++)if(x(ee,y[re])){const te=h[re].fill;te&&oe.add(te)}const J=n.filter(re=>!oe.has(re));if(J.length===0){if(a==="skip")continue;z=n[Math.floor(p()*n.length)]}else z=J[Math.floor(p()*J.length)]}else z=n[Math.floor(p()*n.length)];y.push(ee),h.push({kind:D,x:F,y:K,width:G,height:U,rotate:Q,depth:T,fill:z,shadow:"soft"})}else if(D==="circle"){const G=24+p()*80,U=I(D,F,K,void 0,void 0,G);if(!c&&(x(U,b)||k(F,K)||v(F,K)))continue;if(!s){let z=!1;for(let oe=0;oe<y.length;oe++)if(x(U,y[oe])){z=!0;break}if(z)continue}let ee;if(s){const z=new Set;for(let J=0;J<y.length;J++)if(x(U,y[J])){const re=h[J].fill;re&&z.add(re)}const oe=n.filter(J=>!z.has(J));if(oe.length===0){if(a==="skip")continue;ee=n[Math.floor(p()*n.length)]}else ee=oe[Math.floor(p()*oe.length)]}else ee=n[Math.floor(p()*n.length)];y.push(U),h.push({kind:D,x:F,y:K,size:G,rotate:Q,depth:T,fill:ee,shadow:"soft"})}else{const G=28+p()*72,U=I(D,F,K,void 0,void 0,G);if(!c&&(x(U,b)||k(F,K)||v(F,K)))continue;if(!s){let z=!1;for(let oe=0;oe<y.length;oe++)if(x(U,y[oe])){z=!0;break}if(z)continue}let ee;if(s){const z=new Set;for(let J=0;J<y.length;J++)if(x(U,y[J])){const re=h[J].fill;re&&z.add(re)}const oe=n.filter(J=>!z.has(J));if(oe.length===0){if(a==="skip")continue;ee=n[Math.floor(p()*n.length)]}else ee=oe[Math.floor(p()*oe.length)]}else ee=n[Math.floor(p()*n.length)];y.push(U),h.push({kind:D,x:F,y:K,size:G,rotate:Q,depth:T,fill:ee,shadow:"soft"})}}return h}const Ok=({seed:t=1,width:e="100%",height:n=400,density:r=16,centrality:i=0,gradients:o=["pb-grad-aqua-green","pb-grad-purple","pb-grad-blue","pb-grad-grey","pb-grad-azure"],shapes:s,neighbors:a=1,connectorColor:c,connectorWidth:u,connectorDasharray:d,hexAspectRatio:f=Math.sqrt(3)/2,allowOverlaps:p=!1,overlapColorPolicy:h="recolor",feature:y,featureWidth:m="min(640px, 80%)",featureLayer:g="over",excludeBoxPct:N={w:50,h:36},excludeCirclePct:M,excludeEllipsePct:j,uniformDistribution:_=!1,className:b,style:S})=>{const C=$.useRef(null),[k,v]=$.useState({w:1200,h:400});$.useLayoutEffect(()=>{if(!C.current)return;const L=new ResizeObserver(D=>{for(const F of D){const K=F.contentRect;v({w:K.width,h:K.height})}});return L.observe(C.current),()=>L.disconnect()},[]);const x=$.useMemo(()=>s?.length?s:Bk(t,r,o,N,i,f,p,h,g==="over"||_,_,M,j),[t,r,o.join(","),N.w,N.h,i,f,p,h,g,_,M?.r,j?.rx,j?.ry,s]),A=100,I=100,O=Math.sqrt(3)/2,E=(L,D,F)=>{const K=(F??40)/2,W=L/100*k.w,T=D/100*k.h,Q=f/O;return[Math.PI,2*Math.PI/3,Math.PI/3,0,-Math.PI/3,-(2*Math.PI)/3].map(U=>{const ee=W+K*Math.cos(U),z=T+K*Math.sin(U)*Q;return[jt(ee/k.w*100,0,100),jt(z/k.h*100,0,100)]})};return l.jsxs("div",{ref:C,className:["nhs-pattern-banner",g==="under"?"nhs-pattern-banner--feature-under":"nhs-pattern-banner--feature-over",b].filter(Boolean).join(" "),style:{width:typeof e=="number"?`${e}px`:e,height:typeof n=="number"?`${n}px`:n,...S},"aria-hidden":!0,children:[l.jsxs("svg",{className:"nhs-pattern-banner__svg",viewBox:`0 0 ${A} ${I}`,preserveAspectRatio:"none","aria-hidden":!0,children:[l.jsxs("defs",{children:[l.jsxs("linearGradient",{id:"pb-grad-aqua-green",x1:"0",y1:"0",x2:"1",y2:"1",gradientUnits:"objectBoundingBox",children:[l.jsx("stop",{offset:"0",stopColor:"rgb(0, 163, 151)"}),l.jsx("stop",{offset:"1",stopColor:"rgb(11, 148, 71)"})]}),l.jsxs("linearGradient",{id:"pb-grad-purple",x1:"0",y1:"0",x2:"1",y2:"0",gradientUnits:"objectBoundingBox",children:[l.jsx("stop",{offset:"0",stopColor:"rgb(214, 203, 226)"}),l.jsx("stop",{offset:"0.72",stopColor:"rgb(192, 177, 213)"}),l.jsx("stop",{offset:"1",stopColor:"rgb(171, 151, 199)"})]}),l.jsxs("linearGradient",{id:"pb-grad-blue",x1:"0",y1:"0",x2:"1",y2:"1",gradientUnits:"objectBoundingBox",children:[l.jsx("stop",{offset:"0",stopColor:"rgb(38, 58, 127)"}),l.jsx("stop",{offset:"1",stopColor:"rgb(34, 94, 171)"})]}),l.jsxs("linearGradient",{id:"pb-grad-grey",x1:"0",y1:"0",x2:"1",y2:"1",gradientUnits:"objectBoundingBox",children:[l.jsx("stop",{offset:"0",stopColor:"rgb(66, 85, 101)"}),l.jsx("stop",{offset:"1",stopColor:"rgb(112, 132, 147)"})]}),l.jsxs("linearGradient",{id:"pb-grad-azure",x1:"0",y1:"0",x2:"1",y2:"1",gradientUnits:"objectBoundingBox",children:[l.jsx("stop",{offset:"0",stopColor:"rgb(96, 178, 226)"}),l.jsx("stop",{offset:"0.51",stopColor:"rgb(34, 94, 172)"})]})]}),l.jsx("g",{children:(()=>{const L=G=>G/k.w*100,D=G=>G/k.h*100,F=x.map(G=>{const U=jt(G.x,0,100),ee=jt(G.y,0,100);if(G.kind==="circle")return[[U,ee]];if(G.kind==="rect"){const z=L(G.width??48),oe=D(G.height??36);return[[U-z/2,ee-oe/2],[U+z/2,ee-oe/2],[U+z/2,ee+oe/2],[U-z/2,ee+oe/2]]}if(G.kind==="svg"){const z=L(G.width??48),oe=D(G.height??48);return[[U-z/2,ee-oe/2],[U+z/2,ee-oe/2],[U+z/2,ee+oe/2],[U-z/2,ee+oe/2]]}return E(U,ee,G.size??40)}),K=Math.max(1,Math.floor(a??1)),W=new Set,T=[];for(let G=0;G<x.length;G++){const U=[];for(let z=0;z<x.length;z++){if(G===z)continue;const oe=x[G].x-x[z].x,J=x[G].y-x[z].y;U.push({j:z,d2:oe*oe+J*J})}U.sort((z,oe)=>z.d2-oe.d2);const ee=Math.min(K,U.length);for(let z=0;z<ee;z++){const oe=U[z].j,J=Math.min(G,oe),re=Math.max(G,oe),te=`${J}-${re}`;W.has(te)||(W.add(te),T.push([J,re]))}}const Q=[];for(const[G,U]of T){const ee=F[G],z=F[U];let oe=null;for(const J of ee)for(const re of z){const te=J[0]-re[0],ae=J[1]-re[1],fe=te*te+ae*ae;(!oe||fe<oe.d2)&&(oe={p:J,q:re,d2:fe})}oe&&Q.push(l.jsx("line",{x1:jt(oe.p[0],0,100),y1:jt(oe.p[1],0,100),x2:jt(oe.q[0],0,100),y2:jt(oe.q[1],0,100),className:"nhs-pattern-banner-connector",style:{stroke:c,strokeWidth:u,strokeDasharray:d}},`nn-line-${G}-${U}`))}return Q})()}),l.jsx("g",{children:x.map((L,D)=>{const F=["nhs-pattern-banner-shape",L.fill].filter(Boolean).join(" ");if(L.kind==="circle"){const G=(L.size??40)/k.w*100*.5,U=k.w/k.h,ee=G*U;return l.jsx("ellipse",{cx:jt(L.x,0,100),cy:jt(L.y,0,100),rx:G,ry:ee,className:F},D)}if(L.kind==="rect"){const G=(L.width??48)/k.w*100,U=(L.height??36)/k.h*100,ee=jt(L.x-G/2,0,100),z=jt(L.y-U/2,0,100);return l.jsx("rect",{x:ee,y:z,width:G,height:U,className:F},D)}if(L.kind==="svg"&&L.src){const G=(L.width??48)/k.w*100,U=(L.height??48)/k.h*100,ee=jt(L.x-G/2,0,100),z=jt(L.y-U/2,0,100);return l.jsx("image",{href:L.src,x:ee,y:z,width:G,height:U,preserveAspectRatio:"xMidYMid meet",className:F},D)}const K=jt(L.x,0,100),W=jt(L.y,0,100),Q=E(K,W,L.size??40).map(G=>G.join(",")).join(" ");return l.jsx("polygon",{points:Q,className:F},D)})})]}),l.jsx("div",{className:"nhs-pattern-banner__feature",style:{width:typeof m=="number"?`${m}px`:m},children:y})]})},Nm="150ms",Mm="300ms",Tm="500ms",jm="cubic-bezier(0.4, 0, 1, 1)",Dm="cubic-bezier(0, 0, 0.2, 1)",Im="cubic-bezier(0.4, 0, 0.2, 1)",Lm="cubic-bezier(0.68, -0.55, 0.265, 1.55)",Pm="background-color 300ms cubic-bezier(0, 0, 0.2, 1)",Am="box-shadow 150ms cubic-bezier(0, 0, 0.2, 1)",Em="border-color 150ms cubic-bezier(0, 0, 0.2, 1), box-shadow 150ms cubic-bezier(0, 0, 0.2, 1)",Fm="border-color 300ms cubic-bezier(0, 0, 0.2, 1)",$m="1px",Bm="2px",Om="4px",Rm="4px",zm="4px",Hm="2px",Um="1px",Wm="0px",Gm="4px",Ym="8px",Vm="12px",du="#d8dde0",fu="#4c6272",hu="#d8dde0",pu="#aeb7bd",mu="#d5281b",gu="#005eb8",yu="#ffffff",bu="#212b32",vu="#007f3b",xu="#330072",_u="#7c2855",wu="#d5281b",Su="#ffeb3b",ku="#fff9c4",Cu="#ffb81c",Nu="#ed8b00",Mu="#00a499",Tu="#ae2573",ju="#4c6272",Du="#768692",Iu="#aeb7bd",Lu="#d8dde0",Pu="#f0f4f5",Zm="#212b32",qm="#4c6272",Xm="#ffffff",Jm="#212b32",Km="#005eb8",Qm="#7c2855",eg="#003087",tg="#330072",ng="#ffeb3b",rg="#212b32",ig="#d8dde0",og="#ffffff33",sg="#d5281b",ag="#4c6272",lg="#ffffff",cg="#007f3b",ug="#ffffff",dg="#006530",fg="#004021",hg="#004021",pg="#00000000",mg="#ffffff",gg="#005eb8",yg="#005eb8",bg="#d9e5f2",vg="#c7daf0",xg="#005eb8",_g="#ffffff",wg="#212b32",Sg="#d9dde0",kg="#b3bcc2",Cg="#b3bcc2",Ng="#d5281b",Mg="#aa2016",Tg="#6a140e",jg="#6a140e",Dg="#005eb8",Ig="#004b93",Lg="#002f5c",Pg="#002f5c",Ag="8px",Eg="16px",Fg="12px",$g="16px",Bg="4px",Og="40px",Rg="4px",zg="40px",Hg="12px",Ug="16px",Wg="32px",Gg="16px",Yg="20px",Vg="28px",Zg="9px",qg="2px",Xg="16px",Jg="24px",Kg="8px",Qg="24px",e0="16px",t0="4px",n0="4px",r0="4px",i0="8px",o0="4px",s0="16px",a0="#007f3b",l0="#006530",c0="#004021",u0="#d8dde0",d0="#ffffff",f0="#768692",h0="#00000000",p0="#ffeb3b",m0="#00000000",g0="#ffffff",y0="#d9e5f2",b0="#c7daf0",v0="#005eb8",x0="#005eb8",Au="8px",Eu="16px",Fu="12px",$u="16px",_0="2px",w0="4px",S0="4px",k0="600",C0="#ffffff",N0="#d8dde0",M0="#aeb7bd",T0="#f0f4f5",j0="#212b32",D0="#212b32",I0="#005eb8",Bu="16px",Ou="32px",Ru="16px",L0="1px",P0="4px",A0="none",E0="0 2px 4px rgba(0, 0, 0, 0.1)",F0="#ffffff",$0="#ffffff",B0="#d8dde0",O0="#ffffff",R0="#4c6272",z0="#ffeb3b",H0="#d5281b",U0="#aeb7bd",W0="#212b32",G0="#4c6272",Y0="#768692",V0="#212b32",Z0="#ffffff",q0="600",X0="#d5281b",J0="600",K0="#4c6272",zu="4px",Hu="40px",Uu="40px",Wu="12px",Q0="2px",ey="4px",ty="0px",ny="16px",ry="18px",iy="24px",oy="32px",sy="34px",ay="32px",ly="40px",cy="48px",uy="5.4ex",dy="7.2ex",fy="9ex",hy="10.8ex",py="20ex",my="38ex",gy="56ex",yy="44px",by="40px",vy="1020px",xy="100%",_y="50%",wy="33.333%",Sy="25%",ky="20%",Cy="320px",Ny="641px",My="1025px",Ty="1280px",jy="960px",Dy="32px",Iy="16px",Ly="#d5281b",Py="#d5281b",Ay="#ffffff",Ey="#007f3b",Fy="#007f3b",$y="#ffffff",By="#ffeb3b",Oy="#ffeb3b",Ry="#212b32",zy="#005eb8",Hy="#005eb8",Uy="#ffffff",Wy="#d8dde0",Gy="#aeb7bd",Yy="#768692",Vy="0 4px 0 #004021",Zy="0 4px 0 #005eb8",qy="0 4px 0 #6a140e",Xy="0 4px 0 #ffeb3b",Jy="none",Ky="0 2px 4px rgba(0, 0, 0, 0.1)",Qy="4px",eb="0px",tb="solid",nb="0 0 0 3px #ffeb3b",rb="0 0 0 3px #ffeb3b",ib="none",ob="0 1px 3px rgba(0, 0, 0, 0.12)",sb="0 2px 6px rgba(0, 0, 0, 0.16)",ab="0 4px 12px rgba(0, 0, 0, 0.20)",Gu="0",Yu="4px",Vu="8px",Zu="16px",qu="24px",Xu="32px",Ju="40px",Ku="48px",Qu="56px",ed="64px",Ra="0",za="0",Ha="4px",Ua="4px",Wa="8px",Ga="8px",Ya="8px",Va="16px",Za="16px",qa="24px",Xa="24px",Ja="32px",Ka="32px",Qa="40px",el="40px",tl="48px",nl="48px",rl="56px",il="56px",ol="64px",Uo="Frutiger W01",Wo="Arial, Helvetica, sans-serif",Go="sans-serif",Yo="400",Vo="600",Zo="400",qo="12px",Xo="14px",Jo="12pt",Ko="14px",Qo="16px",es="12pt",ts="16px",ns="19px",rs="13pt",is="19px",os="22px",ss="15pt",as="22px",ls="26px",cs="17pt",us="27px",ds="36px",fs="20pt",hs="33px",ps="48px",ms="24pt",sl="16px",al="24px",Jn={fontFamily:"Frutiger W01",fontWeight:"600",fontSize:{mobile:"33px",tablet:"48px",print:"24pt"},lineHeight:"1.09",marginTop:"0",marginBottom:{mobile:"40px",tablet:"48px"}},Kn={fontFamily:"Frutiger W01",fontWeight:"600",fontSize:{mobile:"27px",tablet:"36px",print:"20pt"},lineHeight:"1.11",marginTop:"0",marginBottom:{mobile:"16px",tablet:"24px"}},Qn={fontFamily:"Frutiger W01",fontWeight:"600",fontSize:{mobile:"22px",tablet:"26px",print:"17pt"},lineHeight:"1.15",marginTop:"0",marginBottom:{mobile:"16px",tablet:"24px"}},er={fontFamily:"Frutiger W01",fontWeight:"600",fontSize:{mobile:"19px",tablet:"22px",print:"15pt"},lineHeight:"1.18",marginTop:"0",marginBottom:{mobile:"16px",tablet:"24px"}},tr={fontFamily:"Frutiger W01",fontWeight:"600",fontSize:{mobile:"16px",tablet:"19px",print:"13pt"},lineHeight:"1.26",marginTop:"0",marginBottom:{mobile:"16px",tablet:"24px"}},nr={fontFamily:"Frutiger W01",fontWeight:"400",fontSize:{mobile:"16px",tablet:"19px",print:"13pt"},lineHeight:"1.47",marginTop:"0",marginBottom:{mobile:"16px",tablet:"24px"}},rr={fontFamily:"Frutiger W01",fontWeight:"400",fontSize:{mobile:"22px",tablet:"26px",print:"17pt"},lineHeight:"1.38",marginTop:"0",marginBottom:{mobile:"24px",tablet:"32px"}},ir={fontFamily:"Frutiger W01",fontWeight:"400",fontSize:{mobile:"14px",tablet:"16px",print:"12pt"},lineHeight:"1.5",marginTop:"0",marginBottom:{mobile:"16px",tablet:"24px"}},or={fontFamily:"Frutiger W01",fontWeight:"400",fontSize:{mobile:"22px",tablet:"26px",print:"17pt"},lineHeight:"1.38",marginTop:"0",marginBottom:{mobile:"40px",tablet:"48px"}},sr={fontFamily:"Frutiger W01",fontWeight:"400",fontSize:{mobile:"16px",tablet:"19px",print:"13pt"},lineHeight:"1.47",marginTop:"0",marginBottom:{mobile:"24px",tablet:"32px"}},Rk=Object.freeze(Object.defineProperty({__proto__:null,AnimationDurationFast:Nm,AnimationDurationNormal:Mm,AnimationDurationSlow:Tm,AnimationEasingBounce:Lm,AnimationEasingEaseIn:jm,AnimationEasingEaseInOut:Im,AnimationEasingEaseOut:Dm,BorderColorCard:hu,BorderColorCardHover:pu,BorderColorDefault:du,BorderColorError:mu,BorderColorForm:fu,BorderRadiusLarge:Vm,BorderRadiusMedium:Ym,BorderRadiusNone:Wm,BorderRadiusSmall:Gm,BorderWidthCardBottom:Rm,BorderWidthDefault:$m,BorderWidthFormElement:Bm,BorderWidthFormElementError:Om,BorderWidthPanel:zm,BorderWidthTableCell:Um,BorderWidthTableHeader:Hm,BreakpointDesktop:My,BreakpointLargeDesktop:Ty,BreakpointMobile:Cy,BreakpointTablet:Ny,ButtonBorderRadius:w0,ButtonBorderWidth:_0,ButtonPrimaryBackgroundActive:c0,ButtonPrimaryBackgroundDefault:a0,ButtonPrimaryBackgroundDisabled:u0,ButtonPrimaryBackgroundHover:l0,ButtonPrimaryBorderDefault:h0,ButtonPrimaryBorderFocus:p0,ButtonPrimaryTextDefault:d0,ButtonPrimaryTextDisabled:f0,ButtonSecondaryBackgroundActive:b0,ButtonSecondaryBackgroundDefault:m0,ButtonSecondaryBackgroundHover:y0,ButtonSecondaryBackgroundSolid:g0,ButtonSecondaryBorderDefault:x0,ButtonSecondaryTextDefault:v0,ButtonShadowSize:S0,ButtonSpacingPaddingHorizontalDesktop:$u,ButtonSpacingPaddingHorizontalMobile:Eu,ButtonSpacingPaddingVerticalDesktop:Fu,ButtonSpacingPaddingVerticalMobile:Au,ButtonTypographyWeight:k0,CardBackgroundDefault:C0,CardBorderBottom:T0,CardBorderDefault:N0,CardBorderHover:M0,CardBorderWidthBottom:P0,CardBorderWidthDefault:L0,CardShadowDefault:A0,CardShadowHover:E0,CardSpacingHeadingMargin:Ru,CardSpacingPaddingDesktop:Ou,CardSpacingPaddingMobile:Bu,CardTextDescription:D0,CardTextHeading:j0,CardTextLink:I0,ColorBorderDefault:ig,ColorBorderSecondary:og,ColorButtonLoginActive:Lg,ColorButtonLoginBackground:Dg,ColorButtonLoginHover:Ig,ColorButtonLoginShadow:Pg,ColorButtonPrimaryActive:fg,ColorButtonPrimaryBackground:cg,ColorButtonPrimaryHover:dg,ColorButtonPrimaryShadow:hg,ColorButtonPrimaryText:ug,ColorButtonReverseActive:kg,ColorButtonReverseBackground:_g,ColorButtonReverseHover:Sg,ColorButtonReverseShadow:Cg,ColorButtonReverseText:wg,ColorButtonSecondaryActive:vg,ColorButtonSecondaryBackground:pg,ColorButtonSecondaryBackgroundSolid:mg,ColorButtonSecondaryBorder:gg,ColorButtonSecondaryHover:bg,ColorButtonSecondaryShadow:xg,ColorButtonSecondaryText:yg,ColorButtonWarningActive:Tg,ColorButtonWarningBackground:Ng,ColorButtonWarningHover:Mg,ColorButtonWarningShadow:jg,ColorError:sg,ColorFocusBackground:ng,ColorFocusText:rg,ColorFormBackground:lg,ColorFormBorder:ag,ColorGrey1:ju,ColorGrey2:Du,ColorGrey3:Iu,ColorGrey4:Lu,ColorGrey5:Pu,ColorLinkActive:eg,ColorLinkDefault:Km,ColorLinkHover:Qm,ColorLinkVisited:tg,ColorPrimaryBlack:bu,ColorPrimaryBlue:gu,ColorPrimaryDarkPink:_u,ColorPrimaryGreen:vu,ColorPrimaryPurple:xu,ColorPrimaryRed:wu,ColorPrimaryWhite:yu,ColorPrimaryYellow:Su,ColorSecondaryAquaGreen:Mu,ColorSecondaryOrange:Nu,ColorSecondaryPaleYellow:ku,ColorSecondaryPink:Tu,ColorSecondaryWarmYellow:Cu,ColorTextPrimary:Zm,ColorTextPrint:Jm,ColorTextReverse:Xm,ColorTextSecondary:qm,ComponentBlur:n0,ComponentBreadcrumbChevronMarginLeft:Zg,ComponentBreadcrumbChevronMarginRight:qg,ComponentBreadcrumbPaddingTopDesktop:Jg,ComponentBreadcrumbPaddingTopMobile:Xg,ComponentButtonPaddingDesktopHorizontal:$g,ComponentButtonPaddingDesktopVertical:Fg,ComponentButtonPaddingMobileHorizontal:Eg,ComponentButtonPaddingMobileVertical:Ag,ComponentButtonShadowSize:Bg,ComponentCardHeadingMargin:Gg,ComponentCardPaddingDesktop:Wg,ComponentCardPaddingMobile:Ug,ComponentDetails:i0,ComponentExpander:o0,ComponentFormCheckboxLabelPadding:Hg,ComponentFormCheckboxSize:zg,ComponentFormInputMinHeight:Og,ComponentFormInputPadding:Rg,ComponentLink:r0,ComponentPagination:s0,ComponentPanelPaddingDesktop:Vg,ComponentPanelPaddingMobile:Yg,ComponentSpread:t0,ComponentSummaryListCellPaddingHorizontal:Qg,ComponentSummaryListCellPaddingVertical:Kg,ComponentSummaryListRowMargin:e0,ElevationHigh:ab,ElevationLow:ob,ElevationMedium:sb,ElevationNone:ib,FocusOutlineOffset:eb,FocusOutlineStyle:tb,FocusOutlineWidth:Qy,FocusShadowButton:rb,FocusShadowInput:nb,FontFamilyBase:Uo,FontFamilyFallback:Wo,FontFamilyPrint:Go,FontLineHeightBase:al,FontSize14Mobile:qo,FontSize14Print:Jo,FontSize14Tablet:Xo,FontSize16Mobile:Ko,FontSize16Print:es,FontSize16Tablet:Qo,FontSize19Mobile:ts,FontSize19Print:rs,FontSize19Tablet:ns,FontSize22Mobile:is,FontSize22Print:ss,FontSize22Tablet:os,FontSize26Mobile:as,FontSize26Print:cs,FontSize26Tablet:ls,FontSize36Mobile:us,FontSize36Print:fs,FontSize36Tablet:ds,FontSize48Mobile:hs,FontSize48Print:ms,FontSize48Tablet:ps,FontSizeBase:sl,FontWeightBold:Vo,FontWeightLight:Zo,FontWeightNormal:Yo,FormBorderRadius:ty,FormBorderWidthDefault:Q0,FormBorderWidthError:ey,FormErrorTextDefault:X0,FormErrorTypographyWeight:J0,FormHintTextDefault:K0,FormInputBackgroundDefault:F0,FormInputBackgroundDisabled:B0,FormInputBackgroundError:O0,FormInputBackgroundFocus:$0,FormInputBorderDefault:R0,FormInputBorderDisabled:U0,FormInputBorderError:H0,FormInputBorderFocus:z0,FormInputTextDefault:W0,FormInputTextDisabled:Y0,FormInputTextPlaceholder:G0,FormLabelTextDefault:V0,FormLabelTextRequired:Z0,FormLabelTypographyWeight:q0,FormSpacingCheckboxLabelPadding:Wu,FormSpacingCheckboxSize:Uu,FormSpacingInputMinHeight:Hu,FormSpacingInputPadding:zu,GridGutter:Dy,GridGutterHalf:Iy,GridPageWidth:jy,HeadingsNhsukHeadingL:Kn,HeadingsNhsukHeadingM:Qn,HeadingsNhsukHeadingS:er,HeadingsNhsukHeadingXl:Jn,HeadingsNhsukHeadingXs:tr,LayoutColumnActions:ky,LayoutColumnFull:xy,LayoutColumnHalf:_y,LayoutColumnQuarter:Sy,LayoutColumnThird:wy,LayoutContainerMaxWidth:vy,ParagraphsBody:nr,ParagraphsBodyLarge:rr,ParagraphsBodySmall:ir,ParagraphsLedeText:or,ParagraphsLedeTextSmall:sr,ShadowButtonDefault:Vy,ShadowButtonFocus:Xy,ShadowButtonSecondary:Zy,ShadowButtonWarning:qy,ShadowCardDefault:Jy,ShadowCardHover:Ky,SizeButtonMinHeightDesktop:by,SizeButtonMinHeightMobile:yy,SizeFormControlLarge:cy,SizeFormControlMedium:ly,SizeFormControlSmall:ay,SizeFormInputWidth2xl:my,SizeFormInputWidth3xl:gy,SizeFormInputWidthLg:hy,SizeFormInputWidthMd:fy,SizeFormInputWidthSm:dy,SizeFormInputWidthXl:py,SizeFormInputWidthXs:uy,SizeIconExtraLarge:oy,SizeIconLarge:iy,SizeIconMedium:ry,SizeIconNhsDefault:sy,SizeIconSmall:ny,Spacing0:Gu,Spacing1:Yu,Spacing2:Vu,Spacing3:Zu,Spacing4:qu,Spacing5:Xu,Spacing6:Ju,Spacing7:Ku,Spacing8:Qu,Spacing9:ed,SpacingResponsive0Mobile:Ra,SpacingResponsive0Tablet:za,SpacingResponsive1Mobile:Ha,SpacingResponsive1Tablet:Ua,SpacingResponsive2Mobile:Wa,SpacingResponsive2Tablet:Ga,SpacingResponsive3Mobile:Ya,SpacingResponsive3Tablet:Va,SpacingResponsive4Mobile:Za,SpacingResponsive4Tablet:qa,SpacingResponsive5Mobile:Xa,SpacingResponsive5Tablet:Ja,SpacingResponsive6Mobile:Ka,SpacingResponsive6Tablet:Qa,SpacingResponsive7Mobile:el,SpacingResponsive7Tablet:tl,SpacingResponsive8Mobile:nl,SpacingResponsive8Tablet:rl,SpacingResponsive9Mobile:il,SpacingResponsive9Tablet:ol,StateDisabledBackground:Wy,StateDisabledBorder:Gy,StateDisabledText:Yy,StateErrorBackground:Ly,StateErrorBorder:Py,StateErrorText:Ay,StateInfoBackground:zy,StateInfoBorder:Hy,StateInfoText:Uy,StateSuccessBackground:Ey,StateSuccessBorder:Fy,StateSuccessText:$y,StateWarningBackground:By,StateWarningBorder:Oy,StateWarningText:Ry,TransitionButtonDefault:Pm,TransitionButtonShadow:Am,TransitionCardHover:Fm,TransitionInputFocus:Em},Symbol.toStringTag,{value:"Module"})),zk=(t,e)=>({fontSize:t.mobile,marginBottom:e.mobile,"@media (min-width: 768px)":{fontSize:t.tablet,marginBottom:e.tablet},"@media print":{fontSize:t.print||t.tablet}}),Hk=({children:t,className:e="",style:n={}})=>l.jsx("h1",{className:e,style:{fontFamily:Jn.fontFamily,fontWeight:Jn.fontWeight,fontSize:Jn.fontSize.mobile,lineHeight:Jn.lineHeight,marginTop:Jn.marginTop,marginBottom:Jn.marginBottom.mobile,...n},children:t}),Uk=({children:t,className:e="",style:n={}})=>l.jsx("h2",{className:e,style:{fontFamily:Kn.fontFamily,fontWeight:Kn.fontWeight,fontSize:Kn.fontSize.mobile,lineHeight:Kn.lineHeight,marginTop:Kn.marginTop,marginBottom:Kn.marginBottom.mobile,...n},children:t}),Wk=({children:t,className:e="",style:n={}})=>l.jsx("h3",{className:e,style:{fontFamily:Qn.fontFamily,fontWeight:Qn.fontWeight,fontSize:Qn.fontSize.mobile,lineHeight:Qn.lineHeight,marginTop:Qn.marginTop,marginBottom:Qn.marginBottom.mobile,...n},children:t}),Gk=({children:t,className:e="",style:n={}})=>l.jsx("h4",{className:e,style:{fontFamily:er.fontFamily,fontWeight:er.fontWeight,fontSize:er.fontSize.mobile,lineHeight:er.lineHeight,marginTop:er.marginTop,marginBottom:er.marginBottom.mobile,...n},children:t}),Yk=({children:t,className:e="",style:n={}})=>l.jsx("h5",{className:e,style:{fontFamily:tr.fontFamily,fontWeight:tr.fontWeight,fontSize:tr.fontSize.mobile,lineHeight:tr.lineHeight,marginTop:tr.marginTop,marginBottom:tr.marginBottom.mobile,...n},children:t}),Vk=({children:t,className:e="",style:n={}})=>l.jsx("p",{className:e,style:{fontFamily:nr.fontFamily,fontWeight:nr.fontWeight,fontSize:nr.fontSize.mobile,lineHeight:nr.lineHeight,marginTop:nr.marginTop,marginBottom:nr.marginBottom.mobile,...n},children:t}),Zk=({children:t,className:e="",style:n={}})=>l.jsx("p",{className:e,style:{fontFamily:rr.fontFamily,fontWeight:rr.fontWeight,fontSize:rr.fontSize.mobile,lineHeight:rr.lineHeight,marginTop:rr.marginTop,marginBottom:rr.marginBottom.mobile,...n},children:t}),qk=({children:t,className:e="",style:n={}})=>l.jsx("p",{className:e,style:{fontFamily:ir.fontFamily,fontWeight:ir.fontWeight,fontSize:ir.fontSize.mobile,lineHeight:ir.lineHeight,marginTop:ir.marginTop,marginBottom:ir.marginBottom.mobile,...n},children:t}),Xk=({children:t,className:e="",style:n={}})=>l.jsx("p",{className:e,style:{fontFamily:or.fontFamily,fontWeight:or.fontWeight,fontSize:or.fontSize.mobile,lineHeight:or.lineHeight,marginTop:or.marginTop,marginBottom:or.marginBottom.mobile,...n},children:t}),Jk=({children:t,className:e="",style:n={}})=>l.jsx("p",{className:e,style:{fontFamily:sr.fontFamily,fontWeight:sr.fontWeight,fontSize:sr.fontSize.mobile,lineHeight:sr.lineHeight,marginTop:sr.marginTop,marginBottom:sr.marginBottom.mobile,...n},children:t}),Kk=()=>$.useMemo(()=>Rk,[]),Qk=()=>$.useMemo(()=>({BorderColorDefault:du,BorderColorForm:fu,BorderColorCard:hu,BorderColorCardHover:pu,BorderColorError:mu,ColorPrimaryBlue:gu,ColorPrimaryWhite:yu,ColorPrimaryBlack:bu,ColorPrimaryGreen:vu,ColorPrimaryPurple:xu,ColorPrimaryDarkPink:_u,ColorPrimaryRed:wu,ColorPrimaryYellow:Su,ColorSecondaryPaleYellow:ku,ColorSecondaryWarmYellow:Cu,ColorSecondaryOrange:Nu,ColorSecondaryAquaGreen:Mu,ColorSecondaryPink:Tu,ColorGrey1:ju,ColorGrey2:Du,ColorGrey3:Iu,ColorGrey4:Lu,ColorGrey5:Pu}),[]),eC=()=>$.useMemo(()=>({Spacing0:Gu,Spacing1:Yu,Spacing2:Vu,Spacing3:Zu,Spacing4:qu,Spacing5:Xu,Spacing6:Ju,Spacing7:Ku,Spacing8:Qu,Spacing9:ed}),[]),tC=()=>$.useMemo(()=>({Mobile:{Size14:qo,Size16:Ko,Size19:ts,Size22:is,Size26:as,Size36:us,Size48:hs},Tablet:{Size14:Xo,Size16:Qo,Size19:ns,Size22:os,Size26:ls,Size36:ds,Size48:ps},Print:{Size14:Jo,Size16:es,Size19:rs,Size22:ss,Size26:cs,Size36:fs,Size48:ms},Family:{Base:Uo,Fallback:Wo,Print:Go},Weight:{Normal:Yo,Bold:Vo,Light:Zo},Base:{Size:sl,LineHeight:al},FontFamilyBase:Uo,FontFamilyFallback:Wo,FontFamilyPrint:Go,FontWeightNormal:Yo,FontWeightBold:Vo,FontWeightLight:Zo,FontSize14Mobile:qo,FontSize14Tablet:Xo,FontSize14Print:Jo,FontSize16Mobile:Ko,FontSize16Tablet:Qo,FontSize16Print:es,FontSize19Mobile:ts,FontSize19Tablet:ns,FontSize19Print:rs,FontSize22Mobile:is,FontSize22Tablet:os,FontSize22Print:ss,FontSize26Mobile:as,FontSize26Tablet:ls,FontSize26Print:cs,FontSize36Mobile:us,FontSize36Tablet:ds,FontSize36Print:fs,FontSize48Mobile:hs,FontSize48Tablet:ps,FontSize48Print:ms,FontSizeBase:sl,FontLineHeightBase:al}),[]),nC=()=>$.useMemo(()=>({Mobile:{Size0:Ra,Size1:Ha,Size2:Wa,Size3:Ya,Size4:Za,Size5:Xa,Size6:Ka,Size7:el,Size8:nl,Size9:il},Tablet:{Size0:za,Size1:Ua,Size2:Ga,Size3:Va,Size4:qa,Size5:Ja,Size6:Qa,Size7:tl,Size8:rl,Size9:ol},SpacingResponsive0Mobile:Ra,SpacingResponsive0Tablet:za,SpacingResponsive1Mobile:Ha,SpacingResponsive1Tablet:Ua,SpacingResponsive2Mobile:Wa,SpacingResponsive2Tablet:Ga,SpacingResponsive3Mobile:Ya,SpacingResponsive3Tablet:Va,SpacingResponsive4Mobile:Za,SpacingResponsive4Tablet:qa,SpacingResponsive5Mobile:Xa,SpacingResponsive5Tablet:Ja,SpacingResponsive6Mobile:Ka,SpacingResponsive6Tablet:Qa,SpacingResponsive7Mobile:el,SpacingResponsive7Tablet:tl,SpacingResponsive8Mobile:nl,SpacingResponsive8Tablet:rl,SpacingResponsive9Mobile:il,SpacingResponsive9Tablet:ol}),[]),rC=()=>$.useMemo(()=>({ButtonSpacingPaddingVerticalMobile:Au,ButtonSpacingPaddingHorizontalMobile:Eu,ButtonSpacingPaddingVerticalDesktop:Fu,ButtonSpacingPaddingHorizontalDesktop:$u,CardSpacingPaddingMobile:Bu,CardSpacingPaddingDesktop:Ou,CardSpacingHeadingMargin:Ru,FormSpacingInputPadding:zu,FormSpacingInputMinHeight:Hu,FormSpacingCheckboxSize:Uu,FormSpacingCheckboxLabelPadding:Wu}),[]),iC=()=>$.useMemo(()=>({xl:Jn,l:Kn,m:Qn,s:er,xs:tr}),[]),oC=()=>$.useMemo(()=>({body:nr,bodyLarge:rr,bodySmall:ir,ledeText:or,ledeTextSmall:sr}),[]),sC=()=>$.useMemo(()=>({headings:{xl:Jn,l:Kn,m:Qn,s:er,xs:tr},paragraphs:{body:nr,bodyLarge:rr,bodySmall:ir,ledeText:or,ledeTextSmall:sr},fonts:{family:{base:Uo,fallback:Wo,print:Go},weight:{normal:Yo,bold:Vo,light:Zo},sizes:{mobile:{size14:qo,size16:Ko,size19:ts,size22:is,size26:as,size36:us,size48:hs},tablet:{size14:Xo,size16:Qo,size19:ns,size22:os,size26:ls,size36:ds,size48:ps},print:{size14:Jo,size16:es,size19:rs,size22:ss,size26:cs,size36:fs,size48:ms}}}}),[]);function aC(t={}){const{initialLayout:e=void 0,fallbackLayout:n="two-column"}=t,[r,i]=ie.useState(e),o=ie.useCallback(()=>i("three-column"),[]),s=ie.useCallback(()=>i(c=>c==="three-column"?n:c),[n]),a=ie.useCallback(()=>i(c=>c==="three-column"?n:"three-column"),[n]);return{forceLayout:r,setLayout:i,drillIn:o,drillOut:s,toggle:a,isDrilledIn:r==="three-column"}}const td={fontPath:"https://assets.nhs.uk/fonts/",includeFontFace:!0,useFallbacks:!0,fontWeights:[400,600]},on={normal:{woff2:"FrutigerLTW01-55Roman.woff2",woff:"FrutigerLTW01-55Roman.woff",ttf:"FrutigerLTW01-55Roman.ttf",eot:"FrutigerLTW01-55Roman.eot"},bold:{woff2:"FrutigerLTW01-65Bold.woff2",woff:"FrutigerLTW01-65Bold.woff",ttf:"FrutigerLTW01-65Bold.ttf",eot:"FrutigerLTW01-65Bold.eot"}};function lC(t={}){const{fontPath:e,fontWeights:n}={...td,...t},r=[];return n?.includes(400)&&r.push(`
@font-face {
  font-display: swap;
  font-family: "Frutiger W01";
  font-style: normal;
  font-weight: 400;
  src: url("${e}${on.normal.eot}?#iefix") format("eot"),
       url("${e}${on.normal.woff2}") format("woff2"),
       url("${e}${on.normal.woff}") format("woff"),
       url("${e}${on.normal.ttf}") format("truetype");
  src: url("${e}${on.normal.eot}");
}`),n?.includes(600)&&r.push(`
@font-face {
  font-display: swap;
  font-family: "Frutiger W01";
  font-style: normal;
  font-weight: 600;
  src: url("${e}${on.bold.eot}?#iefix") format("eot"),
       url("${e}${on.bold.woff2}") format("woff2"),
       url("${e}${on.bold.woff}") format("woff"),
       url("${e}${on.bold.ttf}") format("truetype");
  src: url("${e}${on.bold.eot}");
}`),r.join(`
`)}function cC(t={}){if(typeof document>"u")return;const{fontPath:e,fontWeights:n}={...td,...t};[...n?.includes(400)?[{href:`${e}${on.normal.woff2}`,as:"font",type:"font/woff2"},{href:`${e}${on.normal.woff}`,as:"font",type:"font/woff"}]:[],...n?.includes(600)?[{href:`${e}${on.bold.woff2}`,as:"font",type:"font/woff2"},{href:`${e}${on.bold.woff}`,as:"font",type:"font/woff"}]:[]].forEach(i=>{const o=document.createElement("link");o.rel="preload",o.href=i.href,o.as=i.as,o.type=i.type,o.crossOrigin="anonymous",document.head.appendChild(o)})}const uC='"Frutiger W01", Arial, Helvetica, sans-serif',dC="Arial, Helvetica, sans-serif";async function fC(){if(typeof document>"u"||!document.fonts)return!1;try{return await document.fonts.load('1em "Frutiger W01"'),document.fonts.check('1em "Frutiger W01"')}catch{return!1}}function _r(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function lb(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}/*!
 * GSAP 3.13.0
 * https://gsap.com
 *
 * @license Copyright 2008-2025, GreenSock. All rights reserved.
 * Subject to the terms at https://gsap.com/standard-license
 * @author: Jack Doyle, jack@greensock.com
*/var wn={autoSleep:120,force3D:"auto",nullTargetWarn:1,units:{lineHeight:""}},Zi={duration:.5,overwrite:!1,delay:0},nd,qt,St,En=1e8,bt=1/En,rd=Math.PI*2,hC=rd/4,pC=0,cb=Math.sqrt,mC=Math.cos,gC=Math.sin,Gt=function(e){return typeof e=="string"},Tt=function(e){return typeof e=="function"},wr=function(e){return typeof e=="number"},id=function(e){return typeof e>"u"},ar=function(e){return typeof e=="object"},pn=function(e){return e!==!1},od=function(){return typeof window<"u"},ll=function(e){return Tt(e)||Gt(e)},ub=typeof ArrayBuffer=="function"&&ArrayBuffer.isView||function(){},Qt=Array.isArray,sd=/(?:-?\.?\d|\.)+/gi,db=/[-+=.]*\d+[.e\-+]*\d*[e\-+]*\d*/g,qi=/[-+=.]*\d+[.e-]*\d*[a-z%]*/g,ad=/[-+=.]*\d+\.?\d*(?:e-|e\+)?\d*/gi,fb=/[+-]=-?[.\d]+/,hb=/[^,'"\[\]\s]+/gi,yC=/^[+\-=e\s\d]*\d+[.\d]*([a-z]*|%)\s*$/i,Ct,lr,ld,cd,Sn={},cl={},pb,mb=function(e){return(cl=Ji(e,Sn))&&yn},ud=function(e,n){return console.warn("Invalid property",e,"set to",n,"Missing plugin? gsap.registerPlugin()")},gs=function(e,n){return!n&&console.warn(e)},gb=function(e,n){return e&&(Sn[e]=n)&&cl&&(cl[e]=n)||Sn},ys=function(){return 0},bC={suppressEvents:!0,isStart:!0,kill:!1},ul={suppressEvents:!0,kill:!1},vC={suppressEvents:!0},dd={},Br=[],fd={},yb,kn={},hd={},bb=30,dl=[],pd="",md=function(e){var n=e[0],r,i;if(ar(n)||Tt(n)||(e=[e]),!(r=(n._gsap||{}).harness)){for(i=dl.length;i--&&!dl[i].targetTest(n););r=dl[i]}for(i=e.length;i--;)e[i]&&(e[i]._gsap||(e[i]._gsap=new Vb(e[i],r)))||e.splice(i,1);return e},di=function(e){return e._gsap||md($n(e))[0]._gsap},vb=function(e,n,r){return(r=e[n])&&Tt(r)?e[n]():id(r)&&e.getAttribute&&e.getAttribute(n)||r},mn=function(e,n){return(e=e.split(",")).forEach(n)||e},Dt=function(e){return Math.round(e*1e5)/1e5||0},Et=function(e){return Math.round(e*1e7)/1e7||0},Xi=function(e,n){var r=n.charAt(0),i=parseFloat(n.substr(2));return e=parseFloat(e),r==="+"?e+i:r==="-"?e-i:r==="*"?e*i:e/i},xC=function(e,n){for(var r=n.length,i=0;e.indexOf(n[i])<0&&++i<r;);return i<r},fl=function(){var e=Br.length,n=Br.slice(0),r,i;for(fd={},Br.length=0,r=0;r<e;r++)i=n[r],i&&i._lazy&&(i.render(i._lazy[0],i._lazy[1],!0)._lazy=0)},gd=function(e){return!!(e._initted||e._startAt||e.add)},xb=function(e,n,r,i){Br.length&&!qt&&fl(),e.render(n,r,!!(qt&&n<0&&gd(e))),Br.length&&!qt&&fl()},_b=function(e){var n=parseFloat(e);return(n||n===0)&&(e+"").match(hb).length<2?n:Gt(e)?e.trim():e},wb=function(e){return e},Cn=function(e,n){for(var r in n)r in e||(e[r]=n[r]);return e},_C=function(e){return function(n,r){for(var i in r)i in n||i==="duration"&&e||i==="ease"||(n[i]=r[i])}},Ji=function(e,n){for(var r in n)e[r]=n[r];return e},Sb=function t(e,n){for(var r in n)r!=="__proto__"&&r!=="constructor"&&r!=="prototype"&&(e[r]=ar(n[r])?t(e[r]||(e[r]={}),n[r]):n[r]);return e},hl=function(e,n){var r={},i;for(i in e)i in n||(r[i]=e[i]);return r},bs=function(e){var n=e.parent||Ct,r=e.keyframes?_C(Qt(e.keyframes)):Cn;if(pn(e.inherit))for(;n;)r(e,n.vars.defaults),n=n.parent||n._dp;return e},wC=function(e,n){for(var r=e.length,i=r===n.length;i&&r--&&e[r]===n[r];);return r<0},kb=function(e,n,r,i,o){var s=e[i],a;if(o)for(a=n[o];s&&s[o]>a;)s=s._prev;return s?(n._next=s._next,s._next=n):(n._next=e[r],e[r]=n),n._next?n._next._prev=n:e[i]=n,n._prev=s,n.parent=n._dp=e,n},pl=function(e,n,r,i){r===void 0&&(r="_first"),i===void 0&&(i="_last");var o=n._prev,s=n._next;o?o._next=s:e[r]===n&&(e[r]=s),s?s._prev=o:e[i]===n&&(e[i]=o),n._next=n._prev=n.parent=null},Or=function(e,n){e.parent&&(!n||e.parent.autoRemoveChildren)&&e.parent.remove&&e.parent.remove(e),e._act=0},fi=function(e,n){if(e&&(!n||n._end>e._dur||n._start<0))for(var r=e;r;)r._dirty=1,r=r.parent;return e},SC=function(e){for(var n=e.parent;n&&n.parent;)n._dirty=1,n.totalDuration(),n=n.parent;return e},yd=function(e,n,r,i){return e._startAt&&(qt?e._startAt.revert(ul):e.vars.immediateRender&&!e.vars.autoRevert||e._startAt.render(n,!0,i))},kC=function t(e){return!e||e._ts&&t(e.parent)},Cb=function(e){return e._repeat?Ki(e._tTime,e=e.duration()+e._rDelay)*e:0},Ki=function(e,n){var r=Math.floor(e=Et(e/n));return e&&r===e?r-1:r},ml=function(e,n){return(e-n._start)*n._ts+(n._ts>=0?0:n._dirty?n.totalDuration():n._tDur)},gl=function(e){return e._end=Et(e._start+(e._tDur/Math.abs(e._ts||e._rts||bt)||0))},yl=function(e,n){var r=e._dp;return r&&r.smoothChildTiming&&e._ts&&(e._start=Et(r._time-(e._ts>0?n/e._ts:((e._dirty?e.totalDuration():e._tDur)-n)/-e._ts)),gl(e),r._dirty||fi(r,e)),e},Nb=function(e,n){var r;if((n._time||!n._dur&&n._initted||n._start<e._time&&(n._dur||!n.add))&&(r=ml(e.rawTime(),n),(!n._dur||xs(0,n.totalDuration(),r)-n._tTime>bt)&&n.render(r,!0)),fi(e,n)._dp&&e._initted&&e._time>=e._dur&&e._ts){if(e._dur<e.duration())for(r=e;r._dp;)r.rawTime()>=0&&r.totalTime(r._tTime),r=r._dp;e._zTime=-bt}},cr=function(e,n,r,i){return n.parent&&Or(n),n._start=Et((wr(r)?r:r||e!==Ct?Fn(e,r,n):e._time)+n._delay),n._end=Et(n._start+(n.totalDuration()/Math.abs(n.timeScale())||0)),kb(e,n,"_first","_last",e._sort?"_start":0),bd(n)||(e._recent=n),i||Nb(e,n),e._ts<0&&yl(e,e._tTime),e},Mb=function(e,n){return(Sn.ScrollTrigger||ud("scrollTrigger",n))&&Sn.ScrollTrigger.create(n,e)},Tb=function(e,n,r,i,o){if(Md(e,n,o),!e._initted)return 1;if(!r&&e._pt&&!qt&&(e._dur&&e.vars.lazy!==!1||!e._dur&&e.vars.lazy)&&yb!==Mn.frame)return Br.push(e),e._lazy=[o,i],1},CC=function t(e){var n=e.parent;return n&&n._ts&&n._initted&&!n._lock&&(n.rawTime()<0||t(n))},bd=function(e){var n=e.data;return n==="isFromStart"||n==="isStart"},NC=function(e,n,r,i){var o=e.ratio,s=n<0||!n&&(!e._start&&CC(e)&&!(!e._initted&&bd(e))||(e._ts<0||e._dp._ts<0)&&!bd(e))?0:1,a=e._rDelay,c=0,u,d,f;if(a&&e._repeat&&(c=xs(0,e._tDur,n),d=Ki(c,a),e._yoyo&&d&1&&(s=1-s),d!==Ki(e._tTime,a)&&(o=1-s,e.vars.repeatRefresh&&e._initted&&e.invalidate())),s!==o||qt||i||e._zTime===bt||!n&&e._zTime){if(!e._initted&&Tb(e,n,i,r,c))return;for(f=e._zTime,e._zTime=n||(r?bt:0),r||(r=n&&!f),e.ratio=s,e._from&&(s=1-s),e._time=0,e._tTime=c,u=e._pt;u;)u.r(s,u.d),u=u._next;n<0&&yd(e,n,r,!0),e._onUpdate&&!r&&Nn(e,"onUpdate"),c&&e._repeat&&!r&&e.parent&&Nn(e,"onRepeat"),(n>=e._tDur||n<0)&&e.ratio===s&&(s&&Or(e,1),!r&&!qt&&(Nn(e,s?"onComplete":"onReverseComplete",!0),e._prom&&e._prom()))}else e._zTime||(e._zTime=n)},MC=function(e,n,r){var i;if(r>n)for(i=e._first;i&&i._start<=r;){if(i.data==="isPause"&&i._start>n)return i;i=i._next}else for(i=e._last;i&&i._start>=r;){if(i.data==="isPause"&&i._start<n)return i;i=i._prev}},Qi=function(e,n,r,i){var o=e._repeat,s=Et(n)||0,a=e._tTime/e._tDur;return a&&!i&&(e._time*=s/e._dur),e._dur=s,e._tDur=o?o<0?1e10:Et(s*(o+1)+e._rDelay*o):s,a>0&&!i&&yl(e,e._tTime=e._tDur*a),e.parent&&gl(e),r||fi(e.parent,e),e},jb=function(e){return e instanceof Xt?fi(e):Qi(e,e._dur)},TC={_start:0,endTime:ys,totalDuration:ys},Fn=function t(e,n,r){var i=e.labels,o=e._recent||TC,s=e.duration()>=En?o.endTime(!1):e._dur,a,c,u;return Gt(n)&&(isNaN(n)||n in i)?(c=n.charAt(0),u=n.substr(-1)==="%",a=n.indexOf("="),c==="<"||c===">"?(a>=0&&(n=n.replace(/=/,"")),(c==="<"?o._start:o.endTime(o._repeat>=0))+(parseFloat(n.substr(1))||0)*(u?(a<0?o:r).totalDuration()/100:1)):a<0?(n in i||(i[n]=s),i[n]):(c=parseFloat(n.charAt(a-1)+n.substr(a+1)),u&&r&&(c=c/100*(Qt(r)?r[0]:r).totalDuration()),a>1?t(e,n.substr(0,a-1),r)+c:s+c)):n==null?s:+n},vs=function(e,n,r){var i=wr(n[1]),o=(i?2:1)+(e<2?0:1),s=n[o],a,c;if(i&&(s.duration=n[1]),s.parent=r,e){for(a=s,c=r;c&&!("immediateRender"in a);)a=c.vars.defaults||{},c=pn(c.vars.inherit)&&c.parent;s.immediateRender=pn(a.immediateRender),e<2?s.runBackwards=1:s.startAt=n[o-1]}return new It(n[0],s,n[o+1])},Rr=function(e,n){return e||e===0?n(e):n},xs=function(e,n,r){return r<e?e:r>n?n:r},en=function(e,n){return!Gt(e)||!(n=yC.exec(e))?"":n[1]},jC=function(e,n,r){return Rr(r,function(i){return xs(e,n,i)})},vd=[].slice,Db=function(e,n){return e&&ar(e)&&"length"in e&&(!n&&!e.length||e.length-1 in e&&ar(e[0]))&&!e.nodeType&&e!==lr},DC=function(e,n,r){return r===void 0&&(r=[]),e.forEach(function(i){var o;return Gt(i)&&!n||Db(i,1)?(o=r).push.apply(o,$n(i)):r.push(i)})||r},$n=function(e,n,r){return St&&!n&&St.selector?St.selector(e):Gt(e)&&!r&&(ld||!to())?vd.call((n||cd).querySelectorAll(e),0):Qt(e)?DC(e,r):Db(e)?vd.call(e,0):e?[e]:[]},xd=function(e){return e=$n(e)[0]||gs("Invalid scope")||{},function(n){var r=e.current||e.nativeElement||e;return $n(n,r.querySelectorAll?r:r===e?gs("Invalid scope")||cd.createElement("div"):e)}},Ib=function(e){return e.sort(function(){return .5-Math.random()})},Lb=function(e){if(Tt(e))return e;var n=ar(e)?e:{each:e},r=hi(n.ease),i=n.from||0,o=parseFloat(n.base)||0,s={},a=i>0&&i<1,c=isNaN(i)||a,u=n.axis,d=i,f=i;return Gt(i)?d=f={center:.5,edges:.5,end:1}[i]||0:!a&&c&&(d=i[0],f=i[1]),function(p,h,y){var m=(y||n).length,g=s[m],N,M,j,_,b,S,C,k,v;if(!g){if(v=n.grid==="auto"?0:(n.grid||[1,En])[1],!v){for(C=-En;C<(C=y[v++].getBoundingClientRect().left)&&v<m;);v<m&&v--}for(g=s[m]=[],N=c?Math.min(v,m)*d-.5:i%v,M=v===En?0:c?m*f/v-.5:i/v|0,C=0,k=En,S=0;S<m;S++)j=S%v-N,_=M-(S/v|0),g[S]=b=u?Math.abs(u==="y"?_:j):cb(j*j+_*_),b>C&&(C=b),b<k&&(k=b);i==="random"&&Ib(g),g.max=C-k,g.min=k,g.v=m=(parseFloat(n.amount)||parseFloat(n.each)*(v>m?m-1:u?u==="y"?m/v:v:Math.max(v,m/v))||0)*(i==="edges"?-1:1),g.b=m<0?o-m:o,g.u=en(n.amount||n.each)||0,r=r&&m<0?Wb(r):r}return m=(g[p]-g.min)/g.max||0,Et(g.b+(r?r(m):m)*g.v)+g.u}},_d=function(e){var n=Math.pow(10,((e+"").split(".")[1]||"").length);return function(r){var i=Et(Math.round(parseFloat(r)/e)*e*n);return(i-i%1)/n+(wr(r)?0:en(r))}},Pb=function(e,n){var r=Qt(e),i,o;return!r&&ar(e)&&(i=r=e.radius||En,e.values?(e=$n(e.values),(o=!wr(e[0]))&&(i*=i)):e=_d(e.increment)),Rr(n,r?Tt(e)?function(s){return o=e(s),Math.abs(o-s)<=i?o:s}:function(s){for(var a=parseFloat(o?s.x:s),c=parseFloat(o?s.y:0),u=En,d=0,f=e.length,p,h;f--;)o?(p=e[f].x-a,h=e[f].y-c,p=p*p+h*h):p=Math.abs(e[f]-a),p<u&&(u=p,d=f);return d=!i||u<=i?e[d]:s,o||d===s||wr(s)?d:d+en(s)}:_d(e))},Ab=function(e,n,r,i){return Rr(Qt(e)?!n:r===!0?!!(r=0):!i,function(){return Qt(e)?e[~~(Math.random()*e.length)]:(r=r||1e-5)&&(i=r<1?Math.pow(10,(r+"").length-2):1)&&Math.floor(Math.round((e-r/2+Math.random()*(n-e+r*.99))/r)*r*i)/i})},IC=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return function(i){return n.reduce(function(o,s){return s(o)},i)}},LC=function(e,n){return function(r){return e(parseFloat(r))+(n||en(r))}},PC=function(e,n,r){return Fb(e,n,0,1,r)},Eb=function(e,n,r){return Rr(r,function(i){return e[~~n(i)]})},AC=function t(e,n,r){var i=n-e;return Qt(e)?Eb(e,t(0,e.length),n):Rr(r,function(o){return(i+(o-e)%i)%i+e})},EC=function t(e,n,r){var i=n-e,o=i*2;return Qt(e)?Eb(e,t(0,e.length-1),n):Rr(r,function(s){return s=(o+(s-e)%o)%o||0,e+(s>i?o-s:s)})},_s=function(e){for(var n=0,r="",i,o,s,a;~(i=e.indexOf("random(",n));)s=e.indexOf(")",i),a=e.charAt(i+7)==="[",o=e.substr(i+7,s-i-7).match(a?hb:sd),r+=e.substr(n,i-n)+Ab(a?o:+o[0],a?0:+o[1],+o[2]||1e-5),n=s+1;return r+e.substr(n,e.length-n)},Fb=function(e,n,r,i,o){var s=n-e,a=i-r;return Rr(o,function(c){return r+((c-e)/s*a||0)})},FC=function t(e,n,r,i){var o=isNaN(e+n)?0:function(h){return(1-h)*e+h*n};if(!o){var s=Gt(e),a={},c,u,d,f,p;if(r===!0&&(i=1)&&(r=null),s)e={p:e},n={p:n};else if(Qt(e)&&!Qt(n)){for(d=[],f=e.length,p=f-2,u=1;u<f;u++)d.push(t(e[u-1],e[u]));f--,o=function(y){y*=f;var m=Math.min(p,~~y);return d[m](y-m)},r=n}else i||(e=Ji(Qt(e)?[]:{},e));if(!d){for(c in n)Cd.call(a,e,c,"get",n[c]);o=function(y){return Dd(y,a)||(s?e.p:e)}}}return Rr(r,o)},$b=function(e,n,r){var i=e.labels,o=En,s,a,c;for(s in i)a=i[s]-n,a<0==!!r&&a&&o>(a=Math.abs(a))&&(c=s,o=a);return c},Nn=function(e,n,r){var i=e.vars,o=i[n],s=St,a=e._ctx,c,u,d;if(o)return c=i[n+"Params"],u=i.callbackScope||e,r&&Br.length&&fl(),a&&(St=a),d=c?o.apply(u,c):o.call(u),St=s,d},ws=function(e){return Or(e),e.scrollTrigger&&e.scrollTrigger.kill(!!qt),e.progress()<1&&Nn(e,"onInterrupt"),e},eo,Bb=[],Ob=function(e){if(e)if(e=!e.name&&e.default||e,od()||e.headless){var n=e.name,r=Tt(e),i=n&&!r&&e.init?function(){this._props=[]}:e,o={init:ys,render:Dd,add:Cd,kill:KC,modifier:JC,rawVars:0},s={targetTest:0,get:0,getSetter:jd,aliases:{},register:0};if(to(),e!==i){if(kn[n])return;Cn(i,Cn(hl(e,o),s)),Ji(i.prototype,Ji(o,hl(e,s))),kn[i.prop=n]=i,e.targetTest&&(dl.push(i),dd[n]=1),n=(n==="css"?"CSS":n.charAt(0).toUpperCase()+n.substr(1))+"Plugin"}gb(n,i),e.register&&e.register(yn,i,gn)}else Bb.push(e)},vt=255,Ss={aqua:[0,vt,vt],lime:[0,vt,0],silver:[192,192,192],black:[0,0,0],maroon:[128,0,0],teal:[0,128,128],blue:[0,0,vt],navy:[0,0,128],white:[vt,vt,vt],olive:[128,128,0],yellow:[vt,vt,0],orange:[vt,165,0],gray:[128,128,128],purple:[128,0,128],green:[0,128,0],red:[vt,0,0],pink:[vt,192,203],cyan:[0,vt,vt],transparent:[vt,vt,vt,0]},wd=function(e,n,r){return e+=e<0?1:e>1?-1:0,(e*6<1?n+(r-n)*e*6:e<.5?r:e*3<2?n+(r-n)*(2/3-e)*6:n)*vt+.5|0},Rb=function(e,n,r){var i=e?wr(e)?[e>>16,e>>8&vt,e&vt]:0:Ss.black,o,s,a,c,u,d,f,p,h,y;if(!i){if(e.substr(-1)===","&&(e=e.substr(0,e.length-1)),Ss[e])i=Ss[e];else if(e.charAt(0)==="#"){if(e.length<6&&(o=e.charAt(1),s=e.charAt(2),a=e.charAt(3),e="#"+o+o+s+s+a+a+(e.length===5?e.charAt(4)+e.charAt(4):"")),e.length===9)return i=parseInt(e.substr(1,6),16),[i>>16,i>>8&vt,i&vt,parseInt(e.substr(7),16)/255];e=parseInt(e.substr(1),16),i=[e>>16,e>>8&vt,e&vt]}else if(e.substr(0,3)==="hsl"){if(i=y=e.match(sd),!n)c=+i[0]%360/360,u=+i[1]/100,d=+i[2]/100,s=d<=.5?d*(u+1):d+u-d*u,o=d*2-s,i.length>3&&(i[3]*=1),i[0]=wd(c+1/3,o,s),i[1]=wd(c,o,s),i[2]=wd(c-1/3,o,s);else if(~e.indexOf("="))return i=e.match(db),r&&i.length<4&&(i[3]=1),i}else i=e.match(sd)||Ss.transparent;i=i.map(Number)}return n&&!y&&(o=i[0]/vt,s=i[1]/vt,a=i[2]/vt,f=Math.max(o,s,a),p=Math.min(o,s,a),d=(f+p)/2,f===p?c=u=0:(h=f-p,u=d>.5?h/(2-f-p):h/(f+p),c=f===o?(s-a)/h+(s<a?6:0):f===s?(a-o)/h+2:(o-s)/h+4,c*=60),i[0]=~~(c+.5),i[1]=~~(u*100+.5),i[2]=~~(d*100+.5)),r&&i.length<4&&(i[3]=1),i},zb=function(e){var n=[],r=[],i=-1;return e.split(zr).forEach(function(o){var s=o.match(qi)||[];n.push.apply(n,s),r.push(i+=s.length+1)}),n.c=r,n},Hb=function(e,n,r){var i="",o=(e+i).match(zr),s=n?"hsla(":"rgba(",a=0,c,u,d,f;if(!o)return e;if(o=o.map(function(p){return(p=Rb(p,n,1))&&s+(n?p[0]+","+p[1]+"%,"+p[2]+"%,"+p[3]:p.join(","))+")"}),r&&(d=zb(e),c=r.c,c.join(i)!==d.c.join(i)))for(u=e.replace(zr,"1").split(qi),f=u.length-1;a<f;a++)i+=u[a]+(~c.indexOf(a)?o.shift()||s+"0,0,0,0)":(d.length?d:o.length?o:r).shift());if(!u)for(u=e.split(zr),f=u.length-1;a<f;a++)i+=u[a]+o[a];return i+u[f]},zr=(function(){var t="(?:\\b(?:(?:rgb|rgba|hsl|hsla)\\(.+?\\))|\\B#(?:[0-9a-f]{3,4}){1,2}\\b",e;for(e in Ss)t+="|"+e+"\\b";return new RegExp(t+")","gi")})(),$C=/hsl[a]?\(/,Ub=function(e){var n=e.join(" "),r;if(zr.lastIndex=0,zr.test(n))return r=$C.test(n),e[1]=Hb(e[1],r),e[0]=Hb(e[0],r,zb(e[1])),!0},ks,Mn=(function(){var t=Date.now,e=500,n=33,r=t(),i=r,o=1e3/240,s=o,a=[],c,u,d,f,p,h,y=function m(g){var N=t()-i,M=g===!0,j,_,b,S;if((N>e||N<0)&&(r+=N-n),i+=N,b=i-r,j=b-s,(j>0||M)&&(S=++f.frame,p=b-f.time*1e3,f.time=b=b/1e3,s+=j+(j>=o?4:o-j),_=1),M||(c=u(m)),_)for(h=0;h<a.length;h++)a[h](b,p,S,g)};return f={time:0,frame:0,tick:function(){y(!0)},deltaRatio:function(g){return p/(1e3/(g||60))},wake:function(){pb&&(!ld&&od()&&(lr=ld=window,cd=lr.document||{},Sn.gsap=yn,(lr.gsapVersions||(lr.gsapVersions=[])).push(yn.version),mb(cl||lr.GreenSockGlobals||!lr.gsap&&lr||{}),Bb.forEach(Ob)),d=typeof requestAnimationFrame<"u"&&requestAnimationFrame,c&&f.sleep(),u=d||function(g){return setTimeout(g,s-f.time*1e3+1|0)},ks=1,y(2))},sleep:function(){(d?cancelAnimationFrame:clearTimeout)(c),ks=0,u=ys},lagSmoothing:function(g,N){e=g||1/0,n=Math.min(N||33,e)},fps:function(g){o=1e3/(g||240),s=f.time*1e3+o},add:function(g,N,M){var j=N?function(_,b,S,C){g(_,b,S,C),f.remove(j)}:g;return f.remove(g),a[M?"unshift":"push"](j),to(),j},remove:function(g,N){~(N=a.indexOf(g))&&a.splice(N,1)&&h>=N&&h--},_listeners:a},f})(),to=function(){return!ks&&Mn.wake()},st={},BC=/^[\d.\-M][\d.\-,\s]/,OC=/["']/g,RC=function(e){for(var n={},r=e.substr(1,e.length-3).split(":"),i=r[0],o=1,s=r.length,a,c,u;o<s;o++)c=r[o],a=o!==s-1?c.lastIndexOf(","):c.length,u=c.substr(0,a),n[i]=isNaN(u)?u.replace(OC,"").trim():+u,i=c.substr(a+1).trim();return n},zC=function(e){var n=e.indexOf("(")+1,r=e.indexOf(")"),i=e.indexOf("(",n);return e.substring(n,~i&&i<r?e.indexOf(")",r+1):r)},HC=function(e){var n=(e+"").split("("),r=st[n[0]];return r&&n.length>1&&r.config?r.config.apply(null,~e.indexOf("{")?[RC(n[1])]:zC(e).split(",").map(_b)):st._CE&&BC.test(e)?st._CE("",e):r},Wb=function(e){return function(n){return 1-e(1-n)}},Gb=function t(e,n){for(var r=e._first,i;r;)r instanceof Xt?t(r,n):r.vars.yoyoEase&&(!r._yoyo||!r._repeat)&&r._yoyo!==n&&(r.timeline?t(r.timeline,n):(i=r._ease,r._ease=r._yEase,r._yEase=i,r._yoyo=n)),r=r._next},hi=function(e,n){return e&&(Tt(e)?e:st[e]||HC(e))||n},pi=function(e,n,r,i){r===void 0&&(r=function(c){return 1-n(1-c)}),i===void 0&&(i=function(c){return c<.5?n(c*2)/2:1-n((1-c)*2)/2});var o={easeIn:n,easeOut:r,easeInOut:i},s;return mn(e,function(a){st[a]=Sn[a]=o,st[s=a.toLowerCase()]=r;for(var c in o)st[s+(c==="easeIn"?".in":c==="easeOut"?".out":".inOut")]=st[a+"."+c]=o[c]}),o},Yb=function(e){return function(n){return n<.5?(1-e(1-n*2))/2:.5+e((n-.5)*2)/2}},Sd=function t(e,n,r){var i=n>=1?n:1,o=(r||(e?.3:.45))/(n<1?n:1),s=o/rd*(Math.asin(1/i)||0),a=function(d){return d===1?1:i*Math.pow(2,-10*d)*gC((d-s)*o)+1},c=e==="out"?a:e==="in"?function(u){return 1-a(1-u)}:Yb(a);return o=rd/o,c.config=function(u,d){return t(e,u,d)},c},kd=function t(e,n){n===void 0&&(n=1.70158);var r=function(s){return s?--s*s*((n+1)*s+n)+1:0},i=e==="out"?r:e==="in"?function(o){return 1-r(1-o)}:Yb(r);return i.config=function(o){return t(e,o)},i};mn("Linear,Quad,Cubic,Quart,Quint,Strong",function(t,e){var n=e<5?e+1:e;pi(t+",Power"+(n-1),e?function(r){return Math.pow(r,n)}:function(r){return r},function(r){return 1-Math.pow(1-r,n)},function(r){return r<.5?Math.pow(r*2,n)/2:1-Math.pow((1-r)*2,n)/2})}),st.Linear.easeNone=st.none=st.Linear.easeIn,pi("Elastic",Sd("in"),Sd("out"),Sd()),(function(t,e){var n=1/e,r=2*n,i=2.5*n,o=function(a){return a<n?t*a*a:a<r?t*Math.pow(a-1.5/e,2)+.75:a<i?t*(a-=2.25/e)*a+.9375:t*Math.pow(a-2.625/e,2)+.984375};pi("Bounce",function(s){return 1-o(1-s)},o)})(7.5625,2.75),pi("Expo",function(t){return Math.pow(2,10*(t-1))*t+t*t*t*t*t*t*(1-t)}),pi("Circ",function(t){return-(cb(1-t*t)-1)}),pi("Sine",function(t){return t===1?1:-mC(t*hC)+1}),pi("Back",kd("in"),kd("out"),kd()),st.SteppedEase=st.steps=Sn.SteppedEase={config:function(e,n){e===void 0&&(e=1);var r=1/e,i=e+(n?0:1),o=n?1:0,s=1-bt;return function(a){return((i*xs(0,s,a)|0)+o)*r}}},Zi.ease=st["quad.out"],mn("onComplete,onUpdate,onStart,onRepeat,onReverseComplete,onInterrupt",function(t){return pd+=t+","+t+"Params,"});var Vb=function(e,n){this.id=pC++,e._gsap=this,this.target=e,this.harness=n,this.get=n?n.get:vb,this.set=n?n.getSetter:jd},Cs=(function(){function t(n){this.vars=n,this._delay=+n.delay||0,(this._repeat=n.repeat===1/0?-2:n.repeat||0)&&(this._rDelay=n.repeatDelay||0,this._yoyo=!!n.yoyo||!!n.yoyoEase),this._ts=1,Qi(this,+n.duration,1,1),this.data=n.data,St&&(this._ctx=St,St.data.push(this)),ks||Mn.wake()}var e=t.prototype;return e.delay=function(r){return r||r===0?(this.parent&&this.parent.smoothChildTiming&&this.startTime(this._start+r-this._delay),this._delay=r,this):this._delay},e.duration=function(r){return arguments.length?this.totalDuration(this._repeat>0?r+(r+this._rDelay)*this._repeat:r):this.totalDuration()&&this._dur},e.totalDuration=function(r){return arguments.length?(this._dirty=0,Qi(this,this._repeat<0?r:(r-this._repeat*this._rDelay)/(this._repeat+1))):this._tDur},e.totalTime=function(r,i){if(to(),!arguments.length)return this._tTime;var o=this._dp;if(o&&o.smoothChildTiming&&this._ts){for(yl(this,r),!o._dp||o.parent||Nb(o,this);o&&o.parent;)o.parent._time!==o._start+(o._ts>=0?o._tTime/o._ts:(o.totalDuration()-o._tTime)/-o._ts)&&o.totalTime(o._tTime,!0),o=o.parent;!this.parent&&this._dp.autoRemoveChildren&&(this._ts>0&&r<this._tDur||this._ts<0&&r>0||!this._tDur&&!r)&&cr(this._dp,this,this._start-this._delay)}return(this._tTime!==r||!this._dur&&!i||this._initted&&Math.abs(this._zTime)===bt||!r&&!this._initted&&(this.add||this._ptLookup))&&(this._ts||(this._pTime=r),xb(this,r,i)),this},e.time=function(r,i){return arguments.length?this.totalTime(Math.min(this.totalDuration(),r+Cb(this))%(this._dur+this._rDelay)||(r?this._dur:0),i):this._time},e.totalProgress=function(r,i){return arguments.length?this.totalTime(this.totalDuration()*r,i):this.totalDuration()?Math.min(1,this._tTime/this._tDur):this.rawTime()>=0&&this._initted?1:0},e.progress=function(r,i){return arguments.length?this.totalTime(this.duration()*(this._yoyo&&!(this.iteration()&1)?1-r:r)+Cb(this),i):this.duration()?Math.min(1,this._time/this._dur):this.rawTime()>0?1:0},e.iteration=function(r,i){var o=this.duration()+this._rDelay;return arguments.length?this.totalTime(this._time+(r-1)*o,i):this._repeat?Ki(this._tTime,o)+1:1},e.timeScale=function(r,i){if(!arguments.length)return this._rts===-bt?0:this._rts;if(this._rts===r)return this;var o=this.parent&&this._ts?ml(this.parent._time,this):this._tTime;return this._rts=+r||0,this._ts=this._ps||r===-bt?0:this._rts,this.totalTime(xs(-Math.abs(this._delay),this.totalDuration(),o),i!==!1),gl(this),SC(this)},e.paused=function(r){return arguments.length?(this._ps!==r&&(this._ps=r,r?(this._pTime=this._tTime||Math.max(-this._delay,this.rawTime()),this._ts=this._act=0):(to(),this._ts=this._rts,this.totalTime(this.parent&&!this.parent.smoothChildTiming?this.rawTime():this._tTime||this._pTime,this.progress()===1&&Math.abs(this._zTime)!==bt&&(this._tTime-=bt)))),this):this._ps},e.startTime=function(r){if(arguments.length){this._start=r;var i=this.parent||this._dp;return i&&(i._sort||!this.parent)&&cr(i,this,r-this._delay),this}return this._start},e.endTime=function(r){return this._start+(pn(r)?this.totalDuration():this.duration())/Math.abs(this._ts||1)},e.rawTime=function(r){var i=this.parent||this._dp;return i?r&&(!this._ts||this._repeat&&this._time&&this.totalProgress()<1)?this._tTime%(this._dur+this._rDelay):this._ts?ml(i.rawTime(r),this):this._tTime:this._tTime},e.revert=function(r){r===void 0&&(r=vC);var i=qt;return qt=r,gd(this)&&(this.timeline&&this.timeline.revert(r),this.totalTime(-.01,r.suppressEvents)),this.data!=="nested"&&r.kill!==!1&&this.kill(),qt=i,this},e.globalTime=function(r){for(var i=this,o=arguments.length?r:i.rawTime();i;)o=i._start+o/(Math.abs(i._ts)||1),i=i._dp;return!this.parent&&this._sat?this._sat.globalTime(r):o},e.repeat=function(r){return arguments.length?(this._repeat=r===1/0?-2:r,jb(this)):this._repeat===-2?1/0:this._repeat},e.repeatDelay=function(r){if(arguments.length){var i=this._time;return this._rDelay=r,jb(this),i?this.time(i):this}return this._rDelay},e.yoyo=function(r){return arguments.length?(this._yoyo=r,this):this._yoyo},e.seek=function(r,i){return this.totalTime(Fn(this,r),pn(i))},e.restart=function(r,i){return this.play().totalTime(r?-this._delay:0,pn(i)),this._dur||(this._zTime=-bt),this},e.play=function(r,i){return r!=null&&this.seek(r,i),this.reversed(!1).paused(!1)},e.reverse=function(r,i){return r!=null&&this.seek(r||this.totalDuration(),i),this.reversed(!0).paused(!1)},e.pause=function(r,i){return r!=null&&this.seek(r,i),this.paused(!0)},e.resume=function(){return this.paused(!1)},e.reversed=function(r){return arguments.length?(!!r!==this.reversed()&&this.timeScale(-this._rts||(r?-bt:0)),this):this._rts<0},e.invalidate=function(){return this._initted=this._act=0,this._zTime=-bt,this},e.isActive=function(){var r=this.parent||this._dp,i=this._start,o;return!!(!r||this._ts&&this._initted&&r.isActive()&&(o=r.rawTime(!0))>=i&&o<this.endTime(!0)-bt)},e.eventCallback=function(r,i,o){var s=this.vars;return arguments.length>1?(i?(s[r]=i,o&&(s[r+"Params"]=o),r==="onUpdate"&&(this._onUpdate=i)):delete s[r],this):s[r]},e.then=function(r){var i=this;return new Promise(function(o){var s=Tt(r)?r:wb,a=function(){var u=i.then;i.then=null,Tt(s)&&(s=s(i))&&(s.then||s===i)&&(i.then=u),o(s),i.then=u};i._initted&&i.totalProgress()===1&&i._ts>=0||!i._tTime&&i._ts<0?a():i._prom=a})},e.kill=function(){ws(this)},t})();Cn(Cs.prototype,{_time:0,_start:0,_end:0,_tTime:0,_tDur:0,_dirty:0,_repeat:0,_yoyo:!1,parent:null,_initted:!1,_rDelay:0,_ts:1,_dp:0,ratio:0,_zTime:-bt,_prom:0,_ps:!1,_rts:1});var Xt=(function(t){lb(e,t);function e(r,i){var o;return r===void 0&&(r={}),o=t.call(this,r)||this,o.labels={},o.smoothChildTiming=!!r.smoothChildTiming,o.autoRemoveChildren=!!r.autoRemoveChildren,o._sort=pn(r.sortChildren),Ct&&cr(r.parent||Ct,_r(o),i),r.reversed&&o.reverse(),r.paused&&o.paused(!0),r.scrollTrigger&&Mb(_r(o),r.scrollTrigger),o}var n=e.prototype;return n.to=function(i,o,s){return vs(0,arguments,this),this},n.from=function(i,o,s){return vs(1,arguments,this),this},n.fromTo=function(i,o,s,a){return vs(2,arguments,this),this},n.set=function(i,o,s){return o.duration=0,o.parent=this,bs(o).repeatDelay||(o.repeat=0),o.immediateRender=!!o.immediateRender,new It(i,o,Fn(this,s),1),this},n.call=function(i,o,s){return cr(this,It.delayedCall(0,i,o),s)},n.staggerTo=function(i,o,s,a,c,u,d){return s.duration=o,s.stagger=s.stagger||a,s.onComplete=u,s.onCompleteParams=d,s.parent=this,new It(i,s,Fn(this,c)),this},n.staggerFrom=function(i,o,s,a,c,u,d){return s.runBackwards=1,bs(s).immediateRender=pn(s.immediateRender),this.staggerTo(i,o,s,a,c,u,d)},n.staggerFromTo=function(i,o,s,a,c,u,d,f){return a.startAt=s,bs(a).immediateRender=pn(a.immediateRender),this.staggerTo(i,o,a,c,u,d,f)},n.render=function(i,o,s){var a=this._time,c=this._dirty?this.totalDuration():this._tDur,u=this._dur,d=i<=0?0:Et(i),f=this._zTime<0!=i<0&&(this._initted||!u),p,h,y,m,g,N,M,j,_,b,S,C;if(this!==Ct&&d>c&&i>=0&&(d=c),d!==this._tTime||s||f){if(a!==this._time&&u&&(d+=this._time-a,i+=this._time-a),p=d,_=this._start,j=this._ts,N=!j,f&&(u||(a=this._zTime),(i||!o)&&(this._zTime=i)),this._repeat){if(S=this._yoyo,g=u+this._rDelay,this._repeat<-1&&i<0)return this.totalTime(g*100+i,o,s);if(p=Et(d%g),d===c?(m=this._repeat,p=u):(b=Et(d/g),m=~~b,m&&m===b&&(p=u,m--),p>u&&(p=u)),b=Ki(this._tTime,g),!a&&this._tTime&&b!==m&&this._tTime-b*g-this._dur<=0&&(b=m),S&&m&1&&(p=u-p,C=1),m!==b&&!this._lock){var k=S&&b&1,v=k===(S&&m&1);if(m<b&&(k=!k),a=k?0:d%u?u:d,this._lock=1,this.render(a||(C?0:Et(m*g)),o,!u)._lock=0,this._tTime=d,!o&&this.parent&&Nn(this,"onRepeat"),this.vars.repeatRefresh&&!C&&(this.invalidate()._lock=1),a&&a!==this._time||N!==!this._ts||this.vars.onRepeat&&!this.parent&&!this._act)return this;if(u=this._dur,c=this._tDur,v&&(this._lock=2,a=k?u:-1e-4,this.render(a,!0),this.vars.repeatRefresh&&!C&&this.invalidate()),this._lock=0,!this._ts&&!N)return this;Gb(this,C)}}if(this._hasPause&&!this._forcing&&this._lock<2&&(M=MC(this,Et(a),Et(p)),M&&(d-=p-(p=M._start))),this._tTime=d,this._time=p,this._act=!j,this._initted||(this._onUpdate=this.vars.onUpdate,this._initted=1,this._zTime=i,a=0),!a&&d&&!o&&!b&&(Nn(this,"onStart"),this._tTime!==d))return this;if(p>=a&&i>=0)for(h=this._first;h;){if(y=h._next,(h._act||p>=h._start)&&h._ts&&M!==h){if(h.parent!==this)return this.render(i,o,s);if(h.render(h._ts>0?(p-h._start)*h._ts:(h._dirty?h.totalDuration():h._tDur)+(p-h._start)*h._ts,o,s),p!==this._time||!this._ts&&!N){M=0,y&&(d+=this._zTime=-bt);break}}h=y}else{h=this._last;for(var x=i<0?i:p;h;){if(y=h._prev,(h._act||x<=h._end)&&h._ts&&M!==h){if(h.parent!==this)return this.render(i,o,s);if(h.render(h._ts>0?(x-h._start)*h._ts:(h._dirty?h.totalDuration():h._tDur)+(x-h._start)*h._ts,o,s||qt&&gd(h)),p!==this._time||!this._ts&&!N){M=0,y&&(d+=this._zTime=x?-bt:bt);break}}h=y}}if(M&&!o&&(this.pause(),M.render(p>=a?0:-bt)._zTime=p>=a?1:-1,this._ts))return this._start=_,gl(this),this.render(i,o,s);this._onUpdate&&!o&&Nn(this,"onUpdate",!0),(d===c&&this._tTime>=this.totalDuration()||!d&&a)&&(_===this._start||Math.abs(j)!==Math.abs(this._ts))&&(this._lock||((i||!u)&&(d===c&&this._ts>0||!d&&this._ts<0)&&Or(this,1),!o&&!(i<0&&!a)&&(d||a||!c)&&(Nn(this,d===c&&i>=0?"onComplete":"onReverseComplete",!0),this._prom&&!(d<c&&this.timeScale()>0)&&this._prom())))}return this},n.add=function(i,o){var s=this;if(wr(o)||(o=Fn(this,o,i)),!(i instanceof Cs)){if(Qt(i))return i.forEach(function(a){return s.add(a,o)}),this;if(Gt(i))return this.addLabel(i,o);if(Tt(i))i=It.delayedCall(0,i);else return this}return this!==i?cr(this,i,o):this},n.getChildren=function(i,o,s,a){i===void 0&&(i=!0),o===void 0&&(o=!0),s===void 0&&(s=!0),a===void 0&&(a=-En);for(var c=[],u=this._first;u;)u._start>=a&&(u instanceof It?o&&c.push(u):(s&&c.push(u),i&&c.push.apply(c,u.getChildren(!0,o,s)))),u=u._next;return c},n.getById=function(i){for(var o=this.getChildren(1,1,1),s=o.length;s--;)if(o[s].vars.id===i)return o[s]},n.remove=function(i){return Gt(i)?this.removeLabel(i):Tt(i)?this.killTweensOf(i):(i.parent===this&&pl(this,i),i===this._recent&&(this._recent=this._last),fi(this))},n.totalTime=function(i,o){return arguments.length?(this._forcing=1,!this._dp&&this._ts&&(this._start=Et(Mn.time-(this._ts>0?i/this._ts:(this.totalDuration()-i)/-this._ts))),t.prototype.totalTime.call(this,i,o),this._forcing=0,this):this._tTime},n.addLabel=function(i,o){return this.labels[i]=Fn(this,o),this},n.removeLabel=function(i){return delete this.labels[i],this},n.addPause=function(i,o,s){var a=It.delayedCall(0,o||ys,s);return a.data="isPause",this._hasPause=1,cr(this,a,Fn(this,i))},n.removePause=function(i){var o=this._first;for(i=Fn(this,i);o;)o._start===i&&o.data==="isPause"&&Or(o),o=o._next},n.killTweensOf=function(i,o,s){for(var a=this.getTweensOf(i,s),c=a.length;c--;)Hr!==a[c]&&a[c].kill(i,o);return this},n.getTweensOf=function(i,o){for(var s=[],a=$n(i),c=this._first,u=wr(o),d;c;)c instanceof It?xC(c._targets,a)&&(u?(!Hr||c._initted&&c._ts)&&c.globalTime(0)<=o&&c.globalTime(c.totalDuration())>o:!o||c.isActive())&&s.push(c):(d=c.getTweensOf(a,o)).length&&s.push.apply(s,d),c=c._next;return s},n.tweenTo=function(i,o){o=o||{};var s=this,a=Fn(s,i),c=o,u=c.startAt,d=c.onStart,f=c.onStartParams,p=c.immediateRender,h,y=It.to(s,Cn({ease:o.ease||"none",lazy:!1,immediateRender:!1,time:a,overwrite:"auto",duration:o.duration||Math.abs((a-(u&&"time"in u?u.time:s._time))/s.timeScale())||bt,onStart:function(){if(s.pause(),!h){var g=o.duration||Math.abs((a-(u&&"time"in u?u.time:s._time))/s.timeScale());y._dur!==g&&Qi(y,g,0,1).render(y._time,!0,!0),h=1}d&&d.apply(y,f||[])}},o));return p?y.render(0):y},n.tweenFromTo=function(i,o,s){return this.tweenTo(o,Cn({startAt:{time:Fn(this,i)}},s))},n.recent=function(){return this._recent},n.nextLabel=function(i){return i===void 0&&(i=this._time),$b(this,Fn(this,i))},n.previousLabel=function(i){return i===void 0&&(i=this._time),$b(this,Fn(this,i),1)},n.currentLabel=function(i){return arguments.length?this.seek(i,!0):this.previousLabel(this._time+bt)},n.shiftChildren=function(i,o,s){s===void 0&&(s=0);for(var a=this._first,c=this.labels,u;a;)a._start>=s&&(a._start+=i,a._end+=i),a=a._next;if(o)for(u in c)c[u]>=s&&(c[u]+=i);return fi(this)},n.invalidate=function(i){var o=this._first;for(this._lock=0;o;)o.invalidate(i),o=o._next;return t.prototype.invalidate.call(this,i)},n.clear=function(i){i===void 0&&(i=!0);for(var o=this._first,s;o;)s=o._next,this.remove(o),o=s;return this._dp&&(this._time=this._tTime=this._pTime=0),i&&(this.labels={}),fi(this)},n.totalDuration=function(i){var o=0,s=this,a=s._last,c=En,u,d,f;if(arguments.length)return s.timeScale((s._repeat<0?s.duration():s.totalDuration())/(s.reversed()?-i:i));if(s._dirty){for(f=s.parent;a;)u=a._prev,a._dirty&&a.totalDuration(),d=a._start,d>c&&s._sort&&a._ts&&!s._lock?(s._lock=1,cr(s,a,d-a._delay,1)._lock=0):c=d,d<0&&a._ts&&(o-=d,(!f&&!s._dp||f&&f.smoothChildTiming)&&(s._start+=d/s._ts,s._time-=d,s._tTime-=d),s.shiftChildren(-d,!1,-1/0),c=0),a._end>o&&a._ts&&(o=a._end),a=u;Qi(s,s===Ct&&s._time>o?s._time:o,1,1),s._dirty=0}return s._tDur},e.updateRoot=function(i){if(Ct._ts&&(xb(Ct,ml(i,Ct)),yb=Mn.frame),Mn.frame>=bb){bb+=wn.autoSleep||120;var o=Ct._first;if((!o||!o._ts)&&wn.autoSleep&&Mn._listeners.length<2){for(;o&&!o._ts;)o=o._next;o||Mn.sleep()}}},e})(Cs);Cn(Xt.prototype,{_lock:0,_hasPause:0,_forcing:0});var UC=function(e,n,r,i,o,s,a){var c=new gn(this._pt,e,n,0,1,Qb,null,o),u=0,d=0,f,p,h,y,m,g,N,M;for(c.b=r,c.e=i,r+="",i+="",(N=~i.indexOf("random("))&&(i=_s(i)),s&&(M=[r,i],s(M,e,n),r=M[0],i=M[1]),p=r.match(ad)||[];f=ad.exec(i);)y=f[0],m=i.substring(u,f.index),h?h=(h+1)%5:m.substr(-5)==="rgba("&&(h=1),y!==p[d++]&&(g=parseFloat(p[d-1])||0,c._pt={_next:c._pt,p:m||d===1?m:",",s:g,c:y.charAt(1)==="="?Xi(g,y)-g:parseFloat(y)-g,m:h&&h<4?Math.round:0},u=ad.lastIndex);return c.c=u<i.length?i.substring(u,i.length):"",c.fp=a,(fb.test(i)||N)&&(c.e=0),this._pt=c,c},Cd=function(e,n,r,i,o,s,a,c,u,d){Tt(i)&&(i=i(o||0,e,s));var f=e[n],p=r!=="get"?r:Tt(f)?u?e[n.indexOf("set")||!Tt(e["get"+n.substr(3)])?n:"get"+n.substr(3)](u):e[n]():f,h=Tt(f)?u?ZC:Jb:Td,y;if(Gt(i)&&(~i.indexOf("random(")&&(i=_s(i)),i.charAt(1)==="="&&(y=Xi(p,i)+(en(p)||0),(y||y===0)&&(i=y))),!d||p!==i||Nd)return!isNaN(p*i)&&i!==""?(y=new gn(this._pt,e,n,+p||0,i-(p||0),typeof f=="boolean"?XC:Kb,0,h),u&&(y.fp=u),a&&y.modifier(a,this,e),this._pt=y):(!f&&!(n in e)&&ud(n,i),UC.call(this,e,n,p,i,h,c||wn.stringFilter,u))},WC=function(e,n,r,i,o){if(Tt(e)&&(e=Ns(e,o,n,r,i)),!ar(e)||e.style&&e.nodeType||Qt(e)||ub(e))return Gt(e)?Ns(e,o,n,r,i):e;var s={},a;for(a in e)s[a]=Ns(e[a],o,n,r,i);return s},Zb=function(e,n,r,i,o,s){var a,c,u,d;if(kn[e]&&(a=new kn[e]).init(o,a.rawVars?n[e]:WC(n[e],i,o,s,r),r,i,s)!==!1&&(r._pt=c=new gn(r._pt,o,e,0,1,a.render,a,0,a.priority),r!==eo))for(u=r._ptLookup[r._targets.indexOf(o)],d=a._props.length;d--;)u[a._props[d]]=c;return a},Hr,Nd,Md=function t(e,n,r){var i=e.vars,o=i.ease,s=i.startAt,a=i.immediateRender,c=i.lazy,u=i.onUpdate,d=i.runBackwards,f=i.yoyoEase,p=i.keyframes,h=i.autoRevert,y=e._dur,m=e._startAt,g=e._targets,N=e.parent,M=N&&N.data==="nested"?N.vars.targets:g,j=e._overwrite==="auto"&&!nd,_=e.timeline,b,S,C,k,v,x,A,I,O,E,L,D,F;if(_&&(!p||!o)&&(o="none"),e._ease=hi(o,Zi.ease),e._yEase=f?Wb(hi(f===!0?o:f,Zi.ease)):0,f&&e._yoyo&&!e._repeat&&(f=e._yEase,e._yEase=e._ease,e._ease=f),e._from=!_&&!!i.runBackwards,!_||p&&!i.stagger){if(I=g[0]?di(g[0]).harness:0,D=I&&i[I.prop],b=hl(i,dd),m&&(m._zTime<0&&m.progress(1),n<0&&d&&a&&!h?m.render(-1,!0):m.revert(d&&y?ul:bC),m._lazy=0),s){if(Or(e._startAt=It.set(g,Cn({data:"isStart",overwrite:!1,parent:N,immediateRender:!0,lazy:!m&&pn(c),startAt:null,delay:0,onUpdate:u&&function(){return Nn(e,"onUpdate")},stagger:0},s))),e._startAt._dp=0,e._startAt._sat=e,n<0&&(qt||!a&&!h)&&e._startAt.revert(ul),a&&y&&n<=0&&r<=0){n&&(e._zTime=n);return}}else if(d&&y&&!m){if(n&&(a=!1),C=Cn({overwrite:!1,data:"isFromStart",lazy:a&&!m&&pn(c),immediateRender:a,stagger:0,parent:N},b),D&&(C[I.prop]=D),Or(e._startAt=It.set(g,C)),e._startAt._dp=0,e._startAt._sat=e,n<0&&(qt?e._startAt.revert(ul):e._startAt.render(-1,!0)),e._zTime=n,!a)t(e._startAt,bt,bt);else if(!n)return}for(e._pt=e._ptCache=0,c=y&&pn(c)||c&&!y,S=0;S<g.length;S++){if(v=g[S],A=v._gsap||md(g)[S]._gsap,e._ptLookup[S]=E={},fd[A.id]&&Br.length&&fl(),L=M===g?S:M.indexOf(v),I&&(O=new I).init(v,D||b,e,L,M)!==!1&&(e._pt=k=new gn(e._pt,v,O.name,0,1,O.render,O,0,O.priority),O._props.forEach(function(K){E[K]=k}),O.priority&&(x=1)),!I||D)for(C in b)kn[C]&&(O=Zb(C,b,e,L,v,M))?O.priority&&(x=1):E[C]=k=Cd.call(e,v,C,"get",b[C],L,M,0,i.stringFilter);e._op&&e._op[S]&&e.kill(v,e._op[S]),j&&e._pt&&(Hr=e,Ct.killTweensOf(v,E,e.globalTime(n)),F=!e.parent,Hr=0),e._pt&&c&&(fd[A.id]=1)}x&&e1(e),e._onInit&&e._onInit(e)}e._onUpdate=u,e._initted=(!e._op||e._pt)&&!F,p&&n<=0&&_.render(En,!0,!0)},GC=function(e,n,r,i,o,s,a,c){var u=(e._pt&&e._ptCache||(e._ptCache={}))[n],d,f,p,h;if(!u)for(u=e._ptCache[n]=[],p=e._ptLookup,h=e._targets.length;h--;){if(d=p[h][n],d&&d.d&&d.d._pt)for(d=d.d._pt;d&&d.p!==n&&d.fp!==n;)d=d._next;if(!d)return Nd=1,e.vars[n]="+=0",Md(e,a),Nd=0,c?gs(n+" not eligible for reset"):1;u.push(d)}for(h=u.length;h--;)f=u[h],d=f._pt||f,d.s=(i||i===0)&&!o?i:d.s+(i||0)+s*d.c,d.c=r-d.s,f.e&&(f.e=Dt(r)+en(f.e)),f.b&&(f.b=d.s+en(f.b))},YC=function(e,n){var r=e[0]?di(e[0]).harness:0,i=r&&r.aliases,o,s,a,c;if(!i)return n;o=Ji({},n);for(s in i)if(s in o)for(c=i[s].split(","),a=c.length;a--;)o[c[a]]=o[s];return o},VC=function(e,n,r,i){var o=n.ease||i||"power1.inOut",s,a;if(Qt(n))a=r[e]||(r[e]=[]),n.forEach(function(c,u){return a.push({t:u/(n.length-1)*100,v:c,e:o})});else for(s in n)a=r[s]||(r[s]=[]),s==="ease"||a.push({t:parseFloat(e),v:n[s],e:o})},Ns=function(e,n,r,i,o){return Tt(e)?e.call(n,r,i,o):Gt(e)&&~e.indexOf("random(")?_s(e):e},qb=pd+"repeat,repeatDelay,yoyo,repeatRefresh,yoyoEase,autoRevert",Xb={};mn(qb+",id,stagger,delay,duration,paused,scrollTrigger",function(t){return Xb[t]=1});var It=(function(t){lb(e,t);function e(r,i,o,s){var a;typeof i=="number"&&(o.duration=i,i=o,o=null),a=t.call(this,s?i:bs(i))||this;var c=a.vars,u=c.duration,d=c.delay,f=c.immediateRender,p=c.stagger,h=c.overwrite,y=c.keyframes,m=c.defaults,g=c.scrollTrigger,N=c.yoyoEase,M=i.parent||Ct,j=(Qt(r)||ub(r)?wr(r[0]):"length"in i)?[r]:$n(r),_,b,S,C,k,v,x,A;if(a._targets=j.length?md(j):gs("GSAP target "+r+" not found. https://gsap.com",!wn.nullTargetWarn)||[],a._ptLookup=[],a._overwrite=h,y||p||ll(u)||ll(d)){if(i=a.vars,_=a.timeline=new Xt({data:"nested",defaults:m||{},targets:M&&M.data==="nested"?M.vars.targets:j}),_.kill(),_.parent=_._dp=_r(a),_._start=0,p||ll(u)||ll(d)){if(C=j.length,x=p&&Lb(p),ar(p))for(k in p)~qb.indexOf(k)&&(A||(A={}),A[k]=p[k]);for(b=0;b<C;b++)S=hl(i,Xb),S.stagger=0,N&&(S.yoyoEase=N),A&&Ji(S,A),v=j[b],S.duration=+Ns(u,_r(a),b,v,j),S.delay=(+Ns(d,_r(a),b,v,j)||0)-a._delay,!p&&C===1&&S.delay&&(a._delay=d=S.delay,a._start+=d,S.delay=0),_.to(v,S,x?x(b,v,j):0),_._ease=st.none;_.duration()?u=d=0:a.timeline=0}else if(y){bs(Cn(_.vars.defaults,{ease:"none"})),_._ease=hi(y.ease||i.ease||"none");var I=0,O,E,L;if(Qt(y))y.forEach(function(D){return _.to(j,D,">")}),_.duration();else{S={};for(k in y)k==="ease"||k==="easeEach"||VC(k,y[k],S,y.easeEach);for(k in S)for(O=S[k].sort(function(D,F){return D.t-F.t}),I=0,b=0;b<O.length;b++)E=O[b],L={ease:E.e,duration:(E.t-(b?O[b-1].t:0))/100*u},L[k]=E.v,_.to(j,L,I),I+=L.duration;_.duration()<u&&_.to({},{duration:u-_.duration()})}}u||a.duration(u=_.duration())}else a.timeline=0;return h===!0&&!nd&&(Hr=_r(a),Ct.killTweensOf(j),Hr=0),cr(M,_r(a),o),i.reversed&&a.reverse(),i.paused&&a.paused(!0),(f||!u&&!y&&a._start===Et(M._time)&&pn(f)&&kC(_r(a))&&M.data!=="nested")&&(a._tTime=-bt,a.render(Math.max(0,-d)||0)),g&&Mb(_r(a),g),a}var n=e.prototype;return n.render=function(i,o,s){var a=this._time,c=this._tDur,u=this._dur,d=i<0,f=i>c-bt&&!d?c:i<bt?0:i,p,h,y,m,g,N,M,j,_;if(!u)NC(this,i,o,s);else if(f!==this._tTime||!i||s||!this._initted&&this._tTime||this._startAt&&this._zTime<0!==d||this._lazy){if(p=f,j=this.timeline,this._repeat){if(m=u+this._rDelay,this._repeat<-1&&d)return this.totalTime(m*100+i,o,s);if(p=Et(f%m),f===c?(y=this._repeat,p=u):(g=Et(f/m),y=~~g,y&&y===g?(p=u,y--):p>u&&(p=u)),N=this._yoyo&&y&1,N&&(_=this._yEase,p=u-p),g=Ki(this._tTime,m),p===a&&!s&&this._initted&&y===g)return this._tTime=f,this;y!==g&&(j&&this._yEase&&Gb(j,N),this.vars.repeatRefresh&&!N&&!this._lock&&p!==m&&this._initted&&(this._lock=s=1,this.render(Et(m*y),!0).invalidate()._lock=0))}if(!this._initted){if(Tb(this,d?i:p,s,o,f))return this._tTime=0,this;if(a!==this._time&&!(s&&this.vars.repeatRefresh&&y!==g))return this;if(u!==this._dur)return this.render(i,o,s)}if(this._tTime=f,this._time=p,!this._act&&this._ts&&(this._act=1,this._lazy=0),this.ratio=M=(_||this._ease)(p/u),this._from&&(this.ratio=M=1-M),!a&&f&&!o&&!g&&(Nn(this,"onStart"),this._tTime!==f))return this;for(h=this._pt;h;)h.r(M,h.d),h=h._next;j&&j.render(i<0?i:j._dur*j._ease(p/this._dur),o,s)||this._startAt&&(this._zTime=i),this._onUpdate&&!o&&(d&&yd(this,i,o,s),Nn(this,"onUpdate")),this._repeat&&y!==g&&this.vars.onRepeat&&!o&&this.parent&&Nn(this,"onRepeat"),(f===this._tDur||!f)&&this._tTime===f&&(d&&!this._onUpdate&&yd(this,i,!0,!0),(i||!u)&&(f===this._tDur&&this._ts>0||!f&&this._ts<0)&&Or(this,1),!o&&!(d&&!a)&&(f||a||N)&&(Nn(this,f===c?"onComplete":"onReverseComplete",!0),this._prom&&!(f<c&&this.timeScale()>0)&&this._prom()))}return this},n.targets=function(){return this._targets},n.invalidate=function(i){return(!i||!this.vars.runBackwards)&&(this._startAt=0),this._pt=this._op=this._onUpdate=this._lazy=this.ratio=0,this._ptLookup=[],this.timeline&&this.timeline.invalidate(i),t.prototype.invalidate.call(this,i)},n.resetTo=function(i,o,s,a,c){ks||Mn.wake(),this._ts||this.play();var u=Math.min(this._dur,(this._dp._time-this._start)*this._ts),d;return this._initted||Md(this,u),d=this._ease(u/this._dur),GC(this,i,o,s,a,d,u,c)?this.resetTo(i,o,s,a,1):(yl(this,0),this.parent||kb(this._dp,this,"_first","_last",this._dp._sort?"_start":0),this.render(0))},n.kill=function(i,o){if(o===void 0&&(o="all"),!i&&(!o||o==="all"))return this._lazy=this._pt=0,this.parent?ws(this):this.scrollTrigger&&this.scrollTrigger.kill(!!qt),this;if(this.timeline){var s=this.timeline.totalDuration();return this.timeline.killTweensOf(i,o,Hr&&Hr.vars.overwrite!==!0)._first||ws(this),this.parent&&s!==this.timeline.totalDuration()&&Qi(this,this._dur*this.timeline._tDur/s,0,1),this}var a=this._targets,c=i?$n(i):a,u=this._ptLookup,d=this._pt,f,p,h,y,m,g,N;if((!o||o==="all")&&wC(a,c))return o==="all"&&(this._pt=0),ws(this);for(f=this._op=this._op||[],o!=="all"&&(Gt(o)&&(m={},mn(o,function(M){return m[M]=1}),o=m),o=YC(a,o)),N=a.length;N--;)if(~c.indexOf(a[N])){p=u[N],o==="all"?(f[N]=o,y=p,h={}):(h=f[N]=f[N]||{},y=o);for(m in y)g=p&&p[m],g&&((!("kill"in g.d)||g.d.kill(m)===!0)&&pl(this,g,"_pt"),delete p[m]),h!=="all"&&(h[m]=1)}return this._initted&&!this._pt&&d&&ws(this),this},e.to=function(i,o){return new e(i,o,arguments[2])},e.from=function(i,o){return vs(1,arguments)},e.delayedCall=function(i,o,s,a){return new e(o,0,{immediateRender:!1,lazy:!1,overwrite:!1,delay:i,onComplete:o,onReverseComplete:o,onCompleteParams:s,onReverseCompleteParams:s,callbackScope:a})},e.fromTo=function(i,o,s){return vs(2,arguments)},e.set=function(i,o){return o.duration=0,o.repeatDelay||(o.repeat=0),new e(i,o)},e.killTweensOf=function(i,o,s){return Ct.killTweensOf(i,o,s)},e})(Cs);Cn(It.prototype,{_targets:[],_lazy:0,_startAt:0,_op:0,_onInit:0}),mn("staggerTo,staggerFrom,staggerFromTo",function(t){It[t]=function(){var e=new Xt,n=vd.call(arguments,0);return n.splice(t==="staggerFromTo"?5:4,0,0),e[t].apply(e,n)}});var Td=function(e,n,r){return e[n]=r},Jb=function(e,n,r){return e[n](r)},ZC=function(e,n,r,i){return e[n](i.fp,r)},qC=function(e,n,r){return e.setAttribute(n,r)},jd=function(e,n){return Tt(e[n])?Jb:id(e[n])&&e.setAttribute?qC:Td},Kb=function(e,n){return n.set(n.t,n.p,Math.round((n.s+n.c*e)*1e6)/1e6,n)},XC=function(e,n){return n.set(n.t,n.p,!!(n.s+n.c*e),n)},Qb=function(e,n){var r=n._pt,i="";if(!e&&n.b)i=n.b;else if(e===1&&n.e)i=n.e;else{for(;r;)i=r.p+(r.m?r.m(r.s+r.c*e):Math.round((r.s+r.c*e)*1e4)/1e4)+i,r=r._next;i+=n.c}n.set(n.t,n.p,i,n)},Dd=function(e,n){for(var r=n._pt;r;)r.r(e,r.d),r=r._next},JC=function(e,n,r,i){for(var o=this._pt,s;o;)s=o._next,o.p===i&&o.modifier(e,n,r),o=s},KC=function(e){for(var n=this._pt,r,i;n;)i=n._next,n.p===e&&!n.op||n.op===e?pl(this,n,"_pt"):n.dep||(r=1),n=i;return!r},QC=function(e,n,r,i){i.mSet(e,n,i.m.call(i.tween,r,i.mt),i)},e1=function(e){for(var n=e._pt,r,i,o,s;n;){for(r=n._next,i=o;i&&i.pr>n.pr;)i=i._next;(n._prev=i?i._prev:s)?n._prev._next=n:o=n,(n._next=i)?i._prev=n:s=n,n=r}e._pt=o},gn=(function(){function t(n,r,i,o,s,a,c,u,d){this.t=r,this.s=o,this.c=s,this.p=i,this.r=a||Kb,this.d=c||this,this.set=u||Td,this.pr=d||0,this._next=n,n&&(n._prev=this)}var e=t.prototype;return e.modifier=function(r,i,o){this.mSet=this.mSet||this.set,this.set=QC,this.m=r,this.mt=o,this.tween=i},t})();mn(pd+"parent,duration,ease,delay,overwrite,runBackwards,startAt,yoyo,immediateRender,repeat,repeatDelay,data,paused,reversed,lazy,callbackScope,stringFilter,id,yoyoEase,stagger,inherit,repeatRefresh,keyframes,autoRevert,scrollTrigger",function(t){return dd[t]=1}),Sn.TweenMax=Sn.TweenLite=It,Sn.TimelineLite=Sn.TimelineMax=Xt,Ct=new Xt({sortChildren:!1,defaults:Zi,autoRemoveChildren:!0,id:"root",smoothChildTiming:!0}),wn.stringFilter=Ub;var mi=[],bl={},eN=[],t1=0,tN=0,Id=function(e){return(bl[e]||eN).map(function(n){return n()})},Ld=function(){var e=Date.now(),n=[];e-t1>2&&(Id("matchMediaInit"),mi.forEach(function(r){var i=r.queries,o=r.conditions,s,a,c,u;for(a in i)s=lr.matchMedia(i[a]).matches,s&&(c=1),s!==o[a]&&(o[a]=s,u=1);u&&(r.revert(),c&&n.push(r))}),Id("matchMediaRevert"),n.forEach(function(r){return r.onMatch(r,function(i){return r.add(null,i)})}),t1=e,Id("matchMedia"))},n1=(function(){function t(n,r){this.selector=r&&xd(r),this.data=[],this._r=[],this.isReverted=!1,this.id=tN++,n&&this.add(n)}var e=t.prototype;return e.add=function(r,i,o){Tt(r)&&(o=i,i=r,r=Tt);var s=this,a=function(){var u=St,d=s.selector,f;return u&&u!==s&&u.data.push(s),o&&(s.selector=xd(o)),St=s,f=i.apply(s,arguments),Tt(f)&&s._r.push(f),St=u,s.selector=d,s.isReverted=!1,f};return s.last=a,r===Tt?a(s,function(c){return s.add(null,c)}):r?s[r]=a:a},e.ignore=function(r){var i=St;St=null,r(this),St=i},e.getTweens=function(){var r=[];return this.data.forEach(function(i){return i instanceof t?r.push.apply(r,i.getTweens()):i instanceof It&&!(i.parent&&i.parent.data==="nested")&&r.push(i)}),r},e.clear=function(){this._r.length=this.data.length=0},e.kill=function(r,i){var o=this;if(r?(function(){for(var a=o.getTweens(),c=o.data.length,u;c--;)u=o.data[c],u.data==="isFlip"&&(u.revert(),u.getChildren(!0,!0,!1).forEach(function(d){return a.splice(a.indexOf(d),1)}));for(a.map(function(d){return{g:d._dur||d._delay||d._sat&&!d._sat.vars.immediateRender?d.globalTime(0):-1/0,t:d}}).sort(function(d,f){return f.g-d.g||-1/0}).forEach(function(d){return d.t.revert(r)}),c=o.data.length;c--;)u=o.data[c],u instanceof Xt?u.data!=="nested"&&(u.scrollTrigger&&u.scrollTrigger.revert(),u.kill()):!(u instanceof It)&&u.revert&&u.revert(r);o._r.forEach(function(d){return d(r,o)}),o.isReverted=!0})():this.data.forEach(function(a){return a.kill&&a.kill()}),this.clear(),i)for(var s=mi.length;s--;)mi[s].id===this.id&&mi.splice(s,1)},e.revert=function(r){this.kill(r||{})},t})(),nN=(function(){function t(n){this.contexts=[],this.scope=n,St&&St.data.push(this)}var e=t.prototype;return e.add=function(r,i,o){ar(r)||(r={matches:r});var s=new n1(0,o||this.scope),a=s.conditions={},c,u,d;St&&!s.selector&&(s.selector=St.selector),this.contexts.push(s),i=s.add("onMatch",i),s.queries=r;for(u in r)u==="all"?d=1:(c=lr.matchMedia(r[u]),c&&(mi.indexOf(s)<0&&mi.push(s),(a[u]=c.matches)&&(d=1),c.addListener?c.addListener(Ld):c.addEventListener("change",Ld)));return d&&i(s,function(f){return s.add(null,f)}),this},e.revert=function(r){this.kill(r||{})},e.kill=function(r){this.contexts.forEach(function(i){return i.kill(r,!0)})},t})(),vl={registerPlugin:function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];n.forEach(function(i){return Ob(i)})},timeline:function(e){return new Xt(e)},getTweensOf:function(e,n){return Ct.getTweensOf(e,n)},getProperty:function(e,n,r,i){Gt(e)&&(e=$n(e)[0]);var o=di(e||{}).get,s=r?wb:_b;return r==="native"&&(r=""),e&&(n?s((kn[n]&&kn[n].get||o)(e,n,r,i)):function(a,c,u){return s((kn[a]&&kn[a].get||o)(e,a,c,u))})},quickSetter:function(e,n,r){if(e=$n(e),e.length>1){var i=e.map(function(d){return yn.quickSetter(d,n,r)}),o=i.length;return function(d){for(var f=o;f--;)i[f](d)}}e=e[0]||{};var s=kn[n],a=di(e),c=a.harness&&(a.harness.aliases||{})[n]||n,u=s?function(d){var f=new s;eo._pt=0,f.init(e,r?d+r:d,eo,0,[e]),f.render(1,f),eo._pt&&Dd(1,eo)}:a.set(e,c);return s?u:function(d){return u(e,c,r?d+r:d,a,1)}},quickTo:function(e,n,r){var i,o=yn.to(e,Cn((i={},i[n]="+=0.1",i.paused=!0,i.stagger=0,i),r||{})),s=function(c,u,d){return o.resetTo(n,c,u,d)};return s.tween=o,s},isTweening:function(e){return Ct.getTweensOf(e,!0).length>0},defaults:function(e){return e&&e.ease&&(e.ease=hi(e.ease,Zi.ease)),Sb(Zi,e||{})},config:function(e){return Sb(wn,e||{})},registerEffect:function(e){var n=e.name,r=e.effect,i=e.plugins,o=e.defaults,s=e.extendTimeline;(i||"").split(",").forEach(function(a){return a&&!kn[a]&&!Sn[a]&&gs(n+" effect requires "+a+" plugin.")}),hd[n]=function(a,c,u){return r($n(a),Cn(c||{},o),u)},s&&(Xt.prototype[n]=function(a,c,u){return this.add(hd[n](a,ar(c)?c:(u=c)&&{},this),u)})},registerEase:function(e,n){st[e]=hi(n)},parseEase:function(e,n){return arguments.length?hi(e,n):st},getById:function(e){return Ct.getById(e)},exportRoot:function(e,n){e===void 0&&(e={});var r=new Xt(e),i,o;for(r.smoothChildTiming=pn(e.smoothChildTiming),Ct.remove(r),r._dp=0,r._time=r._tTime=Ct._time,i=Ct._first;i;)o=i._next,(n||!(!i._dur&&i instanceof It&&i.vars.onComplete===i._targets[0]))&&cr(r,i,i._start-i._delay),i=o;return cr(Ct,r,0),r},context:function(e,n){return e?new n1(e,n):St},matchMedia:function(e){return new nN(e)},matchMediaRefresh:function(){return mi.forEach(function(e){var n=e.conditions,r,i;for(i in n)n[i]&&(n[i]=!1,r=1);r&&e.revert()})||Ld()},addEventListener:function(e,n){var r=bl[e]||(bl[e]=[]);~r.indexOf(n)||r.push(n)},removeEventListener:function(e,n){var r=bl[e],i=r&&r.indexOf(n);i>=0&&r.splice(i,1)},utils:{wrap:AC,wrapYoyo:EC,distribute:Lb,random:Ab,snap:Pb,normalize:PC,getUnit:en,clamp:jC,splitColor:Rb,toArray:$n,selector:xd,mapRange:Fb,pipe:IC,unitize:LC,interpolate:FC,shuffle:Ib},install:mb,effects:hd,ticker:Mn,updateRoot:Xt.updateRoot,plugins:kn,globalTimeline:Ct,core:{PropTween:gn,globals:gb,Tween:It,Timeline:Xt,Animation:Cs,getCache:di,_removeLinkedListItem:pl,reverting:function(){return qt},context:function(e){return e&&St&&(St.data.push(e),e._ctx=St),St},suppressOverwrites:function(e){return nd=e}}};mn("to,from,fromTo,delayedCall,set,killTweensOf",function(t){return vl[t]=It[t]}),Mn.add(Xt.updateRoot),eo=vl.to({},{duration:0});var rN=function(e,n){for(var r=e._pt;r&&r.p!==n&&r.op!==n&&r.fp!==n;)r=r._next;return r},iN=function(e,n){var r=e._targets,i,o,s;for(i in n)for(o=r.length;o--;)s=e._ptLookup[o][i],s&&(s=s.d)&&(s._pt&&(s=rN(s,i)),s&&s.modifier&&s.modifier(n[i],e,r[o],i))},Pd=function(e,n){return{name:e,headless:1,rawVars:1,init:function(i,o,s){s._onInit=function(a){var c,u;if(Gt(o)&&(c={},mn(o,function(d){return c[d]=1}),o=c),n){c={};for(u in o)c[u]=n(o[u]);o=c}iN(a,o)}}}},yn=vl.registerPlugin({name:"attr",init:function(e,n,r,i,o){var s,a,c;this.tween=r;for(s in n)c=e.getAttribute(s)||"",a=this.add(e,"setAttribute",(c||0)+"",n[s],i,o,0,0,s),a.op=s,a.b=c,this._props.push(s)},render:function(e,n){for(var r=n._pt;r;)qt?r.set(r.t,r.p,r.b,r):r.r(e,r.d),r=r._next}},{name:"endArray",headless:1,init:function(e,n){for(var r=n.length;r--;)this.add(e,r,e[r]||0,n[r],0,0,0,0,0,1)}},Pd("roundProps",_d),Pd("modifiers"),Pd("snap",Pb))||vl;It.version=Xt.version=yn.version="3.13.0",pb=1,od()&&to();var oN=st.Power0,sN=st.Power1,aN=st.Power2,lN=st.Power3,cN=st.Power4,uN=st.Linear,dN=st.Quad,fN=st.Cubic,hN=st.Quart,pN=st.Quint,mN=st.Strong,gN=st.Elastic,yN=st.Back,bN=st.SteppedEase,vN=st.Bounce,xN=st.Sine,_N=st.Expo,wN=st.Circ;/*!
 * CSSPlugin 3.13.0
 * https://gsap.com
 *
 * Copyright 2008-2025, GreenSock. All rights reserved.
 * Subject to the terms at https://gsap.com/standard-license
 * @author: Jack Doyle, jack@greensock.com
*/var r1,Ur,no,Ad,gi,i1,Ed,SN=function(){return typeof window<"u"},Sr={},yi=180/Math.PI,ro=Math.PI/180,io=Math.atan2,o1=1e8,Fd=/([A-Z])/g,kN=/(left|right|width|margin|padding|x)/i,CN=/[\s,\(]\S/,ur={autoAlpha:"opacity,visibility",scale:"scaleX,scaleY",alpha:"opacity"},$d=function(e,n){return n.set(n.t,n.p,Math.round((n.s+n.c*e)*1e4)/1e4+n.u,n)},NN=function(e,n){return n.set(n.t,n.p,e===1?n.e:Math.round((n.s+n.c*e)*1e4)/1e4+n.u,n)},MN=function(e,n){return n.set(n.t,n.p,e?Math.round((n.s+n.c*e)*1e4)/1e4+n.u:n.b,n)},TN=function(e,n){var r=n.s+n.c*e;n.set(n.t,n.p,~~(r+(r<0?-.5:.5))+n.u,n)},s1=function(e,n){return n.set(n.t,n.p,e?n.e:n.b,n)},a1=function(e,n){return n.set(n.t,n.p,e!==1?n.b:n.e,n)},jN=function(e,n,r){return e.style[n]=r},DN=function(e,n,r){return e.style.setProperty(n,r)},IN=function(e,n,r){return e._gsap[n]=r},LN=function(e,n,r){return e._gsap.scaleX=e._gsap.scaleY=r},PN=function(e,n,r,i,o){var s=e._gsap;s.scaleX=s.scaleY=r,s.renderTransform(o,s)},AN=function(e,n,r,i,o){var s=e._gsap;s[n]=r,s.renderTransform(o,s)},Nt="transform",bn=Nt+"Origin",EN=function t(e,n){var r=this,i=this.target,o=i.style,s=i._gsap;if(e in Sr&&o){if(this.tfm=this.tfm||{},e!=="transform")e=ur[e]||e,~e.indexOf(",")?e.split(",").forEach(function(a){return r.tfm[a]=kr(i,a)}):this.tfm[e]=s.x?s[e]:kr(i,e),e===bn&&(this.tfm.zOrigin=s.zOrigin);else return ur.transform.split(",").forEach(function(a){return t.call(r,a,n)});if(this.props.indexOf(Nt)>=0)return;s.svg&&(this.svgo=i.getAttribute("data-svg-origin"),this.props.push(bn,n,"")),e=Nt}(o||n)&&this.props.push(e,n,o[e])},l1=function(e){e.translate&&(e.removeProperty("translate"),e.removeProperty("scale"),e.removeProperty("rotate"))},FN=function(){var e=this.props,n=this.target,r=n.style,i=n._gsap,o,s;for(o=0;o<e.length;o+=3)e[o+1]?e[o+1]===2?n[e[o]](e[o+2]):n[e[o]]=e[o+2]:e[o+2]?r[e[o]]=e[o+2]:r.removeProperty(e[o].substr(0,2)==="--"?e[o]:e[o].replace(Fd,"-$1").toLowerCase());if(this.tfm){for(s in this.tfm)i[s]=this.tfm[s];i.svg&&(i.renderTransform(),n.setAttribute("data-svg-origin",this.svgo||"")),o=Ed(),(!o||!o.isStart)&&!r[Nt]&&(l1(r),i.zOrigin&&r[bn]&&(r[bn]+=" "+i.zOrigin+"px",i.zOrigin=0,i.renderTransform()),i.uncache=1)}},c1=function(e,n){var r={target:e,props:[],revert:FN,save:EN};return e._gsap||yn.core.getCache(e),n&&e.style&&e.nodeType&&n.split(",").forEach(function(i){return r.save(i)}),r},u1,Bd=function(e,n){var r=Ur.createElementNS?Ur.createElementNS((n||"http://www.w3.org/1999/xhtml").replace(/^https/,"http"),e):Ur.createElement(e);return r&&r.style?r:Ur.createElement(e)},Bn=function t(e,n,r){var i=getComputedStyle(e);return i[n]||i.getPropertyValue(n.replace(Fd,"-$1").toLowerCase())||i.getPropertyValue(n)||!r&&t(e,oo(n)||n,1)||""},d1="O,Moz,ms,Ms,Webkit".split(","),oo=function(e,n,r){var i=n||gi,o=i.style,s=5;if(e in o&&!r)return e;for(e=e.charAt(0).toUpperCase()+e.substr(1);s--&&!(d1[s]+e in o););return s<0?null:(s===3?"ms":s>=0?d1[s]:"")+e},Od=function(){SN()&&window.document&&(r1=window,Ur=r1.document,no=Ur.documentElement,gi=Bd("div")||{style:{}},Bd("div"),Nt=oo(Nt),bn=Nt+"Origin",gi.style.cssText="border-width:0;line-height:0;position:absolute;padding:0",u1=!!oo("perspective"),Ed=yn.core.reverting,Ad=1)},f1=function(e){var n=e.ownerSVGElement,r=Bd("svg",n&&n.getAttribute("xmlns")||"http://www.w3.org/2000/svg"),i=e.cloneNode(!0),o;i.style.display="block",r.appendChild(i),no.appendChild(r);try{o=i.getBBox()}catch{}return r.removeChild(i),no.removeChild(r),o},h1=function(e,n){for(var r=n.length;r--;)if(e.hasAttribute(n[r]))return e.getAttribute(n[r])},p1=function(e){var n,r;try{n=e.getBBox()}catch{n=f1(e),r=1}return n&&(n.width||n.height)||r||(n=f1(e)),n&&!n.width&&!n.x&&!n.y?{x:+h1(e,["x","cx","x1"])||0,y:+h1(e,["y","cy","y1"])||0,width:0,height:0}:n},m1=function(e){return!!(e.getCTM&&(!e.parentNode||e.ownerSVGElement)&&p1(e))},bi=function(e,n){if(n){var r=e.style,i;n in Sr&&n!==bn&&(n=Nt),r.removeProperty?(i=n.substr(0,2),(i==="ms"||n.substr(0,6)==="webkit")&&(n="-"+n),r.removeProperty(i==="--"?n:n.replace(Fd,"-$1").toLowerCase())):r.removeAttribute(n)}},Wr=function(e,n,r,i,o,s){var a=new gn(e._pt,n,r,0,1,s?a1:s1);return e._pt=a,a.b=i,a.e=o,e._props.push(r),a},g1={deg:1,rad:1,turn:1},$N={grid:1,flex:1},Gr=function t(e,n,r,i){var o=parseFloat(r)||0,s=(r+"").trim().substr((o+"").length)||"px",a=gi.style,c=kN.test(n),u=e.tagName.toLowerCase()==="svg",d=(u?"client":"offset")+(c?"Width":"Height"),f=100,p=i==="px",h=i==="%",y,m,g,N;if(i===s||!o||g1[i]||g1[s])return o;if(s!=="px"&&!p&&(o=t(e,n,r,"px")),N=e.getCTM&&m1(e),(h||s==="%")&&(Sr[n]||~n.indexOf("adius")))return y=N?e.getBBox()[c?"width":"height"]:e[d],Dt(h?o/y*f:o/100*y);if(a[c?"width":"height"]=f+(p?s:i),m=i!=="rem"&&~n.indexOf("adius")||i==="em"&&e.appendChild&&!u?e:e.parentNode,N&&(m=(e.ownerSVGElement||{}).parentNode),(!m||m===Ur||!m.appendChild)&&(m=Ur.body),g=m._gsap,g&&h&&g.width&&c&&g.time===Mn.time&&!g.uncache)return Dt(o/g.width*f);if(h&&(n==="height"||n==="width")){var M=e.style[n];e.style[n]=f+i,y=e[d],M?e.style[n]=M:bi(e,n)}else(h||s==="%")&&!$N[Bn(m,"display")]&&(a.position=Bn(e,"position")),m===e&&(a.position="static"),m.appendChild(gi),y=gi[d],m.removeChild(gi),a.position="absolute";return c&&h&&(g=di(m),g.time=Mn.time,g.width=m[d]),Dt(p?y*o/f:y&&o?f/y*o:0)},kr=function(e,n,r,i){var o;return Ad||Od(),n in ur&&n!=="transform"&&(n=ur[n],~n.indexOf(",")&&(n=n.split(",")[0])),Sr[n]&&n!=="transform"?(o=Ts(e,i),o=n!=="transformOrigin"?o[n]:o.svg?o.origin:_l(Bn(e,bn))+" "+o.zOrigin+"px"):(o=e.style[n],(!o||o==="auto"||i||~(o+"").indexOf("calc("))&&(o=xl[n]&&xl[n](e,n,r)||Bn(e,n)||vb(e,n)||(n==="opacity"?1:0))),r&&!~(o+"").trim().indexOf(" ")?Gr(e,n,o,r)+r:o},BN=function(e,n,r,i){if(!r||r==="none"){var o=oo(n,e,1),s=o&&Bn(e,o,1);s&&s!==r?(n=o,r=s):n==="borderColor"&&(r=Bn(e,"borderTopColor"))}var a=new gn(this._pt,e.style,n,0,1,Qb),c=0,u=0,d,f,p,h,y,m,g,N,M,j,_,b;if(a.b=r,a.e=i,r+="",i+="",i.substring(0,6)==="var(--"&&(i=Bn(e,i.substring(4,i.indexOf(")")))),i==="auto"&&(m=e.style[n],e.style[n]=i,i=Bn(e,n)||i,m?e.style[n]=m:bi(e,n)),d=[r,i],Ub(d),r=d[0],i=d[1],p=r.match(qi)||[],b=i.match(qi)||[],b.length){for(;f=qi.exec(i);)g=f[0],M=i.substring(c,f.index),y?y=(y+1)%5:(M.substr(-5)==="rgba("||M.substr(-5)==="hsla(")&&(y=1),g!==(m=p[u++]||"")&&(h=parseFloat(m)||0,_=m.substr((h+"").length),g.charAt(1)==="="&&(g=Xi(h,g)+_),N=parseFloat(g),j=g.substr((N+"").length),c=qi.lastIndex-j.length,j||(j=j||wn.units[n]||_,c===i.length&&(i+=j,a.e+=j)),_!==j&&(h=Gr(e,n,m,j)||0),a._pt={_next:a._pt,p:M||u===1?M:",",s:h,c:N-h,m:y&&y<4||n==="zIndex"?Math.round:0});a.c=c<i.length?i.substring(c,i.length):""}else a.r=n==="display"&&i==="none"?a1:s1;return fb.test(i)&&(a.e=0),this._pt=a,a},y1={top:"0%",bottom:"100%",left:"0%",right:"100%",center:"50%"},ON=function(e){var n=e.split(" "),r=n[0],i=n[1]||"50%";return(r==="top"||r==="bottom"||i==="left"||i==="right")&&(e=r,r=i,i=e),n[0]=y1[r]||r,n[1]=y1[i]||i,n.join(" ")},RN=function(e,n){if(n.tween&&n.tween._time===n.tween._dur){var r=n.t,i=r.style,o=n.u,s=r._gsap,a,c,u;if(o==="all"||o===!0)i.cssText="",c=1;else for(o=o.split(","),u=o.length;--u>-1;)a=o[u],Sr[a]&&(c=1,a=a==="transformOrigin"?bn:Nt),bi(r,a);c&&(bi(r,Nt),s&&(s.svg&&r.removeAttribute("transform"),i.scale=i.rotate=i.translate="none",Ts(r,1),s.uncache=1,l1(i)))}},xl={clearProps:function(e,n,r,i,o){if(o.data!=="isFromStart"){var s=e._pt=new gn(e._pt,n,r,0,0,RN);return s.u=i,s.pr=-10,s.tween=o,e._props.push(r),1}}},Ms=[1,0,0,1,0,0],b1={},v1=function(e){return e==="matrix(1, 0, 0, 1, 0, 0)"||e==="none"||!e},x1=function(e){var n=Bn(e,Nt);return v1(n)?Ms:n.substr(7).match(db).map(Dt)},Rd=function(e,n){var r=e._gsap||di(e),i=e.style,o=x1(e),s,a,c,u;return r.svg&&e.getAttribute("transform")?(c=e.transform.baseVal.consolidate().matrix,o=[c.a,c.b,c.c,c.d,c.e,c.f],o.join(",")==="1,0,0,1,0,0"?Ms:o):(o===Ms&&!e.offsetParent&&e!==no&&!r.svg&&(c=i.display,i.display="block",s=e.parentNode,(!s||!e.offsetParent&&!e.getBoundingClientRect().width)&&(u=1,a=e.nextElementSibling,no.appendChild(e)),o=x1(e),c?i.display=c:bi(e,"display"),u&&(a?s.insertBefore(e,a):s?s.appendChild(e):no.removeChild(e))),n&&o.length>6?[o[0],o[1],o[4],o[5],o[12],o[13]]:o)},zd=function(e,n,r,i,o,s){var a=e._gsap,c=o||Rd(e,!0),u=a.xOrigin||0,d=a.yOrigin||0,f=a.xOffset||0,p=a.yOffset||0,h=c[0],y=c[1],m=c[2],g=c[3],N=c[4],M=c[5],j=n.split(" "),_=parseFloat(j[0])||0,b=parseFloat(j[1])||0,S,C,k,v;r?c!==Ms&&(C=h*g-y*m)&&(k=_*(g/C)+b*(-m/C)+(m*M-g*N)/C,v=_*(-y/C)+b*(h/C)-(h*M-y*N)/C,_=k,b=v):(S=p1(e),_=S.x+(~j[0].indexOf("%")?_/100*S.width:_),b=S.y+(~(j[1]||j[0]).indexOf("%")?b/100*S.height:b)),i||i!==!1&&a.smooth?(N=_-u,M=b-d,a.xOffset=f+(N*h+M*m)-N,a.yOffset=p+(N*y+M*g)-M):a.xOffset=a.yOffset=0,a.xOrigin=_,a.yOrigin=b,a.smooth=!!i,a.origin=n,a.originIsAbsolute=!!r,e.style[bn]="0px 0px",s&&(Wr(s,a,"xOrigin",u,_),Wr(s,a,"yOrigin",d,b),Wr(s,a,"xOffset",f,a.xOffset),Wr(s,a,"yOffset",p,a.yOffset)),e.setAttribute("data-svg-origin",_+" "+b)},Ts=function(e,n){var r=e._gsap||new Vb(e);if("x"in r&&!n&&!r.uncache)return r;var i=e.style,o=r.scaleX<0,s="px",a="deg",c=getComputedStyle(e),u=Bn(e,bn)||"0",d,f,p,h,y,m,g,N,M,j,_,b,S,C,k,v,x,A,I,O,E,L,D,F,K,W,T,Q,G,U,ee,z;return d=f=p=m=g=N=M=j=_=0,h=y=1,r.svg=!!(e.getCTM&&m1(e)),c.translate&&((c.translate!=="none"||c.scale!=="none"||c.rotate!=="none")&&(i[Nt]=(c.translate!=="none"?"translate3d("+(c.translate+" 0 0").split(" ").slice(0,3).join(", ")+") ":"")+(c.rotate!=="none"?"rotate("+c.rotate+") ":"")+(c.scale!=="none"?"scale("+c.scale.split(" ").join(",")+") ":"")+(c[Nt]!=="none"?c[Nt]:"")),i.scale=i.rotate=i.translate="none"),C=Rd(e,r.svg),r.svg&&(r.uncache?(K=e.getBBox(),u=r.xOrigin-K.x+"px "+(r.yOrigin-K.y)+"px",F=""):F=!n&&e.getAttribute("data-svg-origin"),zd(e,F||u,!!F||r.originIsAbsolute,r.smooth!==!1,C)),b=r.xOrigin||0,S=r.yOrigin||0,C!==Ms&&(A=C[0],I=C[1],O=C[2],E=C[3],d=L=C[4],f=D=C[5],C.length===6?(h=Math.sqrt(A*A+I*I),y=Math.sqrt(E*E+O*O),m=A||I?io(I,A)*yi:0,M=O||E?io(O,E)*yi+m:0,M&&(y*=Math.abs(Math.cos(M*ro))),r.svg&&(d-=b-(b*A+S*O),f-=S-(b*I+S*E))):(z=C[6],U=C[7],T=C[8],Q=C[9],G=C[10],ee=C[11],d=C[12],f=C[13],p=C[14],k=io(z,G),g=k*yi,k&&(v=Math.cos(-k),x=Math.sin(-k),F=L*v+T*x,K=D*v+Q*x,W=z*v+G*x,T=L*-x+T*v,Q=D*-x+Q*v,G=z*-x+G*v,ee=U*-x+ee*v,L=F,D=K,z=W),k=io(-O,G),N=k*yi,k&&(v=Math.cos(-k),x=Math.sin(-k),F=A*v-T*x,K=I*v-Q*x,W=O*v-G*x,ee=E*x+ee*v,A=F,I=K,O=W),k=io(I,A),m=k*yi,k&&(v=Math.cos(k),x=Math.sin(k),F=A*v+I*x,K=L*v+D*x,I=I*v-A*x,D=D*v-L*x,A=F,L=K),g&&Math.abs(g)+Math.abs(m)>359.9&&(g=m=0,N=180-N),h=Dt(Math.sqrt(A*A+I*I+O*O)),y=Dt(Math.sqrt(D*D+z*z)),k=io(L,D),M=Math.abs(k)>2e-4?k*yi:0,_=ee?1/(ee<0?-ee:ee):0),r.svg&&(F=e.getAttribute("transform"),r.forceCSS=e.setAttribute("transform","")||!v1(Bn(e,Nt)),F&&e.setAttribute("transform",F))),Math.abs(M)>90&&Math.abs(M)<270&&(o?(h*=-1,M+=m<=0?180:-180,m+=m<=0?180:-180):(y*=-1,M+=M<=0?180:-180)),n=n||r.uncache,r.x=d-((r.xPercent=d&&(!n&&r.xPercent||(Math.round(e.offsetWidth/2)===Math.round(-d)?-50:0)))?e.offsetWidth*r.xPercent/100:0)+s,r.y=f-((r.yPercent=f&&(!n&&r.yPercent||(Math.round(e.offsetHeight/2)===Math.round(-f)?-50:0)))?e.offsetHeight*r.yPercent/100:0)+s,r.z=p+s,r.scaleX=Dt(h),r.scaleY=Dt(y),r.rotation=Dt(m)+a,r.rotationX=Dt(g)+a,r.rotationY=Dt(N)+a,r.skewX=M+a,r.skewY=j+a,r.transformPerspective=_+s,(r.zOrigin=parseFloat(u.split(" ")[2])||!n&&r.zOrigin||0)&&(i[bn]=_l(u)),r.xOffset=r.yOffset=0,r.force3D=wn.force3D,r.renderTransform=r.svg?HN:u1?_1:zN,r.uncache=0,r},_l=function(e){return(e=e.split(" "))[0]+" "+e[1]},Hd=function(e,n,r){var i=en(n);return Dt(parseFloat(n)+parseFloat(Gr(e,"x",r+"px",i)))+i},zN=function(e,n){n.z="0px",n.rotationY=n.rotationX="0deg",n.force3D=0,_1(e,n)},vi="0deg",js="0px",xi=") ",_1=function(e,n){var r=n||this,i=r.xPercent,o=r.yPercent,s=r.x,a=r.y,c=r.z,u=r.rotation,d=r.rotationY,f=r.rotationX,p=r.skewX,h=r.skewY,y=r.scaleX,m=r.scaleY,g=r.transformPerspective,N=r.force3D,M=r.target,j=r.zOrigin,_="",b=N==="auto"&&e&&e!==1||N===!0;if(j&&(f!==vi||d!==vi)){var S=parseFloat(d)*ro,C=Math.sin(S),k=Math.cos(S),v;S=parseFloat(f)*ro,v=Math.cos(S),s=Hd(M,s,C*v*-j),a=Hd(M,a,-Math.sin(S)*-j),c=Hd(M,c,k*v*-j+j)}g!==js&&(_+="perspective("+g+xi),(i||o)&&(_+="translate("+i+"%, "+o+"%) "),(b||s!==js||a!==js||c!==js)&&(_+=c!==js||b?"translate3d("+s+", "+a+", "+c+") ":"translate("+s+", "+a+xi),u!==vi&&(_+="rotate("+u+xi),d!==vi&&(_+="rotateY("+d+xi),f!==vi&&(_+="rotateX("+f+xi),(p!==vi||h!==vi)&&(_+="skew("+p+", "+h+xi),(y!==1||m!==1)&&(_+="scale("+y+", "+m+xi),M.style[Nt]=_||"translate(0, 0)"},HN=function(e,n){var r=n||this,i=r.xPercent,o=r.yPercent,s=r.x,a=r.y,c=r.rotation,u=r.skewX,d=r.skewY,f=r.scaleX,p=r.scaleY,h=r.target,y=r.xOrigin,m=r.yOrigin,g=r.xOffset,N=r.yOffset,M=r.forceCSS,j=parseFloat(s),_=parseFloat(a),b,S,C,k,v;c=parseFloat(c),u=parseFloat(u),d=parseFloat(d),d&&(d=parseFloat(d),u+=d,c+=d),c||u?(c*=ro,u*=ro,b=Math.cos(c)*f,S=Math.sin(c)*f,C=Math.sin(c-u)*-p,k=Math.cos(c-u)*p,u&&(d*=ro,v=Math.tan(u-d),v=Math.sqrt(1+v*v),C*=v,k*=v,d&&(v=Math.tan(d),v=Math.sqrt(1+v*v),b*=v,S*=v)),b=Dt(b),S=Dt(S),C=Dt(C),k=Dt(k)):(b=f,k=p,S=C=0),(j&&!~(s+"").indexOf("px")||_&&!~(a+"").indexOf("px"))&&(j=Gr(h,"x",s,"px"),_=Gr(h,"y",a,"px")),(y||m||g||N)&&(j=Dt(j+y-(y*b+m*C)+g),_=Dt(_+m-(y*S+m*k)+N)),(i||o)&&(v=h.getBBox(),j=Dt(j+i/100*v.width),_=Dt(_+o/100*v.height)),v="matrix("+b+","+S+","+C+","+k+","+j+","+_+")",h.setAttribute("transform",v),M&&(h.style[Nt]=v)},UN=function(e,n,r,i,o){var s=360,a=Gt(o),c=parseFloat(o)*(a&&~o.indexOf("rad")?yi:1),u=c-i,d=i+u+"deg",f,p;return a&&(f=o.split("_")[1],f==="short"&&(u%=s,u!==u%(s/2)&&(u+=u<0?s:-s)),f==="cw"&&u<0?u=(u+s*o1)%s-~~(u/s)*s:f==="ccw"&&u>0&&(u=(u-s*o1)%s-~~(u/s)*s)),e._pt=p=new gn(e._pt,n,r,i,u,NN),p.e=d,p.u="deg",e._props.push(r),p},w1=function(e,n){for(var r in n)e[r]=n[r];return e},WN=function(e,n,r){var i=w1({},r._gsap),o="perspective,force3D,transformOrigin,svgOrigin",s=r.style,a,c,u,d,f,p,h,y;i.svg?(u=r.getAttribute("transform"),r.setAttribute("transform",""),s[Nt]=n,a=Ts(r,1),bi(r,Nt),r.setAttribute("transform",u)):(u=getComputedStyle(r)[Nt],s[Nt]=n,a=Ts(r,1),s[Nt]=u);for(c in Sr)u=i[c],d=a[c],u!==d&&o.indexOf(c)<0&&(h=en(u),y=en(d),f=h!==y?Gr(r,c,u,y):parseFloat(u),p=parseFloat(d),e._pt=new gn(e._pt,a,c,f,p-f,$d),e._pt.u=y||0,e._props.push(c));w1(a,i)};mn("padding,margin,Width,Radius",function(t,e){var n="Top",r="Right",i="Bottom",o="Left",s=(e<3?[n,r,i,o]:[n+o,n+r,i+r,i+o]).map(function(a){return e<2?t+a:"border"+a+t});xl[e>1?"border"+t:t]=function(a,c,u,d,f){var p,h;if(arguments.length<4)return p=s.map(function(y){return kr(a,y,u)}),h=p.join(" "),h.split(p[0]).length===5?p[0]:h;p=(d+"").split(" "),h={},s.forEach(function(y,m){return h[y]=p[m]=p[m]||p[(m-1)/2|0]}),a.init(c,h,f)}});var Ud={name:"css",register:Od,targetTest:function(e){return e.style&&e.nodeType},init:function(e,n,r,i,o){var s=this._props,a=e.style,c=r.vars.startAt,u,d,f,p,h,y,m,g,N,M,j,_,b,S,C,k;Ad||Od(),this.styles=this.styles||c1(e),k=this.styles.props,this.tween=r;for(m in n)if(m!=="autoRound"&&(d=n[m],!(kn[m]&&Zb(m,n,r,i,e,o)))){if(h=typeof d,y=xl[m],h==="function"&&(d=d.call(r,i,e,o),h=typeof d),h==="string"&&~d.indexOf("random(")&&(d=_s(d)),y)y(this,e,m,d,r)&&(C=1);else if(m.substr(0,2)==="--")u=(getComputedStyle(e).getPropertyValue(m)+"").trim(),d+="",zr.lastIndex=0,zr.test(u)||(g=en(u),N=en(d)),N?g!==N&&(u=Gr(e,m,u,N)+N):g&&(d+=g),this.add(a,"setProperty",u,d,i,o,0,0,m),s.push(m),k.push(m,0,a[m]);else if(h!=="undefined"){if(c&&m in c?(u=typeof c[m]=="function"?c[m].call(r,i,e,o):c[m],Gt(u)&&~u.indexOf("random(")&&(u=_s(u)),en(u+"")||u==="auto"||(u+=wn.units[m]||en(kr(e,m))||""),(u+"").charAt(1)==="="&&(u=kr(e,m))):u=kr(e,m),p=parseFloat(u),M=h==="string"&&d.charAt(1)==="="&&d.substr(0,2),M&&(d=d.substr(2)),f=parseFloat(d),m in ur&&(m==="autoAlpha"&&(p===1&&kr(e,"visibility")==="hidden"&&f&&(p=0),k.push("visibility",0,a.visibility),Wr(this,a,"visibility",p?"inherit":"hidden",f?"inherit":"hidden",!f)),m!=="scale"&&m!=="transform"&&(m=ur[m],~m.indexOf(",")&&(m=m.split(",")[0]))),j=m in Sr,j){if(this.styles.save(m),h==="string"&&d.substring(0,6)==="var(--"&&(d=Bn(e,d.substring(4,d.indexOf(")"))),f=parseFloat(d)),_||(b=e._gsap,b.renderTransform&&!n.parseTransform||Ts(e,n.parseTransform),S=n.smoothOrigin!==!1&&b.smooth,_=this._pt=new gn(this._pt,a,Nt,0,1,b.renderTransform,b,0,-1),_.dep=1),m==="scale")this._pt=new gn(this._pt,b,"scaleY",b.scaleY,(M?Xi(b.scaleY,M+f):f)-b.scaleY||0,$d),this._pt.u=0,s.push("scaleY",m),m+="X";else if(m==="transformOrigin"){k.push(bn,0,a[bn]),d=ON(d),b.svg?zd(e,d,0,S,0,this):(N=parseFloat(d.split(" ")[2])||0,N!==b.zOrigin&&Wr(this,b,"zOrigin",b.zOrigin,N),Wr(this,a,m,_l(u),_l(d)));continue}else if(m==="svgOrigin"){zd(e,d,1,S,0,this);continue}else if(m in b1){UN(this,b,m,p,M?Xi(p,M+d):d);continue}else if(m==="smoothOrigin"){Wr(this,b,"smooth",b.smooth,d);continue}else if(m==="force3D"){b[m]=d;continue}else if(m==="transform"){WN(this,d,e);continue}}else m in a||(m=oo(m)||m);if(j||(f||f===0)&&(p||p===0)&&!CN.test(d)&&m in a)g=(u+"").substr((p+"").length),f||(f=0),N=en(d)||(m in wn.units?wn.units[m]:g),g!==N&&(p=Gr(e,m,u,N)),this._pt=new gn(this._pt,j?b:a,m,p,(M?Xi(p,M+f):f)-p,!j&&(N==="px"||m==="zIndex")&&n.autoRound!==!1?TN:$d),this._pt.u=N||0,g!==N&&N!=="%"&&(this._pt.b=u,this._pt.r=MN);else if(m in a)BN.call(this,e,m,u,M?M+d:d);else if(m in e)this.add(e,m,u||e[m],M?M+d:d,i,o);else if(m!=="parseTransform"){ud(m,d);continue}j||(m in a?k.push(m,0,a[m]):typeof e[m]=="function"?k.push(m,2,e[m]()):k.push(m,1,u||e[m])),s.push(m)}}C&&e1(this)},render:function(e,n){if(n.tween._time||!Ed())for(var r=n._pt;r;)r.r(e,r.d),r=r._next;else n.styles.revert()},get:kr,aliases:ur,getSetter:function(e,n,r){var i=ur[n];return i&&i.indexOf(",")<0&&(n=i),n in Sr&&n!==bn&&(e._gsap.x||kr(e,"x"))?r&&i1===r?n==="scale"?LN:IN:(i1=r||{})&&(n==="scale"?PN:AN):e.style&&!id(e.style[n])?jN:~n.indexOf("-")?DN:jd(e,n)},core:{_removeProperty:bi,_getMatrix:Rd}};yn.utils.checkPrefix=oo,yn.core.getStyleSaver=c1,(function(t,e,n,r){var i=mn(t+","+e+","+n,function(o){Sr[o]=1});mn(e,function(o){wn.units[o]="deg",b1[o]=1}),ur[i[13]]=t+","+e,mn(r,function(o){var s=o.split(":");ur[s[1]]=i[s[0]]})})("x,y,z,scale,scaleX,scaleY,xPercent,yPercent","rotation,rotationX,rotationY,skewX,skewY","transform,transformOrigin,svgOrigin,force3D,smoothOrigin,transformPerspective","0:translateX,1:translateY,2:translateZ,8:rotate,8:rotationZ,8:rotateZ,9:rotateX,10:rotateY"),mn("x,y,z,top,right,bottom,left,width,height,fontSize,padding,margin,perspective",function(t){wn.units[t]="px"}),yn.registerPlugin(Ud);var Wd=yn.registerPlugin(Ud)||yn,GN=Wd.core.Tween;const S1=Object.freeze(Object.defineProperty({__proto__:null,Back:yN,Bounce:vN,CSSPlugin:Ud,Circ:wN,Cubic:fN,Elastic:gN,Expo:_N,Linear:uN,Power0:oN,Power1:sN,Power2:aN,Power3:lN,Power4:cN,Quad:dN,Quart:hN,Quint:pN,Sine:xN,SteppedEase:bN,Strong:mN,TimelineLite:Xt,TimelineMax:Xt,TweenLite:It,TweenMax:GN,default:Wd,gsap:Wd},Symbol.toStringTag,{value:"Module"}));function YN(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function VN(t,e,n){return e&&YN(t.prototype,e),t}/*!
 * Observer 3.13.0
 * https://gsap.com
 *
 * @license Copyright 2008-2025, GreenSock. All rights reserved.
 * Subject to the terms at https://gsap.com/standard-license
 * @author: Jack Doyle, jack@greensock.com
*/var Jt,wl,Tn,Yr,Vr,so,k1,_i,Ds,C1,Cr,Wn,N1,M1=function(){return Jt||typeof window<"u"&&(Jt=window.gsap)&&Jt.registerPlugin&&Jt},T1=1,ao=[],rt=[],dr=[],Is=Date.now,Gd=function(e,n){return n},ZN=function(){var e=Ds.core,n=e.bridge||{},r=e._scrollers,i=e._proxies;r.push.apply(r,rt),i.push.apply(i,dr),rt=r,dr=i,Gd=function(s,a){return n[s](a)}},Zr=function(e,n){return~dr.indexOf(e)&&dr[dr.indexOf(e)+1][n]},Ls=function(e){return!!~C1.indexOf(e)},sn=function(e,n,r,i,o){return e.addEventListener(n,r,{passive:i!==!1,capture:!!o})},an=function(e,n,r,i){return e.removeEventListener(n,r,!!i)},Sl="scrollLeft",kl="scrollTop",Yd=function(){return Cr&&Cr.isPressed||rt.cache++},Cl=function(e,n){var r=function i(o){if(o||o===0){T1&&(Tn.history.scrollRestoration="manual");var s=Cr&&Cr.isPressed;o=i.v=Math.round(o)||(Cr&&Cr.iOS?1:0),e(o),i.cacheID=rt.cache,s&&Gd("ss",o)}else(n||rt.cache!==i.cacheID||Gd("ref"))&&(i.cacheID=rt.cache,i.v=e());return i.v+i.offset};return r.offset=0,e&&r},ln={s:Sl,p:"left",p2:"Left",os:"right",os2:"Right",d:"width",d2:"Width",a:"x",sc:Cl(function(t){return arguments.length?Tn.scrollTo(t,Rt.sc()):Tn.pageXOffset||Yr[Sl]||Vr[Sl]||so[Sl]||0})},Rt={s:kl,p:"top",p2:"Top",os:"bottom",os2:"Bottom",d:"height",d2:"Height",a:"y",op:ln,sc:Cl(function(t){return arguments.length?Tn.scrollTo(ln.sc(),t):Tn.pageYOffset||Yr[kl]||Vr[kl]||so[kl]||0})},vn=function(e,n){return(n&&n._ctx&&n._ctx.selector||Jt.utils.toArray)(e)[0]||(typeof e=="string"&&Jt.config().nullTargetWarn!==!1?console.warn("Element not found:",e):null)},qN=function(e,n){for(var r=n.length;r--;)if(n[r]===e||n[r].contains(e))return!0;return!1},qr=function(e,n){var r=n.s,i=n.sc;Ls(e)&&(e=Yr.scrollingElement||Vr);var o=rt.indexOf(e),s=i===Rt.sc?1:2;!~o&&(o=rt.push(e)-1),rt[o+s]||sn(e,"scroll",Yd);var a=rt[o+s],c=a||(rt[o+s]=Cl(Zr(e,r),!0)||(Ls(e)?i:Cl(function(u){return arguments.length?e[r]=u:e[r]})));return c.target=e,a||(c.smooth=Jt.getProperty(e,"scrollBehavior")==="smooth"),c},Vd=function(e,n,r){var i=e,o=e,s=Is(),a=s,c=n||50,u=Math.max(500,c*3),d=function(y,m){var g=Is();m||g-s>c?(o=i,i=y,a=s,s=g):r?i+=y:i=o+(y-o)/(g-a)*(s-a)},f=function(){o=i=r?0:i,a=s=0},p=function(y){var m=a,g=o,N=Is();return(y||y===0)&&y!==i&&d(y),s===a||N-a>u?0:(i+(r?g:-g))/((r?N:s)-m)*1e3};return{update:d,reset:f,getVelocity:p}},Ps=function(e,n){return n&&!e._gsapAllow&&e.preventDefault(),e.changedTouches?e.changedTouches[0]:e},j1=function(e){var n=Math.max.apply(Math,e),r=Math.min.apply(Math,e);return Math.abs(n)>=Math.abs(r)?n:r},D1=function(){Ds=Jt.core.globals().ScrollTrigger,Ds&&Ds.core&&ZN()},I1=function(e){return Jt=e||M1(),!wl&&Jt&&typeof document<"u"&&document.body&&(Tn=window,Yr=document,Vr=Yr.documentElement,so=Yr.body,C1=[Tn,Yr,Vr,so],Jt.utils.clamp,N1=Jt.core.context||function(){},_i="onpointerenter"in so?"pointer":"mouse",k1=Lt.isTouch=Tn.matchMedia&&Tn.matchMedia("(hover: none), (pointer: coarse)").matches?1:"ontouchstart"in Tn||navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0?2:0,Wn=Lt.eventTypes=("ontouchstart"in Vr?"touchstart,touchmove,touchcancel,touchend":"onpointerdown"in Vr?"pointerdown,pointermove,pointercancel,pointerup":"mousedown,mousemove,mouseup,mouseup").split(","),setTimeout(function(){return T1=0},500),D1(),wl=1),wl};ln.op=Rt,rt.cache=0;var Lt=(function(){function t(n){this.init(n)}var e=t.prototype;return e.init=function(r){wl||I1(Jt)||console.warn("Please gsap.registerPlugin(Observer)"),Ds||D1();var i=r.tolerance,o=r.dragMinimum,s=r.type,a=r.target,c=r.lineHeight,u=r.debounce,d=r.preventDefault,f=r.onStop,p=r.onStopDelay,h=r.ignore,y=r.wheelSpeed,m=r.event,g=r.onDragStart,N=r.onDragEnd,M=r.onDrag,j=r.onPress,_=r.onRelease,b=r.onRight,S=r.onLeft,C=r.onUp,k=r.onDown,v=r.onChangeX,x=r.onChangeY,A=r.onChange,I=r.onToggleX,O=r.onToggleY,E=r.onHover,L=r.onHoverEnd,D=r.onMove,F=r.ignoreCheck,K=r.isNormalizer,W=r.onGestureStart,T=r.onGestureEnd,Q=r.onWheel,G=r.onEnable,U=r.onDisable,ee=r.onClick,z=r.scrollSpeed,oe=r.capture,J=r.allowClicks,re=r.lockAxis,te=r.onLockAxis;this.target=a=vn(a)||Vr,this.vars=r,h&&(h=Jt.utils.toArray(h)),i=i||1e-9,o=o||0,y=y||1,z=z||1,s=s||"wheel,touch,pointer",u=u!==!1,c||(c=parseFloat(Tn.getComputedStyle(so).lineHeight)||22);var ae,fe,q,ce,ue,ge,he,V=this,Ee=0,Pe=0,Te=r.passive||!d&&r.passive!==!1,Z=qr(a,ln),P=qr(a,Rt),R=Z(),X=P(),B=~s.indexOf("touch")&&!~s.indexOf("pointer")&&Wn[0]==="pointerdown",H=Ls(a),Y=a.ownerDocument||Yr,ne=[0,0,0],se=[0,0,0],le=0,be=function(){return le=Is()},me=function(ye,we){return(V.event=ye)&&h&&qN(ye.target,h)||we&&B&&ye.pointerType!=="touch"||F&&F(ye,we)},xe=function(){V._vx.reset(),V._vy.reset(),fe.pause(),f&&f(V)},ke=function(){var ye=V.deltaX=j1(ne),we=V.deltaY=j1(se),de=Math.abs(ye)>=i,Se=Math.abs(we)>=i;A&&(de||Se)&&A(V,ye,we,ne,se),de&&(b&&V.deltaX>0&&b(V),S&&V.deltaX<0&&S(V),v&&v(V),I&&V.deltaX<0!=Ee<0&&I(V),Ee=V.deltaX,ne[0]=ne[1]=ne[2]=0),Se&&(k&&V.deltaY>0&&k(V),C&&V.deltaY<0&&C(V),x&&x(V),O&&V.deltaY<0!=Pe<0&&O(V),Pe=V.deltaY,se[0]=se[1]=se[2]=0),(ce||q)&&(D&&D(V),q&&(g&&q===1&&g(V),M&&M(V),q=0),ce=!1),ge&&!(ge=!1)&&te&&te(V),ue&&(Q(V),ue=!1),ae=0},Ne=function(ye,we,de){ne[de]+=ye,se[de]+=we,V._vx.update(ye),V._vy.update(we),u?ae||(ae=requestAnimationFrame(ke)):ke()},et=function(ye,we){re&&!he&&(V.axis=he=Math.abs(ye)>Math.abs(we)?"x":"y",ge=!0),he!=="y"&&(ne[2]+=ye,V._vx.update(ye,!0)),he!=="x"&&(se[2]+=we,V._vy.update(we,!0)),u?ae||(ae=requestAnimationFrame(ke)):ke()},Ue=function(ye){if(!me(ye,1)){ye=Ps(ye,d);var we=ye.clientX,de=ye.clientY,Se=we-V.x,De=de-V.y,ze=V.isDragging;V.x=we,V.y=de,(ze||(Se||De)&&(Math.abs(V.startX-we)>=o||Math.abs(V.startY-de)>=o))&&(q=ze?2:1,ze||(V.isDragging=!0),et(Se,De))}},dt=V.onPress=function(Le){me(Le,1)||Le&&Le.button||(V.axis=he=null,fe.pause(),V.isPressed=!0,Le=Ps(Le),Ee=Pe=0,V.startX=V.x=Le.clientX,V.startY=V.y=Le.clientY,V._vx.reset(),V._vy.reset(),sn(K?a:Y,Wn[1],Ue,Te,!0),V.deltaX=V.deltaY=0,j&&j(V))},Oe=V.onRelease=function(Le){if(!me(Le,1)){an(K?a:Y,Wn[1],Ue,!0);var ye=!isNaN(V.y-V.startY),we=V.isDragging,de=we&&(Math.abs(V.x-V.startX)>3||Math.abs(V.y-V.startY)>3),Se=Ps(Le);!de&&ye&&(V._vx.reset(),V._vy.reset(),d&&J&&Jt.delayedCall(.08,function(){if(Is()-le>300&&!Le.defaultPrevented){if(Le.target.click)Le.target.click();else if(Y.createEvent){var De=Y.createEvent("MouseEvents");De.initMouseEvent("click",!0,!0,Tn,1,Se.screenX,Se.screenY,Se.clientX,Se.clientY,!1,!1,!1,!1,0,null),Le.target.dispatchEvent(De)}}})),V.isDragging=V.isGesturing=V.isPressed=!1,f&&we&&!K&&fe.restart(!0),q&&ke(),N&&we&&N(V),_&&_(V,de)}},pe=function(ye){return ye.touches&&ye.touches.length>1&&(V.isGesturing=!0)&&W(ye,V.isDragging)},je=function(){return(V.isGesturing=!1)||T(V)},_e=function(ye){if(!me(ye)){var we=Z(),de=P();Ne((we-R)*z,(de-X)*z,1),R=we,X=de,f&&fe.restart(!0)}},Ce=function(ye){if(!me(ye)){ye=Ps(ye,d),Q&&(ue=!0);var we=(ye.deltaMode===1?c:ye.deltaMode===2?Tn.innerHeight:1)*y;Ne(ye.deltaX*we,ye.deltaY*we,0),f&&!K&&fe.restart(!0)}},Xe=function(ye){if(!me(ye)){var we=ye.clientX,de=ye.clientY,Se=we-V.x,De=de-V.y;V.x=we,V.y=de,ce=!0,f&&fe.restart(!0),(Se||De)&&et(Se,De)}},Re=function(ye){V.event=ye,E(V)},Ve=function(ye){V.event=ye,L(V)},Ke=function(ye){return me(ye)||Ps(ye,d)&&ee(V)};fe=V._dc=Jt.delayedCall(p||.25,xe).pause(),V.deltaX=V.deltaY=0,V._vx=Vd(0,50,!0),V._vy=Vd(0,50,!0),V.scrollX=Z,V.scrollY=P,V.isDragging=V.isGesturing=V.isPressed=!1,N1(this),V.enable=function(Le){return V.isEnabled||(sn(H?Y:a,"scroll",Yd),s.indexOf("scroll")>=0&&sn(H?Y:a,"scroll",_e,Te,oe),s.indexOf("wheel")>=0&&sn(a,"wheel",Ce,Te,oe),(s.indexOf("touch")>=0&&k1||s.indexOf("pointer")>=0)&&(sn(a,Wn[0],dt,Te,oe),sn(Y,Wn[2],Oe),sn(Y,Wn[3],Oe),J&&sn(a,"click",be,!0,!0),ee&&sn(a,"click",Ke),W&&sn(Y,"gesturestart",pe),T&&sn(Y,"gestureend",je),E&&sn(a,_i+"enter",Re),L&&sn(a,_i+"leave",Ve),D&&sn(a,_i+"move",Xe)),V.isEnabled=!0,V.isDragging=V.isGesturing=V.isPressed=ce=q=!1,V._vx.reset(),V._vy.reset(),R=Z(),X=P(),Le&&Le.type&&dt(Le),G&&G(V)),V},V.disable=function(){V.isEnabled&&(ao.filter(function(Le){return Le!==V&&Ls(Le.target)}).length||an(H?Y:a,"scroll",Yd),V.isPressed&&(V._vx.reset(),V._vy.reset(),an(K?a:Y,Wn[1],Ue,!0)),an(H?Y:a,"scroll",_e,oe),an(a,"wheel",Ce,oe),an(a,Wn[0],dt,oe),an(Y,Wn[2],Oe),an(Y,Wn[3],Oe),an(a,"click",be,!0),an(a,"click",Ke),an(Y,"gesturestart",pe),an(Y,"gestureend",je),an(a,_i+"enter",Re),an(a,_i+"leave",Ve),an(a,_i+"move",Xe),V.isEnabled=V.isPressed=V.isDragging=!1,U&&U(V))},V.kill=V.revert=function(){V.disable();var Le=ao.indexOf(V);Le>=0&&ao.splice(Le,1),Cr===V&&(Cr=0)},ao.push(V),K&&Ls(a)&&(Cr=V),V.enable(m)},VN(t,[{key:"velocityX",get:function(){return this._vx.getVelocity()}},{key:"velocityY",get:function(){return this._vy.getVelocity()}}]),t})();Lt.version="3.13.0",Lt.create=function(t){return new Lt(t)},Lt.register=I1,Lt.getAll=function(){return ao.slice()},Lt.getById=function(t){return ao.filter(function(e){return e.vars.id===t})[0]},M1()&&Jt.registerPlugin(Lt);/*!
 * ScrollTrigger 3.13.0
 * https://gsap.com
 *
 * @license Copyright 2008-2025, GreenSock. All rights reserved.
 * Subject to the terms at https://gsap.com/standard-license
 * @author: Jack Doyle, jack@greensock.com
*/var Fe,lo,it,_t,jn,ft,Zd,Nl,As,Es,Fs,Ml,tn,Tl,qd,cn,L1,P1,co,A1,Xd,E1,un,Jd,F1,$1,Xr,Kd,Qd,uo,ef,jl,tf,nf,Dl=1,nn=Date.now,rf=nn(),On=0,$s=0,B1=function(e,n,r){var i=Dn(e)&&(e.substr(0,6)==="clamp("||e.indexOf("max")>-1);return r["_"+n+"Clamp"]=i,i?e.substr(6,e.length-7):e},O1=function(e,n){return n&&(!Dn(e)||e.substr(0,6)!=="clamp(")?"clamp("+e+")":e},XN=function t(){return $s&&requestAnimationFrame(t)},R1=function(){return Tl=1},z1=function(){return Tl=0},fr=function(e){return e},Bs=function(e){return Math.round(e*1e5)/1e5||0},H1=function(){return typeof window<"u"},U1=function(){return Fe||H1()&&(Fe=window.gsap)&&Fe.registerPlugin&&Fe},wi=function(e){return!!~Zd.indexOf(e)},W1=function(e){return(e==="Height"?ef:it["inner"+e])||jn["client"+e]||ft["client"+e]},G1=function(e){return Zr(e,"getBoundingClientRect")||(wi(e)?function(){return Ul.width=it.innerWidth,Ul.height=ef,Ul}:function(){return Nr(e)})},JN=function(e,n,r){var i=r.d,o=r.d2,s=r.a;return(s=Zr(e,"getBoundingClientRect"))?function(){return s()[i]}:function(){return(n?W1(o):e["client"+o])||0}},KN=function(e,n){return!n||~dr.indexOf(e)?G1(e):function(){return Ul}},hr=function(e,n){var r=n.s,i=n.d2,o=n.d,s=n.a;return Math.max(0,(r="scroll"+i)&&(s=Zr(e,r))?s()-G1(e)()[o]:wi(e)?(jn[r]||ft[r])-W1(i):e[r]-e["offset"+i])},Il=function(e,n){for(var r=0;r<co.length;r+=3)(!n||~n.indexOf(co[r+1]))&&e(co[r],co[r+1],co[r+2])},Dn=function(e){return typeof e=="string"},rn=function(e){return typeof e=="function"},Os=function(e){return typeof e=="number"},Si=function(e){return typeof e=="object"},Rs=function(e,n,r){return e&&e.progress(n?0:1)&&r&&e.pause()},of=function(e,n){if(e.enabled){var r=e._ctx?e._ctx.add(function(){return n(e)}):n(e);r&&r.totalTime&&(e.callbackAnimation=r)}},fo=Math.abs,Y1="left",V1="top",sf="right",af="bottom",ki="width",Ci="height",zs="Right",Hs="Left",Us="Top",Ws="Bottom",Ft="padding",Rn="margin",ho="Width",lf="Height",zt="px",zn=function(e){return it.getComputedStyle(e)},QN=function(e){var n=zn(e).position;e.style.position=n==="absolute"||n==="fixed"?n:"relative"},Z1=function(e,n){for(var r in n)r in e||(e[r]=n[r]);return e},Nr=function(e,n){var r=n&&zn(e)[qd]!=="matrix(1, 0, 0, 1, 0, 0)"&&Fe.to(e,{x:0,y:0,xPercent:0,yPercent:0,rotation:0,rotationX:0,rotationY:0,scale:1,skewX:0,skewY:0}).progress(1),i=e.getBoundingClientRect();return r&&r.progress(0).kill(),i},Ll=function(e,n){var r=n.d2;return e["offset"+r]||e["client"+r]||0},q1=function(e){var n=[],r=e.labels,i=e.duration(),o;for(o in r)n.push(r[o]/i);return n},eM=function(e){return function(n){return Fe.utils.snap(q1(e),n)}},cf=function(e){var n=Fe.utils.snap(e),r=Array.isArray(e)&&e.slice(0).sort(function(i,o){return i-o});return r?function(i,o,s){s===void 0&&(s=.001);var a;if(!o)return n(i);if(o>0){for(i-=s,a=0;a<r.length;a++)if(r[a]>=i)return r[a];return r[a-1]}else for(a=r.length,i+=s;a--;)if(r[a]<=i)return r[a];return r[0]}:function(i,o,s){s===void 0&&(s=.001);var a=n(i);return!o||Math.abs(a-i)<s||a-i<0==o<0?a:n(o<0?i-e:i+e)}},tM=function(e){return function(n,r){return cf(q1(e))(n,r.direction)}},Pl=function(e,n,r,i){return r.split(",").forEach(function(o){return e(n,o,i)})},Yt=function(e,n,r,i,o){return e.addEventListener(n,r,{passive:!i,capture:!!o})},Vt=function(e,n,r,i){return e.removeEventListener(n,r,!!i)},Al=function(e,n,r){r=r&&r.wheelHandler,r&&(e(n,"wheel",r),e(n,"touchmove",r))},X1={startColor:"green",endColor:"red",indent:0,fontSize:"16px",fontWeight:"normal"},El={toggleActions:"play",anticipatePin:0},Fl={top:0,left:0,center:.5,bottom:1,right:1},$l=function(e,n){if(Dn(e)){var r=e.indexOf("="),i=~r?+(e.charAt(r-1)+1)*parseFloat(e.substr(r+1)):0;~r&&(e.indexOf("%")>r&&(i*=n/100),e=e.substr(0,r-1)),e=i+(e in Fl?Fl[e]*n:~e.indexOf("%")?parseFloat(e)*n/100:parseFloat(e)||0)}return e},Bl=function(e,n,r,i,o,s,a,c){var u=o.startColor,d=o.endColor,f=o.fontSize,p=o.indent,h=o.fontWeight,y=_t.createElement("div"),m=wi(r)||Zr(r,"pinType")==="fixed",g=e.indexOf("scroller")!==-1,N=m?ft:r,M=e.indexOf("start")!==-1,j=M?u:d,_="border-color:"+j+";font-size:"+f+";color:"+j+";font-weight:"+h+";pointer-events:none;white-space:nowrap;font-family:sans-serif,Arial;z-index:1000;padding:4px 8px;border-width:0;border-style:solid;";return _+="position:"+((g||c)&&m?"fixed;":"absolute;"),(g||c||!m)&&(_+=(i===Rt?sf:af)+":"+(s+parseFloat(p))+"px;"),a&&(_+="box-sizing:border-box;text-align:left;width:"+a.offsetWidth+"px;"),y._isStart=M,y.setAttribute("class","gsap-marker-"+e+(n?" marker-"+n:"")),y.style.cssText=_,y.innerText=n||n===0?e+"-"+n:e,N.children[0]?N.insertBefore(y,N.children[0]):N.appendChild(y),y._offset=y["offset"+i.op.d2],Ol(y,0,i,M),y},Ol=function(e,n,r,i){var o={display:"block"},s=r[i?"os2":"p2"],a=r[i?"p2":"os2"];e._isFlipped=i,o[r.a+"Percent"]=i?-100:0,o[r.a]=i?"1px":0,o["border"+s+ho]=1,o["border"+a+ho]=0,o[r.p]=n+"px",Fe.set(e,o)},nt=[],uf={},Gs,J1=function(){return nn()-On>34&&(Gs||(Gs=requestAnimationFrame(Mr)))},po=function(){(!un||!un.isPressed||un.startX>ft.clientWidth)&&(rt.cache++,un?Gs||(Gs=requestAnimationFrame(Mr)):Mr(),On||Mi("scrollStart"),On=nn())},df=function(){$1=it.innerWidth,F1=it.innerHeight},Ys=function(e){rt.cache++,(e===!0||!tn&&!E1&&!_t.fullscreenElement&&!_t.webkitFullscreenElement&&(!Jd||$1!==it.innerWidth||Math.abs(it.innerHeight-F1)>it.innerHeight*.25))&&Nl.restart(!0)},Ni={},nM=[],K1=function t(){return Vt(ot,"scrollEnd",t)||ji(!0)},Mi=function(e){return Ni[e]&&Ni[e].map(function(n){return n()})||nM},In=[],Q1=function(e){for(var n=0;n<In.length;n+=5)(!e||In[n+4]&&In[n+4].query===e)&&(In[n].style.cssText=In[n+1],In[n].getBBox&&In[n].setAttribute("transform",In[n+2]||""),In[n+3].uncache=1)},ff=function(e,n){var r;for(cn=0;cn<nt.length;cn++)r=nt[cn],r&&(!n||r._ctx===n)&&(e?r.kill(1):r.revert(!0,!0));jl=!0,n&&Q1(n),n||Mi("revert")},ev=function(e,n){rt.cache++,(n||!dn)&&rt.forEach(function(r){return rn(r)&&r.cacheID++&&(r.rec=0)}),Dn(e)&&(it.history.scrollRestoration=Qd=e)},dn,Ti=0,tv,rM=function(){if(tv!==Ti){var e=tv=Ti;requestAnimationFrame(function(){return e===Ti&&ji(!0)})}},nv=function(){ft.appendChild(uo),ef=!un&&uo.offsetHeight||it.innerHeight,ft.removeChild(uo)},rv=function(e){return As(".gsap-marker-start, .gsap-marker-end, .gsap-marker-scroller-start, .gsap-marker-scroller-end").forEach(function(n){return n.style.display=e?"none":"block"})},ji=function(e,n){if(jn=_t.documentElement,ft=_t.body,Zd=[it,_t,jn,ft],On&&!e&&!jl){Yt(ot,"scrollEnd",K1);return}nv(),dn=ot.isRefreshing=!0,rt.forEach(function(i){return rn(i)&&++i.cacheID&&(i.rec=i())});var r=Mi("refreshInit");A1&&ot.sort(),n||ff(),rt.forEach(function(i){rn(i)&&(i.smooth&&(i.target.style.scrollBehavior="auto"),i(0))}),nt.slice(0).forEach(function(i){return i.refresh()}),jl=!1,nt.forEach(function(i){if(i._subPinOffset&&i.pin){var o=i.vars.horizontal?"offsetWidth":"offsetHeight",s=i.pin[o];i.revert(!0,1),i.adjustPinSpacing(i.pin[o]-s),i.refresh()}}),tf=1,rv(!0),nt.forEach(function(i){var o=hr(i.scroller,i._dir),s=i.vars.end==="max"||i._endClamp&&i.end>o,a=i._startClamp&&i.start>=o;(s||a)&&i.setPositions(a?o-1:i.start,s?Math.max(a?o:i.start+1,o):i.end,!0)}),rv(!1),tf=0,r.forEach(function(i){return i&&i.render&&i.render(-1)}),rt.forEach(function(i){rn(i)&&(i.smooth&&requestAnimationFrame(function(){return i.target.style.scrollBehavior="smooth"}),i.rec&&i(i.rec))}),ev(Qd,1),Nl.pause(),Ti++,dn=2,Mr(2),nt.forEach(function(i){return rn(i.vars.onRefresh)&&i.vars.onRefresh(i)}),dn=ot.isRefreshing=!1,Mi("refresh")},hf=0,Rl=1,Vs,Mr=function(e){if(e===2||!dn&&!jl){ot.isUpdating=!0,Vs&&Vs.update(0);var n=nt.length,r=nn(),i=r-rf>=50,o=n&&nt[0].scroll();if(Rl=hf>o?-1:1,dn||(hf=o),i&&(On&&!Tl&&r-On>200&&(On=0,Mi("scrollEnd")),Fs=rf,rf=r),Rl<0){for(cn=n;cn-- >0;)nt[cn]&&nt[cn].update(0,i);Rl=1}else for(cn=0;cn<n;cn++)nt[cn]&&nt[cn].update(0,i);ot.isUpdating=!1}Gs=0},pf=[Y1,V1,af,sf,Rn+Ws,Rn+zs,Rn+Us,Rn+Hs,"display","flexShrink","float","zIndex","gridColumnStart","gridColumnEnd","gridRowStart","gridRowEnd","gridArea","justifySelf","alignSelf","placeSelf","order"],zl=pf.concat([ki,Ci,"boxSizing","max"+ho,"max"+lf,"position",Rn,Ft,Ft+Us,Ft+zs,Ft+Ws,Ft+Hs]),iM=function(e,n,r){mo(r);var i=e._gsap;if(i.spacerIsNative)mo(i.spacerState);else if(e._gsap.swappedIn){var o=n.parentNode;o&&(o.insertBefore(e,n),o.removeChild(n))}e._gsap.swappedIn=!1},mf=function(e,n,r,i){if(!e._gsap.swappedIn){for(var o=pf.length,s=n.style,a=e.style,c;o--;)c=pf[o],s[c]=r[c];s.position=r.position==="absolute"?"absolute":"relative",r.display==="inline"&&(s.display="inline-block"),a[af]=a[sf]="auto",s.flexBasis=r.flexBasis||"auto",s.overflow="visible",s.boxSizing="border-box",s[ki]=Ll(e,ln)+zt,s[Ci]=Ll(e,Rt)+zt,s[Ft]=a[Rn]=a[V1]=a[Y1]="0",mo(i),a[ki]=a["max"+ho]=r[ki],a[Ci]=a["max"+lf]=r[Ci],a[Ft]=r[Ft],e.parentNode!==n&&(e.parentNode.insertBefore(n,e),n.appendChild(e)),e._gsap.swappedIn=!0}},oM=/([A-Z])/g,mo=function(e){if(e){var n=e.t.style,r=e.length,i=0,o,s;for((e.t._gsap||Fe.core.getCache(e.t)).uncache=1;i<r;i+=2)s=e[i+1],o=e[i],s?n[o]=s:n[o]&&n.removeProperty(o.replace(oM,"-$1").toLowerCase())}},Hl=function(e){for(var n=zl.length,r=e.style,i=[],o=0;o<n;o++)i.push(zl[o],r[zl[o]]);return i.t=e,i},sM=function(e,n,r){for(var i=[],o=e.length,s=r?8:0,a;s<o;s+=2)a=e[s],i.push(a,a in n?n[a]:e[s+1]);return i.t=e.t,i},Ul={left:0,top:0},iv=function(e,n,r,i,o,s,a,c,u,d,f,p,h,y){rn(e)&&(e=e(c)),Dn(e)&&e.substr(0,3)==="max"&&(e=p+(e.charAt(4)==="="?$l("0"+e.substr(3),r):0));var m=h?h.time():0,g,N,M;if(h&&h.seek(0),isNaN(e)||(e=+e),Os(e))h&&(e=Fe.utils.mapRange(h.scrollTrigger.start,h.scrollTrigger.end,0,p,e)),a&&Ol(a,r,i,!0);else{rn(n)&&(n=n(c));var j=(e||"0").split(" "),_,b,S,C;M=vn(n,c)||ft,_=Nr(M)||{},(!_||!_.left&&!_.top)&&zn(M).display==="none"&&(C=M.style.display,M.style.display="block",_=Nr(M),C?M.style.display=C:M.style.removeProperty("display")),b=$l(j[0],_[i.d]),S=$l(j[1]||"0",r),e=_[i.p]-u[i.p]-d+b+o-S,a&&Ol(a,S,i,r-S<20||a._isStart&&S>20),r-=r-S}if(y&&(c[y]=e||-.001,e<0&&(e=0)),s){var k=e+r,v=s._isStart;g="scroll"+i.d2,Ol(s,k,i,v&&k>20||!v&&(f?Math.max(ft[g],jn[g]):s.parentNode[g])<=k+1),f&&(u=Nr(a),f&&(s.style[i.op.p]=u[i.op.p]-i.op.m-s._offset+zt))}return h&&M&&(g=Nr(M),h.seek(p),N=Nr(M),h._caScrollDist=g[i.p]-N[i.p],e=e/h._caScrollDist*p),h&&h.seek(m),h?e:Math.round(e)},aM=/(webkit|moz|length|cssText|inset)/i,ov=function(e,n,r,i){if(e.parentNode!==n){var o=e.style,s,a;if(n===ft){e._stOrig=o.cssText,a=zn(e);for(s in a)!+s&&!aM.test(s)&&a[s]&&typeof o[s]=="string"&&s!=="0"&&(o[s]=a[s]);o.top=r,o.left=i}else o.cssText=e._stOrig;Fe.core.getCache(e).uncache=1,n.appendChild(e)}},sv=function(e,n,r){var i=n,o=i;return function(s){var a=Math.round(e());return a!==i&&a!==o&&Math.abs(a-i)>3&&Math.abs(a-o)>3&&(s=a,r&&r()),o=i,i=Math.round(s),i}},Wl=function(e,n,r){var i={};i[n.p]="+="+r,Fe.set(e,i)},av=function(e,n){var r=qr(e,n),i="_scroll"+n.p2,o=function s(a,c,u,d,f){var p=s.tween,h=c.onComplete,y={};u=u||r();var m=sv(r,u,function(){p.kill(),s.tween=0});return f=d&&f||0,d=d||a-u,p&&p.kill(),c[i]=a,c.inherit=!1,c.modifiers=y,y[i]=function(){return m(u+d*p.ratio+f*p.ratio*p.ratio)},c.onUpdate=function(){rt.cache++,s.tween&&Mr()},c.onComplete=function(){s.tween=0,h&&h.call(p)},p=s.tween=Fe.to(e,c),p};return e[i]=r,r.wheelHandler=function(){return o.tween&&o.tween.kill()&&(o.tween=0)},Yt(e,"wheel",r.wheelHandler),ot.isTouch&&Yt(e,"touchmove",r.wheelHandler),o},ot=(function(){function t(n,r){lo||t.register(Fe)||console.warn("Please gsap.registerPlugin(ScrollTrigger)"),Kd(this),this.init(n,r)}var e=t.prototype;return e.init=function(r,i){if(this.progress=this.start=0,this.vars&&this.kill(!0,!0),!$s){this.update=this.refresh=this.kill=fr;return}r=Z1(Dn(r)||Os(r)||r.nodeType?{trigger:r}:r,El);var o=r,s=o.onUpdate,a=o.toggleClass,c=o.id,u=o.onToggle,d=o.onRefresh,f=o.scrub,p=o.trigger,h=o.pin,y=o.pinSpacing,m=o.invalidateOnRefresh,g=o.anticipatePin,N=o.onScrubComplete,M=o.onSnapComplete,j=o.once,_=o.snap,b=o.pinReparent,S=o.pinSpacer,C=o.containerAnimation,k=o.fastScrollEnd,v=o.preventOverlaps,x=r.horizontal||r.containerAnimation&&r.horizontal!==!1?ln:Rt,A=!f&&f!==0,I=vn(r.scroller||it),O=Fe.core.getCache(I),E=wi(I),L=("pinType"in r?r.pinType:Zr(I,"pinType")||E&&"fixed")==="fixed",D=[r.onEnter,r.onLeave,r.onEnterBack,r.onLeaveBack],F=A&&r.toggleActions.split(" "),K="markers"in r?r.markers:El.markers,W=E?0:parseFloat(zn(I)["border"+x.p2+ho])||0,T=this,Q=r.onRefreshInit&&function(){return r.onRefreshInit(T)},G=JN(I,E,x),U=KN(I,E),ee=0,z=0,oe=0,J=qr(I,x),re,te,ae,fe,q,ce,ue,ge,he,V,Ee,Pe,Te,Z,P,R,X,B,H,Y,ne,se,le,be,me,xe,ke,Ne,et,Ue,dt,Oe,pe,je,_e,Ce,Xe,Re,Ve;if(T._startClamp=T._endClamp=!1,T._dir=x,g*=45,T.scroller=I,T.scroll=C?C.time.bind(C):J,fe=J(),T.vars=r,i=i||r.animation,"refreshPriority"in r&&(A1=1,r.refreshPriority===-9999&&(Vs=T)),O.tweenScroll=O.tweenScroll||{top:av(I,Rt),left:av(I,ln)},T.tweenTo=re=O.tweenScroll[x.p],T.scrubDuration=function(de){pe=Os(de)&&de,pe?Oe?Oe.duration(de):Oe=Fe.to(i,{ease:"expo",totalProgress:"+=0",inherit:!1,duration:pe,paused:!0,onComplete:function(){return N&&N(T)}}):(Oe&&Oe.progress(1).kill(),Oe=0)},i&&(i.vars.lazy=!1,i._initted&&!T.isReverted||i.vars.immediateRender!==!1&&r.immediateRender!==!1&&i.duration()&&i.render(0,!0,!0),T.animation=i.pause(),i.scrollTrigger=T,T.scrubDuration(f),Ue=0,c||(c=i.vars.id)),_&&((!Si(_)||_.push)&&(_={snapTo:_}),"scrollBehavior"in ft.style&&Fe.set(E?[ft,jn]:I,{scrollBehavior:"auto"}),rt.forEach(function(de){return rn(de)&&de.target===(E?_t.scrollingElement||jn:I)&&(de.smooth=!1)}),ae=rn(_.snapTo)?_.snapTo:_.snapTo==="labels"?eM(i):_.snapTo==="labelsDirectional"?tM(i):_.directional!==!1?function(de,Se){return cf(_.snapTo)(de,nn()-z<500?0:Se.direction)}:Fe.utils.snap(_.snapTo),je=_.duration||{min:.1,max:2},je=Si(je)?Es(je.min,je.max):Es(je,je),_e=Fe.delayedCall(_.delay||pe/2||.1,function(){var de=J(),Se=nn()-z<500,De=re.tween;if((Se||Math.abs(T.getVelocity())<10)&&!De&&!Tl&&ee!==de){var ze=(de-ce)/Z,Me=i&&!A?i.totalProgress():ze,qe=Se?0:(Me-dt)/(nn()-Fs)*1e3||0,at=Fe.utils.clamp(-ze,1-ze,fo(qe/2)*qe/.185),Mt=ze+(_.inertia===!1?0:at),lt,mt,ht=_,xn=ht.onStart,ve=ht.onInterrupt,Ae=ht.onComplete;if(lt=ae(Mt,T),Os(lt)||(lt=Mt),mt=Math.max(0,Math.round(ce+lt*Z)),de<=ue&&de>=ce&&mt!==de){if(De&&!De._initted&&De.data<=fo(mt-de))return;_.inertia===!1&&(at=lt-ze),re(mt,{duration:je(fo(Math.max(fo(Mt-Me),fo(lt-Me))*.185/qe/.05||0)),ease:_.ease||"power3",data:fo(mt-de),onInterrupt:function(){return _e.restart(!0)&&ve&&ve(T)},onComplete:function(){T.update(),ee=J(),i&&!A&&(Oe?Oe.resetTo("totalProgress",lt,i._tTime/i._tDur):i.progress(lt)),Ue=dt=i&&!A?i.totalProgress():T.progress,M&&M(T),Ae&&Ae(T)}},de,at*Z,mt-de-at*Z),xn&&xn(T,re.tween)}}else T.isActive&&ee!==de&&_e.restart(!0)}).pause()),c&&(uf[c]=T),p=T.trigger=vn(p||h!==!0&&h),Ve=p&&p._gsap&&p._gsap.stRevert,Ve&&(Ve=Ve(T)),h=h===!0?p:vn(h),Dn(a)&&(a={targets:p,className:a}),h&&(y===!1||y===Rn||(y=!y&&h.parentNode&&h.parentNode.style&&zn(h.parentNode).display==="flex"?!1:Ft),T.pin=h,te=Fe.core.getCache(h),te.spacer?P=te.pinState:(S&&(S=vn(S),S&&!S.nodeType&&(S=S.current||S.nativeElement),te.spacerIsNative=!!S,S&&(te.spacerState=Hl(S))),te.spacer=B=S||_t.createElement("div"),B.classList.add("pin-spacer"),c&&B.classList.add("pin-spacer-"+c),te.pinState=P=Hl(h)),r.force3D!==!1&&Fe.set(h,{force3D:!0}),T.spacer=B=te.spacer,et=zn(h),be=et[y+x.os2],Y=Fe.getProperty(h),ne=Fe.quickSetter(h,x.a,zt),mf(h,B,et),X=Hl(h)),K){Pe=Si(K)?Z1(K,X1):X1,V=Bl("scroller-start",c,I,x,Pe,0),Ee=Bl("scroller-end",c,I,x,Pe,0,V),H=V["offset"+x.op.d2];var Ke=vn(Zr(I,"content")||I);ge=this.markerStart=Bl("start",c,Ke,x,Pe,H,0,C),he=this.markerEnd=Bl("end",c,Ke,x,Pe,H,0,C),C&&(Re=Fe.quickSetter([ge,he],x.a,zt)),!L&&!(dr.length&&Zr(I,"fixedMarkers")===!0)&&(QN(E?ft:I),Fe.set([V,Ee],{force3D:!0}),xe=Fe.quickSetter(V,x.a,zt),Ne=Fe.quickSetter(Ee,x.a,zt))}if(C){var Le=C.vars.onUpdate,ye=C.vars.onUpdateParams;C.eventCallback("onUpdate",function(){T.update(0,0,1),Le&&Le.apply(C,ye||[])})}if(T.previous=function(){return nt[nt.indexOf(T)-1]},T.next=function(){return nt[nt.indexOf(T)+1]},T.revert=function(de,Se){if(!Se)return T.kill(!0);var De=de!==!1||!T.enabled,ze=tn;De!==T.isReverted&&(De&&(Ce=Math.max(J(),T.scroll.rec||0),oe=T.progress,Xe=i&&i.progress()),ge&&[ge,he,V,Ee].forEach(function(Me){return Me.style.display=De?"none":"block"}),De&&(tn=T,T.update(De)),h&&(!b||!T.isActive)&&(De?iM(h,B,P):mf(h,B,zn(h),me)),De||T.update(De),tn=ze,T.isReverted=De)},T.refresh=function(de,Se,De,ze){if(!((tn||!T.enabled)&&!Se)){if(h&&de&&On){Yt(t,"scrollEnd",K1);return}!dn&&Q&&Q(T),tn=T,re.tween&&!De&&(re.tween.kill(),re.tween=0),Oe&&Oe.pause(),m&&i&&(i.revert({kill:!1}).invalidate(),i.getChildren&&i.getChildren(!0,!0,!1).forEach(function(Dr){return Dr.vars.immediateRender&&Dr.render(0,!0,!0)})),T.isReverted||T.revert(!0,!0),T._subPinOffset=!1;var Me=G(),qe=U(),at=C?C.duration():hr(I,x),Mt=Z<=.01||!Z,lt=0,mt=ze||0,ht=Si(De)?De.end:r.end,xn=r.endTrigger||p,ve=Si(De)?De.start:r.start||(r.start===0||!p?0:h?"0 0":"0 100%"),Ae=T.pinnedContainer=r.pinnedContainer&&vn(r.pinnedContainer,T),He=p&&Math.max(0,nt.indexOf(T))||0,Ge=He,ct,tt,gt,Tr,$t,kt,Ze,yt,Ln,Jr,Pn,jr,Kr;for(K&&Si(De)&&(jr=Fe.getProperty(V,x.p),Kr=Fe.getProperty(Ee,x.p));Ge-- >0;)kt=nt[Ge],kt.end||kt.refresh(0,1)||(tn=T),Ze=kt.pin,Ze&&(Ze===p||Ze===h||Ze===Ae)&&!kt.isReverted&&(Jr||(Jr=[]),Jr.unshift(kt),kt.revert(!0,!0)),kt!==nt[Ge]&&(He--,Ge--);for(rn(ve)&&(ve=ve(T)),ve=B1(ve,"start",T),ce=iv(ve,p,Me,x,J(),ge,V,T,qe,W,L,at,C,T._startClamp&&"_startClamp")||(h?-.001:0),rn(ht)&&(ht=ht(T)),Dn(ht)&&!ht.indexOf("+=")&&(~ht.indexOf(" ")?ht=(Dn(ve)?ve.split(" ")[0]:"")+ht:(lt=$l(ht.substr(2),Me),ht=Dn(ve)?ve:(C?Fe.utils.mapRange(0,C.duration(),C.scrollTrigger.start,C.scrollTrigger.end,ce):ce)+lt,xn=p)),ht=B1(ht,"end",T),ue=Math.max(ce,iv(ht||(xn?"100% 0":at),xn,Me,x,J()+lt,he,Ee,T,qe,W,L,at,C,T._endClamp&&"_endClamp"))||-.001,lt=0,Ge=He;Ge--;)kt=nt[Ge],Ze=kt.pin,Ze&&kt.start-kt._pinPush<=ce&&!C&&kt.end>0&&(ct=kt.end-(T._startClamp?Math.max(0,kt.start):kt.start),(Ze===p&&kt.start-kt._pinPush<ce||Ze===Ae)&&isNaN(ve)&&(lt+=ct*(1-kt.progress)),Ze===h&&(mt+=ct));if(ce+=lt,ue+=lt,T._startClamp&&(T._startClamp+=lt),T._endClamp&&!dn&&(T._endClamp=ue||-.001,ue=Math.min(ue,hr(I,x))),Z=ue-ce||(ce-=.01)&&.001,Mt&&(oe=Fe.utils.clamp(0,1,Fe.utils.normalize(ce,ue,Ce))),T._pinPush=mt,ge&&lt&&(ct={},ct[x.a]="+="+lt,Ae&&(ct[x.p]="-="+J()),Fe.set([ge,he],ct)),h&&!(tf&&T.end>=hr(I,x)))ct=zn(h),Tr=x===Rt,gt=J(),se=parseFloat(Y(x.a))+mt,!at&&ue>1&&(Pn=(E?_t.scrollingElement||jn:I).style,Pn={style:Pn,value:Pn["overflow"+x.a.toUpperCase()]},E&&zn(ft)["overflow"+x.a.toUpperCase()]!=="scroll"&&(Pn.style["overflow"+x.a.toUpperCase()]="scroll")),mf(h,B,ct),X=Hl(h),tt=Nr(h,!0),yt=L&&qr(I,Tr?ln:Rt)(),y?(me=[y+x.os2,Z+mt+zt],me.t=B,Ge=y===Ft?Ll(h,x)+Z+mt:0,Ge&&(me.push(x.d,Ge+zt),B.style.flexBasis!=="auto"&&(B.style.flexBasis=Ge+zt)),mo(me),Ae&&nt.forEach(function(Dr){Dr.pin===Ae&&Dr.vars.pinSpacing!==!1&&(Dr._subPinOffset=!0)}),L&&J(Ce)):(Ge=Ll(h,x),Ge&&B.style.flexBasis!=="auto"&&(B.style.flexBasis=Ge+zt)),L&&($t={top:tt.top+(Tr?gt-ce:yt)+zt,left:tt.left+(Tr?yt:gt-ce)+zt,boxSizing:"border-box",position:"fixed"},$t[ki]=$t["max"+ho]=Math.ceil(tt.width)+zt,$t[Ci]=$t["max"+lf]=Math.ceil(tt.height)+zt,$t[Rn]=$t[Rn+Us]=$t[Rn+zs]=$t[Rn+Ws]=$t[Rn+Hs]="0",$t[Ft]=ct[Ft],$t[Ft+Us]=ct[Ft+Us],$t[Ft+zs]=ct[Ft+zs],$t[Ft+Ws]=ct[Ft+Ws],$t[Ft+Hs]=ct[Ft+Hs],R=sM(P,$t,b),dn&&J(0)),i?(Ln=i._initted,Xd(1),i.render(i.duration(),!0,!0),le=Y(x.a)-se+Z+mt,ke=Math.abs(Z-le)>1,L&&ke&&R.splice(R.length-2,2),i.render(0,!0,!0),Ln||i.invalidate(!0),i.parent||i.totalTime(i.totalTime()),Xd(0)):le=Z,Pn&&(Pn.value?Pn.style["overflow"+x.a.toUpperCase()]=Pn.value:Pn.style.removeProperty("overflow-"+x.a));else if(p&&J()&&!C)for(tt=p.parentNode;tt&&tt!==ft;)tt._pinOffset&&(ce-=tt._pinOffset,ue-=tt._pinOffset),tt=tt.parentNode;Jr&&Jr.forEach(function(Dr){return Dr.revert(!1,!0)}),T.start=ce,T.end=ue,fe=q=dn?Ce:J(),!C&&!dn&&(fe<Ce&&J(Ce),T.scroll.rec=0),T.revert(!1,!0),z=nn(),_e&&(ee=-1,_e.restart(!0)),tn=0,i&&A&&(i._initted||Xe)&&i.progress()!==Xe&&i.progress(Xe||0,!0).render(i.time(),!0,!0),(Mt||oe!==T.progress||C||m||i&&!i._initted)&&(i&&!A&&(i._initted||oe||i.vars.immediateRender!==!1)&&i.totalProgress(C&&ce<-.001&&!oe?Fe.utils.normalize(ce,ue,0):oe,!0),T.progress=Mt||(fe-ce)/Z===oe?0:oe),h&&y&&(B._pinOffset=Math.round(T.progress*le)),Oe&&Oe.invalidate(),isNaN(jr)||(jr-=Fe.getProperty(V,x.p),Kr-=Fe.getProperty(Ee,x.p),Wl(V,x,jr),Wl(ge,x,jr-(ze||0)),Wl(Ee,x,Kr),Wl(he,x,Kr-(ze||0))),Mt&&!dn&&T.update(),d&&!dn&&!Te&&(Te=!0,d(T),Te=!1)}},T.getVelocity=function(){return(J()-q)/(nn()-Fs)*1e3||0},T.endAnimation=function(){Rs(T.callbackAnimation),i&&(Oe?Oe.progress(1):i.paused()?A||Rs(i,T.direction<0,1):Rs(i,i.reversed()))},T.labelToScroll=function(de){return i&&i.labels&&(ce||T.refresh()||ce)+i.labels[de]/i.duration()*Z||0},T.getTrailing=function(de){var Se=nt.indexOf(T),De=T.direction>0?nt.slice(0,Se).reverse():nt.slice(Se+1);return(Dn(de)?De.filter(function(ze){return ze.vars.preventOverlaps===de}):De).filter(function(ze){return T.direction>0?ze.end<=ce:ze.start>=ue})},T.update=function(de,Se,De){if(!(C&&!De&&!de)){var ze=dn===!0?Ce:T.scroll(),Me=de?0:(ze-ce)/Z,qe=Me<0?0:Me>1?1:Me||0,at=T.progress,Mt,lt,mt,ht,xn,ve,Ae,He;if(Se&&(q=fe,fe=C?J():ze,_&&(dt=Ue,Ue=i&&!A?i.totalProgress():qe)),g&&h&&!tn&&!Dl&&On&&(!qe&&ce<ze+(ze-q)/(nn()-Fs)*g?qe=1e-4:qe===1&&ue>ze+(ze-q)/(nn()-Fs)*g&&(qe=.9999)),qe!==at&&T.enabled){if(Mt=T.isActive=!!qe&&qe<1,lt=!!at&&at<1,ve=Mt!==lt,xn=ve||!!qe!=!!at,T.direction=qe>at?1:-1,T.progress=qe,xn&&!tn&&(mt=qe&&!at?0:qe===1?1:at===1?2:3,A&&(ht=!ve&&F[mt+1]!=="none"&&F[mt+1]||F[mt],He=i&&(ht==="complete"||ht==="reset"||ht in i))),v&&(ve||He)&&(He||f||!i)&&(rn(v)?v(T):T.getTrailing(v).forEach(function(gt){return gt.endAnimation()})),A||(Oe&&!tn&&!Dl?(Oe._dp._time-Oe._start!==Oe._time&&Oe.render(Oe._dp._time-Oe._start),Oe.resetTo?Oe.resetTo("totalProgress",qe,i._tTime/i._tDur):(Oe.vars.totalProgress=qe,Oe.invalidate().restart())):i&&i.totalProgress(qe,!!(tn&&(z||de)))),h){if(de&&y&&(B.style[y+x.os2]=be),!L)ne(Bs(se+le*qe));else if(xn){if(Ae=!de&&qe>at&&ue+1>ze&&ze+1>=hr(I,x),b)if(!de&&(Mt||Ae)){var Ge=Nr(h,!0),ct=ze-ce;ov(h,ft,Ge.top+(x===Rt?ct:0)+zt,Ge.left+(x===Rt?0:ct)+zt)}else ov(h,B);mo(Mt||Ae?R:X),ke&&qe<1&&Mt||ne(se+(qe===1&&!Ae?le:0))}}_&&!re.tween&&!tn&&!Dl&&_e.restart(!0),a&&(ve||j&&qe&&(qe<1||!nf))&&As(a.targets).forEach(function(gt){return gt.classList[Mt||j?"add":"remove"](a.className)}),s&&!A&&!de&&s(T),xn&&!tn?(A&&(He&&(ht==="complete"?i.pause().totalProgress(1):ht==="reset"?i.restart(!0).pause():ht==="restart"?i.restart(!0):i[ht]()),s&&s(T)),(ve||!nf)&&(u&&ve&&of(T,u),D[mt]&&of(T,D[mt]),j&&(qe===1?T.kill(!1,1):D[mt]=0),ve||(mt=qe===1?1:3,D[mt]&&of(T,D[mt]))),k&&!Mt&&Math.abs(T.getVelocity())>(Os(k)?k:2500)&&(Rs(T.callbackAnimation),Oe?Oe.progress(1):Rs(i,ht==="reverse"?1:!qe,1))):A&&s&&!tn&&s(T)}if(Ne){var tt=C?ze/C.duration()*(C._caScrollDist||0):ze;xe(tt+(V._isFlipped?1:0)),Ne(tt)}Re&&Re(-ze/C.duration()*(C._caScrollDist||0))}},T.enable=function(de,Se){T.enabled||(T.enabled=!0,Yt(I,"resize",Ys),E||Yt(I,"scroll",po),Q&&Yt(t,"refreshInit",Q),de!==!1&&(T.progress=oe=0,fe=q=ee=J()),Se!==!1&&T.refresh())},T.getTween=function(de){return de&&re?re.tween:Oe},T.setPositions=function(de,Se,De,ze){if(C){var Me=C.scrollTrigger,qe=C.duration(),at=Me.end-Me.start;de=Me.start+at*de/qe,Se=Me.start+at*Se/qe}T.refresh(!1,!1,{start:O1(de,De&&!!T._startClamp),end:O1(Se,De&&!!T._endClamp)},ze),T.update()},T.adjustPinSpacing=function(de){if(me&&de){var Se=me.indexOf(x.d)+1;me[Se]=parseFloat(me[Se])+de+zt,me[1]=parseFloat(me[1])+de+zt,mo(me)}},T.disable=function(de,Se){if(T.enabled&&(de!==!1&&T.revert(!0,!0),T.enabled=T.isActive=!1,Se||Oe&&Oe.pause(),Ce=0,te&&(te.uncache=1),Q&&Vt(t,"refreshInit",Q),_e&&(_e.pause(),re.tween&&re.tween.kill()&&(re.tween=0)),!E)){for(var De=nt.length;De--;)if(nt[De].scroller===I&&nt[De]!==T)return;Vt(I,"resize",Ys),E||Vt(I,"scroll",po)}},T.kill=function(de,Se){T.disable(de,Se),Oe&&!Se&&Oe.kill(),c&&delete uf[c];var De=nt.indexOf(T);De>=0&&nt.splice(De,1),De===cn&&Rl>0&&cn--,De=0,nt.forEach(function(ze){return ze.scroller===T.scroller&&(De=1)}),De||dn||(T.scroll.rec=0),i&&(i.scrollTrigger=null,de&&i.revert({kill:!1}),Se||i.kill()),ge&&[ge,he,V,Ee].forEach(function(ze){return ze.parentNode&&ze.parentNode.removeChild(ze)}),Vs===T&&(Vs=0),h&&(te&&(te.uncache=1),De=0,nt.forEach(function(ze){return ze.pin===h&&De++}),De||(te.spacer=0)),r.onKill&&r.onKill(T)},nt.push(T),T.enable(!1,!1),Ve&&Ve(T),i&&i.add&&!Z){var we=T.update;T.update=function(){T.update=we,rt.cache++,ce||ue||T.refresh()},Fe.delayedCall(.01,T.update),Z=.01,ce=ue=0}else T.refresh();h&&rM()},t.register=function(r){return lo||(Fe=r||U1(),H1()&&window.document&&t.enable(),lo=$s),lo},t.defaults=function(r){if(r)for(var i in r)El[i]=r[i];return El},t.disable=function(r,i){$s=0,nt.forEach(function(s){return s[i?"kill":"disable"](r)}),Vt(it,"wheel",po),Vt(_t,"scroll",po),clearInterval(Ml),Vt(_t,"touchcancel",fr),Vt(ft,"touchstart",fr),Pl(Vt,_t,"pointerdown,touchstart,mousedown",R1),Pl(Vt,_t,"pointerup,touchend,mouseup",z1),Nl.kill(),Il(Vt);for(var o=0;o<rt.length;o+=3)Al(Vt,rt[o],rt[o+1]),Al(Vt,rt[o],rt[o+2])},t.enable=function(){if(it=window,_t=document,jn=_t.documentElement,ft=_t.body,Fe&&(As=Fe.utils.toArray,Es=Fe.utils.clamp,Kd=Fe.core.context||fr,Xd=Fe.core.suppressOverwrites||fr,Qd=it.history.scrollRestoration||"auto",hf=it.pageYOffset||0,Fe.core.globals("ScrollTrigger",t),ft)){$s=1,uo=document.createElement("div"),uo.style.height="100vh",uo.style.position="absolute",nv(),XN(),Lt.register(Fe),t.isTouch=Lt.isTouch,Xr=Lt.isTouch&&/(iPad|iPhone|iPod|Mac)/g.test(navigator.userAgent),Jd=Lt.isTouch===1,Yt(it,"wheel",po),Zd=[it,_t,jn,ft],Fe.matchMedia?(t.matchMedia=function(u){var d=Fe.matchMedia(),f;for(f in u)d.add(f,u[f]);return d},Fe.addEventListener("matchMediaInit",function(){return ff()}),Fe.addEventListener("matchMediaRevert",function(){return Q1()}),Fe.addEventListener("matchMedia",function(){ji(0,1),Mi("matchMedia")}),Fe.matchMedia().add("(orientation: portrait)",function(){return df(),df})):console.warn("Requires GSAP 3.11.0 or later"),df(),Yt(_t,"scroll",po);var r=ft.hasAttribute("style"),i=ft.style,o=i.borderTopStyle,s=Fe.core.Animation.prototype,a,c;for(s.revert||Object.defineProperty(s,"revert",{value:function(){return this.time(-.01,!0)}}),i.borderTopStyle="solid",a=Nr(ft),Rt.m=Math.round(a.top+Rt.sc())||0,ln.m=Math.round(a.left+ln.sc())||0,o?i.borderTopStyle=o:i.removeProperty("border-top-style"),r||(ft.setAttribute("style",""),ft.removeAttribute("style")),Ml=setInterval(J1,250),Fe.delayedCall(.5,function(){return Dl=0}),Yt(_t,"touchcancel",fr),Yt(ft,"touchstart",fr),Pl(Yt,_t,"pointerdown,touchstart,mousedown",R1),Pl(Yt,_t,"pointerup,touchend,mouseup",z1),qd=Fe.utils.checkPrefix("transform"),zl.push(qd),lo=nn(),Nl=Fe.delayedCall(.2,ji).pause(),co=[_t,"visibilitychange",function(){var u=it.innerWidth,d=it.innerHeight;_t.hidden?(L1=u,P1=d):(L1!==u||P1!==d)&&Ys()},_t,"DOMContentLoaded",ji,it,"load",ji,it,"resize",Ys],Il(Yt),nt.forEach(function(u){return u.enable(0,1)}),c=0;c<rt.length;c+=3)Al(Vt,rt[c],rt[c+1]),Al(Vt,rt[c],rt[c+2])}},t.config=function(r){"limitCallbacks"in r&&(nf=!!r.limitCallbacks);var i=r.syncInterval;i&&clearInterval(Ml)||(Ml=i)&&setInterval(J1,i),"ignoreMobileResize"in r&&(Jd=t.isTouch===1&&r.ignoreMobileResize),"autoRefreshEvents"in r&&(Il(Vt)||Il(Yt,r.autoRefreshEvents||"none"),E1=(r.autoRefreshEvents+"").indexOf("resize")===-1)},t.scrollerProxy=function(r,i){var o=vn(r),s=rt.indexOf(o),a=wi(o);~s&&rt.splice(s,a?6:2),i&&(a?dr.unshift(it,i,ft,i,jn,i):dr.unshift(o,i))},t.clearMatchMedia=function(r){nt.forEach(function(i){return i._ctx&&i._ctx.query===r&&i._ctx.kill(!0,!0)})},t.isInViewport=function(r,i,o){var s=(Dn(r)?vn(r):r).getBoundingClientRect(),a=s[o?ki:Ci]*i||0;return o?s.right-a>0&&s.left+a<it.innerWidth:s.bottom-a>0&&s.top+a<it.innerHeight},t.positionInViewport=function(r,i,o){Dn(r)&&(r=vn(r));var s=r.getBoundingClientRect(),a=s[o?ki:Ci],c=i==null?a/2:i in Fl?Fl[i]*a:~i.indexOf("%")?parseFloat(i)*a/100:parseFloat(i)||0;return o?(s.left+c)/it.innerWidth:(s.top+c)/it.innerHeight},t.killAll=function(r){if(nt.slice(0).forEach(function(o){return o.vars.id!=="ScrollSmoother"&&o.kill()}),r!==!0){var i=Ni.killAll||[];Ni={},i.forEach(function(o){return o()})}},t})();ot.version="3.13.0",ot.saveStyles=function(t){return t?As(t).forEach(function(e){if(e&&e.style){var n=In.indexOf(e);n>=0&&In.splice(n,5),In.push(e,e.style.cssText,e.getBBox&&e.getAttribute("transform"),Fe.core.getCache(e),Kd())}}):In},ot.revert=function(t,e){return ff(!t,e)},ot.create=function(t,e){return new ot(t,e)},ot.refresh=function(t){return t?Ys(!0):(lo||ot.register())&&ji(!0)},ot.update=function(t){return++rt.cache&&Mr(t===!0?2:0)},ot.clearScrollMemory=ev,ot.maxScroll=function(t,e){return hr(t,e?ln:Rt)},ot.getScrollFunc=function(t,e){return qr(vn(t),e?ln:Rt)},ot.getById=function(t){return uf[t]},ot.getAll=function(){return nt.filter(function(t){return t.vars.id!=="ScrollSmoother"})},ot.isScrolling=function(){return!!On},ot.snapDirectional=cf,ot.addEventListener=function(t,e){var n=Ni[t]||(Ni[t]=[]);~n.indexOf(e)||n.push(e)},ot.removeEventListener=function(t,e){var n=Ni[t],r=n&&n.indexOf(e);r>=0&&n.splice(r,1)},ot.batch=function(t,e){var n=[],r={},i=e.interval||.016,o=e.batchMax||1e9,s=function(u,d){var f=[],p=[],h=Fe.delayedCall(i,function(){d(f,p),f=[],p=[]}).pause();return function(y){f.length||h.restart(!0),f.push(y.trigger),p.push(y),o<=f.length&&h.progress(1)}},a;for(a in e)r[a]=a.substr(0,2)==="on"&&rn(e[a])&&a!=="onRefreshInit"?s(a,e[a]):e[a];return rn(o)&&(o=o(),Yt(ot,"refresh",function(){return o=e.batchMax()})),As(t).forEach(function(c){var u={};for(a in r)u[a]=r[a];u.trigger=c,n.push(ot.create(u))}),n};var lv=function(e,n,r,i){return n>i?e(i):n<0&&e(0),r>i?(i-n)/(r-n):r<0?n/(n-r):1},gf=function t(e,n){n===!0?e.style.removeProperty("touch-action"):e.style.touchAction=n===!0?"auto":n?"pan-"+n+(Lt.isTouch?" pinch-zoom":""):"none",e===jn&&t(ft,n)},Gl={auto:1,scroll:1},lM=function(e){var n=e.event,r=e.target,i=e.axis,o=(n.changedTouches?n.changedTouches[0]:n).target,s=o._gsap||Fe.core.getCache(o),a=nn(),c;if(!s._isScrollT||a-s._isScrollT>2e3){for(;o&&o!==ft&&(o.scrollHeight<=o.clientHeight&&o.scrollWidth<=o.clientWidth||!(Gl[(c=zn(o)).overflowY]||Gl[c.overflowX]));)o=o.parentNode;s._isScroll=o&&o!==r&&!wi(o)&&(Gl[(c=zn(o)).overflowY]||Gl[c.overflowX]),s._isScrollT=a}(s._isScroll||i==="x")&&(n.stopPropagation(),n._gsapAllow=!0)},cv=function(e,n,r,i){return Lt.create({target:e,capture:!0,debounce:!1,lockAxis:!0,type:n,onWheel:i=i&&lM,onPress:i,onDrag:i,onScroll:i,onEnable:function(){return r&&Yt(_t,Lt.eventTypes[0],dv,!1,!0)},onDisable:function(){return Vt(_t,Lt.eventTypes[0],dv,!0)}})},cM=/(input|label|select|textarea)/i,uv,dv=function(e){var n=cM.test(e.target.tagName);(n||uv)&&(e._gsapAllow=!0,uv=n)},uM=function(e){Si(e)||(e={}),e.preventDefault=e.isNormalizer=e.allowClicks=!0,e.type||(e.type="wheel,touch"),e.debounce=!!e.debounce,e.id=e.id||"normalizer";var n=e,r=n.normalizeScrollX,i=n.momentum,o=n.allowNestedScroll,s=n.onRelease,a,c,u=vn(e.target)||jn,d=Fe.core.globals().ScrollSmoother,f=d&&d.get(),p=Xr&&(e.content&&vn(e.content)||f&&e.content!==!1&&!f.smooth()&&f.content()),h=qr(u,Rt),y=qr(u,ln),m=1,g=(Lt.isTouch&&it.visualViewport?it.visualViewport.scale*it.visualViewport.width:it.outerWidth)/it.innerWidth,N=0,M=rn(i)?function(){return i(a)}:function(){return i||2.8},j,_,b=cv(u,e.type,!0,o),S=function(){return _=!1},C=fr,k=fr,v=function(){c=hr(u,Rt),k=Es(Xr?1:0,c),r&&(C=Es(0,hr(u,ln))),j=Ti},x=function(){p._gsap.y=Bs(parseFloat(p._gsap.y)+h.offset)+"px",p.style.transform="matrix3d(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, "+parseFloat(p._gsap.y)+", 0, 1)",h.offset=h.cacheID=0},A=function(){if(_){requestAnimationFrame(S);var K=Bs(a.deltaY/2),W=k(h.v-K);if(p&&W!==h.v+h.offset){h.offset=W-h.v;var T=Bs((parseFloat(p&&p._gsap.y)||0)-h.offset);p.style.transform="matrix3d(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, "+T+", 0, 1)",p._gsap.y=T+"px",h.cacheID=rt.cache,Mr()}return!0}h.offset&&x(),_=!0},I,O,E,L,D=function(){v(),I.isActive()&&I.vars.scrollY>c&&(h()>c?I.progress(1)&&h(c):I.resetTo("scrollY",c))};return p&&Fe.set(p,{y:"+=0"}),e.ignoreCheck=function(F){return Xr&&F.type==="touchmove"&&A()||m>1.05&&F.type!=="touchstart"||a.isGesturing||F.touches&&F.touches.length>1},e.onPress=function(){_=!1;var F=m;m=Bs((it.visualViewport&&it.visualViewport.scale||1)/g),I.pause(),F!==m&&gf(u,m>1.01?!0:r?!1:"x"),O=y(),E=h(),v(),j=Ti},e.onRelease=e.onGestureStart=function(F,K){if(h.offset&&x(),!K)L.restart(!0);else{rt.cache++;var W=M(),T,Q;r&&(T=y(),Q=T+W*.05*-F.velocityX/.227,W*=lv(y,T,Q,hr(u,ln)),I.vars.scrollX=C(Q)),T=h(),Q=T+W*.05*-F.velocityY/.227,W*=lv(h,T,Q,hr(u,Rt)),I.vars.scrollY=k(Q),I.invalidate().duration(W).play(.01),(Xr&&I.vars.scrollY>=c||T>=c-1)&&Fe.to({},{onUpdate:D,duration:W})}s&&s(F)},e.onWheel=function(){I._ts&&I.pause(),nn()-N>1e3&&(j=0,N=nn())},e.onChange=function(F,K,W,T,Q){if(Ti!==j&&v(),K&&r&&y(C(T[2]===K?O+(F.startX-F.x):y()+K-T[1])),W){h.offset&&x();var G=Q[2]===W,U=G?E+F.startY-F.y:h()+W-Q[1],ee=k(U);G&&U!==ee&&(E+=ee-U),h(ee)}(W||K)&&Mr()},e.onEnable=function(){gf(u,r?!1:"x"),ot.addEventListener("refresh",D),Yt(it,"resize",D),h.smooth&&(h.target.style.scrollBehavior="auto",h.smooth=y.smooth=!1),b.enable()},e.onDisable=function(){gf(u,!0),Vt(it,"resize",D),ot.removeEventListener("refresh",D),b.kill()},e.lockAxis=e.lockAxis!==!1,a=new Lt(e),a.iOS=Xr,Xr&&!h()&&h(1),Xr&&Fe.ticker.add(fr),L=a._dc,I=Fe.to(a,{ease:"power4",paused:!0,inherit:!1,scrollX:r?"+=0.1":"+=0",scrollY:"+=0.1",modifiers:{scrollY:sv(h,h(),function(){return I.pause()})},onUpdate:Mr,onComplete:L.vars.onComplete}),a};ot.sort=function(t){if(rn(t))return nt.sort(t);var e=it.pageYOffset||0;return ot.getAll().forEach(function(n){return n._sortY=n.trigger?e+n.trigger.getBoundingClientRect().top:n.start+it.innerHeight}),nt.sort(t||function(n,r){return(n.vars.refreshPriority||0)*-1e6+(n.vars.containerAnimation?1e6:n._sortY)-((r.vars.containerAnimation?1e6:r._sortY)+(r.vars.refreshPriority||0)*-1e6)})},ot.observe=function(t){return new Lt(t)},ot.normalizeScroll=function(t){if(typeof t>"u")return un;if(t===!0&&un)return un.enable();if(t===!1){un&&un.kill(),un=t;return}var e=t instanceof Lt?t:uM(t);return un&&un.target===e.target&&un.kill(),wi(e.target)&&(un=e),e},ot.core={_getVelocityProp:Vd,_inputObserver:cv,_scrollers:rt,_proxies:dr,bridge:{ss:function(){On||Mi("scrollStart"),On=nn()},ref:function(){return tn}}},U1()&&Fe.registerPlugin(ot);const dM=Object.freeze(Object.defineProperty({__proto__:null,ScrollTrigger:ot,default:ot},Symbol.toStringTag,{value:"Module"}));w.AXIS_Y_ZERO_BREAK_DEFAULT_EXTRA_CLEARANCE_PX=Np,w.AXIS_Y_ZERO_BREAK_DEFAULT_GAP_PX=Io,w.AXIS_Y_ZERO_BREAK_MIN_GAP_PX=Lo,w.AXIS_ZIGZAG_DEFAULT_AMPLITUDE_PX=Mp,w.AXIS_ZIGZAG_DEFAULT_CYCLES=Tp,w.AXIS_ZIGZAG_DEFAULT_HEIGHT_PX=Dp,w.AXIS_ZIGZAG_DEFAULT_STEP_X_PX=jp,w.Account=Vl,w.ActionLink=xv,w.AdaptiveDataGrid=Ec,w.AnimationDurationFast=Nm,w.AnimationDurationNormal=Mm,w.AnimationDurationSlow=Tm,w.AnimationEasingBounce=Lm,w.AnimationEasingEaseIn=jm,w.AnimationEasingEaseInOut=Im,w.AnimationEasingEaseOut=Dm,w.AppointmentCard=Lc,w.AreaSeriesPrimitive=AS,w.AriaDataGrid=Wh,w.AriaTabsDataGrid=va,w.AriaTabsDataGridAdaptive=Ec,w.Axis=Uc,w.BackLink=Di,w.BandScalesProvider=FS,w.BarSeriesPrimitive=ES,w.BorderColorCard=hu,w.BorderColorCardHover=pu,w.BorderColorDefault=du,w.BorderColorError=mu,w.BorderColorForm=fu,w.BorderRadiusLarge=Vm,w.BorderRadiusMedium=Ym,w.BorderRadiusNone=Wm,w.BorderRadiusSmall=Gm,w.BorderWidthCardBottom=Rm,w.BorderWidthDefault=$m,w.BorderWidthFormElement=Bm,w.BorderWidthFormElementError=Om,w.BorderWidthPanel=zm,w.BorderWidthTableCell=Um,w.BorderWidthTableHeader=Hm,w.BrandThemeProvider=cx,w.Breadcrumb=Cc,w.Breakpoint=Mf,w.BreakpointDesktop=My,w.BreakpointLargeDesktop=Ty,w.BreakpointMobile=Cy,w.BreakpointTablet=Ny,w.Button=Ht,w.ButtonBorderRadius=w0,w.ButtonBorderWidth=_0,w.ButtonPrimaryBackgroundActive=c0,w.ButtonPrimaryBackgroundDefault=a0,w.ButtonPrimaryBackgroundDisabled=u0,w.ButtonPrimaryBackgroundHover=l0,w.ButtonPrimaryBorderDefault=h0,w.ButtonPrimaryBorderFocus=p0,w.ButtonPrimaryTextDefault=d0,w.ButtonPrimaryTextDisabled=f0,w.ButtonSecondaryBackgroundActive=b0,w.ButtonSecondaryBackgroundDefault=m0,w.ButtonSecondaryBackgroundHover=y0,w.ButtonSecondaryBackgroundSolid=g0,w.ButtonSecondaryBorderDefault=x0,w.ButtonSecondaryTextDefault=v0,w.ButtonShadowSize=S0,w.ButtonSize=ql,w.ButtonSpacingPaddingHorizontalDesktop=$u,w.ButtonSpacingPaddingHorizontalMobile=Eu,w.ButtonSpacingPaddingVerticalDesktop=Fu,w.ButtonSpacingPaddingVerticalMobile=Au,w.ButtonTypographyWeight=k0,w.ButtonVariant=Zl,w.Card=Mc,w.CardBackgroundDefault=C0,w.CardBorderBottom=T0,w.CardBorderDefault=N0,w.CardBorderHover=M0,w.CardBorderWidthBottom=P0,w.CardBorderWidthDefault=L0,w.CardGroup=A2,w.CardGroupItem=E2,w.CardShadowDefault=A0,w.CardShadowHover=E0,w.CardSpacingHeadingMargin=Ru,w.CardSpacingPaddingDesktop=Ou,w.CardSpacingPaddingMobile=Bu,w.CardTextDescription=D0,w.CardTextHeading=j0,w.CardTextLink=I0,w.CareCard=F2,w.CharacterCount=Dv,w.ChartEnhancer=BS,w.ChartNoScript=$S,w.ChartRoot=kp,w.Checkbox=_f,w.Checkboxes=Sf,w.ColorBorderDefault=ig,w.ColorBorderSecondary=og,w.ColorButtonLoginActive=Lg,w.ColorButtonLoginBackground=Dg,w.ColorButtonLoginHover=Ig,w.ColorButtonLoginShadow=Pg,w.ColorButtonPrimaryActive=fg,w.ColorButtonPrimaryBackground=cg,w.ColorButtonPrimaryHover=dg,w.ColorButtonPrimaryShadow=hg,w.ColorButtonPrimaryText=ug,w.ColorButtonReverseActive=kg,w.ColorButtonReverseBackground=_g,w.ColorButtonReverseHover=Sg,w.ColorButtonReverseShadow=Cg,w.ColorButtonReverseText=wg,w.ColorButtonSecondaryActive=vg,w.ColorButtonSecondaryBackground=pg,w.ColorButtonSecondaryBackgroundSolid=mg,w.ColorButtonSecondaryBorder=gg,w.ColorButtonSecondaryHover=bg,w.ColorButtonSecondaryShadow=xg,w.ColorButtonSecondaryText=yg,w.ColorButtonWarningActive=Tg,w.ColorButtonWarningBackground=Ng,w.ColorButtonWarningHover=Mg,w.ColorButtonWarningShadow=jg,w.ColorError=sg,w.ColorFocusBackground=ng,w.ColorFocusText=rg,w.ColorFormBackground=lg,w.ColorFormBorder=ag,w.ColorGrey1=ju,w.ColorGrey2=Du,w.ColorGrey3=Iu,w.ColorGrey4=Lu,w.ColorGrey5=Pu,w.ColorLinkActive=eg,w.ColorLinkDefault=Km,w.ColorLinkHover=Qm,w.ColorLinkVisited=tg,w.ColorPrimaryBlack=bu,w.ColorPrimaryBlue=gu,w.ColorPrimaryDarkPink=_u,w.ColorPrimaryGreen=vu,w.ColorPrimaryPurple=xu,w.ColorPrimaryRed=wu,w.ColorPrimaryWhite=yu,w.ColorPrimaryYellow=Su,w.ColorSecondaryAquaGreen=Mu,w.ColorSecondaryOrange=Nu,w.ColorSecondaryPaleYellow=ku,w.ColorSecondaryPink=Tu,w.ColorSecondaryWarmYellow=Cu,w.ColorTextPrimary=Zm,w.ColorTextPrint=Jm,w.ColorTextReverse=Xm,w.ColorTextSecondary=qm,w.Column=Ii,w.ColumnAlign=jf,w.ComponentBlur=n0,w.ComponentBreadcrumbChevronMarginLeft=Zg,w.ComponentBreadcrumbChevronMarginRight=qg,w.ComponentBreadcrumbPaddingTopDesktop=Jg,w.ComponentBreadcrumbPaddingTopMobile=Xg,w.ComponentButtonPaddingDesktopHorizontal=$g,w.ComponentButtonPaddingDesktopVertical=Fg,w.ComponentButtonPaddingMobileHorizontal=Eg,w.ComponentButtonPaddingMobileVertical=Ag,w.ComponentButtonShadowSize=Bg,w.ComponentCardHeadingMargin=Gg,w.ComponentCardPaddingDesktop=Wg,w.ComponentCardPaddingMobile=Ug,w.ComponentDetails=i0,w.ComponentExpander=o0,w.ComponentFormCheckboxLabelPadding=Hg,w.ComponentFormCheckboxSize=zg,w.ComponentFormInputMinHeight=Og,w.ComponentFormInputPadding=Rg,w.ComponentLink=r0,w.ComponentPagination=s0,w.ComponentPanelPaddingDesktop=Vg,w.ComponentPanelPaddingMobile=Yg,w.ComponentSpread=t0,w.ComponentSummaryListCellPaddingHorizontal=Qg,w.ComponentSummaryListCellPaddingVertical=Kg,w.ComponentSummaryListRowMargin=e0,w.Container=Kl,w.ContentsList=P2,w.DEFAULT_FONT_CONFIG=td,w.DashboardSummaryGrid=K2,w.DateInput=Vv,w.Details=Fh,w.DoDontList=$h,w.ElevationHigh=ab,w.ElevationLow=ob,w.ElevationMedium=sb,w.ElevationNone=ib,w.ErrorMessage=ec,w.ErrorSummary=Yv,w.Expander=Bh,w.FRUTIGER_FONT_FILES=on,w.Fieldset=Js,w.Float=Tf,w.FocusOutlineOffset=eb,w.FocusOutlineStyle=tb,w.FocusOutlineWidth=Qy,w.FocusShadowButton=rb,w.FocusShadowInput=nb,w.FontFamilyBase=Uo,w.FontFamilyFallback=Wo,w.FontFamilyPrint=Go,w.FontLineHeightBase=al,w.FontSize14Mobile=qo,w.FontSize14Print=Jo,w.FontSize14Tablet=Xo,w.FontSize16Mobile=Ko,w.FontSize16Print=es,w.FontSize16Tablet=Qo,w.FontSize19Mobile=ts,w.FontSize19Print=rs,w.FontSize19Tablet=ns,w.FontSize22Mobile=is,w.FontSize22Print=ss,w.FontSize22Tablet=os,w.FontSize26Mobile=as,w.FontSize26Print=cs,w.FontSize26Tablet=ls,w.FontSize36Mobile=us,w.FontSize36Print=fs,w.FontSize36Tablet=ds,w.FontSize48Mobile=hs,w.FontSize48Print=ms,w.FontSize48Tablet=ps,w.FontSizeBase=sl,w.FontWeightBold=Vo,w.FontWeightLight=Zo,w.FontWeightNormal=Yo,w.Footer=nc,w.FormBorderRadius=ty,w.FormBorderWidthDefault=Q0,w.FormBorderWidthError=ey,w.FormErrorTextDefault=X0,w.FormErrorTypographyWeight=J0,w.FormHintTextDefault=K0,w.FormInputBackgroundDefault=F0,w.FormInputBackgroundDisabled=B0,w.FormInputBackgroundError=O0,w.FormInputBackgroundFocus=$0,w.FormInputBorderDefault=R0,w.FormInputBorderDisabled=U0,w.FormInputBorderError=H0,w.FormInputBorderFocus=z0,w.FormInputTextDefault=W0,w.FormInputTextDisabled=Y0,w.FormInputTextPlaceholder=G0,w.FormLabelTextDefault=V0,w.FormLabelTextRequired=Z0,w.FormLabelTypographyWeight=q0,w.FormSpacingCheckboxLabelPadding=Wu,w.FormSpacingCheckboxSize=Uu,w.FormSpacingInputMinHeight=Hu,w.FormSpacingInputPadding=zu,w.GanttChart=I2,w.Grid=Ks,w.GridGutter=Dy,w.GridGutterHalf=Iy,w.GridLines=Ip,w.GridPageWidth=jy,w.GridWidth=Lr,w.Header=Qs,w.HeaderSSR=dx,w.HeaderSearch=Ff,w.HeaderStatic=Qs,w.Heading=Gn,w.HeadingsNhsukHeadingL=Kn,w.HeadingsNhsukHeadingM=Qn,w.HeadingsNhsukHeadingS=er,w.HeadingsNhsukHeadingXl=Jn,w.HeadingsNhsukHeadingXs=tr,w.Hero=$f,w.Hint=Jl,w.Images=V2,w.Input=qs,w.InsetText=$2,w.Label=Xs,w.LayoutColumnActions=ky,w.LayoutColumnFull=xy,w.LayoutColumnHalf=_y,w.LayoutColumnQuarter=Sy,w.LayoutColumnThird=wy,w.LayoutContainerMaxWidth=vy,w.Legend=PS,w.LineScalesProvider=Cp,w.LineSeriesPrimitive=zp,w.List=Df,w.MainWrapper=Ql,w.MedicationCard=Pc,w.MetricCard=Hp,w.NHSBodyText=Vk,w.NHSBodyTextLarge=Zk,w.NHSBodyTextSmall=qk,w.NHSHeading1=Hk,w.NHSHeading2=Uk,w.NHSHeading3=Wk,w.NHSHeading4=Gk,w.NHSHeading5=Yk,w.NHSLedeText=Xk,w.NHSLedeTextSmall=Jk,w.NHSThemeProvider=Kv,w.NHS_FALLBACK_FONT_STACK=dC,w.NHS_FONT_STACK=uC,w.NavigationSplitView=ap,w.PageTemplate=Iw,w.Pagination=L2,w.Panel=Ih,w.ParagraphsBody=nr,w.ParagraphsBodyLarge=rr,w.ParagraphsBodySmall=ir,w.ParagraphsLedeText=or,w.ParagraphsLedeTextSmall=sr,w.ParallaxScene=Fk,w.PatientCard=Ic,w.PatternBanner=Ok,w.ProductRoadmap=cp,w.Radios=Pv,w.RadiosServer=Ev,w.ResponsiveDataGrid=Ec,w.ResponsiveDataGridDemo=Dw,w.Row=pr,w.SPC=Dk,w.SPCChart=Sm,w.SPCMetricCard=Lk,w.Select=bo,w.SelectOption=Cf,w.ShadowButtonDefault=Vy,w.ShadowButtonFocus=Xy,w.ShadowButtonSecondary=Zy,w.ShadowButtonWarning=qy,w.ShadowCardDefault=Jy,w.ShadowCardHover=Ky,w.SizeButtonMinHeightDesktop=by,w.SizeButtonMinHeightMobile=yy,w.SizeFormControlLarge=cy,w.SizeFormControlMedium=ly,w.SizeFormControlSmall=ay,w.SizeFormInputWidth2xl=my,w.SizeFormInputWidth3xl=gy,w.SizeFormInputWidthLg=hy,w.SizeFormInputWidthMd=fy,w.SizeFormInputWidthSm=dy,w.SizeFormInputWidthXl=py,w.SizeFormInputWidthXs=uy,w.SizeIconExtraLarge=oy,w.SizeIconLarge=iy,w.SizeIconMedium=ry,w.SizeIconNhsDefault=sy,w.SizeIconSmall=ny,w.SkipLink=Nc,w.SlotMatrix=J2,w.SortStatusControl=aw,w.Spacing0=Gu,w.Spacing1=Yu,w.Spacing2=Vu,w.Spacing3=Zu,w.Spacing4=qu,w.Spacing5=Xu,w.Spacing6=Ju,w.Spacing7=Ku,w.Spacing8=Qu,w.Spacing9=ed,w.SpacingResponsive0Mobile=Ra,w.SpacingResponsive0Tablet=za,w.SpacingResponsive1Mobile=Ha,w.SpacingResponsive1Tablet=Ua,w.SpacingResponsive2Mobile=Wa,w.SpacingResponsive2Tablet=Ga,w.SpacingResponsive3Mobile=Ya,w.SpacingResponsive3Tablet=Va,w.SpacingResponsive4Mobile=Za,w.SpacingResponsive4Tablet=qa,w.SpacingResponsive5Mobile=Xa,w.SpacingResponsive5Tablet=Ja,w.SpacingResponsive6Mobile=Ka,w.SpacingResponsive6Tablet=Qa,w.SpacingResponsive7Mobile=el,w.SpacingResponsive7Tablet=tl,w.SpacingResponsive8Mobile=nl,w.SpacingResponsive8Tablet=rl,w.SpacingResponsive9Mobile=il,w.SpacingResponsive9Tablet=ol,w.SpacingUtilities=Bv,w.StateDisabledBackground=Wy,w.StateDisabledBorder=Gy,w.StateDisabledText=Yy,w.StateErrorBackground=Ly,w.StateErrorBorder=Py,w.StateErrorText=Ay,w.StateInfoBackground=zy,w.StateInfoBorder=Hy,w.StateInfoText=Uy,w.StateSuccessBackground=Ey,w.StateSuccessBorder=Fy,w.StateSuccessText=$y,w.StateWarningBackground=By,w.StateWarningBorder=Oy,w.StateWarningText=Ry,w.SummaryCard=zh,w.SummaryList=B2,w.Table=Vn,w.Tabs=W2,w.Tag=pt,w.TaskList=Oh,w.Textarea=kf,w.TooltipOverlay=LS,w.TooltipProvider=Rp,w.TransactionalPageTemplate=Lw,w.TransitionButtonDefault=Pm,w.TransitionButtonShadow=Am,w.TransitionCardHover=Fm,w.TransitionInputFocus=Em,w.VisibilityProvider=jS,w.VitalsCard=Ac,w.WIDTH_FRACTIONS=Hv,w.WarningCallout=Y2,w.WidthContainer=Fc,w.WidthUtilities=Rv,w.WorkflowSplitView=Uw,w.checkFrutigerLoaded=fC,w.createGenericTabsConfig=_a,w.createTCHTabsConfig=hw,w.generateFrutigerFontFace=lC,w.getResponsiveStyles=zk,w.getSpacingClass=Ov,w.getWidthClass=zv,w.preloadFrutigerFonts=cC,w.tchDataConfig=Yh,w.useBrand=Ef,w.useColors=Qk,w.useComponentSpacing=rC,w.useNHSHeadings=iC,w.useNHSParagraphs=oC,w.useNHSTheme=qv,w.useNHSTypographySystem=sC,w.useNavigationSplitDrill=aC,w.useNavigationSplitUrlSync=op,w.useNhsFdpBreakpoints=Sa,w.useResponsiveSpacing=nC,w.useResponsiveValue=$w,w.useSpacing=eC,w.useSpc=km,w.useTokens=Kk,w.useTypography=tC,Object.defineProperty(w,Symbol.toStringTag,{value:"Module"})}));
//# sourceMappingURL=index.umd.js.map
