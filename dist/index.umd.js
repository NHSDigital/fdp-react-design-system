<<<<<<< Updated upstream
(function(o,f){typeof exports=="object"&&typeof module<"u"?f(exports,require("react")):typeof define=="function"&&define.amd?define(["exports","react"],f):(o=typeof globalThis<"u"?globalThis:o||self,f(o.NHSFDPDesignSystem={},o.React))})(this,(function(o,f){"use strict";function ld(e){const t=Object.create(null,{[Symbol.toStringTag]:{value:"Module"}});if(e){for(const r in e)if(r!=="default"){const a=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(t,r,a.get?a:{enumerable:!0,get:()=>e[r]})}}return t.default=e,Object.freeze(t)}const le=ld(f);function cd(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Cn={exports:{}},$t={};/**
=======
(function(o,h){typeof exports=="object"&&typeof module<"u"?h(exports,require("react")):typeof define=="function"&&define.amd?define(["exports","react"],h):(o=typeof globalThis<"u"?globalThis:o||self,h(o.NHSFDPDesignSystem={},o.React))})(this,(function(o,h){"use strict";function cd(e){const t=Object.create(null,{[Symbol.toStringTag]:{value:"Module"}});if(e){for(const r in e)if(r!=="default"){const a=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(t,r,a.get?a:{enumerable:!0,get:()=>e[r]})}}return t.default=e,Object.freeze(t)}const ce=cd(h);function dd(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Cn={exports:{}},$t={};/**
>>>>>>> Stashed changes
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
<<<<<<< Updated upstream
 */var Qa;function dd(){if(Qa)return $t;Qa=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function r(a,i,s){var l=null;if(s!==void 0&&(l=""+s),i.key!==void 0&&(l=""+i.key),"key"in i){s={};for(var c in i)c!=="key"&&(s[c]=i[c])}else s=i;return i=s.ref,{$$typeof:e,type:a,key:l,ref:i!==void 0?i:null,props:s}}return $t.Fragment=t,$t.jsx=r,$t.jsxs=r,$t}var Pt={};/**
=======
 */var ts;function ud(){if(ts)return $t;ts=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function r(a,i,s){var l=null;if(s!==void 0&&(l=""+s),i.key!==void 0&&(l=""+i.key),"key"in i){s={};for(var c in i)c!=="key"&&(s[c]=i[c])}else s=i;return i=s.ref,{$$typeof:e,type:a,key:l,ref:i!==void 0?i:null,props:s}}return $t.Fragment=t,$t.jsx=r,$t.jsxs=r,$t}var Ht={};/**
>>>>>>> Stashed changes
 * @license React
 * react-jsx-runtime.development.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
<<<<<<< Updated upstream
 */var es;function ud(){return es||(es=1,process.env.NODE_ENV!=="production"&&(function(){function e(N){if(N==null)return null;if(typeof N=="function")return N.$$typeof===v?null:N.displayName||N.name||null;if(typeof N=="string")return N;switch(N){case y:return"Fragment";case Y:return"Profiler";case _:return"StrictMode";case z:return"Suspense";case $:return"SuspenseList";case E:return"Activity"}if(typeof N=="object")switch(typeof N.tag=="number"&&console.error("Received an unexpected object in getComponentNameFromType(). This is likely a bug in React. Please file an issue."),N.$$typeof){case S:return"Portal";case I:return(N.displayName||"Context")+".Provider";case T:return(N._context.displayName||"Context")+".Consumer";case w:var ne=N.render;return N=N.displayName,N||(N=ne.displayName||ne.name||"",N=N!==""?"ForwardRef("+N+")":"ForwardRef"),N;case q:return ne=N.displayName||null,ne!==null?ne:e(N.type)||"Memo";case H:ne=N._payload,N=N._init;try{return e(N(ne))}catch{}}return null}function t(N){return""+N}function r(N){try{t(N);var ne=!1}catch{ne=!0}if(ne){ne=console;var A=ne.error,te=typeof Symbol=="function"&&Symbol.toStringTag&&N[Symbol.toStringTag]||N.constructor.name||"Object";return A.call(ne,"The provided key is an unsupported type %s. This value must be coerced to a string before using it here.",te),t(N)}}function a(N){if(N===y)return"<>";if(typeof N=="object"&&N!==null&&N.$$typeof===H)return"<...>";try{var ne=e(N);return ne?"<"+ne+">":"<...>"}catch{return"<...>"}}function i(){var N=M.A;return N===null?null:N.getOwner()}function s(){return Error("react-stack-top-frame")}function l(N){if(J.call(N,"key")){var ne=Object.getOwnPropertyDescriptor(N,"key").get;if(ne&&ne.isReactWarning)return!1}return N.key!==void 0}function c(N,ne){function A(){k||(k=!0,console.error("%s: `key` is not a prop. Trying to access it will result in `undefined` being returned. If you need to access the same value within the child component, you should pass it as a different prop. (https://react.dev/link/special-props)",ne))}A.isReactWarning=!0,Object.defineProperty(N,"key",{get:A,configurable:!0})}function u(){var N=e(this.type);return x[N]||(x[N]=!0,console.error("Accessing element.ref was removed in React 19. ref is now a regular prop. It will be removed from the JSX Element type in a future release.")),N=this.props.ref,N!==void 0?N:null}function d(N,ne,A,te,L,oe,Ce,ie){return A=oe.ref,N={$$typeof:p,type:N,key:ne,props:oe,_owner:L},(A!==void 0?A:null)!==null?Object.defineProperty(N,"ref",{enumerable:!1,get:u}):Object.defineProperty(N,"ref",{enumerable:!1,value:null}),N._store={},Object.defineProperty(N._store,"validated",{configurable:!1,enumerable:!1,writable:!0,value:0}),Object.defineProperty(N,"_debugInfo",{configurable:!1,enumerable:!1,writable:!0,value:null}),Object.defineProperty(N,"_debugStack",{configurable:!1,enumerable:!1,writable:!0,value:Ce}),Object.defineProperty(N,"_debugTask",{configurable:!1,enumerable:!1,writable:!0,value:ie}),Object.freeze&&(Object.freeze(N.props),Object.freeze(N)),N}function h(N,ne,A,te,L,oe,Ce,ie){var ee=ne.children;if(ee!==void 0)if(te)if(de(ee)){for(te=0;te<ee.length;te++)g(ee[te]);Object.freeze&&Object.freeze(ee)}else console.error("React.jsx: Static children should always be an array. You are likely explicitly calling React.jsxs or React.jsxDEV. Use the Babel transform instead.");else g(ee);if(J.call(ne,"key")){ee=e(N);var K=Object.keys(ne).filter(function(ge){return ge!=="key"});te=0<K.length?"{key: someKey, "+K.join(": ..., ")+": ...}":"{key: someKey}",R[ee+te]||(K=0<K.length?"{"+K.join(": ..., ")+": ...}":"{}",console.error(`A props object containing a "key" prop is being spread into JSX:
=======
 */var ns;function hd(){return ns||(ns=1,process.env.NODE_ENV!=="production"&&(function(){function e(T){if(T==null)return null;if(typeof T=="function")return T.$$typeof===x?null:T.displayName||T.name||null;if(typeof T=="string")return T;switch(T){case y:return"Fragment";case q:return"Profiler";case S:return"StrictMode";case A:return"Suspense";case k:return"SuspenseList";case I:return"Activity"}if(typeof T=="object")switch(typeof T.tag=="number"&&console.error("Received an unexpected object in getComponentNameFromType(). This is likely a bug in React. Please file an issue."),T.$$typeof){case N:return"Portal";case w:return(T.displayName||"Context")+".Provider";case M:return(T._context.displayName||"Context")+".Consumer";case _:var se=T.render;return T=T.displayName,T||(T=se.displayName||se.name||"",T=T!==""?"ForwardRef("+T+")":"ForwardRef"),T;case R:return se=T.displayName||null,se!==null?se:e(T.type)||"Memo";case H:se=T._payload,T=T._init;try{return e(T(se))}catch{}}return null}function t(T){return""+T}function r(T){try{t(T);var se=!1}catch{se=!0}if(se){se=console;var P=se.error,re=typeof Symbol=="function"&&Symbol.toStringTag&&T[Symbol.toStringTag]||T.constructor.name||"Object";return P.call(se,"The provided key is an unsupported type %s. This value must be coerced to a string before using it here.",re),t(T)}}function a(T){if(T===y)return"<>";if(typeof T=="object"&&T!==null&&T.$$typeof===H)return"<...>";try{var se=e(T);return se?"<"+se+">":"<...>"}catch{return"<...>"}}function i(){var T=L.A;return T===null?null:T.getOwner()}function s(){return Error("react-stack-top-frame")}function l(T){if(ee.call(T,"key")){var se=Object.getOwnPropertyDescriptor(T,"key").get;if(se&&se.isReactWarning)return!1}return T.key!==void 0}function c(T,se){function P(){E||(E=!0,console.error("%s: `key` is not a prop. Trying to access it will result in `undefined` being returned. If you need to access the same value within the child component, you should pass it as a different prop. (https://react.dev/link/special-props)",se))}P.isReactWarning=!0,Object.defineProperty(T,"key",{get:P,configurable:!0})}function d(){var T=e(this.type);return v[T]||(v[T]=!0,console.error("Accessing element.ref was removed in React 19. ref is now a regular prop. It will be removed from the JSX Element type in a future release.")),T=this.props.ref,T!==void 0?T:null}function u(T,se,P,re,$,le,te,K){return P=le.ref,T={$$typeof:p,type:T,key:se,props:le,_owner:$},(P!==void 0?P:null)!==null?Object.defineProperty(T,"ref",{enumerable:!1,get:d}):Object.defineProperty(T,"ref",{enumerable:!1,value:null}),T._store={},Object.defineProperty(T._store,"validated",{configurable:!1,enumerable:!1,writable:!0,value:0}),Object.defineProperty(T,"_debugInfo",{configurable:!1,enumerable:!1,writable:!0,value:null}),Object.defineProperty(T,"_debugStack",{configurable:!1,enumerable:!1,writable:!0,value:te}),Object.defineProperty(T,"_debugTask",{configurable:!1,enumerable:!1,writable:!0,value:K}),Object.freeze&&(Object.freeze(T.props),Object.freeze(T)),T}function f(T,se,P,re,$,le,te,K){var X=se.children;if(X!==void 0)if(re)if(ue(X)){for(re=0;re<X.length;re++)g(X[re]);Object.freeze&&Object.freeze(X)}else console.error("React.jsx: Static children should always be an array. You are likely explicitly calling React.jsxs or React.jsxDEV. Use the Babel transform instead.");else g(X);if(ee.call(se,"key")){X=e(T);var V=Object.keys(se).filter(function(ge){return ge!=="key"});re=0<V.length?"{key: someKey, "+V.join(": ..., ")+": ...}":"{key: someKey}",W[X+re]||(V=0<V.length?"{"+V.join(": ..., ")+": ...}":"{}",console.error(`A props object containing a "key" prop is being spread into JSX:
>>>>>>> Stashed changes
  let props = %s;
  <%s {...props} />
React keys must be passed directly to JSX without using spread:
  let props = %s;
<<<<<<< Updated upstream
  <%s key={someKey} {...props} />`,te,ee,K,ee),R[ee+te]=!0)}if(ee=null,A!==void 0&&(r(A),ee=""+A),l(ne)&&(r(ne.key),ee=""+ne.key),"key"in ne){A={};for(var ae in ne)ae!=="key"&&(A[ae]=ne[ae])}else A=ne;return ee&&c(A,typeof N=="function"?N.displayName||N.name||"Unknown":N),d(N,ee,oe,L,i(),A,Ce,ie)}function g(N){typeof N=="object"&&N!==null&&N.$$typeof===p&&N._store&&(N._store.validated=1)}var b=f,p=Symbol.for("react.transitional.element"),S=Symbol.for("react.portal"),y=Symbol.for("react.fragment"),_=Symbol.for("react.strict_mode"),Y=Symbol.for("react.profiler"),T=Symbol.for("react.consumer"),I=Symbol.for("react.context"),w=Symbol.for("react.forward_ref"),z=Symbol.for("react.suspense"),$=Symbol.for("react.suspense_list"),q=Symbol.for("react.memo"),H=Symbol.for("react.lazy"),E=Symbol.for("react.activity"),v=Symbol.for("react.client.reference"),M=b.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,J=Object.prototype.hasOwnProperty,de=Array.isArray,X=console.createTask?console.createTask:function(){return null};b={react_stack_bottom_frame:function(N){return N()}};var k,x={},D=b.react_stack_bottom_frame.bind(b,s)(),he=X(a(s)),R={};Pt.Fragment=y,Pt.jsx=function(N,ne,A,te,L){var oe=1e4>M.recentlyCreatedOwnerStacks++;return h(N,ne,A,!1,te,L,oe?Error("react-stack-top-frame"):D,oe?X(a(N)):he)},Pt.jsxs=function(N,ne,A,te,L){var oe=1e4>M.recentlyCreatedOwnerStacks++;return h(N,ne,A,!0,te,L,oe?Error("react-stack-top-frame"):D,oe?X(a(N)):he)}})()),Pt}var ts;function hd(){return ts||(ts=1,process.env.NODE_ENV==="production"?Cn.exports=dd():Cn.exports=ud()),Cn.exports}var n=hd(),gr={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/var ns;function fd(){return ns||(ns=1,(function(e){(function(){var t={}.hasOwnProperty;function r(){for(var s="",l=0;l<arguments.length;l++){var c=arguments[l];c&&(s=i(s,a(c)))}return s}function a(s){if(typeof s=="string"||typeof s=="number")return s;if(typeof s!="object")return"";if(Array.isArray(s))return r.apply(null,s);if(s.toString!==Object.prototype.toString&&!s.toString.toString().includes("[native code]"))return s.toString();var l="";for(var c in s)t.call(s,c)&&s[c]&&(l=i(l,c));return l}function i(s,l){return l?s?s+" "+l:s+l:s}e.exports?(r.default=r,e.exports=r):window.classNames=r})()})(gr)),gr.exports}var md=fd();const se=cd(md),gd=({text:e,href:t,openInNewWindow:r=!1,className:a,...i})=>{const s=se("nhsuk-action-link__link",a);return n.jsx("div",{className:"nhsuk-action-link",children:n.jsxs("a",{className:s,href:t,target:r?"_blank":void 0,rel:r?"noopener noreferrer":void 0,...i,children:[n.jsxs("svg",{className:"nhsuk-icon nhsuk-icon__arrow-right-circle",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24","aria-hidden":"true",width:"36",height:"36",children:[n.jsx("path",{d:"M0 0h24v24H0z",fill:"none"}),n.jsx("path",{d:"M12 2a10 10 0 0 0-9.95 9h11.64L9.74 7.05a1 1 0 0 1 1.41-1.41l5.66 5.65a1 1 0 0 1 0 1.42l-5.66 5.65a1 1 0 0 1-1.41 0 1 1 0 0 1 0-1.41L13.69 13H2.05A10 10 0 1 0 12 2z"})]}),n.jsx("span",{className:"nhsuk-action-link__text",children:e})]})})},rs=({ariaLabel:e="Account",items:t=[],className:r,variant:a="default"})=>{if(!t||t.length===0)return null;const i=s=>{const l=s.icon?n.jsx("svg",{className:"nhsuk-icon nhsuk-icon__user",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24","aria-hidden":"true",focusable:"false",role:"img","aria-label":s.icon===!0?"User":void 0,children:n.jsx("path",{d:"M12 1a11 11 0 1 1 0 22 11 11 0 0 1 0-22Zm0 2a9 9 0 0 0-5 16.5V18a4 4 0 0 1 4-4h2a4 4 0 0 1 4 4v1.5A9 9 0 0 0 12 3Zm0 3a3.5 3.5 0 1 1-3.5 3.5A3.4 3.4 0 0 1 12 6Z"})}):null,c=s.html?n.jsx("span",{dangerouslySetInnerHTML:{__html:s.html}}):s.text,u=n.jsxs(n.Fragment,{children:[l,c]});return s.href?n.jsx("a",{className:"nhsuk-account__link nhsuk-header__account-link",href:s.href,children:u}):s.action?n.jsx("form",{className:"nhsuk-account__form",action:s.action,method:s.method||"post",children:n.jsx("button",{className:"nhsuk-account__button",type:"submit",role:"button",children:u})}):n.jsx("span",{children:u})};return n.jsx("nav",{className:se("nhsuk-account",{"nhsuk-account--white":a==="white"},r),"aria-label":e,children:n.jsx("ul",{className:"nhsuk-account__list",children:t.map((s,l)=>s&&n.jsx("li",{className:se("nhsuk-account__item nhsuk-header__account-item",s.className),children:i(s)},l))})})};function pd(e){const t=e.variant||"primary",r=e.size||"default",a=!!e.fullWidth,i=["nhs-aria-button",`nhs-aria-button--${t}`,r!=="default"?`nhs-aria-button--${r}`:"",a?"nhs-aria-button--full-width":"",e.className||""].filter(Boolean).join(" ");return{tag:e.href?"a":"button",classes:i,data:{module:"nhs-button"},attrs:e.href?{href:e.href,role:"button"}:{type:"button"},preventDoubleClick:!!e.preventDoubleClick}}const{forwardRef:bd,useCallback:bt,useState:pr}=le;function yd(e,t){const{children:r,variant:a="primary",size:i="default",fullWidth:s=!1,className:l="",preventDoubleClick:c=!1,...u}=e,[d,h]=pr(!1),[g,b]=pr(!1),[p,S]=pr(!1),y=pd({variant:a,size:i,fullWidth:s,className:l,preventDoubleClick:c,href:"href"in u?u.href:void 0}),_="disabled"in u?u.disabled:u["aria-disabled"]==="true",Y={...d&&{"data-pressed":"true"},...g&&{"data-hovered":"true"},...p&&{"data-focused":"true"},..._&&{"data-disabled":"true"}},T=bt(()=>!_&&h(!0),[_]),I=bt(()=>h(!1),[]),w=bt(()=>!_&&b(!0),[_]),z=bt(()=>{b(!1),h(!1)},[]),$=bt(()=>S(!0),[]),q=bt(()=>S(!1),[]),H=bt(ee=>{ee.key===" "&&("href"in u||ee.currentTarget.getAttribute("role")==="button")&&(ee.preventDefault(),ee.currentTarget.click())},[u]),E=bt(ee=>{if(c){const K=ee.currentTarget;if(K.getAttribute("data-processing")==="true"){ee.preventDefault();return}K.setAttribute("data-processing","true"),setTimeout(()=>{K.removeAttribute("data-processing")},1e3)}},[c]);if("href"in u&&u.href){const{id:ee,style:K,title:ae,["aria-label"]:ge,["aria-describedby"]:W,["aria-labelledby"]:je,tabIndex:be,...pe}=u,ue=u;return n.jsx("a",{ref:t,href:ue.href,target:ue.target,rel:ue.rel,className:y.classes,role:"button",draggable:"false","data-module":"nhs-button",...Y,...c&&{"data-prevent-double-click":"true"},...pe,onKeyDown:ye=>{ue.onKeyDown?.(ye),H(ye)},onClick:ye=>{ue.onClick?.(ye),E(ye)},onMouseDown:ye=>{ue.onMouseDown?.(ye),T()},onMouseUp:ye=>{ue.onMouseUp?.(ye),I()},onMouseEnter:ye=>{ue.onMouseEnter?.(ye),w()},onMouseLeave:ye=>{ue.onMouseLeave?.(ye),z()},onFocus:ye=>{ue.onFocus?.(ye),$()},onBlur:ye=>{ue.onBlur?.(ye),q()},"aria-disabled":ue["aria-disabled"],...ue["aria-disabled"]==="true"&&{tabIndex:-1},id:ee,style:K,title:ae,"aria-label":ge,"aria-describedby":W,"aria-labelledby":je,tabIndex:be,children:r})}const{id:v,style:M,title:J,["aria-label"]:de,["aria-describedby"]:X,["aria-labelledby"]:k,tabIndex:x,name:D,value:he,form:R,formAction:N,formEncType:ne,formMethod:A,formNoValidate:te,formTarget:L,autoFocus:oe,...Ce}=u,ie=u;return n.jsx("button",{ref:t,type:ie.type||"button",disabled:ie.disabled,className:y.classes,"data-module":"nhs-button",...Y,...c&&{"data-prevent-double-click":"true"},...ie.disabled&&{"aria-disabled":"true"},...Ce,onKeyDown:ee=>{ie.onKeyDown?.(ee),H(ee)},onClick:ee=>{ie.onClick?.(ee),E(ee)},onMouseDown:ee=>{ie.onMouseDown?.(ee),T()},onMouseUp:ee=>{ie.onMouseUp?.(ee),I()},onMouseEnter:ee=>{ie.onMouseEnter?.(ee),w()},onMouseLeave:ee=>{ie.onMouseLeave?.(ee),z()},onFocus:ee=>{ie.onFocus?.(ee),$()},onBlur:ee=>{ie.onBlur?.(ee),q()},id:v,style:M,title:J,"aria-label":de,"aria-describedby":X,"aria-labelledby":k,tabIndex:x,name:D,value:he,form:R,formAction:N,formEncType:ne,formMethod:A,formNoValidate:te,formTarget:L,autoFocus:oe,children:r})}const He=bd(yd);He.displayName="Button";const jn=({text:e="Back",html:t,href:r="#",className:a,element:i="a",onClick:s,...l})=>{const c=se("nhsuk-back-link",a),u=se("nhsuk-back-link__link"),d=()=>n.jsxs(n.Fragment,{children:[n.jsx("svg",{className:"nhsuk-icon nhsuk-icon__chevron-left",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24","aria-hidden":"true",height:"24",width:"24",children:n.jsx("path",{d:"M8.5 12c0-.3.1-.5.3-.7l5-5c.4-.4 1-.4 1.4 0s.4 1 0 1.4L10.9 12l4.3 4.3c.4.4.4 1 0 1.4s-1 .4-1.4 0l-5-5c-.2-.2-.3-.4-.3-.7z"})}),t?n.jsx("span",{dangerouslySetInnerHTML:{__html:t}}):e]});return n.jsx("div",{className:c,children:i==="button"?n.jsx("button",{className:u,onClick:s,type:"button",...l,children:d()}):n.jsx("a",{className:u,href:r,...l,children:d()})})};function xd(e){const{color:t="default",noBorder:r,closable:a,disabled:i,className:s}=e;return{classes:["nhsuk-tag",t!=="default"?`nhsuk-tag--${t}`:"",r?"nhsuk-tag--no-border":"",a?"nhsuk-tag--closable":"",i?"nhsuk-tag--disabled":"",s||""].filter(Boolean).join(" "),showClose:!!a,disabled:!!i}}const qe=({text:e,html:t,children:r,color:a="default",noBorder:i=!1,closable:s=!1,onClose:l,disabled:c=!1,className:u,...d})=>{const h=xd({color:a,noBorder:i,closable:s,disabled:c,className:u}),g=b=>{b.preventDefault(),b.stopPropagation(),!c&&l&&l()};return n.jsxs("strong",{className:h.classes,...d,children:[r||(t?n.jsx("span",{dangerouslySetInnerHTML:{__html:t}}):e),s&&n.jsx("button",{type:"button",className:"nhsuk-tag__close",onClick:g,disabled:c,"aria-label":"Remove",title:"Remove",children:"Ã—"})]})},as=({id:e,name:t,checked:r,defaultChecked:a=!1,disabled:i=!1,value:s="true",hint:l,errorMessage:c,className:u,children:d,onChange:h,onBlur:g,onFocus:b,attributes:p,...S})=>{const[y,_]=f.useState(a),Y=r!==void 0,T=Y?r:y;f.useEffect(()=>{Y||_(a)},[a,Y]);const I=H=>{const E=H.target.checked;Y||_(E),h?.(E,H)},w=l?`${e}-hint`:void 0,z=c?`${e}-error`:void 0,$=[w,z].filter(Boolean).join(" ")||void 0,q=se("nhsuk-form-group",{"nhsuk-form-group--error":!!c},u);return n.jsx("div",{className:q,...S,children:n.jsx("div",{className:"nhsuk-checkboxes",children:n.jsxs("div",{className:"nhsuk-checkboxes__item",children:[n.jsx("input",{className:"nhsuk-checkboxes__input",id:e,name:t||e,type:"checkbox",value:s,checked:T,disabled:i,onChange:I,onBlur:g,onFocus:b,"aria-describedby":$,...p}),n.jsx("label",{className:"nhsuk-checkboxes__label",htmlFor:e,children:d}),l&&n.jsx("div",{id:w,className:"nhsuk-checkboxes__hint",children:l}),c&&n.jsxs("div",{id:z,className:"nhsuk-error-message nhsuk-checkboxes__error",children:[n.jsx("span",{className:"nhsuk-u-visually-hidden",children:"Error:"})," ",c]})]})})})};as.displayName="Checkbox";function vd(e){const r=(e.type||"text")==="range";return{classes:["nhsuk-input",e.hasError?"nhsuk-input--error":"",r?"nhsuk-input--range":"",!r&&e.width&&e.width!=="full"?`nhsuk-input--width-${e.width}`:"",e.className||""].filter(Boolean).join(" "),isRange:r}}const Nn=({id:e,name:t,type:r="text",value:a,defaultValue:i,placeholder:s,disabled:l=!1,readOnly:c=!1,required:u=!1,hasError:d=!1,describedBy:h,className:g,width:b="full",inputMode:p,autoComplete:S,maxLength:y,minLength:_,pattern:Y,step:T,min:I,max:w,showValueLabels:z=!1,showCurrentValue:$=!1,valueLabels:q,onChange:H,onBlur:E,onFocus:v,onKeyDown:M,...J})=>{const[de,X]=f.useState(a||i||(r==="range"?I||"0":""));f.useEffect(()=>{a!==void 0&&X(a)},[a]);const k=L=>{const oe=L.target;X(oe.value),("type"in L&&L.nativeEvent||L.type==="keydown")&&H?.(L)},{classes:x,isRange:D}=vd({type:r,hasError:d,width:b,className:g}),he=a!==void 0,R={id:e,name:t,type:r,placeholder:s,disabled:l,readOnly:c,required:u,"aria-describedby":h,inputMode:p,autoComplete:S,maxLength:y,minLength:_,pattern:Y,step:T,min:I,max:w,onChange:k,onBlur:E,onFocus:v,onKeyDown:L=>{if(D&&/[0-9]/.test(L.key)){const oe=(de?.toString()||"")+L.key;L.target.value=oe,k(L)}M?.(L)},...J},N=!he&&i!==void 0?{defaultValue:i}:{},ne=he?{value:a}:{},A=()=>n.jsx("input",{className:x,...ne,...N,"data-current-value":de,...R}),te=D?n.jsxs("div",{className:"nhsuk-input-range-wrapper",children:[z&&n.jsxs("div",{className:"nhsuk-input-range-labels",children:[n.jsx("span",{className:"nhsuk-input-range-label nhsuk-input-range-label--min",children:q?.min||I||"0"}),A(),n.jsx("span",{className:"nhsuk-input-range-label nhsuk-input-range-label--max",children:q?.max||w||"100"})]}),!z&&A(),$&&n.jsx("div",{className:"nhsuk-input-range-current-value",children:n.jsxs("span",{className:"nhsuk-input-range-current-label",children:[q?.current||"Current value:"," ",n.jsx("strong",{children:de})]})})]}):null;return D?te:n.jsx("input",{className:x,id:e,name:t,type:r,value:a,...a===void 0&&i!==void 0?{defaultValue:i}:{},placeholder:s,disabled:l,readOnly:c,required:u,"aria-describedby":h,inputMode:p,autoComplete:S,maxLength:y,minLength:_,pattern:Y,step:T,min:I,max:w,onChange:H,onBlur:E,onFocus:v,onKeyDown:M,...J})};function kd(e){const t=e.size||"m",r=["nhsuk-label",t!=="m"?`nhsuk-label--${t}`:"",e.className||""].filter(Boolean).join(" ");return{tag:e.isPageHeading?"h1":"label",classes:r,size:t,htmlFor:e.isPageHeading?void 0:e.htmlFor,isPageHeading:!!e.isPageHeading}}const Tn=({htmlFor:e,className:t,isPageHeading:r=!1,size:a="m",children:i,...s})=>{const l=kd({size:a,isPageHeading:r,className:t,htmlFor:e}),c=l.tag;return n.jsx(c,{className:l.classes,htmlFor:l.htmlFor,...s,children:r?n.jsx("label",{className:"nhsuk-label-wrapper",htmlFor:e,children:i}):i})},Dn=({children:e,legend:t,className:r,describedBy:a,...i})=>{const s=se("nhsuk-fieldset",r),l=se("nhsuk-fieldset__legend",{[`nhsuk-fieldset__legend--${t?.size}`]:t?.size},t?.className),c=()=>{const u=t?.html?n.jsx("span",{dangerouslySetInnerHTML:{__html:t.html}}):t?.text;return t?.isPageHeading?n.jsx("h1",{className:"nhsuk-fieldset__heading",children:u}):u};return n.jsxs("fieldset",{className:s,"aria-describedby":a,...i,children:[t&&(t.text||t.html)&&n.jsx("legend",{className:l,children:c()}),e]})},ss=({items:e,name:t,idPrefix:r,legend:a,isPageHeading:i=!1,legendSize:s="l",hint:l,errorMessage:c,className:u="",small:d=!1,onChange:h,fieldsetAttributes:g,attributes:b,...p})=>{const[S,y]=f.useState(e.filter(H=>H.checked).map(H=>H.value)),_=r||t,Y=l?`${_}-hint`:void 0,T=c?`${_}-error`:void 0,I=[Y,T].filter(Boolean).join(" ")||void 0,w=(H,E)=>{let v;E?v=[...S,H]:v=S.filter(M=>M!==H),y(v),h?.(v)},z=()=>e.map((H,E)=>{const v=`${_}-${E+1}`,M=`${v}-conditional`,J=S.includes(H.value),de=H.disabled||!1;return n.jsxs("div",{className:"nhsuk-checkboxes__item",children:[n.jsx("input",{className:"nhsuk-checkboxes__input",id:v,name:t,type:"checkbox",value:H.value,checked:J,disabled:de,onChange:X=>w(H.value,X.target.checked),"aria-describedby":H.hint?`${v}-hint`:I,...H.conditional&&{"aria-controls":M,"aria-expanded":J?"true":"false"},...H.attributes}),n.jsx("label",{className:"nhsuk-checkboxes__label",htmlFor:v,children:H.text}),H.hint&&n.jsx("div",{id:`${v}-hint`,className:"nhsuk-checkboxes__hint",children:H.hint}),H.conditional&&n.jsx("div",{className:se("nhsuk-checkboxes__conditional",{"nhsuk-checkboxes__conditional--hidden":!J}),id:M,children:typeof H.conditional=="object"&&H.conditional!==null&&"label"in H.conditional&&"id"in H.conditional&&"name"in H.conditional?n.jsxs("div",{style:{marginTop:"16px"},children:[H.conditional.label&&n.jsx(Tn,{htmlFor:H.conditional.id,children:H.conditional.label}),n.jsx(Nn,{...H.conditional})]}):H.conditional})]},H.value)}),$=se("nhsuk-checkboxes",{"nhsuk-checkboxes--small":d},u),q=se("nhsuk-form-group",{"nhsuk-form-group--error":!!c});return n.jsx("div",{className:q,...b,...p,children:n.jsxs(Dn,{legend:a?{text:a,isPageHeading:i,size:s}:void 0,describedBy:I,...g,children:[l&&n.jsx("div",{id:Y,className:"nhsuk-hint",children:l}),c&&n.jsxs("div",{id:T,className:"nhsuk-error-message",children:[n.jsx("span",{className:"nhsuk-u-visually-hidden",children:"Error:"})," ",c]}),n.jsx("div",{className:$,children:z()})]})})};ss.displayName="Checkboxes";const os=({id:e,name:t,value:r,defaultValue:a,placeholder:i,disabled:s=!1,readOnly:l=!1,required:c=!1,hasError:u=!1,describedBy:d,className:h,rows:g=5,cols:b,maxLength:p,minLength:S,wrap:y="soft",resize:_="vertical",autoComplete:Y,spellCheck:T,onChange:I,onBlur:w,onFocus:z,onKeyDown:$,...q})=>{const H=se("nhsuk-textarea",{"nhsuk-textarea--error":u,[`nhsuk-textarea--resize-${_}`]:_!=="vertical"},h);return n.jsx("textarea",{className:H,id:e,name:t,value:r,defaultValue:a,placeholder:i,disabled:s,readOnly:l,required:c,"aria-describedby":d,rows:g,cols:b,maxLength:p,minLength:S,wrap:y,autoComplete:Y,spellCheck:T,onChange:I,onBlur:w,onFocus:z,onKeyDown:$,...q})};function Sd(e){return{classes:["nhsuk-hint",e.className||""].filter(Boolean).join(" "),id:e.id}}const br=({id:e,className:t,children:r,...a})=>{const i=Sd({id:e,className:t});return n.jsx("div",{className:i.classes,id:i.id,...a,children:r})},_d=({id:e,maxLength:t,maxWords:r,threshold:a=75,name:i,value:s="",rows:l,className:c,countMessage:u,onCountChange:d,onChange:h,...g})=>{const[b,p]=f.useState(s),[S,y]=f.useState(0),[_,Y]=f.useState(!1),[T,I]=f.useState(!1),w=f.useCallback(v=>r?v.trim()===""?0:v.trim().split(/\s+/).length:v.length,[r]);f.useEffect(()=>{const v=w(b),M=t||r||0,J=M-v,de=Math.floor(M*(a/100));y(J),Y(v>M),I(v>=de||v>M),d&&d(v,J)},[b,t,r,a,w,d]);const z=v=>{const M=v.target.value;p(M),h&&h(v)},$=()=>{const v=t||r||0,M=r?"word":"character",J=r?"words":"characters";if(!T)return`You can enter up to ${v} ${v===1?M:J}`;if(_){const de=Math.abs(S);return`You have ${de} ${de===1?M:J} too many`}else return`You have ${S} ${S===1?M:J} remaining`},q=se("nhsuk-character-count",c),H=se("nhsuk-character-count__message",{"nhsuk-character-count__message--disabled":!T,"nhsuk-error-message":_},u?.classes),E=se("nhsuk-js-character-count",{"nhsuk-textarea--error":_});return n.jsxs("div",{className:q,"data-module":"nhsuk-character-count","data-maxlength":t,"data-maxwords":r,"data-threshold":a,"data-testid":"character-count",children:[n.jsx(os,{id:e,name:i,value:b,rows:l,className:E,onChange:z,"aria-describedby":`${e}-info`,"aria-invalid":_||void 0,...g}),n.jsx(br,{id:`${e}-info`,className:H,role:"status","aria-live":"polite",children:$()})]})},is=({value:e,disabled:t=!1,selected:r=!1,className:a,children:i,...s})=>{const l=se("nhsuk-select__option",a);return n.jsx("option",{className:l,value:e,disabled:t,...s,children:i})},Ht=({id:e,name:t,ariaLabel:r,value:a,defaultValue:i,disabled:s=!1,required:l=!1,hasError:c=!1,describedBy:u,className:d,multiple:h=!1,size:g,autoComplete:b,options:p,children:S,onChange:y,onBlur:_,onFocus:Y,...T})=>{const I=se("nhsuk-select",{"nhsuk-select--error":c},d),w=()=>p?p.map(($,q)=>n.jsx("option",{value:$.value,disabled:$.disabled,"data-initial-selected":$.selected||void 0,children:$.text},`${$.value}-${q}`)):null,z=i===void 0&&a===void 0&&p?p.find($=>$.selected)?.value:void 0;return n.jsx("select",{className:I,id:e,name:t,"aria-label":r,value:a,defaultValue:i!==void 0?i:z,disabled:s,required:l,"aria-describedby":u,multiple:h,size:g,autoComplete:b,onChange:y,onBlur:_,onFocus:Y,...T,children:S||w()})};Ht.Option=is;function ls(e,{variant:t,selectedValue:r,enableBehaviourAttr:a,handleChange:i,handleBlur:s,handleFocus:l,handleKeyDown:c,itemsRef:u}){const{name:d,hasError:h=!1,describedBy:g,className:b,size:p="normal",inline:S=!1,options:y,..._}=e,Y=se("nhsuk-radios",{"nhsuk-radios--error":h,"nhsuk-radios--small":p==="small","nhsuk-radios--inline":S},b);return n.jsx(Dn,{children:n.jsx("div",{className:Y,..._,...a?{"data-nhs-behaviour":"radios"}:{},children:y.map((T,I)=>{const w=`${d}-${I}`,z=T.conditional?`${w}-conditional`:void 0,$=r===T.value;return n.jsxs("div",{className:"nhsuk-radios__item",children:[n.jsx("input",{className:"nhsuk-radios__input",id:w,name:d,type:"radio",value:T.value,disabled:T.disabled,...t==="client"?{checked:$,onChange:i,onBlur:s,onFocus:l,onKeyDown:c,ref:q=>{q&&u&&(u.current[I]=q)}}:{defaultChecked:$,"data-nhs-radios-input":!0},"aria-describedby":g}),n.jsx("label",{className:"nhsuk-radios__label",htmlFor:w,children:T.text}),T.hint&&n.jsx("div",{className:"nhsuk-radios__hint",children:T.hint}),T.conditional&&n.jsx("div",{className:se("nhsuk-radios__conditional",{"nhsuk-radios__conditional--hidden":!$}),id:z,...t==="server"?{"data-nhs-radios-conditional":!0}:{},children:typeof T.conditional=="object"&&T.conditional!==null&&"label"in T.conditional&&"id"in T.conditional&&"name"in T.conditional?n.jsxs("div",{style:{marginTop:"16px"},children:[T.conditional.label&&n.jsx(Tn,{htmlFor:T.conditional.id,children:T.conditional.label}),n.jsx(Nn,{...T.conditional})]}):T.conditional})]},T.value)})})})}const wd=({value:e,defaultValue:t,onChange:r,onBlur:a,onFocus:i,...s})=>{const[l,c]=f.useState(e||t||""),u=f.useRef([]),d=g=>{const b=g.target.value;c(b),r?.(g)},h=f.useCallback(g=>{const{key:b}=g;if(!["ArrowDown","ArrowUp","ArrowRight","ArrowLeft"].includes(b))return;g.preventDefault();const p=u.current.filter(Y=>Y&&!Y.disabled),S=p.indexOf(g.currentTarget);if(S===-1)return;let y=S;["ArrowDown","ArrowRight"].includes(b)?y=(S+1)%p.length:["ArrowUp","ArrowLeft"].includes(b)&&(y=(S-1+p.length)%p.length);const _=p[y];_&&(_.focus(),_.checked||_.click())},[]);return ls({value:e,defaultValue:t,onChange:r,onBlur:a,onFocus:i,...s},{variant:"client",selectedValue:l,enableBehaviourAttr:!1,handleChange:d,handleBlur:a,handleFocus:i,handleKeyDown:h,itemsRef:u})},Cd=({value:e,defaultValue:t,...r})=>{const a=e||t||"";return ls({value:e,defaultValue:t,...r},{variant:"server",selectedValue:a,enableBehaviourAttr:!0})},yr=({children:e,className:t,fluid:r=!1,maxWidth:a,style:i,...s})=>{const l=se({"nhsuk-width-container":!r,"nhsuk-width-container-fluid":r},t),c=a?{maxWidth:a,...i||{}}:i;return n.jsx("div",{className:l,style:c,...s,children:e})},yt=({children:e,className:t,style:r,...a})=>{const i=se("nhsuk-grid-row",t);return n.jsx("div",{className:i,style:r,...a,children:e})},Nt=({children:e,width:t="full",mobileWidth:r,tabletWidth:a,desktopWidth:i,start:s,className:l,forceWidth:c=!1,style:u,...d})=>{const h=se({[`nhsuk-grid-column-${t}`]:!c,[`nhsuk-u-${t}`]:c,[`nhsuk-u-${r}-mobile`]:r,[`nhsuk-u-${a}-tablet`]:a,[`nhsuk-u-${i}-desktop`]:i,[`nhsuk-grid-column-start-${s}`]:s&&s>=1&&s<=7},l);return n.jsx("div",{className:h,style:u,...d,children:e})},Bn=({children:e,className:t,style:r,...a})=>{const s=f.Children.toArray(e)[0],l=f.isValidElement(s)&&(s.type===yt||typeof s.props=="object"&&s.props&&"className"in s.props&&typeof s.props.className=="string"&&s.props.className.includes("nhsuk-grid-row"));return n.jsx(yr,{className:t,style:r,...a,children:l?e:n.jsx(yt,{children:e})})},jd=({children:e,type:t="bullet",size:r="medium",border:a=!1,className:i,role:s,as:l,...c})=>{const u=l||(t==="number"?"ol":"ul"),d=se("nhsuk-list",{"nhsuk-list--bullet":t==="bullet","nhsuk-list--number":t==="number","nhsuk-list--none":t==="none","nhsuk-list--border":a,[`nhsuk-list--${r}`]:r!=="medium"},i);return n.jsx(u,{className:d,role:s,...c,children:e})},Nd=({children:e,className:t,...r})=>{const a=se("nhsuk-list__item",t);return n.jsx("li",{className:a,...r,children:e})},cs=jd;cs.Item=Nd;const Td=({debug:e=!1,className:t,children:r,...a})=>{if(!r)return null;const i=["nhsuk-spacing-utilities",e&&"nhsuk-spacing-utilities--debug",t].filter(Boolean).join(" ");return n.jsx("div",{className:i,...a,children:r})},Dd={margin:e=>`nhsuk-u-margin-${e}`,marginTop:e=>`nhsuk-u-margin-top-${e}`,marginRight:e=>`nhsuk-u-margin-right-${e}`,marginBottom:e=>`nhsuk-u-margin-bottom-${e}`,marginLeft:e=>`nhsuk-u-margin-left-${e}`,padding:e=>`nhsuk-u-padding-${e}`,paddingTop:e=>`nhsuk-u-padding-top-${e}`,paddingRight:e=>`nhsuk-u-padding-right-${e}`,paddingBottom:e=>`nhsuk-u-padding-bottom-${e}`,paddingLeft:e=>`nhsuk-u-padding-left-${e}`,marginResponsive:e=>`nhsuk-u-margin-responsive-${e}`,marginTopResponsive:e=>`nhsuk-u-margin-top-responsive-${e}`,marginRightResponsive:e=>`nhsuk-u-margin-right-responsive-${e}`,marginBottomResponsive:e=>`nhsuk-u-margin-bottom-responsive-${e}`,marginLeftResponsive:e=>`nhsuk-u-margin-left-responsive-${e}`,paddingResponsive:e=>`nhsuk-u-padding-responsive-${e}`,paddingTopResponsive:e=>`nhsuk-u-padding-top-responsive-${e}`,paddingRightResponsive:e=>`nhsuk-u-padding-right-responsive-${e}`,paddingBottomResponsive:e=>`nhsuk-u-padding-bottom-responsive-${e}`,paddingLeftResponsive:e=>`nhsuk-u-padding-left-responsive-${e}`},Bd=({debug:e=!1,className:t,children:r,...a})=>{if(!r)return null;const i=["nhsuk-width-utilities",e&&"nhsuk-width-utilities--debug",t].filter(Boolean).join(" ");return n.jsx("div",{className:i,...a,children:r})},Fd={width:e=>`nhsuk-u-width-${e}`,widthTablet:e=>`nhsuk-u-width-${e}-tablet`},Id=["full","three-quarters","two-thirds","one-half","one-third","one-quarter"],xr=({as:e="main",size:t="default",className:r,children:a,...i})=>{const s=["nhsuk-main-wrapper",t==="large"&&"nhsuk-main-wrapper--l",t==="small"&&"nhsuk-main-wrapper--s",r].filter(Boolean).join(" ");return n.jsx(e,{className:s,...i,children:a})};function Ed(e){switch(e){case"xxl":case"xl":return 1;case"l":return 2;case"m":return 3;case"s":return 4;case"xs":return 5;default:return 2}}function Md(e){const t=e.level??Ed(e.size),r=["nhsuk-heading",e.size?`nhsuk-heading--${e.size}`:"",e.className||""].filter(Boolean).join(" "),a=e.marginBottom?{marginBottom:e.marginBottom}:void 0;return{tag:`h${t}`,classes:r,style:a}}const Ze=({level:e,className:t,text:r,html:a,children:i,size:s,marginBottom:l,...c})=>{const u=Md({level:e,size:s,className:t,marginBottom:l}),d=i||(a?n.jsx("span",{dangerouslySetInnerHTML:{__html:a}}):r);return f.createElement(u.tag,{className:u.classes,style:u.style,...c},d)};function Ld(e){return{classes:["nhsuk-error-message",e.className||""].filter(Boolean).join(" "),id:e.id,visuallyHiddenText:e.visuallyHiddenText??"Error:"}}const vr=({id:e,className:t,visuallyHiddenText:r="Error:",children:a,...i})=>{const s=Ld({id:e,className:t,visuallyHiddenText:r});return n.jsxs("span",{className:s.classes,id:s.id,...i,children:[n.jsxs("span",{className:"nhsuk-u-visually-hidden",children:[s.visuallyHiddenText," "]}),a]})},Ad=({titleText:e="There is a problem",titleHtml:t,descriptionText:r,descriptionHtml:a,errorList:i,className:s,children:l,...c})=>{const u=f.useRef(null);f.useEffect(()=>{u.current&&u.current.focus()},[]);const d=se("nhsuk-error-summary",s),h=()=>t?n.jsx("span",{dangerouslySetInnerHTML:{__html:t}}):e,g=()=>a?n.jsx("span",{dangerouslySetInnerHTML:{__html:a}}):r,b=p=>{const S=p.html?n.jsx("span",{dangerouslySetInnerHTML:{__html:p.html}}):p.text;return p.href?n.jsx("a",{href:p.href,...p.attributes,children:S}):S};return n.jsxs("div",{ref:u,className:d,"aria-labelledby":"error-summary-title",role:"alert",tabIndex:-1,"data-module":"nhsuk-error-summary",...c,children:[n.jsx("h2",{className:"nhsuk-error-summary__title",id:"error-summary-title",children:h()}),n.jsxs("div",{className:"nhsuk-error-summary__body",children:[l&&n.jsx("div",{className:"nhsuk-error-summary__description","data-role":"description",children:l}),!l&&(r||a)&&n.jsx("div",{className:"nhsuk-error-summary__description","data-role":"description",children:g()}),n.jsx("ul",{className:"nhsuk-list nhsuk-error-summary__list",role:"list",children:i.map((p,S)=>n.jsx("li",{children:b(p)},S))})]})]})},$d=({id:e,className:t,items:r,namePrefix:a,values:i={},fieldset:s,hint:l,errorMessage:c,onChange:u,...d})=>{const[h,g]=f.useState(()=>({day:i.day||"",month:i.month||"",year:i.year||""})),[b,p]=f.useState({}),S=k=>k%4===0&&k%100!==0||k%400===0,y=(k,x)=>{const D=[31,28,31,30,31,30,31,31,30,31,30,31];return k===2&&S(x)?29:D[k-1]},_=(k,x,D)=>{if(!k)return;if(!/^\d+$/.test(k))return"Day must be a number";const he=parseInt(k,10);if(he<1||he>31)return"Day must be between 1 and 31";if(x&&D){const R=parseInt(x,10),N=parseInt(D,10);if(!isNaN(R)&&!isNaN(N)&&R>=1&&R<=12){const ne=y(R,N);if(he>ne)return`${["January","February","March","April","May","June","July","August","September","October","November","December"][R-1]} ${N} only has ${ne} days`}}},Y=k=>{if(!k)return;if(!/^\d+$/.test(k))return"Month must be a number";const x=parseInt(k,10);if(x<1||x>12)return"Month must be between 1 and 12"},T=k=>{if(!k)return;if(!/^\d+$/.test(k))return"Year must be a number";const x=parseInt(k,10),D=new Date().getFullYear();if(x<1900||x>D+10)return`Year must be between 1900 and ${D+10}`},I=(k,x,D)=>{if(!k||!x||!D)return;const he=parseInt(k,10),R=parseInt(x,10),N=parseInt(D,10);if(isNaN(he)||isNaN(R)||isNaN(N)||R<1||R>12||N<1900)return;const ne=y(R,N);he<1||he>ne},w=f.useCallback((k,x)=>{const D={...h,[k]:x};g(D),u&&u(D)},[h,u]),z=f.useCallback(k=>{const x=h[k];let D;if(k==="day")D=_(x,h.month,h.year);else if(k==="month"){if(D=Y(x),!D&&h.day){const he=_(h.day,x,h.year);p(R=>({...R,day:he}))}}else if(k==="year"&&(D=T(x),!D&&h.day&&h.month)){const he=_(h.day,h.month,x);p(R=>({...R,day:he}))}if(p(he=>({...he,[k]:D})),h.day&&h.month&&h.year){const he=I(k==="day"?x:h.day,k==="month"?x:h.month,k==="year"?x:h.year);he&&p(R=>({...R,day:he}))}},[h,_,Y,T,I]),$=f.useMemo(()=>[{name:"day",classes:"nhsuk-input--width-2",inputmode:"numeric",pattern:"[0-9]*"},{name:"month",classes:"nhsuk-input--width-2",inputmode:"numeric",pattern:"[0-9]*"},{name:"year",classes:"nhsuk-input--width-4",inputmode:"numeric",pattern:"[0-9]*"}],[]),q=r||$;let H=s?.describedBy||"";const E=l?`${e}-hint`:"",v=c?`${e}-error`:"";E&&(H=H?`${H} ${E}`:E),v&&(H=H?`${H} ${v}`:v);const M=Object.values(b).some(k=>k),J=se("nhsuk-form-group",{"nhsuk-form-group--error":c||M}),de=se("nhsuk-date-input",t),X=()=>n.jsxs(n.Fragment,{children:[l&&n.jsx(br,{id:E,className:l.classes,children:l.html?n.jsx("span",{dangerouslySetInnerHTML:{__html:l.html}}):l.text}),c&&n.jsx(vr,{id:v,className:c.classes,children:c.html?n.jsx("span",{dangerouslySetInnerHTML:{__html:c.html}}):c.text}),Object.entries(b).map(([k,x])=>x?n.jsxs(vr,{id:`${e}-${k}-error`,className:"nhsuk-error-message",children:[n.jsx("span",{className:"nhsuk-u-visually-hidden",children:"Error:"})," ",x]},`${k}-error`):null),n.jsx("div",{className:de,id:e,"data-testid":"date-input",...d,children:q.map(k=>{const x=k.id||`${e}-${k.name}`,D=a?`${a}[${k.name}]`:k.name,he=k.label||k.name.charAt(0).toUpperCase()+k.name.slice(1),R=b[k.name],N=h[k.name]||"";let ne=H;if(R){const A=`${e}-${k.name}-error`;ne=ne?`${ne} ${A}`:A}return n.jsxs("div",{className:"nhsuk-date-input__item",children:[n.jsx(Tn,{htmlFor:x,className:"nhsuk-date-input__label",children:he}),n.jsx(Nn,{id:x,name:D,value:N,className:se("nhsuk-date-input__input",k.classes,{"nhsuk-input--error":R}),inputMode:k.inputmode,autoComplete:k.autocomplete,pattern:k.pattern,"aria-describedby":ne||void 0,hasError:!!R,onChange:A=>w(k.name,A.target.value),onBlur:()=>z(k.name)})]},k.name)})})]});return n.jsx("div",{className:J,children:s?n.jsx(Dn,{className:s.classes,legend:s.legend?{text:s.legend}:void 0,describedBy:H||void 0,children:X()}):X()})},ds={animation:{AnimationDurationFast:"150ms",AnimationDurationNormal:"300ms",AnimationDurationSlow:"500ms",AnimationEasingEaseIn:"cubic-bezier(0.4, 0, 1, 1)",AnimationEasingEaseOut:"cubic-bezier(0, 0, 0.2, 1)",AnimationEasingEaseInOut:"cubic-bezier(0.4, 0, 0.2, 1)",AnimationEasingBounce:"cubic-bezier(0.68, -0.55, 0.265, 1.55)"},transition:{TransitionButtonDefault:"background-color 300ms cubic-bezier(0, 0, 0.2, 1)",TransitionButtonShadow:"box-shadow 150ms cubic-bezier(0, 0, 0.2, 1)",TransitionInputFocus:"border-color 150ms cubic-bezier(0, 0, 0.2, 1), box-shadow 150ms cubic-bezier(0, 0, 0.2, 1)",TransitionCardHover:"border-color 300ms cubic-bezier(0, 0, 0.2, 1)"},border:{BorderWidthDefault:"1px",BorderWidthFormElement:"2px",BorderWidthFormElementError:"4px",BorderWidthCardBottom:"4px",BorderWidthPanel:"4px",BorderWidthTableHeader:"2px",BorderWidthTableCell:"1px",BorderRadiusNone:"0px",BorderRadiusSmall:"4px",BorderRadiusMedium:"8px",BorderRadiusLarge:"12px",BorderColorDefault:"#d8dde0",BorderColorForm:"#4c6272",BorderColorCard:"#d8dde0",BorderColorCardHover:"#aeb7bd",BorderColorError:"#d5281b"},color:{ColorPrimaryBlue:"#005eb8",ColorPrimaryWhite:"#ffffff",ColorPrimaryBlack:"#212b32",ColorPrimaryGreen:"#007f3b",ColorPrimaryPurple:"#330072",ColorPrimaryDarkPink:"#7c2855",ColorPrimaryRed:"#d5281b",ColorPrimaryYellow:"#ffeb3b",ColorSecondaryPaleYellow:"#fff9c4",ColorSecondaryWarmYellow:"#ffb81c",ColorSecondaryOrange:"#ed8b00",ColorSecondaryAquaGreen:"#00a499",ColorSecondaryPink:"#ae2573",ColorGrey1:"#4c6272",ColorGrey2:"#768692",ColorGrey3:"#aeb7bd",ColorGrey4:"#d8dde0",ColorGrey5:"#f0f4f5",ColorTextPrimary:"#212b32",ColorTextSecondary:"#4c6272",ColorTextReverse:"#ffffff",ColorTextPrint:"#212b32",ColorLinkDefault:"#005eb8",ColorLinkHover:"#7c2855",ColorLinkActive:"#003087",ColorLinkVisited:"#330072",ColorFocusBackground:"#ffeb3b",ColorFocusText:"#212b32",ColorBorderDefault:"#d8dde0",ColorBorderSecondary:"#ffffff33",ColorError:"#d5281b",ColorFormBorder:"#4c6272",ColorFormBackground:"#ffffff",ColorButtonPrimaryBackground:"#007f3b",ColorButtonPrimaryText:"#ffffff",ColorButtonPrimaryHover:"#006530",ColorButtonPrimaryActive:"#004021",ColorButtonPrimaryShadow:"#004021",ColorButtonSecondaryBackground:"#00000000",ColorButtonSecondaryBackgroundSolid:"#ffffff",ColorButtonSecondaryBorder:"#005eb8",ColorButtonSecondaryText:"#005eb8",ColorButtonSecondaryHover:"#d9e5f2",ColorButtonSecondaryActive:"#c7daf0",ColorButtonSecondaryShadow:"#005eb8",ColorButtonReverseBackground:"#ffffff",ColorButtonReverseText:"#212b32",ColorButtonReverseHover:"#d9dde0",ColorButtonReverseActive:"#b3bcc2",ColorButtonReverseShadow:"#b3bcc2",ColorButtonWarningBackground:"#d5281b",ColorButtonWarningHover:"#aa2016",ColorButtonWarningActive:"#6a140e",ColorButtonWarningShadow:"#6a140e",ColorButtonLoginBackground:"#005eb8",ColorButtonLoginHover:"#004b93",ColorButtonLoginActive:"#002f5c",ColorButtonLoginShadow:"#002f5c"},component:{ComponentButtonPaddingMobileVertical:"8px",ComponentButtonPaddingMobileHorizontal:"16px",ComponentButtonPaddingDesktopVertical:"12px",ComponentButtonPaddingDesktopHorizontal:"16px",ComponentButtonShadowSize:"4px",ComponentFormInputMinHeight:"40px",ComponentFormInputPadding:"4px",ComponentFormCheckboxSize:"40px",ComponentFormCheckboxLabelPadding:"12px",ComponentCardPaddingMobile:"16px",ComponentCardPaddingDesktop:"32px",ComponentCardHeadingMargin:"16px",ComponentPanelPaddingMobile:"20px",ComponentPanelPaddingDesktop:"28px",ComponentBreadcrumbChevronMarginLeft:"9px",ComponentBreadcrumbChevronMarginRight:"2px",ComponentBreadcrumbPaddingTopMobile:"16px",ComponentBreadcrumbPaddingTopDesktop:"24px",ComponentSummaryListCellPaddingVertical:"8px",ComponentSummaryListCellPaddingHorizontal:"24px",ComponentSummaryListRowMargin:"16px",ComponentSpread:"4px",ComponentBlur:"4px",ComponentLink:"4px",ComponentDetails:"8px",ComponentExpander:"4px",ComponentPagination:"16px"},button:{ButtonPrimaryBackgroundDefault:"#007f3b",ButtonPrimaryBackgroundHover:"#006530",ButtonPrimaryBackgroundActive:"#004021",ButtonPrimaryBackgroundDisabled:"#d8dde0",ButtonPrimaryTextDefault:"#ffffff",ButtonPrimaryTextDisabled:"#768692",ButtonPrimaryBorderDefault:"#00000000",ButtonPrimaryBorderFocus:"#ffeb3b",ButtonSecondaryBackgroundDefault:"#00000000",ButtonSecondaryBackgroundSolid:"#ffffff",ButtonSecondaryBackgroundHover:"#d9e5f2",ButtonSecondaryBackgroundActive:"#c7daf0",ButtonSecondaryTextDefault:"#005eb8",ButtonSecondaryBorderDefault:"#005eb8",ButtonSpacingPaddingVerticalMobile:"8px",ButtonSpacingPaddingHorizontalMobile:"16px",ButtonSpacingPaddingVerticalDesktop:"12px",ButtonSpacingPaddingHorizontalDesktop:"16px",ButtonBorderWidth:"2px",ButtonBorderRadius:"4px",ButtonShadowSize:"4px",ButtonTypographyWeight:"600"},card:{CardBackgroundDefault:"#ffffff",CardBorderDefault:"#d8dde0",CardBorderHover:"#aeb7bd",CardBorderBottom:"#f0f4f5",CardTextHeading:"#212b32",CardTextDescription:"#212b32",CardTextLink:"#005eb8",CardSpacingPaddingMobile:"16px",CardSpacingPaddingDesktop:"32px",CardSpacingHeadingMargin:"16px",CardBorderWidthDefault:"1px",CardBorderWidthBottom:"4px",CardShadowDefault:"none",CardShadowHover:"0 2px 4px rgba(0, 0, 0, 0.1)"},form:{FormInputBackgroundDefault:"#ffffff",FormInputBackgroundFocus:"#ffffff",FormInputBackgroundDisabled:"#d8dde0",FormInputBackgroundError:"#ffffff",FormInputBorderDefault:"#4c6272",FormInputBorderFocus:"#ffeb3b",FormInputBorderError:"#d5281b",FormInputBorderDisabled:"#aeb7bd",FormInputTextDefault:"#212b32",FormInputTextPlaceholder:"#4c6272",FormInputTextDisabled:"#768692",FormLabelTextDefault:"#212b32",FormLabelTextRequired:"#ffffff",FormLabelTypographyWeight:"600",FormErrorTextDefault:"#d5281b",FormErrorTypographyWeight:"600",FormHintTextDefault:"#4c6272",FormSpacingInputPadding:"4px",FormSpacingInputMinHeight:"40px",FormSpacingCheckboxSize:"40px",FormSpacingCheckboxLabelPadding:"12px",FormBorderWidthDefault:"2px",FormBorderWidthError:"4px",FormBorderRadius:"0px"},size:{SizeIconSmall:"16px",SizeIconMedium:"18px",SizeIconLarge:"24px",SizeIconExtraLarge:"32px",SizeIconNhsDefault:"34px",SizeFormControlSmall:"32px",SizeFormControlMedium:"40px",SizeFormControlLarge:"48px",SizeFormInputWidthXs:"5.4ex",SizeFormInputWidthSm:"7.2ex",SizeFormInputWidthMd:"9ex",SizeFormInputWidthLg:"10.8ex",SizeFormInputWidthXl:"20ex",SizeFormInputWidth2xl:"38ex",SizeFormInputWidth3xl:"56ex",SizeButtonMinHeightMobile:"44px",SizeButtonMinHeightDesktop:"40px"},layout:{LayoutContainerMaxWidth:"1020px",LayoutColumnFull:"100%",LayoutColumnHalf:"50%",LayoutColumnThird:"33.333%",LayoutColumnQuarter:"25%",LayoutColumnActions:"20%"},breakpoint:{BreakpointMobile:"320px",BreakpointTablet:"641px",BreakpointDesktop:"1025px",BreakpointLargeDesktop:"1280px"},grid:{GridPageWidth:"960px",GridGutter:"32px",GridGutterHalf:"16px"},state:{StateErrorBackground:"#d5281b",StateErrorBorder:"#d5281b",StateErrorText:"#ffffff",StateSuccessBackground:"#007f3b",StateSuccessBorder:"#007f3b",StateSuccessText:"#ffffff",StateWarningBackground:"#ffeb3b",StateWarningBorder:"#ffeb3b",StateWarningText:"#212b32",StateInfoBackground:"#005eb8",StateInfoBorder:"#005eb8",StateInfoText:"#ffffff",StateDisabledBackground:"#d8dde0",StateDisabledBorder:"#aeb7bd",StateDisabledText:"#768692"},shadow:{ShadowButtonDefault:"0 4px 0 #004021",ShadowButtonSecondary:"0 4px 0 #005eb8",ShadowButtonWarning:"0 4px 0 #6a140e",ShadowButtonFocus:"0 4px 0 #ffeb3b",ShadowCardDefault:"none",ShadowCardHover:"0 2px 4px rgba(0, 0, 0, 0.1)"},"focus-outline":{FocusOutlineWidth:"4px",FocusOutlineOffset:"0px",FocusOutlineStyle:"solid"},"focus-shadow":{FocusShadowInput:"0 0 0 3px #ffeb3b",FocusShadowButton:"0 0 0 3px #ffeb3b"},elevation:{ElevationNone:"none",ElevationLow:"0 1px 3px rgba(0, 0, 0, 0.12)",ElevationMedium:"0 2px 6px rgba(0, 0, 0, 0.16)",ElevationHigh:"0 4px 12px rgba(0, 0, 0, 0.20)"},spacing:{Spacing0:"0",Spacing1:"4px",Spacing2:"8px",Spacing3:"16px",Spacing4:"24px",Spacing5:"32px",Spacing6:"40px",Spacing7:"48px",Spacing8:"56px",Spacing9:"64px"},"spacing-responsive":{SpacingResponsive0Mobile:"0",SpacingResponsive0Tablet:"0",SpacingResponsive1Mobile:"4px",SpacingResponsive1Tablet:"4px",SpacingResponsive2Mobile:"8px",SpacingResponsive2Tablet:"8px",SpacingResponsive3Mobile:"8px",SpacingResponsive3Tablet:"16px",SpacingResponsive4Mobile:"16px",SpacingResponsive4Tablet:"24px",SpacingResponsive5Mobile:"24px",SpacingResponsive5Tablet:"32px",SpacingResponsive6Mobile:"32px",SpacingResponsive6Tablet:"40px",SpacingResponsive7Mobile:"40px",SpacingResponsive7Tablet:"48px",SpacingResponsive8Mobile:"48px",SpacingResponsive8Tablet:"56px",SpacingResponsive9Mobile:"56px",SpacingResponsive9Tablet:"64px"},font:{FontFamilyBase:"Frutiger W01",FontFamilyFallback:"Arial, Helvetica, sans-serif",FontFamilyPrint:"sans-serif",FontWeightNormal:"400",FontWeightBold:"600",FontWeightLight:"400",FontSize14Mobile:"12px",FontSize14Tablet:"14px",FontSize14Print:"12pt",FontSize16Mobile:"14px",FontSize16Tablet:"16px",FontSize16Print:"12pt",FontSize19Mobile:"16px",FontSize19Tablet:"19px",FontSize19Print:"13pt",FontSize22Mobile:"19px",FontSize22Tablet:"22px",FontSize22Print:"15pt",FontSize26Mobile:"22px",FontSize26Tablet:"26px",FontSize26Print:"17pt",FontSize36Mobile:"27px",FontSize36Tablet:"36px",FontSize36Print:"20pt",FontSize48Mobile:"33px",FontSize48Tablet:"48px",FontSize48Print:"24pt",FontSizeBase:"16px",FontLineHeightBase:"24px"},headings:{xl:{fontFamily:"Frutiger W01",fontWeight:"600",fontSize:{mobile:"33px",tablet:"48px",print:"24pt"},lineHeight:"1.09",marginTop:"0",marginBottom:{mobile:"40px",tablet:"48px"}},l:{fontFamily:"Frutiger W01",fontWeight:"600",fontSize:{mobile:"27px",tablet:"36px",print:"20pt"},lineHeight:"1.11",marginTop:"0",marginBottom:{mobile:"16px",tablet:"24px"}},m:{fontFamily:"Frutiger W01",fontWeight:"600",fontSize:{mobile:"22px",tablet:"26px",print:"17pt"},lineHeight:"1.15",marginTop:"0",marginBottom:{mobile:"16px",tablet:"24px"}},s:{fontFamily:"Frutiger W01",fontWeight:"600",fontSize:{mobile:"19px",tablet:"22px",print:"15pt"},lineHeight:"1.18",marginTop:"0",marginBottom:{mobile:"16px",tablet:"24px"}},xs:{fontFamily:"Frutiger W01",fontWeight:"600",fontSize:{mobile:"16px",tablet:"19px",print:"13pt"},lineHeight:"1.26",marginTop:"0",marginBottom:{mobile:"16px",tablet:"24px"}}},paragraphs:{body:{fontFamily:"Frutiger W01",fontWeight:"400",fontSize:{mobile:"16px",tablet:"19px",print:"13pt"},lineHeight:"1.47",marginTop:"0",marginBottom:{mobile:"16px",tablet:"24px"}},bodyLarge:{fontFamily:"Frutiger W01",fontWeight:"400",fontSize:{mobile:"22px",tablet:"26px",print:"17pt"},lineHeight:"1.38",marginTop:"0",marginBottom:{mobile:"24px",tablet:"32px"}},bodySmall:{fontFamily:"Frutiger W01",fontWeight:"400",fontSize:{mobile:"14px",tablet:"16px",print:"12pt"},lineHeight:"1.5",marginTop:"0",marginBottom:{mobile:"16px",tablet:"24px"}},ledeText:{fontFamily:"Frutiger W01",fontWeight:"400",fontSize:{mobile:"22px",tablet:"26px",print:"17pt"},lineHeight:"1.38",marginTop:"0",marginBottom:{mobile:"40px",tablet:"48px"}},ledeTextSmall:{fontFamily:"Frutiger W01",fontWeight:"400",fontSize:{mobile:"16px",tablet:"19px",print:"13pt"},lineHeight:"1.47",marginTop:"0",marginBottom:{mobile:"24px",tablet:"32px"}}}},us=f.createContext(ds),Pd=({children:e,theme:t={}})=>{const r={...ds,...t};return n.jsx(us.Provider,{value:r,children:e})},Hd=()=>{const e=f.useContext(us);if(!e)throw new Error("useNHSTheme must be used within an NHSThemeProvider");return e};function Rd(){return`
=======
  <%s key={someKey} {...props} />`,re,X,V,X),W[X+re]=!0)}if(X=null,P!==void 0&&(r(P),X=""+P),l(se)&&(r(se.key),X=""+se.key),"key"in se){P={};for(var oe in se)oe!=="key"&&(P[oe]=se[oe])}else P=se;return X&&c(P,typeof T=="function"?T.displayName||T.name||"Unknown":T),u(T,X,le,$,i(),P,te,K)}function g(T){typeof T=="object"&&T!==null&&T.$$typeof===p&&T._store&&(T._store.validated=1)}var b=h,p=Symbol.for("react.transitional.element"),N=Symbol.for("react.portal"),y=Symbol.for("react.fragment"),S=Symbol.for("react.strict_mode"),q=Symbol.for("react.profiler"),M=Symbol.for("react.consumer"),w=Symbol.for("react.context"),_=Symbol.for("react.forward_ref"),A=Symbol.for("react.suspense"),k=Symbol.for("react.suspense_list"),R=Symbol.for("react.memo"),H=Symbol.for("react.lazy"),I=Symbol.for("react.activity"),x=Symbol.for("react.client.reference"),L=b.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ee=Object.prototype.hasOwnProperty,ue=Array.isArray,Q=console.createTask?console.createTask:function(){return null};b={react_stack_bottom_frame:function(T){return T()}};var E,v={},D=b.react_stack_bottom_frame.bind(b,s)(),he=Q(a(s)),W={};Ht.Fragment=y,Ht.jsx=function(T,se,P,re,$){var le=1e4>L.recentlyCreatedOwnerStacks++;return f(T,se,P,!1,re,$,le?Error("react-stack-top-frame"):D,le?Q(a(T)):he)},Ht.jsxs=function(T,se,P,re,$){var le=1e4>L.recentlyCreatedOwnerStacks++;return f(T,se,P,!0,re,$,le?Error("react-stack-top-frame"):D,le?Q(a(T)):he)}})()),Ht}var rs;function fd(){return rs||(rs=1,process.env.NODE_ENV==="production"?Cn.exports=ud():Cn.exports=hd()),Cn.exports}var n=fd(),pr={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/var as;function md(){return as||(as=1,(function(e){(function(){var t={}.hasOwnProperty;function r(){for(var s="",l=0;l<arguments.length;l++){var c=arguments[l];c&&(s=i(s,a(c)))}return s}function a(s){if(typeof s=="string"||typeof s=="number")return s;if(typeof s!="object")return"";if(Array.isArray(s))return r.apply(null,s);if(s.toString!==Object.prototype.toString&&!s.toString.toString().includes("[native code]"))return s.toString();var l="";for(var c in s)t.call(s,c)&&s[c]&&(l=i(l,c));return l}function i(s,l){return l?s?s+" "+l:s+l:s}e.exports?(r.default=r,e.exports=r):window.classNames=r})()})(pr)),pr.exports}var gd=md();const ne=dd(gd),pd=({text:e,href:t,openInNewWindow:r=!1,className:a,...i})=>{const s=ne("nhsuk-action-link__link",a);return n.jsx("div",{className:"nhsuk-action-link",children:n.jsxs("a",{className:s,href:t,target:r?"_blank":void 0,rel:r?"noopener noreferrer":void 0,...i,children:[n.jsxs("svg",{className:"nhsuk-icon nhsuk-icon__arrow-right-circle",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24","aria-hidden":"true",width:"36",height:"36",children:[n.jsx("path",{d:"M0 0h24v24H0z",fill:"none"}),n.jsx("path",{d:"M12 2a10 10 0 0 0-9.95 9h11.64L9.74 7.05a1 1 0 0 1 1.41-1.41l5.66 5.65a1 1 0 0 1 0 1.42l-5.66 5.65a1 1 0 0 1-1.41 0 1 1 0 0 1 0-1.41L13.69 13H2.05A10 10 0 1 0 12 2z"})]}),n.jsx("span",{className:"nhsuk-action-link__text",children:e})]})})},jn=({ariaLabel:e="Account",items:t=[],className:r,variant:a="default"})=>{if(!t||t.length===0)return null;const i=s=>{const l=s.icon?n.jsx("svg",{className:"nhsuk-icon nhsuk-icon__user",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24","aria-hidden":"true",focusable:"false",role:"img","aria-label":s.icon===!0?"User":void 0,children:n.jsx("path",{d:"M12 1a11 11 0 1 1 0 22 11 11 0 0 1 0-22Zm0 2a9 9 0 0 0-5 16.5V18a4 4 0 0 1 4-4h2a4 4 0 0 1 4 4v1.5A9 9 0 0 0 12 3Zm0 3a3.5 3.5 0 1 1-3.5 3.5A3.4 3.4 0 0 1 12 6Z"})}):null,c=s.html?n.jsx("span",{dangerouslySetInnerHTML:{__html:s.html}}):s.text,d=n.jsxs(n.Fragment,{children:[l,c]});return s.href?n.jsx("a",{className:"nhsuk-account__link nhsuk-header__account-link",href:s.href,children:d}):s.action?n.jsx("form",{className:"nhsuk-account__form",action:s.action,method:s.method||"post",children:n.jsx("button",{className:"nhsuk-account__button",type:"submit",role:"button",children:d})}):n.jsx("span",{children:d})};return n.jsx("nav",{className:ne("nhsuk-account",{"nhsuk-account--white":a==="white"},r),"aria-label":e,children:n.jsx("ul",{className:"nhsuk-account__list",children:t.map((s,l)=>s&&n.jsx("li",{className:ne("nhsuk-account__item nhsuk-header__account-item",s.className),children:i(s)},l))})})},{forwardRef:bd,useCallback:bt,useState:br}=ce;function yd(e,t){const{children:r,variant:a="primary",size:i="default",fullWidth:s=!1,className:l="",preventDoubleClick:c=!1,...d}=e,[u,f]=br(!1),[g,b]=br(!1),[p,N]=br(!1),y=["nhs-aria-button",`nhs-aria-button--${a}`,i!=="default"?`nhs-aria-button--${i}`:"",s?"nhs-aria-button--full-width":"",l].filter(Boolean).join(" "),S="disabled"in d?d.disabled:d["aria-disabled"]==="true",q={...u&&{"data-pressed":"true"},...g&&{"data-hovered":"true"},...p&&{"data-focused":"true"},...S&&{"data-disabled":"true"}},M=bt(()=>!S&&f(!0),[S]),w=bt(()=>f(!1),[]),_=bt(()=>!S&&b(!0),[S]),A=bt(()=>{b(!1),f(!1)},[]),k=bt(()=>N(!0),[]),R=bt(()=>N(!1),[]),H=bt(X=>{X.key===" "&&("href"in d||X.currentTarget.getAttribute("role")==="button")&&(X.preventDefault(),X.currentTarget.click())},[d]),I=bt(X=>{if(c){const V=X.currentTarget;if(V.getAttribute("data-processing")==="true"){X.preventDefault();return}V.setAttribute("data-processing","true"),setTimeout(()=>{V.removeAttribute("data-processing")},1e3)}},[c]);if("href"in d&&d.href){const{id:X,style:V,title:oe,["aria-label"]:ge,["aria-describedby"]:O,["aria-labelledby"]:Ce,tabIndex:me,...pe}=d,fe=d;return n.jsx("a",{ref:t,href:fe.href,target:fe.target,rel:fe.rel,className:y,role:"button",draggable:"false","data-module":"nhs-button",...q,...c&&{"data-prevent-double-click":"true"},...pe,onKeyDown:xe=>{fe.onKeyDown?.(xe),H(xe)},onClick:xe=>{fe.onClick?.(xe),I(xe)},onMouseDown:xe=>{fe.onMouseDown?.(xe),M()},onMouseUp:xe=>{fe.onMouseUp?.(xe),w()},onMouseEnter:xe=>{fe.onMouseEnter?.(xe),_()},onMouseLeave:xe=>{fe.onMouseLeave?.(xe),A()},onFocus:xe=>{fe.onFocus?.(xe),k()},onBlur:xe=>{fe.onBlur?.(xe),R()},"aria-disabled":fe["aria-disabled"],...fe["aria-disabled"]==="true"&&{tabIndex:-1},id:X,style:V,title:oe,"aria-label":ge,"aria-describedby":O,"aria-labelledby":Ce,tabIndex:me,children:r})}const{id:x,style:L,title:ee,["aria-label"]:ue,["aria-describedby"]:Q,["aria-labelledby"]:E,tabIndex:v,name:D,value:he,form:W,formAction:T,formEncType:se,formMethod:P,formNoValidate:re,formTarget:$,autoFocus:le,...te}=d,K=d;return n.jsx("button",{ref:t,type:K.type||"button",disabled:K.disabled,className:y,"data-module":"nhs-button",...q,...c&&{"data-prevent-double-click":"true"},...K.disabled&&{"aria-disabled":"true"},...te,onKeyDown:X=>{K.onKeyDown?.(X),H(X)},onClick:X=>{K.onClick?.(X),I(X)},onMouseDown:X=>{K.onMouseDown?.(X),M()},onMouseUp:X=>{K.onMouseUp?.(X),w()},onMouseEnter:X=>{K.onMouseEnter?.(X),_()},onMouseLeave:X=>{K.onMouseLeave?.(X),A()},onFocus:X=>{K.onFocus?.(X),k()},onBlur:X=>{K.onBlur?.(X),R()},id:x,style:L,title:ee,"aria-label":ue,"aria-describedby":Q,"aria-labelledby":E,tabIndex:v,name:D,value:he,form:W,formAction:T,formEncType:se,formMethod:P,formNoValidate:re,formTarget:$,autoFocus:le,children:r})}const Re=bd(yd);Re.displayName="Button";const Nn=({text:e="Back",html:t,href:r="#",className:a,element:i="a",onClick:s,...l})=>{const c=ne("nhsuk-back-link",a),d=ne("nhsuk-back-link__link"),u=()=>n.jsxs(n.Fragment,{children:[n.jsx("svg",{className:"nhsuk-icon nhsuk-icon__chevron-left",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24","aria-hidden":"true",height:"24",width:"24",children:n.jsx("path",{d:"M8.5 12c0-.3.1-.5.3-.7l5-5c.4-.4 1-.4 1.4 0s.4 1 0 1.4L10.9 12l4.3 4.3c.4.4.4 1 0 1.4s-1 .4-1.4 0l-5-5c-.2-.2-.3-.4-.3-.7z"})}),t?n.jsx("span",{dangerouslySetInnerHTML:{__html:t}}):e]});return n.jsx("div",{className:c,children:i==="button"?n.jsx("button",{className:d,onClick:s,type:"button",...l,children:u()}):n.jsx("a",{className:d,href:r,...l,children:u()})})},qe=({text:e,html:t,children:r,color:a="default",noBorder:i=!1,closable:s=!1,onClose:l,disabled:c=!1,className:d,...u})=>{const f=ne("nhsuk-tag",{[`nhsuk-tag--${a}`]:a!=="default","nhsuk-tag--no-border":i,"nhsuk-tag--closable":s,"nhsuk-tag--disabled":c},d),g=b=>{b.preventDefault(),b.stopPropagation(),!c&&l&&l()};return n.jsxs("strong",{className:f,...u,children:[r||(t?n.jsx("span",{dangerouslySetInnerHTML:{__html:t}}):e),s&&n.jsx("button",{type:"button",className:"nhsuk-tag__close",onClick:g,disabled:c,"aria-label":"Remove",title:"Remove",children:"Ã—"})]})},ss=({id:e,name:t,checked:r,defaultChecked:a=!1,disabled:i=!1,value:s="true",hint:l,errorMessage:c,className:d,children:u,onChange:f,onBlur:g,onFocus:b,attributes:p,...N})=>{const[y,S]=h.useState(a),q=r!==void 0,M=q?r:y;h.useEffect(()=>{q||S(a)},[a,q]);const w=H=>{const I=H.target.checked;q||S(I),f?.(I,H)},_=l?`${e}-hint`:void 0,A=c?`${e}-error`:void 0,k=[_,A].filter(Boolean).join(" ")||void 0,R=ne("nhsuk-form-group",{"nhsuk-form-group--error":!!c},d);return n.jsx("div",{className:R,...N,children:n.jsx("div",{className:"nhsuk-checkboxes",children:n.jsxs("div",{className:"nhsuk-checkboxes__item",children:[n.jsx("input",{className:"nhsuk-checkboxes__input",id:e,name:t||e,type:"checkbox",value:s,checked:M,disabled:i,onChange:w,onBlur:g,onFocus:b,"aria-describedby":k,...p}),n.jsx("label",{className:"nhsuk-checkboxes__label",htmlFor:e,children:u}),l&&n.jsx("div",{id:_,className:"nhsuk-checkboxes__hint",children:l}),c&&n.jsxs("div",{id:A,className:"nhsuk-error-message nhsuk-checkboxes__error",children:[n.jsx("span",{className:"nhsuk-u-visually-hidden",children:"Error:"})," ",c]})]})})})};ss.displayName="Checkbox";const Tn=({id:e,name:t,type:r="text",value:a,defaultValue:i,placeholder:s,disabled:l=!1,readOnly:c=!1,required:d=!1,hasError:u=!1,describedBy:f,className:g,width:b="full",inputMode:p,autoComplete:N,maxLength:y,minLength:S,pattern:q,step:M,min:w,max:_,showValueLabels:A=!1,showCurrentValue:k=!1,valueLabels:R,onChange:H,onBlur:I,onFocus:x,onKeyDown:L,...ee})=>{const[ue,Q]=h.useState(a||i||(r==="range"?w||"0":""));h.useEffect(()=>{a!==void 0&&Q(a)},[a]);const E=$=>{const le=$.target;Q(le.value),("type"in $&&$.nativeEvent||$.type==="keydown")&&H?.($)},v=r==="range",D=ne("nhsuk-input",{"nhsuk-input--error":u,"nhsuk-input--range":v,[`nhsuk-input--width-${b}`]:b!=="full"&&!v},g),he=a!==void 0,W={id:e,name:t,type:r,placeholder:s,disabled:l,readOnly:c,required:d,"aria-describedby":f,inputMode:p,autoComplete:N,maxLength:y,minLength:S,pattern:q,step:M,min:w,max:_,onChange:E,onBlur:I,onFocus:x,onKeyDown:$=>{if(v&&/[0-9]/.test($.key)){const le=(ue?.toString()||"")+$.key;$.target.value=le,E($)}L?.($)},...ee},T=!he&&i!==void 0?{defaultValue:i}:{},se=he?{value:a}:{},P=()=>n.jsx("input",{className:D,...se,...T,"data-current-value":ue,...W}),re=v?n.jsxs("div",{className:"nhsuk-input-range-wrapper",children:[A&&n.jsxs("div",{className:"nhsuk-input-range-labels",children:[n.jsx("span",{className:"nhsuk-input-range-label nhsuk-input-range-label--min",children:R?.min||w||"0"}),P(),n.jsx("span",{className:"nhsuk-input-range-label nhsuk-input-range-label--max",children:R?.max||_||"100"})]}),!A&&P(),k&&n.jsx("div",{className:"nhsuk-input-range-current-value",children:n.jsxs("span",{className:"nhsuk-input-range-current-label",children:[R?.current||"Current value:"," ",n.jsx("strong",{children:ue})]})})]}):null;return v?re:n.jsx("input",{className:D,id:e,name:t,type:r,value:a,...a===void 0&&i!==void 0?{defaultValue:i}:{},placeholder:s,disabled:l,readOnly:c,required:d,"aria-describedby":f,inputMode:p,autoComplete:N,maxLength:y,minLength:S,pattern:q,step:M,min:w,max:_,onChange:H,onBlur:I,onFocus:x,onKeyDown:L,...ee})},Dn=({htmlFor:e,className:t,isPageHeading:r=!1,size:a="m",children:i,...s})=>{const l=ne("nhsuk-label",{[`nhsuk-label--${a}`]:a!=="m"},t),c=r?"h1":"label";return n.jsx(c,{className:l,htmlFor:r?void 0:e,...s,children:r?n.jsx("label",{className:"nhsuk-label-wrapper",htmlFor:e,children:i}):i})},Bn=({children:e,legend:t,className:r,describedBy:a,...i})=>{const s=ne("nhsuk-fieldset",r),l=ne("nhsuk-fieldset__legend",{[`nhsuk-fieldset__legend--${t?.size}`]:t?.size},t?.className),c=()=>{const d=t?.html?n.jsx("span",{dangerouslySetInnerHTML:{__html:t.html}}):t?.text;return t?.isPageHeading?n.jsx("h1",{className:"nhsuk-fieldset__heading",children:d}):d};return n.jsxs("fieldset",{className:s,"aria-describedby":a,...i,children:[t&&(t.text||t.html)&&n.jsx("legend",{className:l,children:c()}),e]})},os=({items:e,name:t,idPrefix:r,legend:a,isPageHeading:i=!1,legendSize:s="l",hint:l,errorMessage:c,className:d="",small:u=!1,onChange:f,fieldsetAttributes:g,attributes:b,...p})=>{const[N,y]=h.useState(e.filter(H=>H.checked).map(H=>H.value)),S=r||t,q=l?`${S}-hint`:void 0,M=c?`${S}-error`:void 0,w=[q,M].filter(Boolean).join(" ")||void 0,_=(H,I)=>{let x;I?x=[...N,H]:x=N.filter(L=>L!==H),y(x),f?.(x)},A=()=>e.map((H,I)=>{const x=`${S}-${I+1}`,L=`${x}-conditional`,ee=N.includes(H.value),ue=H.disabled||!1;return n.jsxs("div",{className:"nhsuk-checkboxes__item",children:[n.jsx("input",{className:"nhsuk-checkboxes__input",id:x,name:t,type:"checkbox",value:H.value,checked:ee,disabled:ue,onChange:Q=>_(H.value,Q.target.checked),"aria-describedby":H.hint?`${x}-hint`:w,...H.conditional&&{"aria-controls":L,"aria-expanded":ee?"true":"false"},...H.attributes}),n.jsx("label",{className:"nhsuk-checkboxes__label",htmlFor:x,children:H.text}),H.hint&&n.jsx("div",{id:`${x}-hint`,className:"nhsuk-checkboxes__hint",children:H.hint}),H.conditional&&n.jsx("div",{className:ne("nhsuk-checkboxes__conditional",{"nhsuk-checkboxes__conditional--hidden":!ee}),id:L,children:typeof H.conditional=="object"&&H.conditional!==null&&"label"in H.conditional&&"id"in H.conditional&&"name"in H.conditional?n.jsxs("div",{style:{marginTop:"16px"},children:[H.conditional.label&&n.jsx(Dn,{htmlFor:H.conditional.id,children:H.conditional.label}),n.jsx(Tn,{...H.conditional})]}):H.conditional})]},H.value)}),k=ne("nhsuk-checkboxes",{"nhsuk-checkboxes--small":u},d),R=ne("nhsuk-form-group",{"nhsuk-form-group--error":!!c});return n.jsx("div",{className:R,...b,...p,children:n.jsxs(Bn,{legend:a?{text:a,isPageHeading:i,size:s}:void 0,describedBy:w,...g,children:[l&&n.jsx("div",{id:q,className:"nhsuk-hint",children:l}),c&&n.jsxs("div",{id:M,className:"nhsuk-error-message",children:[n.jsx("span",{className:"nhsuk-u-visually-hidden",children:"Error:"})," ",c]}),n.jsx("div",{className:k,children:A()})]})})};os.displayName="Checkboxes";const is=({id:e,name:t,value:r,defaultValue:a,placeholder:i,disabled:s=!1,readOnly:l=!1,required:c=!1,hasError:d=!1,describedBy:u,className:f,rows:g=5,cols:b,maxLength:p,minLength:N,wrap:y="soft",resize:S="vertical",autoComplete:q,spellCheck:M,onChange:w,onBlur:_,onFocus:A,onKeyDown:k,...R})=>{const H=ne("nhsuk-textarea",{"nhsuk-textarea--error":d,[`nhsuk-textarea--resize-${S}`]:S!=="vertical"},f);return n.jsx("textarea",{className:H,id:e,name:t,value:r,defaultValue:a,placeholder:i,disabled:s,readOnly:l,required:c,"aria-describedby":u,rows:g,cols:b,maxLength:p,minLength:N,wrap:y,autoComplete:q,spellCheck:M,onChange:w,onBlur:_,onFocus:A,onKeyDown:k,...R})},yr=({id:e,className:t,children:r,...a})=>{const i=ne("nhsuk-hint",t);return n.jsx("div",{className:i,id:e,...a,children:r})},xd=({id:e,maxLength:t,maxWords:r,threshold:a=75,name:i,value:s="",rows:l,className:c,countMessage:d,onCountChange:u,onChange:f,...g})=>{const[b,p]=h.useState(s),[N,y]=h.useState(0),[S,q]=h.useState(!1),[M,w]=h.useState(!1),_=h.useCallback(x=>r?x.trim()===""?0:x.trim().split(/\s+/).length:x.length,[r]);h.useEffect(()=>{const x=_(b),L=t||r||0,ee=L-x,ue=Math.floor(L*(a/100));y(ee),q(x>L),w(x>=ue||x>L),u&&u(x,ee)},[b,t,r,a,_,u]);const A=x=>{const L=x.target.value;p(L),f&&f(x)},k=()=>{const x=t||r||0,L=r?"word":"character",ee=r?"words":"characters";if(!M)return`You can enter up to ${x} ${x===1?L:ee}`;if(S){const ue=Math.abs(N);return`You have ${ue} ${ue===1?L:ee} too many`}else return`You have ${N} ${N===1?L:ee} remaining`},R=ne("nhsuk-character-count",c),H=ne("nhsuk-character-count__message",{"nhsuk-character-count__message--disabled":!M,"nhsuk-error-message":S},d?.classes),I=ne("nhsuk-js-character-count",{"nhsuk-textarea--error":S});return n.jsxs("div",{className:R,"data-module":"nhsuk-character-count","data-maxlength":t,"data-maxwords":r,"data-threshold":a,"data-testid":"character-count",children:[n.jsx(is,{id:e,name:i,value:b,rows:l,className:I,onChange:A,"aria-describedby":`${e}-info`,"aria-invalid":S||void 0,...g}),n.jsx(yr,{id:`${e}-info`,className:H,role:"status","aria-live":"polite",children:k()})]})},ls=({value:e,disabled:t=!1,selected:r=!1,className:a,children:i,...s})=>{const l=ne("nhsuk-select__option",a);return n.jsx("option",{className:l,value:e,disabled:t,...s,children:i})},Pt=({id:e,name:t,ariaLabel:r,value:a,defaultValue:i,disabled:s=!1,required:l=!1,hasError:c=!1,describedBy:d,className:u,multiple:f=!1,size:g,autoComplete:b,options:p,children:N,onChange:y,onBlur:S,onFocus:q,...M})=>{const w=ne("nhsuk-select",{"nhsuk-select--error":c},u),_=()=>p?p.map((k,R)=>n.jsx("option",{value:k.value,disabled:k.disabled,"data-initial-selected":k.selected||void 0,children:k.text},`${k.value}-${R}`)):null,A=i===void 0&&a===void 0&&p?p.find(k=>k.selected)?.value:void 0;return n.jsx("select",{className:w,id:e,name:t,"aria-label":r,value:a,defaultValue:i!==void 0?i:A,disabled:s,required:l,"aria-describedby":d,multiple:f,size:g,autoComplete:b,onChange:y,onBlur:S,onFocus:q,...M,children:N||_()})};Pt.Option=ls;const vd=({name:e,value:t,defaultValue:r,hasError:a=!1,describedBy:i,className:s,size:l="normal",inline:c=!1,options:d,onChange:u,onBlur:f,onFocus:g,...b})=>{const[p,N]=h.useState(t||r||""),y=h.useRef([]),S=ne("nhsuk-radios",{"nhsuk-radios--error":a,"nhsuk-radios--small":l==="small","nhsuk-radios--inline":c},s),q=w=>{const _=w.target.value;N(_),u&&u(w)},M=h.useCallback(w=>{const{key:_}=w;if(!["ArrowDown","ArrowUp","ArrowRight","ArrowLeft"].includes(_))return;w.preventDefault();const A=y.current.filter(I=>I&&!I.disabled),k=A.indexOf(w.currentTarget);if(k===-1)return;let R=k;_==="ArrowDown"||_==="ArrowRight"?R=(k+1)%A.length:(_==="ArrowUp"||_==="ArrowLeft")&&(R=(k-1+A.length)%A.length);const H=A[R];H&&(H.focus(),H.checked||H.click())},[]);return n.jsx(Bn,{children:n.jsx("div",{className:S,...b,children:d.map((w,_)=>{const A=`${e}-${_}`,k=w.conditional?`${A}-conditional`:void 0,R=p===w.value;return n.jsxs("div",{className:"nhsuk-radios__item",children:[n.jsx("input",{className:"nhsuk-radios__input",id:A,name:e,type:"radio",value:w.value,disabled:w.disabled,checked:R,"aria-describedby":i,onChange:q,onBlur:f,onFocus:g,onKeyDown:M,ref:H=>{H&&(y.current[_]=H)}}),n.jsx("label",{className:"nhsuk-radios__label",htmlFor:A,children:w.text}),w.hint&&n.jsx("div",{className:"nhsuk-radios__hint",children:w.hint}),w.conditional&&n.jsx("div",{className:ne("nhsuk-radios__conditional",{"nhsuk-radios__conditional--hidden":!R}),id:k,children:typeof w.conditional=="object"&&w.conditional!==null&&"label"in w.conditional&&"id"in w.conditional&&"name"in w.conditional?n.jsxs("div",{style:{marginTop:"16px"},children:[w.conditional.label&&n.jsx(Dn,{htmlFor:w.conditional.id,children:w.conditional.label}),n.jsx(Tn,{...w.conditional})]}):w.conditional})]},w.value)})})})},xr=({children:e,className:t,fluid:r=!1,maxWidth:a,style:i,...s})=>{const l=ne({"nhsuk-width-container":!r,"nhsuk-width-container-fluid":r},t),c=a?{maxWidth:a,...i||{}}:i;return n.jsx("div",{className:l,style:c,...s,children:e})},yt=({children:e,className:t,style:r,...a})=>{const i=ne("nhsuk-grid-row",t);return n.jsx("div",{className:i,style:r,...a,children:e})},Nt=({children:e,width:t="full",mobileWidth:r,tabletWidth:a,desktopWidth:i,start:s,className:l,forceWidth:c=!1,style:d,...u})=>{const f=ne({[`nhsuk-grid-column-${t}`]:!c,[`nhsuk-u-${t}`]:c,[`nhsuk-u-${r}-mobile`]:r,[`nhsuk-u-${a}-tablet`]:a,[`nhsuk-u-${i}-desktop`]:i,[`nhsuk-grid-column-start-${s}`]:s&&s>=1&&s<=7},l);return n.jsx("div",{className:f,style:d,...u,children:e})},Fn=({children:e,className:t,style:r,...a})=>{const s=h.Children.toArray(e)[0],l=h.isValidElement(s)&&(s.type===yt||typeof s.props=="object"&&s.props&&"className"in s.props&&typeof s.props.className=="string"&&s.props.className.includes("nhsuk-grid-row"));return n.jsx(xr,{className:t,style:r,...a,children:l?e:n.jsx(yt,{children:e})})},_d=({children:e,type:t="bullet",size:r="medium",border:a=!1,className:i,role:s,as:l,...c})=>{const d=l||(t==="number"?"ol":"ul"),u=ne("nhsuk-list",{"nhsuk-list--bullet":t==="bullet","nhsuk-list--number":t==="number","nhsuk-list--none":t==="none","nhsuk-list--border":a,[`nhsuk-list--${r}`]:r!=="medium"},i);return n.jsx(d,{className:u,role:s,...c,children:e})},kd=({children:e,className:t,...r})=>{const a=ne("nhsuk-list__item",t);return n.jsx("li",{className:a,...r,children:e})},cs=_d;cs.Item=kd;const Sd=({debug:e=!1,className:t,children:r,...a})=>{if(!r)return null;const i=["nhsuk-spacing-utilities",e&&"nhsuk-spacing-utilities--debug",t].filter(Boolean).join(" ");return n.jsx("div",{className:i,...a,children:r})},wd={margin:e=>`nhsuk-u-margin-${e}`,marginTop:e=>`nhsuk-u-margin-top-${e}`,marginRight:e=>`nhsuk-u-margin-right-${e}`,marginBottom:e=>`nhsuk-u-margin-bottom-${e}`,marginLeft:e=>`nhsuk-u-margin-left-${e}`,padding:e=>`nhsuk-u-padding-${e}`,paddingTop:e=>`nhsuk-u-padding-top-${e}`,paddingRight:e=>`nhsuk-u-padding-right-${e}`,paddingBottom:e=>`nhsuk-u-padding-bottom-${e}`,paddingLeft:e=>`nhsuk-u-padding-left-${e}`,marginResponsive:e=>`nhsuk-u-margin-responsive-${e}`,marginTopResponsive:e=>`nhsuk-u-margin-top-responsive-${e}`,marginRightResponsive:e=>`nhsuk-u-margin-right-responsive-${e}`,marginBottomResponsive:e=>`nhsuk-u-margin-bottom-responsive-${e}`,marginLeftResponsive:e=>`nhsuk-u-margin-left-responsive-${e}`,paddingResponsive:e=>`nhsuk-u-padding-responsive-${e}`,paddingTopResponsive:e=>`nhsuk-u-padding-top-responsive-${e}`,paddingRightResponsive:e=>`nhsuk-u-padding-right-responsive-${e}`,paddingBottomResponsive:e=>`nhsuk-u-padding-bottom-responsive-${e}`,paddingLeftResponsive:e=>`nhsuk-u-padding-left-responsive-${e}`},Cd=({debug:e=!1,className:t,children:r,...a})=>{if(!r)return null;const i=["nhsuk-width-utilities",e&&"nhsuk-width-utilities--debug",t].filter(Boolean).join(" ");return n.jsx("div",{className:i,...a,children:r})},jd={width:e=>`nhsuk-u-width-${e}`,widthTablet:e=>`nhsuk-u-width-${e}-tablet`},Nd=["full","three-quarters","two-thirds","one-half","one-third","one-quarter"],vr=({as:e="main",size:t="default",className:r,children:a,...i})=>{const s=["nhsuk-main-wrapper",t==="large"&&"nhsuk-main-wrapper--l",t==="small"&&"nhsuk-main-wrapper--s",r].filter(Boolean).join(" ");return n.jsx(e,{className:s,...i,children:a})},Ze=({level:e,className:t,text:r,html:a,children:i,size:s,marginBottom:l,...c})=>{const u=e??(N=>{switch(N){case"xxl":case"xl":return 1;case"l":return 2;case"m":return 3;case"s":return 4;case"xs":return 5;default:return 2}})(s),f=ne("nhsuk-heading",{[`nhsuk-heading--${s}`]:s},t),g=i||(a?n.jsx("span",{dangerouslySetInnerHTML:{__html:a}}):r),b=`h${u}`,p=l?{...c.style,marginBottom:l}:c.style;return h.createElement(b,{className:f,...c,style:p},g)},_r=({id:e,className:t,visuallyHiddenText:r="Error:",children:a,...i})=>{const s=ne("nhsuk-error-message",t);return n.jsxs("span",{className:s,id:e,...i,children:[n.jsxs("span",{className:"nhsuk-u-visually-hidden",children:[r," "]}),a]})},Td=({titleText:e="There is a problem",titleHtml:t,descriptionText:r,descriptionHtml:a,errorList:i,className:s,children:l,...c})=>{const d=h.useRef(null);h.useEffect(()=>{d.current&&d.current.focus()},[]);const u=ne("nhsuk-error-summary",s),f=()=>t?n.jsx("span",{dangerouslySetInnerHTML:{__html:t}}):e,g=()=>a?n.jsx("span",{dangerouslySetInnerHTML:{__html:a}}):r,b=p=>{const N=p.html?n.jsx("span",{dangerouslySetInnerHTML:{__html:p.html}}):p.text;return p.href?n.jsx("a",{href:p.href,...p.attributes,children:N}):N};return n.jsxs("div",{ref:d,className:u,"aria-labelledby":"error-summary-title",role:"alert",tabIndex:-1,"data-module":"nhsuk-error-summary",...c,children:[n.jsx("h2",{className:"nhsuk-error-summary__title",id:"error-summary-title",children:f()}),n.jsxs("div",{className:"nhsuk-error-summary__body",children:[l&&n.jsx("div",{className:"nhsuk-error-summary__description","data-role":"description",children:l}),!l&&(r||a)&&n.jsx("div",{className:"nhsuk-error-summary__description","data-role":"description",children:g()}),n.jsx("ul",{className:"nhsuk-list nhsuk-error-summary__list",role:"list",children:i.map((p,N)=>n.jsx("li",{children:b(p)},N))})]})]})},Dd=({id:e,className:t,items:r,namePrefix:a,values:i={},fieldset:s,hint:l,errorMessage:c,onChange:d,...u})=>{const[f,g]=h.useState(()=>({day:i.day||"",month:i.month||"",year:i.year||""})),[b,p]=h.useState({}),N=E=>E%4===0&&E%100!==0||E%400===0,y=(E,v)=>{const D=[31,28,31,30,31,30,31,31,30,31,30,31];return E===2&&N(v)?29:D[E-1]},S=(E,v,D)=>{if(!E)return;if(!/^\d+$/.test(E))return"Day must be a number";const he=parseInt(E,10);if(he<1||he>31)return"Day must be between 1 and 31";if(v&&D){const W=parseInt(v,10),T=parseInt(D,10);if(!isNaN(W)&&!isNaN(T)&&W>=1&&W<=12){const se=y(W,T);if(he>se)return`${["January","February","March","April","May","June","July","August","September","October","November","December"][W-1]} ${T} only has ${se} days`}}},q=E=>{if(!E)return;if(!/^\d+$/.test(E))return"Month must be a number";const v=parseInt(E,10);if(v<1||v>12)return"Month must be between 1 and 12"},M=E=>{if(!E)return;if(!/^\d+$/.test(E))return"Year must be a number";const v=parseInt(E,10),D=new Date().getFullYear();if(v<1900||v>D+10)return`Year must be between 1900 and ${D+10}`},w=(E,v,D)=>{if(!E||!v||!D)return;const he=parseInt(E,10),W=parseInt(v,10),T=parseInt(D,10);if(isNaN(he)||isNaN(W)||isNaN(T)||W<1||W>12||T<1900)return;const se=y(W,T);he<1||he>se},_=h.useCallback((E,v)=>{const D={...f,[E]:v};g(D),d&&d(D)},[f,d]),A=h.useCallback(E=>{const v=f[E];let D;if(E==="day")D=S(v,f.month,f.year);else if(E==="month"){if(D=q(v),!D&&f.day){const he=S(f.day,v,f.year);p(W=>({...W,day:he}))}}else if(E==="year"&&(D=M(v),!D&&f.day&&f.month)){const he=S(f.day,f.month,v);p(W=>({...W,day:he}))}if(p(he=>({...he,[E]:D})),f.day&&f.month&&f.year){const he=w(E==="day"?v:f.day,E==="month"?v:f.month,E==="year"?v:f.year);he&&p(W=>({...W,day:he}))}},[f,S,q,M,w]),k=h.useMemo(()=>[{name:"day",classes:"nhsuk-input--width-2",inputmode:"numeric",pattern:"[0-9]*"},{name:"month",classes:"nhsuk-input--width-2",inputmode:"numeric",pattern:"[0-9]*"},{name:"year",classes:"nhsuk-input--width-4",inputmode:"numeric",pattern:"[0-9]*"}],[]),R=r||k;let H=s?.describedBy||"";const I=l?`${e}-hint`:"",x=c?`${e}-error`:"";I&&(H=H?`${H} ${I}`:I),x&&(H=H?`${H} ${x}`:x);const L=Object.values(b).some(E=>E),ee=ne("nhsuk-form-group",{"nhsuk-form-group--error":c||L}),ue=ne("nhsuk-date-input",t),Q=()=>n.jsxs(n.Fragment,{children:[l&&n.jsx(yr,{id:I,className:l.classes,children:l.html?n.jsx("span",{dangerouslySetInnerHTML:{__html:l.html}}):l.text}),c&&n.jsx(_r,{id:x,className:c.classes,children:c.html?n.jsx("span",{dangerouslySetInnerHTML:{__html:c.html}}):c.text}),Object.entries(b).map(([E,v])=>v?n.jsxs(_r,{id:`${e}-${E}-error`,className:"nhsuk-error-message",children:[n.jsx("span",{className:"nhsuk-u-visually-hidden",children:"Error:"})," ",v]},`${E}-error`):null),n.jsx("div",{className:ue,id:e,"data-testid":"date-input",...u,children:R.map(E=>{const v=E.id||`${e}-${E.name}`,D=a?`${a}[${E.name}]`:E.name,he=E.label||E.name.charAt(0).toUpperCase()+E.name.slice(1),W=b[E.name],T=f[E.name]||"";let se=H;if(W){const P=`${e}-${E.name}-error`;se=se?`${se} ${P}`:P}return n.jsxs("div",{className:"nhsuk-date-input__item",children:[n.jsx(Dn,{htmlFor:v,className:"nhsuk-date-input__label",children:he}),n.jsx(Tn,{id:v,name:D,value:T,className:ne("nhsuk-date-input__input",E.classes,{"nhsuk-input--error":W}),inputMode:E.inputmode,autoComplete:E.autocomplete,pattern:E.pattern,"aria-describedby":se||void 0,hasError:!!W,onChange:P=>_(E.name,P.target.value),onBlur:()=>A(E.name)})]},E.name)})})]});return n.jsx("div",{className:ee,children:s?n.jsx(Bn,{className:s.classes,legend:s.legend?{text:s.legend}:void 0,describedBy:H||void 0,children:Q()}):Q()})},ds={animation:{AnimationDurationFast:"150ms",AnimationDurationNormal:"300ms",AnimationDurationSlow:"500ms",AnimationEasingEaseIn:"cubic-bezier(0.4, 0, 1, 1)",AnimationEasingEaseOut:"cubic-bezier(0, 0, 0.2, 1)",AnimationEasingEaseInOut:"cubic-bezier(0.4, 0, 0.2, 1)",AnimationEasingBounce:"cubic-bezier(0.68, -0.55, 0.265, 1.55)"},transition:{TransitionButtonDefault:"background-color 300ms cubic-bezier(0, 0, 0.2, 1)",TransitionButtonShadow:"box-shadow 150ms cubic-bezier(0, 0, 0.2, 1)",TransitionInputFocus:"border-color 150ms cubic-bezier(0, 0, 0.2, 1), box-shadow 150ms cubic-bezier(0, 0, 0.2, 1)",TransitionCardHover:"border-color 300ms cubic-bezier(0, 0, 0.2, 1)"},border:{BorderWidthDefault:"1px",BorderWidthFormElement:"2px",BorderWidthFormElementError:"4px",BorderWidthCardBottom:"4px",BorderWidthPanel:"4px",BorderWidthTableHeader:"2px",BorderWidthTableCell:"1px",BorderRadiusNone:"0px",BorderRadiusSmall:"4px",BorderRadiusMedium:"8px",BorderRadiusLarge:"12px",BorderColorDefault:"#d8dde0",BorderColorForm:"#4c6272",BorderColorCard:"#d8dde0",BorderColorCardHover:"#aeb7bd",BorderColorError:"#d5281b"},color:{ColorPrimaryBlue:"#005eb8",ColorPrimaryWhite:"#ffffff",ColorPrimaryBlack:"#212b32",ColorPrimaryGreen:"#007f3b",ColorPrimaryPurple:"#330072",ColorPrimaryDarkPink:"#7c2855",ColorPrimaryRed:"#d5281b",ColorPrimaryYellow:"#ffeb3b",ColorSecondaryPaleYellow:"#fff9c4",ColorSecondaryWarmYellow:"#ffb81c",ColorSecondaryOrange:"#ed8b00",ColorSecondaryAquaGreen:"#00a499",ColorSecondaryPink:"#ae2573",ColorGrey1:"#4c6272",ColorGrey2:"#768692",ColorGrey3:"#aeb7bd",ColorGrey4:"#d8dde0",ColorGrey5:"#f0f4f5",ColorTextPrimary:"#212b32",ColorTextSecondary:"#4c6272",ColorTextReverse:"#ffffff",ColorTextPrint:"#212b32",ColorLinkDefault:"#005eb8",ColorLinkHover:"#7c2855",ColorLinkActive:"#003087",ColorLinkVisited:"#330072",ColorFocusBackground:"#ffeb3b",ColorFocusText:"#212b32",ColorBorderDefault:"#d8dde0",ColorBorderSecondary:"#ffffff33",ColorError:"#d5281b",ColorFormBorder:"#4c6272",ColorFormBackground:"#ffffff",ColorButtonPrimaryBackground:"#007f3b",ColorButtonPrimaryText:"#ffffff",ColorButtonPrimaryHover:"#006530",ColorButtonPrimaryActive:"#004021",ColorButtonPrimaryShadow:"#004021",ColorButtonSecondaryBackground:"#00000000",ColorButtonSecondaryBackgroundSolid:"#ffffff",ColorButtonSecondaryBorder:"#005eb8",ColorButtonSecondaryText:"#005eb8",ColorButtonSecondaryHover:"#d9e5f2",ColorButtonSecondaryActive:"#c7daf0",ColorButtonSecondaryShadow:"#005eb8",ColorButtonReverseBackground:"#ffffff",ColorButtonReverseText:"#212b32",ColorButtonReverseHover:"#d9dde0",ColorButtonReverseActive:"#b3bcc2",ColorButtonReverseShadow:"#b3bcc2",ColorButtonWarningBackground:"#d5281b",ColorButtonWarningHover:"#aa2016",ColorButtonWarningActive:"#6a140e",ColorButtonWarningShadow:"#6a140e",ColorButtonLoginBackground:"#005eb8",ColorButtonLoginHover:"#004b93",ColorButtonLoginActive:"#002f5c",ColorButtonLoginShadow:"#002f5c"},component:{ComponentButtonPaddingMobileVertical:"8px",ComponentButtonPaddingMobileHorizontal:"16px",ComponentButtonPaddingDesktopVertical:"12px",ComponentButtonPaddingDesktopHorizontal:"16px",ComponentButtonShadowSize:"4px",ComponentFormInputMinHeight:"40px",ComponentFormInputPadding:"4px",ComponentFormCheckboxSize:"40px",ComponentFormCheckboxLabelPadding:"12px",ComponentCardPaddingMobile:"16px",ComponentCardPaddingDesktop:"32px",ComponentCardHeadingMargin:"16px",ComponentPanelPaddingMobile:"20px",ComponentPanelPaddingDesktop:"28px",ComponentBreadcrumbChevronMarginLeft:"9px",ComponentBreadcrumbChevronMarginRight:"2px",ComponentBreadcrumbPaddingTopMobile:"16px",ComponentBreadcrumbPaddingTopDesktop:"24px",ComponentSummaryListCellPaddingVertical:"8px",ComponentSummaryListCellPaddingHorizontal:"24px",ComponentSummaryListRowMargin:"16px",ComponentSpread:"4px",ComponentBlur:"4px",ComponentLink:"4px",ComponentDetails:"8px",ComponentExpander:"4px",ComponentPagination:"16px"},button:{ButtonPrimaryBackgroundDefault:"#007f3b",ButtonPrimaryBackgroundHover:"#006530",ButtonPrimaryBackgroundActive:"#004021",ButtonPrimaryBackgroundDisabled:"#d8dde0",ButtonPrimaryTextDefault:"#ffffff",ButtonPrimaryTextDisabled:"#768692",ButtonPrimaryBorderDefault:"#00000000",ButtonPrimaryBorderFocus:"#ffeb3b",ButtonSecondaryBackgroundDefault:"#00000000",ButtonSecondaryBackgroundSolid:"#ffffff",ButtonSecondaryBackgroundHover:"#d9e5f2",ButtonSecondaryBackgroundActive:"#c7daf0",ButtonSecondaryTextDefault:"#005eb8",ButtonSecondaryBorderDefault:"#005eb8",ButtonSpacingPaddingVerticalMobile:"8px",ButtonSpacingPaddingHorizontalMobile:"16px",ButtonSpacingPaddingVerticalDesktop:"12px",ButtonSpacingPaddingHorizontalDesktop:"16px",ButtonBorderWidth:"2px",ButtonBorderRadius:"4px",ButtonShadowSize:"4px",ButtonTypographyWeight:"600"},card:{CardBackgroundDefault:"#ffffff",CardBorderDefault:"#d8dde0",CardBorderHover:"#aeb7bd",CardBorderBottom:"#f0f4f5",CardTextHeading:"#212b32",CardTextDescription:"#212b32",CardTextLink:"#005eb8",CardSpacingPaddingMobile:"16px",CardSpacingPaddingDesktop:"32px",CardSpacingHeadingMargin:"16px",CardBorderWidthDefault:"1px",CardBorderWidthBottom:"4px",CardShadowDefault:"none",CardShadowHover:"0 2px 4px rgba(0, 0, 0, 0.1)"},form:{FormInputBackgroundDefault:"#ffffff",FormInputBackgroundFocus:"#ffffff",FormInputBackgroundDisabled:"#d8dde0",FormInputBackgroundError:"#ffffff",FormInputBorderDefault:"#4c6272",FormInputBorderFocus:"#ffeb3b",FormInputBorderError:"#d5281b",FormInputBorderDisabled:"#aeb7bd",FormInputTextDefault:"#212b32",FormInputTextPlaceholder:"#4c6272",FormInputTextDisabled:"#768692",FormLabelTextDefault:"#212b32",FormLabelTextRequired:"#ffffff",FormLabelTypographyWeight:"600",FormErrorTextDefault:"#d5281b",FormErrorTypographyWeight:"600",FormHintTextDefault:"#4c6272",FormSpacingInputPadding:"4px",FormSpacingInputMinHeight:"40px",FormSpacingCheckboxSize:"40px",FormSpacingCheckboxLabelPadding:"12px",FormBorderWidthDefault:"2px",FormBorderWidthError:"4px",FormBorderRadius:"0px"},size:{SizeIconSmall:"16px",SizeIconMedium:"18px",SizeIconLarge:"24px",SizeIconExtraLarge:"32px",SizeIconNhsDefault:"34px",SizeFormControlSmall:"32px",SizeFormControlMedium:"40px",SizeFormControlLarge:"48px",SizeFormInputWidthXs:"5.4ex",SizeFormInputWidthSm:"7.2ex",SizeFormInputWidthMd:"9ex",SizeFormInputWidthLg:"10.8ex",SizeFormInputWidthXl:"20ex",SizeFormInputWidth2xl:"38ex",SizeFormInputWidth3xl:"56ex",SizeButtonMinHeightMobile:"44px",SizeButtonMinHeightDesktop:"40px"},layout:{LayoutContainerMaxWidth:"1020px",LayoutColumnFull:"100%",LayoutColumnHalf:"50%",LayoutColumnThird:"33.333%",LayoutColumnQuarter:"25%",LayoutColumnActions:"20%"},breakpoint:{BreakpointMobile:"320px",BreakpointTablet:"641px",BreakpointDesktop:"1025px",BreakpointLargeDesktop:"1280px"},grid:{GridPageWidth:"960px",GridGutter:"32px",GridGutterHalf:"16px"},state:{StateErrorBackground:"#d5281b",StateErrorBorder:"#d5281b",StateErrorText:"#ffffff",StateSuccessBackground:"#007f3b",StateSuccessBorder:"#007f3b",StateSuccessText:"#ffffff",StateWarningBackground:"#ffeb3b",StateWarningBorder:"#ffeb3b",StateWarningText:"#212b32",StateInfoBackground:"#005eb8",StateInfoBorder:"#005eb8",StateInfoText:"#ffffff",StateDisabledBackground:"#d8dde0",StateDisabledBorder:"#aeb7bd",StateDisabledText:"#768692"},shadow:{ShadowButtonDefault:"0 4px 0 #004021",ShadowButtonSecondary:"0 4px 0 #005eb8",ShadowButtonWarning:"0 4px 0 #6a140e",ShadowButtonFocus:"0 4px 0 #ffeb3b",ShadowCardDefault:"none",ShadowCardHover:"0 2px 4px rgba(0, 0, 0, 0.1)"},"focus-outline":{FocusOutlineWidth:"4px",FocusOutlineOffset:"0px",FocusOutlineStyle:"solid"},"focus-shadow":{FocusShadowInput:"0 0 0 3px #ffeb3b",FocusShadowButton:"0 0 0 3px #ffeb3b"},elevation:{ElevationNone:"none",ElevationLow:"0 1px 3px rgba(0, 0, 0, 0.12)",ElevationMedium:"0 2px 6px rgba(0, 0, 0, 0.16)",ElevationHigh:"0 4px 12px rgba(0, 0, 0, 0.20)"},spacing:{Spacing0:"0",Spacing1:"4px",Spacing2:"8px",Spacing3:"16px",Spacing4:"24px",Spacing5:"32px",Spacing6:"40px",Spacing7:"48px",Spacing8:"56px",Spacing9:"64px"},"spacing-responsive":{SpacingResponsive0Mobile:"0",SpacingResponsive0Tablet:"0",SpacingResponsive1Mobile:"4px",SpacingResponsive1Tablet:"4px",SpacingResponsive2Mobile:"8px",SpacingResponsive2Tablet:"8px",SpacingResponsive3Mobile:"8px",SpacingResponsive3Tablet:"16px",SpacingResponsive4Mobile:"16px",SpacingResponsive4Tablet:"24px",SpacingResponsive5Mobile:"24px",SpacingResponsive5Tablet:"32px",SpacingResponsive6Mobile:"32px",SpacingResponsive6Tablet:"40px",SpacingResponsive7Mobile:"40px",SpacingResponsive7Tablet:"48px",SpacingResponsive8Mobile:"48px",SpacingResponsive8Tablet:"56px",SpacingResponsive9Mobile:"56px",SpacingResponsive9Tablet:"64px"},font:{FontFamilyBase:"Frutiger W01",FontFamilyFallback:"Arial, Helvetica, sans-serif",FontFamilyPrint:"sans-serif",FontWeightNormal:"400",FontWeightBold:"600",FontWeightLight:"400",FontSize14Mobile:"12px",FontSize14Tablet:"14px",FontSize14Print:"12pt",FontSize16Mobile:"14px",FontSize16Tablet:"16px",FontSize16Print:"12pt",FontSize19Mobile:"16px",FontSize19Tablet:"19px",FontSize19Print:"13pt",FontSize22Mobile:"19px",FontSize22Tablet:"22px",FontSize22Print:"15pt",FontSize26Mobile:"22px",FontSize26Tablet:"26px",FontSize26Print:"17pt",FontSize36Mobile:"27px",FontSize36Tablet:"36px",FontSize36Print:"20pt",FontSize48Mobile:"33px",FontSize48Tablet:"48px",FontSize48Print:"24pt",FontSizeBase:"16px",FontLineHeightBase:"24px"},headings:{xl:{fontFamily:"Frutiger W01",fontWeight:"600",fontSize:{mobile:"33px",tablet:"48px",print:"24pt"},lineHeight:"1.09",marginTop:"0",marginBottom:{mobile:"40px",tablet:"48px"}},l:{fontFamily:"Frutiger W01",fontWeight:"600",fontSize:{mobile:"27px",tablet:"36px",print:"20pt"},lineHeight:"1.11",marginTop:"0",marginBottom:{mobile:"16px",tablet:"24px"}},m:{fontFamily:"Frutiger W01",fontWeight:"600",fontSize:{mobile:"22px",tablet:"26px",print:"17pt"},lineHeight:"1.15",marginTop:"0",marginBottom:{mobile:"16px",tablet:"24px"}},s:{fontFamily:"Frutiger W01",fontWeight:"600",fontSize:{mobile:"19px",tablet:"22px",print:"15pt"},lineHeight:"1.18",marginTop:"0",marginBottom:{mobile:"16px",tablet:"24px"}},xs:{fontFamily:"Frutiger W01",fontWeight:"600",fontSize:{mobile:"16px",tablet:"19px",print:"13pt"},lineHeight:"1.26",marginTop:"0",marginBottom:{mobile:"16px",tablet:"24px"}}},paragraphs:{body:{fontFamily:"Frutiger W01",fontWeight:"400",fontSize:{mobile:"16px",tablet:"19px",print:"13pt"},lineHeight:"1.47",marginTop:"0",marginBottom:{mobile:"16px",tablet:"24px"}},bodyLarge:{fontFamily:"Frutiger W01",fontWeight:"400",fontSize:{mobile:"22px",tablet:"26px",print:"17pt"},lineHeight:"1.38",marginTop:"0",marginBottom:{mobile:"24px",tablet:"32px"}},bodySmall:{fontFamily:"Frutiger W01",fontWeight:"400",fontSize:{mobile:"14px",tablet:"16px",print:"12pt"},lineHeight:"1.5",marginTop:"0",marginBottom:{mobile:"16px",tablet:"24px"}},ledeText:{fontFamily:"Frutiger W01",fontWeight:"400",fontSize:{mobile:"22px",tablet:"26px",print:"17pt"},lineHeight:"1.38",marginTop:"0",marginBottom:{mobile:"40px",tablet:"48px"}},ledeTextSmall:{fontFamily:"Frutiger W01",fontWeight:"400",fontSize:{mobile:"16px",tablet:"19px",print:"13pt"},lineHeight:"1.47",marginTop:"0",marginBottom:{mobile:"24px",tablet:"32px"}}}},us=h.createContext(ds),Bd=({children:e,theme:t={}})=>{const r={...ds,...t};return n.jsx(us.Provider,{value:r,children:e})},Fd=()=>{const e=h.useContext(us);if(!e)throw new Error("useNHSTheme must be used within an NHSThemeProvider");return e};function Id(){return`
>>>>>>> Stashed changes
	@font-face {
	  font-display: swap;
	  font-family: "Frutiger W01";
	  font-style: normal;
	  font-weight: 400;
	  src: url("https://assets.nhs.uk/fonts/FrutigerLTW01-55Roman.eot");
	  src: url("https://assets.nhs.uk/fonts/FrutigerLTW01-55Roman.eot?#iefix") format("embedded-opentype"),
		   url("https://assets.nhs.uk/fonts/FrutigerLTW01-55Roman.woff2") format("woff2"),
		   url("https://assets.nhs.uk/fonts/FrutigerLTW01-55Roman.woff") format("woff");
	}
	
	@font-face {
	  font-display: swap;
	  font-family: "Frutiger W01";
	  font-style: normal;
	  font-weight: 600;
	  src: url("https://assets.nhs.uk/fonts/FrutigerLTW01-65Bold.eot");
	  src: url("https://assets.nhs.uk/fonts/FrutigerLTW01-65Bold.eot?#iefix") format("embedded-opentype"),
		   url("https://assets.nhs.uk/fonts/FrutigerLTW01-65Bold.woff2") format("woff2"),
		   url("https://assets.nhs.uk/fonts/FrutigerLTW01-65Bold.woff") format("woff");
	}
<<<<<<< Updated upstream
  `}function zd(){if(typeof document>"u"||document.getElementById("nhs-fonts"))return;const e=document.createElement("style");e.id="nhs-fonts",e.textContent=Rd(),document.head.appendChild(e)}const Wd=({children:e,theme:t})=>(f.useEffect(()=>{zd()},[]),n.jsx(Pd,{theme:t,children:e})),hs=({mode:e="form",action:t="/search",method:r="get",name:a="q",value:i,placeholder:s="Search",visuallyHiddenLabel:l="Search the NHS website",visuallyHiddenButton:c="Search",className:u,disabled:d=!1,callbacks:h={},isLoading:g=!1,showResults:b=!1,results:p=[],formAttributes:S={},inputAttributes:y={},buttonAttributes:_={},preventDefaultSubmit:Y=!1,debounceMs:T=300,minQueryLength:I=1})=>{const[w,z]=f.useState(""),[$,q]=f.useState(!1),H=f.useRef(void 0),E=f.useRef(null),v=f.useRef(null),M=e==="controlled"&&i!==void 0,J=M?i:w,de=f.useCallback(te=>{H.current&&clearTimeout(H.current),H.current=setTimeout(()=>{h.onChange&&te.length>=I&&h.onChange(te)},T)},[h.onChange,T,I]),X=f.useCallback(te=>{const L=te.target.value;M||z(L),e!=="form"&&de(L)},[M,e,de]),k=f.useCallback(te=>{const L=J.trim(),oe={query:L,timestamp:Date.now(),formData:new FormData(te.currentTarget)};e==="controlled"||e==="hybrid"&&Y?(te.preventDefault(),h.onSearch&&L.length>=I&&h.onSearch(oe)):e==="hybrid"&&h.onSearch&&L.length>=I&&h.onSearch(oe)},[e,J,h.onSearch,Y,I]),x=f.useCallback(()=>{q(!0),h.onFocus?.()},[h.onFocus]),D=f.useCallback(()=>{q(!1),h.onBlur?.()},[h.onBlur]),he=f.useCallback(()=>{M||z(""),h.onClear?.(),v.current?.focus()},[M,h.onClear]);f.useEffect(()=>()=>{H.current&&clearTimeout(H.current)},[]);const R=()=>n.jsx("svg",{className:se("nhsuk-icon nhsuk-icon__search",{"nhsuk-icon__search--loading":g}),xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24","aria-hidden":"true",focusable:"false",children:n.jsx("path",{d:"M19.71 18.29l-4.11-4.1a7 7 0 1 0-1.41 1.41l4.1 4.11a1 1 0 0 0 1.42 0 1 1 0 0 0 0-1.42zM5 10a5 5 0 1 1 5 5 5 5 0 0 1-5-5z"})}),N=()=>n.jsx("svg",{className:"nhsuk-icon nhsuk-icon__spinner",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24","aria-hidden":"true",focusable:"false",children:n.jsxs("circle",{cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"2",fill:"none",strokeLinecap:"round",strokeDasharray:"31.416",strokeDashoffset:"31.416",children:[n.jsx("animate",{attributeName:"stroke-dasharray",dur:"2s",values:"0 31.416;15.708 15.708;0 31.416",repeatCount:"indefinite"}),n.jsx("animate",{attributeName:"stroke-dashoffset",dur:"2s",values:"0;-15.708;-31.416",repeatCount:"indefinite"})]})}),ne=()=>!J||e==="form"?null:n.jsx("button",{type:"button",className:"nhsuk-header__search-clear",onClick:he,"aria-label":"Clear search",children:n.jsx("svg",{className:"nhsuk-icon nhsuk-icon__close",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24","aria-hidden":"true",focusable:"false",children:n.jsx("path",{d:"M13.41 12l5.3-5.29a1 1 0 1 0-1.42-1.42L12 10.59l-5.29-5.3a1 1 0 0 0-1.42 1.42l5.3 5.29-5.3 5.29a1 1 0 0 0 1.42 1.42l5.29-5.3 5.29 5.3a1 1 0 0 0 1.42-1.42z"})})}),A=()=>!b||!p.length||!$?null:n.jsx("div",{className:"nhsuk-header__search-results",role:"listbox",children:p.map(te=>n.jsx("div",{className:"nhsuk-header__search-result",role:"option",children:te.href?n.jsxs("a",{href:te.href,className:"nhsuk-header__search-result-link",children:[n.jsx("span",{className:"nhsuk-header__search-result-title",children:te.title}),te.description&&n.jsx("span",{className:"nhsuk-header__search-result-description",children:te.description})]}):n.jsxs("button",{type:"button",className:"nhsuk-header__search-result-button",onClick:()=>h.onSearch?.({query:te.title,timestamp:Date.now()}),children:[n.jsx("span",{className:"nhsuk-header__search-result-title",children:te.title}),te.description&&n.jsx("span",{className:"nhsuk-header__search-result-description",children:te.description})]})},te.id))});return n.jsxs("div",{className:se("nhsuk-header__search",u,{"nhsuk-header__search--controlled":e==="controlled","nhsuk-header__search--hybrid":e==="hybrid","nhsuk-header__search--loading":g,"nhsuk-header__search--focused":$,"nhsuk-header__search--has-results":b&&p.length>0}),children:[n.jsxs("form",{ref:E,className:"nhsuk-header__search-form",id:"search",action:e!=="controlled"?t:void 0,method:e!=="controlled"?r:void 0,role:"search",onSubmit:k,...S,children:[n.jsx("label",{className:"nhsuk-u-visually-hidden",htmlFor:"search-field",children:l}),n.jsxs("div",{className:"nhsuk-header__search-input-wrapper",children:[n.jsx("input",{ref:v,className:"nhsuk-header__search-input nhsuk-input",id:"search-field",name:e!=="controlled"?a:void 0,type:"search",placeholder:s,autoComplete:"off",value:J,onChange:X,onFocus:x,onBlur:D,disabled:d||g,...b&&p.length>0?{"aria-expanded":!0,"aria-haspopup":"listbox"}:{},...y}),ne()]}),n.jsxs("button",{className:"nhsuk-header__search-submit",type:"submit",disabled:d||g||e!=="form"&&J.length<I,..._,children:[g?N():R(),n.jsx("span",{className:"nhsuk-u-visually-hidden",children:g?"Searching...":c})]})]}),A()]})};function Od(e,{variant:t,isClient:r,menuOpen:a=!1,showMoreButton:i=!1,visibleItems:s,dropdownVisible:l,toggleMenu:c}){const{className:u,logo:d={},service:h={},organisation:g,search:b,account:p,navigation:S,containerClasses:y,variant:_="default",attributes:Y={},maxVisibleItems:T,...I}=e;"maxVisibleItems"in I&&delete I.maxVisibleItems;const w=h.href&&!d.href||h.href&&h.href===d.href,z=w?h.href:d.href,$=se("nhsuk-header",{"nhsuk-header--organisation":_==="organisation"||g,"nhsuk-header--white":_==="white"},u),q=se("nhsuk-header__container","nhsuk-width-container",y),H=se("nhsuk-header__navigation",{"nhsuk-header__navigation--white":S?.white,"nhsuk-header__navigation--justified":S?.justified},S?.className),E=()=>n.jsxs("svg",{className:"nhsuk-header__logo",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 200 80",height:"40",width:"100",focusable:"false",role:"img","aria-label":d.ariaLabel||"NHS",children:[n.jsx("title",{children:d.ariaLabel||"NHS"}),n.jsx("path",{fill:"#fff",d:"M200 0v80H0V0h200Zm-27.5 5.5c-14.5 0-29 5-29 22 0 10.2 7.7 13.5 14.7 16.3l.7.3c5.4 2 10.1 3.9 10.1 8.4 0 6.5-8.5 7.5-14 7.5s-12.5-1.5-16-3.5L135 70c5.5 2 13.5 3.5 20 3.5 15.5 0 32-4.5 32-22.5 0-19.5-25.5-16.5-25.5-25.5 0-5.5 5.5-6.5 12.5-6.5a35 35 0 0 1 14.5 3l4-13.5c-4.5-2-12-3-20-3Zm-131 2h-22l-14 65H22l9-45h.5l13.5 45h21.5l14-65H64l-9 45h-.5l-13-45Zm63 0h-18l-13 65h17l6-28H117l-5.5 28H129l13.5-65H125L119.5 32h-20l5-24.5Z"})]}),v=()=>d.src?n.jsx("img",{className:"nhsuk-header__organisation-logo",src:d.src,width:"280",alt:d.ariaLabel||"NHS"}):E(),M=()=>g?n.jsxs(n.Fragment,{children:[n.jsxs("span",{className:"nhsuk-header__organisation-name",children:[g.name,g.split&&n.jsxs("span",{className:"nhsuk-header__organisation-name-split",children:[" "," ",g.split]})]}),g.descriptor&&n.jsx("span",{className:"nhsuk-header__organisation-name-descriptor",children:g.descriptor})]}):null,J=(k,x)=>k?x?n.jsx("a",{className:"nhsuk-header__service-name",href:x,children:k}):n.jsx("span",{className:"nhsuk-header__service-name",children:k}):null,de=k=>k.active||k.current?n.jsx("strong",{className:"nhsuk-header__navigation-item-current-fallback",children:k.html?n.jsx("span",{dangerouslySetInnerHTML:{__html:k.html}}):k.text}):k.html?n.jsx("span",{dangerouslySetInnerHTML:{__html:k.html}}):k.text,X=()=>n.jsx("svg",{className:"nhsuk-icon nhsuk-icon__chevron-down",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 12 7","aria-hidden":"true",focusable:"false",children:n.jsx("path",{d:"M1.414 0 6 4.586 10.586 0 12 1.414 6 7 0 1.414 1.414 0Z"})});return S?.items,n.jsxs("header",{className:$,role:"banner","data-module":"nhsuk-header",...Y,...I,children:[n.jsxs("div",{className:q,children:[n.jsxs("div",{className:"nhsuk-header__service",children:[z?n.jsxs("a",{className:"nhsuk-header__service-logo",href:z,children:[v(),M(),w&&J(h.text)]}):n.jsxs(n.Fragment,{children:[v(),M(),w&&J(h.text)]}),h.text&&!w&&J(h.text,h.href)]}),b&&n.jsx(hs,{...b}),n.jsx(rs,{...p,variant:_==="white"?"white":"default"})]}),S&&S.items&&S.items.length>0&&n.jsx("nav",{className:H,"aria-label":S.ariaLabel||"Menu",children:n.jsx("div",{className:se("nhsuk-header__navigation-container","nhsuk-width-container",{"nhsuk-header__navigation-container--initializing":r&&t==="client","nhsuk-header__navigation-container--ssr":!r},y),children:n.jsxs("ul",{className:"nhsuk-header__navigation-list",children:[(S?.items||[]).slice(0,s??(S?.items?.length||0)).map((k,x)=>n.jsx("li",{className:se("nhsuk-header__navigation-item",{"nhsuk-header__navigation-item--current":k.active||k.current},k.className),...k.attributes||{},children:n.jsx("a",{className:"nhsuk-header__navigation-link",href:k.href,...k.active||k.current?{"aria-current":k.current?"page":"true"}:{},children:de(k)})},x)),i&&s!==void 0&&S?.items&&s<S.items.length&&n.jsx("li",{className:"nhsuk-header__navigation-item nhsuk-header__navigation-item--more",children:n.jsxs("a",{className:"nhsuk-header__navigation-button",id:"toggle-more-menu",onClick:c,type:"button",children:[n.jsx("span",{children:"More"}),X()]})})]})})}),r&&S&&S.items&&S.items.length>0&&a&&l&&n.jsx("div",{className:"nhsuk-header__dropdown-menu",hidden:!l,children:n.jsx("ul",{className:"nhsuk-header__dropdown-list",children:S.items.slice(s??0).map((k,x)=>n.jsx("li",{className:se("nhsuk-header__dropdown-item",{"nhsuk-header__dropdown-item--current":k.active||k.current}),children:n.jsx("a",{className:"nhsuk-header__dropdown-link",href:k.href,...k.active||k.current?{"aria-current":k.current?"page":"true"}:{},onClick:()=>{c?.()},children:de(k)})},`overflow-${(s??0)+x}`))})}),t==="server"]})}const kr=({className:e,logo:t={},service:r={},organisation:a,search:i,account:s,navigation:l,containerClasses:c,variant:u="default",attributes:d={},...h})=>{const[g,b]=f.useState(!1),[p]=f.useState(!1),[S]=f.useState(l?.items?.length||0),[y,_]=f.useState(!1),[Y,T]=f.useState(!1);f.useEffect(()=>{typeof window>"u"||T(!0)},[]),f.useEffect(()=>{if(typeof document>"u")return;const w=z=>{z.key==="Escape"&&g&&b(!1)};if(g)return document.addEventListener("keydown",w),()=>document.removeEventListener("keydown",w)},[g]);const I=w=>{w&&(w.preventDefault(),w.stopPropagation());const z=!g;b(z),_(z)};return Od({className:e,logo:t,service:r,organisation:a,search:i,account:s,navigation:l,containerClasses:c,variant:u,attributes:d,...h},{variant:"client",isClient:Y,menuOpen:g,showMoreButton:p,visibleItems:S,dropdownVisible:y,toggleMenu:I})},fs=({heading:e,headingLevel:t=1,headingClasses:r="",text:a,html:i,imageURL:s,containerClasses:l="",classes:c="",children:u,...d})=>{const h=["nhsuk-hero",s&&e?"nhsuk-hero--image nhsuk-hero--image-description":"",s&&!e?"nhsuk-hero--image":"",c].filter(Boolean).join(" "),g=["nhsuk-width-container",l,s?"":"nhsuk-hero--border"].filter(Boolean).join(" "),b=["nhsuk-hero__heading",r,!u&&!a&&!i?"nhsuk-u-margin-bottom-0":""].filter(Boolean).join(" "),p=u||e||a||i,S=()=>{if(!e)return null;const y={className:b};switch(t){case 1:return n.jsx("h1",{...y,children:e});case 2:return n.jsx("h2",{...y,children:e});case 3:return n.jsx("h3",{...y,children:e});case 4:return n.jsx("h4",{...y,children:e});case 5:return n.jsx("h5",{...y,children:e});case 6:return n.jsx("h6",{...y,children:e});default:return n.jsx("h1",{...y,children:e})}};return n.jsxs("section",{className:h,style:s?{backgroundImage:`url('${s}')`}:void 0,role:"banner",...d,children:[s&&n.jsx("div",{className:"nhsuk-hero__overlay",children:p&&n.jsx("div",{className:g,children:n.jsx("div",{className:"nhsuk-grid-row",children:n.jsx("div",{className:"nhsuk-grid-column-two-thirds",children:n.jsxs("div",{className:"nhsuk-hero-content",children:[S(),u||(i?n.jsx("div",{dangerouslySetInnerHTML:{__html:i}}):a?n.jsx("p",{className:"nhsuk-body-l nhsuk-u-margin-bottom-0",children:a}):null),n.jsx("span",{className:"nhsuk-hero__arrow","aria-hidden":"true"})]})})})})}),!s&&p&&n.jsx("div",{className:g,children:n.jsx("div",{className:"nhsuk-grid-row",children:n.jsx("div",{className:"nhsuk-grid-column-two-thirds",children:n.jsxs("div",{className:"nhsuk-hero__wrapper",children:[S(),u||(i?n.jsx("div",{dangerouslySetInnerHTML:{__html:i}}):a?n.jsx("p",{className:"nhsuk-body-l nhsuk-u-margin-bottom-0",children:a}):null)]})})})})]})};fs.displayName="Hero";const Sr=({className:e,links:t=[],linksColumn2:r,linksColumn3:a,metaLinks:i,copyright:s="Â© NHS England",containerClasses:l,attributes:c={},style:u,footerStyle:d,containerStyle:h})=>{const g=(p,S=!1)=>n.jsx("li",{className:se("nhsuk-footer__list-item",{"nhsuk-footer-default__list-item":S}),children:n.jsx("a",{className:"nhsuk-footer__list-item-link",href:p.URL,target:p.newWindow?"_blank":void 0,rel:p.newWindow?"noopener noreferrer":void 0,children:p.label})},`${p.URL}-${p.label}`),b=!!(r||a);return n.jsx("footer",{role:"contentinfo",...c,style:{...c?.style,...u},children:n.jsxs("div",{className:"nhsuk-footer-container",children:[n.jsxs("div",{className:se("nhsuk-width-container",l),style:h,children:[n.jsx("h2",{className:"nhsuk-u-visually-hidden",children:"Support links"}),n.jsx("div",{className:se("nhsuk-footer",e),style:d,children:b?n.jsxs(n.Fragment,{children:[t.length>0&&n.jsx("ul",{className:"nhsuk-footer__list",children:t.map(p=>g(p))}),r&&r.length>0&&n.jsx("ul",{className:"nhsuk-footer__list",children:r.map(p=>g(p))}),a&&a.length>0&&n.jsx("ul",{className:"nhsuk-footer__list",children:a.map(p=>g(p))}),i&&i.length>0&&n.jsx("ul",{className:"nhsuk-footer__list nhsuk-footer__meta",children:i.map(p=>g(p))})]}):n.jsxs("ul",{className:"nhsuk-footer__list",children:[t.map(p=>g(p,!0)),(r||[]).map(p=>g(p,!0)),(a||[]).map(p=>g(p,!0)),(i||[]).map(p=>g(p,!0))]})}),!b&&n.jsx("div",{children:n.jsx("p",{className:"nhsuk-footer__copyright",children:s})})]}),b&&n.jsx("div",{className:"nhsuk-width-container",children:n.jsx("div",{children:n.jsx("p",{className:"nhsuk-footer__copyright",children:s})})})]})})};function Fn(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function Ud(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function _r(e){let t,r,a;e.length!==2?(t=Fn,r=(c,u)=>Fn(e(c),u),a=(c,u)=>e(c)-u):(t=e===Fn||e===Ud?e:Gd,r=e,a=e);function i(c,u,d=0,h=c.length){if(d<h){if(t(u,u)!==0)return h;do{const g=d+h>>>1;r(c[g],u)<0?d=g+1:h=g}while(d<h)}return d}function s(c,u,d=0,h=c.length){if(d<h){if(t(u,u)!==0)return h;do{const g=d+h>>>1;r(c[g],u)<=0?d=g+1:h=g}while(d<h)}return d}function l(c,u,d=0,h=c.length){const g=i(c,u,d,h-1);return g>d&&a(c[g-1],u)>-a(c[g],u)?g-1:g}return{left:i,center:l,right:s}}function Gd(){return 0}function Vd(e){return e===null?NaN:+e}const Yd=_r(Fn).right;_r(Vd).center;const qd=Math.sqrt(50),Kd=Math.sqrt(10),Zd=Math.sqrt(2);function ms(e,t,r){const a=(t-e)/Math.max(0,r),i=Math.floor(Math.log10(a)),s=a/Math.pow(10,i),l=s>=qd?10:s>=Kd?5:s>=Zd?2:1;let c,u,d;return i<0?(d=Math.pow(10,-i)/l,c=Math.round(e*d),u=Math.round(t*d),c/d<e&&++c,u/d>t&&--u,d=-d):(d=Math.pow(10,i)*l,c=Math.round(e/d),u=Math.round(t/d),c*d<e&&++c,u*d>t&&--u),u<c&&.5<=r&&r<2?ms(e,t,r*2):[c,u,d]}function gs(e,t,r){return t=+t,e=+e,r=+r,ms(e,t,r)[2]}function ps(e,t,r){t=+t,e=+e,r=+r;const a=t<e,i=a?gs(t,e,r):gs(e,t,r);return(a?-1:1)*(i<0?1/-i:i)}function Xd(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function wr(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function bs(e,t){var r=Object.create(e.prototype);for(var a in t)r[a]=t[a];return r}function Rt(){}var zt=.7,In=1/zt,Tt="\\s*([+-]?\\d+)\\s*",Wt="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Xe="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Jd=/^#([0-9a-f]{3,8})$/,Qd=new RegExp(`^rgb\\(${Tt},${Tt},${Tt}\\)$`),eu=new RegExp(`^rgb\\(${Xe},${Xe},${Xe}\\)$`),tu=new RegExp(`^rgba\\(${Tt},${Tt},${Tt},${Wt}\\)$`),nu=new RegExp(`^rgba\\(${Xe},${Xe},${Xe},${Wt}\\)$`),ru=new RegExp(`^hsl\\(${Wt},${Xe},${Xe}\\)$`),au=new RegExp(`^hsla\\(${Wt},${Xe},${Xe},${Wt}\\)$`),ys={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};wr(Rt,Ot,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:xs,formatHex:xs,formatHex8:su,formatHsl:ou,formatRgb:vs,toString:vs});function xs(){return this.rgb().formatHex()}function su(){return this.rgb().formatHex8()}function ou(){return Cs(this).formatHsl()}function vs(){return this.rgb().formatRgb()}function Ot(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=Jd.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?ks(t):r===3?new Ve(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?En(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?En(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=Qd.exec(e))?new Ve(t[1],t[2],t[3],1):(t=eu.exec(e))?new Ve(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=tu.exec(e))?En(t[1],t[2],t[3],t[4]):(t=nu.exec(e))?En(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=ru.exec(e))?ws(t[1],t[2]/100,t[3]/100,1):(t=au.exec(e))?ws(t[1],t[2]/100,t[3]/100,t[4]):ys.hasOwnProperty(e)?ks(ys[e]):e==="transparent"?new Ve(NaN,NaN,NaN,0):null}function ks(e){return new Ve(e>>16&255,e>>8&255,e&255,1)}function En(e,t,r,a){return a<=0&&(e=t=r=NaN),new Ve(e,t,r,a)}function iu(e){return e instanceof Rt||(e=Ot(e)),e?(e=e.rgb(),new Ve(e.r,e.g,e.b,e.opacity)):new Ve}function Cr(e,t,r,a){return arguments.length===1?iu(e):new Ve(e,t,r,a??1)}function Ve(e,t,r,a){this.r=+e,this.g=+t,this.b=+r,this.opacity=+a}wr(Ve,Cr,bs(Rt,{brighter(e){return e=e==null?In:Math.pow(In,e),new Ve(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?zt:Math.pow(zt,e),new Ve(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Ve(kt(this.r),kt(this.g),kt(this.b),Mn(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Ss,formatHex:Ss,formatHex8:lu,formatRgb:_s,toString:_s}));function Ss(){return`#${St(this.r)}${St(this.g)}${St(this.b)}`}function lu(){return`#${St(this.r)}${St(this.g)}${St(this.b)}${St((isNaN(this.opacity)?1:this.opacity)*255)}`}function _s(){const e=Mn(this.opacity);return`${e===1?"rgb(":"rgba("}${kt(this.r)}, ${kt(this.g)}, ${kt(this.b)}${e===1?")":`, ${e})`}`}function Mn(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function kt(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function St(e){return e=kt(e),(e<16?"0":"")+e.toString(16)}function ws(e,t,r,a){return a<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new Ke(e,t,r,a)}function Cs(e){if(e instanceof Ke)return new Ke(e.h,e.s,e.l,e.opacity);if(e instanceof Rt||(e=Ot(e)),!e)return new Ke;if(e instanceof Ke)return e;e=e.rgb();var t=e.r/255,r=e.g/255,a=e.b/255,i=Math.min(t,r,a),s=Math.max(t,r,a),l=NaN,c=s-i,u=(s+i)/2;return c?(t===s?l=(r-a)/c+(r<a)*6:r===s?l=(a-t)/c+2:l=(t-r)/c+4,c/=u<.5?s+i:2-s-i,l*=60):c=u>0&&u<1?0:l,new Ke(l,c,u,e.opacity)}function cu(e,t,r,a){return arguments.length===1?Cs(e):new Ke(e,t,r,a??1)}function Ke(e,t,r,a){this.h=+e,this.s=+t,this.l=+r,this.opacity=+a}wr(Ke,cu,bs(Rt,{brighter(e){return e=e==null?In:Math.pow(In,e),new Ke(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?zt:Math.pow(zt,e),new Ke(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,a=r+(r<.5?r:1-r)*t,i=2*r-a;return new Ve(jr(e>=240?e-240:e+120,i,a),jr(e,i,a),jr(e<120?e+240:e-120,i,a),this.opacity)},clamp(){return new Ke(js(this.h),Ln(this.s),Ln(this.l),Mn(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Mn(this.opacity);return`${e===1?"hsl(":"hsla("}${js(this.h)}, ${Ln(this.s)*100}%, ${Ln(this.l)*100}%${e===1?")":`, ${e})`}`}}));function js(e){return e=(e||0)%360,e<0?e+360:e}function Ln(e){return Math.max(0,Math.min(1,e||0))}function jr(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}const Nr=e=>()=>e;function du(e,t){return function(r){return e+r*t}}function uu(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(a){return Math.pow(e+a*t,r)}}function hu(e){return(e=+e)==1?Ns:function(t,r){return r-t?uu(t,r,e):Nr(isNaN(t)?r:t)}}function Ns(e,t){var r=t-e;return r?du(e,r):Nr(isNaN(e)?t:e)}const Ts=(function e(t){var r=hu(t);function a(i,s){var l=r((i=Cr(i)).r,(s=Cr(s)).r),c=r(i.g,s.g),u=r(i.b,s.b),d=Ns(i.opacity,s.opacity);return function(h){return i.r=l(h),i.g=c(h),i.b=u(h),i.opacity=d(h),i+""}}return a.gamma=e,a})(1);function fu(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,a=t.slice(),i;return function(s){for(i=0;i<r;++i)a[i]=e[i]*(1-s)+t[i]*s;return a}}function mu(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function gu(e,t){var r=t?t.length:0,a=e?Math.min(r,e.length):0,i=new Array(a),s=new Array(r),l;for(l=0;l<a;++l)i[l]=Br(e[l],t[l]);for(;l<r;++l)s[l]=t[l];return function(c){for(l=0;l<a;++l)s[l]=i[l](c);return s}}function pu(e,t){var r=new Date;return e=+e,t=+t,function(a){return r.setTime(e*(1-a)+t*a),r}}function An(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function bu(e,t){var r={},a={},i;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(i in t)i in e?r[i]=Br(e[i],t[i]):a[i]=t[i];return function(s){for(i in r)a[i]=r[i](s);return a}}var Tr=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Dr=new RegExp(Tr.source,"g");function yu(e){return function(){return e}}function xu(e){return function(t){return e(t)+""}}function vu(e,t){var r=Tr.lastIndex=Dr.lastIndex=0,a,i,s,l=-1,c=[],u=[];for(e=e+"",t=t+"";(a=Tr.exec(e))&&(i=Dr.exec(t));)(s=i.index)>r&&(s=t.slice(r,s),c[l]?c[l]+=s:c[++l]=s),(a=a[0])===(i=i[0])?c[l]?c[l]+=i:c[++l]=i:(c[++l]=null,u.push({i:l,x:An(a,i)})),r=Dr.lastIndex;return r<t.length&&(s=t.slice(r),c[l]?c[l]+=s:c[++l]=s),c.length<2?u[0]?xu(u[0].x):yu(t):(t=u.length,function(d){for(var h=0,g;h<t;++h)c[(g=u[h]).i]=g.x(d);return c.join("")})}function Br(e,t){var r=typeof t,a;return t==null||r==="boolean"?Nr(t):(r==="number"?An:r==="string"?(a=Ot(t))?(t=a,Ts):vu:t instanceof Ot?Ts:t instanceof Date?pu:mu(t)?fu:Array.isArray(t)?gu:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?bu:An)(e,t)}function ku(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}function Su(e){return function(){return e}}function _u(e){return+e}var Ds=[0,1];function Dt(e){return e}function Fr(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:Su(isNaN(t)?NaN:.5)}function wu(e,t){var r;return e>t&&(r=e,e=t,t=r),function(a){return Math.max(e,Math.min(t,a))}}function Cu(e,t,r){var a=e[0],i=e[1],s=t[0],l=t[1];return i<a?(a=Fr(i,a),s=r(l,s)):(a=Fr(a,i),s=r(s,l)),function(c){return s(a(c))}}function ju(e,t,r){var a=Math.min(e.length,t.length)-1,i=new Array(a),s=new Array(a),l=-1;for(e[a]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++l<a;)i[l]=Fr(e[l],e[l+1]),s[l]=r(t[l],t[l+1]);return function(c){var u=Yd(e,c,1,a)-1;return s[u](i[u](c))}}function Nu(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function Tu(){var e=Ds,t=Ds,r=Br,a,i,s,l=Dt,c,u,d;function h(){var b=Math.min(e.length,t.length);return l!==Dt&&(l=wu(e[0],e[b-1])),c=b>2?ju:Cu,u=d=null,g}function g(b){return b==null||isNaN(b=+b)?s:(u||(u=c(e.map(a),t,r)))(a(l(b)))}return g.invert=function(b){return l(i((d||(d=c(t,e.map(a),An)))(b)))},g.domain=function(b){return arguments.length?(e=Array.from(b,_u),h()):e.slice()},g.range=function(b){return arguments.length?(t=Array.from(b),h()):t.slice()},g.rangeRound=function(b){return t=Array.from(b),r=ku,h()},g.clamp=function(b){return arguments.length?(l=b?!0:Dt,h()):l!==Dt},g.interpolate=function(b){return arguments.length?(r=b,h()):r},g.unknown=function(b){return arguments.length?(s=b,g):s},function(b,p){return a=b,i=p,h()}}function Du(){return Tu()(Dt,Dt)}function Bu(e,t){e=e.slice();var r=0,a=e.length-1,i=e[r],s=e[a],l;return s<i&&(l=r,r=a,a=l,l=i,i=s,s=l),e[r]=t.floor(i),e[a]=t.ceil(s),e}const Ir=new Date,Er=new Date;function $e(e,t,r,a){function i(s){return e(s=arguments.length===0?new Date:new Date(+s)),s}return i.floor=s=>(e(s=new Date(+s)),s),i.ceil=s=>(e(s=new Date(s-1)),t(s,1),e(s),s),i.round=s=>{const l=i(s),c=i.ceil(s);return s-l<c-s?l:c},i.offset=(s,l)=>(t(s=new Date(+s),l==null?1:Math.floor(l)),s),i.range=(s,l,c)=>{const u=[];if(s=i.ceil(s),c=c==null?1:Math.floor(c),!(s<l)||!(c>0))return u;let d;do u.push(d=new Date(+s)),t(s,c),e(s);while(d<s&&s<l);return u},i.filter=s=>$e(l=>{if(l>=l)for(;e(l),!s(l);)l.setTime(l-1)},(l,c)=>{if(l>=l)if(c<0)for(;++c<=0;)for(;t(l,-1),!s(l););else for(;--c>=0;)for(;t(l,1),!s(l););}),r&&(i.count=(s,l)=>(Ir.setTime(+s),Er.setTime(+l),e(Ir),e(Er),Math.floor(r(Ir,Er))),i.every=s=>(s=Math.floor(s),!isFinite(s)||!(s>0)?null:s>1?i.filter(a?l=>a(l)%s===0:l=>i.count(0,l)%s===0):i)),i}const $n=$e(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);$n.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?$e(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):$n),$n.range;const ut=1e3,Ye=ut*60,ht=Ye*60,ft=ht*24,Mr=ft*7,Bs=ft*30,Lr=ft*365,Bt=$e(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*ut)},(e,t)=>(t-e)/ut,e=>e.getUTCSeconds());Bt.range;const Ar=$e(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*ut)},(e,t)=>{e.setTime(+e+t*Ye)},(e,t)=>(t-e)/Ye,e=>e.getMinutes());Ar.range,$e(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*Ye)},(e,t)=>(t-e)/Ye,e=>e.getUTCMinutes()).range;const $r=$e(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*ut-e.getMinutes()*Ye)},(e,t)=>{e.setTime(+e+t*ht)},(e,t)=>(t-e)/ht,e=>e.getHours());$r.range,$e(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*ht)},(e,t)=>(t-e)/ht,e=>e.getUTCHours()).range;const Ut=$e(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Ye)/ft,e=>e.getDate()-1);Ut.range;const Pr=$e(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/ft,e=>e.getUTCDate()-1);Pr.range,$e(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/ft,e=>Math.floor(e/ft)).range;function _t(e){return $e(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,r)=>{t.setDate(t.getDate()+r*7)},(t,r)=>(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*Ye)/Mr)}const Pn=_t(0),Hn=_t(1),Fu=_t(2),Iu=_t(3),Ft=_t(4),Eu=_t(5),Mu=_t(6);Pn.range,Hn.range,Fu.range,Iu.range,Ft.range,Eu.range,Mu.range;function wt(e){return $e(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+r*7)},(t,r)=>(r-t)/Mr)}const Fs=wt(0),Rn=wt(1),Lu=wt(2),Au=wt(3),It=wt(4),$u=wt(5),Pu=wt(6);Fs.range,Rn.range,Lu.range,Au.range,It.range,$u.range,Pu.range;const Hr=$e(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());Hr.range,$e(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth()).range;const mt=$e(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());mt.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:$e(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)}),mt.range;const Ct=$e(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());Ct.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:$e(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)}),Ct.range;function Hu(e,t,r,a,i,s){const l=[[Bt,1,ut],[Bt,5,5*ut],[Bt,15,15*ut],[Bt,30,30*ut],[s,1,Ye],[s,5,5*Ye],[s,15,15*Ye],[s,30,30*Ye],[i,1,ht],[i,3,3*ht],[i,6,6*ht],[i,12,12*ht],[a,1,ft],[a,2,2*ft],[r,1,Mr],[t,1,Bs],[t,3,3*Bs],[e,1,Lr]];function c(d,h,g){const b=h<d;b&&([d,h]=[h,d]);const p=g&&typeof g.range=="function"?g:u(d,h,g),S=p?p.range(d,+h+1):[];return b?S.reverse():S}function u(d,h,g){const b=Math.abs(h-d)/g,p=_r(([,,_])=>_).right(l,b);if(p===l.length)return e.every(ps(d/Lr,h/Lr,g));if(p===0)return $n.every(Math.max(ps(d,h,g),1));const[S,y]=l[b/l[p-1][2]<l[p][2]/b?p-1:p];return S.every(y)}return[c,u]}const[Ru,zu]=Hu(mt,Hr,Pn,Ut,$r,Ar);function Rr(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function zr(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function Gt(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function Wu(e){var t=e.dateTime,r=e.date,a=e.time,i=e.periods,s=e.days,l=e.shortDays,c=e.months,u=e.shortMonths,d=Vt(i),h=Yt(i),g=Vt(s),b=Yt(s),p=Vt(l),S=Yt(l),y=Vt(c),_=Yt(c),Y=Vt(u),T=Yt(u),I={a:D,A:he,b:R,B:N,c:null,d:$s,e:$s,f:uh,g:kh,G:_h,H:lh,I:ch,j:dh,L:Ps,m:hh,M:fh,p:ne,q:A,Q:Us,s:Gs,S:mh,u:gh,U:ph,V:bh,w:yh,W:xh,x:null,X:null,y:vh,Y:Sh,Z:wh,"%":Os},w={a:te,A:L,b:oe,B:Ce,c:null,d:Rs,e:Rs,f:Th,g:Ph,G:Rh,H:Ch,I:jh,j:Nh,L:zs,m:Dh,M:Bh,p:ie,q:ee,Q:Us,s:Gs,S:Fh,u:Ih,U:Eh,V:Mh,w:Lh,W:Ah,x:null,X:null,y:$h,Y:Hh,Z:zh,"%":Os},z={a:v,A:M,b:J,B:de,c:X,d:Ls,e:Ls,f:ah,g:Ms,G:Es,H:As,I:As,j:eh,L:rh,m:Qu,M:th,p:E,q:Ju,Q:oh,s:ih,S:nh,u:Yu,U:qu,V:Ku,w:Vu,W:Zu,x:k,X:x,y:Ms,Y:Es,Z:Xu,"%":sh};I.x=$(r,I),I.X=$(a,I),I.c=$(t,I),w.x=$(r,w),w.X=$(a,w),w.c=$(t,w);function $(K,ae){return function(ge){var W=[],je=-1,be=0,pe=K.length,ue,ye,Ue;for(ge instanceof Date||(ge=new Date(+ge));++je<pe;)K.charCodeAt(je)===37&&(W.push(K.slice(be,je)),(ye=Is[ue=K.charAt(++je)])!=null?ue=K.charAt(++je):ye=ue==="e"?" ":"0",(Ue=ae[ue])&&(ue=Ue(ge,ye)),W.push(ue),be=je+1);return W.push(K.slice(be,je)),W.join("")}}function q(K,ae){return function(ge){var W=Gt(1900,void 0,1),je=H(W,K,ge+="",0),be,pe;if(je!=ge.length)return null;if("Q"in W)return new Date(W.Q);if("s"in W)return new Date(W.s*1e3+("L"in W?W.L:0));if(ae&&!("Z"in W)&&(W.Z=0),"p"in W&&(W.H=W.H%12+W.p*12),W.m===void 0&&(W.m="q"in W?W.q:0),"V"in W){if(W.V<1||W.V>53)return null;"w"in W||(W.w=1),"Z"in W?(be=zr(Gt(W.y,0,1)),pe=be.getUTCDay(),be=pe>4||pe===0?Rn.ceil(be):Rn(be),be=Pr.offset(be,(W.V-1)*7),W.y=be.getUTCFullYear(),W.m=be.getUTCMonth(),W.d=be.getUTCDate()+(W.w+6)%7):(be=Rr(Gt(W.y,0,1)),pe=be.getDay(),be=pe>4||pe===0?Hn.ceil(be):Hn(be),be=Ut.offset(be,(W.V-1)*7),W.y=be.getFullYear(),W.m=be.getMonth(),W.d=be.getDate()+(W.w+6)%7)}else("W"in W||"U"in W)&&("w"in W||(W.w="u"in W?W.u%7:"W"in W?1:0),pe="Z"in W?zr(Gt(W.y,0,1)).getUTCDay():Rr(Gt(W.y,0,1)).getDay(),W.m=0,W.d="W"in W?(W.w+6)%7+W.W*7-(pe+5)%7:W.w+W.U*7-(pe+6)%7);return"Z"in W?(W.H+=W.Z/100|0,W.M+=W.Z%100,zr(W)):Rr(W)}}function H(K,ae,ge,W){for(var je=0,be=ae.length,pe=ge.length,ue,ye;je<be;){if(W>=pe)return-1;if(ue=ae.charCodeAt(je++),ue===37){if(ue=ae.charAt(je++),ye=z[ue in Is?ae.charAt(je++):ue],!ye||(W=ye(K,ge,W))<0)return-1}else if(ue!=ge.charCodeAt(W++))return-1}return W}function E(K,ae,ge){var W=d.exec(ae.slice(ge));return W?(K.p=h.get(W[0].toLowerCase()),ge+W[0].length):-1}function v(K,ae,ge){var W=p.exec(ae.slice(ge));return W?(K.w=S.get(W[0].toLowerCase()),ge+W[0].length):-1}function M(K,ae,ge){var W=g.exec(ae.slice(ge));return W?(K.w=b.get(W[0].toLowerCase()),ge+W[0].length):-1}function J(K,ae,ge){var W=Y.exec(ae.slice(ge));return W?(K.m=T.get(W[0].toLowerCase()),ge+W[0].length):-1}function de(K,ae,ge){var W=y.exec(ae.slice(ge));return W?(K.m=_.get(W[0].toLowerCase()),ge+W[0].length):-1}function X(K,ae,ge){return H(K,t,ae,ge)}function k(K,ae,ge){return H(K,r,ae,ge)}function x(K,ae,ge){return H(K,a,ae,ge)}function D(K){return l[K.getDay()]}function he(K){return s[K.getDay()]}function R(K){return u[K.getMonth()]}function N(K){return c[K.getMonth()]}function ne(K){return i[+(K.getHours()>=12)]}function A(K){return 1+~~(K.getMonth()/3)}function te(K){return l[K.getUTCDay()]}function L(K){return s[K.getUTCDay()]}function oe(K){return u[K.getUTCMonth()]}function Ce(K){return c[K.getUTCMonth()]}function ie(K){return i[+(K.getUTCHours()>=12)]}function ee(K){return 1+~~(K.getUTCMonth()/3)}return{format:function(K){var ae=$(K+="",I);return ae.toString=function(){return K},ae},parse:function(K){var ae=q(K+="",!1);return ae.toString=function(){return K},ae},utcFormat:function(K){var ae=$(K+="",w);return ae.toString=function(){return K},ae},utcParse:function(K){var ae=q(K+="",!0);return ae.toString=function(){return K},ae}}}var Is={"-":"",_:" ",0:"0"},Re=/^\s*\d+/,Ou=/^%/,Uu=/[\\^$*+?|[\]().{}]/g;function we(e,t,r){var a=e<0?"-":"",i=(a?-e:e)+"",s=i.length;return a+(s<r?new Array(r-s+1).join(t)+i:i)}function Gu(e){return e.replace(Uu,"\\$&")}function Vt(e){return new RegExp("^(?:"+e.map(Gu).join("|")+")","i")}function Yt(e){return new Map(e.map((t,r)=>[t.toLowerCase(),r]))}function Vu(e,t,r){var a=Re.exec(t.slice(r,r+1));return a?(e.w=+a[0],r+a[0].length):-1}function Yu(e,t,r){var a=Re.exec(t.slice(r,r+1));return a?(e.u=+a[0],r+a[0].length):-1}function qu(e,t,r){var a=Re.exec(t.slice(r,r+2));return a?(e.U=+a[0],r+a[0].length):-1}function Ku(e,t,r){var a=Re.exec(t.slice(r,r+2));return a?(e.V=+a[0],r+a[0].length):-1}function Zu(e,t,r){var a=Re.exec(t.slice(r,r+2));return a?(e.W=+a[0],r+a[0].length):-1}function Es(e,t,r){var a=Re.exec(t.slice(r,r+4));return a?(e.y=+a[0],r+a[0].length):-1}function Ms(e,t,r){var a=Re.exec(t.slice(r,r+2));return a?(e.y=+a[0]+(+a[0]>68?1900:2e3),r+a[0].length):-1}function Xu(e,t,r){var a=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return a?(e.Z=a[1]?0:-(a[2]+(a[3]||"00")),r+a[0].length):-1}function Ju(e,t,r){var a=Re.exec(t.slice(r,r+1));return a?(e.q=a[0]*3-3,r+a[0].length):-1}function Qu(e,t,r){var a=Re.exec(t.slice(r,r+2));return a?(e.m=a[0]-1,r+a[0].length):-1}function Ls(e,t,r){var a=Re.exec(t.slice(r,r+2));return a?(e.d=+a[0],r+a[0].length):-1}function eh(e,t,r){var a=Re.exec(t.slice(r,r+3));return a?(e.m=0,e.d=+a[0],r+a[0].length):-1}function As(e,t,r){var a=Re.exec(t.slice(r,r+2));return a?(e.H=+a[0],r+a[0].length):-1}function th(e,t,r){var a=Re.exec(t.slice(r,r+2));return a?(e.M=+a[0],r+a[0].length):-1}function nh(e,t,r){var a=Re.exec(t.slice(r,r+2));return a?(e.S=+a[0],r+a[0].length):-1}function rh(e,t,r){var a=Re.exec(t.slice(r,r+3));return a?(e.L=+a[0],r+a[0].length):-1}function ah(e,t,r){var a=Re.exec(t.slice(r,r+6));return a?(e.L=Math.floor(a[0]/1e3),r+a[0].length):-1}function sh(e,t,r){var a=Ou.exec(t.slice(r,r+1));return a?r+a[0].length:-1}function oh(e,t,r){var a=Re.exec(t.slice(r));return a?(e.Q=+a[0],r+a[0].length):-1}function ih(e,t,r){var a=Re.exec(t.slice(r));return a?(e.s=+a[0],r+a[0].length):-1}function $s(e,t){return we(e.getDate(),t,2)}function lh(e,t){return we(e.getHours(),t,2)}function ch(e,t){return we(e.getHours()%12||12,t,2)}function dh(e,t){return we(1+Ut.count(mt(e),e),t,3)}function Ps(e,t){return we(e.getMilliseconds(),t,3)}function uh(e,t){return Ps(e,t)+"000"}function hh(e,t){return we(e.getMonth()+1,t,2)}function fh(e,t){return we(e.getMinutes(),t,2)}function mh(e,t){return we(e.getSeconds(),t,2)}function gh(e){var t=e.getDay();return t===0?7:t}function ph(e,t){return we(Pn.count(mt(e)-1,e),t,2)}function Hs(e){var t=e.getDay();return t>=4||t===0?Ft(e):Ft.ceil(e)}function bh(e,t){return e=Hs(e),we(Ft.count(mt(e),e)+(mt(e).getDay()===4),t,2)}function yh(e){return e.getDay()}function xh(e,t){return we(Hn.count(mt(e)-1,e),t,2)}function vh(e,t){return we(e.getFullYear()%100,t,2)}function kh(e,t){return e=Hs(e),we(e.getFullYear()%100,t,2)}function Sh(e,t){return we(e.getFullYear()%1e4,t,4)}function _h(e,t){var r=e.getDay();return e=r>=4||r===0?Ft(e):Ft.ceil(e),we(e.getFullYear()%1e4,t,4)}function wh(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+we(t/60|0,"0",2)+we(t%60,"0",2)}function Rs(e,t){return we(e.getUTCDate(),t,2)}function Ch(e,t){return we(e.getUTCHours(),t,2)}function jh(e,t){return we(e.getUTCHours()%12||12,t,2)}function Nh(e,t){return we(1+Pr.count(Ct(e),e),t,3)}function zs(e,t){return we(e.getUTCMilliseconds(),t,3)}function Th(e,t){return zs(e,t)+"000"}function Dh(e,t){return we(e.getUTCMonth()+1,t,2)}function Bh(e,t){return we(e.getUTCMinutes(),t,2)}function Fh(e,t){return we(e.getUTCSeconds(),t,2)}function Ih(e){var t=e.getUTCDay();return t===0?7:t}function Eh(e,t){return we(Fs.count(Ct(e)-1,e),t,2)}function Ws(e){var t=e.getUTCDay();return t>=4||t===0?It(e):It.ceil(e)}function Mh(e,t){return e=Ws(e),we(It.count(Ct(e),e)+(Ct(e).getUTCDay()===4),t,2)}function Lh(e){return e.getUTCDay()}function Ah(e,t){return we(Rn.count(Ct(e)-1,e),t,2)}function $h(e,t){return we(e.getUTCFullYear()%100,t,2)}function Ph(e,t){return e=Ws(e),we(e.getUTCFullYear()%100,t,2)}function Hh(e,t){return we(e.getUTCFullYear()%1e4,t,4)}function Rh(e,t){var r=e.getUTCDay();return e=r>=4||r===0?It(e):It.ceil(e),we(e.getUTCFullYear()%1e4,t,4)}function zh(){return"+0000"}function Os(){return"%"}function Us(e){return+e}function Gs(e){return Math.floor(+e/1e3)}var Et,Vs;Wh({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function Wh(e){return Et=Wu(e),Vs=Et.format,Et.parse,Et.utcFormat,Et.utcParse,Et}function Oh(e){return new Date(e)}function Uh(e){return e instanceof Date?+e:+new Date(+e)}function Ys(e,t,r,a,i,s,l,c,u,d){var h=Du(),g=h.invert,b=h.domain,p=d(".%L"),S=d(":%S"),y=d("%I:%M"),_=d("%I %p"),Y=d("%a %d"),T=d("%b %d"),I=d("%B"),w=d("%Y");function z($){return(u($)<$?p:c($)<$?S:l($)<$?y:s($)<$?_:a($)<$?i($)<$?Y:T:r($)<$?I:w)($)}return h.invert=function($){return new Date(g($))},h.domain=function($){return arguments.length?b(Array.from($,Uh)):b().map(Oh)},h.ticks=function($){var q=b();return e(q[0],q[q.length-1],$??10)},h.tickFormat=function($,q){return q==null?z:d(q)},h.nice=function($){var q=b();return(!$||typeof $.range!="function")&&($=t(q[0],q[q.length-1],$??10)),$?b(Bu(q,$)):h},h.copy=function(){return Nu(h,Ys(e,t,r,a,i,s,l,c,u,d))},h}function Gh(){return Xd.apply(Ys(Ru,zu,mt,Hr,Pn,Ut,$r,Ar,Bt,Vs).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function Vh({task:e,scale:t,onTaskClick:r,onTaskDoubleClick:a,isSelected:i=!1,taskIndex:s,tabIndex:l=-1,onFocus:c,"aria-label":u}){const d=f.useRef(null),[h,g]=f.useState(!1),[b,p]=f.useState(!1),S=t(e.start),y=t(e.end),_=Math.max(y-S,20),Y=()=>{if(e.color)return e.color;switch(e.priority){case"high":return"#d5281b";case"medium":return"#005eb8";case"low":return"#007f3b";default:return"#005eb8"}},T=e.progress?_*e.progress/100:0,I=()=>{r?.(e)},w=()=>{a?.(e)},z=J=>{J.key==="Enter"?(J.preventDefault(),I()):J.key===" "&&(J.preventDefault(),w())},$=()=>{g(!0)},q=()=>{g(!1)},H=()=>{p(!0),c?.()},E=()=>{p(!1)},v=["gantt-task-bar",h&&"gantt-task-bar--pressed",(b||i)&&"gantt-task-bar--focused",e.priority&&`gantt-task-bar--priority-${e.priority}`,i&&"gantt-task-bar--selected",e.type&&`gantt-task-bar--type-${e.type}`].filter(Boolean).join(" "),M={"--task-left":`${S}px`,"--task-width":`${_}px`,"--task-color":Y(),left:`${S}px`,width:`${_}px`,backgroundColor:Y()};return n.jsxs("div",{role:"button",tabIndex:l,ref:d,"data-task-index":s,className:v,style:M,onClick:I,onDoubleClick:w,onKeyDown:z,onMouseDown:$,onMouseUp:q,onFocus:H,onBlur:E,"aria-label":u||`${i?"Selected: ":""}${e.title}: ${e.start.toLocaleDateString()} to ${e.end.toLocaleDateString()}${e.priority?`, priority ${e.priority}`:""}${e.progress?`, ${e.progress}% complete`:""}`,"aria-describedby":`task-${e.id}-details`,children:[n.jsx("span",{className:"task-title",children:e.title}),e.progress!==void 0&&n.jsx("div",{className:"task-progress",style:{width:`${T}px`}}),n.jsx("span",{id:`task-${e.id}-details`,className:"sr-only",children:`Task: ${e.title}, from ${e.start.toLocaleDateString()} to ${e.end.toLocaleDateString()}${e.progress?`, ${e.progress}% complete`:""}${e.priority?`, priority: ${e.priority}`:""}`})]})}function Yh({viewStart:e,viewEnd:t,dateCount:r}){const a=[];for(let p=e.getTime();p<=t.getTime();p+=864e5)a.push(new Date(p));const s=new Date;s.setHours(0,0,0,0);const[l,c]=f.useState(-1),u=f.useRef(null),d=p=>{if(p.key==="ArrowLeft"){p.preventDefault();const S=Math.max(0,l===-1?0:l-1);c(S),b(S)}else if(p.key==="ArrowRight"){p.preventDefault();const S=Math.min(a.length-1,l===-1?0:l+1);c(S),b(S)}else if(p.key==="ArrowDown"){p.preventDefault();const S=document.querySelector(".gantt-row .timeline-container");S&&S.focus()}else if(p.key==="Home")p.preventDefault(),c(0),b(0);else if(p.key==="End"){p.preventDefault();const S=a.length-1;c(S),b(S)}},h=p=>{if(p.key==="ArrowDown"){p.preventDefault();const S=document.querySelector(".gantt-row .resource-label");S&&S.focus()}else if(p.key==="ArrowRight"){p.preventDefault();const S=u.current;S&&S.focus()}},g=()=>{l===-1&&(c(0),setTimeout(()=>b(0),0))},b=p=>{const S=u.current?.querySelector(`[data-date-index="${p}"]`);S&&S.focus()};return n.jsxs("div",{className:"gantt-header",role:"row","aria-rowindex":1,children:[n.jsx("div",{className:"header-resource",role:"columnheader","aria-colindex":1,tabIndex:0,"aria-label":"Resource column header",onKeyDown:h,children:"Resources"}),n.jsx("div",{ref:u,className:"header-timeline",role:"columnheader","aria-colindex":2,"aria-colspan":r,"aria-label":`Timeline from ${e.toLocaleDateString()} to ${t.toLocaleDateString()}. Use arrow keys to navigate between dates`,tabIndex:0,onKeyDown:d,onFocus:g,children:a.map((p,S)=>{const y=p.getTime()===s.getTime(),_=l===S;return n.jsx("div",{"data-date-index":S,className:`date-column ${y?"today":""} ${_?"focused":""}`,tabIndex:_?0:-1,role:"button","aria-label":`${p.toLocaleDateString("en-GB",{weekday:"long",day:"numeric",month:"long",year:"numeric"})}${y?" (Today)":""}`,onFocus:()=>c(S),onKeyDown:d,children:p.toLocaleDateString("en-GB",{day:"numeric",month:"short"})},S)})})]})}function qh({resource:e,tasks:t,scale:r,onTaskClick:a,onTaskDoubleClick:i,rowIndex:s,dateCount:l}){const[c,u]=f.useState(!1),[d,h]=f.useState(-1),g=f.useRef(null);f.useEffect(()=>{c&&d>=0&&t.length>0&&setTimeout(()=>{g.current?.querySelector(`[data-task-index="${d}"]`)?.focus()},0)},[c,d,t.length]);const b=y=>{if(y.key==="ArrowLeft"&&y.shiftKey){y.preventDefault(),y.currentTarget.scrollBy({left:-30,behavior:"smooth"});return}else if(y.key==="ArrowRight"&&y.shiftKey){y.preventDefault(),y.currentTarget.scrollBy({left:30,behavior:"smooth"});return}if(!c){switch(y.key){case"ArrowUp":y.preventDefault(),s===0?document.querySelector(".header-timeline")?.focus():document.querySelector(`[aria-rowindex="${s+1}"] .timeline-container`)?.focus();break;case"ArrowDown":y.preventDefault(),document.querySelector(`[aria-rowindex="${s+3}"] .timeline-container`)?.focus();break;case"ArrowLeft":y.preventDefault(),g.current?.closest(".gantt-row")?.querySelector(".resource-label")?.focus();break;case"Enter":t.length>0&&(y.preventDefault(),u(!0),h(0));break}return}switch(y.key){case"ArrowLeft":y.preventDefault();const _=Math.max(0,d-1);h(_),g.current?.querySelector(`[data-task-index="${_}"]`)?.focus();break;case"ArrowRight":y.preventDefault();const T=Math.min(t.length-1,d+1);h(T),g.current?.querySelector(`[data-task-index="${T}"]`)?.focus();break;case"Enter":y.preventDefault(),d>=0&&a?.(t[d]);break;case" ":y.preventDefault(),d>=0&&i?.(t[d]);break;case"Escape":y.preventDefault(),u(!1),h(-1),g.current?.focus();break}},p=y=>{switch(y.key){case"ArrowUp":y.preventDefault(),s===0?document.querySelector(".header-resource")?.focus():document.querySelector(`[aria-rowindex="${s+1}"] .resource-label`)?.focus();break;case"ArrowDown":y.preventDefault(),document.querySelector(`[aria-rowindex="${s+3}"] .resource-label`)?.focus();break;case"ArrowRight":y.preventDefault(),g.current?.focus();break}},S=y=>{c&&h(y)};return n.jsxs("div",{className:"gantt-row",role:"row","aria-rowindex":s+2,children:[n.jsx("div",{className:"resource-label",role:"gridcell","aria-colindex":1,tabIndex:0,"aria-label":`Resource: ${e.label}`,onKeyDown:p,children:e.label}),n.jsx("div",{ref:g,className:`timeline-container ${c?"timeline-active":""}`,role:"gridcell","aria-colindex":2,"aria-colspan":l,tabIndex:0,"aria-label":`Timeline for ${e.label} with ${t.length} task${t.length!==1?"s":""}. Press Enter to activate task navigation, then use arrow keys to navigate, Enter to select, Space to activate, Escape to exit`,onKeyDown:b,onFocus:()=>{c||h(-1)},children:t.map((y,_)=>n.jsx(Vh,{task:y,scale:r,onTaskClick:a,onTaskDoubleClick:i,isSelected:c&&d===_,taskIndex:_,tabIndex:c&&d===_?0:-1,onFocus:()=>S(_)},y.id))})]})}function Kh({resources:e,tasks:t=[],viewStart:r,viewEnd:a,onTaskClick:i,onTaskDoubleClick:s}){const l=f.useRef(null),[c,u]=f.useState(800),d=f.useMemo(()=>{if(r instanceof Date)return isNaN(r.getTime())?(console.warn("GanttChart: Invalid viewStart date provided, using current date"),new Date):r;const y=new Date(r);return isNaN(y.getTime())?(console.warn("GanttChart: Invalid viewStart date provided, using current date"),new Date):y},[r]),h=f.useMemo(()=>{if(a instanceof Date)return isNaN(a.getTime())?(console.warn("GanttChart: Invalid viewEnd date provided, using date 7 days from now"),new Date(Date.now()+10080*60*1e3)):a;const y=new Date(a);return isNaN(y.getTime())?(console.warn("GanttChart: Invalid viewEnd date provided, using date 7 days from now"),new Date(Date.now()+10080*60*1e3)):y},[a]),g=f.useMemo(()=>Math.ceil((h.getTime()-d.getTime())/864e5)+1,[d,h]);f.useEffect(()=>{if(!l.current)return;const y=new ResizeObserver(_=>{const Y=_[0];Y&&u(Math.max(Y.contentRect.width-220,400))});return y.observe(l.current),()=>y.disconnect()},[]);const b=f.useMemo(()=>Gh().domain([d,h]).range([0,c]),[d,h,c]),p=f.useMemo(()=>{const y=new Map;return t.forEach(_=>{const Y=y.get(_.resourceId)||[];Y.push(_),y.set(_.resourceId,Y)}),y},[t]),S=y=>{if(y.target===y.currentTarget)switch(y.key){case"ArrowDown":y.preventDefault();const _=l.current?.querySelector(".gantt-row .resource-label");_&&_.focus();break;case"Home":y.preventDefault();const Y=l.current?.querySelector(".header-resource");Y&&Y.focus();break}};return n.jsxs("div",{className:"gantt-chart",role:"grid","aria-label":"Gantt Chart showing resource scheduling and task timelines","aria-rowcount":e.length+1,"aria-colcount":g+1,"aria-description":"Use arrow keys to navigate cells, Tab to cycle through tasks in timeline rows or dates in header, Enter to select task, Space to activate task, Alt+arrows to scroll the grid, Shift+arrows to scroll timeline rows",tabIndex:0,onKeyDown:S,children:[n.jsx(Yh,{viewStart:d,viewEnd:h,dateCount:g}),n.jsx("div",{ref:l,className:"gantt-grid",role:"rowgroup","aria-label":"Gantt chart data rows",tabIndex:0,onKeyDown:y=>{y.key==="ArrowLeft"&&y.altKey?(y.preventDefault(),l.current?.scrollBy({left:-50,behavior:"smooth"})):y.key==="ArrowRight"&&y.altKey?(y.preventDefault(),l.current?.scrollBy({left:50,behavior:"smooth"})):y.key==="ArrowUp"&&y.altKey?(y.preventDefault(),l.current?.scrollBy({top:-50,behavior:"smooth"})):y.key==="ArrowDown"&&y.altKey&&(y.preventDefault(),l.current?.scrollBy({top:50,behavior:"smooth"}))},children:e.map((y,_)=>n.jsx(qh,{resource:y,tasks:p.get(y.id)||[],scale:b,onTaskClick:i,onTaskDoubleClick:s,rowIndex:_,dateCount:g},y.id))})]})}const zn=({children:e,href:t,active:r=!1,attributes:a={}})=>n.jsx("li",{className:"nhsuk-breadcrumb__item",children:r?n.jsx("span",{className:"nhsuk-breadcrumb__link nhsuk-breadcrumb__link--current","aria-current":"page",...a,children:e}):n.jsx("a",{className:"nhsuk-breadcrumb__link",href:t,...a,children:e})}),qs=({items:e=[],children:t,classes:r,labelText:a="Breadcrumb",href:i,text:s,reverse:l=!1,attributes:c={}})=>{const u=()=>t?f.Children.toArray(t).filter(_=>f.isValidElement(_)&&(_.type===zn||_.type?.displayName==="BreadcrumbItem")).map(_=>({text:typeof _.props.children=="string"?_.props.children:String(_.props.children),href:_.props.href,active:_.props.active,attributes:_.props.attributes})):[],d=()=>t?u():i&&s?[{href:i,text:s}]:e,h=()=>{const y=d();if(y&&y.length>0){const _=y.slice().reverse().find(Y=>Y.href&&!Y.active);if(_)return{href:_.href,text:_.text}}return{text:"Home"}},g=d(),b=h(),p=se("nhsuk-breadcrumb",{"nhsuk-breadcrumb--reverse":l},r),S=a;return n.jsxs("nav",{className:p,"aria-label":S,role:"navigation",...c,children:[n.jsx("ol",{className:"nhsuk-breadcrumb__list",role:"list",children:t?f.Children.map(t,(y,_)=>f.isValidElement(y)&&(y.type===zn||y.type?.displayName==="BreadcrumbItem")?f.cloneElement(y,{key:_}):null):g?.filter(y=>y.active||!!y.href).map((y,_)=>n.jsx("li",{className:"nhsuk-breadcrumb__item",role:"listitem",children:y.active?n.jsx("span",{className:"nhsuk-breadcrumb__link nhsuk-breadcrumb__link--current","aria-current":"page",role:"text",...y.attributes||{},children:y.text}):n.jsx("a",{className:"nhsuk-breadcrumb__link",href:y.href,role:"link",...y.attributes||{},children:y.text})},_))}),b.href&&n.jsx("p",{className:"nhsuk-breadcrumb__back",children:n.jsxs("a",{className:"nhsuk-breadcrumb__backlink",href:b.href,role:"link","aria-label":`Back to ${b.text}`,...e.length>0?e[e.length-1]?.attributes||{}:{},children:[n.jsx("span",{className:"nhsuk-u-visually-hidden",children:"Back to Â "}),b.text]})})]})};qs.Item=zn,zn.displayName="BreadcrumbItem";const Wr=({text:e="Skip to main content",href:t="#maincontent",classes:r,attributes:a={}})=>{const[i,s]=f.useState(!1);f.useEffect(()=>{s(!0)},[]),f.useEffect(()=>{if(typeof window>"u"||typeof document>"u"||!document.querySelector||!document.querySelectorAll)return;const c=u=>{const d=u.target,h=d.getAttribute("href");if(h&&h.startsWith("#")){const g=document.querySelector(h);if(g){g.hasAttribute("tabindex")||g.setAttribute("tabindex","-1"),g.focus(),g.classList.add("nhsuk-skip-link-focused-element");const b=window.setTimeout(()=>{g.classList.remove("nhsuk-skip-link-focused-element"),g.getAttribute("tabindex")==="-1"&&g.removeAttribute("tabindex")},3e3);d.__nhsSkipLinkTimeout=b}}};try{const u=document.querySelectorAll(".nhsuk-skip-link");return u.forEach(d=>{d.addEventListener("click",c)}),()=>{try{u.forEach(d=>{d.removeEventListener("click",c);const h=d.__nhsSkipLinkTimeout;h&&window.clearTimeout&&window.clearTimeout(h)})}catch(d){console.warn("SkipLink cleanup error:",d)}}}catch(u){return console.warn("SkipLink initialization error:",u),()=>{}}},[i]);const l=se("nhsuk-skip-link",r);return n.jsx("a",{className:l,href:t,"data-module":"nhsuk-skip-link","data-enhanced":i?"true":"false",...a,children:e})},Zh=({previousUrl:e,previousPage:t,nextUrl:r,nextPage:a,classes:i,attributes:s={}})=>{const l=se("nhsuk-pagination",i);return n.jsx("nav",{className:l,role:"navigation","aria-label":"Pagination",...s,children:n.jsxs("ul",{className:"nhsuk-list nhsuk-pagination__list",children:[e&&t&&n.jsx("li",{className:"nhsuk-pagination-item--previous",children:n.jsxs("a",{className:"nhsuk-pagination__link nhsuk-pagination__link--prev",href:e,children:[n.jsx("span",{className:"nhsuk-pagination__title",children:"Previous"}),n.jsx("span",{className:"nhsuk-u-visually-hidden",children:":"}),n.jsx("span",{className:"nhsuk-pagination__page",children:t}),n.jsx("svg",{className:"nhsuk-icon nhsuk-icon__arrow-left",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24","aria-hidden":"true",width:"34",height:"34",children:n.jsx("path",{d:"M4.1 12.3l2.7 3c.2.2.5.2.7 0 .1-.1.1-.2.1-.3v-2h11c.6 0 1-.4 1-1s-.4-1-1-1h-11V9c0-.2-.1-.4-.3-.5h-.2c-.1 0-.3.1-.4.2l-2.7 3c0 .2 0 .4.1.6z"})})]})}),r&&a&&n.jsx("li",{className:"nhsuk-pagination-item--next",children:n.jsxs("a",{className:"nhsuk-pagination__link nhsuk-pagination__link--next",href:r,children:[n.jsx("span",{className:"nhsuk-pagination__title",children:"Next"}),n.jsx("span",{className:"nhsuk-u-visually-hidden",children:":"}),n.jsx("span",{className:"nhsuk-pagination__page",children:a}),n.jsx("svg",{className:"nhsuk-icon nhsuk-icon__arrow-right",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24","aria-hidden":"true",width:"34",height:"34",children:n.jsx("path",{d:"M19.6 11.66l-2.73-3A.51.51 0 0 0 16 9v2H5a1 1 0 0 0 0 2h11v2a.5.5 0 0 0 .32.46.39.39 0 0 0 .18 0 .52.52 0 0 0 .37-.16l2.73-3a.5.5 0 0 0 0-.64z"})})]})})]})})},Xh=({items:e,classes:t,ariaLabel:r="Pages in this guide",attributes:a={}})=>{const i=se("nhsuk-contents-list",t),s=(l,c)=>l.current?n.jsx("li",{className:"nhsuk-contents-list__item","aria-current":"page",...l.attributes||{},children:n.jsx("span",{className:"nhsuk-contents-list__current",children:l.text})},c):n.jsx("li",{className:"nhsuk-contents-list__item",children:n.jsx("a",{className:"nhsuk-contents-list__link",href:l.href,...l.attributes||{},children:l.text})},c);return n.jsxs("nav",{className:i,role:"navigation","aria-label":r,...a,children:[n.jsx("h2",{className:"nhsuk-u-visually-hidden",children:"Contents"}),n.jsx("ol",{className:"nhsuk-contents-list__list",children:e.map((l,c)=>s(l,c))})]})},Or=f.forwardRef(({variant:e="default",heading:t,headingHtml:r,headingLevel:a=2,headingClasses:i,description:s,descriptionHtml:l,href:c,imgURL:u,imgAlt:d,...h},g)=>{const b=["nhsuk-card",e==="clickable"&&"nhsuk-card--clickable",e==="secondary"&&"nhsuk-card--secondary",e==="feature"&&"nhsuk-card--feature",h.className].filter(Boolean).join(" "),p=["nhsuk-card__content",e==="feature"&&"nhsuk-card__content--feature",e==="primary"&&"nhsuk-card__content--primary",e==="secondary"&&"nhsuk-card__content--secondary"].filter(Boolean).join(" "),S=["nhsuk-card__heading",e==="feature"&&"nhsuk-card__heading--feature",i].filter(Boolean).join(" "),y=()=>{if(r)return n.jsx("div",{dangerouslySetInnerHTML:{__html:r}});if(!t)return null;const T=()=>c&&e!=="feature"?n.jsx("a",{className:"nhsuk-card__link",href:c,children:t}):t;return n.jsx(Ze,{level:a,className:S,children:T()})},_=()=>h.children?h.children:l?n.jsx("div",{dangerouslySetInnerHTML:{__html:l}}):s?n.jsx("p",{className:"nhsuk-card__description",children:s}):null,Y=()=>e!=="primary"?null:n.jsxs("svg",{className:"nhsuk-icon",xmlns:"http://www.w3.org/2000/svg",width:"27",height:"27","aria-hidden":"true",focusable:"false",children:[n.jsx("circle",{cx:"13.333",cy:"13.333",r:"13.333",fill:""}),n.jsxs("g",{fill:"none",stroke:"#fff",strokeLinecap:"round",strokeMiterlimit:"10",strokeWidth:"2.667",children:[n.jsx("path",{d:"M15.438 13l-3.771 3.771"}),n.jsx("path",{d:"M11.667 9.229L15.438 13"})]})]});return n.jsxs("div",{...h,className:b,ref:g,children:[u&&n.jsx("img",{className:"nhsuk-card__img",src:u,alt:d||""}),n.jsxs("div",{className:p,children:[y(),_(),Y()]})]})});Or.displayName="Card";const Jh=({className:e,children:t,"data-testid":r,id:a})=>{const i=["nhsuk-card-group",e].filter(Boolean).join(" ");return n.jsx("ul",{className:i,"data-testid":r,id:a,children:t})},Qh=({className:e,children:t,"data-testid":r})=>{const a=["nhsuk-card-group__item",e].filter(Boolean).join(" ");return n.jsx("li",{className:a,"data-testid":r,children:t})},ef=({type:e,heading:t,headingHtml:r,headingLevel:a=3,headingClasses:i,description:s,descriptionHtml:l,className:c,children:u,"data-testid":d,id:h,"aria-label":g,"aria-labelledby":b,"aria-describedby":p})=>{const S=["nhsuk-care-card",`nhsuk-care-card--${e}`,c].filter(Boolean).join(" "),y=["nhsuk-care-card__heading",i].filter(Boolean).join(" "),_=()=>{if(r)return n.jsx("div",{dangerouslySetInnerHTML:{__html:r}});if(!t)return null;const T={"non-urgent":"Non-urgent advice:",urgent:"Urgent advice:",emergency:"Immediate action required:"}[e],I=n.jsxs("span",{role:"text",children:[n.jsxs("span",{className:"nhsuk-u-visually-hidden",children:[T," "]}),t]});return n.jsx(Ze,{level:a,className:y,children:I})},Y=()=>u||(l?n.jsx("div",{dangerouslySetInnerHTML:{__html:l}}):s?n.jsx("p",{className:"nhsuk-care-card__text",children:s}):null);return n.jsxs("div",{className:S,"data-testid":d,id:h,"aria-label":g,"aria-labelledby":b,"aria-describedby":p,children:[n.jsxs("div",{className:"nhsuk-care-card__heading-container",children:[_(),n.jsx("span",{className:"nhsuk-care-card__arrow","aria-hidden":"true"})]}),n.jsx("div",{className:"nhsuk-care-card__content",children:Y()})]})},Ks=({id:e,className:t,headingText:r,headingHtml:a,headingLevel:i=2,bodyText:s,bodyHtml:l,children:c,...u})=>{const d=se("nhsuk-panel",t),h=()=>!r&&!a&&!c?null:a?n.jsx(Ze,{level:i,className:"nhsuk-panel__heading",html:a,marginBottom:"var(--panel-heading-margin, 24px)"}):r?n.jsx(Ze,{level:i,className:"nhsuk-panel__heading",text:r,marginBottom:"var(--panel-heading-margin, 24px)"}):null,g=()=>c?n.jsx("div",{className:"nhsuk-panel__body",children:c}):l?n.jsx("div",{className:"nhsuk-panel__body",dangerouslySetInnerHTML:{__html:l}}):s?n.jsx("div",{className:"nhsuk-panel__body",children:n.jsx("p",{children:s})}):null;return n.jsxs("div",{className:d,id:e,...u,children:[h(),g()]})},tf=({text:e,html:t,children:r,className:a,...i})=>{const s=se("nhsuk-inset-text",a),l=()=>r||(t?n.jsx("div",{dangerouslySetInnerHTML:{__html:t}}):e?n.jsx("p",{children:e}):null);return n.jsx("div",{className:s,...i,children:l()})},nf=({items:e,noBorder:t=!1,className:r,...a})=>{const i=se("nhsuk-summary-list",{"nhsuk-summary-list--no-border":t},r),s=c=>c.children?c.children:c.html?n.jsx("span",{dangerouslySetInnerHTML:{__html:c.html}}):c.text?c.text:null,l=c=>!c||!c.items.length?null:n.jsx("dd",{className:"nhsuk-summary-list__actions",children:n.jsx("ul",{className:"nhsuk-summary-list__actions-list",children:c.items.map((u,d)=>n.jsx("li",{className:"nhsuk-summary-list__actions-list-item",children:n.jsxs("a",{href:u.href,className:"nhsuk-link",...u.attributes,children:[s(u),u.visuallyHiddenText&&n.jsx("span",{className:"nhsuk-u-visually-hidden",children:u.visuallyHiddenText})]})},d))})});return n.jsx("div",{className:"nhsuk-summary-list-container",children:n.jsx("dl",{className:i,...a,children:e.map((c,u)=>n.jsxs("div",{className:"nhsuk-summary-list__row",children:[n.jsx("dt",{className:"nhsuk-summary-list__key",children:s(c.key)}),n.jsx("dd",{className:"nhsuk-summary-list__value",children:s(c.value)}),l(c.actions)]},u))})})},rf=({rows:e,head:t,caption:r,captionSize:a,firstCellIsHeader:i=!1,responsive:s=!1,heading:l,headingLevel:c=3,panel:u=!1,panelClasses:d,tableClasses:h,classes:g,attributes:b,"data-testid":p})=>{const S=`nhsuk-table__caption ${a?`nhsuk-table__caption--${a}`:""}`.trim(),y=se("nhsuk-table",{"nhsuk-table-responsive":s},h),_=se(g),Y=(w,z)=>{const $=se("nhsuk-table__header",{[`nhsuk-table__header--${w.format}`]:w.format},w.classes),q={scope:"col",...w.colspan&&{colSpan:w.colspan},...w.rowspan&&{rowSpan:w.rowspan},...s&&{role:"columnheader"},...w.attributes};return n.jsx("th",{className:$,...q,children:w.html?n.jsx("span",{dangerouslySetInnerHTML:{__html:w.html}}):w.text},z)},T=(w,z,$)=>{const q=i&&$,H=se(q?"nhsuk-table__header":"nhsuk-table__cell",{[`nhsuk-table__${q?"header":"cell"}--${w.format}`]:w.format},w.classes),E={...q&&{scope:"row"},...w.colspan&&{colSpan:w.colspan},...w.rowspan&&{rowSpan:w.rowspan},...s&&{role:q?"rowheader":"cell",...w.header&&{"data-label":w.header}},...w.attributes},v=n.jsxs(n.Fragment,{children:[s&&w.header&&n.jsxs("span",{className:"nhsuk-table-responsive__heading","aria-hidden":"true",children:[w.header," "]}),w.html?n.jsx("span",{dangerouslySetInnerHTML:{__html:w.html}}):w.text]}),M=q?"th":"td";return n.jsx(M,{className:H,...E,children:v},z)},I=()=>n.jsxs("table",{className:y,...s&&{role:"table"},...b,...p&&{"data-testid":p},children:[r&&n.jsx("caption",{className:S,children:r}),t&&t.length>0&&n.jsx("thead",{className:"nhsuk-table__head",...s&&{role:"rowgroup"},children:n.jsx("tr",{...s&&{role:"row"},children:t.map((w,z)=>Y(w,z))})}),n.jsx("tbody",{className:"nhsuk-table__body",children:e&&e.map((w,z)=>n.jsx("tr",{className:"nhsuk-table__row",...s&&{role:"row"},children:w.map(($,q)=>T($,q,q===0))},z))})]});return u?n.jsxs(Ks,{className:d,children:[l&&n.jsx(Ze,{level:c,className:"nhsuk-table__heading-tab",children:l}),I()]}):_?n.jsx("div",{className:_,children:I()}):I()},af=f.forwardRef(({items:e,defaultActiveTab:t,activeTab:r,onTabChange:a,onTabFocus:i,onTabListBlur:s,onEscape:l,autoActivate:c=!0,className:u,id:d,"data-testid":h,...g},b)=>{const p=r!==void 0,[S,y]=f.useState(()=>t||e[0]?.id||""),_=p?r:S,Y=f.useRef(null),T=f.useRef(new Map),I=f.useCallback(v=>{p||y(v),a?.(v)},[p,a]),w=f.useCallback(v=>{i?.(v),c&&I(v)},[i,c,I]),z=f.useCallback((v,M)=>{const J=e.filter(k=>!k.disabled).map(k=>k.id),de=J.indexOf(M);let X=null;switch(v.key){case"ArrowLeft":X=de>0?de-1:J.length-1;break;case"ArrowRight":X=de<J.length-1?de+1:0;break;case"Home":X=0;break;case"End":X=J.length-1;break;case"Escape":v.preventDefault(),l?.();return;default:return}if(X!==null){v.preventDefault();const k=J[X],x=T.current.get(k);x&&(x.focus(),w(k))}},[e,w,l]),$=f.useCallback((v,M)=>{M?T.current.set(v,M):T.current.delete(v)},[]),q=f.useCallback(v=>{const M=T.current.get(v);M&&M.focus()},[]);f.useImperativeHandle(b,()=>({focusTab:q,getActiveTab:()=>_,getTabListElement:()=>Y.current}),[q,_]);const H=f.useCallback(v=>{const M=v.relatedTarget;Y.current?.contains(M)||s?.()},[s]),E=se("nhsuk-tabs",u);return n.jsxs("div",{className:E,id:d,"data-testid":h,...g,children:[n.jsx("h2",{className:"nhsuk-tabs__title",children:"Contents"}),n.jsx("div",{className:"nhsuk-tabs__list-container",ref:Y,children:n.jsx("ul",{className:"nhsuk-tabs__list",role:"tablist",onBlur:H,children:e.map(v=>{const M=v.id===_,J=v.disabled,de=se("nhsuk-tabs__list-item",{"nhsuk-tabs__list-item--selected":M,"nhsuk-tabs__list-item--disabled":J});return n.jsx("li",{className:de,role:"presentation",children:n.jsx("button",{ref:X=>$(v.id,X),className:"nhsuk-tabs__tab",role:"tab","aria-selected":M,"aria-controls":`${v.id}-panel`,id:`${v.id}-tab`,tabIndex:M?0:-1,disabled:J,onClick:()=>!J&&I(v.id),onKeyDown:X=>!J&&z(X,v.id),onFocus:()=>!J&&w(v.id),...v.attributes,children:v.label})},v.id)})})}),e.map(v=>{const M=v.id===_;return n.jsx("div",{className:"nhsuk-tabs__panel",role:"tabpanel","aria-labelledby":`${v.id}-tab`,id:`${v.id}-panel`,hidden:!M,children:v.content},v.id)})]})}),Zs=f.forwardRef(({summaryText:e,summaryHtml:t,text:r,html:a,open:i=!1,className:s="",id:l,children:c,...u},d)=>{const h=["nhsuk-details",s].filter(Boolean).join(" "),g=t?n.jsx("span",{className:"nhsuk-details__summary-text",dangerouslySetInnerHTML:{__html:t}}):n.jsx("span",{className:"nhsuk-details__summary-text",children:e});let b;return c?b=c:a?b=n.jsx("div",{dangerouslySetInnerHTML:{__html:a}}):r&&(b=r),n.jsxs("details",{ref:d,id:l,className:h,open:i,...u,children:[n.jsx("summary",{className:"nhsuk-details__summary",tabIndex:0,children:g}),n.jsx("div",{className:"nhsuk-details__text",children:b})]})});Zs.displayName="Details";const Xs=f.forwardRef(({title:e,type:t,items:r,hidePrefix:a=!1,headingLevel:i=3,className:s,...l},c)=>{const u=["nhsuk-do-dont-list"];s&&u.push(s);const d=["nhsuk-list",t==="tick"?"nhsuk-list--tick":"nhsuk-list--cross"],h=()=>t==="cross"?n.jsxs("svg",{className:"nhsuk-icon nhsuk-icon__cross",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24","aria-hidden":"true",width:"34",height:"34",children:[n.jsx("path",{d:"M17 18.5c-.4 0-.8-.1-1.1-.4l-10-10c-.6-.6-.6-1.6 0-2.1.6-.6 1.5-.6 2.1 0l10 10c.6.6.6 1.5 0 2.1-.3.3-.6.4-1 .4z",fill:"#d5281b"}),n.jsx("path",{d:"M7 18.5c-.4 0-.8-.1-1.1-.4-.6-.6-.6-1.5 0-2.1l10-10c.6-.6 1.5-.6 2.1 0 .6.6.6 1.5 0 2.1l-10 10c-.3.3-.6.4-1 .4z",fill:"#d5281b"})]}):n.jsx("svg",{className:"nhsuk-icon nhsuk-icon__tick",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none","aria-hidden":"true",width:"34",height:"34",children:n.jsx("path",{strokeWidth:"4",strokeLinecap:"round",d:"M18.4 7.8l-8.5 8.4L5.6 12",stroke:"#007f3b"})}),g=p=>t==="cross"&&!a?`do not ${p}`:p,b=()=>n.jsx(Ze,{level:i,className:"nhsuk-do-dont-list__label",text:e});return n.jsxs("div",{ref:c,className:u.join(" "),...l,children:[b(),n.jsx("div",{className:"nhsuk-do-dont-list__content--feature",children:n.jsx("ul",{className:d.join(" "),role:"list",children:r.map((p,S)=>n.jsxs("li",{children:[h(),g(p.item)]},S))})})]})});Xs.displayName="DoDontList";const Js=f.forwardRef(({summaryText:e,summaryHtml:t,text:r,html:a,open:i=!1,className:s="",id:l,children:c,...u},d)=>{const h=["nhsuk-expander",s].filter(Boolean).join(" "),g=t?n.jsx("span",{className:"nhsuk-details__summary-text",dangerouslySetInnerHTML:{__html:t}}):n.jsx("span",{className:"nhsuk-details__summary-text",children:e});let b;return c?b=c:a?b=n.jsx("div",{dangerouslySetInnerHTML:{__html:a}}):r&&(b=r),n.jsxs("details",{ref:d,id:l,className:h,open:i,...u,children:[n.jsx("summary",{className:"nhsuk-details__summary",children:g}),n.jsx("div",{className:"nhsuk-details__text",children:b})]})});Js.displayName="Expander";const Qs=f.forwardRef(({items:e,idPrefix:t="task-list",className:r,...a},i)=>{const s=["nhsuk-task-list",r].filter(Boolean).join(" "),l=(c,u)=>{const d=u+1,h=`${t}-${d}-hint`,g=`${t}-${d}-status`,b=!!c.href,p=["nhsuk-task-list__item",b&&"nhsuk-task-list__item--with-link",c.classes].filter(Boolean).join(" "),S=[c.hint&&h,g].filter(Boolean).join(" ");return n.jsx(sf,{item:c,itemClasses:p,hasLink:b,hintId:h,statusId:g,ariaDescribedBy:S},u)};return n.jsx("ul",{ref:i,className:s,...a,children:e.map(l)})}),sf=({item:e,itemClasses:t,hasLink:r,hintId:a,statusId:i,ariaDescribedBy:s})=>{const l=()=>{const d=e.title.html?n.jsx("span",{dangerouslySetInnerHTML:{__html:e.title.html}}):e.title.text,h=[r?"nhsuk-task-list__link":"",e.title.classes].filter(Boolean).join(" ");return r?n.jsx("a",{className:h,href:e.href,"aria-describedby":s,children:d}):n.jsx("div",{className:e.title.classes||"",children:d})},c=()=>e.hint?e.hint.html?n.jsx("div",{id:a,className:"nhsuk-task-list__hint",dangerouslySetInnerHTML:{__html:e.hint.html}}):n.jsx("div",{id:a,className:"nhsuk-task-list__hint",children:e.hint.text}):null,u=()=>{const d=["nhsuk-task-list__status",e.status.classes].filter(Boolean).join(" ");let h;return e.status.tag?h=n.jsx(qe,{...e.status.tag}):e.status.html?h=n.jsx("span",{dangerouslySetInnerHTML:{__html:e.status.html}}):h=e.status.text,n.jsx("div",{className:d,id:i,children:h})};return n.jsxs("li",{className:t,children:[n.jsxs("div",{className:"nhsuk-task-list__name-and-hint",children:[l(),c()]}),u()]})};Qs.displayName="TaskList";const of=({heading:e,headingLevel:t=3,text:r,html:a,children:i,className:s,...l})=>{const c=/important/i.test(e),u=()=>i||(a?n.jsx("div",{dangerouslySetInnerHTML:{__html:a}}):r?n.jsx("p",{children:r}):null),d=["nhsuk-warning-callout",s].filter(Boolean).join(" "),h=`h${t}`;return n.jsxs("div",{className:d,...l,children:[f.createElement(h,{className:"nhsuk-warning-callout__label"},c?n.jsxs(n.Fragment,{children:[e,n.jsx("span",{className:"nhsuk-u-visually-hidden",children:":"})]}):n.jsxs("span",{role:"text",children:[n.jsx("span",{className:"nhsuk-u-visually-hidden",children:"Important: "}),e]})),u()]})},lf=({src:e,alt:t,caption:r,sizes:a,srcset:i,className:s,...l})=>{const c=["nhsuk-image",s].filter(Boolean).join(" ");return n.jsxs("figure",{className:c,...l,children:[n.jsx("img",{className:"nhsuk-image__img",src:e,alt:t,...a&&i?{sizes:a,srcSet:i}:{}}),r&&n.jsx("figcaption",{className:"nhsuk-image__caption",dangerouslySetInnerHTML:{__html:r}})]})},cf=({dateRange:e,onPrev:t,onNext:r,onToday:a,density:i,onDensityChange:s,a11yMode:l,onA11yModeChange:c})=>n.jsxs("div",{className:"nhs-slot-matrix__toolbar",role:"group","aria-label":"Slot matrix controls",children:[n.jsxs("div",{className:"nhs-slot-matrix__toolbar-section",children:[n.jsx(He,{variant:"secondary",size:"small",onClick:t,"aria-label":"Previous date range",children:"Prev"}),n.jsx(He,{variant:"secondary",size:"small",onClick:a,"aria-label":"Jump to today",children:"Today"}),n.jsx(He,{variant:"secondary",size:"small",onClick:r,"aria-label":"Next date range",children:"Next"}),n.jsxs("span",{className:"nhs-slot-matrix__toolbar-daterange","aria-live":"polite",children:[e.start.toDateString()," â€“ ",e.end.toDateString()]})]}),n.jsxs("div",{className:"nhs-slot-matrix__toolbar-section",children:[n.jsx("label",{className:"nhs-slot-matrix__toolbar-label",htmlFor:"slot-matrix-density-select",children:"Density"}),n.jsx(Ht,{id:"slot-matrix-density-select",name:"slot-matrix-density",ariaLabel:"Change density",value:i,onChange:u=>s?.(u.target.value),options:[{value:"comfortable",text:"Comfortable"},{value:"compact",text:"Compact"}]}),n.jsx("label",{className:"nhs-slot-matrix__toolbar-label",htmlFor:"slot-matrix-mode-select",children:"Mode"}),n.jsx(Ht,{id:"slot-matrix-mode-select",name:"slot-matrix-mode",ariaLabel:"Change accessibility mode",value:l,onChange:u=>c?.(u.target.value),options:[{value:"grid",text:"Grid"},{value:"list",text:"List"}]})]})]}),df=({items:e,orientation:t="horizontal"})=>n.jsx("div",{className:`nhs-slot-matrix__legend nhs-slot-matrix__legend--${t}`,role:"list","aria-label":"Slot legend",children:e.map(r=>n.jsx("div",{role:"listitem",className:"nhs-slot-matrix__legend-item",children:n.jsx(qe,{color:uf(r.status),text:r.label})},r.status))});function uf(e){switch(e){case"available":return"green";case"full":return"grey";case"overbook":return"orange";case"held":return"yellow";case"blocked":return"grey";default:return"default"}}const hf=({slots:e,sessions:t,value:r,defaultValue:a,onChange:i,selectionMode:s="single",a11yMode:l,className:c,style:u,getSlotAriaLabel:d,toolbar:h,enableDefaultToolbar:g=!0,legendItems:b,enableDefaultLegend:p=!0,legendPlacement:S="bottom",onA11yModeChange:y})=>{const[_,Y]=f.useState("grid"),T=l||_,[I,w]=f.useState(a||[]),z=r??I,$=f.useMemo(()=>{const X=new Set;return e.forEach(k=>X.add(new Date(k.start).getTime())),Array.from(X).sort((k,x)=>k-x)},[e]),q=f.useMemo(()=>{const X={};return e.forEach(k=>{const x=new Date(k.start).getTime();X[x]||(X[x]={});const D=k.capacity-k.booked-(k.held||0);X[x][k.sessionId]={slot:k,remaining:D}}),X},[e]),H=f.useCallback(X=>{if(s==="single"){const k=[X.id];r||w(k),i?.(k,{lastAction:"select"})}else{const k=z.includes(X.id),x=k?z.filter(D=>D!==X.id):[...z,X.id];r||w(x),i?.(x,{lastAction:k?"deselect":"select"})}},[s,z,r,i]),E=f.useMemo(()=>b||(p?Array.from(new Set(e.map(k=>k.status))).map(k=>({status:k,label:k.charAt(0).toUpperCase()+k.slice(1)})):void 0),[b,p,e]),v=E?n.jsx(df,{items:E,orientation:S==="left"||S==="right"?"vertical":"horizontal"}):null,M=X=>{l||Y(X),y?.(X)},J=h||(g?n.jsx(cf,{dateRange:{start:new Date,end:new Date},density:"comfortable",a11yMode:T,onA11yModeChange:M}):null),de=n.jsx("div",{style:u,className:se(c),children:n.jsx(Bn,{className:se("nhs-slot-matrix-grid-wrapper"),children:n.jsx(yt,{children:n.jsx(Nt,{width:"full",children:n.jsxs("div",{className:"nhs-slot-matrix",children:[J,S==="top"&&v,n.jsx("ul",{"aria-label":"Appointment slots list",children:e.map(X=>n.jsx("li",{children:n.jsxs("button",{type:"button",onClick:()=>H(X),"aria-pressed":z.includes(X.id),children:[qt(new Date(X.start))," â€“ ",qt(new Date(X.end))," (",X.status,")"]})},X.id))}),S==="bottom"&&v]})})})})});return T==="list"?de:n.jsx("div",{style:u,className:se(c),children:n.jsx(Bn,{className:se("nhs-slot-matrix-grid-wrapper"),children:n.jsx(yt,{children:n.jsx(Nt,{width:"full",children:n.jsxs("div",{className:"nhs-slot-matrix",children:[J,S==="top"&&v,n.jsxs("div",{role:"grid","aria-rowcount":$.length+1,"aria-colcount":t.length+1,children:[n.jsxs("div",{role:"row",className:"nhs-slot-matrix__row",children:[n.jsx("div",{role:"columnheader","aria-label":"Timebands",className:"nhs-slot-matrix__timeband-header"}),t.map(X=>n.jsx("div",{role:"columnheader","aria-label":`Session ${X.specialty}`,className:"nhs-slot-matrix__session-header",children:X.specialty},X.id))]}),$.map(X=>n.jsxs("div",{role:"row",className:"nhs-slot-matrix__row",children:[n.jsx("div",{role:"rowheader",className:"nhs-slot-matrix__timeband-header","aria-label":qt(new Date(X)),children:qt(new Date(X))}),t.map(k=>{const x=q[X]?.[k.id];if(!x)return n.jsx("div",{role:"gridcell",className:"nhs-slot-matrix__cell","aria-disabled":"true"},k.id);const{slot:D,remaining:he}=x,R=z.includes(D.id),N=d?d(D):`Slot ${qt(new Date(D.start))} ${D.status}${he===0?" full":""}`;return n.jsx("button",{type:"button",role:"gridcell","data-status":D.status,className:se("nhs-slot-matrix__cell",R&&"nhs-slot-matrix__cell--selected"),"aria-label":N,"aria-selected":R||void 0,onClick:()=>H(D),children:he>0?`${he} left`:"Full"},D.id)})]},X))]}),S==="bottom"&&v]})})})})})};function eo(e){return e<10?`0${e}`:`${e}`}function qt(e){return`${eo(e.getHours())}:${eo(e.getMinutes())}`}const to=({title:e,value:t,subtitle:r,variant:a="default",href:i,className:s="",ariaLabel:l,...c})=>{const u=["nhs-fdp-summary-card",`nhs-fdp-summary-card--${a}`,s].filter(Boolean).join(" "),d=n.jsxs(n.Fragment,{children:[n.jsx(Ze,{level:3,className:"nhs-fdp-summary-card__title",children:e}),n.jsx("p",{className:"nhs-fdp-summary-card__value",children:t}),r&&n.jsx("p",{className:"nhs-fdp-summary-card__subtitle",children:r})]});return i?n.jsx("a",{className:`${u} nhs-fdp-summary-card--clickable`,href:i,"aria-label":l||`${e}: ${t}`,...c,children:d}):n.jsx("div",{className:u,"aria-label":l,...c,children:d})},ff=({cards:e,className:t="",...r})=>{const a=["nhs-fdp-dashboard-summary-grid",t].filter(Boolean).join(" ");return n.jsx("div",{className:a,...r,children:n.jsx(Bn,{children:n.jsx(yt,{children:e.map((i,s)=>n.jsx(Nt,{width:"one-quarter",className:"nhs-fdp-dashboard-summary-grid__column","data-card-index":s,children:n.jsx(to,{...i})},s))})})})},no=f.forwardRef(({data:e,columns:t,sortConfig:r,onSort:a,selectedRowIndex:i,onRowSelect:s,id:l,testId:c,ariaLabel:u,ariaLabelledby:d,ariaDescribedby:h,className:g,tableClassName:b,bordered:p=!1,striped:S=!1,responsive:y=!1,tableType:_="default"},Y)=>{const T=f.useRef(null),I=f.useRef(null),w=f.useRef(null);f.useImperativeHandle(Y,()=>T.current,[]);const[z,$]=f.useState(0),[q,H]=f.useState(0),[E,v]=f.useState("headers"),[M,J]=f.useState("browse"),de=t.length,X=e.length,k=f.useMemo(()=>!r||r.length===0?e:[...e].sort((A,te)=>{for(const{key:L,direction:oe}of r){const Ce=A[L],ie=te[L];if(Ce==null&&ie==null)continue;if(Ce==null)return 1;if(ie==null)return-1;let ee=0;if(typeof Ce=="number"&&typeof ie=="number"?ee=Ce-ie:ee=String(Ce).localeCompare(String(ie)),ee!==0)return oe==="asc"?ee:-ee}return 0}),[e,r]),x=f.useCallback((A,te)=>{setTimeout(()=>{const L=T.current?.querySelector(`tbody tr:nth-child(${A+1}) td:nth-child(${te+1})`);L&&(L.focus(),typeof L.scrollIntoView=="function"&&L.scrollIntoView({behavior:"smooth",block:"center",inline:"nearest"}))},0)},[]),D=f.useCallback(A=>{setTimeout(()=>{const te=T.current?.querySelector(`th:nth-child(${A+1})`);te&&(te.focus(),typeof te.scrollIntoView=="function"&&te.scrollIntoView({behavior:"smooth",block:"center",inline:"nearest"}))},0)},[]),he=f.useCallback(A=>{a?.(A)},[a]),R=f.useCallback(A=>{s?.(A)},[s]),N=f.useCallback(A=>{const{key:te}=A;switch(te){case"Enter":if(A.preventDefault(),E==="headers"&&M==="browse")J("navigate"),D(q);else if(E==="headers"&&M==="navigate"){const L=t[q];L&&he(L.key)}else E==="cells"&&M==="browse"?(J("navigate"),x(z,q)):E==="cells"&&M==="navigate"&&R(z);break;case"Escape":A.preventDefault(),(E==="headers"&&M==="navigate"||E==="cells"&&M==="navigate")&&J("browse");break;case"ArrowLeft":if(A.preventDefault(),M==="navigate"||M==="browse"&&E==="headers"){if(E==="headers"){const L=Math.max(0,q-1);H(L),D(L)}else if(E==="cells"){const L=Math.max(0,q-1);H(L),x(z,L)}}break;case"ArrowRight":if(A.preventDefault(),M==="navigate"||M==="browse"&&E==="headers"){if(E==="headers"){const L=Math.min(de-1,q+1);H(L),D(L)}else if(E==="cells"){const L=Math.min(de-1,q+1);H(L),x(z,L)}}break;case"ArrowUp":if(A.preventDefault(),E==="cells"){if(M==="browse"){const L=Math.max(0,z-1);$(L),x(L,0),H(0)}else if(M==="navigate")if(z>0){const L=z-1;$(L),x(L,q)}else v("headers"),J("browse"),D(q)}break;case"ArrowDown":if(A.preventDefault(),E==="headers"&&M==="browse")v("cells"),$(0),H(0),x(0,0);else if(E==="cells"){const L=X-1;if(M==="browse"){const oe=Math.min(L,z+1);$(oe),x(oe,0),H(0)}else if(M==="navigate"&&z<L){const oe=z+1;$(oe),x(oe,q)}}break;case"Home":A.preventDefault(),E==="headers"?(H(0),D(0)):E==="cells"&&(A.ctrlKey?($(0),H(0),x(0,0)):(H(0),x(z,0)));break;case"End":if(A.preventDefault(),E==="headers"){const L=de-1;H(L),D(L)}else if(E==="cells")if(A.ctrlKey){const L=X-1,oe=de-1;$(L),H(oe),x(L,oe)}else{const L=de-1;H(L),x(z,L)}break;case" ":if(A.preventDefault(),E==="headers"&&M==="navigate"){const L=t[q];L&&he(L.key)}else E==="cells"&&M==="navigate"&&R(z);break}},[E,M,q,z,de,X,t,x,D,he,R]);f.useEffect(()=>{const A=T.current;if(A)return A.addEventListener("keydown",N),()=>A.removeEventListener("keydown",N)},[N]);const ne=se("nhsuk-table",b,{"nhsuk-table--responsive":y,"nhsuk-table--bordered":p,"nhsuk-table--striped":S,"nhsuk-table--compact":_==="compact"},g);return n.jsxs("table",{ref:T,className:ne,id:l,"data-testid":c,role:"grid","aria-label":u,"aria-labelledby":d,"aria-describedby":h,tabIndex:0,children:[n.jsx("thead",{className:"nhsuk-table__head",role:"rowgroup",children:n.jsx("tr",{ref:I,role:"row",children:t.map((A,te)=>{const L=r?.find(ie=>ie.key===A.key),oe=!!L,Ce=E==="headers"&&q===te;return n.jsx("th",{className:se("sortable-header",{"sortable-header--focused":Ce}),role:"columnheader",tabIndex:Ce?0:-1,onClick:()=>he(A.key),onKeyDown:ie=>{(ie.key==="Enter"||ie.key===" ")&&(ie.preventDefault(),he(A.key))},"aria-sort":oe?L?.direction==="asc"?"ascending":"descending":"none",children:n.jsxs("div",{className:"header-content",children:[n.jsx("span",{className:"header-label",children:A.label}),oe&&n.jsxs("span",{className:"sort-indicator","aria-hidden":"true",children:[r&&r.length>1&&n.jsx("span",{className:"sort-priority",children:r.findIndex(ie=>ie.key===A.key)+1}),n.jsx("svg",{width:"12",height:"12",viewBox:"0 0 12 12",fill:"currentColor",className:"sort-arrow",children:L?.direction==="asc"?n.jsx("path",{d:"M6 2L2 8h8L6 2z"}):n.jsx("path",{d:"M6 10L2 4h8L6 10z"})})]})]})},A.key)})})}),n.jsx("tbody",{ref:w,className:"nhsuk-table__body",role:"rowgroup",children:k.map((A,te)=>{const L=i===te,oe=E==="cells"&&z===te;return n.jsx("tr",{role:"row",className:se("data-row",{"data-row--selected":L,"data-row--focused":oe}),"aria-selected":L,children:t.map((Ce,ie)=>{const ee=Ce.tableRenderer?Ce.tableRenderer(A):Ce.render?Ce.render(A):A[Ce.key],K=E==="cells"&&z===te&&q===ie,ae=()=>typeof ee=="boolean"?n.jsxs(n.Fragment,{children:[n.jsx("span",{"aria-hidden":"true",children:ee?"âœ“":"âœ—"}),n.jsx("span",{className:"sr-only",children:ee?"Yes":"No"})]}):String(ee??"");return n.jsx("td",{role:"gridcell",className:se("data-cell",{"data-cell--focused":K}),tabIndex:K?0:-1,onClick:()=>R(te),children:ae()},Ce.key)})},te)})})]})});no.displayName="AriaDataGrid";const ro=({sortConfig:e,columns:t,onSortChange:r,className:a="",emptyDescription:i="No sorting applied",activeDescription:s,showReset:l=!0,showHelp:c=!0,disabled:u=!1,ariaLabel:d="Sort configuration",ariaDescribedBy:h})=>{const g=f.useRef(null),b=f.useRef(null),p=f.useRef(null),S=f.useCallback((E,v)=>{u||(b.current=v,E.dataTransfer.effectAllowed="move",E.dataTransfer.setData("text/plain",v))},[u]),y=f.useCallback((E,v)=>{u||b.current===v||(E.preventDefault(),E.dataTransfer.dropEffect="move",p.current=v)},[u]),_=f.useCallback((E,v)=>{if(u)return;E.preventDefault();const M=b.current;if(!M||M===v)return;const J=e.findIndex(X=>X.key===M),de=e.findIndex(X=>X.key===v);if(J!==-1&&de!==-1){const X=[...e],[k]=X.splice(J,1);X.splice(de,0,k),r(X)}b.current=null,p.current=null},[u,e,r]),Y=f.useCallback(()=>{b.current=null,p.current=null},[]),T=f.useCallback(E=>{const v=t.find(M=>M.key===E);return v?v.label:E},[t]),I=f.useCallback(E=>["red","orange","blue","aqua-green","grey"][E]||"grey",[]),w=f.useCallback(E=>{if(u)return;const v=e.map(M=>M.key===E?{...M,direction:M.direction==="asc"?"desc":"asc"}:M);r(v)},[e,r,u]),z=f.useCallback(E=>{if(u)return;const v=e.filter(M=>M.key!==E);r(v)},[e,r,u]),$=f.useCallback(()=>{u||r([])},[r,u]),q=()=>{if(e.length===0)return i;if(s)return s;const E=e.map((v,M)=>{const J=v.direction==="asc"?"ascending":"descending";return`${M+1}. ${T(v.key)} (${J})`});if(E.length===1)return`Sorted by: ${E[0]}`;if(E.length===2)return`Sorted by: ${E.join(" and ")}`;{const v=E.pop();return`Sorted by: ${E.join(", ")}, and ${v}`}},H=f.useMemo(()=>{const E=["sort-description"];return c&&E.push("sort-help"),h&&E.push(h),E.join(" ")},[c,h]);return e.length===0?n.jsxs("div",{className:`sort-status-control ${a}`,children:[n.jsx("div",{className:"sort-status-control__description",id:"sort-description","aria-live":"polite",children:i}),c&&n.jsx("div",{className:"sort-status-control__help",id:"sort-help",children:n.jsx("small",{children:"Drag tags to reorder priority. Click tags or â†‘/â†“ buttons to toggle ascending/descending. Click Ã— to remove a sort."})})]}):n.jsxs("div",{className:`sort-status-control ${a}`,children:[n.jsx("div",{className:"sort-status-control__description sort-status-control__description--active",id:"sort-description","aria-live":"polite",children:q()}),n.jsxs("div",{className:"sort-status-container",children:[n.jsx("div",{ref:g,className:"sort-status-control__tags",role:"list","aria-label":d,"aria-describedby":H,children:e.map((E,v)=>n.jsx("div",{className:"sort-status-control__tag-container",role:"listitem",draggable:!u,onDragStart:M=>S(M,E.key),onDragOver:M=>y(M,E.key),onDrop:M=>_(M,E.key),onDragEnd:Y,onClick:()=>w(E.key),style:{cursor:u?"default":"pointer"},title:u?"":`Click to toggle sort direction. Currently ${E.direction==="asc"?"ascending":"descending"}`,"data-key":E.key,children:n.jsx(qe,{color:I(v),className:"sort-status-control__tag",closable:!0,onClose:()=>z(E.key),disabled:u,children:n.jsxs("div",{className:"sort-status-control__tag-content",children:[n.jsx("div",{className:"sort-status-control__drag-handle",title:"Drag to reorder",children:"â‹®â‹®"}),n.jsx("div",{className:`sort-status-control__priority-badge sort-priority sort-priority--priority-${v+1}`,children:v+1}),n.jsx("span",{className:"sort-status-control__tag-label",children:T(E.key)}),n.jsx("button",{type:"button",className:"sort-status-control__direction-button",onClick:M=>{M.stopPropagation(),w(E.key)},disabled:u,"aria-label":`Toggle sort direction for ${T(E.key)}. Currently ${E.direction==="asc"?"ascending":"descending"}`,title:"Click to toggle between ascending and descending",children:n.jsx("span",{className:`sort-status-control__direction-icon sort-status-control__direction-icon--${E.direction}`,children:n.jsx("svg",{className:`nhsuk-icon sort-status-control__chevron sort-status-control__chevron--${E.direction}`,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24","aria-hidden":"true",focusable:"false",children:n.jsx("path",{d:"M15.5 12a1 1 0 0 1-.29.71l-5 5a1 1 0 0 1-1.42-1.42l4.3-4.29-4.3-4.29a1 1 0 0 1 1.42-1.42l5 5a1 1 0 0 1 .29.71z"})})})})]})})},E.key))}),l&&n.jsx("div",{className:"sort-status-control__actions",children:n.jsx(He,{variant:"secondary",onClick:$,disabled:u,"aria-label":"Reset all sorting",className:"sort-status-control__reset-button",children:"Clear All Sorts"})})]}),c&&n.jsx("div",{className:"sort-status-control__help",id:"sort-help",children:n.jsx("small",{children:"Drag tags to reorder priority. Click tags or â†‘/â†“ buttons to toggle ascending/descending. Click Ã— to remove a sort."})})]})};function mf(e,t){switch(t.type){case"SET_SELECTED_INDEX":return{...e,selectedIndex:t.payload};case"SET_TAB_LOADING":const r=[...e.tabLoadingStates];return r[t.payload.tabIndex]=t.payload.isLoading,{...e,tabLoadingStates:r};case"SET_TAB_ERROR":const a=[...e.tabErrors];return a[t.payload.tabIndex]=t.payload.error,{...e,tabErrors:a};case"SET_SORT":return{...e,sortConfig:t.payload};case"SET_SELECTED_ROWS":const i=[...e.selectedRows];return i[t.payload.tabIndex]=t.payload.rowIndices,{...e,selectedRows:i};case"SET_GLOBAL_SELECTED_ROW_DATA":return{...e,globalSelectedRowData:t.payload};case"SET_FILTERS":return{...e,filters:t.payload};case"ADJUST_ARRAYS":const{newLength:s}=t.payload,l=new Array(s).fill(!1),c=new Array(s).fill(null),u=new Array(s).fill([]);for(let d=0;d<Math.min(e.tabLoadingStates.length,s);d++)l[d]=e.tabLoadingStates[d],c[d]=e.tabErrors[d],u[d]=e.selectedRows[d];return{...e,tabLoadingStates:l,tabErrors:c,selectedRows:u};case"RESET_STATE":return{selectedIndex:0,tabLoadingStates:new Array(e.tabLoadingStates.length).fill(!1),tabErrors:new Array(e.tabErrors.length).fill(null),sortConfig:[],selectedRows:new Array(e.selectedRows.length).fill([]),globalSelectedRowData:null,filters:void 0};default:return e}}const Wn=f.forwardRef(function(t,r){const{dataConfig:a={},tabPanels:i,selectedIndex:s,onTabChange:l,onGlobalRowSelectionChange:c,ariaLabel:u,ariaDescription:d,className:h="",disabled:g=!1,orientation:b="horizontal",id:p,isLoading:S=!1,loadingComponent:y,error:_=null,errorComponent:Y,"data-testid":T,actions:I,actionsMinGap:w=16,forceActionsAbove:z=!1}=t,q=f.useRef(p||`aria-tabs-datagrid-${Math.random().toString(36).slice(2,9)}`).current,H=typeof d=="string"&&d.trim()!==""&&!/\s/.test(d),E=`${q}-description`,v=`${q}-navigation-help`,{dataComparator:M=(m,C)=>JSON.stringify(m)===JSON.stringify(C),filterFunction:J=m=>m,booleanRenderer:de=m=>m?"âœ“":"âœ—"}=a||{},X=s!==void 0,k=s??0,[x,D]=f.useState({focusArea:"tabs",focusedTabIndex:k,focusedHeaderIndex:0,focusedRowIndex:0,focusedColumnIndex:0,focusedActionIndex:0,isGridActive:!1}),he=f.useMemo(()=>({selectedIndex:k,tabLoadingStates:new Array(i.length).fill(!1),tabErrors:new Array(i.length).fill(null),sortConfig:[],selectedRows:new Array(i.length).fill([]),globalSelectedRowData:null,filters:void 0}),[k]),[R,N]=f.useReducer(mf,he);f.useEffect(()=>{const m=R.tabLoadingStates.length,C=i.length;m!==C&&N({type:"ADJUST_ARRAYS",payload:{newLength:C}})},[i.length]),f.useEffect(()=>{X&&N({type:"SET_SELECTED_INDEX",payload:k})},[k,X]),f.useEffect(()=>{D(m=>({...m,focusArea:"tabs",focusedTabIndex:R.selectedIndex,focusedHeaderIndex:0,focusedRowIndex:0,focusedColumnIndex:0,focusedActionIndex:0,isGridActive:!1}))},[R.selectedIndex]),f.useEffect(()=>{c&&c(R.globalSelectedRowData)},[R.globalSelectedRowData,c]);const ne=f.useCallback((m,C)=>M(m,C),[M]),A=f.useCallback(m=>{m>=0&&m<i.length&&!i[m].disabled&&(N({type:"SET_SELECTED_INDEX",payload:m}),D(C=>({...C,focusedTabIndex:m,focusArea:"tabs"})),l?.(m))},[i,l]),te=f.useRef(!1),L=f.useCallback((m,C)=>{if(!C?.force&&!te.current&&m===0){te.current=!0;return}te.current=!0,setTimeout(()=>{const U=oe.current[m],V=U?.parentElement;if(U&&V){const B=U.offsetLeft,G=U.offsetWidth,xe=V.clientWidth,fe=B-xe/2+G/2;try{V.scrollTo({left:Math.max(0,fe),behavior:"smooth"})}catch{U.scrollIntoView({behavior:"smooth",block:"nearest",inline:"center"})}}else process.env.SILENCE_SCROLL_DEBUG||console.debug("[AriaTabsDataGrid] Missing elements for scroll",{tabElementExists:!!U,tabListElementExists:!!V})},50)},[]),oe=f.useRef([]),Ce=f.useRef([]),ie=f.useCallback((m,C)=>{const U=R.sortConfig||[],V=U.find(xe=>xe.key===C);let B;V?V.direction==="asc"?B=U.map(xe=>xe.key===C?{...xe,direction:"desc"}:xe):B=U.filter(xe=>xe.key!==C):B=[...U,{key:C,direction:"asc"}],N({type:"SET_SORT",payload:B}),i[m].onSort?.(C)},[R.sortConfig,i]),ee=f.useCallback(m=>{setTimeout(()=>{const C=document.querySelector(`[data-tab-panel="${R.selectedIndex}"] th:nth-child(${m+1})`);C&&C.focus()},0)},[R.selectedIndex]),K=f.useCallback(m=>de(m),[de]),ae=f.useCallback((m,C)=>{setTimeout(()=>{const U=document.querySelector(`[data-tab-panel="${R.selectedIndex}"] tbody tr:nth-child(${m+1}) td:nth-child(${C+1})`);U&&U.focus()},0)},[R.selectedIndex]);f.useEffect(()=>{x.isGridActive&&(x.focusArea==="headers"?setTimeout(()=>{ee(x.focusedHeaderIndex)},0):x.focusArea==="cells"&&setTimeout(()=>{ae(x.focusedRowIndex,x.focusedColumnIndex)},0))},[x.focusArea,x.isGridActive,x.focusedHeaderIndex,x.focusedRowIndex,x.focusedColumnIndex,ee,ae]),f.useEffect(()=>{L(R.selectedIndex)},[R.selectedIndex,L]);const ge=f.useCallback((m,C)=>{const{key:U}=m,V=i[R.selectedIndex],B=V?.columns.length||0;switch(U){case"ArrowLeft":m.preventDefault();const G=Math.max(0,C-1);D(_e=>({..._e,focusedHeaderIndex:G})),ee(G);break;case"ArrowRight":m.preventDefault();const xe=Math.min(B-1,C+1);D(_e=>({..._e,focusedHeaderIndex:xe})),ee(xe);break;case"ArrowUp":m.preventDefault(),D(_e=>({..._e,focusArea:"tabs",focusedTabIndex:R.selectedIndex})),L(R.selectedIndex),oe.current[R.selectedIndex]?.focus();break;case"ArrowDown":m.preventDefault(),D(_e=>({..._e,focusArea:"cells",focusedRowIndex:0,focusedColumnIndex:C,isGridActive:!0}));break;case"Home":m.preventDefault(),D(_e=>({..._e,focusedHeaderIndex:0})),ee(0);break;case"End":m.preventDefault();const fe=B-1;D(_e=>({..._e,focusedHeaderIndex:fe})),ee(fe);break;case"Enter":case" ":m.preventDefault();const ke=V?.columns[C]?.key;ke&&ie(R.selectedIndex,ke);break}},[i,R.selectedIndex,ie,D,ee,ae,oe]),W=f.useCallback((m,C,U)=>{const{key:V}=m,B=i[R.selectedIndex],G=B?.data.length||0,xe=B?.columns.length||0;switch(V){case"ArrowUp":if(m.preventDefault(),C===0)D(re=>({...re,focusArea:"headers",focusedHeaderIndex:U,isGridActive:!1})),ee(U);else{const re=C-1;D(Se=>({...Se,focusedRowIndex:re})),ae(re,U)}break;case"ArrowDown":m.preventDefault();const fe=Math.min(G-1,C+1);D(re=>({...re,focusedRowIndex:fe})),ae(fe,U);break;case"ArrowLeft":m.preventDefault();const ke=Math.max(0,U-1);D(re=>({...re,focusedColumnIndex:ke})),ae(C,ke);break;case"ArrowRight":m.preventDefault();const _e=Math.min(xe-1,U+1);D(re=>({...re,focusedColumnIndex:_e})),ae(C,_e);break;case"Home":m.preventDefault(),m.ctrlKey?(D(re=>({...re,focusedRowIndex:0,focusedColumnIndex:0})),ae(0,0)):(D(re=>({...re,focusedColumnIndex:0})),ae(C,0));break;case"End":if(m.preventDefault(),m.ctrlKey){const re=G-1,Se=xe-1;D(Te=>({...Te,focusedRowIndex:re,focusedColumnIndex:Se})),ae(re,Se)}else{const re=xe-1;D(Se=>({...Se,focusedColumnIndex:re})),ae(C,re)}break;case"Enter":case" ":if(m.preventDefault(),B&&B.data[C]){const re=B.data.some(Ae=>"ews_data"in Ae)?J(B.data,R.filters):B.data,Se=R.sortConfig;let Te=re;if(Se&&Se.length>0&&(Te=[...re].sort((Ae,De)=>{for(const{key:Ge,direction:xt}of Se){let gt=Ae[Ge],lt=De[Ge];const Pe=B.columns.find(_n=>_n.key===Ge);if(Pe?.tableRenderer?(gt=Pe.tableRenderer(Ae),lt=Pe.tableRenderer(De)):Pe?.render&&(gt=Pe.render(Ae),lt=Pe.render(De)),gt==null&&lt==null)continue;if(gt==null)return xt==="asc"?-1:1;if(lt==null)return xt==="asc"?1:-1;let ze=0;if(typeof gt=="number"&&typeof lt=="number"?ze=gt-lt:ze=String(gt).localeCompare(String(lt),void 0,{numeric:!0,sensitivity:"base"}),ze!==0)return xt==="asc"?ze:-ze}return 0})),Te[C]){const Ae=Te[C],Ge=R.globalSelectedRowData&&ne(R.globalSelectedRowData,Ae)?null:Ae;N({type:"SET_GLOBAL_SELECTED_ROW_DATA",payload:Ge})}}break}},[i,R.selectedIndex,R.filters,R.sortConfig,J,ne,N,D,ee,ae]),je=f.useCallback((m,C)=>J(m,C),[J]);if(f.useImperativeHandle(r,()=>({selectTab:m=>{m>=0&&m<i.length&&(N({type:"SET_SELECTED_INDEX",payload:m}),l?.(m))},refreshData:m=>{console.log("Refreshing data for tab:",m??"all")},exportData:m=>{const C=m??R.selectedIndex,U=i[C];return U?U.data:[]},getSelectedRows:m=>R.globalSelectedRowData?[]:[],clearSelection:m=>{N({type:"SET_GLOBAL_SELECTED_ROW_DATA",payload:null})},applyFilters:m=>{N({type:"SET_FILTERS",payload:m})}}),[R.selectedIndex,R.selectedRows,i,l]),S)return n.jsx("div",{className:`aria-tabs-datagrid aria-tabs-datagrid--loading ${h}`,"data-testid":T,children:y||n.jsx("div",{className:"aria-tabs-datagrid__loading",children:n.jsx("div",{className:"nhsuk-spinner",role:"status","aria-label":"Loading data",children:n.jsx("span",{className:"nhsuk-u-visually-hidden",children:"Loading..."})})})});if(_)return n.jsx("div",{className:`aria-tabs-datagrid aria-tabs-datagrid--error ${h}`,"data-testid":T,children:Y||n.jsxs("div",{className:"aria-tabs-datagrid__error",role:"alert",children:[n.jsx("h3",{className:"nhsuk-error-summary__title",children:"Error loading data"}),n.jsx("p",{children:_})]})});const be=f.useRef(null),pe=f.useRef(null),ue=f.useRef(null),[ye,Ue]=f.useState(!0);f.useEffect(()=>{if(!I){Ue(!1);return}if(z){Ue(!1);return}function m(){if(!be.current||!pe.current||!ue.current)return;const V=be.current.clientWidth,B=Array.from(pe.current.querySelectorAll(":scope > .aria-tabs-datagrid__tab")),G=B.reduce((_e,re)=>_e+re.offsetWidth,0),xe=ue.current.offsetWidth,fe=Math.max(8*(B.length-1),0),ke=G+fe+xe+w<=V;Ue(ke)}const C=requestAnimationFrame(()=>m()),U=new ResizeObserver(()=>m());return be.current&&U.observe(be.current),pe.current&&U.observe(pe.current),()=>{cancelAnimationFrame(C),U.disconnect()}},[I,w,z,i.length]);const Ee=ue,Ne=f.useCallback(()=>Ee.current?Array.from(Ee.current.querySelectorAll('button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])')).filter(m=>!m.hasAttribute("disabled")):[],[]),F=f.useCallback(m=>{const C=Ne();if(!C.length)return;const U=Math.max(0,Math.min(m,C.length-1));C[U].focus(),D(V=>({...V,focusArea:"actions",focusedActionIndex:U}))},[Ne]),j=f.useCallback(()=>F(0),[F]),O=f.useCallback((m,C)=>{const{key:U}=m,V=i.length-1;switch(U){case"ArrowUp":{I&&!ye&&(m.preventDefault(),j());break}case"ArrowLeft":{m.preventDefault();const B=C>0?C-1:V;A(B),L(B),oe.current[B]?.focus();break}case"ArrowRight":{if(m.preventDefault(),C===V&&I&&ye){j();return}const B=C<V?C+1:0;A(B),L(B),oe.current[B]?.focus();break}case"ArrowDown":{m.preventDefault(),D(B=>({...B,focusArea:"headers",focusedHeaderIndex:0,isGridActive:!0}));break}case"Home":{m.preventDefault(),A(0),L(0),oe.current[0]?.focus();break}case"End":{m.preventDefault(),A(V),L(V),oe.current[V]?.focus();break}case"Enter":case" ":{m.preventDefault(),A(C);break}case"Tab":{!m.shiftKey&&C===V&&I&&ye&&j();break}}},[i.length,A,L,I,ye,j]),P=f.useCallback(m=>{const{key:C}=m,U=Ne();if(!U.length)return;const V=U.findIndex(B=>B===document.activeElement);switch(C){case"ArrowLeft":{if(ye)if(V>0)m.preventDefault(),F(V-1);else{m.preventDefault();const B=i.length-1;A(B),L(B),oe.current[B]?.focus(),D(G=>({...G,focusArea:"tabs",focusedTabIndex:B}))}break}case"ArrowRight":{ye&&(V<U.length-1?(m.preventDefault(),F(V+1)):(m.preventDefault(),A(0),L(0),oe.current[0]?.focus(),D(B=>({...B,focusArea:"tabs",focusedTabIndex:0}))));break}case"ArrowDown":{if(ye)m.preventDefault(),D(B=>({...B,focusArea:"headers",focusedHeaderIndex:0,isGridActive:!0}));else{m.preventDefault();const B=R.selectedIndex;oe.current[B]?.focus(),D(G=>({...G,focusArea:"tabs",focusedTabIndex:B}))}break}}},[Ne,ye,F,i.length,A,L,R.selectedIndex]);return n.jsxs("div",{className:`aria-tabs-datagrid aria-tabs-datagrid--${b} ${h}`,id:p,"data-testid":T,ref:be,children:[d&&!H&&n.jsx("div",{id:E,className:"nhsuk-u-visually-hidden",children:d}),n.jsx("div",{className:"aria-tabs-datagrid__navigation-help sr-only",id:v,children:"Keyboard navigation: Use Tab to move between tabs and grid. Arrow keys navigate within tabs and grid cells. Enter activates tabs and sorts columns. Arrow Down from tabs moves to table headers. Arrow Down from headers moves to table cells. Use Arrow keys to navigate between cells."}),n.jsx(ro,{sortConfig:R.sortConfig||[],columns:i.flatMap(m=>m.columns.map(C=>({key:C.key,label:C.label}))).filter((m,C,U)=>U.findIndex(V=>V.key===m.key)===C),onSortChange:m=>{N({type:"SET_SORT",payload:m})},ariaLabel:"Data grid sort configuration"}),I&&!ye&&n.jsx("div",{className:"aria-tabs-datagrid__actions aria-tabs-datagrid__actions--above",ref:ue,role:"toolbar","aria-label":"Additional actions",onKeyDown:P,children:I}),n.jsxs("div",{className:`aria-tabs-datagrid__tabs-wrapper ${ye?"aria-tabs-datagrid__tabs-wrapper--inline-actions":""}`,children:[n.jsx("div",{role:"tablist","aria-label":u,"aria-describedby":d?H?d:E:v,"aria-orientation":b,className:"aria-tabs-datagrid__tabs",ref:pe,children:i.map((m,C)=>{const U=C===R.selectedIndex,V=m.disabled||g;return n.jsxs("button",{role:"tab",id:`tab-${m.id}`,"aria-controls":`panel-${m.id}`,"aria-selected":U,"aria-disabled":V,tabIndex:U?0:-1,ref:B=>{oe.current[C]=B},onClick:()=>A(C),onKeyDown:B=>O(B,C),disabled:V,className:["aria-tabs-datagrid__tab",U?"aria-tabs-datagrid__tab--selected":"",V?"aria-tabs-datagrid__tab--disabled":""].filter(Boolean).join(" "),children:[n.jsx("span",{className:"aria-tabs-datagrid__tab-label",children:m.label}),R.tabLoadingStates[C]&&n.jsx("span",{className:"aria-tabs-datagrid__tab-loading","aria-hidden":"true",children:"â³"}),R.tabErrors[C]&&n.jsx("span",{className:"aria-tabs-datagrid__tab-error","aria-hidden":"true",children:"âš ï¸"})]},m.id)})}),I&&ye&&n.jsx("div",{className:"aria-tabs-datagrid__actions aria-tabs-datagrid__actions--inline",ref:ue,role:"toolbar","aria-label":"Additional actions",onKeyDown:P,children:I})]}),i.map((m,C)=>{const U=C===R.selectedIndex;return n.jsx("div",{role:"tabpanel",id:`panel-${m.id}`,"aria-labelledby":`tab-${m.id}`,tabIndex:0,hidden:!U,ref:V=>{Ce.current[C]=V},className:`aria-tabs-datagrid__panel ${m.className||""}`,"data-tab-panel":C,children:U&&(()=>{const V=m.data.some(G=>"ews_data"in G)?je(m.data,R.filters):m.data,B=f.useMemo(()=>{const G=R.sortConfig;return!G||G.length===0?V:[...V].sort((xe,fe)=>{for(const{key:ke,direction:_e}of G){let re=xe[ke],Se=fe[ke];const Te=m.columns.find(De=>De.key===ke);if(Te?.tableRenderer?(re=Te.tableRenderer(xe),Se=Te.tableRenderer(fe)):Te?.render&&(re=Te.render(xe),Se=Te.render(fe)),re==null&&Se==null)continue;if(re==null)return 1;if(Se==null)return-1;let Ae=0;if(typeof re=="number"&&typeof Se=="number"?Ae=re-Se:typeof re=="boolean"&&typeof Se=="boolean"?Ae=re===Se?0:re?1:-1:Ae=String(re).localeCompare(String(Se),void 0,{numeric:!0,sensitivity:"base"}),Ae!==0)return _e==="asc"?Ae:-Ae}return 0})},[V,R.sortConfig,m.columns]);return n.jsxs("table",{className:"nhsuk-table aria-tabs-datagrid__grid",role:"grid","aria-label":m.ariaLabel,"aria-describedby":m.ariaDescription?`panel-${m.id}-description`:void 0,children:[m.ariaDescription&&n.jsx("caption",{className:"nhsuk-u-visually-hidden",id:`panel-${m.id}-description`,children:m.ariaDescription}),n.jsx("thead",{className:"nhsuk-table__head",role:"rowgroup",children:n.jsx("tr",{role:"row",children:m.columns.map((G,xe)=>{const fe=R.sortConfig?.find(re=>re.key===G.key),ke=!!fe,_e=x.focusArea==="headers"&&x.focusedHeaderIndex===xe;return n.jsx("th",{className:`sortable-header ${_e?"sortable-header--focused":""} ${ke?"sortable-header--sorted":""}`,role:"columnheader",tabIndex:_e?0:-1,onClick:()=>ie(C,G.key),onKeyDown:re=>ge(re,xe),"aria-sort":ke?fe?.direction==="asc"?"ascending":"descending":"none",children:n.jsxs("div",{className:"header-content",children:[n.jsx("span",{className:"header-label",children:G.label}),n.jsxs("div",{className:`sort-indicator-container ${ke?`sort-indicator--${fe?.direction}`:""}`,children:[R.sortConfig&&R.sortConfig.length>0&&R.sortConfig.findIndex(re=>re.key===G.key)!==-1&&n.jsx("span",{className:`sort-priority sort-priority--priority-${R.sortConfig.findIndex(re=>re.key===G.key)+1}`,"data-priority":R.sortConfig.findIndex(re=>re.key===G.key)+1,title:`Sort priority: ${R.sortConfig.findIndex(re=>re.key===G.key)+1}`,children:R.sortConfig.findIndex(re=>re.key===G.key)+1}),ke&&n.jsx("svg",{className:`nhsuk-icon sort-arrow sort-arrow--${fe?.direction}`,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24","aria-hidden":"true",focusable:"false",children:n.jsx("path",{d:"M15.5 12a1 1 0 0 1-.29.71l-5 5a1 1 0 0 1-1.42-1.42l4.3-4.29-4.3-4.29a1 1 0 0 1 1.42-1.42l5 5a1 1 0 0 1 .29.71z"})})]})]})},G.key)})})}),n.jsx("tbody",{className:"nhsuk-table__body",role:"rowgroup",children:B.map((G,xe)=>{const fe=R.globalSelectedRowData&&ne(R.globalSelectedRowData,G),ke=x.focusArea==="cells"&&x.focusedRowIndex===xe;return n.jsx("tr",{role:"row",className:`data-row ${fe?"data-row--selected":""} ${ke?"data-row--focused":""}`,"aria-selected":fe,children:m.columns.map((_e,re)=>{const Se=G[_e.key];let Te;_e.tableRenderer?Te=_e.tableRenderer(G):_e.render?Te=_e.render(G):Te=Se;const Ae=x.focusArea==="cells"&&x.focusedRowIndex===xe&&x.focusedColumnIndex===re,De=()=>{if(_e.customRenderer){const Ge=_e.customRenderer(Se,G);return n.jsx("span",{className:"data-cell__custom","data-custom-rendered":"true",children:Ge})}return typeof Se=="boolean"&&Te===Se?n.jsxs(n.Fragment,{children:[K(Se),n.jsx("span",{className:"nhsuk-u-visually-hidden",children:Se?"Yes":"No"})]}):f.isValidElement(Te)||typeof Te!="object"?Te??"":Te};return n.jsx("td",{role:"gridcell",className:`data-cell ${Ae?"data-cell--focused":""}`,tabIndex:Ae?0:-1,onClick:()=>{const xt=R.globalSelectedRowData&&ne(R.globalSelectedRowData,G)?null:G;N({type:"SET_GLOBAL_SELECTED_ROW_DATA",payload:xt})},onKeyDown:Ge=>W(Ge,xe,re),children:De()},_e.key)})},xe)})})]})})()},m.id)})]})}),On={asc:"â†‘",desc:"â†“"},gf=e=>[...e].sort((t,r)=>t.priority-r.priority);function Ur(e){return e.map((t,r)=>({...t,priority:r}))}function pf(e){return e.length>0?Math.max(...e.map(t=>t.priority)):-1}function bf(e,t){const r=t.find(a=>a.id===e);return r?r.priority>0:!1}function yf(e,t){const r=t.find(i=>i.id===e),a=pf(t);return r?r.priority<a:!1}const xf=({sortConfig:e,onSortChange:t,className:r="",emptyDescription:a="No sorting applied",activeDescription:i,showReset:s=!0,showHelp:l=!0,disabled:c=!1,ariaLabel:u="Sort configuration",ariaDescribedBy:d})=>{const h=f.useMemo(()=>gf(e),[e]),g=f.useCallback(T=>{if(c)return;const I=e.map(w=>w.id===T?{...w,direction:w.direction==="asc"?"desc":"asc"}:w);t(I)},[e,t,c]),b=f.useCallback(T=>{if(c)return;const I=e.findIndex(z=>z.id===T);if(I<=0)return;const w=[...e];[w[I],w[I-1]]=[w[I-1],w[I]],t(Ur(w))},[e,t,c]),p=f.useCallback(T=>{if(c)return;const I=e.findIndex(z=>z.id===T);if(I>=e.length-1||I===-1)return;const w=[...e];[w[I],w[I+1]]=[w[I+1],w[I]],t(Ur(w))},[e,t,c]),S=f.useCallback(T=>{if(c)return;const I=e.filter(w=>w.id!==T);t(Ur(I))},[e,t,c]),y=f.useCallback(()=>{c||t([])},[t,c]),_=()=>{if(e.length===0)return a;if(i)return i;const T=h.map((I,w)=>{const z=I.direction==="asc"?"ascending":"descending";return`${w+1}. ${I.label} (${z})`});if(T.length===1)return`Sorted by: ${T[0]}`;if(T.length===2)return`Sorted by: ${T.join(" and ")}`;{const I=T.pop();return`Sorted by: ${T.join(", ")}, and ${I}`}},Y=f.useMemo(()=>{const T=["sort-description"];return l&&T.push("sort-help"),d&&T.push(d),T.join(" ")},[l,d]);return e.length===0?n.jsx("div",{className:`sort-status-control sort-status-control--empty ${r}`,children:n.jsx("div",{className:"sort-status-control__description",id:"sort-description","aria-live":"polite",children:_()})}):n.jsxs("div",{className:`sort-status-control ${r}`,children:[n.jsx("div",{className:"sort-status-control__description sort-status-control__description--active",id:"sort-description","aria-live":"polite",children:_()}),n.jsxs("div",{className:"sort-status-control__tags",role:"list","aria-label":u,"aria-describedby":Y,children:[n.jsx("div",{className:"sort-status-control__tags-label",children:"Current sorting:"}),h.map(T=>n.jsx("div",{className:"sort-status-control__tag-container",role:"listitem",children:n.jsx(qe,{text:"",color:"blue",className:"sort-status-control__tag",closable:!0,onClose:()=>S(T.id),disabled:c,children:n.jsxs("div",{className:"sort-status-control__tag-content",children:[n.jsx("span",{className:"sort-status-control__tag-priority",children:T.priority+1}),n.jsx("span",{className:"sort-status-control__tag-label",children:T.label}),n.jsx("button",{type:"button",className:"sort-status-control__tag-direction",onClick:()=>g(T.id),disabled:c,"aria-label":`Toggle sort direction for ${T.label}. Currently ${T.direction==="asc"?"ascending":"descending"}`,title:"Click to toggle between ascending and descending",children:T.direction==="asc"?On.asc:On.desc}),n.jsxs("div",{className:"sort-status-control__tag-actions",children:[n.jsx("button",{type:"button",className:"sort-status-control__move-button",onClick:()=>b(T.id),disabled:c||!bf(T.id,e),"aria-label":`Move ${T.label} sort up in priority`,title:"Move up in priority",children:"â–²"}),n.jsx("button",{type:"button",className:"sort-status-control__move-button",onClick:()=>p(T.id),disabled:c||!yf(T.id,e),"aria-label":`Move ${T.label} sort down in priority`,title:"Move down in priority",children:"â–¼"})]})]})})},T.id))]}),s&&n.jsx("div",{className:"sort-status-control__actions",children:n.jsx(He,{variant:"secondary",onClick:y,disabled:c,"aria-label":"Reset all sorting",className:"sort-status-control__reset-button",children:"Clear All Sorts"})}),l&&n.jsx("div",{className:"sort-status-control__help",id:"sort-help",children:n.jsxs("small",{children:["Click ",On.asc,"/",On.desc," to toggle ascending/descending. Use â–²/â–¼ to change sort priority. Click Ã— to remove a sort."]})})]})},Un=(e,t)=>t.map(r=>({id:r.id,label:r.label,data:r.filter?r.filter(e):e,columns:r.columns.map(a=>({key:a.key,label:a.label,render:a.render,customRenderer:a.customRenderer})),sortConfig:r.sortConfig,ariaLabel:r.ariaLabel||`${r.label} Data Grid`,ariaDescription:r.ariaDescription||`Data grid showing ${r.label.toLowerCase()}`,className:r.className,disabled:r.disabled})),Gr=[{value:!0,icon:n.jsx("svg",{className:"nhsuk-icon nhsuk-icon__tick",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none","aria-hidden":"true",width:"100%",height:"34",children:n.jsx("path",{strokeWidth:"4",strokeLinecap:"round",d:"M18.4 7.8l-8.5 8.4L5.6 12",stroke:"#007f3b"})})},{value:!1,icon:n.jsxs("svg",{className:"nhsuk-icon nhsuk-icon__cross",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24","aria-hidden":"true",width:"100%",height:"34",children:[n.jsx("path",{d:"M17 18.5c-.4 0-.8-.1-1.1-.4l-10-10c-.6-.6-.6-1.6 0-2.1.6-.6 1.5-.6 2.1 0l10 10c.6.6.6 1.5 0 2.1-.3.3-.6.4-1 .4z",fill:"#d5281b"}),n.jsx("path",{d:"M7 18.5c-.4 0-.8-.1-1.1-.4-.6-.6-.6-1.5 0-2.1l10-10c.6-.6 1.5-.6 2.1 0 .6.6.6 1.5 0 2.1l-10 10c-.3.3-.6.4-1 .4z",fill:"#d5281b"})]})}],vf=(e,t)=>!e||!t?e===t:e.name&&e.bed_name&&t.name&&t.bed_name?e.name===t.name&&e.bed_name===t.bed_name:JSON.stringify(e)===JSON.stringify(t),kf=(e,t)=>t?e.filter(r=>{if(t.ewsScoreRange){const[a,i]=t.ewsScoreRange;if(r.ews_score<a||r.ews_score>i)return!1}return!(t.wards&&t.wards.length>0&&!t.wards.includes(r.ward_name)||t.specialties&&t.specialties.length>0&&!t.specialties.includes(r.speciality)||t.dischargeStatuses&&t.dischargeStatuses.length>0&&!t.dischargeStatuses.includes(r.early_discharge_notification)||t.avpuLevels&&t.avpuLevels.length>0&&!t.avpuLevels.includes(r.ews_data.avpu)||t.medicallyOptimised!==null&&t.medicallyOptimised!==void 0&&r.medically_optimised!==t.medicallyOptimised||t.fastTrack!==null&&t.fastTrack!==void 0&&r.fast_track!==t.fastTrack)}):e,Sf=e=>{if(typeof e=="boolean"){const r=Gr.find(a=>a.value===e);return r?r.icon:null}const t=Gr.find(r=>r.value===e);return t?t.icon:String(e)},_f=e=>`${e.name}-${e.bed_name}`,wf=()=>({overview:[{key:"name",label:"Patient Name"},{key:"age",label:"Age"},{key:"ward_name",label:"Ward"},{key:"bed_name",label:"Bed"},{key:"ews_score",label:"EWS Score"},{key:"speciality",label:"Specialty"},{key:"consultant",label:"Consultant"}],vitals:[{key:"name",label:"Patient Name"},{key:"ews_score",label:"EWS Score"},{key:"respiratory_rate_bpm",label:"Respiratory Rate",render:e=>e.ews_data.respiratory_rate_bpm},{key:"sp02",label:"SpO2 %",render:e=>e.ews_data.sp02},{key:"temperature",label:"Temperature Â°C",render:e=>e.ews_data.temperature},{key:"systolic_bp",label:"Systolic BP",render:e=>e.ews_data.systolic_bp},{key:"heart_rate",label:"Heart Rate",render:e=>e.ews_data.heart_rate},{key:"avpu",label:"AVPU",render:e=>e.ews_data.avpu.toUpperCase()}],discharge:[{key:"name",label:"Patient Name"},{key:"anticipated_discharge_date",label:"Anticipated Discharge",render:e=>new Date(e.anticipated_discharge_date).toLocaleDateString()},{key:"early_discharge_notification",label:"Discharge Status"},{key:"medically_optimised",label:"Medically Optimised"},{key:"criteria_to_reside",label:"Criteria to Reside"},{key:"fast_track",label:"Fast Track"},{key:"transport_status",label:"Transport Status"},{key:"pathway",label:"Pathway"}],logistics:[{key:"name",label:"Patient Name"},{key:"ward_name",label:"Ward"},{key:"room_name",label:"Room"},{key:"bed_name",label:"Bed"},{key:"bed_type",label:"Bed Type"},{key:"transport_booking",label:"Transport Booked"},{key:"transport_mobility",label:"Transport Type"},{key:"district_nurse_referral",label:"District Nurse"},{key:"equipment",label:"Equipment"}]}),Cf=e=>{const t=wf();return[{id:"overview",label:"Patient Overview",data:e,columns:t.overview,ariaLabel:"Patient Overview Data Grid",ariaDescription:"Overview of all patients with basic information"},{id:"vitals",label:"Vital Signs & EWS",data:e,columns:t.vitals,sortConfig:[{key:"ews_score",direction:"desc"},{key:"name",direction:"asc"},{key:"ward_name",direction:"asc"}],ariaLabel:"Patient Vital Signs Data Grid",ariaDescription:"Patient vital signs and Early Warning Scores"},{id:"discharge",label:"Discharge Planning",data:e.filter(r=>r.anticipated_discharge_date),columns:t.discharge,sortConfig:[{key:"anticipated_discharge_date",direction:"asc"},{key:"discharge_status",direction:"desc"}],ariaLabel:"Discharge Planning Data Grid",ariaDescription:"Patient discharge planning and status information"},{id:"logistics",label:"Bed Management",data:e,columns:t.logistics,sortConfig:[{key:"ward_name",direction:"asc"}],ariaLabel:"Bed Management Data Grid",ariaDescription:"Patient location and logistics information"}]},ao={dataComparator:vf,filterFunction:kf,booleanRenderer:Sf,getDataId:_f};function so(e,t,r){const{primaryField:a,secondaryFields:i=[],badges:s=[],hiddenFields:l=[],getPriority:c,getVariant:u,fieldRenderers:d={},classPrefix:h="adaptive-card"}=r,g=t.find(I=>I.key===a),b=g?.cardRenderer?g.cardRenderer(e):g?.render?g.render(e):e[a||"name"]||"Untitled",p=()=>i.filter(w=>!l.includes(w)&&e[w]).slice(0,3).map(w=>{const z=t.find(E=>E.key===w),$=e[w],q=d[w]?d[w]($,e):z?.cardRenderer?z.cardRenderer(e):z?.render?z.render(e):$;return`${z?.label||w}: ${q}`}).join(" â€¢ "),S=()=>s.length===0?null:s.filter(I=>e[I.fieldKey]!==void 0).map(I=>{const w=e[I.fieldKey],z=I.render?I.render(w,e):w;return`<span class="nhsuk-tag ${jf(I,w)}">${z}</span>`}).join(""),y=()=>u?u(e):c?.(e)==="high"?"primary":"default",_=S(),Y=p(),T=_?`${Y}${_?`<div class="adaptive-card__badges">${_}</div>`:""}`:Y;return{variant:y(),heading:String(b),descriptionHtml:T,className:`adaptive-card ${h}`,"aria-label":`Record for ${b}`}}function jf(e,t){const r=e.className||"adaptive-card__badge";if(e.fieldKey==="ews_score"||e.fieldKey.includes("score")){const a=Number(t);return a>=7?`${r} nhsuk-tag--red`:a>=3?`${r} nhsuk-tag--yellow`:`${r} nhsuk-tag--green`}if(e.fieldKey==="priority"){const a=String(t).toLowerCase();if(a==="high")return`${r} nhsuk-tag--red`;if(a==="medium")return`${r} nhsuk-tag--yellow`;if(a==="low")return`${r} nhsuk-tag--green`}if(e.fieldKey==="status"){const a=String(t).toLowerCase();if(a==="urgent"||a==="critical")return`${r} nhsuk-tag--red`;if(a==="pending"||a==="warning")return`${r} nhsuk-tag--yellow`;if(a==="completed"||a==="success")return`${r} nhsuk-tag--green`}switch(e.color){case"primary":return`${r} nhsuk-tag--blue`;case"secondary":return`${r} nhsuk-tag--grey`;case"success":return`${r} nhsuk-tag--green`;case"warning":return`${r} nhsuk-tag--yellow`;case"danger":return`${r} nhsuk-tag--red`;default:return r}}const Nf={primaryField:"name",secondaryFields:["id","description","status"],badges:[{fieldKey:"priority",render:e=>e.charAt(0).toUpperCase()+e.slice(1),className:"adaptive-card__priority-badge"},{fieldKey:"status",render:e=>e.charAt(0).toUpperCase()+e.slice(1),className:"adaptive-card__status-badge"}],hiddenFields:[],getPriority:e=>e.priority||"medium",getStatus:e=>e.status||"active",getVariant:e=>e.priority==="high"?"primary":"default",fieldRenderers:{},classPrefix:"adaptive-card--generic"},Vr=({data:e,columns:t,onSelect:r,onAction:a,priority:i="medium",status:s="active"})=>{const l=e.name,c=e.age,u=e.ward_name,d=e.bed_name,h=e.ews_score,g=e.speciality,b=e.consultant;return n.jsxs("div",{className:`healthcare-card healthcare-card--patient healthcare-card--${i} healthcare-card--${s}`,onClick:()=>r?.(e),role:"button",tabIndex:0,"aria-label":`Patient record for ${l}, Age ${c}, Ward ${u}, Bed ${d}`,children:[n.jsxs("div",{className:"healthcare-card__header",children:[n.jsxs("div",{className:"healthcare-card__identity",children:[n.jsx("h3",{className:"healthcare-card__patient-name",children:l}),n.jsxs("p",{className:"healthcare-card__age-info",children:[n.jsx("span",{className:"healthcare-card__label",children:"Age: "}),n.jsx("span",{className:"healthcare-card__value",children:c})]})]}),n.jsx("div",{className:"healthcare-card__badges",children:h!==void 0&&n.jsxs(qe,{color:Df(oo(h)),className:"healthcare-card__alert",children:["EWS: ",h]})})]}),n.jsx("div",{className:"healthcare-card__body",children:n.jsxs("dl",{className:"healthcare-card__details",children:[n.jsxs("div",{className:"healthcare-card__detail",children:[n.jsx("dt",{children:"Ward"}),n.jsx("dd",{children:u})]}),n.jsxs("div",{className:"healthcare-card__detail",children:[n.jsx("dt",{children:"Bed"}),n.jsx("dd",{children:d})]}),n.jsxs("div",{className:"healthcare-card__detail",children:[n.jsx("dt",{children:"Specialty"}),n.jsx("dd",{children:g})]}),n.jsxs("div",{className:"healthcare-card__detail healthcare-card__detail--prominent",children:[n.jsx("dt",{children:"Consultant"}),n.jsx("dd",{children:b})]})]})}),n.jsxs("div",{className:"healthcare-card__actions",children:[n.jsx(He,{variant:"secondary",className:"healthcare-card__action",onClick:p=>{p.stopPropagation(),a?.("view-notes",e)},children:"Notes"}),n.jsx(He,{variant:"secondary",className:"healthcare-card__action",onClick:p=>{p.stopPropagation(),a?.("view-vitals",e)},children:"Vitals"}),n.jsx(He,{variant:"primary",className:"healthcare-card__action healthcare-card__action--primary",onClick:p=>{p.stopPropagation(),a?.("view-full",e)},children:"View Full Record"})]})]})},Yr=({data:e,onAction:t})=>n.jsxs("div",{className:"healthcare-card healthcare-card--appointment healthcare-card--medium healthcare-card--active",role:"article",tabIndex:0,children:[n.jsxs("div",{className:"healthcare-card__header",children:[n.jsxs("div",{className:"healthcare-card__time-info",children:[n.jsx("h3",{className:"healthcare-card__time",children:new Date(e.appointment_time).toLocaleTimeString("en-GB",{hour:"2-digit",minute:"2-digit"})}),n.jsx("p",{className:"healthcare-card__type",children:e.appointment_type})]}),n.jsxs("div",{className:"healthcare-card__badges",children:[n.jsx(qe,{color:Bf(e.status||"active"),className:"healthcare-card__status",children:(e.status||"active").charAt(0).toUpperCase()+(e.status||"active").slice(1)}),n.jsxs(qe,{color:"grey",className:"healthcare-card__duration",children:[e.duration||"30"," min"]})]})]}),n.jsx("div",{className:"healthcare-card__body",children:n.jsxs("dl",{className:"healthcare-card__details",children:[n.jsxs("div",{className:"healthcare-card__detail",children:[n.jsx("dt",{children:"Patient"}),n.jsx("dd",{children:e.patient_name})]}),n.jsxs("div",{className:"healthcare-card__detail",children:[n.jsx("dt",{children:"Consultant"}),n.jsx("dd",{children:e.consultant})]}),n.jsxs("div",{className:"healthcare-card__detail",children:[n.jsx("dt",{children:"Location"}),n.jsx("dd",{children:e.location})]})]})}),n.jsxs("div",{className:"healthcare-card__actions",children:[n.jsx(He,{variant:"secondary",size:"small",onClick:()=>t?.("view",e),children:"View Details"}),n.jsx(He,{variant:"primary",size:"small",onClick:()=>t?.("edit",e),children:"Reschedule"})]})]}),qr=({data:e,onAction:t})=>n.jsxs("div",{className:"healthcare-card healthcare-card--medication healthcare-card--medium healthcare-card--active",role:"article",tabIndex:0,children:[n.jsxs("div",{className:"healthcare-card__header",children:[n.jsxs("div",{className:"healthcare-card__medication-info",children:[n.jsx("h3",{className:"healthcare-card__medication-name",children:e.medication}),n.jsxs("p",{className:"healthcare-card__dose",children:[e.dose," â€¢ ",e.frequency]})]}),n.jsxs("div",{className:"healthcare-card__badges",children:[n.jsx(qe,{color:"blue",className:"healthcare-card__route",children:e.route}),e.next_due&&n.jsxs(qe,{color:"red",className:"healthcare-card__warning",children:["Due: ",new Date(e.next_due).toLocaleTimeString("en-GB",{hour:"2-digit",minute:"2-digit"})]})]})]}),n.jsx("div",{className:"healthcare-card__body",children:n.jsxs("dl",{className:"healthcare-card__details",children:[n.jsxs("div",{className:"healthcare-card__detail",children:[n.jsx("dt",{children:"Patient"}),n.jsx("dd",{children:e.patient_name})]}),n.jsxs("div",{className:"healthcare-card__detail",children:[n.jsx("dt",{children:"Prescriber"}),n.jsx("dd",{children:e.prescriber})]}),e.allergies&&n.jsxs("div",{className:"healthcare-card__detail healthcare-card__detail--urgent",children:[n.jsx("dt",{children:"Allergies"}),n.jsx("dd",{children:e.allergies})]})]})}),n.jsxs("div",{className:"healthcare-card__actions",children:[n.jsx(He,{variant:"secondary",size:"small",onClick:()=>t?.("view",e),children:"View Details"}),n.jsx(He,{variant:"primary",size:"small",onClick:()=>t?.("edit",e),children:"Adjust Dose"})]})]}),Kr=({data:e,onSelect:t,onAction:r,priority:a="medium"})=>{const i=e.name,s=e.ews_score,l=e.ews_data?.respiratory_rate_bpm,c=e.ews_data?.sp02,u=e.ews_data?.temperature,d=e.ews_data?.systolic_bp,h=e.ews_data?.heart_rate,g=e.ews_data?.avpu;return n.jsxs("div",{className:`healthcare-card healthcare-card--vitals healthcare-card--${a}`,onClick:()=>t?.(e),role:"button",tabIndex:0,"aria-label":`Vital signs for ${i}, EWS Score ${s}`,children:[n.jsxs("div",{className:"healthcare-card__header",children:[n.jsxs("div",{className:"healthcare-card__vitals-summary",children:[n.jsx("h3",{className:"healthcare-card__patient-name",children:i}),s!==void 0&&n.jsxs("p",{className:`healthcare-card__ews-score healthcare-card__ews-score--${Tf(s)}`,children:["EWS: ",s]})]}),n.jsx("div",{className:"healthcare-card__badges",children:g&&n.jsxs(qe,{color:"blue",className:"healthcare-card__avpu",children:["AVPU: ",g.toUpperCase()]})})]}),n.jsx("div",{className:"healthcare-card__body",children:n.jsxs("div",{className:"healthcare-card__vitals-grid",children:[l!==void 0&&n.jsxs("div",{className:"healthcare-card__vital",children:[n.jsx("span",{className:"healthcare-card__vital-label",children:"Respiratory Rate"}),n.jsxs("span",{className:"healthcare-card__vital-value",children:[l," bpm"]})]}),c!==void 0&&n.jsxs("div",{className:"healthcare-card__vital",children:[n.jsx("span",{className:"healthcare-card__vital-label",children:"SpO2"}),n.jsxs("span",{className:"healthcare-card__vital-value",children:[c,"%"]})]}),u!==void 0&&n.jsxs("div",{className:"healthcare-card__vital",children:[n.jsx("span",{className:"healthcare-card__vital-label",children:"Temperature"}),n.jsxs("span",{className:"healthcare-card__vital-value",children:[u,"Â°C"]})]}),d!==void 0&&n.jsxs("div",{className:"healthcare-card__vital",children:[n.jsx("span",{className:"healthcare-card__vital-label",children:"Systolic BP"}),n.jsx("span",{className:"healthcare-card__vital-value",children:d})]}),h!==void 0&&n.jsxs("div",{className:"healthcare-card__vital",children:[n.jsx("span",{className:"healthcare-card__vital-label",children:"Heart Rate"}),n.jsxs("span",{className:"healthcare-card__vital-value",children:[h," bpm"]})]})]})}),n.jsxs("div",{className:"healthcare-card__actions",children:[n.jsx(He,{variant:"secondary",className:"healthcare-card__action",onClick:b=>{b.stopPropagation(),r?.("view-trend",e)},children:"Trend"}),n.jsx(He,{variant:"primary",className:"healthcare-card__action healthcare-card__action--primary",onClick:b=>{b.stopPropagation(),r?.("record-new",e)},children:"Record New"})]})]})};function oo(e){const t=typeof e=="string"?parseInt(e,10):e;return t>=7?"critical":t>=5?"high":t>=3?"medium":"low"}function Tf(e){return oo(e)}function Df(e){switch(e){case"critical":return"red";case"high":return"orange";case"medium":return"yellow";case"low":return"grey";default:return"grey"}}function Bf(e){switch(e.toLowerCase()){case"active":return"blue";case"pending":return"orange";case"completed":return"green";case"cancelled":return"grey";default:return"blue"}}const Ff=[{fieldKey:"ews_score",render:e=>`EWS: ${e}`,className:"adaptive-card__ews-badge",color:"default"},{fieldKey:"priority",render:e=>e.charAt(0).toUpperCase()+e.slice(1),className:"adaptive-card__priority-badge"},{fieldKey:"status",render:e=>e.charAt(0).toUpperCase()+e.slice(1),className:"adaptive-card__status-badge"}],io=e=>e.ews_score&&Number(e.ews_score)>=7?"high":e.ews_score&&Number(e.ews_score)>=3?"medium":e.priority==="high"||e.status==="urgent"?"high":e.priority==="low"?"low":"medium",lo={name:"healthcare",defaultCardConfig:{primaryField:"name",secondaryFields:["nhs_number","ward","condition","consultant"],badges:Ff,hiddenFields:[],getPriority:io,getStatus:e=>{if(e.status){const t=e.status.toLowerCase();if(["active","pending","completed","cancelled","urgent"].includes(t))return t}return"active"},getVariant:e=>io(e)==="high"||e.status==="urgent"?"primary":"default",fieldRenderers:{nhs_number:e=>e?`NHS: ${e}`:"",ews_score:e=>{const t=Number(e),r=t>=7?"HIGH":t>=3?"MEDIUM":"LOW";return`EWS: ${e} (${r})`},age:(e,t)=>t.dob?`${new Date().getFullYear()-new Date(t.dob).getFullYear()}y`:e?`${e}y`:""},classPrefix:"adaptive-card--healthcare"},cssImport:"./HealthcareCardTemplates.scss",cardTemplates:{patient:(e,t,r)=>{const a=r.getPriority?.(e)||"medium",i=r.getStatus?.(e)||"active",s=i==="urgent"?"active":i;return n.jsx(Vr,{data:e,columns:t,priority:a,status:s,onSelect:l=>console.log("Patient selected:",l),onAction:(l,c)=>console.log("Patient action:",l,c)})},appointment:(e,t,r)=>{const a=r.getStatus?.(e)||"pending",i=a==="urgent"?"pending":a;return n.jsx(Yr,{data:e,columns:t,status:i,onSelect:s=>console.log("Appointment selected:",s),onAction:(s,l)=>console.log("Appointment action:",s,l)})},medication:(e,t,r)=>{const a=r.getPriority?.(e)||"medium";return n.jsx(qr,{data:e,columns:t,priority:a,onSelect:i=>console.log("Medication selected:",i),onAction:(i,s)=>console.log("Medication action:",i,s)})},vitals:(e,t,r)=>{const a=r.getPriority?.(e)||"medium";return n.jsx(Kr,{data:e,columns:t,priority:a,onSelect:i=>console.log("Vitals selected:",i),onAction:(i,s)=>console.log("Vitals action:",i,s)})}},fieldTypes:{isNHSNumber:e=>typeof e=="string"&&/^\d{3}\s?\d{3}\s?\d{4}$/.test(e.replace(/\s/g,"")),isEWSScore:e=>typeof e=="number"&&e>=0&&e<=20,isMedicalDate:e=>typeof e=="string"&&!isNaN(Date.parse(e))}};function co(e){return{primaryField:e?.primaryField||"name",secondaryFields:e?.secondaryFields||[],badges:e?.badgeFields?.map(t=>({fieldKey:t,className:"adaptive-card__badge"}))||[],hiddenFields:e?.hiddenFields||[],cardTemplate:e?.cardTemplate?(t,r,a)=>e.cardTemplate(t,r):void 0,classPrefix:"adaptive-card--generic"}}function uo(e){if(!e||e.length===0)return!1;const t=e[0];return t.ews_score!==void 0||t.nhs_number!==void 0||t.patient_name!==void 0||t.ward!==void 0||t.consultant!==void 0}function If(e,t){switch(t.type){case"SET_SELECTED_INDEX":return{...e,selectedIndex:t.payload};case"SET_TAB_LOADING":const r=[...e.tabLoadingStates];return r[t.payload.tabIndex]=t.payload.isLoading,{...e,tabLoadingStates:r};case"SET_TAB_ERROR":const a=[...e.tabErrors];return a[t.payload.tabIndex]=t.payload.error,{...e,tabErrors:a};case"SET_SORT":return{...e,sortConfig:t.payload};case"SET_SELECTED_ROWS":const i=[...e.selectedRows];return i[t.payload.tabIndex]=t.payload.rowIndices,{...e,selectedRows:i};case"SET_GLOBAL_SELECTED_ROW_DATA":return{...e,globalSelectedRowData:t.payload};case"SET_FILTERS":return{...e,filters:t.payload};case"ADJUST_ARRAYS":const{newLength:s}=t.payload,l=new Array(s).fill(!1),c=new Array(s).fill(null),u=new Array(s).fill([]);for(let d=0;d<Math.min(e.tabLoadingStates.length,s);d++)l[d]=e.tabLoadingStates[d],c[d]=e.tabErrors[d],u[d]=e.selectedRows[d];return{...e,tabLoadingStates:l,tabErrors:c,selectedRows:u};case"RESET_STATE":return{selectedIndex:0,tabLoadingStates:new Array(e.tabLoadingStates.length).fill(!1),tabErrors:new Array(e.tabErrors.length).fill(null),sortConfig:[],selectedRows:new Array(e.selectedRows.length).fill([]),globalSelectedRowData:null,filters:void 0};default:return e}}function Ef(e,t){const[r,a]=f.useState("cards");return f.useEffect(()=>{if(t){a(t);return}const i=()=>{const s=window.innerWidth;s<e.mobile?a("cards"):s<e.desktop?a("hybrid"):a("table")};return i(),window.addEventListener("resize",i),()=>window.removeEventListener("resize",i)},[e,t]),r}function Mf(e){return!e||typeof e!="object"?null:e.appointment_type||e.appointment_time||e.clinic?"appointment":e.medication_name||e.medication||e.dose||e.frequency?"medication":e.ews_score!==void 0||e.respiratory_rate!==void 0||e.spo2!==void 0||e.temperature!==void 0||e.systolic_bp!==void 0||e.heart_rate!==void 0?"vitals":e.name||e.patient_name||e.nhs_number||e.ward||e.bed?"patient":null}function Lf(e,t,r,a){const i=a?{...a.defaultCardConfig,...r}:{...Nf,...r};if(a&&a.cardTemplates){const s=Mf(e);if(s&&a.cardTemplates[s]){const l=a.cardTemplates[s](e,t,i);if(l)return{variant:"default",children:l}}}return i.cardTemplate&&i.cardTemplate(e,t,i),so(e,t,i)}const Zr=({breakpoints:e={mobile:768,tablet:1024,desktop:1200},forceLayout:t,cardConfig:r={},experimental:a={},enableAdvancedSorting:i=!1,topActions:s,bottomActions:l,gridActions:c,forceGridActionsAbove:u,tabPanels:d,dataConfig:h,selectedIndex:g,onTabChange:b,ariaLabel:p="Data grid",ariaDescription:S,orientation:y="horizontal",id:_,disabled:Y=!1,className:T,...I})=>{const w=Ef(e,t),z=g!==void 0,$=g??0,q=f.useMemo(()=>{if(d.some(j=>j.data&&j.data.length>0&&uo(j.data))){const j=co(r);return{...lo.defaultCardConfig,...j}}else return co(r)},[r,d]),H=f.useMemo(()=>d.some(j=>j.data&&j.data.length>0&&uo(j.data))?lo:void 0,[d]),E=f.useMemo(()=>({selectedIndex:$,tabLoadingStates:new Array(d.length).fill(!1),tabErrors:new Array(d.length).fill(null),sortConfig:[],selectedRows:new Array(d.length).fill([]),globalSelectedRowData:null,filters:void 0}),[$,d.length]),[v,M]=f.useReducer(If,E),J=f.useRef([]),de=f.useRef([]),X=f.useRef([]),k=f.useRef(null),[x,D]=f.useState({focusArea:"tabs",focusedTabIndex:0,focusedCardIndex:0,selectedCardIndex:-1,isGridActive:!1,focusedCardElementIndex:0,cardElements:[],isCardNavigationActive:!1,gridColumns:1,gridRows:1,cardSortConfig:null,focusedSortControlIndex:0,isSortControlsActive:!1}),he=f.useCallback(F=>{if(!F.current)return{columns:1,rows:0};const j=F.current,O=j.querySelectorAll(".aria-tabs-datagrid-adaptive__card-wrapper");if(O.length===0)return{columns:1,rows:0};const P=j.offsetWidth,C=O[0].offsetWidth,U=Math.floor(P/C)||1,V=Math.ceil(O.length/U);return{columns:U,rows:V}},[]),R=f.useCallback((F,j)=>({row:Math.floor(F/j),col:F%j}),[]),N=f.useCallback((F,j,O)=>F*O+j,[]),ne=f.useCallback((F,j,O,P)=>{const{row:m,col:C}=R(F,P);let U=m,V=C;switch(j){case"up":U=Math.max(0,m-1);break;case"down":U=Math.min(Math.floor((O-1)/P),m+1);break;case"left":V=Math.max(0,C-1);break;case"right":V=Math.min(P-1,C+1);break}const B=N(U,V,P);return Math.min(B,O-1)},[R,N]);f.useEffect(()=>{x.isCardNavigationActive&&x.focusedCardElementIndex>=0&&x.cardElements.length>0&&setTimeout(()=>{const F=x.cardElements[x.focusedCardElementIndex];F&&(F.element.focus(),F.element.scrollIntoView({block:"nearest",behavior:"smooth"}))},0)},[x.isCardNavigationActive,x.focusedCardElementIndex,x.cardElements.length]),f.useEffect(()=>{const F=()=>{if(w==="cards"&&k.current){const{columns:P,rows:m}=he(k);D(C=>({...C,gridColumns:P,gridRows:m}))}},j=setTimeout(F,200),O=()=>{setTimeout(F,100)};return window.addEventListener("resize",O),()=>{clearTimeout(j),window.removeEventListener("resize",O)}},[w,d,he]),f.useEffect(()=>{const F=v.tabLoadingStates.length,j=d.length;F!==j&&M({type:"ADJUST_ARRAYS",payload:{newLength:j}})},[d.length,v.tabLoadingStates.length]),f.useEffect(()=>{z&&g!==v.selectedIndex&&M({type:"SET_SELECTED_INDEX",payload:g})},[z,g,v.selectedIndex]);const A=f.useCallback(F=>{F>=0&&F<d.length&&!d[F].disabled&&(M({type:"SET_SELECTED_INDEX",payload:F}),b?.(F))},[d,b]),te=f.useCallback(F=>{console.log("Card selected:",F),M({type:"SET_GLOBAL_SELECTED_ROW_DATA",payload:F})},[]),L=f.useCallback(F=>{const j=de.current[F];j&&(j.focus(),j.scrollIntoView({block:"nearest",behavior:"smooth"}))},[]),oe=f.useCallback(F=>{const j=de.current[F];if(!j)return[];const O=['button:not([disabled]):not([aria-hidden="true"])','a[href]:not([disabled]):not([aria-hidden="true"])','input:not([disabled]):not([aria-hidden="true"])','select:not([disabled]):not([aria-hidden="true"])','textarea:not([disabled]):not([aria-hidden="true"])','[tabindex]:not([tabindex="-1"]):not([disabled]):not([aria-hidden="true"])','.healthcare-card__detail[tabindex]:not([tabindex="-1"])',".healthcare-card__action:not([disabled])",".tag:not([disabled])"].join(", "),P=j.querySelectorAll(O);return Array.from(P).map((m,C)=>({id:m.id||`card-${F}-element-${C}`,element:m,label:m.getAttribute("aria-label")||m.textContent?.trim()||m.getAttribute("title")||`Element ${C+1}`,type:m.tagName.toLowerCase()==="button"?"button":m.tagName.toLowerCase()==="a"?"link":["input","select","textarea"].includes(m.tagName.toLowerCase())?"input":"generic"}))},[]),Ce=f.useRef(null),ie=f.useCallback(F=>{const j=Ce.current;if(!j)return;const O=document.createElement("div");O.setAttribute("aria-live","polite"),O.setAttribute("aria-atomic","true"),O.className="sr-only",O.textContent=F,j.appendChild(O),setTimeout(()=>{j.contains(O)&&j.removeChild(O)},1e3)},[]),ee=f.useCallback(F=>{const j=F.filter(P=>P.sortable!==!1),O=[{value:"",label:"Sort by..."}];return j.forEach(P=>{const m=P.label||P.key;P.key==="name"?O.push({value:`${P.key}-asc`,label:`${m} (A-Z)`},{value:`${P.key}-desc`,label:`${m} (Z-A)`}):P.key==="ews_score"||P.key.includes("score")?O.push({value:`${P.key}-desc`,label:`${m} (High-Low)`},{value:`${P.key}-asc`,label:`${m} (Low-High)`}):P.key==="age"||P.key.includes("date")||P.key.includes("time")?O.push({value:`${P.key}-desc`,label:`${m} (Oldest-Youngest)`},{value:`${P.key}-asc`,label:`${m} (Youngest-Oldest)`}):O.push({value:`${P.key}-asc`,label:`${m} (A-Z)`},{value:`${P.key}-desc`,label:`${m} (Z-A)`})}),O},[]),K=f.useCallback((F,j)=>j?[...F].sort((O,P)=>{const m=O[j.key],C=P[j.key];if(m==null&&C==null)return 0;if(m==null)return 1;if(C==null)return-1;const U=Number(m),V=Number(C);if(!isNaN(U)&&!isNaN(V))return j.direction==="asc"?U-V:V-U;const B=String(m).toLowerCase(),G=String(C).toLowerCase(),xe=B.localeCompare(G);return j.direction==="asc"?xe:-xe}):F,[]),ae=f.useCallback(F=>{if(!F){D(B=>({...B,cardSortConfig:null})),ie("Card sorting cleared");return}const[j,O]=F.split("-"),P={key:j,direction:O};D(B=>({...B,cardSortConfig:P}));const U=d[v.selectedIndex]?.columns.find(B=>B.key===j)?.label||j;ie(`Cards sorted by ${U} in ${O==="asc"?"ascending":"descending"} order`)},[d,v.selectedIndex,ie]),ge=f.useCallback(F=>{const P=d[v.selectedIndex]?.columns.find(C=>C.key===F.key)?.label||F.key,m=F.direction==="asc"?"ascending":"descending";return`${P} (${m})`},[d,v.selectedIndex]),W=f.useCallback(F=>{const j=d[v.selectedIndex];if(i){const O=v.sortConfig;return!O||O.length===0?F:[...F].sort((P,m)=>{for(const{key:C,direction:U}of O){let V=P[C],B=m[C];const G=j?.columns.find(Se=>Se.key===C);if(G?.cardRenderer?(V=G.cardRenderer(P),B=G.cardRenderer(m)):G?.render&&(V=G.render(P),B=G.render(m)),V==null&&B==null)continue;if(V==null)return U==="asc"?-1:1;if(B==null)return U==="asc"?1:-1;const xe=Number(V),fe=Number(B);if(!isNaN(xe)&&!isNaN(fe)){const Se=xe-fe;if(Se!==0)return U==="asc"?Se:-Se;continue}const ke=String(V).toLowerCase(),_e=String(B).toLowerCase(),re=ke.localeCompare(_e);if(re!==0)return U==="asc"?re:-re}return 0})}else return K(F,x.cardSortConfig)},[i,v.sortConfig,x.cardSortConfig,K,d,v.selectedIndex]),je=f.useCallback((F,j)=>{const O=oe(F),P=O[j];if(P){P.element.scrollIntoView({block:"nearest",behavior:"smooth"});const m=`Focused on ${P.label}, ${P.type} ${j+1} of ${O.length} within card`;ie(m)}},[oe,ie]),be=f.useCallback(F=>{J.current[F]?.focus()},[]),pe=f.useCallback(()=>{const F=X.current[0];if(!F)return[];const j=['select:not([disabled]):not([aria-hidden="true"])','button:not([disabled]):not([aria-hidden="true"])','input:not([disabled]):not([aria-hidden="true"])','[tabindex]:not([tabindex="-1"]):not([disabled]):not([aria-hidden="true"])'].join(", "),O=F.querySelectorAll(j);return Array.from(O)},[]),ue=f.useCallback(F=>{if(F===0){const j=X.current[0],O=j?.querySelector(".sort-controls-row");if(O){O.setAttribute("tabindex","-1"),O.focus();const m=`Sort controls group with ${pe().length} interactive elements. Press Enter or Space to begin navigating controls.`;ie(m)}else j&&j.focus()}else{const j=pe(),O=F-1,P=j[O];if(P){P.focus();const m=P.tagName.toLowerCase()==="select",C=P.tagName.toLowerCase()==="button",U=m?"dropdown":C?"button":"control",V=m?". Use Space key to open dropdown":"",B=`${U} ${O+1} of ${j.length}${V}`;ie(B)}}},[pe,ie]),ye=f.useCallback((F,j)=>{const{key:O}=F,P=d[v.selectedIndex],m=P?.data.length||0;if(O==="ArrowLeft"&&F.shiftKey){F.preventDefault(),F.currentTarget.scrollBy({left:-30,behavior:"smooth"});return}else if(O==="ArrowRight"&&F.shiftKey){F.preventDefault(),F.currentTarget.scrollBy({left:30,behavior:"smooth"});return}if(!x.isCardNavigationActive){switch(O){case"ArrowUp":if(F.preventDefault(),j===0)D(B=>({...B,focusArea:"sort-controls",focusedSortControlIndex:0,isSortControlsActive:!1})),ue(0);else{const B=ne(j,"up",m,x.gridColumns);B!==j&&(D(G=>({...G,focusedCardIndex:B})),L(B),ie(`Moved to card ${B+1} of ${m}`))}break;case"ArrowDown":F.preventDefault();const C=ne(j,"down",m,x.gridColumns);C!==j&&(D(B=>({...B,focusedCardIndex:C})),L(C),ie(`Moved to card ${C+1} of ${m}`));break;case"ArrowLeft":F.preventDefault();const U=ne(j,"left",m,x.gridColumns);U!==j?(D(B=>({...B,focusedCardIndex:U})),L(U),ie(`Moved to card ${U+1} of ${m}`)):v.selectedIndex>0&&(M({type:"SET_SELECTED_INDEX",payload:v.selectedIndex-1}),D(B=>({...B,focusArea:"tabs"})),setTimeout(()=>be(v.selectedIndex-1),0));break;case"ArrowRight":F.preventDefault();const V=ne(j,"right",m,x.gridColumns);V!==j?(D(B=>({...B,focusedCardIndex:V})),L(V),ie(`Moved to card ${V+1} of ${m}`)):v.selectedIndex<d.length-1&&(M({type:"SET_SELECTED_INDEX",payload:v.selectedIndex+1}),D(B=>({...B,focusArea:"tabs"})),setTimeout(()=>be(v.selectedIndex+1),0));break;case"Enter":if(P?.data[j]){F.preventDefault(),D(G=>({...G,selectedCardIndex:j}));const B=oe(j);B.length>0?(D(G=>({...G,focusArea:"card",isCardNavigationActive:!0,focusedCardElementIndex:0,cardElements:B,selectedCardIndex:j})),ie(`Card ${j+1} selected and navigation activated. ${B.length} interactive elements available. Use arrow keys to navigate, Enter to activate, Escape to exit.`)):ie(`Card ${j+1} selected.`)}break;case" ":if(P?.data[j]){F.preventDefault(),D(G=>({...G,selectedCardIndex:G.selectedCardIndex===j?-1:j}));const B=x.selectedCardIndex===j;ie(`Card ${j+1} ${B?"deselected":"selected"}.`)}break}return}switch(O){case"ArrowUp":case"ArrowLeft":F.preventDefault();const C=Math.max(0,x.focusedCardElementIndex-1);D(G=>({...G,focusedCardElementIndex:C})),je(j,C);break;case"ArrowDown":case"ArrowRight":F.preventDefault();const U=Math.min(x.cardElements.length-1,x.focusedCardElementIndex+1);D(G=>({...G,focusedCardElementIndex:U})),je(j,U);break;case"Enter":F.preventDefault();const V=x.cardElements[x.focusedCardElementIndex];V&&(V.element.click(),ie(`Activated ${V.label}`));break;case" ":F.preventDefault();const B=x.cardElements[x.focusedCardElementIndex];if(B){const G=new MouseEvent("dblclick",{bubbles:!0});B.element.dispatchEvent(G),ie(`Double-clicked ${B.label}`)}break;case"Escape":F.preventDefault(),D(G=>({...G,focusArea:"cards",isCardNavigationActive:!1,focusedCardElementIndex:0,cardElements:[]})),setTimeout(()=>L(j),0),ie("Exited card navigation, returned to card level");break;case"Home":F.preventDefault(),x.cardElements.length>0&&(D(G=>({...G,focusedCardElementIndex:0})),je(j,0));break;case"End":if(F.preventDefault(),x.cardElements.length>0){const G=x.cardElements.length-1;D(xe=>({...xe,focusedCardElementIndex:G})),je(j,G)}break}},[x,v.selectedIndex,d,te,L,be,D,oe,je,ie]),Ue=f.useCallback(F=>{const j=J.current[F],O=j?.parentElement;if(!j||!O){console.log("Tab or container not found for mobile scroll");return}const P=j.getBoundingClientRect(),m=O.getBoundingClientRect();P.left>=m.left&&P.right<=m.right||(console.log("Tab not visible, scrolling into view (mobile)"),j.scrollIntoView({behavior:"smooth",block:"nearest",inline:"center"}))},[]),Ee=f.useCallback((F,j)=>{if(w!=="cards")return;const{key:O}=F;switch(O){case"ArrowLeft":F.preventDefault();const P=j>0?j-1:d.length-1;A(P),D(V=>({...V,focusedTabIndex:P})),J.current[P]?.focus(),Ue(P);break;case"ArrowRight":F.preventDefault();const m=j<d.length-1?j+1:0;A(m),D(V=>({...V,focusedTabIndex:m})),J.current[m]?.focus(),Ue(m);break;case"ArrowDown":F.preventDefault();const C=d[v.selectedIndex];C&&C.columns&&C.columns.length>0?(D(V=>({...V,focusArea:"sort-controls",focusedSortControlIndex:0})),ue(0)):(D(V=>({...V,focusArea:"cards",focusedCardIndex:0})),L(0));break;case"Home":F.preventDefault(),A(0),D(V=>({...V,focusedTabIndex:0})),J.current[0]?.focus(),Ue(0);break;case"End":F.preventDefault();const U=d.length-1;A(U),D(V=>({...V,focusedTabIndex:U})),J.current[U]?.focus(),Ue(U);break;case"Enter":case" ":F.preventDefault(),A(j);break}},[d.length,A,w,L,D,Ue]),Ne=f.useCallback((F,j)=>{if(w!=="cards")return;const{key:O}=F,P=d[v.selectedIndex];if(j===0&&!x.isSortControlsActive){switch(O){case"ArrowUp":F.preventDefault(),D(C=>({...C,focusArea:"tabs",isSortControlsActive:!1})),be(v.selectedIndex);break;case"ArrowDown":F.preventDefault(),P?.data&&P.data.length>0&&(D(C=>({...C,focusArea:"cards",focusedCardIndex:0,isSortControlsActive:!1})),L(0));break;case"Enter":case" ":F.preventDefault();const m=pe();if(m.length>0){D(U=>({...U,isSortControlsActive:!0,focusedSortControlIndex:1})),ue(1);const C=`Entered sort controls navigation mode. ${m.length} controls available. Use arrow keys to navigate between controls.`;ie(C)}break;case"Escape":F.preventDefault(),D(C=>({...C,isSortControlsActive:!1,focusArea:"tabs"})),be(v.selectedIndex);break}return}if(x.isSortControlsActive){const C=pe().length;switch(O){case"ArrowLeft":F.preventDefault();const U=x.focusedSortControlIndex>1?x.focusedSortControlIndex-1:C;D(B=>({...B,focusedSortControlIndex:U})),ue(U);break;case"ArrowRight":F.preventDefault();const V=x.focusedSortControlIndex<C?x.focusedSortControlIndex+1:1;D(B=>({...B,focusedSortControlIndex:V})),ue(V);break;case"ArrowDown":if(F.preventDefault(),x.isSortControlsActive){const B=x.focusedSortControlIndex<C?x.focusedSortControlIndex+1:1;D(G=>({...G,focusedSortControlIndex:B})),ue(B)}else P?.data&&P.data.length>0&&(D(B=>({...B,focusArea:"cards",focusedCardIndex:0,isSortControlsActive:!1})),L(0));break;case"ArrowUp":F.preventDefault(),D(B=>({...B,isSortControlsActive:!1,focusArea:"sort-controls"})),ue(0);break;case"Escape":F.preventDefault(),D(B=>({...B,isSortControlsActive:!1,focusArea:"sort-controls",focusedSortControlIndex:0})),ue(0);break}}},[w,d,v.selectedIndex,x.isSortControlsActive,x.focusedSortControlIndex,ue,be,L,D,ie]);if(w==="cards"){const F=d[v.selectedIndex];return n.jsxs("div",{className:`aria-tabs-datagrid-adaptive aria-tabs-datagrid-adaptive--cards ${T||""}`,children:[n.jsxs("div",{className:"aria-tabs-datagrid-adaptive__header",children:[n.jsx("div",{role:"tablist","aria-label":p,"aria-describedby":`${S||""} ${_?`${_}-navigation-help`:""}`.trim(),"aria-orientation":y,className:"aria-tabs-datagrid__tabs",children:d.map((j,O)=>{const P=O===v.selectedIndex,m=j.disabled||Y;return n.jsxs("button",{role:"tab",id:`tab-${j.id}`,"aria-controls":`panel-${j.id}`,"aria-selected":P,"aria-disabled":m,tabIndex:P?0:-1,ref:C=>{J.current[O]=C},onClick:()=>A(O),onKeyDown:C=>Ee(C,O),disabled:m,className:["aria-tabs-datagrid__tab",P?"aria-tabs-datagrid__tab--selected":"",m?"aria-tabs-datagrid__tab--disabled":""].filter(Boolean).join(" "),children:[n.jsx("span",{className:"aria-tabs-datagrid__tab-label",children:j.label}),v.tabLoadingStates[O]&&n.jsx("span",{className:"aria-tabs-datagrid__tab-loading","aria-hidden":"true",children:"â³"}),v.tabErrors[O]&&n.jsx("span",{className:"aria-tabs-datagrid__tab-error","aria-hidden":"true",children:"âš ï¸"})]},j.id)})}),s&&n.jsx("div",{className:"aria-tabs-datagrid-adaptive__top-actions",children:s})]}),F&&F.columns&&n.jsx(n.Fragment,{children:i?n.jsx(ro,{sortConfig:v.sortConfig||[],columns:F.columns.map(j=>({key:j.key,label:j.label})),onSortChange:j=>{M({type:"SET_SORT",payload:j})},ariaLabel:"Card view sort configuration",className:"aria-tabs-datagrid-adaptive__advanced-sort-controls"}):n.jsx("div",{className:"aria-tabs-datagrid-adaptive__sort-controls",role:"region","aria-label":"Sort controls",tabIndex:x.focusArea==="sort-controls"?0:-1,ref:j=>{X.current[0]=j},onKeyDown:j=>Ne(j,0),children:n.jsxs("div",{className:"sort-controls-row",children:[n.jsxs("div",{className:"sort-select-container",children:[n.jsx("label",{htmlFor:`card-sort-${F.id}`,className:"sort-label",children:"Sort cards by"}),n.jsx(Ht,{id:`card-sort-${F.id}`,name:`card-sort-${F.id}`,value:x.cardSortConfig?`${x.cardSortConfig.key}-${x.cardSortConfig.direction}`:"",onChange:j=>ae(j.target.value),className:"sort-select",children:ee(F.columns).map(j=>n.jsx("option",{value:j.value,children:j.label},j.value))})]}),x.cardSortConfig&&n.jsxs("div",{className:"sort-indicator",role:"status","aria-live":"polite",children:[n.jsxs("span",{className:"sort-indicator-text",children:["Sorted by ",ge(x.cardSortConfig)]}),n.jsx(He,{variant:"secondary",size:"small",onClick:()=>ae(""),"aria-label":"Clear card sorting",className:"sort-clear-button",children:"Clear"})]})]})})}),n.jsx("div",{ref:k,className:"aria-tabs-datagrid-adaptive__cards",role:"grid","aria-label":`${F?.label||"Data"} cards in ${x.gridRows} rows and ${x.gridColumns} columns`,"aria-rowcount":x.gridRows,"aria-colcount":x.gridColumns,id:`panel-${F?.id}`,"aria-labelledby":`tab-${F?.id}`,children:W(F?.data||[]).map((j,O)=>{const P=x.selectedCardIndex===O,m=x.focusedCardIndex===O&&x.focusArea==="cards",C=x.focusedCardIndex===O&&x.focusArea==="card"&&x.isCardNavigationActive,U=O===0&&x.focusArea!=="cards",V=m||U,B=R(O,x.gridColumns);if(r.cardTemplate){const fe=r.cardTemplate(j,F.columns);return n.jsx("div",{role:"row","aria-rowindex":B.row+1,className:"aria-tabs-datagrid-adaptive__row",children:n.jsx("div",{ref:ke=>{de.current[O]=ke},className:["aria-tabs-datagrid-adaptive__card-wrapper",P?"aria-tabs-datagrid-adaptive__card-wrapper--selected":"",m?"aria-tabs-datagrid-adaptive__card-wrapper--focused":"",C?"aria-tabs-datagrid-adaptive__card-wrapper--card-navigation":""].filter(Boolean).join(" "),role:"gridcell","aria-colindex":B.col+1,"aria-selected":P,"aria-expanded":C,"aria-description":C?`Card navigation active. ${x.cardElements.length} interactive elements available.`:void 0,tabIndex:V?0:-1,onClick:()=>{D(ke=>({...ke,selectedCardIndex:ke.selectedCardIndex===O?-1:O})),te(j)},onKeyDown:ke=>ye(ke,O),onFocus:()=>{D(ke=>ke.focusedCardIndex!==O||ke.focusArea!=="cards"?{...ke,focusedCardIndex:O,focusArea:"cards"}:ke)},children:fe})},`card-${O}`)}const G=Lf(j,F.columns,q,H),xe=[G.className||"",P?"aria-tabs-datagrid-adaptive__card--selected":"",m?"aria-tabs-datagrid-adaptive__card--focused":"",C?"aria-tabs-datagrid-adaptive__card--card-navigation":""].filter(Boolean).join(" ");return n.jsx("div",{role:"row","aria-rowindex":B.row+1,className:"aria-tabs-datagrid-adaptive__row",children:n.jsx("div",{className:["aria-tabs-datagrid-adaptive__card-wrapper",P?"aria-tabs-datagrid-adaptive__card-wrapper--selected":"",m?"aria-tabs-datagrid-adaptive__card-wrapper--focused":"",C?"aria-tabs-datagrid-adaptive__card-wrapper--card-navigation":""].filter(Boolean).join(" "),role:"gridcell","aria-colindex":B.col+1,"aria-selected":P,"aria-expanded":C,onKeyDown:fe=>{fe.key==="Enter"&&(fe.preventDefault(),D(ke=>({...ke,selectedCardIndex:O}))),ye(fe,O)},children:n.jsx(Or,{...G,ref:fe=>{de.current[O]=fe},className:xe,"aria-label":`${G["aria-label"]||G.heading}. ${C?`Card navigation active with ${x.cardElements.length} interactive elements. Use arrow keys to navigate, Enter to activate, Escape to exit.`:"Press Enter to navigate within card elements."}`,tabIndex:V?0:-1,onClick:()=>{D(fe=>({...fe,selectedCardIndex:fe.selectedCardIndex===O?-1:O})),te(j)},onKeyDown:fe=>ye(fe,O),onFocus:()=>{x.isCardNavigationActive||D(fe=>fe.focusedCardIndex!==O||fe.focusArea!=="cards"?{...fe,focusedCardIndex:O,focusArea:"cards",focusedCardElementIndex:0,cardElements:[]}:fe)}})})},`card-${O}`)})}),l&&n.jsx("div",{className:"aria-tabs-datagrid-adaptive__bottom-actions",children:l}),n.jsx("div",{ref:Ce,className:"aria-tabs-datagrid-adaptive__announcements","aria-hidden":"true",style:{position:"fixed",top:"-1px",left:"-1px",width:"1px",height:"1px",overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",border:0,padding:0,margin:0}})]})}return w==="hybrid"?n.jsxs("div",{className:`aria-tabs-datagrid-adaptive aria-tabs-datagrid-adaptive--hybrid ${T||""}`,children:[s&&n.jsx("div",{className:"aria-tabs-datagrid-adaptive__top-actions aria-tabs-datagrid-adaptive__top-actions--above-table",children:s}),n.jsx(Wn,{tabPanels:d,dataConfig:h,ariaLabel:p,ariaDescription:S,orientation:y,id:_,disabled:Y,selectedIndex:g,onTabChange:b,className:"aria-tabs-datagrid-adaptive__table--hybrid",actions:c,forceActionsAbove:u,...I}),l&&n.jsx("div",{className:"aria-tabs-datagrid-adaptive__bottom-actions",children:l})]}):n.jsxs("div",{className:`aria-tabs-datagrid-adaptive aria-tabs-datagrid-adaptive--table ${T||""}`,children:[s&&n.jsx("div",{className:"aria-tabs-datagrid-adaptive__top-actions aria-tabs-datagrid-adaptive__top-actions--above-table",children:s}),n.jsx(Wn,{tabPanels:d,dataConfig:h,ariaLabel:p,ariaDescription:S,orientation:y,id:_,disabled:Y,selectedIndex:g,onTabChange:b,actions:c,forceActionsAbove:u,...I}),l&&n.jsx("div",{className:"aria-tabs-datagrid-adaptive__bottom-actions",children:l})]})},ho=e=>{const t=Gr.find(r=>r.value===e);return t?t.icon:null},Af={ecommerce:{name:"E-commerce",description:"Product catalogs with pricing, inventory, and ratings",dataConfig:{dataComparator:(e,t)=>e.id===t.id,filterFunction:(e,t)=>t?e.filter(r=>{if(t.priceRange){const[a,i]=t.priceRange,s=r.discountedPrice||r.price;if(s<a||s>i)return!1}return!(t.categories&&t.categories.length>0&&!t.categories.includes(r.category)||t.inStock!==void 0&&r.inStock!==t.inStock||t.minRating!==void 0&&r.rating<t.minRating||t.tags&&t.tags.length>0&&!t.tags.some(a=>r.tags.includes(a)))}):e,booleanRenderer:e=>ho(e),getDataId:e=>`ecommerce-${e.id}`},createTabs:e=>Un(e,[{id:"all-products",label:"All Products",columns:[{key:"name",label:"Product Name"},{key:"price",label:"Price",render:r=>r.discountedPrice?`$${r.price.toFixed(2)} â†’ $${r.discountedPrice.toFixed(2)}`:`$${r.price.toFixed(2)}`},{key:"inStock",label:"Availability"},{key:"category",label:"Category"},{key:"rating",label:"Rating",render:r=>`${r.rating}/5 (${r.reviews} reviews)`}],ariaLabel:"All Products Grid",ariaDescription:"Complete product catalog with pricing and availability"},{id:"on-sale",label:"On Sale",columns:[{key:"name",label:"Product Name"},{key:"price",label:"Original Price",render:r=>`$${r.price.toFixed(2)}`},{key:"discountedPrice",label:"Sale Price",render:r=>`$${r.discountedPrice?.toFixed(2)||"N/A"}`},{key:"discount",label:"Discount",render:r=>r.discountedPrice?`${((r.price-r.discountedPrice)/r.price*100).toFixed(0)}% OFF`:"N/A"}],filter:r=>r.filter(a=>a.discountedPrice!==void 0),ariaLabel:"Sale Products Grid",ariaDescription:"Products currently on sale with discounted pricing"},{id:"high-rated",label:"Top Rated",columns:[{key:"name",label:"Product Name"},{key:"rating",label:"Rating"},{key:"reviews",label:"Reviews"},{key:"category",label:"Category"}],filter:r=>r.filter(a=>a.rating>=4),sortConfig:[{key:"rating",direction:"desc"}],ariaLabel:"Top Rated Products Grid",ariaDescription:"Highest rated products with 4+ star ratings"}])},financial:{name:"Financial",description:"Transaction data with amounts, categories, and statuses",dataConfig:{dataComparator:(e,t)=>e.id===t.id,filterFunction:(e,t)=>t?e.filter(r=>{if(t.dateRange){const[a,i]=t.dateRange;if(r.date<a||r.date>i)return!1}if(t.amountRange){const[a,i]=t.amountRange;if(Math.abs(r.amount)<a||Math.abs(r.amount)>i)return!1}return!(t.types&&t.types.length>0&&!t.types.includes(r.type)||t.categories&&t.categories.length>0&&!t.categories.includes(r.category)||t.pending!==void 0&&r.pending!==t.pending)}):e,booleanRenderer:e=>ho(e),getDataId:e=>`financial-${e.id}`},createTabs:e=>Un(e,[{id:"all-transactions",label:"All Transactions",columns:[{key:"date",label:"Date",render:r=>r.date.toLocaleDateString()},{key:"description",label:"Description"},{key:"amount",label:"Amount",render:r=>`${r.type==="credit"?"+":"-"}$${Math.abs(r.amount).toFixed(2)}`},{key:"category",label:"Category"},{key:"pending",label:"Status"}],sortConfig:[{key:"date",direction:"desc"}],ariaLabel:"All Transactions Grid",ariaDescription:"Complete transaction history with amounts and categories"},{id:"credits",label:"Credits",columns:[{key:"date",label:"Date",render:r=>r.date.toLocaleDateString()},{key:"description",label:"Description"},{key:"amount",label:"Amount",render:r=>`+$${r.amount.toFixed(2)}`},{key:"category",label:"Category"}],filter:r=>r.filter(a=>a.type==="credit"),ariaLabel:"Credit Transactions Grid",ariaDescription:"Incoming payments and credits only"},{id:"debits",label:"Debits",columns:[{key:"date",label:"Date",render:r=>r.date.toLocaleDateString()},{key:"description",label:"Description"},{key:"amount",label:"Amount",render:r=>`-$${Math.abs(r.amount).toFixed(2)}`},{key:"category",label:"Category"}],filter:r=>r.filter(a=>a.type==="debit"),ariaLabel:"Debit Transactions Grid",ariaDescription:"Outgoing payments and charges only"},{id:"pending",label:"Pending",columns:[{key:"date",label:"Date",render:r=>r.date.toLocaleDateString()},{key:"description",label:"Description"},{key:"amount",label:"Amount",render:r=>`${r.type==="credit"?"+":"-"}$${Math.abs(r.amount).toFixed(2)}`},{key:"type",label:"Type"}],filter:r=>r.filter(a=>a.pending),ariaLabel:"Pending Transactions Grid",ariaDescription:"Transactions awaiting processing"}])}},fo=(e,t)=>{const r=Af[e];return{dataConfig:r.dataConfig,tabPanels:r.createTabs(t)}},mo=[{name:"Sarah Johnson",age:34,ews_data:{respiratory_rate_bpm:16,sp02:98,temperature:36.8,systolic_bp:140,heart_rate:82,avpu:"alert"},ews_score:3,ward_name:"Cardiology",room_name:"Room A",bed_name:"A-1",bed_type:"bed",admin_note:"Hypertension monitoring",pathway:"Standard",speciality:"Cardiology",consultant:"Dr. Smith",local_authority:"NHS Trust",early_discharge_notification:"not_required",needs_based_assessment:!1,medically_optimised:!0,criteria_to_reside:!0,date_medically_optimised:"2024-01-15",anticipated_discharge_date:"2024-01-18",dru_suitability:!1,optica_planned_discharge_date:"2024-01-18",optica_date_confirmed:"2024-01-16",dsum:null,medications_tta:"None required",transport_booking:!1,transport_status:"Pending",transport_date:"",transport_mobility:"Independent",fast_track:!1,initial_therapy_contact:"",equipment:"None",district_nurse_referral:!1},{name:"Michael Chen",age:67,ews_data:{respiratory_rate_bpm:20,sp02:94,temperature:37.2,systolic_bp:160,heart_rate:95,avpu:"alert"},ews_score:7,ward_name:"Surgery",room_name:"Room B",bed_name:"B-3",bed_type:"bed",admin_note:"Post-operative monitoring",pathway:"Surgical",speciality:"General Surgery",consultant:"Dr. Johnson",local_authority:"NHS Trust",early_discharge_notification:"due",needs_based_assessment:!0,medically_optimised:!1,criteria_to_reside:!0,date_medically_optimised:"2024-01-17",anticipated_discharge_date:"2024-01-20",dru_suitability:!0,optica_planned_discharge_date:"2024-01-20",optica_date_confirmed:"2024-01-16",dsum:"Complex discharge",medications_tta:"Pain management",transport_booking:!0,transport_status:"In Progress",transport_date:"2024-01-20",transport_mobility:"Wheelchair",fast_track:!1,initial_therapy_contact:"2024-01-17",equipment:"Walking frame",district_nurse_referral:!0},{name:"Emma Thompson",age:28,ews_data:{respiratory_rate_bpm:24,sp02:90,temperature:38.5,systolic_bp:110,heart_rate:105,avpu:"alert"},ews_score:5,ward_name:"Respiratory",room_name:"Room C",bed_name:"C-2",bed_type:"bed",admin_note:"Pneumonia treatment",pathway:"Respiratory",speciality:"Respiratory Medicine",consultant:"Dr. Williams",local_authority:"NHS Trust",early_discharge_notification:"overdue",needs_based_assessment:!0,medically_optimised:!1,criteria_to_reside:!1,date_medically_optimised:"",anticipated_discharge_date:"2024-01-22",dru_suitability:!1,optica_planned_discharge_date:"2024-01-22",optica_date_confirmed:"",dsum:null,medications_tta:"Antibiotics",transport_booking:!1,transport_status:"Pending",transport_date:"",transport_mobility:"Independent",fast_track:!0,initial_therapy_contact:"",equipment:"Oxygen",district_nurse_referral:!1}],$f=[{id:"appt-001",appointment_time:"2024-01-18T09:00:00Z",patient_name:"Sarah Johnson",appointment_type:"Cardiology Consultation",consultant:"Dr. Smith",location:"Clinic Room 3",duration:30,status:"pending"},{id:"appt-002",appointment_time:"2024-01-18T10:30:00Z",patient_name:"Michael Davis",appointment_type:"Post-op Follow-up",consultant:"Dr. Johnson",location:"Surgery Ward",duration:15,status:"active"},{id:"appt-003",appointment_time:"2024-01-18T14:00:00Z",patient_name:"Emma Thompson",appointment_type:"Respiratory Assessment",consultant:"Dr. Wilson",location:"Emergency Department",duration:45,status:"pending"}],Pf=[{id:"med-001",medication:"Amlodipine",dose:"5mg",frequency:"Once daily",route:"Oral",next_due:"2024-01-18T08:00:00Z",prescriber:"Dr. Smith",patient_name:"Sarah Johnson",allergies:null,priority:"medium"},{id:"med-002",medication:"Morphine",dose:"10mg",frequency:"Every 4 hours",route:"IV",next_due:"2024-01-18T10:00:00Z",prescriber:"Dr. Johnson",patient_name:"Michael Davis",allergies:"Codeine allergy",priority:"high"},{id:"med-003",medication:"Salbutamol",dose:"2 puffs",frequency:"As needed",route:"Inhaled",next_due:"2024-01-18T12:00:00Z",prescriber:"Dr. Wilson",patient_name:"Emma Thompson",allergies:null,priority:"high"}],Hf=[{id:"vitals-001",patient_name:"Sarah Johnson",recorded_time:"2024-01-18T07:30:00Z",temperature:36.8,blood_pressure:"140/90",heart_rate:82,respiratory_rate:16,oxygen_saturation:98,ews_score:3,priority:"medium"},{id:"vitals-002",patient_name:"Michael Davis",recorded_time:"2024-01-18T08:15:00Z",temperature:37.2,blood_pressure:"130/85",heart_rate:98,respiratory_rate:20,oxygen_saturation:95,ews_score:7,priority:"high"},{id:"vitals-003",patient_name:"Emma Thompson",recorded_time:"2024-01-18T09:00:00Z",temperature:38.5,blood_pressure:"110/70",heart_rate:105,respiratory_rate:24,oxygen_saturation:90,ews_score:9,priority:"high"}],go=[{id:"PROD001",name:"Wireless Headphones",price:199.99,discountedPrice:149.99,inStock:!0,category:"Electronics",rating:4.5,reviews:1247,tags:["wireless","bluetooth","premium"]},{id:"PROD002",name:"Running Shoes",price:129.99,inStock:!0,category:"Sports",rating:4.8,reviews:892,tags:["running","athletic","comfortable"]},{id:"PROD003",name:"Coffee Maker",price:89.99,discountedPrice:59.99,inStock:!1,category:"Kitchen",rating:4.2,reviews:456,tags:["kitchen","coffee","appliance"]},{id:"PROD004",name:"Smartphone Case",price:24.99,inStock:!0,category:"Accessories",rating:4,reviews:234,tags:["protection","mobile","durable"]}],po=[{id:"TXN001",date:new Date("2024-01-15"),amount:2500,type:"credit",category:"Salary",description:"Monthly salary payment",accountId:"ACC001",pending:!1,recurring:!0},{id:"TXN002",date:new Date("2024-01-14"),amount:89.5,type:"debit",category:"Groceries",description:"Supermarket shopping",accountId:"ACC001",pending:!1,recurring:!1},{id:"TXN003",date:new Date("2024-01-16"),amount:1200,type:"debit",category:"Rent",description:"Monthly rent payment",accountId:"ACC001",pending:!0,recurring:!0},{id:"TXN004",date:new Date("2024-01-13"),amount:150,type:"credit",category:"Refund",description:"Product return refund",accountId:"ACC001",pending:!1,recurring:!1}],bo=[{id:"LEAD001",companyName:"Tech Solutions Inc",contactPerson:"John Smith",email:"john@techsolutions.com",status:"qualified",value:5e4,lastContact:new Date("2024-01-15"),source:"Website",isHotLead:!0},{id:"LEAD002",companyName:"Global Industries",contactPerson:"Maria Garcia",email:"maria@globalind.com",status:"contacted",value:25e3,lastContact:new Date("2024-01-14"),source:"Referral",isHotLead:!1},{id:"LEAD003",companyName:"StartupXYZ",contactPerson:"Alex Johnson",email:"alex@startupxyz.com",status:"new",value:15e3,lastContact:new Date("2024-01-16"),source:"Cold Call",isHotLead:!0}],Rf={dataComparator:(e,t)=>e.id===t.id,filterFunction:(e,t)=>t?e.filter(r=>!(t.status&&!t.status.includes(r.status)||t.minValue&&r.value<t.minValue||t.hotLeadsOnly&&!r.isHotLead)):e,booleanRenderer:e=>n.jsx("span",{style:{color:e?"#dc2626":"#6b7280",fontWeight:e?"bold":"normal"},children:e?"ðŸ”¥ Hot Lead":"ðŸ“‹ Standard"}),getDataId:e=>`business-${e.id}`},zf=()=>[{id:"patients",label:"Patients",data:mo,columns:[{key:"name",label:"Patient Name"},{key:"age",label:"Age"},{key:"ward_name",label:"Ward"},{key:"ews_score",label:"EWS Score"}],ariaLabel:"Patient Records",ariaDescription:"Healthcare patient management with EWS monitoring",cardTemplate:(e,t)=>n.jsx(Vr,{data:e,columns:t,onSelect:r=>console.log("Selected patient:",r),onAction:(r,a)=>console.log("Patient action:",r,a),priority:e.ews_score>=7?"high":e.ews_score>=3?"medium":"low"})},{id:"appointments",label:"Appointments",data:$f,columns:[{key:"appointment_time",label:"Time"},{key:"patient_name",label:"Patient"},{key:"appointment_type",label:"Type"},{key:"consultant",label:"Consultant"}],ariaLabel:"Patient Appointments",ariaDescription:"Scheduled appointments and consultations",cardTemplate:(e,t)=>n.jsx(Yr,{data:e,columns:t,onSelect:r=>console.log("Selected appointment:",r),onAction:(r,a)=>console.log("Appointment action:",r,a),status:e.status})},{id:"medications",label:"Medications",data:Pf,columns:[{key:"medication",label:"Medication"},{key:"dose",label:"Dose"},{key:"frequency",label:"Frequency"},{key:"next_due",label:"Next Due"}],ariaLabel:"Patient Medications",ariaDescription:"Medication administration and scheduling",cardTemplate:(e,t)=>n.jsx(qr,{data:e,columns:t,onSelect:r=>console.log("Selected medication:",r),onAction:(r,a)=>console.log("Medication action:",r,a),priority:e.priority})},{id:"vitals",label:"Vital Signs",data:Hf,columns:[{key:"patient_name",label:"Patient"},{key:"recorded_time",label:"Time"},{key:"temperature",label:"Temperature"},{key:"ews_score",label:"EWS Score"}],ariaLabel:"Patient Vital Signs",ariaDescription:"Patient vital signs monitoring and EWS scores",cardTemplate:(e,t)=>n.jsx(Kr,{data:e,columns:t,onSelect:r=>console.log("Selected vitals:",r),onAction:(r,a)=>console.log("Vitals action:",r,a),priority:e.ews_score>=7?"high":e.ews_score>=3?"medium":"low"})}],Wf=()=>{const[e,t]=f.useState("healthcare"),r=f.useMemo(()=>({healthcare:{title:"Healthcare Workflow Management",description:"Comprehensive healthcare workflow with patient cards, appointments, medications, and vitals",dataConfig:ao,tabPanels:zf(),data:mo},ecommerce:{title:"E-commerce Product Catalog",description:"Product management with pricing and inventory",...fo("ecommerce",go),data:go},financial:{title:"Financial Transaction Dashboard",description:"Banking and financial data management",...fo("financial",po),data:po},business:{title:"Sales Lead Management",description:"Custom CRM configuration with business logic",dataConfig:Rf,tabPanels:Un(bo,[{id:"all-leads",label:"All Leads",columns:[{key:"companyName",label:"Company"},{key:"contactPerson",label:"Contact"},{key:"status",label:"Status"},{key:"value",label:"Value",render:i=>`$${i.value.toLocaleString()}`},{key:"isHotLead",label:"Priority"}],ariaLabel:"All Sales Leads Grid",ariaDescription:"Complete sales pipeline with lead information"},{id:"hot-leads",label:"Hot Leads",columns:[{key:"companyName",label:"Company"},{key:"contactPerson",label:"Contact"},{key:"value",label:"Value",render:i=>`$${i.value.toLocaleString()}`},{key:"lastContact",label:"Last Contact",render:i=>i.lastContact.toLocaleDateString()}],filter:i=>i.filter(s=>s.isHotLead),sortConfig:[{key:"value",direction:"desc"}],ariaLabel:"Hot Leads Grid",ariaDescription:"High-priority leads requiring immediate attention"},{id:"pipeline",label:"Active Pipeline",columns:[{key:"companyName",label:"Company"},{key:"status",label:"Status"},{key:"value",label:"Value",render:i=>`$${i.value.toLocaleString()}`},{key:"source",label:"Source"}],filter:i=>i.filter(s=>["contacted","qualified"].includes(s.status)),ariaLabel:"Active Pipeline Grid",ariaDescription:"Leads currently in the sales pipeline"}]),data:bo}}),[]),a=r[e];return n.jsxs("div",{style:{padding:"2rem",maxWidth:"1200px",margin:"0 auto"},children:[n.jsxs("div",{style:{marginBottom:"2rem"},children:[n.jsx("h1",{style:{fontSize:"2rem",fontWeight:"bold",marginBottom:"1rem",color:"#1f2937"},children:"AriaTabsDataGrid - Comprehensive Demo"}),n.jsx("p",{style:{fontSize:"1.1rem",color:"#6b7280",marginBottom:"2rem",lineHeight:"1.6"},children:"This demo showcases the component's versatility across different domains: healthcare, e-commerce, financial services, and custom business applications. Each configuration demonstrates domain-specific data operations, custom renderers, and specialized filtering logic."}),n.jsx("div",{style:{display:"flex",gap:"1rem",marginBottom:"2rem",flexWrap:"wrap"},children:Object.keys(r).map(i=>n.jsx(He,{variant:e===i?"primary":"secondary",onClick:()=>t(i),style:{textTransform:"capitalize"},children:i},i))}),n.jsxs("div",{style:{backgroundColor:"#f8fafc",border:"1px solid #e2e8f0",borderRadius:"0.5rem",padding:"1.5rem",marginBottom:"2rem"},children:[n.jsx("h2",{style:{fontSize:"1.5rem",fontWeight:"600",marginBottom:"0.5rem",color:"#1e293b"},children:a.title}),n.jsx("p",{style:{color:"#64748b",marginBottom:"1rem"},children:a.description}),n.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:"1rem",fontSize:"0.9rem"},children:[n.jsxs("div",{children:[n.jsx("strong",{children:"Data Records:"})," ",a.data.length]}),n.jsxs("div",{children:[n.jsx("strong",{children:"Tab Panels:"})," ",a.tabPanels.length]}),n.jsxs("div",{children:[n.jsx("strong",{children:"Features:"})," ",["Row Selection","Custom Filtering","Domain-Specific Renderers","Keyboard Navigation","ARIA Compliance"].join(", ")]})]})]})]}),n.jsx(Wn,{dataConfig:a.dataConfig,tabPanels:a.tabPanels,ariaLabel:`${a.title} Data Grid`,ariaDescription:`Interactive data grid for ${a.description.toLowerCase()}`}),n.jsxs("div",{style:{marginTop:"3rem",padding:"1.5rem",backgroundColor:"#f1f5f9",borderRadius:"0.5rem",border:"1px solid #cbd5e1"},children:[n.jsx("h3",{style:{fontSize:"1.25rem",fontWeight:"600",marginBottom:"1rem",color:"#334155"},children:"Implementation Details"}),n.jsxs("div",{style:{display:"grid",gap:"1rem",fontSize:"0.9rem"},children:[n.jsxs("div",{children:[n.jsx("strong",{children:"Current Mode:"})," ",e," configuration"]}),n.jsxs("div",{children:[n.jsx("strong",{children:"Data Operations:"})," Custom comparator, filter function, and boolean renderer"]}),n.jsxs("div",{children:[n.jsx("strong",{children:"Architecture:"})," Generic core with domain-specific plugins and factory helpers"]}),n.jsxs("div",{children:[n.jsx("strong",{children:"State Management:"})," Global row selection with data-object persistence"]}),n.jsxs("div",{children:[n.jsx("strong",{children:"Accessibility:"})," Full ARIA support with dynamic labels and descriptions"]})]})]})]})},Xr=e=>n.jsx(yr,{...e}),Of=({children:e,pageTitle:t,pageHeadingProps:r,columnWidth:a="two-thirds",mainWrapperSize:i,skipLinkProps:s,headerProps:l,footerProps:c,service:u,navigation:d,search:h,account:g,organisation:b,logo:p,className:S,...y})=>{const _={service:u,navigation:d,search:h,account:g,organisation:b,logo:p,...l};return n.jsxs(n.Fragment,{children:[n.jsx(Wr,{...s}),n.jsx(kr,{..._}),n.jsx(Xr,{className:S,...y,children:n.jsx(xr,{size:i,children:n.jsx(yt,{children:n.jsxs(Nt,{width:a,children:[t&&n.jsx(Ze,{size:"l",...r,children:t}),e]})})})}),n.jsx(Sr,{...c})]})},Uf=({children:e,pageTitle:t,pageHeadingProps:r,columnWidth:a="two-thirds",mainWrapperSize:i="small",skipLinkProps:s,headerProps:l,footerProps:c,backLinkProps:u,serviceName:d,serviceHref:h,logo:g,className:b,...p})=>{const S={service:{text:d,href:h},logo:g,navigation:void 0,search:void 0,account:void 0,...l};return n.jsxs(n.Fragment,{children:[n.jsx(Wr,{...s}),n.jsx(kr,{...S}),n.jsxs(Xr,{className:b,...p,children:[u&&n.jsx(jn,{...u}),n.jsx(xr,{size:i,children:n.jsx(yt,{children:n.jsxs(Nt,{width:a,children:[t&&n.jsx(Ze,{size:"l",...r,children:t}),e]})})})]}),n.jsx(Sr,{...c})]})},yo=({text:e="Next",html:t,href:r="#",className:a,element:i="a",onClick:s,...l})=>{const c=se("nhsuk-back-link",a),u=se("nhsuk-back-link__link"),d=()=>n.jsxs("span",{style:{display:"inline-flex",alignItems:"center",gap:4},children:[t?n.jsx("span",{dangerouslySetInnerHTML:{__html:t}}):e,n.jsx("svg",{className:"nhsuk-icon nhsuk-icon__chevron-right",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24","aria-hidden":"true",height:"24",width:"24",children:n.jsx("path",{d:"M15.5 12c0 .3-.1.5-.3.7l-5 5c-.4.4-1 .4-1.4 0s-.4-1 0-1.4L13.1 12 8.8 7.7c-.4-.4-.4-1 0-1.4s1-.4 1.4 0l5 5c.2.2.3.4.3.7z"})})]});return n.jsx("div",{className:c,children:i==="button"?n.jsx("button",{className:u,type:"button",onClick:s,...l,children:d()}):n.jsx("a",{className:u,href:r,...l,children:d()})})};yo.displayName="ForwardLink";const Mt=Object.freeze({small:320,smallMax:767,medium:768,large:1025,xlarge:1200,xxlarge:1440});function xo(){return typeof window>"u"?Mt.small:window.innerWidth||document.documentElement.clientWidth||0}function Jr(){const[e,t]=le.useState(xo());le.useEffect(()=>{if(typeof window>"u")return;const s=()=>t(xo());return window.addEventListener("resize",s),()=>window.removeEventListener("resize",s)},[]);const r=le.useCallback(s=>e>=Mt[s],[e]),a=le.useCallback(s=>e<Mt[s],[e]),i=le.useCallback((s,l)=>e>=Mt[s]&&e<Mt[l],[e]);return{width:e,up:r,down:a,between:i,values:Mt}}function Gf(e){const{width:t,values:r}=Jr();let a=e.base;const i=["small","medium","large","xlarge","xxlarge"];for(const s of i){const l=r[s];t>=l&&e[s]!==void 0&&(a=e[s])}return a}function vo(e={}){const{enabled:t=!0,paramSelected:r="nsv",paramDrill:a="nsvDrill"}=e,[i,s]=le.useState(()=>typeof window>"u"||!t?void 0:new URLSearchParams(window.location.search).get(r)),[l,c]=le.useState(()=>typeof window>"u"||!t?!1:new URLSearchParams(window.location.search).get(a)==="1");return le.useEffect(()=>{if(!t||typeof window>"u")return;const u=new URLSearchParams(window.location.search);i?u.set(r,String(i)):u.delete(r),u.set(a,l?"1":"0");const d=`${window.location.pathname}?${u.toString()}${window.location.hash}`;window.history.replaceState(null,"",d)},[i,l,t,r,a]),{selectedId:i,setSelectedId:s,drilledIn:l,setDrilledIn:c}}const Vf=({className:e})=>n.jsx("svg",{className:e,width:"16",height:"16",viewBox:"0 0 16 16","aria-hidden":"true",focusable:"false",children:n.jsx("path",{fill:"currentColor",d:"M10.7 3.3a1 1 0 0 1 0 1.4L7.41 8l3.3 3.3a1 1 0 1 1-1.42 1.4l-4-4a1 1 0 0 1 0-1.4l4-4a1 1 0 0 1 1.42 0Z"})}),Yf=({className:e})=>n.jsx("svg",{className:e,width:"16",height:"16",viewBox:"0 0 16 16","aria-hidden":"true",focusable:"false",children:n.jsx("path",{fill:"currentColor",d:"M5.3 12.7a1 1 0 0 1 0-1.4L8.59 8l-3.3-3.3a1 1 0 0 1 1.42-1.4l4 4a1 1 0 0 1 0 1.4l-4 4a1 1 0 0 1-1.42 0Z"})});function ko(e){const{items:t,selectedId:r,defaultSelectedId:a,onSelectionChange:i,renderItemContent:s,renderContent:l,renderSecondaryContent:c,forceLayout:u,animated:d=!0,backLabel:h="Back",nextLabel:g="Next",isLoading:b=!1,emptyState:p,a11y:S,className:y,getId:_=Z=>Z.id,orientation:Y="vertical",autoEnableThirdColumn:T=!0,onDrillChange:I,navigationInstructions:w="Use arrow keys to navigate, Enter to open.",initialFocus:z="first",skipFocusOnSelect:$=!1,skipAnnouncements:q=!1,onFocusChange:H,syncUrl:E=!1,urlParamSelected:v="nsv",urlParamDrill:M="nsvDrill",urlSyncDebounceMs:J=0,lazySecondary:de=!1,navFooter:X,collapsibleNav:k=!1,navInitiallyCollapsed:x=!1,onNavCollapseChange:D,collapseToggleLabelShow:he="Show navigation",collapseToggleLabelHide:R="Hide navigation",collapseToggleIconShow:N,collapseToggleIconHide:ne,persistNavCollapsed:A,navCollapsedStorageKey:te="nsvCollapsed",navCollapsedUrlParam:L="nsvCollapsed",autoContentHeader:oe,contentHeaderLevel:Ce=2,renderContentHeader:ie,contentSubheader:ee,secondarySubheader:K}=e,{up:ae}=Jr(),[ge,W]=le.useState(!1);le.useEffect(()=>{W(!0)},[]);const je=ge&&ae("medium"),be=ge&&ae("xlarge");let pe;u?pe=u:je?pe="two-column":pe="list",!u&&T&&c&&be&&(pe="three-column");const ue=vo({enabled:E,paramSelected:v,paramDrill:M}),[ye,Ue]=le.useState(()=>ue.selectedId!==void 0?ue.selectedId:a),Ee=r!==void 0?r:ye,Ne=t.find(Z=>_(Z)===Ee),[F,j]=le.useState(void 0);le.useEffect(()=>{if(Ee===void 0)return;j(Ee);const Z=setTimeout(()=>j(void 0),220);return()=>clearTimeout(Z)},[Ee]);const O=le.useRef(null),P=le.useRef(null),m=le.useRef(null),C=le.useRef(null),[U,V]=le.useState(()=>({contentIndex:0,secondaryIndex:0})),[B,G]=le.useState(()=>"nav"),[xe,fe]=le.useState(0),ke=()=>[C.current,P.current,m.current].filter(Boolean),_e=Z=>{const ce=ke(),Q=Math.max(0,Math.min(Z,ce.length-1));ce[Q]?.focus(),fe(Q)},re=le.useCallback(Z=>Z?Array.from(Z.querySelectorAll('button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])')).filter(Q=>!Q.hasAttribute("disabled")&&Q.tabIndex!==-1):[],[]),Se=le.useCallback(Z=>{const ce=re(P.current);if(!ce.length){P.current?.focus();return}const Q=Math.max(0,Math.min(Z,ce.length-1)),me=ce[Q];me.focus(),setTimeout(()=>{document.activeElement!==me&&(me.focus(),setTimeout(()=>{document.activeElement!==me&&me.click()},10))},10),V(Be=>({...Be,contentIndex:Q}));const Me=Be=>{Be.key==="Escape"&&(Be.preventDefault(),Be.stopPropagation(),P.current?.focus(),me.removeEventListener("keydown",Me))};ce.forEach(Be=>{const Fe=Be._escapeHandler;Fe&&Be.removeEventListener("keydown",Fe)}),me._escapeHandler=Me,me.addEventListener("keydown",Me)},[re]),Te=le.useCallback(Z=>{const ce=re(m.current);if(!ce.length){m.current?.focus();return}const Q=Math.max(0,Math.min(Z,ce.length-1)),me=ce[Q];me.focus(),setTimeout(()=>{document.activeElement!==me&&(me.focus(),setTimeout(()=>{document.activeElement!==me&&me.click()},10))},10),V(Be=>({...Be,secondaryIndex:Q}));const Me=Be=>{Be.key==="Escape"&&(Be.preventDefault(),Be.stopPropagation(),m.current?.focus(),me.removeEventListener("keydown",Me))};ce.forEach(Be=>{const Fe=Be._escapeHandler;Fe&&Be.removeEventListener("keydown",Fe)}),me._escapeHandler=Me,me.addEventListener("keydown",Me)},[re]),Ae=Z=>{if(Z.defaultPrevented)return;const ce=Z.key,Q=Z.target,me=!!We.current&&We.current.contains(Q),Me=!!P.current&&P.current.contains(Q),Be=!!m.current&&m.current.contains(Q),Fe=!!m.current,At=Q===C.current||Q===P.current||Q===m.current,jt=De&&(pe==="list"||pe==="cards"),mr=Me&&!!Q.closest(".nhs-navigation-split-view__header");if(B==="containers"&&At){if(ce==="ArrowRight"){Z.preventDefault();const ve=ke(),Ie=Math.min(ve.length-1,xe+1);_e(Ie);return}if(ce==="ArrowLeft"){Z.preventDefault();const ve=Math.max(0,xe-1);_e(ve);return}if(ce==="Home"){Z.preventDefault(),_e(0);return}if(ce==="End"){Z.preventDefault(),_e(ke().length-1);return}if(ce==="Enter"||ce===" "){if(Z.preventDefault(),Q===C.current){if(G("nav"),We.current){const ve=Array.from(We.current.querySelectorAll("[data-nav-item]"));(ve[Le>=0?Le:0]||ve[0])?.focus()}}else Q===P.current?(G("content"),Se(U.contentIndex)):Q===m.current&&(G("secondary"),Te(U.secondaryIndex));return}return}if(ce==="Escape"){if(B==="content"||B==="secondary"){if(Me||Be){if(Z.preventDefault(),G("nav"),We.current){const Ie=Array.from(We.current.querySelectorAll("[data-nav-item]"))[Le>=0?Le:0];setTimeout(()=>Ie?.focus(),10)}}else if((Q===P.current||Q===m.current)&&(Z.preventDefault(),G("nav"),We.current)){const Ie=Array.from(We.current.querySelectorAll("[data-nav-item]"))[Le>=0?Le:0];setTimeout(()=>Ie?.focus(),10)}}return}if(ce==="Enter"||ce===" "){if(Q.matches('button, a, input, select, textarea, [role="button"], [role="link"], [role="tab"]'))return;if(Q===P.current&&B==="content"){Z.preventDefault(),Z.stopPropagation(),re(P.current).length>0&&setTimeout(()=>{Se(U.contentIndex)},50);return}if(Q===m.current&&B==="secondary"){Z.preventDefault(),Z.stopPropagation(),re(m.current).length>0&&setTimeout(()=>{Te(U.secondaryIndex)},50);return}}if(jt&&mr&&!At&&(ce==="ArrowRight"||ce==="ArrowLeft")){const ve=re(P.current).filter(Ie=>Ie.closest(".nhs-navigation-split-view__header"));if(ve.length>1){const Ie=ve.indexOf(Q);if(Ie>=0){const od=(Ie+(ce==="ArrowRight"?1:-1)+ve.length)%ve.length;Z.preventDefault(),ve[od].focus();return}}}if(ce==="ArrowRight"){if(me||B==="nav"){Z.preventDefault(),G("content"),setTimeout(()=>P.current?.focus(),10);return}if(Me||B==="content"){Fe&&(Z.preventDefault(),G("secondary"),setTimeout(()=>m.current?.focus(),10));return}}if(ce==="ArrowLeft"){if(Be||B==="secondary"){Z.preventDefault(),G("content"),setTimeout(()=>P.current?.focus(),10);return}if(Me||B==="content"){if(Z.preventDefault(),G("nav"),We.current){const Ie=Array.from(We.current.querySelectorAll("[data-nav-item]"))[Le>=0?Le:0];setTimeout(()=>Ie?.focus(),10)}return}}if(ce==="Home"&&!me&&(Z.preventDefault(),G("nav"),We.current)){const ve=Array.from(We.current.querySelectorAll("[data-nav-item]")),Ie=ve[Le>=0?Le:0]||ve[0];setTimeout(()=>Ie?.focus(),10)}if(ce==="End"){const ve=Fe?m.current:P.current;ve&&!ve.contains(Q)&&(Z.preventDefault(),Fe?(G("secondary"),setTimeout(()=>m.current?.focus(),10)):(G("content"),setTimeout(()=>P.current?.focus(),10)))}if(ce==="ArrowDown"||ce==="ArrowUp"){if(Q===P.current&&ce==="ArrowDown"){Z.preventDefault(),re(P.current).length>0&&Se(0);return}if(Q===m.current&&ce==="ArrowDown"){Z.preventDefault(),re(m.current).length>0&&Te(0);return}if(Me){const ve=re(P.current);if(ve.length){Z.preventDefault();const Ie=ce==="ArrowDown"?1:-1,dt=(U.contentIndex+Ie+ve.length)%ve.length;Se(dt)}}else if(Be){const ve=re(m.current);if(ve.length){Z.preventDefault();const Ie=ce==="ArrowDown"?1:-1,dt=(U.secondaryIndex+Ie+ve.length)%ve.length;Te(dt)}}}},De=!!Ne&&(pe==="list"||pe==="cards"),Ge=le.useMemo(()=>oe===void 0?{mobile:!0,tablet:!1,desktop:!1}:oe===!0?{mobile:!0,tablet:!0,desktop:!0}:oe===!1?{mobile:!1,tablet:!1,desktop:!1}:{mobile:oe.mobile!==void 0?oe.mobile:!0,tablet:oe.tablet||!1,desktop:oe.desktop||!1},[oe]),xt=ge&&ae("medium")&&!ae("xlarge"),gt=ge&&ae("xlarge"),lt=!!c,Pe=pe==="three-column",[ze,_n]=le.useState(!1);le.useEffect(()=>{Pe&&ze&&_n(!1)},[Pe,ze]),le.useEffect(()=>{ze&&!Pe&&(G("secondary"),fe(2),setTimeout(()=>{m.current?.focus()},50))},[ze,Pe]),le.useEffect(()=>{!ze&&!Pe&&B==="secondary"&&(G("content"),fe(1),setTimeout(()=>{P.current?.focus()},50))},[ze,Pe,B]);const Ua=!!Ne&&(De&&Ge.mobile||!De&&xt&&Ge.tablet||!De&&gt&&Ge.desktop)||lt&&!Pe,km=`h${Ce}`,Ga=Ne?le.createElement(km,{style:{marginLeft:De?32:0,marginRight:De?32:0}},Ne.label):null,ad=De?"mobile":xt?"tablet":"desktop",Sm=lt&&!Pe&&!ze,Va=De&&Ge.mobile?n.jsx(jn,{element:"button",text:h,style:{marginRight:16},onClick:()=>Lt(void 0,void 0)}):void 0,Ya=Sm?n.jsx(yo,{element:"button",text:g,onClick:()=>{_n(!0)}}):void 0,qa=!Pe&&ze?n.jsx(jn,{element:"button",text:h,style:{marginRight:16},onClick:()=>_n(!1)}):void 0,_m=le.useMemo(()=>{if(!Ua||!Ne)return null;if(ie)return ie({item:Ne,detailActive:De,context:ad,backLink:Va,defaultHeading:Ga});const Z=Ne&&ee?typeof ee=="function"?ee(Ne):ee:null;return n.jsxs("div",{style:{display:"flex",alignItems:"center",width:"100%"},children:[n.jsxs("div",{style:{display:"flex",alignItems:"center",gap:0,flex:"1 1 auto",minWidth:0},children:[qa||Va,n.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:4,minWidth:0},children:[Ga,Z&&n.jsx("div",{className:"nhs-navigation-split-view__subheader",children:Z})]})]}),Ya&&n.jsx("div",{style:{marginLeft:"auto"},children:Ya})]})},[Ua,Ne,ie,De,ad,Va,qa,Ga,Ya,ee]);le.useEffect(()=>{if(!E)return;const Z=pe==="three-column";let ce=!1;const Q=()=>{ce||(ue.selectedId!==Ee&&ue.setSelectedId(Ee),ue.drilledIn!==Z&&ue.setDrilledIn(Z))};if(J&&J>0){const me=setTimeout(Q,J);return()=>{ce=!0,clearTimeout(me)}}else Q()},[E,ue,Ee,pe,J]),le.useEffect(()=>{if(!E)return;const Z=()=>{const ce=new URLSearchParams(window.location.search),Q=ce.get(v);ce.get(M),Ue(Q===null?void 0:Q)};return window.addEventListener("popstate",Z),()=>window.removeEventListener("popstate",Z)},[E,v,M,u,c]);const fr=le.useRef(0),pt=le.useRef(null),Lt=le.useCallback((Z,ce)=>{Z!==Ee&&(r===void 0&&Ue(Z),i?.(Z,ce))},[r,i,Ee]);le.useEffect(()=>{if(!$&&De&&P.current){const Z=setTimeout(()=>P.current?.focus(),30);return()=>clearTimeout(Z)}},[De,Ee,$]);const We=le.useRef(null),[Le,wn]=le.useState(()=>z==="first"?0:-1);le.useEffect(()=>{if(Le<0||!We.current)return;const ce=Array.from(We.current.querySelectorAll("[data-nav-item]"))[Le];if(ce){document.activeElement!==ce&&ce.focus(),fr.current=Le;const Q=t[Le];H?.(Q?_(Q):void 0,Q,Le)}},[Le,t,H,_]);const wm=Z=>{const ce=Y==="vertical"?"ArrowDown":"ArrowRight",Q=Y==="vertical"?"ArrowUp":"ArrowLeft";if(Z.key==="ArrowRight"&&Y==="vertical"){Z.preventDefault(),ze?(G("secondary"),setTimeout(()=>{m.current?.focus()},10)):(G("content"),setTimeout(()=>{P.current?.focus()},10));return}if(Z.key===ce)Z.preventDefault(),wn(me=>Math.min(t.length-1,me+1));else if(Z.key===Q)Z.preventDefault(),wn(me=>Math.max(0,me-1));else if(Z.key==="Home")Z.preventDefault(),wn(0);else if(Z.key==="End")Z.preventDefault(),wn(t.length-1);else if(Z.key==="Enter"||Z.key===" "){Z.preventDefault();const me=t[Le];me&&!me.disabled&&Lt(_(me),me)}else if(Z.key.length===1&&/[a-z0-9]/i.test(Z.key)){pt.current||(pt.current={buffer:"",last:0});const me=Date.now(),Me=700,Be=Z.key.toLowerCase();me-pt.current.last>Me?pt.current.buffer=Be:pt.current.buffer+=Be,pt.current.last=me;let Fe=pt.current.buffer;const At=Fe.split("").every(dt=>dt===Fe[0]),jt=t.map(dt=>String(dt.label||"").toLowerCase());let mr=0;Le>=0&&(mr=(Le+1)%t.length);let ve;const Ie=(dt,od)=>{const id=t.length;for(let Xa=0;Xa<id;Xa++){const Ja=(mr+Xa)%id;if(!t[Ja].disabled&&jt[Ja].startsWith(dt))return Ja}};At&&Fe.length>1?ve=Ie(Fe[0]):(ve=Ie(Fe),ve===void 0&&Fe.length>1&&(ve=Ie(Fe[Fe.length-1]),ve!==void 0&&pt.current&&(pt.current.buffer=Fe[Fe.length-1]))),ve!==void 0&&wn(ve)}},Cm=le.useMemo(()=>{if(A&&(A==="url"||A==="both")&&typeof window<"u"){const ce=new URLSearchParams(window.location.search).get(L);if(ce==="1")return!0;if(ce==="0")return!1}if(A&&(A==="localStorage"||A==="both")&&typeof window<"u")try{const Z=window.localStorage.getItem(te);if(Z==="1")return!0;if(Z==="0")return!1}catch{}return x},[A,x,te,L]),[ct,jm]=le.useState(Cm);le.useEffect(()=>{D?.(ct)},[ct,D]);const Nm=le.useCallback(()=>{je&&k&&jm(Z=>!Z)},[je,k]);le.useEffect(()=>{if(A&&!(typeof window>"u")){if(A==="localStorage"||A==="both")try{window.localStorage.setItem(te,ct?"1":"0")}catch{}if(A==="url"||A==="both"){const Z=new URLSearchParams(window.location.search);Z.set(L,ct?"1":"0");const ce=`${window.location.pathname}?${Z.toString()}${window.location.hash}`;window.history.replaceState(null,"",ce)}}},[ct,A,te,L]);const Tm=["nhs-navigation-split-view",d?"nhs-navigation-split-view--animated":"",De?"nhs-navigation-split-view--detail-active":"",pe==="three-column"?"nhs-navigation-split-view--three-column":"",k&&je&&ct?"nhs-navigation-split-view--nav-collapsed":"",y].filter(Boolean).join(" "),Ka=le.useRef(null);le.useEffect(()=>{if(!q&&Ka.current){const Z=Ne?`Selected ${Ne.label}`:"Selection cleared";Ka.current.textContent=Z}},[Ne,q]),le.useEffect(()=>{!De&&Ee==null&&We.current&&We.current.querySelectorAll("[data-nav-item]")[fr.current]?.focus()},[De,Ee]);const vt=pe==="three-column",[Za,Dm]=le.useState(!1);le.useEffect(()=>{vt&&!Za&&Dm(!0)},[vt,Za]);const sd=le.useRef(vt);le.useEffect(()=>{sd.current!==vt&&(I?.(vt),sd.current=vt)},[vt,I]);const Bm=()=>{if(pe==="cards")return n.jsxs("ul",{className:"nhs-navigation-split-view__cards",role:"listbox","aria-activedescendant":Ee?String(Ee):void 0,children:[t.map(Q=>{const me=_(Q),Me=me===Ee;return n.jsx("li",{className:"nhs-navigation-split-view__card-item",role:"option","aria-selected":Me,children:n.jsxs("button",{id:String(me),type:"button",className:"nhs-navigation-split-view__card","data-selected":Me||void 0,"data-disabled":Q.disabled||void 0,disabled:Q.disabled,onClick:()=>!Q.disabled&&Lt(me,Q),children:[Q.icon&&n.jsx("span",{className:"nhs-navigation-split-view__item-icon",children:Q.icon}),n.jsx("span",{className:"nhs-navigation-split-view__item-label",children:Q.label}),Q.description&&n.jsx("span",{className:"nhs-navigation-split-view__item-description",children:Q.description}),s?.(Q),Q.badge!==void 0&&n.jsx("span",{className:"nhs-navigation-split-view__badge",children:Q.badge})]})},me)}),t.length===0&&!b&&n.jsx("li",{className:"nhs-navigation-split-view__card-item","aria-disabled":"true",children:p||n.jsx("div",{style:{padding:16},children:"No items"})})]});const Z="nsv-nav-instructions",ce=le.useMemo(()=>le.memo(({item:Q,idx:me,selected:Me,focused:Be})=>{const Fe=_(Q),At=Q.disabled?{"aria-disabled":!0,tabIndex:-1}:{tabIndex:Be?0:-1,onClick:()=>{fr.current=me,Lt(Fe,Q)},onKeyDown:jt=>{(jt.key==="Enter"||jt.key===" ")&&(jt.preventDefault(),fr.current=me,Lt(Fe,Q))}};return n.jsxs("li",{id:String(Fe),"data-nav-item":!0,className:"nhs-navigation-split-view__list-item nhs-navigation-split-view__item-button",role:"option","aria-selected":Me,"aria-current":Me?"true":void 0,"data-selected":Me||void 0,"data-disabled":Q.disabled||void 0,...At,children:[Q.icon&&n.jsx("span",{className:"nhs-navigation-split-view__item-icon",children:Q.icon}),n.jsxs("span",{className:"nhs-navigation-split-view__item-content",children:[n.jsx("span",{className:"nhs-navigation-split-view__item-label",children:Q.label}),Q.description&&n.jsx("span",{className:"nhs-navigation-split-view__item-description",children:Q.description}),s?.(Q)]}),Q.badge!==void 0&&n.jsx("span",{className:"nhs-navigation-split-view__badge",children:Q.badge})]})}),[_,Lt,s]);return n.jsxs(n.Fragment,{children:[n.jsxs("ul",{ref:We,className:"nhs-navigation-split-view__list",onKeyDown:wm,role:"listbox","aria-label":"Navigation items","aria-describedby":Z,"aria-activedescendant":Ee?String(Ee):void 0,children:[t.map((Q,me)=>n.jsx(ce,{item:Q,idx:me,selected:_(Q)===Ee,focused:me===Le||Le===-1&&me===0&&z==="first","data-just-selected":_(Q)===F?"true":void 0},_(Q))),t.length===0&&!b&&n.jsx("li",{className:"nhs-navigation-split-view__list-item","aria-disabled":"true",children:p||n.jsx("div",{style:{padding:16},children:"No items"})})]}),n.jsx("div",{id:Z,style:{position:"absolute",width:1,height:1,overflow:"hidden",clip:"rect(0 0 0 0)"},children:w})]})};return n.jsx("div",{ref:O,className:Tm,"aria-label":S?.rootLabel,"data-layout":pe,onKeyDown:Ae,children:n.jsxs("div",{className:"nhs-navigation-split-view__body",children:[n.jsxs("div",{className:"nhs-navigation-split-view__panes","data-active-detail":De||void 0,style:{transform:De?"translateX(-100%)":void 0},children:[n.jsxs("div",{ref:C,className:"nhs-navigation-split-view__nav-pane",role:"navigation","aria-label":S?.navigationLabel||"Items","data-collapsed":ct||void 0,tabIndex:0,children:[k&&je&&n.jsx("div",{className:"nhs-navigation-split-view__nav-collapse",children:n.jsx("button",{type:"button",onClick:Nm,className:"nhs-navigation-split-view__nav-collapse-btn","aria-label":ct?he:R,title:ct?he:R,children:ct?N||n.jsx(Yf,{}):ne||n.jsx(Vf,{})})}),n.jsx("div",{className:"nhs-navigation-split-view__nav-scroll",children:Bm()}),X&&n.jsx("div",{className:"nhs-navigation-split-view__nav-footer",role:"contentinfo",children:X})]}),n.jsxs("div",{ref:P,className:"nhs-navigation-split-view__content-pane",role:"region","aria-label":S?.contentLabel||"Content","data-has-selection":!!Ne||void 0,tabIndex:0,style:{display:ze&&!Pe?"none":void 0},children:[Ua&&n.jsx("div",{className:"nhs-navigation-split-view__header",children:_m}),n.jsx("div",{className:"nhs-navigation-split-view__content-inner",style:{padding:32,flex:1},children:l(Ne)})]}),pe==="three-column"&&(!de||Za)||ze&&!Pe?n.jsx("div",{ref:m,className:"nhs-navigation-split-view__secondary-pane",role:"region","aria-label":S?.secondaryContentLabel||"Secondary",tabIndex:0,children:n.jsxs("div",{className:"nhs-navigation-split-view__secondary-inner",style:{display:"flex",flexDirection:"column",flex:1,minWidth:0},children:[ze&&!Pe&&n.jsx("div",{className:"nhs-navigation-split-view__header",children:n.jsx("div",{style:{display:"flex",alignItems:"center",width:"100%"},children:n.jsxs("div",{style:{display:"flex",alignItems:"center",gap:0,flex:"1 1 auto",minWidth:0},children:[qa,n.jsx("div",{style:{display:"flex",flexDirection:"column",gap:4,minWidth:0},children:n.jsx("h2",{style:{marginLeft:0,marginRight:0},children:Ne&&typeof Ne=="object"&&"label"in Ne?Ne.label:String(Ne)})})]})})}),Ne&&K&&n.jsx("div",{className:"nhs-navigation-split-view__secondary-header",style:{padding:"16px 32px",borderBottom:"1px solid var(--nsplit-divider)"},children:typeof K=="function"?K(Ne):K}),n.jsx("div",{style:{padding:32,flex:1,minWidth:0},children:c?.(Ne)})]})}):null]}),n.jsx("div",{ref:Ka,"aria-live":"polite","aria-atomic":"true",style:{position:"absolute",width:1,height:1,overflow:"hidden",clip:"rect(0 0 0 0)"}}),n.jsx("div",{"aria-live":"polite",style:{position:"absolute",width:1,height:1,overflow:"hidden",clip:"rect(0 0 0 0)"},children:vt?"Expanded to three column layout":"In two column layout"})]})})}ko.displayName="NavigationSplitView";const So="150ms",_o="300ms",wo="500ms",Co="cubic-bezier(0.4, 0, 1, 1)",jo="cubic-bezier(0, 0, 0.2, 1)",No="cubic-bezier(0.4, 0, 0.2, 1)",To="cubic-bezier(0.68, -0.55, 0.265, 1.55)",Do="background-color 300ms cubic-bezier(0, 0, 0.2, 1)",Bo="box-shadow 150ms cubic-bezier(0, 0, 0.2, 1)",Fo="border-color 150ms cubic-bezier(0, 0, 0.2, 1), box-shadow 150ms cubic-bezier(0, 0, 0.2, 1)",Io="border-color 300ms cubic-bezier(0, 0, 0.2, 1)",Eo="1px",Mo="2px",Lo="4px",Ao="4px",$o="4px",Po="2px",Ho="1px",Ro="0px",zo="4px",Wo="8px",Oo="12px",Qr="#d8dde0",ea="#4c6272",ta="#d8dde0",na="#aeb7bd",ra="#d5281b",aa="#005eb8",sa="#ffffff",oa="#212b32",ia="#007f3b",la="#330072",ca="#7c2855",da="#d5281b",ua="#ffeb3b",ha="#fff9c4",fa="#ffb81c",ma="#ed8b00",ga="#00a499",pa="#ae2573",ba="#4c6272",ya="#768692",xa="#aeb7bd",va="#d8dde0",ka="#f0f4f5",Uo="#212b32",Go="#4c6272",Vo="#ffffff",Yo="#212b32",qo="#005eb8",Ko="#7c2855",Zo="#003087",Xo="#330072",Jo="#ffeb3b",Qo="#212b32",ei="#d8dde0",ti="#ffffff33",ni="#d5281b",ri="#4c6272",ai="#ffffff",si="#007f3b",oi="#ffffff",ii="#006530",li="#004021",ci="#004021",di="#00000000",ui="#ffffff",hi="#005eb8",fi="#005eb8",mi="#d9e5f2",gi="#c7daf0",pi="#005eb8",bi="#ffffff",yi="#212b32",xi="#d9dde0",vi="#b3bcc2",ki="#b3bcc2",Si="#d5281b",_i="#aa2016",wi="#6a140e",Ci="#6a140e",ji="#005eb8",Ni="#004b93",Ti="#002f5c",Di="#002f5c",Bi="8px",Fi="16px",Ii="12px",Ei="16px",Mi="4px",Li="40px",Ai="4px",$i="40px",Pi="12px",Hi="16px",Ri="32px",zi="16px",Wi="20px",Oi="28px",Ui="9px",Gi="2px",Vi="16px",Yi="24px",qi="8px",Ki="24px",Zi="16px",Xi="4px",Ji="4px",Qi="4px",el="8px",tl="4px",nl="16px",rl="#007f3b",al="#006530",sl="#004021",ol="#d8dde0",il="#ffffff",ll="#768692",cl="#00000000",dl="#ffeb3b",ul="#00000000",hl="#ffffff",fl="#d9e5f2",ml="#c7daf0",gl="#005eb8",pl="#005eb8",Sa="8px",_a="16px",wa="12px",Ca="16px",bl="2px",yl="4px",xl="4px",vl="600",kl="#ffffff",Sl="#d8dde0",_l="#aeb7bd",wl="#f0f4f5",Cl="#212b32",jl="#212b32",Nl="#005eb8",ja="16px",Na="32px",Ta="16px",Tl="1px",Dl="4px",Bl="none",Fl="0 2px 4px rgba(0, 0, 0, 0.1)",Il="#ffffff",El="#ffffff",Ml="#d8dde0",Ll="#ffffff",Al="#4c6272",$l="#ffeb3b",Pl="#d5281b",Hl="#aeb7bd",Rl="#212b32",zl="#4c6272",Wl="#768692",Ol="#212b32",Ul="#ffffff",Gl="600",Vl="#d5281b",Yl="600",ql="#4c6272",Da="4px",Ba="40px",Fa="40px",Ia="12px",Kl="2px",Zl="4px",Xl="0px",Jl="16px",Ql="18px",ec="24px",tc="32px",nc="34px",rc="32px",ac="40px",sc="48px",oc="5.4ex",ic="7.2ex",lc="9ex",cc="10.8ex",dc="20ex",uc="38ex",hc="56ex",fc="44px",mc="40px",gc="1020px",pc="100%",bc="50%",yc="33.333%",xc="25%",vc="20%",kc="320px",Sc="641px",_c="1025px",wc="1280px",Cc="960px",jc="32px",Nc="16px",Tc="#d5281b",Dc="#d5281b",Bc="#ffffff",Fc="#007f3b",Ic="#007f3b",Ec="#ffffff",Mc="#ffeb3b",Lc="#ffeb3b",Ac="#212b32",$c="#005eb8",Pc="#005eb8",Hc="#ffffff",Rc="#d8dde0",zc="#aeb7bd",Wc="#768692",Oc="0 4px 0 #004021",Uc="0 4px 0 #005eb8",Gc="0 4px 0 #6a140e",Vc="0 4px 0 #ffeb3b",Yc="none",qc="0 2px 4px rgba(0, 0, 0, 0.1)",Kc="4px",Zc="0px",Xc="solid",Jc="0 0 0 3px #ffeb3b",Qc="0 0 0 3px #ffeb3b",ed="none",td="0 1px 3px rgba(0, 0, 0, 0.12)",nd="0 2px 6px rgba(0, 0, 0, 0.16)",rd="0 4px 12px rgba(0, 0, 0, 0.20)",Ea="0",Ma="4px",La="8px",Aa="16px",$a="24px",Pa="32px",Ha="40px",Ra="48px",za="56px",Wa="64px",Gn="0",Vn="0",Yn="4px",qn="4px",Kn="8px",Zn="8px",Xn="8px",Jn="16px",Qn="16px",er="24px",tr="24px",nr="32px",rr="32px",ar="40px",sr="40px",or="48px",ir="48px",lr="56px",cr="56px",dr="64px",Kt="Frutiger W01",Zt="Arial, Helvetica, sans-serif",Xt="sans-serif",Jt="400",Qt="600",en="400",tn="12px",nn="14px",rn="12pt",an="14px",sn="16px",on="12pt",ln="16px",cn="19px",dn="13pt",un="19px",hn="22px",fn="15pt",mn="22px",gn="26px",pn="17pt",bn="27px",yn="36px",xn="20pt",vn="33px",kn="48px",Sn="24pt",ur="16px",hr="24px",Je={fontFamily:"Frutiger W01",fontWeight:"600",fontSize:{mobile:"33px",tablet:"48px",print:"24pt"},lineHeight:"1.09",marginTop:"0",marginBottom:{mobile:"40px",tablet:"48px"}},Qe={fontFamily:"Frutiger W01",fontWeight:"600",fontSize:{mobile:"27px",tablet:"36px",print:"20pt"},lineHeight:"1.11",marginTop:"0",marginBottom:{mobile:"16px",tablet:"24px"}},et={fontFamily:"Frutiger W01",fontWeight:"600",fontSize:{mobile:"22px",tablet:"26px",print:"17pt"},lineHeight:"1.15",marginTop:"0",marginBottom:{mobile:"16px",tablet:"24px"}},tt={fontFamily:"Frutiger W01",fontWeight:"600",fontSize:{mobile:"19px",tablet:"22px",print:"15pt"},lineHeight:"1.18",marginTop:"0",marginBottom:{mobile:"16px",tablet:"24px"}},nt={fontFamily:"Frutiger W01",fontWeight:"600",fontSize:{mobile:"16px",tablet:"19px",print:"13pt"},lineHeight:"1.26",marginTop:"0",marginBottom:{mobile:"16px",tablet:"24px"}},rt={fontFamily:"Frutiger W01",fontWeight:"400",fontSize:{mobile:"16px",tablet:"19px",print:"13pt"},lineHeight:"1.47",marginTop:"0",marginBottom:{mobile:"16px",tablet:"24px"}},at={fontFamily:"Frutiger W01",fontWeight:"400",fontSize:{mobile:"22px",tablet:"26px",print:"17pt"},lineHeight:"1.38",marginTop:"0",marginBottom:{mobile:"24px",tablet:"32px"}},st={fontFamily:"Frutiger W01",fontWeight:"400",fontSize:{mobile:"14px",tablet:"16px",print:"12pt"},lineHeight:"1.5",marginTop:"0",marginBottom:{mobile:"16px",tablet:"24px"}},ot={fontFamily:"Frutiger W01",fontWeight:"400",fontSize:{mobile:"22px",tablet:"26px",print:"17pt"},lineHeight:"1.38",marginTop:"0",marginBottom:{mobile:"40px",tablet:"48px"}},it={fontFamily:"Frutiger W01",fontWeight:"400",fontSize:{mobile:"16px",tablet:"19px",print:"13pt"},lineHeight:"1.47",marginTop:"0",marginBottom:{mobile:"24px",tablet:"32px"}},qf=Object.freeze(Object.defineProperty({__proto__:null,AnimationDurationFast:So,AnimationDurationNormal:_o,AnimationDurationSlow:wo,AnimationEasingBounce:To,AnimationEasingEaseIn:Co,AnimationEasingEaseInOut:No,AnimationEasingEaseOut:jo,BorderColorCard:ta,BorderColorCardHover:na,BorderColorDefault:Qr,BorderColorError:ra,BorderColorForm:ea,BorderRadiusLarge:Oo,BorderRadiusMedium:Wo,BorderRadiusNone:Ro,BorderRadiusSmall:zo,BorderWidthCardBottom:Ao,BorderWidthDefault:Eo,BorderWidthFormElement:Mo,BorderWidthFormElementError:Lo,BorderWidthPanel:$o,BorderWidthTableCell:Ho,BorderWidthTableHeader:Po,BreakpointDesktop:_c,BreakpointLargeDesktop:wc,BreakpointMobile:kc,BreakpointTablet:Sc,ButtonBorderRadius:yl,ButtonBorderWidth:bl,ButtonPrimaryBackgroundActive:sl,ButtonPrimaryBackgroundDefault:rl,ButtonPrimaryBackgroundDisabled:ol,ButtonPrimaryBackgroundHover:al,ButtonPrimaryBorderDefault:cl,ButtonPrimaryBorderFocus:dl,ButtonPrimaryTextDefault:il,ButtonPrimaryTextDisabled:ll,ButtonSecondaryBackgroundActive:ml,ButtonSecondaryBackgroundDefault:ul,ButtonSecondaryBackgroundHover:fl,ButtonSecondaryBackgroundSolid:hl,ButtonSecondaryBorderDefault:pl,ButtonSecondaryTextDefault:gl,ButtonShadowSize:xl,ButtonSpacingPaddingHorizontalDesktop:Ca,ButtonSpacingPaddingHorizontalMobile:_a,ButtonSpacingPaddingVerticalDesktop:wa,ButtonSpacingPaddingVerticalMobile:Sa,ButtonTypographyWeight:vl,CardBackgroundDefault:kl,CardBorderBottom:wl,CardBorderDefault:Sl,CardBorderHover:_l,CardBorderWidthBottom:Dl,CardBorderWidthDefault:Tl,CardShadowDefault:Bl,CardShadowHover:Fl,CardSpacingHeadingMargin:Ta,CardSpacingPaddingDesktop:Na,CardSpacingPaddingMobile:ja,CardTextDescription:jl,CardTextHeading:Cl,CardTextLink:Nl,ColorBorderDefault:ei,ColorBorderSecondary:ti,ColorButtonLoginActive:Ti,ColorButtonLoginBackground:ji,ColorButtonLoginHover:Ni,ColorButtonLoginShadow:Di,ColorButtonPrimaryActive:li,ColorButtonPrimaryBackground:si,ColorButtonPrimaryHover:ii,ColorButtonPrimaryShadow:ci,ColorButtonPrimaryText:oi,ColorButtonReverseActive:vi,ColorButtonReverseBackground:bi,ColorButtonReverseHover:xi,ColorButtonReverseShadow:ki,ColorButtonReverseText:yi,ColorButtonSecondaryActive:gi,ColorButtonSecondaryBackground:di,ColorButtonSecondaryBackgroundSolid:ui,ColorButtonSecondaryBorder:hi,ColorButtonSecondaryHover:mi,ColorButtonSecondaryShadow:pi,ColorButtonSecondaryText:fi,ColorButtonWarningActive:wi,ColorButtonWarningBackground:Si,ColorButtonWarningHover:_i,ColorButtonWarningShadow:Ci,ColorError:ni,ColorFocusBackground:Jo,ColorFocusText:Qo,ColorFormBackground:ai,ColorFormBorder:ri,ColorGrey1:ba,ColorGrey2:ya,ColorGrey3:xa,ColorGrey4:va,ColorGrey5:ka,ColorLinkActive:Zo,ColorLinkDefault:qo,ColorLinkHover:Ko,ColorLinkVisited:Xo,ColorPrimaryBlack:oa,ColorPrimaryBlue:aa,ColorPrimaryDarkPink:ca,ColorPrimaryGreen:ia,ColorPrimaryPurple:la,ColorPrimaryRed:da,ColorPrimaryWhite:sa,ColorPrimaryYellow:ua,ColorSecondaryAquaGreen:ga,ColorSecondaryOrange:ma,ColorSecondaryPaleYellow:ha,ColorSecondaryPink:pa,ColorSecondaryWarmYellow:fa,ColorTextPrimary:Uo,ColorTextPrint:Yo,ColorTextReverse:Vo,ColorTextSecondary:Go,ComponentBlur:Ji,ComponentBreadcrumbChevronMarginLeft:Ui,ComponentBreadcrumbChevronMarginRight:Gi,ComponentBreadcrumbPaddingTopDesktop:Yi,ComponentBreadcrumbPaddingTopMobile:Vi,ComponentButtonPaddingDesktopHorizontal:Ei,ComponentButtonPaddingDesktopVertical:Ii,ComponentButtonPaddingMobileHorizontal:Fi,ComponentButtonPaddingMobileVertical:Bi,ComponentButtonShadowSize:Mi,ComponentCardHeadingMargin:zi,ComponentCardPaddingDesktop:Ri,ComponentCardPaddingMobile:Hi,ComponentDetails:el,ComponentExpander:tl,ComponentFormCheckboxLabelPadding:Pi,ComponentFormCheckboxSize:$i,ComponentFormInputMinHeight:Li,ComponentFormInputPadding:Ai,ComponentLink:Qi,ComponentPagination:nl,ComponentPanelPaddingDesktop:Oi,ComponentPanelPaddingMobile:Wi,ComponentSpread:Xi,ComponentSummaryListCellPaddingHorizontal:Ki,ComponentSummaryListCellPaddingVertical:qi,ComponentSummaryListRowMargin:Zi,ElevationHigh:rd,ElevationLow:td,ElevationMedium:nd,ElevationNone:ed,FocusOutlineOffset:Zc,FocusOutlineStyle:Xc,FocusOutlineWidth:Kc,FocusShadowButton:Qc,FocusShadowInput:Jc,FontFamilyBase:Kt,FontFamilyFallback:Zt,FontFamilyPrint:Xt,FontLineHeightBase:hr,FontSize14Mobile:tn,FontSize14Print:rn,FontSize14Tablet:nn,FontSize16Mobile:an,FontSize16Print:on,FontSize16Tablet:sn,FontSize19Mobile:ln,FontSize19Print:dn,FontSize19Tablet:cn,FontSize22Mobile:un,FontSize22Print:fn,FontSize22Tablet:hn,FontSize26Mobile:mn,FontSize26Print:pn,FontSize26Tablet:gn,FontSize36Mobile:bn,FontSize36Print:xn,FontSize36Tablet:yn,FontSize48Mobile:vn,FontSize48Print:Sn,FontSize48Tablet:kn,FontSizeBase:ur,FontWeightBold:Qt,FontWeightLight:en,FontWeightNormal:Jt,FormBorderRadius:Xl,FormBorderWidthDefault:Kl,FormBorderWidthError:Zl,FormErrorTextDefault:Vl,FormErrorTypographyWeight:Yl,FormHintTextDefault:ql,FormInputBackgroundDefault:Il,FormInputBackgroundDisabled:Ml,FormInputBackgroundError:Ll,FormInputBackgroundFocus:El,FormInputBorderDefault:Al,FormInputBorderDisabled:Hl,FormInputBorderError:Pl,FormInputBorderFocus:$l,FormInputTextDefault:Rl,FormInputTextDisabled:Wl,FormInputTextPlaceholder:zl,FormLabelTextDefault:Ol,FormLabelTextRequired:Ul,FormLabelTypographyWeight:Gl,FormSpacingCheckboxLabelPadding:Ia,FormSpacingCheckboxSize:Fa,FormSpacingInputMinHeight:Ba,FormSpacingInputPadding:Da,GridGutter:jc,GridGutterHalf:Nc,GridPageWidth:Cc,HeadingsNhsukHeadingL:Qe,HeadingsNhsukHeadingM:et,HeadingsNhsukHeadingS:tt,HeadingsNhsukHeadingXl:Je,HeadingsNhsukHeadingXs:nt,LayoutColumnActions:vc,LayoutColumnFull:pc,LayoutColumnHalf:bc,LayoutColumnQuarter:xc,LayoutColumnThird:yc,LayoutContainerMaxWidth:gc,ParagraphsBody:rt,ParagraphsBodyLarge:at,ParagraphsBodySmall:st,ParagraphsLedeText:ot,ParagraphsLedeTextSmall:it,ShadowButtonDefault:Oc,ShadowButtonFocus:Vc,ShadowButtonSecondary:Uc,ShadowButtonWarning:Gc,ShadowCardDefault:Yc,ShadowCardHover:qc,SizeButtonMinHeightDesktop:mc,SizeButtonMinHeightMobile:fc,SizeFormControlLarge:sc,SizeFormControlMedium:ac,SizeFormControlSmall:rc,SizeFormInputWidth2xl:uc,SizeFormInputWidth3xl:hc,SizeFormInputWidthLg:cc,SizeFormInputWidthMd:lc,SizeFormInputWidthSm:ic,SizeFormInputWidthXl:dc,SizeFormInputWidthXs:oc,SizeIconExtraLarge:tc,SizeIconLarge:ec,SizeIconMedium:Ql,SizeIconNhsDefault:nc,SizeIconSmall:Jl,Spacing0:Ea,Spacing1:Ma,Spacing2:La,Spacing3:Aa,Spacing4:$a,Spacing5:Pa,Spacing6:Ha,Spacing7:Ra,Spacing8:za,Spacing9:Wa,SpacingResponsive0Mobile:Gn,SpacingResponsive0Tablet:Vn,SpacingResponsive1Mobile:Yn,SpacingResponsive1Tablet:qn,SpacingResponsive2Mobile:Kn,SpacingResponsive2Tablet:Zn,SpacingResponsive3Mobile:Xn,SpacingResponsive3Tablet:Jn,SpacingResponsive4Mobile:Qn,SpacingResponsive4Tablet:er,SpacingResponsive5Mobile:tr,SpacingResponsive5Tablet:nr,SpacingResponsive6Mobile:rr,SpacingResponsive6Tablet:ar,SpacingResponsive7Mobile:sr,SpacingResponsive7Tablet:or,SpacingResponsive8Mobile:ir,SpacingResponsive8Tablet:lr,SpacingResponsive9Mobile:cr,SpacingResponsive9Tablet:dr,StateDisabledBackground:Rc,StateDisabledBorder:zc,StateDisabledText:Wc,StateErrorBackground:Tc,StateErrorBorder:Dc,StateErrorText:Bc,StateInfoBackground:$c,StateInfoBorder:Pc,StateInfoText:Hc,StateSuccessBackground:Fc,StateSuccessBorder:Ic,StateSuccessText:Ec,StateWarningBackground:Mc,StateWarningBorder:Lc,StateWarningText:Ac,TransitionButtonDefault:Do,TransitionButtonShadow:Bo,TransitionCardHover:Io,TransitionInputFocus:Fo},Symbol.toStringTag,{value:"Module"})),Kf=(e,t)=>({fontSize:e.mobile,marginBottom:t.mobile,"@media (min-width: 768px)":{fontSize:e.tablet,marginBottom:t.tablet},"@media print":{fontSize:e.print||e.tablet}}),Zf=({children:e,className:t="",style:r={}})=>n.jsx("h1",{className:t,style:{fontFamily:Je.fontFamily,fontWeight:Je.fontWeight,fontSize:Je.fontSize.mobile,lineHeight:Je.lineHeight,marginTop:Je.marginTop,marginBottom:Je.marginBottom.mobile,...r},children:e}),Xf=({children:e,className:t="",style:r={}})=>n.jsx("h2",{className:t,style:{fontFamily:Qe.fontFamily,fontWeight:Qe.fontWeight,fontSize:Qe.fontSize.mobile,lineHeight:Qe.lineHeight,marginTop:Qe.marginTop,marginBottom:Qe.marginBottom.mobile,...r},children:e}),Jf=({children:e,className:t="",style:r={}})=>n.jsx("h3",{className:t,style:{fontFamily:et.fontFamily,fontWeight:et.fontWeight,fontSize:et.fontSize.mobile,lineHeight:et.lineHeight,marginTop:et.marginTop,marginBottom:et.marginBottom.mobile,...r},children:e}),Qf=({children:e,className:t="",style:r={}})=>n.jsx("h4",{className:t,style:{fontFamily:tt.fontFamily,fontWeight:tt.fontWeight,fontSize:tt.fontSize.mobile,lineHeight:tt.lineHeight,marginTop:tt.marginTop,marginBottom:tt.marginBottom.mobile,...r},children:e}),em=({children:e,className:t="",style:r={}})=>n.jsx("h5",{className:t,style:{fontFamily:nt.fontFamily,fontWeight:nt.fontWeight,fontSize:nt.fontSize.mobile,lineHeight:nt.lineHeight,marginTop:nt.marginTop,marginBottom:nt.marginBottom.mobile,...r},children:e}),tm=({children:e,className:t="",style:r={}})=>n.jsx("p",{className:t,style:{fontFamily:rt.fontFamily,fontWeight:rt.fontWeight,fontSize:rt.fontSize.mobile,lineHeight:rt.lineHeight,marginTop:rt.marginTop,marginBottom:rt.marginBottom.mobile,...r},children:e}),nm=({children:e,className:t="",style:r={}})=>n.jsx("p",{className:t,style:{fontFamily:at.fontFamily,fontWeight:at.fontWeight,fontSize:at.fontSize.mobile,lineHeight:at.lineHeight,marginTop:at.marginTop,marginBottom:at.marginBottom.mobile,...r},children:e}),rm=({children:e,className:t="",style:r={}})=>n.jsx("p",{className:t,style:{fontFamily:st.fontFamily,fontWeight:st.fontWeight,fontSize:st.fontSize.mobile,lineHeight:st.lineHeight,marginTop:st.marginTop,marginBottom:st.marginBottom.mobile,...r},children:e}),am=({children:e,className:t="",style:r={}})=>n.jsx("p",{className:t,style:{fontFamily:ot.fontFamily,fontWeight:ot.fontWeight,fontSize:ot.fontSize.mobile,lineHeight:ot.lineHeight,marginTop:ot.marginTop,marginBottom:ot.marginBottom.mobile,...r},children:e}),sm=({children:e,className:t="",style:r={}})=>n.jsx("p",{className:t,style:{fontFamily:it.fontFamily,fontWeight:it.fontWeight,fontSize:it.fontSize.mobile,lineHeight:it.lineHeight,marginTop:it.marginTop,marginBottom:it.marginBottom.mobile,...r},children:e}),om=()=>f.useMemo(()=>qf,[]),im=()=>f.useMemo(()=>({BorderColorDefault:Qr,BorderColorForm:ea,BorderColorCard:ta,BorderColorCardHover:na,BorderColorError:ra,ColorPrimaryBlue:aa,ColorPrimaryWhite:sa,ColorPrimaryBlack:oa,ColorPrimaryGreen:ia,ColorPrimaryPurple:la,ColorPrimaryDarkPink:ca,ColorPrimaryRed:da,ColorPrimaryYellow:ua,ColorSecondaryPaleYellow:ha,ColorSecondaryWarmYellow:fa,ColorSecondaryOrange:ma,ColorSecondaryAquaGreen:ga,ColorSecondaryPink:pa,ColorGrey1:ba,ColorGrey2:ya,ColorGrey3:xa,ColorGrey4:va,ColorGrey5:ka}),[]),lm=()=>f.useMemo(()=>({Spacing0:Ea,Spacing1:Ma,Spacing2:La,Spacing3:Aa,Spacing4:$a,Spacing5:Pa,Spacing6:Ha,Spacing7:Ra,Spacing8:za,Spacing9:Wa}),[]),cm=()=>f.useMemo(()=>({Mobile:{Size14:tn,Size16:an,Size19:ln,Size22:un,Size26:mn,Size36:bn,Size48:vn},Tablet:{Size14:nn,Size16:sn,Size19:cn,Size22:hn,Size26:gn,Size36:yn,Size48:kn},Print:{Size14:rn,Size16:on,Size19:dn,Size22:fn,Size26:pn,Size36:xn,Size48:Sn},Family:{Base:Kt,Fallback:Zt,Print:Xt},Weight:{Normal:Jt,Bold:Qt,Light:en},Base:{Size:ur,LineHeight:hr},FontFamilyBase:Kt,FontFamilyFallback:Zt,FontFamilyPrint:Xt,FontWeightNormal:Jt,FontWeightBold:Qt,FontWeightLight:en,FontSize14Mobile:tn,FontSize14Tablet:nn,FontSize14Print:rn,FontSize16Mobile:an,FontSize16Tablet:sn,FontSize16Print:on,FontSize19Mobile:ln,FontSize19Tablet:cn,FontSize19Print:dn,FontSize22Mobile:un,FontSize22Tablet:hn,FontSize22Print:fn,FontSize26Mobile:mn,FontSize26Tablet:gn,FontSize26Print:pn,FontSize36Mobile:bn,FontSize36Tablet:yn,FontSize36Print:xn,FontSize48Mobile:vn,FontSize48Tablet:kn,FontSize48Print:Sn,FontSizeBase:ur,FontLineHeightBase:hr}),[]),dm=()=>f.useMemo(()=>({Mobile:{Size0:Gn,Size1:Yn,Size2:Kn,Size3:Xn,Size4:Qn,Size5:tr,Size6:rr,Size7:sr,Size8:ir,Size9:cr},Tablet:{Size0:Vn,Size1:qn,Size2:Zn,Size3:Jn,Size4:er,Size5:nr,Size6:ar,Size7:or,Size8:lr,Size9:dr},SpacingResponsive0Mobile:Gn,SpacingResponsive0Tablet:Vn,SpacingResponsive1Mobile:Yn,SpacingResponsive1Tablet:qn,SpacingResponsive2Mobile:Kn,SpacingResponsive2Tablet:Zn,SpacingResponsive3Mobile:Xn,SpacingResponsive3Tablet:Jn,SpacingResponsive4Mobile:Qn,SpacingResponsive4Tablet:er,SpacingResponsive5Mobile:tr,SpacingResponsive5Tablet:nr,SpacingResponsive6Mobile:rr,SpacingResponsive6Tablet:ar,SpacingResponsive7Mobile:sr,SpacingResponsive7Tablet:or,SpacingResponsive8Mobile:ir,SpacingResponsive8Tablet:lr,SpacingResponsive9Mobile:cr,SpacingResponsive9Tablet:dr}),[]),um=()=>f.useMemo(()=>({ButtonSpacingPaddingVerticalMobile:Sa,ButtonSpacingPaddingHorizontalMobile:_a,ButtonSpacingPaddingVerticalDesktop:wa,ButtonSpacingPaddingHorizontalDesktop:Ca,CardSpacingPaddingMobile:ja,CardSpacingPaddingDesktop:Na,CardSpacingHeadingMargin:Ta,FormSpacingInputPadding:Da,FormSpacingInputMinHeight:Ba,FormSpacingCheckboxSize:Fa,FormSpacingCheckboxLabelPadding:Ia}),[]),hm=()=>f.useMemo(()=>({xl:Je,l:Qe,m:et,s:tt,xs:nt}),[]),fm=()=>f.useMemo(()=>({body:rt,bodyLarge:at,bodySmall:st,ledeText:ot,ledeTextSmall:it}),[]),mm=()=>f.useMemo(()=>({headings:{xl:Je,l:Qe,m:et,s:tt,xs:nt},paragraphs:{body:rt,bodyLarge:at,bodySmall:st,ledeText:ot,ledeTextSmall:it},fonts:{family:{base:Kt,fallback:Zt,print:Xt},weight:{normal:Jt,bold:Qt,light:en},sizes:{mobile:{size14:tn,size16:an,size19:ln,size22:un,size26:mn,size36:bn,size48:vn},tablet:{size14:nn,size16:sn,size19:cn,size22:hn,size26:gn,size36:yn,size48:kn},print:{size14:rn,size16:on,size19:dn,size22:fn,size26:pn,size36:xn,size48:Sn}}}}),[]);function gm(e={}){const{initialLayout:t=void 0,fallbackLayout:r="two-column"}=e,[a,i]=le.useState(t),s=le.useCallback(()=>i("three-column"),[]),l=le.useCallback(()=>i(u=>u==="three-column"?r:u),[r]),c=le.useCallback(()=>i(u=>u==="three-column"?r:"three-column"),[r]);return{forceLayout:a,setLayout:i,drillIn:s,drillOut:l,toggle:c,isDrilledIn:a==="three-column"}}const Oa={fontPath:"https://assets.nhs.uk/fonts/",includeFontFace:!0,useFallbacks:!0,fontWeights:[400,600]},Oe={normal:{woff2:"FrutigerLTW01-55Roman.woff2",woff:"FrutigerLTW01-55Roman.woff",ttf:"FrutigerLTW01-55Roman.ttf",eot:"FrutigerLTW01-55Roman.eot"},bold:{woff2:"FrutigerLTW01-65Bold.woff2",woff:"FrutigerLTW01-65Bold.woff",ttf:"FrutigerLTW01-65Bold.ttf",eot:"FrutigerLTW01-65Bold.eot"}};function pm(e={}){const{fontPath:t,fontWeights:r}={...Oa,...e},a=[];return r?.includes(400)&&a.push(`
=======
  `}function Ed(){if(typeof document>"u"||document.getElementById("nhs-fonts"))return;const e=document.createElement("style");e.id="nhs-fonts",e.textContent=Id(),document.head.appendChild(e)}const Ld=({children:e,theme:t})=>(h.useEffect(()=>{Ed()},[]),n.jsx(Bd,{theme:t,children:e})),kr=({mode:e="form",action:t="/search",method:r="get",name:a="q",value:i,placeholder:s="Search",visuallyHiddenLabel:l="Search the NHS website",visuallyHiddenButton:c="Search",className:d,disabled:u=!1,callbacks:f={},isLoading:g=!1,showResults:b=!1,results:p=[],formAttributes:N={},inputAttributes:y={},buttonAttributes:S={},preventDefaultSubmit:q=!1,debounceMs:M=300,minQueryLength:w=1})=>{const[_,A]=h.useState(""),[k,R]=h.useState(!1),H=h.useRef(void 0),I=h.useRef(null),x=h.useRef(null),L=e==="controlled"&&i!==void 0,ee=L?i:_,ue=h.useCallback(re=>{H.current&&clearTimeout(H.current),H.current=setTimeout(()=>{f.onChange&&re.length>=w&&f.onChange(re)},M)},[f.onChange,M,w]),Q=h.useCallback(re=>{const $=re.target.value;L||A($),e!=="form"&&ue($)},[L,e,ue]),E=h.useCallback(re=>{const $=ee.trim(),le={query:$,timestamp:Date.now(),formData:new FormData(re.currentTarget)};e==="controlled"||e==="hybrid"&&q?(re.preventDefault(),f.onSearch&&$.length>=w&&f.onSearch(le)):e==="hybrid"&&f.onSearch&&$.length>=w&&f.onSearch(le)},[e,ee,f.onSearch,q,w]),v=h.useCallback(()=>{R(!0),f.onFocus?.()},[f.onFocus]),D=h.useCallback(()=>{R(!1),f.onBlur?.()},[f.onBlur]),he=h.useCallback(()=>{L||A(""),f.onClear?.(),x.current?.focus()},[L,f.onClear]);h.useEffect(()=>()=>{H.current&&clearTimeout(H.current)},[]);const W=()=>n.jsx("svg",{className:ne("nhsuk-icon nhsuk-icon__search",{"nhsuk-icon__search--loading":g}),xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24","aria-hidden":"true",focusable:"false",children:n.jsx("path",{d:"M19.71 18.29l-4.11-4.1a7 7 0 1 0-1.41 1.41l4.1 4.11a1 1 0 0 0 1.42 0 1 1 0 0 0 0-1.42zM5 10a5 5 0 1 1 5 5 5 5 0 0 1-5-5z"})}),T=()=>n.jsx("svg",{className:"nhsuk-icon nhsuk-icon__spinner",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24","aria-hidden":"true",focusable:"false",children:n.jsxs("circle",{cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"2",fill:"none",strokeLinecap:"round",strokeDasharray:"31.416",strokeDashoffset:"31.416",children:[n.jsx("animate",{attributeName:"stroke-dasharray",dur:"2s",values:"0 31.416;15.708 15.708;0 31.416",repeatCount:"indefinite"}),n.jsx("animate",{attributeName:"stroke-dashoffset",dur:"2s",values:"0;-15.708;-31.416",repeatCount:"indefinite"})]})}),se=()=>!ee||e==="form"?null:n.jsx("button",{type:"button",className:"nhsuk-header__search-clear",onClick:he,"aria-label":"Clear search",children:n.jsx("svg",{className:"nhsuk-icon nhsuk-icon__close",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24","aria-hidden":"true",focusable:"false",children:n.jsx("path",{d:"M13.41 12l5.3-5.29a1 1 0 1 0-1.42-1.42L12 10.59l-5.29-5.3a1 1 0 0 0-1.42 1.42l5.3 5.29-5.3 5.29a1 1 0 0 0 1.42 1.42l5.29-5.3 5.29 5.3a1 1 0 0 0 1.42-1.42z"})})}),P=()=>!b||!p.length||!k?null:n.jsx("div",{className:"nhsuk-header__search-results",role:"listbox",children:p.map(re=>n.jsx("div",{className:"nhsuk-header__search-result",role:"option",children:re.href?n.jsxs("a",{href:re.href,className:"nhsuk-header__search-result-link",children:[n.jsx("span",{className:"nhsuk-header__search-result-title",children:re.title}),re.description&&n.jsx("span",{className:"nhsuk-header__search-result-description",children:re.description})]}):n.jsxs("button",{type:"button",className:"nhsuk-header__search-result-button",onClick:()=>f.onSearch?.({query:re.title,timestamp:Date.now()}),children:[n.jsx("span",{className:"nhsuk-header__search-result-title",children:re.title}),re.description&&n.jsx("span",{className:"nhsuk-header__search-result-description",children:re.description})]})},re.id))});return n.jsxs("div",{className:ne("nhsuk-header__search",d,{"nhsuk-header__search--controlled":e==="controlled","nhsuk-header__search--hybrid":e==="hybrid","nhsuk-header__search--loading":g,"nhsuk-header__search--focused":k,"nhsuk-header__search--has-results":b&&p.length>0}),children:[n.jsxs("form",{ref:I,className:"nhsuk-header__search-form",id:"search",action:e!=="controlled"?t:void 0,method:e!=="controlled"?r:void 0,role:"search",onSubmit:E,...N,children:[n.jsx("label",{className:"nhsuk-u-visually-hidden",htmlFor:"search-field",children:l}),n.jsxs("div",{className:"nhsuk-header__search-input-wrapper",children:[n.jsx("input",{ref:x,className:"nhsuk-header__search-input nhsuk-input",id:"search-field",name:e!=="controlled"?a:void 0,type:"search",placeholder:s,autoComplete:"off",value:ee,onChange:Q,onFocus:v,onBlur:D,disabled:u||g,...b&&p.length>0?{"aria-expanded":!0,"aria-haspopup":"listbox"}:{},...y}),se()]}),n.jsxs("button",{className:"nhsuk-header__search-submit",type:"submit",disabled:u||g||e!=="form"&&ee.length<w,...S,children:[g?T():W(),n.jsx("span",{className:"nhsuk-u-visually-hidden",children:g?"Searching...":c})]})]}),P()]})},Sr=({className:e,logo:t={},service:r={},organisation:a,search:i,account:s,navigation:l,containerClasses:c,variant:d="default",attributes:u={},...f})=>{const[g,b]=h.useState(!1),[p,N]=h.useState(!1),[y,S]=h.useState(l?.items?.length||0),[q,M]=h.useState(!1),[w,_]=h.useState(!1),[A,k]=h.useState(!1),R=h.useRef(null),H=h.useRef(null),I=h.useRef(!1),x=h.useRef(null),L=h.useRef([]),ee=h.useRef(null);h.useEffect(()=>{typeof window>"u"||(k(!0),M(!0))},[]),h.useEffect(()=>{if(!A||!l?.items?.length)return;L.current=l.items;const te=setTimeout(()=>{R.current&&H.current&&he()},100);return()=>clearTimeout(te)},[A,l?.items]);const ue=r.href&&!t.href||r.href&&r.href===t.href,Q=ue?r.href:t.href,E=ne("nhsuk-header",{"nhsuk-header--organisation":d==="organisation"||a,"nhsuk-header--white":d==="white"},e),v=ne("nhsuk-header__container","nhsuk-width-container",c),D=ne("nhsuk-header__navigation",{"nhsuk-header__navigation--white":l?.white,"nhsuk-header__navigation--justified":l?.justified},l?.className),he=h.useCallback(()=>{if(!(typeof window>"u"||I.current)&&!(!R.current||!H.current||!L.current.length)){I.current=!0;try{const te=H.current,K=R.current,X=te.offsetWidth,V=K.querySelectorAll(".nhsuk-header__navigation-item:not(.nhsuk-header__navigation-item--more)");if(V.length===0||X===0){I.current=!1;return}const oe=window.innerWidth<768,ge=oe?16:32,O=ge*2,Ce=X-O,me=Array.from(V).map(Me=>Me.offsetWidth),pe=me.reduce((Me,Te)=>Me+Te,0),fe=oe?80:100,xe=ee.current!==null&&ee.current!==oe;if(ee.current=oe,console.log("Overflow check:",{containerWidth:X,availableContainerWidth:Ce,totalGutters:O,gutterSize:ge,totalWidth:pe,mobile:oe,breakpointChanged:xe,itemCount:me.length,measurements:me}),pe<=Ce)N(!1),S(L.current.length);else{const Me=Ce-fe;let Te=0,Ne=0;for(let j=0;j<me.length;j++){const U=Ne+me[j];if(U<=Me)Ne=U,Te=j+1;else break}Te=Math.max(1,Te);const B=Te<me.length;N(B),S(Te)}I.current=!1}catch(te){console.error("Overflow detection error:",te),N(!1),S(L.current.length),I.current=!1}}},[]);h.useEffect(()=>{if(typeof document>"u")return;const te=K=>{K.key==="Escape"&&g&&b(!1)};if(g)return document.addEventListener("keydown",te),()=>document.removeEventListener("keydown",te)},[g]),h.useEffect(()=>{if(typeof window>"u"||!A)return;const te=()=>{g&&(b(!1),_(!1)),x.current&&clearTimeout(x.current),x.current=setTimeout(()=>{L.current.length>0&&he()},250)};let K=null,X=null;return window.matchMedia&&(K=window.matchMedia("(max-width: 767px)"),X=()=>{L.current.length>0&&setTimeout(()=>he(),50)},K.addEventListener?K.addEventListener("change",X):K.addListener(X)),window.addEventListener("resize",te),()=>{window.removeEventListener("resize",te),K&&X&&(K.removeEventListener?K.removeEventListener("change",X):K.removeListener(X)),x.current&&clearTimeout(x.current)}},[A,g,he]),h.useEffect(()=>{if(typeof document>"u")return;const te=K=>{const X=K.target,V=R.current?.contains(X);g&&!V&&b(!1)};if(g)return document.addEventListener("mousedown",te),()=>document.removeEventListener("mousedown",te)},[g]);const W=te=>{te&&(te.preventDefault(),te.stopPropagation());const K=!g;b(K),K?setTimeout(()=>{_(!0)},50):_(!1)},T=()=>n.jsxs("svg",{className:"nhsuk-header__logo",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 200 80",height:"40",width:"100",focusable:"false",role:"img","aria-label":t.ariaLabel||"NHS",children:[n.jsx("title",{children:t.ariaLabel||"NHS"}),n.jsx("path",{fill:"currentcolor",d:"M200 0v80H0V0h200Zm-27.5 5.5c-14.5 0-29 5-29 22 0 10.2 7.7 13.5 14.7 16.3l.7.3c5.4 2 10.1 3.9 10.1 8.4 0 6.5-8.5 7.5-14 7.5s-12.5-1.5-16-3.5L135 70c5.5 2 13.5 3.5 20 3.5 15.5 0 32-4.5 32-22.5 0-19.5-25.5-16.5-25.5-25.5 0-5.5 5.5-6.5 12.5-6.5a35 35 0 0 1 14.5 3l4-13.5c-4.5-2-12-3-20-3Zm-131 2h-22l-14 65H22l9-45h.5l13.5 45h21.5l14-65H64l-9 45h-.5l-13-45Zm63 0h-18l-13 65h17l6-28H117l-5.5 28H129l13.5-65H125L119.5 32h-20l5-24.5Z"})]}),se=()=>t.src?n.jsx("img",{className:"nhsuk-header__organisation-logo",src:t.src,width:"280",alt:t.ariaLabel||"NHS"}):T(),P=()=>a?n.jsxs(n.Fragment,{children:[n.jsxs("span",{className:"nhsuk-header__organisation-name",children:[a.name,a.split&&n.jsxs("span",{className:"nhsuk-header__organisation-name-split",children:[" ",a.split]})]}),a.descriptor&&n.jsx("span",{className:"nhsuk-header__organisation-name-descriptor",children:a.descriptor})]}):null,re=(te,K)=>te?K?n.jsx("a",{className:"nhsuk-header__service-name",href:K,children:te}):n.jsx("span",{className:"nhsuk-header__service-name",children:te}):null,$=()=>n.jsx("svg",{className:"nhsuk-icon nhsuk-icon__chevron-down",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24","aria-hidden":"true",focusable:"false",children:n.jsx("path",{d:"M15.5 12a1 1 0 0 1-.29.71l-5 5a1 1 0 0 1-1.42-1.42l4.3-4.29-4.3-4.29a1 1 0 0 1 1.42-1.42l5 5a1 1 0 0 1 .29.71z"})}),le=te=>{if(te.active||te.current){const K=te.html?n.jsx("span",{dangerouslySetInnerHTML:{__html:te.html}}):te.text;return n.jsx("strong",{className:"nhsuk-header__navigation-item-current-fallback",children:K})}return te.html?n.jsx("span",{dangerouslySetInnerHTML:{__html:te.html}}):te.text};return n.jsxs("header",{className:E,role:"banner","data-module":"nhsuk-header",...u,...f,children:[n.jsxs("div",{className:v,children:[n.jsxs("div",{className:"nhsuk-header__service",children:[Q?n.jsxs("a",{className:"nhsuk-header__service-logo",href:Q,children:[se(),P(),ue&&re(r.text)]}):n.jsxs(n.Fragment,{children:[se(),P(),ue&&re(r.text)]}),r.text&&!ue&&re(r.text,r.href)]}),i&&n.jsx(kr,{...i}),n.jsx(jn,{...s,variant:d==="white"?"white":"default"})]}),l&&l.items&&l.items.length>0&&n.jsx("nav",{className:D,"aria-label":l.ariaLabel||"Menu",children:n.jsx("div",{className:ne("nhsuk-header__navigation-container","nhsuk-width-container",{"nhsuk-header__navigation-container--initializing":!q&&A,"nhsuk-header__navigation-container--ssr":!A},c),ref:H,children:n.jsxs("ul",{className:"nhsuk-header__navigation-list",ref:R,children:[(A?l.items.slice(0,y):l.items).map((te,K)=>n.jsx("li",{className:ne("nhsuk-header__navigation-item",{"nhsuk-header__navigation-item--current":te.active||te.current,"nhsuk-header__navigation-item--ssr-fallback":!A&&K>=4},te.className),...te.attributes||{},children:n.jsx("a",{className:"nhsuk-header__navigation-link",href:te.href,...te.active||te.current?{"aria-current":te.current?"page":"true"}:{},children:le(te)})},K)),A&&p&&y<l.items.length&&n.jsx("li",{className:"nhsuk-header__navigation-item nhsuk-header__navigation-item--more",children:n.jsxs("a",{className:"nhsuk-header__navigation-button",id:"toggle-more-menu",onClick:W,type:"button",children:[n.jsx("span",{children:"More"}),$()]})})]})})}),A&&l&&l.items&&l.items.length>0&&g&&w&&n.jsx("div",{className:"nhsuk-header__dropdown-menu",hidden:!w,children:n.jsx("ul",{className:"nhsuk-header__dropdown-list",children:l.items.slice(y).map((te,K)=>n.jsx("li",{className:ne("nhsuk-header__dropdown-item",{"nhsuk-header__dropdown-item--current":te.active||te.current}),children:n.jsx("a",{className:"nhsuk-header__dropdown-link",href:te.href,...te.active||te.current?{"aria-current":te.current?"page":"true"}:{},onClick:()=>{b(!1),_(!1)},children:le(te)})},`overflow-${y+K}`))})})]})},Md=({className:e,logo:t={},service:r={},organisation:a,search:i,account:s,navigation:l,containerClasses:c,variant:d="default",attributes:u={},...f})=>{const g=r.href&&!t.href||r.href&&r.href===t.href,b=g?r.href:t.href,p=ne("nhsuk-header","nhsuk-header--ssr",{"nhsuk-header--organisation":d==="organisation"||a,"nhsuk-header--white":d==="white"},e),N=ne("nhsuk-header__container","nhsuk-width-container",c),y=ne("nhsuk-header__navigation",l?.className),S=()=>n.jsxs("svg",{className:"nhsuk-header__logo",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 200 80",height:"40",width:"100",focusable:"false",role:"img","aria-label":t.ariaLabel||"NHS",children:[n.jsx("title",{children:t.ariaLabel||"NHS"}),n.jsx("path",{fill:"currentcolor",d:"M200 0v80H0V0h200Zm-27.5 5.5c-14.5 0-29 5-29 22 0 10.2 7.7 13.5 14.7 16.3l.7.3c5.4 2 10.1 3.9 10.1 8.4 0 6.5-8.5 7.5-14 7.5s-12.5-1.5-16-3.5L135 70c5.5 2 13.5 3.5 20 3.5 15.5 0 32-4.5 32-22.5 0-19.5-25.5-16.5-25.5-25.5 0-5.5 5.5-6.5 12.5-6.5a35 35 0 0 1 14.5 3l4-13.5c-4.5-2-12-3-20-3Zm-131 2h-22l-14 65H22l9-45h.5l13.5 45h21.5l14-65H64l-9 45h-.5l-13-45Zm63 0h-18l-13 65h17l6-28H117l-5.5 28H129l13.5-65H125L119.5 32h-20l5-24.5Z"})]}),q=()=>t.src?n.jsx("img",{className:"nhsuk-header__organisation-logo",src:t.src,width:"280",alt:t.ariaLabel||"NHS",role:"img","aria-label":t.ariaLabel||"NHS"}):S(),M=()=>a?n.jsxs(n.Fragment,{children:[n.jsxs("span",{className:"nhsuk-header__organisation-name",children:[a.name,a.split&&n.jsxs("span",{className:"nhsuk-header__organisation-name-split",children:[" ",a.split]})]}),a.descriptor&&n.jsx("span",{className:"nhsuk-header__organisation-name-descriptor",children:a.descriptor})]}):null,w=(k,R)=>k?R?n.jsx("a",{className:"nhsuk-header__service-name",href:R,children:k}):n.jsx("span",{className:"nhsuk-header__service-name",children:k}):null,_=()=>!l?.items||l.items.length===0?null:l.items.map((k,R)=>n.jsx("li",{className:"nhsuk-header__navigation-item","data-navigation-item":"true",children:n.jsx("a",{className:"nhsuk-header__navigation-link",href:k.href,...k.attributes||{},children:k.text})},k.href||R)),A=()=>i?n.jsx(kr,{...i}):null;return n.jsxs("header",{className:p,role:"banner","data-progressive-enhancement":"true","data-navigation-items-count":l?.items?.length||0,...u,...f,children:[n.jsxs("div",{className:N,children:[n.jsxs("div",{className:"nhsuk-header__service",children:[b?n.jsxs("a",{className:"nhsuk-header__service-logo",href:b,children:[q(),M(),g&&w(r.text)]}):n.jsxs(n.Fragment,{children:[q(),M(),g&&w(r.text)]}),r.text&&!g&&w(r.text,r.href)]}),(d==="organisation"||a)&&n.jsxs("div",{className:"nhsuk-header__content",id:"content-header",children:[a&&n.jsxs("div",{className:"nhsuk-header__organisation",children:[n.jsx("span",{className:"nhsuk-header__organisation-name",children:a.name}),a.descriptor&&n.jsx("span",{className:"nhsuk-header__organisation-descriptor",children:a.descriptor})]}),A()]}),d!=="organisation"&&!a&&A(),n.jsx(jn,{...s,variant:d==="white"?"white":"default"})]}),l&&l.items&&l.items.length>0&&n.jsx("nav",{className:y,id:"header-navigation",role:"navigation","aria-label":l.ariaLabel||"Primary navigation","data-navigation-enhanced":"false",children:n.jsx("div",{className:"nhsuk-width-container",children:n.jsx("ul",{className:"nhsuk-header__navigation-list","data-navigation-list":"true",children:_()})})})]})},Ad=({className:e,logo:t={},service:r={},organisation:a,search:i,account:s,navigation:l,containerClasses:c,variant:d="default",attributes:u={},maxVisibleItems:f=5,...g})=>{const b=r.href&&!t.href||r.href&&r.href===t.href,p=b?r.href:t.href,N=ne("nhsuk-header","nhsuk-header--static",{"nhsuk-header--organisation":d==="organisation"||a,"nhsuk-header--white":d==="white"},e),y=ne("nhsuk-header__container","nhsuk-width-container",c),S=ne("nhsuk-header__navigation","nhsuk-header__navigation--static",{"nhsuk-header__navigation--white":l?.white,"nhsuk-header__navigation--justified":l?.justified},l?.className),q=()=>n.jsxs("svg",{className:"nhsuk-header__logo",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 200 80",height:"40",width:"100",focusable:"false",role:"img","aria-label":t.ariaLabel||"NHS",children:[n.jsx("title",{children:t.ariaLabel||"NHS"}),n.jsx("path",{fill:"currentcolor",d:"M200 0v80H0V0h200Zm-27.5 5.5c-14.5 0-29 5-29 22 0 10.2 7.7 13.5 14.7 16.3l.7.3c5.4 2 10.1 3.9 10.1 8.4 0 6.5-8.5 7.5-14 7.5s-12.5-1.5-16-3.5L135 70c5.5 2 13.5 3.5 20 3.5 15.5 0 32-4.5 32-22.5 0-19.5-25.5-16.5-25.5-25.5 0-5.5 5.5-6.5 12.5-6.5a35 35 0 0 1 14.5 3l4-13.5c-4.5-2-12-3-20-3Zm-131 2h-22l-14 65H22l9-45h.5l13.5 45h21.5l14-65H64l-9 45h-.5l-13-45Zm63 0h-18l-13 65h17l6-28H117l-5.5 28H129l13.5-65H125L119.5 32h-20l5-24.5Z"})]}),M=()=>t.src?n.jsx("img",{className:"nhsuk-header__logo",src:t.src,alt:t.ariaLabel||"",width:"100",height:"40"}):q(),w=()=>a?n.jsxs(n.Fragment,{children:[n.jsxs("span",{className:"nhsuk-header__organisation-name",children:[a.name,a.split&&n.jsxs("span",{className:"nhsuk-header__organisation-name-split",children:[" ",a.split]})]}),a.descriptor&&n.jsx("span",{className:"nhsuk-header__organisation-name-descriptor",children:a.descriptor})]}):null,_=(k,R)=>k?R?n.jsx("a",{className:"nhsuk-header__service-name",href:R,children:k}):n.jsx("span",{className:"nhsuk-header__service-name",children:k}):null,A=k=>{if(k.active||k.current){const R=k.html?n.jsx("span",{dangerouslySetInnerHTML:{__html:k.html}}):k.text;return n.jsx("strong",{className:"nhsuk-header__navigation-item-current-fallback",children:R})}return k.html?n.jsx("span",{dangerouslySetInnerHTML:{__html:k.html}}):k.text};return n.jsxs("header",{className:N,role:"banner","data-module":"nhsuk-header-static",...u,...g,children:[n.jsxs("div",{className:y,children:[n.jsxs("div",{className:"nhsuk-header__service",children:[p?n.jsxs("a",{className:"nhsuk-header__service-logo",href:p,children:[M(),w(),b&&_(r.text)]}):n.jsxs(n.Fragment,{children:[M(),w(),b&&_(r.text)]}),r.text&&!b&&_(r.text,r.href)]}),n.jsx(jn,{...s,variant:d==="white"?"white":"default"})]}),l&&l.items&&l.items.length>0&&n.jsx("nav",{className:S,"aria-label":l.ariaLabel||"Menu",children:n.jsx("div",{className:ne("nhsuk-header__navigation-container","nhsuk-width-container","nhsuk-header__navigation-container--static",c),children:n.jsxs("ul",{className:"nhsuk-header__navigation-list nhsuk-header__navigation-list--primary",children:[l.items.slice(0,f).map((k,R)=>n.jsx("li",{className:ne("nhsuk-header__navigation-item","nhsuk-header__navigation-item--primary",{"nhsuk-header__navigation-item--current":k.active||k.current},k.className),...k.attributes||{},children:n.jsx("a",{className:"nhsuk-header__navigation-link",href:k.href,...k.active||k.current?{"aria-current":k.current?"page":"true"}:{},children:A(k)})},R)),l.items.length>f&&n.jsx("li",{className:"nhsuk-header__navigation-item nhsuk-header__navigation-item--more nhsuk-header__navigation-item--static",children:n.jsxs("details",{className:"nhsuk-header__navigation-details",children:[n.jsxs("summary",{className:"nhsuk-header__navigation-summary",children:[n.jsx("span",{children:"More"}),n.jsx("svg",{className:"nhsuk-icon nhsuk-icon__chevron-down",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24","aria-hidden":"true",focusable:"false",children:n.jsx("path",{d:"M15.5 12a1 1 0 0 1-.29.71l-5 5a1 1 0 0 1-1.42-1.42l4.3-4.29-4.3-4.29a1 1 0 0 1 1.42-1.42l5 5a1 1 0 0 1 .29.71z"})})]}),n.jsx("ul",{className:"nhsuk-header__navigation-dropdown",children:l.items.slice(f).map((k,R)=>n.jsx("li",{className:ne("nhsuk-header__navigation-dropdown-item",{"nhsuk-header__navigation-dropdown-item--current":k.active||k.current}),children:n.jsx("a",{className:"nhsuk-header__navigation-dropdown-link",href:k.href,...k.active||k.current?{"aria-current":k.current?"page":"true"}:{},children:A(k)})},`overflow-${f+R}`))})]})})]})})})]})},hs=({heading:e,headingLevel:t=1,headingClasses:r="",text:a,html:i,imageURL:s,containerClasses:l="",classes:c="",children:d,...u})=>{const f=["nhsuk-hero",s&&e?"nhsuk-hero--image nhsuk-hero--image-description":"",s&&!e?"nhsuk-hero--image":"",c].filter(Boolean).join(" "),g=["nhsuk-width-container",l,s?"":"nhsuk-hero--border"].filter(Boolean).join(" "),b=["nhsuk-hero__heading",r,!d&&!a&&!i?"nhsuk-u-margin-bottom-0":""].filter(Boolean).join(" "),p=d||e||a||i,N=()=>{if(!e)return null;const y={className:b};switch(t){case 1:return n.jsx("h1",{...y,children:e});case 2:return n.jsx("h2",{...y,children:e});case 3:return n.jsx("h3",{...y,children:e});case 4:return n.jsx("h4",{...y,children:e});case 5:return n.jsx("h5",{...y,children:e});case 6:return n.jsx("h6",{...y,children:e});default:return n.jsx("h1",{...y,children:e})}};return n.jsxs("section",{className:f,style:s?{backgroundImage:`url('${s}')`}:void 0,role:"banner",...u,children:[s&&n.jsx("div",{className:"nhsuk-hero__overlay",children:p&&n.jsx("div",{className:g,children:n.jsx("div",{className:"nhsuk-grid-row",children:n.jsx("div",{className:"nhsuk-grid-column-two-thirds",children:n.jsxs("div",{className:"nhsuk-hero-content",children:[N(),d||(i?n.jsx("div",{dangerouslySetInnerHTML:{__html:i}}):a?n.jsx("p",{className:"nhsuk-body-l nhsuk-u-margin-bottom-0",children:a}):null),n.jsx("span",{className:"nhsuk-hero__arrow","aria-hidden":"true"})]})})})})}),!s&&p&&n.jsx("div",{className:g,children:n.jsx("div",{className:"nhsuk-grid-row",children:n.jsx("div",{className:"nhsuk-grid-column-two-thirds",children:n.jsxs("div",{className:"nhsuk-hero__wrapper",children:[N(),d||(i?n.jsx("div",{dangerouslySetInnerHTML:{__html:i}}):a?n.jsx("p",{className:"nhsuk-body-l nhsuk-u-margin-bottom-0",children:a}):null)]})})})})]})};hs.displayName="Hero";const wr=({className:e,links:t=[],linksColumn2:r,linksColumn3:a,metaLinks:i,copyright:s="Â© NHS England",containerClasses:l,attributes:c={},style:d,footerStyle:u,containerStyle:f})=>{const g=(p,N=!1)=>n.jsx("li",{className:ne("nhsuk-footer__list-item",{"nhsuk-footer-default__list-item":N}),children:n.jsx("a",{className:"nhsuk-footer__list-item-link",href:p.URL,target:p.newWindow?"_blank":void 0,rel:p.newWindow?"noopener noreferrer":void 0,children:p.label})},`${p.URL}-${p.label}`),b=!!(r||a);return n.jsx("footer",{role:"contentinfo",...c,style:{...c?.style,...d},children:n.jsxs("div",{className:"nhsuk-footer-container",children:[n.jsxs("div",{className:ne("nhsuk-width-container",l),style:f,children:[n.jsx("h2",{className:"nhsuk-u-visually-hidden",children:"Support links"}),n.jsx("div",{className:ne("nhsuk-footer",e),style:u,children:b?n.jsxs(n.Fragment,{children:[t.length>0&&n.jsx("ul",{className:"nhsuk-footer__list",children:t.map(p=>g(p))}),r&&r.length>0&&n.jsx("ul",{className:"nhsuk-footer__list",children:r.map(p=>g(p))}),a&&a.length>0&&n.jsx("ul",{className:"nhsuk-footer__list",children:a.map(p=>g(p))}),i&&i.length>0&&n.jsx("ul",{className:"nhsuk-footer__list nhsuk-footer__meta",children:i.map(p=>g(p))})]}):n.jsxs("ul",{className:"nhsuk-footer__list",children:[t.map(p=>g(p,!0)),(r||[]).map(p=>g(p,!0)),(a||[]).map(p=>g(p,!0)),(i||[]).map(p=>g(p,!0))]})}),!b&&n.jsx("div",{children:n.jsx("p",{className:"nhsuk-footer__copyright",children:s})})]}),b&&n.jsx("div",{className:"nhsuk-width-container",children:n.jsx("div",{children:n.jsx("p",{className:"nhsuk-footer__copyright",children:s})})})]})})};function In(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function $d(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function Cr(e){let t,r,a;e.length!==2?(t=In,r=(c,d)=>In(e(c),d),a=(c,d)=>e(c)-d):(t=e===In||e===$d?e:Hd,r=e,a=e);function i(c,d,u=0,f=c.length){if(u<f){if(t(d,d)!==0)return f;do{const g=u+f>>>1;r(c[g],d)<0?u=g+1:f=g}while(u<f)}return u}function s(c,d,u=0,f=c.length){if(u<f){if(t(d,d)!==0)return f;do{const g=u+f>>>1;r(c[g],d)<=0?u=g+1:f=g}while(u<f)}return u}function l(c,d,u=0,f=c.length){const g=i(c,d,u,f-1);return g>u&&a(c[g-1],d)>-a(c[g],d)?g-1:g}return{left:i,center:l,right:s}}function Hd(){return 0}function Pd(e){return e===null?NaN:+e}const Rd=Cr(In).right;Cr(Pd).center;const zd=Math.sqrt(50),Wd=Math.sqrt(10),Od=Math.sqrt(2);function fs(e,t,r){const a=(t-e)/Math.max(0,r),i=Math.floor(Math.log10(a)),s=a/Math.pow(10,i),l=s>=zd?10:s>=Wd?5:s>=Od?2:1;let c,d,u;return i<0?(u=Math.pow(10,-i)/l,c=Math.round(e*u),d=Math.round(t*u),c/u<e&&++c,d/u>t&&--d,u=-u):(u=Math.pow(10,i)*l,c=Math.round(e/u),d=Math.round(t/u),c*u<e&&++c,d*u>t&&--d),d<c&&.5<=r&&r<2?fs(e,t,r*2):[c,d,u]}function ms(e,t,r){return t=+t,e=+e,r=+r,fs(e,t,r)[2]}function gs(e,t,r){t=+t,e=+e,r=+r;const a=t<e,i=a?ms(t,e,r):ms(e,t,r);return(a?-1:1)*(i<0?1/-i:i)}function Ud(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function jr(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function ps(e,t){var r=Object.create(e.prototype);for(var a in t)r[a]=t[a];return r}function Rt(){}var zt=.7,En=1/zt,Tt="\\s*([+-]?\\d+)\\s*",Wt="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Xe="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Gd=/^#([0-9a-f]{3,8})$/,Vd=new RegExp(`^rgb\\(${Tt},${Tt},${Tt}\\)$`),Yd=new RegExp(`^rgb\\(${Xe},${Xe},${Xe}\\)$`),qd=new RegExp(`^rgba\\(${Tt},${Tt},${Tt},${Wt}\\)$`),Kd=new RegExp(`^rgba\\(${Xe},${Xe},${Xe},${Wt}\\)$`),Zd=new RegExp(`^hsl\\(${Wt},${Xe},${Xe}\\)$`),Xd=new RegExp(`^hsla\\(${Wt},${Xe},${Xe},${Wt}\\)$`),bs={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};jr(Rt,Ot,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:ys,formatHex:ys,formatHex8:Jd,formatHsl:Qd,formatRgb:xs,toString:xs});function ys(){return this.rgb().formatHex()}function Jd(){return this.rgb().formatHex8()}function Qd(){return ws(this).formatHsl()}function xs(){return this.rgb().formatRgb()}function Ot(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=Gd.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?vs(t):r===3?new Ve(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?Ln(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?Ln(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=Vd.exec(e))?new Ve(t[1],t[2],t[3],1):(t=Yd.exec(e))?new Ve(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=qd.exec(e))?Ln(t[1],t[2],t[3],t[4]):(t=Kd.exec(e))?Ln(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=Zd.exec(e))?Ss(t[1],t[2]/100,t[3]/100,1):(t=Xd.exec(e))?Ss(t[1],t[2]/100,t[3]/100,t[4]):bs.hasOwnProperty(e)?vs(bs[e]):e==="transparent"?new Ve(NaN,NaN,NaN,0):null}function vs(e){return new Ve(e>>16&255,e>>8&255,e&255,1)}function Ln(e,t,r,a){return a<=0&&(e=t=r=NaN),new Ve(e,t,r,a)}function eu(e){return e instanceof Rt||(e=Ot(e)),e?(e=e.rgb(),new Ve(e.r,e.g,e.b,e.opacity)):new Ve}function Nr(e,t,r,a){return arguments.length===1?eu(e):new Ve(e,t,r,a??1)}function Ve(e,t,r,a){this.r=+e,this.g=+t,this.b=+r,this.opacity=+a}jr(Ve,Nr,ps(Rt,{brighter(e){return e=e==null?En:Math.pow(En,e),new Ve(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?zt:Math.pow(zt,e),new Ve(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Ve(_t(this.r),_t(this.g),_t(this.b),Mn(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:_s,formatHex:_s,formatHex8:tu,formatRgb:ks,toString:ks}));function _s(){return`#${kt(this.r)}${kt(this.g)}${kt(this.b)}`}function tu(){return`#${kt(this.r)}${kt(this.g)}${kt(this.b)}${kt((isNaN(this.opacity)?1:this.opacity)*255)}`}function ks(){const e=Mn(this.opacity);return`${e===1?"rgb(":"rgba("}${_t(this.r)}, ${_t(this.g)}, ${_t(this.b)}${e===1?")":`, ${e})`}`}function Mn(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function _t(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function kt(e){return e=_t(e),(e<16?"0":"")+e.toString(16)}function Ss(e,t,r,a){return a<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new Ke(e,t,r,a)}function ws(e){if(e instanceof Ke)return new Ke(e.h,e.s,e.l,e.opacity);if(e instanceof Rt||(e=Ot(e)),!e)return new Ke;if(e instanceof Ke)return e;e=e.rgb();var t=e.r/255,r=e.g/255,a=e.b/255,i=Math.min(t,r,a),s=Math.max(t,r,a),l=NaN,c=s-i,d=(s+i)/2;return c?(t===s?l=(r-a)/c+(r<a)*6:r===s?l=(a-t)/c+2:l=(t-r)/c+4,c/=d<.5?s+i:2-s-i,l*=60):c=d>0&&d<1?0:l,new Ke(l,c,d,e.opacity)}function nu(e,t,r,a){return arguments.length===1?ws(e):new Ke(e,t,r,a??1)}function Ke(e,t,r,a){this.h=+e,this.s=+t,this.l=+r,this.opacity=+a}jr(Ke,nu,ps(Rt,{brighter(e){return e=e==null?En:Math.pow(En,e),new Ke(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?zt:Math.pow(zt,e),new Ke(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,a=r+(r<.5?r:1-r)*t,i=2*r-a;return new Ve(Tr(e>=240?e-240:e+120,i,a),Tr(e,i,a),Tr(e<120?e+240:e-120,i,a),this.opacity)},clamp(){return new Ke(Cs(this.h),An(this.s),An(this.l),Mn(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Mn(this.opacity);return`${e===1?"hsl(":"hsla("}${Cs(this.h)}, ${An(this.s)*100}%, ${An(this.l)*100}%${e===1?")":`, ${e})`}`}}));function Cs(e){return e=(e||0)%360,e<0?e+360:e}function An(e){return Math.max(0,Math.min(1,e||0))}function Tr(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}const Dr=e=>()=>e;function ru(e,t){return function(r){return e+r*t}}function au(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(a){return Math.pow(e+a*t,r)}}function su(e){return(e=+e)==1?js:function(t,r){return r-t?au(t,r,e):Dr(isNaN(t)?r:t)}}function js(e,t){var r=t-e;return r?ru(e,r):Dr(isNaN(e)?t:e)}const Ns=(function e(t){var r=su(t);function a(i,s){var l=r((i=Nr(i)).r,(s=Nr(s)).r),c=r(i.g,s.g),d=r(i.b,s.b),u=js(i.opacity,s.opacity);return function(f){return i.r=l(f),i.g=c(f),i.b=d(f),i.opacity=u(f),i+""}}return a.gamma=e,a})(1);function ou(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,a=t.slice(),i;return function(s){for(i=0;i<r;++i)a[i]=e[i]*(1-s)+t[i]*s;return a}}function iu(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function lu(e,t){var r=t?t.length:0,a=e?Math.min(r,e.length):0,i=new Array(a),s=new Array(r),l;for(l=0;l<a;++l)i[l]=Ir(e[l],t[l]);for(;l<r;++l)s[l]=t[l];return function(c){for(l=0;l<a;++l)s[l]=i[l](c);return s}}function cu(e,t){var r=new Date;return e=+e,t=+t,function(a){return r.setTime(e*(1-a)+t*a),r}}function $n(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function du(e,t){var r={},a={},i;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(i in t)i in e?r[i]=Ir(e[i],t[i]):a[i]=t[i];return function(s){for(i in r)a[i]=r[i](s);return a}}var Br=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Fr=new RegExp(Br.source,"g");function uu(e){return function(){return e}}function hu(e){return function(t){return e(t)+""}}function fu(e,t){var r=Br.lastIndex=Fr.lastIndex=0,a,i,s,l=-1,c=[],d=[];for(e=e+"",t=t+"";(a=Br.exec(e))&&(i=Fr.exec(t));)(s=i.index)>r&&(s=t.slice(r,s),c[l]?c[l]+=s:c[++l]=s),(a=a[0])===(i=i[0])?c[l]?c[l]+=i:c[++l]=i:(c[++l]=null,d.push({i:l,x:$n(a,i)})),r=Fr.lastIndex;return r<t.length&&(s=t.slice(r),c[l]?c[l]+=s:c[++l]=s),c.length<2?d[0]?hu(d[0].x):uu(t):(t=d.length,function(u){for(var f=0,g;f<t;++f)c[(g=d[f]).i]=g.x(u);return c.join("")})}function Ir(e,t){var r=typeof t,a;return t==null||r==="boolean"?Dr(t):(r==="number"?$n:r==="string"?(a=Ot(t))?(t=a,Ns):fu:t instanceof Ot?Ns:t instanceof Date?cu:iu(t)?ou:Array.isArray(t)?lu:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?du:$n)(e,t)}function mu(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}function gu(e){return function(){return e}}function pu(e){return+e}var Ts=[0,1];function Dt(e){return e}function Er(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:gu(isNaN(t)?NaN:.5)}function bu(e,t){var r;return e>t&&(r=e,e=t,t=r),function(a){return Math.max(e,Math.min(t,a))}}function yu(e,t,r){var a=e[0],i=e[1],s=t[0],l=t[1];return i<a?(a=Er(i,a),s=r(l,s)):(a=Er(a,i),s=r(s,l)),function(c){return s(a(c))}}function xu(e,t,r){var a=Math.min(e.length,t.length)-1,i=new Array(a),s=new Array(a),l=-1;for(e[a]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++l<a;)i[l]=Er(e[l],e[l+1]),s[l]=r(t[l],t[l+1]);return function(c){var d=Rd(e,c,1,a)-1;return s[d](i[d](c))}}function vu(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function _u(){var e=Ts,t=Ts,r=Ir,a,i,s,l=Dt,c,d,u;function f(){var b=Math.min(e.length,t.length);return l!==Dt&&(l=bu(e[0],e[b-1])),c=b>2?xu:yu,d=u=null,g}function g(b){return b==null||isNaN(b=+b)?s:(d||(d=c(e.map(a),t,r)))(a(l(b)))}return g.invert=function(b){return l(i((u||(u=c(t,e.map(a),$n)))(b)))},g.domain=function(b){return arguments.length?(e=Array.from(b,pu),f()):e.slice()},g.range=function(b){return arguments.length?(t=Array.from(b),f()):t.slice()},g.rangeRound=function(b){return t=Array.from(b),r=mu,f()},g.clamp=function(b){return arguments.length?(l=b?!0:Dt,f()):l!==Dt},g.interpolate=function(b){return arguments.length?(r=b,f()):r},g.unknown=function(b){return arguments.length?(s=b,g):s},function(b,p){return a=b,i=p,f()}}function ku(){return _u()(Dt,Dt)}function Su(e,t){e=e.slice();var r=0,a=e.length-1,i=e[r],s=e[a],l;return s<i&&(l=r,r=a,a=l,l=i,i=s,s=l),e[r]=t.floor(i),e[a]=t.ceil(s),e}const Lr=new Date,Mr=new Date;function He(e,t,r,a){function i(s){return e(s=arguments.length===0?new Date:new Date(+s)),s}return i.floor=s=>(e(s=new Date(+s)),s),i.ceil=s=>(e(s=new Date(s-1)),t(s,1),e(s),s),i.round=s=>{const l=i(s),c=i.ceil(s);return s-l<c-s?l:c},i.offset=(s,l)=>(t(s=new Date(+s),l==null?1:Math.floor(l)),s),i.range=(s,l,c)=>{const d=[];if(s=i.ceil(s),c=c==null?1:Math.floor(c),!(s<l)||!(c>0))return d;let u;do d.push(u=new Date(+s)),t(s,c),e(s);while(u<s&&s<l);return d},i.filter=s=>He(l=>{if(l>=l)for(;e(l),!s(l);)l.setTime(l-1)},(l,c)=>{if(l>=l)if(c<0)for(;++c<=0;)for(;t(l,-1),!s(l););else for(;--c>=0;)for(;t(l,1),!s(l););}),r&&(i.count=(s,l)=>(Lr.setTime(+s),Mr.setTime(+l),e(Lr),e(Mr),Math.floor(r(Lr,Mr))),i.every=s=>(s=Math.floor(s),!isFinite(s)||!(s>0)?null:s>1?i.filter(a?l=>a(l)%s===0:l=>i.count(0,l)%s===0):i)),i}const Hn=He(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);Hn.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?He(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):Hn),Hn.range;const ut=1e3,Ye=ut*60,ht=Ye*60,ft=ht*24,Ar=ft*7,Ds=ft*30,$r=ft*365,Bt=He(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*ut)},(e,t)=>(t-e)/ut,e=>e.getUTCSeconds());Bt.range;const Hr=He(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*ut)},(e,t)=>{e.setTime(+e+t*Ye)},(e,t)=>(t-e)/Ye,e=>e.getMinutes());Hr.range,He(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*Ye)},(e,t)=>(t-e)/Ye,e=>e.getUTCMinutes()).range;const Pr=He(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*ut-e.getMinutes()*Ye)},(e,t)=>{e.setTime(+e+t*ht)},(e,t)=>(t-e)/ht,e=>e.getHours());Pr.range,He(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*ht)},(e,t)=>(t-e)/ht,e=>e.getUTCHours()).range;const Ut=He(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Ye)/ft,e=>e.getDate()-1);Ut.range;const Rr=He(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/ft,e=>e.getUTCDate()-1);Rr.range,He(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/ft,e=>Math.floor(e/ft)).range;function St(e){return He(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,r)=>{t.setDate(t.getDate()+r*7)},(t,r)=>(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*Ye)/Ar)}const Pn=St(0),Rn=St(1),wu=St(2),Cu=St(3),Ft=St(4),ju=St(5),Nu=St(6);Pn.range,Rn.range,wu.range,Cu.range,Ft.range,ju.range,Nu.range;function wt(e){return He(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+r*7)},(t,r)=>(r-t)/Ar)}const Bs=wt(0),zn=wt(1),Tu=wt(2),Du=wt(3),It=wt(4),Bu=wt(5),Fu=wt(6);Bs.range,zn.range,Tu.range,Du.range,It.range,Bu.range,Fu.range;const zr=He(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());zr.range,He(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth()).range;const mt=He(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());mt.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:He(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)}),mt.range;const Ct=He(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());Ct.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:He(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)}),Ct.range;function Iu(e,t,r,a,i,s){const l=[[Bt,1,ut],[Bt,5,5*ut],[Bt,15,15*ut],[Bt,30,30*ut],[s,1,Ye],[s,5,5*Ye],[s,15,15*Ye],[s,30,30*Ye],[i,1,ht],[i,3,3*ht],[i,6,6*ht],[i,12,12*ht],[a,1,ft],[a,2,2*ft],[r,1,Ar],[t,1,Ds],[t,3,3*Ds],[e,1,$r]];function c(u,f,g){const b=f<u;b&&([u,f]=[f,u]);const p=g&&typeof g.range=="function"?g:d(u,f,g),N=p?p.range(u,+f+1):[];return b?N.reverse():N}function d(u,f,g){const b=Math.abs(f-u)/g,p=Cr(([,,S])=>S).right(l,b);if(p===l.length)return e.every(gs(u/$r,f/$r,g));if(p===0)return Hn.every(Math.max(gs(u,f,g),1));const[N,y]=l[b/l[p-1][2]<l[p][2]/b?p-1:p];return N.every(y)}return[c,d]}const[Eu,Lu]=Iu(mt,zr,Pn,Ut,Pr,Hr);function Wr(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function Or(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function Gt(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function Mu(e){var t=e.dateTime,r=e.date,a=e.time,i=e.periods,s=e.days,l=e.shortDays,c=e.months,d=e.shortMonths,u=Vt(i),f=Yt(i),g=Vt(s),b=Yt(s),p=Vt(l),N=Yt(l),y=Vt(c),S=Yt(c),q=Vt(d),M=Yt(d),w={a:D,A:he,b:W,B:T,c:null,d:As,e:As,f:ah,g:mh,G:ph,H:th,I:nh,j:rh,L:$s,m:sh,M:oh,p:se,q:P,Q:Os,s:Us,S:ih,u:lh,U:ch,V:dh,w:uh,W:hh,x:null,X:null,y:fh,Y:gh,Z:bh,"%":Ws},_={a:re,A:$,b:le,B:te,c:null,d:Ps,e:Ps,f:_h,g:Fh,G:Eh,H:yh,I:xh,j:vh,L:Rs,m:kh,M:Sh,p:K,q:X,Q:Os,s:Us,S:wh,u:Ch,U:jh,V:Nh,w:Th,W:Dh,x:null,X:null,y:Bh,Y:Ih,Z:Lh,"%":Ws},A={a:x,A:L,b:ee,B:ue,c:Q,d:Ls,e:Ls,f:Xu,g:Es,G:Is,H:Ms,I:Ms,j:Yu,L:Zu,m:Vu,M:qu,p:I,q:Gu,Q:Qu,s:eh,S:Ku,u:Ru,U:zu,V:Wu,w:Pu,W:Ou,x:E,X:v,y:Es,Y:Is,Z:Uu,"%":Ju};w.x=k(r,w),w.X=k(a,w),w.c=k(t,w),_.x=k(r,_),_.X=k(a,_),_.c=k(t,_);function k(V,oe){return function(ge){var O=[],Ce=-1,me=0,pe=V.length,fe,xe,Me;for(ge instanceof Date||(ge=new Date(+ge));++Ce<pe;)V.charCodeAt(Ce)===37&&(O.push(V.slice(me,Ce)),(xe=Fs[fe=V.charAt(++Ce)])!=null?fe=V.charAt(++Ce):xe=fe==="e"?" ":"0",(Me=oe[fe])&&(fe=Me(ge,xe)),O.push(fe),me=Ce+1);return O.push(V.slice(me,Ce)),O.join("")}}function R(V,oe){return function(ge){var O=Gt(1900,void 0,1),Ce=H(O,V,ge+="",0),me,pe;if(Ce!=ge.length)return null;if("Q"in O)return new Date(O.Q);if("s"in O)return new Date(O.s*1e3+("L"in O?O.L:0));if(oe&&!("Z"in O)&&(O.Z=0),"p"in O&&(O.H=O.H%12+O.p*12),O.m===void 0&&(O.m="q"in O?O.q:0),"V"in O){if(O.V<1||O.V>53)return null;"w"in O||(O.w=1),"Z"in O?(me=Or(Gt(O.y,0,1)),pe=me.getUTCDay(),me=pe>4||pe===0?zn.ceil(me):zn(me),me=Rr.offset(me,(O.V-1)*7),O.y=me.getUTCFullYear(),O.m=me.getUTCMonth(),O.d=me.getUTCDate()+(O.w+6)%7):(me=Wr(Gt(O.y,0,1)),pe=me.getDay(),me=pe>4||pe===0?Rn.ceil(me):Rn(me),me=Ut.offset(me,(O.V-1)*7),O.y=me.getFullYear(),O.m=me.getMonth(),O.d=me.getDate()+(O.w+6)%7)}else("W"in O||"U"in O)&&("w"in O||(O.w="u"in O?O.u%7:"W"in O?1:0),pe="Z"in O?Or(Gt(O.y,0,1)).getUTCDay():Wr(Gt(O.y,0,1)).getDay(),O.m=0,O.d="W"in O?(O.w+6)%7+O.W*7-(pe+5)%7:O.w+O.U*7-(pe+6)%7);return"Z"in O?(O.H+=O.Z/100|0,O.M+=O.Z%100,Or(O)):Wr(O)}}function H(V,oe,ge,O){for(var Ce=0,me=oe.length,pe=ge.length,fe,xe;Ce<me;){if(O>=pe)return-1;if(fe=oe.charCodeAt(Ce++),fe===37){if(fe=oe.charAt(Ce++),xe=A[fe in Fs?oe.charAt(Ce++):fe],!xe||(O=xe(V,ge,O))<0)return-1}else if(fe!=ge.charCodeAt(O++))return-1}return O}function I(V,oe,ge){var O=u.exec(oe.slice(ge));return O?(V.p=f.get(O[0].toLowerCase()),ge+O[0].length):-1}function x(V,oe,ge){var O=p.exec(oe.slice(ge));return O?(V.w=N.get(O[0].toLowerCase()),ge+O[0].length):-1}function L(V,oe,ge){var O=g.exec(oe.slice(ge));return O?(V.w=b.get(O[0].toLowerCase()),ge+O[0].length):-1}function ee(V,oe,ge){var O=q.exec(oe.slice(ge));return O?(V.m=M.get(O[0].toLowerCase()),ge+O[0].length):-1}function ue(V,oe,ge){var O=y.exec(oe.slice(ge));return O?(V.m=S.get(O[0].toLowerCase()),ge+O[0].length):-1}function Q(V,oe,ge){return H(V,t,oe,ge)}function E(V,oe,ge){return H(V,r,oe,ge)}function v(V,oe,ge){return H(V,a,oe,ge)}function D(V){return l[V.getDay()]}function he(V){return s[V.getDay()]}function W(V){return d[V.getMonth()]}function T(V){return c[V.getMonth()]}function se(V){return i[+(V.getHours()>=12)]}function P(V){return 1+~~(V.getMonth()/3)}function re(V){return l[V.getUTCDay()]}function $(V){return s[V.getUTCDay()]}function le(V){return d[V.getUTCMonth()]}function te(V){return c[V.getUTCMonth()]}function K(V){return i[+(V.getUTCHours()>=12)]}function X(V){return 1+~~(V.getUTCMonth()/3)}return{format:function(V){var oe=k(V+="",w);return oe.toString=function(){return V},oe},parse:function(V){var oe=R(V+="",!1);return oe.toString=function(){return V},oe},utcFormat:function(V){var oe=k(V+="",_);return oe.toString=function(){return V},oe},utcParse:function(V){var oe=R(V+="",!0);return oe.toString=function(){return V},oe}}}var Fs={"-":"",_:" ",0:"0"},ze=/^\s*\d+/,Au=/^%/,$u=/[\\^$*+?|[\]().{}]/g;function je(e,t,r){var a=e<0?"-":"",i=(a?-e:e)+"",s=i.length;return a+(s<r?new Array(r-s+1).join(t)+i:i)}function Hu(e){return e.replace($u,"\\$&")}function Vt(e){return new RegExp("^(?:"+e.map(Hu).join("|")+")","i")}function Yt(e){return new Map(e.map((t,r)=>[t.toLowerCase(),r]))}function Pu(e,t,r){var a=ze.exec(t.slice(r,r+1));return a?(e.w=+a[0],r+a[0].length):-1}function Ru(e,t,r){var a=ze.exec(t.slice(r,r+1));return a?(e.u=+a[0],r+a[0].length):-1}function zu(e,t,r){var a=ze.exec(t.slice(r,r+2));return a?(e.U=+a[0],r+a[0].length):-1}function Wu(e,t,r){var a=ze.exec(t.slice(r,r+2));return a?(e.V=+a[0],r+a[0].length):-1}function Ou(e,t,r){var a=ze.exec(t.slice(r,r+2));return a?(e.W=+a[0],r+a[0].length):-1}function Is(e,t,r){var a=ze.exec(t.slice(r,r+4));return a?(e.y=+a[0],r+a[0].length):-1}function Es(e,t,r){var a=ze.exec(t.slice(r,r+2));return a?(e.y=+a[0]+(+a[0]>68?1900:2e3),r+a[0].length):-1}function Uu(e,t,r){var a=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return a?(e.Z=a[1]?0:-(a[2]+(a[3]||"00")),r+a[0].length):-1}function Gu(e,t,r){var a=ze.exec(t.slice(r,r+1));return a?(e.q=a[0]*3-3,r+a[0].length):-1}function Vu(e,t,r){var a=ze.exec(t.slice(r,r+2));return a?(e.m=a[0]-1,r+a[0].length):-1}function Ls(e,t,r){var a=ze.exec(t.slice(r,r+2));return a?(e.d=+a[0],r+a[0].length):-1}function Yu(e,t,r){var a=ze.exec(t.slice(r,r+3));return a?(e.m=0,e.d=+a[0],r+a[0].length):-1}function Ms(e,t,r){var a=ze.exec(t.slice(r,r+2));return a?(e.H=+a[0],r+a[0].length):-1}function qu(e,t,r){var a=ze.exec(t.slice(r,r+2));return a?(e.M=+a[0],r+a[0].length):-1}function Ku(e,t,r){var a=ze.exec(t.slice(r,r+2));return a?(e.S=+a[0],r+a[0].length):-1}function Zu(e,t,r){var a=ze.exec(t.slice(r,r+3));return a?(e.L=+a[0],r+a[0].length):-1}function Xu(e,t,r){var a=ze.exec(t.slice(r,r+6));return a?(e.L=Math.floor(a[0]/1e3),r+a[0].length):-1}function Ju(e,t,r){var a=Au.exec(t.slice(r,r+1));return a?r+a[0].length:-1}function Qu(e,t,r){var a=ze.exec(t.slice(r));return a?(e.Q=+a[0],r+a[0].length):-1}function eh(e,t,r){var a=ze.exec(t.slice(r));return a?(e.s=+a[0],r+a[0].length):-1}function As(e,t){return je(e.getDate(),t,2)}function th(e,t){return je(e.getHours(),t,2)}function nh(e,t){return je(e.getHours()%12||12,t,2)}function rh(e,t){return je(1+Ut.count(mt(e),e),t,3)}function $s(e,t){return je(e.getMilliseconds(),t,3)}function ah(e,t){return $s(e,t)+"000"}function sh(e,t){return je(e.getMonth()+1,t,2)}function oh(e,t){return je(e.getMinutes(),t,2)}function ih(e,t){return je(e.getSeconds(),t,2)}function lh(e){var t=e.getDay();return t===0?7:t}function ch(e,t){return je(Pn.count(mt(e)-1,e),t,2)}function Hs(e){var t=e.getDay();return t>=4||t===0?Ft(e):Ft.ceil(e)}function dh(e,t){return e=Hs(e),je(Ft.count(mt(e),e)+(mt(e).getDay()===4),t,2)}function uh(e){return e.getDay()}function hh(e,t){return je(Rn.count(mt(e)-1,e),t,2)}function fh(e,t){return je(e.getFullYear()%100,t,2)}function mh(e,t){return e=Hs(e),je(e.getFullYear()%100,t,2)}function gh(e,t){return je(e.getFullYear()%1e4,t,4)}function ph(e,t){var r=e.getDay();return e=r>=4||r===0?Ft(e):Ft.ceil(e),je(e.getFullYear()%1e4,t,4)}function bh(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+je(t/60|0,"0",2)+je(t%60,"0",2)}function Ps(e,t){return je(e.getUTCDate(),t,2)}function yh(e,t){return je(e.getUTCHours(),t,2)}function xh(e,t){return je(e.getUTCHours()%12||12,t,2)}function vh(e,t){return je(1+Rr.count(Ct(e),e),t,3)}function Rs(e,t){return je(e.getUTCMilliseconds(),t,3)}function _h(e,t){return Rs(e,t)+"000"}function kh(e,t){return je(e.getUTCMonth()+1,t,2)}function Sh(e,t){return je(e.getUTCMinutes(),t,2)}function wh(e,t){return je(e.getUTCSeconds(),t,2)}function Ch(e){var t=e.getUTCDay();return t===0?7:t}function jh(e,t){return je(Bs.count(Ct(e)-1,e),t,2)}function zs(e){var t=e.getUTCDay();return t>=4||t===0?It(e):It.ceil(e)}function Nh(e,t){return e=zs(e),je(It.count(Ct(e),e)+(Ct(e).getUTCDay()===4),t,2)}function Th(e){return e.getUTCDay()}function Dh(e,t){return je(zn.count(Ct(e)-1,e),t,2)}function Bh(e,t){return je(e.getUTCFullYear()%100,t,2)}function Fh(e,t){return e=zs(e),je(e.getUTCFullYear()%100,t,2)}function Ih(e,t){return je(e.getUTCFullYear()%1e4,t,4)}function Eh(e,t){var r=e.getUTCDay();return e=r>=4||r===0?It(e):It.ceil(e),je(e.getUTCFullYear()%1e4,t,4)}function Lh(){return"+0000"}function Ws(){return"%"}function Os(e){return+e}function Us(e){return Math.floor(+e/1e3)}var Et,Gs;Mh({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function Mh(e){return Et=Mu(e),Gs=Et.format,Et.parse,Et.utcFormat,Et.utcParse,Et}function Ah(e){return new Date(e)}function $h(e){return e instanceof Date?+e:+new Date(+e)}function Vs(e,t,r,a,i,s,l,c,d,u){var f=ku(),g=f.invert,b=f.domain,p=u(".%L"),N=u(":%S"),y=u("%I:%M"),S=u("%I %p"),q=u("%a %d"),M=u("%b %d"),w=u("%B"),_=u("%Y");function A(k){return(d(k)<k?p:c(k)<k?N:l(k)<k?y:s(k)<k?S:a(k)<k?i(k)<k?q:M:r(k)<k?w:_)(k)}return f.invert=function(k){return new Date(g(k))},f.domain=function(k){return arguments.length?b(Array.from(k,$h)):b().map(Ah)},f.ticks=function(k){var R=b();return e(R[0],R[R.length-1],k??10)},f.tickFormat=function(k,R){return R==null?A:u(R)},f.nice=function(k){var R=b();return(!k||typeof k.range!="function")&&(k=t(R[0],R[R.length-1],k??10)),k?b(Su(R,k)):f},f.copy=function(){return vu(f,Vs(e,t,r,a,i,s,l,c,d,u))},f}function Hh(){return Ud.apply(Vs(Eu,Lu,mt,zr,Pn,Ut,Pr,Hr,Bt,Gs).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function Ph({task:e,scale:t,onTaskClick:r,onTaskDoubleClick:a,isSelected:i=!1,taskIndex:s,tabIndex:l=-1,onFocus:c,"aria-label":d}){const u=h.useRef(null),[f,g]=h.useState(!1),[b,p]=h.useState(!1),N=t(e.start),y=t(e.end),S=Math.max(y-N,20),q=()=>{if(e.color)return e.color;switch(e.priority){case"high":return"#d5281b";case"medium":return"#005eb8";case"low":return"#007f3b";default:return"#005eb8"}},M=e.progress?S*e.progress/100:0,w=()=>{r?.(e)},_=()=>{a?.(e)},A=ee=>{ee.key==="Enter"?(ee.preventDefault(),w()):ee.key===" "&&(ee.preventDefault(),_())},k=()=>{g(!0)},R=()=>{g(!1)},H=()=>{p(!0),c?.()},I=()=>{p(!1)},x=["gantt-task-bar",f&&"gantt-task-bar--pressed",(b||i)&&"gantt-task-bar--focused",e.priority&&`gantt-task-bar--priority-${e.priority}`,i&&"gantt-task-bar--selected",e.type&&`gantt-task-bar--type-${e.type}`].filter(Boolean).join(" "),L={"--task-left":`${N}px`,"--task-width":`${S}px`,"--task-color":q(),left:`${N}px`,width:`${S}px`,backgroundColor:q()};return n.jsxs("div",{role:"button",tabIndex:l,ref:u,"data-task-index":s,className:x,style:L,onClick:w,onDoubleClick:_,onKeyDown:A,onMouseDown:k,onMouseUp:R,onFocus:H,onBlur:I,"aria-label":d||`${i?"Selected: ":""}${e.title}: ${e.start.toLocaleDateString()} to ${e.end.toLocaleDateString()}${e.priority?`, priority ${e.priority}`:""}${e.progress?`, ${e.progress}% complete`:""}`,"aria-describedby":`task-${e.id}-details`,children:[n.jsx("span",{className:"task-title",children:e.title}),e.progress!==void 0&&n.jsx("div",{className:"task-progress",style:{width:`${M}px`}}),n.jsx("span",{id:`task-${e.id}-details`,className:"sr-only",children:`Task: ${e.title}, from ${e.start.toLocaleDateString()} to ${e.end.toLocaleDateString()}${e.progress?`, ${e.progress}% complete`:""}${e.priority?`, priority: ${e.priority}`:""}`})]})}function Rh({viewStart:e,viewEnd:t,dateCount:r}){const a=[];for(let p=e.getTime();p<=t.getTime();p+=864e5)a.push(new Date(p));const s=new Date;s.setHours(0,0,0,0);const[l,c]=h.useState(-1),d=h.useRef(null),u=p=>{if(p.key==="ArrowLeft"){p.preventDefault();const N=Math.max(0,l===-1?0:l-1);c(N),b(N)}else if(p.key==="ArrowRight"){p.preventDefault();const N=Math.min(a.length-1,l===-1?0:l+1);c(N),b(N)}else if(p.key==="ArrowDown"){p.preventDefault();const N=document.querySelector(".gantt-row .timeline-container");N&&N.focus()}else if(p.key==="Home")p.preventDefault(),c(0),b(0);else if(p.key==="End"){p.preventDefault();const N=a.length-1;c(N),b(N)}},f=p=>{if(p.key==="ArrowDown"){p.preventDefault();const N=document.querySelector(".gantt-row .resource-label");N&&N.focus()}else if(p.key==="ArrowRight"){p.preventDefault();const N=d.current;N&&N.focus()}},g=()=>{l===-1&&(c(0),setTimeout(()=>b(0),0))},b=p=>{const N=d.current?.querySelector(`[data-date-index="${p}"]`);N&&N.focus()};return n.jsxs("div",{className:"gantt-header",role:"row","aria-rowindex":1,children:[n.jsx("div",{className:"header-resource",role:"columnheader","aria-colindex":1,tabIndex:0,"aria-label":"Resource column header",onKeyDown:f,children:"Resources"}),n.jsx("div",{ref:d,className:"header-timeline",role:"columnheader","aria-colindex":2,"aria-colspan":r,"aria-label":`Timeline from ${e.toLocaleDateString()} to ${t.toLocaleDateString()}. Use arrow keys to navigate between dates`,tabIndex:0,onKeyDown:u,onFocus:g,children:a.map((p,N)=>{const y=p.getTime()===s.getTime(),S=l===N;return n.jsx("div",{"data-date-index":N,className:`date-column ${y?"today":""} ${S?"focused":""}`,tabIndex:S?0:-1,role:"button","aria-label":`${p.toLocaleDateString("en-GB",{weekday:"long",day:"numeric",month:"long",year:"numeric"})}${y?" (Today)":""}`,onFocus:()=>c(N),onKeyDown:u,children:p.toLocaleDateString("en-GB",{day:"numeric",month:"short"})},N)})})]})}function zh({resource:e,tasks:t,scale:r,onTaskClick:a,onTaskDoubleClick:i,rowIndex:s,dateCount:l}){const[c,d]=h.useState(!1),[u,f]=h.useState(-1),g=h.useRef(null);h.useEffect(()=>{c&&u>=0&&t.length>0&&setTimeout(()=>{g.current?.querySelector(`[data-task-index="${u}"]`)?.focus()},0)},[c,u,t.length]);const b=y=>{if(y.key==="ArrowLeft"&&y.shiftKey){y.preventDefault(),y.currentTarget.scrollBy({left:-30,behavior:"smooth"});return}else if(y.key==="ArrowRight"&&y.shiftKey){y.preventDefault(),y.currentTarget.scrollBy({left:30,behavior:"smooth"});return}if(!c){switch(y.key){case"ArrowUp":y.preventDefault(),s===0?document.querySelector(".header-timeline")?.focus():document.querySelector(`[aria-rowindex="${s+1}"] .timeline-container`)?.focus();break;case"ArrowDown":y.preventDefault(),document.querySelector(`[aria-rowindex="${s+3}"] .timeline-container`)?.focus();break;case"ArrowLeft":y.preventDefault(),g.current?.closest(".gantt-row")?.querySelector(".resource-label")?.focus();break;case"Enter":t.length>0&&(y.preventDefault(),d(!0),f(0));break}return}switch(y.key){case"ArrowLeft":y.preventDefault();const S=Math.max(0,u-1);f(S),g.current?.querySelector(`[data-task-index="${S}"]`)?.focus();break;case"ArrowRight":y.preventDefault();const M=Math.min(t.length-1,u+1);f(M),g.current?.querySelector(`[data-task-index="${M}"]`)?.focus();break;case"Enter":y.preventDefault(),u>=0&&a?.(t[u]);break;case" ":y.preventDefault(),u>=0&&i?.(t[u]);break;case"Escape":y.preventDefault(),d(!1),f(-1),g.current?.focus();break}},p=y=>{switch(y.key){case"ArrowUp":y.preventDefault(),s===0?document.querySelector(".header-resource")?.focus():document.querySelector(`[aria-rowindex="${s+1}"] .resource-label`)?.focus();break;case"ArrowDown":y.preventDefault(),document.querySelector(`[aria-rowindex="${s+3}"] .resource-label`)?.focus();break;case"ArrowRight":y.preventDefault(),g.current?.focus();break}},N=y=>{c&&f(y)};return n.jsxs("div",{className:"gantt-row",role:"row","aria-rowindex":s+2,children:[n.jsx("div",{className:"resource-label",role:"gridcell","aria-colindex":1,tabIndex:0,"aria-label":`Resource: ${e.label}`,onKeyDown:p,children:e.label}),n.jsx("div",{ref:g,className:`timeline-container ${c?"timeline-active":""}`,role:"gridcell","aria-colindex":2,"aria-colspan":l,tabIndex:0,"aria-label":`Timeline for ${e.label} with ${t.length} task${t.length!==1?"s":""}. Press Enter to activate task navigation, then use arrow keys to navigate, Enter to select, Space to activate, Escape to exit`,onKeyDown:b,onFocus:()=>{c||f(-1)},children:t.map((y,S)=>n.jsx(Ph,{task:y,scale:r,onTaskClick:a,onTaskDoubleClick:i,isSelected:c&&u===S,taskIndex:S,tabIndex:c&&u===S?0:-1,onFocus:()=>N(S)},y.id))})]})}function Wh({resources:e,tasks:t=[],viewStart:r,viewEnd:a,onTaskClick:i,onTaskDoubleClick:s}){const l=h.useRef(null),[c,d]=h.useState(800),u=h.useMemo(()=>{if(r instanceof Date)return isNaN(r.getTime())?(console.warn("GanttChart: Invalid viewStart date provided, using current date"),new Date):r;const y=new Date(r);return isNaN(y.getTime())?(console.warn("GanttChart: Invalid viewStart date provided, using current date"),new Date):y},[r]),f=h.useMemo(()=>{if(a instanceof Date)return isNaN(a.getTime())?(console.warn("GanttChart: Invalid viewEnd date provided, using date 7 days from now"),new Date(Date.now()+10080*60*1e3)):a;const y=new Date(a);return isNaN(y.getTime())?(console.warn("GanttChart: Invalid viewEnd date provided, using date 7 days from now"),new Date(Date.now()+10080*60*1e3)):y},[a]),g=h.useMemo(()=>Math.ceil((f.getTime()-u.getTime())/864e5)+1,[u,f]);h.useEffect(()=>{if(!l.current)return;const y=new ResizeObserver(S=>{const q=S[0];q&&d(Math.max(q.contentRect.width-220,400))});return y.observe(l.current),()=>y.disconnect()},[]);const b=h.useMemo(()=>Hh().domain([u,f]).range([0,c]),[u,f,c]),p=h.useMemo(()=>{const y=new Map;return t.forEach(S=>{const q=y.get(S.resourceId)||[];q.push(S),y.set(S.resourceId,q)}),y},[t]),N=y=>{if(y.target===y.currentTarget)switch(y.key){case"ArrowDown":y.preventDefault();const S=l.current?.querySelector(".gantt-row .resource-label");S&&S.focus();break;case"Home":y.preventDefault();const q=l.current?.querySelector(".header-resource");q&&q.focus();break}};return n.jsxs("div",{className:"gantt-chart",role:"grid","aria-label":"Gantt Chart showing resource scheduling and task timelines","aria-rowcount":e.length+1,"aria-colcount":g+1,"aria-description":"Use arrow keys to navigate cells, Tab to cycle through tasks in timeline rows or dates in header, Enter to select task, Space to activate task, Alt+arrows to scroll the grid, Shift+arrows to scroll timeline rows",tabIndex:0,onKeyDown:N,children:[n.jsx(Rh,{viewStart:u,viewEnd:f,dateCount:g}),n.jsx("div",{ref:l,className:"gantt-grid",role:"rowgroup","aria-label":"Gantt chart data rows",tabIndex:0,onKeyDown:y=>{y.key==="ArrowLeft"&&y.altKey?(y.preventDefault(),l.current?.scrollBy({left:-50,behavior:"smooth"})):y.key==="ArrowRight"&&y.altKey?(y.preventDefault(),l.current?.scrollBy({left:50,behavior:"smooth"})):y.key==="ArrowUp"&&y.altKey?(y.preventDefault(),l.current?.scrollBy({top:-50,behavior:"smooth"})):y.key==="ArrowDown"&&y.altKey&&(y.preventDefault(),l.current?.scrollBy({top:50,behavior:"smooth"}))},children:e.map((y,S)=>n.jsx(zh,{resource:y,tasks:p.get(y.id)||[],scale:b,onTaskClick:i,onTaskDoubleClick:s,rowIndex:S,dateCount:g},y.id))})]})}const Wn=({children:e,href:t,active:r=!1,attributes:a={}})=>n.jsx("li",{className:"nhsuk-breadcrumb__item",children:r?n.jsx("span",{className:"nhsuk-breadcrumb__link nhsuk-breadcrumb__link--current","aria-current":"page",...a,children:e}):n.jsx("a",{className:"nhsuk-breadcrumb__link",href:t,...a,children:e})}),Ys=({items:e=[],children:t,classes:r,labelText:a="Breadcrumb",href:i,text:s,reverse:l=!1,attributes:c={}})=>{const d=()=>t?h.Children.toArray(t).filter(S=>h.isValidElement(S)&&(S.type===Wn||S.type?.displayName==="BreadcrumbItem")).map(S=>({text:typeof S.props.children=="string"?S.props.children:String(S.props.children),href:S.props.href,active:S.props.active,attributes:S.props.attributes})):[],u=()=>t?d():i&&s?[{href:i,text:s}]:e,f=()=>{const y=u();if(y&&y.length>0){const S=y.slice().reverse().find(q=>q.href&&!q.active);if(S)return{href:S.href,text:S.text}}return{text:"Home"}},g=u(),b=f(),p=ne("nhsuk-breadcrumb",{"nhsuk-breadcrumb--reverse":l},r),N=a;return n.jsxs("nav",{className:p,"aria-label":N,role:"navigation",...c,children:[n.jsx("ol",{className:"nhsuk-breadcrumb__list",role:"list",children:t?h.Children.map(t,(y,S)=>h.isValidElement(y)&&(y.type===Wn||y.type?.displayName==="BreadcrumbItem")?h.cloneElement(y,{key:S}):null):g?.filter(y=>y.active||!!y.href).map((y,S)=>n.jsx("li",{className:"nhsuk-breadcrumb__item",role:"listitem",children:y.active?n.jsx("span",{className:"nhsuk-breadcrumb__link nhsuk-breadcrumb__link--current","aria-current":"page",role:"text",...y.attributes||{},children:y.text}):n.jsx("a",{className:"nhsuk-breadcrumb__link",href:y.href,role:"link",...y.attributes||{},children:y.text})},S))}),b.href&&n.jsx("p",{className:"nhsuk-breadcrumb__back",children:n.jsxs("a",{className:"nhsuk-breadcrumb__backlink",href:b.href,role:"link","aria-label":`Back to ${b.text}`,...e.length>0?e[e.length-1]?.attributes||{}:{},children:[n.jsx("span",{className:"nhsuk-u-visually-hidden",children:"Back to Â "}),b.text]})})]})};Ys.Item=Wn,Wn.displayName="BreadcrumbItem";const Ur=({text:e="Skip to main content",href:t="#maincontent",classes:r,attributes:a={}})=>{const[i,s]=h.useState(!1);h.useEffect(()=>{s(!0)},[]),h.useEffect(()=>{if(typeof window>"u"||typeof document>"u"||!document.querySelector||!document.querySelectorAll)return;const c=d=>{const u=d.target,f=u.getAttribute("href");if(f&&f.startsWith("#")){const g=document.querySelector(f);if(g){g.hasAttribute("tabindex")||g.setAttribute("tabindex","-1"),g.focus(),g.classList.add("nhsuk-skip-link-focused-element");const b=window.setTimeout(()=>{g.classList.remove("nhsuk-skip-link-focused-element"),g.getAttribute("tabindex")==="-1"&&g.removeAttribute("tabindex")},3e3);u.__nhsSkipLinkTimeout=b}}};try{const d=document.querySelectorAll(".nhsuk-skip-link");return d.forEach(u=>{u.addEventListener("click",c)}),()=>{try{d.forEach(u=>{u.removeEventListener("click",c);const f=u.__nhsSkipLinkTimeout;f&&window.clearTimeout&&window.clearTimeout(f)})}catch(u){console.warn("SkipLink cleanup error:",u)}}}catch(d){return console.warn("SkipLink initialization error:",d),()=>{}}},[i]);const l=ne("nhsuk-skip-link",r);return n.jsx("a",{className:l,href:t,"data-module":"nhsuk-skip-link","data-enhanced":i?"true":"false",...a,children:e})},Oh=({previousUrl:e,previousPage:t,nextUrl:r,nextPage:a,classes:i,attributes:s={}})=>{const l=ne("nhsuk-pagination",i);return n.jsx("nav",{className:l,role:"navigation","aria-label":"Pagination",...s,children:n.jsxs("ul",{className:"nhsuk-list nhsuk-pagination__list",children:[e&&t&&n.jsx("li",{className:"nhsuk-pagination-item--previous",children:n.jsxs("a",{className:"nhsuk-pagination__link nhsuk-pagination__link--prev",href:e,children:[n.jsx("span",{className:"nhsuk-pagination__title",children:"Previous"}),n.jsx("span",{className:"nhsuk-u-visually-hidden",children:":"}),n.jsx("span",{className:"nhsuk-pagination__page",children:t}),n.jsx("svg",{className:"nhsuk-icon nhsuk-icon__arrow-left",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24","aria-hidden":"true",width:"34",height:"34",children:n.jsx("path",{d:"M4.1 12.3l2.7 3c.2.2.5.2.7 0 .1-.1.1-.2.1-.3v-2h11c.6 0 1-.4 1-1s-.4-1-1-1h-11V9c0-.2-.1-.4-.3-.5h-.2c-.1 0-.3.1-.4.2l-2.7 3c0 .2 0 .4.1.6z"})})]})}),r&&a&&n.jsx("li",{className:"nhsuk-pagination-item--next",children:n.jsxs("a",{className:"nhsuk-pagination__link nhsuk-pagination__link--next",href:r,children:[n.jsx("span",{className:"nhsuk-pagination__title",children:"Next"}),n.jsx("span",{className:"nhsuk-u-visually-hidden",children:":"}),n.jsx("span",{className:"nhsuk-pagination__page",children:a}),n.jsx("svg",{className:"nhsuk-icon nhsuk-icon__arrow-right",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24","aria-hidden":"true",width:"34",height:"34",children:n.jsx("path",{d:"M19.6 11.66l-2.73-3A.51.51 0 0 0 16 9v2H5a1 1 0 0 0 0 2h11v2a.5.5 0 0 0 .32.46.39.39 0 0 0 .18 0 .52.52 0 0 0 .37-.16l2.73-3a.5.5 0 0 0 0-.64z"})})]})})]})})},Uh=({items:e,classes:t,ariaLabel:r="Pages in this guide",attributes:a={}})=>{const i=ne("nhsuk-contents-list",t),s=(l,c)=>l.current?n.jsx("li",{className:"nhsuk-contents-list__item","aria-current":"page",...l.attributes||{},children:n.jsx("span",{className:"nhsuk-contents-list__current",children:l.text})},c):n.jsx("li",{className:"nhsuk-contents-list__item",children:n.jsx("a",{className:"nhsuk-contents-list__link",href:l.href,...l.attributes||{},children:l.text})},c);return n.jsxs("nav",{className:i,role:"navigation","aria-label":r,...a,children:[n.jsx("h2",{className:"nhsuk-u-visually-hidden",children:"Contents"}),n.jsx("ol",{className:"nhsuk-contents-list__list",children:e.map((l,c)=>s(l,c))})]})},Gr=h.forwardRef(({variant:e="default",heading:t,headingHtml:r,headingLevel:a=2,headingClasses:i,description:s,descriptionHtml:l,href:c,imgURL:d,imgAlt:u,...f},g)=>{const b=["nhsuk-card",e==="clickable"&&"nhsuk-card--clickable",e==="secondary"&&"nhsuk-card--secondary",e==="feature"&&"nhsuk-card--feature",f.className].filter(Boolean).join(" "),p=["nhsuk-card__content",e==="feature"&&"nhsuk-card__content--feature",e==="primary"&&"nhsuk-card__content--primary",e==="secondary"&&"nhsuk-card__content--secondary"].filter(Boolean).join(" "),N=["nhsuk-card__heading",e==="feature"&&"nhsuk-card__heading--feature",i].filter(Boolean).join(" "),y=()=>{if(r)return n.jsx("div",{dangerouslySetInnerHTML:{__html:r}});if(!t)return null;const M=()=>c&&e!=="feature"?n.jsx("a",{className:"nhsuk-card__link",href:c,children:t}):t;return n.jsx(Ze,{level:a,className:N,children:M()})},S=()=>f.children?f.children:l?n.jsx("div",{dangerouslySetInnerHTML:{__html:l}}):s?n.jsx("p",{className:"nhsuk-card__description",children:s}):null,q=()=>e!=="primary"?null:n.jsxs("svg",{className:"nhsuk-icon",xmlns:"http://www.w3.org/2000/svg",width:"27",height:"27","aria-hidden":"true",focusable:"false",children:[n.jsx("circle",{cx:"13.333",cy:"13.333",r:"13.333",fill:""}),n.jsxs("g",{fill:"none",stroke:"#fff",strokeLinecap:"round",strokeMiterlimit:"10",strokeWidth:"2.667",children:[n.jsx("path",{d:"M15.438 13l-3.771 3.771"}),n.jsx("path",{d:"M11.667 9.229L15.438 13"})]})]});return n.jsxs("div",{...f,className:b,ref:g,children:[d&&n.jsx("img",{className:"nhsuk-card__img",src:d,alt:u||""}),n.jsxs("div",{className:p,children:[y(),S(),q()]})]})});Gr.displayName="Card";const Gh=({className:e,children:t,"data-testid":r,id:a})=>{const i=["nhsuk-card-group",e].filter(Boolean).join(" ");return n.jsx("ul",{className:i,"data-testid":r,id:a,children:t})},Vh=({className:e,children:t,"data-testid":r})=>{const a=["nhsuk-card-group__item",e].filter(Boolean).join(" ");return n.jsx("li",{className:a,"data-testid":r,children:t})},Yh=({type:e,heading:t,headingHtml:r,headingLevel:a=3,headingClasses:i,description:s,descriptionHtml:l,className:c,children:d,"data-testid":u,id:f,"aria-label":g,"aria-labelledby":b,"aria-describedby":p})=>{const N=["nhsuk-care-card",`nhsuk-care-card--${e}`,c].filter(Boolean).join(" "),y=["nhsuk-care-card__heading",i].filter(Boolean).join(" "),S=()=>{if(r)return n.jsx("div",{dangerouslySetInnerHTML:{__html:r}});if(!t)return null;const M={"non-urgent":"Non-urgent advice:",urgent:"Urgent advice:",emergency:"Immediate action required:"}[e],w=n.jsxs("span",{role:"text",children:[n.jsxs("span",{className:"nhsuk-u-visually-hidden",children:[M," "]}),t]});return n.jsx(Ze,{level:a,className:y,children:w})},q=()=>d||(l?n.jsx("div",{dangerouslySetInnerHTML:{__html:l}}):s?n.jsx("p",{className:"nhsuk-care-card__text",children:s}):null);return n.jsxs("div",{className:N,"data-testid":u,id:f,"aria-label":g,"aria-labelledby":b,"aria-describedby":p,children:[n.jsxs("div",{className:"nhsuk-care-card__heading-container",children:[S(),n.jsx("span",{className:"nhsuk-care-card__arrow","aria-hidden":"true"})]}),n.jsx("div",{className:"nhsuk-care-card__content",children:q()})]})},qs=({id:e,className:t,headingText:r,headingHtml:a,headingLevel:i=2,bodyText:s,bodyHtml:l,children:c,...d})=>{const u=ne("nhsuk-panel",t),f=()=>!r&&!a&&!c?null:a?n.jsx(Ze,{level:i,className:"nhsuk-panel__heading",html:a,marginBottom:"var(--panel-heading-margin, 24px)"}):r?n.jsx(Ze,{level:i,className:"nhsuk-panel__heading",text:r,marginBottom:"var(--panel-heading-margin, 24px)"}):null,g=()=>c?n.jsx("div",{className:"nhsuk-panel__body",children:c}):l?n.jsx("div",{className:"nhsuk-panel__body",dangerouslySetInnerHTML:{__html:l}}):s?n.jsx("div",{className:"nhsuk-panel__body",children:n.jsx("p",{children:s})}):null;return n.jsxs("div",{className:u,id:e,...d,children:[f(),g()]})},qh=({text:e,html:t,children:r,className:a,...i})=>{const s=ne("nhsuk-inset-text",a),l=()=>r||(t?n.jsx("div",{dangerouslySetInnerHTML:{__html:t}}):e?n.jsx("p",{children:e}):null);return n.jsx("div",{className:s,...i,children:l()})},Kh=({items:e,noBorder:t=!1,className:r,...a})=>{const i=ne("nhsuk-summary-list",{"nhsuk-summary-list--no-border":t},r),s=c=>c.children?c.children:c.html?n.jsx("span",{dangerouslySetInnerHTML:{__html:c.html}}):c.text?c.text:null,l=c=>!c||!c.items.length?null:n.jsx("dd",{className:"nhsuk-summary-list__actions",children:n.jsx("ul",{className:"nhsuk-summary-list__actions-list",children:c.items.map((d,u)=>n.jsx("li",{className:"nhsuk-summary-list__actions-list-item",children:n.jsxs("a",{href:d.href,className:"nhsuk-link",...d.attributes,children:[s(d),d.visuallyHiddenText&&n.jsx("span",{className:"nhsuk-u-visually-hidden",children:d.visuallyHiddenText})]})},u))})});return n.jsx("div",{className:"nhsuk-summary-list-container",children:n.jsx("dl",{className:i,...a,children:e.map((c,d)=>n.jsxs("div",{className:"nhsuk-summary-list__row",children:[n.jsx("dt",{className:"nhsuk-summary-list__key",children:s(c.key)}),n.jsx("dd",{className:"nhsuk-summary-list__value",children:s(c.value)}),l(c.actions)]},d))})})},Zh=({rows:e,head:t,caption:r,captionSize:a,firstCellIsHeader:i=!1,responsive:s=!1,heading:l,headingLevel:c=3,panel:d=!1,panelClasses:u,tableClasses:f,classes:g,attributes:b,"data-testid":p})=>{const N=`nhsuk-table__caption ${a?`nhsuk-table__caption--${a}`:""}`.trim(),y=ne("nhsuk-table",{"nhsuk-table-responsive":s},f),S=ne(g),q=(_,A)=>{const k=ne("nhsuk-table__header",{[`nhsuk-table__header--${_.format}`]:_.format},_.classes),R={scope:"col",..._.colspan&&{colSpan:_.colspan},..._.rowspan&&{rowSpan:_.rowspan},...s&&{role:"columnheader"},..._.attributes};return n.jsx("th",{className:k,...R,children:_.html?n.jsx("span",{dangerouslySetInnerHTML:{__html:_.html}}):_.text},A)},M=(_,A,k)=>{const R=i&&k,H=ne(R?"nhsuk-table__header":"nhsuk-table__cell",{[`nhsuk-table__${R?"header":"cell"}--${_.format}`]:_.format},_.classes),I={...R&&{scope:"row"},..._.colspan&&{colSpan:_.colspan},..._.rowspan&&{rowSpan:_.rowspan},...s&&{role:R?"rowheader":"cell",..._.header&&{"data-label":_.header}},..._.attributes},x=n.jsxs(n.Fragment,{children:[s&&_.header&&n.jsxs("span",{className:"nhsuk-table-responsive__heading","aria-hidden":"true",children:[_.header," "]}),_.html?n.jsx("span",{dangerouslySetInnerHTML:{__html:_.html}}):_.text]}),L=R?"th":"td";return n.jsx(L,{className:H,...I,children:x},A)},w=()=>n.jsxs("table",{className:y,...s&&{role:"table"},...b,...p&&{"data-testid":p},children:[r&&n.jsx("caption",{className:N,children:r}),t&&t.length>0&&n.jsx("thead",{className:"nhsuk-table__head",...s&&{role:"rowgroup"},children:n.jsx("tr",{...s&&{role:"row"},children:t.map((_,A)=>q(_,A))})}),n.jsx("tbody",{className:"nhsuk-table__body",children:e&&e.map((_,A)=>n.jsx("tr",{className:"nhsuk-table__row",...s&&{role:"row"},children:_.map((k,R)=>M(k,R,R===0))},A))})]});return d?n.jsxs(qs,{className:u,children:[l&&n.jsx(Ze,{level:c,className:"nhsuk-table__heading-tab",children:l}),w()]}):S?n.jsx("div",{className:S,children:w()}):w()},Xh=h.forwardRef(({items:e,defaultActiveTab:t,activeTab:r,onTabChange:a,onTabFocus:i,onTabListBlur:s,onEscape:l,autoActivate:c=!0,className:d,id:u,"data-testid":f,...g},b)=>{const p=r!==void 0,[N,y]=h.useState(()=>t||e[0]?.id||""),S=p?r:N,q=h.useRef(null),M=h.useRef(new Map),w=h.useCallback(x=>{p||y(x),a?.(x)},[p,a]),_=h.useCallback(x=>{i?.(x),c&&w(x)},[i,c,w]),A=h.useCallback((x,L)=>{const ee=e.filter(E=>!E.disabled).map(E=>E.id),ue=ee.indexOf(L);let Q=null;switch(x.key){case"ArrowLeft":Q=ue>0?ue-1:ee.length-1;break;case"ArrowRight":Q=ue<ee.length-1?ue+1:0;break;case"Home":Q=0;break;case"End":Q=ee.length-1;break;case"Escape":x.preventDefault(),l?.();return;default:return}if(Q!==null){x.preventDefault();const E=ee[Q],v=M.current.get(E);v&&(v.focus(),_(E))}},[e,_,l]),k=h.useCallback((x,L)=>{L?M.current.set(x,L):M.current.delete(x)},[]),R=h.useCallback(x=>{const L=M.current.get(x);L&&L.focus()},[]);h.useImperativeHandle(b,()=>({focusTab:R,getActiveTab:()=>S,getTabListElement:()=>q.current}),[R,S]);const H=h.useCallback(x=>{const L=x.relatedTarget;q.current?.contains(L)||s?.()},[s]),I=ne("nhsuk-tabs",d);return n.jsxs("div",{className:I,id:u,"data-testid":f,...g,children:[n.jsx("h2",{className:"nhsuk-tabs__title",children:"Contents"}),n.jsx("div",{className:"nhsuk-tabs__list-container",ref:q,children:n.jsx("ul",{className:"nhsuk-tabs__list",role:"tablist",onBlur:H,children:e.map(x=>{const L=x.id===S,ee=x.disabled,ue=ne("nhsuk-tabs__list-item",{"nhsuk-tabs__list-item--selected":L,"nhsuk-tabs__list-item--disabled":ee});return n.jsx("li",{className:ue,role:"presentation",children:n.jsx("button",{ref:Q=>k(x.id,Q),className:"nhsuk-tabs__tab",role:"tab","aria-selected":L,"aria-controls":`${x.id}-panel`,id:`${x.id}-tab`,tabIndex:L?0:-1,disabled:ee,onClick:()=>!ee&&w(x.id),onKeyDown:Q=>!ee&&A(Q,x.id),onFocus:()=>!ee&&_(x.id),...x.attributes,children:x.label})},x.id)})})}),e.map(x=>{const L=x.id===S;return n.jsx("div",{className:"nhsuk-tabs__panel",role:"tabpanel","aria-labelledby":`${x.id}-tab`,id:`${x.id}-panel`,hidden:!L,children:x.content},x.id)})]})}),Ks=h.forwardRef(({summaryText:e,summaryHtml:t,text:r,html:a,open:i=!1,className:s="",id:l,children:c,...d},u)=>{const f=["nhsuk-details",s].filter(Boolean).join(" "),g=t?n.jsx("span",{className:"nhsuk-details__summary-text",dangerouslySetInnerHTML:{__html:t}}):n.jsx("span",{className:"nhsuk-details__summary-text",children:e});let b;return c?b=c:a?b=n.jsx("div",{dangerouslySetInnerHTML:{__html:a}}):r&&(b=r),n.jsxs("details",{ref:u,id:l,className:f,open:i,...d,children:[n.jsx("summary",{className:"nhsuk-details__summary",tabIndex:0,children:g}),n.jsx("div",{className:"nhsuk-details__text",children:b})]})});Ks.displayName="Details";const Zs=h.forwardRef(({title:e,type:t,items:r,hidePrefix:a=!1,headingLevel:i=3,className:s,...l},c)=>{const d=["nhsuk-do-dont-list"];s&&d.push(s);const u=["nhsuk-list",t==="tick"?"nhsuk-list--tick":"nhsuk-list--cross"],f=()=>t==="cross"?n.jsxs("svg",{className:"nhsuk-icon nhsuk-icon__cross",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24","aria-hidden":"true",width:"34",height:"34",children:[n.jsx("path",{d:"M17 18.5c-.4 0-.8-.1-1.1-.4l-10-10c-.6-.6-.6-1.6 0-2.1.6-.6 1.5-.6 2.1 0l10 10c.6.6.6 1.5 0 2.1-.3.3-.6.4-1 .4z",fill:"#d5281b"}),n.jsx("path",{d:"M7 18.5c-.4 0-.8-.1-1.1-.4-.6-.6-.6-1.5 0-2.1l10-10c.6-.6 1.5-.6 2.1 0 .6.6.6 1.5 0 2.1l-10 10c-.3.3-.6.4-1 .4z",fill:"#d5281b"})]}):n.jsx("svg",{className:"nhsuk-icon nhsuk-icon__tick",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none","aria-hidden":"true",width:"34",height:"34",children:n.jsx("path",{strokeWidth:"4",strokeLinecap:"round",d:"M18.4 7.8l-8.5 8.4L5.6 12",stroke:"#007f3b"})}),g=p=>t==="cross"&&!a?`do not ${p}`:p,b=()=>n.jsx(Ze,{level:i,className:"nhsuk-do-dont-list__label",text:e});return n.jsxs("div",{ref:c,className:d.join(" "),...l,children:[b(),n.jsx("div",{className:"nhsuk-do-dont-list__content--feature",children:n.jsx("ul",{className:u.join(" "),role:"list",children:r.map((p,N)=>n.jsxs("li",{children:[f(),g(p.item)]},N))})})]})});Zs.displayName="DoDontList";const Xs=h.forwardRef(({summaryText:e,summaryHtml:t,text:r,html:a,open:i=!1,className:s="",id:l,children:c,...d},u)=>{const f=["nhsuk-expander",s].filter(Boolean).join(" "),g=t?n.jsx("span",{className:"nhsuk-details__summary-text",dangerouslySetInnerHTML:{__html:t}}):n.jsx("span",{className:"nhsuk-details__summary-text",children:e});let b;return c?b=c:a?b=n.jsx("div",{dangerouslySetInnerHTML:{__html:a}}):r&&(b=r),n.jsxs("details",{ref:u,id:l,className:f,open:i,...d,children:[n.jsx("summary",{className:"nhsuk-details__summary",children:g}),n.jsx("div",{className:"nhsuk-details__text",children:b})]})});Xs.displayName="Expander";const Js=h.forwardRef(({items:e,idPrefix:t="task-list",className:r,...a},i)=>{const s=["nhsuk-task-list",r].filter(Boolean).join(" "),l=(c,d)=>{const u=d+1,f=`${t}-${u}-hint`,g=`${t}-${u}-status`,b=!!c.href,p=["nhsuk-task-list__item",b&&"nhsuk-task-list__item--with-link",c.classes].filter(Boolean).join(" "),N=[c.hint&&f,g].filter(Boolean).join(" ");return n.jsx(Jh,{item:c,itemClasses:p,hasLink:b,hintId:f,statusId:g,ariaDescribedBy:N},d)};return n.jsx("ul",{ref:i,className:s,...a,children:e.map(l)})}),Jh=({item:e,itemClasses:t,hasLink:r,hintId:a,statusId:i,ariaDescribedBy:s})=>{const l=()=>{const u=e.title.html?n.jsx("span",{dangerouslySetInnerHTML:{__html:e.title.html}}):e.title.text,f=[r?"nhsuk-task-list__link":"",e.title.classes].filter(Boolean).join(" ");return r?n.jsx("a",{className:f,href:e.href,"aria-describedby":s,children:u}):n.jsx("div",{className:e.title.classes||"",children:u})},c=()=>e.hint?e.hint.html?n.jsx("div",{id:a,className:"nhsuk-task-list__hint",dangerouslySetInnerHTML:{__html:e.hint.html}}):n.jsx("div",{id:a,className:"nhsuk-task-list__hint",children:e.hint.text}):null,d=()=>{const u=["nhsuk-task-list__status",e.status.classes].filter(Boolean).join(" ");let f;return e.status.tag?f=n.jsx(qe,{...e.status.tag}):e.status.html?f=n.jsx("span",{dangerouslySetInnerHTML:{__html:e.status.html}}):f=e.status.text,n.jsx("div",{className:u,id:i,children:f})};return n.jsxs("li",{className:t,children:[n.jsxs("div",{className:"nhsuk-task-list__name-and-hint",children:[l(),c()]}),d()]})};Js.displayName="TaskList";const Qh=({heading:e,headingLevel:t=3,text:r,html:a,children:i,className:s,...l})=>{const c=/important/i.test(e),d=()=>i||(a?n.jsx("div",{dangerouslySetInnerHTML:{__html:a}}):r?n.jsx("p",{children:r}):null),u=["nhsuk-warning-callout",s].filter(Boolean).join(" "),f=`h${t}`;return n.jsxs("div",{className:u,...l,children:[h.createElement(f,{className:"nhsuk-warning-callout__label"},c?n.jsxs(n.Fragment,{children:[e,n.jsx("span",{className:"nhsuk-u-visually-hidden",children:":"})]}):n.jsxs("span",{role:"text",children:[n.jsx("span",{className:"nhsuk-u-visually-hidden",children:"Important: "}),e]})),d()]})},ef=({src:e,alt:t,caption:r,sizes:a,srcset:i,className:s,...l})=>{const c=["nhsuk-image",s].filter(Boolean).join(" ");return n.jsxs("figure",{className:c,...l,children:[n.jsx("img",{className:"nhsuk-image__img",src:e,alt:t,...a&&i?{sizes:a,srcSet:i}:{}}),r&&n.jsx("figcaption",{className:"nhsuk-image__caption",dangerouslySetInnerHTML:{__html:r}})]})},tf=({dateRange:e,onPrev:t,onNext:r,onToday:a,density:i,onDensityChange:s,a11yMode:l,onA11yModeChange:c})=>n.jsxs("div",{className:"nhs-slot-matrix__toolbar",role:"group","aria-label":"Slot matrix controls",children:[n.jsxs("div",{className:"nhs-slot-matrix__toolbar-section",children:[n.jsx(Re,{variant:"secondary",size:"small",onClick:t,"aria-label":"Previous date range",children:"Prev"}),n.jsx(Re,{variant:"secondary",size:"small",onClick:a,"aria-label":"Jump to today",children:"Today"}),n.jsx(Re,{variant:"secondary",size:"small",onClick:r,"aria-label":"Next date range",children:"Next"}),n.jsxs("span",{className:"nhs-slot-matrix__toolbar-daterange","aria-live":"polite",children:[e.start.toDateString()," â€“ ",e.end.toDateString()]})]}),n.jsxs("div",{className:"nhs-slot-matrix__toolbar-section",children:[n.jsx("label",{className:"nhs-slot-matrix__toolbar-label",htmlFor:"slot-matrix-density-select",children:"Density"}),n.jsx(Pt,{id:"slot-matrix-density-select",name:"slot-matrix-density",ariaLabel:"Change density",value:i,onChange:d=>s?.(d.target.value),options:[{value:"comfortable",text:"Comfortable"},{value:"compact",text:"Compact"}]}),n.jsx("label",{className:"nhs-slot-matrix__toolbar-label",htmlFor:"slot-matrix-mode-select",children:"Mode"}),n.jsx(Pt,{id:"slot-matrix-mode-select",name:"slot-matrix-mode",ariaLabel:"Change accessibility mode",value:l,onChange:d=>c?.(d.target.value),options:[{value:"grid",text:"Grid"},{value:"list",text:"List"}]})]})]}),nf=({items:e,orientation:t="horizontal"})=>n.jsx("div",{className:`nhs-slot-matrix__legend nhs-slot-matrix__legend--${t}`,role:"list","aria-label":"Slot legend",children:e.map(r=>n.jsx("div",{role:"listitem",className:"nhs-slot-matrix__legend-item",children:n.jsx(qe,{color:rf(r.status),text:r.label})},r.status))});function rf(e){switch(e){case"available":return"green";case"full":return"grey";case"overbook":return"orange";case"held":return"yellow";case"blocked":return"grey";default:return"default"}}const af=({slots:e,sessions:t,value:r,defaultValue:a,onChange:i,selectionMode:s="single",a11yMode:l,className:c,style:d,getSlotAriaLabel:u,toolbar:f,enableDefaultToolbar:g=!0,legendItems:b,enableDefaultLegend:p=!0,legendPlacement:N="bottom",onA11yModeChange:y})=>{const[S,q]=h.useState("grid"),M=l||S,[w,_]=h.useState(a||[]),A=r??w,k=h.useMemo(()=>{const Q=new Set;return e.forEach(E=>Q.add(new Date(E.start).getTime())),Array.from(Q).sort((E,v)=>E-v)},[e]),R=h.useMemo(()=>{const Q={};return e.forEach(E=>{const v=new Date(E.start).getTime();Q[v]||(Q[v]={});const D=E.capacity-E.booked-(E.held||0);Q[v][E.sessionId]={slot:E,remaining:D}}),Q},[e]),H=h.useCallback(Q=>{if(s==="single"){const E=[Q.id];r||_(E),i?.(E,{lastAction:"select"})}else{const E=A.includes(Q.id),v=E?A.filter(D=>D!==Q.id):[...A,Q.id];r||_(v),i?.(v,{lastAction:E?"deselect":"select"})}},[s,A,r,i]),I=h.useMemo(()=>b||(p?Array.from(new Set(e.map(E=>E.status))).map(E=>({status:E,label:E.charAt(0).toUpperCase()+E.slice(1)})):void 0),[b,p,e]),x=I?n.jsx(nf,{items:I,orientation:N==="left"||N==="right"?"vertical":"horizontal"}):null,L=Q=>{l||q(Q),y?.(Q)},ee=f||(g?n.jsx(tf,{dateRange:{start:new Date,end:new Date},density:"comfortable",a11yMode:M,onA11yModeChange:L}):null),ue=n.jsx("div",{style:d,className:ne(c),children:n.jsx(Fn,{className:ne("nhs-slot-matrix-grid-wrapper"),children:n.jsx(yt,{children:n.jsx(Nt,{width:"full",children:n.jsxs("div",{className:"nhs-slot-matrix",children:[ee,N==="top"&&x,n.jsx("ul",{"aria-label":"Appointment slots list",children:e.map(Q=>n.jsx("li",{children:n.jsxs("button",{type:"button",onClick:()=>H(Q),"aria-pressed":A.includes(Q.id),children:[qt(new Date(Q.start))," â€“ ",qt(new Date(Q.end))," (",Q.status,")"]})},Q.id))}),N==="bottom"&&x]})})})})});return M==="list"?ue:n.jsx("div",{style:d,className:ne(c),children:n.jsx(Fn,{className:ne("nhs-slot-matrix-grid-wrapper"),children:n.jsx(yt,{children:n.jsx(Nt,{width:"full",children:n.jsxs("div",{className:"nhs-slot-matrix",children:[ee,N==="top"&&x,n.jsxs("div",{role:"grid","aria-rowcount":k.length+1,"aria-colcount":t.length+1,children:[n.jsxs("div",{role:"row",className:"nhs-slot-matrix__row",children:[n.jsx("div",{role:"columnheader","aria-label":"Timebands",className:"nhs-slot-matrix__timeband-header"}),t.map(Q=>n.jsx("div",{role:"columnheader","aria-label":`Session ${Q.specialty}`,className:"nhs-slot-matrix__session-header",children:Q.specialty},Q.id))]}),k.map(Q=>n.jsxs("div",{role:"row",className:"nhs-slot-matrix__row",children:[n.jsx("div",{role:"rowheader",className:"nhs-slot-matrix__timeband-header","aria-label":qt(new Date(Q)),children:qt(new Date(Q))}),t.map(E=>{const v=R[Q]?.[E.id];if(!v)return n.jsx("div",{role:"gridcell",className:"nhs-slot-matrix__cell","aria-disabled":"true"},E.id);const{slot:D,remaining:he}=v,W=A.includes(D.id),T=u?u(D):`Slot ${qt(new Date(D.start))} ${D.status}${he===0?" full":""}`;return n.jsx("button",{type:"button",role:"gridcell","data-status":D.status,className:ne("nhs-slot-matrix__cell",W&&"nhs-slot-matrix__cell--selected"),"aria-label":T,"aria-selected":W||void 0,onClick:()=>H(D),children:he>0?`${he} left`:"Full"},D.id)})]},Q))]}),N==="bottom"&&x]})})})})})};function Qs(e){return e<10?`0${e}`:`${e}`}function qt(e){return`${Qs(e.getHours())}:${Qs(e.getMinutes())}`}const eo=({title:e,value:t,subtitle:r,variant:a="default",href:i,className:s="",ariaLabel:l,...c})=>{const d=["nhs-fdp-summary-card",`nhs-fdp-summary-card--${a}`,s].filter(Boolean).join(" "),u=n.jsxs(n.Fragment,{children:[n.jsx(Ze,{level:3,className:"nhs-fdp-summary-card__title",children:e}),n.jsx("p",{className:"nhs-fdp-summary-card__value",children:t}),r&&n.jsx("p",{className:"nhs-fdp-summary-card__subtitle",children:r})]});return i?n.jsx("a",{className:`${d} nhs-fdp-summary-card--clickable`,href:i,"aria-label":l||`${e}: ${t}`,...c,children:u}):n.jsx("div",{className:d,"aria-label":l,...c,children:u})},sf=({cards:e,className:t="",...r})=>{const a=["nhs-fdp-dashboard-summary-grid",t].filter(Boolean).join(" ");return n.jsx("div",{className:a,...r,children:n.jsx(Fn,{children:n.jsx(yt,{children:e.map((i,s)=>n.jsx(Nt,{width:"one-quarter",className:"nhs-fdp-dashboard-summary-grid__column","data-card-index":s,children:n.jsx(eo,{...i})},s))})})})},to=h.forwardRef(({data:e,columns:t,sortConfig:r,onSort:a,selectedRowIndex:i,onRowSelect:s,id:l,testId:c,ariaLabel:d,ariaLabelledby:u,ariaDescribedby:f,className:g,tableClassName:b,bordered:p=!1,striped:N=!1,responsive:y=!1,tableType:S="default"},q)=>{const M=h.useRef(null),w=h.useRef(null),_=h.useRef(null);h.useImperativeHandle(q,()=>M.current,[]);const[A,k]=h.useState(0),[R,H]=h.useState(0),[I,x]=h.useState("headers"),[L,ee]=h.useState("browse"),ue=t.length,Q=e.length,E=h.useMemo(()=>!r||r.length===0?e:[...e].sort((P,re)=>{for(const{key:$,direction:le}of r){const te=P[$],K=re[$];if(te==null&&K==null)continue;if(te==null)return 1;if(K==null)return-1;let X=0;if(typeof te=="number"&&typeof K=="number"?X=te-K:X=String(te).localeCompare(String(K)),X!==0)return le==="asc"?X:-X}return 0}),[e,r]),v=h.useCallback((P,re)=>{setTimeout(()=>{const $=M.current?.querySelector(`tbody tr:nth-child(${P+1}) td:nth-child(${re+1})`);$&&($.focus(),typeof $.scrollIntoView=="function"&&$.scrollIntoView({behavior:"smooth",block:"center",inline:"nearest"}))},0)},[]),D=h.useCallback(P=>{setTimeout(()=>{const re=M.current?.querySelector(`th:nth-child(${P+1})`);re&&(re.focus(),typeof re.scrollIntoView=="function"&&re.scrollIntoView({behavior:"smooth",block:"center",inline:"nearest"}))},0)},[]),he=h.useCallback(P=>{a?.(P)},[a]),W=h.useCallback(P=>{s?.(P)},[s]),T=h.useCallback(P=>{const{key:re}=P;switch(re){case"Enter":if(P.preventDefault(),I==="headers"&&L==="browse")ee("navigate"),D(R);else if(I==="headers"&&L==="navigate"){const $=t[R];$&&he($.key)}else I==="cells"&&L==="browse"?(ee("navigate"),v(A,R)):I==="cells"&&L==="navigate"&&W(A);break;case"Escape":P.preventDefault(),(I==="headers"&&L==="navigate"||I==="cells"&&L==="navigate")&&ee("browse");break;case"ArrowLeft":if(P.preventDefault(),L==="navigate"||L==="browse"&&I==="headers"){if(I==="headers"){const $=Math.max(0,R-1);H($),D($)}else if(I==="cells"){const $=Math.max(0,R-1);H($),v(A,$)}}break;case"ArrowRight":if(P.preventDefault(),L==="navigate"||L==="browse"&&I==="headers"){if(I==="headers"){const $=Math.min(ue-1,R+1);H($),D($)}else if(I==="cells"){const $=Math.min(ue-1,R+1);H($),v(A,$)}}break;case"ArrowUp":if(P.preventDefault(),I==="cells"){if(L==="browse"){const $=Math.max(0,A-1);k($),v($,0),H(0)}else if(L==="navigate")if(A>0){const $=A-1;k($),v($,R)}else x("headers"),ee("browse"),D(R)}break;case"ArrowDown":if(P.preventDefault(),I==="headers"&&L==="browse")x("cells"),k(0),H(0),v(0,0);else if(I==="cells"){const $=Q-1;if(L==="browse"){const le=Math.min($,A+1);k(le),v(le,0),H(0)}else if(L==="navigate"&&A<$){const le=A+1;k(le),v(le,R)}}break;case"Home":P.preventDefault(),I==="headers"?(H(0),D(0)):I==="cells"&&(P.ctrlKey?(k(0),H(0),v(0,0)):(H(0),v(A,0)));break;case"End":if(P.preventDefault(),I==="headers"){const $=ue-1;H($),D($)}else if(I==="cells")if(P.ctrlKey){const $=Q-1,le=ue-1;k($),H(le),v($,le)}else{const $=ue-1;H($),v(A,$)}break;case" ":if(P.preventDefault(),I==="headers"&&L==="navigate"){const $=t[R];$&&he($.key)}else I==="cells"&&L==="navigate"&&W(A);break}},[I,L,R,A,ue,Q,t,v,D,he,W]);h.useEffect(()=>{const P=M.current;if(P)return P.addEventListener("keydown",T),()=>P.removeEventListener("keydown",T)},[T]);const se=ne("nhsuk-table",b,{"nhsuk-table--responsive":y,"nhsuk-table--bordered":p,"nhsuk-table--striped":N,"nhsuk-table--compact":S==="compact"},g);return n.jsxs("table",{ref:M,className:se,id:l,"data-testid":c,role:"grid","aria-label":d,"aria-labelledby":u,"aria-describedby":f,tabIndex:0,children:[n.jsx("thead",{className:"nhsuk-table__head",role:"rowgroup",children:n.jsx("tr",{ref:w,role:"row",children:t.map((P,re)=>{const $=r?.find(K=>K.key===P.key),le=!!$,te=I==="headers"&&R===re;return n.jsx("th",{className:ne("sortable-header",{"sortable-header--focused":te}),role:"columnheader",tabIndex:te?0:-1,onClick:()=>he(P.key),onKeyDown:K=>{(K.key==="Enter"||K.key===" ")&&(K.preventDefault(),he(P.key))},"aria-sort":le?$?.direction==="asc"?"ascending":"descending":"none",children:n.jsxs("div",{className:"header-content",children:[n.jsx("span",{className:"header-label",children:P.label}),le&&n.jsxs("span",{className:"sort-indicator","aria-hidden":"true",children:[r&&r.length>1&&n.jsx("span",{className:"sort-priority",children:r.findIndex(K=>K.key===P.key)+1}),n.jsx("svg",{width:"12",height:"12",viewBox:"0 0 12 12",fill:"currentColor",className:"sort-arrow",children:$?.direction==="asc"?n.jsx("path",{d:"M6 2L2 8h8L6 2z"}):n.jsx("path",{d:"M6 10L2 4h8L6 10z"})})]})]})},P.key)})})}),n.jsx("tbody",{ref:_,className:"nhsuk-table__body",role:"rowgroup",children:E.map((P,re)=>{const $=i===re,le=I==="cells"&&A===re;return n.jsx("tr",{role:"row",className:ne("data-row",{"data-row--selected":$,"data-row--focused":le}),"aria-selected":$,children:t.map((te,K)=>{const X=te.tableRenderer?te.tableRenderer(P):te.render?te.render(P):P[te.key],V=I==="cells"&&A===re&&R===K,oe=()=>typeof X=="boolean"?n.jsxs(n.Fragment,{children:[n.jsx("span",{"aria-hidden":"true",children:X?"âœ“":"âœ—"}),n.jsx("span",{className:"sr-only",children:X?"Yes":"No"})]}):String(X??"");return n.jsx("td",{role:"gridcell",className:ne("data-cell",{"data-cell--focused":V}),tabIndex:V?0:-1,onClick:()=>W(re),children:oe()},te.key)})},re)})})]})});to.displayName="AriaDataGrid";const no=({sortConfig:e,columns:t,onSortChange:r,className:a="",emptyDescription:i="No sorting applied",activeDescription:s,showReset:l=!0,showHelp:c=!0,disabled:d=!1,ariaLabel:u="Sort configuration",ariaDescribedBy:f})=>{const g=h.useRef(null),b=h.useRef(null),p=h.useRef(null),N=h.useCallback((I,x)=>{d||(b.current=x,I.dataTransfer.effectAllowed="move",I.dataTransfer.setData("text/plain",x))},[d]),y=h.useCallback((I,x)=>{d||b.current===x||(I.preventDefault(),I.dataTransfer.dropEffect="move",p.current=x)},[d]),S=h.useCallback((I,x)=>{if(d)return;I.preventDefault();const L=b.current;if(!L||L===x)return;const ee=e.findIndex(Q=>Q.key===L),ue=e.findIndex(Q=>Q.key===x);if(ee!==-1&&ue!==-1){const Q=[...e],[E]=Q.splice(ee,1);Q.splice(ue,0,E),r(Q)}b.current=null,p.current=null},[d,e,r]),q=h.useCallback(()=>{b.current=null,p.current=null},[]),M=h.useCallback(I=>{const x=t.find(L=>L.key===I);return x?x.label:I},[t]),w=h.useCallback(I=>["red","orange","blue","aqua-green","grey"][I]||"grey",[]),_=h.useCallback(I=>{if(d)return;const x=e.map(L=>L.key===I?{...L,direction:L.direction==="asc"?"desc":"asc"}:L);r(x)},[e,r,d]),A=h.useCallback(I=>{if(d)return;const x=e.filter(L=>L.key!==I);r(x)},[e,r,d]),k=h.useCallback(()=>{d||r([])},[r,d]),R=()=>{if(e.length===0)return i;if(s)return s;const I=e.map((x,L)=>{const ee=x.direction==="asc"?"ascending":"descending";return`${L+1}. ${M(x.key)} (${ee})`});if(I.length===1)return`Sorted by: ${I[0]}`;if(I.length===2)return`Sorted by: ${I.join(" and ")}`;{const x=I.pop();return`Sorted by: ${I.join(", ")}, and ${x}`}},H=h.useMemo(()=>{const I=["sort-description"];return c&&I.push("sort-help"),f&&I.push(f),I.join(" ")},[c,f]);return e.length===0?n.jsxs("div",{className:`sort-status-control ${a}`,children:[n.jsx("div",{className:"sort-status-control__description",id:"sort-description","aria-live":"polite",children:i}),c&&n.jsx("div",{className:"sort-status-control__help",id:"sort-help",children:n.jsx("small",{children:"Drag tags to reorder priority. Click tags or â†‘/â†“ buttons to toggle ascending/descending. Click Ã— to remove a sort."})})]}):n.jsxs("div",{className:`sort-status-control ${a}`,children:[n.jsx("div",{className:"sort-status-control__description sort-status-control__description--active",id:"sort-description","aria-live":"polite",children:R()}),n.jsxs("div",{className:"sort-status-container",children:[n.jsx("div",{ref:g,className:"sort-status-control__tags",role:"list","aria-label":u,"aria-describedby":H,children:e.map((I,x)=>n.jsx("div",{className:"sort-status-control__tag-container",role:"listitem",draggable:!d,onDragStart:L=>N(L,I.key),onDragOver:L=>y(L,I.key),onDrop:L=>S(L,I.key),onDragEnd:q,onClick:()=>_(I.key),style:{cursor:d?"default":"pointer"},title:d?"":`Click to toggle sort direction. Currently ${I.direction==="asc"?"ascending":"descending"}`,"data-key":I.key,children:n.jsx(qe,{color:w(x),className:"sort-status-control__tag",closable:!0,onClose:()=>A(I.key),disabled:d,children:n.jsxs("div",{className:"sort-status-control__tag-content",children:[n.jsx("div",{className:"sort-status-control__drag-handle",title:"Drag to reorder",children:"â‹®â‹®"}),n.jsx("div",{className:`sort-status-control__priority-badge sort-priority sort-priority--priority-${x+1}`,children:x+1}),n.jsx("span",{className:"sort-status-control__tag-label",children:M(I.key)}),n.jsx("button",{type:"button",className:"sort-status-control__direction-button",onClick:L=>{L.stopPropagation(),_(I.key)},disabled:d,"aria-label":`Toggle sort direction for ${M(I.key)}. Currently ${I.direction==="asc"?"ascending":"descending"}`,title:"Click to toggle between ascending and descending",children:n.jsx("span",{className:`sort-status-control__direction-icon sort-status-control__direction-icon--${I.direction}`,children:n.jsx("svg",{className:`nhsuk-icon sort-status-control__chevron sort-status-control__chevron--${I.direction}`,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24","aria-hidden":"true",focusable:"false",children:n.jsx("path",{d:"M15.5 12a1 1 0 0 1-.29.71l-5 5a1 1 0 0 1-1.42-1.42l4.3-4.29-4.3-4.29a1 1 0 0 1 1.42-1.42l5 5a1 1 0 0 1 .29.71z"})})})})]})})},I.key))}),l&&n.jsx("div",{className:"sort-status-control__actions",children:n.jsx(Re,{variant:"secondary",onClick:k,disabled:d,"aria-label":"Reset all sorting",className:"sort-status-control__reset-button",children:"Clear All Sorts"})})]}),c&&n.jsx("div",{className:"sort-status-control__help",id:"sort-help",children:n.jsx("small",{children:"Drag tags to reorder priority. Click tags or â†‘/â†“ buttons to toggle ascending/descending. Click Ã— to remove a sort."})})]})};function of(e,t){switch(t.type){case"SET_SELECTED_INDEX":return{...e,selectedIndex:t.payload};case"SET_TAB_LOADING":const r=[...e.tabLoadingStates];return r[t.payload.tabIndex]=t.payload.isLoading,{...e,tabLoadingStates:r};case"SET_TAB_ERROR":const a=[...e.tabErrors];return a[t.payload.tabIndex]=t.payload.error,{...e,tabErrors:a};case"SET_SORT":return{...e,sortConfig:t.payload};case"SET_SELECTED_ROWS":const i=[...e.selectedRows];return i[t.payload.tabIndex]=t.payload.rowIndices,{...e,selectedRows:i};case"SET_GLOBAL_SELECTED_ROW_DATA":return{...e,globalSelectedRowData:t.payload};case"SET_FILTERS":return{...e,filters:t.payload};case"ADJUST_ARRAYS":const{newLength:s}=t.payload,l=new Array(s).fill(!1),c=new Array(s).fill(null),d=new Array(s).fill([]);for(let u=0;u<Math.min(e.tabLoadingStates.length,s);u++)l[u]=e.tabLoadingStates[u],c[u]=e.tabErrors[u],d[u]=e.selectedRows[u];return{...e,tabLoadingStates:l,tabErrors:c,selectedRows:d};case"RESET_STATE":return{selectedIndex:0,tabLoadingStates:new Array(e.tabLoadingStates.length).fill(!1),tabErrors:new Array(e.tabErrors.length).fill(null),sortConfig:[],selectedRows:new Array(e.selectedRows.length).fill([]),globalSelectedRowData:null,filters:void 0};default:return e}}const On=h.forwardRef(function(t,r){const{dataConfig:a={},tabPanels:i,selectedIndex:s,onTabChange:l,onGlobalRowSelectionChange:c,ariaLabel:d,ariaDescription:u,className:f="",disabled:g=!1,orientation:b="horizontal",id:p,isLoading:N=!1,loadingComponent:y,error:S=null,errorComponent:q,"data-testid":M,actions:w,actionsMinGap:_=16,forceActionsAbove:A=!1}=t,R=h.useRef(p||`aria-tabs-datagrid-${Math.random().toString(36).slice(2,9)}`).current,H=typeof u=="string"&&u.trim()!==""&&!/\s/.test(u),I=`${R}-description`,x=`${R}-navigation-help`,{dataComparator:L=(m,C)=>JSON.stringify(m)===JSON.stringify(C),filterFunction:ee=m=>m,booleanRenderer:ue=m=>m?"âœ“":"âœ—"}=a||{},Q=s!==void 0,E=s??0,[v,D]=h.useState({focusArea:"tabs",focusedTabIndex:E,focusedHeaderIndex:0,focusedRowIndex:0,focusedColumnIndex:0,focusedActionIndex:0,isGridActive:!1}),he=h.useMemo(()=>({selectedIndex:E,tabLoadingStates:new Array(i.length).fill(!1),tabErrors:new Array(i.length).fill(null),sortConfig:[],selectedRows:new Array(i.length).fill([]),globalSelectedRowData:null,filters:void 0}),[E]),[W,T]=h.useReducer(of,he);h.useEffect(()=>{const m=W.tabLoadingStates.length,C=i.length;m!==C&&T({type:"ADJUST_ARRAYS",payload:{newLength:C}})},[i.length]),h.useEffect(()=>{Q&&T({type:"SET_SELECTED_INDEX",payload:E})},[E,Q]),h.useEffect(()=>{D(m=>({...m,focusArea:"tabs",focusedTabIndex:W.selectedIndex,focusedHeaderIndex:0,focusedRowIndex:0,focusedColumnIndex:0,focusedActionIndex:0,isGridActive:!1}))},[W.selectedIndex]),h.useEffect(()=>{c&&c(W.globalSelectedRowData)},[W.globalSelectedRowData,c]);const se=h.useCallback((m,C)=>L(m,C),[L]),P=h.useCallback(m=>{m>=0&&m<i.length&&!i[m].disabled&&(T({type:"SET_SELECTED_INDEX",payload:m}),D(C=>({...C,focusedTabIndex:m,focusArea:"tabs"})),l?.(m))},[i,l]),re=h.useRef(!1),$=h.useCallback((m,C)=>{if(!C?.force&&!re.current&&m===0){re.current=!0;return}re.current=!0,setTimeout(()=>{const G=le.current[m],Z=G?.parentElement;if(G&&Z){const F=G.offsetLeft,Y=G.offsetWidth,ve=Z.clientWidth,be=F-ve/2+Y/2;try{Z.scrollTo({left:Math.max(0,be),behavior:"smooth"})}catch{G.scrollIntoView({behavior:"smooth",block:"nearest",inline:"center"})}}else process.env.SILENCE_SCROLL_DEBUG||console.debug("[AriaTabsDataGrid] Missing elements for scroll",{tabElementExists:!!G,tabListElementExists:!!Z})},50)},[]),le=h.useRef([]),te=h.useRef([]),K=h.useCallback((m,C)=>{const G=W.sortConfig||[],Z=G.find(ve=>ve.key===C);let F;Z?Z.direction==="asc"?F=G.map(ve=>ve.key===C?{...ve,direction:"desc"}:ve):F=G.filter(ve=>ve.key!==C):F=[...G,{key:C,direction:"asc"}],T({type:"SET_SORT",payload:F}),i[m].onSort?.(C)},[W.sortConfig,i]),X=h.useCallback(m=>{setTimeout(()=>{const C=document.querySelector(`[data-tab-panel="${W.selectedIndex}"] th:nth-child(${m+1})`);C&&C.focus()},0)},[W.selectedIndex]),V=h.useCallback(m=>ue(m),[ue]),oe=h.useCallback((m,C)=>{setTimeout(()=>{const G=document.querySelector(`[data-tab-panel="${W.selectedIndex}"] tbody tr:nth-child(${m+1}) td:nth-child(${C+1})`);G&&G.focus()},0)},[W.selectedIndex]);h.useEffect(()=>{v.isGridActive&&(v.focusArea==="headers"?setTimeout(()=>{X(v.focusedHeaderIndex)},0):v.focusArea==="cells"&&setTimeout(()=>{oe(v.focusedRowIndex,v.focusedColumnIndex)},0))},[v.focusArea,v.isGridActive,v.focusedHeaderIndex,v.focusedRowIndex,v.focusedColumnIndex,X,oe]),h.useEffect(()=>{$(W.selectedIndex)},[W.selectedIndex,$]);const ge=h.useCallback((m,C)=>{const{key:G}=m,Z=i[W.selectedIndex],F=Z?.columns.length||0;switch(G){case"ArrowLeft":m.preventDefault();const Y=Math.max(0,C-1);D(we=>({...we,focusedHeaderIndex:Y})),X(Y);break;case"ArrowRight":m.preventDefault();const ve=Math.min(F-1,C+1);D(we=>({...we,focusedHeaderIndex:ve})),X(ve);break;case"ArrowUp":m.preventDefault(),D(we=>({...we,focusArea:"tabs",focusedTabIndex:W.selectedIndex})),$(W.selectedIndex),le.current[W.selectedIndex]?.focus();break;case"ArrowDown":m.preventDefault(),D(we=>({...we,focusArea:"cells",focusedRowIndex:0,focusedColumnIndex:C,isGridActive:!0}));break;case"Home":m.preventDefault(),D(we=>({...we,focusedHeaderIndex:0})),X(0);break;case"End":m.preventDefault();const be=F-1;D(we=>({...we,focusedHeaderIndex:be})),X(be);break;case"Enter":case" ":m.preventDefault();const ke=Z?.columns[C]?.key;ke&&K(W.selectedIndex,ke);break}},[i,W.selectedIndex,K,D,X,oe,le]),O=h.useCallback((m,C,G)=>{const{key:Z}=m,F=i[W.selectedIndex],Y=F?.data.length||0,ve=F?.columns.length||0;switch(Z){case"ArrowUp":if(m.preventDefault(),C===0)D(ie=>({...ie,focusArea:"headers",focusedHeaderIndex:G,isGridActive:!1})),X(G);else{const ie=C-1;D(Se=>({...Se,focusedRowIndex:ie})),oe(ie,G)}break;case"ArrowDown":m.preventDefault();const be=Math.min(Y-1,C+1);D(ie=>({...ie,focusedRowIndex:be})),oe(be,G);break;case"ArrowLeft":m.preventDefault();const ke=Math.max(0,G-1);D(ie=>({...ie,focusedColumnIndex:ke})),oe(C,ke);break;case"ArrowRight":m.preventDefault();const we=Math.min(ve-1,G+1);D(ie=>({...ie,focusedColumnIndex:we})),oe(C,we);break;case"Home":m.preventDefault(),m.ctrlKey?(D(ie=>({...ie,focusedRowIndex:0,focusedColumnIndex:0})),oe(0,0)):(D(ie=>({...ie,focusedColumnIndex:0})),oe(C,0));break;case"End":if(m.preventDefault(),m.ctrlKey){const ie=Y-1,Se=ve-1;D(De=>({...De,focusedRowIndex:ie,focusedColumnIndex:Se})),oe(ie,Se)}else{const ie=ve-1;D(Se=>({...Se,focusedColumnIndex:ie})),oe(C,ie)}break;case"Enter":case" ":if(m.preventDefault(),F&&F.data[C]){const ie=F.data.some($e=>"ews_data"in $e)?ee(F.data,W.filters):F.data,Se=W.sortConfig;let De=ie;if(Se&&Se.length>0&&(De=[...ie].sort(($e,Be)=>{for(const{key:Ge,direction:xt}of Se){let gt=$e[Ge],lt=Be[Ge];const Pe=F.columns.find(Sn=>Sn.key===Ge);if(Pe?.tableRenderer?(gt=Pe.tableRenderer($e),lt=Pe.tableRenderer(Be)):Pe?.render&&(gt=Pe.render($e),lt=Pe.render(Be)),gt==null&&lt==null)continue;if(gt==null)return xt==="asc"?-1:1;if(lt==null)return xt==="asc"?1:-1;let We=0;if(typeof gt=="number"&&typeof lt=="number"?We=gt-lt:We=String(gt).localeCompare(String(lt),void 0,{numeric:!0,sensitivity:"base"}),We!==0)return xt==="asc"?We:-We}return 0})),De[C]){const $e=De[C],Ge=W.globalSelectedRowData&&se(W.globalSelectedRowData,$e)?null:$e;T({type:"SET_GLOBAL_SELECTED_ROW_DATA",payload:Ge})}}break}},[i,W.selectedIndex,W.filters,W.sortConfig,ee,se,T,D,X,oe]),Ce=h.useCallback((m,C)=>ee(m,C),[ee]);if(h.useImperativeHandle(r,()=>({selectTab:m=>{m>=0&&m<i.length&&(T({type:"SET_SELECTED_INDEX",payload:m}),l?.(m))},refreshData:m=>{console.log("Refreshing data for tab:",m??"all")},exportData:m=>{const C=m??W.selectedIndex,G=i[C];return G?G.data:[]},getSelectedRows:m=>W.globalSelectedRowData?[]:[],clearSelection:m=>{T({type:"SET_GLOBAL_SELECTED_ROW_DATA",payload:null})},applyFilters:m=>{T({type:"SET_FILTERS",payload:m})}}),[W.selectedIndex,W.selectedRows,i,l]),N)return n.jsx("div",{className:`aria-tabs-datagrid aria-tabs-datagrid--loading ${f}`,"data-testid":M,children:y||n.jsx("div",{className:"aria-tabs-datagrid__loading",children:n.jsx("div",{className:"nhsuk-spinner",role:"status","aria-label":"Loading data",children:n.jsx("span",{className:"nhsuk-u-visually-hidden",children:"Loading..."})})})});if(S)return n.jsx("div",{className:`aria-tabs-datagrid aria-tabs-datagrid--error ${f}`,"data-testid":M,children:q||n.jsxs("div",{className:"aria-tabs-datagrid__error",role:"alert",children:[n.jsx("h3",{className:"nhsuk-error-summary__title",children:"Error loading data"}),n.jsx("p",{children:S})]})});const me=h.useRef(null),pe=h.useRef(null),fe=h.useRef(null),[xe,Me]=h.useState(!0);h.useEffect(()=>{if(!w){Me(!1);return}if(A){Me(!1);return}function m(){if(!me.current||!pe.current||!fe.current)return;const Z=me.current.clientWidth,F=Array.from(pe.current.querySelectorAll(":scope > .aria-tabs-datagrid__tab")),Y=F.reduce((we,ie)=>we+ie.offsetWidth,0),ve=fe.current.offsetWidth,be=Math.max(8*(F.length-1),0),ke=Y+be+ve+_<=Z;Me(ke)}const C=requestAnimationFrame(()=>m()),G=new ResizeObserver(()=>m());return me.current&&G.observe(me.current),pe.current&&G.observe(pe.current),()=>{cancelAnimationFrame(C),G.disconnect()}},[w,_,A,i.length]);const Te=fe,Ne=h.useCallback(()=>Te.current?Array.from(Te.current.querySelectorAll('button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])')).filter(m=>!m.hasAttribute("disabled")):[],[]),B=h.useCallback(m=>{const C=Ne();if(!C.length)return;const G=Math.max(0,Math.min(m,C.length-1));C[G].focus(),D(Z=>({...Z,focusArea:"actions",focusedActionIndex:G}))},[Ne]),j=h.useCallback(()=>B(0),[B]),U=h.useCallback((m,C)=>{const{key:G}=m,Z=i.length-1;switch(G){case"ArrowUp":{w&&!xe&&(m.preventDefault(),j());break}case"ArrowLeft":{m.preventDefault();const F=C>0?C-1:Z;P(F),$(F),le.current[F]?.focus();break}case"ArrowRight":{if(m.preventDefault(),C===Z&&w&&xe){j();return}const F=C<Z?C+1:0;P(F),$(F),le.current[F]?.focus();break}case"ArrowDown":{m.preventDefault(),D(F=>({...F,focusArea:"headers",focusedHeaderIndex:0,isGridActive:!0}));break}case"Home":{m.preventDefault(),P(0),$(0),le.current[0]?.focus();break}case"End":{m.preventDefault(),P(Z),$(Z),le.current[Z]?.focus();break}case"Enter":case" ":{m.preventDefault(),P(C);break}case"Tab":{!m.shiftKey&&C===Z&&w&&xe&&j();break}}},[i.length,P,$,w,xe,j]),z=h.useCallback(m=>{const{key:C}=m,G=Ne();if(!G.length)return;const Z=G.findIndex(F=>F===document.activeElement);switch(C){case"ArrowLeft":{if(xe)if(Z>0)m.preventDefault(),B(Z-1);else{m.preventDefault();const F=i.length-1;P(F),$(F),le.current[F]?.focus(),D(Y=>({...Y,focusArea:"tabs",focusedTabIndex:F}))}break}case"ArrowRight":{xe&&(Z<G.length-1?(m.preventDefault(),B(Z+1)):(m.preventDefault(),P(0),$(0),le.current[0]?.focus(),D(F=>({...F,focusArea:"tabs",focusedTabIndex:0}))));break}case"ArrowDown":{if(xe)m.preventDefault(),D(F=>({...F,focusArea:"headers",focusedHeaderIndex:0,isGridActive:!0}));else{m.preventDefault();const F=W.selectedIndex;le.current[F]?.focus(),D(Y=>({...Y,focusArea:"tabs",focusedTabIndex:F}))}break}}},[Ne,xe,B,i.length,P,$,W.selectedIndex]);return n.jsxs("div",{className:`aria-tabs-datagrid aria-tabs-datagrid--${b} ${f}`,id:p,"data-testid":M,ref:me,children:[u&&!H&&n.jsx("div",{id:I,className:"nhsuk-u-visually-hidden",children:u}),n.jsx("div",{className:"aria-tabs-datagrid__navigation-help sr-only",id:x,children:"Keyboard navigation: Use Tab to move between tabs and grid. Arrow keys navigate within tabs and grid cells. Enter activates tabs and sorts columns. Arrow Down from tabs moves to table headers. Arrow Down from headers moves to table cells. Use Arrow keys to navigate between cells."}),n.jsx(no,{sortConfig:W.sortConfig||[],columns:i.flatMap(m=>m.columns.map(C=>({key:C.key,label:C.label}))).filter((m,C,G)=>G.findIndex(Z=>Z.key===m.key)===C),onSortChange:m=>{T({type:"SET_SORT",payload:m})},ariaLabel:"Data grid sort configuration"}),w&&!xe&&n.jsx("div",{className:"aria-tabs-datagrid__actions aria-tabs-datagrid__actions--above",ref:fe,role:"toolbar","aria-label":"Additional actions",onKeyDown:z,children:w}),n.jsxs("div",{className:`aria-tabs-datagrid__tabs-wrapper ${xe?"aria-tabs-datagrid__tabs-wrapper--inline-actions":""}`,children:[n.jsx("div",{role:"tablist","aria-label":d,"aria-describedby":u?H?u:I:x,"aria-orientation":b,className:"aria-tabs-datagrid__tabs",ref:pe,children:i.map((m,C)=>{const G=C===W.selectedIndex,Z=m.disabled||g;return n.jsxs("button",{role:"tab",id:`tab-${m.id}`,"aria-controls":`panel-${m.id}`,"aria-selected":G,"aria-disabled":Z,tabIndex:G?0:-1,ref:F=>{le.current[C]=F},onClick:()=>P(C),onKeyDown:F=>U(F,C),disabled:Z,className:["aria-tabs-datagrid__tab",G?"aria-tabs-datagrid__tab--selected":"",Z?"aria-tabs-datagrid__tab--disabled":""].filter(Boolean).join(" "),children:[n.jsx("span",{className:"aria-tabs-datagrid__tab-label",children:m.label}),W.tabLoadingStates[C]&&n.jsx("span",{className:"aria-tabs-datagrid__tab-loading","aria-hidden":"true",children:"â³"}),W.tabErrors[C]&&n.jsx("span",{className:"aria-tabs-datagrid__tab-error","aria-hidden":"true",children:"âš ï¸"})]},m.id)})}),w&&xe&&n.jsx("div",{className:"aria-tabs-datagrid__actions aria-tabs-datagrid__actions--inline",ref:fe,role:"toolbar","aria-label":"Additional actions",onKeyDown:z,children:w})]}),i.map((m,C)=>{const G=C===W.selectedIndex;return n.jsx("div",{role:"tabpanel",id:`panel-${m.id}`,"aria-labelledby":`tab-${m.id}`,tabIndex:0,hidden:!G,ref:Z=>{te.current[C]=Z},className:`aria-tabs-datagrid__panel ${m.className||""}`,"data-tab-panel":C,children:G&&(()=>{const Z=m.data.some(Y=>"ews_data"in Y)?Ce(m.data,W.filters):m.data,F=h.useMemo(()=>{const Y=W.sortConfig;return!Y||Y.length===0?Z:[...Z].sort((ve,be)=>{for(const{key:ke,direction:we}of Y){let ie=ve[ke],Se=be[ke];const De=m.columns.find(Be=>Be.key===ke);if(De?.tableRenderer?(ie=De.tableRenderer(ve),Se=De.tableRenderer(be)):De?.render&&(ie=De.render(ve),Se=De.render(be)),ie==null&&Se==null)continue;if(ie==null)return 1;if(Se==null)return-1;let $e=0;if(typeof ie=="number"&&typeof Se=="number"?$e=ie-Se:typeof ie=="boolean"&&typeof Se=="boolean"?$e=ie===Se?0:ie?1:-1:$e=String(ie).localeCompare(String(Se),void 0,{numeric:!0,sensitivity:"base"}),$e!==0)return we==="asc"?$e:-$e}return 0})},[Z,W.sortConfig,m.columns]);return n.jsxs("table",{className:"nhsuk-table aria-tabs-datagrid__grid",role:"grid","aria-label":m.ariaLabel,"aria-describedby":m.ariaDescription?`panel-${m.id}-description`:void 0,children:[m.ariaDescription&&n.jsx("caption",{className:"nhsuk-u-visually-hidden",id:`panel-${m.id}-description`,children:m.ariaDescription}),n.jsx("thead",{className:"nhsuk-table__head",role:"rowgroup",children:n.jsx("tr",{role:"row",children:m.columns.map((Y,ve)=>{const be=W.sortConfig?.find(ie=>ie.key===Y.key),ke=!!be,we=v.focusArea==="headers"&&v.focusedHeaderIndex===ve;return n.jsx("th",{className:`sortable-header ${we?"sortable-header--focused":""} ${ke?"sortable-header--sorted":""}`,role:"columnheader",tabIndex:we?0:-1,onClick:()=>K(C,Y.key),onKeyDown:ie=>ge(ie,ve),"aria-sort":ke?be?.direction==="asc"?"ascending":"descending":"none",children:n.jsxs("div",{className:"header-content",children:[n.jsx("span",{className:"header-label",children:Y.label}),n.jsxs("div",{className:`sort-indicator-container ${ke?`sort-indicator--${be?.direction}`:""}`,children:[W.sortConfig&&W.sortConfig.length>0&&W.sortConfig.findIndex(ie=>ie.key===Y.key)!==-1&&n.jsx("span",{className:`sort-priority sort-priority--priority-${W.sortConfig.findIndex(ie=>ie.key===Y.key)+1}`,"data-priority":W.sortConfig.findIndex(ie=>ie.key===Y.key)+1,title:`Sort priority: ${W.sortConfig.findIndex(ie=>ie.key===Y.key)+1}`,children:W.sortConfig.findIndex(ie=>ie.key===Y.key)+1}),ke&&n.jsx("svg",{className:`nhsuk-icon sort-arrow sort-arrow--${be?.direction}`,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24","aria-hidden":"true",focusable:"false",children:n.jsx("path",{d:"M15.5 12a1 1 0 0 1-.29.71l-5 5a1 1 0 0 1-1.42-1.42l4.3-4.29-4.3-4.29a1 1 0 0 1 1.42-1.42l5 5a1 1 0 0 1 .29.71z"})})]})]})},Y.key)})})}),n.jsx("tbody",{className:"nhsuk-table__body",role:"rowgroup",children:F.map((Y,ve)=>{const be=W.globalSelectedRowData&&se(W.globalSelectedRowData,Y),ke=v.focusArea==="cells"&&v.focusedRowIndex===ve;return n.jsx("tr",{role:"row",className:`data-row ${be?"data-row--selected":""} ${ke?"data-row--focused":""}`,"aria-selected":be,children:m.columns.map((we,ie)=>{const Se=Y[we.key];let De;we.tableRenderer?De=we.tableRenderer(Y):we.render?De=we.render(Y):De=Se;const $e=v.focusArea==="cells"&&v.focusedRowIndex===ve&&v.focusedColumnIndex===ie,Be=()=>{if(we.customRenderer){const Ge=we.customRenderer(Se,Y);return n.jsx("span",{className:"data-cell__custom","data-custom-rendered":"true",children:Ge})}return typeof Se=="boolean"&&De===Se?n.jsxs(n.Fragment,{children:[V(Se),n.jsx("span",{className:"nhsuk-u-visually-hidden",children:Se?"Yes":"No"})]}):h.isValidElement(De)||typeof De!="object"?De??"":De};return n.jsx("td",{role:"gridcell",className:`data-cell ${$e?"data-cell--focused":""}`,tabIndex:$e?0:-1,onClick:()=>{const xt=W.globalSelectedRowData&&se(W.globalSelectedRowData,Y)?null:Y;T({type:"SET_GLOBAL_SELECTED_ROW_DATA",payload:xt})},onKeyDown:Ge=>O(Ge,ve,ie),children:Be()},we.key)})},ve)})})]})})()},m.id)})]})}),Un={asc:"â†‘",desc:"â†“"},lf=e=>[...e].sort((t,r)=>t.priority-r.priority);function Vr(e){return e.map((t,r)=>({...t,priority:r}))}function cf(e){return e.length>0?Math.max(...e.map(t=>t.priority)):-1}function df(e,t){const r=t.find(a=>a.id===e);return r?r.priority>0:!1}function uf(e,t){const r=t.find(i=>i.id===e),a=cf(t);return r?r.priority<a:!1}const hf=({sortConfig:e,onSortChange:t,className:r="",emptyDescription:a="No sorting applied",activeDescription:i,showReset:s=!0,showHelp:l=!0,disabled:c=!1,ariaLabel:d="Sort configuration",ariaDescribedBy:u})=>{const f=h.useMemo(()=>lf(e),[e]),g=h.useCallback(M=>{if(c)return;const w=e.map(_=>_.id===M?{..._,direction:_.direction==="asc"?"desc":"asc"}:_);t(w)},[e,t,c]),b=h.useCallback(M=>{if(c)return;const w=e.findIndex(A=>A.id===M);if(w<=0)return;const _=[...e];[_[w],_[w-1]]=[_[w-1],_[w]],t(Vr(_))},[e,t,c]),p=h.useCallback(M=>{if(c)return;const w=e.findIndex(A=>A.id===M);if(w>=e.length-1||w===-1)return;const _=[...e];[_[w],_[w+1]]=[_[w+1],_[w]],t(Vr(_))},[e,t,c]),N=h.useCallback(M=>{if(c)return;const w=e.filter(_=>_.id!==M);t(Vr(w))},[e,t,c]),y=h.useCallback(()=>{c||t([])},[t,c]),S=()=>{if(e.length===0)return a;if(i)return i;const M=f.map((w,_)=>{const A=w.direction==="asc"?"ascending":"descending";return`${_+1}. ${w.label} (${A})`});if(M.length===1)return`Sorted by: ${M[0]}`;if(M.length===2)return`Sorted by: ${M.join(" and ")}`;{const w=M.pop();return`Sorted by: ${M.join(", ")}, and ${w}`}},q=h.useMemo(()=>{const M=["sort-description"];return l&&M.push("sort-help"),u&&M.push(u),M.join(" ")},[l,u]);return e.length===0?n.jsx("div",{className:`sort-status-control sort-status-control--empty ${r}`,children:n.jsx("div",{className:"sort-status-control__description",id:"sort-description","aria-live":"polite",children:S()})}):n.jsxs("div",{className:`sort-status-control ${r}`,children:[n.jsx("div",{className:"sort-status-control__description sort-status-control__description--active",id:"sort-description","aria-live":"polite",children:S()}),n.jsxs("div",{className:"sort-status-control__tags",role:"list","aria-label":d,"aria-describedby":q,children:[n.jsx("div",{className:"sort-status-control__tags-label",children:"Current sorting:"}),f.map(M=>n.jsx("div",{className:"sort-status-control__tag-container",role:"listitem",children:n.jsx(qe,{text:"",color:"blue",className:"sort-status-control__tag",closable:!0,onClose:()=>N(M.id),disabled:c,children:n.jsxs("div",{className:"sort-status-control__tag-content",children:[n.jsx("span",{className:"sort-status-control__tag-priority",children:M.priority+1}),n.jsx("span",{className:"sort-status-control__tag-label",children:M.label}),n.jsx("button",{type:"button",className:"sort-status-control__tag-direction",onClick:()=>g(M.id),disabled:c,"aria-label":`Toggle sort direction for ${M.label}. Currently ${M.direction==="asc"?"ascending":"descending"}`,title:"Click to toggle between ascending and descending",children:M.direction==="asc"?Un.asc:Un.desc}),n.jsxs("div",{className:"sort-status-control__tag-actions",children:[n.jsx("button",{type:"button",className:"sort-status-control__move-button",onClick:()=>b(M.id),disabled:c||!df(M.id,e),"aria-label":`Move ${M.label} sort up in priority`,title:"Move up in priority",children:"â–²"}),n.jsx("button",{type:"button",className:"sort-status-control__move-button",onClick:()=>p(M.id),disabled:c||!uf(M.id,e),"aria-label":`Move ${M.label} sort down in priority`,title:"Move down in priority",children:"â–¼"})]})]})})},M.id))]}),s&&n.jsx("div",{className:"sort-status-control__actions",children:n.jsx(Re,{variant:"secondary",onClick:y,disabled:c,"aria-label":"Reset all sorting",className:"sort-status-control__reset-button",children:"Clear All Sorts"})}),l&&n.jsx("div",{className:"sort-status-control__help",id:"sort-help",children:n.jsxs("small",{children:["Click ",Un.asc,"/",Un.desc," to toggle ascending/descending. Use â–²/â–¼ to change sort priority. Click Ã— to remove a sort."]})})]})},Gn=(e,t)=>t.map(r=>({id:r.id,label:r.label,data:r.filter?r.filter(e):e,columns:r.columns.map(a=>({key:a.key,label:a.label,render:a.render,customRenderer:a.customRenderer})),sortConfig:r.sortConfig,ariaLabel:r.ariaLabel||`${r.label} Data Grid`,ariaDescription:r.ariaDescription||`Data grid showing ${r.label.toLowerCase()}`,className:r.className,disabled:r.disabled})),Yr=[{value:!0,icon:n.jsx("svg",{className:"nhsuk-icon nhsuk-icon__tick",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none","aria-hidden":"true",width:"100%",height:"34",children:n.jsx("path",{strokeWidth:"4",strokeLinecap:"round",d:"M18.4 7.8l-8.5 8.4L5.6 12",stroke:"#007f3b"})})},{value:!1,icon:n.jsxs("svg",{className:"nhsuk-icon nhsuk-icon__cross",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24","aria-hidden":"true",width:"100%",height:"34",children:[n.jsx("path",{d:"M17 18.5c-.4 0-.8-.1-1.1-.4l-10-10c-.6-.6-.6-1.6 0-2.1.6-.6 1.5-.6 2.1 0l10 10c.6.6.6 1.5 0 2.1-.3.3-.6.4-1 .4z",fill:"#d5281b"}),n.jsx("path",{d:"M7 18.5c-.4 0-.8-.1-1.1-.4-.6-.6-.6-1.5 0-2.1l10-10c.6-.6 1.5-.6 2.1 0 .6.6.6 1.5 0 2.1l-10 10c-.3.3-.6.4-1 .4z",fill:"#d5281b"})]})}],ff=(e,t)=>!e||!t?e===t:e.name&&e.bed_name&&t.name&&t.bed_name?e.name===t.name&&e.bed_name===t.bed_name:JSON.stringify(e)===JSON.stringify(t),mf=(e,t)=>t?e.filter(r=>{if(t.ewsScoreRange){const[a,i]=t.ewsScoreRange;if(r.ews_score<a||r.ews_score>i)return!1}return!(t.wards&&t.wards.length>0&&!t.wards.includes(r.ward_name)||t.specialties&&t.specialties.length>0&&!t.specialties.includes(r.speciality)||t.dischargeStatuses&&t.dischargeStatuses.length>0&&!t.dischargeStatuses.includes(r.early_discharge_notification)||t.avpuLevels&&t.avpuLevels.length>0&&!t.avpuLevels.includes(r.ews_data.avpu)||t.medicallyOptimised!==null&&t.medicallyOptimised!==void 0&&r.medically_optimised!==t.medicallyOptimised||t.fastTrack!==null&&t.fastTrack!==void 0&&r.fast_track!==t.fastTrack)}):e,gf=e=>{if(typeof e=="boolean"){const r=Yr.find(a=>a.value===e);return r?r.icon:null}const t=Yr.find(r=>r.value===e);return t?t.icon:String(e)},pf=e=>`${e.name}-${e.bed_name}`,bf=()=>({overview:[{key:"name",label:"Patient Name"},{key:"age",label:"Age"},{key:"ward_name",label:"Ward"},{key:"bed_name",label:"Bed"},{key:"ews_score",label:"EWS Score"},{key:"speciality",label:"Specialty"},{key:"consultant",label:"Consultant"}],vitals:[{key:"name",label:"Patient Name"},{key:"ews_score",label:"EWS Score"},{key:"respiratory_rate_bpm",label:"Respiratory Rate",render:e=>e.ews_data.respiratory_rate_bpm},{key:"sp02",label:"SpO2 %",render:e=>e.ews_data.sp02},{key:"temperature",label:"Temperature Â°C",render:e=>e.ews_data.temperature},{key:"systolic_bp",label:"Systolic BP",render:e=>e.ews_data.systolic_bp},{key:"heart_rate",label:"Heart Rate",render:e=>e.ews_data.heart_rate},{key:"avpu",label:"AVPU",render:e=>e.ews_data.avpu.toUpperCase()}],discharge:[{key:"name",label:"Patient Name"},{key:"anticipated_discharge_date",label:"Anticipated Discharge",render:e=>new Date(e.anticipated_discharge_date).toLocaleDateString()},{key:"early_discharge_notification",label:"Discharge Status"},{key:"medically_optimised",label:"Medically Optimised"},{key:"criteria_to_reside",label:"Criteria to Reside"},{key:"fast_track",label:"Fast Track"},{key:"transport_status",label:"Transport Status"},{key:"pathway",label:"Pathway"}],logistics:[{key:"name",label:"Patient Name"},{key:"ward_name",label:"Ward"},{key:"room_name",label:"Room"},{key:"bed_name",label:"Bed"},{key:"bed_type",label:"Bed Type"},{key:"transport_booking",label:"Transport Booked"},{key:"transport_mobility",label:"Transport Type"},{key:"district_nurse_referral",label:"District Nurse"},{key:"equipment",label:"Equipment"}]}),yf=e=>{const t=bf();return[{id:"overview",label:"Patient Overview",data:e,columns:t.overview,ariaLabel:"Patient Overview Data Grid",ariaDescription:"Overview of all patients with basic information"},{id:"vitals",label:"Vital Signs & EWS",data:e,columns:t.vitals,sortConfig:[{key:"ews_score",direction:"desc"},{key:"name",direction:"asc"},{key:"ward_name",direction:"asc"}],ariaLabel:"Patient Vital Signs Data Grid",ariaDescription:"Patient vital signs and Early Warning Scores"},{id:"discharge",label:"Discharge Planning",data:e.filter(r=>r.anticipated_discharge_date),columns:t.discharge,sortConfig:[{key:"anticipated_discharge_date",direction:"asc"},{key:"discharge_status",direction:"desc"}],ariaLabel:"Discharge Planning Data Grid",ariaDescription:"Patient discharge planning and status information"},{id:"logistics",label:"Bed Management",data:e,columns:t.logistics,sortConfig:[{key:"ward_name",direction:"asc"}],ariaLabel:"Bed Management Data Grid",ariaDescription:"Patient location and logistics information"}]},ro={dataComparator:ff,filterFunction:mf,booleanRenderer:gf,getDataId:pf};function ao(e,t,r){const{primaryField:a,secondaryFields:i=[],badges:s=[],hiddenFields:l=[],getPriority:c,getVariant:d,fieldRenderers:u={},classPrefix:f="adaptive-card"}=r,g=t.find(w=>w.key===a),b=g?.cardRenderer?g.cardRenderer(e):g?.render?g.render(e):e[a||"name"]||"Untitled",p=()=>i.filter(_=>!l.includes(_)&&e[_]).slice(0,3).map(_=>{const A=t.find(I=>I.key===_),k=e[_],R=u[_]?u[_](k,e):A?.cardRenderer?A.cardRenderer(e):A?.render?A.render(e):k;return`${A?.label||_}: ${R}`}).join(" â€¢ "),N=()=>s.length===0?null:s.filter(w=>e[w.fieldKey]!==void 0).map(w=>{const _=e[w.fieldKey],A=w.render?w.render(_,e):_;return`<span class="nhsuk-tag ${xf(w,_)}">${A}</span>`}).join(""),y=()=>d?d(e):c?.(e)==="high"?"primary":"default",S=N(),q=p(),M=S?`${q}${S?`<div class="adaptive-card__badges">${S}</div>`:""}`:q;return{variant:y(),heading:String(b),descriptionHtml:M,className:`adaptive-card ${f}`,"aria-label":`Record for ${b}`}}function xf(e,t){const r=e.className||"adaptive-card__badge";if(e.fieldKey==="ews_score"||e.fieldKey.includes("score")){const a=Number(t);return a>=7?`${r} nhsuk-tag--red`:a>=3?`${r} nhsuk-tag--yellow`:`${r} nhsuk-tag--green`}if(e.fieldKey==="priority"){const a=String(t).toLowerCase();if(a==="high")return`${r} nhsuk-tag--red`;if(a==="medium")return`${r} nhsuk-tag--yellow`;if(a==="low")return`${r} nhsuk-tag--green`}if(e.fieldKey==="status"){const a=String(t).toLowerCase();if(a==="urgent"||a==="critical")return`${r} nhsuk-tag--red`;if(a==="pending"||a==="warning")return`${r} nhsuk-tag--yellow`;if(a==="completed"||a==="success")return`${r} nhsuk-tag--green`}switch(e.color){case"primary":return`${r} nhsuk-tag--blue`;case"secondary":return`${r} nhsuk-tag--grey`;case"success":return`${r} nhsuk-tag--green`;case"warning":return`${r} nhsuk-tag--yellow`;case"danger":return`${r} nhsuk-tag--red`;default:return r}}const vf={primaryField:"name",secondaryFields:["id","description","status"],badges:[{fieldKey:"priority",render:e=>e.charAt(0).toUpperCase()+e.slice(1),className:"adaptive-card__priority-badge"},{fieldKey:"status",render:e=>e.charAt(0).toUpperCase()+e.slice(1),className:"adaptive-card__status-badge"}],hiddenFields:[],getPriority:e=>e.priority||"medium",getStatus:e=>e.status||"active",getVariant:e=>e.priority==="high"?"primary":"default",fieldRenderers:{},classPrefix:"adaptive-card--generic"},qr=({data:e,columns:t,onSelect:r,onAction:a,priority:i="medium",status:s="active"})=>{const l=e.name,c=e.age,d=e.ward_name,u=e.bed_name,f=e.ews_score,g=e.speciality,b=e.consultant;return n.jsxs("div",{className:`healthcare-card healthcare-card--patient healthcare-card--${i} healthcare-card--${s}`,onClick:()=>r?.(e),role:"button",tabIndex:0,"aria-label":`Patient record for ${l}, Age ${c}, Ward ${d}, Bed ${u}`,children:[n.jsxs("div",{className:"healthcare-card__header",children:[n.jsxs("div",{className:"healthcare-card__identity",children:[n.jsx("h3",{className:"healthcare-card__patient-name",children:l}),n.jsxs("p",{className:"healthcare-card__age-info",children:[n.jsx("span",{className:"healthcare-card__label",children:"Age: "}),n.jsx("span",{className:"healthcare-card__value",children:c})]})]}),n.jsx("div",{className:"healthcare-card__badges",children:f!==void 0&&n.jsxs(qe,{color:kf(so(f)),className:"healthcare-card__alert",children:["EWS: ",f]})})]}),n.jsx("div",{className:"healthcare-card__body",children:n.jsxs("dl",{className:"healthcare-card__details",children:[n.jsxs("div",{className:"healthcare-card__detail",children:[n.jsx("dt",{children:"Ward"}),n.jsx("dd",{children:d})]}),n.jsxs("div",{className:"healthcare-card__detail",children:[n.jsx("dt",{children:"Bed"}),n.jsx("dd",{children:u})]}),n.jsxs("div",{className:"healthcare-card__detail",children:[n.jsx("dt",{children:"Specialty"}),n.jsx("dd",{children:g})]}),n.jsxs("div",{className:"healthcare-card__detail healthcare-card__detail--prominent",children:[n.jsx("dt",{children:"Consultant"}),n.jsx("dd",{children:b})]})]})}),n.jsxs("div",{className:"healthcare-card__actions",children:[n.jsx(Re,{variant:"secondary",className:"healthcare-card__action",onClick:p=>{p.stopPropagation(),a?.("view-notes",e)},children:"Notes"}),n.jsx(Re,{variant:"secondary",className:"healthcare-card__action",onClick:p=>{p.stopPropagation(),a?.("view-vitals",e)},children:"Vitals"}),n.jsx(Re,{variant:"primary",className:"healthcare-card__action healthcare-card__action--primary",onClick:p=>{p.stopPropagation(),a?.("view-full",e)},children:"View Full Record"})]})]})},Kr=({data:e,onAction:t})=>n.jsxs("div",{className:"healthcare-card healthcare-card--appointment healthcare-card--medium healthcare-card--active",role:"article",tabIndex:0,children:[n.jsxs("div",{className:"healthcare-card__header",children:[n.jsxs("div",{className:"healthcare-card__time-info",children:[n.jsx("h3",{className:"healthcare-card__time",children:new Date(e.appointment_time).toLocaleTimeString("en-GB",{hour:"2-digit",minute:"2-digit"})}),n.jsx("p",{className:"healthcare-card__type",children:e.appointment_type})]}),n.jsxs("div",{className:"healthcare-card__badges",children:[n.jsx(qe,{color:Sf(e.status||"active"),className:"healthcare-card__status",children:(e.status||"active").charAt(0).toUpperCase()+(e.status||"active").slice(1)}),n.jsxs(qe,{color:"grey",className:"healthcare-card__duration",children:[e.duration||"30"," min"]})]})]}),n.jsx("div",{className:"healthcare-card__body",children:n.jsxs("dl",{className:"healthcare-card__details",children:[n.jsxs("div",{className:"healthcare-card__detail",children:[n.jsx("dt",{children:"Patient"}),n.jsx("dd",{children:e.patient_name})]}),n.jsxs("div",{className:"healthcare-card__detail",children:[n.jsx("dt",{children:"Consultant"}),n.jsx("dd",{children:e.consultant})]}),n.jsxs("div",{className:"healthcare-card__detail",children:[n.jsx("dt",{children:"Location"}),n.jsx("dd",{children:e.location})]})]})}),n.jsxs("div",{className:"healthcare-card__actions",children:[n.jsx(Re,{variant:"secondary",size:"small",onClick:()=>t?.("view",e),children:"View Details"}),n.jsx(Re,{variant:"primary",size:"small",onClick:()=>t?.("edit",e),children:"Reschedule"})]})]}),Zr=({data:e,onAction:t})=>n.jsxs("div",{className:"healthcare-card healthcare-card--medication healthcare-card--medium healthcare-card--active",role:"article",tabIndex:0,children:[n.jsxs("div",{className:"healthcare-card__header",children:[n.jsxs("div",{className:"healthcare-card__medication-info",children:[n.jsx("h3",{className:"healthcare-card__medication-name",children:e.medication}),n.jsxs("p",{className:"healthcare-card__dose",children:[e.dose," â€¢ ",e.frequency]})]}),n.jsxs("div",{className:"healthcare-card__badges",children:[n.jsx(qe,{color:"blue",className:"healthcare-card__route",children:e.route}),e.next_due&&n.jsxs(qe,{color:"red",className:"healthcare-card__warning",children:["Due: ",new Date(e.next_due).toLocaleTimeString("en-GB",{hour:"2-digit",minute:"2-digit"})]})]})]}),n.jsx("div",{className:"healthcare-card__body",children:n.jsxs("dl",{className:"healthcare-card__details",children:[n.jsxs("div",{className:"healthcare-card__detail",children:[n.jsx("dt",{children:"Patient"}),n.jsx("dd",{children:e.patient_name})]}),n.jsxs("div",{className:"healthcare-card__detail",children:[n.jsx("dt",{children:"Prescriber"}),n.jsx("dd",{children:e.prescriber})]}),e.allergies&&n.jsxs("div",{className:"healthcare-card__detail healthcare-card__detail--urgent",children:[n.jsx("dt",{children:"Allergies"}),n.jsx("dd",{children:e.allergies})]})]})}),n.jsxs("div",{className:"healthcare-card__actions",children:[n.jsx(Re,{variant:"secondary",size:"small",onClick:()=>t?.("view",e),children:"View Details"}),n.jsx(Re,{variant:"primary",size:"small",onClick:()=>t?.("edit",e),children:"Adjust Dose"})]})]}),Xr=({data:e,onSelect:t,onAction:r,priority:a="medium"})=>{const i=e.name,s=e.ews_score,l=e.ews_data?.respiratory_rate_bpm,c=e.ews_data?.sp02,d=e.ews_data?.temperature,u=e.ews_data?.systolic_bp,f=e.ews_data?.heart_rate,g=e.ews_data?.avpu;return n.jsxs("div",{className:`healthcare-card healthcare-card--vitals healthcare-card--${a}`,onClick:()=>t?.(e),role:"button",tabIndex:0,"aria-label":`Vital signs for ${i}, EWS Score ${s}`,children:[n.jsxs("div",{className:"healthcare-card__header",children:[n.jsxs("div",{className:"healthcare-card__vitals-summary",children:[n.jsx("h3",{className:"healthcare-card__patient-name",children:i}),s!==void 0&&n.jsxs("p",{className:`healthcare-card__ews-score healthcare-card__ews-score--${_f(s)}`,children:["EWS: ",s]})]}),n.jsx("div",{className:"healthcare-card__badges",children:g&&n.jsxs(qe,{color:"blue",className:"healthcare-card__avpu",children:["AVPU: ",g.toUpperCase()]})})]}),n.jsx("div",{className:"healthcare-card__body",children:n.jsxs("div",{className:"healthcare-card__vitals-grid",children:[l!==void 0&&n.jsxs("div",{className:"healthcare-card__vital",children:[n.jsx("span",{className:"healthcare-card__vital-label",children:"Respiratory Rate"}),n.jsxs("span",{className:"healthcare-card__vital-value",children:[l," bpm"]})]}),c!==void 0&&n.jsxs("div",{className:"healthcare-card__vital",children:[n.jsx("span",{className:"healthcare-card__vital-label",children:"SpO2"}),n.jsxs("span",{className:"healthcare-card__vital-value",children:[c,"%"]})]}),d!==void 0&&n.jsxs("div",{className:"healthcare-card__vital",children:[n.jsx("span",{className:"healthcare-card__vital-label",children:"Temperature"}),n.jsxs("span",{className:"healthcare-card__vital-value",children:[d,"Â°C"]})]}),u!==void 0&&n.jsxs("div",{className:"healthcare-card__vital",children:[n.jsx("span",{className:"healthcare-card__vital-label",children:"Systolic BP"}),n.jsx("span",{className:"healthcare-card__vital-value",children:u})]}),f!==void 0&&n.jsxs("div",{className:"healthcare-card__vital",children:[n.jsx("span",{className:"healthcare-card__vital-label",children:"Heart Rate"}),n.jsxs("span",{className:"healthcare-card__vital-value",children:[f," bpm"]})]})]})}),n.jsxs("div",{className:"healthcare-card__actions",children:[n.jsx(Re,{variant:"secondary",className:"healthcare-card__action",onClick:b=>{b.stopPropagation(),r?.("view-trend",e)},children:"Trend"}),n.jsx(Re,{variant:"primary",className:"healthcare-card__action healthcare-card__action--primary",onClick:b=>{b.stopPropagation(),r?.("record-new",e)},children:"Record New"})]})]})};function so(e){const t=typeof e=="string"?parseInt(e,10):e;return t>=7?"critical":t>=5?"high":t>=3?"medium":"low"}function _f(e){return so(e)}function kf(e){switch(e){case"critical":return"red";case"high":return"orange";case"medium":return"yellow";case"low":return"grey";default:return"grey"}}function Sf(e){switch(e.toLowerCase()){case"active":return"blue";case"pending":return"orange";case"completed":return"green";case"cancelled":return"grey";default:return"blue"}}const wf=[{fieldKey:"ews_score",render:e=>`EWS: ${e}`,className:"adaptive-card__ews-badge",color:"default"},{fieldKey:"priority",render:e=>e.charAt(0).toUpperCase()+e.slice(1),className:"adaptive-card__priority-badge"},{fieldKey:"status",render:e=>e.charAt(0).toUpperCase()+e.slice(1),className:"adaptive-card__status-badge"}],oo=e=>e.ews_score&&Number(e.ews_score)>=7?"high":e.ews_score&&Number(e.ews_score)>=3?"medium":e.priority==="high"||e.status==="urgent"?"high":e.priority==="low"?"low":"medium",io={name:"healthcare",defaultCardConfig:{primaryField:"name",secondaryFields:["nhs_number","ward","condition","consultant"],badges:wf,hiddenFields:[],getPriority:oo,getStatus:e=>{if(e.status){const t=e.status.toLowerCase();if(["active","pending","completed","cancelled","urgent"].includes(t))return t}return"active"},getVariant:e=>oo(e)==="high"||e.status==="urgent"?"primary":"default",fieldRenderers:{nhs_number:e=>e?`NHS: ${e}`:"",ews_score:e=>{const t=Number(e),r=t>=7?"HIGH":t>=3?"MEDIUM":"LOW";return`EWS: ${e} (${r})`},age:(e,t)=>t.dob?`${new Date().getFullYear()-new Date(t.dob).getFullYear()}y`:e?`${e}y`:""},classPrefix:"adaptive-card--healthcare"},cssImport:"./HealthcareCardTemplates.scss",cardTemplates:{patient:(e,t,r)=>{const a=r.getPriority?.(e)||"medium",i=r.getStatus?.(e)||"active",s=i==="urgent"?"active":i;return n.jsx(qr,{data:e,columns:t,priority:a,status:s,onSelect:l=>console.log("Patient selected:",l),onAction:(l,c)=>console.log("Patient action:",l,c)})},appointment:(e,t,r)=>{const a=r.getStatus?.(e)||"pending",i=a==="urgent"?"pending":a;return n.jsx(Kr,{data:e,columns:t,status:i,onSelect:s=>console.log("Appointment selected:",s),onAction:(s,l)=>console.log("Appointment action:",s,l)})},medication:(e,t,r)=>{const a=r.getPriority?.(e)||"medium";return n.jsx(Zr,{data:e,columns:t,priority:a,onSelect:i=>console.log("Medication selected:",i),onAction:(i,s)=>console.log("Medication action:",i,s)})},vitals:(e,t,r)=>{const a=r.getPriority?.(e)||"medium";return n.jsx(Xr,{data:e,columns:t,priority:a,onSelect:i=>console.log("Vitals selected:",i),onAction:(i,s)=>console.log("Vitals action:",i,s)})}},fieldTypes:{isNHSNumber:e=>typeof e=="string"&&/^\d{3}\s?\d{3}\s?\d{4}$/.test(e.replace(/\s/g,"")),isEWSScore:e=>typeof e=="number"&&e>=0&&e<=20,isMedicalDate:e=>typeof e=="string"&&!isNaN(Date.parse(e))}};function lo(e){return{primaryField:e?.primaryField||"name",secondaryFields:e?.secondaryFields||[],badges:e?.badgeFields?.map(t=>({fieldKey:t,className:"adaptive-card__badge"}))||[],hiddenFields:e?.hiddenFields||[],cardTemplate:e?.cardTemplate?(t,r,a)=>e.cardTemplate(t,r):void 0,classPrefix:"adaptive-card--generic"}}function co(e){if(!e||e.length===0)return!1;const t=e[0];return t.ews_score!==void 0||t.nhs_number!==void 0||t.patient_name!==void 0||t.ward!==void 0||t.consultant!==void 0}function Cf(e,t){switch(t.type){case"SET_SELECTED_INDEX":return{...e,selectedIndex:t.payload};case"SET_TAB_LOADING":const r=[...e.tabLoadingStates];return r[t.payload.tabIndex]=t.payload.isLoading,{...e,tabLoadingStates:r};case"SET_TAB_ERROR":const a=[...e.tabErrors];return a[t.payload.tabIndex]=t.payload.error,{...e,tabErrors:a};case"SET_SORT":return{...e,sortConfig:t.payload};case"SET_SELECTED_ROWS":const i=[...e.selectedRows];return i[t.payload.tabIndex]=t.payload.rowIndices,{...e,selectedRows:i};case"SET_GLOBAL_SELECTED_ROW_DATA":return{...e,globalSelectedRowData:t.payload};case"SET_FILTERS":return{...e,filters:t.payload};case"ADJUST_ARRAYS":const{newLength:s}=t.payload,l=new Array(s).fill(!1),c=new Array(s).fill(null),d=new Array(s).fill([]);for(let u=0;u<Math.min(e.tabLoadingStates.length,s);u++)l[u]=e.tabLoadingStates[u],c[u]=e.tabErrors[u],d[u]=e.selectedRows[u];return{...e,tabLoadingStates:l,tabErrors:c,selectedRows:d};case"RESET_STATE":return{selectedIndex:0,tabLoadingStates:new Array(e.tabLoadingStates.length).fill(!1),tabErrors:new Array(e.tabErrors.length).fill(null),sortConfig:[],selectedRows:new Array(e.selectedRows.length).fill([]),globalSelectedRowData:null,filters:void 0};default:return e}}function jf(e,t){const[r,a]=h.useState("cards");return h.useEffect(()=>{if(t){a(t);return}const i=()=>{const s=window.innerWidth;s<e.mobile?a("cards"):s<e.desktop?a("hybrid"):a("table")};return i(),window.addEventListener("resize",i),()=>window.removeEventListener("resize",i)},[e,t]),r}function Nf(e){return!e||typeof e!="object"?null:e.appointment_type||e.appointment_time||e.clinic?"appointment":e.medication_name||e.medication||e.dose||e.frequency?"medication":e.ews_score!==void 0||e.respiratory_rate!==void 0||e.spo2!==void 0||e.temperature!==void 0||e.systolic_bp!==void 0||e.heart_rate!==void 0?"vitals":e.name||e.patient_name||e.nhs_number||e.ward||e.bed?"patient":null}function Tf(e,t,r,a){const i=a?{...a.defaultCardConfig,...r}:{...vf,...r};if(a&&a.cardTemplates){const s=Nf(e);if(s&&a.cardTemplates[s]){const l=a.cardTemplates[s](e,t,i);if(l)return{variant:"default",children:l}}}return i.cardTemplate&&i.cardTemplate(e,t,i),ao(e,t,i)}const Jr=({breakpoints:e={mobile:768,tablet:1024,desktop:1200},forceLayout:t,cardConfig:r={},experimental:a={},enableAdvancedSorting:i=!1,topActions:s,bottomActions:l,gridActions:c,forceGridActionsAbove:d,tabPanels:u,dataConfig:f,selectedIndex:g,onTabChange:b,ariaLabel:p="Data grid",ariaDescription:N,orientation:y="horizontal",id:S,disabled:q=!1,className:M,...w})=>{const _=jf(e,t),A=g!==void 0,k=g??0,R=h.useMemo(()=>{if(u.some(j=>j.data&&j.data.length>0&&co(j.data))){const j=lo(r);return{...io.defaultCardConfig,...j}}else return lo(r)},[r,u]),H=h.useMemo(()=>u.some(j=>j.data&&j.data.length>0&&co(j.data))?io:void 0,[u]),I=h.useMemo(()=>({selectedIndex:k,tabLoadingStates:new Array(u.length).fill(!1),tabErrors:new Array(u.length).fill(null),sortConfig:[],selectedRows:new Array(u.length).fill([]),globalSelectedRowData:null,filters:void 0}),[k,u.length]),[x,L]=h.useReducer(Cf,I),ee=h.useRef([]),ue=h.useRef([]),Q=h.useRef([]),E=h.useRef(null),[v,D]=h.useState({focusArea:"tabs",focusedTabIndex:0,focusedCardIndex:0,selectedCardIndex:-1,isGridActive:!1,focusedCardElementIndex:0,cardElements:[],isCardNavigationActive:!1,gridColumns:1,gridRows:1,cardSortConfig:null,focusedSortControlIndex:0,isSortControlsActive:!1}),he=h.useCallback(B=>{if(!B.current)return{columns:1,rows:0};const j=B.current,U=j.querySelectorAll(".aria-tabs-datagrid-adaptive__card-wrapper");if(U.length===0)return{columns:1,rows:0};const z=j.offsetWidth,C=U[0].offsetWidth,G=Math.floor(z/C)||1,Z=Math.ceil(U.length/G);return{columns:G,rows:Z}},[]),W=h.useCallback((B,j)=>({row:Math.floor(B/j),col:B%j}),[]),T=h.useCallback((B,j,U)=>B*U+j,[]),se=h.useCallback((B,j,U,z)=>{const{row:m,col:C}=W(B,z);let G=m,Z=C;switch(j){case"up":G=Math.max(0,m-1);break;case"down":G=Math.min(Math.floor((U-1)/z),m+1);break;case"left":Z=Math.max(0,C-1);break;case"right":Z=Math.min(z-1,C+1);break}const F=T(G,Z,z);return Math.min(F,U-1)},[W,T]);h.useEffect(()=>{v.isCardNavigationActive&&v.focusedCardElementIndex>=0&&v.cardElements.length>0&&setTimeout(()=>{const B=v.cardElements[v.focusedCardElementIndex];B&&(B.element.focus(),B.element.scrollIntoView({block:"nearest",behavior:"smooth"}))},0)},[v.isCardNavigationActive,v.focusedCardElementIndex,v.cardElements.length]),h.useEffect(()=>{const B=()=>{if(_==="cards"&&E.current){const{columns:z,rows:m}=he(E);D(C=>({...C,gridColumns:z,gridRows:m}))}},j=setTimeout(B,200),U=()=>{setTimeout(B,100)};return window.addEventListener("resize",U),()=>{clearTimeout(j),window.removeEventListener("resize",U)}},[_,u,he]),h.useEffect(()=>{const B=x.tabLoadingStates.length,j=u.length;B!==j&&L({type:"ADJUST_ARRAYS",payload:{newLength:j}})},[u.length,x.tabLoadingStates.length]),h.useEffect(()=>{A&&g!==x.selectedIndex&&L({type:"SET_SELECTED_INDEX",payload:g})},[A,g,x.selectedIndex]);const P=h.useCallback(B=>{B>=0&&B<u.length&&!u[B].disabled&&(L({type:"SET_SELECTED_INDEX",payload:B}),b?.(B))},[u,b]),re=h.useCallback(B=>{console.log("Card selected:",B),L({type:"SET_GLOBAL_SELECTED_ROW_DATA",payload:B})},[]),$=h.useCallback(B=>{const j=ue.current[B];j&&(j.focus(),j.scrollIntoView({block:"nearest",behavior:"smooth"}))},[]),le=h.useCallback(B=>{const j=ue.current[B];if(!j)return[];const U=['button:not([disabled]):not([aria-hidden="true"])','a[href]:not([disabled]):not([aria-hidden="true"])','input:not([disabled]):not([aria-hidden="true"])','select:not([disabled]):not([aria-hidden="true"])','textarea:not([disabled]):not([aria-hidden="true"])','[tabindex]:not([tabindex="-1"]):not([disabled]):not([aria-hidden="true"])','.healthcare-card__detail[tabindex]:not([tabindex="-1"])',".healthcare-card__action:not([disabled])",".tag:not([disabled])"].join(", "),z=j.querySelectorAll(U);return Array.from(z).map((m,C)=>({id:m.id||`card-${B}-element-${C}`,element:m,label:m.getAttribute("aria-label")||m.textContent?.trim()||m.getAttribute("title")||`Element ${C+1}`,type:m.tagName.toLowerCase()==="button"?"button":m.tagName.toLowerCase()==="a"?"link":["input","select","textarea"].includes(m.tagName.toLowerCase())?"input":"generic"}))},[]),te=h.useRef(null),K=h.useCallback(B=>{const j=te.current;if(!j)return;const U=document.createElement("div");U.setAttribute("aria-live","polite"),U.setAttribute("aria-atomic","true"),U.className="sr-only",U.textContent=B,j.appendChild(U),setTimeout(()=>{j.contains(U)&&j.removeChild(U)},1e3)},[]),X=h.useCallback(B=>{const j=B.filter(z=>z.sortable!==!1),U=[{value:"",label:"Sort by..."}];return j.forEach(z=>{const m=z.label||z.key;z.key==="name"?U.push({value:`${z.key}-asc`,label:`${m} (A-Z)`},{value:`${z.key}-desc`,label:`${m} (Z-A)`}):z.key==="ews_score"||z.key.includes("score")?U.push({value:`${z.key}-desc`,label:`${m} (High-Low)`},{value:`${z.key}-asc`,label:`${m} (Low-High)`}):z.key==="age"||z.key.includes("date")||z.key.includes("time")?U.push({value:`${z.key}-desc`,label:`${m} (Oldest-Youngest)`},{value:`${z.key}-asc`,label:`${m} (Youngest-Oldest)`}):U.push({value:`${z.key}-asc`,label:`${m} (A-Z)`},{value:`${z.key}-desc`,label:`${m} (Z-A)`})}),U},[]),V=h.useCallback((B,j)=>j?[...B].sort((U,z)=>{const m=U[j.key],C=z[j.key];if(m==null&&C==null)return 0;if(m==null)return 1;if(C==null)return-1;const G=Number(m),Z=Number(C);if(!isNaN(G)&&!isNaN(Z))return j.direction==="asc"?G-Z:Z-G;const F=String(m).toLowerCase(),Y=String(C).toLowerCase(),ve=F.localeCompare(Y);return j.direction==="asc"?ve:-ve}):B,[]),oe=h.useCallback(B=>{if(!B){D(F=>({...F,cardSortConfig:null})),K("Card sorting cleared");return}const[j,U]=B.split("-"),z={key:j,direction:U};D(F=>({...F,cardSortConfig:z}));const G=u[x.selectedIndex]?.columns.find(F=>F.key===j)?.label||j;K(`Cards sorted by ${G} in ${U==="asc"?"ascending":"descending"} order`)},[u,x.selectedIndex,K]),ge=h.useCallback(B=>{const z=u[x.selectedIndex]?.columns.find(C=>C.key===B.key)?.label||B.key,m=B.direction==="asc"?"ascending":"descending";return`${z} (${m})`},[u,x.selectedIndex]),O=h.useCallback(B=>{const j=u[x.selectedIndex];if(i){const U=x.sortConfig;return!U||U.length===0?B:[...B].sort((z,m)=>{for(const{key:C,direction:G}of U){let Z=z[C],F=m[C];const Y=j?.columns.find(Se=>Se.key===C);if(Y?.cardRenderer?(Z=Y.cardRenderer(z),F=Y.cardRenderer(m)):Y?.render&&(Z=Y.render(z),F=Y.render(m)),Z==null&&F==null)continue;if(Z==null)return G==="asc"?-1:1;if(F==null)return G==="asc"?1:-1;const ve=Number(Z),be=Number(F);if(!isNaN(ve)&&!isNaN(be)){const Se=ve-be;if(Se!==0)return G==="asc"?Se:-Se;continue}const ke=String(Z).toLowerCase(),we=String(F).toLowerCase(),ie=ke.localeCompare(we);if(ie!==0)return G==="asc"?ie:-ie}return 0})}else return V(B,v.cardSortConfig)},[i,x.sortConfig,v.cardSortConfig,V,u,x.selectedIndex]),Ce=h.useCallback((B,j)=>{const U=le(B),z=U[j];if(z){z.element.scrollIntoView({block:"nearest",behavior:"smooth"});const m=`Focused on ${z.label}, ${z.type} ${j+1} of ${U.length} within card`;K(m)}},[le,K]),me=h.useCallback(B=>{ee.current[B]?.focus()},[]),pe=h.useCallback(()=>{const B=Q.current[0];if(!B)return[];const j=['select:not([disabled]):not([aria-hidden="true"])','button:not([disabled]):not([aria-hidden="true"])','input:not([disabled]):not([aria-hidden="true"])','[tabindex]:not([tabindex="-1"]):not([disabled]):not([aria-hidden="true"])'].join(", "),U=B.querySelectorAll(j);return Array.from(U)},[]),fe=h.useCallback(B=>{if(B===0){const j=Q.current[0],U=j?.querySelector(".sort-controls-row");if(U){U.setAttribute("tabindex","-1"),U.focus();const m=`Sort controls group with ${pe().length} interactive elements. Press Enter or Space to begin navigating controls.`;K(m)}else j&&j.focus()}else{const j=pe(),U=B-1,z=j[U];if(z){z.focus();const m=z.tagName.toLowerCase()==="select",C=z.tagName.toLowerCase()==="button",G=m?"dropdown":C?"button":"control",Z=m?". Use Space key to open dropdown":"",F=`${G} ${U+1} of ${j.length}${Z}`;K(F)}}},[pe,K]),xe=h.useCallback((B,j)=>{const{key:U}=B,z=u[x.selectedIndex],m=z?.data.length||0;if(U==="ArrowLeft"&&B.shiftKey){B.preventDefault(),B.currentTarget.scrollBy({left:-30,behavior:"smooth"});return}else if(U==="ArrowRight"&&B.shiftKey){B.preventDefault(),B.currentTarget.scrollBy({left:30,behavior:"smooth"});return}if(!v.isCardNavigationActive){switch(U){case"ArrowUp":if(B.preventDefault(),j===0)D(F=>({...F,focusArea:"sort-controls",focusedSortControlIndex:0,isSortControlsActive:!1})),fe(0);else{const F=se(j,"up",m,v.gridColumns);F!==j&&(D(Y=>({...Y,focusedCardIndex:F})),$(F),K(`Moved to card ${F+1} of ${m}`))}break;case"ArrowDown":B.preventDefault();const C=se(j,"down",m,v.gridColumns);C!==j&&(D(F=>({...F,focusedCardIndex:C})),$(C),K(`Moved to card ${C+1} of ${m}`));break;case"ArrowLeft":B.preventDefault();const G=se(j,"left",m,v.gridColumns);G!==j?(D(F=>({...F,focusedCardIndex:G})),$(G),K(`Moved to card ${G+1} of ${m}`)):x.selectedIndex>0&&(L({type:"SET_SELECTED_INDEX",payload:x.selectedIndex-1}),D(F=>({...F,focusArea:"tabs"})),setTimeout(()=>me(x.selectedIndex-1),0));break;case"ArrowRight":B.preventDefault();const Z=se(j,"right",m,v.gridColumns);Z!==j?(D(F=>({...F,focusedCardIndex:Z})),$(Z),K(`Moved to card ${Z+1} of ${m}`)):x.selectedIndex<u.length-1&&(L({type:"SET_SELECTED_INDEX",payload:x.selectedIndex+1}),D(F=>({...F,focusArea:"tabs"})),setTimeout(()=>me(x.selectedIndex+1),0));break;case"Enter":if(z?.data[j]){B.preventDefault(),D(Y=>({...Y,selectedCardIndex:j}));const F=le(j);F.length>0?(D(Y=>({...Y,focusArea:"card",isCardNavigationActive:!0,focusedCardElementIndex:0,cardElements:F,selectedCardIndex:j})),K(`Card ${j+1} selected and navigation activated. ${F.length} interactive elements available. Use arrow keys to navigate, Enter to activate, Escape to exit.`)):K(`Card ${j+1} selected.`)}break;case" ":if(z?.data[j]){B.preventDefault(),D(Y=>({...Y,selectedCardIndex:Y.selectedCardIndex===j?-1:j}));const F=v.selectedCardIndex===j;K(`Card ${j+1} ${F?"deselected":"selected"}.`)}break}return}switch(U){case"ArrowUp":case"ArrowLeft":B.preventDefault();const C=Math.max(0,v.focusedCardElementIndex-1);D(Y=>({...Y,focusedCardElementIndex:C})),Ce(j,C);break;case"ArrowDown":case"ArrowRight":B.preventDefault();const G=Math.min(v.cardElements.length-1,v.focusedCardElementIndex+1);D(Y=>({...Y,focusedCardElementIndex:G})),Ce(j,G);break;case"Enter":B.preventDefault();const Z=v.cardElements[v.focusedCardElementIndex];Z&&(Z.element.click(),K(`Activated ${Z.label}`));break;case" ":B.preventDefault();const F=v.cardElements[v.focusedCardElementIndex];if(F){const Y=new MouseEvent("dblclick",{bubbles:!0});F.element.dispatchEvent(Y),K(`Double-clicked ${F.label}`)}break;case"Escape":B.preventDefault(),D(Y=>({...Y,focusArea:"cards",isCardNavigationActive:!1,focusedCardElementIndex:0,cardElements:[]})),setTimeout(()=>$(j),0),K("Exited card navigation, returned to card level");break;case"Home":B.preventDefault(),v.cardElements.length>0&&(D(Y=>({...Y,focusedCardElementIndex:0})),Ce(j,0));break;case"End":if(B.preventDefault(),v.cardElements.length>0){const Y=v.cardElements.length-1;D(ve=>({...ve,focusedCardElementIndex:Y})),Ce(j,Y)}break}},[v,x.selectedIndex,u,re,$,me,D,le,Ce,K]),Me=h.useCallback(B=>{const j=ee.current[B],U=j?.parentElement;if(!j||!U){console.log("Tab or container not found for mobile scroll");return}const z=j.getBoundingClientRect(),m=U.getBoundingClientRect();z.left>=m.left&&z.right<=m.right||(console.log("Tab not visible, scrolling into view (mobile)"),j.scrollIntoView({behavior:"smooth",block:"nearest",inline:"center"}))},[]),Te=h.useCallback((B,j)=>{if(_!=="cards")return;const{key:U}=B;switch(U){case"ArrowLeft":B.preventDefault();const z=j>0?j-1:u.length-1;P(z),D(Z=>({...Z,focusedTabIndex:z})),ee.current[z]?.focus(),Me(z);break;case"ArrowRight":B.preventDefault();const m=j<u.length-1?j+1:0;P(m),D(Z=>({...Z,focusedTabIndex:m})),ee.current[m]?.focus(),Me(m);break;case"ArrowDown":B.preventDefault();const C=u[x.selectedIndex];C&&C.columns&&C.columns.length>0?(D(Z=>({...Z,focusArea:"sort-controls",focusedSortControlIndex:0})),fe(0)):(D(Z=>({...Z,focusArea:"cards",focusedCardIndex:0})),$(0));break;case"Home":B.preventDefault(),P(0),D(Z=>({...Z,focusedTabIndex:0})),ee.current[0]?.focus(),Me(0);break;case"End":B.preventDefault();const G=u.length-1;P(G),D(Z=>({...Z,focusedTabIndex:G})),ee.current[G]?.focus(),Me(G);break;case"Enter":case" ":B.preventDefault(),P(j);break}},[u.length,P,_,$,D,Me]),Ne=h.useCallback((B,j)=>{if(_!=="cards")return;const{key:U}=B,z=u[x.selectedIndex];if(j===0&&!v.isSortControlsActive){switch(U){case"ArrowUp":B.preventDefault(),D(C=>({...C,focusArea:"tabs",isSortControlsActive:!1})),me(x.selectedIndex);break;case"ArrowDown":B.preventDefault(),z?.data&&z.data.length>0&&(D(C=>({...C,focusArea:"cards",focusedCardIndex:0,isSortControlsActive:!1})),$(0));break;case"Enter":case" ":B.preventDefault();const m=pe();if(m.length>0){D(G=>({...G,isSortControlsActive:!0,focusedSortControlIndex:1})),fe(1);const C=`Entered sort controls navigation mode. ${m.length} controls available. Use arrow keys to navigate between controls.`;K(C)}break;case"Escape":B.preventDefault(),D(C=>({...C,isSortControlsActive:!1,focusArea:"tabs"})),me(x.selectedIndex);break}return}if(v.isSortControlsActive){const C=pe().length;switch(U){case"ArrowLeft":B.preventDefault();const G=v.focusedSortControlIndex>1?v.focusedSortControlIndex-1:C;D(F=>({...F,focusedSortControlIndex:G})),fe(G);break;case"ArrowRight":B.preventDefault();const Z=v.focusedSortControlIndex<C?v.focusedSortControlIndex+1:1;D(F=>({...F,focusedSortControlIndex:Z})),fe(Z);break;case"ArrowDown":if(B.preventDefault(),v.isSortControlsActive){const F=v.focusedSortControlIndex<C?v.focusedSortControlIndex+1:1;D(Y=>({...Y,focusedSortControlIndex:F})),fe(F)}else z?.data&&z.data.length>0&&(D(F=>({...F,focusArea:"cards",focusedCardIndex:0,isSortControlsActive:!1})),$(0));break;case"ArrowUp":B.preventDefault(),D(F=>({...F,isSortControlsActive:!1,focusArea:"sort-controls"})),fe(0);break;case"Escape":B.preventDefault(),D(F=>({...F,isSortControlsActive:!1,focusArea:"sort-controls",focusedSortControlIndex:0})),fe(0);break}}},[_,u,x.selectedIndex,v.isSortControlsActive,v.focusedSortControlIndex,fe,me,$,D,K]);if(_==="cards"){const B=u[x.selectedIndex];return n.jsxs("div",{className:`aria-tabs-datagrid-adaptive aria-tabs-datagrid-adaptive--cards ${M||""}`,children:[n.jsxs("div",{className:"aria-tabs-datagrid-adaptive__header",children:[n.jsx("div",{role:"tablist","aria-label":p,"aria-describedby":`${N||""} ${S?`${S}-navigation-help`:""}`.trim(),"aria-orientation":y,className:"aria-tabs-datagrid__tabs",children:u.map((j,U)=>{const z=U===x.selectedIndex,m=j.disabled||q;return n.jsxs("button",{role:"tab",id:`tab-${j.id}`,"aria-controls":`panel-${j.id}`,"aria-selected":z,"aria-disabled":m,tabIndex:z?0:-1,ref:C=>{ee.current[U]=C},onClick:()=>P(U),onKeyDown:C=>Te(C,U),disabled:m,className:["aria-tabs-datagrid__tab",z?"aria-tabs-datagrid__tab--selected":"",m?"aria-tabs-datagrid__tab--disabled":""].filter(Boolean).join(" "),children:[n.jsx("span",{className:"aria-tabs-datagrid__tab-label",children:j.label}),x.tabLoadingStates[U]&&n.jsx("span",{className:"aria-tabs-datagrid__tab-loading","aria-hidden":"true",children:"â³"}),x.tabErrors[U]&&n.jsx("span",{className:"aria-tabs-datagrid__tab-error","aria-hidden":"true",children:"âš ï¸"})]},j.id)})}),s&&n.jsx("div",{className:"aria-tabs-datagrid-adaptive__top-actions",children:s})]}),B&&B.columns&&n.jsx(n.Fragment,{children:i?n.jsx(no,{sortConfig:x.sortConfig||[],columns:B.columns.map(j=>({key:j.key,label:j.label})),onSortChange:j=>{L({type:"SET_SORT",payload:j})},ariaLabel:"Card view sort configuration",className:"aria-tabs-datagrid-adaptive__advanced-sort-controls"}):n.jsx("div",{className:"aria-tabs-datagrid-adaptive__sort-controls",role:"region","aria-label":"Sort controls",tabIndex:v.focusArea==="sort-controls"?0:-1,ref:j=>{Q.current[0]=j},onKeyDown:j=>Ne(j,0),children:n.jsxs("div",{className:"sort-controls-row",children:[n.jsxs("div",{className:"sort-select-container",children:[n.jsx("label",{htmlFor:`card-sort-${B.id}`,className:"sort-label",children:"Sort cards by"}),n.jsx(Pt,{id:`card-sort-${B.id}`,name:`card-sort-${B.id}`,value:v.cardSortConfig?`${v.cardSortConfig.key}-${v.cardSortConfig.direction}`:"",onChange:j=>oe(j.target.value),className:"sort-select",children:X(B.columns).map(j=>n.jsx("option",{value:j.value,children:j.label},j.value))})]}),v.cardSortConfig&&n.jsxs("div",{className:"sort-indicator",role:"status","aria-live":"polite",children:[n.jsxs("span",{className:"sort-indicator-text",children:["Sorted by ",ge(v.cardSortConfig)]}),n.jsx(Re,{variant:"secondary",size:"small",onClick:()=>oe(""),"aria-label":"Clear card sorting",className:"sort-clear-button",children:"Clear"})]})]})})}),n.jsx("div",{ref:E,className:"aria-tabs-datagrid-adaptive__cards",role:"grid","aria-label":`${B?.label||"Data"} cards in ${v.gridRows} rows and ${v.gridColumns} columns`,"aria-rowcount":v.gridRows,"aria-colcount":v.gridColumns,id:`panel-${B?.id}`,"aria-labelledby":`tab-${B?.id}`,children:O(B?.data||[]).map((j,U)=>{const z=v.selectedCardIndex===U,m=v.focusedCardIndex===U&&v.focusArea==="cards",C=v.focusedCardIndex===U&&v.focusArea==="card"&&v.isCardNavigationActive,G=U===0&&v.focusArea!=="cards",Z=m||G,F=W(U,v.gridColumns);if(r.cardTemplate){const be=r.cardTemplate(j,B.columns);return n.jsx("div",{role:"row","aria-rowindex":F.row+1,className:"aria-tabs-datagrid-adaptive__row",children:n.jsx("div",{ref:ke=>{ue.current[U]=ke},className:["aria-tabs-datagrid-adaptive__card-wrapper",z?"aria-tabs-datagrid-adaptive__card-wrapper--selected":"",m?"aria-tabs-datagrid-adaptive__card-wrapper--focused":"",C?"aria-tabs-datagrid-adaptive__card-wrapper--card-navigation":""].filter(Boolean).join(" "),role:"gridcell","aria-colindex":F.col+1,"aria-selected":z,"aria-expanded":C,"aria-description":C?`Card navigation active. ${v.cardElements.length} interactive elements available.`:void 0,tabIndex:Z?0:-1,onClick:()=>{D(ke=>({...ke,selectedCardIndex:ke.selectedCardIndex===U?-1:U})),re(j)},onKeyDown:ke=>xe(ke,U),onFocus:()=>{D(ke=>ke.focusedCardIndex!==U||ke.focusArea!=="cards"?{...ke,focusedCardIndex:U,focusArea:"cards"}:ke)},children:be})},`card-${U}`)}const Y=Tf(j,B.columns,R,H),ve=[Y.className||"",z?"aria-tabs-datagrid-adaptive__card--selected":"",m?"aria-tabs-datagrid-adaptive__card--focused":"",C?"aria-tabs-datagrid-adaptive__card--card-navigation":""].filter(Boolean).join(" ");return n.jsx("div",{role:"row","aria-rowindex":F.row+1,className:"aria-tabs-datagrid-adaptive__row",children:n.jsx("div",{className:["aria-tabs-datagrid-adaptive__card-wrapper",z?"aria-tabs-datagrid-adaptive__card-wrapper--selected":"",m?"aria-tabs-datagrid-adaptive__card-wrapper--focused":"",C?"aria-tabs-datagrid-adaptive__card-wrapper--card-navigation":""].filter(Boolean).join(" "),role:"gridcell","aria-colindex":F.col+1,"aria-selected":z,"aria-expanded":C,onKeyDown:be=>{be.key==="Enter"&&(be.preventDefault(),D(ke=>({...ke,selectedCardIndex:U}))),xe(be,U)},children:n.jsx(Gr,{...Y,ref:be=>{ue.current[U]=be},className:ve,"aria-label":`${Y["aria-label"]||Y.heading}. ${C?`Card navigation active with ${v.cardElements.length} interactive elements. Use arrow keys to navigate, Enter to activate, Escape to exit.`:"Press Enter to navigate within card elements."}`,tabIndex:Z?0:-1,onClick:()=>{D(be=>({...be,selectedCardIndex:be.selectedCardIndex===U?-1:U})),re(j)},onKeyDown:be=>xe(be,U),onFocus:()=>{v.isCardNavigationActive||D(be=>be.focusedCardIndex!==U||be.focusArea!=="cards"?{...be,focusedCardIndex:U,focusArea:"cards",focusedCardElementIndex:0,cardElements:[]}:be)}})})},`card-${U}`)})}),l&&n.jsx("div",{className:"aria-tabs-datagrid-adaptive__bottom-actions",children:l}),n.jsx("div",{ref:te,className:"aria-tabs-datagrid-adaptive__announcements","aria-hidden":"true",style:{position:"fixed",top:"-1px",left:"-1px",width:"1px",height:"1px",overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",border:0,padding:0,margin:0}})]})}return _==="hybrid"?n.jsxs("div",{className:`aria-tabs-datagrid-adaptive aria-tabs-datagrid-adaptive--hybrid ${M||""}`,children:[s&&n.jsx("div",{className:"aria-tabs-datagrid-adaptive__top-actions aria-tabs-datagrid-adaptive__top-actions--above-table",children:s}),n.jsx(On,{tabPanels:u,dataConfig:f,ariaLabel:p,ariaDescription:N,orientation:y,id:S,disabled:q,selectedIndex:g,onTabChange:b,className:"aria-tabs-datagrid-adaptive__table--hybrid",actions:c,forceActionsAbove:d,...w}),l&&n.jsx("div",{className:"aria-tabs-datagrid-adaptive__bottom-actions",children:l})]}):n.jsxs("div",{className:`aria-tabs-datagrid-adaptive aria-tabs-datagrid-adaptive--table ${M||""}`,children:[s&&n.jsx("div",{className:"aria-tabs-datagrid-adaptive__top-actions aria-tabs-datagrid-adaptive__top-actions--above-table",children:s}),n.jsx(On,{tabPanels:u,dataConfig:f,ariaLabel:p,ariaDescription:N,orientation:y,id:S,disabled:q,selectedIndex:g,onTabChange:b,actions:c,forceActionsAbove:d,...w}),l&&n.jsx("div",{className:"aria-tabs-datagrid-adaptive__bottom-actions",children:l})]})},uo=e=>{const t=Yr.find(r=>r.value===e);return t?t.icon:null},Df={ecommerce:{name:"E-commerce",description:"Product catalogs with pricing, inventory, and ratings",dataConfig:{dataComparator:(e,t)=>e.id===t.id,filterFunction:(e,t)=>t?e.filter(r=>{if(t.priceRange){const[a,i]=t.priceRange,s=r.discountedPrice||r.price;if(s<a||s>i)return!1}return!(t.categories&&t.categories.length>0&&!t.categories.includes(r.category)||t.inStock!==void 0&&r.inStock!==t.inStock||t.minRating!==void 0&&r.rating<t.minRating||t.tags&&t.tags.length>0&&!t.tags.some(a=>r.tags.includes(a)))}):e,booleanRenderer:e=>uo(e),getDataId:e=>`ecommerce-${e.id}`},createTabs:e=>Gn(e,[{id:"all-products",label:"All Products",columns:[{key:"name",label:"Product Name"},{key:"price",label:"Price",render:r=>r.discountedPrice?`$${r.price.toFixed(2)} â†’ $${r.discountedPrice.toFixed(2)}`:`$${r.price.toFixed(2)}`},{key:"inStock",label:"Availability"},{key:"category",label:"Category"},{key:"rating",label:"Rating",render:r=>`${r.rating}/5 (${r.reviews} reviews)`}],ariaLabel:"All Products Grid",ariaDescription:"Complete product catalog with pricing and availability"},{id:"on-sale",label:"On Sale",columns:[{key:"name",label:"Product Name"},{key:"price",label:"Original Price",render:r=>`$${r.price.toFixed(2)}`},{key:"discountedPrice",label:"Sale Price",render:r=>`$${r.discountedPrice?.toFixed(2)||"N/A"}`},{key:"discount",label:"Discount",render:r=>r.discountedPrice?`${((r.price-r.discountedPrice)/r.price*100).toFixed(0)}% OFF`:"N/A"}],filter:r=>r.filter(a=>a.discountedPrice!==void 0),ariaLabel:"Sale Products Grid",ariaDescription:"Products currently on sale with discounted pricing"},{id:"high-rated",label:"Top Rated",columns:[{key:"name",label:"Product Name"},{key:"rating",label:"Rating"},{key:"reviews",label:"Reviews"},{key:"category",label:"Category"}],filter:r=>r.filter(a=>a.rating>=4),sortConfig:[{key:"rating",direction:"desc"}],ariaLabel:"Top Rated Products Grid",ariaDescription:"Highest rated products with 4+ star ratings"}])},financial:{name:"Financial",description:"Transaction data with amounts, categories, and statuses",dataConfig:{dataComparator:(e,t)=>e.id===t.id,filterFunction:(e,t)=>t?e.filter(r=>{if(t.dateRange){const[a,i]=t.dateRange;if(r.date<a||r.date>i)return!1}if(t.amountRange){const[a,i]=t.amountRange;if(Math.abs(r.amount)<a||Math.abs(r.amount)>i)return!1}return!(t.types&&t.types.length>0&&!t.types.includes(r.type)||t.categories&&t.categories.length>0&&!t.categories.includes(r.category)||t.pending!==void 0&&r.pending!==t.pending)}):e,booleanRenderer:e=>uo(e),getDataId:e=>`financial-${e.id}`},createTabs:e=>Gn(e,[{id:"all-transactions",label:"All Transactions",columns:[{key:"date",label:"Date",render:r=>r.date.toLocaleDateString()},{key:"description",label:"Description"},{key:"amount",label:"Amount",render:r=>`${r.type==="credit"?"+":"-"}$${Math.abs(r.amount).toFixed(2)}`},{key:"category",label:"Category"},{key:"pending",label:"Status"}],sortConfig:[{key:"date",direction:"desc"}],ariaLabel:"All Transactions Grid",ariaDescription:"Complete transaction history with amounts and categories"},{id:"credits",label:"Credits",columns:[{key:"date",label:"Date",render:r=>r.date.toLocaleDateString()},{key:"description",label:"Description"},{key:"amount",label:"Amount",render:r=>`+$${r.amount.toFixed(2)}`},{key:"category",label:"Category"}],filter:r=>r.filter(a=>a.type==="credit"),ariaLabel:"Credit Transactions Grid",ariaDescription:"Incoming payments and credits only"},{id:"debits",label:"Debits",columns:[{key:"date",label:"Date",render:r=>r.date.toLocaleDateString()},{key:"description",label:"Description"},{key:"amount",label:"Amount",render:r=>`-$${Math.abs(r.amount).toFixed(2)}`},{key:"category",label:"Category"}],filter:r=>r.filter(a=>a.type==="debit"),ariaLabel:"Debit Transactions Grid",ariaDescription:"Outgoing payments and charges only"},{id:"pending",label:"Pending",columns:[{key:"date",label:"Date",render:r=>r.date.toLocaleDateString()},{key:"description",label:"Description"},{key:"amount",label:"Amount",render:r=>`${r.type==="credit"?"+":"-"}$${Math.abs(r.amount).toFixed(2)}`},{key:"type",label:"Type"}],filter:r=>r.filter(a=>a.pending),ariaLabel:"Pending Transactions Grid",ariaDescription:"Transactions awaiting processing"}])}},ho=(e,t)=>{const r=Df[e];return{dataConfig:r.dataConfig,tabPanels:r.createTabs(t)}},fo=[{name:"Sarah Johnson",age:34,ews_data:{respiratory_rate_bpm:16,sp02:98,temperature:36.8,systolic_bp:140,heart_rate:82,avpu:"alert"},ews_score:3,ward_name:"Cardiology",room_name:"Room A",bed_name:"A-1",bed_type:"bed",admin_note:"Hypertension monitoring",pathway:"Standard",speciality:"Cardiology",consultant:"Dr. Smith",local_authority:"NHS Trust",early_discharge_notification:"not_required",needs_based_assessment:!1,medically_optimised:!0,criteria_to_reside:!0,date_medically_optimised:"2024-01-15",anticipated_discharge_date:"2024-01-18",dru_suitability:!1,optica_planned_discharge_date:"2024-01-18",optica_date_confirmed:"2024-01-16",dsum:null,medications_tta:"None required",transport_booking:!1,transport_status:"Pending",transport_date:"",transport_mobility:"Independent",fast_track:!1,initial_therapy_contact:"",equipment:"None",district_nurse_referral:!1},{name:"Michael Chen",age:67,ews_data:{respiratory_rate_bpm:20,sp02:94,temperature:37.2,systolic_bp:160,heart_rate:95,avpu:"alert"},ews_score:7,ward_name:"Surgery",room_name:"Room B",bed_name:"B-3",bed_type:"bed",admin_note:"Post-operative monitoring",pathway:"Surgical",speciality:"General Surgery",consultant:"Dr. Johnson",local_authority:"NHS Trust",early_discharge_notification:"due",needs_based_assessment:!0,medically_optimised:!1,criteria_to_reside:!0,date_medically_optimised:"2024-01-17",anticipated_discharge_date:"2024-01-20",dru_suitability:!0,optica_planned_discharge_date:"2024-01-20",optica_date_confirmed:"2024-01-16",dsum:"Complex discharge",medications_tta:"Pain management",transport_booking:!0,transport_status:"In Progress",transport_date:"2024-01-20",transport_mobility:"Wheelchair",fast_track:!1,initial_therapy_contact:"2024-01-17",equipment:"Walking frame",district_nurse_referral:!0},{name:"Emma Thompson",age:28,ews_data:{respiratory_rate_bpm:24,sp02:90,temperature:38.5,systolic_bp:110,heart_rate:105,avpu:"alert"},ews_score:5,ward_name:"Respiratory",room_name:"Room C",bed_name:"C-2",bed_type:"bed",admin_note:"Pneumonia treatment",pathway:"Respiratory",speciality:"Respiratory Medicine",consultant:"Dr. Williams",local_authority:"NHS Trust",early_discharge_notification:"overdue",needs_based_assessment:!0,medically_optimised:!1,criteria_to_reside:!1,date_medically_optimised:"",anticipated_discharge_date:"2024-01-22",dru_suitability:!1,optica_planned_discharge_date:"2024-01-22",optica_date_confirmed:"",dsum:null,medications_tta:"Antibiotics",transport_booking:!1,transport_status:"Pending",transport_date:"",transport_mobility:"Independent",fast_track:!0,initial_therapy_contact:"",equipment:"Oxygen",district_nurse_referral:!1}],Bf=[{id:"appt-001",appointment_time:"2024-01-18T09:00:00Z",patient_name:"Sarah Johnson",appointment_type:"Cardiology Consultation",consultant:"Dr. Smith",location:"Clinic Room 3",duration:30,status:"pending"},{id:"appt-002",appointment_time:"2024-01-18T10:30:00Z",patient_name:"Michael Davis",appointment_type:"Post-op Follow-up",consultant:"Dr. Johnson",location:"Surgery Ward",duration:15,status:"active"},{id:"appt-003",appointment_time:"2024-01-18T14:00:00Z",patient_name:"Emma Thompson",appointment_type:"Respiratory Assessment",consultant:"Dr. Wilson",location:"Emergency Department",duration:45,status:"pending"}],Ff=[{id:"med-001",medication:"Amlodipine",dose:"5mg",frequency:"Once daily",route:"Oral",next_due:"2024-01-18T08:00:00Z",prescriber:"Dr. Smith",patient_name:"Sarah Johnson",allergies:null,priority:"medium"},{id:"med-002",medication:"Morphine",dose:"10mg",frequency:"Every 4 hours",route:"IV",next_due:"2024-01-18T10:00:00Z",prescriber:"Dr. Johnson",patient_name:"Michael Davis",allergies:"Codeine allergy",priority:"high"},{id:"med-003",medication:"Salbutamol",dose:"2 puffs",frequency:"As needed",route:"Inhaled",next_due:"2024-01-18T12:00:00Z",prescriber:"Dr. Wilson",patient_name:"Emma Thompson",allergies:null,priority:"high"}],If=[{id:"vitals-001",patient_name:"Sarah Johnson",recorded_time:"2024-01-18T07:30:00Z",temperature:36.8,blood_pressure:"140/90",heart_rate:82,respiratory_rate:16,oxygen_saturation:98,ews_score:3,priority:"medium"},{id:"vitals-002",patient_name:"Michael Davis",recorded_time:"2024-01-18T08:15:00Z",temperature:37.2,blood_pressure:"130/85",heart_rate:98,respiratory_rate:20,oxygen_saturation:95,ews_score:7,priority:"high"},{id:"vitals-003",patient_name:"Emma Thompson",recorded_time:"2024-01-18T09:00:00Z",temperature:38.5,blood_pressure:"110/70",heart_rate:105,respiratory_rate:24,oxygen_saturation:90,ews_score:9,priority:"high"}],mo=[{id:"PROD001",name:"Wireless Headphones",price:199.99,discountedPrice:149.99,inStock:!0,category:"Electronics",rating:4.5,reviews:1247,tags:["wireless","bluetooth","premium"]},{id:"PROD002",name:"Running Shoes",price:129.99,inStock:!0,category:"Sports",rating:4.8,reviews:892,tags:["running","athletic","comfortable"]},{id:"PROD003",name:"Coffee Maker",price:89.99,discountedPrice:59.99,inStock:!1,category:"Kitchen",rating:4.2,reviews:456,tags:["kitchen","coffee","appliance"]},{id:"PROD004",name:"Smartphone Case",price:24.99,inStock:!0,category:"Accessories",rating:4,reviews:234,tags:["protection","mobile","durable"]}],go=[{id:"TXN001",date:new Date("2024-01-15"),amount:2500,type:"credit",category:"Salary",description:"Monthly salary payment",accountId:"ACC001",pending:!1,recurring:!0},{id:"TXN002",date:new Date("2024-01-14"),amount:89.5,type:"debit",category:"Groceries",description:"Supermarket shopping",accountId:"ACC001",pending:!1,recurring:!1},{id:"TXN003",date:new Date("2024-01-16"),amount:1200,type:"debit",category:"Rent",description:"Monthly rent payment",accountId:"ACC001",pending:!0,recurring:!0},{id:"TXN004",date:new Date("2024-01-13"),amount:150,type:"credit",category:"Refund",description:"Product return refund",accountId:"ACC001",pending:!1,recurring:!1}],po=[{id:"LEAD001",companyName:"Tech Solutions Inc",contactPerson:"John Smith",email:"john@techsolutions.com",status:"qualified",value:5e4,lastContact:new Date("2024-01-15"),source:"Website",isHotLead:!0},{id:"LEAD002",companyName:"Global Industries",contactPerson:"Maria Garcia",email:"maria@globalind.com",status:"contacted",value:25e3,lastContact:new Date("2024-01-14"),source:"Referral",isHotLead:!1},{id:"LEAD003",companyName:"StartupXYZ",contactPerson:"Alex Johnson",email:"alex@startupxyz.com",status:"new",value:15e3,lastContact:new Date("2024-01-16"),source:"Cold Call",isHotLead:!0}],Ef={dataComparator:(e,t)=>e.id===t.id,filterFunction:(e,t)=>t?e.filter(r=>!(t.status&&!t.status.includes(r.status)||t.minValue&&r.value<t.minValue||t.hotLeadsOnly&&!r.isHotLead)):e,booleanRenderer:e=>n.jsx("span",{style:{color:e?"#dc2626":"#6b7280",fontWeight:e?"bold":"normal"},children:e?"ðŸ”¥ Hot Lead":"ðŸ“‹ Standard"}),getDataId:e=>`business-${e.id}`},Lf=()=>[{id:"patients",label:"Patients",data:fo,columns:[{key:"name",label:"Patient Name"},{key:"age",label:"Age"},{key:"ward_name",label:"Ward"},{key:"ews_score",label:"EWS Score"}],ariaLabel:"Patient Records",ariaDescription:"Healthcare patient management with EWS monitoring",cardTemplate:(e,t)=>n.jsx(qr,{data:e,columns:t,onSelect:r=>console.log("Selected patient:",r),onAction:(r,a)=>console.log("Patient action:",r,a),priority:e.ews_score>=7?"high":e.ews_score>=3?"medium":"low"})},{id:"appointments",label:"Appointments",data:Bf,columns:[{key:"appointment_time",label:"Time"},{key:"patient_name",label:"Patient"},{key:"appointment_type",label:"Type"},{key:"consultant",label:"Consultant"}],ariaLabel:"Patient Appointments",ariaDescription:"Scheduled appointments and consultations",cardTemplate:(e,t)=>n.jsx(Kr,{data:e,columns:t,onSelect:r=>console.log("Selected appointment:",r),onAction:(r,a)=>console.log("Appointment action:",r,a),status:e.status})},{id:"medications",label:"Medications",data:Ff,columns:[{key:"medication",label:"Medication"},{key:"dose",label:"Dose"},{key:"frequency",label:"Frequency"},{key:"next_due",label:"Next Due"}],ariaLabel:"Patient Medications",ariaDescription:"Medication administration and scheduling",cardTemplate:(e,t)=>n.jsx(Zr,{data:e,columns:t,onSelect:r=>console.log("Selected medication:",r),onAction:(r,a)=>console.log("Medication action:",r,a),priority:e.priority})},{id:"vitals",label:"Vital Signs",data:If,columns:[{key:"patient_name",label:"Patient"},{key:"recorded_time",label:"Time"},{key:"temperature",label:"Temperature"},{key:"ews_score",label:"EWS Score"}],ariaLabel:"Patient Vital Signs",ariaDescription:"Patient vital signs monitoring and EWS scores",cardTemplate:(e,t)=>n.jsx(Xr,{data:e,columns:t,onSelect:r=>console.log("Selected vitals:",r),onAction:(r,a)=>console.log("Vitals action:",r,a),priority:e.ews_score>=7?"high":e.ews_score>=3?"medium":"low"})}],Mf=()=>{const[e,t]=h.useState("healthcare"),r=h.useMemo(()=>({healthcare:{title:"Healthcare Workflow Management",description:"Comprehensive healthcare workflow with patient cards, appointments, medications, and vitals",dataConfig:ro,tabPanels:Lf(),data:fo},ecommerce:{title:"E-commerce Product Catalog",description:"Product management with pricing and inventory",...ho("ecommerce",mo),data:mo},financial:{title:"Financial Transaction Dashboard",description:"Banking and financial data management",...ho("financial",go),data:go},business:{title:"Sales Lead Management",description:"Custom CRM configuration with business logic",dataConfig:Ef,tabPanels:Gn(po,[{id:"all-leads",label:"All Leads",columns:[{key:"companyName",label:"Company"},{key:"contactPerson",label:"Contact"},{key:"status",label:"Status"},{key:"value",label:"Value",render:i=>`$${i.value.toLocaleString()}`},{key:"isHotLead",label:"Priority"}],ariaLabel:"All Sales Leads Grid",ariaDescription:"Complete sales pipeline with lead information"},{id:"hot-leads",label:"Hot Leads",columns:[{key:"companyName",label:"Company"},{key:"contactPerson",label:"Contact"},{key:"value",label:"Value",render:i=>`$${i.value.toLocaleString()}`},{key:"lastContact",label:"Last Contact",render:i=>i.lastContact.toLocaleDateString()}],filter:i=>i.filter(s=>s.isHotLead),sortConfig:[{key:"value",direction:"desc"}],ariaLabel:"Hot Leads Grid",ariaDescription:"High-priority leads requiring immediate attention"},{id:"pipeline",label:"Active Pipeline",columns:[{key:"companyName",label:"Company"},{key:"status",label:"Status"},{key:"value",label:"Value",render:i=>`$${i.value.toLocaleString()}`},{key:"source",label:"Source"}],filter:i=>i.filter(s=>["contacted","qualified"].includes(s.status)),ariaLabel:"Active Pipeline Grid",ariaDescription:"Leads currently in the sales pipeline"}]),data:po}}),[]),a=r[e];return n.jsxs("div",{style:{padding:"2rem",maxWidth:"1200px",margin:"0 auto"},children:[n.jsxs("div",{style:{marginBottom:"2rem"},children:[n.jsx("h1",{style:{fontSize:"2rem",fontWeight:"bold",marginBottom:"1rem",color:"#1f2937"},children:"AriaTabsDataGrid - Comprehensive Demo"}),n.jsx("p",{style:{fontSize:"1.1rem",color:"#6b7280",marginBottom:"2rem",lineHeight:"1.6"},children:"This demo showcases the component's versatility across different domains: healthcare, e-commerce, financial services, and custom business applications. Each configuration demonstrates domain-specific data operations, custom renderers, and specialized filtering logic."}),n.jsx("div",{style:{display:"flex",gap:"1rem",marginBottom:"2rem",flexWrap:"wrap"},children:Object.keys(r).map(i=>n.jsx(Re,{variant:e===i?"primary":"secondary",onClick:()=>t(i),style:{textTransform:"capitalize"},children:i},i))}),n.jsxs("div",{style:{backgroundColor:"#f8fafc",border:"1px solid #e2e8f0",borderRadius:"0.5rem",padding:"1.5rem",marginBottom:"2rem"},children:[n.jsx("h2",{style:{fontSize:"1.5rem",fontWeight:"600",marginBottom:"0.5rem",color:"#1e293b"},children:a.title}),n.jsx("p",{style:{color:"#64748b",marginBottom:"1rem"},children:a.description}),n.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:"1rem",fontSize:"0.9rem"},children:[n.jsxs("div",{children:[n.jsx("strong",{children:"Data Records:"})," ",a.data.length]}),n.jsxs("div",{children:[n.jsx("strong",{children:"Tab Panels:"})," ",a.tabPanels.length]}),n.jsxs("div",{children:[n.jsx("strong",{children:"Features:"})," ",["Row Selection","Custom Filtering","Domain-Specific Renderers","Keyboard Navigation","ARIA Compliance"].join(", ")]})]})]})]}),n.jsx(On,{dataConfig:a.dataConfig,tabPanels:a.tabPanels,ariaLabel:`${a.title} Data Grid`,ariaDescription:`Interactive data grid for ${a.description.toLowerCase()}`}),n.jsxs("div",{style:{marginTop:"3rem",padding:"1.5rem",backgroundColor:"#f1f5f9",borderRadius:"0.5rem",border:"1px solid #cbd5e1"},children:[n.jsx("h3",{style:{fontSize:"1.25rem",fontWeight:"600",marginBottom:"1rem",color:"#334155"},children:"Implementation Details"}),n.jsxs("div",{style:{display:"grid",gap:"1rem",fontSize:"0.9rem"},children:[n.jsxs("div",{children:[n.jsx("strong",{children:"Current Mode:"})," ",e," configuration"]}),n.jsxs("div",{children:[n.jsx("strong",{children:"Data Operations:"})," Custom comparator, filter function, and boolean renderer"]}),n.jsxs("div",{children:[n.jsx("strong",{children:"Architecture:"})," Generic core with domain-specific plugins and factory helpers"]}),n.jsxs("div",{children:[n.jsx("strong",{children:"State Management:"})," Global row selection with data-object persistence"]}),n.jsxs("div",{children:[n.jsx("strong",{children:"Accessibility:"})," Full ARIA support with dynamic labels and descriptions"]})]})]})]})},Qr=e=>n.jsx(xr,{...e}),Af=({children:e,pageTitle:t,pageHeadingProps:r,columnWidth:a="two-thirds",mainWrapperSize:i,skipLinkProps:s,headerProps:l,footerProps:c,service:d,navigation:u,search:f,account:g,organisation:b,logo:p,className:N,...y})=>{const S={service:d,navigation:u,search:f,account:g,organisation:b,logo:p,...l};return n.jsxs(n.Fragment,{children:[n.jsx(Ur,{...s}),n.jsx(Sr,{...S}),n.jsx(Qr,{className:N,...y,children:n.jsx(vr,{size:i,children:n.jsx(yt,{children:n.jsxs(Nt,{width:a,children:[t&&n.jsx(Ze,{size:"l",...r,children:t}),e]})})})}),n.jsx(wr,{...c})]})},$f=({children:e,pageTitle:t,pageHeadingProps:r,columnWidth:a="two-thirds",mainWrapperSize:i="small",skipLinkProps:s,headerProps:l,footerProps:c,backLinkProps:d,serviceName:u,serviceHref:f,logo:g,className:b,...p})=>{const N={service:{text:u,href:f},logo:g,navigation:void 0,search:void 0,account:void 0,...l};return n.jsxs(n.Fragment,{children:[n.jsx(Ur,{...s}),n.jsx(Sr,{...N}),n.jsxs(Qr,{className:b,...p,children:[d&&n.jsx(Nn,{...d}),n.jsx(vr,{size:i,children:n.jsx(yt,{children:n.jsxs(Nt,{width:a,children:[t&&n.jsx(Ze,{size:"l",...r,children:t}),e]})})})]}),n.jsx(wr,{...c})]})},bo=({text:e="Next",html:t,href:r="#",className:a,element:i="a",onClick:s,...l})=>{const c=ne("nhsuk-back-link",a),d=ne("nhsuk-back-link__link"),u=()=>n.jsxs("span",{style:{display:"inline-flex",alignItems:"center",gap:4},children:[t?n.jsx("span",{dangerouslySetInnerHTML:{__html:t}}):e,n.jsx("svg",{className:"nhsuk-icon nhsuk-icon__chevron-right",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24","aria-hidden":"true",height:"24",width:"24",children:n.jsx("path",{d:"M15.5 12c0 .3-.1.5-.3.7l-5 5c-.4.4-1 .4-1.4 0s-.4-1 0-1.4L13.1 12 8.8 7.7c-.4-.4-.4-1 0-1.4s1-.4 1.4 0l5 5c.2.2.3.4.3.7z"})})]});return n.jsx("div",{className:c,children:i==="button"?n.jsx("button",{className:d,type:"button",onClick:s,...l,children:u()}):n.jsx("a",{className:d,href:r,...l,children:u()})})};bo.displayName="ForwardLink";const Lt=Object.freeze({small:320,smallMax:767,medium:768,large:1025,xlarge:1200,xxlarge:1440});function yo(){return typeof window>"u"?Lt.small:window.innerWidth||document.documentElement.clientWidth||0}function ea(){const[e,t]=ce.useState(yo());ce.useEffect(()=>{if(typeof window>"u")return;const s=()=>t(yo());return window.addEventListener("resize",s),()=>window.removeEventListener("resize",s)},[]);const r=ce.useCallback(s=>e>=Lt[s],[e]),a=ce.useCallback(s=>e<Lt[s],[e]),i=ce.useCallback((s,l)=>e>=Lt[s]&&e<Lt[l],[e]);return{width:e,up:r,down:a,between:i,values:Lt}}function Hf(e){const{width:t,values:r}=ea();let a=e.base;const i=["small","medium","large","xlarge","xxlarge"];for(const s of i){const l=r[s];t>=l&&e[s]!==void 0&&(a=e[s])}return a}function xo(e={}){const{enabled:t=!0,paramSelected:r="nsv",paramDrill:a="nsvDrill"}=e,[i,s]=ce.useState(()=>typeof window>"u"||!t?void 0:new URLSearchParams(window.location.search).get(r)),[l,c]=ce.useState(()=>typeof window>"u"||!t?!1:new URLSearchParams(window.location.search).get(a)==="1");return ce.useEffect(()=>{if(!t||typeof window>"u")return;const d=new URLSearchParams(window.location.search);i?d.set(r,String(i)):d.delete(r),d.set(a,l?"1":"0");const u=`${window.location.pathname}?${d.toString()}${window.location.hash}`;window.history.replaceState(null,"",u)},[i,l,t,r,a]),{selectedId:i,setSelectedId:s,drilledIn:l,setDrilledIn:c}}const Pf=({className:e})=>n.jsx("svg",{className:e,width:"16",height:"16",viewBox:"0 0 16 16","aria-hidden":"true",focusable:"false",children:n.jsx("path",{fill:"currentColor",d:"M10.7 3.3a1 1 0 0 1 0 1.4L7.41 8l3.3 3.3a1 1 0 1 1-1.42 1.4l-4-4a1 1 0 0 1 0-1.4l4-4a1 1 0 0 1 1.42 0Z"})}),Rf=({className:e})=>n.jsx("svg",{className:e,width:"16",height:"16",viewBox:"0 0 16 16","aria-hidden":"true",focusable:"false",children:n.jsx("path",{fill:"currentColor",d:"M5.3 12.7a1 1 0 0 1 0-1.4L8.59 8l-3.3-3.3a1 1 0 0 1 1.42-1.4l4 4a1 1 0 0 1 0 1.4l-4 4a1 1 0 0 1-1.42 0Z"})});function vo(e){const{items:t,selectedId:r,defaultSelectedId:a,onSelectionChange:i,renderItemContent:s,renderContent:l,renderSecondaryContent:c,forceLayout:d,animated:u=!0,backLabel:f="Back",nextLabel:g="Next",isLoading:b=!1,emptyState:p,a11y:N,className:y,getId:S=J=>J.id,orientation:q="vertical",autoEnableThirdColumn:M=!0,onDrillChange:w,navigationInstructions:_="Use arrow keys to navigate, Enter to open.",initialFocus:A="first",skipFocusOnSelect:k=!1,skipAnnouncements:R=!1,onFocusChange:H,syncUrl:I=!1,urlParamSelected:x="nsv",urlParamDrill:L="nsvDrill",urlSyncDebounceMs:ee=0,lazySecondary:ue=!1,navFooter:Q,collapsibleNav:E=!1,navInitiallyCollapsed:v=!1,onNavCollapseChange:D,collapseToggleLabelShow:he="Show navigation",collapseToggleLabelHide:W="Hide navigation",collapseToggleIconShow:T,collapseToggleIconHide:se,persistNavCollapsed:P,navCollapsedStorageKey:re="nsvCollapsed",navCollapsedUrlParam:$="nsvCollapsed",autoContentHeader:le,contentHeaderLevel:te=2,renderContentHeader:K,contentSubheader:X,secondarySubheader:V}=e,{up:oe}=ea(),[ge,O]=ce.useState(!1);ce.useEffect(()=>{O(!0)},[]);const Ce=ge&&oe("medium"),me=ge&&oe("xlarge");let pe;d?pe=d:Ce?pe="two-column":pe="list",!d&&M&&c&&me&&(pe="three-column");const fe=xo({enabled:I,paramSelected:x,paramDrill:L}),[xe,Me]=ce.useState(()=>fe.selectedId!==void 0?fe.selectedId:a),Te=r!==void 0?r:xe,Ne=t.find(J=>S(J)===Te),[B,j]=ce.useState(void 0);ce.useEffect(()=>{if(Te===void 0)return;j(Te);const J=setTimeout(()=>j(void 0),220);return()=>clearTimeout(J)},[Te]);const U=ce.useRef(null),z=ce.useRef(null),m=ce.useRef(null),C=ce.useRef(null),[G,Z]=ce.useState(()=>({contentIndex:0,secondaryIndex:0})),[F,Y]=ce.useState(()=>"nav"),[ve,be]=ce.useState(0),ke=()=>[C.current,z.current,m.current].filter(Boolean),we=J=>{const de=ke(),ae=Math.max(0,Math.min(J,de.length-1));de[ae]?.focus(),be(ae)},ie=ce.useCallback(J=>J?Array.from(J.querySelectorAll('button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])')).filter(ae=>!ae.hasAttribute("disabled")&&ae.tabIndex!==-1):[],[]),Se=ce.useCallback(J=>{const de=ie(z.current);if(!de.length){z.current?.focus();return}const ae=Math.max(0,Math.min(J,de.length-1)),ye=de[ae];ye.focus(),setTimeout(()=>{document.activeElement!==ye&&(ye.focus(),setTimeout(()=>{document.activeElement!==ye&&ye.click()},10))},10),Z(Fe=>({...Fe,contentIndex:ae}));const Le=Fe=>{Fe.key==="Escape"&&(Fe.preventDefault(),Fe.stopPropagation(),z.current?.focus(),ye.removeEventListener("keydown",Le))};de.forEach(Fe=>{const Ie=Fe._escapeHandler;Ie&&Fe.removeEventListener("keydown",Ie)}),ye._escapeHandler=Le,ye.addEventListener("keydown",Le)},[ie]),De=ce.useCallback(J=>{const de=ie(m.current);if(!de.length){m.current?.focus();return}const ae=Math.max(0,Math.min(J,de.length-1)),ye=de[ae];ye.focus(),setTimeout(()=>{document.activeElement!==ye&&(ye.focus(),setTimeout(()=>{document.activeElement!==ye&&ye.click()},10))},10),Z(Fe=>({...Fe,secondaryIndex:ae}));const Le=Fe=>{Fe.key==="Escape"&&(Fe.preventDefault(),Fe.stopPropagation(),m.current?.focus(),ye.removeEventListener("keydown",Le))};de.forEach(Fe=>{const Ie=Fe._escapeHandler;Ie&&Fe.removeEventListener("keydown",Ie)}),ye._escapeHandler=Le,ye.addEventListener("keydown",Le)},[ie]),$e=J=>{if(J.defaultPrevented)return;const de=J.key,ae=J.target,ye=!!Oe.current&&Oe.current.contains(ae),Le=!!z.current&&z.current.contains(ae),Fe=!!m.current&&m.current.contains(ae),Ie=!!m.current,At=ae===C.current||ae===z.current||ae===m.current,jt=Be&&(pe==="list"||pe==="cards"),gr=Le&&!!ae.closest(".nhs-navigation-split-view__header");if(F==="containers"&&At){if(de==="ArrowRight"){J.preventDefault();const _e=ke(),Ee=Math.min(_e.length-1,ve+1);we(Ee);return}if(de==="ArrowLeft"){J.preventDefault();const _e=Math.max(0,ve-1);we(_e);return}if(de==="Home"){J.preventDefault(),we(0);return}if(de==="End"){J.preventDefault(),we(ke().length-1);return}if(de==="Enter"||de===" "){if(J.preventDefault(),ae===C.current){if(Y("nav"),Oe.current){const _e=Array.from(Oe.current.querySelectorAll("[data-nav-item]"));(_e[Ae>=0?Ae:0]||_e[0])?.focus()}}else ae===z.current?(Y("content"),Se(G.contentIndex)):ae===m.current&&(Y("secondary"),De(G.secondaryIndex));return}return}if(de==="Escape"){if(F==="content"||F==="secondary"){if(Le||Fe){if(J.preventDefault(),Y("nav"),Oe.current){const Ee=Array.from(Oe.current.querySelectorAll("[data-nav-item]"))[Ae>=0?Ae:0];setTimeout(()=>Ee?.focus(),10)}}else if((ae===z.current||ae===m.current)&&(J.preventDefault(),Y("nav"),Oe.current)){const Ee=Array.from(Oe.current.querySelectorAll("[data-nav-item]"))[Ae>=0?Ae:0];setTimeout(()=>Ee?.focus(),10)}}return}if(de==="Enter"||de===" "){if(ae.matches('button, a, input, select, textarea, [role="button"], [role="link"], [role="tab"]'))return;if(ae===z.current&&F==="content"){J.preventDefault(),J.stopPropagation(),ie(z.current).length>0&&setTimeout(()=>{Se(G.contentIndex)},50);return}if(ae===m.current&&F==="secondary"){J.preventDefault(),J.stopPropagation(),ie(m.current).length>0&&setTimeout(()=>{De(G.secondaryIndex)},50);return}}if(jt&&gr&&!At&&(de==="ArrowRight"||de==="ArrowLeft")){const _e=ie(z.current).filter(Ee=>Ee.closest(".nhs-navigation-split-view__header"));if(_e.length>1){const Ee=_e.indexOf(ae);if(Ee>=0){const id=(Ee+(de==="ArrowRight"?1:-1)+_e.length)%_e.length;J.preventDefault(),_e[id].focus();return}}}if(de==="ArrowRight"){if(ye||F==="nav"){J.preventDefault(),Y("content"),setTimeout(()=>z.current?.focus(),10);return}if(Le||F==="content"){Ie&&(J.preventDefault(),Y("secondary"),setTimeout(()=>m.current?.focus(),10));return}}if(de==="ArrowLeft"){if(Fe||F==="secondary"){J.preventDefault(),Y("content"),setTimeout(()=>z.current?.focus(),10);return}if(Le||F==="content"){if(J.preventDefault(),Y("nav"),Oe.current){const Ee=Array.from(Oe.current.querySelectorAll("[data-nav-item]"))[Ae>=0?Ae:0];setTimeout(()=>Ee?.focus(),10)}return}}if(de==="Home"&&!ye&&(J.preventDefault(),Y("nav"),Oe.current)){const _e=Array.from(Oe.current.querySelectorAll("[data-nav-item]")),Ee=_e[Ae>=0?Ae:0]||_e[0];setTimeout(()=>Ee?.focus(),10)}if(de==="End"){const _e=Ie?m.current:z.current;_e&&!_e.contains(ae)&&(J.preventDefault(),Ie?(Y("secondary"),setTimeout(()=>m.current?.focus(),10)):(Y("content"),setTimeout(()=>z.current?.focus(),10)))}if(de==="ArrowDown"||de==="ArrowUp"){if(ae===z.current&&de==="ArrowDown"){J.preventDefault(),ie(z.current).length>0&&Se(0);return}if(ae===m.current&&de==="ArrowDown"){J.preventDefault(),ie(m.current).length>0&&De(0);return}if(Le){const _e=ie(z.current);if(_e.length){J.preventDefault();const Ee=de==="ArrowDown"?1:-1,dt=(G.contentIndex+Ee+_e.length)%_e.length;Se(dt)}}else if(Fe){const _e=ie(m.current);if(_e.length){J.preventDefault();const Ee=de==="ArrowDown"?1:-1,dt=(G.secondaryIndex+Ee+_e.length)%_e.length;De(dt)}}}},Be=!!Ne&&(pe==="list"||pe==="cards"),Ge=ce.useMemo(()=>le===void 0?{mobile:!0,tablet:!1,desktop:!1}:le===!0?{mobile:!0,tablet:!0,desktop:!0}:le===!1?{mobile:!1,tablet:!1,desktop:!1}:{mobile:le.mobile!==void 0?le.mobile:!0,tablet:le.tablet||!1,desktop:le.desktop||!1},[le]),xt=ge&&oe("medium")&&!oe("xlarge"),gt=ge&&oe("xlarge"),lt=!!c,Pe=pe==="three-column",[We,Sn]=ce.useState(!1);ce.useEffect(()=>{Pe&&We&&Sn(!1)},[Pe,We]),ce.useEffect(()=>{We&&!Pe&&(Y("secondary"),be(2),setTimeout(()=>{m.current?.focus()},50))},[We,Pe]),ce.useEffect(()=>{!We&&!Pe&&F==="secondary"&&(Y("content"),be(1),setTimeout(()=>{z.current?.focus()},50))},[We,Pe,F]);const Va=!!Ne&&(Be&&Ge.mobile||!Be&&xt&&Ge.tablet||!Be&&gt&&Ge.desktop)||lt&&!Pe,gm=`h${te}`,Ya=Ne?ce.createElement(gm,{style:{marginLeft:Be?32:0,marginRight:Be?32:0}},Ne.label):null,sd=Be?"mobile":xt?"tablet":"desktop",pm=lt&&!Pe&&!We,qa=Be&&Ge.mobile?n.jsx(Nn,{element:"button",text:f,style:{marginRight:16},onClick:()=>Mt(void 0,void 0)}):void 0,Ka=pm?n.jsx(bo,{element:"button",text:g,onClick:()=>{Sn(!0)}}):void 0,Za=!Pe&&We?n.jsx(Nn,{element:"button",text:f,style:{marginRight:16},onClick:()=>Sn(!1)}):void 0,bm=ce.useMemo(()=>{if(!Va||!Ne)return null;if(K)return K({item:Ne,detailActive:Be,context:sd,backLink:qa,defaultHeading:Ya});const J=Ne&&X?typeof X=="function"?X(Ne):X:null;return n.jsxs("div",{style:{display:"flex",alignItems:"center",width:"100%"},children:[n.jsxs("div",{style:{display:"flex",alignItems:"center",gap:0,flex:"1 1 auto",minWidth:0},children:[Za||qa,n.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:4,minWidth:0},children:[Ya,J&&n.jsx("div",{className:"nhs-navigation-split-view__subheader",children:J})]})]}),Ka&&n.jsx("div",{style:{marginLeft:"auto"},children:Ka})]})},[Va,Ne,K,Be,sd,qa,Za,Ya,Ka,X]);ce.useEffect(()=>{if(!I)return;const J=pe==="three-column";let de=!1;const ae=()=>{de||(fe.selectedId!==Te&&fe.setSelectedId(Te),fe.drilledIn!==J&&fe.setDrilledIn(J))};if(ee&&ee>0){const ye=setTimeout(ae,ee);return()=>{de=!0,clearTimeout(ye)}}else ae()},[I,fe,Te,pe,ee]),ce.useEffect(()=>{if(!I)return;const J=()=>{const de=new URLSearchParams(window.location.search),ae=de.get(x);de.get(L),Me(ae===null?void 0:ae)};return window.addEventListener("popstate",J),()=>window.removeEventListener("popstate",J)},[I,x,L,d,c]);const mr=ce.useRef(0),pt=ce.useRef(null),Mt=ce.useCallback((J,de)=>{J!==Te&&(r===void 0&&Me(J),i?.(J,de))},[r,i,Te]);ce.useEffect(()=>{if(!k&&Be&&z.current){const J=setTimeout(()=>z.current?.focus(),30);return()=>clearTimeout(J)}},[Be,Te,k]);const Oe=ce.useRef(null),[Ae,wn]=ce.useState(()=>A==="first"?0:-1);ce.useEffect(()=>{if(Ae<0||!Oe.current)return;const de=Array.from(Oe.current.querySelectorAll("[data-nav-item]"))[Ae];if(de){document.activeElement!==de&&de.focus(),mr.current=Ae;const ae=t[Ae];H?.(ae?S(ae):void 0,ae,Ae)}},[Ae,t,H,S]);const ym=J=>{const de=q==="vertical"?"ArrowDown":"ArrowRight",ae=q==="vertical"?"ArrowUp":"ArrowLeft";if(J.key==="ArrowRight"&&q==="vertical"){J.preventDefault(),We?(Y("secondary"),setTimeout(()=>{m.current?.focus()},10)):(Y("content"),setTimeout(()=>{z.current?.focus()},10));return}if(J.key===de)J.preventDefault(),wn(ye=>Math.min(t.length-1,ye+1));else if(J.key===ae)J.preventDefault(),wn(ye=>Math.max(0,ye-1));else if(J.key==="Home")J.preventDefault(),wn(0);else if(J.key==="End")J.preventDefault(),wn(t.length-1);else if(J.key==="Enter"||J.key===" "){J.preventDefault();const ye=t[Ae];ye&&!ye.disabled&&Mt(S(ye),ye)}else if(J.key.length===1&&/[a-z0-9]/i.test(J.key)){pt.current||(pt.current={buffer:"",last:0});const ye=Date.now(),Le=700,Fe=J.key.toLowerCase();ye-pt.current.last>Le?pt.current.buffer=Fe:pt.current.buffer+=Fe,pt.current.last=ye;let Ie=pt.current.buffer;const At=Ie.split("").every(dt=>dt===Ie[0]),jt=t.map(dt=>String(dt.label||"").toLowerCase());let gr=0;Ae>=0&&(gr=(Ae+1)%t.length);let _e;const Ee=(dt,id)=>{const ld=t.length;for(let Qa=0;Qa<ld;Qa++){const es=(gr+Qa)%ld;if(!t[es].disabled&&jt[es].startsWith(dt))return es}};At&&Ie.length>1?_e=Ee(Ie[0]):(_e=Ee(Ie),_e===void 0&&Ie.length>1&&(_e=Ee(Ie[Ie.length-1]),_e!==void 0&&pt.current&&(pt.current.buffer=Ie[Ie.length-1]))),_e!==void 0&&wn(_e)}},xm=ce.useMemo(()=>{if(P&&(P==="url"||P==="both")&&typeof window<"u"){const de=new URLSearchParams(window.location.search).get($);if(de==="1")return!0;if(de==="0")return!1}if(P&&(P==="localStorage"||P==="both")&&typeof window<"u")try{const J=window.localStorage.getItem(re);if(J==="1")return!0;if(J==="0")return!1}catch{}return v},[P,v,re,$]),[ct,vm]=ce.useState(xm);ce.useEffect(()=>{D?.(ct)},[ct,D]);const _m=ce.useCallback(()=>{Ce&&E&&vm(J=>!J)},[Ce,E]);ce.useEffect(()=>{if(P&&!(typeof window>"u")){if(P==="localStorage"||P==="both")try{window.localStorage.setItem(re,ct?"1":"0")}catch{}if(P==="url"||P==="both"){const J=new URLSearchParams(window.location.search);J.set($,ct?"1":"0");const de=`${window.location.pathname}?${J.toString()}${window.location.hash}`;window.history.replaceState(null,"",de)}}},[ct,P,re,$]);const km=["nhs-navigation-split-view",u?"nhs-navigation-split-view--animated":"",Be?"nhs-navigation-split-view--detail-active":"",pe==="three-column"?"nhs-navigation-split-view--three-column":"",E&&Ce&&ct?"nhs-navigation-split-view--nav-collapsed":"",y].filter(Boolean).join(" "),Xa=ce.useRef(null);ce.useEffect(()=>{if(!R&&Xa.current){const J=Ne?`Selected ${Ne.label}`:"Selection cleared";Xa.current.textContent=J}},[Ne,R]),ce.useEffect(()=>{!Be&&Te==null&&Oe.current&&Oe.current.querySelectorAll("[data-nav-item]")[mr.current]?.focus()},[Be,Te]);const vt=pe==="three-column",[Ja,Sm]=ce.useState(!1);ce.useEffect(()=>{vt&&!Ja&&Sm(!0)},[vt,Ja]);const od=ce.useRef(vt);ce.useEffect(()=>{od.current!==vt&&(w?.(vt),od.current=vt)},[vt,w]);const wm=()=>{if(pe==="cards")return n.jsxs("ul",{className:"nhs-navigation-split-view__cards",role:"listbox","aria-activedescendant":Te?String(Te):void 0,children:[t.map(ae=>{const ye=S(ae),Le=ye===Te;return n.jsx("li",{className:"nhs-navigation-split-view__card-item",role:"option","aria-selected":Le,children:n.jsxs("button",{id:String(ye),type:"button",className:"nhs-navigation-split-view__card","data-selected":Le||void 0,"data-disabled":ae.disabled||void 0,disabled:ae.disabled,onClick:()=>!ae.disabled&&Mt(ye,ae),children:[ae.icon&&n.jsx("span",{className:"nhs-navigation-split-view__item-icon",children:ae.icon}),n.jsx("span",{className:"nhs-navigation-split-view__item-label",children:ae.label}),ae.description&&n.jsx("span",{className:"nhs-navigation-split-view__item-description",children:ae.description}),s?.(ae),ae.badge!==void 0&&n.jsx("span",{className:"nhs-navigation-split-view__badge",children:ae.badge})]})},ye)}),t.length===0&&!b&&n.jsx("li",{className:"nhs-navigation-split-view__card-item","aria-disabled":"true",children:p||n.jsx("div",{style:{padding:16},children:"No items"})})]});const J="nsv-nav-instructions",de=ce.useMemo(()=>ce.memo(({item:ae,idx:ye,selected:Le,focused:Fe})=>{const Ie=S(ae),At=ae.disabled?{"aria-disabled":!0,tabIndex:-1}:{tabIndex:Fe?0:-1,onClick:()=>{mr.current=ye,Mt(Ie,ae)},onKeyDown:jt=>{(jt.key==="Enter"||jt.key===" ")&&(jt.preventDefault(),mr.current=ye,Mt(Ie,ae))}};return n.jsxs("li",{id:String(Ie),"data-nav-item":!0,className:"nhs-navigation-split-view__list-item nhs-navigation-split-view__item-button",role:"option","aria-selected":Le,"aria-current":Le?"true":void 0,"data-selected":Le||void 0,"data-disabled":ae.disabled||void 0,...At,children:[ae.icon&&n.jsx("span",{className:"nhs-navigation-split-view__item-icon",children:ae.icon}),n.jsxs("span",{className:"nhs-navigation-split-view__item-content",children:[n.jsx("span",{className:"nhs-navigation-split-view__item-label",children:ae.label}),ae.description&&n.jsx("span",{className:"nhs-navigation-split-view__item-description",children:ae.description}),s?.(ae)]}),ae.badge!==void 0&&n.jsx("span",{className:"nhs-navigation-split-view__badge",children:ae.badge})]})}),[S,Mt,s]);return n.jsxs(n.Fragment,{children:[n.jsxs("ul",{ref:Oe,className:"nhs-navigation-split-view__list",onKeyDown:ym,role:"listbox","aria-label":"Navigation items","aria-describedby":J,"aria-activedescendant":Te?String(Te):void 0,children:[t.map((ae,ye)=>n.jsx(de,{item:ae,idx:ye,selected:S(ae)===Te,focused:ye===Ae||Ae===-1&&ye===0&&A==="first","data-just-selected":S(ae)===B?"true":void 0},S(ae))),t.length===0&&!b&&n.jsx("li",{className:"nhs-navigation-split-view__list-item","aria-disabled":"true",children:p||n.jsx("div",{style:{padding:16},children:"No items"})})]}),n.jsx("div",{id:J,style:{position:"absolute",width:1,height:1,overflow:"hidden",clip:"rect(0 0 0 0)"},children:_})]})};return n.jsx("div",{ref:U,className:km,"aria-label":N?.rootLabel,"data-layout":pe,onKeyDown:$e,children:n.jsxs("div",{className:"nhs-navigation-split-view__body",children:[n.jsxs("div",{className:"nhs-navigation-split-view__panes","data-active-detail":Be||void 0,style:{transform:Be?"translateX(-100%)":void 0},children:[n.jsxs("div",{ref:C,className:"nhs-navigation-split-view__nav-pane",role:"navigation","aria-label":N?.navigationLabel||"Items","data-collapsed":ct||void 0,tabIndex:0,children:[E&&Ce&&n.jsx("div",{className:"nhs-navigation-split-view__nav-collapse",children:n.jsx("button",{type:"button",onClick:_m,className:"nhs-navigation-split-view__nav-collapse-btn","aria-label":ct?he:W,title:ct?he:W,children:ct?T||n.jsx(Rf,{}):se||n.jsx(Pf,{})})}),n.jsx("div",{className:"nhs-navigation-split-view__nav-scroll",children:wm()}),Q&&n.jsx("div",{className:"nhs-navigation-split-view__nav-footer",role:"contentinfo",children:Q})]}),n.jsxs("div",{ref:z,className:"nhs-navigation-split-view__content-pane",role:"region","aria-label":N?.contentLabel||"Content","data-has-selection":!!Ne||void 0,tabIndex:0,style:{display:We&&!Pe?"none":void 0},children:[Va&&n.jsx("div",{className:"nhs-navigation-split-view__header",children:bm}),n.jsx("div",{className:"nhs-navigation-split-view__content-inner",style:{padding:32,flex:1},children:l(Ne)})]}),pe==="three-column"&&(!ue||Ja)||We&&!Pe?n.jsx("div",{ref:m,className:"nhs-navigation-split-view__secondary-pane",role:"region","aria-label":N?.secondaryContentLabel||"Secondary",tabIndex:0,children:n.jsxs("div",{className:"nhs-navigation-split-view__secondary-inner",style:{display:"flex",flexDirection:"column",flex:1,minWidth:0},children:[We&&!Pe&&n.jsx("div",{className:"nhs-navigation-split-view__header",children:n.jsx("div",{style:{display:"flex",alignItems:"center",width:"100%"},children:n.jsxs("div",{style:{display:"flex",alignItems:"center",gap:0,flex:"1 1 auto",minWidth:0},children:[Za,n.jsx("div",{style:{display:"flex",flexDirection:"column",gap:4,minWidth:0},children:n.jsx("h2",{style:{marginLeft:0,marginRight:0},children:Ne&&typeof Ne=="object"&&"label"in Ne?Ne.label:String(Ne)})})]})})}),Ne&&V&&n.jsx("div",{className:"nhs-navigation-split-view__secondary-header",style:{padding:"16px 32px",borderBottom:"1px solid var(--nsplit-divider)"},children:typeof V=="function"?V(Ne):V}),n.jsx("div",{style:{padding:32,flex:1,minWidth:0},children:c?.(Ne)})]})}):null]}),n.jsx("div",{ref:Xa,"aria-live":"polite","aria-atomic":"true",style:{position:"absolute",width:1,height:1,overflow:"hidden",clip:"rect(0 0 0 0)"}}),n.jsx("div",{"aria-live":"polite",style:{position:"absolute",width:1,height:1,overflow:"hidden",clip:"rect(0 0 0 0)"},children:vt?"Expanded to three column layout":"In two column layout"})]})})}vo.displayName="NavigationSplitView";const _o=(e,t,r,a)=>e==null||Number.isNaN(e)?a:Math.min(r,Math.max(t,e)),zf=({item:e,maxLines:t})=>{const{content:r,dateOffset:a=0,length:i=1,partialLength:s=1,verticalPosition:l=1,ariaLabel:c}=e;return n.jsxs("div",{className:"nhsuk-product-roadmap__item",style:{"--item-vertical-position":l,"--item-length":i,"--item-partial-length":s,"--date-offset":a},role:"listitem","aria-label":c,children:[n.jsx("div",{className:"nhsuk-product-roadmap__item-bg","aria-hidden":"true"}),n.jsx("div",{className:"nhsuk-product-roadmap__item-content",style:{"--item-height":t},children:r})]})},ko=h.memo(({dateHeadings:e,categories:t,columnWidthPx:r=400,itemMaxLines:a=2,className:i,ariaLabel:s="Product roadmap",...l})=>{const c=ne("nhsuk-product-roadmap",i),d=_o(r,120,1200,400),u=_o(a,1,6,2);return n.jsx("div",{className:c,style:{"--column-width":`${d}px`},...l,children:n.jsxs("table",{className:"nhsuk-product-roadmap__table","aria-label":s,role:"grid",children:[n.jsx("thead",{children:n.jsxs("tr",{className:"nhsuk-product-roadmap__row nhsuk-product-roadmap__row--dates",children:[n.jsx("th",{scope:"col",children:n.jsx("span",{className:"nhsuk-visually-hidden",children:"Category"})}),e.map((f,g)=>n.jsx("th",{scope:"col",children:f},g))]})}),n.jsx("tbody",{children:t.map((f,g)=>n.jsxs("tr",{className:"nhsuk-product-roadmap__row",role:"row",children:[n.jsx("th",{scope:"row",className:"nhsuk-product-roadmap__category-cell",children:f.heading}),e.map((b,p)=>{const N=p+1,y=f.roadmapItems.filter(S=>S.date===N);return n.jsx("td",{className:"nhsuk-product-roadmap__date-cell",children:n.jsx("div",{className:"nhsuk-product-roadmap__cell-container",role:"list",children:y.map((S,q)=>n.jsx(zf,{item:S,columnWidth:d,maxLines:u},q))})},p)})]},g))})]})})});ko.displayName="ProductRoadmap";const So="150ms",wo="300ms",Co="500ms",jo="cubic-bezier(0.4, 0, 1, 1)",No="cubic-bezier(0, 0, 0.2, 1)",To="cubic-bezier(0.4, 0, 0.2, 1)",Do="cubic-bezier(0.68, -0.55, 0.265, 1.55)",Bo="background-color 300ms cubic-bezier(0, 0, 0.2, 1)",Fo="box-shadow 150ms cubic-bezier(0, 0, 0.2, 1)",Io="border-color 150ms cubic-bezier(0, 0, 0.2, 1), box-shadow 150ms cubic-bezier(0, 0, 0.2, 1)",Eo="border-color 300ms cubic-bezier(0, 0, 0.2, 1)",Lo="1px",Mo="2px",Ao="4px",$o="4px",Ho="4px",Po="2px",Ro="1px",zo="0px",Wo="4px",Oo="8px",Uo="12px",ta="#d8dde0",na="#4c6272",ra="#d8dde0",aa="#aeb7bd",sa="#d5281b",oa="#005eb8",ia="#ffffff",la="#212b32",ca="#007f3b",da="#330072",ua="#7c2855",ha="#d5281b",fa="#ffeb3b",ma="#fff9c4",ga="#ffb81c",pa="#ed8b00",ba="#00a499",ya="#ae2573",xa="#4c6272",va="#768692",_a="#aeb7bd",ka="#d8dde0",Sa="#f0f4f5",Go="#212b32",Vo="#4c6272",Yo="#ffffff",qo="#212b32",Ko="#005eb8",Zo="#7c2855",Xo="#003087",Jo="#330072",Qo="#ffeb3b",ei="#212b32",ti="#d8dde0",ni="#ffffff33",ri="#d5281b",ai="#4c6272",si="#ffffff",oi="#007f3b",ii="#ffffff",li="#006530",ci="#004021",di="#004021",ui="#00000000",hi="#ffffff",fi="#005eb8",mi="#005eb8",gi="#d9e5f2",pi="#c7daf0",bi="#005eb8",yi="#ffffff",xi="#212b32",vi="#d9dde0",_i="#b3bcc2",ki="#b3bcc2",Si="#d5281b",wi="#aa2016",Ci="#6a140e",ji="#6a140e",Ni="#005eb8",Ti="#004b93",Di="#002f5c",Bi="#002f5c",Fi="8px",Ii="16px",Ei="12px",Li="16px",Mi="4px",Ai="40px",$i="4px",Hi="40px",Pi="12px",Ri="16px",zi="32px",Wi="16px",Oi="20px",Ui="28px",Gi="9px",Vi="2px",Yi="16px",qi="24px",Ki="8px",Zi="24px",Xi="16px",Ji="4px",Qi="4px",el="4px",tl="8px",nl="4px",rl="16px",al="#007f3b",sl="#006530",ol="#004021",il="#d8dde0",ll="#ffffff",cl="#768692",dl="#00000000",ul="#ffeb3b",hl="#00000000",fl="#ffffff",ml="#d9e5f2",gl="#c7daf0",pl="#005eb8",bl="#005eb8",wa="8px",Ca="16px",ja="12px",Na="16px",yl="2px",xl="4px",vl="4px",_l="600",kl="#ffffff",Sl="#d8dde0",wl="#aeb7bd",Cl="#f0f4f5",jl="#212b32",Nl="#212b32",Tl="#005eb8",Ta="16px",Da="32px",Ba="16px",Dl="1px",Bl="4px",Fl="none",Il="0 2px 4px rgba(0, 0, 0, 0.1)",El="#ffffff",Ll="#ffffff",Ml="#d8dde0",Al="#ffffff",$l="#4c6272",Hl="#ffeb3b",Pl="#d5281b",Rl="#aeb7bd",zl="#212b32",Wl="#4c6272",Ol="#768692",Ul="#212b32",Gl="#ffffff",Vl="600",Yl="#d5281b",ql="600",Kl="#4c6272",Fa="4px",Ia="40px",Ea="40px",La="12px",Zl="2px",Xl="4px",Jl="0px",Ql="16px",ec="18px",tc="24px",nc="32px",rc="34px",ac="32px",sc="40px",oc="48px",ic="5.4ex",lc="7.2ex",cc="9ex",dc="10.8ex",uc="20ex",hc="38ex",fc="56ex",mc="44px",gc="40px",pc="1020px",bc="100%",yc="50%",xc="33.333%",vc="25%",_c="20%",kc="320px",Sc="641px",wc="1025px",Cc="1280px",jc="960px",Nc="32px",Tc="16px",Dc="#d5281b",Bc="#d5281b",Fc="#ffffff",Ic="#007f3b",Ec="#007f3b",Lc="#ffffff",Mc="#ffeb3b",Ac="#ffeb3b",$c="#212b32",Hc="#005eb8",Pc="#005eb8",Rc="#ffffff",zc="#d8dde0",Wc="#aeb7bd",Oc="#768692",Uc="0 4px 0 #004021",Gc="0 4px 0 #005eb8",Vc="0 4px 0 #6a140e",Yc="0 4px 0 #ffeb3b",qc="none",Kc="0 2px 4px rgba(0, 0, 0, 0.1)",Zc="4px",Xc="0px",Jc="solid",Qc="0 0 0 3px #ffeb3b",ed="0 0 0 3px #ffeb3b",td="none",nd="0 1px 3px rgba(0, 0, 0, 0.12)",rd="0 2px 6px rgba(0, 0, 0, 0.16)",ad="0 4px 12px rgba(0, 0, 0, 0.20)",Ma="0",Aa="4px",$a="8px",Ha="16px",Pa="24px",Ra="32px",za="40px",Wa="48px",Oa="56px",Ua="64px",Vn="0",Yn="0",qn="4px",Kn="4px",Zn="8px",Xn="8px",Jn="8px",Qn="16px",er="16px",tr="24px",nr="24px",rr="32px",ar="32px",sr="40px",or="40px",ir="48px",lr="48px",cr="56px",dr="56px",ur="64px",Kt="Frutiger W01",Zt="Arial, Helvetica, sans-serif",Xt="sans-serif",Jt="400",Qt="600",en="400",tn="12px",nn="14px",rn="12pt",an="14px",sn="16px",on="12pt",ln="16px",cn="19px",dn="13pt",un="19px",hn="22px",fn="15pt",mn="22px",gn="26px",pn="17pt",bn="27px",yn="36px",xn="20pt",vn="33px",_n="48px",kn="24pt",hr="16px",fr="24px",Je={fontFamily:"Frutiger W01",fontWeight:"600",fontSize:{mobile:"33px",tablet:"48px",print:"24pt"},lineHeight:"1.09",marginTop:"0",marginBottom:{mobile:"40px",tablet:"48px"}},Qe={fontFamily:"Frutiger W01",fontWeight:"600",fontSize:{mobile:"27px",tablet:"36px",print:"20pt"},lineHeight:"1.11",marginTop:"0",marginBottom:{mobile:"16px",tablet:"24px"}},et={fontFamily:"Frutiger W01",fontWeight:"600",fontSize:{mobile:"22px",tablet:"26px",print:"17pt"},lineHeight:"1.15",marginTop:"0",marginBottom:{mobile:"16px",tablet:"24px"}},tt={fontFamily:"Frutiger W01",fontWeight:"600",fontSize:{mobile:"19px",tablet:"22px",print:"15pt"},lineHeight:"1.18",marginTop:"0",marginBottom:{mobile:"16px",tablet:"24px"}},nt={fontFamily:"Frutiger W01",fontWeight:"600",fontSize:{mobile:"16px",tablet:"19px",print:"13pt"},lineHeight:"1.26",marginTop:"0",marginBottom:{mobile:"16px",tablet:"24px"}},rt={fontFamily:"Frutiger W01",fontWeight:"400",fontSize:{mobile:"16px",tablet:"19px",print:"13pt"},lineHeight:"1.47",marginTop:"0",marginBottom:{mobile:"16px",tablet:"24px"}},at={fontFamily:"Frutiger W01",fontWeight:"400",fontSize:{mobile:"22px",tablet:"26px",print:"17pt"},lineHeight:"1.38",marginTop:"0",marginBottom:{mobile:"24px",tablet:"32px"}},st={fontFamily:"Frutiger W01",fontWeight:"400",fontSize:{mobile:"14px",tablet:"16px",print:"12pt"},lineHeight:"1.5",marginTop:"0",marginBottom:{mobile:"16px",tablet:"24px"}},ot={fontFamily:"Frutiger W01",fontWeight:"400",fontSize:{mobile:"22px",tablet:"26px",print:"17pt"},lineHeight:"1.38",marginTop:"0",marginBottom:{mobile:"40px",tablet:"48px"}},it={fontFamily:"Frutiger W01",fontWeight:"400",fontSize:{mobile:"16px",tablet:"19px",print:"13pt"},lineHeight:"1.47",marginTop:"0",marginBottom:{mobile:"24px",tablet:"32px"}},Wf=Object.freeze(Object.defineProperty({__proto__:null,AnimationDurationFast:So,AnimationDurationNormal:wo,AnimationDurationSlow:Co,AnimationEasingBounce:Do,AnimationEasingEaseIn:jo,AnimationEasingEaseInOut:To,AnimationEasingEaseOut:No,BorderColorCard:ra,BorderColorCardHover:aa,BorderColorDefault:ta,BorderColorError:sa,BorderColorForm:na,BorderRadiusLarge:Uo,BorderRadiusMedium:Oo,BorderRadiusNone:zo,BorderRadiusSmall:Wo,BorderWidthCardBottom:$o,BorderWidthDefault:Lo,BorderWidthFormElement:Mo,BorderWidthFormElementError:Ao,BorderWidthPanel:Ho,BorderWidthTableCell:Ro,BorderWidthTableHeader:Po,BreakpointDesktop:wc,BreakpointLargeDesktop:Cc,BreakpointMobile:kc,BreakpointTablet:Sc,ButtonBorderRadius:xl,ButtonBorderWidth:yl,ButtonPrimaryBackgroundActive:ol,ButtonPrimaryBackgroundDefault:al,ButtonPrimaryBackgroundDisabled:il,ButtonPrimaryBackgroundHover:sl,ButtonPrimaryBorderDefault:dl,ButtonPrimaryBorderFocus:ul,ButtonPrimaryTextDefault:ll,ButtonPrimaryTextDisabled:cl,ButtonSecondaryBackgroundActive:gl,ButtonSecondaryBackgroundDefault:hl,ButtonSecondaryBackgroundHover:ml,ButtonSecondaryBackgroundSolid:fl,ButtonSecondaryBorderDefault:bl,ButtonSecondaryTextDefault:pl,ButtonShadowSize:vl,ButtonSpacingPaddingHorizontalDesktop:Na,ButtonSpacingPaddingHorizontalMobile:Ca,ButtonSpacingPaddingVerticalDesktop:ja,ButtonSpacingPaddingVerticalMobile:wa,ButtonTypographyWeight:_l,CardBackgroundDefault:kl,CardBorderBottom:Cl,CardBorderDefault:Sl,CardBorderHover:wl,CardBorderWidthBottom:Bl,CardBorderWidthDefault:Dl,CardShadowDefault:Fl,CardShadowHover:Il,CardSpacingHeadingMargin:Ba,CardSpacingPaddingDesktop:Da,CardSpacingPaddingMobile:Ta,CardTextDescription:Nl,CardTextHeading:jl,CardTextLink:Tl,ColorBorderDefault:ti,ColorBorderSecondary:ni,ColorButtonLoginActive:Di,ColorButtonLoginBackground:Ni,ColorButtonLoginHover:Ti,ColorButtonLoginShadow:Bi,ColorButtonPrimaryActive:ci,ColorButtonPrimaryBackground:oi,ColorButtonPrimaryHover:li,ColorButtonPrimaryShadow:di,ColorButtonPrimaryText:ii,ColorButtonReverseActive:_i,ColorButtonReverseBackground:yi,ColorButtonReverseHover:vi,ColorButtonReverseShadow:ki,ColorButtonReverseText:xi,ColorButtonSecondaryActive:pi,ColorButtonSecondaryBackground:ui,ColorButtonSecondaryBackgroundSolid:hi,ColorButtonSecondaryBorder:fi,ColorButtonSecondaryHover:gi,ColorButtonSecondaryShadow:bi,ColorButtonSecondaryText:mi,ColorButtonWarningActive:Ci,ColorButtonWarningBackground:Si,ColorButtonWarningHover:wi,ColorButtonWarningShadow:ji,ColorError:ri,ColorFocusBackground:Qo,ColorFocusText:ei,ColorFormBackground:si,ColorFormBorder:ai,ColorGrey1:xa,ColorGrey2:va,ColorGrey3:_a,ColorGrey4:ka,ColorGrey5:Sa,ColorLinkActive:Xo,ColorLinkDefault:Ko,ColorLinkHover:Zo,ColorLinkVisited:Jo,ColorPrimaryBlack:la,ColorPrimaryBlue:oa,ColorPrimaryDarkPink:ua,ColorPrimaryGreen:ca,ColorPrimaryPurple:da,ColorPrimaryRed:ha,ColorPrimaryWhite:ia,ColorPrimaryYellow:fa,ColorSecondaryAquaGreen:ba,ColorSecondaryOrange:pa,ColorSecondaryPaleYellow:ma,ColorSecondaryPink:ya,ColorSecondaryWarmYellow:ga,ColorTextPrimary:Go,ColorTextPrint:qo,ColorTextReverse:Yo,ColorTextSecondary:Vo,ComponentBlur:Qi,ComponentBreadcrumbChevronMarginLeft:Gi,ComponentBreadcrumbChevronMarginRight:Vi,ComponentBreadcrumbPaddingTopDesktop:qi,ComponentBreadcrumbPaddingTopMobile:Yi,ComponentButtonPaddingDesktopHorizontal:Li,ComponentButtonPaddingDesktopVertical:Ei,ComponentButtonPaddingMobileHorizontal:Ii,ComponentButtonPaddingMobileVertical:Fi,ComponentButtonShadowSize:Mi,ComponentCardHeadingMargin:Wi,ComponentCardPaddingDesktop:zi,ComponentCardPaddingMobile:Ri,ComponentDetails:tl,ComponentExpander:nl,ComponentFormCheckboxLabelPadding:Pi,ComponentFormCheckboxSize:Hi,ComponentFormInputMinHeight:Ai,ComponentFormInputPadding:$i,ComponentLink:el,ComponentPagination:rl,ComponentPanelPaddingDesktop:Ui,ComponentPanelPaddingMobile:Oi,ComponentSpread:Ji,ComponentSummaryListCellPaddingHorizontal:Zi,ComponentSummaryListCellPaddingVertical:Ki,ComponentSummaryListRowMargin:Xi,ElevationHigh:ad,ElevationLow:nd,ElevationMedium:rd,ElevationNone:td,FocusOutlineOffset:Xc,FocusOutlineStyle:Jc,FocusOutlineWidth:Zc,FocusShadowButton:ed,FocusShadowInput:Qc,FontFamilyBase:Kt,FontFamilyFallback:Zt,FontFamilyPrint:Xt,FontLineHeightBase:fr,FontSize14Mobile:tn,FontSize14Print:rn,FontSize14Tablet:nn,FontSize16Mobile:an,FontSize16Print:on,FontSize16Tablet:sn,FontSize19Mobile:ln,FontSize19Print:dn,FontSize19Tablet:cn,FontSize22Mobile:un,FontSize22Print:fn,FontSize22Tablet:hn,FontSize26Mobile:mn,FontSize26Print:pn,FontSize26Tablet:gn,FontSize36Mobile:bn,FontSize36Print:xn,FontSize36Tablet:yn,FontSize48Mobile:vn,FontSize48Print:kn,FontSize48Tablet:_n,FontSizeBase:hr,FontWeightBold:Qt,FontWeightLight:en,FontWeightNormal:Jt,FormBorderRadius:Jl,FormBorderWidthDefault:Zl,FormBorderWidthError:Xl,FormErrorTextDefault:Yl,FormErrorTypographyWeight:ql,FormHintTextDefault:Kl,FormInputBackgroundDefault:El,FormInputBackgroundDisabled:Ml,FormInputBackgroundError:Al,FormInputBackgroundFocus:Ll,FormInputBorderDefault:$l,FormInputBorderDisabled:Rl,FormInputBorderError:Pl,FormInputBorderFocus:Hl,FormInputTextDefault:zl,FormInputTextDisabled:Ol,FormInputTextPlaceholder:Wl,FormLabelTextDefault:Ul,FormLabelTextRequired:Gl,FormLabelTypographyWeight:Vl,FormSpacingCheckboxLabelPadding:La,FormSpacingCheckboxSize:Ea,FormSpacingInputMinHeight:Ia,FormSpacingInputPadding:Fa,GridGutter:Nc,GridGutterHalf:Tc,GridPageWidth:jc,HeadingsNhsukHeadingL:Qe,HeadingsNhsukHeadingM:et,HeadingsNhsukHeadingS:tt,HeadingsNhsukHeadingXl:Je,HeadingsNhsukHeadingXs:nt,LayoutColumnActions:_c,LayoutColumnFull:bc,LayoutColumnHalf:yc,LayoutColumnQuarter:vc,LayoutColumnThird:xc,LayoutContainerMaxWidth:pc,ParagraphsBody:rt,ParagraphsBodyLarge:at,ParagraphsBodySmall:st,ParagraphsLedeText:ot,ParagraphsLedeTextSmall:it,ShadowButtonDefault:Uc,ShadowButtonFocus:Yc,ShadowButtonSecondary:Gc,ShadowButtonWarning:Vc,ShadowCardDefault:qc,ShadowCardHover:Kc,SizeButtonMinHeightDesktop:gc,SizeButtonMinHeightMobile:mc,SizeFormControlLarge:oc,SizeFormControlMedium:sc,SizeFormControlSmall:ac,SizeFormInputWidth2xl:hc,SizeFormInputWidth3xl:fc,SizeFormInputWidthLg:dc,SizeFormInputWidthMd:cc,SizeFormInputWidthSm:lc,SizeFormInputWidthXl:uc,SizeFormInputWidthXs:ic,SizeIconExtraLarge:nc,SizeIconLarge:tc,SizeIconMedium:ec,SizeIconNhsDefault:rc,SizeIconSmall:Ql,Spacing0:Ma,Spacing1:Aa,Spacing2:$a,Spacing3:Ha,Spacing4:Pa,Spacing5:Ra,Spacing6:za,Spacing7:Wa,Spacing8:Oa,Spacing9:Ua,SpacingResponsive0Mobile:Vn,SpacingResponsive0Tablet:Yn,SpacingResponsive1Mobile:qn,SpacingResponsive1Tablet:Kn,SpacingResponsive2Mobile:Zn,SpacingResponsive2Tablet:Xn,SpacingResponsive3Mobile:Jn,SpacingResponsive3Tablet:Qn,SpacingResponsive4Mobile:er,SpacingResponsive4Tablet:tr,SpacingResponsive5Mobile:nr,SpacingResponsive5Tablet:rr,SpacingResponsive6Mobile:ar,SpacingResponsive6Tablet:sr,SpacingResponsive7Mobile:or,SpacingResponsive7Tablet:ir,SpacingResponsive8Mobile:lr,SpacingResponsive8Tablet:cr,SpacingResponsive9Mobile:dr,SpacingResponsive9Tablet:ur,StateDisabledBackground:zc,StateDisabledBorder:Wc,StateDisabledText:Oc,StateErrorBackground:Dc,StateErrorBorder:Bc,StateErrorText:Fc,StateInfoBackground:Hc,StateInfoBorder:Pc,StateInfoText:Rc,StateSuccessBackground:Ic,StateSuccessBorder:Ec,StateSuccessText:Lc,StateWarningBackground:Mc,StateWarningBorder:Ac,StateWarningText:$c,TransitionButtonDefault:Bo,TransitionButtonShadow:Fo,TransitionCardHover:Eo,TransitionInputFocus:Io},Symbol.toStringTag,{value:"Module"})),Of=(e,t)=>({fontSize:e.mobile,marginBottom:t.mobile,"@media (min-width: 768px)":{fontSize:e.tablet,marginBottom:t.tablet},"@media print":{fontSize:e.print||e.tablet}}),Uf=({children:e,className:t="",style:r={}})=>n.jsx("h1",{className:t,style:{fontFamily:Je.fontFamily,fontWeight:Je.fontWeight,fontSize:Je.fontSize.mobile,lineHeight:Je.lineHeight,marginTop:Je.marginTop,marginBottom:Je.marginBottom.mobile,...r},children:e}),Gf=({children:e,className:t="",style:r={}})=>n.jsx("h2",{className:t,style:{fontFamily:Qe.fontFamily,fontWeight:Qe.fontWeight,fontSize:Qe.fontSize.mobile,lineHeight:Qe.lineHeight,marginTop:Qe.marginTop,marginBottom:Qe.marginBottom.mobile,...r},children:e}),Vf=({children:e,className:t="",style:r={}})=>n.jsx("h3",{className:t,style:{fontFamily:et.fontFamily,fontWeight:et.fontWeight,fontSize:et.fontSize.mobile,lineHeight:et.lineHeight,marginTop:et.marginTop,marginBottom:et.marginBottom.mobile,...r},children:e}),Yf=({children:e,className:t="",style:r={}})=>n.jsx("h4",{className:t,style:{fontFamily:tt.fontFamily,fontWeight:tt.fontWeight,fontSize:tt.fontSize.mobile,lineHeight:tt.lineHeight,marginTop:tt.marginTop,marginBottom:tt.marginBottom.mobile,...r},children:e}),qf=({children:e,className:t="",style:r={}})=>n.jsx("h5",{className:t,style:{fontFamily:nt.fontFamily,fontWeight:nt.fontWeight,fontSize:nt.fontSize.mobile,lineHeight:nt.lineHeight,marginTop:nt.marginTop,marginBottom:nt.marginBottom.mobile,...r},children:e}),Kf=({children:e,className:t="",style:r={}})=>n.jsx("p",{className:t,style:{fontFamily:rt.fontFamily,fontWeight:rt.fontWeight,fontSize:rt.fontSize.mobile,lineHeight:rt.lineHeight,marginTop:rt.marginTop,marginBottom:rt.marginBottom.mobile,...r},children:e}),Zf=({children:e,className:t="",style:r={}})=>n.jsx("p",{className:t,style:{fontFamily:at.fontFamily,fontWeight:at.fontWeight,fontSize:at.fontSize.mobile,lineHeight:at.lineHeight,marginTop:at.marginTop,marginBottom:at.marginBottom.mobile,...r},children:e}),Xf=({children:e,className:t="",style:r={}})=>n.jsx("p",{className:t,style:{fontFamily:st.fontFamily,fontWeight:st.fontWeight,fontSize:st.fontSize.mobile,lineHeight:st.lineHeight,marginTop:st.marginTop,marginBottom:st.marginBottom.mobile,...r},children:e}),Jf=({children:e,className:t="",style:r={}})=>n.jsx("p",{className:t,style:{fontFamily:ot.fontFamily,fontWeight:ot.fontWeight,fontSize:ot.fontSize.mobile,lineHeight:ot.lineHeight,marginTop:ot.marginTop,marginBottom:ot.marginBottom.mobile,...r},children:e}),Qf=({children:e,className:t="",style:r={}})=>n.jsx("p",{className:t,style:{fontFamily:it.fontFamily,fontWeight:it.fontWeight,fontSize:it.fontSize.mobile,lineHeight:it.lineHeight,marginTop:it.marginTop,marginBottom:it.marginBottom.mobile,...r},children:e}),em=()=>h.useMemo(()=>Wf,[]),tm=()=>h.useMemo(()=>({BorderColorDefault:ta,BorderColorForm:na,BorderColorCard:ra,BorderColorCardHover:aa,BorderColorError:sa,ColorPrimaryBlue:oa,ColorPrimaryWhite:ia,ColorPrimaryBlack:la,ColorPrimaryGreen:ca,ColorPrimaryPurple:da,ColorPrimaryDarkPink:ua,ColorPrimaryRed:ha,ColorPrimaryYellow:fa,ColorSecondaryPaleYellow:ma,ColorSecondaryWarmYellow:ga,ColorSecondaryOrange:pa,ColorSecondaryAquaGreen:ba,ColorSecondaryPink:ya,ColorGrey1:xa,ColorGrey2:va,ColorGrey3:_a,ColorGrey4:ka,ColorGrey5:Sa}),[]),nm=()=>h.useMemo(()=>({Spacing0:Ma,Spacing1:Aa,Spacing2:$a,Spacing3:Ha,Spacing4:Pa,Spacing5:Ra,Spacing6:za,Spacing7:Wa,Spacing8:Oa,Spacing9:Ua}),[]),rm=()=>h.useMemo(()=>({Mobile:{Size14:tn,Size16:an,Size19:ln,Size22:un,Size26:mn,Size36:bn,Size48:vn},Tablet:{Size14:nn,Size16:sn,Size19:cn,Size22:hn,Size26:gn,Size36:yn,Size48:_n},Print:{Size14:rn,Size16:on,Size19:dn,Size22:fn,Size26:pn,Size36:xn,Size48:kn},Family:{Base:Kt,Fallback:Zt,Print:Xt},Weight:{Normal:Jt,Bold:Qt,Light:en},Base:{Size:hr,LineHeight:fr},FontFamilyBase:Kt,FontFamilyFallback:Zt,FontFamilyPrint:Xt,FontWeightNormal:Jt,FontWeightBold:Qt,FontWeightLight:en,FontSize14Mobile:tn,FontSize14Tablet:nn,FontSize14Print:rn,FontSize16Mobile:an,FontSize16Tablet:sn,FontSize16Print:on,FontSize19Mobile:ln,FontSize19Tablet:cn,FontSize19Print:dn,FontSize22Mobile:un,FontSize22Tablet:hn,FontSize22Print:fn,FontSize26Mobile:mn,FontSize26Tablet:gn,FontSize26Print:pn,FontSize36Mobile:bn,FontSize36Tablet:yn,FontSize36Print:xn,FontSize48Mobile:vn,FontSize48Tablet:_n,FontSize48Print:kn,FontSizeBase:hr,FontLineHeightBase:fr}),[]),am=()=>h.useMemo(()=>({Mobile:{Size0:Vn,Size1:qn,Size2:Zn,Size3:Jn,Size4:er,Size5:nr,Size6:ar,Size7:or,Size8:lr,Size9:dr},Tablet:{Size0:Yn,Size1:Kn,Size2:Xn,Size3:Qn,Size4:tr,Size5:rr,Size6:sr,Size7:ir,Size8:cr,Size9:ur},SpacingResponsive0Mobile:Vn,SpacingResponsive0Tablet:Yn,SpacingResponsive1Mobile:qn,SpacingResponsive1Tablet:Kn,SpacingResponsive2Mobile:Zn,SpacingResponsive2Tablet:Xn,SpacingResponsive3Mobile:Jn,SpacingResponsive3Tablet:Qn,SpacingResponsive4Mobile:er,SpacingResponsive4Tablet:tr,SpacingResponsive5Mobile:nr,SpacingResponsive5Tablet:rr,SpacingResponsive6Mobile:ar,SpacingResponsive6Tablet:sr,SpacingResponsive7Mobile:or,SpacingResponsive7Tablet:ir,SpacingResponsive8Mobile:lr,SpacingResponsive8Tablet:cr,SpacingResponsive9Mobile:dr,SpacingResponsive9Tablet:ur}),[]),sm=()=>h.useMemo(()=>({ButtonSpacingPaddingVerticalMobile:wa,ButtonSpacingPaddingHorizontalMobile:Ca,ButtonSpacingPaddingVerticalDesktop:ja,ButtonSpacingPaddingHorizontalDesktop:Na,CardSpacingPaddingMobile:Ta,CardSpacingPaddingDesktop:Da,CardSpacingHeadingMargin:Ba,FormSpacingInputPadding:Fa,FormSpacingInputMinHeight:Ia,FormSpacingCheckboxSize:Ea,FormSpacingCheckboxLabelPadding:La}),[]),om=()=>h.useMemo(()=>({xl:Je,l:Qe,m:et,s:tt,xs:nt}),[]),im=()=>h.useMemo(()=>({body:rt,bodyLarge:at,bodySmall:st,ledeText:ot,ledeTextSmall:it}),[]),lm=()=>h.useMemo(()=>({headings:{xl:Je,l:Qe,m:et,s:tt,xs:nt},paragraphs:{body:rt,bodyLarge:at,bodySmall:st,ledeText:ot,ledeTextSmall:it},fonts:{family:{base:Kt,fallback:Zt,print:Xt},weight:{normal:Jt,bold:Qt,light:en},sizes:{mobile:{size14:tn,size16:an,size19:ln,size22:un,size26:mn,size36:bn,size48:vn},tablet:{size14:nn,size16:sn,size19:cn,size22:hn,size26:gn,size36:yn,size48:_n},print:{size14:rn,size16:on,size19:dn,size22:fn,size26:pn,size36:xn,size48:kn}}}}),[]);function cm(e={}){const{initialLayout:t=void 0,fallbackLayout:r="two-column"}=e,[a,i]=ce.useState(t),s=ce.useCallback(()=>i("three-column"),[]),l=ce.useCallback(()=>i(d=>d==="three-column"?r:d),[r]),c=ce.useCallback(()=>i(d=>d==="three-column"?r:"three-column"),[r]);return{forceLayout:a,setLayout:i,drillIn:s,drillOut:l,toggle:c,isDrilledIn:a==="three-column"}}const Ga={fontPath:"https://assets.nhs.uk/fonts/",includeFontFace:!0,useFallbacks:!0,fontWeights:[400,600]},Ue={normal:{woff2:"FrutigerLTW01-55Roman.woff2",woff:"FrutigerLTW01-55Roman.woff",ttf:"FrutigerLTW01-55Roman.ttf",eot:"FrutigerLTW01-55Roman.eot"},bold:{woff2:"FrutigerLTW01-65Bold.woff2",woff:"FrutigerLTW01-65Bold.woff",ttf:"FrutigerLTW01-65Bold.ttf",eot:"FrutigerLTW01-65Bold.eot"}};function dm(e={}){const{fontPath:t,fontWeights:r}={...Ga,...e},a=[];return r?.includes(400)&&a.push(`
>>>>>>> Stashed changes
@font-face {
  font-display: swap;
  font-family: "Frutiger W01";
  font-style: normal;
  font-weight: 400;
  src: url("${t}${Oe.normal.eot}?#iefix") format("eot"),
       url("${t}${Oe.normal.woff2}") format("woff2"),
       url("${t}${Oe.normal.woff}") format("woff"),
       url("${t}${Oe.normal.ttf}") format("truetype");
  src: url("${t}${Oe.normal.eot}");
}`),r?.includes(600)&&a.push(`
@font-face {
  font-display: swap;
  font-family: "Frutiger W01";
  font-style: normal;
  font-weight: 600;
  src: url("${t}${Oe.bold.eot}?#iefix") format("eot"),
       url("${t}${Oe.bold.woff2}") format("woff2"),
       url("${t}${Oe.bold.woff}") format("woff"),
       url("${t}${Oe.bold.ttf}") format("truetype");
  src: url("${t}${Oe.bold.eot}");
}`),a.join(`
<<<<<<< Updated upstream
`)}function bm(e={}){if(typeof document>"u")return;const{fontPath:t,fontWeights:r}={...Oa,...e};[...r?.includes(400)?[{href:`${t}${Oe.normal.woff2}`,as:"font",type:"font/woff2"},{href:`${t}${Oe.normal.woff}`,as:"font",type:"font/woff"}]:[],...r?.includes(600)?[{href:`${t}${Oe.bold.woff2}`,as:"font",type:"font/woff2"},{href:`${t}${Oe.bold.woff}`,as:"font",type:"font/woff"}]:[]].forEach(i=>{const s=document.createElement("link");s.rel="preload",s.href=i.href,s.as=i.as,s.type=i.type,s.crossOrigin="anonymous",document.head.appendChild(s)})}const ym='"Frutiger W01", Arial, Helvetica, sans-serif',xm="Arial, Helvetica, sans-serif";async function vm(){if(typeof document>"u"||!document.fonts)return!1;try{return await document.fonts.load('1em "Frutiger W01"'),document.fonts.check('1em "Frutiger W01"')}catch{return!1}}o.Account=rs,o.ActionLink=gd,o.AdaptiveDataGrid=Zr,o.AnimationDurationFast=So,o.AnimationDurationNormal=_o,o.AnimationDurationSlow=wo,o.AnimationEasingBounce=To,o.AnimationEasingEaseIn=Co,o.AnimationEasingEaseInOut=No,o.AnimationEasingEaseOut=jo,o.AppointmentCard=Yr,o.AriaDataGrid=no,o.AriaTabsDataGrid=Wn,o.AriaTabsDataGridAdaptive=Zr,o.BackLink=jn,o.BorderColorCard=ta,o.BorderColorCardHover=na,o.BorderColorDefault=Qr,o.BorderColorError=ra,o.BorderColorForm=ea,o.BorderRadiusLarge=Oo,o.BorderRadiusMedium=Wo,o.BorderRadiusNone=Ro,o.BorderRadiusSmall=zo,o.BorderWidthCardBottom=Ao,o.BorderWidthDefault=Eo,o.BorderWidthFormElement=Mo,o.BorderWidthFormElementError=Lo,o.BorderWidthPanel=$o,o.BorderWidthTableCell=Ho,o.BorderWidthTableHeader=Po,o.Breadcrumb=qs,o.BreakpointDesktop=_c,o.BreakpointLargeDesktop=wc,o.BreakpointMobile=kc,o.BreakpointTablet=Sc,o.Button=He,o.ButtonBorderRadius=yl,o.ButtonBorderWidth=bl,o.ButtonPrimaryBackgroundActive=sl,o.ButtonPrimaryBackgroundDefault=rl,o.ButtonPrimaryBackgroundDisabled=ol,o.ButtonPrimaryBackgroundHover=al,o.ButtonPrimaryBorderDefault=cl,o.ButtonPrimaryBorderFocus=dl,o.ButtonPrimaryTextDefault=il,o.ButtonPrimaryTextDisabled=ll,o.ButtonSecondaryBackgroundActive=ml,o.ButtonSecondaryBackgroundDefault=ul,o.ButtonSecondaryBackgroundHover=fl,o.ButtonSecondaryBackgroundSolid=hl,o.ButtonSecondaryBorderDefault=pl,o.ButtonSecondaryTextDefault=gl,o.ButtonShadowSize=xl,o.ButtonSpacingPaddingHorizontalDesktop=Ca,o.ButtonSpacingPaddingHorizontalMobile=_a,o.ButtonSpacingPaddingVerticalDesktop=wa,o.ButtonSpacingPaddingVerticalMobile=Sa,o.ButtonTypographyWeight=vl,o.Card=Or,o.CardBackgroundDefault=kl,o.CardBorderBottom=wl,o.CardBorderDefault=Sl,o.CardBorderHover=_l,o.CardBorderWidthBottom=Dl,o.CardBorderWidthDefault=Tl,o.CardGroup=Jh,o.CardGroupItem=Qh,o.CardShadowDefault=Bl,o.CardShadowHover=Fl,o.CardSpacingHeadingMargin=Ta,o.CardSpacingPaddingDesktop=Na,o.CardSpacingPaddingMobile=ja,o.CardTextDescription=jl,o.CardTextHeading=Cl,o.CardTextLink=Nl,o.CareCard=ef,o.CharacterCount=_d,o.Checkbox=as,o.Checkboxes=ss,o.ColorBorderDefault=ei,o.ColorBorderSecondary=ti,o.ColorButtonLoginActive=Ti,o.ColorButtonLoginBackground=ji,o.ColorButtonLoginHover=Ni,o.ColorButtonLoginShadow=Di,o.ColorButtonPrimaryActive=li,o.ColorButtonPrimaryBackground=si,o.ColorButtonPrimaryHover=ii,o.ColorButtonPrimaryShadow=ci,o.ColorButtonPrimaryText=oi,o.ColorButtonReverseActive=vi,o.ColorButtonReverseBackground=bi,o.ColorButtonReverseHover=xi,o.ColorButtonReverseShadow=ki,o.ColorButtonReverseText=yi,o.ColorButtonSecondaryActive=gi,o.ColorButtonSecondaryBackground=di,o.ColorButtonSecondaryBackgroundSolid=ui,o.ColorButtonSecondaryBorder=hi,o.ColorButtonSecondaryHover=mi,o.ColorButtonSecondaryShadow=pi,o.ColorButtonSecondaryText=fi,o.ColorButtonWarningActive=wi,o.ColorButtonWarningBackground=Si,o.ColorButtonWarningHover=_i,o.ColorButtonWarningShadow=Ci,o.ColorError=ni,o.ColorFocusBackground=Jo,o.ColorFocusText=Qo,o.ColorFormBackground=ai,o.ColorFormBorder=ri,o.ColorGrey1=ba,o.ColorGrey2=ya,o.ColorGrey3=xa,o.ColorGrey4=va,o.ColorGrey5=ka,o.ColorLinkActive=Zo,o.ColorLinkDefault=qo,o.ColorLinkHover=Ko,o.ColorLinkVisited=Xo,o.ColorPrimaryBlack=oa,o.ColorPrimaryBlue=aa,o.ColorPrimaryDarkPink=ca,o.ColorPrimaryGreen=ia,o.ColorPrimaryPurple=la,o.ColorPrimaryRed=da,o.ColorPrimaryWhite=sa,o.ColorPrimaryYellow=ua,o.ColorSecondaryAquaGreen=ga,o.ColorSecondaryOrange=ma,o.ColorSecondaryPaleYellow=ha,o.ColorSecondaryPink=pa,o.ColorSecondaryWarmYellow=fa,o.ColorTextPrimary=Uo,o.ColorTextPrint=Yo,o.ColorTextReverse=Vo,o.ColorTextSecondary=Go,o.Column=Nt,o.ComponentBlur=Ji,o.ComponentBreadcrumbChevronMarginLeft=Ui,o.ComponentBreadcrumbChevronMarginRight=Gi,o.ComponentBreadcrumbPaddingTopDesktop=Yi,o.ComponentBreadcrumbPaddingTopMobile=Vi,o.ComponentButtonPaddingDesktopHorizontal=Ei,o.ComponentButtonPaddingDesktopVertical=Ii,o.ComponentButtonPaddingMobileHorizontal=Fi,o.ComponentButtonPaddingMobileVertical=Bi,o.ComponentButtonShadowSize=Mi,o.ComponentCardHeadingMargin=zi,o.ComponentCardPaddingDesktop=Ri,o.ComponentCardPaddingMobile=Hi,o.ComponentDetails=el,o.ComponentExpander=tl,o.ComponentFormCheckboxLabelPadding=Pi,o.ComponentFormCheckboxSize=$i,o.ComponentFormInputMinHeight=Li,o.ComponentFormInputPadding=Ai,o.ComponentLink=Qi,o.ComponentPagination=nl,o.ComponentPanelPaddingDesktop=Oi,o.ComponentPanelPaddingMobile=Wi,o.ComponentSpread=Xi,o.ComponentSummaryListCellPaddingHorizontal=Ki,o.ComponentSummaryListCellPaddingVertical=qi,o.ComponentSummaryListRowMargin=Zi,o.Container=yr,o.ContentsList=Xh,o.DEFAULT_FONT_CONFIG=Oa,o.DashboardSummaryGrid=ff,o.DateInput=$d,o.Details=Zs,o.DoDontList=Xs,o.ElevationHigh=rd,o.ElevationLow=td,o.ElevationMedium=nd,o.ElevationNone=ed,o.ErrorMessage=vr,o.ErrorSummary=Ad,o.Expander=Js,o.FRUTIGER_FONT_FILES=Oe,o.Fieldset=Dn,o.FocusOutlineOffset=Zc,o.FocusOutlineStyle=Xc,o.FocusOutlineWidth=Kc,o.FocusShadowButton=Qc,o.FocusShadowInput=Jc,o.FontFamilyBase=Kt,o.FontFamilyFallback=Zt,o.FontFamilyPrint=Xt,o.FontLineHeightBase=hr,o.FontSize14Mobile=tn,o.FontSize14Print=rn,o.FontSize14Tablet=nn,o.FontSize16Mobile=an,o.FontSize16Print=on,o.FontSize16Tablet=sn,o.FontSize19Mobile=ln,o.FontSize19Print=dn,o.FontSize19Tablet=cn,o.FontSize22Mobile=un,o.FontSize22Print=fn,o.FontSize22Tablet=hn,o.FontSize26Mobile=mn,o.FontSize26Print=pn,o.FontSize26Tablet=gn,o.FontSize36Mobile=bn,o.FontSize36Print=xn,o.FontSize36Tablet=yn,o.FontSize48Mobile=vn,o.FontSize48Print=Sn,o.FontSize48Tablet=kn,o.FontSizeBase=ur,o.FontWeightBold=Qt,o.FontWeightLight=en,o.FontWeightNormal=Jt,o.Footer=Sr,o.FormBorderRadius=Xl,o.FormBorderWidthDefault=Kl,o.FormBorderWidthError=Zl,o.FormErrorTextDefault=Vl,o.FormErrorTypographyWeight=Yl,o.FormHintTextDefault=ql,o.FormInputBackgroundDefault=Il,o.FormInputBackgroundDisabled=Ml,o.FormInputBackgroundError=Ll,o.FormInputBackgroundFocus=El,o.FormInputBorderDefault=Al,o.FormInputBorderDisabled=Hl,o.FormInputBorderError=Pl,o.FormInputBorderFocus=$l,o.FormInputTextDefault=Rl,o.FormInputTextDisabled=Wl,o.FormInputTextPlaceholder=zl,o.FormLabelTextDefault=Ol,o.FormLabelTextRequired=Ul,o.FormLabelTypographyWeight=Gl,o.FormSpacingCheckboxLabelPadding=Ia,o.FormSpacingCheckboxSize=Fa,o.FormSpacingInputMinHeight=Ba,o.FormSpacingInputPadding=Da,o.GanttChart=Kh,o.Grid=Bn,o.GridGutter=jc,o.GridGutterHalf=Nc,o.GridPageWidth=Cc,o.Header=kr,o.HeaderSearch=hs,o.Heading=Ze,o.HeadingsNhsukHeadingL=Qe,o.HeadingsNhsukHeadingM=et,o.HeadingsNhsukHeadingS=tt,o.HeadingsNhsukHeadingXl=Je,o.HeadingsNhsukHeadingXs=nt,o.Hero=fs,o.Hint=br,o.Images=lf,o.Input=Nn,o.InsetText=tf,o.Label=Tn,o.LayoutColumnActions=vc,o.LayoutColumnFull=pc,o.LayoutColumnHalf=bc,o.LayoutColumnQuarter=xc,o.LayoutColumnThird=yc,o.LayoutContainerMaxWidth=gc,o.List=cs,o.MainWrapper=xr,o.MedicationCard=qr,o.NHSBodyText=tm,o.NHSBodyTextLarge=nm,o.NHSBodyTextSmall=rm,o.NHSHeading1=Zf,o.NHSHeading2=Xf,o.NHSHeading3=Jf,o.NHSHeading4=Qf,o.NHSHeading5=em,o.NHSLedeText=am,o.NHSLedeTextSmall=sm,o.NHSThemeProvider=Wd,o.NHS_FALLBACK_FONT_STACK=xm,o.NHS_FONT_STACK=ym,o.NavigationSplitView=ko,o.PageTemplate=Of,o.Pagination=Zh,o.Panel=Ks,o.ParagraphsBody=rt,o.ParagraphsBodyLarge=at,o.ParagraphsBodySmall=st,o.ParagraphsLedeText=ot,o.ParagraphsLedeTextSmall=it,o.PatientCard=Vr,o.Radios=wd,o.RadiosServer=Cd,o.ResponsiveDataGrid=Zr,o.ResponsiveDataGridDemo=Wf,o.Row=yt,o.Select=Ht,o.SelectOption=is,o.ShadowButtonDefault=Oc,o.ShadowButtonFocus=Vc,o.ShadowButtonSecondary=Uc,o.ShadowButtonWarning=Gc,o.ShadowCardDefault=Yc,o.ShadowCardHover=qc,o.SizeButtonMinHeightDesktop=mc,o.SizeButtonMinHeightMobile=fc,o.SizeFormControlLarge=sc,o.SizeFormControlMedium=ac,o.SizeFormControlSmall=rc,o.SizeFormInputWidth2xl=uc,o.SizeFormInputWidth3xl=hc,o.SizeFormInputWidthLg=cc,o.SizeFormInputWidthMd=lc,o.SizeFormInputWidthSm=ic,o.SizeFormInputWidthXl=dc,o.SizeFormInputWidthXs=oc,o.SizeIconExtraLarge=tc,o.SizeIconLarge=ec,o.SizeIconMedium=Ql,o.SizeIconNhsDefault=nc,o.SizeIconSmall=Jl,o.SkipLink=Wr,o.SlotMatrix=hf,o.SortStatusControl=xf,o.Spacing0=Ea,o.Spacing1=Ma,o.Spacing2=La,o.Spacing3=Aa,o.Spacing4=$a,o.Spacing5=Pa,o.Spacing6=Ha,o.Spacing7=Ra,o.Spacing8=za,o.Spacing9=Wa,o.SpacingResponsive0Mobile=Gn,o.SpacingResponsive0Tablet=Vn,o.SpacingResponsive1Mobile=Yn,o.SpacingResponsive1Tablet=qn,o.SpacingResponsive2Mobile=Kn,o.SpacingResponsive2Tablet=Zn,o.SpacingResponsive3Mobile=Xn,o.SpacingResponsive3Tablet=Jn,o.SpacingResponsive4Mobile=Qn,o.SpacingResponsive4Tablet=er,o.SpacingResponsive5Mobile=tr,o.SpacingResponsive5Tablet=nr,o.SpacingResponsive6Mobile=rr,o.SpacingResponsive6Tablet=ar,o.SpacingResponsive7Mobile=sr,o.SpacingResponsive7Tablet=or,o.SpacingResponsive8Mobile=ir,o.SpacingResponsive8Tablet=lr,o.SpacingResponsive9Mobile=cr,o.SpacingResponsive9Tablet=dr,o.SpacingUtilities=Td,o.StateDisabledBackground=Rc,o.StateDisabledBorder=zc,o.StateDisabledText=Wc,o.StateErrorBackground=Tc,o.StateErrorBorder=Dc,o.StateErrorText=Bc,o.StateInfoBackground=$c,o.StateInfoBorder=Pc,o.StateInfoText=Hc,o.StateSuccessBackground=Fc,o.StateSuccessBorder=Ic,o.StateSuccessText=Ec,o.StateWarningBackground=Mc,o.StateWarningBorder=Lc,o.StateWarningText=Ac,o.SummaryCard=to,o.SummaryList=nf,o.Table=rf,o.Tabs=af,o.Tag=qe,o.TaskList=Qs,o.Textarea=os,o.TransactionalPageTemplate=Uf,o.TransitionButtonDefault=Do,o.TransitionButtonShadow=Bo,o.TransitionCardHover=Io,o.TransitionInputFocus=Fo,o.VitalsCard=Kr,o.WIDTH_FRACTIONS=Id,o.WarningCallout=of,o.WidthContainer=Xr,o.WidthUtilities=Bd,o.checkFrutigerLoaded=vm,o.createGenericTabsConfig=Un,o.createTCHTabsConfig=Cf,o.generateFrutigerFontFace=pm,o.getResponsiveStyles=Kf,o.getSpacingClass=Dd,o.getWidthClass=Fd,o.preloadFrutigerFonts=bm,o.tchDataConfig=ao,o.useColors=im,o.useComponentSpacing=um,o.useNHSHeadings=hm,o.useNHSParagraphs=fm,o.useNHSTheme=Hd,o.useNHSTypographySystem=mm,o.useNavigationSplitDrill=gm,o.useNavigationSplitUrlSync=vo,o.useNhsFdpBreakpoints=Jr,o.useResponsiveSpacing=dm,o.useResponsiveValue=Gf,o.useSpacing=lm,o.useTokens=om,o.useTypography=cm,Object.defineProperty(o,Symbol.toStringTag,{value:"Module"})}));
=======
`)}function um(e={}){if(typeof document>"u")return;const{fontPath:t,fontWeights:r}={...Ga,...e};[...r?.includes(400)?[{href:`${t}${Ue.normal.woff2}`,as:"font",type:"font/woff2"},{href:`${t}${Ue.normal.woff}`,as:"font",type:"font/woff"}]:[],...r?.includes(600)?[{href:`${t}${Ue.bold.woff2}`,as:"font",type:"font/woff2"},{href:`${t}${Ue.bold.woff}`,as:"font",type:"font/woff"}]:[]].forEach(i=>{const s=document.createElement("link");s.rel="preload",s.href=i.href,s.as=i.as,s.type=i.type,s.crossOrigin="anonymous",document.head.appendChild(s)})}const hm='"Frutiger W01", Arial, Helvetica, sans-serif',fm="Arial, Helvetica, sans-serif";async function mm(){if(typeof document>"u"||!document.fonts)return!1;try{return await document.fonts.load('1em "Frutiger W01"'),document.fonts.check('1em "Frutiger W01"')}catch{return!1}}o.Account=jn,o.ActionLink=pd,o.AdaptiveDataGrid=Jr,o.AnimationDurationFast=So,o.AnimationDurationNormal=wo,o.AnimationDurationSlow=Co,o.AnimationEasingBounce=Do,o.AnimationEasingEaseIn=jo,o.AnimationEasingEaseInOut=To,o.AnimationEasingEaseOut=No,o.AppointmentCard=Kr,o.AriaDataGrid=to,o.AriaTabsDataGrid=On,o.AriaTabsDataGridAdaptive=Jr,o.BackLink=Nn,o.BorderColorCard=ra,o.BorderColorCardHover=aa,o.BorderColorDefault=ta,o.BorderColorError=sa,o.BorderColorForm=na,o.BorderRadiusLarge=Uo,o.BorderRadiusMedium=Oo,o.BorderRadiusNone=zo,o.BorderRadiusSmall=Wo,o.BorderWidthCardBottom=$o,o.BorderWidthDefault=Lo,o.BorderWidthFormElement=Mo,o.BorderWidthFormElementError=Ao,o.BorderWidthPanel=Ho,o.BorderWidthTableCell=Ro,o.BorderWidthTableHeader=Po,o.Breadcrumb=Ys,o.BreakpointDesktop=wc,o.BreakpointLargeDesktop=Cc,o.BreakpointMobile=kc,o.BreakpointTablet=Sc,o.Button=Re,o.ButtonBorderRadius=xl,o.ButtonBorderWidth=yl,o.ButtonPrimaryBackgroundActive=ol,o.ButtonPrimaryBackgroundDefault=al,o.ButtonPrimaryBackgroundDisabled=il,o.ButtonPrimaryBackgroundHover=sl,o.ButtonPrimaryBorderDefault=dl,o.ButtonPrimaryBorderFocus=ul,o.ButtonPrimaryTextDefault=ll,o.ButtonPrimaryTextDisabled=cl,o.ButtonSecondaryBackgroundActive=gl,o.ButtonSecondaryBackgroundDefault=hl,o.ButtonSecondaryBackgroundHover=ml,o.ButtonSecondaryBackgroundSolid=fl,o.ButtonSecondaryBorderDefault=bl,o.ButtonSecondaryTextDefault=pl,o.ButtonShadowSize=vl,o.ButtonSpacingPaddingHorizontalDesktop=Na,o.ButtonSpacingPaddingHorizontalMobile=Ca,o.ButtonSpacingPaddingVerticalDesktop=ja,o.ButtonSpacingPaddingVerticalMobile=wa,o.ButtonTypographyWeight=_l,o.Card=Gr,o.CardBackgroundDefault=kl,o.CardBorderBottom=Cl,o.CardBorderDefault=Sl,o.CardBorderHover=wl,o.CardBorderWidthBottom=Bl,o.CardBorderWidthDefault=Dl,o.CardGroup=Gh,o.CardGroupItem=Vh,o.CardShadowDefault=Fl,o.CardShadowHover=Il,o.CardSpacingHeadingMargin=Ba,o.CardSpacingPaddingDesktop=Da,o.CardSpacingPaddingMobile=Ta,o.CardTextDescription=Nl,o.CardTextHeading=jl,o.CardTextLink=Tl,o.CareCard=Yh,o.CharacterCount=xd,o.Checkbox=ss,o.Checkboxes=os,o.ColorBorderDefault=ti,o.ColorBorderSecondary=ni,o.ColorButtonLoginActive=Di,o.ColorButtonLoginBackground=Ni,o.ColorButtonLoginHover=Ti,o.ColorButtonLoginShadow=Bi,o.ColorButtonPrimaryActive=ci,o.ColorButtonPrimaryBackground=oi,o.ColorButtonPrimaryHover=li,o.ColorButtonPrimaryShadow=di,o.ColorButtonPrimaryText=ii,o.ColorButtonReverseActive=_i,o.ColorButtonReverseBackground=yi,o.ColorButtonReverseHover=vi,o.ColorButtonReverseShadow=ki,o.ColorButtonReverseText=xi,o.ColorButtonSecondaryActive=pi,o.ColorButtonSecondaryBackground=ui,o.ColorButtonSecondaryBackgroundSolid=hi,o.ColorButtonSecondaryBorder=fi,o.ColorButtonSecondaryHover=gi,o.ColorButtonSecondaryShadow=bi,o.ColorButtonSecondaryText=mi,o.ColorButtonWarningActive=Ci,o.ColorButtonWarningBackground=Si,o.ColorButtonWarningHover=wi,o.ColorButtonWarningShadow=ji,o.ColorError=ri,o.ColorFocusBackground=Qo,o.ColorFocusText=ei,o.ColorFormBackground=si,o.ColorFormBorder=ai,o.ColorGrey1=xa,o.ColorGrey2=va,o.ColorGrey3=_a,o.ColorGrey4=ka,o.ColorGrey5=Sa,o.ColorLinkActive=Xo,o.ColorLinkDefault=Ko,o.ColorLinkHover=Zo,o.ColorLinkVisited=Jo,o.ColorPrimaryBlack=la,o.ColorPrimaryBlue=oa,o.ColorPrimaryDarkPink=ua,o.ColorPrimaryGreen=ca,o.ColorPrimaryPurple=da,o.ColorPrimaryRed=ha,o.ColorPrimaryWhite=ia,o.ColorPrimaryYellow=fa,o.ColorSecondaryAquaGreen=ba,o.ColorSecondaryOrange=pa,o.ColorSecondaryPaleYellow=ma,o.ColorSecondaryPink=ya,o.ColorSecondaryWarmYellow=ga,o.ColorTextPrimary=Go,o.ColorTextPrint=qo,o.ColorTextReverse=Yo,o.ColorTextSecondary=Vo,o.Column=Nt,o.ComponentBlur=Qi,o.ComponentBreadcrumbChevronMarginLeft=Gi,o.ComponentBreadcrumbChevronMarginRight=Vi,o.ComponentBreadcrumbPaddingTopDesktop=qi,o.ComponentBreadcrumbPaddingTopMobile=Yi,o.ComponentButtonPaddingDesktopHorizontal=Li,o.ComponentButtonPaddingDesktopVertical=Ei,o.ComponentButtonPaddingMobileHorizontal=Ii,o.ComponentButtonPaddingMobileVertical=Fi,o.ComponentButtonShadowSize=Mi,o.ComponentCardHeadingMargin=Wi,o.ComponentCardPaddingDesktop=zi,o.ComponentCardPaddingMobile=Ri,o.ComponentDetails=tl,o.ComponentExpander=nl,o.ComponentFormCheckboxLabelPadding=Pi,o.ComponentFormCheckboxSize=Hi,o.ComponentFormInputMinHeight=Ai,o.ComponentFormInputPadding=$i,o.ComponentLink=el,o.ComponentPagination=rl,o.ComponentPanelPaddingDesktop=Ui,o.ComponentPanelPaddingMobile=Oi,o.ComponentSpread=Ji,o.ComponentSummaryListCellPaddingHorizontal=Zi,o.ComponentSummaryListCellPaddingVertical=Ki,o.ComponentSummaryListRowMargin=Xi,o.Container=xr,o.ContentsList=Uh,o.DEFAULT_FONT_CONFIG=Ga,o.DashboardSummaryGrid=sf,o.DateInput=Dd,o.Details=Ks,o.DoDontList=Zs,o.ElevationHigh=ad,o.ElevationLow=nd,o.ElevationMedium=rd,o.ElevationNone=td,o.ErrorMessage=_r,o.ErrorSummary=Td,o.Expander=Xs,o.FRUTIGER_FONT_FILES=Ue,o.Fieldset=Bn,o.FocusOutlineOffset=Xc,o.FocusOutlineStyle=Jc,o.FocusOutlineWidth=Zc,o.FocusShadowButton=ed,o.FocusShadowInput=Qc,o.FontFamilyBase=Kt,o.FontFamilyFallback=Zt,o.FontFamilyPrint=Xt,o.FontLineHeightBase=fr,o.FontSize14Mobile=tn,o.FontSize14Print=rn,o.FontSize14Tablet=nn,o.FontSize16Mobile=an,o.FontSize16Print=on,o.FontSize16Tablet=sn,o.FontSize19Mobile=ln,o.FontSize19Print=dn,o.FontSize19Tablet=cn,o.FontSize22Mobile=un,o.FontSize22Print=fn,o.FontSize22Tablet=hn,o.FontSize26Mobile=mn,o.FontSize26Print=pn,o.FontSize26Tablet=gn,o.FontSize36Mobile=bn,o.FontSize36Print=xn,o.FontSize36Tablet=yn,o.FontSize48Mobile=vn,o.FontSize48Print=kn,o.FontSize48Tablet=_n,o.FontSizeBase=hr,o.FontWeightBold=Qt,o.FontWeightLight=en,o.FontWeightNormal=Jt,o.Footer=wr,o.FormBorderRadius=Jl,o.FormBorderWidthDefault=Zl,o.FormBorderWidthError=Xl,o.FormErrorTextDefault=Yl,o.FormErrorTypographyWeight=ql,o.FormHintTextDefault=Kl,o.FormInputBackgroundDefault=El,o.FormInputBackgroundDisabled=Ml,o.FormInputBackgroundError=Al,o.FormInputBackgroundFocus=Ll,o.FormInputBorderDefault=$l,o.FormInputBorderDisabled=Rl,o.FormInputBorderError=Pl,o.FormInputBorderFocus=Hl,o.FormInputTextDefault=zl,o.FormInputTextDisabled=Ol,o.FormInputTextPlaceholder=Wl,o.FormLabelTextDefault=Ul,o.FormLabelTextRequired=Gl,o.FormLabelTypographyWeight=Vl,o.FormSpacingCheckboxLabelPadding=La,o.FormSpacingCheckboxSize=Ea,o.FormSpacingInputMinHeight=Ia,o.FormSpacingInputPadding=Fa,o.GanttChart=Wh,o.Grid=Fn,o.GridGutter=Nc,o.GridGutterHalf=Tc,o.GridPageWidth=jc,o.Header=Sr,o.HeaderSSR=Md,o.HeaderSearch=kr,o.HeaderStatic=Ad,o.Heading=Ze,o.HeadingsNhsukHeadingL=Qe,o.HeadingsNhsukHeadingM=et,o.HeadingsNhsukHeadingS=tt,o.HeadingsNhsukHeadingXl=Je,o.HeadingsNhsukHeadingXs=nt,o.Hero=hs,o.Hint=yr,o.Images=ef,o.Input=Tn,o.InsetText=qh,o.Label=Dn,o.LayoutColumnActions=_c,o.LayoutColumnFull=bc,o.LayoutColumnHalf=yc,o.LayoutColumnQuarter=vc,o.LayoutColumnThird=xc,o.LayoutContainerMaxWidth=pc,o.List=cs,o.MainWrapper=vr,o.MedicationCard=Zr,o.NHSBodyText=Kf,o.NHSBodyTextLarge=Zf,o.NHSBodyTextSmall=Xf,o.NHSHeading1=Uf,o.NHSHeading2=Gf,o.NHSHeading3=Vf,o.NHSHeading4=Yf,o.NHSHeading5=qf,o.NHSLedeText=Jf,o.NHSLedeTextSmall=Qf,o.NHSThemeProvider=Ld,o.NHS_FALLBACK_FONT_STACK=fm,o.NHS_FONT_STACK=hm,o.NavigationSplitView=vo,o.PageTemplate=Af,o.Pagination=Oh,o.Panel=qs,o.ParagraphsBody=rt,o.ParagraphsBodyLarge=at,o.ParagraphsBodySmall=st,o.ParagraphsLedeText=ot,o.ParagraphsLedeTextSmall=it,o.PatientCard=qr,o.ProductRoadmap=ko,o.Radios=vd,o.ResponsiveDataGrid=Jr,o.ResponsiveDataGridDemo=Mf,o.Row=yt,o.Select=Pt,o.SelectOption=ls,o.ShadowButtonDefault=Uc,o.ShadowButtonFocus=Yc,o.ShadowButtonSecondary=Gc,o.ShadowButtonWarning=Vc,o.ShadowCardDefault=qc,o.ShadowCardHover=Kc,o.SizeButtonMinHeightDesktop=gc,o.SizeButtonMinHeightMobile=mc,o.SizeFormControlLarge=oc,o.SizeFormControlMedium=sc,o.SizeFormControlSmall=ac,o.SizeFormInputWidth2xl=hc,o.SizeFormInputWidth3xl=fc,o.SizeFormInputWidthLg=dc,o.SizeFormInputWidthMd=cc,o.SizeFormInputWidthSm=lc,o.SizeFormInputWidthXl=uc,o.SizeFormInputWidthXs=ic,o.SizeIconExtraLarge=nc,o.SizeIconLarge=tc,o.SizeIconMedium=ec,o.SizeIconNhsDefault=rc,o.SizeIconSmall=Ql,o.SkipLink=Ur,o.SlotMatrix=af,o.SortStatusControl=hf,o.Spacing0=Ma,o.Spacing1=Aa,o.Spacing2=$a,o.Spacing3=Ha,o.Spacing4=Pa,o.Spacing5=Ra,o.Spacing6=za,o.Spacing7=Wa,o.Spacing8=Oa,o.Spacing9=Ua,o.SpacingResponsive0Mobile=Vn,o.SpacingResponsive0Tablet=Yn,o.SpacingResponsive1Mobile=qn,o.SpacingResponsive1Tablet=Kn,o.SpacingResponsive2Mobile=Zn,o.SpacingResponsive2Tablet=Xn,o.SpacingResponsive3Mobile=Jn,o.SpacingResponsive3Tablet=Qn,o.SpacingResponsive4Mobile=er,o.SpacingResponsive4Tablet=tr,o.SpacingResponsive5Mobile=nr,o.SpacingResponsive5Tablet=rr,o.SpacingResponsive6Mobile=ar,o.SpacingResponsive6Tablet=sr,o.SpacingResponsive7Mobile=or,o.SpacingResponsive7Tablet=ir,o.SpacingResponsive8Mobile=lr,o.SpacingResponsive8Tablet=cr,o.SpacingResponsive9Mobile=dr,o.SpacingResponsive9Tablet=ur,o.SpacingUtilities=Sd,o.StateDisabledBackground=zc,o.StateDisabledBorder=Wc,o.StateDisabledText=Oc,o.StateErrorBackground=Dc,o.StateErrorBorder=Bc,o.StateErrorText=Fc,o.StateInfoBackground=Hc,o.StateInfoBorder=Pc,o.StateInfoText=Rc,o.StateSuccessBackground=Ic,o.StateSuccessBorder=Ec,o.StateSuccessText=Lc,o.StateWarningBackground=Mc,o.StateWarningBorder=Ac,o.StateWarningText=$c,o.SummaryCard=eo,o.SummaryList=Kh,o.Table=Zh,o.Tabs=Xh,o.Tag=qe,o.TaskList=Js,o.Textarea=is,o.TransactionalPageTemplate=$f,o.TransitionButtonDefault=Bo,o.TransitionButtonShadow=Fo,o.TransitionCardHover=Eo,o.TransitionInputFocus=Io,o.VitalsCard=Xr,o.WIDTH_FRACTIONS=Nd,o.WarningCallout=Qh,o.WidthContainer=Qr,o.WidthUtilities=Cd,o.checkFrutigerLoaded=mm,o.createGenericTabsConfig=Gn,o.createTCHTabsConfig=yf,o.generateFrutigerFontFace=dm,o.getResponsiveStyles=Of,o.getSpacingClass=wd,o.getWidthClass=jd,o.preloadFrutigerFonts=um,o.tchDataConfig=ro,o.useColors=tm,o.useComponentSpacing=sm,o.useNHSHeadings=om,o.useNHSParagraphs=im,o.useNHSTheme=Fd,o.useNHSTypographySystem=lm,o.useNavigationSplitDrill=cm,o.useNavigationSplitUrlSync=xo,o.useNhsFdpBreakpoints=ea,o.useResponsiveSpacing=am,o.useResponsiveValue=Hf,o.useSpacing=nm,o.useTokens=em,o.useTypography=rm,Object.defineProperty(o,Symbol.toStringTag,{value:"Module"})}));
>>>>>>> Stashed changes
//# sourceMappingURL=index.umd.js.map
