(function(S,$){typeof exports=="object"&&typeof module<"u"?$(exports,require("react"),require("react-dom")):typeof define=="function"&&define.amd?define(["exports","react","react-dom"],$):(S=typeof globalThis<"u"?globalThis:S||self,$(S.NHSFDPDesignSystem={},S.React,S.ReactDOM))})(this,(function(S,$,sv){"use strict";function av(t){const e=Object.create(null,{[Symbol.toStringTag]:{value:"Module"}});if(t){for(const n in t)if(n!=="default"){const r=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(e,n,r.get?r:{enumerable:!0,get:()=>t[n]})}}return e.default=t,Object.freeze(e)}const X=av($);function lv(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Ys={exports:{}},mo={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hf;function cv(){if(hf)return mo;hf=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(r,i,o){var s=null;if(o!==void 0&&(s=""+o),i.key!==void 0&&(s=""+i.key),"key"in i){o={};for(var l in i)l!=="key"&&(o[l]=i[l])}else o=i;return i=o.ref,{$$typeof:t,type:r,key:s,ref:i!==void 0?i:null,props:o}}return mo.Fragment=e,mo.jsx=n,mo.jsxs=n,mo}var go={};/**
 * @license React
 * react-jsx-runtime.development.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pf;function uv(){return pf||(pf=1,process.env.NODE_ENV!=="production"&&(function(){function t(D){if(D==null)return null;if(typeof D=="function")return D.$$typeof===_?null:D.displayName||D.name||null;if(typeof D=="string")return D;switch(D){case m:return"Fragment";case N:return"Profiler";case g:return"StrictMode";case v:return"Suspense";case C:return"SuspenseList";case b:return"Activity"}if(typeof D=="object")switch(typeof D.tag=="number"&&console.error("Received an unexpected object in getComponentNameFromType(). This is likely a bug in React. Please file an issue."),D.$$typeof){case y:return"Portal";case T:return(D.displayName||"Context")+".Provider";case M:return(D._context.displayName||"Context")+".Consumer";case x:var Q=D.render;return D=D.displayName,D||(D=Q.displayName||Q.name||"",D=D!==""?"ForwardRef("+D+")":"ForwardRef"),D;case w:return Q=D.displayName||null,Q!==null?Q:t(D.type)||"Memo";case k:Q=D._payload,D=D._init;try{return t(D(Q))}catch{}}return null}function e(D){return""+D}function n(D){try{e(D);var Q=!1}catch{Q=!0}if(Q){Q=console;var Z=Q.error,re=typeof Symbol=="function"&&Symbol.toStringTag&&D[Symbol.toStringTag]||D.constructor.name||"Object";return Z.call(Q,"The provided key is an unsupported type %s. This value must be coerced to a string before using it here.",re),e(D)}}function r(D){if(D===m)return"<>";if(typeof D=="object"&&D!==null&&D.$$typeof===k)return"<...>";try{var Q=t(D);return Q?"<"+Q+">":"<...>"}catch{return"<...>"}}function i(){var D=I.A;return D===null?null:D.getOwner()}function o(){return Error("react-stack-top-frame")}function s(D){if(j.call(D,"key")){var Q=Object.getOwnPropertyDescriptor(D,"key").get;if(Q&&Q.isReactWarning)return!1}return D.key!==void 0}function l(D,Q){function Z(){A||(A=!0,console.error("%s: `key` is not a prop. Trying to access it will result in `undefined` being returned. If you need to access the same value within the child component, you should pass it as a different prop. (https://react.dev/link/special-props)",Q))}Z.isReactWarning=!0,Object.defineProperty(D,"key",{get:Z,configurable:!0})}function c(){var D=t(this.type);return P[D]||(P[D]=!0,console.error("Accessing element.ref was removed in React 19. ref is now a regular prop. It will be removed from the JSX Element type in a future release.")),D=this.props.ref,D!==void 0?D:null}function u(D,Q,Z,re,J,ee,de,te){return Z=ee.ref,D={$$typeof:h,type:D,key:Q,props:ee,_owner:J},(Z!==void 0?Z:null)!==null?Object.defineProperty(D,"ref",{enumerable:!1,get:c}):Object.defineProperty(D,"ref",{enumerable:!1,value:null}),D._store={},Object.defineProperty(D._store,"validated",{configurable:!1,enumerable:!1,writable:!0,value:0}),Object.defineProperty(D,"_debugInfo",{configurable:!1,enumerable:!1,writable:!0,value:null}),Object.defineProperty(D,"_debugStack",{configurable:!1,enumerable:!1,writable:!0,value:de}),Object.defineProperty(D,"_debugTask",{configurable:!1,enumerable:!1,writable:!0,value:te}),Object.freeze&&(Object.freeze(D.props),Object.freeze(D)),D}function d(D,Q,Z,re,J,ee,de,te){var ie=Q.children;if(ie!==void 0)if(re)if(E(ie)){for(re=0;re<ie.length;re++)f(ie[re]);Object.freeze&&Object.freeze(ie)}else console.error("React.jsx: Static children should always be an array. You are likely explicitly calling React.jsxs or React.jsxDEV. Use the Babel transform instead.");else f(ie);if(j.call(Q,"key")){ie=t(D);var K=Object.keys(Q).filter(function(me){return me!=="key"});re=0<K.length?"{key: someKey, "+K.join(": ..., ")+": ...}":"{key: someKey}",G[ie+re]||(K=0<K.length?"{"+K.join(": ..., ")+": ...}":"{}",console.error(`A props object containing a "key" prop is being spread into JSX:
  let props = %s;
  <%s {...props} />
React keys must be passed directly to JSX without using spread:
  let props = %s;
  <%s key={someKey} {...props} />`,re,ie,K,ie),G[ie+re]=!0)}if(ie=null,Z!==void 0&&(n(Z),ie=""+Z),s(Q)&&(n(Q.key),ie=""+Q.key),"key"in Q){Z={};for(var ae in Q)ae!=="key"&&(Z[ae]=Q[ae])}else Z=Q;return ie&&l(Z,typeof D=="function"?D.displayName||D.name||"Unknown":D),u(D,ie,ee,J,i(),Z,de,te)}function f(D){typeof D=="object"&&D!==null&&D.$$typeof===h&&D._store&&(D._store.validated=1)}var p=$,h=Symbol.for("react.transitional.element"),y=Symbol.for("react.portal"),m=Symbol.for("react.fragment"),g=Symbol.for("react.strict_mode"),N=Symbol.for("react.profiler"),M=Symbol.for("react.consumer"),T=Symbol.for("react.context"),x=Symbol.for("react.forward_ref"),v=Symbol.for("react.suspense"),C=Symbol.for("react.suspense_list"),w=Symbol.for("react.memo"),k=Symbol.for("react.lazy"),b=Symbol.for("react.activity"),_=Symbol.for("react.client.reference"),I=p.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,j=Object.prototype.hasOwnProperty,E=Array.isArray,F=console.createTask?console.createTask:function(){return null};p={react_stack_bottom_frame:function(D){return D()}};var A,P={},R=p.react_stack_bottom_frame.bind(p,o)(),oe=F(r(o)),G={};go.Fragment=m,go.jsx=function(D,Q,Z,re,J){var ee=1e4>I.recentlyCreatedOwnerStacks++;return d(D,Q,Z,!1,re,J,ee?Error("react-stack-top-frame"):R,ee?F(r(D)):oe)},go.jsxs=function(D,Q,Z,re,J){var ee=1e4>I.recentlyCreatedOwnerStacks++;return d(D,Q,Z,!0,re,J,ee?Error("react-stack-top-frame"):R,ee?F(r(D)):oe)}})()),go}var mf;function dv(){return mf||(mf=1,process.env.NODE_ENV==="production"?Ys.exports=cv():Ys.exports=uv()),Ys.exports}var a=dv(),Ul={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/var gf;function fv(){return gf||(gf=1,(function(t){(function(){var e={}.hasOwnProperty;function n(){for(var o="",s=0;s<arguments.length;s++){var l=arguments[s];l&&(o=i(o,r(l)))}return o}function r(o){if(typeof o=="string"||typeof o=="number")return o;if(typeof o!="object")return"";if(Array.isArray(o))return n.apply(null,o);if(o.toString!==Object.prototype.toString&&!o.toString.toString().includes("[native code]"))return o.toString();var s="";for(var l in o)e.call(o,l)&&o[l]&&(s=i(s,l));return s}function i(o,s){return s?o?o+" "+s:o+s:o}t.exports?(n.default=n,t.exports=n):window.classNames=n})()})(Ul)),Ul.exports}var hv=fv();const Ie=lv(hv),pv=({text:t,href:e,openInNewWindow:n=!1,className:r,...i})=>{const o=Ie("nhsuk-action-link__link",r);return a.jsx("div",{className:"nhsuk-action-link",children:a.jsxs("a",{className:o,href:e,target:n?"_blank":void 0,rel:n?"noopener noreferrer":void 0,...i,children:[a.jsxs("svg",{className:"nhsuk-icon nhsuk-icon__arrow-right-circle",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24","aria-hidden":"true",width:"36",height:"36",children:[a.jsx("path",{d:"M0 0h24v24H0z",fill:"none"}),a.jsx("path",{d:"M12 2a10 10 0 0 0-9.95 9h11.64L9.74 7.05a1 1 0 0 1 1.41-1.41l5.66 5.65a1 1 0 0 1 0 1.42l-5.66 5.65a1 1 0 0 1-1.41 0 1 1 0 0 1 0-1.41L13.69 13H2.05A10 10 0 1 0 12 2z"})]}),a.jsx("span",{className:"nhsuk-action-link__text",children:t})]})})},Wl=({ariaLabel:t="Account",items:e=[],className:n,variant:r="default"})=>{if(!e||e.length===0)return null;const i=o=>{const s=o.icon?a.jsx("svg",{className:"nhsuk-icon nhsuk-icon__user",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24","aria-hidden":"true",focusable:"false",role:"img","aria-label":o.icon===!0?"User":void 0,children:a.jsx("path",{d:"M12 1a11 11 0 1 1 0 22 11 11 0 0 1 0-22Zm0 2a9 9 0 0 0-5 16.5V18a4 4 0 0 1 4-4h2a4 4 0 0 1 4 4v1.5A9 9 0 0 0 12 3Zm0 3a3.5 3.5 0 1 1-3.5 3.5A3.4 3.4 0 0 1 12 6Z"})}):null,l=o.html?a.jsx("span",{dangerouslySetInnerHTML:{__html:o.html}}):o.text,c=a.jsxs(a.Fragment,{children:[s,l]});return o.href?a.jsx("a",{className:"nhsuk-account__link nhsuk-header__account-link",href:o.href,children:c}):o.action?a.jsx("form",{className:"nhsuk-account__form",action:o.action,method:o.method||"post",children:a.jsx("button",{className:"nhsuk-account__button",type:"submit",role:"button",children:c})}):a.jsx("span",{children:c})};return a.jsx("nav",{className:Ie("nhsuk-account",{"nhsuk-account--white":r==="white"},n),"aria-label":t,children:a.jsx("ul",{className:"nhsuk-account__list",children:e.map((o,s)=>o&&a.jsx("li",{className:Ie("nhsuk-account__item nhsuk-header__account-item",o.className),children:i(o)},s))})})};var Gl=(t=>(t.Primary="primary",t.Secondary="secondary",t.Reverse="reverse",t.Warning="warning",t.Login="login",t.Metric="metric",t))(Gl||{}),Yl=(t=>(t.Small="small",t.Default="default",t.Large="large",t))(Yl||{});function mv(t){const e=t.variant||"primary",n=t.size||"default",r=!!t.fullWidth,i=["nhs-aria-button",`nhs-aria-button--${e}`,n!=="default"?`nhs-aria-button--${n}`:"",r?"nhs-aria-button--full-width":"",t.className||""].filter(Boolean).join(" ");return{tag:t.href?"a":"button",classes:i,data:{module:"nhs-button"},attrs:t.href?{href:t.href,role:"button"}:{type:"button"},preventDoubleClick:!!t.preventDoubleClick}}const{forwardRef:gv,useCallback:Ir,useState:Vl}=X;function yv(t,e){const{children:n,variant:r=Gl.Primary,size:i=Yl.Default,fullWidth:o=!1,className:s="",preventDoubleClick:l=!1,...c}=t,[u,d]=Vl(!1),[f,p]=Vl(!1),[h,y]=Vl(!1),m=mv({variant:r,size:i,fullWidth:o,className:s,preventDoubleClick:l,href:"href"in c?c.href:void 0}),g="disabled"in c?c.disabled:c["aria-disabled"]==="true",N={...u&&{"data-pressed":"true"},...f&&{"data-hovered":"true"},...h&&{"data-focused":"true"},...g&&{"data-disabled":"true"}},M=Ir(()=>!g&&d(!0),[g]),T=Ir(()=>d(!1),[]),x=Ir(()=>!g&&p(!0),[g]),v=Ir(()=>{p(!1),d(!1)},[]),C=Ir(()=>y(!0),[]),w=Ir(()=>y(!1),[]),k=Ir(ie=>{ie.key===" "&&("href"in c||ie.currentTarget.getAttribute("role")==="button")&&(ie.preventDefault(),ie.currentTarget.click())},[c]),b=Ir(ie=>{if(l){const K=ie.currentTarget;if(K.getAttribute("data-processing")==="true"){ie.preventDefault();return}K.setAttribute("data-processing","true"),setTimeout(()=>{K.removeAttribute("data-processing")},1e3)}},[l]);if("href"in c&&c.href){const{id:ie,style:K,title:ae,["aria-label"]:me,["aria-describedby"]:Y,["aria-labelledby"]:le,tabIndex:ce,...ge}=c,pe=c;return a.jsx("a",{ref:e,href:pe.href,target:pe.target,rel:pe.rel,className:m.classes,role:"button",draggable:"false","data-module":"nhs-button",...N,...l&&{"data-prevent-double-click":"true"},...ge,onKeyDown:U=>{pe.onKeyDown?.(U),k(U)},onClick:U=>{pe.onClick?.(U),b(U)},onMouseDown:U=>{pe.onMouseDown?.(U),M()},onMouseUp:U=>{pe.onMouseUp?.(U),T()},onMouseEnter:U=>{pe.onMouseEnter?.(U),x()},onMouseLeave:U=>{pe.onMouseLeave?.(U),v()},onFocus:U=>{pe.onFocus?.(U),C()},onBlur:U=>{pe.onBlur?.(U),w()},"aria-disabled":pe["aria-disabled"],...pe["aria-disabled"]==="true"&&{tabIndex:-1},id:ie,style:K,title:ae,"aria-label":me,"aria-describedby":Y,"aria-labelledby":le,tabIndex:ce,children:n})}const{id:_,style:I,title:j,["aria-label"]:E,["aria-describedby"]:F,["aria-labelledby"]:A,tabIndex:P,name:R,value:oe,form:G,formAction:D,formEncType:Q,formMethod:Z,formNoValidate:re,formTarget:J,autoFocus:ee,...de}=c,te=c;return a.jsx("button",{ref:e,type:te.type||"button",disabled:te.disabled,className:m.classes,"data-module":"nhs-button",...N,...l&&{"data-prevent-double-click":"true"},...te.disabled&&{"aria-disabled":"true"},...de,onKeyDown:ie=>{te.onKeyDown?.(ie),k(ie)},onClick:ie=>{te.onClick?.(ie),b(ie)},onMouseDown:ie=>{te.onMouseDown?.(ie),M()},onMouseUp:ie=>{te.onMouseUp?.(ie),T()},onMouseEnter:ie=>{te.onMouseEnter?.(ie),x()},onMouseLeave:ie=>{te.onMouseLeave?.(ie),v()},onFocus:ie=>{te.onFocus?.(ie),C()},onBlur:ie=>{te.onBlur?.(ie),w()},id:_,style:I,title:j,"aria-label":E,"aria-describedby":F,"aria-labelledby":A,tabIndex:P,name:R,value:oe,form:G,formAction:D,formEncType:Q,formMethod:Z,formNoValidate:re,formTarget:J,autoFocus:ee,children:n})}const zt=gv(yv);zt.displayName="Button";const Di=({text:t="Back",html:e,href:n="#",className:r,element:i="a",onClick:o,...s})=>{const l=Ie("nhsuk-back-link",r),c=Ie("nhsuk-back-link__link"),u=()=>a.jsxs(a.Fragment,{children:[a.jsx("svg",{className:"nhsuk-icon nhsuk-icon__chevron-left",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24","aria-hidden":"true",height:"24",width:"24",children:a.jsx("path",{d:"M8.5 12c0-.3.1-.5.3-.7l5-5c.4-.4 1-.4 1.4 0s.4 1 0 1.4L10.9 12l4.3 4.3c.4.4.4 1 0 1.4s-1 .4-1.4 0l-5-5c-.2-.2-.3-.4-.3-.7z"})}),e?a.jsx("span",{dangerouslySetInnerHTML:{__html:e}}):t]});return a.jsx("div",{className:l,children:i==="button"?a.jsx("button",{className:c,onClick:o,type:"button",...s,children:u()}):a.jsx("a",{className:c,href:n,...s,children:u()})})};function bv(t){const{color:e="default",noBorder:n,closable:r,disabled:i,className:o}=t;return{classes:["nhsuk-tag",e!=="default"?`nhsuk-tag--${e}`:"",n?"nhsuk-tag--no-border":"",r?"nhsuk-tag--closable":"",i?"nhsuk-tag--disabled":"",o||""].filter(Boolean).join(" "),showClose:!!r,disabled:!!i}}const pt=({text:t,html:e,children:n,color:r="default",noBorder:i=!1,closable:o=!1,onClose:s,disabled:l=!1,className:c,...u})=>{const d=bv({color:r,noBorder:i,closable:o,disabled:l,className:c}),f=p=>{p.preventDefault(),p.stopPropagation(),!l&&s&&s()};return a.jsxs("strong",{className:d.classes,...u,children:[n||(e?a.jsx("span",{dangerouslySetInnerHTML:{__html:e}}):t),o&&a.jsx("button",{type:"button",className:"nhsuk-tag__close",onClick:f,disabled:l,"aria-label":"Remove",title:"Remove",children:"Ã—"})]})},yf=({id:t,name:e,checked:n,defaultChecked:r=!1,disabled:i=!1,value:o="true",hint:s,errorMessage:l,className:c,children:u,onChange:d,onBlur:f,onFocus:p,attributes:h,...y})=>{const[m,g]=$.useState(r),N=n!==void 0,M=N?n:m;$.useEffect(()=>{N||g(r)},[r,N]);const T=k=>{const b=k.target.checked;N||g(b),d?.(b,k)},x=s?`${t}-hint`:void 0,v=l?`${t}-error`:void 0,C=[x,v].filter(Boolean).join(" ")||void 0,w=Ie("nhsuk-form-group",{"nhsuk-form-group--error":!!l},c);return a.jsx("div",{className:w,...y,children:a.jsx("div",{className:"nhsuk-checkboxes",children:a.jsxs("div",{className:"nhsuk-checkboxes__item",children:[a.jsx("input",{className:"nhsuk-checkboxes__input",id:t,name:e||t,type:"checkbox",value:o,checked:M,disabled:i,onChange:T,onBlur:f,onFocus:p,"aria-describedby":C,...h}),a.jsx("label",{className:"nhsuk-checkboxes__label",htmlFor:t,children:u}),s&&a.jsx("div",{id:x,className:"nhsuk-checkboxes__hint",children:s}),l&&a.jsxs("div",{id:v,className:"nhsuk-error-message nhsuk-checkboxes__error",children:[a.jsx("span",{className:"nhsuk-u-visually-hidden",children:"Error:"})," ",l]})]})})})};yf.displayName="Checkbox";function bf(t){const n=(t.type||"text")==="range";return{classes:["nhsuk-input",t.hasError?"nhsuk-input--error":"",n?"nhsuk-input--range":"",!n&&t.width&&t.width!=="full"?`nhsuk-input--width-${t.width}`:"",t.className||""].filter(Boolean).join(" "),isRange:n}}const Vs=({id:t,name:e,type:n="text",value:r,defaultValue:i,placeholder:o,disabled:s=!1,readOnly:l=!1,required:c=!1,hasError:u=!1,describedBy:d,className:f,width:p="full",inputMode:h,autoComplete:y,maxLength:m,minLength:g,pattern:N,step:M,min:T,max:x,showValueLabels:v=!1,showCurrentValue:C=!1,valueLabels:w,onChange:k,onBlur:b,onFocus:_,onKeyDown:I,...j})=>{const[E,F]=$.useState(r||i||(n==="range"?T||"0":""));$.useEffect(()=>{r!==void 0&&F(r)},[r]);const A=J=>{const ee=J.target;F(ee.value),("type"in J&&J.nativeEvent||J.type==="keydown")&&k?.(J)},{classes:P,isRange:R}=bf({type:n,hasError:u,width:p,className:f}),oe=r!==void 0,G={id:t,name:e,type:n,placeholder:o,disabled:s,readOnly:l,required:c,"aria-describedby":d,inputMode:h,autoComplete:y,maxLength:m,minLength:g,pattern:N,step:M,min:T,max:x,onChange:A,onBlur:b,onFocus:_,onKeyDown:J=>{if(R&&/[0-9]/.test(J.key)){const ee=(E?.toString()||"")+J.key;J.target.value=ee,A(J)}I?.(J)},...j},D=!oe&&i!==void 0?{defaultValue:i}:{},Q=oe?{value:r}:{},Z=()=>a.jsx("input",{className:P,...Q,...D,"data-current-value":E,...G}),re=R?a.jsxs("div",{className:"nhsuk-input-range-wrapper",children:[v&&a.jsxs("div",{className:"nhsuk-input-range-labels",children:[a.jsx("span",{className:"nhsuk-input-range-label nhsuk-input-range-label--min",children:w?.min||T||"0"}),Z(),a.jsx("span",{className:"nhsuk-input-range-label nhsuk-input-range-label--max",children:w?.max||x||"100"})]}),!v&&Z(),C&&a.jsx("div",{className:"nhsuk-input-range-current-value",children:a.jsxs("span",{className:"nhsuk-input-range-current-label",children:[w?.current||"Current value:"," ",a.jsx("strong",{children:E})]})})]}):null;return R?re:a.jsx("input",{className:P,id:t,name:e,type:n,value:r,...r===void 0&&i!==void 0?{defaultValue:i}:{},placeholder:o,disabled:s,readOnly:l,required:c,"aria-describedby":d,inputMode:h,autoComplete:y,maxLength:m,minLength:g,pattern:N,step:M,min:T,max:x,onChange:k,onBlur:b,onFocus:_,onKeyDown:I,...j})};function vv(t){const e=t.size||"m",n=["nhsuk-label",e!=="m"?`nhsuk-label--${e}`:"",t.className||""].filter(Boolean).join(" ");return{tag:t.isPageHeading?"h1":"label",classes:n,size:e,htmlFor:t.isPageHeading?void 0:t.htmlFor,isPageHeading:!!t.isPageHeading}}const Zs=({htmlFor:t,className:e,isPageHeading:n=!1,size:r="m",children:i,...o})=>{const s=vv({size:r,isPageHeading:n,className:e,htmlFor:t}),l=s.tag;return a.jsx(l,{className:s.classes,htmlFor:s.htmlFor,...o,children:n?a.jsx("label",{className:"nhsuk-label-wrapper",htmlFor:t,children:i}):i})};function xv(t){const e=["nhsuk-fieldset",t.className||""].filter(Boolean).join(" "),n=t.legend?["nhsuk-fieldset__legend",t.legend.size?`nhsuk-fieldset__legend--${t.legend.size}`:"",t.legend.className||""].filter(Boolean).join(" "):void 0;return{fieldsetClasses:e,legendClasses:n,legendIsPageHeading:!!t.legend?.isPageHeading,describedBy:t.describedBy}}const qs=({children:t,legend:e,className:n,describedBy:r,...i})=>{const o=xv({className:n,describedBy:r,legend:e?{size:e.size,className:e.className,isPageHeading:e.isPageHeading}:void 0}),s=()=>{const l=e?.html?a.jsx("span",{dangerouslySetInnerHTML:{__html:e.html}}):e?.text;return o.legendIsPageHeading?a.jsx("h1",{className:"nhsuk-fieldset__heading",children:l}):l};return a.jsxs("fieldset",{className:o.fieldsetClasses,"aria-describedby":o.describedBy,...i,children:[e&&(e.text||e.html)&&a.jsx("legend",{className:o.legendClasses,children:s()}),t]})};function _v(t){const e=["nhsuk-checkboxes",t.small?"nhsuk-checkboxes--small":"",t.className||""].filter(Boolean).join(" "),n=["nhsuk-form-group",t.hasError?"nhsuk-form-group--error":""].filter(Boolean).join(" ");return{classes:e,formGroupClasses:n}}const vf=({items:t,name:e,idPrefix:n,legend:r,isPageHeading:i=!1,legendSize:o="l",hint:s,errorMessage:l,className:c="",small:u=!1,onChange:d,fieldsetAttributes:f,attributes:p,...h})=>{const[y,m]=$.useState(t.filter(k=>k.checked).map(k=>k.value)),g=n||e,N=s?`${g}-hint`:void 0,M=l?`${g}-error`:void 0,T=[N,M].filter(Boolean).join(" ")||void 0,x=(k,b)=>{let _;b?_=[...y,k]:_=y.filter(I=>I!==k),m(_),d?.(_)},v=()=>t.map((k,b)=>{const _=`${g}-${b+1}`,I=`${_}-conditional`,j=y.includes(k.value),E=k.disabled||!1;return a.jsxs("div",{className:"nhsuk-checkboxes__item",children:[a.jsx("input",{className:"nhsuk-checkboxes__input",id:_,name:e,type:"checkbox",value:k.value,checked:j,disabled:E,onChange:F=>x(k.value,F.target.checked),"aria-describedby":k.hint?`${_}-hint`:T,...k.conditional&&{"aria-controls":I,"aria-expanded":j?"true":"false"},...k.attributes}),a.jsx("label",{className:"nhsuk-checkboxes__label",htmlFor:_,children:k.text}),k.hint&&a.jsx("div",{id:`${_}-hint`,className:"nhsuk-checkboxes__hint",children:k.hint}),k.conditional&&a.jsx("div",{className:Ie("nhsuk-checkboxes__conditional",{"nhsuk-checkboxes__conditional--hidden":!j}),id:I,children:typeof k.conditional=="object"&&k.conditional!==null&&"label"in k.conditional&&"id"in k.conditional&&"name"in k.conditional?a.jsxs("div",{style:{marginTop:"16px"},children:[k.conditional.label&&a.jsx(Zs,{htmlFor:k.conditional.id,children:k.conditional.label}),a.jsx(Vs,{...k.conditional})]}):k.conditional})]},k.value)}),{classes:C,formGroupClasses:w}=_v({small:u,className:c,hasError:!!l});return a.jsx("div",{className:w,...p,...h,children:a.jsxs(qs,{legend:r?{text:r,isPageHeading:i,size:o}:void 0,describedBy:T,...f,children:[s&&a.jsx("div",{id:N,className:"nhsuk-hint",children:s}),l&&a.jsxs("div",{id:M,className:"nhsuk-error-message",children:[a.jsx("span",{className:"nhsuk-u-visually-hidden",children:"Error:"})," ",l]}),a.jsx("div",{className:C,children:v()})]})})};vf.displayName="Checkboxes";function wv(t){const e=t.resize??"vertical";return{classes:["nhsuk-textarea",t.hasError?"nhsuk-textarea--error":"",e!=="vertical"?`nhsuk-textarea--resize-${e}`:"",t.className||""].filter(Boolean).join(" "),describedBy:t.describedBy}}const xf=({id:t,name:e,value:n,defaultValue:r,placeholder:i,disabled:o=!1,readOnly:s=!1,required:l=!1,hasError:c=!1,describedBy:u,className:d,rows:f=5,cols:p,maxLength:h,minLength:y,wrap:m="soft",resize:g="vertical",autoComplete:N,spellCheck:M,onChange:T,onBlur:x,onFocus:v,onKeyDown:C,...w})=>{const{classes:k,describedBy:b}=wv({hasError:c,resize:g,className:d,describedBy:u});return a.jsx("textarea",{className:k,id:t,name:e,value:n,defaultValue:r,placeholder:i,disabled:o,readOnly:s,required:l,"aria-describedby":b,rows:f,cols:p,maxLength:h,minLength:y,wrap:m,autoComplete:N,spellCheck:M,onChange:T,onBlur:x,onFocus:v,onKeyDown:C,...w})};function Sv(t){return{classes:["nhsuk-hint",t.className||""].filter(Boolean).join(" "),id:t.id}}const Zl=({id:t,className:e,children:n,...r})=>{const i=Sv({id:t,className:e});return a.jsx("div",{className:i.classes,id:i.id,...r,children:n})},kv=({id:t,maxLength:e,maxWords:n,threshold:r=75,name:i,value:o,defaultValue:s,rows:l,className:c,countMessage:u,onCountChange:d,onChange:f,...p})=>{const h=o??s??"",[y,m]=$.useState(h),[g,N]=$.useState(0),[M,T]=$.useState(!1),[x,v]=$.useState(!1),C=$.useCallback(j=>n?j.trim()===""?0:j.trim().split(/\s+/).length:j.length,[n]);$.useEffect(()=>{const j=C(y),E=e||n||0,F=E-j,A=Math.floor(E*(r/100));N(F),T(j>E),v(j>=A||j>E),d&&d(j,F)},[y,e,n,r,C,d]);const w=j=>{const E=j.target.value;m(E),f&&f(j)},k=()=>{const j=e||n||0,E=n?"word":"character",F=n?"words":"characters";if(!x)return`You can enter up to ${j} ${j===1?E:F}`;if(M){const A=Math.abs(g);return`You have ${A} ${A===1?E:F} too many`}else return`You have ${g} ${g===1?E:F} remaining`},b=Ie("nhsuk-character-count",c),_=Ie("nhsuk-character-count__message",{"nhsuk-character-count__message--disabled":!x,"nhsuk-error-message":M},u?.classes),I=Ie("nhsuk-js-character-count",{"nhsuk-textarea--error":M});return a.jsxs("div",{className:b,"data-module":"nhsuk-character-count","data-maxlength":e,"data-maxwords":n,"data-threshold":r,"data-testid":"character-count",children:[a.jsx(xf,{id:t,name:i,value:o!==void 0?y:void 0,defaultValue:o===void 0?s??y:void 0,rows:l,className:I,onChange:w,"aria-describedby":`${t}-info`,"aria-invalid":M||void 0,...p}),a.jsx(Zl,{id:`${t}-info`,className:_,role:"status","aria-live":"polite",children:k()})]})};function Cv(t){return{classes:["nhsuk-select",t.hasError?"nhsuk-select--error":"",t.className||""].filter(Boolean).join(" ")}}const _f=({value:t,disabled:e=!1,selected:n=!1,className:r,children:i,...o})=>{const s=Ie("nhsuk-select__option",r);return a.jsx("option",{className:s,value:t,disabled:e,...o,children:i})},yo=({id:t,name:e,ariaLabel:n,value:r,defaultValue:i,disabled:o=!1,required:s=!1,hasError:l=!1,describedBy:c,className:u,multiple:d=!1,size:f,autoComplete:p,options:h,children:y,onChange:m,onBlur:g,onFocus:N,...M})=>{const{classes:T}=Cv({hasError:l,className:u}),x=()=>h?h.map((C,w)=>a.jsx("option",{value:C.value,disabled:C.disabled,"data-initial-selected":C.selected||void 0,children:C.text},`${C.value}-${w}`)):null,v=i===void 0&&r===void 0&&h?h.find(C=>C.selected)?.value:void 0;return a.jsx("select",{className:T,id:t,name:e,"aria-label":n,value:r,defaultValue:i!==void 0?i:v,disabled:o,required:s,"aria-describedby":c,multiple:d,size:f,autoComplete:p,onChange:m,onBlur:g,onFocus:N,...M,children:y||x()})};yo.Option=_f;function Nv(t){return{classes:["nhsuk-radios",t.hasError?"nhsuk-radios--error":"",t.size==="small"?"nhsuk-radios--small":"",t.inline?"nhsuk-radios--inline":"",t.className||""].filter(Boolean).join(" "),describedBy:t.describedBy}}function wf(t,{variant:e,selectedValue:n,enableBehaviourAttr:r,handleChange:i,handleBlur:o,handleFocus:s,handleKeyDown:l,itemsRef:c,InputComponent:u}){const{onChange:d,onBlur:f,onFocus:p,...h}=t,{name:y,hasError:m=!1,describedBy:g,className:N,size:M="normal",inline:T=!1,options:x,...v}=h,{classes:C,describedBy:w}=Nv({hasError:m,size:M,inline:T,className:N,describedBy:g});return a.jsx(qs,{children:a.jsx("div",{className:C,...v,...r?{"data-nhs-behaviour":"radios"}:{},children:x.map((k,b)=>{const _=`${y}-${b}`,I=k.conditional?`${_}-conditional`:void 0,j=n===k.value;return a.jsxs("div",{className:"nhsuk-radios__item",children:[a.jsx("input",{className:"nhsuk-radios__input",id:_,name:y,type:"radio",value:k.value,disabled:k.disabled,...e==="client"?{checked:j,onChange:i,onBlur:o,onFocus:s,onKeyDown:l,ref:E=>{E&&c&&(c.current[b]=E)}}:{defaultChecked:j,"data-nhs-radios-input":!0},"aria-describedby":w}),a.jsx("label",{className:"nhsuk-radios__label",htmlFor:_,children:k.text}),k.hint&&a.jsx("div",{className:"nhsuk-radios__hint",children:k.hint}),k.conditional&&a.jsx("div",{className:Ie("nhsuk-radios__conditional",{"nhsuk-radios__conditional--hidden":!j}),id:I,...e==="server"?{"data-nhs-radios-conditional":!0}:{},children:typeof k.conditional=="object"&&k.conditional!==null&&"label"in k.conditional&&"id"in k.conditional&&"name"in k.conditional?a.jsxs("div",{style:{marginTop:"16px"},children:[k.conditional.label&&a.jsx(Zs,{htmlFor:k.conditional.id,children:k.conditional.label}),a.jsx(u,{...k.conditional})]}):k.conditional})]},k.value)})})})}const Mv=({value:t,defaultValue:e,onChange:n,onBlur:r,onFocus:i,...o})=>{const[s,l]=$.useState(t||e||""),c=$.useRef([]),u=$.useRef(s),d=h=>{const y=h.target.value;y!==u.current&&(u.current=y,l(y),n?.(h))},f=h=>{i?.(h)},p=$.useCallback(h=>{const{key:y}=h;if(!["ArrowDown","ArrowUp","ArrowRight","ArrowLeft"].includes(y))return;h.preventDefault();const m=c.current.filter(T=>T&&!T.disabled),g=m.indexOf(h.currentTarget);if(g===-1)return;let N=g;["ArrowDown","ArrowRight"].includes(y)?N=(g+1)%m.length:["ArrowUp","ArrowLeft"].includes(y)&&(N=(g-1+m.length)%m.length);const M=m[N];M&&(M.focus(),M.checked||M.click())},[]);return wf({value:t,defaultValue:e,onChange:n,onBlur:r,onFocus:i,...o},{variant:"client",selectedValue:s,enableBehaviourAttr:!1,handleChange:d,handleBlur:r,handleFocus:f,handleKeyDown:p,itemsRef:c,InputComponent:Vs})};function Tv(t){const{id:e,name:n,type:r="text",value:i,defaultValue:o,placeholder:s,disabled:l=!1,readOnly:c=!1,required:u=!1,hasError:d=!1,describedBy:f,className:p,width:h="full",inputMode:y,autoComplete:m,maxLength:g,minLength:N,pattern:M,step:T,min:x,max:v,showValueLabels:C=!1,showCurrentValue:w=!1,valueLabels:k,onChange:b,onBlur:_,onFocus:I,onKeyDown:j,...E}=t,{classes:F,isRange:A}=bf({type:r,hasError:d,width:h,className:p}),P={id:e,name:n,type:r,placeholder:s,disabled:l,readOnly:c,required:u,"aria-describedby":f,inputMode:y,autoComplete:m,maxLength:g,minLength:N,pattern:M,step:T,min:x,max:v,...E};if(A){const R=i??o??(typeof x<"u"?String(x):"0"),oe=a.jsx("input",{className:F,...i!==void 0?{value:i}:{},...i===void 0&&o!==void 0?{defaultValue:o}:{},"data-current-value":R,...P});return a.jsxs("div",{className:"nhsuk-input-range-wrapper",children:[C?a.jsxs("div",{className:"nhsuk-input-range-labels",children:[a.jsx("span",{className:"nhsuk-input-range-label nhsuk-input-range-label--min",children:k?.min||x||"0"}),oe,a.jsx("span",{className:"nhsuk-input-range-label nhsuk-input-range-label--max",children:k?.max||v||"100"})]}):oe,w&&a.jsx("div",{className:"nhsuk-input-range-current-value",children:a.jsxs("span",{className:"nhsuk-input-range-current-label",children:[k?.current||"Current value:"," ",a.jsx("strong",{children:R})]})})]})}return a.jsx("input",{className:F,...i!==void 0?{value:i}:{},...i===void 0&&o!==void 0?{defaultValue:o}:{},...P})}const jv=({value:t,defaultValue:e,...n})=>{const r=t||e||"";return wf({value:t,defaultValue:e,...n},{variant:"server",selectedValue:r,enableBehaviourAttr:!0,InputComponent:Tv})};var Lr=(t=>(t.OneQuarter="one-quarter",t.OneThird="one-third",t.OneHalf="one-half",t.TwoThirds="two-thirds",t.ThreeQuarters="three-quarters",t.Full="full",t))(Lr||{}),Sf=(t=>(t.Mobile="mobile",t.Tablet="tablet",t.Desktop="desktop",t.LargeDesktop="large-desktop",t))(Sf||{}),kf=(t=>(t.Left="left",t.Right="right",t))(kf||{}),Cf=(t=>(t.Left="left",t.Center="center",t.Right="right",t))(Cf||{});const ql=({children:t,className:e,fluid:n=!1,maxWidth:r,style:i,...o})=>{const s=Ie({"nhsuk-width-container":!n,"nhsuk-width-container-fluid":n},e),l=r?{maxWidth:r,...i||{}}:i;return a.jsx("div",{className:s,style:l,...o,children:t})},pr=({children:t,className:e,style:n,align:r,rowGap:i,...o})=>{const s=Ie("nhsuk-grid-row",r?`nhsuk-grid-row-align-${r}`:void 0,e);return a.jsx("div",{className:s,style:n,...o,children:t})},Ii=({children:t,width:e=Lr.Full,mobileWidth:n,tabletWidth:r,desktopWidth:i,start:o,className:s,forceWidth:l=!1,style:c,align:u,...d})=>{const f=Ie({[`nhsuk-grid-column-${e}`]:!l,[`nhsuk-u-${e}`]:l,[`nhsuk-u-${n}-mobile`]:!!n,[`nhsuk-u-${r}-tablet`]:!!r,[`nhsuk-u-${i}-desktop`]:!!i,[`nhsuk-grid-column-start-${o}`]:o&&o>=1&&o<=7,...u?{[`nhsuk-grid-align-${u}`]:!0}:{}},s);return a.jsx("div",{className:f,style:c,...d,children:t})},Xs=({children:t,className:e,style:n,rowGap:r=8,...i})=>{const o=$.Children.toArray(t),s=o[0],l=$.isValidElement(s)&&(s.type===pr||typeof s.props=="object"&&s.props&&"className"in s.props&&typeof s.props.className=="string"&&s.props.className.includes("nhsuk-grid-row")),c=typeof r=="number"?`${r}px`:r;let u=t;if(l)u=o.map((d,f)=>{if(!$.isValidElement(d))return d;const p=d,h=p.props||{},y=typeof h.className=="string"?h.className:"";if(!(p.type===pr||y.includes("nhsuk-grid-row")))return d;const g=h.rowGap,N=g!==void 0?typeof g=="number"?`${g}px`:g:c,M=f===0?void 0:N;if(!M)return d;const T={...h.style||{},marginTop:M};return $.cloneElement(p,{style:T})});else{const d={marginTop:void 0};u=a.jsx(pr,{style:d,children:t})}return a.jsx(ql,{className:e,style:n,...i,children:u})},Dv=({children:t,type:e="bullet",size:n="medium",border:r=!1,className:i,role:o,as:s,...l})=>{const c=s||(e==="number"?"ol":"ul"),u=Ie("nhsuk-list",{"nhsuk-list--bullet":e==="bullet","nhsuk-list--number":e==="number","nhsuk-list--none":e==="none","nhsuk-list--border":r,[`nhsuk-list--${n}`]:n!=="medium"},i);return a.jsx(c,{className:u,role:o,...l,children:t})},Iv=({children:t,className:e,...n})=>{const r=Ie("nhsuk-list__item",e);return a.jsx("li",{className:r,...n,children:t})},Nf=Dv;Nf.Item=Iv;const Lv=({debug:t=!1,className:e,children:n,...r})=>{if(!n)return null;const i=["nhsuk-spacing-utilities",t&&"nhsuk-spacing-utilities--debug",e].filter(Boolean).join(" ");return a.jsx("div",{className:i,...r,children:n})},Pv={margin:t=>`nhsuk-u-margin-${t}`,marginTop:t=>`nhsuk-u-margin-top-${t}`,marginRight:t=>`nhsuk-u-margin-right-${t}`,marginBottom:t=>`nhsuk-u-margin-bottom-${t}`,marginLeft:t=>`nhsuk-u-margin-left-${t}`,padding:t=>`nhsuk-u-padding-${t}`,paddingTop:t=>`nhsuk-u-padding-top-${t}`,paddingRight:t=>`nhsuk-u-padding-right-${t}`,paddingBottom:t=>`nhsuk-u-padding-bottom-${t}`,paddingLeft:t=>`nhsuk-u-padding-left-${t}`,marginResponsive:t=>`nhsuk-u-margin-responsive-${t}`,marginTopResponsive:t=>`nhsuk-u-margin-top-responsive-${t}`,marginRightResponsive:t=>`nhsuk-u-margin-right-responsive-${t}`,marginBottomResponsive:t=>`nhsuk-u-margin-bottom-responsive-${t}`,marginLeftResponsive:t=>`nhsuk-u-margin-left-responsive-${t}`,paddingResponsive:t=>`nhsuk-u-padding-responsive-${t}`,paddingTopResponsive:t=>`nhsuk-u-padding-top-responsive-${t}`,paddingRightResponsive:t=>`nhsuk-u-padding-right-responsive-${t}`,paddingBottomResponsive:t=>`nhsuk-u-padding-bottom-responsive-${t}`,paddingLeftResponsive:t=>`nhsuk-u-padding-left-responsive-${t}`},Av=({debug:t=!1,className:e,children:n,...r})=>{if(!n)return null;const i=["nhsuk-width-utilities",t&&"nhsuk-width-utilities--debug",e].filter(Boolean).join(" ");return a.jsx("div",{className:i,...r,children:n})},Ev={width:t=>`nhsuk-u-width-${t}`,widthTablet:t=>`nhsuk-u-width-${t}-tablet`},Fv=["full","three-quarters","two-thirds","one-half","one-third","one-quarter"],Xl=({as:t="main",size:e="default",className:n,children:r,...i})=>{const o=["nhsuk-main-wrapper",e==="large"&&"nhsuk-main-wrapper--l",e==="small"&&"nhsuk-main-wrapper--s",n].filter(Boolean).join(" ");return a.jsx(t,{className:o,...i,children:r})};function $v(t){switch(t){case"xxl":case"xl":return 1;case"l":return 2;case"m":return 3;case"s":return 4;case"xs":return 5;default:return 2}}function Bv(t){const e=t.level??$v(t.size),n=["nhsuk-heading",t.size?`nhsuk-heading--${t.size}`:"",t.className||""].filter(Boolean).join(" "),r=t.marginBottom?{marginBottom:t.marginBottom}:void 0;return{tag:`h${e}`,classes:n,style:r}}const Gn=({level:t,className:e,text:n,html:r,children:i,size:o,marginBottom:s,...l})=>{const c=Bv({level:t,size:o,className:e,marginBottom:s}),u=i||(r?a.jsx("span",{dangerouslySetInnerHTML:{__html:r}}):n);return $.createElement(c.tag,{className:c.classes,style:c.style,...l},u)};function Ov(t){return{classes:["nhsuk-error-message",t.className||""].filter(Boolean).join(" "),id:t.id,visuallyHiddenText:t.visuallyHiddenText??"Error:"}}const Jl=({id:t,className:e,visuallyHiddenText:n="Error:",children:r,...i})=>{const o=Ov({id:t,className:e,visuallyHiddenText:n});return a.jsxs("span",{className:o.classes,id:o.id,...i,children:[a.jsxs("span",{className:"nhsuk-u-visually-hidden",children:[o.visuallyHiddenText," "]}),r]})},Rv=({titleText:t="There is a problem",titleHtml:e,descriptionText:n,descriptionHtml:r,errorList:i,className:o,children:s,...l})=>{const c=$.useRef(null);$.useEffect(()=>{c.current&&c.current.focus()},[]);const u=Ie("nhsuk-error-summary",o),d=()=>e?a.jsx("span",{dangerouslySetInnerHTML:{__html:e}}):t,f=()=>r?a.jsx("span",{dangerouslySetInnerHTML:{__html:r}}):n,p=h=>{const y=h.html?a.jsx("span",{dangerouslySetInnerHTML:{__html:h.html}}):h.text;return h.href?a.jsx("a",{href:h.href,...h.attributes,children:y}):y};return a.jsxs("div",{ref:c,className:u,"aria-labelledby":"error-summary-title",role:"alert",tabIndex:-1,"data-module":"nhsuk-error-summary",...l,children:[a.jsx("h2",{className:"nhsuk-error-summary__title",id:"error-summary-title",children:d()}),a.jsxs("div",{className:"nhsuk-error-summary__body",children:[s&&a.jsx("div",{className:"nhsuk-error-summary__description","data-role":"description",children:s}),!s&&(n||r)&&a.jsx("div",{className:"nhsuk-error-summary__description","data-role":"description",children:f()}),a.jsx("ul",{className:"nhsuk-list nhsuk-error-summary__list",role:"list",children:i.map((h,y)=>a.jsx("li",{children:p(h)},y))})]})]})},zv=({id:t,className:e,items:n,namePrefix:r,values:i={},fieldset:o,hint:s,errorMessage:l,onChange:c,...u})=>{const[d,f]=$.useState(()=>({day:i.day||"",month:i.month||"",year:i.year||""})),[p,h]=$.useState({}),y=A=>A%4===0&&A%100!==0||A%400===0,m=(A,P)=>{const R=[31,28,31,30,31,30,31,31,30,31,30,31];return A===2&&y(P)?29:R[A-1]},g=(A,P,R)=>{if(!A)return;if(!/^\d+$/.test(A))return"Day must be a number";const oe=parseInt(A,10);if(oe<1||oe>31)return"Day must be between 1 and 31";if(P&&R){const G=parseInt(P,10),D=parseInt(R,10);if(!isNaN(G)&&!isNaN(D)&&G>=1&&G<=12){const Q=m(G,D);if(oe>Q)return`${["January","February","March","April","May","June","July","August","September","October","November","December"][G-1]} ${D} only has ${Q} days`}}},N=A=>{if(!A)return;if(!/^\d+$/.test(A))return"Month must be a number";const P=parseInt(A,10);if(P<1||P>12)return"Month must be between 1 and 12"},M=A=>{if(!A)return;if(!/^\d+$/.test(A))return"Year must be a number";const P=parseInt(A,10),R=new Date().getFullYear();if(P<1900||P>R+10)return`Year must be between 1900 and ${R+10}`},T=(A,P,R)=>{if(!A||!P||!R)return;const oe=parseInt(A,10),G=parseInt(P,10),D=parseInt(R,10);if(isNaN(oe)||isNaN(G)||isNaN(D)||G<1||G>12||D<1900)return;const Q=m(G,D);oe<1||oe>Q},x=$.useCallback((A,P)=>{const R={...d,[A]:P};f(R),c&&c(R)},[d,c]),v=$.useCallback(A=>{const P=d[A];let R;if(A==="day")R=g(P,d.month,d.year);else if(A==="month"){if(R=N(P),!R&&d.day){const oe=g(d.day,P,d.year);h(G=>({...G,day:oe}))}}else if(A==="year"&&(R=M(P),!R&&d.day&&d.month)){const oe=g(d.day,d.month,P);h(G=>({...G,day:oe}))}if(h(oe=>({...oe,[A]:R})),d.day&&d.month&&d.year){const oe=T(A==="day"?P:d.day,A==="month"?P:d.month,A==="year"?P:d.year);oe&&h(G=>({...G,day:oe}))}},[d,g,N,M,T]),C=$.useMemo(()=>[{name:"day",classes:"nhsuk-input--width-2",inputmode:"numeric",pattern:"[0-9]*"},{name:"month",classes:"nhsuk-input--width-2",inputmode:"numeric",pattern:"[0-9]*"},{name:"year",classes:"nhsuk-input--width-4",inputmode:"numeric",pattern:"[0-9]*"}],[]),w=n||C;let k=o?.describedBy||"";const b=s?`${t}-hint`:"",_=l?`${t}-error`:"";b&&(k=k?`${k} ${b}`:b),_&&(k=k?`${k} ${_}`:_);const I=Object.values(p).some(A=>A),j=Ie("nhsuk-form-group",{"nhsuk-form-group--error":l||I}),E=Ie("nhsuk-date-input",e),F=()=>a.jsxs(a.Fragment,{children:[s&&a.jsx(Zl,{id:b,className:s.classes,children:s.html?a.jsx("span",{dangerouslySetInnerHTML:{__html:s.html}}):s.text}),l&&a.jsx(Jl,{id:_,className:l.classes,children:l.html?a.jsx("span",{dangerouslySetInnerHTML:{__html:l.html}}):l.text}),Object.entries(p).map(([A,P])=>P?a.jsxs(Jl,{id:`${t}-${A}-error`,className:"nhsuk-error-message",children:[a.jsx("span",{className:"nhsuk-u-visually-hidden",children:"Error:"})," ",P]},`${A}-error`):null),a.jsx("div",{className:E,id:t,"data-testid":"date-input",...u,children:w.map(A=>{const P=A.id||`${t}-${A.name}`,R=r?`${r}[${A.name}]`:A.name,oe=A.label||A.name.charAt(0).toUpperCase()+A.name.slice(1),G=p[A.name],D=d[A.name]||"";let Q=k;if(G){const Z=`${t}-${A.name}-error`;Q=Q?`${Q} ${Z}`:Z}return a.jsxs("div",{className:"nhsuk-date-input__item",children:[a.jsx(Zs,{htmlFor:P,className:"nhsuk-date-input__label",children:oe}),a.jsx(Vs,{id:P,name:R,value:D,className:Ie("nhsuk-date-input__input",A.classes,{"nhsuk-input--error":G}),inputMode:A.inputmode,autoComplete:A.autocomplete,pattern:A.pattern,"aria-describedby":Q||void 0,hasError:!!G,onChange:Z=>x(A.name,Z.target.value),onBlur:()=>v(A.name)})]},A.name)})})]});return a.jsx("div",{className:j,children:o?a.jsx(qs,{className:o.classes,legend:o.legend?{text:o.legend}:void 0,describedBy:k||void 0,children:F()}):F()})},Mf={animation:{AnimationDurationFast:"150ms",AnimationDurationNormal:"300ms",AnimationDurationSlow:"500ms",AnimationEasingEaseIn:"cubic-bezier(0.4, 0, 1, 1)",AnimationEasingEaseOut:"cubic-bezier(0, 0, 0.2, 1)",AnimationEasingEaseInOut:"cubic-bezier(0.4, 0, 0.2, 1)",AnimationEasingBounce:"cubic-bezier(0.68, -0.55, 0.265, 1.55)"},transition:{TransitionButtonDefault:"background-color 300ms cubic-bezier(0, 0, 0.2, 1)",TransitionButtonShadow:"box-shadow 150ms cubic-bezier(0, 0, 0.2, 1)",TransitionInputFocus:"border-color 150ms cubic-bezier(0, 0, 0.2, 1), box-shadow 150ms cubic-bezier(0, 0, 0.2, 1)",TransitionCardHover:"border-color 300ms cubic-bezier(0, 0, 0.2, 1)"},border:{BorderWidthDefault:"1px",BorderWidthFormElement:"2px",BorderWidthFormElementError:"4px",BorderWidthCardBottom:"4px",BorderWidthPanel:"4px",BorderWidthTableHeader:"2px",BorderWidthTableCell:"1px",BorderRadiusNone:"0px",BorderRadiusSmall:"4px",BorderRadiusMedium:"8px",BorderRadiusLarge:"12px",BorderColorDefault:"#d8dde0",BorderColorForm:"#4c6272",BorderColorCard:"#d8dde0",BorderColorCardHover:"#aeb7bd",BorderColorError:"#d5281b"},color:{ColorPrimaryBlue:"#005eb8",ColorPrimaryWhite:"#ffffff",ColorPrimaryBlack:"#212b32",ColorPrimaryGreen:"#007f3b",ColorPrimaryPurple:"#330072",ColorPrimaryDarkPink:"#7c2855",ColorPrimaryRed:"#d5281b",ColorPrimaryYellow:"#ffeb3b",ColorSecondaryPaleYellow:"#fff9c4",ColorSecondaryWarmYellow:"#ffb81c",ColorSecondaryOrange:"#ed8b00",ColorSecondaryAquaGreen:"#00a499",ColorSecondaryPink:"#ae2573",ColorGrey1:"#4c6272",ColorGrey2:"#768692",ColorGrey3:"#aeb7bd",ColorGrey4:"#d8dde0",ColorGrey5:"#f0f4f5",ColorTextPrimary:"#212b32",ColorTextSecondary:"#4c6272",ColorTextReverse:"#ffffff",ColorTextPrint:"#212b32",ColorLinkDefault:"#005eb8",ColorLinkHover:"#7c2855",ColorLinkActive:"#003087",ColorLinkVisited:"#330072",ColorFocusBackground:"#ffeb3b",ColorFocusText:"#212b32",ColorBorderDefault:"#d8dde0",ColorBorderSecondary:"#ffffff33",ColorError:"#d5281b",ColorFormBorder:"#4c6272",ColorFormBackground:"#ffffff",ColorButtonPrimaryBackground:"#007f3b",ColorButtonPrimaryText:"#ffffff",ColorButtonPrimaryHover:"#006530",ColorButtonPrimaryActive:"#004021",ColorButtonPrimaryShadow:"#004021",ColorButtonSecondaryBackground:"#00000000",ColorButtonSecondaryBackgroundSolid:"#ffffff",ColorButtonSecondaryBorder:"#005eb8",ColorButtonSecondaryText:"#005eb8",ColorButtonSecondaryHover:"#d9e5f2",ColorButtonSecondaryActive:"#c7daf0",ColorButtonSecondaryShadow:"#005eb8",ColorButtonReverseBackground:"#ffffff",ColorButtonReverseText:"#212b32",ColorButtonReverseHover:"#d9dde0",ColorButtonReverseActive:"#b3bcc2",ColorButtonReverseShadow:"#b3bcc2",ColorButtonWarningBackground:"#d5281b",ColorButtonWarningHover:"#aa2016",ColorButtonWarningActive:"#6a140e",ColorButtonWarningShadow:"#6a140e",ColorButtonLoginBackground:"#005eb8",ColorButtonLoginHover:"#004b93",ColorButtonLoginActive:"#002f5c",ColorButtonLoginShadow:"#002f5c"},component:{ComponentButtonPaddingMobileVertical:"8px",ComponentButtonPaddingMobileHorizontal:"16px",ComponentButtonPaddingDesktopVertical:"12px",ComponentButtonPaddingDesktopHorizontal:"16px",ComponentButtonShadowSize:"4px",ComponentFormInputMinHeight:"40px",ComponentFormInputPadding:"4px",ComponentFormCheckboxSize:"40px",ComponentFormCheckboxLabelPadding:"12px",ComponentCardPaddingMobile:"16px",ComponentCardPaddingDesktop:"32px",ComponentCardHeadingMargin:"16px",ComponentPanelPaddingMobile:"20px",ComponentPanelPaddingDesktop:"28px",ComponentBreadcrumbChevronMarginLeft:"9px",ComponentBreadcrumbChevronMarginRight:"2px",ComponentBreadcrumbPaddingTopMobile:"16px",ComponentBreadcrumbPaddingTopDesktop:"24px",ComponentSummaryListCellPaddingVertical:"8px",ComponentSummaryListCellPaddingHorizontal:"24px",ComponentSummaryListRowMargin:"16px",ComponentSpread:"4px",ComponentBlur:"4px",ComponentLink:"4px",ComponentDetails:"8px",ComponentExpander:"4px",ComponentPagination:"16px"},button:{ButtonPrimaryBackgroundDefault:"#007f3b",ButtonPrimaryBackgroundHover:"#006530",ButtonPrimaryBackgroundActive:"#004021",ButtonPrimaryBackgroundDisabled:"#d8dde0",ButtonPrimaryTextDefault:"#ffffff",ButtonPrimaryTextDisabled:"#768692",ButtonPrimaryBorderDefault:"#00000000",ButtonPrimaryBorderFocus:"#ffeb3b",ButtonSecondaryBackgroundDefault:"#00000000",ButtonSecondaryBackgroundSolid:"#ffffff",ButtonSecondaryBackgroundHover:"#d9e5f2",ButtonSecondaryBackgroundActive:"#c7daf0",ButtonSecondaryTextDefault:"#005eb8",ButtonSecondaryBorderDefault:"#005eb8",ButtonSpacingPaddingVerticalMobile:"8px",ButtonSpacingPaddingHorizontalMobile:"16px",ButtonSpacingPaddingVerticalDesktop:"12px",ButtonSpacingPaddingHorizontalDesktop:"16px",ButtonBorderWidth:"2px",ButtonBorderRadius:"4px",ButtonShadowSize:"4px",ButtonTypographyWeight:"600"},card:{CardBackgroundDefault:"#ffffff",CardBorderDefault:"#d8dde0",CardBorderHover:"#aeb7bd",CardBorderBottom:"#f0f4f5",CardTextHeading:"#212b32",CardTextDescription:"#212b32",CardTextLink:"#005eb8",CardSpacingPaddingMobile:"16px",CardSpacingPaddingDesktop:"32px",CardSpacingHeadingMargin:"16px",CardBorderWidthDefault:"1px",CardBorderWidthBottom:"4px",CardShadowDefault:"none",CardShadowHover:"0 2px 4px rgba(0, 0, 0, 0.1)"},form:{FormInputBackgroundDefault:"#ffffff",FormInputBackgroundFocus:"#ffffff",FormInputBackgroundDisabled:"#d8dde0",FormInputBackgroundError:"#ffffff",FormInputBorderDefault:"#4c6272",FormInputBorderFocus:"#ffeb3b",FormInputBorderError:"#d5281b",FormInputBorderDisabled:"#aeb7bd",FormInputTextDefault:"#212b32",FormInputTextPlaceholder:"#4c6272",FormInputTextDisabled:"#768692",FormLabelTextDefault:"#212b32",FormLabelTextRequired:"#ffffff",FormLabelTypographyWeight:"600",FormErrorTextDefault:"#d5281b",FormErrorTypographyWeight:"600",FormHintTextDefault:"#4c6272",FormSpacingInputPadding:"4px",FormSpacingInputMinHeight:"40px",FormSpacingCheckboxSize:"40px",FormSpacingCheckboxLabelPadding:"12px",FormBorderWidthDefault:"2px",FormBorderWidthError:"4px",FormBorderRadius:"0px"},size:{SizeIconSmall:"16px",SizeIconMedium:"18px",SizeIconLarge:"24px",SizeIconExtraLarge:"32px",SizeIconNhsDefault:"34px",SizeFormControlSmall:"32px",SizeFormControlMedium:"40px",SizeFormControlLarge:"48px",SizeFormInputWidthXs:"5.4ex",SizeFormInputWidthSm:"7.2ex",SizeFormInputWidthMd:"9ex",SizeFormInputWidthLg:"10.8ex",SizeFormInputWidthXl:"20ex",SizeFormInputWidth2xl:"38ex",SizeFormInputWidth3xl:"56ex",SizeButtonMinHeightMobile:"44px",SizeButtonMinHeightDesktop:"40px"},layout:{LayoutContainerMaxWidth:"1020px",LayoutColumnFull:"100%",LayoutColumnHalf:"50%",LayoutColumnThird:"33.333%",LayoutColumnQuarter:"25%",LayoutColumnActions:"20%"},breakpoint:{BreakpointMobile:"320px",BreakpointTablet:"641px",BreakpointDesktop:"1025px",BreakpointLargeDesktop:"1280px"},grid:{GridPageWidth:"960px",GridGutter:"32px",GridGutterHalf:"16px"},state:{StateErrorBackground:"#d5281b",StateErrorBorder:"#d5281b",StateErrorText:"#ffffff",StateSuccessBackground:"#007f3b",StateSuccessBorder:"#007f3b",StateSuccessText:"#ffffff",StateWarningBackground:"#ffeb3b",StateWarningBorder:"#ffeb3b",StateWarningText:"#212b32",StateInfoBackground:"#005eb8",StateInfoBorder:"#005eb8",StateInfoText:"#ffffff",StateDisabledBackground:"#d8dde0",StateDisabledBorder:"#aeb7bd",StateDisabledText:"#768692"},shadow:{ShadowButtonDefault:"0 4px 0 #004021",ShadowButtonSecondary:"0 4px 0 #005eb8",ShadowButtonWarning:"0 4px 0 #6a140e",ShadowButtonFocus:"0 4px 0 #ffeb3b",ShadowCardDefault:"none",ShadowCardHover:"0 2px 4px rgba(0, 0, 0, 0.1)"},"focus-outline":{FocusOutlineWidth:"4px",FocusOutlineOffset:"0px",FocusOutlineStyle:"solid"},"focus-shadow":{FocusShadowInput:"0 0 0 3px #ffeb3b",FocusShadowButton:"0 0 0 3px #ffeb3b"},elevation:{ElevationNone:"none",ElevationLow:"0 1px 3px rgba(0, 0, 0, 0.12)",ElevationMedium:"0 2px 6px rgba(0, 0, 0, 0.16)",ElevationHigh:"0 4px 12px rgba(0, 0, 0, 0.20)"},spacing:{Spacing0:"0",Spacing1:"4px",Spacing2:"8px",Spacing3:"16px",Spacing4:"24px",Spacing5:"32px",Spacing6:"40px",Spacing7:"48px",Spacing8:"56px",Spacing9:"64px"},"spacing-responsive":{SpacingResponsive0Mobile:"0",SpacingResponsive0Tablet:"0",SpacingResponsive1Mobile:"4px",SpacingResponsive1Tablet:"4px",SpacingResponsive2Mobile:"8px",SpacingResponsive2Tablet:"8px",SpacingResponsive3Mobile:"8px",SpacingResponsive3Tablet:"16px",SpacingResponsive4Mobile:"16px",SpacingResponsive4Tablet:"24px",SpacingResponsive5Mobile:"24px",SpacingResponsive5Tablet:"32px",SpacingResponsive6Mobile:"32px",SpacingResponsive6Tablet:"40px",SpacingResponsive7Mobile:"40px",SpacingResponsive7Tablet:"48px",SpacingResponsive8Mobile:"48px",SpacingResponsive8Tablet:"56px",SpacingResponsive9Mobile:"56px",SpacingResponsive9Tablet:"64px"},font:{FontFamilyBase:"Frutiger W01",FontFamilyFallback:"Arial, Helvetica, sans-serif",FontFamilyPrint:"sans-serif",FontWeightNormal:"400",FontWeightBold:"600",FontWeightLight:"400",FontSize14Mobile:"12px",FontSize14Tablet:"14px",FontSize14Print:"12pt",FontSize16Mobile:"14px",FontSize16Tablet:"16px",FontSize16Print:"12pt",FontSize19Mobile:"16px",FontSize19Tablet:"19px",FontSize19Print:"13pt",FontSize22Mobile:"19px",FontSize22Tablet:"22px",FontSize22Print:"15pt",FontSize26Mobile:"22px",FontSize26Tablet:"26px",FontSize26Print:"17pt",FontSize36Mobile:"27px",FontSize36Tablet:"36px",FontSize36Print:"20pt",FontSize48Mobile:"33px",FontSize48Tablet:"48px",FontSize48Print:"24pt",FontSizeBase:"16px",FontLineHeightBase:"24px"},headings:{xl:{fontFamily:"Frutiger W01",fontWeight:"600",fontSize:{mobile:"33px",tablet:"48px",print:"24pt"},lineHeight:"1.09",marginTop:"0",marginBottom:{mobile:"40px",tablet:"48px"}},l:{fontFamily:"Frutiger W01",fontWeight:"600",fontSize:{mobile:"27px",tablet:"36px",print:"20pt"},lineHeight:"1.11",marginTop:"0",marginBottom:{mobile:"16px",tablet:"24px"}},m:{fontFamily:"Frutiger W01",fontWeight:"600",fontSize:{mobile:"22px",tablet:"26px",print:"17pt"},lineHeight:"1.15",marginTop:"0",marginBottom:{mobile:"16px",tablet:"24px"}},s:{fontFamily:"Frutiger W01",fontWeight:"600",fontSize:{mobile:"19px",tablet:"22px",print:"15pt"},lineHeight:"1.18",marginTop:"0",marginBottom:{mobile:"16px",tablet:"24px"}},xs:{fontFamily:"Frutiger W01",fontWeight:"600",fontSize:{mobile:"16px",tablet:"19px",print:"13pt"},lineHeight:"1.26",marginTop:"0",marginBottom:{mobile:"16px",tablet:"24px"}}},paragraphs:{body:{fontFamily:"Frutiger W01",fontWeight:"400",fontSize:{mobile:"16px",tablet:"19px",print:"13pt"},lineHeight:"1.47",marginTop:"0",marginBottom:{mobile:"16px",tablet:"24px"}},bodyLarge:{fontFamily:"Frutiger W01",fontWeight:"400",fontSize:{mobile:"22px",tablet:"26px",print:"17pt"},lineHeight:"1.38",marginTop:"0",marginBottom:{mobile:"24px",tablet:"32px"}},bodySmall:{fontFamily:"Frutiger W01",fontWeight:"400",fontSize:{mobile:"14px",tablet:"16px",print:"12pt"},lineHeight:"1.5",marginTop:"0",marginBottom:{mobile:"16px",tablet:"24px"}},ledeText:{fontFamily:"Frutiger W01",fontWeight:"400",fontSize:{mobile:"22px",tablet:"26px",print:"17pt"},lineHeight:"1.38",marginTop:"0",marginBottom:{mobile:"40px",tablet:"48px"}},ledeTextSmall:{fontFamily:"Frutiger W01",fontWeight:"400",fontSize:{mobile:"16px",tablet:"19px",print:"13pt"},lineHeight:"1.47",marginTop:"0",marginBottom:{mobile:"24px",tablet:"32px"}}}},Tf=$.createContext(Mf),Hv=({children:t,theme:e={}})=>{const n={...Mf,...e};return a.jsx(Tf.Provider,{value:n,children:t})},Uv=()=>{const t=$.useContext(Tf);if(!t)throw new Error("useNHSTheme must be used within an NHSThemeProvider");return t};function Wv(){return`
	@font-face {
	  font-display: swap;
	  font-family: "Frutiger W01";
	  font-style: normal;
	  font-weight: 400;
	  src: url("https://assets.nhs.uk/fonts/FrutigerLTW01-55Roman.eot");
	  src: url("https://assets.nhs.uk/fonts/FrutigerLTW01-55Roman.eot?#iefix") format("embedded-opentype"),
		   url("https://assets.nhs.uk/fonts/FrutigerLTW01-55Roman.woff2") format("woff2"),
		   url("https://assets.nhs.uk/fonts/FrutigerLTW01-55Roman.woff") format("woff");
	}
	
	@font-face {
	  font-display: swap;
	  font-family: "Frutiger W01";
	  font-style: normal;
	  font-weight: 600;
	  src: url("https://assets.nhs.uk/fonts/FrutigerLTW01-65Bold.eot");
	  src: url("https://assets.nhs.uk/fonts/FrutigerLTW01-65Bold.eot?#iefix") format("embedded-opentype"),
		   url("https://assets.nhs.uk/fonts/FrutigerLTW01-65Bold.woff2") format("woff2"),
		   url("https://assets.nhs.uk/fonts/FrutigerLTW01-65Bold.woff") format("woff");
	}
  `}function Gv(){if(typeof document>"u"||document.getElementById("nhs-fonts"))return;const t=document.createElement("style");t.id="nhs-fonts",t.textContent=Wv(),document.head.appendChild(t)}const Yv=({children:t,theme:e})=>($.useEffect(()=>{Gv()},[]),a.jsx(Hv,{theme:e,children:t})),Vv="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPCFET0NUWVBFIHN2ZyBQVUJMSUMgIi0vL1czQy8vRFREIFNWRyAxLjEvL0VOIiAiaHR0cDovL3d3dy53My5vcmcvR3JhcGhpY3MvU1ZHLzEuMS9EVEQvc3ZnMTEuZHRkIj4KPHN2ZyB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHdpZHRoPSI1MTIiIGhlaWdodD0iMTEzIiAgeG1sOnNwYWNlPSJwcmVzZXJ2ZSIgaWQ9ImZkcGxvZ28iPgogICAgPHJlY3QgaWQ9ImZkcGxvZ28tcmVjdGFuZ2xlIiBzdHJva2U9Im5vbmUiIGZpbGw9InJnYigzMiwgOTUsIDE3MikiIHg9IjIuNyIgeT0iLTAuMDMiIHdpZHRoPSIxNDQuMSIgaGVpZ2h0PSI1OC4wNSIgLz4KICAgIDxwYXRoIGlkPSJmZHBsb2dvLWJlemllciIgc3Ryb2tlPSJub25lIiBmaWxsPSJyZ2IoMjU0LCAyNTQsIDI1NCkiIGQ9Ik0gNjAuNjEsNS42IEwgNTAuNjYsNTIuMzEgMzUuMDYsNTIuMzEgMjUuMjQsMTkuOTkgMjUuMTEsMTkuOTkgMTguNTgsNTIuMzEgNi43NCw1Mi4zMSAxNi43Nyw1LjYgMzIuNDMsNS42IDQyLjA1LDM3Ljk5IDQyLjE4LDM3Ljk5IDQ4Ljc3LDUuNiA2MC42MSw1LjYgWiBNIDYwLjYxLDUuNiIgLz4KICAgIDxwYXRoIGlkPSJmZHBsb2dvLWJlemllcjIiIHN0cm9rZT0ibm9uZSIgZmlsbD0icmdiKDI1NCwgMjU0LCAyNTQpIiBkPSJNIDEwNS4yNiw1LjYgTCA5NS41MSw1Mi4zMSA4Mi45NCw1Mi4zMSA4Ny4xMSwzMi4zIDcyLjI0LDMyLjMgNjguMDcsNTIuMzEgNTUuNDksNTIuMzEgNjUuMjUsNS42IDc3LjgyLDUuNiA3NC4xMywyMy40NyA4OC45OSwyMy40NyA5Mi42OSw1LjYgMTA1LjI2LDUuNiBaIE0gMTA1LjI2LDUuNiIgLz4KICAgIDxwYXRoIGlkPSJmZHBsb2dvLWJlemllcjMiIHN0cm9rZT0ibm9uZSIgZmlsbD0icmdiKDI1NCwgMjU0LCAyNTQpIiBkPSJNIDE0MS4zOCw2Ljg3IEwgMTM4LjM1LDE2LjE3IEMgMTM1LjkyLDE1LjA0IDEzMi42MywxNC4wNCAxMjcuOTksMTQuMDQgMTIzLjAyLDE0LjA0IDExOC45OCwxNC43NyAxMTguOTgsMTguNTIgMTE4Ljk4LDI1LjE0IDEzNy4yLDIyLjY3IDEzNy4yLDM2Ljg1IDEzNy4yLDQ5Ljc3IDEyNS4xNyw1My4xMiAxMTQuMjcsNTMuMTIgMTA5LjQzLDUzLjEyIDEwMy44NSw1MS45NyA5OS43NSw1MC43IEwgMTAyLjcxLDQxLjIgQyAxMDUuMTksNDIuOCAxMTAuMTcsNDMuODggMTE0LjI3LDQzLjg4IDExOC4xOCw0My44OCAxMjQuMjksNDMuMTQgMTI0LjI5LDM4LjMyIDEyNC4yOSwzMC44MyAxMDYuMDYsMzMuNjQgMTA2LjA2LDIwLjQ2IDEwNi4wNiw4LjQyIDExNi42OSw0LjggMTI2Ljk4LDQuOCAxMzIuNzcsNC44IDEzOC4yMSw1LjQxIDE0MS4zOCw2Ljg3IFogTSAxNDEuMzgsNi44NyIgLz4KICAgIAogICAgPHRleHQgIGZpbGw9InJnYigzNSwgMzEsIDMyKSIgZm9udC1mYW1pbHk9IkZydXRpZ2VyTFRQcm8tQm9sZCwgJ0ZydXRpZ2VyIExUIFBybycsIHNhbnMtc2VyaWYiIGZvbnQtd2VpZ2h0PSJib2xkIiBmb250LXNpemU9IjQwIiB4PSIwIiB5PSI2NC44OSI+PHRzcGFuIHg9IjAiIHk9IjEwMi44OSI+RmVkZXJhdGVkIERhdGEgUGxhdGZvcm08L3RzcGFuPjwvdGV4dD4KPC9zdmc+Cg==",Zv="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPCFET0NUWVBFIHN2ZyBQVUJMSUMgIi0vL1czQy8vRFREIFNWRyAxLjEvL0VOIiAiaHR0cDovL3d3dy53My5vcmcvR3JhcGhpY3MvU1ZHLzEuMS9EVEQvc3ZnMTEuZHRkIj4KPHN2ZyB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHdpZHRoPSIyOTAiIGhlaWdodD0iMTU1IiAgeG1sOnNwYWNlPSJwcmVzZXJ2ZSIgaWQ9ImZkcHR3b2xpbmUiPgogICAgPHJlY3QgaWQ9ImZkcHR3b2xpbmUtcmVjdGFuZ2xlIiBzdHJva2U9Im5vbmUiIGZpbGw9InJnYigzMiwgOTUsIDE3MikiIHg9IjIuNyIgeT0iLTAuMDMiIHdpZHRoPSIxNDQuMSIgaGVpZ2h0PSI1OC4wNSIgLz4KICAgIDxwYXRoIGlkPSJmZHB0d29saW5lLWJlemllciIgc3Ryb2tlPSJub25lIiBmaWxsPSJyZ2IoMjU0LCAyNTQsIDI1NCkiIGQ9Ik0gNjAuNjEsNS42IEwgNTAuNjYsNTIuMzEgMzUuMDYsNTIuMzEgMjUuMjQsMTkuOTkgMjUuMTEsMTkuOTkgMTguNTgsNTIuMzEgNi43NCw1Mi4zMSAxNi43Nyw1LjYgMzIuNDMsNS42IDQyLjA1LDM3Ljk5IDQyLjE4LDM3Ljk5IDQ4Ljc3LDUuNiA2MC42MSw1LjYgWiBNIDYwLjYxLDUuNiIgLz4KICAgIDxwYXRoIGlkPSJmZHB0d29saW5lLWJlemllcjIiIHN0cm9rZT0ibm9uZSIgZmlsbD0icmdiKDI1NCwgMjU0LCAyNTQpIiBkPSJNIDEwNS4yNiw1LjYgTCA5NS41MSw1Mi4zMSA4Mi45NCw1Mi4zMSA4Ny4xMSwzMi4zIDcyLjI0LDMyLjMgNjguMDcsNTIuMzEgNTUuNDksNTIuMzEgNjUuMjUsNS42IDc3LjgyLDUuNiA3NC4xMywyMy40NyA4OC45OSwyMy40NyA5Mi42OSw1LjYgMTA1LjI2LDUuNiBaIE0gMTA1LjI2LDUuNiIgLz4KICAgIDxwYXRoIGlkPSJmZHB0d29saW5lLWJlemllcjMiIHN0cm9rZT0ibm9uZSIgZmlsbD0icmdiKDI1NCwgMjU0LCAyNTQpIiBkPSJNIDE0MS4zOCw2Ljg3IEwgMTM4LjM1LDE2LjE3IEMgMTM1LjkyLDE1LjA0IDEzMi42MywxNC4wNCAxMjcuOTksMTQuMDQgMTIzLjAyLDE0LjA0IDExOC45OCwxNC43NyAxMTguOTgsMTguNTIgMTE4Ljk4LDI1LjE0IDEzNy4yLDIyLjY3IDEzNy4yLDM2Ljg1IDEzNy4yLDQ5Ljc3IDEyNS4xNyw1My4xMiAxMTQuMjcsNTMuMTIgMTA5LjQzLDUzLjEyIDEwMy44NSw1MS45NyA5OS43NSw1MC43IEwgMTAyLjcxLDQxLjIgQyAxMDUuMTksNDIuOCAxMTAuMTcsNDMuODggMTE0LjI3LDQzLjg4IDExOC4xOCw0My44OCAxMjQuMjksNDMuMTQgMTI0LjI5LDM4LjMyIDEyNC4yOSwzMC44MyAxMDYuMDYsMzMuNjQgMTA2LjA2LDIwLjQ2IDEwNi4wNiw4LjQyIDExNi42OSw0LjggMTI2Ljk4LDQuOCAxMzIuNzcsNC44IDEzOC4yMSw1LjQxIDE0MS4zOCw2Ljg3IFogTSAxNDEuMzgsNi44NyIgLz4KICAgIDx0ZXh0ICBmaWxsPSJyZ2IoMzUsIDMxLCAzMikiIGZvbnQtZmFtaWx5PSJGcnV0aWdlckxUUHJvLUJvbGQsICdGcnV0aWdlciBMVCBQcm8nLCBzYW5zLXNlcmlmIiBmb250LXdlaWdodD0iYm9sZCIgZm9udC1zaXplPSI0MCIgeD0iMCIgeT0iNjQuODkiPjx0c3BhbiB4PSIwIiB5PSIxMDIuODkiPkZlZGVyYXRlZCBEYXRhIAo8L3RzcGFuPjx0c3BhbiB4PSIwIiB5PSIxNTAuODkiPlBsYXRmb3JtPC90c3Bhbj48L3RleHQ+Cjwvc3ZnPgo=",qv="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPCFET0NUWVBFIHN2ZyBQVUJMSUMgIi0vL1czQy8vRFREIFNWRyAxLjEvL0VOIiAiaHR0cDovL3d3dy53My5vcmcvR3JhcGhpY3MvU1ZHLzEuMS9EVEQvc3ZnMTEuZHRkIj4KPHN2ZyB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHdpZHRoPSIyOTAiIGhlaWdodD0iMTU1IiB4bWw6c3BhY2U9InByZXNlcnZlIiBpZD0iZmRwdHdvbGluZWludmVyc2UiPgoJPHJlY3QgaWQ9ImZkcHR3b2xpbmVpbnZlcnNlLXJlY3RhbmdsZSIgc3Ryb2tlPSJub25lIiBmaWxsPSJyZ2IoMzIsIDk1LCAxNzIpIiB4PSIyLjciIHk9Ii0wLjAzIiB3aWR0aD0iMTQ0LjEiIGhlaWdodD0iNTguMDUiIC8+Cgk8cGF0aCBpZD0iZmRwdHdvbGluZWludmVyc2UtYmV6aWVyIiBzdHJva2U9Im5vbmUiIGZpbGw9InJnYigyNTQsIDI1NCwgMjU0KSIgZD0iTSA2MC42MSw1LjYgTCA1MC42Niw1Mi4zMSAzNS4wNiw1Mi4zMSAyNS4yNCwxOS45OSAyNS4xMSwxOS45OSAxOC41OCw1Mi4zMSA2Ljc0LDUyLjMxIDE2Ljc3LDUuNiAzMi40Myw1LjYgNDIuMDUsMzcuOTkgNDIuMTgsMzcuOTkgNDguNzcsNS42IDYwLjYxLDUuNiBaIE0gNjAuNjEsNS42IiAvPgoJPHBhdGggaWQ9ImZkcHR3b2xpbmVpbnZlcnNlLWJlemllcjIiIHN0cm9rZT0ibm9uZSIgZmlsbD0icmdiKDI1NCwgMjU0LCAyNTQpIiBkPSJNIDEwNS4yNiw1LjYgTCA5NS41MSw1Mi4zMSA4Mi45NCw1Mi4zMSA4Ny4xMSwzMi4zIDcyLjI0LDMyLjMgNjguMDcsNTIuMzEgNTUuNDksNTIuMzEgNjUuMjUsNS42IDc3LjgyLDUuNiA3NC4xMywyMy40NyA4OC45OSwyMy40NyA5Mi42OSw1LjYgMTA1LjI2LDUuNiBaIE0gMTA1LjI2LDUuNiIgLz4KCTxwYXRoIGlkPSJmZHB0d29saW5laW52ZXJzZS1iZXppZXIzIiBzdHJva2U9Im5vbmUiIGZpbGw9InJnYigyNTQsIDI1NCwgMjU0KSIgZD0iTSAxNDEuMzgsNi44NyBMIDEzOC4zNSwxNi4xNyBDIDEzNS45MiwxNS4wNCAxMzIuNjMsMTQuMDQgMTI3Ljk5LDE0LjA0IDEyMy4wMiwxNC4wNCAxMTguOTgsMTQuNzcgMTE4Ljk4LDE4LjUyIDExOC45OCwyNS4xNCAxMzcuMiwyMi42NyAxMzcuMiwzNi44NSAxMzcuMiw0OS43NyAxMjUuMTcsNTMuMTIgMTE0LjI3LDUzLjEyIDEwOS40Myw1My4xMiAxMDMuODUsNTEuOTcgOTkuNzUsNTAuNyBMIDEwMi43MSw0MS4yIEMgMTA1LjE5LDQyLjggMTEwLjE3LDQzLjg4IDExNC4yNyw0My44OCAxMTguMTgsNDMuODggMTI0LjI5LDQzLjE0IDEyNC4yOSwzOC4zMiAxMjQuMjksMzAuODMgMTA2LjA2LDMzLjY0IDEwNi4wNiwyMC40NiAxMDYuMDYsOC40MiAxMTYuNjksNC44IDEyNi45OCw0LjggMTMyLjc3LDQuOCAxMzguMjEsNS40MSAxNDEuMzgsNi44NyBaIE0gMTQxLjM4LDYuODciIC8+Cgk8dGV4dCBmaWxsPSJyZ2IoMjU0LCAyNTQsIDI1NCkiIGZvbnQtZmFtaWx5PSJGcnV0aWdlckxUUHJvLUJvbGQsICdGcnV0aWdlciBMVCBQcm8nLCBzYW5zLXNlcmlmIiBmb250LXdlaWdodD0iYm9sZCIgZm9udC1zaXplPSI0MCIgeD0iMCIgeT0iNjQuODkiPgoJCTx0c3BhbiB4PSIwIiB5PSIxMDIuODkiPgoJCQlGZWRlcmF0ZWQgRGF0YQoJCTwvdHNwYW4+CgkJPHRzcGFuIHg9IjAiIHk9IjE1MC44OSI+CgkJCVBsYXRmb3JtCgkJPC90c3Bhbj4KCTwvdGV4dD4KPC9zdmc+Cg==",Xv="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPCFET0NUWVBFIHN2ZyBQVUJMSUMgIi0vL1czQy8vRFREIFNWRyAxLjEvL0VOIiAiaHR0cDovL3d3dy53My5vcmcvR3JhcGhpY3MvU1ZHLzEuMS9EVEQvc3ZnMTEuZHRkIj4KPHN2ZyB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHdpZHRoPSI1MTIiIGhlaWdodD0iMTEzIiAgeG1sOnNwYWNlPSJwcmVzZXJ2ZSIgaWQ9ImZkcGxvZ29pbnZlcnNlIj4KICAgIDxyZWN0IGlkPSJmZHBsb2dvaW52ZXJzZS1yZWN0YW5nbGUiIHN0cm9rZT0ibm9uZSIgZmlsbD0icmdiKDI1NCwgMjU0LCAyNTQpIiB4PSIyLjciIHk9Ii0wLjAzIiB3aWR0aD0iMTQ0LjEiIGhlaWdodD0iNTguMDUiIC8+CiAgICA8ZyBpZD0iZmRwbG9nb2ludmVyc2UtZ3JvdXAiPgogICAgICAgIDxwYXRoIGlkPSJmZHBsb2dvaW52ZXJzZS1iZXppZXIzIiBzdHJva2U9Im5vbmUiIGZpbGw9InJnYigwLCA5NCwgMTg0KSIgZD0iTSAxNDEuMzgsNi44NyBMIDEzOC4zNSwxNi4xNyBDIDEzNS45MiwxNS4wNCAxMzIuNjMsMTQuMDQgMTI3Ljk5LDE0LjA0IDEyMy4wMiwxNC4wNCAxMTguOTgsMTQuNzcgMTE4Ljk4LDE4LjUyIDExOC45OCwyNS4xNCAxMzcuMiwyMi42NyAxMzcuMiwzNi44NSAxMzcuMiw0OS43NyAxMjUuMTcsNTMuMTIgMTE0LjI3LDUzLjEyIDEwOS40Myw1My4xMiAxMDMuODUsNTEuOTcgOTkuNzUsNTAuNyBMIDEwMi43MSw0MS4yIEMgMTA1LjE5LDQyLjggMTEwLjE3LDQzLjg4IDExNC4yNyw0My44OCAxMTguMTgsNDMuODggMTI0LjI5LDQzLjE0IDEyNC4yOSwzOC4zMiAxMjQuMjksMzAuODMgMTA2LjA2LDMzLjY0IDEwNi4wNiwyMC40NiAxMDYuMDYsOC40MiAxMTYuNjksNC44IDEyNi45OCw0LjggMTMyLjc3LDQuOCAxMzguMjEsNS40MSAxNDEuMzgsNi44NyBaIE0gMTQxLjM4LDYuODciIC8+CiAgICAgICAgPHBhdGggaWQ9ImZkcGxvZ29pbnZlcnNlLWJlemllcjIiIHN0cm9rZT0ibm9uZSIgZmlsbD0icmdiKDAsIDk0LCAxODQpIiBkPSJNIDEwNS4yNiw1LjYgTCA5NS41MSw1Mi4zMSA4Mi45NCw1Mi4zMSA4Ny4xMSwzMi4zIDcyLjI0LDMyLjMgNjguMDcsNTIuMzEgNTUuNDksNTIuMzEgNjUuMjUsNS42IDc3LjgyLDUuNiA3NC4xMywyMy40NyA4OC45OSwyMy40NyA5Mi42OSw1LjYgMTA1LjI2LDUuNiBaIE0gMTA1LjI2LDUuNiIgLz4KICAgICAgICA8cGF0aCBpZD0iZmRwbG9nb2ludmVyc2UtYmV6aWVyIiBzdHJva2U9Im5vbmUiIGZpbGw9InJnYigwLCA5NCwgMTg0KSIgZD0iTSA2MC42MSw1LjYgTCA1MC42Niw1Mi4zMSAzNS4wNiw1Mi4zMSAyNS4yNCwxOS45OSAyNS4xMSwxOS45OSAxOC41OCw1Mi4zMSA2Ljc0LDUyLjMxIDE2Ljc3LDUuNiAzMi40Myw1LjYgNDIuMDUsMzcuOTkgNDIuMTgsMzcuOTkgNDguNzcsNS42IDYwLjYxLDUuNiBaIE0gNjAuNjEsNS42IiAvPgogICAgPC9nPgogICAgCiAgICA8dGV4dCAgZmlsbD0icmdiKDI1NCwgMjU0LCAyNTQpIiBmb250LWZhbWlseT0iRnJ1dGlnZXJMVFByby1Cb2xkLCAnRnJ1dGlnZXIgTFQgUHJvJywgc2Fucy1zZXJpZiIgZm9udC13ZWlnaHQ9ImJvbGQiIGZvbnQtc2l6ZT0iNDAiIHg9IjAiIHk9IjY0Ljg5Ij48dHNwYW4geD0iMCIgeT0iMTAyLjg5Ij5GZWRlcmF0ZWQgRGF0YSBQbGF0Zm9ybTwvdHNwYW4+PC90ZXh0Pgo8L3N2Zz4K",Jv="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='UTF-8'?%3e%3c!DOCTYPE%20svg%20PUBLIC%20'-//W3C//DTD%20SVG%201.1//EN'%20'http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd'%3e%3csvg%20version='1.1'%20xmlns='http://www.w3.org/2000/svg'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20width='357'%20height='114'%20xml:space='preserve'%20id='fdpgraphic'%3e%3cdefs%3e%3clinearGradient%20id='fdpgraphic-gradient-rectangle2'%20x1='113.66'%20y1='27.99'%20x2='0.02'%20y2='27.99'%20gradientUnits='userSpaceOnUse'%20%3e%3cstop%20offset='0'%20stop-color='rgb(96,%20178,%20226)'%20stop-opacity='1'%20/%3e%3cstop%20offset='0.51'%20stop-color='rgb(34,%2094,%20172)'%20stop-opacity='1'%20/%3e%3c/linearGradient%3e%3clinearGradient%20id='fdpgraphic-gradient2-clip'%20x1='243.8'%20y1='28.5'%20x2='113.64'%20y2='28.5'%20gradientUnits='userSpaceOnUse'%20%3e%3cstop%20offset='0.5'%20stop-color='rgb(4,%20150,%2071)'%20stop-opacity='1'%20/%3e%3cstop%20offset='0.64'%20stop-color='rgb(51,%20159,%20112)'%20stop-opacity='1'%20/%3e%3cstop%20offset='1'%20stop-color='rgb(98,%20167,%20153)'%20stop-opacity='1'%20/%3e%3c/linearGradient%3e%3clinearGradient%20id='fdpgraphic-gradient4-bezier4'%20x1='357.05'%20y1='85.21'%20x2='243.44'%20y2='85.21'%20gradientUnits='userSpaceOnUse'%20%3e%3cstop%20offset='0.5'%20stop-color='rgb(214,%20203,%20226)'%20stop-opacity='1'%20/%3e%3cstop%20offset='0.86'%20stop-color='rgb(234,%20229,%20240)'%20stop-opacity='1'%20/%3e%3cstop%20offset='1'%20stop-color='rgb(255,%20255,%20255)'%20stop-opacity='1'%20/%3e%3c/linearGradient%3e%3c/defs%3e%3cg%20id='fdpgraphic-group3'%3e%3cg%20id='fdpgraphic-squareGroup'%3e%3crect%20id='fdpgraphic-rectangle'%20stroke='none'%20fill='rgb(34,%2094,%20172)'%20x='0.02'%20y='0.49'%20width='113.6'%20height='113.6'%20/%3e%3crect%20id='fdpgraphic-rectangle2'%20stroke='none'%20fill='url(%23fdpgraphic-gradient-rectangle2)'%20x='0'%20y='0'%20width='113.65'%20height='56'%20/%3e%3c/g%3e%3cg%20id='fdpgraphic-hexagonGroup'%3e%3cpath%20id='fdpgraphic-polygon'%20stroke='none'%20fill='rgb(73,%20160,%20152)'%20d='M%20146.15,-0%20L%20211.25,0%20243.8,57.03%20211.25,114.06%20146.15,114.06%20113.6,57.03%20146.15,-0%20Z%20M%20146.15,-0'%20/%3e%3cg%20id='fdpgraphic-hexagon'%3e%3cpath%20id='fdpgraphic-clip'%20stroke='none'%20fill='url(%23fdpgraphic-gradient2-clip)'%20d='M%20146.18,-0%20L%20113.64,57%20243.8,57%20211.26,-0%20146.18,-0%20Z%20M%20146.18,-0'%20/%3e%3c/g%3e%3c/g%3e%3cg%20id='fdpgraphic-circleGroup'%3e%3ccircle%20id='fdpgraphic-oval'%20stroke='none'%20fill='rgb(214,%20203,%20226)'%20cx='300.25'%20cy='56.8'%20r='56.8'%20/%3e%3cpath%20id='fdpgraphic-bezier4'%20stroke='none'%20fill='url(%23fdpgraphic-gradient4-bezier4)'%20d='M%20300.25,56.8%20L%20243.45,56.8%20C%20243.45,88.18%20268.88,113.61%20300.25,113.61%20L%20300.25,113.61%20C%20331.62,113.61%20357.05,88.18%20357.05,56.8%20L%20357.05,56.8%20300.25,56.8%20Z%20M%20300.25,56.8'%20/%3e%3c/g%3e%3cpath%20id='fdpgraphic-bezier5'%20stroke='rgb(217,%20216,%20216)'%20stroke-width='2.49'%20stroke-miterlimit='2.49'%20fill='none'%20d='M%2054.9,56.9%20L%20301.64,56.9'%20/%3e%3c/g%3e%3c/svg%3e",Kv="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='UTF-8'?%3e%3c!DOCTYPE%20svg%20PUBLIC%20'-//W3C//DTD%20SVG%201.1//EN'%20'http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd'%3e%3csvg%20version='1.1'%20xmlns='http://www.w3.org/2000/svg'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20width='393'%20height='47'%20xml:space='preserve'%20id='fdplockuplogo'%3e%3cdefs%3e%3clinearGradient%20id='fdplockuplogo-gradient-rectangle2'%20x1='45.65'%20y1='11.5'%20x2='0.01'%20y2='11.5'%20gradientUnits='userSpaceOnUse'%20%3e%3cstop%20offset='0'%20stop-color='rgb(96,%20178,%20226)'%20stop-opacity='1'%20/%3e%3cstop%20offset='0.51'%20stop-color='rgb(34,%2094,%20172)'%20stop-opacity='1'%20/%3e%3c/linearGradient%3e%3clinearGradient%20id='fdplockuplogo-gradient2-clip'%20x1='98.8'%20y1='12'%20x2='45.64'%20y2='12'%20gradientUnits='userSpaceOnUse'%20%3e%3cstop%20offset='0.5'%20stop-color='rgb(4,%20150,%2071)'%20stop-opacity='1'%20/%3e%3cstop%20offset='0.64'%20stop-color='rgb(51,%20159,%20112)'%20stop-opacity='1'%20/%3e%3cstop%20offset='1'%20stop-color='rgb(98,%20167,%20153)'%20stop-opacity='1'%20/%3e%3c/linearGradient%3e%3clinearGradient%20id='fdplockuplogo-gradient4-bezier4'%20x1='145.05'%20y1='34.96'%20x2='98.45'%20y2='34.96'%20gradientUnits='userSpaceOnUse'%20%3e%3cstop%20offset='0.5'%20stop-color='rgb(214,%20203,%20226)'%20stop-opacity='1'%20/%3e%3cstop%20offset='0.86'%20stop-color='rgb(234,%20229,%20240)'%20stop-opacity='1'%20/%3e%3cstop%20offset='1'%20stop-color='rgb(255,%20255,%20255)'%20stop-opacity='1'%20/%3e%3c/linearGradient%3e%3c/defs%3e%3cpath%20id='fdplockuplogo-bezier7'%20stroke='none'%20fill='rgb(33,%2094,%20171)'%20d='M%20157.2,1.11%20L%20168.06,1.11%20184.85,34.06%20184.97,34.06%20184.97,1.11%20193.43,1.11%20193.43,45.17%20182.64,45.17%20165.78,12.22%20165.66,12.22%20165.66,45.17%20157.2,45.17%20157.2,1.11%20Z%20M%20157.2,1.11'%20/%3e%3cpath%20id='fdplockuplogo-bezier8'%20stroke='none'%20fill='rgb(33,%2094,%20171)'%20d='M%20200.37,1.11%20L%20209.21,1.11%20209.21,18.91%20226.88,18.91%20226.88,1.11%20235.72,1.11%20235.72,45.17%20226.88,45.17%20226.88,25.85%20209.21,25.85%20209.21,45.17%20200.37,45.17%20200.37,1.11%20Z%20M%20200.37,1.11'%20/%3e%3cpath%20id='fdplockuplogo-bezier9'%20stroke='none'%20fill='rgb(33,%2094,%20171)'%20d='M%20267.78,9.19%20C%20265,7.99%20261.91,7.29%20258.81,7.29%20255.78,7.29%20251.87,8.62%20251.87,13.42%20251.87,21.05%20271.19,17.84%20271.19,32.61%20271.19,42.27%20263.55,45.93%20254.65,45.93%20249.85,45.93%20247.7,45.3%20243.35,44.22%20L%20244.17,36.27%20C%20247.2,37.91%20250.67,38.98%20254.14,38.98%20257.49,38.98%20261.97,37.28%20261.97,33.3%20261.97,24.91%20242.65,28.38%20242.65,13.79%20242.65,3.95%20250.29,0.35%20258.06,0.35%20261.84,0.35%20265.38,0.85%20268.6,1.93%20L%20267.78,9.19%20Z%20M%20267.78,9.19'%20/%3e%3cpath%20id='fdplockuplogo-bezier10'%20stroke='none'%20fill='rgb(33,%2094,%20171)'%20d='M%20287.4,1.11%20L%20311.89,1.11%20311.89,8.05%20296.23,8.05%20296.23,18.91%20311.13,18.91%20311.13,25.85%20296.23,25.85%20296.23,45.17%20287.4,45.17%20287.4,1.11%20Z%20M%20287.4,1.11'%20/%3e%3cpath%20id='fdplockuplogo-bezier11'%20stroke='none'%20fill='rgb(33,%2094,%20171)'%20d='M%20327.66,38.23%20L%20332.59,38.23%20C%20339.97,38.23%20347.11,32.73%20347.11,23.14%20347.11,13.54%20339.97,8.05%20332.59,8.05%20L%20327.66,8.05%20327.66,38.23%20Z%20M%20318.82,1.1%20L%20330.88,1.1%20C%20344.39,1.1%20356.32,5.65%20356.32,23.14%20356.32,40.63%20344.39,45.17%20330.88,45.17%20L%20318.82,45.17%20318.82,1.1%20Z%20M%20318.82,1.1'%20/%3e%3cpath%20id='fdplockuplogo-bezier12'%20stroke='none'%20fill='rgb(33,%2094,%20171)'%20d='M%20372.09,21.5%20L%20375.19,21.5%20C%20379.61,21.5%20383.58,20.04%20383.58,14.93%20383.58,9.82%20379.73,8.05%20375.19,8.05%20L%20372.09,8.05%20372.09,21.5%20Z%20M%20363.26,1.11%20L%20374.43,1.11%20C%20384.03,1.11%20392.8,3.88%20392.8,14.43%20392.8,24.72%20385.29,28.44%20375.82,28.44%20L%20372.09,28.44%20372.09,45.17%20363.26,45.17%20363.26,1.11%20Z%20M%20363.26,1.11'%20/%3e%3cg%20id='fdplockuplogo-group3'%3e%3cg%20id='fdplockuplogo-squareGroup'%3e%3crect%20id='fdplockuplogo-rectangle'%20stroke='none'%20fill='rgb(34,%2094,%20172)'%20x='0.02'%20y='0.49'%20width='45.6'%20height='46.6'%20/%3e%3crect%20id='fdplockuplogo-rectangle2'%20stroke='none'%20fill='url(%23fdplockuplogo-gradient-rectangle2)'%20x='0'%20y='0'%20width='45.65'%20height='23'%20/%3e%3c/g%3e%3cg%20id='fdplockuplogo-hexagonGroup'%3e%3cpath%20id='fdplockuplogo-polygon'%20stroke='none'%20fill='rgb(73,%20160,%20152)'%20d='M%2058.9,-0%20L%2085.5,-0%2098.8,23.53%2085.5,47.06%2058.9,47.06%2045.6,23.53%2058.9,-0%20Z%20M%2058.9,-0'%20/%3e%3cg%20id='fdplockuplogo-hexagon'%3e%3cpath%20id='fdplockuplogo-clip'%20stroke='none'%20fill='url(%23fdplockuplogo-gradient2-clip)'%20d='M%2058.93,-0%20L%2045.64,24%2098.8,24%2085.51,-0%2058.93,-0%20Z%20M%2058.93,-0'%20/%3e%3c/g%3e%3c/g%3e%3cg%20id='fdplockuplogo-circleGroup'%3e%3cg%20id='fdplockuplogo-group'%3e%3ccircle%20id='fdplockuplogo-oval'%20stroke='none'%20fill='rgb(214,%20203,%20226)'%20cx='121.75'%20cy='23.3'%20r='23.3'%20/%3e%3cpath%20id='fdplockuplogo-bezier4'%20stroke='none'%20fill='url(%23fdplockuplogo-gradient4-bezier4)'%20d='M%20121.75,23.3%20L%2098.45,23.3%20C%2098.45,36.17%20108.88,46.61%20121.75,46.61%20L%20121.75,46.61%20C%20134.62,46.61%20145.05,36.17%20145.05,23.3%20L%20145.05,23.3%20121.75,23.3%20Z%20M%20121.75,23.3'%20/%3e%3c/g%3e%3c/g%3e%3cpath%20id='fdplockuplogo-bezier5'%20stroke='rgb(217,%20216,%20216)'%20stroke-width='1'%20stroke-miterlimit='2.49'%20fill='none'%20d='M%2022.3,23.48%20L%20122.54,23.48'%20/%3e%3c/g%3e%3c/svg%3e",Qv="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='UTF-8'?%3e%3c!DOCTYPE%20svg%20PUBLIC%20'-//W3C//DTD%20SVG%201.1//EN'%20'http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd'%3e%3csvg%20version='1.1'%20xmlns='http://www.w3.org/2000/svg'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20width='393'%20height='47'%20xml:space='preserve'%20id='fdplockuplogoinverted'%3e%3cdefs%3e%3clinearGradient%20id='fdplockuplogoinverted-gradient-rectangle2'%20x1='45.65'%20y1='11.5'%20x2='0.01'%20y2='11.5'%20gradientUnits='userSpaceOnUse'%20%3e%3cstop%20offset='0'%20stop-color='rgb(96,%20178,%20226)'%20stop-opacity='1'%20/%3e%3cstop%20offset='0.51'%20stop-color='rgb(34,%2094,%20172)'%20stop-opacity='1'%20/%3e%3c/linearGradient%3e%3clinearGradient%20id='fdplockuplogoinverted-gradient2-clip'%20x1='98.8'%20y1='12'%20x2='45.64'%20y2='12'%20gradientUnits='userSpaceOnUse'%20%3e%3cstop%20offset='0.5'%20stop-color='rgb(4,%20150,%2071)'%20stop-opacity='1'%20/%3e%3cstop%20offset='0.64'%20stop-color='rgb(51,%20159,%20112)'%20stop-opacity='1'%20/%3e%3cstop%20offset='1'%20stop-color='rgb(98,%20167,%20153)'%20stop-opacity='1'%20/%3e%3c/linearGradient%3e%3clinearGradient%20id='fdplockuplogoinverted-gradient4-bezier4'%20x1='145.05'%20y1='34.96'%20x2='98.45'%20y2='34.96'%20gradientUnits='userSpaceOnUse'%20%3e%3cstop%20offset='0.5'%20stop-color='rgb(214,%20203,%20226)'%20stop-opacity='1'%20/%3e%3cstop%20offset='0.86'%20stop-color='rgb(234,%20229,%20240)'%20stop-opacity='1'%20/%3e%3cstop%20offset='1'%20stop-color='rgb(255,%20255,%20255)'%20stop-opacity='1'%20/%3e%3c/linearGradient%3e%3c/defs%3e%3cpath%20id='fdplockuplogoinverted-bezier7'%20stroke='none'%20fill='rgb(254,%20254,%20254)'%20d='M%20157.2,1.11%20L%20168.06,1.11%20184.85,34.06%20184.97,34.06%20184.97,1.11%20193.43,1.11%20193.43,45.17%20182.64,45.17%20165.78,12.22%20165.66,12.22%20165.66,45.17%20157.2,45.17%20157.2,1.11%20Z%20M%20157.2,1.11'%20/%3e%3cpath%20id='fdplockuplogoinverted-bezier8'%20stroke='none'%20fill='rgb(254,%20254,%20254)'%20d='M%20200.37,1.11%20L%20209.21,1.11%20209.21,18.91%20226.88,18.91%20226.88,1.11%20235.72,1.11%20235.72,45.17%20226.88,45.17%20226.88,25.85%20209.21,25.85%20209.21,45.17%20200.37,45.17%20200.37,1.11%20Z%20M%20200.37,1.11'%20/%3e%3cpath%20id='fdplockuplogoinverted-bezier9'%20stroke='none'%20fill='rgb(254,%20254,%20254)'%20d='M%20267.78,9.19%20C%20265,7.99%20261.91,7.29%20258.81,7.29%20255.78,7.29%20251.87,8.62%20251.87,13.42%20251.87,21.05%20271.19,17.84%20271.19,32.61%20271.19,42.27%20263.55,45.93%20254.65,45.93%20249.85,45.93%20247.7,45.3%20243.35,44.22%20L%20244.17,36.27%20C%20247.2,37.91%20250.67,38.98%20254.14,38.98%20257.49,38.98%20261.97,37.28%20261.97,33.3%20261.97,24.91%20242.65,28.38%20242.65,13.79%20242.65,3.95%20250.29,0.35%20258.06,0.35%20261.84,0.35%20265.38,0.85%20268.6,1.93%20L%20267.78,9.19%20Z%20M%20267.78,9.19'%20/%3e%3cpath%20id='fdplockuplogoinverted-bezier10'%20stroke='none'%20fill='rgb(254,%20254,%20254)'%20d='M%20287.4,1.11%20L%20311.89,1.11%20311.89,8.05%20296.23,8.05%20296.23,18.91%20311.13,18.91%20311.13,25.85%20296.23,25.85%20296.23,45.17%20287.4,45.17%20287.4,1.11%20Z%20M%20287.4,1.11'%20/%3e%3cpath%20id='fdplockuplogoinverted-bezier11'%20stroke='none'%20fill='rgb(254,%20254,%20254)'%20d='M%20327.66,38.23%20L%20332.59,38.23%20C%20339.97,38.23%20347.11,32.73%20347.11,23.14%20347.11,13.54%20339.97,8.05%20332.59,8.05%20L%20327.66,8.05%20327.66,38.23%20Z%20M%20318.82,1.1%20L%20330.88,1.1%20C%20344.39,1.1%20356.32,5.65%20356.32,23.14%20356.32,40.63%20344.39,45.17%20330.88,45.17%20L%20318.82,45.17%20318.82,1.1%20Z%20M%20318.82,1.1'%20/%3e%3cpath%20id='fdplockuplogoinverted-bezier12'%20stroke='none'%20fill='rgb(254,%20254,%20254)'%20d='M%20372.09,21.5%20L%20375.19,21.5%20C%20379.61,21.5%20383.58,20.04%20383.58,14.93%20383.58,9.82%20379.73,8.05%20375.19,8.05%20L%20372.09,8.05%20372.09,21.5%20Z%20M%20363.26,1.11%20L%20374.43,1.11%20C%20384.03,1.11%20392.8,3.88%20392.8,14.43%20392.8,24.72%20385.29,28.44%20375.82,28.44%20L%20372.09,28.44%20372.09,45.17%20363.26,45.17%20363.26,1.11%20Z%20M%20363.26,1.11'%20/%3e%3cg%20id='fdplockuplogoinverted-group3'%3e%3cg%20id='fdplockuplogoinverted-squareGroup'%3e%3crect%20id='fdplockuplogoinverted-rectangle'%20stroke='none'%20fill='rgb(34,%2094,%20172)'%20x='0.02'%20y='0.49'%20width='45.6'%20height='46.6'%20/%3e%3crect%20id='fdplockuplogoinverted-rectangle2'%20stroke='none'%20fill='url(%23fdplockuplogoinverted-gradient-rectangle2)'%20x='0'%20y='0'%20width='45.65'%20height='23'%20/%3e%3c/g%3e%3cg%20id='fdplockuplogoinverted-hexagonGroup'%3e%3cpath%20id='fdplockuplogoinverted-polygon'%20stroke='none'%20fill='rgb(73,%20160,%20152)'%20d='M%2058.9,-0%20L%2085.5,-0%2098.8,23.53%2085.5,47.06%2058.9,47.06%2045.6,23.53%2058.9,-0%20Z%20M%2058.9,-0'%20/%3e%3cg%20id='fdplockuplogoinverted-hexagon'%3e%3cpath%20id='fdplockuplogoinverted-clip'%20stroke='none'%20fill='url(%23fdplockuplogoinverted-gradient2-clip)'%20d='M%2058.93,-0%20L%2045.64,24%2098.8,24%2085.51,-0%2058.93,-0%20Z%20M%2058.93,-0'%20/%3e%3c/g%3e%3c/g%3e%3cg%20id='fdplockuplogoinverted-circleGroup'%3e%3cg%20id='fdplockuplogoinverted-group'%3e%3ccircle%20id='fdplockuplogoinverted-oval'%20stroke='none'%20fill='rgb(214,%20203,%20226)'%20cx='121.75'%20cy='23.3'%20r='23.3'%20/%3e%3cpath%20id='fdplockuplogoinverted-bezier4'%20stroke='none'%20fill='url(%23fdplockuplogoinverted-gradient4-bezier4)'%20d='M%20121.75,23.3%20L%2098.45,23.3%20C%2098.45,36.17%20108.88,46.61%20121.75,46.61%20L%20121.75,46.61%20C%20134.62,46.61%20145.05,36.17%20145.05,23.3%20L%20145.05,23.3%20121.75,23.3%20Z%20M%20121.75,23.3'%20/%3e%3c/g%3e%3c/g%3e%3cpath%20id='fdplockuplogoinverted-bezier5'%20stroke='rgb(217,%20216,%20216)'%20stroke-width='1'%20stroke-miterlimit='2.49'%20fill='none'%20d='M%2022.3,23.48%20L%20122.54,23.48'%20/%3e%3c/g%3e%3c/svg%3e";var jf=(t=>(t.NHS="nhs",t.FDP="fdp",t))(jf||{}),Df=(t=>(t.Full="full",t.Graphic="graphic",t.Inverse="inverse",t.TwoLine="twoLine",t.TwoLineInverse="twoLineInverse",t.Compact="compact",t.CompactInverted="compactInverted",t))(Df||{});const ex={nhs:{},fdp:{full:{brand:"fdp",variant:"full",src:Vv,ariaLabel:"FDP"},graphic:{brand:"fdp",variant:"graphic",src:Jv,ariaLabel:"FDP"},inverse:{brand:"fdp",variant:"inverse",src:Xv,ariaLabel:"FDP"},twoLine:{brand:"fdp",variant:"twoLine",src:Zv,ariaLabel:"FDP"},twoLineInverse:{brand:"fdp",variant:"twoLineInverse",src:qv,ariaLabel:"FDP"},compact:{brand:"fdp",variant:"compact",src:Kv,ariaLabel:"FDP"},compactInverted:{brand:"fdp",variant:"compactInverted",src:Qv,ariaLabel:"FDP"}}};function tx(t,e="full"){return ex[t]?.[e]}function nx(t,{variant:e,isClient:n,menuOpen:r=!1,showMoreButton:i=!1,visibleItems:o,dropdownVisible:s,toggleMenu:l,navContainerRef:c,navListRef:u,searchNode:d,brand:f}){const{className:p,logo:h={},service:y={},serviceName:m,organisation:g,search:N,account:M,navigation:T,containerClasses:x,variant:v="default",attributes:C={},maxVisibleItems:w,responsiveNavigation:k=!0,logoVariant:b=Df.Full,..._}=t,I={...y,text:y?.text??m};"maxVisibleItems"in _&&delete _.maxVisibleItems;const j=I.href&&!h.href||I.href&&I.href===h.href,E=j?I.href:h.href,F=Ie("nhsuk-header",{"nhsuk-header--organisation":v==="organisation"||g,"nhsuk-header--white":v==="white"},p),A=Ie("nhsuk-header__container",x),P=Ie("nhsuk-header__navigation",{"nhsuk-header__navigation--white":T?.white,"nhsuk-header__navigation--justified":T?.justified},T?.className),oe=f??(typeof document>"u"?"nhs":document.documentElement.getAttribute("data-brand")==="fdp"?"fdp":"nhs"),G=()=>a.jsxs("svg",{className:"nhsuk-header__logo",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 200 80",height:"40",width:"100",focusable:"false",role:"img","aria-label":h.ariaLabel||"NHS",children:[a.jsx("title",{children:h.ariaLabel||"NHS"}),a.jsx("path",{fill:"#fff",d:"M200 0v80H0V0h200Zm-27.5 5.5c-14.5 0-29 5-29 22 0 10.2 7.7 13.5 14.7 16.3l.7.3c5.4 2 10.1 3.9 10.1 8.4 0 6.5-8.5 7.5-14 7.5s-12.5-1.5-16-3.5L135 70c5.5 2 13.5 3.5 20 3.5 15.5 0 32-4.5 32-22.5 0-19.5-25.5-16.5-25.5-25.5 0-5.5 5.5-6.5 12.5-6.5a35 35 0 0 1 14.5 3l4-13.5c-4.5-2-12-3-20-3Zm-131 2h-22l-14 65H22l9-45h.5l13.5 45h21.5l14-65H64l-9 45h-.5l-13-45Zm63 0h-18l-13 65h17l6-28H117l-5.5 28H129l13.5-65H125L119.5 32h-20l5-24.5Z"})]}),D=()=>{if(h.src)return a.jsx("img",{className:"nhsuk-header__organisation-logo",src:h.src,width:"280",alt:h.ariaLabel||(oe==="fdp"?"FDP":"NHS")});if(oe==="fdp"){const ee=tx(jf.FDP,b);if(ee?.src)return a.jsx("img",{className:"nhsuk-header__organisation-logo",src:ee.src,"data-logo-variant":b,width:"280",alt:ee.ariaLabel||"FDP"})}return G()},Q=()=>g?a.jsxs(a.Fragment,{children:[a.jsxs("span",{className:"nhsuk-header__organisation-name",children:[g.name,g.split&&a.jsxs("span",{className:"nhsuk-header__organisation-name-split",children:[" ",g.split]})]}),g.descriptor&&a.jsx("span",{className:"nhsuk-header__organisation-name-descriptor",children:g.descriptor})]}):null,Z=(ee,de)=>ee?de?a.jsx("a",{className:"nhsuk-header__service-name",href:de,children:ee}):a.jsx("span",{className:"nhsuk-header__service-name",children:ee}):null,re=ee=>ee.active||ee.current?a.jsx("strong",{className:"nhsuk-header__navigation-item-current-fallback",children:ee.html?a.jsx("span",{dangerouslySetInnerHTML:{__html:ee.html}}):ee.text}):ee.html?a.jsx("span",{dangerouslySetInnerHTML:{__html:ee.html}}):ee.text,J=()=>a.jsx("svg",{className:"nhsuk-icon nhsuk-icon__chevron-down",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24","aria-hidden":"true",focusable:"false",children:a.jsx("path",{d:"M15.5 12a1 1 0 0 1-.29.71l-5 5a1 1 0 0 1-1.42-1.42l4.3-4.29-4.3-4.29a1 1 0 0 1 1.42-1.42l5 5a1 1 0 0 1 .29.71z"})});return T?.items,a.jsxs("header",{className:F,role:"banner","data-module":"nhsuk-header",...C,..._,children:[a.jsxs("div",{className:A,children:[a.jsxs("div",{className:"nhsuk-header__service",children:[E?a.jsxs("a",{className:"nhsuk-header__service-logo",href:E,children:[D(),Q(),j&&Z(I.text)]}):a.jsxs(a.Fragment,{children:[D(),Q(),j&&Z(I.text)]}),I.text&&!j&&Z(I.text,I.href)]}),d??null,a.jsx(Wl,{...M,variant:v==="white"?"white":"default"})]}),T&&T.items&&T.items.length>0&&a.jsx("nav",{className:P,"aria-label":T.ariaLabel||"Menu",children:a.jsx("div",{className:Ie("nhsuk-header__navigation-container","nhsuk-width-container",{"nhsuk-header__navigation-container--initializing":n&&e==="client","nhsuk-header__navigation-container--ssr":!n},x),ref:c,children:a.jsxs("ul",{className:"nhsuk-header__navigation-list",ref:u,children:[(T?.items||[]).map((ee,de)=>a.jsx("li",{className:Ie("nhsuk-header__navigation-item",{"nhsuk-header__navigation-item--current":ee.active||ee.current,"nhsuk-header__navigation-item--hidden":i&&o!==void 0&&de>=(o??0)},ee.className),...ee.attributes||{},children:a.jsx("a",{className:"nhsuk-header__navigation-link",href:ee.href,...ee.active||ee.current?{"aria-current":ee.current?"page":"true"}:{},children:re(ee)})},de)),i&&o!==void 0&&a.jsx("li",{className:"nhsuk-header__navigation-item nhsuk-header__navigation-item--more",children:a.jsxs("button",{className:"nhsuk-header__navigation-button",id:"toggle-more-menu",type:"button","aria-haspopup":"true","aria-expanded":r?"true":"false","aria-controls":"nhsuk-header-more-menu",onClick:l,children:[a.jsx("span",{children:"More"}),J()]})})]})})}),n&&T&&T.items&&T.items.length>0&&r&&s&&a.jsx("div",{className:"nhsuk-header__dropdown-menu",hidden:!s,id:"nhsuk-header-more-menu",children:a.jsx("ul",{className:"nhsuk-header__dropdown-list",children:T.items.slice(o??0).map((ee,de)=>a.jsx("li",{className:Ie("nhsuk-header__dropdown-item",{"nhsuk-header__dropdown-item--current":ee.active||ee.current}),children:a.jsx("a",{className:"nhsuk-header__dropdown-link",href:ee.href,...ee.active||ee.current?{"aria-current":ee.current?"page":"true"}:{},onClick:()=>{l?.()},children:re(ee)})},`overflow-${(o??0)+de}`))})}),e==="server"]})}const Kl=$.createContext(void 0);function rx({brand:t="nhs",scope:e="document",children:n}){const[r,i]=$.useState(t);$.useEffect(()=>{i(t)},[t]),$.useEffect(()=>{if(e==="document")return document.documentElement.setAttribute("data-brand",r),()=>{}},[r,e]);const o=$.useMemo(()=>({brand:r,setBrand:i}),[r]);return e==="local"?a.jsx(Kl.Provider,{value:o,children:a.jsx("div",{"data-brand":r,children:n})}):a.jsx(Kl.Provider,{value:o,children:n})}function If(){const t=$.useContext(Kl);if(!t)throw new Error("useBrand must be used within BrandThemeProvider");return t}const Lf=({mode:t="form",action:e="/search",method:n="get",name:r="q",value:i,placeholder:o="Search",visuallyHiddenLabel:s="Search the NHS website",visuallyHiddenButton:l="Search",className:c,disabled:u=!1,callbacks:d={},isLoading:f=!1,showResults:p=!1,results:h=[],formAttributes:y={},inputAttributes:m={},buttonAttributes:g={},preventDefaultSubmit:N=!1,debounceMs:M=300,minQueryLength:T=1})=>{const[x,v]=$.useState(""),[C,w]=$.useState(!1),k=$.useRef(void 0),b=$.useRef(null),_=$.useRef(null),I=t==="controlled"&&i!==void 0,j=I?i:x,E=$.useCallback(re=>{k.current&&clearTimeout(k.current),k.current=setTimeout(()=>{d.onChange&&re.length>=T&&d.onChange(re)},M)},[d.onChange,M,T]),F=$.useCallback(re=>{const J=re.target.value;I||v(J),t!=="form"&&E(J)},[I,t,E]),A=$.useCallback(re=>{const J=j.trim(),ee={query:J,timestamp:Date.now(),formData:new FormData(re.currentTarget)};t==="controlled"||t==="hybrid"&&N?(re.preventDefault(),d.onSearch&&J.length>=T&&d.onSearch(ee)):t==="hybrid"&&d.onSearch&&J.length>=T&&d.onSearch(ee)},[t,j,d.onSearch,N,T]),P=$.useCallback(()=>{w(!0),d.onFocus?.()},[d.onFocus]),R=$.useCallback(()=>{w(!1),d.onBlur?.()},[d.onBlur]),oe=$.useCallback(()=>{I||v(""),d.onClear?.(),_.current?.focus()},[I,d.onClear]);$.useEffect(()=>()=>{k.current&&clearTimeout(k.current)},[]);const G=()=>a.jsx("svg",{className:Ie("nhsuk-icon nhsuk-icon__search",{"nhsuk-icon__search--loading":f}),xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24","aria-hidden":"true",focusable:"false",children:a.jsx("path",{d:"M19.71 18.29l-4.11-4.1a7 7 0 1 0-1.41 1.41l4.1 4.11a1 1 0 0 0 1.42 0 1 1 0 0 0 0-1.42zM5 10a5 5 0 1 1 5 5 5 5 0 0 1-5-5z"})}),D=()=>a.jsx("svg",{className:"nhsuk-icon nhsuk-icon__spinner",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24","aria-hidden":"true",focusable:"false",children:a.jsxs("circle",{cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"2",fill:"none",strokeLinecap:"round",strokeDasharray:"31.416",strokeDashoffset:"31.416",children:[a.jsx("animate",{attributeName:"stroke-dasharray",dur:"2s",values:"0 31.416;15.708 15.708;0 31.416",repeatCount:"indefinite"}),a.jsx("animate",{attributeName:"stroke-dashoffset",dur:"2s",values:"0;-15.708;-31.416",repeatCount:"indefinite"})]})}),Q=()=>!j||t==="form"?null:a.jsx("button",{type:"button",className:"nhsuk-header__search-clear",onClick:oe,"aria-label":"Clear search",children:a.jsx("svg",{className:"nhsuk-icon nhsuk-icon__close",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24","aria-hidden":"true",focusable:"false",children:a.jsx("path",{d:"M13.41 12l5.3-5.29a1 1 0 1 0-1.42-1.42L12 10.59l-5.29-5.3a1 1 0 0 0-1.42 1.42l5.3 5.29-5.3 5.29a1 1 0 0 0 1.42 1.42l5.29-5.3 5.29 5.3a1 1 0 0 0 1.42-1.42z"})})}),Z=()=>!p||!h.length||!C?null:a.jsx("div",{className:"nhsuk-header__search-results",role:"listbox",children:h.map(re=>a.jsx("div",{className:"nhsuk-header__search-result",role:"option",children:re.href?a.jsxs("a",{href:re.href,className:"nhsuk-header__search-result-link",children:[a.jsx("span",{className:"nhsuk-header__search-result-title",children:re.title}),re.description&&a.jsx("span",{className:"nhsuk-header__search-result-description",children:re.description})]}):a.jsxs("button",{type:"button",className:"nhsuk-header__search-result-button",onClick:()=>d.onSearch?.({query:re.title,timestamp:Date.now()}),children:[a.jsx("span",{className:"nhsuk-header__search-result-title",children:re.title}),re.description&&a.jsx("span",{className:"nhsuk-header__search-result-description",children:re.description})]})},re.id))});return a.jsxs("div",{className:Ie("nhsuk-header__search",c,{"nhsuk-header__search--controlled":t==="controlled","nhsuk-header__search--hybrid":t==="hybrid","nhsuk-header__search--loading":f,"nhsuk-header__search--focused":C,"nhsuk-header__search--has-results":p&&h.length>0}),children:[a.jsxs("form",{ref:b,className:"nhsuk-header__search-form",id:"search",action:t!=="controlled"?e:void 0,method:t!=="controlled"?n:void 0,role:"search",onSubmit:A,...y,children:[a.jsx("label",{className:"nhsuk-u-visually-hidden",htmlFor:"search-field",children:s}),a.jsxs("div",{className:"nhsuk-header__search-input-wrapper",children:[a.jsx("input",{ref:_,className:"nhsuk-header__search-input nhsuk-input",id:"search-field",name:t!=="controlled"?r:void 0,type:"search",placeholder:o,autoComplete:"off",value:j,onChange:F,onFocus:P,onBlur:R,disabled:u||f,...p&&h.length>0?{"aria-expanded":!0,"aria-haspopup":"listbox"}:{},...m}),Q()]}),a.jsxs("button",{className:"nhsuk-header__search-submit",type:"submit",disabled:u||f||t!=="form"&&j.length<T,...g,children:[f?D():G(),a.jsx("span",{className:"nhsuk-u-visually-hidden",children:f?"Searching...":l})]})]}),Z()]})},Js=({className:t,logo:e={},service:n={},organisation:r,search:i,account:o,navigation:s,containerClasses:l,variant:c="default",attributes:u={},...d})=>{const[f,p]=$.useState(!1),[h,y]=$.useState(!1),[m,g]=$.useState(s?.items?.length||0),[N,M]=$.useState(!1),[T,x]=$.useState(!1),v=$.useRef(null),C=$.useRef(null),w=$.useRef(!1);$.useEffect(()=>{typeof window>"u"||x(!0)},[]),$.useEffect(()=>{if(typeof document>"u")return;const j=E=>{E.key==="Escape"&&f&&p(!1)};if(f)return document.addEventListener("keydown",j),()=>document.removeEventListener("keydown",j)},[f]);const k=$.useRef(null),b=$.useCallback(()=>{if(!T||!s?.items||s.items.length===0||w.current)return;const j=v.current,E=C.current;if(!j||!E)return;w.current=!0,j.classList.add("nhsuk-header__navigation-container--measuring");const F=j.clientWidth,A=Array.from(E.children);if(!A.length){j.classList.remove("nhsuk-header__navigation-container--measuring"),w.current=!1;return}if(k.current==null){const ee=document.createElement("button");ee.type="button",ee.className="nhsuk-header__navigation-button nhsuk-header__navigation-button--prototype",ee.style.position="absolute",ee.style.visibility="hidden",ee.style.pointerEvents="none",ee.innerHTML="<span>More</span>",j.appendChild(ee),k.current=ee.getBoundingClientRect().width||104,j.removeChild(ee)}const P=k.current+16;let R=0,oe=0;const G=window.getComputedStyle(j),D=parseFloat(G.paddingLeft)||0,Q=parseFloat(G.paddingRight)||0;let Z=D+Q;for(const ee of A){const de=ee.getBoundingClientRect().width;if(R+de+P+Z>F)break;R+=de,oe+=1}const re=oe<s.items.length,J=re?oe:s.items.length;y(ee=>ee===re?ee:re),g(ee=>ee===J?ee:J),j.classList.remove("nhsuk-header__navigation-container--measuring"),w.current=!1},[T,s?.items]);$.useEffect(()=>{if(!T)return;const j=v.current;if(!j)return;let E=null;const F=()=>{E==null&&(E=window.requestAnimationFrame(()=>{E=null,b()}))};b();const A=new ResizeObserver(()=>F());return A.observe(j),C.current&&A.observe(C.current),()=>{E!=null&&window.cancelAnimationFrame(E),A.disconnect()}},[T,b]),$.useEffect(()=>{T&&b()},[s?.items?.length,T,b]);const _=j=>{j&&(j.preventDefault(),j.stopPropagation());const E=!f;p(E),M(E)},I=(()=>{try{return If()}catch{return}})();return nx({className:t,logo:e,service:n,organisation:r,search:i,account:o,navigation:s,containerClasses:l,variant:c,attributes:u,...d},{variant:"client",isClient:T,menuOpen:f,showMoreButton:h,visibleItems:m,dropdownVisible:N,toggleMenu:_,navContainerRef:v,navListRef:C,searchNode:i?a.jsx(Lf,{...i}):null,brand:I?.brand})};function ix(t,{variant:e,isClient:n}){const{className:r,logo:i={},service:o={},serviceName:s,organisation:l,account:c,navigation:u,containerClasses:d,variant:f="default",attributes:p={},maxVisibleItems:h,responsiveNavigation:y=!0,...m}=t;"maxVisibleItems"in m&&delete m.maxVisibleItems;const g={...o,text:o?.text??s},N=g.href&&!i.href||g.href&&g.href===i.href,M=N?g.href:i.href,T=Ie("nhsuk-header",{"nhsuk-header--organisation":f==="organisation"||l,"nhsuk-header--white":f==="white"},r),x=Ie("nhsuk-header__container",d),v=Ie("nhsuk-header__navigation",{"nhsuk-header__navigation--white":u?.white,"nhsuk-header__navigation--justified":u?.justified},u?.className),C=()=>a.jsxs("svg",{className:"nhsuk-header__logo",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 200 80",height:"40",width:"100",focusable:"false",role:"img","aria-label":i.ariaLabel||"NHS",children:[a.jsx("title",{children:i.ariaLabel||"NHS"}),a.jsx("path",{fill:"#fff",d:"M200 0v80H0V0h200Zm-27.5 5.5c-14.5 0-29 5-29 22 0 10.2 7.7 13.5 14.7 16.3l.7.3c5.4 2 10.1 3.9 10.1 8.4 0 6.5-8.5 7.5-14 7.5s-12.5-1.5-16-3.5L135 70c5.5 2 13.5 3.5 20 3.5 15.5 0 32-4.5 32-22.5 0-19.5-25.5-16.5-25.5-25.5 0-5.5 5.5-6.5 12.5-6.5a35 35 0 0 1 14.5 3l4-13.5c-4.5-2-12-3-20-3Zm-131 2h-22l-14 65H22l9-45h.5l13.5 45h21.5l14-65H64l-9 45h-.5l-13-45Zm63 0h-18l-13 65h17l6-28H117l-5.5 28H129l13.5-65H125L119.5 32h-20l5-24.5Z"})]}),w=()=>i.src?a.jsx("img",{className:"nhsuk-header__organisation-logo",src:i.src,width:"280",alt:i.ariaLabel||"NHS"}):C(),k=()=>l?a.jsxs(a.Fragment,{children:[a.jsxs("span",{className:"nhsuk-header__organisation-name",children:[l.name,l.split&&a.jsxs("span",{className:"nhsuk-header__organisation-name-split",children:[" ",l.split]})]}),l.descriptor&&a.jsx("span",{className:"nhsuk-header__organisation-name-descriptor",children:l.descriptor})]}):null,b=(F,A)=>F?A?a.jsx("a",{className:"nhsuk-header__service-name",href:A,children:F}):a.jsx("span",{className:"nhsuk-header__service-name",children:F}):null,_=F=>F.active||F.current?a.jsx("strong",{className:"nhsuk-header__navigation-item-current-fallback",children:F.html?a.jsx("span",{dangerouslySetInnerHTML:{__html:F.html}}):F.text}):F.html?a.jsx("span",{dangerouslySetInnerHTML:{__html:F.html}}):F.text,I=u?.items&&!y,j=I?[]:u?.items,E=I?u.items:[];return a.jsxs("header",{className:T,role:"banner","data-module":"nhsuk-header",...p,...m,children:[a.jsxs("div",{className:x,children:[a.jsxs("div",{className:"nhsuk-header__service",children:[M?a.jsxs("a",{className:"nhsuk-header__service-logo",href:M,children:[w(),k(),N&&b(g.text)]}):a.jsxs(a.Fragment,{children:[w(),k(),N&&b(g.text)]}),g.text&&!N&&b(g.text,g.href)]}),a.jsx(Wl,{...c,variant:f==="white"?"white":"default"})]}),u&&u.items&&u.items.length>0&&a.jsx("nav",{className:v,"aria-label":u.ariaLabel||"Menu",children:a.jsx("div",{className:Ie("nhsuk-header_navigation-container","nhsuk-width-container",{"nhsuk-header__navigation-container--ssr":!n},d),children:a.jsx("ul",{className:"nhsuk-header__navigation-list",children:(j||[]).map((F,A)=>a.jsx("li",{className:Ie("nhsuk-header__navigation-item",{"nhsuk-header__navigation-item--current":F.active||F.current},F.className),...F.attributes||{},children:a.jsx("a",{className:"nhsuk-header__navigation-link",href:F.href,...F.active||F.current?{"aria-current":F.current?"page":"true"}:{},children:_(F)})},A))})})}),I&&E.length>0&&a.jsx("div",{className:"nhsuk-header__dropdown-menu","data-ssr-overflow":"true",children:a.jsx("ul",{className:"nhsuk-header__dropdown-list",children:E.map((F,A)=>a.jsx("li",{className:Ie("nhsuk-header__dropdown-item",{"nhsuk-header__dropdown-item--current":F.active||F.current}),children:a.jsx("a",{className:"nhsuk-header__dropdown-link",href:F.href,...F.active||F.current?{"aria-current":F.current?"page":"true"}:{},children:_(F)})},`overflow-server-${A}`))})})]})}const ox=t=>ix(t,{variant:"server",isClient:!1}),Pf=({heading:t,headingLevel:e=1,headingClasses:n="",text:r,html:i,imageURL:o,containerClasses:s="",classes:l="",children:c,...u})=>{const d=["nhsuk-hero",o&&t?"nhsuk-hero--image nhsuk-hero--image-description":"",o&&!t?"nhsuk-hero--image":"",l].filter(Boolean).join(" "),f=["nhsuk-width-container",s,o?"":"nhsuk-hero--border"].filter(Boolean).join(" "),p=["nhsuk-hero__heading",n,!c&&!r&&!i?"nhsuk-u-margin-bottom-0":""].filter(Boolean).join(" "),h=c||t||r||i,y=()=>{if(!t)return null;const m={className:p};switch(e){case 1:return a.jsx("h1",{...m,children:t});case 2:return a.jsx("h2",{...m,children:t});case 3:return a.jsx("h3",{...m,children:t});case 4:return a.jsx("h4",{...m,children:t});case 5:return a.jsx("h5",{...m,children:t});case 6:return a.jsx("h6",{...m,children:t});default:return a.jsx("h1",{...m,children:t})}};return a.jsxs("section",{className:d,style:o?{backgroundImage:`url('${o}')`}:void 0,role:"banner",...u,children:[o&&a.jsx("div",{className:"nhsuk-hero__overlay",children:h&&a.jsx("div",{className:f,children:a.jsx("div",{className:"nhsuk-grid-row",children:a.jsx("div",{className:"nhsuk-grid-column-two-thirds",children:a.jsxs("div",{className:"nhsuk-hero-content",children:[y(),c||(i?a.jsx("div",{dangerouslySetInnerHTML:{__html:i}}):r?a.jsx("p",{className:"nhsuk-body-l nhsuk-u-margin-bottom-0",children:r}):null),a.jsx("span",{className:"nhsuk-hero__arrow","aria-hidden":"true"})]})})})})}),!o&&h&&a.jsx("div",{className:f,children:a.jsx("div",{className:"nhsuk-grid-row",children:a.jsx("div",{className:"nhsuk-grid-column-two-thirds",children:a.jsxs("div",{className:"nhsuk-hero__wrapper",children:[y(),c||(i?a.jsx("div",{dangerouslySetInnerHTML:{__html:i}}):r?a.jsx("p",{className:"nhsuk-body-l nhsuk-u-margin-bottom-0",children:r}):null)]})})})})]})};Pf.displayName="Hero";const Ql=({className:t,links:e=[],linksColumn2:n,linksColumn3:r,metaLinks:i,copyright:o="Â© NHS England",containerClasses:s,attributes:l={},style:c,footerStyle:u,containerStyle:d})=>{const f=(h,y=!1)=>a.jsx("li",{className:Ie("nhsuk-footer__list-item",{"nhsuk-footer-default__list-item":y}),children:a.jsx("a",{className:"nhsuk-footer__list-item-link",href:h.URL,target:h.newWindow?"_blank":void 0,rel:h.newWindow?"noopener noreferrer":void 0,children:h.label})},`${h.URL}-${h.label}`),p=!!(n||r);return a.jsx("footer",{role:"contentinfo",...l,style:{...l?.style,...c},children:a.jsxs("div",{className:"nhsuk-footer-container",children:[a.jsxs("div",{className:Ie("nhsuk-width-container",s),style:d,children:[a.jsx("h2",{className:"nhsuk-u-visually-hidden",children:"Support links"}),a.jsx("div",{className:Ie("nhsuk-footer",t),style:u,children:p?a.jsxs(a.Fragment,{children:[e.length>0&&a.jsx("ul",{className:"nhsuk-footer__list",children:e.map(h=>f(h))}),n&&n.length>0&&a.jsx("ul",{className:"nhsuk-footer__list",children:n.map(h=>f(h))}),r&&r.length>0&&a.jsx("ul",{className:"nhsuk-footer__list",children:r.map(h=>f(h))}),i&&i.length>0&&a.jsx("ul",{className:"nhsuk-footer__list nhsuk-footer__meta",children:i.map(h=>f(h))})]}):a.jsxs("ul",{className:"nhsuk-footer__list",children:[e.map(h=>f(h,!0)),(n||[]).map(h=>f(h,!0)),(r||[]).map(h=>f(h,!0)),(i||[]).map(h=>f(h,!0))]})}),!p&&a.jsx("div",{children:a.jsx("p",{className:"nhsuk-footer__copyright",children:o})})]}),p&&a.jsx("div",{className:"nhsuk-width-container",children:a.jsx("div",{children:a.jsx("p",{className:"nhsuk-footer__copyright",children:o})})})]})})};function Ks(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function sx(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function ec(t){let e,n,r;t.length!==2?(e=Ks,n=(l,c)=>Ks(t(l),c),r=(l,c)=>t(l)-c):(e=t===Ks||t===sx?t:ax,n=t,r=t);function i(l,c,u=0,d=l.length){if(u<d){if(e(c,c)!==0)return d;do{const f=u+d>>>1;n(l[f],c)<0?u=f+1:d=f}while(u<d)}return u}function o(l,c,u=0,d=l.length){if(u<d){if(e(c,c)!==0)return d;do{const f=u+d>>>1;n(l[f],c)<=0?u=f+1:d=f}while(u<d)}return u}function s(l,c,u=0,d=l.length){const f=i(l,c,u,d-1);return f>u&&r(l[f-1],c)>-r(l[f],c)?f-1:f}return{left:i,center:s,right:o}}function ax(){return 0}function lx(t){return t===null?NaN:+t}const cx=ec(Ks).right;ec(lx).center;function Af(t,e){let n,r;if(e===void 0)for(const i of t)i!=null&&(n===void 0?i>=i&&(n=r=i):(n>i&&(n=i),r<i&&(r=i)));else{let i=-1;for(let o of t)(o=e(o,++i,t))!=null&&(n===void 0?o>=o&&(n=r=o):(n>o&&(n=o),r<o&&(r=o)))}return[n,r]}class Ef extends Map{constructor(e,n=fx){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(const[r,i]of e)this.set(r,i)}get(e){return super.get(Ff(this,e))}has(e){return super.has(Ff(this,e))}set(e,n){return super.set(ux(this,e),n)}delete(e){return super.delete(dx(this,e))}}function Ff({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):n}function ux({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):(t.set(r,n),n)}function dx({_intern:t,_key:e},n){const r=e(n);return t.has(r)&&(n=t.get(r),t.delete(r)),n}function fx(t){return t!==null&&typeof t=="object"?t.valueOf():t}const hx=Math.sqrt(50),px=Math.sqrt(10),mx=Math.sqrt(2);function Qs(t,e,n){const r=(e-t)/Math.max(0,n),i=Math.floor(Math.log10(r)),o=r/Math.pow(10,i),s=o>=hx?10:o>=px?5:o>=mx?2:1;let l,c,u;return i<0?(u=Math.pow(10,-i)/s,l=Math.round(t*u),c=Math.round(e*u),l/u<t&&++l,c/u>e&&--c,u=-u):(u=Math.pow(10,i)*s,l=Math.round(t/u),c=Math.round(e/u),l*u<t&&++l,c*u>e&&--c),c<l&&.5<=n&&n<2?Qs(t,e,n*2):[l,c,u]}function gx(t,e,n){if(e=+e,t=+t,n=+n,!(n>0))return[];if(t===e)return[t];const r=e<t,[i,o,s]=r?Qs(e,t,n):Qs(t,e,n);if(!(o>=i))return[];const l=o-i+1,c=new Array(l);if(r)if(s<0)for(let u=0;u<l;++u)c[u]=(o-u)/-s;else for(let u=0;u<l;++u)c[u]=(o-u)*s;else if(s<0)for(let u=0;u<l;++u)c[u]=(i+u)/-s;else for(let u=0;u<l;++u)c[u]=(i+u)*s;return c}function tc(t,e,n){return e=+e,t=+t,n=+n,Qs(t,e,n)[2]}function nc(t,e,n){e=+e,t=+t,n=+n;const r=e<t,i=r?tc(e,t,n):tc(t,e,n);return(r?-1:1)*(i<0?1/-i:i)}function yx(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((e-t)/n))|0,o=new Array(i);++r<i;)o[r]=t+r*n;return o}function ea(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}const $f=Symbol("implicit");function Bf(){var t=new Ef,e=[],n=[],r=$f;function i(o){let s=t.get(o);if(s===void 0){if(r!==$f)return r;t.set(o,s=e.push(o)-1)}return n[s%n.length]}return i.domain=function(o){if(!arguments.length)return e.slice();e=[],t=new Ef;for(const s of o)t.has(s)||t.set(s,e.push(s)-1);return i},i.range=function(o){return arguments.length?(n=Array.from(o),i):n.slice()},i.unknown=function(o){return arguments.length?(r=o,i):r},i.copy=function(){return Bf(e,n).unknown(r)},ea.apply(i,arguments),i}function Of(){var t=Bf().unknown(void 0),e=t.domain,n=t.range,r=0,i=1,o,s,l=!1,c=0,u=0,d=.5;delete t.unknown;function f(){var p=e().length,h=i<r,y=h?i:r,m=h?r:i;o=(m-y)/Math.max(1,p-c+u*2),l&&(o=Math.floor(o)),y+=(m-y-o*(p-c))*d,s=o*(1-c),l&&(y=Math.round(y),s=Math.round(s));var g=yx(p).map(function(N){return y+o*N});return n(h?g.reverse():g)}return t.domain=function(p){return arguments.length?(e(p),f()):e()},t.range=function(p){return arguments.length?([r,i]=p,r=+r,i=+i,f()):[r,i]},t.rangeRound=function(p){return[r,i]=p,r=+r,i=+i,l=!0,f()},t.bandwidth=function(){return s},t.step=function(){return o},t.round=function(p){return arguments.length?(l=!!p,f()):l},t.padding=function(p){return arguments.length?(c=Math.min(1,u=+p),f()):c},t.paddingInner=function(p){return arguments.length?(c=Math.min(1,p),f()):c},t.paddingOuter=function(p){return arguments.length?(u=+p,f()):u},t.align=function(p){return arguments.length?(d=Math.max(0,Math.min(1,p)),f()):d},t.copy=function(){return Of(e(),[r,i]).round(l).paddingInner(c).paddingOuter(u).align(d)},ea.apply(f(),arguments)}function rc(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function Rf(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function bo(){}var vo=.7,ta=1/vo,Li="\\s*([+-]?\\d+)\\s*",xo="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Yn="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",bx=/^#([0-9a-f]{3,8})$/,vx=new RegExp(`^rgb\\(${Li},${Li},${Li}\\)$`),xx=new RegExp(`^rgb\\(${Yn},${Yn},${Yn}\\)$`),_x=new RegExp(`^rgba\\(${Li},${Li},${Li},${xo}\\)$`),wx=new RegExp(`^rgba\\(${Yn},${Yn},${Yn},${xo}\\)$`),Sx=new RegExp(`^hsl\\(${xo},${Yn},${Yn}\\)$`),kx=new RegExp(`^hsla\\(${xo},${Yn},${Yn},${xo}\\)$`),zf={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};rc(bo,_o,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:Hf,formatHex:Hf,formatHex8:Cx,formatHsl:Nx,formatRgb:Uf,toString:Uf});function Hf(){return this.rgb().formatHex()}function Cx(){return this.rgb().formatHex8()}function Nx(){return Zf(this).formatHsl()}function Uf(){return this.rgb().formatRgb()}function _o(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=bx.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?Wf(e):n===3?new dn(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?na(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?na(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=vx.exec(t))?new dn(e[1],e[2],e[3],1):(e=xx.exec(t))?new dn(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=_x.exec(t))?na(e[1],e[2],e[3],e[4]):(e=wx.exec(t))?na(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=Sx.exec(t))?Vf(e[1],e[2]/100,e[3]/100,1):(e=kx.exec(t))?Vf(e[1],e[2]/100,e[3]/100,e[4]):zf.hasOwnProperty(t)?Wf(zf[t]):t==="transparent"?new dn(NaN,NaN,NaN,0):null}function Wf(t){return new dn(t>>16&255,t>>8&255,t&255,1)}function na(t,e,n,r){return r<=0&&(t=e=n=NaN),new dn(t,e,n,r)}function Mx(t){return t instanceof bo||(t=_o(t)),t?(t=t.rgb(),new dn(t.r,t.g,t.b,t.opacity)):new dn}function ic(t,e,n,r){return arguments.length===1?Mx(t):new dn(t,e,n,r??1)}function dn(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}rc(dn,ic,Rf(bo,{brighter(t){return t=t==null?ta:Math.pow(ta,t),new dn(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?vo:Math.pow(vo,t),new dn(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new dn(Qr(this.r),Qr(this.g),Qr(this.b),ra(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Gf,formatHex:Gf,formatHex8:Tx,formatRgb:Yf,toString:Yf}));function Gf(){return`#${ei(this.r)}${ei(this.g)}${ei(this.b)}`}function Tx(){return`#${ei(this.r)}${ei(this.g)}${ei(this.b)}${ei((isNaN(this.opacity)?1:this.opacity)*255)}`}function Yf(){const t=ra(this.opacity);return`${t===1?"rgb(":"rgba("}${Qr(this.r)}, ${Qr(this.g)}, ${Qr(this.b)}${t===1?")":`, ${t})`}`}function ra(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function Qr(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function ei(t){return t=Qr(t),(t<16?"0":"")+t.toString(16)}function Vf(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new Hn(t,e,n,r)}function Zf(t){if(t instanceof Hn)return new Hn(t.h,t.s,t.l,t.opacity);if(t instanceof bo||(t=_o(t)),!t)return new Hn;if(t instanceof Hn)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),o=Math.max(e,n,r),s=NaN,l=o-i,c=(o+i)/2;return l?(e===o?s=(n-r)/l+(n<r)*6:n===o?s=(r-e)/l+2:s=(e-n)/l+4,l/=c<.5?o+i:2-o-i,s*=60):l=c>0&&c<1?0:s,new Hn(s,l,c,t.opacity)}function jx(t,e,n,r){return arguments.length===1?Zf(t):new Hn(t,e,n,r??1)}function Hn(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}rc(Hn,jx,Rf(bo,{brighter(t){return t=t==null?ta:Math.pow(ta,t),new Hn(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?vo:Math.pow(vo,t),new Hn(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new dn(oc(t>=240?t-240:t+120,i,r),oc(t,i,r),oc(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new Hn(qf(this.h),ia(this.s),ia(this.l),ra(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=ra(this.opacity);return`${t===1?"hsl(":"hsla("}${qf(this.h)}, ${ia(this.s)*100}%, ${ia(this.l)*100}%${t===1?")":`, ${t})`}`}}));function qf(t){return t=(t||0)%360,t<0?t+360:t}function ia(t){return Math.max(0,Math.min(1,t||0))}function oc(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const sc=t=>()=>t;function Dx(t,e){return function(n){return t+n*e}}function Ix(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function Lx(t){return(t=+t)==1?Xf:function(e,n){return n-e?Ix(e,n,t):sc(isNaN(e)?n:e)}}function Xf(t,e){var n=e-t;return n?Dx(t,n):sc(isNaN(t)?e:t)}const Jf=(function t(e){var n=Lx(e);function r(i,o){var s=n((i=ic(i)).r,(o=ic(o)).r),l=n(i.g,o.g),c=n(i.b,o.b),u=Xf(i.opacity,o.opacity);return function(d){return i.r=s(d),i.g=l(d),i.b=c(d),i.opacity=u(d),i+""}}return r.gamma=t,r})(1);function Px(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,r=e.slice(),i;return function(o){for(i=0;i<n;++i)r[i]=t[i]*(1-o)+e[i]*o;return r}}function Ax(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function Ex(t,e){var n=e?e.length:0,r=t?Math.min(n,t.length):0,i=new Array(r),o=new Array(n),s;for(s=0;s<r;++s)i[s]=cc(t[s],e[s]);for(;s<n;++s)o[s]=e[s];return function(l){for(s=0;s<r;++s)o[s]=i[s](l);return o}}function Fx(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function oa(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function $x(t,e){var n={},r={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?n[i]=cc(t[i],e[i]):r[i]=e[i];return function(o){for(i in n)r[i]=n[i](o);return r}}var ac=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,lc=new RegExp(ac.source,"g");function Bx(t){return function(){return t}}function Ox(t){return function(e){return t(e)+""}}function Rx(t,e){var n=ac.lastIndex=lc.lastIndex=0,r,i,o,s=-1,l=[],c=[];for(t=t+"",e=e+"";(r=ac.exec(t))&&(i=lc.exec(e));)(o=i.index)>n&&(o=e.slice(n,o),l[s]?l[s]+=o:l[++s]=o),(r=r[0])===(i=i[0])?l[s]?l[s]+=i:l[++s]=i:(l[++s]=null,c.push({i:s,x:oa(r,i)})),n=lc.lastIndex;return n<e.length&&(o=e.slice(n),l[s]?l[s]+=o:l[++s]=o),l.length<2?c[0]?Ox(c[0].x):Bx(e):(e=c.length,function(u){for(var d=0,f;d<e;++d)l[(f=c[d]).i]=f.x(u);return l.join("")})}function cc(t,e){var n=typeof e,r;return e==null||n==="boolean"?sc(e):(n==="number"?oa:n==="string"?(r=_o(e))?(e=r,Jf):Rx:e instanceof _o?Jf:e instanceof Date?Fx:Ax(e)?Px:Array.isArray(e)?Ex:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?$x:oa)(t,e)}function zx(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}function Hx(t){return function(){return t}}function Ux(t){return+t}var Kf=[0,1];function Pi(t){return t}function uc(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:Hx(isNaN(e)?NaN:.5)}function Wx(t,e){var n;return t>e&&(n=t,t=e,e=n),function(r){return Math.max(t,Math.min(e,r))}}function Gx(t,e,n){var r=t[0],i=t[1],o=e[0],s=e[1];return i<r?(r=uc(i,r),o=n(s,o)):(r=uc(r,i),o=n(o,s)),function(l){return o(r(l))}}function Yx(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),o=new Array(r),s=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++s<r;)i[s]=uc(t[s],t[s+1]),o[s]=n(e[s],e[s+1]);return function(l){var c=cx(t,l,1,r)-1;return o[c](i[c](l))}}function Qf(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function Vx(){var t=Kf,e=Kf,n=cc,r,i,o,s=Pi,l,c,u;function d(){var p=Math.min(t.length,e.length);return s!==Pi&&(s=Wx(t[0],t[p-1])),l=p>2?Yx:Gx,c=u=null,f}function f(p){return p==null||isNaN(p=+p)?o:(c||(c=l(t.map(r),e,n)))(r(s(p)))}return f.invert=function(p){return s(i((u||(u=l(e,t.map(r),oa)))(p)))},f.domain=function(p){return arguments.length?(t=Array.from(p,Ux),d()):t.slice()},f.range=function(p){return arguments.length?(e=Array.from(p),d()):e.slice()},f.rangeRound=function(p){return e=Array.from(p),n=zx,d()},f.clamp=function(p){return arguments.length?(s=p?!0:Pi,d()):s!==Pi},f.interpolate=function(p){return arguments.length?(n=p,d()):n},f.unknown=function(p){return arguments.length?(o=p,f):o},function(p,h){return r=p,i=h,d()}}function eh(){return Vx()(Pi,Pi)}function Zx(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function sa(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function Ai(t){return t=sa(Math.abs(t)),t?t[1]:NaN}function qx(t,e){return function(n,r){for(var i=n.length,o=[],s=0,l=t[0],c=0;i>0&&l>0&&(c+l+1>r&&(l=Math.max(1,r-c)),o.push(n.substring(i-=l,i+l)),!((c+=l+1)>r));)l=t[s=(s+1)%t.length];return o.reverse().join(e)}}function Xx(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var Jx=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function aa(t){if(!(e=Jx.exec(t)))throw new Error("invalid format: "+t);var e;return new dc({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}aa.prototype=dc.prototype;function dc(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}dc.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function Kx(t){e:for(var e=t.length,n=1,r=-1,i;n<e;++n)switch(t[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+t[n])break e;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(i+1):t}var th;function Qx(t,e){var n=sa(t,e);if(!n)return t+"";var r=n[0],i=n[1],o=i-(th=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,s=r.length;return o===s?r:o>s?r+new Array(o-s+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+sa(t,Math.max(0,e+o-1))[0]}function nh(t,e){var n=sa(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const rh={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:Zx,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>nh(t*100,e),r:nh,s:Qx,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function ih(t){return t}var oh=Array.prototype.map,sh=["y","z","a","f","p","n","Âµ","m","","k","M","G","T","P","E","Z","Y"];function e_(t){var e=t.grouping===void 0||t.thousands===void 0?ih:qx(oh.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",o=t.numerals===void 0?ih:Xx(oh.call(t.numerals,String)),s=t.percent===void 0?"%":t.percent+"",l=t.minus===void 0?"âˆ’":t.minus+"",c=t.nan===void 0?"NaN":t.nan+"";function u(f){f=aa(f);var p=f.fill,h=f.align,y=f.sign,m=f.symbol,g=f.zero,N=f.width,M=f.comma,T=f.precision,x=f.trim,v=f.type;v==="n"?(M=!0,v="g"):rh[v]||(T===void 0&&(T=12),x=!0,v="g"),(g||p==="0"&&h==="=")&&(g=!0,p="0",h="=");var C=m==="$"?n:m==="#"&&/[boxX]/.test(v)?"0"+v.toLowerCase():"",w=m==="$"?r:/[%p]/.test(v)?s:"",k=rh[v],b=/[defgprs%]/.test(v);T=T===void 0?6:/[gprs]/.test(v)?Math.max(1,Math.min(21,T)):Math.max(0,Math.min(20,T));function _(I){var j=C,E=w,F,A,P;if(v==="c")E=k(I)+E,I="";else{I=+I;var R=I<0||1/I<0;if(I=isNaN(I)?c:k(Math.abs(I),T),x&&(I=Kx(I)),R&&+I==0&&y!=="+"&&(R=!1),j=(R?y==="("?y:l:y==="-"||y==="("?"":y)+j,E=(v==="s"?sh[8+th/3]:"")+E+(R&&y==="("?")":""),b){for(F=-1,A=I.length;++F<A;)if(P=I.charCodeAt(F),48>P||P>57){E=(P===46?i+I.slice(F+1):I.slice(F))+E,I=I.slice(0,F);break}}}M&&!g&&(I=e(I,1/0));var oe=j.length+I.length+E.length,G=oe<N?new Array(N-oe+1).join(p):"";switch(M&&g&&(I=e(G+I,G.length?N-E.length:1/0),G=""),h){case"<":I=j+I+E+G;break;case"=":I=j+G+I+E;break;case"^":I=G.slice(0,oe=G.length>>1)+j+I+E+G.slice(oe);break;default:I=G+j+I+E;break}return o(I)}return _.toString=function(){return f+""},_}function d(f,p){var h=u((f=aa(f),f.type="f",f)),y=Math.max(-8,Math.min(8,Math.floor(Ai(p)/3)))*3,m=Math.pow(10,-y),g=sh[8+y/3];return function(N){return h(m*N)+g}}return{format:u,formatPrefix:d}}var la,ah,lh;t_({thousands:",",grouping:[3],currency:["$",""]});function t_(t){return la=e_(t),ah=la.format,lh=la.formatPrefix,la}function n_(t){return Math.max(0,-Ai(Math.abs(t)))}function r_(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Ai(e)/3)))*3-Ai(Math.abs(t)))}function i_(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,Ai(e)-Ai(t))+1}function o_(t,e,n,r){var i=nc(t,e,n),o;switch(r=aa(r??",f"),r.type){case"s":{var s=Math.max(Math.abs(t),Math.abs(e));return r.precision==null&&!isNaN(o=r_(i,s))&&(r.precision=o),lh(r,s)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(o=i_(i,Math.max(Math.abs(t),Math.abs(e))))&&(r.precision=o-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(o=n_(i))&&(r.precision=o-(r.type==="%")*2);break}}return ah(r)}function s_(t){var e=t.domain;return t.ticks=function(n){var r=e();return gx(r[0],r[r.length-1],n??10)},t.tickFormat=function(n,r){var i=e();return o_(i[0],i[i.length-1],n??10,r)},t.nice=function(n){n==null&&(n=10);var r=e(),i=0,o=r.length-1,s=r[i],l=r[o],c,u,d=10;for(l<s&&(u=s,s=l,l=u,u=i,i=o,o=u);d-- >0;){if(u=tc(s,l,n),u===c)return r[i]=s,r[o]=l,e(r);if(u>0)s=Math.floor(s/u)*u,l=Math.ceil(l/u)*u;else if(u<0)s=Math.ceil(s*u)/u,l=Math.floor(l*u)/u;else break;c=u}return t},t}function ca(){var t=eh();return t.copy=function(){return Qf(t,ca())},ea.apply(t,arguments),s_(t)}function a_(t,e){t=t.slice();var n=0,r=t.length-1,i=t[n],o=t[r],s;return o<i&&(s=n,n=r,r=s,s=i,i=o,o=s),t[n]=e.floor(i),t[r]=e.ceil(o),t}const fc=new Date,hc=new Date;function $t(t,e,n,r){function i(o){return t(o=arguments.length===0?new Date:new Date(+o)),o}return i.floor=o=>(t(o=new Date(+o)),o),i.ceil=o=>(t(o=new Date(o-1)),e(o,1),t(o),o),i.round=o=>{const s=i(o),l=i.ceil(o);return o-s<l-o?s:l},i.offset=(o,s)=>(e(o=new Date(+o),s==null?1:Math.floor(s)),o),i.range=(o,s,l)=>{const c=[];if(o=i.ceil(o),l=l==null?1:Math.floor(l),!(o<s)||!(l>0))return c;let u;do c.push(u=new Date(+o)),e(o,l),t(o);while(u<o&&o<s);return c},i.filter=o=>$t(s=>{if(s>=s)for(;t(s),!o(s);)s.setTime(s-1)},(s,l)=>{if(s>=s)if(l<0)for(;++l<=0;)for(;e(s,-1),!o(s););else for(;--l>=0;)for(;e(s,1),!o(s););}),n&&(i.count=(o,s)=>(fc.setTime(+o),hc.setTime(+s),t(fc),t(hc),Math.floor(n(fc,hc))),i.every=o=>(o=Math.floor(o),!isFinite(o)||!(o>0)?null:o>1?i.filter(r?s=>r(s)%o===0:s=>i.count(0,s)%o===0):i)),i}const ua=$t(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);ua.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?$t(e=>{e.setTime(Math.floor(e/t)*t)},(e,n)=>{e.setTime(+e+n*t)},(e,n)=>(n-e)/t):ua),ua.range;const mr=1e3,An=mr*60,gr=An*60,yr=gr*24,pc=yr*7,ch=yr*30,mc=yr*365,Ei=$t(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*mr)},(t,e)=>(e-t)/mr,t=>t.getUTCSeconds());Ei.range;const gc=$t(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*mr)},(t,e)=>{t.setTime(+t+e*An)},(t,e)=>(e-t)/An,t=>t.getMinutes());gc.range,$t(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*An)},(t,e)=>(e-t)/An,t=>t.getUTCMinutes()).range;const yc=$t(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*mr-t.getMinutes()*An)},(t,e)=>{t.setTime(+t+e*gr)},(t,e)=>(e-t)/gr,t=>t.getHours());yc.range,$t(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*gr)},(t,e)=>(e-t)/gr,t=>t.getUTCHours()).range;const wo=$t(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*An)/yr,t=>t.getDate()-1);wo.range;const bc=$t(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/yr,t=>t.getUTCDate()-1);bc.range,$t(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/yr,t=>Math.floor(t/yr)).range;function ti(t){return $t(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,n)=>{e.setDate(e.getDate()+n*7)},(e,n)=>(n-e-(n.getTimezoneOffset()-e.getTimezoneOffset())*An)/pc)}const da=ti(0),fa=ti(1),l_=ti(2),c_=ti(3),Fi=ti(4),u_=ti(5),d_=ti(6);da.range,fa.range,l_.range,c_.range,Fi.range,u_.range,d_.range;function ni(t){return $t(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCDate(e.getUTCDate()+n*7)},(e,n)=>(n-e)/pc)}const uh=ni(0),ha=ni(1),f_=ni(2),h_=ni(3),$i=ni(4),p_=ni(5),m_=ni(6);uh.range,ha.range,f_.range,h_.range,$i.range,p_.range,m_.range;const So=$t(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());So.range,$t(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth()).range;const br=$t(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());br.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:$t(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,n)=>{e.setFullYear(e.getFullYear()+n*t)}),br.range;const ri=$t(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());ri.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:$t(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCFullYear(e.getUTCFullYear()+n*t)}),ri.range;function g_(t,e,n,r,i,o){const s=[[Ei,1,mr],[Ei,5,5*mr],[Ei,15,15*mr],[Ei,30,30*mr],[o,1,An],[o,5,5*An],[o,15,15*An],[o,30,30*An],[i,1,gr],[i,3,3*gr],[i,6,6*gr],[i,12,12*gr],[r,1,yr],[r,2,2*yr],[n,1,pc],[e,1,ch],[e,3,3*ch],[t,1,mc]];function l(u,d,f){const p=d<u;p&&([u,d]=[d,u]);const h=f&&typeof f.range=="function"?f:c(u,d,f),y=h?h.range(u,+d+1):[];return p?y.reverse():y}function c(u,d,f){const p=Math.abs(d-u)/f,h=ec(([,,g])=>g).right(s,p);if(h===s.length)return t.every(nc(u/mc,d/mc,f));if(h===0)return ua.every(Math.max(nc(u,d,f),1));const[y,m]=s[p/s[h-1][2]<s[h][2]/p?h-1:h];return y.every(m)}return[l,c]}const[y_,b_]=g_(br,So,da,wo,yc,gc);function vc(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function xc(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function ko(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}function v_(t){var e=t.dateTime,n=t.date,r=t.time,i=t.periods,o=t.days,s=t.shortDays,l=t.months,c=t.shortMonths,u=Co(i),d=No(i),f=Co(o),p=No(o),h=Co(s),y=No(s),m=Co(l),g=No(l),N=Co(c),M=No(c),T={a:R,A:oe,b:G,B:D,c:null,d:gh,e:gh,f:H_,g:K_,G:e2,H:O_,I:R_,j:z_,L:yh,m:U_,M:W_,p:Q,q:Z,Q:Sh,s:kh,S:G_,u:Y_,U:V_,V:Z_,w:q_,W:X_,x:null,X:null,y:J_,Y:Q_,Z:t2,"%":wh},x={a:re,A:J,b:ee,B:de,c:null,d:vh,e:vh,f:o2,g:m2,G:y2,H:n2,I:r2,j:i2,L:xh,m:s2,M:a2,p:te,q:ie,Q:Sh,s:kh,S:l2,u:c2,U:u2,V:d2,w:f2,W:h2,x:null,X:null,y:p2,Y:g2,Z:b2,"%":wh},v={a:_,A:I,b:j,B:E,c:F,d:ph,e:ph,f:E_,g:hh,G:fh,H:mh,I:mh,j:I_,L:A_,m:D_,M:L_,p:b,q:j_,Q:$_,s:B_,S:P_,u:k_,U:C_,V:N_,w:S_,W:M_,x:A,X:P,y:hh,Y:fh,Z:T_,"%":F_};T.x=C(n,T),T.X=C(r,T),T.c=C(e,T),x.x=C(n,x),x.X=C(r,x),x.c=C(e,x);function C(K,ae){return function(me){var Y=[],le=-1,ce=0,ge=K.length,pe,U,Ee;for(me instanceof Date||(me=new Date(+me));++le<ge;)K.charCodeAt(le)===37&&(Y.push(K.slice(ce,le)),(U=dh[pe=K.charAt(++le)])!=null?pe=K.charAt(++le):U=pe==="e"?" ":"0",(Ee=ae[pe])&&(pe=Ee(me,U)),Y.push(pe),ce=le+1);return Y.push(K.slice(ce,le)),Y.join("")}}function w(K,ae){return function(me){var Y=ko(1900,void 0,1),le=k(Y,K,me+="",0),ce,ge;if(le!=me.length)return null;if("Q"in Y)return new Date(Y.Q);if("s"in Y)return new Date(Y.s*1e3+("L"in Y?Y.L:0));if(ae&&!("Z"in Y)&&(Y.Z=0),"p"in Y&&(Y.H=Y.H%12+Y.p*12),Y.m===void 0&&(Y.m="q"in Y?Y.q:0),"V"in Y){if(Y.V<1||Y.V>53)return null;"w"in Y||(Y.w=1),"Z"in Y?(ce=xc(ko(Y.y,0,1)),ge=ce.getUTCDay(),ce=ge>4||ge===0?ha.ceil(ce):ha(ce),ce=bc.offset(ce,(Y.V-1)*7),Y.y=ce.getUTCFullYear(),Y.m=ce.getUTCMonth(),Y.d=ce.getUTCDate()+(Y.w+6)%7):(ce=vc(ko(Y.y,0,1)),ge=ce.getDay(),ce=ge>4||ge===0?fa.ceil(ce):fa(ce),ce=wo.offset(ce,(Y.V-1)*7),Y.y=ce.getFullYear(),Y.m=ce.getMonth(),Y.d=ce.getDate()+(Y.w+6)%7)}else("W"in Y||"U"in Y)&&("w"in Y||(Y.w="u"in Y?Y.u%7:"W"in Y?1:0),ge="Z"in Y?xc(ko(Y.y,0,1)).getUTCDay():vc(ko(Y.y,0,1)).getDay(),Y.m=0,Y.d="W"in Y?(Y.w+6)%7+Y.W*7-(ge+5)%7:Y.w+Y.U*7-(ge+6)%7);return"Z"in Y?(Y.H+=Y.Z/100|0,Y.M+=Y.Z%100,xc(Y)):vc(Y)}}function k(K,ae,me,Y){for(var le=0,ce=ae.length,ge=me.length,pe,U;le<ce;){if(Y>=ge)return-1;if(pe=ae.charCodeAt(le++),pe===37){if(pe=ae.charAt(le++),U=v[pe in dh?ae.charAt(le++):pe],!U||(Y=U(K,me,Y))<0)return-1}else if(pe!=me.charCodeAt(Y++))return-1}return Y}function b(K,ae,me){var Y=u.exec(ae.slice(me));return Y?(K.p=d.get(Y[0].toLowerCase()),me+Y[0].length):-1}function _(K,ae,me){var Y=h.exec(ae.slice(me));return Y?(K.w=y.get(Y[0].toLowerCase()),me+Y[0].length):-1}function I(K,ae,me){var Y=f.exec(ae.slice(me));return Y?(K.w=p.get(Y[0].toLowerCase()),me+Y[0].length):-1}function j(K,ae,me){var Y=N.exec(ae.slice(me));return Y?(K.m=M.get(Y[0].toLowerCase()),me+Y[0].length):-1}function E(K,ae,me){var Y=m.exec(ae.slice(me));return Y?(K.m=g.get(Y[0].toLowerCase()),me+Y[0].length):-1}function F(K,ae,me){return k(K,e,ae,me)}function A(K,ae,me){return k(K,n,ae,me)}function P(K,ae,me){return k(K,r,ae,me)}function R(K){return s[K.getDay()]}function oe(K){return o[K.getDay()]}function G(K){return c[K.getMonth()]}function D(K){return l[K.getMonth()]}function Q(K){return i[+(K.getHours()>=12)]}function Z(K){return 1+~~(K.getMonth()/3)}function re(K){return s[K.getUTCDay()]}function J(K){return o[K.getUTCDay()]}function ee(K){return c[K.getUTCMonth()]}function de(K){return l[K.getUTCMonth()]}function te(K){return i[+(K.getUTCHours()>=12)]}function ie(K){return 1+~~(K.getUTCMonth()/3)}return{format:function(K){var ae=C(K+="",T);return ae.toString=function(){return K},ae},parse:function(K){var ae=w(K+="",!1);return ae.toString=function(){return K},ae},utcFormat:function(K){var ae=C(K+="",x);return ae.toString=function(){return K},ae},utcParse:function(K){var ae=w(K+="",!0);return ae.toString=function(){return K},ae}}}var dh={"-":"",_:" ",0:"0"},Ht=/^\s*\d+/,x_=/^%/,__=/[\\^$*+?|[\]().{}]/g;function dt(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",o=i.length;return r+(o<n?new Array(n-o+1).join(e)+i:i)}function w_(t){return t.replace(__,"\\$&")}function Co(t){return new RegExp("^(?:"+t.map(w_).join("|")+")","i")}function No(t){return new Map(t.map((e,n)=>[e.toLowerCase(),n]))}function S_(t,e,n){var r=Ht.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function k_(t,e,n){var r=Ht.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function C_(t,e,n){var r=Ht.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function N_(t,e,n){var r=Ht.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function M_(t,e,n){var r=Ht.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function fh(t,e,n){var r=Ht.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function hh(t,e,n){var r=Ht.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function T_(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function j_(t,e,n){var r=Ht.exec(e.slice(n,n+1));return r?(t.q=r[0]*3-3,n+r[0].length):-1}function D_(t,e,n){var r=Ht.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function ph(t,e,n){var r=Ht.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function I_(t,e,n){var r=Ht.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function mh(t,e,n){var r=Ht.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function L_(t,e,n){var r=Ht.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function P_(t,e,n){var r=Ht.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function A_(t,e,n){var r=Ht.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function E_(t,e,n){var r=Ht.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function F_(t,e,n){var r=x_.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function $_(t,e,n){var r=Ht.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function B_(t,e,n){var r=Ht.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function gh(t,e){return dt(t.getDate(),e,2)}function O_(t,e){return dt(t.getHours(),e,2)}function R_(t,e){return dt(t.getHours()%12||12,e,2)}function z_(t,e){return dt(1+wo.count(br(t),t),e,3)}function yh(t,e){return dt(t.getMilliseconds(),e,3)}function H_(t,e){return yh(t,e)+"000"}function U_(t,e){return dt(t.getMonth()+1,e,2)}function W_(t,e){return dt(t.getMinutes(),e,2)}function G_(t,e){return dt(t.getSeconds(),e,2)}function Y_(t){var e=t.getDay();return e===0?7:e}function V_(t,e){return dt(da.count(br(t)-1,t),e,2)}function bh(t){var e=t.getDay();return e>=4||e===0?Fi(t):Fi.ceil(t)}function Z_(t,e){return t=bh(t),dt(Fi.count(br(t),t)+(br(t).getDay()===4),e,2)}function q_(t){return t.getDay()}function X_(t,e){return dt(fa.count(br(t)-1,t),e,2)}function J_(t,e){return dt(t.getFullYear()%100,e,2)}function K_(t,e){return t=bh(t),dt(t.getFullYear()%100,e,2)}function Q_(t,e){return dt(t.getFullYear()%1e4,e,4)}function e2(t,e){var n=t.getDay();return t=n>=4||n===0?Fi(t):Fi.ceil(t),dt(t.getFullYear()%1e4,e,4)}function t2(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+dt(e/60|0,"0",2)+dt(e%60,"0",2)}function vh(t,e){return dt(t.getUTCDate(),e,2)}function n2(t,e){return dt(t.getUTCHours(),e,2)}function r2(t,e){return dt(t.getUTCHours()%12||12,e,2)}function i2(t,e){return dt(1+bc.count(ri(t),t),e,3)}function xh(t,e){return dt(t.getUTCMilliseconds(),e,3)}function o2(t,e){return xh(t,e)+"000"}function s2(t,e){return dt(t.getUTCMonth()+1,e,2)}function a2(t,e){return dt(t.getUTCMinutes(),e,2)}function l2(t,e){return dt(t.getUTCSeconds(),e,2)}function c2(t){var e=t.getUTCDay();return e===0?7:e}function u2(t,e){return dt(uh.count(ri(t)-1,t),e,2)}function _h(t){var e=t.getUTCDay();return e>=4||e===0?$i(t):$i.ceil(t)}function d2(t,e){return t=_h(t),dt($i.count(ri(t),t)+(ri(t).getUTCDay()===4),e,2)}function f2(t){return t.getUTCDay()}function h2(t,e){return dt(ha.count(ri(t)-1,t),e,2)}function p2(t,e){return dt(t.getUTCFullYear()%100,e,2)}function m2(t,e){return t=_h(t),dt(t.getUTCFullYear()%100,e,2)}function g2(t,e){return dt(t.getUTCFullYear()%1e4,e,4)}function y2(t,e){var n=t.getUTCDay();return t=n>=4||n===0?$i(t):$i.ceil(t),dt(t.getUTCFullYear()%1e4,e,4)}function b2(){return"+0000"}function wh(){return"%"}function Sh(t){return+t}function kh(t){return Math.floor(+t/1e3)}var Bi,Ch;v2({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function v2(t){return Bi=v_(t),Ch=Bi.format,Bi.parse,Bi.utcFormat,Bi.utcParse,Bi}function x2(t){return new Date(t)}function _2(t){return t instanceof Date?+t:+new Date(+t)}function Nh(t,e,n,r,i,o,s,l,c,u){var d=eh(),f=d.invert,p=d.domain,h=u(".%L"),y=u(":%S"),m=u("%I:%M"),g=u("%I %p"),N=u("%a %d"),M=u("%b %d"),T=u("%B"),x=u("%Y");function v(C){return(c(C)<C?h:l(C)<C?y:s(C)<C?m:o(C)<C?g:r(C)<C?i(C)<C?N:M:n(C)<C?T:x)(C)}return d.invert=function(C){return new Date(f(C))},d.domain=function(C){return arguments.length?p(Array.from(C,_2)):p().map(x2)},d.ticks=function(C){var w=p();return t(w[0],w[w.length-1],C??10)},d.tickFormat=function(C,w){return w==null?v:u(w)},d.nice=function(C){var w=p();return(!C||typeof C.range!="function")&&(C=e(w[0],w[w.length-1],C??10)),C?p(a_(w,C)):d},d.copy=function(){return Qf(d,Nh(t,e,n,r,i,o,s,l,c,u))},d}function _c(){return ea.apply(Nh(y_,b_,br,So,da,wo,yc,gc,Ei,Ch).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function w2({task:t,scale:e,onTaskClick:n,onTaskDoubleClick:r,isSelected:i=!1,taskIndex:o,tabIndex:s=-1,onFocus:l,"aria-label":c}){const u=$.useRef(null),[d,f]=$.useState(!1),[p,h]=$.useState(!1),y=e(t.start),m=e(t.end),g=Math.max(m-y,20),N=()=>{if(t.color)return t.color;switch(t.priority){case"high":return"#d5281b";case"medium":return"#005eb8";case"low":return"#007f3b";default:return"#005eb8"}},M=t.progress?g*t.progress/100:0,T=()=>{n?.(t)},x=()=>{r?.(t)},v=j=>{j.key==="Enter"?(j.preventDefault(),T()):j.key===" "&&(j.preventDefault(),x())},C=()=>{f(!0)},w=()=>{f(!1)},k=()=>{h(!0),l?.()},b=()=>{h(!1)},_=["gantt-task-bar",d&&"gantt-task-bar--pressed",(p||i)&&"gantt-task-bar--focused",t.priority&&`gantt-task-bar--priority-${t.priority}`,i&&"gantt-task-bar--selected",t.type&&`gantt-task-bar--type-${t.type}`].filter(Boolean).join(" "),I={"--task-left":`${y}px`,"--task-width":`${g}px`,"--task-color":N(),left:`${y}px`,width:`${g}px`,backgroundColor:N()};return a.jsxs("div",{role:"button",tabIndex:s,ref:u,"data-task-index":o,className:_,style:I,onClick:T,onDoubleClick:x,onKeyDown:v,onMouseDown:C,onMouseUp:w,onFocus:k,onBlur:b,"aria-label":c||`${i?"Selected: ":""}${t.title}: ${t.start.toLocaleDateString()} to ${t.end.toLocaleDateString()}${t.priority?`, priority ${t.priority}`:""}${t.progress?`, ${t.progress}% complete`:""}`,"aria-describedby":`task-${t.id}-details`,children:[a.jsx("span",{className:"task-title",children:t.title}),t.progress!==void 0&&a.jsx("div",{className:"task-progress",style:{width:`${M}px`}}),a.jsx("span",{id:`task-${t.id}-details`,className:"sr-only",children:`Task: ${t.title}, from ${t.start.toLocaleDateString()} to ${t.end.toLocaleDateString()}${t.progress?`, ${t.progress}% complete`:""}${t.priority?`, priority: ${t.priority}`:""}`})]})}function S2({viewStart:t,viewEnd:e,dateCount:n}){const r=[];for(let h=t.getTime();h<=e.getTime();h+=864e5)r.push(new Date(h));const o=new Date;o.setHours(0,0,0,0);const[s,l]=$.useState(-1),c=$.useRef(null),u=h=>{if(h.key==="ArrowLeft"){h.preventDefault();const y=Math.max(0,s===-1?0:s-1);l(y),p(y)}else if(h.key==="ArrowRight"){h.preventDefault();const y=Math.min(r.length-1,s===-1?0:s+1);l(y),p(y)}else if(h.key==="ArrowDown")h.preventDefault(),typeof document<"u"&&(typeof document<"u"&&typeof document<"u"&&typeof document<"u"&&typeof document<"u"&&typeof document<"u"&&typeof document<"u"&&typeof document<"u"&&typeof document<"u"&&typeof document<"u"&&typeof document<"u"&&typeof document<"u"&&typeof document<"u"&&typeof document<"u"&&typeof document<"u"&&typeof document<"u"&&typeof document<"u"?document.querySelector(".gantt-row .timeline-container"):null)?.focus();else if(h.key==="Home")h.preventDefault(),l(0),p(0);else if(h.key==="End"){h.preventDefault();const y=r.length-1;l(y),p(y)}},d=h=>{if(h.key==="ArrowDown")h.preventDefault(),typeof document<"u"&&(typeof document<"u"&&typeof document<"u"&&typeof document<"u"&&typeof document<"u"&&typeof document<"u"&&typeof document<"u"&&typeof document<"u"&&typeof document<"u"&&typeof document<"u"&&typeof document<"u"&&typeof document<"u"&&typeof document<"u"&&typeof document<"u"&&typeof document<"u"&&typeof document<"u"&&typeof document<"u"?document.querySelector(".gantt-row .resource-label"):null)?.focus();else if(h.key==="ArrowRight"){h.preventDefault();const y=c.current;y&&y.focus()}},f=()=>{s===-1&&(l(0),setTimeout(()=>p(0),0))},p=h=>{const y=c.current?.querySelector(`[data-date-index="${h}"]`);y&&y.focus()};return a.jsxs("div",{className:"gantt-header",role:"row","aria-rowindex":1,children:[a.jsx("div",{className:"header-resource",role:"columnheader","aria-colindex":1,tabIndex:0,"aria-label":"Resource column header",onKeyDown:d,children:"Resources"}),a.jsx("div",{ref:c,className:"header-timeline",role:"columnheader","aria-colindex":2,"aria-colspan":n,"aria-label":`Timeline from ${t.toLocaleDateString()} to ${e.toLocaleDateString()}. Use arrow keys to navigate between dates`,tabIndex:0,onKeyDown:u,onFocus:f,children:r.map((h,y)=>{const m=h.getTime()===o.getTime(),g=s===y;return a.jsx("div",{"data-date-index":y,className:`date-column ${m?"today":""} ${g?"focused":""}`,tabIndex:g?0:-1,role:"button","aria-label":`${h.toLocaleDateString("en-GB",{weekday:"long",day:"numeric",month:"long",year:"numeric"})}${m?" (Today)":""}`,onFocus:()=>l(y),onKeyDown:u,children:h.toLocaleDateString("en-GB",{day:"numeric",month:"short"})},y)})})]})}function k2({resource:t,tasks:e,scale:n,onTaskClick:r,onTaskDoubleClick:i,rowIndex:o,dateCount:s}){const[l,c]=$.useState(!1),[u,d]=$.useState(-1),f=$.useRef(null);$.useEffect(()=>{l&&u>=0&&e.length>0&&setTimeout(()=>{f.current?.querySelector(`[data-task-index="${u}"]`)?.focus()},0)},[l,u,e.length]);const p=m=>{if(m.key==="ArrowLeft"&&m.shiftKey){m.preventDefault(),m.currentTarget.scrollBy({left:-30,behavior:"smooth"});return}else if(m.key==="ArrowRight"&&m.shiftKey){m.preventDefault(),m.currentTarget.scrollBy({left:30,behavior:"smooth"});return}if(!l){switch(m.key){case"ArrowUp":m.preventDefault(),o===0?typeof document<"u"&&(typeof document<"u"&&typeof document<"u"&&typeof document<"u"&&typeof document<"u"&&typeof document<"u"&&typeof document<"u"&&typeof document<"u"&&typeof document<"u"&&typeof document<"u"&&typeof document<"u"&&typeof document<"u"&&typeof document<"u"&&typeof document<"u"&&typeof document<"u"&&typeof document<"u"&&typeof document<"u"?document.querySelector(".header-timeline"):null)?.focus():typeof document<"u"&&(typeof document<"u"&&typeof document<"u"&&typeof document<"u"&&typeof document<"u"&&typeof document<"u"&&typeof document<"u"&&typeof document<"u"&&typeof document<"u"&&typeof document<"u"&&typeof document<"u"&&typeof document<"u"&&typeof document<"u"&&typeof document<"u"&&typeof document<"u"&&typeof document<"u"&&typeof document<"u"?document.querySelector(`[aria-rowindex="${o+1}"] .timeline-container`):null)?.focus();break;case"ArrowDown":m.preventDefault(),typeof document<"u"&&(typeof document<"u"&&typeof document<"u"&&typeof document<"u"&&typeof document<"u"&&typeof document<"u"&&typeof document<"u"&&typeof document<"u"&&typeof document<"u"&&typeof document<"u"&&typeof document<"u"&&typeof document<"u"&&typeof document<"u"&&typeof document<"u"&&typeof document<"u"&&typeof document<"u"&&typeof document<"u"?document.querySelector(`[aria-rowindex="${o+3}"] .timeline-container`):null)?.focus();break;case"ArrowLeft":m.preventDefault(),f.current?.closest(".gantt-row")?.querySelector(".resource-label")?.focus();break;case"Enter":e.length>0&&(m.preventDefault(),c(!0),d(0));break}return}switch(m.key){case"ArrowLeft":m.preventDefault();const g=Math.max(0,u-1);d(g),f.current?.querySelector(`[data-task-index="${g}"]`)?.focus();break;case"ArrowRight":m.preventDefault();const M=Math.min(e.length-1,u+1);d(M),f.current?.querySelector(`[data-task-index="${M}"]`)?.focus();break;case"Enter":m.preventDefault(),u>=0&&r?.(e[u]);break;case" ":m.preventDefault(),u>=0&&i?.(e[u]);break;case"Escape":m.preventDefault(),c(!1),d(-1),f.current?.focus();break}},h=m=>{switch(m.key){case"ArrowUp":m.preventDefault(),o===0?typeof document<"u"&&(typeof document<"u"&&typeof document<"u"&&typeof document<"u"&&typeof document<"u"&&typeof document<"u"&&typeof document<"u"&&typeof document<"u"&&typeof document<"u"&&typeof document<"u"&&typeof document<"u"&&typeof document<"u"&&typeof document<"u"&&typeof document<"u"&&typeof document<"u"&&typeof document<"u"&&typeof document<"u"?document.querySelector(".header-resource"):null)?.focus():typeof document<"u"&&(typeof document<"u"&&typeof document<"u"&&typeof document<"u"&&typeof document<"u"&&typeof document<"u"&&typeof document<"u"&&typeof document<"u"&&typeof document<"u"&&typeof document<"u"&&typeof document<"u"&&typeof document<"u"&&typeof document<"u"&&typeof document<"u"&&typeof document<"u"&&typeof document<"u"&&typeof document<"u"?document.querySelector(`[aria-rowindex="${o+1}"] .resource-label`):null)?.focus();break;case"ArrowDown":m.preventDefault(),typeof document<"u"&&(typeof document<"u"&&typeof document<"u"&&typeof document<"u"&&typeof document<"u"&&typeof document<"u"&&typeof document<"u"&&typeof document<"u"&&typeof document<"u"&&typeof document<"u"&&typeof document<"u"&&typeof document<"u"&&typeof document<"u"&&typeof document<"u"&&typeof document<"u"&&typeof document<"u"&&typeof document<"u"?document.querySelector(`[aria-rowindex="${o+3}"] .resource-label`):null)?.focus();break;case"ArrowRight":m.preventDefault(),f.current?.focus();break}},y=m=>{l&&d(m)};return a.jsxs("div",{className:"gantt-row",role:"row","aria-rowindex":o+2,children:[a.jsx("div",{className:"resource-label",role:"gridcell","aria-colindex":1,tabIndex:0,"aria-label":`Resource: ${t.label}`,onKeyDown:h,children:t.label}),a.jsx("div",{ref:f,className:`timeline-container ${l?"timeline-active":""}`,role:"gridcell","aria-colindex":2,"aria-colspan":s,tabIndex:0,"aria-label":`Timeline for ${t.label} with ${e.length} task${e.length!==1?"s":""}. Press Enter to activate task navigation, then use arrow keys to navigate, Enter to select, Space to activate, Escape to exit`,onKeyDown:p,onFocus:()=>{l||d(-1)},children:e.map((m,g)=>a.jsx(w2,{task:m,scale:n,onTaskClick:r,onTaskDoubleClick:i,isSelected:l&&u===g,taskIndex:g,tabIndex:l&&u===g?0:-1,onFocus:()=>y(g)},m.id))})]})}function C2({resources:t,tasks:e=[],viewStart:n,viewEnd:r,onTaskClick:i,onTaskDoubleClick:o}){const s=$.useRef(null),[l,c]=$.useState(800),u=$.useMemo(()=>{if(n instanceof Date)return isNaN(n.getTime())?(console.warn("GanttChart: Invalid viewStart date provided, using current date"),new Date):n;const m=new Date(n);return isNaN(m.getTime())?(console.warn("GanttChart: Invalid viewStart date provided, using current date"),new Date):m},[n]),d=$.useMemo(()=>{if(r instanceof Date)return isNaN(r.getTime())?(console.warn("GanttChart: Invalid viewEnd date provided, using date 7 days from now"),new Date(Date.now()+10080*60*1e3)):r;const m=new Date(r);return isNaN(m.getTime())?(console.warn("GanttChart: Invalid viewEnd date provided, using date 7 days from now"),new Date(Date.now()+10080*60*1e3)):m},[r]),f=$.useMemo(()=>Math.ceil((d.getTime()-u.getTime())/864e5)+1,[u,d]);$.useEffect(()=>{if(!s.current||typeof window>"u")return;const m=typeof ResizeObserver<"u"?ResizeObserver:void 0;if(!m)return;const g=new m(N=>{const M=N[0];M&&c(Math.max(M.contentRect.width-220,400))});return g.observe(s.current),()=>g.disconnect()},[]);const p=$.useMemo(()=>_c().domain([u,d]).range([0,l]),[u,d,l]),h=$.useMemo(()=>{const m=new Map;return e.forEach(g=>{const N=m.get(g.resourceId)||[];N.push(g),m.set(g.resourceId,N)}),m},[e]),y=m=>{if(m.target===m.currentTarget)switch(m.key){case"ArrowDown":m.preventDefault(),typeof document<"u"&&s.current?.querySelector(".gantt-row .resource-label")?.focus();break;case"Home":m.preventDefault(),typeof document<"u"&&s.current?.querySelector(".header-resource")?.focus();break}};return a.jsxs("div",{className:"gantt-chart",role:"grid","aria-label":"Gantt Chart showing resource scheduling and task timelines","aria-rowcount":t.length+1,"aria-colcount":f+1,"aria-description":"Use arrow keys to navigate cells, Tab to cycle through tasks in timeline rows or dates in header, Enter to select task, Space to activate task, Alt+arrows to scroll the grid, Shift+arrows to scroll timeline rows",tabIndex:0,onKeyDown:y,children:[a.jsx(S2,{viewStart:u,viewEnd:d,dateCount:f}),a.jsx("div",{ref:s,className:"gantt-grid",role:"rowgroup","aria-label":"Gantt chart data rows",tabIndex:0,onKeyDown:m=>{m.key==="ArrowLeft"&&m.altKey?(m.preventDefault(),s.current?.scrollBy({left:-50,behavior:"smooth"})):m.key==="ArrowRight"&&m.altKey?(m.preventDefault(),s.current?.scrollBy({left:50,behavior:"smooth"})):m.key==="ArrowUp"&&m.altKey?(m.preventDefault(),s.current?.scrollBy({top:-50,behavior:"smooth"})):m.key==="ArrowDown"&&m.altKey&&(m.preventDefault(),s.current?.scrollBy({top:50,behavior:"smooth"}))},children:t.map((m,g)=>a.jsx(k2,{resource:m,tasks:h.get(m.id)||[],scale:p,onTaskClick:i,onTaskDoubleClick:o,rowIndex:g,dateCount:f},m.id))})]})}const pa=({children:t,href:e,active:n=!1,attributes:r={}})=>a.jsx("li",{className:"nhsuk-breadcrumb__item",children:n?a.jsx("span",{className:"nhsuk-breadcrumb__link nhsuk-breadcrumb__link--current","aria-current":"page",...r,children:t}):a.jsx("a",{className:"nhsuk-breadcrumb__link",href:e,...r,children:t})}),wc=({items:t=[],children:e,classes:n,labelText:r="Breadcrumb",href:i,text:o,reverse:s=!1,attributes:l={}})=>{const c=()=>e?$.Children.toArray(e).filter(g=>$.isValidElement(g)&&(g.type===pa||g.type?.displayName==="BreadcrumbItem")).map(g=>({text:typeof g.props.children=="string"?g.props.children:String(g.props.children),href:g.props.href,active:g.props.active,attributes:g.props.attributes})):[],u=()=>e?c():i&&o?[{href:i,text:o}]:t,d=()=>{const m=u();if(m&&m.length>0){const g=m.slice().reverse().find(N=>N.href&&!N.active);if(g)return{href:g.href,text:g.text}}return{text:"Home"}},f=u(),p=d(),h=Ie("nhsuk-breadcrumb",{"nhsuk-breadcrumb--reverse":s},n),y=r;return a.jsxs("nav",{className:h,"aria-label":y,role:"navigation",...l,children:[a.jsx("ol",{className:"nhsuk-breadcrumb__list",role:"list",children:e?$.Children.map(e,(m,g)=>$.isValidElement(m)&&(m.type===pa||m.type?.displayName==="BreadcrumbItem")?$.cloneElement(m,{key:g}):null):f?.filter(m=>m.active||!!m.href).map((m,g)=>a.jsx("li",{className:"nhsuk-breadcrumb__item",role:"listitem",children:m.active?a.jsx("span",{className:"nhsuk-breadcrumb__link nhsuk-breadcrumb__link--current","aria-current":"page",role:"text",...m.attributes||{},children:m.text}):a.jsx("a",{className:"nhsuk-breadcrumb__link",href:m.href,role:"link",...m.attributes||{},children:m.text})},g))}),p.href&&a.jsx("p",{className:"nhsuk-breadcrumb__back",children:a.jsxs("a",{className:"nhsuk-breadcrumb__backlink",href:p.href,role:"link","aria-label":`Back to ${p.text}`,...t.length>0?t[t.length-1]?.attributes||{}:{},children:[a.jsx("span",{className:"nhsuk-u-visually-hidden",children:"Back to Â "}),p.text]})})]})};wc.Item=pa,pa.displayName="BreadcrumbItem";const Sc=({text:t="Skip to main content",href:e="#maincontent",classes:n,attributes:r={}})=>{const[i,o]=$.useState(!1);$.useEffect(()=>{o(!0)},[]),$.useEffect(()=>{if(typeof window>"u"||typeof document>"u"||!document.querySelector||!document.querySelectorAll)return;const l=c=>{const u=c.target,d=u.getAttribute("href");if(d&&d.startsWith("#")){const f=typeof document<"u"&&typeof document<"u"&&typeof document<"u"&&typeof document<"u"&&typeof document<"u"&&typeof document<"u"&&typeof document<"u"&&typeof document<"u"?document.querySelector(d):null;if(f){f.hasAttribute("tabindex")||f.setAttribute("tabindex","-1"),f.focus(),f.classList.add("nhsuk-skip-link-focused-element");const p=window.setTimeout(()=>{f.classList.remove("nhsuk-skip-link-focused-element"),f.getAttribute("tabindex")==="-1"&&f.removeAttribute("tabindex")},3e3);u.__nhsSkipLinkTimeout=p}}};try{const c=document.querySelectorAll(".nhsuk-skip-link");return c.forEach(u=>{u.addEventListener("click",l)}),()=>{try{c.forEach(u=>{u.removeEventListener("click",l);const d=u.__nhsSkipLinkTimeout;d&&window.clearTimeout&&window.clearTimeout(d)})}catch(u){console.warn("SkipLink cleanup error:",u)}}}catch(c){return console.warn("SkipLink initialization error:",c),()=>{}}},[i]);const s=Ie("nhsuk-skip-link",n);return a.jsx("a",{className:s,href:e,"data-module":"nhsuk-skip-link","data-enhanced":i?"true":"false",...r,children:t})},N2=({previousUrl:t,previousPage:e,nextUrl:n,nextPage:r,classes:i,attributes:o={}})=>{const s=Ie("nhsuk-pagination",i);return a.jsx("nav",{className:s,role:"navigation","aria-label":"Pagination",...o,children:a.jsxs("ul",{className:"nhsuk-list nhsuk-pagination__list",children:[t&&e&&a.jsx("li",{className:"nhsuk-pagination-item--previous",children:a.jsxs("a",{className:"nhsuk-pagination__link nhsuk-pagination__link--prev",href:t,children:[a.jsx("span",{className:"nhsuk-pagination__title",children:"Previous"}),a.jsx("span",{className:"nhsuk-u-visually-hidden",children:":"}),a.jsx("span",{className:"nhsuk-pagination__page",children:e}),a.jsx("svg",{className:"nhsuk-icon nhsuk-icon__arrow-left",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24","aria-hidden":"true",width:"34",height:"34",children:a.jsx("path",{d:"M4.1 12.3l2.7 3c.2.2.5.2.7 0 .1-.1.1-.2.1-.3v-2h11c.6 0 1-.4 1-1s-.4-1-1-1h-11V9c0-.2-.1-.4-.3-.5h-.2c-.1 0-.3.1-.4.2l-2.7 3c0 .2 0 .4.1.6z"})})]})}),n&&r&&a.jsx("li",{className:"nhsuk-pagination-item--next",children:a.jsxs("a",{className:"nhsuk-pagination__link nhsuk-pagination__link--next",href:n,children:[a.jsx("span",{className:"nhsuk-pagination__title",children:"Next"}),a.jsx("span",{className:"nhsuk-u-visually-hidden",children:":"}),a.jsx("span",{className:"nhsuk-pagination__page",children:r}),a.jsx("svg",{className:"nhsuk-icon nhsuk-icon__arrow-right",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24","aria-hidden":"true",width:"34",height:"34",children:a.jsx("path",{d:"M19.6 11.66l-2.73-3A.51.51 0 0 0 16 9v2H5a1 1 0 0 0 0 2h11v2a.5.5 0 0 0 .32.46.39.39 0 0 0 .18 0 .52.52 0 0 0 .37-.16l2.73-3a.5.5 0 0 0 0-.64z"})})]})})]})})},M2=({items:t,classes:e,ariaLabel:n="Pages in this guide",attributes:r={}})=>{const i=Ie("nhsuk-contents-list",e),o=(s,l)=>s.current?a.jsx("li",{className:"nhsuk-contents-list__item","aria-current":"page",...s.attributes||{},children:a.jsx("span",{className:"nhsuk-contents-list__current",children:s.text})},l):a.jsx("li",{className:"nhsuk-contents-list__item",children:a.jsx("a",{className:"nhsuk-contents-list__link",href:s.href,...s.attributes||{},children:s.text})},l);return a.jsxs("nav",{className:i,role:"navigation","aria-label":n,...r,children:[a.jsx("h2",{className:"nhsuk-u-visually-hidden",children:"Contents"}),a.jsx("ol",{className:"nhsuk-contents-list__list",children:t.map((s,l)=>o(s,l))})]})},kc=$.forwardRef(({variant:t="default",heading:e,headingHtml:n,headingLevel:r=2,headingClasses:i,description:o,descriptionHtml:s,href:l,imgURL:c,imgAlt:u,...d},f)=>{const p=["nhsuk-card",t==="clickable"&&"nhsuk-card--clickable",t==="secondary"&&"nhsuk-card--secondary",t==="feature"&&"nhsuk-card--feature",d.className].filter(Boolean).join(" "),h=["nhsuk-card__content",t==="feature"&&"nhsuk-card__content--feature",t==="primary"&&"nhsuk-card__content--primary",t==="secondary"&&"nhsuk-card__content--secondary"].filter(Boolean).join(" "),y=["nhsuk-card__heading",t==="feature"&&"nhsuk-card__heading--feature",i].filter(Boolean).join(" "),m=()=>{if(n)return a.jsx("div",{dangerouslySetInnerHTML:{__html:n}});if(!e)return null;const M=()=>l&&t!=="feature"?a.jsx("a",{className:"nhsuk-card__link",href:l,children:e}):e;return a.jsx(Gn,{level:r,className:y,children:M()})},g=()=>d.children?d.children:s?a.jsx("div",{dangerouslySetInnerHTML:{__html:s}}):o?a.jsx("p",{className:"nhsuk-card__description",children:o}):null,N=()=>t!=="primary"?null:a.jsxs("svg",{className:"nhsuk-icon",xmlns:"http://www.w3.org/2000/svg",width:"27",height:"27","aria-hidden":"true",focusable:"false",children:[a.jsx("circle",{cx:"13.333",cy:"13.333",r:"13.333",fill:""}),a.jsxs("g",{fill:"none",stroke:"#fff",strokeLinecap:"round",strokeMiterlimit:"10",strokeWidth:"2.667",children:[a.jsx("path",{d:"M15.438 13l-3.771 3.771"}),a.jsx("path",{d:"M11.667 9.229L15.438 13"})]})]});return a.jsxs("div",{...d,className:p,ref:f,children:[c&&a.jsx("img",{className:"nhsuk-card__img",src:c,alt:u||""}),a.jsxs("div",{className:h,children:[m(),g(),N()]})]})});kc.displayName="Card";const T2=({className:t,children:e,"data-testid":n,id:r})=>{const i=["nhsuk-card-group",t].filter(Boolean).join(" ");return a.jsx("ul",{className:i,"data-testid":n,id:r,children:e})},j2=({className:t,children:e,"data-testid":n})=>{const r=["nhsuk-card-group__item",t].filter(Boolean).join(" ");return a.jsx("li",{className:r,"data-testid":n,children:e})},D2=({type:t,heading:e,headingHtml:n,headingLevel:r=3,headingClasses:i,description:o,descriptionHtml:s,className:l,children:c,"data-testid":u,id:d,"aria-label":f,"aria-labelledby":p,"aria-describedby":h})=>{const y=["nhsuk-care-card",`nhsuk-care-card--${t}`,l].filter(Boolean).join(" "),m=["nhsuk-care-card__heading",i].filter(Boolean).join(" "),g=()=>{if(n)return a.jsx("div",{dangerouslySetInnerHTML:{__html:n}});if(!e)return null;const M={"non-urgent":"Non-urgent advice:",urgent:"Urgent advice:",emergency:"Immediate action required:"}[t],T=a.jsxs("span",{role:"text",children:[a.jsxs("span",{className:"nhsuk-u-visually-hidden",children:[M," "]}),e]});return a.jsx(Gn,{level:r,className:m,children:T})},N=()=>c||(s?a.jsx("div",{dangerouslySetInnerHTML:{__html:s}}):o?a.jsx("p",{className:"nhsuk-care-card__text",children:o}):null);return a.jsxs("div",{className:y,"data-testid":u,id:d,"aria-label":f,"aria-labelledby":p,"aria-describedby":h,children:[a.jsxs("div",{className:"nhsuk-care-card__heading-container",children:[g(),a.jsx("span",{className:"nhsuk-care-card__arrow","aria-hidden":"true"})]}),a.jsx("div",{className:"nhsuk-care-card__content",children:N()})]})},Mh=({id:t,className:e,headingText:n,headingHtml:r,headingLevel:i=2,bodyText:o,bodyHtml:s,children:l,...c})=>{const u=Ie("nhsuk-panel",e),d=()=>!n&&!r&&!l?null:r?a.jsx(Gn,{level:i,className:"nhsuk-panel__heading",html:r,marginBottom:"var(--panel-heading-margin, 24px)"}):n?a.jsx(Gn,{level:i,className:"nhsuk-panel__heading",text:n,marginBottom:"var(--panel-heading-margin, 24px)"}):null,f=()=>l?a.jsx("div",{className:"nhsuk-panel__body",children:l}):s?a.jsx("div",{className:"nhsuk-panel__body",dangerouslySetInnerHTML:{__html:s}}):o?a.jsx("div",{className:"nhsuk-panel__body",children:a.jsx("p",{children:o})}):null;return a.jsxs("div",{className:u,id:t,...c,children:[d(),f()]})},I2=({text:t,html:e,children:n,className:r,...i})=>{const o=Ie("nhsuk-inset-text",r),s=()=>n||(e?a.jsx("div",{dangerouslySetInnerHTML:{__html:e}}):t?a.jsx("p",{children:t}):null);return a.jsx("div",{className:o,...i,children:s()})},L2=({items:t,noBorder:e=!1,className:n,...r})=>{const i=Ie("nhsuk-summary-list",{"nhsuk-summary-list--no-border":e},n),o=l=>l.children?l.children:l.html?a.jsx("span",{dangerouslySetInnerHTML:{__html:l.html}}):l.text?l.text:null,s=l=>!l||!l.items.length?null:a.jsx("dd",{className:"nhsuk-summary-list__actions",children:a.jsx("ul",{className:"nhsuk-summary-list__actions-list",children:l.items.map((c,u)=>a.jsx("li",{className:"nhsuk-summary-list__actions-list-item",children:a.jsxs("a",{href:c.href,className:"nhsuk-link",...c.attributes,children:[o(c),c.visuallyHiddenText&&a.jsx("span",{className:"nhsuk-u-visually-hidden",children:c.visuallyHiddenText})]})},u))})});return a.jsx("div",{className:"nhsuk-summary-list-container",children:a.jsx("dl",{className:i,...r,children:t.map((l,c)=>a.jsxs("div",{className:"nhsuk-summary-list__row",children:[a.jsx("dt",{className:"nhsuk-summary-list__key",children:o(l.key)}),a.jsx("dd",{className:"nhsuk-summary-list__value",children:o(l.value)}),s(l.actions)]},c))})})},Mo={current:null},P2=()=>{if(Mo.current)return Mo.current;try{Mo.current=require("prismjs");try{require("prismjs/components/prism-typescript")}catch{}try{require("prismjs/components/prism-tsx")}catch{}try{require("prismjs/components/prism-json")}catch{}}catch{Mo.current=null}return Mo.current},A2=t=>{const e=[{regex:/\b(import|from|export|const|let|var|return|if|else|for|while|switch|case|break|new|throw|try|catch|finally|class|extends|implements|interface|type|as|async|await|function)\b/g,cls:"kw"},{regex:/(['"`])(?:\\.|(?!\1).)*\1/g,cls:"str"},{regex:/\/\*[^]*?\*\/|\/\/.*$/gm,cls:"com"},{regex:/\b([0-9]+(?:\.[0-9]+)?)\b/g,cls:"num"}];let n=t;return e.forEach(r=>{n=n.replace(r.regex,i=>`<span class="nhsuk-code-${r.cls}">${i}</span>`)}),n},ma=(t,e,n)=>{if(n||!e)return t;const r=P2();if(r&&r.languages){const i=r.languages[e]?e:r.languages.typescript&&(e==="ts"||e==="tsx"||e==="typescript")?"typescript":r.languages.json&&e==="json"?"json":void 0;if(i)try{return r.highlight(t,r.languages[i],i)}catch{}}return A2(t)},E2=({rows:t,head:e,caption:n,captionSize:r,firstCellIsHeader:i=!1,responsive:o=!1,heading:s,headingLevel:l=3,panel:c=!1,panelClasses:u,tableClasses:d,classes:f,attributes:p,"data-testid":h,columns:y,data:m,visuallyHiddenCaption:g=!1})=>{const N=`nhsuk-table__caption ${r?`nhsuk-table__caption--${r}`:""}`.trim(),M=Ie("nhsuk-table",{"nhsuk-table-responsive":o},d),T=Ie(f),x=(b,_)=>{const I=Ie("nhsuk-table__header",{[`nhsuk-table__header--${b.format}`]:b.format},b.classes),j={scope:"col",...b.colspan&&{colSpan:b.colspan},...b.rowspan&&{rowSpan:b.rowspan},...o&&{role:"columnheader"},...b.attributes};let E;if(b.node!=null)E=a.jsx(a.Fragment,{children:b.node});else if(b.html)E=a.jsx("span",{dangerouslySetInnerHTML:{__html:b.html}});else if(b.code!=null){const F=Array.isArray(b.code),A=F?b.code.join(`
`):b.code,P=F||A.includes(`
`),R={className:Ie("nhsuk-table__code",b.codeClassName,{"nhsuk-table__code--block":P,"nhsuk-table__code--inline":!P}),...b.codeLanguage?{"data-language":b.codeLanguage}:{}},oe=ma(A,b.codeLanguage);E=P?a.jsx("pre",{className:"nhsuk-table__pre",children:a.jsx("code",{...R,dangerouslySetInnerHTML:{__html:oe}})}):a.jsx("code",{...R,dangerouslySetInnerHTML:{__html:oe}})}else E=b.text;return a.jsx("th",{className:I,...j,children:E},_)},v=(b,_,I)=>{const j=i&&I||b.rowHeader,E=Ie(j?"nhsuk-table__header":"nhsuk-table__cell",{[`nhsuk-table__${j?"header":"cell"}--${b.format}`]:b.format},b.classes),F={...j&&{scope:"row"},...b.colspan&&{colSpan:b.colspan},...b.rowspan&&{rowSpan:b.rowspan},...o&&{role:j?"rowheader":"cell",...b.header&&{"data-label":b.header}},...b.attributes};let A;if(b.node!=null)A=a.jsx(a.Fragment,{children:b.node});else if(b.html)A=a.jsx("span",{dangerouslySetInnerHTML:{__html:b.html}});else if(b.code!=null){const oe=Array.isArray(b.code),G=oe?b.code.join(`
`):b.code,D=oe||G.includes(`
`),Q={className:Ie("nhsuk-table__code",b.codeClassName,{"nhsuk-table__code--block":D,"nhsuk-table__code--inline":!D}),...b.codeLanguage?{"data-language":b.codeLanguage}:{}},Z=ma(G,b.codeLanguage,b.disableHighlight);A=D?a.jsx("pre",{className:"nhsuk-table__pre",children:a.jsx("code",{...Q,dangerouslySetInnerHTML:{__html:Z}})}):a.jsx("code",{...Q,dangerouslySetInnerHTML:{__html:Z}})}else A=b.text;const P=a.jsxs(a.Fragment,{children:[o&&b.header&&a.jsxs("span",{className:"nhsuk-table-responsive__heading","aria-hidden":"true",children:[b.header," "]}),A]}),R=j?"th":"td";return a.jsx(R,{className:E,...F,children:P},_)};let C=e,w=t;!C&&y&&y.length&&(C=y.map(b=>({text:b.title,format:b.format,classes:b.headerClasses,attributes:b.headerAttributes}))),!w&&y&&m&&m.length&&(w=m.map((b,_)=>y.map(I=>{const j=I.accessor?I.accessor(b,_):b[I.key];let E={format:I.format,classes:I.cellClasses,attributes:I.cellAttributes};if(I.rowHeader&&(E.rowHeader=!0),I.render){const F=I.render(j,b,_,I);return F==null||typeof F=="boolean"?{...E,text:""}:typeof F=="string"||typeof F=="number"?{...E,text:String(F)}:{...E,...F}}return{...E,text:j!=null?String(j):""}})));const k=()=>a.jsxs("table",{className:M,...o&&{role:"table"},...p,...h&&{"data-testid":h},children:[n&&a.jsx("caption",{className:Ie(N,g&&"nhsuk-u-visually-hidden"),children:n}),C&&C.length>0&&a.jsx("thead",{className:"nhsuk-table__head",...o&&{role:"rowgroup"},children:a.jsx("tr",{...o&&{role:"row"},children:C.map((b,_)=>x(b,_))})}),a.jsx("tbody",{className:"nhsuk-table__body",children:w&&w.map((b,_)=>a.jsx("tr",{className:"nhsuk-table__row",...o&&{role:"row"},children:b.map((I,j)=>v(I,j,j===0))},_))})]});return c?a.jsxs(Mh,{className:u,children:[s&&a.jsx(Gn,{level:l,className:"nhsuk-table__heading-tab",children:s}),k()]}):T?a.jsx("div",{className:T,children:k()}):k()},F2=({children:t,size:e,className:n})=>{const r=Ie("nhsuk-table__caption",e&&`nhsuk-table__caption--${e}`,n);return a.jsx("caption",{className:r,children:t})},Th=({responsive:t,className:e,children:n,...r})=>{const i=t?{role:"row"}:{};return a.jsx("tr",{className:e,...i,...r,children:n})},jh=({text:t,html:e,node:n,code:r,codeLanguage:i,codeClassName:o,disableHighlight:s,format:l,classes:c,colspan:u,rowspan:d,attributes:f,responsive:p,as:h="th"})=>{const y=Ie("nhsuk-table__header",{[`nhsuk-table__header--${l}`]:l},c),m={scope:"col",...u&&{colSpan:u},...d&&{rowSpan:d},...p&&{role:"columnheader"},...f};let g;if(n!=null)g=a.jsx(a.Fragment,{children:n});else if(e)g=a.jsx("span",{dangerouslySetInnerHTML:{__html:e}});else if(r!=null){const M=Array.isArray(r),T=M?r.join(`
`):r,x=M||T.includes(`
`),v={className:Ie("nhsuk-table__code",o,{"nhsuk-table__code--block":x,"nhsuk-table__code--inline":!x}),...i?{"data-language":i}:{}},C=ma(T,i,s);g=x?a.jsx("pre",{className:"nhsuk-table__pre",children:a.jsx("code",{...v,dangerouslySetInnerHTML:{__html:C}})}):a.jsx("code",{...v,dangerouslySetInnerHTML:{__html:C}})}else g=t;const N=h;return a.jsx(N,{className:y,...m,children:g})},$2=({text:t,html:e,node:n,code:r,codeLanguage:i,codeClassName:o,disableHighlight:s,format:l,classes:c,colspan:u,rowspan:d,attributes:f,responsive:p,rowHeader:h})=>{const y=!!h,m=y?"th":"td",g=Ie(y?"nhsuk-table__header":"nhsuk-table__cell",l&&`nhsuk-table__${y?"header":"cell"}--${l}`,c),N={...u&&{colSpan:u},...d&&{rowSpan:d},...y&&{scope:"row"},...p&&{role:y?"rowheader":"cell"},...f};let M;if(n!=null)M=a.jsx(a.Fragment,{children:n});else if(e)M=a.jsx("span",{dangerouslySetInnerHTML:{__html:e}});else if(r!=null){const T=Array.isArray(r),x=T?r.join(`
`):r,v=T||x.includes(`
`),C={className:Ie("nhsuk-table__code",o,{"nhsuk-table__code--block":v,"nhsuk-table__code--inline":!v}),...i?{"data-language":i}:{}},w=ma(x,i,s);M=v?a.jsx("pre",{className:"nhsuk-table__pre",children:a.jsx("code",{...C,dangerouslySetInnerHTML:{__html:w}})}):a.jsx("code",{...C,dangerouslySetInnerHTML:{__html:w}})}else M=t;return a.jsx(m,{className:g,...N,children:M})},Vn=E2;Vn.Caption=F2,Vn.BodyRow=Th,Vn.HeaderCell=jh,Vn.Cell=$2;let Dh=!1,Ih=!1;Object.defineProperty(Vn,"Row",{configurable:!0,enumerable:!1,get(){return process.env.NODE_ENV!=="production"&&!Dh&&(console.warn("Table.Row is deprecated. Use Table.BodyRow instead."),Dh=!0),Th}}),Object.defineProperty(Vn,"TH",{configurable:!0,enumerable:!1,get(){return process.env.NODE_ENV!=="production"&&!Ih&&(console.warn("Table.TH is deprecated. Use Table.HeaderCell instead."),Ih=!0),jh}});const B2=$.forwardRef(({items:t,defaultActiveTab:e,activeTab:n,onTabChange:r,onTabFocus:i,onTabListBlur:o,onEscape:s,autoActivate:l=!0,className:c,id:u,"data-testid":d,...f},p)=>{const h=n!==void 0,[y,m]=$.useState(()=>e||t[0]?.id||""),g=h?n:y,N=$.useRef(null),M=$.useRef(new Map),T=$.useCallback(_=>{h||m(_),r?.(_)},[h,r]),x=$.useCallback(_=>{i?.(_),l&&T(_)},[i,l,T]),v=$.useCallback((_,I)=>{const j=t.filter(A=>!A.disabled).map(A=>A.id),E=j.indexOf(I);let F=null;switch(_.key){case"ArrowLeft":F=E>0?E-1:j.length-1;break;case"ArrowRight":F=E<j.length-1?E+1:0;break;case"Home":F=0;break;case"End":F=j.length-1;break;case"Escape":_.preventDefault(),s?.();return;default:return}if(F!==null){_.preventDefault();const A=j[F],P=M.current.get(A);P&&(P.focus(),x(A))}},[t,x,s]),C=$.useCallback((_,I)=>{I?M.current.set(_,I):M.current.delete(_)},[]),w=$.useCallback(_=>{const I=M.current.get(_);I&&I.focus()},[]);$.useImperativeHandle(p,()=>({focusTab:w,getActiveTab:()=>g,getTabListElement:()=>N.current}),[w,g]);const k=$.useCallback(_=>{const I=_.relatedTarget;N.current?.contains(I)||o?.()},[o]),b=Ie("nhsuk-tabs",c);return a.jsxs("div",{className:b,id:u,"data-testid":d,...f,children:[a.jsx("h2",{className:"nhsuk-tabs__title",children:"Contents"}),a.jsx("div",{className:"nhsuk-tabs__list-container",ref:N,children:a.jsx("ul",{className:"nhsuk-tabs__list",role:"tablist",onBlur:k,children:t.map(_=>{const I=_.id===g,j=_.disabled,E=Ie("nhsuk-tabs__list-item",{"nhsuk-tabs__list-item--selected":I,"nhsuk-tabs__list-item--disabled":j});return a.jsx("li",{className:E,role:"presentation",children:a.jsx("button",{ref:F=>C(_.id,F),className:"nhsuk-tabs__tab",role:"tab","aria-selected":I,"aria-controls":`${_.id}-panel`,id:`${_.id}-tab`,tabIndex:I?0:-1,disabled:j,onClick:()=>!j&&T(_.id),onKeyDown:F=>!j&&v(F,_.id),onFocus:()=>!j&&x(_.id),..._.attributes,children:_.label})},_.id)})})}),t.map(_=>{const I=_.id===g;return a.jsx("div",{className:"nhsuk-tabs__panel",role:"tabpanel","aria-labelledby":`${_.id}-tab`,id:`${_.id}-panel`,hidden:!I,children:_.content},_.id)})]})}),Lh=$.forwardRef(({summaryText:t,summaryHtml:e,text:n,html:r,open:i=!1,className:o="",id:s,children:l,...c},u)=>{const d=["nhsuk-details",o].filter(Boolean).join(" "),f=e?a.jsx("span",{className:"nhsuk-details__summary-text",dangerouslySetInnerHTML:{__html:e}}):a.jsx("span",{className:"nhsuk-details__summary-text",children:t});let p;return l?p=l:r?p=a.jsx("div",{dangerouslySetInnerHTML:{__html:r}}):n&&(p=n),a.jsxs("details",{ref:u,id:s,className:d,open:i,...c,children:[a.jsx("summary",{className:"nhsuk-details__summary",tabIndex:0,children:f}),a.jsx("div",{className:"nhsuk-details__text",children:p})]})});Lh.displayName="Details";const Ph=$.forwardRef(({title:t,type:e,items:n,hidePrefix:r=!1,headingLevel:i=3,className:o,...s},l)=>{const c=["nhsuk-do-dont-list"];o&&c.push(o);const u=["nhsuk-list",e==="tick"?"nhsuk-list--tick":"nhsuk-list--cross"],d=()=>e==="cross"?a.jsxs("svg",{className:"nhsuk-icon nhsuk-icon__cross",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24","aria-hidden":"true",width:"34",height:"34",children:[a.jsx("path",{d:"M17 18.5c-.4 0-.8-.1-1.1-.4l-10-10c-.6-.6-.6-1.6 0-2.1.6-.6 1.5-.6 2.1 0l10 10c.6.6.6 1.5 0 2.1-.3.3-.6.4-1 .4z",fill:"#d5281b"}),a.jsx("path",{d:"M7 18.5c-.4 0-.8-.1-1.1-.4-.6-.6-.6-1.5 0-2.1l10-10c.6-.6 1.5-.6 2.1 0 .6.6.6 1.5 0 2.1l-10 10c-.3.3-.6.4-1 .4z",fill:"#d5281b"})]}):a.jsx("svg",{className:"nhsuk-icon nhsuk-icon__tick",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none","aria-hidden":"true",width:"34",height:"34",children:a.jsx("path",{strokeWidth:"4",strokeLinecap:"round",d:"M18.4 7.8l-8.5 8.4L5.6 12",stroke:"#007f3b"})}),f=h=>e==="cross"&&!r?`do not ${h}`:h,p=()=>a.jsx(Gn,{level:i,className:"nhsuk-do-dont-list__label",text:t});return a.jsxs("div",{ref:l,className:c.join(" "),...s,children:[p(),a.jsx("div",{className:"nhsuk-do-dont-list__content--feature",children:a.jsx("ul",{className:u.join(" "),role:"list",children:n.map((h,y)=>a.jsxs("li",{children:[d(),f(h.item)]},y))})})]})});Ph.displayName="DoDontList";const Ah=$.forwardRef(({summaryText:t,summaryHtml:e,text:n,html:r,open:i=!1,className:o="",id:s,children:l,...c},u)=>{const d=["nhsuk-expander",o].filter(Boolean).join(" "),f=e?a.jsx("span",{className:"nhsuk-details__summary-text",dangerouslySetInnerHTML:{__html:e}}):a.jsx("span",{className:"nhsuk-details__summary-text",children:t});let p;return l?p=l:r?p=a.jsx("div",{dangerouslySetInnerHTML:{__html:r}}):n&&(p=n),a.jsxs("details",{ref:u,id:s,className:d,open:i,...c,children:[a.jsx("summary",{className:"nhsuk-details__summary",children:f}),a.jsx("div",{className:"nhsuk-details__text",children:p})]})});Ah.displayName="Expander";const Eh=$.forwardRef(({items:t,idPrefix:e="task-list",className:n,...r},i)=>{const o=["nhsuk-task-list",n].filter(Boolean).join(" "),s=(l,c)=>{const u=c+1,d=`${e}-${u}-hint`,f=`${e}-${u}-status`,p=!!l.href,h=["nhsuk-task-list__item",p&&"nhsuk-task-list__item--with-link",l.classes].filter(Boolean).join(" "),y=[l.hint&&d,f].filter(Boolean).join(" ");return a.jsx(O2,{item:l,itemClasses:h,hasLink:p,hintId:d,statusId:f,ariaDescribedBy:y},c)};return a.jsx("ul",{ref:i,className:o,...r,children:t.map(s)})}),O2=({item:t,itemClasses:e,hasLink:n,hintId:r,statusId:i,ariaDescribedBy:o})=>{const s=()=>{const u=t.title.html?a.jsx("span",{dangerouslySetInnerHTML:{__html:t.title.html}}):t.title.text,d=[n?"nhsuk-task-list__link":"",t.title.classes].filter(Boolean).join(" ");return n?a.jsx("a",{className:d,href:t.href,"aria-describedby":o,children:u}):a.jsx("div",{className:t.title.classes||"",children:u})},l=()=>t.hint?t.hint.html?a.jsx("div",{id:r,className:"nhsuk-task-list__hint",dangerouslySetInnerHTML:{__html:t.hint.html}}):a.jsx("div",{id:r,className:"nhsuk-task-list__hint",children:t.hint.text}):null,c=()=>{const u=["nhsuk-task-list__status",t.status.classes].filter(Boolean).join(" ");let d;return t.status.tag?d=a.jsx(pt,{...t.status.tag}):t.status.html?d=a.jsx("span",{dangerouslySetInnerHTML:{__html:t.status.html}}):d=t.status.text,a.jsx("div",{className:u,id:i,children:d})};return a.jsxs("li",{className:e,children:[a.jsxs("div",{className:"nhsuk-task-list__name-and-hint",children:[s(),l()]}),c()]})};Eh.displayName="TaskList";const R2=({heading:t,headingLevel:e=3,text:n,html:r,children:i,className:o,...s})=>{const l=/important/i.test(t),c=()=>i||(r?a.jsx("div",{dangerouslySetInnerHTML:{__html:r}}):n?a.jsx("p",{children:n}):null),u=["nhsuk-warning-callout",o].filter(Boolean).join(" "),d=`h${e}`;return a.jsxs("div",{className:u,...s,children:[$.createElement(d,{className:"nhsuk-warning-callout__label"},l?a.jsxs(a.Fragment,{children:[t,a.jsx("span",{className:"nhsuk-u-visually-hidden",children:":"})]}):a.jsxs("span",{role:"text",children:[a.jsx("span",{className:"nhsuk-u-visually-hidden",children:"Important: "}),t]})),c()]})},z2=({src:t,alt:e,caption:n,sizes:r,srcset:i,className:o,...s})=>{const l=["nhsuk-image",o].filter(Boolean).join(" ");return a.jsxs("figure",{className:l,...s,children:[a.jsx("img",{className:"nhsuk-image__img",src:t,alt:e,...r&&i?{sizes:r,srcSet:i}:{}}),n&&a.jsx("figcaption",{className:"nhsuk-image__caption",dangerouslySetInnerHTML:{__html:n}})]})},H2=({dateRange:t,onPrev:e,onNext:n,onToday:r,density:i,onDensityChange:o,a11yMode:s,onA11yModeChange:l})=>a.jsxs("div",{className:"nhs-slot-matrix__toolbar",role:"group","aria-label":"Slot matrix controls",children:[a.jsxs("div",{className:"nhs-slot-matrix__toolbar-section",children:[a.jsx(zt,{variant:"secondary",size:"small",onClick:e,"aria-label":"Previous date range",children:"Prev"}),a.jsx(zt,{variant:"secondary",size:"small",onClick:r,"aria-label":"Jump to today",children:"Today"}),a.jsx(zt,{variant:"secondary",size:"small",onClick:n,"aria-label":"Next date range",children:"Next"}),a.jsxs("span",{className:"nhs-slot-matrix__toolbar-daterange","aria-live":"polite",children:[t.start.toDateString()," â€“ ",t.end.toDateString()]})]}),a.jsxs("div",{className:"nhs-slot-matrix__toolbar-section",children:[a.jsx("label",{className:"nhs-slot-matrix__toolbar-label",htmlFor:"slot-matrix-density-select",children:"Density"}),a.jsx(yo,{id:"slot-matrix-density-select",name:"slot-matrix-density",ariaLabel:"Change density",value:i,onChange:c=>o?.(c.target.value),options:[{value:"comfortable",text:"Comfortable"},{value:"compact",text:"Compact"}]}),a.jsx("label",{className:"nhs-slot-matrix__toolbar-label",htmlFor:"slot-matrix-mode-select",children:"Mode"}),a.jsx(yo,{id:"slot-matrix-mode-select",name:"slot-matrix-mode",ariaLabel:"Change accessibility mode",value:s,onChange:c=>l?.(c.target.value),options:[{value:"grid",text:"Grid"},{value:"list",text:"List"}]})]})]}),U2=({items:t,orientation:e="horizontal"})=>a.jsx("div",{className:`nhs-slot-matrix__legend nhs-slot-matrix__legend--${e}`,role:"list","aria-label":"Slot legend",children:t.map(n=>a.jsx("div",{role:"listitem",className:"nhs-slot-matrix__legend-item",children:a.jsx(pt,{color:W2(n.status),text:n.label})},n.status))});function W2(t){switch(t){case"available":return"green";case"full":return"grey";case"overbook":return"orange";case"held":return"yellow";case"blocked":return"grey";default:return"default"}}const G2=({slots:t,sessions:e,value:n,defaultValue:r,onChange:i,selectionMode:o="single",a11yMode:s,className:l,style:c,getSlotAriaLabel:u,toolbar:d,enableDefaultToolbar:f=!0,legendItems:p,enableDefaultLegend:h=!0,legendPlacement:y="bottom",onA11yModeChange:m})=>{const[g,N]=$.useState("grid"),M=s||g,[T,x]=$.useState(r||[]),v=n??T,C=$.useMemo(()=>{const F=new Set;return t.forEach(A=>F.add(new Date(A.start).getTime())),Array.from(F).sort((A,P)=>A-P)},[t]),w=$.useMemo(()=>{const F={};return t.forEach(A=>{const P=new Date(A.start).getTime();F[P]||(F[P]={});const R=A.capacity-A.booked-(A.held||0);F[P][A.sessionId]={slot:A,remaining:R}}),F},[t]),k=$.useCallback(F=>{if(o==="single"){const A=[F.id];n||x(A),i?.(A,{lastAction:"select"})}else{const A=v.includes(F.id),P=A?v.filter(R=>R!==F.id):[...v,F.id];n||x(P),i?.(P,{lastAction:A?"deselect":"select"})}},[o,v,n,i]),b=$.useMemo(()=>p||(h?Array.from(new Set(t.map(A=>A.status))).map(A=>({status:A,label:A.charAt(0).toUpperCase()+A.slice(1)})):void 0),[p,h,t]),_=b?a.jsx(U2,{items:b,orientation:y==="left"||y==="right"?"vertical":"horizontal"}):null,I=F=>{s||N(F),m?.(F)},j=d||(f?a.jsx(H2,{dateRange:{start:new Date,end:new Date},density:"comfortable",a11yMode:M,onA11yModeChange:I}):null),E=a.jsx("div",{style:c,className:Ie(l),children:a.jsx(Xs,{className:Ie("nhs-slot-matrix-grid-wrapper"),children:a.jsx(pr,{children:a.jsx(Ii,{width:Lr.Full,children:a.jsxs("div",{className:"nhs-slot-matrix",children:[j,y==="top"&&_,a.jsx("ul",{"aria-label":"Appointment slots list",children:t.map(F=>a.jsx("li",{children:a.jsxs("button",{type:"button",onClick:()=>k(F),"aria-pressed":v.includes(F.id),children:[To(new Date(F.start))," â€“ ",To(new Date(F.end))," (",F.status,")"]})},F.id))}),y==="bottom"&&_]})})})})});return M==="list"?E:a.jsx("div",{style:c,className:Ie(l),children:a.jsx(Xs,{className:Ie("nhs-slot-matrix-grid-wrapper"),children:a.jsx(pr,{children:a.jsx(Ii,{width:Lr.Full,children:a.jsxs("div",{className:"nhs-slot-matrix",children:[j,y==="top"&&_,a.jsxs("div",{role:"grid","aria-rowcount":C.length+1,"aria-colcount":e.length+1,children:[a.jsxs("div",{role:"row",className:"nhs-slot-matrix__row",children:[a.jsx("div",{role:"columnheader","aria-label":"Timebands",className:"nhs-slot-matrix__timeband-header"}),e.map(F=>a.jsx("div",{role:"columnheader","aria-label":`Session ${F.specialty}`,className:"nhs-slot-matrix__session-header",children:F.specialty},F.id))]}),C.map(F=>a.jsxs("div",{role:"row",className:"nhs-slot-matrix__row",children:[a.jsx("div",{role:"rowheader",className:"nhs-slot-matrix__timeband-header","aria-label":To(new Date(F)),children:To(new Date(F))}),e.map(A=>{const P=w[F]?.[A.id];if(!P)return a.jsx("div",{role:"gridcell",className:"nhs-slot-matrix__cell","aria-disabled":"true"},A.id);const{slot:R,remaining:oe}=P,G=v.includes(R.id),D=u?u(R):`Slot ${To(new Date(R.start))} ${R.status}${oe===0?" full":""}`;return a.jsx("button",{type:"button",role:"gridcell","data-status":R.status,className:Ie("nhs-slot-matrix__cell",G&&"nhs-slot-matrix__cell--selected"),"aria-label":D,"aria-selected":G||void 0,onClick:()=>k(R),children:oe>0?`${oe} left`:"Full"},R.id)})]},F))]}),y==="bottom"&&_]})})})})})};function Fh(t){return t<10?`0${t}`:`${t}`}function To(t){return`${Fh(t.getHours())}:${Fh(t.getMinutes())}`}const $h=({title:t,value:e,subtitle:n,variant:r="default",href:i,className:o="",ariaLabel:s,...l})=>{const c=["nhs-fdp-summary-card",`nhs-fdp-summary-card--${r}`,o].filter(Boolean).join(" "),u=a.jsxs(a.Fragment,{children:[a.jsx(Gn,{level:3,className:"nhs-fdp-summary-card__title",children:t}),a.jsx("p",{className:"nhs-fdp-summary-card__value",children:e}),n&&a.jsx("p",{className:"nhs-fdp-summary-card__subtitle",children:n})]});return i?a.jsx("a",{className:`${c} nhs-fdp-summary-card--clickable`,href:i,"aria-label":s||`${t}: ${e}`,...l,children:u}):a.jsx("div",{className:c,"aria-label":s,...l,children:u})},Y2=({cards:t,className:e="",...n})=>{const r=["nhs-fdp-dashboard-summary-grid",e].filter(Boolean).join(" ");return a.jsx("div",{className:r,...n,children:a.jsx(Xs,{children:a.jsx(pr,{children:t.map((i,o)=>a.jsx(Ii,{width:Lr.OneQuarter,className:"nhs-fdp-dashboard-summary-grid__column","data-card-index":o,children:a.jsx($h,{...i})},o))})})})},Bh=$.forwardRef(({data:t,columns:e,sortConfig:n,onSort:r,selectedRowIndex:i,onRowSelect:o,id:s,testId:l,ariaLabel:c,ariaLabelledby:u,ariaDescribedby:d,className:f,tableClassName:p,bordered:h=!1,striped:y=!1,responsive:m=!1,tableType:g="default"},N)=>{const M=$.useRef(null),T=$.useRef(null),x=$.useRef(null);$.useImperativeHandle(N,()=>M.current,[]);const[v,C]=$.useState(0),[w,k]=$.useState(0),[b,_]=$.useState("headers"),[I,j]=$.useState("browse"),E=e.length,F=t.length,A=$.useMemo(()=>!n||n.length===0?t:[...t].sort((Z,re)=>{for(const{key:J,direction:ee}of n){const de=Z[J],te=re[J];if(de==null&&te==null)continue;if(de==null)return 1;if(te==null)return-1;let ie=0;if(typeof de=="number"&&typeof te=="number"?ie=de-te:ie=String(de).localeCompare(String(te)),ie!==0)return ee==="asc"?ie:-ie}return 0}),[t,n]),P=$.useCallback((Z,re)=>{setTimeout(()=>{const J=M.current?.querySelector(`tbody tr:nth-child(${Z+1}) td:nth-child(${re+1})`);J&&(J.focus(),typeof J.scrollIntoView=="function"&&J.scrollIntoView({behavior:"smooth",block:"center",inline:"nearest"}))},0)},[]),R=$.useCallback(Z=>{setTimeout(()=>{const re=M.current?.querySelector(`th:nth-child(${Z+1})`);re&&(re.focus(),typeof re.scrollIntoView=="function"&&re.scrollIntoView({behavior:"smooth",block:"center",inline:"nearest"}))},0)},[]),oe=$.useCallback(Z=>{r?.(Z)},[r]),G=$.useCallback(Z=>{o?.(Z)},[o]),D=$.useCallback(Z=>{const{key:re}=Z;switch(re){case"Enter":if(Z.preventDefault(),b==="headers"&&I==="browse")j("navigate"),R(w);else if(b==="headers"&&I==="navigate"){const J=e[w];J&&oe(J.key)}else b==="cells"&&I==="browse"?(j("navigate"),P(v,w)):b==="cells"&&I==="navigate"&&G(v);break;case"Escape":Z.preventDefault(),(b==="headers"&&I==="navigate"||b==="cells"&&I==="navigate")&&j("browse");break;case"ArrowLeft":if(Z.preventDefault(),I==="navigate"||I==="browse"&&b==="headers"){if(b==="headers"){const J=Math.max(0,w-1);k(J),R(J)}else if(b==="cells"){const J=Math.max(0,w-1);k(J),P(v,J)}}break;case"ArrowRight":if(Z.preventDefault(),I==="navigate"||I==="browse"&&b==="headers"){if(b==="headers"){const J=Math.min(E-1,w+1);k(J),R(J)}else if(b==="cells"){const J=Math.min(E-1,w+1);k(J),P(v,J)}}break;case"ArrowUp":if(Z.preventDefault(),b==="cells"){if(I==="browse"){const J=Math.max(0,v-1);C(J),P(J,0),k(0)}else if(I==="navigate")if(v>0){const J=v-1;C(J),P(J,w)}else _("headers"),j("browse"),R(w)}break;case"ArrowDown":if(Z.preventDefault(),b==="headers"&&I==="browse")_("cells"),C(0),k(0),P(0,0);else if(b==="cells"){const J=F-1;if(I==="browse"){const ee=Math.min(J,v+1);C(ee),P(ee,0),k(0)}else if(I==="navigate"&&v<J){const ee=v+1;C(ee),P(ee,w)}}break;case"Home":Z.preventDefault(),b==="headers"?(k(0),R(0)):b==="cells"&&(Z.ctrlKey?(C(0),k(0),P(0,0)):(k(0),P(v,0)));break;case"End":if(Z.preventDefault(),b==="headers"){const J=E-1;k(J),R(J)}else if(b==="cells")if(Z.ctrlKey){const J=F-1,ee=E-1;C(J),k(ee),P(J,ee)}else{const J=E-1;k(J),P(v,J)}break;case" ":if(Z.preventDefault(),b==="headers"&&I==="navigate"){const J=e[w];J&&oe(J.key)}else b==="cells"&&I==="navigate"&&G(v);break}},[b,I,w,v,E,F,e,P,R,oe,G]);$.useEffect(()=>{const Z=M.current;if(Z)return Z.addEventListener("keydown",D),()=>Z.removeEventListener("keydown",D)},[D]);const Q=Ie("nhsuk-table",p,{"nhsuk-table--responsive":m,"nhsuk-table--bordered":h,"nhsuk-table--striped":y,"nhsuk-table--compact":g==="compact"},f);return a.jsxs("table",{ref:M,className:Q,id:s,"data-testid":l,role:"grid","aria-label":c,"aria-labelledby":u,"aria-describedby":d,tabIndex:0,children:[a.jsx("thead",{className:"nhsuk-table__head",role:"rowgroup",children:a.jsx("tr",{ref:T,role:"row",children:e.map((Z,re)=>{const J=n?.find(te=>te.key===Z.key),ee=!!J,de=b==="headers"&&w===re;return a.jsx("th",{className:Ie("sortable-header",{"sortable-header--focused":de}),role:"columnheader",tabIndex:de?0:-1,onClick:()=>oe(Z.key),onKeyDown:te=>{(te.key==="Enter"||te.key===" ")&&(te.preventDefault(),oe(Z.key))},"aria-sort":ee?J?.direction==="asc"?"ascending":"descending":"none",children:a.jsxs("div",{className:"header-content",children:[a.jsx("span",{className:"header-label",children:Z.label}),ee&&a.jsxs("span",{className:"sort-indicator","aria-hidden":"true",children:[n&&n.length>1&&a.jsx("span",{className:"sort-priority",children:n.findIndex(te=>te.key===Z.key)+1}),a.jsx("svg",{width:"12",height:"12",viewBox:"0 0 12 12",fill:"currentColor",className:"sort-arrow",children:J?.direction==="asc"?a.jsx("path",{d:"M6 2L2 8h8L6 2z"}):a.jsx("path",{d:"M6 10L2 4h8L6 10z"})})]})]})},Z.key)})})}),a.jsx("tbody",{ref:x,className:"nhsuk-table__body",role:"rowgroup",children:A.map((Z,re)=>{const J=i===re,ee=b==="cells"&&v===re;return a.jsx("tr",{role:"row",className:Ie("data-row",{"data-row--selected":J,"data-row--focused":ee}),"aria-selected":J,children:e.map((de,te)=>{const ie=de.tableRenderer?de.tableRenderer(Z):de.render?de.render(Z):Z[de.key],K=b==="cells"&&v===re&&w===te,ae=()=>typeof ie=="boolean"?a.jsxs(a.Fragment,{children:[a.jsx("span",{"aria-hidden":"true",children:ie?"âœ“":"âœ—"}),a.jsx("span",{className:"sr-only",children:ie?"Yes":"No"})]}):String(ie??"");return a.jsx("td",{role:"gridcell",className:Ie("data-cell",{"data-cell--focused":K}),tabIndex:K?0:-1,onClick:()=>G(re),children:ae()},de.key)})},re)})})]})});Bh.displayName="AriaDataGrid";const Oh=({sortConfig:t,columns:e,onSortChange:n,className:r="",emptyDescription:i="No sorting applied",activeDescription:o,showReset:s=!0,showHelp:l=!0,disabled:c=!1,ariaLabel:u="Sort configuration",ariaDescribedBy:d})=>{const f=$.useRef(null),p=$.useRef(null),h=$.useRef(null),y=$.useCallback((b,_)=>{c||(p.current=_,b.dataTransfer.effectAllowed="move",b.dataTransfer.setData("text/plain",_))},[c]),m=$.useCallback((b,_)=>{c||p.current===_||(b.preventDefault(),b.dataTransfer.dropEffect="move",h.current=_)},[c]),g=$.useCallback((b,_)=>{if(c)return;b.preventDefault();const I=p.current;if(!I||I===_)return;const j=t.findIndex(F=>F.key===I),E=t.findIndex(F=>F.key===_);if(j!==-1&&E!==-1){const F=[...t],[A]=F.splice(j,1);F.splice(E,0,A),n(F)}p.current=null,h.current=null},[c,t,n]),N=$.useCallback(()=>{p.current=null,h.current=null},[]),M=$.useCallback(b=>{const _=e.find(I=>I.key===b);return _?_.label:b},[e]),T=$.useCallback(b=>["red","orange","blue","aqua-green","grey"][b]||"grey",[]),x=$.useCallback(b=>{if(c)return;const _=t.map(I=>I.key===b?{...I,direction:I.direction==="asc"?"desc":"asc"}:I);n(_)},[t,n,c]),v=$.useCallback(b=>{if(c)return;const _=t.filter(I=>I.key!==b);n(_)},[t,n,c]),C=$.useCallback(()=>{c||n([])},[n,c]),w=()=>{if(t.length===0)return i;if(o)return o;const b=t.map((_,I)=>{const j=_.direction==="asc"?"ascending":"descending";return`${I+1}. ${M(_.key)} (${j})`});if(b.length===1)return`Sorted by: ${b[0]}`;if(b.length===2)return`Sorted by: ${b.join(" and ")}`;{const _=b.pop();return`Sorted by: ${b.join(", ")}, and ${_}`}},k=$.useMemo(()=>{const b=["sort-description"];return l&&b.push("sort-help"),d&&b.push(d),b.join(" ")},[l,d]);return t.length===0?a.jsxs("div",{className:`sort-status-control ${r}`,children:[a.jsx("div",{className:"sort-status-control__description",id:"sort-description","aria-live":"polite",children:i}),l&&a.jsx("div",{className:"sort-status-control__help",id:"sort-help",children:a.jsx("small",{children:"Drag tags to reorder priority. Click tags or â†‘/â†“ buttons to toggle ascending/descending. Click Ã— to remove a sort."})})]}):a.jsxs("div",{className:`sort-status-control ${r}`,children:[a.jsx("div",{className:"sort-status-control__description sort-status-control__description--active",id:"sort-description","aria-live":"polite",children:w()}),a.jsxs("div",{className:"sort-status-container",children:[a.jsx("div",{ref:f,className:"sort-status-control__tags",role:"list","aria-label":u,"aria-describedby":k,children:t.map((b,_)=>a.jsx("div",{className:"sort-status-control__tag-container",role:"listitem",draggable:!c,onDragStart:I=>y(I,b.key),onDragOver:I=>m(I,b.key),onDrop:I=>g(I,b.key),onDragEnd:N,onClick:()=>x(b.key),style:{cursor:c?"default":"pointer"},title:c?"":`Click to toggle sort direction. Currently ${b.direction==="asc"?"ascending":"descending"}`,"data-key":b.key,children:a.jsx(pt,{color:T(_),className:"sort-status-control__tag",closable:!0,onClose:()=>v(b.key),disabled:c,children:a.jsxs("div",{className:"sort-status-control__tag-content",children:[a.jsx("div",{className:"sort-status-control__drag-handle",title:"Drag to reorder",children:"â‹®â‹®"}),a.jsx("div",{className:`sort-status-control__priority-badge sort-priority sort-priority--priority-${_+1}`,children:_+1}),a.jsx("span",{className:"sort-status-control__tag-label",children:M(b.key)}),a.jsx("button",{type:"button",className:"sort-status-control__direction-button",onClick:I=>{I.stopPropagation(),x(b.key)},disabled:c,"aria-label":`Toggle sort direction for ${M(b.key)}. Currently ${b.direction==="asc"?"ascending":"descending"}`,title:"Click to toggle between ascending and descending",children:a.jsx("span",{className:`sort-status-control__direction-icon sort-status-control__direction-icon--${b.direction}`,children:a.jsx("svg",{className:`nhsuk-icon sort-status-control__chevron sort-status-control__chevron--${b.direction}`,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24","aria-hidden":"true",focusable:"false",children:a.jsx("path",{d:"M15.5 12a1 1 0 0 1-.29.71l-5 5a1 1 0 0 1-1.42-1.42l4.3-4.29-4.3-4.29a1 1 0 0 1 1.42-1.42l5 5a1 1 0 0 1 .29.71z"})})})})]})})},b.key))}),s&&a.jsx("div",{className:"sort-status-control__actions",children:a.jsx(zt,{variant:"secondary",onClick:C,disabled:c,"aria-label":"Reset all sorting",className:"sort-status-control__reset-button",children:"Clear All Sorts"})})]}),l&&a.jsx("div",{className:"sort-status-control__help",id:"sort-help",children:a.jsx("small",{children:"Drag tags to reorder priority. Click tags or â†‘/â†“ buttons to toggle ascending/descending. Click Ã— to remove a sort."})})]})};function V2(t,e){switch(e.type){case"SET_SELECTED_INDEX":return{...t,selectedIndex:e.payload};case"SET_TAB_LOADING":const n=[...t.tabLoadingStates];return n[e.payload.tabIndex]=e.payload.isLoading,{...t,tabLoadingStates:n};case"SET_TAB_ERROR":const r=[...t.tabErrors];return r[e.payload.tabIndex]=e.payload.error,{...t,tabErrors:r};case"SET_SORT":return{...t,sortConfig:e.payload};case"SET_SELECTED_ROWS":const i=[...t.selectedRows];return i[e.payload.tabIndex]=e.payload.rowIndices,{...t,selectedRows:i};case"SET_GLOBAL_SELECTED_ROW_DATA":return{...t,globalSelectedRowData:e.payload};case"SET_FILTERS":return{...t,filters:e.payload};case"ADJUST_ARRAYS":const{newLength:o}=e.payload,s=new Array(o).fill(!1),l=new Array(o).fill(null),c=new Array(o).fill([]);for(let u=0;u<Math.min(t.tabLoadingStates.length,o);u++)s[u]=t.tabLoadingStates[u],l[u]=t.tabErrors[u],c[u]=t.selectedRows[u];return{...t,tabLoadingStates:s,tabErrors:l,selectedRows:c};case"RESET_STATE":return{selectedIndex:0,tabLoadingStates:new Array(t.tabLoadingStates.length).fill(!1),tabErrors:new Array(t.tabErrors.length).fill(null),sortConfig:[],selectedRows:new Array(t.selectedRows.length).fill([]),globalSelectedRowData:null,filters:void 0};default:return t}}const ga=$.forwardRef(function(e,n){const{dataConfig:r={},tabPanels:i,selectedIndex:o,onTabChange:s,onGlobalRowSelectionChange:l,ariaLabel:c,ariaDescription:u,className:d="",disabled:f=!1,orientation:p="horizontal",id:h,isLoading:y=!1,loadingComponent:m,error:g=null,errorComponent:N,"data-testid":M,actions:T,actionsMinGap:x=16,forceActionsAbove:v=!1}=e,w=$.useRef(h||`aria-tabs-datagrid-${Math.random().toString(36).slice(2,9)}`).current,k=typeof u=="string"&&u.trim()!==""&&!/\s/.test(u),b=`${w}-description`,_=`${w}-navigation-help`,{dataComparator:I=(B,z)=>JSON.stringify(B)===JSON.stringify(z),filterFunction:j=B=>B,booleanRenderer:E=B=>B?"âœ“":"âœ—"}=r||{},F=o!==void 0,A=o??0,[P,R]=$.useState({focusArea:"tabs",focusedTabIndex:A,focusedHeaderIndex:0,focusedRowIndex:0,focusedColumnIndex:0,focusedActionIndex:0,isGridActive:!1}),oe=$.useMemo(()=>({selectedIndex:A,tabLoadingStates:new Array(i.length).fill(!1),tabErrors:new Array(i.length).fill(null),sortConfig:[],selectedRows:new Array(i.length).fill([]),globalSelectedRowData:null,filters:void 0}),[A]),[G,D]=$.useReducer(V2,oe);$.useEffect(()=>{const B=G.tabLoadingStates.length,z=i.length;B!==z&&D({type:"ADJUST_ARRAYS",payload:{newLength:z}})},[i.length]),$.useEffect(()=>{F&&D({type:"SET_SELECTED_INDEX",payload:A})},[A,F]),$.useEffect(()=>{R(B=>({...B,focusArea:"tabs",focusedTabIndex:G.selectedIndex,focusedHeaderIndex:0,focusedRowIndex:0,focusedColumnIndex:0,focusedActionIndex:0,isGridActive:!1}))},[G.selectedIndex]),$.useEffect(()=>{l&&l(G.globalSelectedRowData)},[G.globalSelectedRowData,l]);const Q=$.useCallback((B,z)=>I(B,z),[I]),Z=$.useCallback(B=>{B>=0&&B<i.length&&!i[B].disabled&&(D({type:"SET_SELECTED_INDEX",payload:B}),R(z=>({...z,focusedTabIndex:B,focusArea:"tabs"})),s?.(B))},[i,s]),re=$.useRef(!1),J=$.useCallback((B,z)=>{if(!z?.force&&!re.current&&B===0){re.current=!0;return}re.current=!0,setTimeout(()=>{const H=ee.current[B],q=H?.parentElement;if(H&&q){const ne=H.offsetLeft,se=H.offsetWidth,ye=q.clientWidth,he=ne-ye/2+se/2;try{q.scrollTo({left:Math.max(0,he),behavior:"smooth"})}catch{H.scrollIntoView({behavior:"smooth",block:"nearest",inline:"center"})}}else process.env.SILENCE_SCROLL_DEBUG||console.debug("[AriaTabsDataGrid] Missing elements for scroll",{tabElementExists:!!H,tabListElementExists:!!q})},50)},[]),ee=$.useRef([]),de=$.useRef([]),te=$.useCallback((B,z)=>{const H=G.sortConfig||[],q=H.find(ye=>ye.key===z);let ne;q?q.direction==="asc"?ne=H.map(ye=>ye.key===z?{...ye,direction:"desc"}:ye):ne=H.filter(ye=>ye.key!==z):ne=[...H,{key:z,direction:"asc"}],D({type:"SET_SORT",payload:ne}),i[B].onSort?.(z)},[G.sortConfig,i]),ie=$.useCallback(B=>{setTimeout(()=>{const z=document.querySelector(`[data-tab-panel="${G.selectedIndex}"] th:nth-child(${B+1})`);z&&z.focus()},0)},[G.selectedIndex]),K=$.useCallback(B=>E(B),[E]),ae=$.useCallback((B,z)=>{setTimeout(()=>{const H=document.querySelector(`[data-tab-panel="${G.selectedIndex}"] tbody tr:nth-child(${B+1}) td:nth-child(${z+1})`);H&&H.focus()},0)},[G.selectedIndex]);$.useEffect(()=>{P.isGridActive&&(P.focusArea==="headers"?setTimeout(()=>{ie(P.focusedHeaderIndex)},0):P.focusArea==="cells"&&setTimeout(()=>{ae(P.focusedRowIndex,P.focusedColumnIndex)},0))},[P.focusArea,P.isGridActive,P.focusedHeaderIndex,P.focusedRowIndex,P.focusedColumnIndex,ie,ae]),$.useEffect(()=>{J(G.selectedIndex)},[G.selectedIndex,J]);const me=$.useCallback((B,z)=>{const{key:H}=B,q=i[G.selectedIndex],ne=q?.columns.length||0;switch(H){case"ArrowLeft":B.preventDefault();const se=Math.max(0,z-1);R(Ce=>({...Ce,focusedHeaderIndex:se})),ie(se);break;case"ArrowRight":B.preventDefault();const ye=Math.min(ne-1,z+1);R(Ce=>({...Ce,focusedHeaderIndex:ye})),ie(ye);break;case"ArrowUp":B.preventDefault(),R(Ce=>({...Ce,focusArea:"tabs",focusedTabIndex:G.selectedIndex})),J(G.selectedIndex),ee.current[G.selectedIndex]?.focus();break;case"ArrowDown":B.preventDefault(),R(Ce=>({...Ce,focusArea:"cells",focusedRowIndex:0,focusedColumnIndex:z,isGridActive:!0}));break;case"Home":B.preventDefault(),R(Ce=>({...Ce,focusedHeaderIndex:0})),ie(0);break;case"End":B.preventDefault();const he=ne-1;R(Ce=>({...Ce,focusedHeaderIndex:he})),ie(he);break;case"Enter":case" ":B.preventDefault();const xe=q?.columns[z]?.key;xe&&te(G.selectedIndex,xe);break}},[i,G.selectedIndex,te,R,ie,ae,ee]),Y=$.useCallback((B,z,H)=>{const{key:q}=B,ne=i[G.selectedIndex],se=ne?.data.length||0,ye=ne?.columns.length||0;switch(q){case"ArrowUp":if(B.preventDefault(),z===0)R(we=>({...we,focusArea:"headers",focusedHeaderIndex:H,isGridActive:!1})),ie(H);else{const we=z-1;R(Ge=>({...Ge,focusedRowIndex:we})),ae(we,H)}break;case"ArrowDown":B.preventDefault();const he=Math.min(se-1,z+1);R(we=>({...we,focusedRowIndex:he})),ae(he,H);break;case"ArrowLeft":B.preventDefault();const xe=Math.max(0,H-1);R(we=>({...we,focusedColumnIndex:xe})),ae(z,xe);break;case"ArrowRight":B.preventDefault();const Ce=Math.min(ye-1,H+1);R(we=>({...we,focusedColumnIndex:Ce})),ae(z,Ce);break;case"Home":B.preventDefault(),B.ctrlKey?(R(we=>({...we,focusedRowIndex:0,focusedColumnIndex:0})),ae(0,0)):(R(we=>({...we,focusedColumnIndex:0})),ae(z,0));break;case"End":if(B.preventDefault(),B.ctrlKey){const we=se-1,Ge=ye-1;R(Oe=>({...Oe,focusedRowIndex:we,focusedColumnIndex:Ge})),ae(we,Ge)}else{const we=ye-1;R(Ge=>({...Ge,focusedColumnIndex:we})),ae(z,we)}break;case"Enter":case" ":if(B.preventDefault(),ne&&ne.data[z]){const we=ne.data.some(tt=>"ews_data"in tt)?j(ne.data,G.filters):ne.data,Ge=G.sortConfig;let Oe=we;if(Ge&&Ge.length>0&&(Oe=[...we].sort((tt,Be)=>{for(const{key:fe,direction:Me}of Ge){let _e=tt[fe],Se=Be[fe];const He=ne.columns.find(Ye=>Ye.key===fe);if(He?.tableRenderer?(_e=He.tableRenderer(tt),Se=He.tableRenderer(Be)):He?.render&&(_e=He.render(tt),Se=He.render(Be)),_e==null&&Se==null)continue;if(_e==null)return Me==="asc"?-1:1;if(Se==null)return Me==="asc"?1:-1;let Re=0;if(typeof _e=="number"&&typeof Se=="number"?Re=_e-Se:Re=String(_e).localeCompare(String(Se),void 0,{numeric:!0,sensitivity:"base"}),Re!==0)return Me==="asc"?Re:-Re}return 0})),Oe[z]){const tt=Oe[z],fe=G.globalSelectedRowData&&Q(G.globalSelectedRowData,tt)?null:tt;D({type:"SET_GLOBAL_SELECTED_ROW_DATA",payload:fe})}}break}},[i,G.selectedIndex,G.filters,G.sortConfig,j,Q,D,R,ie,ae]),le=$.useCallback((B,z)=>j(B,z),[j]);if($.useImperativeHandle(n,()=>({selectTab:B=>{B>=0&&B<i.length&&(D({type:"SET_SELECTED_INDEX",payload:B}),s?.(B))},refreshData:B=>{console.log("Refreshing data for tab:",B??"all")},exportData:B=>{const z=B??G.selectedIndex,H=i[z];return H?H.data:[]},getSelectedRows:B=>G.globalSelectedRowData?[]:[],clearSelection:B=>{D({type:"SET_GLOBAL_SELECTED_ROW_DATA",payload:null})},applyFilters:B=>{D({type:"SET_FILTERS",payload:B})}}),[G.selectedIndex,G.selectedRows,i,s]),y)return a.jsx("div",{className:`aria-tabs-datagrid aria-tabs-datagrid--loading ${d}`,"data-testid":M,children:m||a.jsx("div",{className:"aria-tabs-datagrid__loading",children:a.jsx("div",{className:"nhsuk-spinner",role:"status","aria-label":"Loading data",children:a.jsx("span",{className:"nhsuk-u-visually-hidden",children:"Loading..."})})})});if(g)return a.jsx("div",{className:`aria-tabs-datagrid aria-tabs-datagrid--error ${d}`,"data-testid":M,children:N||a.jsxs("div",{className:"aria-tabs-datagrid__error",role:"alert",children:[a.jsx("h3",{className:"nhsuk-error-summary__title",children:"Error loading data"}),a.jsx("p",{children:g})]})});const ce=$.useRef(null),ge=$.useRef(null),pe=$.useRef(null),[U,Ee]=$.useState(!0);$.useEffect(()=>{if(!T){Ee(!1);return}if(v){Ee(!1);return}function B(){if(!ce.current||!ge.current||!pe.current)return;const q=ce.current.clientWidth,ne=Array.from(ge.current.querySelectorAll(":scope > .aria-tabs-datagrid__tab")),se=ne.reduce((Ce,we)=>Ce+we.offsetWidth,0),ye=pe.current.offsetWidth,he=Math.max(8*(ne.length-1),0),xe=se+he+ye+x<=q;Ee(xe)}const z=requestAnimationFrame(()=>B()),H=new ResizeObserver(()=>B());return ce.current&&H.observe(ce.current),ge.current&&H.observe(ge.current),()=>{cancelAnimationFrame(z),H.disconnect()}},[T,x,v,i.length]);const Pe=pe,je=$.useCallback(()=>Pe.current?Array.from(Pe.current.querySelectorAll('button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])')).filter(B=>!B.hasAttribute("disabled")):[],[]),W=$.useCallback(B=>{const z=je();if(!z.length)return;const H=Math.max(0,Math.min(B,z.length-1));z[H].focus(),R(q=>({...q,focusArea:"actions",focusedActionIndex:H}))},[je]),L=$.useCallback(()=>W(0),[W]),O=$.useCallback((B,z)=>{const{key:H}=B,q=i.length-1;switch(H){case"ArrowUp":{T&&!U&&(B.preventDefault(),L());break}case"ArrowLeft":{B.preventDefault();const ne=z>0?z-1:q;Z(ne),J(ne),ee.current[ne]?.focus();break}case"ArrowRight":{if(B.preventDefault(),z===q&&T&&U){L();return}const ne=z<q?z+1:0;Z(ne),J(ne),ee.current[ne]?.focus();break}case"ArrowDown":{B.preventDefault(),R(ne=>({...ne,focusArea:"headers",focusedHeaderIndex:0,isGridActive:!0}));break}case"Home":{B.preventDefault(),Z(0),J(0),ee.current[0]?.focus();break}case"End":{B.preventDefault(),Z(q),J(q),ee.current[q]?.focus();break}case"Enter":case" ":{B.preventDefault(),Z(z);break}case"Tab":{!B.shiftKey&&z===q&&T&&U&&L();break}}},[i.length,Z,J,T,U,L]),V=$.useCallback(B=>{const{key:z}=B,H=je();if(!H.length)return;const q=H.findIndex(ne=>ne===document.activeElement);switch(z){case"ArrowLeft":{if(U)if(q>0)B.preventDefault(),W(q-1);else{B.preventDefault();const ne=i.length-1;Z(ne),J(ne),ee.current[ne]?.focus(),R(se=>({...se,focusArea:"tabs",focusedTabIndex:ne}))}break}case"ArrowRight":{U&&(q<H.length-1?(B.preventDefault(),W(q+1)):(B.preventDefault(),Z(0),J(0),ee.current[0]?.focus(),R(ne=>({...ne,focusArea:"tabs",focusedTabIndex:0}))));break}case"ArrowDown":{if(U)B.preventDefault(),R(ne=>({...ne,focusArea:"headers",focusedHeaderIndex:0,isGridActive:!0}));else{B.preventDefault();const ne=G.selectedIndex;ee.current[ne]?.focus(),R(se=>({...se,focusArea:"tabs",focusedTabIndex:ne}))}break}}},[je,U,W,i.length,Z,J,G.selectedIndex]);return a.jsxs("div",{className:`aria-tabs-datagrid aria-tabs-datagrid--${p} ${d}`,id:h,"data-testid":M,ref:ce,children:[u&&!k&&a.jsx("div",{id:b,className:"nhsuk-u-visually-hidden",children:u}),a.jsx("div",{className:"aria-tabs-datagrid__navigation-help sr-only",id:_,children:"Keyboard navigation: Use Tab to move between tabs and grid. Arrow keys navigate within tabs and grid cells. Enter activates tabs and sorts columns. Arrow Down from tabs moves to table headers. Arrow Down from headers moves to table cells. Use Arrow keys to navigate between cells."}),a.jsx(Oh,{sortConfig:G.sortConfig||[],columns:i.flatMap(B=>B.columns.map(z=>({key:z.key,label:z.label}))).filter((B,z,H)=>H.findIndex(q=>q.key===B.key)===z),onSortChange:B=>{D({type:"SET_SORT",payload:B})},ariaLabel:"Data grid sort configuration"}),T&&!U&&a.jsx("div",{className:"aria-tabs-datagrid__actions aria-tabs-datagrid__actions--above",ref:pe,role:"toolbar","aria-label":"Additional actions",onKeyDown:V,children:T}),a.jsxs("div",{className:`aria-tabs-datagrid__tabs-wrapper ${U?"aria-tabs-datagrid__tabs-wrapper--inline-actions":""}`,children:[a.jsx("div",{role:"tablist","aria-label":c,"aria-describedby":u?k?u:b:_,"aria-orientation":p,className:"aria-tabs-datagrid__tabs",ref:ge,children:i.map((B,z)=>{const H=z===G.selectedIndex,q=B.disabled||f;return a.jsxs("button",{role:"tab",id:`tab-${B.id}`,"aria-controls":`panel-${B.id}`,"aria-selected":H,"aria-disabled":q,tabIndex:H?0:-1,ref:ne=>{ee.current[z]=ne},onClick:()=>Z(z),onKeyDown:ne=>O(ne,z),disabled:q,className:["aria-tabs-datagrid__tab",H?"aria-tabs-datagrid__tab--selected":"",q?"aria-tabs-datagrid__tab--disabled":""].filter(Boolean).join(" "),children:[a.jsx("span",{className:"aria-tabs-datagrid__tab-label",children:B.label}),G.tabLoadingStates[z]&&a.jsx("span",{className:"aria-tabs-datagrid__tab-loading","aria-hidden":"true",children:"â³"}),G.tabErrors[z]&&a.jsx("span",{className:"aria-tabs-datagrid__tab-error","aria-hidden":"true",children:"âš ï¸"})]},B.id)})}),T&&U&&a.jsx("div",{className:"aria-tabs-datagrid__actions aria-tabs-datagrid__actions--inline",ref:pe,role:"toolbar","aria-label":"Additional actions",onKeyDown:V,children:T})]}),i.map((B,z)=>{const H=z===G.selectedIndex;return a.jsx("div",{role:"tabpanel",id:`panel-${B.id}`,"aria-labelledby":`tab-${B.id}`,tabIndex:0,hidden:!H,ref:q=>{de.current[z]=q},className:`aria-tabs-datagrid__panel ${B.className||""}`,"data-tab-panel":z,children:H&&(()=>{const q=B.data.some(se=>"ews_data"in se)?le(B.data,G.filters):B.data,ne=$.useMemo(()=>{const se=G.sortConfig;return!se||se.length===0?q:[...q].sort((ye,he)=>{for(const{key:xe,direction:Ce}of se){let we=ye[xe],Ge=he[xe];const Oe=B.columns.find(Be=>Be.key===xe);if(Oe?.tableRenderer?(we=Oe.tableRenderer(ye),Ge=Oe.tableRenderer(he)):Oe?.render&&(we=Oe.render(ye),Ge=Oe.render(he)),we==null&&Ge==null)continue;if(we==null)return 1;if(Ge==null)return-1;let tt=0;if(typeof we=="number"&&typeof Ge=="number"?tt=we-Ge:typeof we=="boolean"&&typeof Ge=="boolean"?tt=we===Ge?0:we?1:-1:tt=String(we).localeCompare(String(Ge),void 0,{numeric:!0,sensitivity:"base"}),tt!==0)return Ce==="asc"?tt:-tt}return 0})},[q,G.sortConfig,B.columns]);return a.jsxs("table",{className:"nhsuk-table aria-tabs-datagrid__grid",role:"grid","aria-label":B.ariaLabel,"aria-describedby":B.ariaDescription?`panel-${B.id}-description`:void 0,children:[B.ariaDescription&&a.jsx("caption",{className:"nhsuk-u-visually-hidden",id:`panel-${B.id}-description`,children:B.ariaDescription}),a.jsx("thead",{className:"nhsuk-table__head",role:"rowgroup",children:a.jsx("tr",{role:"row",children:B.columns.map((se,ye)=>{const he=G.sortConfig?.find(we=>we.key===se.key),xe=!!he,Ce=P.focusArea==="headers"&&P.focusedHeaderIndex===ye;return a.jsx("th",{className:`sortable-header ${Ce?"sortable-header--focused":""} ${xe?"sortable-header--sorted":""}`,role:"columnheader",tabIndex:Ce?0:-1,onClick:()=>te(z,se.key),onKeyDown:we=>me(we,ye),"aria-sort":xe?he?.direction==="asc"?"ascending":"descending":"none",children:a.jsxs("div",{className:"header-content",children:[a.jsx("span",{className:"header-label",children:se.label}),a.jsxs("div",{className:`sort-indicator-container ${xe?`sort-indicator--${he?.direction}`:""}`,children:[G.sortConfig&&G.sortConfig.length>0&&G.sortConfig.findIndex(we=>we.key===se.key)!==-1&&a.jsx("span",{className:`sort-priority sort-priority--priority-${G.sortConfig.findIndex(we=>we.key===se.key)+1}`,"data-priority":G.sortConfig.findIndex(we=>we.key===se.key)+1,title:`Sort priority: ${G.sortConfig.findIndex(we=>we.key===se.key)+1}`,children:G.sortConfig.findIndex(we=>we.key===se.key)+1}),xe&&a.jsx("svg",{className:`nhsuk-icon sort-arrow sort-arrow--${he?.direction}`,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24","aria-hidden":"true",focusable:"false",children:a.jsx("path",{d:"M15.5 12a1 1 0 0 1-.29.71l-5 5a1 1 0 0 1-1.42-1.42l4.3-4.29-4.3-4.29a1 1 0 0 1 1.42-1.42l5 5a1 1 0 0 1 .29.71z"})})]})]})},se.key)})})}),a.jsx("tbody",{className:"nhsuk-table__body",role:"rowgroup",children:ne.map((se,ye)=>{const he=G.globalSelectedRowData&&Q(G.globalSelectedRowData,se),xe=P.focusArea==="cells"&&P.focusedRowIndex===ye;return a.jsx("tr",{role:"row",className:`data-row ${he?"data-row--selected":""} ${xe?"data-row--focused":""}`,"aria-selected":he,children:B.columns.map((Ce,we)=>{const Ge=se[Ce.key];let Oe;Ce.tableRenderer?Oe=Ce.tableRenderer(se):Ce.render?Oe=Ce.render(se):Oe=Ge;const tt=P.focusArea==="cells"&&P.focusedRowIndex===ye&&P.focusedColumnIndex===we,Be=()=>{if(Ce.customRenderer){const fe=Ce.customRenderer(Ge,se);return a.jsx("span",{className:"data-cell__custom","data-custom-rendered":"true",children:fe})}return typeof Ge=="boolean"&&Oe===Ge?a.jsxs(a.Fragment,{children:[K(Ge),a.jsx("span",{className:"nhsuk-u-visually-hidden",children:Ge?"Yes":"No"})]}):$.isValidElement(Oe)||typeof Oe!="object"?Oe??"":Oe};return a.jsx("td",{role:"gridcell",className:`data-cell ${tt?"data-cell--focused":""}`,tabIndex:tt?0:-1,onClick:()=>{const Me=G.globalSelectedRowData&&Q(G.globalSelectedRowData,se)?null:se;D({type:"SET_GLOBAL_SELECTED_ROW_DATA",payload:Me})},onKeyDown:fe=>Y(fe,ye,we),children:Be()},Ce.key)})},ye)})})]})})()},B.id)})]})}),ya={asc:"â†‘",desc:"â†“"},Z2=t=>[...t].sort((e,n)=>e.priority-n.priority);function Cc(t){return t.map((e,n)=>({...e,priority:n}))}function q2(t){return t.length>0?Math.max(...t.map(e=>e.priority)):-1}function X2(t,e){const n=e.find(r=>r.id===t);return n?n.priority>0:!1}function J2(t,e){const n=e.find(i=>i.id===t),r=q2(e);return n?n.priority<r:!1}const K2=({sortConfig:t,onSortChange:e,className:n="",emptyDescription:r="No sorting applied",activeDescription:i,showReset:o=!0,showHelp:s=!0,disabled:l=!1,ariaLabel:c="Sort configuration",ariaDescribedBy:u})=>{const d=$.useMemo(()=>Z2(t),[t]),f=$.useCallback(M=>{if(l)return;const T=t.map(x=>x.id===M?{...x,direction:x.direction==="asc"?"desc":"asc"}:x);e(T)},[t,e,l]),p=$.useCallback(M=>{if(l)return;const T=t.findIndex(v=>v.id===M);if(T<=0)return;const x=[...t];[x[T],x[T-1]]=[x[T-1],x[T]],e(Cc(x))},[t,e,l]),h=$.useCallback(M=>{if(l)return;const T=t.findIndex(v=>v.id===M);if(T>=t.length-1||T===-1)return;const x=[...t];[x[T],x[T+1]]=[x[T+1],x[T]],e(Cc(x))},[t,e,l]),y=$.useCallback(M=>{if(l)return;const T=t.filter(x=>x.id!==M);e(Cc(T))},[t,e,l]),m=$.useCallback(()=>{l||e([])},[e,l]),g=()=>{if(t.length===0)return r;if(i)return i;const M=d.map((T,x)=>{const v=T.direction==="asc"?"ascending":"descending";return`${x+1}. ${T.label} (${v})`});if(M.length===1)return`Sorted by: ${M[0]}`;if(M.length===2)return`Sorted by: ${M.join(" and ")}`;{const T=M.pop();return`Sorted by: ${M.join(", ")}, and ${T}`}},N=$.useMemo(()=>{const M=["sort-description"];return s&&M.push("sort-help"),u&&M.push(u),M.join(" ")},[s,u]);return t.length===0?a.jsx("div",{className:`sort-status-control sort-status-control--empty ${n}`,children:a.jsx("div",{className:"sort-status-control__description",id:"sort-description","aria-live":"polite",children:g()})}):a.jsxs("div",{className:`sort-status-control ${n}`,children:[a.jsx("div",{className:"sort-status-control__description sort-status-control__description--active",id:"sort-description","aria-live":"polite",children:g()}),a.jsxs("div",{className:"sort-status-control__tags",role:"list","aria-label":c,"aria-describedby":N,children:[a.jsx("div",{className:"sort-status-control__tags-label",children:"Current sorting:"}),d.map(M=>a.jsx("div",{className:"sort-status-control__tag-container",role:"listitem",children:a.jsx(pt,{text:"",color:"blue",className:"sort-status-control__tag",closable:!0,onClose:()=>y(M.id),disabled:l,children:a.jsxs("div",{className:"sort-status-control__tag-content",children:[a.jsx("span",{className:"sort-status-control__tag-priority",children:M.priority+1}),a.jsx("span",{className:"sort-status-control__tag-label",children:M.label}),a.jsx("button",{type:"button",className:"sort-status-control__tag-direction",onClick:()=>f(M.id),disabled:l,"aria-label":`Toggle sort direction for ${M.label}. Currently ${M.direction==="asc"?"ascending":"descending"}`,title:"Click to toggle between ascending and descending",children:M.direction==="asc"?ya.asc:ya.desc}),a.jsxs("div",{className:"sort-status-control__tag-actions",children:[a.jsx("button",{type:"button",className:"sort-status-control__move-button",onClick:()=>p(M.id),disabled:l||!X2(M.id,t),"aria-label":`Move ${M.label} sort up in priority`,title:"Move up in priority",children:"â–²"}),a.jsx("button",{type:"button",className:"sort-status-control__move-button",onClick:()=>h(M.id),disabled:l||!J2(M.id,t),"aria-label":`Move ${M.label} sort down in priority`,title:"Move down in priority",children:"â–¼"})]})]})})},M.id))]}),o&&a.jsx("div",{className:"sort-status-control__actions",children:a.jsx(zt,{variant:"secondary",onClick:m,disabled:l,"aria-label":"Reset all sorting",className:"sort-status-control__reset-button",children:"Clear All Sorts"})}),s&&a.jsx("div",{className:"sort-status-control__help",id:"sort-help",children:a.jsxs("small",{children:["Click ",ya.asc,"/",ya.desc," to toggle ascending/descending. Use â–²/â–¼ to change sort priority. Click Ã— to remove a sort."]})})]})},ba=(t,e)=>e.map(n=>({id:n.id,label:n.label,data:n.filter?n.filter(t):t,columns:n.columns.map(r=>({key:r.key,label:r.label,render:r.render,customRenderer:r.customRenderer})),sortConfig:n.sortConfig,ariaLabel:n.ariaLabel||`${n.label} Data Grid`,ariaDescription:n.ariaDescription||`Data grid showing ${n.label.toLowerCase()}`,className:n.className,disabled:n.disabled})),Nc=[{value:!0,icon:a.jsx("svg",{className:"nhsuk-icon nhsuk-icon__tick",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none","aria-hidden":"true",width:"100%",height:"34",children:a.jsx("path",{strokeWidth:"4",strokeLinecap:"round",d:"M18.4 7.8l-8.5 8.4L5.6 12",stroke:"#007f3b"})})},{value:!1,icon:a.jsxs("svg",{className:"nhsuk-icon nhsuk-icon__cross",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24","aria-hidden":"true",width:"100%",height:"34",children:[a.jsx("path",{d:"M17 18.5c-.4 0-.8-.1-1.1-.4l-10-10c-.6-.6-.6-1.6 0-2.1.6-.6 1.5-.6 2.1 0l10 10c.6.6.6 1.5 0 2.1-.3.3-.6.4-1 .4z",fill:"#d5281b"}),a.jsx("path",{d:"M7 18.5c-.4 0-.8-.1-1.1-.4-.6-.6-.6-1.5 0-2.1l10-10c.6-.6 1.5-.6 2.1 0 .6.6.6 1.5 0 2.1l-10 10c-.3.3-.6.4-1 .4z",fill:"#d5281b"})]})}],Q2=(t,e)=>!t||!e?t===e:t.name&&t.bed_name&&e.name&&e.bed_name?t.name===e.name&&t.bed_name===e.bed_name:JSON.stringify(t)===JSON.stringify(e),ew=(t,e)=>e?t.filter(n=>{if(e.ewsScoreRange){const[r,i]=e.ewsScoreRange;if(n.ews_score<r||n.ews_score>i)return!1}return!(e.wards&&e.wards.length>0&&!e.wards.includes(n.ward_name)||e.specialties&&e.specialties.length>0&&!e.specialties.includes(n.speciality)||e.dischargeStatuses&&e.dischargeStatuses.length>0&&!e.dischargeStatuses.includes(n.early_discharge_notification)||e.avpuLevels&&e.avpuLevels.length>0&&!e.avpuLevels.includes(n.ews_data.avpu)||e.medicallyOptimised!==null&&e.medicallyOptimised!==void 0&&n.medically_optimised!==e.medicallyOptimised||e.fastTrack!==null&&e.fastTrack!==void 0&&n.fast_track!==e.fastTrack)}):t,tw=t=>{if(typeof t=="boolean"){const n=Nc.find(r=>r.value===t);return n?n.icon:null}const e=Nc.find(n=>n.value===t);return e?e.icon:String(t)},nw=t=>`${t.name}-${t.bed_name}`,rw=()=>({overview:[{key:"name",label:"Patient Name"},{key:"age",label:"Age"},{key:"ward_name",label:"Ward"},{key:"bed_name",label:"Bed"},{key:"ews_score",label:"EWS Score"},{key:"speciality",label:"Specialty"},{key:"consultant",label:"Consultant"}],vitals:[{key:"name",label:"Patient Name"},{key:"ews_score",label:"EWS Score"},{key:"respiratory_rate_bpm",label:"Respiratory Rate",render:t=>t.ews_data.respiratory_rate_bpm},{key:"sp02",label:"SpO2 %",render:t=>t.ews_data.sp02},{key:"temperature",label:"Temperature Â°C",render:t=>t.ews_data.temperature},{key:"systolic_bp",label:"Systolic BP",render:t=>t.ews_data.systolic_bp},{key:"heart_rate",label:"Heart Rate",render:t=>t.ews_data.heart_rate},{key:"avpu",label:"AVPU",render:t=>t.ews_data.avpu.toUpperCase()}],discharge:[{key:"name",label:"Patient Name"},{key:"anticipated_discharge_date",label:"Anticipated Discharge",render:t=>new Date(t.anticipated_discharge_date).toLocaleDateString()},{key:"early_discharge_notification",label:"Discharge Status"},{key:"medically_optimised",label:"Medically Optimised"},{key:"criteria_to_reside",label:"Criteria to Reside"},{key:"fast_track",label:"Fast Track"},{key:"transport_status",label:"Transport Status"},{key:"pathway",label:"Pathway"}],logistics:[{key:"name",label:"Patient Name"},{key:"ward_name",label:"Ward"},{key:"room_name",label:"Room"},{key:"bed_name",label:"Bed"},{key:"bed_type",label:"Bed Type"},{key:"transport_booking",label:"Transport Booked"},{key:"transport_mobility",label:"Transport Type"},{key:"district_nurse_referral",label:"District Nurse"},{key:"equipment",label:"Equipment"}]}),iw=t=>{const e=rw();return[{id:"overview",label:"Patient Overview",data:t,columns:e.overview,ariaLabel:"Patient Overview Data Grid",ariaDescription:"Overview of all patients with basic information"},{id:"vitals",label:"Vital Signs & EWS",data:t,columns:e.vitals,sortConfig:[{key:"ews_score",direction:"desc"},{key:"name",direction:"asc"},{key:"ward_name",direction:"asc"}],ariaLabel:"Patient Vital Signs Data Grid",ariaDescription:"Patient vital signs and Early Warning Scores"},{id:"discharge",label:"Discharge Planning",data:t.filter(n=>n.anticipated_discharge_date),columns:e.discharge,sortConfig:[{key:"anticipated_discharge_date",direction:"asc"},{key:"discharge_status",direction:"desc"}],ariaLabel:"Discharge Planning Data Grid",ariaDescription:"Patient discharge planning and status information"},{id:"logistics",label:"Bed Management",data:t,columns:e.logistics,sortConfig:[{key:"ward_name",direction:"asc"}],ariaLabel:"Bed Management Data Grid",ariaDescription:"Patient location and logistics information"}]},Rh={dataComparator:Q2,filterFunction:ew,booleanRenderer:tw,getDataId:nw};function zh(t,e,n){const{primaryField:r,secondaryFields:i=[],badges:o=[],hiddenFields:s=[],getPriority:l,getVariant:c,fieldRenderers:u={},classPrefix:d="adaptive-card"}=n,f=e.find(T=>T.key===r),p=f?.cardRenderer?f.cardRenderer(t):f?.render?f.render(t):t[r||"name"]||"Untitled",h=()=>i.filter(x=>!s.includes(x)&&t[x]).slice(0,3).map(x=>{const v=e.find(b=>b.key===x),C=t[x],w=u[x]?u[x](C,t):v?.cardRenderer?v.cardRenderer(t):v?.render?v.render(t):C;return`${v?.label||x}: ${w}`}).join(" â€¢ "),y=()=>o.length===0?null:o.filter(T=>t[T.fieldKey]!==void 0).map(T=>{const x=t[T.fieldKey],v=T.render?T.render(x,t):x;return`<span class="nhsuk-tag ${ow(T,x)}">${v}</span>`}).join(""),m=()=>c?c(t):l?.(t)==="high"?"primary":"default",g=y(),N=h(),M=g?`${N}${g?`<div class="adaptive-card__badges">${g}</div>`:""}`:N;return{variant:m(),heading:String(p),descriptionHtml:M,className:`adaptive-card ${d}`,"aria-label":`Record for ${p}`}}function ow(t,e){const n=t.className||"adaptive-card__badge";if(t.fieldKey==="ews_score"||t.fieldKey.includes("score")){const r=Number(e);return r>=7?`${n} nhsuk-tag--red`:r>=3?`${n} nhsuk-tag--yellow`:`${n} nhsuk-tag--green`}if(t.fieldKey==="priority"){const r=String(e).toLowerCase();if(r==="high")return`${n} nhsuk-tag--red`;if(r==="medium")return`${n} nhsuk-tag--yellow`;if(r==="low")return`${n} nhsuk-tag--green`}if(t.fieldKey==="status"){const r=String(e).toLowerCase();if(r==="urgent"||r==="critical")return`${n} nhsuk-tag--red`;if(r==="pending"||r==="warning")return`${n} nhsuk-tag--yellow`;if(r==="completed"||r==="success")return`${n} nhsuk-tag--green`}switch(t.color){case"primary":return`${n} nhsuk-tag--blue`;case"secondary":return`${n} nhsuk-tag--grey`;case"success":return`${n} nhsuk-tag--green`;case"warning":return`${n} nhsuk-tag--yellow`;case"danger":return`${n} nhsuk-tag--red`;default:return n}}const sw={primaryField:"name",secondaryFields:["id","description","status"],badges:[{fieldKey:"priority",render:t=>t.charAt(0).toUpperCase()+t.slice(1),className:"adaptive-card__priority-badge"},{fieldKey:"status",render:t=>t.charAt(0).toUpperCase()+t.slice(1),className:"adaptive-card__status-badge"}],hiddenFields:[],getPriority:t=>t.priority||"medium",getStatus:t=>t.status||"active",getVariant:t=>t.priority==="high"?"primary":"default",fieldRenderers:{},classPrefix:"adaptive-card--generic"},Mc=({data:t,columns:e,onSelect:n,onAction:r,priority:i="medium",status:o="active"})=>{const s=t.name,l=t.age,c=t.ward_name,u=t.bed_name,d=t.ews_score,f=t.speciality,p=t.consultant;return a.jsxs("div",{className:`healthcare-card healthcare-card--patient healthcare-card--${i} healthcare-card--${o}`,onClick:()=>n?.(t),role:"button",tabIndex:0,"aria-label":`Patient record for ${s}, Age ${l}, Ward ${c}, Bed ${u}`,children:[a.jsxs("div",{className:"healthcare-card__header",children:[a.jsxs("div",{className:"healthcare-card__identity",children:[a.jsx("h3",{className:"healthcare-card__patient-name",children:s}),a.jsxs("p",{className:"healthcare-card__age-info",children:[a.jsx("span",{className:"healthcare-card__label",children:"Age: "}),a.jsx("span",{className:"healthcare-card__value",children:l})]})]}),a.jsx("div",{className:"healthcare-card__badges",children:d!==void 0&&a.jsxs(pt,{color:lw(Hh(d)),className:"healthcare-card__alert",children:["EWS: ",d]})})]}),a.jsx("div",{className:"healthcare-card__body",children:a.jsxs("dl",{className:"healthcare-card__details",children:[a.jsxs("div",{className:"healthcare-card__detail",children:[a.jsx("dt",{children:"Ward"}),a.jsx("dd",{children:c})]}),a.jsxs("div",{className:"healthcare-card__detail",children:[a.jsx("dt",{children:"Bed"}),a.jsx("dd",{children:u})]}),a.jsxs("div",{className:"healthcare-card__detail",children:[a.jsx("dt",{children:"Specialty"}),a.jsx("dd",{children:f})]}),a.jsxs("div",{className:"healthcare-card__detail healthcare-card__detail--prominent",children:[a.jsx("dt",{children:"Consultant"}),a.jsx("dd",{children:p})]})]})}),a.jsxs("div",{className:"healthcare-card__actions",children:[a.jsx(zt,{variant:"secondary",className:"healthcare-card__action",onClick:h=>{h.stopPropagation(),r?.("view-notes",t)},children:"Notes"}),a.jsx(zt,{variant:"secondary",className:"healthcare-card__action",onClick:h=>{h.stopPropagation(),r?.("view-vitals",t)},children:"Vitals"}),a.jsx(zt,{variant:"primary",className:"healthcare-card__action healthcare-card__action--primary",onClick:h=>{h.stopPropagation(),r?.("view-full",t)},children:"View Full Record"})]})]})},Tc=({data:t,onAction:e})=>a.jsxs("div",{className:"healthcare-card healthcare-card--appointment healthcare-card--medium healthcare-card--active",role:"article",tabIndex:0,children:[a.jsxs("div",{className:"healthcare-card__header",children:[a.jsxs("div",{className:"healthcare-card__time-info",children:[a.jsx("h3",{className:"healthcare-card__time",children:new Date(t.appointment_time).toLocaleTimeString("en-GB",{hour:"2-digit",minute:"2-digit"})}),a.jsx("p",{className:"healthcare-card__type",children:t.appointment_type})]}),a.jsxs("div",{className:"healthcare-card__badges",children:[a.jsx(pt,{color:cw(t.status||"active"),className:"healthcare-card__status",children:(t.status||"active").charAt(0).toUpperCase()+(t.status||"active").slice(1)}),a.jsxs(pt,{color:"grey",className:"healthcare-card__duration",children:[t.duration||"30"," min"]})]})]}),a.jsx("div",{className:"healthcare-card__body",children:a.jsxs("dl",{className:"healthcare-card__details",children:[a.jsxs("div",{className:"healthcare-card__detail",children:[a.jsx("dt",{children:"Patient"}),a.jsx("dd",{children:t.patient_name})]}),a.jsxs("div",{className:"healthcare-card__detail",children:[a.jsx("dt",{children:"Consultant"}),a.jsx("dd",{children:t.consultant})]}),a.jsxs("div",{className:"healthcare-card__detail",children:[a.jsx("dt",{children:"Location"}),a.jsx("dd",{children:t.location})]})]})}),a.jsxs("div",{className:"healthcare-card__actions",children:[a.jsx(zt,{variant:"secondary",size:"small",onClick:()=>e?.("view",t),children:"View Details"}),a.jsx(zt,{variant:"primary",size:"small",onClick:()=>e?.("edit",t),children:"Reschedule"})]})]}),jc=({data:t,onAction:e})=>a.jsxs("div",{className:"healthcare-card healthcare-card--medication healthcare-card--medium healthcare-card--active",role:"article",tabIndex:0,children:[a.jsxs("div",{className:"healthcare-card__header",children:[a.jsxs("div",{className:"healthcare-card__medication-info",children:[a.jsx("h3",{className:"healthcare-card__medication-name",children:t.medication}),a.jsxs("p",{className:"healthcare-card__dose",children:[t.dose," â€¢ ",t.frequency]})]}),a.jsxs("div",{className:"healthcare-card__badges",children:[a.jsx(pt,{color:"blue",className:"healthcare-card__route",children:t.route}),t.next_due&&a.jsxs(pt,{color:"red",className:"healthcare-card__warning",children:["Due: ",new Date(t.next_due).toLocaleTimeString("en-GB",{hour:"2-digit",minute:"2-digit"})]})]})]}),a.jsx("div",{className:"healthcare-card__body",children:a.jsxs("dl",{className:"healthcare-card__details",children:[a.jsxs("div",{className:"healthcare-card__detail",children:[a.jsx("dt",{children:"Patient"}),a.jsx("dd",{children:t.patient_name})]}),a.jsxs("div",{className:"healthcare-card__detail",children:[a.jsx("dt",{children:"Prescriber"}),a.jsx("dd",{children:t.prescriber})]}),t.allergies&&a.jsxs("div",{className:"healthcare-card__detail healthcare-card__detail--urgent",children:[a.jsx("dt",{children:"Allergies"}),a.jsx("dd",{children:t.allergies})]})]})}),a.jsxs("div",{className:"healthcare-card__actions",children:[a.jsx(zt,{variant:"secondary",size:"small",onClick:()=>e?.("view",t),children:"View Details"}),a.jsx(zt,{variant:"primary",size:"small",onClick:()=>e?.("edit",t),children:"Adjust Dose"})]})]}),Dc=({data:t,onSelect:e,onAction:n,priority:r="medium"})=>{const i=t.name,o=t.ews_score,s=t.ews_data?.respiratory_rate_bpm,l=t.ews_data?.sp02,c=t.ews_data?.temperature,u=t.ews_data?.systolic_bp,d=t.ews_data?.heart_rate,f=t.ews_data?.avpu;return a.jsxs("div",{className:`healthcare-card healthcare-card--vitals healthcare-card--${r}`,onClick:()=>e?.(t),role:"button",tabIndex:0,"aria-label":`Vital signs for ${i}, EWS Score ${o}`,children:[a.jsxs("div",{className:"healthcare-card__header",children:[a.jsxs("div",{className:"healthcare-card__vitals-summary",children:[a.jsx("h3",{className:"healthcare-card__patient-name",children:i}),o!==void 0&&a.jsxs("p",{className:`healthcare-card__ews-score healthcare-card__ews-score--${aw(o)}`,children:["EWS: ",o]})]}),a.jsx("div",{className:"healthcare-card__badges",children:f&&a.jsxs(pt,{color:"blue",className:"healthcare-card__avpu",children:["AVPU: ",f.toUpperCase()]})})]}),a.jsx("div",{className:"healthcare-card__body",children:a.jsxs("div",{className:"healthcare-card__vitals-grid",children:[s!==void 0&&a.jsxs("div",{className:"healthcare-card__vital",children:[a.jsx("span",{className:"healthcare-card__vital-label",children:"Respiratory Rate"}),a.jsxs("span",{className:"healthcare-card__vital-value",children:[s," bpm"]})]}),l!==void 0&&a.jsxs("div",{className:"healthcare-card__vital",children:[a.jsx("span",{className:"healthcare-card__vital-label",children:"SpO2"}),a.jsxs("span",{className:"healthcare-card__vital-value",children:[l,"%"]})]}),c!==void 0&&a.jsxs("div",{className:"healthcare-card__vital",children:[a.jsx("span",{className:"healthcare-card__vital-label",children:"Temperature"}),a.jsxs("span",{className:"healthcare-card__vital-value",children:[c,"Â°C"]})]}),u!==void 0&&a.jsxs("div",{className:"healthcare-card__vital",children:[a.jsx("span",{className:"healthcare-card__vital-label",children:"Systolic BP"}),a.jsx("span",{className:"healthcare-card__vital-value",children:u})]}),d!==void 0&&a.jsxs("div",{className:"healthcare-card__vital",children:[a.jsx("span",{className:"healthcare-card__vital-label",children:"Heart Rate"}),a.jsxs("span",{className:"healthcare-card__vital-value",children:[d," bpm"]})]})]})}),a.jsxs("div",{className:"healthcare-card__actions",children:[a.jsx(zt,{variant:"secondary",className:"healthcare-card__action",onClick:p=>{p.stopPropagation(),n?.("view-trend",t)},children:"Trend"}),a.jsx(zt,{variant:"primary",className:"healthcare-card__action healthcare-card__action--primary",onClick:p=>{p.stopPropagation(),n?.("record-new",t)},children:"Record New"})]})]})};function Hh(t){const e=typeof t=="string"?parseInt(t,10):t;return e>=7?"critical":e>=5?"high":e>=3?"medium":"low"}function aw(t){return Hh(t)}function lw(t){switch(t){case"critical":return"red";case"high":return"orange";case"medium":return"yellow";case"low":return"grey";default:return"grey"}}function cw(t){switch(t.toLowerCase()){case"active":return"blue";case"pending":return"orange";case"completed":return"green";case"cancelled":return"grey";default:return"blue"}}const uw=[{fieldKey:"ews_score",render:t=>`EWS: ${t}`,className:"adaptive-card__ews-badge",color:"default"},{fieldKey:"priority",render:t=>t.charAt(0).toUpperCase()+t.slice(1),className:"adaptive-card__priority-badge"},{fieldKey:"status",render:t=>t.charAt(0).toUpperCase()+t.slice(1),className:"adaptive-card__status-badge"}],Uh=t=>t.ews_score&&Number(t.ews_score)>=7?"high":t.ews_score&&Number(t.ews_score)>=3?"medium":t.priority==="high"||t.status==="urgent"?"high":t.priority==="low"?"low":"medium",Wh={name:"healthcare",defaultCardConfig:{primaryField:"name",secondaryFields:["nhs_number","ward","condition","consultant"],badges:uw,hiddenFields:[],getPriority:Uh,getStatus:t=>{if(t.status){const e=t.status.toLowerCase();if(["active","pending","completed","cancelled","urgent"].includes(e))return e}return"active"},getVariant:t=>Uh(t)==="high"||t.status==="urgent"?"primary":"default",fieldRenderers:{nhs_number:t=>t?`NHS: ${t}`:"",ews_score:t=>{const e=Number(t),n=e>=7?"HIGH":e>=3?"MEDIUM":"LOW";return`EWS: ${t} (${n})`},age:(t,e)=>e.dob?`${new Date().getFullYear()-new Date(e.dob).getFullYear()}y`:t?`${t}y`:""},classPrefix:"adaptive-card--healthcare"},cssImport:"./HealthcareCardTemplates.scss",cardTemplates:{patient:(t,e,n)=>{const r=n.getPriority?.(t)||"medium",i=n.getStatus?.(t)||"active",o=i==="urgent"?"active":i;return a.jsx(Mc,{data:t,columns:e,priority:r,status:o,onSelect:s=>console.log("Patient selected:",s),onAction:(s,l)=>console.log("Patient action:",s,l)})},appointment:(t,e,n)=>{const r=n.getStatus?.(t)||"pending",i=r==="urgent"?"pending":r;return a.jsx(Tc,{data:t,columns:e,status:i,onSelect:o=>console.log("Appointment selected:",o),onAction:(o,s)=>console.log("Appointment action:",o,s)})},medication:(t,e,n)=>{const r=n.getPriority?.(t)||"medium";return a.jsx(jc,{data:t,columns:e,priority:r,onSelect:i=>console.log("Medication selected:",i),onAction:(i,o)=>console.log("Medication action:",i,o)})},vitals:(t,e,n)=>{const r=n.getPriority?.(t)||"medium";return a.jsx(Dc,{data:t,columns:e,priority:r,onSelect:i=>console.log("Vitals selected:",i),onAction:(i,o)=>console.log("Vitals action:",i,o)})}},fieldTypes:{isNHSNumber:t=>typeof t=="string"&&/^\d{3}\s?\d{3}\s?\d{4}$/.test(t.replace(/\s/g,"")),isEWSScore:t=>typeof t=="number"&&t>=0&&t<=20,isMedicalDate:t=>typeof t=="string"&&!isNaN(Date.parse(t))}};function Gh(t){return{primaryField:t?.primaryField||"name",secondaryFields:t?.secondaryFields||[],badges:t?.badgeFields?.map(e=>({fieldKey:e,className:"adaptive-card__badge"}))||[],hiddenFields:t?.hiddenFields||[],cardTemplate:t?.cardTemplate?(e,n,r)=>t.cardTemplate(e,n):void 0,classPrefix:"adaptive-card--generic"}}function Yh(t){if(!t||t.length===0)return!1;const e=t[0];return e.ews_score!==void 0||e.nhs_number!==void 0||e.patient_name!==void 0||e.ward!==void 0||e.consultant!==void 0}function dw(t,e){switch(e.type){case"SET_SELECTED_INDEX":return{...t,selectedIndex:e.payload};case"SET_TAB_LOADING":const n=[...t.tabLoadingStates];return n[e.payload.tabIndex]=e.payload.isLoading,{...t,tabLoadingStates:n};case"SET_TAB_ERROR":const r=[...t.tabErrors];return r[e.payload.tabIndex]=e.payload.error,{...t,tabErrors:r};case"SET_SORT":return{...t,sortConfig:e.payload};case"SET_SELECTED_ROWS":const i=[...t.selectedRows];return i[e.payload.tabIndex]=e.payload.rowIndices,{...t,selectedRows:i};case"SET_GLOBAL_SELECTED_ROW_DATA":return{...t,globalSelectedRowData:e.payload};case"SET_FILTERS":return{...t,filters:e.payload};case"ADJUST_ARRAYS":const{newLength:o}=e.payload,s=new Array(o).fill(!1),l=new Array(o).fill(null),c=new Array(o).fill([]);for(let u=0;u<Math.min(t.tabLoadingStates.length,o);u++)s[u]=t.tabLoadingStates[u],l[u]=t.tabErrors[u],c[u]=t.selectedRows[u];return{...t,tabLoadingStates:s,tabErrors:l,selectedRows:c};case"RESET_STATE":return{selectedIndex:0,tabLoadingStates:new Array(t.tabLoadingStates.length).fill(!1),tabErrors:new Array(t.tabErrors.length).fill(null),sortConfig:[],selectedRows:new Array(t.selectedRows.length).fill([]),globalSelectedRowData:null,filters:void 0};default:return t}}function fw(t,e){const[n,r]=$.useState("cards");return $.useEffect(()=>{if(e){r(e);return}const i=()=>{const o=window.innerWidth;o<t.mobile?r("cards"):o<t.desktop?r("hybrid"):r("table")};return i(),window.addEventListener("resize",i),()=>window.removeEventListener("resize",i)},[t,e]),n}function hw(t){return!t||typeof t!="object"?null:t.appointment_type||t.appointment_time||t.clinic?"appointment":t.medication_name||t.medication||t.dose||t.frequency?"medication":t.ews_score!==void 0||t.respiratory_rate!==void 0||t.spo2!==void 0||t.temperature!==void 0||t.systolic_bp!==void 0||t.heart_rate!==void 0?"vitals":t.name||t.patient_name||t.nhs_number||t.ward||t.bed?"patient":null}function pw(t,e,n,r){const i=r?{...r.defaultCardConfig,...n}:{...sw,...n};if(r&&r.cardTemplates){const o=hw(t);if(o&&r.cardTemplates[o]){const s=r.cardTemplates[o](t,e,i);if(s)return{variant:"default",children:s}}}return i.cardTemplate&&i.cardTemplate(t,e,i),zh(t,e,i)}const Ic=({breakpoints:t={mobile:768,tablet:1024,desktop:1200},forceLayout:e,cardConfig:n={},experimental:r={},enableAdvancedSorting:i=!1,topActions:o,bottomActions:s,gridActions:l,forceGridActionsAbove:c,tabPanels:u,dataConfig:d,selectedIndex:f,onTabChange:p,ariaLabel:h="Data grid",ariaDescription:y,orientation:m="horizontal",id:g,disabled:N=!1,className:M,...T})=>{const x=fw(t,e),v=f!==void 0,C=f??0,w=$.useMemo(()=>{if(u.some(L=>L.data&&L.data.length>0&&Yh(L.data))){const L=Gh(n);return{...Wh.defaultCardConfig,...L}}else return Gh(n)},[n,u]),k=$.useMemo(()=>u.some(L=>L.data&&L.data.length>0&&Yh(L.data))?Wh:void 0,[u]),b=$.useMemo(()=>({selectedIndex:C,tabLoadingStates:new Array(u.length).fill(!1),tabErrors:new Array(u.length).fill(null),sortConfig:[],selectedRows:new Array(u.length).fill([]),globalSelectedRowData:null,filters:void 0}),[C,u.length]),[_,I]=$.useReducer(dw,b),j=$.useRef([]),E=$.useRef([]),F=$.useRef([]),A=$.useRef(null),[P,R]=$.useState({focusArea:"tabs",focusedTabIndex:0,focusedCardIndex:0,selectedCardIndex:-1,isGridActive:!1,focusedCardElementIndex:0,cardElements:[],isCardNavigationActive:!1,gridColumns:1,gridRows:1,cardSortConfig:null,focusedSortControlIndex:0,isSortControlsActive:!1}),oe=$.useCallback(W=>{if(!W.current)return{columns:1,rows:0};const L=W.current,O=L.querySelectorAll(".aria-tabs-datagrid-adaptive__card-wrapper");if(O.length===0)return{columns:1,rows:0};const V=L.offsetWidth,z=O[0].offsetWidth,H=Math.floor(V/z)||1,q=Math.ceil(O.length/H);return{columns:H,rows:q}},[]),G=$.useCallback((W,L)=>({row:Math.floor(W/L),col:W%L}),[]),D=$.useCallback((W,L,O)=>W*O+L,[]),Q=$.useCallback((W,L,O,V)=>{const{row:B,col:z}=G(W,V);let H=B,q=z;switch(L){case"up":H=Math.max(0,B-1);break;case"down":H=Math.min(Math.floor((O-1)/V),B+1);break;case"left":q=Math.max(0,z-1);break;case"right":q=Math.min(V-1,z+1);break}const ne=D(H,q,V);return Math.min(ne,O-1)},[G,D]);$.useEffect(()=>{P.isCardNavigationActive&&P.focusedCardElementIndex>=0&&P.cardElements.length>0&&setTimeout(()=>{const W=P.cardElements[P.focusedCardElementIndex];W&&(W.element.focus(),W.element.scrollIntoView({block:"nearest",behavior:"smooth"}))},0)},[P.isCardNavigationActive,P.focusedCardElementIndex,P.cardElements.length]),$.useEffect(()=>{const W=()=>{if(x==="cards"&&A.current){const{columns:V,rows:B}=oe(A);R(z=>({...z,gridColumns:V,gridRows:B}))}},L=setTimeout(W,200),O=()=>{setTimeout(W,100)};return window.addEventListener("resize",O),()=>{clearTimeout(L),window.removeEventListener("resize",O)}},[x,u,oe]),$.useEffect(()=>{const W=_.tabLoadingStates.length,L=u.length;W!==L&&I({type:"ADJUST_ARRAYS",payload:{newLength:L}})},[u.length,_.tabLoadingStates.length]),$.useEffect(()=>{v&&f!==_.selectedIndex&&I({type:"SET_SELECTED_INDEX",payload:f})},[v,f,_.selectedIndex]);const Z=$.useCallback(W=>{W>=0&&W<u.length&&!u[W].disabled&&(I({type:"SET_SELECTED_INDEX",payload:W}),p?.(W))},[u,p]),re=$.useCallback(W=>{console.log("Card selected:",W),I({type:"SET_GLOBAL_SELECTED_ROW_DATA",payload:W})},[]),J=$.useCallback(W=>{const L=E.current[W];L&&(L.focus(),L.scrollIntoView({block:"nearest",behavior:"smooth"}))},[]),ee=$.useCallback(W=>{const L=E.current[W];if(!L)return[];const O=['button:not([disabled]):not([aria-hidden="true"])','a[href]:not([disabled]):not([aria-hidden="true"])','input:not([disabled]):not([aria-hidden="true"])','select:not([disabled]):not([aria-hidden="true"])','textarea:not([disabled]):not([aria-hidden="true"])','[tabindex]:not([tabindex="-1"]):not([disabled]):not([aria-hidden="true"])','.healthcare-card__detail[tabindex]:not([tabindex="-1"])',".healthcare-card__action:not([disabled])",".tag:not([disabled])"].join(", "),V=L.querySelectorAll(O);return Array.from(V).map((B,z)=>({id:B.id||`card-${W}-element-${z}`,element:B,label:B.getAttribute("aria-label")||B.textContent?.trim()||B.getAttribute("title")||`Element ${z+1}`,type:B.tagName.toLowerCase()==="button"?"button":B.tagName.toLowerCase()==="a"?"link":["input","select","textarea"].includes(B.tagName.toLowerCase())?"input":"generic"}))},[]),de=$.useRef(null),te=$.useCallback(W=>{const L=de.current;if(!L)return;const O=document.createElement("div");O.setAttribute("aria-live","polite"),O.setAttribute("aria-atomic","true"),O.className="sr-only",O.textContent=W,L.appendChild(O),setTimeout(()=>{L.contains(O)&&L.removeChild(O)},1e3)},[]),ie=$.useCallback(W=>{const L=W.filter(V=>V.sortable!==!1),O=[{value:"",label:"Sort by..."}];return L.forEach(V=>{const B=V.label||V.key;V.key==="name"?O.push({value:`${V.key}-asc`,label:`${B} (A-Z)`},{value:`${V.key}-desc`,label:`${B} (Z-A)`}):V.key==="ews_score"||V.key.includes("score")?O.push({value:`${V.key}-desc`,label:`${B} (High-Low)`},{value:`${V.key}-asc`,label:`${B} (Low-High)`}):V.key==="age"||V.key.includes("date")||V.key.includes("time")?O.push({value:`${V.key}-desc`,label:`${B} (Oldest-Youngest)`},{value:`${V.key}-asc`,label:`${B} (Youngest-Oldest)`}):O.push({value:`${V.key}-asc`,label:`${B} (A-Z)`},{value:`${V.key}-desc`,label:`${B} (Z-A)`})}),O},[]),K=$.useCallback((W,L)=>L?[...W].sort((O,V)=>{const B=O[L.key],z=V[L.key];if(B==null&&z==null)return 0;if(B==null)return 1;if(z==null)return-1;const H=Number(B),q=Number(z);if(!isNaN(H)&&!isNaN(q))return L.direction==="asc"?H-q:q-H;const ne=String(B).toLowerCase(),se=String(z).toLowerCase(),ye=ne.localeCompare(se);return L.direction==="asc"?ye:-ye}):W,[]),ae=$.useCallback(W=>{if(!W){R(ne=>({...ne,cardSortConfig:null})),te("Card sorting cleared");return}const[L,O]=W.split("-"),V={key:L,direction:O};R(ne=>({...ne,cardSortConfig:V}));const H=u[_.selectedIndex]?.columns.find(ne=>ne.key===L)?.label||L;te(`Cards sorted by ${H} in ${O==="asc"?"ascending":"descending"} order`)},[u,_.selectedIndex,te]),me=$.useCallback(W=>{const V=u[_.selectedIndex]?.columns.find(z=>z.key===W.key)?.label||W.key,B=W.direction==="asc"?"ascending":"descending";return`${V} (${B})`},[u,_.selectedIndex]),Y=$.useCallback(W=>{const L=u[_.selectedIndex];if(i){const O=_.sortConfig;return!O||O.length===0?W:[...W].sort((V,B)=>{for(const{key:z,direction:H}of O){let q=V[z],ne=B[z];const se=L?.columns.find(Ge=>Ge.key===z);if(se?.cardRenderer?(q=se.cardRenderer(V),ne=se.cardRenderer(B)):se?.render&&(q=se.render(V),ne=se.render(B)),q==null&&ne==null)continue;if(q==null)return H==="asc"?-1:1;if(ne==null)return H==="asc"?1:-1;const ye=Number(q),he=Number(ne);if(!isNaN(ye)&&!isNaN(he)){const Ge=ye-he;if(Ge!==0)return H==="asc"?Ge:-Ge;continue}const xe=String(q).toLowerCase(),Ce=String(ne).toLowerCase(),we=xe.localeCompare(Ce);if(we!==0)return H==="asc"?we:-we}return 0})}else return K(W,P.cardSortConfig)},[i,_.sortConfig,P.cardSortConfig,K,u,_.selectedIndex]),le=$.useCallback((W,L)=>{const O=ee(W),V=O[L];if(V){V.element.scrollIntoView({block:"nearest",behavior:"smooth"});const B=`Focused on ${V.label}, ${V.type} ${L+1} of ${O.length} within card`;te(B)}},[ee,te]),ce=$.useCallback(W=>{j.current[W]?.focus()},[]),ge=$.useCallback(()=>{const W=F.current[0];if(!W)return[];const L=['select:not([disabled]):not([aria-hidden="true"])','button:not([disabled]):not([aria-hidden="true"])','input:not([disabled]):not([aria-hidden="true"])','[tabindex]:not([tabindex="-1"]):not([disabled]):not([aria-hidden="true"])'].join(", "),O=W.querySelectorAll(L);return Array.from(O)},[]),pe=$.useCallback(W=>{if(W===0){const L=F.current[0],O=L?.querySelector(".sort-controls-row");if(O){O.setAttribute("tabindex","-1"),O.focus();const B=`Sort controls group with ${ge().length} interactive elements. Press Enter or Space to begin navigating controls.`;te(B)}else L&&L.focus()}else{const L=ge(),O=W-1,V=L[O];if(V){V.focus();const B=V.tagName.toLowerCase()==="select",z=V.tagName.toLowerCase()==="button",H=B?"dropdown":z?"button":"control",q=B?". Use Space key to open dropdown":"",ne=`${H} ${O+1} of ${L.length}${q}`;te(ne)}}},[ge,te]),U=$.useCallback((W,L)=>{const{key:O}=W,V=u[_.selectedIndex],B=V?.data.length||0;if(O==="ArrowLeft"&&W.shiftKey){W.preventDefault(),W.currentTarget.scrollBy({left:-30,behavior:"smooth"});return}else if(O==="ArrowRight"&&W.shiftKey){W.preventDefault(),W.currentTarget.scrollBy({left:30,behavior:"smooth"});return}if(!P.isCardNavigationActive){switch(O){case"ArrowUp":if(W.preventDefault(),L===0)R(ne=>({...ne,focusArea:"sort-controls",focusedSortControlIndex:0,isSortControlsActive:!1})),pe(0);else{const ne=Q(L,"up",B,P.gridColumns);ne!==L&&(R(se=>({...se,focusedCardIndex:ne})),J(ne),te(`Moved to card ${ne+1} of ${B}`))}break;case"ArrowDown":W.preventDefault();const z=Q(L,"down",B,P.gridColumns);z!==L&&(R(ne=>({...ne,focusedCardIndex:z})),J(z),te(`Moved to card ${z+1} of ${B}`));break;case"ArrowLeft":W.preventDefault();const H=Q(L,"left",B,P.gridColumns);H!==L?(R(ne=>({...ne,focusedCardIndex:H})),J(H),te(`Moved to card ${H+1} of ${B}`)):_.selectedIndex>0&&(I({type:"SET_SELECTED_INDEX",payload:_.selectedIndex-1}),R(ne=>({...ne,focusArea:"tabs"})),setTimeout(()=>ce(_.selectedIndex-1),0));break;case"ArrowRight":W.preventDefault();const q=Q(L,"right",B,P.gridColumns);q!==L?(R(ne=>({...ne,focusedCardIndex:q})),J(q),te(`Moved to card ${q+1} of ${B}`)):_.selectedIndex<u.length-1&&(I({type:"SET_SELECTED_INDEX",payload:_.selectedIndex+1}),R(ne=>({...ne,focusArea:"tabs"})),setTimeout(()=>ce(_.selectedIndex+1),0));break;case"Enter":if(V?.data[L]){W.preventDefault(),R(se=>({...se,selectedCardIndex:L}));const ne=ee(L);ne.length>0?(R(se=>({...se,focusArea:"card",isCardNavigationActive:!0,focusedCardElementIndex:0,cardElements:ne,selectedCardIndex:L})),te(`Card ${L+1} selected and navigation activated. ${ne.length} interactive elements available. Use arrow keys to navigate, Enter to activate, Escape to exit.`)):te(`Card ${L+1} selected.`)}break;case" ":if(V?.data[L]){W.preventDefault(),R(se=>({...se,selectedCardIndex:se.selectedCardIndex===L?-1:L}));const ne=P.selectedCardIndex===L;te(`Card ${L+1} ${ne?"deselected":"selected"}.`)}break}return}switch(O){case"ArrowUp":case"ArrowLeft":W.preventDefault();const z=Math.max(0,P.focusedCardElementIndex-1);R(se=>({...se,focusedCardElementIndex:z})),le(L,z);break;case"ArrowDown":case"ArrowRight":W.preventDefault();const H=Math.min(P.cardElements.length-1,P.focusedCardElementIndex+1);R(se=>({...se,focusedCardElementIndex:H})),le(L,H);break;case"Enter":W.preventDefault();const q=P.cardElements[P.focusedCardElementIndex];q&&(q.element.click(),te(`Activated ${q.label}`));break;case" ":W.preventDefault();const ne=P.cardElements[P.focusedCardElementIndex];if(ne){const se=new MouseEvent("dblclick",{bubbles:!0});ne.element.dispatchEvent(se),te(`Double-clicked ${ne.label}`)}break;case"Escape":W.preventDefault(),R(se=>({...se,focusArea:"cards",isCardNavigationActive:!1,focusedCardElementIndex:0,cardElements:[]})),setTimeout(()=>J(L),0),te("Exited card navigation, returned to card level");break;case"Home":W.preventDefault(),P.cardElements.length>0&&(R(se=>({...se,focusedCardElementIndex:0})),le(L,0));break;case"End":if(W.preventDefault(),P.cardElements.length>0){const se=P.cardElements.length-1;R(ye=>({...ye,focusedCardElementIndex:se})),le(L,se)}break}},[P,_.selectedIndex,u,re,J,ce,R,ee,le,te]),Ee=$.useCallback(W=>{const L=j.current[W],O=L?.parentElement;if(!L||!O){console.log("Tab or container not found for mobile scroll");return}const V=L.getBoundingClientRect(),B=O.getBoundingClientRect();V.left>=B.left&&V.right<=B.right||(console.log("Tab not visible, scrolling into view (mobile)"),L.scrollIntoView({behavior:"smooth",block:"nearest",inline:"center"}))},[]),Pe=$.useCallback((W,L)=>{if(x!=="cards")return;const{key:O}=W;switch(O){case"ArrowLeft":W.preventDefault();const V=L>0?L-1:u.length-1;Z(V),R(q=>({...q,focusedTabIndex:V})),j.current[V]?.focus(),Ee(V);break;case"ArrowRight":W.preventDefault();const B=L<u.length-1?L+1:0;Z(B),R(q=>({...q,focusedTabIndex:B})),j.current[B]?.focus(),Ee(B);break;case"ArrowDown":W.preventDefault();const z=u[_.selectedIndex];z&&z.columns&&z.columns.length>0?(R(q=>({...q,focusArea:"sort-controls",focusedSortControlIndex:0})),pe(0)):(R(q=>({...q,focusArea:"cards",focusedCardIndex:0})),J(0));break;case"Home":W.preventDefault(),Z(0),R(q=>({...q,focusedTabIndex:0})),j.current[0]?.focus(),Ee(0);break;case"End":W.preventDefault();const H=u.length-1;Z(H),R(q=>({...q,focusedTabIndex:H})),j.current[H]?.focus(),Ee(H);break;case"Enter":case" ":W.preventDefault(),Z(L);break}},[u.length,Z,x,J,R,Ee]),je=$.useCallback((W,L)=>{if(x!=="cards")return;const{key:O}=W,V=u[_.selectedIndex];if(L===0&&!P.isSortControlsActive){switch(O){case"ArrowUp":W.preventDefault(),R(z=>({...z,focusArea:"tabs",isSortControlsActive:!1})),ce(_.selectedIndex);break;case"ArrowDown":W.preventDefault(),V?.data&&V.data.length>0&&(R(z=>({...z,focusArea:"cards",focusedCardIndex:0,isSortControlsActive:!1})),J(0));break;case"Enter":case" ":W.preventDefault();const B=ge();if(B.length>0){R(H=>({...H,isSortControlsActive:!0,focusedSortControlIndex:1})),pe(1);const z=`Entered sort controls navigation mode. ${B.length} controls available. Use arrow keys to navigate between controls.`;te(z)}break;case"Escape":W.preventDefault(),R(z=>({...z,isSortControlsActive:!1,focusArea:"tabs"})),ce(_.selectedIndex);break}return}if(P.isSortControlsActive){const z=ge().length;switch(O){case"ArrowLeft":W.preventDefault();const H=P.focusedSortControlIndex>1?P.focusedSortControlIndex-1:z;R(ne=>({...ne,focusedSortControlIndex:H})),pe(H);break;case"ArrowRight":W.preventDefault();const q=P.focusedSortControlIndex<z?P.focusedSortControlIndex+1:1;R(ne=>({...ne,focusedSortControlIndex:q})),pe(q);break;case"ArrowDown":if(W.preventDefault(),P.isSortControlsActive){const ne=P.focusedSortControlIndex<z?P.focusedSortControlIndex+1:1;R(se=>({...se,focusedSortControlIndex:ne})),pe(ne)}else V?.data&&V.data.length>0&&(R(ne=>({...ne,focusArea:"cards",focusedCardIndex:0,isSortControlsActive:!1})),J(0));break;case"ArrowUp":W.preventDefault(),R(ne=>({...ne,isSortControlsActive:!1,focusArea:"sort-controls"})),pe(0);break;case"Escape":W.preventDefault(),R(ne=>({...ne,isSortControlsActive:!1,focusArea:"sort-controls",focusedSortControlIndex:0})),pe(0);break}}},[x,u,_.selectedIndex,P.isSortControlsActive,P.focusedSortControlIndex,pe,ce,J,R,te]);if(x==="cards"){const W=u[_.selectedIndex];return a.jsxs("div",{className:`aria-tabs-datagrid-adaptive aria-tabs-datagrid-adaptive--cards ${M||""}`,children:[a.jsxs("div",{className:"aria-tabs-datagrid-adaptive__header",children:[a.jsx("div",{role:"tablist","aria-label":h,"aria-describedby":`${y||""} ${g?`${g}-navigation-help`:""}`.trim(),"aria-orientation":m,className:"aria-tabs-datagrid__tabs",children:u.map((L,O)=>{const V=O===_.selectedIndex,B=L.disabled||N;return a.jsxs("button",{role:"tab",id:`tab-${L.id}`,"aria-controls":`panel-${L.id}`,"aria-selected":V,"aria-disabled":B,tabIndex:V?0:-1,ref:z=>{j.current[O]=z},onClick:()=>Z(O),onKeyDown:z=>Pe(z,O),disabled:B,className:["aria-tabs-datagrid__tab",V?"aria-tabs-datagrid__tab--selected":"",B?"aria-tabs-datagrid__tab--disabled":""].filter(Boolean).join(" "),children:[a.jsx("span",{className:"aria-tabs-datagrid__tab-label",children:L.label}),_.tabLoadingStates[O]&&a.jsx("span",{className:"aria-tabs-datagrid__tab-loading","aria-hidden":"true",children:"â³"}),_.tabErrors[O]&&a.jsx("span",{className:"aria-tabs-datagrid__tab-error","aria-hidden":"true",children:"âš ï¸"})]},L.id)})}),o&&a.jsx("div",{className:"aria-tabs-datagrid-adaptive__top-actions",children:o})]}),W&&W.columns&&a.jsx(a.Fragment,{children:i?a.jsx(Oh,{sortConfig:_.sortConfig||[],columns:W.columns.map(L=>({key:L.key,label:L.label})),onSortChange:L=>{I({type:"SET_SORT",payload:L})},ariaLabel:"Card view sort configuration",className:"aria-tabs-datagrid-adaptive__advanced-sort-controls"}):a.jsx("div",{className:"aria-tabs-datagrid-adaptive__sort-controls",role:"region","aria-label":"Sort controls",tabIndex:P.focusArea==="sort-controls"?0:-1,ref:L=>{F.current[0]=L},onKeyDown:L=>je(L,0),children:a.jsxs("div",{className:"sort-controls-row",children:[a.jsxs("div",{className:"sort-select-container",children:[a.jsx("label",{htmlFor:`card-sort-${W.id}`,className:"sort-label",children:"Sort cards by"}),a.jsx(yo,{id:`card-sort-${W.id}`,name:`card-sort-${W.id}`,value:P.cardSortConfig?`${P.cardSortConfig.key}-${P.cardSortConfig.direction}`:"",onChange:L=>ae(L.target.value),className:"sort-select",children:ie(W.columns).map(L=>a.jsx("option",{value:L.value,children:L.label},L.value))})]}),P.cardSortConfig&&a.jsxs("div",{className:"sort-indicator",role:"status","aria-live":"polite",children:[a.jsxs("span",{className:"sort-indicator-text",children:["Sorted by ",me(P.cardSortConfig)]}),a.jsx(zt,{variant:"secondary",size:"small",onClick:()=>ae(""),"aria-label":"Clear card sorting",className:"sort-clear-button",children:"Clear"})]})]})})}),a.jsx("div",{ref:A,className:"aria-tabs-datagrid-adaptive__cards",role:"grid","aria-label":`${W?.label||"Data"} cards in ${P.gridRows} rows and ${P.gridColumns} columns`,"aria-rowcount":P.gridRows,"aria-colcount":P.gridColumns,id:`panel-${W?.id}`,"aria-labelledby":`tab-${W?.id}`,children:Y(W?.data||[]).map((L,O)=>{const V=P.selectedCardIndex===O,B=P.focusedCardIndex===O&&P.focusArea==="cards",z=P.focusedCardIndex===O&&P.focusArea==="card"&&P.isCardNavigationActive,H=O===0&&P.focusArea!=="cards",q=B||H,ne=G(O,P.gridColumns);if(n.cardTemplate){const he=n.cardTemplate(L,W.columns);return a.jsx("div",{role:"row","aria-rowindex":ne.row+1,className:"aria-tabs-datagrid-adaptive__row",children:a.jsx("div",{ref:xe=>{E.current[O]=xe},className:["aria-tabs-datagrid-adaptive__card-wrapper",V?"aria-tabs-datagrid-adaptive__card-wrapper--selected":"",B?"aria-tabs-datagrid-adaptive__card-wrapper--focused":"",z?"aria-tabs-datagrid-adaptive__card-wrapper--card-navigation":""].filter(Boolean).join(" "),role:"gridcell","aria-colindex":ne.col+1,"aria-selected":V,"aria-expanded":z,"aria-description":z?`Card navigation active. ${P.cardElements.length} interactive elements available.`:void 0,tabIndex:q?0:-1,onClick:()=>{R(xe=>({...xe,selectedCardIndex:xe.selectedCardIndex===O?-1:O})),re(L)},onKeyDown:xe=>U(xe,O),onFocus:()=>{R(xe=>xe.isCardNavigationActive?xe:xe.focusedCardIndex!==O||xe.focusArea!=="cards"?{...xe,focusedCardIndex:O,focusArea:"cards"}:xe)},children:he})},`card-${O}`)}const se=pw(L,W.columns,w,k),ye=[se.className||"",V?"aria-tabs-datagrid-adaptive__card--selected":"",B?"aria-tabs-datagrid-adaptive__card--focused":"",z?"aria-tabs-datagrid-adaptive__card--card-navigation":""].filter(Boolean).join(" ");return a.jsx("div",{role:"row","aria-rowindex":ne.row+1,className:"aria-tabs-datagrid-adaptive__row",children:a.jsx("div",{className:["aria-tabs-datagrid-adaptive__card-wrapper",V?"aria-tabs-datagrid-adaptive__card-wrapper--selected":"",B?"aria-tabs-datagrid-adaptive__card-wrapper--focused":"",z?"aria-tabs-datagrid-adaptive__card-wrapper--card-navigation":""].filter(Boolean).join(" "),role:"gridcell","aria-colindex":ne.col+1,"aria-selected":V,"aria-expanded":z,onKeyDown:he=>{he.key==="Enter"&&(he.preventDefault(),R(xe=>({...xe,selectedCardIndex:O}))),U(he,O)},children:a.jsx(kc,{...se,ref:he=>{E.current[O]=he},className:ye,"aria-label":`${se["aria-label"]||se.heading}. ${z?`Card navigation active with ${P.cardElements.length} interactive elements. Use arrow keys to navigate, Enter to activate, Escape to exit.`:"Press Enter to navigate within card elements."}`,tabIndex:q?0:-1,onClick:()=>{R(he=>({...he,selectedCardIndex:he.selectedCardIndex===O?-1:O})),re(L)},onKeyDown:he=>U(he,O),onFocus:()=>{P.isCardNavigationActive||R(he=>he.focusedCardIndex!==O||he.focusArea!=="cards"?{...he,focusedCardIndex:O,focusArea:"cards",focusedCardElementIndex:0,cardElements:[]}:he)}})})},`card-${O}`)})}),s&&a.jsx("div",{className:"aria-tabs-datagrid-adaptive__bottom-actions",children:s}),a.jsx("div",{ref:de,className:"aria-tabs-datagrid-adaptive__announcements","aria-hidden":"true",style:{position:"fixed",top:"-1px",left:"-1px",width:"1px",height:"1px",overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",border:0,padding:0,margin:0}})]})}return x==="hybrid"?a.jsxs("div",{className:`aria-tabs-datagrid-adaptive aria-tabs-datagrid-adaptive--hybrid ${M||""}`,children:[o&&a.jsx("div",{className:"aria-tabs-datagrid-adaptive__top-actions aria-tabs-datagrid-adaptive__top-actions--above-table",children:o}),a.jsx(ga,{tabPanels:u,dataConfig:d,ariaLabel:h,ariaDescription:y,orientation:m,id:g,disabled:N,selectedIndex:f,onTabChange:p,className:"aria-tabs-datagrid-adaptive__table--hybrid",actions:l,forceActionsAbove:c,...T}),s&&a.jsx("div",{className:"aria-tabs-datagrid-adaptive__bottom-actions",children:s})]}):a.jsxs("div",{className:`aria-tabs-datagrid-adaptive aria-tabs-datagrid-adaptive--table ${M||""}`,children:[o&&a.jsx("div",{className:"aria-tabs-datagrid-adaptive__top-actions aria-tabs-datagrid-adaptive__top-actions--above-table",children:o}),a.jsx(ga,{tabPanels:u,dataConfig:d,ariaLabel:h,ariaDescription:y,orientation:m,id:g,disabled:N,selectedIndex:f,onTabChange:p,actions:l,forceActionsAbove:c,...T}),s&&a.jsx("div",{className:"aria-tabs-datagrid-adaptive__bottom-actions",children:s})]})},Vh=t=>{const e=Nc.find(n=>n.value===t);return e?e.icon:null},mw={ecommerce:{name:"E-commerce",description:"Product catalogs with pricing, inventory, and ratings",dataConfig:{dataComparator:(t,e)=>t.id===e.id,filterFunction:(t,e)=>e?t.filter(n=>{if(e.priceRange){const[r,i]=e.priceRange,o=n.discountedPrice||n.price;if(o<r||o>i)return!1}return!(e.categories&&e.categories.length>0&&!e.categories.includes(n.category)||e.inStock!==void 0&&n.inStock!==e.inStock||e.minRating!==void 0&&n.rating<e.minRating||e.tags&&e.tags.length>0&&!e.tags.some(r=>n.tags.includes(r)))}):t,booleanRenderer:t=>Vh(t),getDataId:t=>`ecommerce-${t.id}`},createTabs:t=>ba(t,[{id:"all-products",label:"All Products",columns:[{key:"name",label:"Product Name"},{key:"price",label:"Price",render:n=>n.discountedPrice?`$${n.price.toFixed(2)} â†’ $${n.discountedPrice.toFixed(2)}`:`$${n.price.toFixed(2)}`},{key:"inStock",label:"Availability"},{key:"category",label:"Category"},{key:"rating",label:"Rating",render:n=>`${n.rating}/5 (${n.reviews} reviews)`}],ariaLabel:"All Products Grid",ariaDescription:"Complete product catalog with pricing and availability"},{id:"on-sale",label:"On Sale",columns:[{key:"name",label:"Product Name"},{key:"price",label:"Original Price",render:n=>`$${n.price.toFixed(2)}`},{key:"discountedPrice",label:"Sale Price",render:n=>`$${n.discountedPrice?.toFixed(2)||"N/A"}`},{key:"discount",label:"Discount",render:n=>n.discountedPrice?`${((n.price-n.discountedPrice)/n.price*100).toFixed(0)}% OFF`:"N/A"}],filter:n=>n.filter(r=>r.discountedPrice!==void 0),ariaLabel:"Sale Products Grid",ariaDescription:"Products currently on sale with discounted pricing"},{id:"high-rated",label:"Top Rated",columns:[{key:"name",label:"Product Name"},{key:"rating",label:"Rating"},{key:"reviews",label:"Reviews"},{key:"category",label:"Category"}],filter:n=>n.filter(r=>r.rating>=4),sortConfig:[{key:"rating",direction:"desc"}],ariaLabel:"Top Rated Products Grid",ariaDescription:"Highest rated products with 4+ star ratings"}])},financial:{name:"Financial",description:"Transaction data with amounts, categories, and statuses",dataConfig:{dataComparator:(t,e)=>t.id===e.id,filterFunction:(t,e)=>e?t.filter(n=>{if(e.dateRange){const[r,i]=e.dateRange;if(n.date<r||n.date>i)return!1}if(e.amountRange){const[r,i]=e.amountRange;if(Math.abs(n.amount)<r||Math.abs(n.amount)>i)return!1}return!(e.types&&e.types.length>0&&!e.types.includes(n.type)||e.categories&&e.categories.length>0&&!e.categories.includes(n.category)||e.pending!==void 0&&n.pending!==e.pending)}):t,booleanRenderer:t=>Vh(t),getDataId:t=>`financial-${t.id}`},createTabs:t=>ba(t,[{id:"all-transactions",label:"All Transactions",columns:[{key:"date",label:"Date",render:n=>n.date.toLocaleDateString()},{key:"description",label:"Description"},{key:"amount",label:"Amount",render:n=>`${n.type==="credit"?"+":"-"}$${Math.abs(n.amount).toFixed(2)}`},{key:"category",label:"Category"},{key:"pending",label:"Status"}],sortConfig:[{key:"date",direction:"desc"}],ariaLabel:"All Transactions Grid",ariaDescription:"Complete transaction history with amounts and categories"},{id:"credits",label:"Credits",columns:[{key:"date",label:"Date",render:n=>n.date.toLocaleDateString()},{key:"description",label:"Description"},{key:"amount",label:"Amount",render:n=>`+$${n.amount.toFixed(2)}`},{key:"category",label:"Category"}],filter:n=>n.filter(r=>r.type==="credit"),ariaLabel:"Credit Transactions Grid",ariaDescription:"Incoming payments and credits only"},{id:"debits",label:"Debits",columns:[{key:"date",label:"Date",render:n=>n.date.toLocaleDateString()},{key:"description",label:"Description"},{key:"amount",label:"Amount",render:n=>`-$${Math.abs(n.amount).toFixed(2)}`},{key:"category",label:"Category"}],filter:n=>n.filter(r=>r.type==="debit"),ariaLabel:"Debit Transactions Grid",ariaDescription:"Outgoing payments and charges only"},{id:"pending",label:"Pending",columns:[{key:"date",label:"Date",render:n=>n.date.toLocaleDateString()},{key:"description",label:"Description"},{key:"amount",label:"Amount",render:n=>`${n.type==="credit"?"+":"-"}$${Math.abs(n.amount).toFixed(2)}`},{key:"type",label:"Type"}],filter:n=>n.filter(r=>r.pending),ariaLabel:"Pending Transactions Grid",ariaDescription:"Transactions awaiting processing"}])}},Zh=(t,e)=>{const n=mw[t];return{dataConfig:n.dataConfig,tabPanels:n.createTabs(e)}},qh=[{name:"Sarah Johnson",age:34,ews_data:{respiratory_rate_bpm:16,sp02:98,temperature:36.8,systolic_bp:140,heart_rate:82,avpu:"alert"},ews_score:3,ward_name:"Cardiology",room_name:"Room A",bed_name:"A-1",bed_type:"bed",admin_note:"Hypertension monitoring",pathway:"Standard",speciality:"Cardiology",consultant:"Dr. Smith",local_authority:"NHS Trust",early_discharge_notification:"not_required",needs_based_assessment:!1,medically_optimised:!0,criteria_to_reside:!0,date_medically_optimised:"2024-01-15",anticipated_discharge_date:"2024-01-18",dru_suitability:!1,optica_planned_discharge_date:"2024-01-18",optica_date_confirmed:"2024-01-16",dsum:null,medications_tta:"None required",transport_booking:!1,transport_status:"Pending",transport_date:"",transport_mobility:"Independent",fast_track:!1,initial_therapy_contact:"",equipment:"None",district_nurse_referral:!1},{name:"Michael Chen",age:67,ews_data:{respiratory_rate_bpm:20,sp02:94,temperature:37.2,systolic_bp:160,heart_rate:95,avpu:"alert"},ews_score:7,ward_name:"Surgery",room_name:"Room B",bed_name:"B-3",bed_type:"bed",admin_note:"Post-operative monitoring",pathway:"Surgical",speciality:"General Surgery",consultant:"Dr. Johnson",local_authority:"NHS Trust",early_discharge_notification:"due",needs_based_assessment:!0,medically_optimised:!1,criteria_to_reside:!0,date_medically_optimised:"2024-01-17",anticipated_discharge_date:"2024-01-20",dru_suitability:!0,optica_planned_discharge_date:"2024-01-20",optica_date_confirmed:"2024-01-16",dsum:"Complex discharge",medications_tta:"Pain management",transport_booking:!0,transport_status:"In Progress",transport_date:"2024-01-20",transport_mobility:"Wheelchair",fast_track:!1,initial_therapy_contact:"2024-01-17",equipment:"Walking frame",district_nurse_referral:!0},{name:"Emma Thompson",age:28,ews_data:{respiratory_rate_bpm:24,sp02:90,temperature:38.5,systolic_bp:110,heart_rate:105,avpu:"alert"},ews_score:5,ward_name:"Respiratory",room_name:"Room C",bed_name:"C-2",bed_type:"bed",admin_note:"Pneumonia treatment",pathway:"Respiratory",speciality:"Respiratory Medicine",consultant:"Dr. Williams",local_authority:"NHS Trust",early_discharge_notification:"overdue",needs_based_assessment:!0,medically_optimised:!1,criteria_to_reside:!1,date_medically_optimised:"",anticipated_discharge_date:"2024-01-22",dru_suitability:!1,optica_planned_discharge_date:"2024-01-22",optica_date_confirmed:"",dsum:null,medications_tta:"Antibiotics",transport_booking:!1,transport_status:"Pending",transport_date:"",transport_mobility:"Independent",fast_track:!0,initial_therapy_contact:"",equipment:"Oxygen",district_nurse_referral:!1}],gw=[{id:"appt-001",appointment_time:"2024-01-18T09:00:00Z",patient_name:"Sarah Johnson",appointment_type:"Cardiology Consultation",consultant:"Dr. Smith",location:"Clinic Room 3",duration:30,status:"pending"},{id:"appt-002",appointment_time:"2024-01-18T10:30:00Z",patient_name:"Michael Davis",appointment_type:"Post-op Follow-up",consultant:"Dr. Johnson",location:"Surgery Ward",duration:15,status:"active"},{id:"appt-003",appointment_time:"2024-01-18T14:00:00Z",patient_name:"Emma Thompson",appointment_type:"Respiratory Assessment",consultant:"Dr. Wilson",location:"Emergency Department",duration:45,status:"pending"}],yw=[{id:"med-001",medication:"Amlodipine",dose:"5mg",frequency:"Once daily",route:"Oral",next_due:"2024-01-18T08:00:00Z",prescriber:"Dr. Smith",patient_name:"Sarah Johnson",allergies:null,priority:"medium"},{id:"med-002",medication:"Morphine",dose:"10mg",frequency:"Every 4 hours",route:"IV",next_due:"2024-01-18T10:00:00Z",prescriber:"Dr. Johnson",patient_name:"Michael Davis",allergies:"Codeine allergy",priority:"high"},{id:"med-003",medication:"Salbutamol",dose:"2 puffs",frequency:"As needed",route:"Inhaled",next_due:"2024-01-18T12:00:00Z",prescriber:"Dr. Wilson",patient_name:"Emma Thompson",allergies:null,priority:"high"}],bw=[{id:"vitals-001",patient_name:"Sarah Johnson",recorded_time:"2024-01-18T07:30:00Z",temperature:36.8,blood_pressure:"140/90",heart_rate:82,respiratory_rate:16,oxygen_saturation:98,ews_score:3,priority:"medium"},{id:"vitals-002",patient_name:"Michael Davis",recorded_time:"2024-01-18T08:15:00Z",temperature:37.2,blood_pressure:"130/85",heart_rate:98,respiratory_rate:20,oxygen_saturation:95,ews_score:7,priority:"high"},{id:"vitals-003",patient_name:"Emma Thompson",recorded_time:"2024-01-18T09:00:00Z",temperature:38.5,blood_pressure:"110/70",heart_rate:105,respiratory_rate:24,oxygen_saturation:90,ews_score:9,priority:"high"}],Xh=[{id:"PROD001",name:"Wireless Headphones",price:199.99,discountedPrice:149.99,inStock:!0,category:"Electronics",rating:4.5,reviews:1247,tags:["wireless","bluetooth","premium"]},{id:"PROD002",name:"Running Shoes",price:129.99,inStock:!0,category:"Sports",rating:4.8,reviews:892,tags:["running","athletic","comfortable"]},{id:"PROD003",name:"Coffee Maker",price:89.99,discountedPrice:59.99,inStock:!1,category:"Kitchen",rating:4.2,reviews:456,tags:["kitchen","coffee","appliance"]},{id:"PROD004",name:"Smartphone Case",price:24.99,inStock:!0,category:"Accessories",rating:4,reviews:234,tags:["protection","mobile","durable"]}],Jh=[{id:"TXN001",date:new Date("2024-01-15"),amount:2500,type:"credit",category:"Salary",description:"Monthly salary payment",accountId:"ACC001",pending:!1,recurring:!0},{id:"TXN002",date:new Date("2024-01-14"),amount:89.5,type:"debit",category:"Groceries",description:"Supermarket shopping",accountId:"ACC001",pending:!1,recurring:!1},{id:"TXN003",date:new Date("2024-01-16"),amount:1200,type:"debit",category:"Rent",description:"Monthly rent payment",accountId:"ACC001",pending:!0,recurring:!0},{id:"TXN004",date:new Date("2024-01-13"),amount:150,type:"credit",category:"Refund",description:"Product return refund",accountId:"ACC001",pending:!1,recurring:!1}],Kh=[{id:"LEAD001",companyName:"Tech Solutions Inc",contactPerson:"John Smith",email:"john@techsolutions.com",status:"qualified",value:5e4,lastContact:new Date("2024-01-15"),source:"Website",isHotLead:!0},{id:"LEAD002",companyName:"Global Industries",contactPerson:"Maria Garcia",email:"maria@globalind.com",status:"contacted",value:25e3,lastContact:new Date("2024-01-14"),source:"Referral",isHotLead:!1},{id:"LEAD003",companyName:"StartupXYZ",contactPerson:"Alex Johnson",email:"alex@startupxyz.com",status:"new",value:15e3,lastContact:new Date("2024-01-16"),source:"Cold Call",isHotLead:!0}],vw={dataComparator:(t,e)=>t.id===e.id,filterFunction:(t,e)=>e?t.filter(n=>!(e.status&&!e.status.includes(n.status)||e.minValue&&n.value<e.minValue||e.hotLeadsOnly&&!n.isHotLead)):t,booleanRenderer:t=>a.jsx("span",{style:{color:t?"#dc2626":"#6b7280",fontWeight:t?"bold":"normal"},children:t?"ðŸ”¥ Hot Lead":"ðŸ“‹ Standard"}),getDataId:t=>`business-${t.id}`},xw=()=>[{id:"patients",label:"Patients",data:qh,columns:[{key:"name",label:"Patient Name"},{key:"age",label:"Age"},{key:"ward_name",label:"Ward"},{key:"ews_score",label:"EWS Score"}],ariaLabel:"Patient Records",ariaDescription:"Healthcare patient management with EWS monitoring",cardTemplate:(t,e)=>a.jsx(Mc,{data:t,columns:e,onSelect:n=>console.log("Selected patient:",n),onAction:(n,r)=>console.log("Patient action:",n,r),priority:t.ews_score>=7?"high":t.ews_score>=3?"medium":"low"})},{id:"appointments",label:"Appointments",data:gw,columns:[{key:"appointment_time",label:"Time"},{key:"patient_name",label:"Patient"},{key:"appointment_type",label:"Type"},{key:"consultant",label:"Consultant"}],ariaLabel:"Patient Appointments",ariaDescription:"Scheduled appointments and consultations",cardTemplate:(t,e)=>a.jsx(Tc,{data:t,columns:e,onSelect:n=>console.log("Selected appointment:",n),onAction:(n,r)=>console.log("Appointment action:",n,r),status:t.status})},{id:"medications",label:"Medications",data:yw,columns:[{key:"medication",label:"Medication"},{key:"dose",label:"Dose"},{key:"frequency",label:"Frequency"},{key:"next_due",label:"Next Due"}],ariaLabel:"Patient Medications",ariaDescription:"Medication administration and scheduling",cardTemplate:(t,e)=>a.jsx(jc,{data:t,columns:e,onSelect:n=>console.log("Selected medication:",n),onAction:(n,r)=>console.log("Medication action:",n,r),priority:t.priority})},{id:"vitals",label:"Vital Signs",data:bw,columns:[{key:"patient_name",label:"Patient"},{key:"recorded_time",label:"Time"},{key:"temperature",label:"Temperature"},{key:"ews_score",label:"EWS Score"}],ariaLabel:"Patient Vital Signs",ariaDescription:"Patient vital signs monitoring and EWS scores",cardTemplate:(t,e)=>a.jsx(Dc,{data:t,columns:e,onSelect:n=>console.log("Selected vitals:",n),onAction:(n,r)=>console.log("Vitals action:",n,r),priority:t.ews_score>=7?"high":t.ews_score>=3?"medium":"low"})}],_w=()=>{const[t,e]=$.useState("healthcare"),n=$.useMemo(()=>({healthcare:{title:"Healthcare Workflow Management",description:"Comprehensive healthcare workflow with patient cards, appointments, medications, and vitals",dataConfig:Rh,tabPanels:xw(),data:qh},ecommerce:{title:"E-commerce Product Catalog",description:"Product management with pricing and inventory",...Zh("ecommerce",Xh),data:Xh},financial:{title:"Financial Transaction Dashboard",description:"Banking and financial data management",...Zh("financial",Jh),data:Jh},business:{title:"Sales Lead Management",description:"Custom CRM configuration with business logic",dataConfig:vw,tabPanels:ba(Kh,[{id:"all-leads",label:"All Leads",columns:[{key:"companyName",label:"Company"},{key:"contactPerson",label:"Contact"},{key:"status",label:"Status"},{key:"value",label:"Value",render:i=>`$${i.value.toLocaleString()}`},{key:"isHotLead",label:"Priority"}],ariaLabel:"All Sales Leads Grid",ariaDescription:"Complete sales pipeline with lead information"},{id:"hot-leads",label:"Hot Leads",columns:[{key:"companyName",label:"Company"},{key:"contactPerson",label:"Contact"},{key:"value",label:"Value",render:i=>`$${i.value.toLocaleString()}`},{key:"lastContact",label:"Last Contact",render:i=>i.lastContact.toLocaleDateString()}],filter:i=>i.filter(o=>o.isHotLead),sortConfig:[{key:"value",direction:"desc"}],ariaLabel:"Hot Leads Grid",ariaDescription:"High-priority leads requiring immediate attention"},{id:"pipeline",label:"Active Pipeline",columns:[{key:"companyName",label:"Company"},{key:"status",label:"Status"},{key:"value",label:"Value",render:i=>`$${i.value.toLocaleString()}`},{key:"source",label:"Source"}],filter:i=>i.filter(o=>["contacted","qualified"].includes(o.status)),ariaLabel:"Active Pipeline Grid",ariaDescription:"Leads currently in the sales pipeline"}]),data:Kh}}),[]),r=n[t];return a.jsxs("div",{style:{padding:"2rem",maxWidth:"1200px",margin:"0 auto"},children:[a.jsxs("div",{style:{marginBottom:"2rem"},children:[a.jsx("h1",{style:{fontSize:"2rem",fontWeight:"bold",marginBottom:"1rem",color:"#1f2937"},children:"AriaTabsDataGrid - Comprehensive Demo"}),a.jsx("p",{style:{fontSize:"1.1rem",color:"#6b7280",marginBottom:"2rem",lineHeight:"1.6"},children:"This demo showcases the component's versatility across different domains: healthcare, e-commerce, financial services, and custom business applications. Each configuration demonstrates domain-specific data operations, custom renderers, and specialized filtering logic."}),a.jsx("div",{style:{display:"flex",gap:"1rem",marginBottom:"2rem",flexWrap:"wrap"},children:Object.keys(n).map(i=>a.jsx(zt,{variant:t===i?"primary":"secondary",onClick:()=>e(i),style:{textTransform:"capitalize"},children:i},i))}),a.jsxs("div",{style:{backgroundColor:"#f8fafc",border:"1px solid #e2e8f0",borderRadius:"0.5rem",padding:"1.5rem",marginBottom:"2rem"},children:[a.jsx("h2",{style:{fontSize:"1.5rem",fontWeight:"600",marginBottom:"0.5rem",color:"#1e293b"},children:r.title}),a.jsx("p",{style:{color:"#64748b",marginBottom:"1rem"},children:r.description}),a.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:"1rem",fontSize:"0.9rem"},children:[a.jsxs("div",{children:[a.jsx("strong",{children:"Data Records:"})," ",r.data.length]}),a.jsxs("div",{children:[a.jsx("strong",{children:"Tab Panels:"})," ",r.tabPanels.length]}),a.jsxs("div",{children:[a.jsx("strong",{children:"Features:"})," ",["Row Selection","Custom Filtering","Domain-Specific Renderers","Keyboard Navigation","ARIA Compliance"].join(", ")]})]})]})]}),a.jsx(ga,{dataConfig:r.dataConfig,tabPanels:r.tabPanels,ariaLabel:`${r.title} Data Grid`,ariaDescription:`Interactive data grid for ${r.description.toLowerCase()}`}),a.jsxs("div",{style:{marginTop:"3rem",padding:"1.5rem",backgroundColor:"#f1f5f9",borderRadius:"0.5rem",border:"1px solid #cbd5e1"},children:[a.jsx("h3",{style:{fontSize:"1.25rem",fontWeight:"600",marginBottom:"1rem",color:"#334155"},children:"Implementation Details"}),a.jsxs("div",{style:{display:"grid",gap:"1rem",fontSize:"0.9rem"},children:[a.jsxs("div",{children:[a.jsx("strong",{children:"Current Mode:"})," ",t," configuration"]}),a.jsxs("div",{children:[a.jsx("strong",{children:"Data Operations:"})," Custom comparator, filter function, and boolean renderer"]}),a.jsxs("div",{children:[a.jsx("strong",{children:"Architecture:"})," Generic core with domain-specific plugins and factory helpers"]}),a.jsxs("div",{children:[a.jsx("strong",{children:"State Management:"})," Global row selection with data-object persistence"]}),a.jsxs("div",{children:[a.jsx("strong",{children:"Accessibility:"})," Full ARIA support with dynamic labels and descriptions"]})]})]})]})},Lc=t=>a.jsx(ql,{...t}),ww=({children:t,pageTitle:e,pageHeadingProps:n,columnWidth:r=Lr.TwoThirds,mainWrapperSize:i,skipLinkProps:o,headerProps:s,footerProps:l,service:c,navigation:u,search:d,account:f,organisation:p,logo:h,className:y,...m})=>{const g={service:c,navigation:u,search:d,account:f,organisation:p,logo:h,...s};return a.jsxs(a.Fragment,{children:[a.jsx(Sc,{...o}),a.jsx(Js,{...g}),a.jsx(Lc,{className:y,...m,children:a.jsx(Xl,{size:i,children:a.jsx(pr,{children:a.jsxs(Ii,{width:r,children:[e&&a.jsx(Gn,{size:"l",...n,children:e}),t]})})})}),a.jsx(Ql,{...l})]})},Sw=({children:t,title:e,pageHeadingProps:n,columnWidth:r=Lr.TwoThirds,mainWrapperSize:i="small",skipLinkProps:o,headerProps:s,footerProps:l,backLinkProps:c,serviceName:u,serviceHref:d,logo:f,className:p,...h})=>{const y={service:{text:u,href:d},logo:f,navigation:void 0,search:void 0,account:void 0,...s};return a.jsxs(a.Fragment,{children:[a.jsx(Sc,{...o}),a.jsx(Js,{...y}),a.jsxs(Lc,{className:p,...h,children:[c&&a.jsx(Di,{...c}),a.jsx(Xl,{size:i,children:a.jsx(pr,{children:a.jsxs(Ii,{width:r,children:[e&&a.jsx(Gn,{style:{marginTop:"3rem"},size:"l",...n,children:e}),t]})})})]}),a.jsx(Ql,{...l})]})};function Qh(t={}){const{enabled:e=!0,paramSelected:n="nsv",paramDrill:r="nsvDrill"}=t,[i,o]=X.useState(()=>typeof window>"u"||!e?void 0:new URLSearchParams(window.location.search).get(n)),[s,l]=X.useState(()=>typeof window>"u"||!e?!1:new URLSearchParams(window.location.search).get(r)==="1");return X.useEffect(()=>{if(!e||typeof window>"u")return;const c=new URLSearchParams(window.location.search);i?c.set(n,String(i)):c.delete(n),c.set(r,s?"1":"0");const u=`${window.location.pathname}?${c.toString()}${window.location.hash}`;window.history.replaceState(null,"",u)},[i,s,e,n,r]),{selectedId:i,setSelectedId:o,drilledIn:s,setDrilledIn:l}}const kw=({className:t})=>a.jsx("svg",{className:t,width:"16",height:"16",viewBox:"0 0 16 16","aria-hidden":"true",focusable:"false",children:a.jsx("path",{fill:"currentColor",d:"M10.7 3.3a1 1 0 0 1 0 1.4L7.41 8l3.3 3.3a1 1 0 1 1-1.42 1.4l-4-4a1 1 0 0 1 0-1.4l4-4a1 1 0 0 1 1.42 0Z"})}),Cw=({className:t})=>a.jsx("svg",{className:t,width:"16",height:"16",viewBox:"0 0 16 16","aria-hidden":"true",focusable:"false",children:a.jsx("path",{fill:"currentColor",d:"M5.3 12.7a1 1 0 0 1 0-1.4L8.59 8l-3.3-3.3a1 1 0 0 1 1.42-1.4l4 4a1 1 0 0 1 0 1.4l-4 4a1 1 0 0 1-1.42 0Z"})}),va=({text:t="Next",html:e,href:n="#",className:r,element:i="a",onClick:o,...s})=>{const l=Ie("nhsuk-back-link",r),c=Ie("nhsuk-back-link__link"),u=()=>a.jsxs("span",{style:{display:"inline-flex",alignItems:"center",gap:4},children:[e?a.jsx("span",{dangerouslySetInnerHTML:{__html:e}}):t,a.jsx("svg",{className:"nhsuk-icon nhsuk-icon__chevron-right",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24","aria-hidden":"true",height:"24",width:"24",children:a.jsx("path",{d:"M15.5 12c0 .3-.1.5-.3.7l-5 5c-.4.4-1 .4-1.4 0s-.4-1 0-1.4L13.1 12 8.8 7.7c-.4-.4-.4-1 0-1.4s1-.4 1.4 0l5 5c.2.2.3.4.3.7z"})})]});return a.jsx("div",{className:l,children:i==="button"?a.jsx("button",{className:c,type:"button",onClick:o,...s,children:u()}):a.jsx("a",{className:c,href:n,...s,children:u()})})};va.displayName="ForwardLink";const Nw=({show:t,label:e,contentHeaderLevel:n,detailActive:r,headerContext:i,backLabel:o,nextLabel:s,onBack:l,onForward:c,renderContentHeader:u,item:d,contentSubheader:f,tertiaryInlineActive:p})=>{if(!t||!d)return null;const h=`h${n}`,y=e?X.createElement(h,{style:{marginLeft:r?32:0,marginRight:r?32:0}},e):null,m=r?a.jsx(Di,{element:"button",text:o,style:{marginRight:16},onClick:l}):void 0,g=p?void 0:a.jsx(va,{element:"button",text:s,onClick:c});if(u)return a.jsx("div",{className:"nhs-navigation-split-view__header",children:u({item:d,detailActive:r,context:i,backLink:m,defaultHeading:y})});const N=d&&f?typeof f=="function"?f(d):f:null;return a.jsx("div",{className:"nhs-navigation-split-view__header",children:a.jsxs("div",{style:{display:"flex",alignItems:"center",width:"100%"},children:[a.jsxs("div",{style:{display:"flex",alignItems:"center",gap:0,flex:"1 1 auto",minWidth:0},children:[m,a.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:4,minWidth:0},children:[y,N&&a.jsx("div",{className:"nhs-navigation-split-view__subheader",children:N})]})]}),g&&a.jsx("div",{style:{marginLeft:"auto"},children:g})]})})};function Mw({layout:t,items:e,getId:n,selectedId:r,isLoading:i,emptyState:o,renderItemContent:s,onSelect:l,orientation:c,initialFocus:u,onFocusChange:d,justSelectedId:f,listRef:p,onKeyDownList:h,navigationInstructions:y,controlledFocusedIndex:m}){const[g,N]=X.useState(()=>u==="first"?0:-1),M=X.useRef(0);X.useEffect(()=>{if(typeof m=="number"||g<0||!p?.current)return;const w=Array.from(p.current.querySelectorAll("[data-nav-item]"))[g];if(w){document.activeElement!==w&&w.focus(),M.current=g;const k=e[g];d?.(k?n(k):void 0,k,g)}},[m,g,e,d,n,p]);const T=C=>{if(h)return h(C);const w=c==="vertical"?"ArrowDown":"ArrowRight",k=c==="vertical"?"ArrowUp":"ArrowLeft";if(C.key===w)C.preventDefault(),N(b=>Math.min(e.length-1,b+1));else if(C.key===k)C.preventDefault(),N(b=>Math.max(0,b-1));else if(C.key==="Home")C.preventDefault(),N(0);else if(C.key==="End")C.preventDefault(),N(e.length-1);else if(C.key==="Enter"||C.key===" "){C.preventDefault();const b=e[g];b&&!b.disabled&&l(n(b),b,g)}};if(t==="cards")return a.jsxs("ul",{className:"nhs-navigation-split-view__cards",role:"listbox","aria-activedescendant":r?String(r):void 0,children:[e.map((C,w)=>{const k=n(C),b=k===r;return a.jsx("li",{className:"nhs-navigation-split-view__card-item",role:"option","aria-selected":b,children:a.jsxs("button",{id:String(k),type:"button",className:"nhs-navigation-split-view__card","data-selected":b||void 0,"data-disabled":C.disabled||void 0,disabled:C.disabled,onClick:()=>!C.disabled&&l(k,C,w),children:[C.icon&&a.jsx("span",{className:"nhs-navigation-split-view__item-icon",children:C.icon}),a.jsx("span",{className:"nhs-navigation-split-view__item-label",children:C.label}),C.description&&a.jsx("span",{className:"nhs-navigation-split-view__item-description",children:C.description}),s?.(C),C.badge!==void 0&&a.jsx("span",{className:"nhs-navigation-split-view__badge",children:C.badge})]})},String(k))}),e.length===0&&!i&&a.jsx("li",{className:"nhs-navigation-split-view__card-item","aria-disabled":"true",children:o||a.jsx("div",{style:{padding:16},children:"No items"})})]});const x="nsv-nav-instructions",v=X.useMemo(()=>X.memo(({item:C,idx:w,selected:k,focused:b})=>{const _=n(C),I=C.disabled?{"aria-disabled":!0,tabIndex:-1}:{tabIndex:b?0:-1,onClick:()=>{M.current=w,l(_,C,w)},onKeyDown:j=>{(j.key==="Enter"||j.key===" ")&&(j.preventDefault(),M.current=w,l(_,C,w))}};return a.jsxs("li",{id:String(_),"data-nav-item":!0,className:"nhs-navigation-split-view__list-item nhs-navigation-split-view__item-button",role:"option","aria-selected":k,"aria-current":k?"true":void 0,"data-selected":k||void 0,"data-disabled":C.disabled||void 0,...I,children:[C.icon&&a.jsx("span",{className:"nhs-navigation-split-view__item-icon",children:C.icon}),a.jsxs("span",{className:"nhs-navigation-split-view__item-content",children:[a.jsx("span",{className:"nhs-navigation-split-view__item-label",children:C.label}),C.description&&a.jsx("span",{className:"nhs-navigation-split-view__item-description",children:C.description}),s?.(C)]}),C.badge!==void 0&&a.jsx("span",{className:"nhs-navigation-split-view__badge",children:C.badge})]})}),[n,l,s]);return a.jsxs(a.Fragment,{children:[a.jsxs("ul",{ref:p,className:"nhs-navigation-split-view__list",onKeyDown:T,role:"listbox","aria-label":"Navigation items","aria-describedby":x,"aria-activedescendant":r?String(r):void 0,children:[e.map((C,w)=>a.jsx(v,{item:C,idx:w,selected:n(C)===r,focused:(()=>{const k=typeof m=="number"?m:g;return w===k||k===-1&&w===0&&u==="first"})(),"data-just-selected":n(C)===f?"true":void 0},String(n(C)))),e.length===0&&!i&&a.jsx("li",{className:"nhs-navigation-split-view__list-item","aria-disabled":"true",children:o||a.jsx("div",{style:{padding:16},children:"No items"})})]}),a.jsx("div",{id:x,style:{position:"absolute",width:1,height:1,overflow:"hidden",clip:"rect(0 0 0 0)"},children:y||"Use arrow keys to navigate, Enter to open."})]})}const Oi=Object.freeze({small:320,smallMax:767,medium:768,large:1025,xlarge:1200,xxlarge:1440});function ep(){return typeof window>"u"?Oi.small:window.innerWidth||document.documentElement.clientWidth||0}function xa(){const[t,e]=X.useState(ep());X.useEffect(()=>{if(typeof window>"u")return;const o=()=>e(ep());return window.addEventListener("resize",o),()=>window.removeEventListener("resize",o)},[]);const n=X.useCallback(o=>t>=Oi[o],[t]),r=X.useCallback(o=>t<Oi[o],[t]),i=X.useCallback((o,s)=>t>=Oi[o]&&t<Oi[s],[t]);return{width:t,up:n,down:r,between:i,values:Oi}}function Tw(t){const{width:e,values:n}=xa();let r=t.base;const i=["small","medium","large","xlarge","xxlarge"];for(const o of i){const s=n[o];e>=s&&t[o]!==void 0&&(r=t[o])}return r}function jw(t,e,n){const{up:r}=xa(),[i,o]=X.useState(!1);X.useEffect(()=>o(!0),[]);const s=i&&r("medium"),l=i&&r("xlarge");let c;return t?c=t:s?c="two-column":c="list",!t&&e&&n&&l&&(c="three-column"),{effectiveLayout:c,hydrated:i,isAtLeastMedium:s,isAtLeastXlarge:l}}function Dw(t){const{enabled:e,isAtLeastMedium:n,initiallyCollapsed:r,persist:i,storageKey:o,urlParam:s,onChange:l}=t,c=X.useMemo(()=>{if(i&&(i==="url"||i==="both")&&typeof window<"u"){const h=new URLSearchParams(window.location.search).get(s);if(h==="1")return!0;if(h==="0")return!1}if(i&&(i==="localStorage"||i==="both")&&typeof window<"u")try{const p=window.localStorage.getItem(o);if(p==="1")return!0;if(p==="0")return!1}catch{}return r},[i,r,o,s]),[u,d]=X.useState(c);X.useEffect(()=>{l?.(u)},[u,l]);const f=X.useCallback(()=>{e&&n&&d(p=>!p)},[e,n]);return X.useEffect(()=>{if(!(!i||typeof window>"u")){if(i==="localStorage"||i==="both")try{window.localStorage.setItem(o,u?"1":"0")}catch{}if(i==="url"||i==="both"){const p=new URLSearchParams(window.location.search);p.set(s,u?"1":"0");const h=`${window.location.pathname}?${p.toString()}${window.location.hash}`;window.history.replaceState(null,"",h)}}},[u,i,o,s]),{collapsed:u,toggle:f}}function tp(t){const{items:e,selectedId:n,defaultSelectedId:r,onSelectionChange:i,renderItemContent:o,renderContent:s,renderSecondaryContent:l,forceLayout:c,animated:u=!0,backLabel:d="Back",nextLabel:f="Next",isLoading:p=!1,emptyState:h,a11y:y,className:m,getId:g=ve=>ve.id,orientation:N="vertical",autoEnableThirdColumn:M=!0,onDrillChange:T,navigationInstructions:x="Use arrow keys to navigate, Enter to open.",initialFocus:v="first",skipFocusOnSelect:C=!1,skipAnnouncements:w=!1,onFocusChange:k,syncUrl:b=!1,urlParamSelected:_="nsv",urlParamDrill:I="nsvDrill",urlSyncDebounceMs:j=0,lazySecondary:E=!1,navFooter:F,collapsibleNav:A=!1,navInitiallyCollapsed:P=!1,onNavCollapseChange:R,collapseToggleLabelShow:oe="Show navigation",collapseToggleLabelHide:G="Hide navigation",collapseToggleIconShow:D,collapseToggleIconHide:Q,persistNavCollapsed:Z,navCollapsedStorageKey:re="nsvCollapsed",navCollapsedUrlParam:J="nsvCollapsed",autoContentHeader:ee,contentHeaderLevel:de=2,renderContentHeader:te,contentSubheader:ie,secondarySubheader:K}=t,{effectiveLayout:ae,hydrated:me,isAtLeastMedium:Y}=jw(c,M,!!l),le=Qh({enabled:b,paramSelected:_,paramDrill:I}),[ce,ge]=X.useState(()=>le.selectedId!==void 0?le.selectedId:r),pe=n!==void 0?n:ce,U=e.find(ve=>g(ve)===pe),[Ee,Pe]=X.useState(void 0);X.useEffect(()=>{if(pe===void 0)return;Pe(pe);const ve=setTimeout(()=>Pe(void 0),220);return()=>clearTimeout(ve)},[pe]);const je=X.useRef(null),W=X.useRef(null),L=X.useRef(null),O=X.useRef(null),[V,B]=X.useState(()=>({contentIndex:0,secondaryIndex:0})),[z,H]=X.useState(()=>"nav"),[q,ne]=X.useState(0),se=()=>[O.current,W.current,L.current].filter(Boolean),ye=ve=>{const Ae=se(),We=Math.max(0,Math.min(ve,Ae.length-1));xe(Ae[We]),ne(We)},he=X.useCallback(ve=>ve?Array.from(ve.querySelectorAll('button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])')).filter(We=>!We.hasAttribute("disabled")&&We.tabIndex!==-1):[],[]),xe=X.useCallback(ve=>{if(ve)try{ve.focus({preventScroll:!0})}catch{ve.focus()}},[]),Ce=X.useCallback(ve=>{const Ae=he(W.current);if(!Ae.length){xe(W.current);return}const We=Math.max(0,Math.min(ve,Ae.length-1)),Ze=Ae[We];Ze.focus(),setTimeout(()=>{document.activeElement!==Ze&&(Ze.focus(),setTimeout(()=>{document.activeElement!==Ze&&Ze.click()},10))},10),B(nt=>({...nt,contentIndex:We}));const ut=nt=>{nt.key==="Escape"&&(nt.preventDefault(),nt.stopPropagation(),xe(W.current),Ze.removeEventListener("keydown",ut))};Ae.forEach(nt=>{const gt=nt._escapeHandler;gt&&nt.removeEventListener("keydown",gt)}),Ze._escapeHandler=ut,Ze.addEventListener("keydown",ut)},[he]),we=X.useCallback(ve=>{const Ae=he(L.current);if(!Ae.length){xe(L.current);return}const We=Math.max(0,Math.min(ve,Ae.length-1)),Ze=Ae[We];Ze.focus(),setTimeout(()=>{document.activeElement!==Ze&&(Ze.focus(),setTimeout(()=>{document.activeElement!==Ze&&Ze.click()},10))},10),B(nt=>({...nt,secondaryIndex:We}));const ut=nt=>{nt.key==="Escape"&&(nt.preventDefault(),nt.stopPropagation(),xe(L.current),Ze.removeEventListener("keydown",ut))};Ae.forEach(nt=>{const gt=nt._escapeHandler;gt&&nt.removeEventListener("keydown",gt)}),Ze._escapeHandler=ut,Ze.addEventListener("keydown",ut)},[he]),Ge=ve=>{if(ve.defaultPrevented)return;const Ae=ve.key,We=ve.target,Ze=!!ue.current&&ue.current.contains(We),ut=!!W.current&&W.current.contains(We),nt=!!L.current&&L.current.contains(We),gt=!!L.current,Tr=We===O.current||We===W.current||We===L.current,Ft=Oe&&(ae==="list"||ae==="cards"),kt=ut&&!!We.closest(".nhs-navigation-split-view__header");if(z==="containers"&&Tr){if(Ae==="ArrowRight"){ve.preventDefault();const Xe=se(),yt=Math.min(Xe.length-1,q+1);ye(yt);return}if(Ae==="ArrowLeft"){ve.preventDefault();const Xe=Math.max(0,q-1);ye(Xe);return}if(Ae==="Home"){ve.preventDefault(),ye(0);return}if(Ae==="End"){ve.preventDefault(),ye(se().length-1);return}if(Ae==="Enter"||Ae===" "){if(ve.preventDefault(),We===O.current){if(H("nav"),ue.current){const Xe=Array.from(ue.current.querySelectorAll("[data-nav-item]"));(Xe[Ne>=0?Ne:0]||Xe[0])?.focus()}}else We===W.current?(H("content"),Ce(V.contentIndex)):We===L.current&&(H("secondary"),we(V.secondaryIndex));return}return}if(Ae==="Escape"){if(z==="content"||z==="secondary"){if(ut||nt){if(ve.preventDefault(),H("nav"),ue.current){const yt=Array.from(ue.current.querySelectorAll("[data-nav-item]"))[Ne>=0?Ne:0];setTimeout(()=>yt?.focus(),10)}}else if((We===W.current||We===L.current)&&(ve.preventDefault(),H("nav"),ue.current)){const yt=Array.from(ue.current.querySelectorAll("[data-nav-item]"))[Ne>=0?Ne:0];setTimeout(()=>yt?.focus(),10)}}return}if(Ae==="Enter"||Ae===" "){if(We.matches('button, a, input, select, textarea, [role="button"], [role="link"], [role="tab"]'))return;if(We===W.current&&z==="content"){ve.preventDefault(),ve.stopPropagation(),he(W.current).length>0&&setTimeout(()=>{Ce(V.contentIndex)},50);return}if(We===L.current&&z==="secondary"){ve.preventDefault(),ve.stopPropagation(),he(L.current).length>0&&setTimeout(()=>{we(V.secondaryIndex)},50);return}}if(Ft&&kt&&!Tr&&(Ae==="ArrowRight"||Ae==="ArrowLeft")){const Xe=he(W.current).filter(yt=>yt.closest(".nhs-navigation-split-view__header"));if(Xe.length>1){const yt=Xe.indexOf(We);if(yt>=0){const Jr=(yt+(Ae==="ArrowRight"?1:-1)+Xe.length)%Xe.length;ve.preventDefault(),Xe[Jr].focus();return}}}if(Ae==="ArrowRight"){if(Ze||z==="nav"){ve.preventDefault(),H("content"),setTimeout(()=>xe(W.current),10);return}if(ut||z==="content"){gt&&(ve.preventDefault(),H("secondary"),setTimeout(()=>xe(L.current),10));return}}if(Ae==="ArrowLeft"){if(nt||z==="secondary"){ve.preventDefault(),H("content"),setTimeout(()=>xe(W.current),10);return}if(ut||z==="content"){if(ve.preventDefault(),H("nav"),ue.current){const yt=Array.from(ue.current.querySelectorAll("[data-nav-item]"))[Ne>=0?Ne:0];setTimeout(()=>xe(yt),10)}return}}if(Ae==="Home"&&!Ze&&(ve.preventDefault(),H("nav"),ue.current)){const Xe=Array.from(ue.current.querySelectorAll("[data-nav-item]")),yt=Xe[Ne>=0?Ne:0]||Xe[0];setTimeout(()=>xe(yt),10)}if(Ae==="End"){const Xe=gt?L.current:W.current;Xe&&!Xe.contains(We)&&(ve.preventDefault(),gt?(H("secondary"),setTimeout(()=>xe(L.current),10)):(H("content"),setTimeout(()=>xe(W.current),10)))}if(Ae==="ArrowDown"||Ae==="ArrowUp"){if(We===W.current&&Ae==="ArrowDown"){ve.preventDefault(),he(W.current).length>0&&Ce(0);return}if(We===L.current&&Ae==="ArrowDown"){ve.preventDefault(),he(L.current).length>0&&we(0);return}if(ut){const Xe=he(W.current);if(Xe.length){ve.preventDefault();const yt=Ae==="ArrowDown"?1:-1,Ln=(V.contentIndex+yt+Xe.length)%Xe.length;Ce(Ln)}}else if(nt){const Xe=he(L.current);if(Xe.length){ve.preventDefault();const yt=Ae==="ArrowDown"?1:-1,Ln=(V.secondaryIndex+yt+Xe.length)%Xe.length;we(Ln)}}}},Oe=!!U&&(ae==="list"||ae==="cards"),tt=X.useMemo(()=>ee===void 0?{mobile:!0,tablet:!1,desktop:!1}:ee===!0?{mobile:!0,tablet:!0,desktop:!0}:ee===!1?{mobile:!1,tablet:!1,desktop:!1}:{mobile:ee.mobile!==void 0?ee.mobile:!0,tablet:ee.tablet||!1,desktop:ee.desktop||!1},[ee]),Be=me&&Y&&ae!=="three-column",fe=me&&ae==="three-column",Me=!!l,_e=ae==="three-column",[Se,He]=X.useState(!1);X.useEffect(()=>{_e&&Se&&He(!1)},[_e,Se]),X.useEffect(()=>{Se&&!_e&&(H("secondary"),ne(2),setTimeout(()=>{xe(L.current)},50))},[Se,_e]),X.useEffect(()=>{!Se&&!_e&&z==="secondary"&&(H("content"),ne(1),setTimeout(()=>{xe(W.current)},50))},[Se,_e,z]);const Ye=!!U&&(Oe&&tt.mobile||!Oe&&Be&&tt.tablet||!Oe&&fe&&tt.desktop)||Me&&!_e,Qe=Oe?"mobile":Be?"tablet":"desktop";X.useEffect(()=>{if(!b)return;const ve=ae==="three-column";let Ae=!1;const We=()=>{Ae||(le.selectedId!==pe&&le.setSelectedId(pe),le.drilledIn!==ve&&le.setDrilledIn(ve))};if(j&&j>0){const Ze=setTimeout(We,j);return()=>{Ae=!0,clearTimeout(Ze)}}else We()},[b,le,pe,ae,j]),X.useEffect(()=>{if(!b)return;const ve=()=>{const Ae=new URLSearchParams(window.location.search),We=Ae.get(_);Ae.get(I),ge(We===null?void 0:We)};return window.addEventListener("popstate",ve),()=>window.removeEventListener("popstate",ve)},[b,_,I,c,l]);const Le=X.useRef(0),be=X.useRef(null),ke=X.useCallback((ve,Ae)=>{ve!==pe&&(n===void 0&&ge(ve),i?.(ve,Ae))},[n,i,pe]);X.useEffect(()=>{if(!C&&Oe&&W.current){const ve=setTimeout(()=>xe(W.current),30);return()=>clearTimeout(ve)}},[Oe,pe,C]);const ue=X.useRef(null),[Ne,De]=X.useState(()=>v==="first"?0:-1);X.useEffect(()=>{if(Ne<0||!ue.current)return;const Ae=Array.from(ue.current.querySelectorAll("[data-nav-item]"))[Ne];if(Ae){document.activeElement!==Ae&&xe(Ae),Le.current=Ne;const We=e[Ne];k?.(We?g(We):void 0,We,Ne)}},[Ne,e,k,g]);const Ue=ve=>{const Ae=N==="vertical"?"ArrowDown":"ArrowRight",We=N==="vertical"?"ArrowUp":"ArrowLeft";if(ve.key==="ArrowRight"&&N==="vertical"){ve.preventDefault(),Se?(H("secondary"),setTimeout(()=>{xe(L.current)},10)):(H("content"),setTimeout(()=>{xe(W.current)},10));return}if(ve.key===Ae)ve.preventDefault(),De(Ze=>Math.min(e.length-1,Ze+1));else if(ve.key===We)ve.preventDefault(),De(Ze=>Math.max(0,Ze-1));else if(ve.key==="Home")ve.preventDefault(),De(0);else if(ve.key==="End")ve.preventDefault(),De(e.length-1);else if(ve.key==="Enter"||ve.key===" "){ve.preventDefault();const Ze=e[Ne];Ze&&!Ze.disabled&&ke(g(Ze),Ze)}else if(ve.key.length===1&&/[a-z0-9]/i.test(ve.key)){be.current||(be.current={buffer:"",last:0});const Ze=Date.now(),ut=700,nt=ve.key.toLowerCase();Ze-be.current.last>ut?be.current.buffer=nt:be.current.buffer+=nt,be.current.last=Ze;let gt=be.current.buffer;const Tr=gt.split("").every(Ln=>Ln===gt[0]),Ft=e.map(Ln=>String(Ln.label||"").toLowerCase());let kt=0;Ne>=0&&(kt=(Ne+1)%e.length);let Xe;const yt=(Ln,Jr)=>{const Pn=e.length;for(let jr=0;jr<Pn;jr++){const Kr=(kt+jr)%Pn;if(!e[Kr].disabled&&Ft[Kr].startsWith(Ln))return Kr}};Tr&&gt.length>1?Xe=yt(gt[0]):(Xe=yt(gt),Xe===void 0&&gt.length>1&&(Xe=yt(gt[gt.length-1]),Xe!==void 0&&be.current&&(be.current.buffer=gt[gt.length-1]))),Xe!==void 0&&De(Xe)}},{collapsed:Te,toggle:Je}=Dw({enabled:A,isAtLeastMedium:Y,initiallyCollapsed:P,persist:Z,storageKey:re,urlParam:J,onChange:R}),lt=["nhs-navigation-split-view",u?"nhs-navigation-split-view--animated":"",Oe?"nhs-navigation-split-view--detail-active":"",ae==="three-column"?"nhs-navigation-split-view--three-column":"",A&&Y&&Te?"nhs-navigation-split-view--nav-collapsed":"",m].filter(Boolean).join(" "),Mt=X.useRef(null);X.useEffect(()=>{if(!w&&Mt.current){const ve=U?`Selected ${U.label}`:"Selection cleared";Mt.current.textContent=ve}},[U,w]),X.useEffect(()=>{if(!Oe&&pe==null&&ue.current){const Ae=ue.current.querySelectorAll("[data-nav-item]")[Le.current];xe(Ae)}},[Oe,pe]);const ct=ae==="three-column",[mt,ht]=X.useState(!1);X.useEffect(()=>{ct&&!mt&&ht(!0)},[ct,mt]);const xn=X.useRef(ct);return X.useEffect(()=>{xn.current!==ct&&(T?.(ct),xn.current=ct)},[ct,T]),a.jsx("div",{ref:je,className:lt,"aria-label":y?.rootLabel,"data-layout":ae,onKeyDown:Ge,children:a.jsxs("div",{className:"nhs-navigation-split-view__body",children:[a.jsxs("div",{className:"nhs-navigation-split-view__panes","data-active-detail":Oe||void 0,style:{transform:Oe?"translateX(-100%)":void 0},children:[a.jsxs("div",{ref:O,className:"nhs-navigation-split-view__nav-pane",role:"navigation","aria-label":y?.navigationLabel||"Items","data-collapsed":Te||void 0,tabIndex:0,children:[A&&Y&&a.jsx("div",{className:"nhs-navigation-split-view__nav-collapse",children:a.jsx("button",{type:"button",onClick:Je,className:"nhs-navigation-split-view__nav-collapse-btn","aria-label":Te?oe:G,title:Te?oe:G,children:Te?D||a.jsx(Cw,{}):Q||a.jsx(kw,{})})}),a.jsx("div",{className:"nhs-navigation-split-view__nav-scroll",children:a.jsx(Mw,{layout:ae==="cards"?"cards":"list",items:e,getId:g,selectedId:pe,isLoading:p,emptyState:h,renderItemContent:o,onSelect:(ve,Ae,We)=>{Le.current=We,ke(ve,Ae)},orientation:N,initialFocus:v,onFocusChange:k,justSelectedId:Ee,listRef:ue,onKeyDownList:Ue,navigationInstructions:x,controlledFocusedIndex:Ne})}),F&&a.jsx("div",{className:"nhs-navigation-split-view__nav-footer",role:"contentinfo",children:F})]}),a.jsxs("div",{ref:W,className:"nhs-navigation-split-view__content-pane",role:"region","aria-label":y?.contentLabel||"Content","data-has-selection":!!U||void 0,tabIndex:0,style:{display:Se&&!_e?"none":void 0},children:[Ye&&a.jsx(Nw,{show:Ye,label:U?U.label:void 0,contentHeaderLevel:de,detailActive:Oe,headerContext:Qe,backLabel:d,nextLabel:f,onBack:()=>ke(void 0,void 0),onForward:()=>He(!0),renderContentHeader:te,item:U,contentSubheader:ie,tertiaryInlineActive:Se}),a.jsx("div",{className:"nhs-navigation-split-view__content-inner",style:{padding:32,flex:1},children:s(U)})]}),ae==="three-column"&&(!E||mt)||Se&&!_e?a.jsx("div",{ref:L,className:"nhs-navigation-split-view__secondary-pane",role:"region","aria-label":y?.secondaryContentLabel||"Secondary",tabIndex:0,children:a.jsxs("div",{className:"nhs-navigation-split-view__secondary-inner",style:{display:"flex",flexDirection:"column",flex:1,minWidth:0},children:[Se&&!_e&&a.jsx("div",{className:"nhs-navigation-split-view__header",children:a.jsx("div",{style:{display:"flex",alignItems:"center",width:"100%"},children:a.jsxs("div",{style:{display:"flex",alignItems:"center",gap:0,flex:"1 1 auto",minWidth:0},children:[a.jsx(Di,{element:"button",text:d,style:{marginRight:16},onClick:()=>He(!1)}),a.jsx("div",{style:{display:"flex",flexDirection:"column",gap:4,minWidth:0},children:a.jsx("h2",{style:{marginLeft:0,marginRight:0},children:U&&typeof U=="object"&&"label"in U?U.label:String(U)})})]})})}),U&&K&&a.jsx("div",{className:"nhs-navigation-split-view__secondary-header",style:{padding:"16px 32px",borderBottom:"1px solid var(--nsplit-divider)"},children:typeof K=="function"?K(U):K}),a.jsx("div",{style:{padding:32,flex:1,minWidth:0},children:l?.(U)})]})}):null]}),a.jsx("div",{ref:Mt,"aria-live":"polite","aria-atomic":"true",style:{position:"absolute",width:1,height:1,overflow:"hidden",clip:"rect(0 0 0 0)"}}),a.jsx("div",{"aria-live":"polite",style:{position:"absolute",width:1,height:1,overflow:"hidden",clip:"rect(0 0 0 0)"},children:ct?"Expanded to three column layout":"In two column layout"})]})})}tp.displayName="NavigationSplitView";function Iw({steps:t,currentIndex:e,onNavigate:n,renderCard:r,className:i,ariaLabel:o="Steps"}){const s=X.useRef(null),l=c=>{if(t?.length)if(c.key==="ArrowLeft"||c.key==="ArrowUp"){c.preventDefault();const u=Math.max(0,e-1);u!==e&&n?.(u)}else if(c.key==="ArrowRight"||c.key==="ArrowDown"){c.preventDefault();const u=Math.min(t.length-1,e+1);u!==e&&n?.(u)}else c.key==="Home"?(c.preventDefault(),n?.(0)):c.key==="End"&&(c.preventDefault(),n?.(t.length-1))};return a.jsx("div",{className:i,"aria-label":o,role:"region",children:a.jsx("div",{className:"nhsfdp-cards-viewport",role:"group","aria-roledescription":"steps",tabIndex:0,onKeyDown:l,children:a.jsx("div",{ref:s,className:"nhsfdp-cards-track",style:{transform:`translate3d(-${Math.max(0,e)*100}%, 0, 0)`},children:t.map((c,u)=>{const d=u===e;return a.jsx("div",{className:"nhsfdp-pane mobile-pane"+(d?" is-current":""),role:"group","aria-roledescription":"step","aria-label":(c.label??`Step ${u+1}`).toString(),"aria-hidden":!d,onClick:f=>{if(f.defaultPrevented)return;const p=f.target;p&&p.closest('button, a, input, select, textarea, [role="button"], [role="link"], [contenteditable="true"], [data-prevent-card-click]')||n?.(u)},children:r(c,u,d)},u)})})})})}function Lw({steps:t,currentIndex:e,onNavigate:n,renderLabel:r,ariaLabel:i="Breadcrumbs",className:o,style:s}){const l=t.map((u,d)=>{const f=d===e,p=d<e,h=r?r(u,d):u.label??`Step ${d+1}`;return{text:String(h),href:p?"#":void 0,active:f,attributes:p?{"data-index":String(d)}:void 0}}),c=u=>{const f=u.target.closest("a.nhsuk-breadcrumb__link, a.nhsuk-breadcrumb__backlink");if(!f)return;if(f.classList.contains("nhsuk-breadcrumb__backlink")){u.preventDefault();const h=Math.max(0,e-1);h!==e&&n?.(h);return}const p=f.getAttribute("data-index");if(p!=null){u.preventDefault();const h=parseInt(p,10);Number.isNaN(h)||n?.(h)}};return a.jsx("div",{style:s,onClick:c,children:a.jsx(wc,{labelText:i,classes:o,items:l})})}function Pw(t){const{up:e}=xa(),[n,r]=X.useState(!1);X.useEffect(()=>r(!0),[]);const i=n&&e("medium")&&!e("xlarge"),o=n&&e("xlarge"),s=o?"desktop":i?"tablet":"mobile",l=X.useMemo(()=>{if(!t.step||!t.layoutForStep)return s==="mobile"?{panes:1,showPrimaryNav:!1,showSecondaryNav:!1}:s==="tablet"?{panes:2,showPrimaryNav:!0,showSecondaryNav:!1}:{panes:3,showPrimaryNav:!0,showSecondaryNav:!0};try{return t.layoutForStep({step:t.step,index:t.index,breakpoint:s})||{}}catch{return{}}},[t.step,t.index,t.layoutForStep,s]);return{hydrated:n,breakpoint:s,isTablet:i,isDesktop:o,paneConfig:l}}function Aw(t){const{steps:e,currentStepId:n,defaultStepId:r,onStepChange:i,layoutForStep:o,renderStepCard:s,renderStepContent:l,renderSecondaryContent:c,renderSecondaryNav:u,renderBreadcrumbs:d,className:f,getId:p=fe=>fe.id,enableTabletGrid:h=!1,isStepComplete:y,showMobileControls:m,currentSectionId:g,defaultSectionIdForStep:N,onSectionChange:M}=t,T=typeof window<"u"&&!!window.__WSV_DEBUG_FOCUS||!1,x=(...fe)=>{T&&console.log("[WorkflowSplitView]",...fe)},v=()=>{if(typeof document>"u")return{};const fe=document.activeElement,Me=fe?.getAttribute?.("role");return{activeTag:fe?.tagName,activeId:fe?.id,activeRole:Me,activeClasses:fe?.className}},[C,w]=$.useState(r??(e[0]?p(e[0]):void 0)),k=n??C,b=e.findIndex(fe=>p(fe)===k),_=b>=0?e[b]:e[0],[I,j]=$.useState({}),E=fe=>fe?String(p(fe)):"",F=$.useCallback(fe=>{if(!fe)return;try{const _e=N?.(fe);if(_e!==void 0)return _e}catch{}const Me=fe.sections&&fe.sections[0];return Me?Me.id:void 0},[N]),A=g??I[E(_)]??F(_),P=_&&_.sections?_.sections:void 0,R=P?.find(fe=>fe.id===A),oe=fe=>{if(_){const Me=E(_);g===void 0&&j(_e=>({..._e,[Me]:fe})),M?.(fe,P?.find(_e=>_e.id===fe),_)}},G=fe=>{x("navigateTo",String(fe)),n===void 0&&w(fe);const Me=e.find(_e=>p(_e)===fe);Me&&i&&i(fe,Me)},D=d?d({steps:e,current:_,onNavigate:G}):a.jsx(Lw,{steps:e,currentIndex:Math.max(0,b),onNavigate:fe=>{const Me=e[fe];Me&&G(p(Me))}}),{hydrated:Q,breakpoint:Z,paneConfig:re}=Pw({step:_,index:b,layoutForStep:o}),J=n!==void 0||r!==void 0&&e.length>0&&e[0]&&r!==p(e[0]),ee=$.useRef(null),de=$.useRef(null),te=$.useRef(null),ie=$.useRef(null),K=$.useRef(null),ae=$.useRef(0),me=$.useRef(!1),Y=$.useRef(!1),le=$.useRef(null),[ce,ge]=$.useState("nav"),pe=$.useRef("nav");$.useEffect(()=>{pe.current=ce,ce!=="nav"&&L(!1),ce!=="content"&&V(!1),ce!=="secondary"&&z(!1)},[ce]);const[U,Ee]=$.useState(0),[Pe,je]=$.useState(()=>Math.max(0,b)),[W,L]=$.useState(!1),[O,V]=$.useState(!1),[B,z]=$.useState(!1),H=$.useCallback(fe=>{if(fe){try{fe.focus({preventScroll:!0})}catch{fe.focus()}x("focusEl",{to:fe.tagName,id:fe.id,class:fe.className})}},[]),q=$.useCallback(()=>{const fe=()=>te.current;let Me=0;const _e=()=>{const Se=fe();Se&&document.activeElement!==Se&&H(Se),Me+=1,Me<6&&document.activeElement!==fe()&&setTimeout(_e,0)};x("focusContentSoon:start",{attempts:Me}),_e(),typeof queueMicrotask=="function"&&queueMicrotask(_e),requestAnimationFrame(_e)},[H]),ne=$.useCallback(fe=>fe?Array.from(fe.querySelectorAll('button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])')).filter(_e=>!_e.hasAttribute("disabled")&&_e.tabIndex!==-1):[],[]),se=()=>[de.current,te.current,ie.current].filter(Boolean),ye=(fe,Me)=>{if(!fe)return;const _e=typeof document<"u"?document.activeElement:null;if(_e&&fe.contains(_e))try{_e.blur(),x("blurActiveIfInside",{label:Me,root:fe.getAttribute("aria-label")||fe.tagName})}catch{}},he=()=>{const fe=typeof document<"u"?document.activeElement:null;if(fe&&de.current&&de.current.contains(fe))try{fe.blur(),x("blurActiveIfInNav: blurred active element inside nav")}catch{}},xe=fe=>{const Me=se(),_e=Math.max(0,Math.min(fe,Me.length-1));x("focusContainerByIndex",{idx:fe,clamped:_e}),H(Me[_e]),Ee(_e)},Ce=$.useCallback(fe=>{let Me=0;const _e=fe??Pe,Se=()=>{const Re=K.current;if(!Re)return null;const Ye=Array.from(Re.querySelectorAll("[data-nav-item]"));return Ye[_e]||Ye[0]||null},He=()=>{if(pe.current!=="nav"){x("focusNavItemSoon: abort (mode changed)",{mode:pe.current});return}const Re=Se();Re&&document.activeElement!==Re&&H(Re),Me+=1,Me<6&&document.activeElement!==Re&&setTimeout(He,0)};x("focusNavItemSoon:start",{index:_e,...v()}),He(),typeof queueMicrotask=="function"&&queueMicrotask(He),requestAnimationFrame(He)},[H,Pe]);$.useEffect(()=>{if(!Q)return;Z==="desktop"||h&&Z==="tablet"?J?(ge("nav"),Ee(0),x("init: grid preselected â†’ mode=nav",{containerIndex:0})):(ge("containers"),Ee(0),x("init: grid default â†’ mode=containers",{containerIndex:0})):(ge("nav"),x("init: non-grid â†’ mode=nav"))},[Q,Z,J,h]),$.useEffect(()=>()=>{le.current!=null&&(clearTimeout(le.current),le.current=null,x("cleanup: cleared nav bootstrap timeout"))},[]),$.useEffect(()=>{const fe=Math.max(0,b);je(fe),x("sync navFocusedIndex with currentIndex",{currentIndex:b,navFocusedIndex:fe})},[b]),$.useEffect(()=>{x("paneFocusMode â†’",ce,v())},[ce]);const we=fe=>{if(!(Q&&(Z==="desktop"||h&&Z==="tablet")))return;const _e=fe.key,Se=fe.target,He=Se.tagName.toLowerCase(),Re=He==="input"||He==="textarea"||He==="select",Ye=Se.getAttribute("role"),Qe=Ye==="textbox"||Ye==="searchbox"||Ye==="combobox",Le=Se.getAttribute("contenteditable"),be=Re||Qe||Le&&Le!=="false";if(x("onRootKeyDown",{key:_e,tag:He,role:Ye,isEditable:be,paneFocusMode:ce,containerIndex:U,...v()}),be&&["ArrowLeft","ArrowRight","ArrowUp","ArrowDown","Home","End"].includes(_e))return;const ke=!!K.current&&K.current.contains(Se),ue=!!te.current&&te.current.contains(Se),Ne=!!ie.current&&ie.current.contains(Se),De=Se===de.current||Se===te.current||Se===ie.current,Ue=!!ie.current;if(De){if(_e==="ArrowLeft"&&Se===te.current){fe.preventDefault(),x("container: ArrowLeft on content container â†’ nav item"),ge("nav"),ye(te.current,"from-content"),ae.current=Pe,Ce(Pe);return}if(_e==="ArrowRight"&&Se===te.current&&Ue){fe.preventDefault(),x("container: ArrowRight on content container â†’ secondary"),ge("secondary"),ye(te.current,"from-content"),V(!1),setTimeout(()=>H(ie.current),10);return}if(_e==="ArrowRight"&&Se===de.current){fe.preventDefault(),x("container: ArrowRight on nav container â†’ content"),ge("content"),ye(de.current,"from-nav"),L(!1),q();return}if(_e==="ArrowLeft"&&Se===ie.current){fe.preventDefault(),x("container: ArrowLeft on secondary container â†’ content"),ge("content"),ye(ie.current,"from-secondary"),z(!1),q();return}if(_e==="ArrowRight"){fe.preventDefault(),x("container: ArrowRight â†’ next container"),ye(Se,"container-roving"),Se===de.current&&L(!1),Se===te.current&&V(!1),Se===ie.current&&z(!1),xe(U+1);return}if(_e==="ArrowLeft"){fe.preventDefault(),x("container: ArrowLeft â†’ prev container"),ye(Se,"container-roving"),Se===de.current&&L(!1),Se===te.current&&V(!1),Se===ie.current&&z(!1),xe(U-1);return}if(_e==="Home"){fe.preventDefault(),x("container: Home â†’ first container"),ye(Se,"container-roving"),Se===de.current&&L(!1),Se===te.current&&V(!1),Se===ie.current&&z(!1),xe(0);return}if(_e==="End"){fe.preventDefault(),x("container: End â†’ last container"),ye(Se,"container-roving"),Se===de.current&&L(!1),Se===te.current&&V(!1),Se===ie.current&&z(!1),xe(se().length-1);return}if(_e==="Enter"||_e===" "){if(fe.preventDefault(),Se===de.current)ge("nav"),x("container: Enter/Space on nav â†’ focus nav item",{navFocusedIndex:Pe}),ae.current=Pe,Y.current=!0,Ce(Pe);else if(Se===te.current){ge("content"),ye(te.current,"descend-content"),V(!1);const Te=ne(te.current);x("container: Enter/Space on content â†’ focus first focusable",{count:Te.length}),(Te[0]||te.current)?.focus()}else if(Se===ie.current){ge("secondary"),ye(ie.current,"descend-secondary"),z(!1);const Te=ne(ie.current);x("container: Enter/Space on secondary â†’ focus first focusable",{count:Te.length}),(Te[0]||ie.current)?.focus()}return}}if(_e==="Escape"){if(ue||Ne){fe.preventDefault(),ge("containers"),x("Escape: from",ue?"content":"secondary","â†’ containers (focus container)"),ue&&ye(te.current,"escape-ascend"),Ne&&ye(ie.current,"escape-ascend"),ue&&setTimeout(()=>H(te.current),10),Ne&&setTimeout(()=>H(ie.current),10);return}if(ke){fe.preventDefault(),ge("containers"),x("Escape: from nav â†’ containers (focus nav container)"),he(),H(de.current);return}if(De){fe.preventDefault(),ge("containers"),x("Escape: on container (stay in containers)");return}}if(_e==="Enter"||_e===" "){if(Se===te.current&&ce==="content"){fe.preventDefault(),ye(te.current,"descend-content");const Te=ne(te.current);x("Enter/Space on content container in content mode"),(Te[0]||te.current)?.focus();return}if(Se===ie.current&&ce==="secondary"){fe.preventDefault(),ye(ie.current,"descend-secondary");const Te=ne(ie.current);x("Enter/Space on secondary container in secondary mode"),(Te[0]||ie.current)?.focus();return}}if(_e==="ArrowRight"){if(ke||ce==="nav"){fe.preventDefault(),ge("content"),x("ArrowRight: from nav â†’ content (focus content)"),ye(de.current,"from-nav"),L(!1),q();return}if(ue||ce==="content"){Ue&&(fe.preventDefault(),ge("secondary"),x("ArrowRight: from content â†’ secondary (focus secondary)"),ye(te.current,"from-content"),V(!1),setTimeout(()=>H(ie.current),10));return}}if(_e==="ArrowLeft"){if(Ne||ce==="secondary"){fe.preventDefault(),x("ArrowLeft: from secondary â†’ content (focus content)"),ye(ie.current,"from-secondary"),z(!1),q();return}if(ue||ce==="content"){fe.preventDefault(),ge("nav"),x("ArrowLeft: from content â†’ nav (focus nav item)",{navFocusedIndex:Pe}),ae.current=Pe,ye(te.current,"from-content"),V(!1),Ce(Pe);return}}if((_e==="Enter"||_e===" ")&&(ke||ce==="nav")){fe.preventDefault();const Te=K.current,Je=Te?Array.from(Te.querySelectorAll("[data-nav-item]")):[];let lt=ae.current??Pe;if(Je.length){const Mt=document.activeElement,ct=Mt?Je.indexOf(Mt):-1;ct>=0&&(lt=ct)}lt=Math.max(0,Math.min(lt,Je.length-1)),je(lt),ae.current=lt,x("Root: Enter/Space activate from nav context",{idx:lt}),G(p(e[lt])),ge("content"),pe.current="content",me.current=!0,he(),q();return}},Ge=()=>{const fe=()=>{me.current=!1,Y.current=!1},Me=Re=>{if(!K.current)return;const Ye=Array.from(K.current.querySelectorAll("[data-nav-item]"));if(Ye.length){if(Re.key==="ArrowDown"){Re.preventDefault(),Re.stopPropagation(),Y.current=!1,ge("nav");const Qe=ae.current??Pe,Le=Math.min(Ye.length-1,Qe+1);je(Le),ae.current=Le,Ce(Le),x("PrimaryNav: ArrowDown",{from:Qe,to:Le})}else if(Re.key==="ArrowUp"){Re.preventDefault(),Re.stopPropagation(),Y.current=!1,ge("nav");const Qe=ae.current??Pe,Le=Math.max(0,Qe-1);je(Le),ae.current=Le,Ce(Le),x("PrimaryNav: ArrowUp",{from:Qe,to:Le})}else if(Re.key==="Home"){Re.preventDefault(),Re.stopPropagation(),Y.current=!1;const Qe=0;je(Qe),ae.current=Qe,Ce(Qe),x("PrimaryNav: Home",{to:Qe})}else if(Re.key==="End"){Re.preventDefault(),Re.stopPropagation(),Y.current=!1;const Qe=Ye.length-1;je(Qe),ae.current=Qe,Ce(Qe),x("PrimaryNav: End",{to:Qe})}}},_e=Re=>{},Se=Re=>{if(Re.key!=="Enter"&&Re.key!==" "||!K.current)return;const Ye=Array.from(K.current.querySelectorAll("[data-nav-item]"));if(!Ye.length)return;Re.preventDefault();let Qe=-1;const be=Re.target?.closest?.("[data-nav-item]");be&&(Qe=Ye.indexOf(be)),Qe<0&&(Qe=ae.current??Pe),Qe=Math.max(0,Math.min(Qe,Ye.length-1)),je(Qe),ae.current=Qe,x("PrimaryNav: Enter/Space activate (capture)",{idx:Qe}),G(p(e[Qe])),ge("content"),pe.current="content",me.current=!0,le.current!=null&&(clearTimeout(le.current),le.current=null),he(),q()},He=Re=>{if(Re.defaultPrevented)return;me.current=!1;const Ye=Re.target;if(!Ye)return;const Qe=Ye.closest("[data-nav-item]");if(!Qe||!K.current||!K.current.contains(Qe))return;const be=Array.from(K.current.querySelectorAll("[data-nav-item]")).indexOf(Qe);be<0||(je(be),ae.current=be,x("PrimaryNav: click delegate activate",{idx:be}),G(p(e[be])),ge("content"),he(),le.current!=null&&(clearTimeout(le.current),le.current=null),q())};return a.jsx("ul",{ref:K,className:"nhsfdp-primary-nav",role:"listbox","aria-activedescendant":String(p(e[Math.max(0,Pe)])),onKeyDownCapture:Se,onKeyDown:Me,onKeyUp:_e,onPointerDown:fe,onMouseDown:fe,onClick:He,children:e.map((Re,Ye)=>{const Qe=p(Re),Le=Ye===b,be=ce==="nav"&&Ye===Pe;return a.jsx("li",{id:String(Qe),role:"option","aria-selected":Le,children:a.jsx("button",{"data-nav-item":!0,tabIndex:be?0:-1,type:"button",className:"nhsfdp-primary-nav__item"+(Le?" is-current":"")+(be?" is-focused":""),"aria-current":Le?"step":void 0,onPointerDown:fe,onMouseDown:fe,onKeyDown:ke=>{if(ke.key==="Enter"||ke.key===" "){if(ke.preventDefault(),Y.current){Y.current=!1;return}ae.current=Ye,me.current=!0,x("NavItem: onKeyDown activate",{i:Ye,id:String(p(e[Ye]))}),G(p(e[Ye])),ge("content"),pe.current="content",le.current!=null&&(clearTimeout(le.current),le.current=null),he(),q()}},onKeyUp:ke=>{if(ke.key==="Enter"||ke.key===" "){if(Y.current){Y.current=!1;return}ae.current=Ye,x("NavItem: onKeyUp activate (fallback)",{i:Ye,id:String(p(e[Ye]))}),G(p(e[Ye])),ge("content"),pe.current="content",le.current!=null&&(clearTimeout(le.current),le.current=null),he(),q()}},onClick:ke=>{if(me.current){me.current=!1,ke.preventDefault(),ke.stopPropagation(),x("NavItem: ignored synthetic click after keyboard activation",{i:Ye});return}je(Ye),ae.current=Ye,x("NavItem: onClick select",{i:Ye,id:String(Qe)}),G(Qe),ge("content"),pe.current="content",le.current!=null&&(clearTimeout(le.current),le.current=null),he(),q()},children:Re.label})},String(Qe))})})},Oe=()=>{const fe=Math.max(0,b),Me=fe>0,_e=fe<e.length-1,Se=m?m(_):y?y(_):!0;return a.jsxs("div",{className:"nhsfdp-workflow-mobile",children:[Z==="tablet"?D:null,Se&&a.jsxs("div",{className:"nhsfdp-mobile-controls","aria-label":"Step navigation",children:[Me?a.jsx(Di,{element:"button",text:"Back",onClick:()=>{const He=e[fe-1];He&&G(p(He))}}):a.jsx(Di,{element:"button",text:"Back","aria-hidden":"true",style:{visibility:"hidden"}}),_e?a.jsx(va,{element:"button",text:"Next",onClick:()=>{const He=e[fe+1];He&&G(p(He))}}):a.jsx(va,{element:"button",text:"Next","aria-hidden":"true",style:{visibility:"hidden"}})]}),a.jsx(Iw,{steps:e,currentIndex:fe,onNavigate:He=>{const Re=e[He];Re&&G(p(Re))},renderCard:(He,Re,Ye)=>s?s(He):l(He)})]})},tt=fe=>a.jsx("div",{className:"nhsfdp-workflow-grid panes-"+(fe.panes??2),onKeyDown:we,ref:ee,role:"grid","aria-rowcount":1,"aria-colcount":(fe.showPrimaryNav?1:0)+1+(fe.showSecondaryNav?1:0),"aria-label":"Workflow layout",children:a.jsxs("div",{className:"nhsfdp-workflow-body",role:"row",children:[fe.showPrimaryNav&&a.jsx("aside",{ref:de,className:"nhsfdp-pane primary-nav"+(W?" is-active-pane":""),"aria-label":"Primary navigation",role:"gridcell",tabIndex:0,onFocus:Me=>{Me.target===de.current&&L(!0)},onBlur:Me=>{Me.target===de.current&&L(!1)},children:a.jsx("section",{role:"complementary","aria-label":"Primary navigation",children:a.jsx(Ge,{})})}),a.jsxs("main",{ref:te,className:"nhsfdp-pane content"+(O?" is-active-pane":""),"aria-live":"polite",role:"gridcell",tabIndex:0,onFocus:Me=>{Me.target===te.current&&V(!0)},onBlur:Me=>{Me.target===te.current&&V(!1)},children:[D,a.jsx("div",{role:"main",children:l(_,R)})]}),(()=>{const Me=u?u(_,P,R,He=>oe(He)):P&&P.length>0?a.jsx("ul",{className:"nhsfdp-secondary-nav",role:"listbox","aria-label":"Sections",children:P.map(He=>{const Re=A===He.id;return a.jsx("li",{role:"option","aria-selected":Re,children:a.jsx("button",{type:"button",className:"nhsfdp-secondary-nav__item"+(Re?" is-current":""),"data-sec-item":!0,onClick:()=>oe(He.id),children:He.label})},String(He.id))})}):void 0,_e=c?.(_,R);return fe.showSecondaryNav&&(Me||_e)?a.jsx("aside",{ref:ie,className:"nhsfdp-pane secondary-nav"+(B?" is-active-pane":""),"aria-label":"Secondary navigation",role:"gridcell",tabIndex:0,onFocus:He=>{He.target===ie.current&&z(!0)},onBlur:He=>{He.target===ie.current&&z(!1)},children:a.jsxs("section",{role:"complementary","aria-label":"Secondary navigation",children:[Me,_e]})}):null})()]})});return Q?Z==="mobile"||!h&&Z==="tablet"||(re.panes??1)===1?a.jsx("div",{className:"nhsfdp-workflow "+(f??""),children:Oe()}):a.jsx("div",{className:"nhsfdp-workflow "+(f??""),children:tt(re)}):a.jsx("div",{className:"nhsfdp-workflow "+(f??""),children:a.jsx("div",{className:"nhsfdp-workflow-body",children:a.jsxs("main",{className:"nhsfdp-pane content",children:[d?d({steps:e,current:_,onNavigate:G}):null,_?l(_,_?.sections?.find(fe=>fe.id===(N?.(_)??_?.sections?.[0]?.id))):null]})})})}const Ew=typeof window<"u"&&window.document?X.useLayoutEffect:X.useEffect,np=(t,e,n,r)=>t==null||Number.isNaN(t)?r:Math.min(n,Math.max(e,t)),Fw=({item:t,maxLines:e,enableDrilldown:n,onExpand:r,isActive:i,topLaneIndex:o})=>{const{ariaLabel:s}=t,l=`${t._pxLeft}px`,c=`${t._pxWidth}px`,u=`calc((var(--roadmap-item-block-height) + var(--roadmap-row-gap)) * ${o})`,d=Math.floor(t._startFraction)+2,f=Math.max(1,Math.round(t._spanColumns)),p=n&&t.childItems&&t.childItems.length>0,h=m=>{p&&(m.preventDefault(),r?.(t))},y=p?{role:"button",tabIndex:0,"aria-haspopup":"dialog","aria-expanded":i||!1,onClick:h,onKeyDown:m=>{(m.key==="Enter"||m.key===" ")&&h(m),m.key==="Escape"&&i&&h(m)}}:{};return a.jsxs("div",{className:Ie("nhsuk-product-roadmap__item",p&&"nhsuk-product-roadmap__item--expandable",i&&"nhsuk-product-roadmap__item--active"),style:{left:l,width:c,top:u,"--item-height":e},role:"gridcell","aria-label":s,"aria-colindex":d,"aria-colspan":f,...y,children:[a.jsx("div",{className:"nhsuk-product-roadmap__item-bg","aria-hidden":"true"}),a.jsxs("div",{className:"nhsuk-product-roadmap__item-content",children:[a.jsx("span",{className:"nhsuk-product-roadmap__item-title",children:t.title}),p&&a.jsx("span",{className:Ie("nhsuk-product-roadmap__item-expander",i&&"nhsuk-product-roadmap__item-expander--open"),"aria-hidden":"true"})]})]})},rp=$.memo(({dateHeadings:t,categories:e,columnWidthPx:n=400,itemMaxLines:r=2,className:i,ariaLabel:o="Product roadmap",enableDrilldown:s=!1,onToggleItem:l,drilldownMode:c="overlay",...u})=>{const[d,f]=$.useState(()=>new Set),[p,h]=$.useState(()=>new Set),y=$.useRef(new Set),m=$.useCallback(j=>d.has(j),[d]),g=$.useCallback(j=>{f(E=>{const F=new Set(E);return F.has(j.id)?(F.delete(j.id),h(A=>{const P=new Set(A);return P.add(j.id),P}),setTimeout(()=>h(A=>{const P=new Set(A);return P.delete(j.id),P}),240),l?.(j.id,!1)):(F.add(j.id),l?.(j.id,!0)),F})},[l]);Ew(()=>{if(c!=="inline"||!s||typeof document>"u")return;const j=[];if(d.forEach(P=>{y.current.has(P)||j.push(P)}),y.current=new Set(d),!j.length)return;const E=typeof window<"u"&&typeof window.matchMedia=="function"?window.matchMedia("(prefers-reduced-motion: reduce)").matches:!1,F=j.map(P=>`.nhsuk-product-roadmap__inline-children[data-parent="${P}"] .nhsuk-product-roadmap__inline-child`).join(","),A=Array.from(document.querySelectorAll(F));if(A.length){if(E){A.forEach(P=>{P.style.opacity="1",P.style.transform="translateY(0)"});return}Promise.resolve().then(()=>y1).then(P=>{(P.gsap||P.default||P).to(A,{opacity:1,y:0,duration:.32,ease:"power2.out",stagger:.05})}).catch(()=>{A.forEach(P=>{P.style.opacity="1",P.style.transform="translateY(0)"})})}},[d,c,s]);const N=$.useCallback(()=>{d.size&&f(new Set)},[d]),M=Ie("nhsuk-product-roadmap",i),T=np(n,120,1200,400),x=np(r,1,6,2),v=$.useMemo(()=>t.map(j=>new Date(j+" 01")),[t]),C=$.useMemo(()=>{if(v.length===0){const F=new Date;return[F,F]}const j=new Date(v[0]),E=So.offset(new Date(v[v.length-1]),1);return[j,E]},[v]),w=$.useMemo(()=>_c().domain(C).range([0,v.length*T]),[C,v.length,T]),k=$.useCallback(j=>{if(j.startDate){const G=new Date(j.startDate),D=new Date(j.endDate??j.startDate);D<G&&D.setTime(G.getTime());const Q=w(G),Z=So.offset(new Date(D),1);let re=w(Z);Number.isFinite(re)||(re=Q+T);const J=Math.max(T*.25,re-Q),ee=Q/T,de=J/T;return{...j,_pxLeft:Q,_pxWidth:J,_startFraction:ee,_spanColumns:de}}const E=j.date??1,F=j.dateOffset??0,A=j.length??1,P=j.partialLength??1,R=E-1+F,oe=A-1+P;return{...j,_pxLeft:R*T,_pxWidth:oe*T,_startFraction:R,_spanColumns:oe}},[w,T]),b=$.useMemo(()=>e.map(j=>{const F=j.roadmapItems.map(P=>{const R=!P.childItems&&P.children?{...P,childItems:P.children}:{...P};return k(R)}).sort((P,R)=>P._pxLeft!==R._pxLeft?P._pxLeft-R._pxLeft:R._pxWidth-P._pxWidth),A=[];return F.forEach(P=>{const R=P._pxLeft,oe=P._pxLeft+P._pxWidth;let G=A.findIndex(D=>D<=R);G===-1&&(G=A.length,A.push(0)),A[G]=oe,P.verticalPosition=G+1}),{...j,roadmapItems:F,_laneCount:A.length}}),[e,k]),_=$.useMemo(()=>b.map(j=>j._laneCount||1),[b]),I=$.useMemo(()=>`var(--category-width) ${t.map(()=>"var(--column-width)").join(" ")}`,[t]);return a.jsxs("div",{className:M,style:{"--column-width":`${T}px`,gridTemplateColumns:I},role:"grid","aria-label":o,"aria-colcount":t.length+1,"aria-rowcount":b.length+1,...u,children:[a.jsxs("div",{className:"nhsuk-product-roadmap__header-row",role:"row","aria-rowindex":1,children:[a.jsx("div",{className:"nhsuk-product-roadmap__header-cell",role:"columnheader","aria-colindex":1,children:a.jsx("span",{className:"nhsuk-visually-hidden",children:"Category"})}),t.map((j,E)=>a.jsx("div",{className:"nhsuk-product-roadmap__date-heading",role:"columnheader","aria-colindex":E+2,children:j},`${j}-${E}`))]}),b.map((j,E)=>{const F=E+2,A=_[E];let P,R=0,oe=[];s&&c==="inline"&&(oe=j.roadmapItems.filter(Z=>m(Z.id)&&Z.childItems&&Z.childItems.length).map(Z=>({id:Z.id,lane:Z.verticalPosition||1,count:Z.childItems.length})).sort((Z,re)=>Z.lane-re.lane),R=oe.reduce((Z,re)=>Z+re.count,0));const G=A+R;P=`calc((${G} * var(--roadmap-item-block-height)) + (max(0, ${G} - 1) * var(--roadmap-row-gap)))`;const D={};let Q=0;return oe.forEach(Z=>{Q+=Z.count,D[Z.lane+1]=Q}),a.jsxs("div",{className:"nhsuk-product-roadmap__row",role:"row","aria-rowindex":F,children:[a.jsx("div",{className:"nhsuk-product-roadmap__category-cell",role:"rowheader","aria-colindex":1,children:j.heading}),a.jsx("div",{className:"nhsuk-product-roadmap__items-row",style:{gridColumn:`2 / span ${t.length}`,height:P},children:a.jsx("div",{className:"nhsuk-product-roadmap__items-layer",children:j.roadmapItems.map((Z,re)=>{const J=(Z.verticalPosition||1)-1,ee=oe.filter(K=>K.lane-1<J).reduce((K,ae)=>K+ae.count,0),de=J+ee,te=m(Z.id),ie=p.has(Z.id);return a.jsxs($.Fragment,{children:[a.jsx(Fw,{item:Z,maxLines:x,enableDrilldown:s,onExpand:g,isActive:te,topLaneIndex:de,laneOffset:ee}),s&&c==="inline"&&(te||ie)&&Z.childItems&&a.jsx("div",{"data-parent":Z.id,className:"nhsuk-product-roadmap__inline-children","aria-label":`${Z.title} child tasks`,children:Z.childItems.map((K,ae)=>{const me="calc(var(--roadmap-item-block-height) * 0.75)";let Y=Z._pxLeft,le=Z._pxWidth;if(K.startDate){const pe=new Date(K.startDate);let U=K.endDate?new Date(K.endDate):new Date(pe);U<pe&&(U=new Date(pe));const Ee=new Date(U);Ee.setDate(Ee.getDate()+1);const Pe=w(pe);let je=w(Ee);(!Number.isFinite(je)||je<=Pe)&&(je=Pe+6),Y=Pe,le=Math.max(6,je-Pe)}const ge=de+1+ae;return a.jsxs("div",{className:Ie("nhsuk-product-roadmap__inline-child",K.status&&`nhsuk-product-roadmap__inline-child--status-${K.status}`,!te&&ie&&"nhsuk-product-roadmap__inline-child--collapsing"),style:{left:`${Y}px`,width:`${le}px`,top:`calc((var(--roadmap-item-block-height) + var(--roadmap-row-gap)) * ${ge})`,height:me,opacity:te?0:void 0,transform:te?"translateY(-6px)":void 0},children:[a.jsx("div",{className:"nhsuk-product-roadmap__inline-child-bg"}),a.jsx("div",{className:"nhsuk-product-roadmap__inline-child-content",children:K.title})]},K.id??ae)})})]},Z.id??re)})})})]},`${j.heading}-${E}`)}),s&&c==="overlay"&&d.size===1&&(()=>{const j=Array.from(d)[0],E=e.flatMap(F=>F.roadmapItems).find(F=>F.id===j);return!E||!E.childItems?null:a.jsxs("div",{className:"nhsuk-product-roadmap__drilldown-overlay",role:"dialog","aria-modal":"true","aria-label":`${E.title} details`,children:[a.jsxs("div",{className:"nhsuk-product-roadmap__drilldown-panel",children:[a.jsxs("header",{className:"nhsuk-product-roadmap__drilldown-header",children:[a.jsx("h3",{className:"nhsuk-product-roadmap__drilldown-title",children:E.title}),a.jsx("button",{type:"button",className:"nhsuk-product-roadmap__drilldown-close",onClick:N,"aria-label":"Close details",children:"Ã—"})]}),a.jsx("div",{className:"nhsuk-product-roadmap__drilldown-content",children:E.content}),a.jsx("ul",{className:"nhsuk-product-roadmap__drilldown-children",children:E.childItems.map((F,A)=>a.jsxs("li",{className:"nhsuk-product-roadmap__drilldown-child",children:[a.jsx("strong",{className:"nhsuk-product-roadmap__drilldown-child-title",children:F.title}),F.content&&a.jsx("div",{className:"nhsuk-product-roadmap__drilldown-child-content",children:F.content})]},F.id??A))})]}),a.jsx("div",{className:"nhsuk-product-roadmap__drilldown-backdrop",onClick:N,"aria-hidden":"true"})]})})()]})});rp.displayName="ProductRoadmap";function ip(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=ip(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function _a(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=ip(t))&&(r&&(r+=" "),r+=e);return r}function Ut(t){return function(){return t}}const Pc=Math.PI,Ac=2*Pc,ii=1e-6,$w=Ac-ii;function op(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function Bw(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return op;const n=10**e;return function(r){this._+=r[0];for(let i=1,o=r.length;i<o;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class Ow{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?op:Bw(e)}moveTo(e,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,n){this._append`L${this._x1=+e},${this._y1=+n}`}quadraticCurveTo(e,n,r,i){this._append`Q${+e},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(e,n,r,i,o,s){this._append`C${+e},${+n},${+r},${+i},${this._x1=+o},${this._y1=+s}`}arcTo(e,n,r,i,o){if(e=+e,n=+n,r=+r,i=+i,o=+o,o<0)throw new Error(`negative radius: ${o}`);let s=this._x1,l=this._y1,c=r-e,u=i-n,d=s-e,f=l-n,p=d*d+f*f;if(this._x1===null)this._append`M${this._x1=e},${this._y1=n}`;else if(p>ii)if(!(Math.abs(f*c-u*d)>ii)||!o)this._append`L${this._x1=e},${this._y1=n}`;else{let h=r-s,y=i-l,m=c*c+u*u,g=h*h+y*y,N=Math.sqrt(m),M=Math.sqrt(p),T=o*Math.tan((Pc-Math.acos((m+p-g)/(2*N*M)))/2),x=T/M,v=T/N;Math.abs(x-1)>ii&&this._append`L${e+x*d},${n+x*f}`,this._append`A${o},${o},0,0,${+(f*h>d*y)},${this._x1=e+v*c},${this._y1=n+v*u}`}}arc(e,n,r,i,o,s){if(e=+e,n=+n,r=+r,s=!!s,r<0)throw new Error(`negative radius: ${r}`);let l=r*Math.cos(i),c=r*Math.sin(i),u=e+l,d=n+c,f=1^s,p=s?i-o:o-i;this._x1===null?this._append`M${u},${d}`:(Math.abs(this._x1-u)>ii||Math.abs(this._y1-d)>ii)&&this._append`L${u},${d}`,r&&(p<0&&(p=p%Ac+Ac),p>$w?this._append`A${r},${r},0,1,${f},${e-l},${n-c}A${r},${r},0,1,${f},${this._x1=u},${this._y1=d}`:p>ii&&this._append`A${r},${r},0,${+(p>=Pc)},${f},${this._x1=e+r*Math.cos(o)},${this._y1=n+r*Math.sin(o)}`)}rect(e,n,r,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function sp(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(n==null)e=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);e=r}return t},()=>new Ow(e)}function ap(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function lp(t){this._context=t}lp.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function cp(t){return new lp(t)}function up(t){return t[0]}function dp(t){return t[1]}function fp(t,e){var n=Ut(!0),r=null,i=cp,o=null,s=sp(l);t=typeof t=="function"?t:t===void 0?up:Ut(t),e=typeof e=="function"?e:e===void 0?dp:Ut(e);function l(c){var u,d=(c=ap(c)).length,f,p=!1,h;for(r==null&&(o=i(h=s())),u=0;u<=d;++u)!(u<d&&n(f=c[u],u,c))===p&&((p=!p)?o.lineStart():o.lineEnd()),p&&o.point(+t(f,u,c),+e(f,u,c));if(h)return o=null,h+""||null}return l.x=function(c){return arguments.length?(t=typeof c=="function"?c:Ut(+c),l):t},l.y=function(c){return arguments.length?(e=typeof c=="function"?c:Ut(+c),l):e},l.defined=function(c){return arguments.length?(n=typeof c=="function"?c:Ut(!!c),l):n},l.curve=function(c){return arguments.length?(i=c,r!=null&&(o=i(r)),l):i},l.context=function(c){return arguments.length?(c==null?r=o=null:o=i(r=c),l):r},l}function Ec(t,e,n){var r=null,i=Ut(!0),o=null,s=cp,l=null,c=sp(u);t=typeof t=="function"?t:t===void 0?up:Ut(+t),e=typeof e=="function"?e:Ut(e===void 0?0:+e),n=typeof n=="function"?n:n===void 0?dp:Ut(+n);function u(f){var p,h,y,m=(f=ap(f)).length,g,N=!1,M,T=new Array(m),x=new Array(m);for(o==null&&(l=s(M=c())),p=0;p<=m;++p){if(!(p<m&&i(g=f[p],p,f))===N)if(N=!N)h=p,l.areaStart(),l.lineStart();else{for(l.lineEnd(),l.lineStart(),y=p-1;y>=h;--y)l.point(T[y],x[y]);l.lineEnd(),l.areaEnd()}N&&(T[p]=+t(g,p,f),x[p]=+e(g,p,f),l.point(r?+r(g,p,f):T[p],n?+n(g,p,f):x[p]))}if(M)return l=null,M+""||null}function d(){return fp().defined(i).curve(s).context(o)}return u.x=function(f){return arguments.length?(t=typeof f=="function"?f:Ut(+f),r=null,u):t},u.x0=function(f){return arguments.length?(t=typeof f=="function"?f:Ut(+f),u):t},u.x1=function(f){return arguments.length?(r=f==null?null:typeof f=="function"?f:Ut(+f),u):r},u.y=function(f){return arguments.length?(e=typeof f=="function"?f:Ut(+f),n=null,u):e},u.y0=function(f){return arguments.length?(e=typeof f=="function"?f:Ut(+f),u):e},u.y1=function(f){return arguments.length?(n=f==null?null:typeof f=="function"?f:Ut(+f),u):n},u.lineX0=u.lineY0=function(){return d().x(t).y(e)},u.lineY1=function(){return d().x(t).y(n)},u.lineX1=function(){return d().x(r).y(e)},u.defined=function(f){return arguments.length?(i=typeof f=="function"?f:Ut(!!f),u):i},u.curve=function(f){return arguments.length?(s=f,o!=null&&(l=s(o)),u):s},u.context=function(f){return arguments.length?(f==null?o=l=null:l=s(o=f),u):o},u}function hp(t){return t<0?-1:1}function pp(t,e,n){var r=t._x1-t._x0,i=e-t._x1,o=(t._y1-t._y0)/(r||i<0&&-0),s=(n-t._y1)/(i||r<0&&-0),l=(o*i+s*r)/(r+i);return(hp(o)+hp(s))*Math.min(Math.abs(o),Math.abs(s),.5*Math.abs(l))||0}function mp(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function Fc(t,e,n){var r=t._x0,i=t._y0,o=t._x1,s=t._y1,l=(o-r)/3;t._context.bezierCurveTo(r+l,i+l*e,o-l,s-l*n,o,s)}function wa(t){this._context=t}wa.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Fc(this,this._t0,mp(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,Fc(this,mp(this,n=pp(this,t,e)),n);break;default:Fc(this,this._t0,n=pp(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}},Object.create(wa.prototype).point=function(t,e){wa.prototype.point.call(this,e,t)};function Sa(t){return new wa(t)}function Rw(t,e,n){const r=Af(t,e);return _c().domain(r).range(n)}function gp(t,e,n){const[r,i]=Af(t,e);if(!(Number.isFinite(r)&&Number.isFinite(i)))return ca().domain([0,0]).range(n);let s;if(r<=0)s=Math.min(0,r);else{const c=i-r,u=(c>0?c:r)*.1;s=Math.max(0,r-u),s===r&&(s=Math.max(0,r*.9))}const l=i??0;return ca().domain([s,l]).nice().range(n)}function $c(t,e,n,r){const i=fp().x(e).y(n);return r?.smooth!==!1&&i.curve(Sa),i(t)??""}function zw(t={}){const e=X.useRef(null),n=X.useMemo(()=>({top:t.top??16,right:t.right??16,bottom:t.bottom??32,left:t.left??48}),[t.bottom,t.left,t.right,t.top]),[r,i]=X.useState({width:0,height:0});X.useLayoutEffect(()=>{if(!e.current)return;const l=new ResizeObserver(c=>{for(const u of c){const{width:d,height:f}=u.contentRect;i({width:d,height:f})}});return l.observe(e.current),()=>l.disconnect()},[]);const o=Math.max(0,r.width-n.left-n.right),s=Math.max(0,r.height-n.top-n.bottom);return{width:r.width,height:r.height,innerWidth:o,innerHeight:s,margin:n,ref:e}}const yp=X.createContext(null);function Pr(){return X.useContext(yp)}const bp=({height:t=240,margin:e,width:n,className:r="fdp-chart",children:i,role:o="group",ariaLabel:s})=>{const l=zw(e),c={height:t,position:"relative"};return n!==void 0&&(c.width=typeof n=="number"?`${n}px`:n),a.jsx("div",{ref:l.ref,className:r,style:c,role:o,"aria-label":s,children:a.jsx(yp.Provider,{value:l,children:i})})},Bc=X.createContext(null),oi=()=>X.useContext(Bc),vp=({series:t,innerWidth:e,innerHeight:n,parseX:r,children:i,xTickCount:o=6,yTickCount:s=5,yDomain:l,xPadding:c,yPadding:u,yBottomGapPx:d})=>{const f=Pr(),p=e??f?.innerWidth??0,h=n??f?.innerHeight??0,y=X.useMemo(()=>t.flatMap(v=>v.data),[t]),m=X.useCallback(v=>{if(r)return r(v);const C=v.x;return C instanceof Date?C:new Date(C)},[r]),g=c??6,N=u??6,M=X.useMemo(()=>Rw(y,m,[g,Math.max(0,p-g)]),[y,m,p,g]),T=X.useMemo(()=>{const v=Math.max(0,d??0),C=Math.max(0,h-(N+v));if(l){const w=gp([],k=>k.y,[C,N]);return w.domain(l),w}return gp(y,w=>w.y,[C,N])},[y,h,l,N,d]),x=X.useMemo(()=>({xScale:M,yScale:T,getXTicks:(v=o)=>M.ticks(v),getYTicks:(v=s)=>T.ticks(v)}),[M,T,o,s]);return a.jsx(Bc.Provider,{value:x,children:i})},jo=16,Do=6,xp=16,_p=4,wp=6,Sp=3,kp=void 0,Oc=({type:t,scale:e,tickCount:n,tickValues:r,formatTick:i,label:o,offset:s,className:l,minLabelSpacing:c,maxTickLabelLength:u,autoMinLabelSpacing:d=t==="x",labelAngle:f=0,allowLabelWrap:p=!0,tickFormatPreset:h,yZeroBreak:y})=>{const m=oi(),g=Pr(),N=e||(t==="x"?m?.xScale:m?.yScale),M=n??(t==="x"?6:5),T=typeof i=="function",x=X.useMemo(()=>{if(T||!h)return;const w=k=>new Intl.DateTimeFormat(void 0,k);switch(h){case"dayShortMonth":return k=>{const b=k instanceof Date?k:new Date(k);return`${b.getDate()}
${w({month:"short"}).format(b)}`};case"dayShortMonthYear":return k=>{const b=k instanceof Date?k:new Date(k);return`${b.getDate()}
${w({month:"short"}).format(b)} ${b.getFullYear()}`};case"shortMonth":return k=>{const b=k instanceof Date?k:new Date(k);return w({month:"short"}).format(b)};case"shortMonthYear":return k=>{const b=k instanceof Date?k:new Date(k);return`${w({month:"short"}).format(b)} ${b.getFullYear()}`};case"hourMinute":return k=>{const b=k instanceof Date?k:new Date(k);return w({hour:"2-digit",minute:"2-digit"}).format(b)};default:return}},[T,h]);let v=T?i:x||(w=>String(w));const C=X.useMemo(()=>r&&Array.isArray(r)?r:N?typeof N.ticks=="function"?N.ticks(M):N.domain?N.domain():[]:[],[N,M,r]);if(t==="x"&&!T&&!h&&C.length&&C.every(w=>w instanceof Date)){const w=C[0],k=C[C.length-1],b=k.getTime()-w.getTime(),_=24*3600*1e3,I=365*_,j=w.getFullYear()===k.getFullYear(),E=new Intl.DateTimeFormat(void 0,{month:"short"});if(b<2*_){const F=new Intl.DateTimeFormat(void 0,{hour:"2-digit",minute:"2-digit"});v=A=>F.format(A)}else if(b<32*_)v=F=>{const A=F;return`${A.getDate()} ${E.format(A)}`};else if(b<I&&j)v=F=>E.format(F);else if(b<2*I){const F=new Set;v=A=>{const P=A,R=P.getMonth();return F.has(R)||F.add(R),`${E.format(P)} ${P.getFullYear()}`}}else v=F=>String(F.getFullYear())}if(!N||!g)return null;if(t==="x"){const w=s??g.innerHeight,k=typeof N.bandwidth=="function",b=k?N.bandwidth():0,_=E=>{const F=N(E);return k?F+b/2:F};let I=c??0;if(d&&c==null){const E=C.map(A=>v(A).replace(/\n.*/g,"")),F=E.length?E.reduce((A,P)=>A+P.length,0)/E.length:0;I=Math.max(12,Math.round(F*6+4))}const j=X.useMemo(()=>{if(r&&Array.isArray(r)||I<=0)return C;const E=[];let F=-1/0;for(const A of C){const P=_(A);P-F>=I&&(E.push(A),F=P)}return E},[C,N,I,r,k,b]);return a.jsxs("g",{className:["fdp-axis","fdp-axis--x",l].filter(Boolean).join(" "),transform:`translate(0,${w})`,fontFamily:"var(--nhs-fdp-font-family-base, var(--fdp-chart-font-family))",children:[a.jsx("line",{x1:0,x2:g.innerWidth,y1:0,y2:0,stroke:"currentColor"}),j.map((E,F)=>{const A=v(E),P=u&&A.length>u?A.slice(0,Math.max(1,u-1))+"â€¦":A,R=p?P.split(/\n/):[P.replace(/\n/g," ")],oe=f<0?"end":f>0?"start":"middle";return a.jsxs("g",{transform:`translate(${_(E)},0)`,children:[a.jsx("line",{y2:6,stroke:"currentColor"}),a.jsxs("text",{y:9,textAnchor:oe,className:"fdp-axis__tick",dominantBaseline:"hanging",transform:f?`rotate(${f})`:void 0,fontFamily:"inherit",children:[R.map((G,D)=>a.jsx("tspan",{x:0,dy:D===0?0:"1.1em",children:G},D)),P!==A&&a.jsx("title",{children:A})]})]},E?.toString?.()||F)})]})}return a.jsxs("g",{className:["fdp-axis","fdp-axis--y",l].filter(Boolean).join(" "),fontFamily:"var(--nhs-fdp-font-family-base, var(--fdp-chart-font-family))",children:[(()=>{const w=!!y?.enabled,k=Math.max(Do,y?.gapPx??jo);if(!w)return a.jsx("line",{x1:0,x2:0,y1:0,y2:g.innerHeight,stroke:"currentColor"});const b=Math.max(0,g.innerHeight-k);return a.jsx("line",{x1:0,x2:0,y1:0,y2:b,stroke:"currentColor"})})(),C.map((w,k)=>{const b=v(w),_=u&&b.length>u?b.slice(0,Math.max(1,u-1))+"â€¦":b,I=p?_.split(/\n/):[_.replace(/\n/g," ")];if(!!y?.enabled){const E=Math.max(Do,y?.gapPx??jo),F=Math.max(0,g.innerHeight-E);if(N(w)>F-1)return null}return a.jsxs("g",{transform:`translate(0,${N(w)})`,children:[a.jsx("line",{x2:-6,stroke:"currentColor"}),a.jsxs("text",{x:-9,dy:"0.32em",textAnchor:"end",className:"fdp-axis__tick",fontFamily:"inherit",children:[I.map((E,F)=>a.jsx("tspan",{x:-9,dy:F===0?0:"1.1em",children:E},F)),_!==b&&a.jsx("title",{children:b})]})]},w?.toString?.()||k)}),!!y?.enabled&&(()=>{const w=Math.max(Do,y?.gapPx??jo),k=g.innerHeight,_=Math.max(0,k-w),I=_,E=Math.max(4,k-I),F=_p,A=wp,P=Math.max(1,Math.round(y?.zigZag?.amplitudePx??F)),R=Math.max(1,Math.round(y?.zigZag?.stepXPx??Sp)),oe=y?.zigZag?.heightPx??kp,G=Math.max(4,Math.round(oe??0));let D,Q;if(y?.zigZag?.heightPx&&y.zigZag.heightPx>0){const ie=Math.max(4,Math.min(E-2,G));D=Math.max(1,Math.floor(ie/(2*P))),Q=Math.max(0,Math.min(ie,D*2*P))}else typeof y?.zigZag?.cycles=="number"&&y?.zigZag?.cycles>0?(D=Math.max(1,Math.round(y.zigZag.cycles)),Q=D*2*P,Q=Math.min(Q,E-2),D=Math.max(1,Math.floor(Q/(2*P)))):(D=A,Q=Math.min(E-2,D*2*P),D=Math.max(1,Math.floor(Q/(2*P))));const Z=I+(E-Q)/2,re=Z+Q;let J="M0,0";const ee=Q>0?Math.max(0,Math.floor((Q-P)/(2*P))):0,de=Math.max(0,(Q-ee*2*P)/2),te=P>0?R*(de/P):0;de>0&&(J+=` l${te},${de}`);for(let ie=0;ie<ee;ie++)J+=` l-${R},${P} l${R},${P}`;return de>0&&(J+=` l-${te},${de}`),a.jsxs("g",{children:[a.jsx("line",{x1:0,x2:0,y1:_,y2:Z,stroke:"currentColor"}),a.jsx("g",{transform:`translate(0,${Z})`,"aria-hidden":"true",children:a.jsx("path",{d:J,stroke:"currentColor",fill:"none"})}),a.jsx("line",{x1:0,x2:0,y1:re,y2:k,stroke:"currentColor"}),a.jsx("g",{transform:`translate(0,${k})`,children:a.jsx("text",{x:-9,dy:"0.32em",textAnchor:"end",className:"fdp-axis__tick",fontFamily:"inherit",children:"0"})})]})})(),o&&a.jsx("text",{transform:"rotate(-90)",x:-g.innerHeight/2,y:-g.margin.left+12,textAnchor:"middle",className:"fdp-axis__label",fontFamily:"inherit",children:o})]})},Cp=({axis:t="y",tickCount:e,stroke:n="var(--fdp-chart-grid,#e5e5e5)",dasharray:r="2 4",className:i})=>{const o=oi(),s=Pr();if(!o||!s)return null;const l=t==="y"?o.getYTicks(e):o.getXTicks(e);return a.jsxs("g",{className:["fdp-grid",i].filter(Boolean).join(" "),children:[t==="y"&&l.map((c,u)=>a.jsx("line",{x1:0,x2:s.innerWidth,y1:o.yScale(c),y2:o.yScale(c),stroke:n,strokeDasharray:r},u)),t==="x"&&l.map((c,u)=>a.jsx("line",{y1:0,y2:s.innerHeight,x1:o.xScale(c),x2:o.xScale(c),stroke:n,strokeDasharray:r},u))]})},Io={color:{"data-viz":{$type:"color",categorical:{1:{$value:"{color.primary.blue}",$description:"Series 1 â€“ NHS Blue (brand core)"},2:{$value:"#41B6E6",$description:"Series 2 â€“ NHS Light Blue (new)"},3:{$value:"{color.secondary.aqua-green}",$description:"Series 3 â€“ NHS Aqua Green (existing)"},4:{$value:"#78BE20",$description:"Series 4 â€“ NHS Light Green (new)"},5:{$value:"{color.primary.green}",$description:"Series 5 â€“ NHS Green (existing)"},6:{$value:"{color.secondary.warm-yellow}",$description:"Series 6 â€“ NHS Warm Yellow (existing; distinct from focus yellow)"},7:{$value:"#ED4F00",$description:"Series 7 â€“ NHS Tangerine (new; warmer/deeper than existing orange)"},8:{$value:"{color.secondary.pink}",$description:"Series 8 â€“ NHS Pink (existing)"},9:{$value:"#E317AA",$description:"Series 9 â€“ NHS Bright Pink (new vivid accent)"},10:{$value:"#880FB8",$description:"Series 10 â€“ NHS Light Purple (new mid purple)"},11:{$value:"{color.primary.purple}",$description:"Series 11 â€“ NHS Purple (existing dark purple)"},12:{$value:"#9A6324",$description:"Series 12 â€“ NHS Brown (new; earth neutral)"}},neutral:{comparison:{$value:"{color.grey.1}",$description:"Neutral comparison series (optional)"}},region:{$comment:"Fixed colours for NHS geographical regions; prefer stable mapping for maps. London colour updated (#78BE21 â€“ light green).","north-east":{$value:"{color.primary.blue}",$description:"North East â€“ NHS Blue"},"north-west":{$value:"#41B6E6",$description:"North West â€“ NHS Light Blue"},"east-of-england":{$value:"{color.primary.purple}",$description:"East of England â€“ NHS Purple"},midlands:{$value:"{color.secondary.pink}",$description:"Midlands â€“ NHS Pink"},london:{$value:"#78BE21",$description:"London â€“ NHS Light Green (new)"},"south-west":{$value:"#FAE100",$description:"South West â€“ NHS Yellow variant (new)"},"south-east":{$value:"#ed8b00",$description:"South East â€“ NHS Orange (existing base orange)"}},severity:{$comment:"Semantic severity / alert colours (light background ramp â†’ critical).",low:{$value:"{color.secondary.pale-yellow}",$description:"Low severity â€“ pale yellow background"},moderate:{$value:"{color.secondary.warm-yellow}",$description:"Moderate severity â€“ warm yellow"},high:{$value:"{color.secondary.orange}",$description:"High severity â€“ orange"},critical:{$value:"{color.primary.red}",$description:"Critical severity â€“ red"}},"org-level":{$comment:"Organisational level semantic colours (stable NHS brand mappings).",trust:{$value:"{color.primary.blue}",$description:"Trust â€“ NHS Blue"},ambulance:{$value:"{color.primary.green}",$description:"Ambulance â€“ NHS Green"},icb:{$value:"{color.primary.dark-pink}",$description:"ICB â€“ NHS Dark Pink"},region:{$value:"{color.primary.purple}",$description:"Region â€“ NHS Purple"}},stroke:{$comment:"Automatic contrast stroke colours for overlays / borders. Light fills get dark stroke; dark fills get white stroke.",categorical:{1:{$value:"#ffffff",$description:"Stroke for series 1 (blue)"},2:{$value:"#212b32",$description:"Stroke for series 2 (light blue)"},3:{$value:"#212b32",$description:"Stroke for series 3 (aqua green)"},4:{$value:"#212b32",$description:"Stroke for series 4 (light green)"},5:{$value:"#ffffff",$description:"Stroke for series 5 (green)"},6:{$value:"#212b32",$description:"Stroke for series 6 (warm yellow)"},7:{$value:"#ffffff",$description:"Stroke for series 7 (tangerine)"},8:{$value:"#ffffff",$description:"Stroke for series 8 (pink)"},9:{$value:"#ffffff",$description:"Stroke for series 9 (bright pink)"},10:{$value:"#ffffff",$description:"Stroke for series 10 (light purple)"},11:{$value:"#ffffff",$description:"Stroke for series 11 (purple)"},12:{$value:"#ffffff",$description:"Stroke for series 12 (brown)"}},region:{$comment:"Region stroke colours derived from fill colours: dark fills lightened ~35%; light fills darkened ~25% for consistent contrast without defaulting to pure white/black.","north-east":{$value:"#5996D1",$description:"Stroke for North East (blue lightened 35%)"},"north-west":{$value:"#3189AD",$description:"Stroke for North West (light blue darkened 25%)"},"east-of-england":{$value:"#7A59A3",$description:"Stroke for East of England (purple lightened 35%)"},midlands:{$value:"#CA71A4",$description:"Stroke for Midlands (pink lightened 35%)"},london:{$value:"#5A8F19",$description:"Stroke for London (light green darkened 25%)"},"south-west":{$value:"#BCA900",$description:"Stroke for South West (yellow darkened 25%)"},"south-east":{$value:"#B26800",$description:"Stroke for South East (orange darkened 25%)"}},severity:{$comment:"Contrast strokes for severity colours (light backgrounds use dark stroke; dark backgrounds use white).",low:{$value:"#212b32",$description:"Stroke for low severity (pale yellow fill)"},moderate:{$value:"#212b32",$description:"Stroke for moderate severity (warm yellow fill)"},high:{$value:"#212b32",$description:"Stroke for high severity (orange fill)"},critical:{$value:"#ffffff",$description:"Stroke for critical severity (red fill)"}},"org-level":{$comment:"Contrast strokes for organisational level colours (all dark brand fills so white stroke for consistency).",trust:{$value:"#ffffff",$description:"Stroke for trust (blue fill)"},ambulance:{$value:"#ffffff",$description:"Stroke for ambulance (green fill)"},icb:{$value:"#ffffff",$description:"Stroke for ICB (dark pink fill)"},region:{$value:"#ffffff",$description:"Stroke for region (purple fill)"}}},spc:{$comment:"SPC (Statistical Process Control) semantic variation colours aligned to SPCChart.scss and SPCIcons.",improvement:{$value:"#00B0F0",$description:"SPC special cause improvement (favourable)"},concern:{$value:"#E46C0A",$description:"SPC special cause concern (deteriorating)"},"no-judgement":{$value:"#490092",$description:"SPC special cause (no directional judgement)"},"common-cause":{$value:"#A6A6A6",$description:"SPC common cause (baseline variation)"},"assurance-pass":{$value:"#00823B",$description:"SPC assurance pass indicator (process capable)"},"assurance-fail":{$value:"#DA291C",$description:"SPC assurance fail indicator (process not capable)"},gradient:{$comment:"Opacity stops for SPC icon gradient wash (applied top-left -> bottom-right). Consumers build gradients using these opacities + base colour.",stop:{"start-opacity":{$value:"0.18",$description:"Start stop opacity (0%) for classic variant wash"},"mid-opacity":{$value:"0.06",$description:"Mid stop opacity (~65-75%)"},"end-opacity":{$value:"0",$description:"End stop opacity (100%)"},"triangle-start-opacity":{$value:"0.18",$description:"Start opacity for triangle variants (kept aligned)"},"triangle-mid-opacity":{$value:"0.06",$description:"Mid opacity for triangle variants"},"triangle-end-opacity":{$value:"0",$description:"End opacity for triangle variants"}}},stroke:{$comment:"Contrast stroke colours for SPC variation fills.",improvement:{$value:"#000000",$description:"Stroke for improvement points"},concern:{$value:"#000000",$description:"Stroke for concern points"},"no-judgement":{$value:"#000000",$description:"Stroke for no-judgement points"},"common-cause":{$value:"#ffffff",$description:"Stroke for common cause points"},"assurance-pass":{$value:"#000000",$description:"Stroke for assurance pass points"},"assurance-fail":{$value:"#000000",$description:"Stroke for assurance fail points"}}}}}},ka={color:{primary:{$type:"color",blue:{$value:"#005eb8",$description:"NHS Blue - Primary brand color"},"blue-active":{$value:"#002f5c",$description:"NHS Active Blue (50% shade) â€“ alias of button/login active; promoted for general reuse"},white:{$value:"#ffffff",$description:"NHS White"},black:{$value:"#212b32",$description:"NHS Black"},green:{$value:"#007f3b",$description:"NHS Green"},purple:{$value:"#330072",$description:"NHS Purple"},"dark-pink":{$value:"#7c2855",$description:"NHS Dark Pink"},red:{$value:"#d5281b",$description:"NHS Red"},"light-purple":{$value:"#880FB8",$description:"NHS Light Purple (data viz promoted)"},yellow:{$value:"#ffeb3b",$description:"NHS Yellow"}},secondary:{$type:"color","pale-yellow":{$value:"#fff9c4",$description:"NHS Pale Yellow"},"warm-yellow":{$value:"#ffb81c",$description:"NHS Warm Yellow"},"region-yellow":{$value:"#FAE100",$description:"NHS Region Yellow (maps)"},orange:{$value:"#ed8b00",$description:"NHS Orange"},tangerine:{$value:"#ED4F00",$description:"NHS Tangerine (data viz promoted)"},"aqua-green":{$value:"#00a499",$description:"NHS Aqua Green"},"light-blue":{$value:"#41B6E6",$description:"NHS Light Blue (data viz promoted)"},pink:{$value:"#ae2573",$description:"NHS Pink"},"bright-pink":{$value:"#E317AA",$description:"NHS Bright Pink (data viz promoted)"},"light-green":{$value:"#78BE20",$description:"NHS Light Green (data viz promoted)"},brown:{$value:"#9A6324",$description:"NHS Brown (data viz promoted neutral)"}},grey:{1:{$value:"#4c6272",$description:"NHS Grey 1 - Darkest grey"},2:{$value:"#768692",$description:"NHS Grey 2 - Darker grey"},3:{$value:"#aeb7bd",$description:"NHS Grey 3 - Medium grey"},4:{$value:"#d8dde0",$description:"NHS Grey 4 - Light grey"},5:{$value:"#f0f4f5",$description:"NHS Grey 5 - Lightest grey"},$type:"color"},accessibility:{$type:"color",$comment:"Accessibility-oriented color tokens. Includes CVD-safe pairs and Okabeâ€“Ito colors. Use these for positive/negative semantics and colour-blindâ€“friendly defaults.","okabe-ito":{green:{$value:"#009E73",$description:"Okabeâ€“Ito green (CVD-safe) â€“ recommended positive"},vermillion:{$value:"#D55E00",$description:"Okabeâ€“Ito vermillion / redâ€“orange (CVD-safe) â€“ recommended negative"}},"cvd-safe":{blue:{$value:"#1f77b4",$description:"CVD-safe blue (pairs with orange); widely used in Matplotlib/Tableau sets"},orange:{$value:"#ff7f0e",$description:"CVD-safe orange (pairs with blue)"}},positive:{$value:"{color.accessibility.okabe-ito.green}",$description:"Accessibility semantic alias â€“ positive"},negative:{$value:"{color.accessibility.okabe-ito.vermillion}",$description:"Accessibility semantic alias â€“ negative"}}}},Hw=["#005eb8","#0072ce","#41b6e6","#00a499","#7c2855","#330072","#d5281b","#ffb81c","#fae100","#4c6272","#768692","#aeb7bd"];let Rc=null,zc=null,Hc=null,Np="optimized";function Uw(){const t={color:{...ka.color,...Io.color}},e=(r,i=new Set)=>{if(i.has(r))return;i.add(r);const o=r.split(".").reduce((l,c)=>l?l[c]:void 0,t);if(!o)return;const s=o.$value||o.value;if(typeof s=="string"&&/^\{.+\}$/.test(s))return e(s.slice(1,-1),i);if(typeof s=="string")return s},n=[];try{for(let r=1;r<=12;r++){const i=`color.data-viz.categorical.${r}`,o=e(i);if(!o)throw new Error(`Missing token ${i}`);n.push(o)}return n}catch{return Hw}}function Ww(){return Rc||(Rc=Uw()),Rc}function Gw(t){const e=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(t.trim());return e?{r:parseInt(e[1],16),g:parseInt(e[2],16),b:parseInt(e[3],16)}:null}function Uc(t){return t/=255,t<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}function Yw(t,e,n){const r=Uc(t),i=Uc(e),o=Uc(n),s=r*.4124+i*.3576+o*.1805,l=r*.2126+i*.7152+o*.0722,c=r*.0193+i*.1192+o*.9505;return{x:s*100,y:l*100,z:c*100}}function Vw(t,e,n){let s=t/95.047,l=e/100,c=n/108.883;const u=d=>d>.008856?Math.cbrt(d):7.787*d+16/116;return s=u(s),l=u(l),c=u(c),{L:116*l-16,a:500*(s-l),b:200*(l-c)}}function Mp(t){const e=Gw(t);if(!e)return null;const n=Yw(e.r,e.g,e.b);return Vw(n.x,n.y,n.z)}function Tp(t,e){const n=t.L-e.L,r=t.a-e.a,i=t.b-e.b;return Math.sqrt(n*n+r*r+i*i)}function Zw(){const t=Ww();if(t.length<=2)return t.slice();const e=t.map(s=>Mp(s));let n=0,r=-1;for(let s=0;s<t.length;s++){const l=e[s];if(!l)continue;let c=0,u=0;for(let f=0;f<t.length;f++)s!==f&&e[f]&&(c+=Tp(l,e[f]),u++);const d=c/Math.max(1,u);d>r&&(r=d,n=s)}const i=new Set(t.map((s,l)=>l)),o=[];for(o.push(n),i.delete(n);i.size;){let s=Array.from(i)[0],l=-1;for(const c of i){const u=e[c];if(!u)continue;let d=1/0;for(const f of o){const p=e[f];if(p){const h=Tp(u,p);h<d&&(d=h)}}d>l&&(l=d,s=c)}o.push(s),i.delete(s)}return o.map(s=>t[s])}function qw(){return zc||(zc=Zw()),zc}function Xw(t,e,n){const r=(t+16)/116,i=e/500+r,o=r-n/200,s=d=>{const f=d*d*d;return f>.008856?f:(d-16/116)/7.787},l=s(i)*95.047,c=s(r)*100,u=s(o)*108.883;return{X:l,Y:c,Z:u}}function Jw(t,e,n){t/=100,e/=100,n/=100;let r=t*3.2406+e*-1.5372+n*-.4986,i=t*-.9689+e*1.8758+n*.0415,o=t*.0557+e*-.204+n*1.057;const s=l=>l<=.0031308?12.92*l:1.055*Math.pow(l,1/2.4)-.055;return r=Math.min(1,Math.max(0,s(r))),i=Math.min(1,Math.max(0,s(i))),o=Math.min(1,Math.max(0,s(o))),{r:Math.round(r*255),g:Math.round(i*255),b:Math.round(o*255)}}function Kw(t,e,n){return`#${[t,e,n].map(r=>r.toString(16).padStart(2,"0")).join("")}`}function Qw(t,e){const n=Mp(t);if(!n)return t;const r=Math.min(100,Math.max(0,n.L+e)),{X:i,Y:o,Z:s}=Xw(r,n.a,n.b),l=Jw(i,o,s);return Kw(l.r,l.g,l.b)}function eS(){const t=qw(),n=[12,-12,24,-24].map(i=>t.map(o=>Qw(o,i))),r=[...t];return n.forEach(i=>r.push(...i)),r}function tS(){return(!Hc||nS())&&(Hc=eS(),jp=Np),Hc}let jp=null;function nS(){return jp!==Np}function Zn(t){const e=tS();return e[t%e.length]}let Ri=null,Lo=null,Po=null,Ao=null;function rS(){const t=Io?.color?.["data-viz"]?.stroke;if(t){const e=t.categorical||{};Ri=[];for(let o=1;o<=12;o++){const s=e[String(o)]?.$value||e[String(o)]?.value;Ri.push(typeof s=="string"?s:"#212b32")}const n=t.region||{};Lo={},Object.keys(n).forEach(o=>{const s=n[o]?.$value||n[o]?.value;typeof s=="string"&&(Lo[o]=s)});const r=t.severity||{},i=t["org-level"]||{};Ao={},Object.keys(i).forEach(o=>{const s=i[o]?.$value||i[o]?.value;typeof s=="string"&&(Ao[o]=s)}),Po={},Object.keys(r).forEach(o=>{const s=r[o]?.$value||r[o]?.value;typeof s=="string"&&(Po[o]=s)})}}function Ca(){(!Ri||!Lo||!Po||!Ao)&&rS()}function si(t){return Ca(),Ri?Ri[t%Ri.length]:"#212b32"}function iS(t){return Ca(),Lo?Lo[t]:void 0}function Na(t,e){return iS(t)||si(e)}const Wc=["low","moderate","high","critical"];let Gc=null;function oS(){const t={color:{...ka.color,...Io.color}},e=(r,i=new Set)=>{if(i.has(r))return;i.add(r);const o=r.split(".").reduce((l,c)=>l?l[c]:void 0,t);if(!o)return;const s=o.$value||o.value;return typeof s=="string"&&/^\{.+\}$/.test(s)?e(s.slice(1,-1),i):typeof s=="string"?s:void 0},n={};return Wc.forEach(r=>{const i=e(`color.data-viz.severity.${r}`);i&&(n[r]=i)}),n}function Dp(){return Gc||(Gc=oS()),Gc}function sS(t){return Dp()[t.toLowerCase()]}function aS(t,e){return sS(t)||Dp()[Wc[e%Wc.length]]||Zn(e)}function lS(t){return Ca(),Po?Po[t]:void 0}function cS(t,e){return lS(t)||si(e)}const Yc=["trust","ambulance","icb","region"];let Vc=null;function uS(){const t={color:{...ka.color,...Io.color}},e=(r,i=new Set)=>{if(i.has(r))return;i.add(r);const o=r.split(".").reduce((l,c)=>l?l[c]:void 0,t);if(!o)return;const s=o.$value||o.value;return typeof s=="string"&&/^\{.+\}$/.test(s)?e(s.slice(1,-1),i):typeof s=="string"?s:void 0},n={};return Yc.forEach(r=>{const i=e(`color.data-viz.org-level.${r}`);i&&(n[r]=i)}),n}function Ip(){return Vc||(Vc=uS()),Vc}function dS(t){return Ip()[t.toLowerCase()]}function fS(t,e){return dS(t)||Ip()[Yc[e%Yc.length]]||Zn(e)}function hS(t){return Ca(),Ao?Ao[t]:void 0}function pS(t,e){return hS(t)||si(e)}let Zc=null;const mS=["north-east","north-west","east-of-england","midlands","london","south-west","south-east"];function gS(t){return t.trim().toLowerCase().replace(/&/g,"and").replace(/[^a-z0-9]+/g,"-").replace(/^-+|-+$/g,"")}function yS(){const t={color:{...ka.color,...Io.color}},e=(i,o=new Set)=>{if(o.has(i))return;o.add(i);const s=i.split(".").reduce((c,u)=>c?c[u]:void 0,t);if(!s)return;const l=s.$value||s.value;return typeof l=="string"&&/^\{.+\}$/.test(l)?e(l.slice(1,-1),o):typeof l=="string"?l:void 0},n={},r=[];return mS.forEach(i=>{const o=e(`color.data-viz.region.${i}`);o?n[i]=o:r.push(i)}),process.env.NODE_ENV!=="production"&&(Object.keys(n).length===0?console.warn("[DataViz] Region colour tokens unresolved  falling back to categorical colours."):r.length&&console.warn(`[DataViz] Missing region colour tokens: ${r.join(", ")}.`)),n}function bS(){return Zc||(Zc=yS()),Zc}function vS(t){return bS()[gS(t)]}function zi(t,e){return vS(t)||Zn(e)}const Lp=X.createContext(null),Eo=()=>X.useContext(Lp),xS=({initialHiddenIds:t=[],children:e,hiddenIds:n,onChange:r})=>{const[i,o]=X.useState(()=>new Set(t)),s=n!==void 0,l=X.useMemo(()=>s?new Set(n):i,[s,n,i]),c=X.useCallback(d=>{s||o(new Set(d)),r?.(Array.from(d))},[s,r]),u=X.useMemo(()=>({hiddenIds:l,isHidden:d=>l.has(d),toggle:d=>{const f=new Set(l);f.has(d)?f.delete(d):f.add(d),c(f)},showOnly:d=>{c(new Set)},showAll:()=>c(new Set),setHidden:d=>c(new Set(Array.isArray(d)?d:Array.from(d)))}),[l,c]);return a.jsx(Lp.Provider,{value:u,children:e})},Pp=X.createContext(null),vr=()=>X.useContext(Pp),Ap=({children:t,maxDistance:e=40,wrapAround:n=!1})=>{const r=oi(),i=Eo(),[o,s]=X.useState(null),l=X.useRef(new Map),[c,u]=X.useState([]),d=X.useCallback((w,k)=>{l.current.set(w,k)},[]),f=X.useCallback(w=>{l.current.delete(w)},[]),p=X.useCallback((w,k)=>{if(!r)return;const{xScale:b,yScale:_}=r;let I=null,j=1/0;l.current.forEach((E,F)=>{E.forEach((A,P)=>{const R=b(A.x),oe=_(A.y),G=R-w,D=oe-k,Q=Math.sqrt(G*G+D*D);Q<j&&(j=Q,I={seriesId:F,index:P,x:A.x,y:A.y,clientX:R,clientY:oe})})}),I&&j<=e?s(I):s(null)},[r,e]),h=X.useCallback(()=>s(null),[]);X.useEffect(()=>{if(!o){u([]);return}if(!r)return;const{xScale:w,yScale:k}=r,b=[];l.current.forEach((_,I)=>{_.forEach((j,E)=>{(o.x instanceof Date&&j.x instanceof Date?j.x.getTime()===o.x.getTime():j.x===o.x)&&b.push({seriesId:I,index:E,x:j.x,y:j.y,clientX:w(j.x),clientY:k(j.y)})})}),b.sort((_,I)=>_.seriesId.localeCompare(I.seriesId)),u(b)},[o,r]);const y=X.useCallback(w=>{if(!o)return;const k=l.current.get(o.seriesId);if(!k)return;let b=o.index+w;if(b<0||b>=k.length){if(!n)return;b=(b+k.length)%k.length}const _=k[b];if(!r)return;const{xScale:I,yScale:j}=r;s({seriesId:o.seriesId,index:b,x:_.x,y:_.y,clientX:I(_.x),clientY:j(_.y)})},[o,r,n]),m=X.useCallback(w=>{let k=Array.from(l.current.keys());if(i&&(k=k.filter(R=>!i.isHidden(R))),k.length===0)return;if(!o){const R=k[0],oe=l.current.get(R);if(!oe||!r)return;const{xScale:G,yScale:D}=r,Q=oe[0];s({seriesId:R,index:0,x:Q.x,y:Q.y,clientX:G(Q.x),clientY:D(Q.y)});return}const b=k.indexOf(o.seriesId);if(b===-1)return;let _=b+w;if(_<0||_>=k.length){if(!n)return;_=(_+k.length)%k.length}const I=k[_],j=l.current.get(I);if(!j||!r)return;const E=Math.min(o.index,j.length-1),F=j[E],{xScale:A,yScale:P}=r;s({seriesId:I,index:E,x:F.x,y:F.y,clientX:A(F.x),clientY:P(F.y)})},[o,r,n,i]),g=X.useCallback(()=>{let w=Array.from(l.current.keys());if(i&&(w=w.filter(E=>!i.isHidden(E))),w.length===0)return;const k=o?o.seriesId:w[0],b=l.current.get(k);if(!b||b.length===0||!r)return;const _=b[0],{xScale:I,yScale:j}=r;s({seriesId:k,index:0,x:_.x,y:_.y,clientX:I(_.x),clientY:j(_.y)})},[o,r,i]),N=X.useCallback(()=>{let w=Array.from(l.current.keys());if(i&&(w=w.filter(F=>!i.isHidden(F))),w.length===0)return;const k=o?o.seriesId:w[0],b=l.current.get(k);if(!b||b.length===0||!r)return;const _=b.length-1,I=b[_],{xScale:j,yScale:E}=r;s({seriesId:k,index:_,x:I.x,y:I.y,clientX:j(I.x),clientY:E(I.y)})},[o,r,i]),M=X.useCallback(()=>y(1),[y]),T=X.useCallback(()=>y(-1),[y]),x=X.useCallback(()=>m(1),[m]),v=X.useCallback(()=>m(-1),[m]),C=X.useMemo(()=>({focused:o,setFocused:s,aggregated:c,focusNearest:p,clear:h,registerSeries:d,unregisterSeries:f,focusNextPoint:M,focusPrevPoint:T,focusNextSeries:x,focusPrevSeries:v,focusFirstPoint:g,focusLastPoint:N}),[o,c,p,h,d,f,M,T,x,v,g,N]);return a.jsx(Pp.Provider,{value:C,children:t})},Ep=({series:t,seriesIndex:e,palette:n,showPoints:r,focusablePoints:i,focusIndex:o,parseX:s,visibilityMode:l="remove",strokeWidth:c=1,smooth:u=!0,gradientFillId:d,colors:f})=>{const p=oi();if(!p)return null;const{xScale:h,yScale:y}=p,g=Eo()?.isHidden(t.id)??!1,N=g&&l==="fade";if(g&&l==="remove")return null;const M=vr();X.useEffect(()=>{if(!M)return;const k=t.data.map(b=>({x:s(b),y:b.y}));return M.registerSeries(t.id,k),()=>M.unregisterSeries(t.id)},[M,t.id,t.data,s]);const T=X.useMemo(()=>$c(t.data,k=>h(s(k)),k=>y(k.y),{smooth:u}),[t.data,h,y,s,u]),x=X.useMemo(()=>{if(!t.data.length)return"";const[k]=y.domain(),b=Ec().x(_=>h(s(_))).y0(()=>y(k)).y1(_=>y(_.y));return u&&b.curve(Sa),b(t.data)||""},[t.data,h,y,s,u]),v=f&&f[e],C=t.color||v||(n==="region"?zi(t.id,e):Zn(e)),w=n==="region"?Na(t.id,e):si(e);return a.jsxs("g",{className:"fdp-line-series","data-series":t.id,opacity:N?.25:1,"aria-hidden":N?!0:void 0,children:[d&&a.jsx("path",{d:x,fill:`url(#${d})`,stroke:"none",role:"presentation",className:"fdp-line-series__gradient"}),a.jsx("path",{d:T,fill:"none",stroke:C,strokeWidth:c,role:"presentation"}),r&&t.data.map((k,b)=>{const _=h(s(k)),I=y(k.y),j=i?0:-1,E=!N&&(i&&b===o||M?.focused?.seriesId===t.id&&M.focused.index===b),F=()=>{M&&!N&&M.setFocused({seriesId:t.id,index:b,x:s(k),y:k.y,clientX:_,clientY:I})},A=()=>{M&&M.focused?.seriesId===t.id&&M.focused.index===b&&M.clear()};return a.jsx("circle",{cx:_,cy:I,r:E?5:3.5,stroke:E?"var(--nhs-fdp-color-primary-yellow, #ffeb3b)":w,strokeWidth:E?2:1,fill:E?"var(--nhs-fdp-color-grey-3, #aeb7bd)":C,className:"fdp-line-point",tabIndex:N?-1:j,"aria-label":`${t.label||t.id} ${s(k).toDateString()} value ${k.y}`,"data-series":t.id,"data-index":b,onMouseEnter:F,onFocus:F,onMouseLeave:A,onBlur:A},b)})]})},_S=({polite:t=!0,format:e})=>{const n=vr(),[r,i]=X.useState(""),o=X.useRef("");return X.useEffect(()=>{if(!n?.focused)return;const{focused:s,aggregated:l}=n;let c;if(l&&l.length>1){const u=l.map(f=>`${f.seriesId} ${f.y}`).join("; ");c=`${s.x instanceof Date?s.x.toDateString():String(s.x)} â€“ ${u}`}else c=e?e({seriesId:s.seriesId,x:s.x,y:s.y,index:s.index}):wS(s.seriesId,s.x,s.y,s.index);if(c!==o.current){o.current=c,i("");const u=setTimeout(()=>i(c),10);return()=>clearTimeout(u)}},[n?.focused,e]),a.jsx("div",{"aria-live":t?"polite":"assertive","aria-atomic":"true",style:{position:"absolute",width:1,height:1,margin:-1,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",border:0},children:r})};function wS(t,e,n,r){const i=e instanceof Date?e.toDateString():String(e);return`Series ${t}, point ${r+1}, ${i}, value ${n}`}const SS=()=>{const t=vr(),e=Pr();if(!t||!e||!t.focused)return null;const{focused:n,aggregated:r}=t,{innerWidth:i,innerHeight:o}=e,s=Math.min(Math.max(n.clientX,0),i),l=Math.min(Math.max(n.clientY,0),o),c=s+8,u=l-8,d=r.length>1,f=n.x instanceof Date?n.x.toDateString():String(n.x),p=d?f:`${f} â€¢ ${n.y}`,h=/\d+$/.exec(n.seriesId||""),y=h?parseInt(h[0],10)-1:0,m=Zn(y>=0?y:0)||"#005eb8",g="var(--nhs-fdp-color-primary-yellow,#ffeb3b)";return a.jsxs("g",{className:"fdp-tooltip-layer",pointerEvents:"none",children:[a.jsx("circle",{cx:s,cy:l,r:7,fill:"none",stroke:g,strokeWidth:3}),a.jsx("circle",{cx:s,cy:l,r:5,fill:"#000",stroke:g,strokeWidth:1.5}),a.jsx("circle",{cx:s,cy:l,r:2.5,fill:m,stroke:"#fff",strokeWidth:.5}),d?(()=>{const M=r.map(w=>`${w.seriesId}: ${w.y}`),T=[p,...M],x=T.reduce((w,k)=>Math.max(w,k.length),0),v=Math.max(90,x*6.2+16),C=16*T.length+8;return a.jsxs("g",{children:[a.jsx("rect",{x:c,y:u-C,rx:4,ry:4,width:v,height:C,fill:"#212b32",opacity:.92}),T.map((w,k)=>a.jsx("text",{x:c+8,y:u-C+6+16*(k+.7),fill:"#fff",fontSize:12,children:w},k))]})})():a.jsxs("g",{children:[a.jsx("rect",{x:c,y:u-24,rx:4,ry:4,width:Math.max(60,p.length*6.2),height:24,fill:"#212b32",opacity:.92}),a.jsx("text",{x:c+8,y:u-8,fill:"#fff",fontSize:12,children:p})]})]})},kS=({items:t,palette:e="categorical",direction:n="row",interactive:r=!1,adjustStrokeForWhiteBackground:i=!0,hiddenIds:o,defaultHiddenIds:s=[],onVisibilityChange:l,formatAnnouncement:c})=>{const u=Eo(),d=!!(u&&!r&&!l&&o===void 0),f=r||d,p=t||[],h=o!==void 0,[y,m]=X.useState(new Set(s)),g=h?new Set(o):y,[N,M]=X.useState(""),T=x=>{if(d&&u){const j=u.isHidden(x);u.toggle(x);const F=p.find(P=>P.id===x)?.label||x,A=c?c(x,j,F):`${F} ${j?"shown":"hidden"}`;M(A);return}if(!f)return;const v=new Set(g),C=v.has(x);C?v.delete(x):v.add(x),h||m(v);const w=p.filter(j=>!v.has(j.id)).map(j=>j.id),k=Array.from(v);l?.(w,k);const _=p.find(j=>j.id===x)?.label||x,I=c?c(x,C,_):`${_} ${C?"shown":"hidden"}`;M(I)};return a.jsxs("div",{className:"fdp-legend-wrapper",children:[a.jsx("ul",{className:`fdp-legend fdp-legend--${n}`,children:p.map((x,v)=>{const C=x.palette||e,w=x.color||(C==="region"?zi(x.id,v):C==="severity"?aS(x.id,v):C==="org-level"?fS(x.id,v):Zn(v));let k=x.stroke||(C==="region"?Na(x.id,v):C==="severity"?cS(x.id,v):C==="org-level"?pS(x.id,v):si(v));if(i&&k){const I=k.trim().toLowerCase();(I==="#fff"||I==="#ffffff"||I==="white"||/^rgb\(\s*255\s*,\s*255\s*,\s*255\s*\)$/.test(I))&&(k="#212b32")}const b=d&&u?u.isHidden(x.id):g.has(x.id),_=f?{"aria-pressed":!b,"aria-label":`${x.label} (${b?"show":"hide"})`,onClick:()=>T(x.id)}:{"aria-label":x.label};return a.jsxs("li",{className:`fdp-legend__item${b?" fdp-legend__item--hidden":""}`,children:[a.jsx("button",{type:"button",className:"fdp-legend__swatch",style:{backgroundColor:w,backgroundImage:x.patternDataUrl?`url(${x.patternDataUrl})`:void 0,backgroundSize:x.patternDataUrl?"auto":void 0,borderColor:k},..._}),a.jsx("span",{className:"fdp-legend__label",children:x.label})]},x.id)})}),f&&a.jsx("div",{className:"fdp-visually-hidden","aria-live":"polite","aria-atomic":"true",children:N})]})},CS=({series:t,seriesIndex:e,palette:n,parseX:r,areaOnly:i=!1,visibilityMode:o="remove",baselineY:s=0,smooth:l=!0,stacked:c,gradientFill:u=!0,colors:d})=>{const f=oi();if(!f)return null;const{xScale:p,yScale:h}=f,m=Eo()?.isHidden(t.id)??!1,g=m&&o==="fade";if(m&&o==="remove")return null;const N=vr();X.useEffect(()=>{if(!N)return;const w=t.data.map(k=>({x:r(k),y:k.y}));return N.registerSeries(t.id,w),()=>N.unregisterSeries(t.id)},[N,t.id,t.data,r]);const M=d&&d[e],T=t.color||M||(n==="region"?zi(t.id,e):Zn(e)),x=X.useMemo(()=>c&&c.length===t.data.length?$c(t.data,w=>p(r(w)),w=>{const k=t.data.indexOf(w);return h(c[k].y1)},{smooth:l}):$c(t.data,w=>p(r(w)),w=>h(w.y),{smooth:l}),[t.data,c,p,h,r,l]),v=X.useMemo(()=>{if(c&&c.length===t.data.length){const I=Ec().x(j=>p(r(j))).y0((j,E)=>h(c[E].y0)).y1((j,E)=>h(c[E].y1));return l&&I.curve(Sa),I(t.data)||""}const[w,k]=h.domain();let b=s;b<w?b=w:b>k&&(b=k);const _=Ec().x(I=>p(r(I))).y0(()=>h(b)).y1(I=>h(I.y));return l&&_.curve(Sa),_(t.data)||""},[t.data,c,p,h,r,s,l]),C=X.useId();return a.jsxs("g",{className:"fdp-area-series","data-series":t.id,opacity:g?.25:1,"aria-hidden":g?!0:void 0,children:[u&&a.jsx("defs",{children:a.jsxs("linearGradient",{id:C,x1:"0%",y1:"0%",x2:"0%",y2:"100%",children:[a.jsx("stop",{offset:"0%",stopColor:T,stopOpacity:.25}),a.jsx("stop",{offset:"100%",stopColor:T,stopOpacity:0})]})}),a.jsx("path",{className:"fdp-area-series__fill",d:v,fill:u?`url(#${C})`:T,...u?{}:{fillOpacity:.25},stroke:"none"}),!i&&a.jsx("path",{d:x,fill:"none",stroke:T,strokeWidth:1})]})},NS=({series:t,seriesIndex:e,seriesCount:n,palette:r,parseX:i,focusable:o=!0,widthFactor:s=.8,groupGap:l=2,barWidth:c,adaptive:u=!1,adaptiveGroupOccupancy:d=.9,visibilityMode:f="remove",colorMode:p="series",allSeries:h,stacked:y,gapRatio:m=.15,minBarWidth:g,gradientFill:N=!0,gradientStrokeMatch:M=!0,opacity:T=1,fadedOpacity:x=.25,flatFillOpacity:v=1,colors:C})=>{const w=Math.max(0,m),k=oi(),b=Pr();if(!k||!b)return null;const{xScale:_,yScale:I}=k,E=Eo()?.isHidden(t.id)??!1,F=E&&f==="fade";if(E&&f==="remove")return null;const A=vr();X.useEffect(()=>{if(!A)return;const K=t.data.map(ae=>({x:i(ae),y:ae.y}));return A.registerSeries(t.id,K),()=>A.unregisterSeries(t.id)},[A,t.id,t.data,i]);const P=typeof _.bandwidth=="function",R=P?_.bandwidth():void 0,oe=X.useMemo(()=>{if(R!=null)return R;const K=h&&h.length?h:[t],ae=[];K.forEach(ce=>{ce.data.forEach(ge=>{const pe=_(i(ge));Number.isFinite(pe)&&ae.push(pe)})});const me=ae.sort((ce,ge)=>ce-ge);if(me.length<=1)return 40;const Y=[];for(let ce=1;ce<me.length;ce++)Y.push(me[ce]-me[ce-1]);return Y.sort((ce,ge)=>ce-ge),(Y[Math.floor(Y.length/2)]||40)*s},[t.data,h,_,i,s,R]),{basePerBar:G}=X.useMemo(()=>{if(P){const me=oe,Y=Math.max(1,(me-l*(n-1))/n),le=t.barWidth??c;let ce=le?Math.min(le,me):Y;if(u){const ge=me*Math.min(1,Math.max(.05,d)),pe=Math.max(1,(ge-l*(n-1))/n);ce=le?Math.min(ce,pe):pe}return{basePerBar:ce}}const K=t.barWidth??c,ae=Math.max(1,(oe-l*(n-1))/n);if(u){const me=h&&h.length?h:[t],Y=[];me.forEach(Ee=>Ee.data.forEach(Pe=>{const je=_(i(Pe));Number.isFinite(je)&&Y.push(je)})),Y.sort((Ee,Pe)=>Ee-Pe);const le=[];for(let Ee=1;Ee<Y.length;Ee++)le.push(Y[Ee]-Y[Ee-1]);le.sort((Ee,Pe)=>Ee-Pe);const ge=(le[Math.floor(le.length/2)]||oe)*Math.min(1,Math.max(.05,d)),pe=Math.max(1,(ge-l*(n-1))/n);return{basePerBar:K?Math.min(K,pe):pe}}return K?{basePerBar:Math.min(K,ae)}:{basePerBar:ae}},[P,oe,l,n,c,t.barWidth,u,d,h,_,i]),D=X.useMemo(()=>{if(P)return[];const K=[];return(h&&h.length?h:[t]).forEach(me=>me.data.forEach(Y=>{const le=_(i(Y));Number.isFinite(le)&&K.push(le)})),K.sort((me,Y)=>me-Y),Array.from(new Set(K))},[P,h,t,_,i]),Q=X.useMemo(()=>{if(P)return[];if(!D.length)return[];if(D.length===1)return[{center:D[0],left:0,right:b.innerWidth}];const K=[];for(let ae=0;ae<D.length;ae++){const me=D[ae],Y=ae===0?0:(D[ae-1]+me)/2,le=ae===D.length-1?b.innerWidth:(me+D[ae+1])/2;K.push({center:me,left:Math.max(0,Y),right:Math.min(b.innerWidth,le)})}return K},[P,D,b.innerWidth]),Z=X.useMemo(()=>{if(P||!Q.length)return;const K=Math.min(1,Math.max(.05,s)),ae=Q.map(ge=>Math.max(2,ge.right-ge.left)),me=ae.map(ge=>Math.max(2,Math.min(ge-1,ge*K)));let Y=Math.min(...me);if(g)if(n<=1){const ge=Math.min(...ae.map(pe=>pe-1));ge>=g&&Y<g&&(Y=Math.min(ge,g))}else{const ge=Math.min(...ae.map(U=>U-1)),pe=g*n+(n-1)*(g*w);pe<=ge&&Y<pe&&(Y=pe)}if(n<=1)return g&&Y<g&&ae.every(pe=>pe>=g)?{groupWidth:g,barWidth:g}:{groupWidth:Y,barWidth:Y};let le=Y/(n+(n-1)*w);return le<1&&(le=1),g&&le<g&&g*n+(n-1)*(g*w)<=Y&&(le=g),{groupWidth:le*n+(n-1)*(le*w),barWidth:le}},[P,Q,s,n,w,g]),re=C&&C[e]?C[e]:void 0,J=t.color||re||(r==="region"?zi(t.id,e):Zn(e)),ee=r==="region"?Na(t.id,e):si(e),de=M&&(t.color||re)?J:ee,te=Number.isFinite(I(0))?I(0):I.range()[0],ie=X.useId();return y&&y.length===t.data.length?a.jsxs("g",{className:"fdp-bar-series fdp-bar-series--stacked","data-series":t.id,opacity:F?x:T,"aria-hidden":F?!0:void 0,children:[N&&a.jsx("defs",{children:a.jsxs("linearGradient",{id:ie,x1:"0%",y1:"0%",x2:"0%",y2:"100%",children:[a.jsx("stop",{offset:"0%",stopColor:J,stopOpacity:.3}),a.jsx("stop",{offset:"60%",stopColor:J,stopOpacity:.14}),a.jsx("stop",{offset:"100%",stopColor:J,stopOpacity:.06})]})}),t.data.map((K,ae)=>{const me=i(K),Y=_(P?K.x:me);let le,ce;if(P)le=oe,ce=Y;else{const O=Q.find(V=>Math.abs(V.center-Y)<.5);if(!O||!Z)le=G,ce=Y-G/2;else{const{groupWidth:V}=Z;le=V;let B=Y-V/2;B<O.left&&(B=O.left),B+V>O.right&&(B=Math.max(O.left,O.right-V)),ce=B}}const ge=y[ae],pe=I(ge.y0),U=I(ge.y1),Ee=Math.min(pe,U),Pe=Math.abs(U-pe)||1;if(!P&&g&&le<g){const O=Q.find(V=>Math.abs(V.center-Y)<.5);if(O){const V=Math.max(2,O.right-O.left-1),B=Math.min(V,g);B>le&&(le=B,ce=Math.max(O.left,Math.min(O.right-le,Y-le/2)))}}const je=!F&&A?.focused?.seriesId===t.id&&A.focused.index===ae,W=()=>{!A||F||A.setFocused({seriesId:t.id,index:ae,x:me,y:ge.y1-ge.y0,clientX:ce+le/2,clientY:Ee})},L=()=>{A?.focused?.seriesId===t.id&&A.focused.index===ae&&A.clear()};return a.jsx("rect",{x:ce,y:Ee,width:le,height:Pe,fill:N?`url(#${ie})`:J,...N?{}:{fillOpacity:v},stroke:je?"var(--nhs-fdp-color-primary-yellow, #ffeb3b)":N&&M?J:void 0,strokeWidth:je?2:1,className:"fdp-bar fdp-bar--stacked",tabIndex:F||!o?-1:0,role:"graphics-symbol","aria-label":`${t.label||t.id} ${me instanceof Date?me.toDateString():me} value ${ge.y1-ge.y0}`,onMouseEnter:W,onFocus:W,onMouseLeave:L,onBlur:L},ae)})]}):a.jsxs("g",{className:"fdp-bar-series","data-series":t.id,opacity:F?x:T,"aria-hidden":F?!0:void 0,children:[N&&a.jsxs("defs",{children:[p==="series"&&a.jsxs("linearGradient",{id:ie,x1:"0%",y1:"0%",x2:"0%",y2:"100%",children:[a.jsx("stop",{offset:"0%",stopColor:J,stopOpacity:.3}),a.jsx("stop",{offset:"60%",stopColor:J,stopOpacity:.14}),a.jsx("stop",{offset:"100%",stopColor:J,stopOpacity:.06})]}),p==="category"&&t.data.map((K,ae)=>{const Y=C&&C[ae]||(r==="region"?zi(String(K.x),ae):Zn(ae)),le=`${ie}-${ae}`;return a.jsxs("linearGradient",{id:le,x1:"0%",y1:"0%",x2:"0%",y2:"100%",children:[a.jsx("stop",{offset:"0%",stopColor:Y,stopOpacity:.3}),a.jsx("stop",{offset:"60%",stopColor:Y,stopOpacity:.14}),a.jsx("stop",{offset:"100%",stopColor:Y,stopOpacity:.06})]},le)})]}),t.data.map((K,ae)=>{const me=i(K),Y=_(P?K.x:me);let le,ce;if(P){const H=oe;if(n<=1)ce=H,le=Y;else{ce=Math.max(1,H/(n+(n-1)*w));const q=ce*w,ne=ce*n+q*(n-1);le=Y+(H-ne)/2+e*(ce+q)}}else{const H=Q.find(q=>q.center===Y);if(!H||!Z)ce=G,le=Y-G/2,g&&ce<g&&(ce=g,le=Y-ce/2);else{const{barWidth:q}=Z;ce=q;const ne=n>1?q*w:0,se=ce*n+ne*(n-1);let ye=Y-se/2;ye<H.left&&(ye=H.left),ye+se>H.right&&(ye=Math.max(H.left,H.right-se)),le=ye+e*(ce+ne)}if(g&&ce<g){const q=Q.find(ne=>Math.abs(ne.center-Y)<.5);if(q){const ne=Math.max(2,q.right-q.left-1),se=Math.min(ne,g);if(se>ce)if(n<=1)ce=se,le=Math.max(q.left,Math.min(q.right-ce,Y-ce/2));else{const ye=se*w,he=se*n+ye*(n-1);if(he<=q.right-q.left-1){ce=se;const xe=he;let Ce=Y-xe/2;Ce<q.left&&(Ce=q.left),Ce+xe>q.right&&(Ce=Math.max(q.left,q.right-xe)),le=Ce+e*(ce+ye)}}}}}const ge=le+ce/2,pe=I(K.y),U=Math.min(te,pe),Ee=Math.abs(te-pe),Pe=!F&&A?.focused?.seriesId===t.id&&A.focused.index===ae,je=()=>{!A||F||A.setFocused({seriesId:t.id,index:ae,x:me,y:K.y,clientX:ge,clientY:pe})},W=()=>{A?.focused?.seriesId===t.id&&A.focused.index===ae&&A.clear()},L=p==="category"&&C?C[ae]:void 0,O=p==="category"?L||(r==="region"?zi(String(K.x),ae):Zn(ae)):J,V=p==="category"?`${ie}-${ae}`:ie,B=N&&M?O:p==="category"?r==="region"?Na(String(K.x),ae):si(ae):de,z=Pe?"var(--nhs-fdp-color-primary-yellow, #ffeb3b)":B||O;return a.jsx("rect",{x:le,y:U,width:ce,height:Ee||1,fill:N?`url(#${V})`:O,...N?{}:{fillOpacity:v},stroke:z,strokeWidth:Pe?2:1,className:"fdp-bar",tabIndex:F||!o?-1:0,role:"graphics-symbol","aria-label":`${t.label||t.id} ${me instanceof Date?me.toDateString():me} value ${K.y}`,onMouseEnter:je,onFocus:je,onMouseLeave:W,onBlur:W},ae)})]})},MS=({series:t,innerWidth:e,innerHeight:n,paddingInner:r=.1,paddingOuter:i=.05,children:o,yTickCount:s=5})=>{const l=Pr(),c=e??l?.innerWidth??0,u=n??l?.innerHeight??0,d=X.useMemo(()=>t.flatMap(g=>g.data),[t]),f=X.useMemo(()=>{const g=new Set;return d.forEach(N=>g.add(N.x)),Array.from(g)},[d]),p=X.useMemo(()=>Math.max(0,...d.map(g=>g.y)),[d]),h=X.useMemo(()=>Of().domain(f).range([0,c]).paddingInner(r).paddingOuter(i),[f,c,r,i]),y=X.useMemo(()=>ca().domain([0,p]).nice().range([u,0]),[p,u]),m=X.useMemo(()=>({xScale:h,yScale:y,getXTicks:()=>f,getYTicks:(g=s)=>y.ticks(g)}),[h,y,f,s]);return a.jsx(Bc.Provider,{value:m,children:o})},TS=({title:t,description:e,source:n,table:r,className:i,id:o,message:s="Interactive chart loadingâ€¦",forceFallback:l=!1})=>{const c=X.useId(),u=o||c,d=e?`${u}-desc`:void 0,f=n?`${u}-src`:void 0,p=typeof window<"u"&&!l;return a.jsxs("figure",{id:u,className:_a("fdp-chart fdp-chart--noscript",i),"aria-labelledby":`${u}-title`,"aria-describedby":_a(d,f),"data-component":"ChartNoScript",children:[a.jsx("header",{className:"fdp-chart__header",children:a.jsx("h3",{id:`${u}-title`,className:"fdp-chart__title",children:t})}),e&&a.jsx("p",{id:d,className:"fdp-chart__description",children:e}),!p&&a.jsx("div",{className:"fdp-chart__loading",role:"status","aria-live":"polite",children:s}),a.jsxs("div",{className:"fdp-chart__fallback",role:"group","aria-label":t,children:[a.jsx("noscript",{children:a.jsx("div",{className:"fdp-chart__noscript-wrapper",children:a.jsx(Vn,{...r})})}),a.jsx("div",{className:"fdp-chart__table","data-fallback-table":!0,children:a.jsx(Vn,{...r})})]}),n&&a.jsx("figcaption",{className:"fdp-chart__caption",children:n&&a.jsxs("small",{id:f,className:"fdp-chart__source",children:["Source: ",n]})})]})},jS=({selector:t="figure.fdp-chart",onEnhanced:e,delay:n=0,children:r})=>{const i=X.useRef(null);return X.useEffect(()=>{const o=i.current;if(!o)return;const s=()=>{const l=Array.from(o.querySelectorAll(t));if(l.length===0)return;const c=[];l.forEach(u=>{u.classList.contains("fdp-chart--enhanced")||(u.classList.add("fdp-chart--enhanced"),c.push(u))}),c.length&&e&&e(c)};if(n>0){if(typeof window>"u")return;const l=window.setTimeout(s,n);return()=>window.clearTimeout(l)}s()},[t,e,n]),a.jsx("div",{ref:i,children:r})},Fp=({label:t,value:e,unit:n,delta:r,status:i="neutral",variant:o="default",subtitle:s,metadata:l,trendData:c,loading:u=!1,error:d,valueFormatter:f,className:p,style:h,id:y,announceDelta:m=!0,visual:g})=>{const N=X.useId(),M=y||N,T=`${M}-label`,x=`${M}-value`,v=`${M}-delta`,C=typeof e=="number"&&!Number.isNaN(e),w=u?"â€”":d?"":C?f?f(e):e.toLocaleString():e;let k,b="",_="";if(r&&!u&&!d){k=r.direction||(r.value>0?"up":r.value<0?"down":"neutral");const I=Math.abs(r.value),j=k==="up"?`+${I}`:k==="down"?`-${I}`:"0",E=r.isPercent?"%":"";if(b=`${j}${E}`,r.ariaLabel)_=r.ariaLabel;else{const F=r.invert?k==="down":k==="up";_=`${k==="neutral"?"no change":k==="up"?"up":"down"} ${I}${E}${k==="neutral"?"":F?" (improvement)":" (worse)"}`}}return a.jsx("div",{className:_a("fdp-metric-card",o&&`fdp-metric-card--${o}`,i&&`fdp-metric-card--status-${i}`,u&&"fdp-metric-card--loading",d&&"fdp-metric-card--error",p),style:h,role:"group","aria-labelledby":T,"data-component":"MetricCard",children:a.jsxs("div",{className:"fdp-metric-card__inner",children:[a.jsxs("div",{className:"fdp-metric-card__header",children:[a.jsx("h3",{id:T,className:"fdp-metric-card__label",children:t}),l&&a.jsx("div",{className:"fdp-metric-card__metadata",children:l})]}),a.jsxs("div",{className:"fdp-metric-card__content",children:[a.jsxs("div",{className:"fdp-metric-card__value-section",children:[a.jsx("div",{id:x,className:"fdp-metric-card__value",children:u?a.jsx("div",{className:"fdp-metric-card__skeleton","aria-hidden":"true",children:a.jsx("div",{className:"fdp-metric-card__skeleton-line fdp-metric-card__skeleton-line--value"})}):d?a.jsx("div",{className:"fdp-metric-card__error",role:"alert",children:d}):a.jsxs(a.Fragment,{children:[a.jsx("span",{className:"fdp-metric-card__number",children:w}),n&&a.jsx("span",{className:"fdp-metric-card__unit",children:n})]})}),s&&!u&&!d&&a.jsx("div",{className:"fdp-metric-card__subtitle",children:s})]}),r&&!u&&!d&&a.jsx("div",{className:"fdp-metric-card__delta-section",children:a.jsxs("div",{id:v,"aria-label":_,className:_a("fdp-metric-card__delta",k&&`fdp-metric-card__delta--${k}`),children:[a.jsx("span",{className:"fdp-metric-card__delta-value",children:b}),r.period&&a.jsx("span",{className:"fdp-metric-card__delta-period",children:r.period})]})}),c&&c.length>0&&!u&&!d&&a.jsx("div",{className:"fdp-metric-card__trend","aria-hidden":"true"})]}),g&&!d&&a.jsx("div",{className:"fdp-metric-card__visual","aria-hidden":"true",children:g}),m&&r&&!r.ariaLabel&&!u&&!d&&a.jsx("div",{className:"fdp-visually-hidden","aria-live":"polite",children:_})]})})};var Lt=(t=>(t.Xs="xs",t.Sm="sm",t.Md="md",t.Lg="lg",t.Xl="xl",t.Full="full",t))(Lt||{}),$p=(t=>(t.XmR="XmR",t.T="T",t.G="G",t))($p||{}),Ar=(t=>(t.Up="Up",t.Down="Down",t.Neither="Neither",t))(Ar||{}),Ke=(t=>(t.Improvement="improvement",t.Concern="concern",t.Neither="neither",t.Suppressed="suppressed",t))(Ke||{});const qc=["single_point","two_sigma","shift","trend"];qc.reduce((t,e,n)=>(t[e]=n+1,t),{});const DS={single_point:"Single point beyond process limit",two_sigma:"Two of three beyond 2Ïƒ on one side",shift:"Sustained shift (run)",trend:"Monotonic trend"},IS={single_point:"point",two_sigma:"cluster",shift:"sustained",trend:"sustained"},Bp=qc.reduce((t,e,n)=>(t[e]={id:e,rank:n+1,label:DS[e],category:IS[e],participatesInRanking:!0},t),{});qc.map(t=>Bp[t]);var Fo=(t=>(t.SinglePointAbove="single_above",t.SinglePointBelow="single_below",t.TwoOfThreeAbove="two_of_three_above",t.TwoOfThreeBelow="two_of_three_below",t.FourOfFiveAbove="four_of_five_above",t.FourOfFiveBelow="four_of_five_below",t.ShiftHigh="shift_high",t.ShiftLow="shift_low",t.TrendIncreasing="trend_inc",t.TrendDecreasing="trend_dec",t.FifteenInnerThird="fifteen_inner_third",t))(Fo||{}),Er=(t=>(t.Pass="pass",t.Fail="fail",t.None="none",t))(Er||{}),Op=(t=>(t.Shift="shift",t.Trend="trend",t.Point="point",t))(Op||{});const Hi={singlePointUp:{tooltip:"Single point above upper control limit",narration:"Single point beyond a control limit"},singlePointDown:{tooltip:"Single point below lower control limit",narration:"Single point beyond a control limit"},twoOfThreeUp:{tooltip:"Two of three points beyond +2Ïƒ",narration:"Two of three points beyond two sigma (same side)"},twoOfThreeDown:{tooltip:"Two of three points beyond -2Ïƒ",narration:"Two of three points beyond two sigma (same side)"},fourOfFiveUp:{tooltip:"Four of five points beyond +1Ïƒ",narration:"Four of five points beyond one sigma (same side)"},fourOfFiveDown:{tooltip:"Four of five points beyond -1Ïƒ",narration:"Four of five points beyond one sigma (same side)"},shiftUp:{tooltip:"Shift: run of points above centre line",narration:"Shift (run on one side of mean)"},shiftDown:{tooltip:"Shift: run of points below centre line",narration:"Shift (run on one side of mean)"},trendUp:{tooltip:"Trend: consecutive increasing points",narration:"Trend (consecutive increases)"},trendDown:{tooltip:"Trend: consecutive decreasing points",narration:"Trend (consecutive decreases)"}};function Ma(t){if(!t)return[];const e=[];return t.specialCauseSinglePointUp&&e.push("singlePointUp"),t.specialCauseSinglePointDown&&e.push("singlePointDown"),t.specialCauseTwoOfThreeUp&&e.push("twoOfThreeUp"),t.specialCauseTwoOfThreeDown&&e.push("twoOfThreeDown"),t.specialCauseFourOfFiveUp&&e.push("fourOfFiveUp"),t.specialCauseFourOfFiveDown&&e.push("fourOfFiveDown"),t.specialCauseShiftUp&&e.push("shiftUp"),t.specialCauseShiftDown&&e.push("shiftDown"),t.specialCauseTrendUp&&e.push("trendUp"),t.specialCauseTrendDown&&e.push("trendDown"),e}function Ta(t){switch(t){case Ke.Improvement:return"Improvement signal";case Ke.Concern:return"Concern signal";case Ke.Neither:return"Common cause variation";case Ke.Suppressed:return null;default:return null}}function Rp(t){switch(t){case Er.Pass:return"Target met";case Er.Fail:return"Target not met";default:return null}}function LS(t,e,n){if(t==null||!Number.isFinite(e)||e<=0)return null;const r=Math.abs((n-t)/e);return r<1?"Within 1Ïƒ":r<2?"Between 1â€“2Ïƒ":r<3?"Between 2â€“3Ïƒ":"Beyond 3Ïƒ"}const Un={improvement:{token:"var(--nhs-fdp-color-data-viz-spc-improvement, #00B0F0)",hex:"#00B0F0"},concern:{token:"var(--nhs-fdp-color-data-viz-spc-concern, #E46C0A)",hex:"#E46C0A"},neither:{token:"var(--nhs-fdp-color-data-viz-spc-common-cause, #A6A6A6)",hex:"#A6A6A6"},suppressed:{token:"var(--nhs-fdp-color-data-viz-spc-no-judgement, #490092)",hex:"#490092"}};function zp(t){return t?Un[t]?.token??Un.neither.token:Un.neither.token}function PS(t){return t?Un[t]?.hex??Un.neither.hex:Un.neither.hex}var ai=(t=>(t.Pass="pass",t.Fail="fail",t.Uncertain="uncertain",t))(ai||{});const AS={pass:"#00B0F0",fail:"#E46C0A",uncertain:"#A6A6A6"},ES={pass:"P",fail:"F",uncertain:"?"};var Pt=(t=>(t.HigherIsBetter="higher_is_better",t.LowerIsBetter="lower_is_better",t.ContextDependent="context_dependent",t))(Pt||{}),qe=(t=>(t.Higher="higher",t.Lower="lower",t))(qe||{}),fn=(t=>(t.Improving="improving",t.Deteriorating="deteriorating",t.No_Judgement="no_judgement",t.None="none",t))(fn||{}),ze=(t=>(t.SpecialCauseImproving="special_cause_improving",t.SpecialCauseDeteriorating="special_cause_deteriorating",t.CommonCause="common_cause",t.SpecialCauseNoJudgement="special_cause_no_judgement",t))(ze||{});const FS=t=>{const e=t.replace("#",""),n=parseInt(e.slice(0,2),16)/255,r=parseInt(e.slice(2,4),16)/255,i=parseInt(e.slice(4,6),16)/255,o=[n,r,i].map(l=>l<=.03928?l/12.92:Math.pow((l+.055)/1.055,2.4));return .2126*o[0]+.7152*o[1]+.0722*o[2]<.55?"#ffffff":"#212b32"},ja={special_cause_deteriorating:{hex:Un.concern.hex,judgement:"deteriorating",label:"Special Cause (Deteriorating)",description:"Deteriorating variation detected (special cause) relative to baseline."},special_cause_improving:{hex:Un.improvement.hex,judgement:"improving",label:"Special Cause (Improving)",description:"Improving variation detected (special cause) relative to baseline."},common_cause:{hex:Un.neither.hex,judgement:"none",label:"Common Cause",description:"Common cause variation only â€“ no special cause detected."},special_cause_no_judgement:{hex:Un.suppressed.hex,judgement:"no_judgement",label:"Special Cause (No Judgement)",description:"Special cause detected without assigning improving/deteriorating judgement."}};Object.values(ja).forEach(t=>{t.text||(t.text=FS(t.hex))});const Hp=t=>ja[t],Xc=t=>ja[t].judgement||"none",Up={special:{higher:[{cx:77.5,cy:158.5},{cx:114,cy:175},{cx:150.5,cy:158.5},{cx:188,cy:125},{cx:225,cy:137}],lower:[{cx:77.5,cy:139.5},{cx:114,cy:124.5},{cx:150.5,cy:139.5},{cx:188,cy:175.5},{cx:224.5,cy:162}]},common:[{cx:76.5,cy:149.5},{cx:113,cy:179.5},{cx:149.5,cy:117},{cx:187,cy:171},{cx:223.5,cy:158}]};function $S(t,e){let n;return t==="common_cause"?n=Up.common:n=Up.special[e==="lower"?"lower":"higher"],n.map(r=>({...r}))}let Jc=null;try{Jc=require("@fergusbisset/nhs-fdp-design-system/dist/js/tokens.json")?.color?.["data-viz"]?.spc||null}catch{}const Jt=(t,e)=>{if(!Jc)return e;const n=t.split(".");let r=Jc;for(const o of n){if(r==null)break;r=r[o]}const i=r;return i==null?e:typeof i=="string"||typeof i=="number"?String(i):i.$value!=null?String(i.$value):i.value!=null?String(i.value):e},Da=()=>({start:Jt("gradient.stop.start-opacity","0.12"),mid:Jt("gradient.stop.mid-opacity","0.03"),end:Jt("gradient.stop.end-opacity","0"),triStart:Jt("gradient.stop.triangle-start-opacity",Jt("gradient.stop.start-opacity","0.12")),triMid:Jt("gradient.stop.triangle-mid-opacity",Jt("gradient.stop.mid-opacity","0.03")),triEnd:Jt("gradient.stop.triangle-end-opacity",Jt("gradient.stop.end-opacity","0"))}),Ia={improvement:"improvement",concern:"concern",noJudgement:"no-judgement",common:"common-cause"},La={improvement:"#00B0F0",concern:"#E46C0A",noJudgement:"#490092",common:"#A6A6A6"},Wp=()=>Jt(Ia.improvement,La.improvement),Gp=()=>Jt(Ia.concern,La.concern),BS=()=>Jt(Ia.noJudgement,La.noJudgement),li=()=>Jt(Ia.common,La.common);function Pa(t){switch(t){case Ke.Improvement:return Wp();case Ke.Concern:return Gp();case Ke.Neither:case Ke.Suppressed:default:return li()}}function Yp(t){switch(t){case ze.SpecialCauseImproving:return Wp();case ze.SpecialCauseDeteriorating:return Gp();case ze.SpecialCauseNoJudgement:return BS();case ze.CommonCause:default:return li()}}var _n=(t=>(t.XmR="XmR",t.T="T",t.G="G",t))(_n||{}),et=(t=>(t.Up="Up",t.Down="Down",t.Neither="Neither",t))(et||{}),$e=(t=>(t.ImprovementHigh="ImprovementHigh",t.ImprovementLow="ImprovementLow",t.ConcernHigh="ConcernHigh",t.ConcernLow="ConcernLow",t.NeitherHigh="NeitherHigh",t.NeitherLow="NeitherLow",t.CommonCause="CommonCause",t))($e||{}),wt=(t=>(t.SinglePoint="SinglePoint",t.TwoSigma="TwoSigma",t.Shift="Shift",t.Trend="Trend",t))(wt||{}),ci=(t=>(t.Upwards="Upwards",t.Downwards="Downwards",t.Same="Same",t))(ci||{}),qn=(t=>(t.Up="Up",t.Down="Down",t))(qn||{}),Ui=(t=>(t.Improvement="Improvement",t.Concern="Concern",t))(Ui||{}),Wi=(t=>(t.SqlPrimeThenRule="SqlPrimeThenRule",t.PreferImprovement="PreferImprovement",t.RuleHierarchy="RuleHierarchy",t))(Wi||{}),Vt=(t=>(t.FavourableSide="FavourableSide",t.CrossingAfterFavourable="CrossingAfterFavourable",t.ExtremeFavourable="ExtremeFavourable",t.FirstFavourable="FirstFavourable",t.LongestFavourable="LongestFavourable",t.LastFavourable="LastFavourable",t.UnfavourableSide="UnfavourableSide",t.CrossingAfterUnfavourable="CrossingAfterUnfavourable",t.ExtremeUnfavourable="ExtremeUnfavourable",t.FirstUnfavourable="FirstUnfavourable",t.LongestUnfavourable="LongestUnfavourable",t.LastUnfavourable="LastUnfavourable",t))(Vt||{}),xr=(t=>(t.Off="Off",t.AutoWhenConflict="AutoWhenConflict",t.Always="Always",t))(xr||{}),Xn=(t=>(t.Info="info",t.Warning="warning",t.Error="error",t))(Xn||{}),Aa=(t=>(t.Config="config",t.Data="data",t.Limits="limits",t.SpecialCause="special_cause",t.Baseline="baseline",t.Logic="logic",t.Target="target",t.Ghost="ghost",t.Partition="partition",t))(Aa||{}),Ea=(t=>(t.UnknownChartType="unknown_chart_type",t.InsufficientPointsGlobal="insufficient_points_global",t.VariationConflictRow="variation_conflict_row",t.NullValuesExcluded="null_values_excluded",t.TargetIgnoredRareEvent="target_ignored_rare_event",t.GhostRowsRareEvent="ghost_rows_rare_event",t.InsufficientPointsPartition="insufficient_points_partition",t.BaselineWithSpecialCause="baseline_with_special_cause",t.PartitionCapApplied="partition_cap_applied",t.GlobalCapApplied="global_cap_applied",t))(Ea||{});const Fr={[wt.SinglePoint]:1,[wt.TwoSigma]:2,[wt.Shift]:3,[wt.Trend]:4},Vp=3.267,OS=2.66,Zp=.2777;function Ve(t){return typeof t=="number"&&!Number.isNaN(t)}function Gi(t){return t.reduce((e,n)=>e+n,0)/(t.length||1)}function qp(t,e){const n=new Array(t.length).fill(null);let r=null;for(let i=0;i<t.length;i++){const o=t[i];if(!(e[i]||!Ve(o))){if(r!==null){const s=t[r];Ve(s)&&(n[i]=Math.abs(o-s))}r=i}}return n}function Xp(t,e){const n=t.filter(Ve);if(!n.length)return{mrMean:NaN,mrUcl:NaN};let r=n.slice();if(e){const o=Gi(r),s=Vp*o;r=r.filter(l=>l<=s)}const i=Gi(r);return{mrMean:i,mrUcl:Vp*i}}function Jp(t,e){if(!Ve(t)||!Ve(e))return{upperProcessLimit:null,lowerProcessLimit:null,upperTwoSigma:null,lowerTwoSigma:null,upperOneSigma:null,lowerOneSigma:null};const n=OS*e,r=2/3*n,i=1/3*n;return{upperProcessLimit:t+n,lowerProcessLimit:t-n,upperTwoSigma:t+r,lowerTwoSigma:t-r,upperOneSigma:t+i,lowerOneSigma:t-i}}function RS(t,e,n,r){if(t===_n.T){const f=e.map(k=>Ve(k)&&k>0?Math.pow(k,Zp):null),p=qp(f,n),h=Xp(p,r),y=f.filter((k,b)=>!n[b]&&Ve(k)),m=y.length?Gi(y):NaN,g=Jp(m,h.mrMean),N=k=>Ve(k)&&k>0?Math.pow(k,1/Zp):null,M=Ve(g.upperProcessLimit)?N(g.upperProcessLimit):null,T=Ve(g.lowerProcessLimit)&&g.lowerProcessLimit>0?N(g.lowerProcessLimit):null,x=Ve(g.upperTwoSigma)?N(g.upperTwoSigma):null,v=Ve(g.lowerTwoSigma)&&g.lowerTwoSigma>0?N(g.lowerTwoSigma):null,C=Ve(g.upperOneSigma)?N(g.upperOneSigma):null,w=Ve(g.lowerOneSigma)&&g.lowerOneSigma>0?N(g.lowerOneSigma):null;return{mean:Ve(m)&&m>0?N(m):null,mr:p,mrMean:h.mrMean,mrUcl:h.mrUcl,upperProcessLimit:M,lowerProcessLimit:T,upperTwoSigma:x,lowerTwoSigma:v,upperOneSigma:C,lowerOneSigma:w}}if(t===_n.G){const f=e.filter((I,j)=>!n[j]&&Ve(I)),p=f.length?Gi(f):NaN,h=Ve(p)?1/(p+1):NaN,y=I=>{if(!Ve(h)||h<=0||h>=1)return NaN;const j=Math.ceil(Math.log(1-I)/Math.log(1-h))-1;return Math.max(0,j)},m=.00135,g=1-.00135,N=.02275,M=1-.02275,T=.158655,x=1-.158655,v=y(g),C=y(m),w=y(M),k=y(N),b=y(x),_=y(T);return{mean:Ve(p)?p:null,mr:new Array(e.length).fill(null),mrMean:NaN,mrUcl:NaN,upperProcessLimit:Ve(v)?v:null,lowerProcessLimit:Ve(C)?C:null,upperTwoSigma:Ve(w)?w:null,lowerTwoSigma:Ve(k)?k:null,upperOneSigma:Ve(b)?b:null,lowerOneSigma:Ve(_)?_:null}}if(t!==_n.XmR)return{mean:NaN,mr:new Array(e.length).fill(null),mrMean:NaN,mrUcl:NaN,upperProcessLimit:null,lowerProcessLimit:null,upperTwoSigma:null,lowerTwoSigma:null,upperOneSigma:null,lowerOneSigma:null};const i=qp(e,n),o=i.filter(Ve),s=o.length?Gi(o):NaN,l=Ve(s)?3.267*s:NaN;let c=NaN;{const f=e.reduce((p,h,y)=>{if(n[y]||!Ve(h))return p;if(!r)return p.push(h),p;const m=i[y];return(m===null||!Ve(l)||Ve(m)&&m<=l)&&p.push(h),p},[]);c=f.length?Gi(f):NaN}const u=Xp(i,r),d=Jp(c,u.mrMean);return{mean:c,mr:i,mrMean:u.mrMean,mrUcl:u.mrUcl,...d}}function zS(t,e){const n=t.map((c,u)=>u).filter(c=>!t[c].ghost&&Ve(t[c].value)),r=c=>t[c],i=e.shiftPoints,o=e.trendPoints;let s=[],l=[];for(const c of n){const u=r(c);if(!Ve(u.mean)||!Ve(u.value)?(s=[],l=[]):u.value>u.mean?(s.push(c),l=[]):u.value<u.mean?(l.push(c),s=[]):(s=[],l=[]),s.length>=i)for(const d of s)r(d).shiftUp=!0;if(l.length>=i)for(const d of l)r(d).shiftDown=!0}for(let c=0;c<=n.length-3;c++){const d=n.slice(c,c+3).map(r);if(!d.every(x=>Ve(x.value)&&Ve(x.mean)))continue;const f=d[0].mean,p=d.every(x=>x.value>f),h=d.every(x=>x.value<f);if(!p&&!h)continue;const y=d[0].upperTwoSigma??1/0,m=d[0].lowerTwoSigma??-1/0,g=d[0].upperProcessLimit??1/0,N=d[0].lowerProcessLimit??-1/0,M=d.filter(x=>e.twoSigmaIncludeAboveThree?x.value>y:x.value>y&&x.value<=g),T=d.filter(x=>e.twoSigmaIncludeAboveThree?x.value<m:x.value<m&&x.value>=N);p&&M.length>=2&&M.forEach(x=>x.twoSigmaUp=!0),h&&T.length>=2&&T.forEach(x=>x.twoSigmaDown=!0)}if(e.enableFourOfFiveRule)for(let c=0;c<=n.length-5;c++){const d=n.slice(c,c+5).map(r);if(!d.every(M=>Ve(M.value)&&Ve(M.mean)))continue;const f=d[0].mean,p=d.every(M=>M.value>f),h=d.every(M=>M.value<f);if(!p&&!h)continue;const y=d[0].upperOneSigma??1/0,m=d[0].lowerOneSigma??-1/0,g=d.filter(M=>M.value>y),N=d.filter(M=>M.value<m);p&&g.length>=4&&g.forEach(M=>M.fourOfFiveUp=!0),h&&N.length>=4&&N.forEach(M=>M.fourOfFiveDown=!0)}for(let c=0;c<=n.length-o;c++){const u=n.slice(c,c+o),d=u.map(r);if(!d.every(h=>Ve(h.value)))continue;let f=!0,p=!0;for(let h=1;h<d.length&&(d[h].value>d[h-1].value||(f=!1),d[h].value<d[h-1].value||(p=!1),!(!f&&!p));h++);f&&u.forEach(h=>r(h).trendUp=!0),p&&u.forEach(h=>r(h).trendDown=!0)}}function Kp(t){const e=[],n=[];t.singlePointUp&&e.push({id:wt.SinglePoint,rank:Fr[wt.SinglePoint]}),t.singlePointDown&&n.push({id:wt.SinglePoint,rank:Fr[wt.SinglePoint]}),t.twoSigmaUp&&e.push({id:wt.TwoSigma,rank:Fr[wt.TwoSigma]}),t.twoSigmaDown&&n.push({id:wt.TwoSigma,rank:Fr[wt.TwoSigma]}),t.shiftUp&&e.push({id:wt.Shift,rank:Fr[wt.Shift]}),t.shiftDown&&n.push({id:wt.Shift,rank:Fr[wt.Shift]}),t.trendUp&&e.push({id:wt.Trend,rank:Fr[wt.Trend]}),t.trendDown&&n.push({id:wt.Trend,rank:Fr[wt.Trend]});const r=e.reduce((s,l)=>Math.max(s,l.rank),0),i=n.reduce((s,l)=>Math.max(s,l.rank),0),o=r>i?ci.Upwards:i>r?ci.Downwards:ci.Same;return{up:e,dn:n,upMax:r,dnMax:i,primeDirection:o}}function Qp(t,e){const n=e===et.Up?t.singlePointUp||t.twoSigmaUp||t.shiftUp||t.trendUp:e===et.Down?t.singlePointDown||t.twoSigmaDown||t.shiftDown||t.trendDown:!1,r=e===et.Up?t.singlePointDown||t.twoSigmaDown||t.shiftDown||t.trendDown:e===et.Down?t.singlePointUp||t.twoSigmaUp||t.shiftUp||t.trendUp:!1;return{aligned:n,opposite:r}}function em(t,e,n,r=!1,i,o,s=!1){const{up:l,dn:c,upMax:u,dnMax:d,primeDirection:f}=Kp(t);t.primeDirection=f;const p=t.specialCauseImprovementValue,h=t.specialCauseConcernValue;t.specialCauseImprovementValue!==null&&t.specialCauseConcernValue!==null&&HS({row:t,metric:e,metricConflictRule:n,preferImprovementWhenConflict:r,preferTrendWhenConflict:s,primeDirection:f,conflictStrategy:i,ruleHierarchy:o}),e===et.Up?t.variationIcon=t.specialCauseImprovementValue!==null?$e.ImprovementHigh:t.specialCauseConcernValue!==null?$e.ConcernLow:$e.CommonCause:e===et.Down?t.variationIcon=t.specialCauseImprovementValue!==null?$e.ImprovementLow:t.specialCauseConcernValue!==null?$e.ConcernHigh:$e.CommonCause:t.variationIcon=$e.CommonCause;const y=t.specialCauseImprovementValue!==null?qn.Up:t.specialCauseConcernValue!==null?qn.Down:void 0,m=y===qn.Up?u:y===qn.Down?d:Math.max(u,d);t.primeRank=m||void 0;const g=y===qn.Up?l.find(N=>N.rank===m):y===qn.Down?c.find(N=>N.rank===m):void 0;return t.primeRuleId=g?.id,{originalImprovement:p,originalConcern:h}}function HS(t){const{row:e,metric:n,metricConflictRule:r,preferImprovementWhenConflict:i,preferTrendWhenConflict:o,primeDirection:s=e.primeDirection??ci.Same,conflictStrategy:l,ruleHierarchy:c}=t;if(o&&e.specialCauseImprovementValue!==null&&e.specialCauseConcernValue!==null){const d=!!e.trendUp,f=!!e.trendDown;if(n===et.Up){if(d&&!f){e.specialCauseConcernValue=null;return}if(!d&&f){e.specialCauseImprovementValue=null;return}}else if(n===et.Down){if(f&&!d){e.specialCauseConcernValue=null;return}if(!f&&d){e.specialCauseImprovementValue=null;return}}}const u=i?Wi.PreferImprovement:l??Wi.SqlPrimeThenRule;if(u===Wi.PreferImprovement){n===et.Up?e.specialCauseConcernValue=null:n===et.Down&&(e.specialCauseImprovementValue=null);return}if(u===Wi.RuleHierarchy){const d=c??[wt.Trend,wt.Shift,wt.TwoSigma,wt.SinglePoint],{up:f,dn:p}=Kp(e);for(const h of d){const y=f.some(g=>g.id===h),m=p.some(g=>g.id===h);if(y&&!m){n===et.Up?e.specialCauseConcernValue=null:e.specialCauseImprovementValue=null;return}if(m&&!y){n===et.Up?e.specialCauseImprovementValue=null:e.specialCauseConcernValue=null;return}if(y&&m){(n===et.Up||n===et.Down)&&(r===Ui.Improvement?e.specialCauseConcernValue=null:e.specialCauseImprovementValue=null);return}}}s===ci.Upwards?n===et.Up?e.specialCauseConcernValue=null:n===et.Down&&(e.specialCauseImprovementValue=null):s===ci.Downwards?n===et.Up?e.specialCauseImprovementValue=null:n===et.Down&&(e.specialCauseConcernValue=null):r===Ui.Improvement?e.specialCauseConcernValue=null:e.specialCauseImprovementValue=null}var Kc=(t=>(t.Up="Up",t.Down="Down",t))(Kc||{});function US(t){return t>0?1:t<0?-1:0}function WS(t){const e=US(t);if(e>0)return"Above";if(e<0)return"Below"}function tm(t){const e=[],n=(s,l,c)=>({segStart:s,segSide:l,minV:c,maxV:c,maxAbsDelta:0}),r=(s,l,c,u,d)=>({minV:Math.min(c,s),maxV:Math.max(u,s),maxAbsDelta:Math.max(d,l)}),i=(s,l,c,u,d,f,p,h)=>{s.push({trendDirection:h,start:l,end:c,side:u,minValue:d,maxValue:f,maxAbsDeltaFromMean:p})};let o=0;for(;o<t.length;){const s=t[o];if(!s||s.value==null||s.ghost||!s.trendUp&&!s.trendDown){o++;continue}const l=s.trendUp?"Up":s.trendDown?"Down":void 0;let c=o,u=o;for(;u<t.length;u++){const N=t[u];if(!N||N.value==null||N.ghost||!(l==="Up"?N.trendUp:N.trendDown))break}const d=u-1,f=[];let p,h,y=1/0,m=-1/0,g=0;for(let N=c;N<=d;N++){const M=t[N];if(M.value==null)continue;const T=M.value-(M.mean??0),x=WS(T);if(!x){p!==void 0&&(i(f,p,N-1,h,y,m,g,l),p=void 0,h=void 0,y=1/0,m=-1/0,g=0);continue}if(p===void 0)({segStart:p,segSide:h,minV:y,maxV:m,maxAbsDelta:g}=(()=>{const v=n(N,x,M.value);return{segStart:v.segStart,segSide:v.segSide,minV:v.minV,maxV:v.maxV,maxAbsDelta:Math.abs(T)}})());else if(x!==h)i(f,p,N-1,h,y,m,g,l),{segStart:p,segSide:h,minV:y,maxV:m,maxAbsDelta:g}=(()=>{const v=n(N,x,M.value);return{segStart:v.segStart,segSide:v.segSide,minV:v.minV,maxV:v.maxV,maxAbsDelta:Math.abs(T)}})();else{const v=r(M.value,Math.abs(T),y,m,g);y=v.minV,m=v.maxV,g=v.maxAbsDelta}}p!==void 0&&i(f,p,d,h,y,m,g,l),e.push({trendDirection:l,start:c,end:d,segments:f}),o=d+1}return e}function GS(t){if(t===et.Up)return"Above";if(t===et.Down)return"Below"}function YS(t){if(t)return t==="Above"?"Below":"Above"}function nm(t,e){const n=e.strategy??Vt.CrossingAfterFavourable,r=GS(e.metricImprovement),i=YS(r),o=[];for(const s of t){if(!r){if(n===Vt.ExtremeFavourable||n===Vt.CrossingAfterFavourable){const l=s.segments;if(l.length===0)continue;let c=l[0];for(const u of l)u.maxAbsDeltaFromMean>c.maxAbsDeltaFromMean&&(c=u);o.push(c)}continue}if(n===Vt.FavourableSide){o.push(...s.segments.filter(l=>l.side===r));continue}if(n===Vt.UnfavourableSide){o.push(...s.segments.filter(l=>l.side===i));continue}if(n===Vt.CrossingAfterFavourable){const l=s.segments;let c;for(let u=0;u<l.length;u++){const d=l[u];if(d.side===r&&u>0&&l[u-1].side!==r){c=d;break}}if(!c){const u=l.filter(d=>d.side===r);u.length>0&&(c=u.reduce((d,f)=>f.end-f.start>d.end-d.start?f:d,u[0]))}c&&o.push(c);continue}if(n===Vt.CrossingAfterUnfavourable){const l=s.segments;let c;for(let u=0;u<l.length;u++){const d=l[u];if(d.side===i&&u>0&&l[u-1].side!==i){c=d;break}}if(!c){const u=l.filter(d=>d.side===i);u.length>0&&(c=u.reduce((d,f)=>f.end-f.start>d.end-d.start?f:d,u[0]))}c&&o.push(c);continue}if(n===Vt.ExtremeFavourable){const l=s.segments.filter(u=>u.side===r);if(l.length===0)continue;const c=l.reduce((u,d)=>d.maxAbsDeltaFromMean>u.maxAbsDeltaFromMean?d:u);o.push(c);continue}if(n===Vt.ExtremeUnfavourable){const l=s.segments.filter(u=>u.side===i);if(l.length===0)continue;const c=l.reduce((u,d)=>d.maxAbsDeltaFromMean>u.maxAbsDeltaFromMean?d:u);o.push(c);continue}if(n===Vt.FirstFavourable){const l=s.segments.find(c=>c.side===r);l&&o.push(l);continue}if(n===Vt.FirstUnfavourable){const l=s.segments.find(c=>c.side===i);l&&o.push(l);continue}if(n===Vt.LongestFavourable){const l=s.segments.filter(u=>u.side===r);if(l.length===0)continue;const c=l.reduce((u,d)=>d.end-d.start>u.end-u.start?d:u);o.push(c);continue}if(n===Vt.LongestUnfavourable){const l=s.segments.filter(u=>u.side===i);if(l.length===0)continue;const c=l.reduce((u,d)=>d.end-d.start>u.end-u.start?d:u);o.push(c);continue}if(n===Vt.LastFavourable){const l=s.segments.filter(c=>c.side===r);if(l.length===0)continue;o.push(l[l.length-1]);continue}if(n===Vt.LastUnfavourable){const l=s.segments.filter(c=>c.side===i);if(l.length===0)continue;o.push(l[l.length-1]);continue}}return o}var xt=(t=>(t.Common="Common",t.Improvement="Improvement",t.Concern="Concern",t.NoJudgement="NoJudgement",t))(xt||{}),Yi=(t=>(t.Ungated="Ungated",t.Gated="Gated",t))(Yi||{});function VS(t){const e=!!(t.singlePointUp||t.twoSigmaUp||t.shiftUp||t.trendUp),n=!!(t.singlePointDown||t.twoSigmaDown||t.shiftDown||t.trendDown);return{upAny:e,downAny:n}}function $o(t,e){const n=e.metricImprovement,r=e.trendVisualMode??"Ungated",i=e.enableNeutralNoJudgement??!0;return t.map(o=>{if(!o||o.value==null||o.ghost)return"Common";const{upAny:s,downAny:l}=VS(o);if(s&&l)return"Improvement";switch(o.variationIcon){case $e.ImprovementHigh:case $e.ImprovementLow:return"Improvement";case $e.ConcernHigh:case $e.ConcernLow:return"Concern";case $e.NeitherHigh:case $e.NeitherLow:{if(r==="Ungated"&&n!==et.Neither){if(s&&!l)return n===et.Up?"Improvement":"Concern";if(l&&!s)return n===et.Down?"Improvement":"Concern"}return i?"NoJudgement":"Common"}default:return"Common"}})}function ZS(t,e,n){const r=n?.mode??"Disabled";if(!t.length)return[];let i=$o(t,{metricImprovement:e,trendVisualMode:Yi.Ungated,enableNeutralNoJudgement:!0});if(r!=="RecalcCrossing"||e===et.Neither)return i;const o=Math.max(0,n?.preWindow??2),s=Math.max(0,n?.postWindow??3),l=n?.prePolarity??"Opposite",c=(f,p)=>{if(f<0||f>=i.length)return;const h=i[f];(h===xt.Common||h===xt.NoJudgement)&&(i[f]=p)},u=f=>{if(f==null)return null;const p=t.reduce((y,m)=>(m.partitionId===f&&typeof m.value=="number"&&!m.ghost&&y.push(m.value),y),[]);return p.length?p.reduce((y,m)=>y+m,0)/p.length:null},d=Array.isArray(n?.boundaryIndices)&&n.boundaryIndices.length?n.boundaryIndices.slice().filter(f=>Number.isFinite(f)):t.reduce((f,p,h)=>{if(h===0)return f;const y=t[h-1];return y&&p&&p.partitionId!==y.partitionId&&f.push(h),f},[]);for(const f of d){const p=t[f-1],h=t[f];if(!p||!h)continue;let y=f-1;for(;y-1>=0&&t[y-1]&&t[y-1].partitionId===p.partitionId;)y--;let m=f;for(;m+1<t.length&&t[m+1]&&t[m+1].partitionId===h.partitionId;)m++;let g=null;for(let C=f-1;C>=0;C--){const w=t[C];if(w.partitionId!==p.partitionId)break;if(typeof w.mean=="number"){g=w.mean;break}}let N=null;for(let C=f;C<t.length;C++){const w=t[C];if(w.partitionId!==h.partitionId)break;if(typeof w.mean=="number"){N=w.mean;break}}if(g==null&&(g=u(p.partitionId??null)),N==null&&(N=u(h.partitionId??null)),g==null||N==null)continue;const M=N-g,T=e===et.Up?M>0:M<0,x=T?xt.Improvement:xt.Concern,v=l==="Same"?x:T?xt.Concern:xt.Improvement;for(let C=1;C<=o;C++){const w=f-C;if(w<y)break;c(w,v)}for(let C=0;C<s;C++){const w=f+C;if(w>m)break;c(w,x)}}return i}function rm(t){if(!t)return{};if(typeof t=="object"&&("minimumPoints"in t||"shiftPoints"in t||"trendPoints"in t))return t;const e=t,n={};if(e.thresholds){const r=e.thresholds;r.minimumPoints!=null&&(n.minimumPoints=r.minimumPoints),r.shiftPoints!=null&&(n.shiftPoints=r.shiftPoints),r.trendPoints!=null&&(n.trendPoints=r.trendPoints),r.excludeMovingRangeOutliers!=null&&(n.excludeMovingRangeOutliers=r.excludeMovingRangeOutliers)}if(e.eligibility&&e.eligibility.chartLevel!=null&&(n.chartLevelEligibility=e.eligibility.chartLevel),e.parity&&(e.parity.trendAcrossPartitions!=null&&(n.trendAcrossPartitions=e.parity.trendAcrossPartitions),e.parity.twoSigmaIncludeAboveThree!=null&&(n.twoSigmaIncludeAboveThree=e.parity.twoSigmaIncludeAboveThree),e.parity.enableFourOfFiveRule!=null&&(n.enableFourOfFiveRule=e.parity.enableFourOfFiveRule)),e.conflict&&(e.conflict.preferImprovementWhenConflict!=null&&(n.preferImprovementWhenConflict=e.conflict.preferImprovementWhenConflict),e.conflict.preferTrendWhenConflict!=null&&(n.preferTrendWhenConflict=e.conflict.preferTrendWhenConflict),e.conflict.strategy!=null&&(n.conflictStrategy=e.conflict.strategy),e.conflict.ruleHierarchy!=null&&(n.ruleHierarchy=e.conflict.ruleHierarchy),e.conflict.metricRuleOnTie!=null&&(n.metricConflictRule=e.conflict.metricRuleOnTie)),e.trend?.segmentation){const r=e.trend.segmentation;r.mode!=null&&(n.trendSegmentationMode=r.mode),r.favourableSegmentation!=null&&(n.trendFavourableSegmentation=r.favourableSegmentation),r.strategy!=null&&(n.trendSegmentationStrategy=r.strategy),r.dominatesHighlightedWindow!=null&&(n.trendDominatesHighlightedWindow=r.dominatesHighlightedWindow)}return n}function Bo(t){const{chartType:e,metricImprovement:n,data:r}=t,i=rm(t.settings),o={minimumPoints:13,shiftPoints:6,trendPoints:6,excludeMovingRangeOutliers:!1,metricConflictRule:Ui.Improvement,trendAcrossPartitions:!1,twoSigmaIncludeAboveThree:!1,enableFourOfFiveRule:!1,preferImprovementWhenConflict:!1,conflictStrategy:Wi.SqlPrimeThenRule,ruleHierarchy:void 0,chartLevelEligibility:!1,trendFavourableSegmentation:!1,trendSegmentationMode:xr.Off,trendSegmentationStrategy:Vt.CrossingAfterUnfavourable,trendDominatesHighlightedWindow:!1,...i},s=i?.trendSegmentationMode||(i?.trendFavourableSegmentation===!0?xr.Always:i?.trendFavourableSegmentation===!1?xr.Off:o.trendSegmentationMode),l=r.map((m,g)=>({rowId:g+1,x:m.x,value:Ve(m.value)?m.value:null,ghost:!!m.ghost,baseline:!!m.baseline,target:Ve(m.target)?m.target:null})),c=[];let u=[];for(const m of l)m.baseline&&u.length&&(c.push(u),u=[]),u.push(m);u.length&&c.push(u);const d=[],f=(o.trendFavourableSegmentation||s!==xr.Off)&&!o.preferImprovementWhenConflict,p=l.filter(m=>!m.ghost&&Ve(m.value)).length,h=!!o.chartLevelEligibility&&p>=o.minimumPoints;let y=0;for(const m of c){y++;const g=m.map(v=>v.value),N=m.map(v=>v.ghost),M=RS(e,g,N,!!o.excludeMovingRangeOutliers),T=m.map((v,C)=>{const w=!v.ghost&&Ve(v.value)?g.slice(0,C+1).filter((b,_)=>!N[_]&&Ve(b)).length:0,k=h?!0:w>=o.minimumPoints;return{rowId:v.rowId,x:v.x,value:Ve(v.value)?v.value:null,ghost:v.ghost,partitionId:y,pointRank:w,mean:(k||h)&&Ve(M.mean)?M.mean:null,upperProcessLimit:k||h?M.upperProcessLimit:null,lowerProcessLimit:k||h?M.lowerProcessLimit:null,upperTwoSigma:k||h?M.upperTwoSigma:null,lowerTwoSigma:k||h?M.lowerTwoSigma:null,upperOneSigma:k||h?M.upperOneSigma:null,lowerOneSigma:k||h?M.lowerOneSigma:null,singlePointUp:!1,singlePointDown:!1,twoSigmaUp:!1,twoSigmaDown:!1,fourOfFiveUp:!1,fourOfFiveDown:!1,shiftUp:!1,shiftDown:!1,trendUp:!1,trendDown:!1,specialCauseImprovementValue:null,specialCauseConcernValue:null,variationIcon:$e.CommonCause}});for(const v of T)v.ghost||!Ve(v.value)||v.mean===null||(Ve(v.upperProcessLimit)&&v.value>v.upperProcessLimit&&(v.singlePointUp=!0),Ve(v.lowerProcessLimit)&&v.value<v.lowerProcessLimit&&(v.singlePointDown=!0));zS(T,{shiftPoints:o.shiftPoints,trendPoints:o.trendPoints,twoSigmaIncludeAboveThree:!!o.twoSigmaIncludeAboveThree,enableFourOfFiveRule:!!o.enableFourOfFiveRule}),f&&(v=>{const C=v.some(I=>(I.singlePointUp||I.twoSigmaUp||I.shiftUp||I.trendUp)&&(I.singlePointDown||I.twoSigmaDown||I.shiftDown||I.trendDown));if(s===xr.Off||s===xr.AutoWhenConflict&&!C)return;const w=tm(v),k=nm(w,{metricImprovement:n,strategy:o.trendSegmentationStrategy}),b=new Set,_=new Set;for(const I of k)for(let j=I.start;j<=I.end;j++)I.trendDirection===Kc.Up?b.add(j):_.add(j);v.forEach((I,j)=>{I.trendUp=b.has(j)?I.trendUp:!1,I.trendDown=_.has(j)?I.trendDown:!1,o.trendDominatesHighlightedWindow&&(b.has(j)?(I.singlePointDown=!1,I.twoSigmaDown=!1,I.shiftDown=!1):_.has(j)&&(I.singlePointUp=!1,I.twoSigmaUp=!1,I.shiftUp=!1))})})(T);for(const v of T){if(v.ghost||!Ve(v.value)||v.mean===null){d.push(v);continue}const{aligned:C,opposite:w}=Qp(v,n);if(v.specialCauseImprovementValue=C?v.value:null,v.specialCauseConcernValue=w?v.value:null,n===et.Neither){const k=v.singlePointUp||v.twoSigmaUp||v.shiftUp||v.trendUp,b=v.singlePointDown||v.twoSigmaDown||v.shiftDown||v.trendDown;v.variationIcon=k?$e.NeitherHigh:b?$e.NeitherLow:$e.CommonCause}else em(v,n,o.metricConflictRule,o.preferImprovementWhenConflict===!0,o.conflictStrategy,o.ruleHierarchy,o.preferTrendWhenConflict===!0);d.push(v)}}if(o.trendAcrossPartitions){const m=d.map((g,N)=>({idx:N,r:g})).filter(({r:g})=>!g.ghost&&Ve(g.value));if(m.length>=o.trendPoints)for(let g=0;g<=m.length-o.trendPoints;g++){const N=m.slice(g,g+o.trendPoints).map(v=>v.idx),M=N.map(v=>d[v]);if(!M.every(v=>Ve(v.value)))continue;let T=!0,x=!0;for(let v=1;v<M.length&&(M[v].value>M[v-1].value||(T=!1),M[v].value<M[v-1].value||(x=!1),!(!T&&!x));v++);T&&N.forEach(v=>d[v].trendUp=!0),x&&N.forEach(v=>d[v].trendDown=!0)}}if(o.trendAcrossPartitions){if(f){const m=d.some(g=>(g.singlePointUp||g.twoSigmaUp||g.shiftUp||g.trendUp)&&(g.singlePointDown||g.twoSigmaDown||g.shiftDown||g.trendDown));if(s===xr.Always||s===xr.AutoWhenConflict&&m){const g=tm(d),N=nm(g,{metricImprovement:n,strategy:o.trendSegmentationStrategy}),M=new Set,T=new Set;for(const x of N)for(let v=x.start;v<=x.end;v++)x.trendDirection===Kc.Up?M.add(v):T.add(v);d.forEach((x,v)=>{x.trendUp=M.has(v)?x.trendUp:!1,x.trendDown=T.has(v)?x.trendDown:!1,o.trendDominatesHighlightedWindow&&(M.has(v)?(x.singlePointDown=!1,x.twoSigmaDown=!1,x.shiftDown=!1):T.has(v)&&(x.singlePointUp=!1,x.twoSigmaUp=!1,x.shiftUp=!1))})}}for(const m of d){if(m.ghost||!Ve(m.value)||m.mean===null||n===et.Neither)continue;const{aligned:g,opposite:N}=Qp(m,n);m.specialCauseImprovementValue=g?m.value:null,m.specialCauseConcernValue=N?m.value:null,em(m,n,o.metricConflictRule,o.preferImprovementWhenConflict===!0,o.conflictStrategy,o.ruleHierarchy,o.preferTrendWhenConflict===!0)}}return{rows:d}}function Qc(t,e){const n=Bo(t),r=$o(n.rows,{metricImprovement:t.metricImprovement,trendVisualMode:e?.trendVisualMode??Yi.Ungated,enableNeutralNoJudgement:e?.enableNeutralNoJudgement??!0}),i=e?.boundaryWindows;if(!i||i.mode!=="RecalcCrossing")return{rows:n.rows,visuals:r};const o=i.directionOverride??t.metricImprovement,s=ZS(n.rows,o,i),l=r.map((c,u)=>{const d=s[u];if(c===xt.Common||c===xt.NoJudgement){if(d===xt.Improvement)return xt.Improvement;if(d===xt.Concern)return xt.Concern}return c});return{rows:n.rows,visuals:l}}var im=(t=>(t.None="none",t.RecalcCrossingShift="recalc-crossing-shift",t.RecalcCrossingTrend="recalc-crossing-trend",t.RecalcCrossingTwoSigma="recalc-crossing-two-sigma",t.RecalculationsRecalculated="recalculations-recalculated",t.BaselinesRecalculated="baselines-recalculated",t))(im||{});function qS(t,e,n){const r=n?.trendVisualMode??Yi.Ungated,i=n?.enableNeutralNoJudgement??!0,o=Array.isArray(t.data)?t.data.map((f,p)=>f?.baseline?p:-1).filter(f=>f>=0):[];let s;switch(e){case"recalc-crossing-shift":{s={mode:"RecalcCrossing",preWindow:2,postWindow:4,prePolarity:"Same",boundaryIndices:o};break}case"recalc-crossing-trend":{s={mode:"RecalcCrossing",preWindow:1,postWindow:5,prePolarity:"Same",boundaryIndices:o};break}case"recalc-crossing-two-sigma":{s={mode:"RecalcCrossing",preWindow:1,postWindow:1,prePolarity:"Same",boundaryIndices:o};break}case"baselines-recalculated":s={mode:"RecalcCrossing",preWindow:0,postWindow:0,prePolarity:"Same",directionOverride:t.metricImprovement,boundaryIndices:o};break;case"recalculations-recalculated":case"none":default:s=void 0}const{rows:l,visuals:c}=Qc(t,{trendVisualMode:r,enableNeutralNoJudgement:i,boundaryWindows:s});let u=c.slice(),d=o.length?o[0]:-1;if(d<0){for(let f=1;f<l.length;f++)if(l[f].partitionId!==l[f-1].partitionId){d=f;break}}return(e==="recalculations-recalculated"||e==="baselines-recalculated")&&d>0&&(u[d-1]=xt.Common),{rows:l,visuals:u}}const om=Object.freeze({minimumPoints:13,shiftPoints:6,trendPoints:6,excludeMovingRangeOutliers:!1,metricConflictRule:Ui.Improvement,trendAcrossPartitions:!0,twoSigmaIncludeAboveThree:!0,chartLevelEligibility:!0});function XS(t){return{...om,...t??{}}}var Bt=(t=>(t.Concern="concern",t.Improvement="improvement",t.NoJudgement="noJudgement",t.Common="common",t))(Bt||{}),ui=(t=>(t.Classic="classic",t.Triangle="triangle",t.TriangleWithRun="triangleWithRun",t))(ui||{}),Oo=(t=>(t.Direction="direction",t.Polarity="polarity",t))(Oo||{});const eu=t=>{const e=()=>{globalThis.__spcIconDeprecationEmitted||(console.warn("[SPCVariationIcon] Deprecated payload shape detected. Migrate to { variationIcon, improvementDirection, specialCauseNeutral?, trend? }."),globalThis.__spcIconDeprecationEmitted=!0)};if(t.variationIcon!==void 0){const s=t;let l;s.improvementDirection!==void 0?l=s.improvementDirection===et.Up?Pt.HigherIsBetter:s.improvementDirection===et.Down?Pt.LowerIsBetter:Pt.ContextDependent:s.polarity&&(l=s.polarity);let c;const u=s.variationIcon;if(u===Ke.Improvement||u===Ke.Concern||u===Ke.Neither||u===Ke.Suppressed)u===Ke.Improvement?c=ze.SpecialCauseImproving:u===Ke.Concern?c=ze.SpecialCauseDeteriorating:u===Ke.Neither?c=ze.CommonCause:c=ze.SpecialCauseNoJudgement;else switch(s.variationIcon){case $e.ImprovementHigh:case $e.ImprovementLow:c=ze.SpecialCauseImproving;break;case $e.ConcernHigh:case $e.ConcernLow:c=ze.SpecialCauseDeteriorating;break;case $e.NeitherHigh:case $e.NeitherLow:c=s.specialCauseNeutral?ze.SpecialCauseNoJudgement:ze.CommonCause;break;case $e.CommonCause:c=ze.CommonCause;break;default:c=ze.SpecialCauseNoJudgement;break}let d=s.trend;return d||(c===ze.SpecialCauseImproving?d=l===Pt.LowerIsBetter?qe.Lower:qe.Higher:c===ze.SpecialCauseDeteriorating?d=l===Pt.LowerIsBetter?qe.Higher:qe.Lower:c===ze.SpecialCauseNoJudgement?s.highSideSignal&&!s.lowSideSignal?d=qe.Higher:s.lowSideSignal&&!s.highSideSignal?d=qe.Lower:d=qe.Higher:d=qe.Higher),{state:c,direction:d,polarity:l??Pt.ContextDependent}}if(t.state!==void 0){e();const s=t;let l=s.trend;return!l&&(s.state===ze.SpecialCauseImproving||s.state===ze.SpecialCauseDeteriorating)&&s.polarity&&(s.state===ze.SpecialCauseImproving?l=s.polarity===Pt.LowerIsBetter?qe.Lower:qe.Higher:l=s.polarity===Pt.LowerIsBetter?qe.Higher:qe.Lower),l||(s.state===ze.SpecialCauseImproving?l=qe.Higher:s.state===ze.SpecialCauseDeteriorating?l=qe.Lower:l=qe.Higher),{state:s.state,direction:l,polarity:s.polarity??Pt.ContextDependent}}const n=t;e();const i={[fn.Improving]:ze.SpecialCauseImproving,[fn.Deteriorating]:ze.SpecialCauseDeteriorating,[fn.No_Judgement]:ze.SpecialCauseNoJudgement,[fn.None]:ze.CommonCause}[n.judgement];let o;return n.judgement===fn.Improving?o=n.polarity===Pt.LowerIsBetter?qe.Lower:qe.Higher:n.judgement===fn.Deteriorating?o=n.polarity===Pt.LowerIsBetter?qe.Higher:qe.Lower:o=n.trend??qe.Higher,{state:i,direction:o,polarity:n.polarity}};function sm(t,e){const{state:n,direction:r,polarity:i}=eu(t),o=Xc(n),s=r===qe.Higher?"above":"below",l=r===qe.Higher?"upwards":"downwards",c=(()=>{switch(i){case Pt.HigherIsBetter:return"For this measure, higher values are better.";case Pt.LowerIsBetter:return"For this measure, lower values are better.";default:return"Direction of improvement is context dependent."}})();return[(()=>{switch(o){case fn.Improving:return`Special cause improvement: recent data show a sustained run ${s} the mean (unlikely due to random variation).`;case fn.Deteriorating:return`Special cause deterioration: recent data show a sustained run ${s} the mean (unlikely due to random variation).`;case fn.No_Judgement:return`Special cause detected (no value judgement): recent data show a change in level, trending ${l}.`;case fn.None:default:return"Common cause variation: points vary randomly around the mean; no special cause detected."}})(),c,null,null,null,null,null].filter(Boolean).join(" ")}const tu=(t,e,n,r,i,o)=>a.jsxs("defs",{children:[r&&a.jsxs("filter",{id:e,filterUnits:"objectBoundingBox",children:[a.jsx("feGaussianBlur",{stdDeviation:"3"}),a.jsx("feOffset",{dx:"0",dy:"15",result:"blur"}),a.jsx("feFlood",{floodColor:"rgb(150,150,150)",floodOpacity:"1"}),a.jsx("feComposite",{in2:"blur",operator:"in",result:"colorShadow"}),a.jsx("feComposite",{in:"SourceGraphic",in2:"colorShadow",operator:"over"})]}),i&&a.jsx("linearGradient",{id:n,x1:"0%",y1:"0%",x2:"100%",y2:"100%",children:o.map(s=>a.jsx("stop",{offset:s.offset,stopColor:t,stopOpacity:parseFloat(s.opacity)},s.offset))})]}),nu=({data:t,precomputed:e,improvementDirection:n,size:r=44,ariaLabel:i,showLetter:o=!0,dropShadow:s=!0,gradientWash:l=!1,variant:c=ui.Classic,runLength:u=0,letterMode:d=Oo.Polarity,letterOverride:f,...p})=>{const h=$.useId(),y=$.useId(),{start:m,mid:g,end:N,triStart:M,triMid:T,triEnd:x}=Da(),{state:v,direction:C,polarity:w,ariaInput:k}=$.useMemo(()=>{if(e&&e.lastVariationIcon!==void 0){const J={variationIcon:e.lastVariationIcon,improvementDirection:n??et.Neither,specialCauseNeutral:e.latestState===ze.SpecialCauseNoJudgement},{state:ee,direction:de,polarity:te}=eu(J);return{state:ee,direction:de,polarity:te,ariaInput:J}}const{state:Q,direction:Z,polarity:re}=eu(t);return{state:Q,direction:Z,polarity:re,ariaInput:t}},[t,e,n]),b=$.useMemo(()=>Hp(v),[v]),_=$.useMemo(()=>Xc(v),[v]),I=_===fn.Improving||_===fn.Deteriorating;let j="";o&&I&&(d===Oo.Polarity?w===Pt.HigherIsBetter?j="H":w===Pt.LowerIsBetter?j="L":j="":j=C===qe.Higher?"H":"L"),f!==void 0&&(j=f);const E=v!==ze.CommonCause,F=v===ze.SpecialCauseNoJudgement,A=Jt("common-cause","#A6A6A6"),P=E?b.hex:A,R=$.useMemo(()=>$S(v,C),[v,C]),oe=i||`${b.label}${j?C===qe.Higher?" â€“ Higher":" â€“ Lower":""}`,G=sm(k);if(c===ui.TriangleWithRun){const J=[[150,90],[100,190],[200,190]],ee=[[150,140+100/2],[150-100/2,140-100/2],[150+100/2,140-100/2]];let de=null;v===ze.SpecialCauseImproving||v===ze.SpecialCauseDeteriorating?de=a.jsx("polygon",{points:(C===qe.Higher?J:ee).map(pe=>pe.join(",")).join(" "),fill:b.hex,stroke:b.hex,strokeWidth:6,transform:C===qe.Higher?"translate(0, -8)":"translate(0, 15)"}):v===ze.SpecialCauseNoJudgement&&(de=a.jsx("polygon",{points:C===qe.Higher?J.map(pe=>pe.join(",")).join(" "):ee.map(pe=>pe.join(",")).join(" "),fill:b.hex,stroke:b.hex,strokeWidth:6,transform:C===qe.Higher?"translate(0,-7)":"translate(0,14)"}));const te=Math.max(0,Math.min(5,Math.floor(u||0))),ie=v===ze.CommonCause?160:C===qe.Higher?220:70,K=10,ae=26,me=150-2*ae,Y=v===ze.CommonCause?A:Yp(v),le=Array.from({length:5}).map((pe,U)=>{const Pe=(v===ze.SpecialCauseImproving||v===ze.SpecialCauseDeteriorating)&&U>=5-te?Y:A;return a.jsx("circle",{cx:me+U*ae,cy:ie,r:K,fill:Pe,stroke:Pe,strokeWidth:1},U)}),ce=tu(b.hex,h,y,s,l,[{offset:"0%",opacity:M},{offset:"75%",opacity:T},{offset:"100%",opacity:x}]),ge=v===ze.CommonCause||C===qe.Higher?"translate(0,-10)":"translate(0,25)";return a.jsxs("svg",{width:r,height:r,viewBox:"0 0 300 300",role:"img","aria-label":oe,"aria-description":G,...p,children:[ce,a.jsx("circle",{stroke:"none",fill:l?`url(#${y})`:"#ffffff",...s?{filter:`url(#${h})`}:{},cx:"150",cy:"150",r:"120"}),a.jsx("circle",{stroke:b.hex,strokeWidth:15,strokeMiterlimit:10,fill:"none",cx:"150",cy:"150",r:"120"}),a.jsxs("g",{transform:ge,children:[de,j&&a.jsx("text",{fill:"#fff",fontFamily:"'Frutiger W01', Frutiger, Arial, 'Helvetica Neue', Helvetica, sans-serif",fontWeight:"bold",fontSize:64,x:"150",y:C===qe.Higher?155:145,textAnchor:"middle",dominantBaseline:"middle",children:j}),le]})]})}if(c===ui.Triangle){const J=[[150,75],[75,225],[225,225]],ee=[[150,150+150/2],[150-150/2,150-150/2],[150+150/2,150-150/2]],de=[[150-150/2,150+150/2],[150+150/2,150+150/2]];let te=null;v===ze.SpecialCauseImproving||v===ze.SpecialCauseDeteriorating?te=a.jsx("polygon",{points:(C===qe.Higher?J:ee).map(K=>K.join(",")).join(" "),fill:b.hex,stroke:b.hex,strokeWidth:8,transform:C===qe.Higher?"translate(0, -10)":"translate(0, 10)"}):v===ze.SpecialCauseNoJudgement?te=a.jsx("polygon",{points:C===qe.Higher?J.map(K=>K.join(",")).join(" "):ee.map(K=>K.join(",")).join(" "),fill:b.hex,stroke:b.hex,strokeWidth:8,transform:C===qe.Higher?"translate(0, -15)":"translate(0, 15)"}):v===ze.CommonCause&&(te=a.jsx("line",{x1:de[0][0],y1:de[0][1],x2:de[1][0],y2:de[1][1],stroke:b.hex,strokeWidth:32,strokeLinecap:"square",transform:"translate(0, -75)"}));const ie=tu(b.hex,h,y,s,l,[{offset:"0%",opacity:M},{offset:"65%",opacity:T},{offset:"100%",opacity:x}]);return a.jsxs("svg",{width:r,height:r,viewBox:"0 0 300 300",role:"img","aria-label":oe,"aria-description":G,...p,children:[ie,a.jsx("circle",{stroke:"none",fill:l?`url(#${y})`:"#ffffff",...s?{filter:`url(#${h})`}:{},cx:"150",cy:"150",r:"120"}),a.jsx("circle",{stroke:b.hex,strokeWidth:15,strokeMiterlimit:10,fill:"none",cx:"150",cy:"150",r:"120"}),te,j&&(v===ze.SpecialCauseImproving||v===ze.SpecialCauseDeteriorating)&&a.jsx("text",{fill:"#fff",fontFamily:"'Frutiger W01', Frutiger, Arial, 'Helvetica Neue', Helvetica, sans-serif",fontWeight:"bold",fontSize:100,x:"150",y:C===qe.Higher?"170":"140",textAnchor:"middle",dominantBaseline:"middle",children:j})]})}const D=tu(b.hex,h,y,s,l,[{offset:"0%",opacity:m},{offset:"65%",opacity:g},{offset:"100%",opacity:N}]);return a.jsxs("svg",{width:r,height:r,viewBox:"0 0 300 300",role:"img","aria-label":oe,"aria-description":G,...p,children:[D,a.jsx("circle",{stroke:"none",fill:l?`url(#${y})`:"#ffffff",...s?{filter:`url(#${h})`}:{},cx:"150",cy:"150",r:"120"}),a.jsx("circle",{stroke:b.hex,strokeWidth:15,strokeMiterlimit:10,fill:"none",cx:"150",cy:"150",r:"120"}),j&&a.jsx("text",{fill:b.hex,fontFamily:"Arial-BoldMT, Arial, 'Helvetica Neue', Helvetica, sans-serif",fontWeight:"bold",fontSize:176,transform:"translate(86.67, 54) scale(0.5, 0.5)",textAnchor:"end",children:a.jsx("tspan",{x:"120",y:C===qe.Lower?"340":"155",children:j})}),F?a.jsx("path",{"aria-hidden":"true",fillRule:"evenodd",stroke:"none",fill:b.hex,...C===qe.Lower?{transform:"rotate(90 150 150)"}:{transform:"translate(-5 0) rotate(0 150 150)"},d:"M 90.26,185.42 L 149.31,126.37 127.44,104.51 209.81,90.66 195.96,173.02 174.09,151.16 115.05,210.2 90.26,185.42 Z M 90.26,185.42"}):a.jsxs(a.Fragment,{children:[R.length===5&&a.jsx("path",{"aria-hidden":"true",fill:"none",stroke:A,strokeWidth:12,strokeLinecap:"round",strokeLinejoin:"round",opacity:.9,d:`M ${R.map(Q=>`${Q.cx} ${Q.cy}`).join(" L ")}`}),R.map((Q,Z)=>{const J=Z>=R.length-2&&E?P:A,ee=J;return a.jsx("circle",{stroke:ee,strokeWidth:2,strokeMiterlimit:10,fill:J,cx:Q.cx,cy:Q.cy,r:16},Z)})]})]})};nu.displayName="SPCVariationIcon";const JS={[Lt.Xs]:{height:24,pointR:2,stroke:1},[Lt.Sm]:{height:32,pointR:3,stroke:1},[Lt.Md]:{height:44,pointR:4,stroke:1},[Lt.Lg]:{height:56,pointR:5,stroke:1},[Lt.Xl]:{height:72,pointR:6,stroke:1},[Lt.Full]:{height:44,pointR:2,stroke:1}};function KS(t,e){return!e||t.length<=e?t:t.slice(t.length-e)}function QS(t){const e=t.filter(s=>typeof s.value=="number");if(!e.length)return{mean:null,latestValue:null,latestIndex:null};const n=e.reduce((s,l)=>s+l.value,0)/e.length,r=[...t].reverse().findIndex(s=>s.value!=null),i=r>=0?t.length-1-r:null,o=i!=null?t[i].value:null;return{mean:n,latestValue:o,latestIndex:i}}const ek=t=>Yp(t),am=({data:t,windowSize:e,minPointsForSignals:n=13,showMean:r=!0,showLimits:i=!0,showLimitBand:o=!0,showInnerBands:s=!1,showLatestMarker:l=!0,showStateGlyph:c=!0,variationState:u,metricImprovement:d,gradientWash:f=!1,size:p=Lt.Sm,ariaLabel:h,className:y,onPointClick:m,maxPoints:g,thinningStrategy:N="stride",colorPointsBySignal:M=!0,centerLine:T,controlLimits:x,sigmaBands:v,pointSignals:C,pointNeutralSpecialCause:w,visualCategories:k})=>{const b=d,_=$.useMemo(()=>KS(t,e),[t,e]),I=$.useMemo(()=>QS(_),[_]),j=(()=>{if(typeof p=="string")switch(p){case"xs":return Lt.Xs;case"sm":return Lt.Sm;case"md":return Lt.Md;case"lg":return Lt.Lg;case"xl":return Lt.Xl;case"full":return Lt.Full;default:return Lt.Sm}return p??Lt.Sm})(),E=JS[j],F=Math.max(_.length*6,60),A=F,P=j===Lt.Full?"100%":F,R=E.height,oe=$.useMemo(()=>{if(j===Lt.Full)return{width:"100%",height:"auto",aspectRatio:`${A} / ${R}`,display:"block"}},[j,A,R]),G=Math.max(6,E.pointR+3),D=Math.max(4,E.pointR+3),Q=$.useMemo(()=>(t?.length??0)-(_?.length??0),[t?.length,_?.length]),Z=T??I.mean??null,re=$.useMemo(()=>{if(!i)return null;if(x)return x;const W=_.filter(B=>typeof B.value=="number");if(!W.length||Z==null)return null;const L=W.map(B=>B.value),O=Math.min(...L),V=Math.max(...L);return{lower:O,upper:V}},[i,x?.lower,x?.upper,_,Z]),ee=$.useMemo(()=>({state:u??ze.CommonCause,firedRules:[],mean:Z??null,stdDev:null,side:I.latestValue!=null&&Z!=null?I.latestValue>Z?"above":"below":void 0}),[u,Z,I.latestValue]).state,de=ek(ee),te=W=>{const L=_.filter(z=>z.value!=null);if(!L.length)return R/2;const O=L.map(z=>z.value);re&&(re.lower!=null&&O.push(re.lower),re.upper!=null&&O.push(re.upper));const V=Math.min(...O),B=Math.max(...O);return V===B?R/2:R-(W-V)/(B-V)*(R-D*2)-D},ie=$.useMemo(()=>{if(!g||_.length<=g)return _.map((H,q)=>q);if(N==="stride"){const H=Math.max(2,g),q=(_.length-1)/(H-1),ne=new Set;for(let se=0;se<H;se++)ne.add(Math.round(se*q));return ne.add(_.length-1),Array.from(ne).sort((se,ye)=>se-ye)}const W=_.map((H,q)=>({i:q,v:H.value}));function L(H,q,ne){const se=H.i,ye=H.v??0,he=q.i,xe=q.v??0,Ce=ne.i,we=ne.v??0,Ge=Math.abs((we-xe)*se-(Ce-he)*ye+Ce*xe-we*he),Oe=Math.hypot(we-xe,Ce-he);return Oe===0?0:Ge/Oe}function O(H,q){if(H.length<=2)return H;let ne=-1,se=-1;for(let ye=1;ye<H.length-1;ye++){const he=L(H[ye],H[0],H[H.length-1]);he>ne&&(ne=he,se=ye)}if(ne>q){const ye=O(H.slice(0,se+1),q),he=O(H.slice(se),q);return[...ye.slice(0,-1),...he]}return[H[0],H[H.length-1]]}let V=.1,B=W;for(let H=0;H<8&&(B=O(W,V),!(B.length<=g));H++)V*=1.6;const z=new Set(B.map(H=>H.i));return z.add(0),z.add(_.length-1),Array.from(z).sort((H,q)=>H-q)},[_,g,N]),K=$.useMemo(()=>ie.map(W=>_[W]),[ie,_]),ae=$.useMemo(()=>Math.max(1,A-G*2),[A,G]),me=$.useMemo(()=>{const W=Math.max(1,K.length-1);return L=>L/W*ae+G},[K.length,ae,G]),Y=$.useMemo(()=>{let W="";return K.forEach((L,O)=>{if(L.value==null)return;const V=te(L.value),B=me(O);W+=W?` L ${B} ${V}`:`M ${B} ${V}`}),W},[K,me]),le=I.latestIndex??-1,ce=re,ge=Da(),pe=$.useMemo(()=>`spc-spark-wash-${Math.random().toString(36).slice(2)}`,[_.length,f]),U=_.length>=(n||0),Ee=h||"SPC sparkline",Pe=(()=>{if(!ee)return;const W=b===et.Up?Pt.HigherIsBetter:b===et.Down?Pt.LowerIsBetter:Pt.ContextDependent,L={variationIcon:ee===ze.SpecialCauseImproving?Ke.Improvement:ee===ze.SpecialCauseDeteriorating?Ke.Concern:ee===ze.SpecialCauseNoJudgement?Ke.Suppressed:Ke.Neither,trend:b===et.Up?qe.Higher:qe.Lower,polarity:W};try{return sm(L)}catch{return}})(),je=$.useMemo(()=>{if(!U)return 10;const W=[..._].reverse().filter(O=>O.value!=null).slice(0,6).map(O=>te(O.value));return W.length&&W.reduce((O,V)=>O+V,0)/W.length<R/2?R:10},[_,U,R]);return a.jsxs("svg",{role:"img","aria-label":Ee,"aria-description":Pe,width:j===Lt.Full?void 0:P,height:j===Lt.Full?void 0:R,style:oe,className:y,viewBox:`0 0 ${A} ${R}`,children:[f&&a.jsxs(a.Fragment,{children:[a.jsx("defs",{children:a.jsxs("linearGradient",{id:pe,x1:"0",y1:"0",x2:"0",y2:"1",children:[a.jsx("stop",{offset:"0%",stopColor:de,stopOpacity:Number(ge.start)}),a.jsx("stop",{offset:"60%",stopColor:de,stopOpacity:Number(ge.mid)}),a.jsx("stop",{offset:"100%",stopColor:de,stopOpacity:Number(ge.end)})]})}),a.jsx("rect",{x:0,y:0,width:A,height:R,fill:`url(#${pe})`})]}),ce&&ce.lower!=null&&ce.upper!=null&&a.jsxs(a.Fragment,{children:[o&&a.jsx("rect",{x:0,y:Math.min(te(ce.upper),te(ce.lower)),width:A,height:Math.abs(te(ce.upper)-te(ce.lower)),fill:de,fillOpacity:.08}),a.jsx("line",{x1:0,x2:A,y1:te(ce.lower),y2:te(ce.lower),stroke:de,strokeDasharray:"4,4",strokeOpacity:.3,strokeWidth:1}),a.jsx("line",{x1:0,x2:A,y1:te(ce.upper),y2:te(ce.upper),stroke:de,strokeDasharray:"4,4",strokeOpacity:.3,strokeWidth:1}),v&&s&&a.jsxs(a.Fragment,{children:[v.lowerTwo!=null&&a.jsx("line",{x1:0,x2:A,y1:te(v.lowerTwo),y2:te(v.lowerTwo),stroke:de,strokeDasharray:"3,6",strokeOpacity:.2,strokeWidth:1}),v.lowerOne!=null&&a.jsx("line",{x1:0,x2:A,y1:te(v.lowerOne),y2:te(v.lowerOne),stroke:de,strokeDasharray:"2,6",strokeOpacity:.2,strokeWidth:1}),v.upperOne!=null&&a.jsx("line",{x1:0,x2:A,y1:te(v.upperOne),y2:te(v.upperOne),stroke:de,strokeDasharray:"2,6",strokeOpacity:.2,strokeWidth:1}),v.upperTwo!=null&&a.jsx("line",{x1:0,x2:A,y1:te(v.upperTwo),y2:te(v.upperTwo),stroke:de,strokeDasharray:"3,6",strokeOpacity:.2,strokeWidth:1})]})]}),r&&Z!=null&&a.jsx("line",{x1:0,x2:A,y1:te(Z),y2:te(Z),stroke:li(),strokeWidth:1,strokeDasharray:"2,2"}),a.jsx("path",{d:Y,fill:"none",stroke:li(),strokeWidth:E.stroke,strokeLinecap:"round"}),ie.map((W,L)=>{const O=_[W];if(!O||O.value==null)return null;const V=te(O.value),B=me(L),H=(W===le&&l?E.pointR+1:E.pointR)-.5;let q=li();if(M){const ne=k?.[Q+W];if(ne!=null)ne===xt.Improvement?q=Pa(Ke.Improvement):ne===xt.Concern?q=Pa(Ke.Concern):ne===xt.NoJudgement?q=Jt("no-judgement","#490092"):q=li();else{const se=C?.[Q+W];se===Ke.Improvement||se===Ke.Concern?q=Pa(se):q=w?.[Q+W]?Jt("no-judgement","#490092"):li()}}return a.jsx("circle",{cx:B,cy:V,r:H,fill:q,stroke:"none",strokeWidth:0,onClick:m?()=>m(W,O):void 0,style:m?{cursor:"pointer"}:void 0,"data-index":W,"data-signal-colour":M?q:void 0},W)}),c&&U&&ee&&ee!==ze.CommonCause&&b&&a.jsx("text",{x:A-4,y:je,textAnchor:"end",fontSize:12,fontWeight:"bold",fill:de,"data-glyph-pos":je<R/2?"top":"bottom",children:b===et.Up?"H":"L"})]})};am.displayName="SPCSpark";function Fa(t){switch(t){case $e.ImprovementHigh:case $e.ImprovementLow:return ze.SpecialCauseImproving;case $e.ConcernHigh:case $e.ConcernLow:return ze.SpecialCauseDeteriorating;case $e.NeitherHigh:case $e.NeitherLow:return ze.SpecialCauseNoJudgement;case $e.CommonCause:return ze.CommonCause;default:return null}}function lm(t){return t===$e.ImprovementHigh||t===$e.ImprovementLow||t===$e.ConcernHigh||t===$e.ConcernLow||t===$e.NeitherHigh||t===$e.NeitherLow}function tk({warnings:t,show:e,formatWarningCategory:n,formatWarningCode:r}){const[i,o]=X.useState(""),s=X.useRef("");return X.useEffect(()=>{if(!e){s.current!==""&&(s.current="",o(""));return}const l=t.length;if(!l){const f="Diagnostics: no warnings.";f!==s.current&&(s.current=f,o(f));return}const c={error:t.filter(f=>f.severity===Xn.Error).length,warning:t.filter(f=>f.severity===Xn.Warning).length,info:t.filter(f=>f.severity===Xn.Info).length},u=[];c.error&&u.push(`${c.error} error${c.error===1?"":"s"}`),c.warning&&u.push(`${c.warning} warning${c.warning===1?"":"s"}`),c.info&&u.push(`${c.info} info`);const d=`Diagnostics updated: ${l} warning${l===1?"":"s"} (${u.join(", ")}).`;d!==s.current&&(s.current=d,o(d))},[e,t]),e?a.jsxs(a.Fragment,{children:[i&&a.jsx("div",{"data-testid":"spc-diagnostics-live","aria-live":"polite",style:{position:"absolute",width:1,height:1,padding:0,margin:0,overflow:"hidden",clip:"rect(0 0 0 0)",whiteSpace:"nowrap",border:0},children:i}),t.length>0&&a.jsxs("div",{className:"fdp-spc-chart__warnings",role:"region","aria-label":"SPC diagnostics",children:[a.jsx("p",{className:"fdp-spc-chart__warnings-heading",children:"Diagnostics"}),a.jsx(Vn,{firstCellIsHeader:!1,panel:!1,responsive:!1,head:[{text:"Severity"},{text:"Category"},{text:"Code"},{text:"Details"}],rows:t.map(l=>{let c="grey";return l.severity===Xn.Error?c="red":l.severity===Xn.Warning?c="orange":l.severity===Xn.Info&&(c="blue"),[{node:a.jsx(pt,{color:c,text:(l.severity?String(l.severity):"Info").replace(/^[a-z]/,u=>u.toUpperCase())}),classes:"fdp-spc-chart__warning-cell fdp-spc-chart__warning-cell--severity"},{node:l.category?a.jsx(pt,{color:"purple",text:n(l.category)}):a.jsx("span",{className:"fdp-spc-chart__warning-empty",children:"â€“"}),classes:"fdp-spc-chart__warning-cell fdp-spc-chart__warning-cell--category"},{node:a.jsx(pt,{color:"grey",text:r(l.code)}),classes:"fdp-spc-chart__warning-cell fdp-spc-chart__warning-cell--code"},{node:a.jsxs("div",{className:"fdp-spc-chart__warning-message",children:[a.jsx("span",{children:l.message}),l.context&&Object.keys(l.context).length>0&&a.jsxs("details",{className:"fdp-spc-chart__warning-context",style:{marginTop:4},children:[a.jsx("summary",{children:"context"}),a.jsx("pre",{children:JSON.stringify(l.context,null,2)})]})]}),classes:"fdp-spc-chart__warning-cell fdp-spc-chart__warning-cell--message"}]}),classes:"fdp-spc-chart__warnings-table-wrapper",tableClasses:"fdp-spc-chart__warnings-table"})]})]}):null}function nk({variationNode:t,assuranceNode:e,show:n}){return n?a.jsxs("div",{className:"fdp-spc-chart__top-row",style:{display:"flex",justifyContent:"flex-end",marginBottom:4},children:[t,e]}):null}const ru=({status:t,size:e=44,ariaLabel:n,dropShadow:r=!0,colourOverride:i,gradientWash:o=!1,letterOverride:s,showTrendLines:l=!0,...c})=>{const u=$.useId(),d=$.useId(),{start:f,mid:p,end:h}=Da(),y=i||AS[t],m=(s||ES[t]).slice(0,2),g=n||`Assurance ${t}`;return a.jsxs("svg",{width:e,height:e,viewBox:"0 0 300 300",role:"img","aria-label":g,...c,children:[a.jsxs("defs",{children:[r&&a.jsxs("filter",{id:u,filterUnits:"objectBoundingBox",children:[a.jsx("feGaussianBlur",{stdDeviation:"3"}),a.jsx("feOffset",{dx:"-1",dy:"15",result:"blur"}),a.jsx("feFlood",{floodColor:"rgb(166,166,166)",floodOpacity:"1"}),a.jsx("feComposite",{in2:"blur",operator:"in",result:"colorShadow"}),a.jsx("feComposite",{in:"SourceGraphic",in2:"colorShadow",operator:"over"})]}),o&&a.jsxs("linearGradient",{id:d,x1:"0%",y1:"0%",x2:"100%",y2:"100%",children:[a.jsx("stop",{offset:"0%",stopColor:y,stopOpacity:parseFloat(f)}),a.jsx("stop",{offset:"65%",stopColor:y,stopOpacity:parseFloat(p)}),a.jsx("stop",{offset:"100%",stopColor:"#ffffff",stopOpacity:parseFloat(h)})]})]}),a.jsx("circle",{stroke:"none",fill:o?`url(#${d})`:"#ffffff",...r?{filter:`url(#${u})`}:{},cx:"150",cy:"150",r:"120"}),a.jsx("text",{fill:y,fontFamily:"Arial-BoldMT, Arial, 'Helvetica Neue', Helvetica, sans-serif",fontWeight:"bold",fontSize:176,x:0,y:0,transform:"translate(121.01, 32) scale(0.5, 0.5)",textAnchor:"middle",children:a.jsx("tspan",{x:60,y:184,children:m})}),l&&a.jsxs(a.Fragment,{children:[t===ai.Fail?a.jsx("path",{id:"fail-line",stroke:y,strokeWidth:9.5,strokeMiterlimit:9.5,strokeDasharray:"35,10",strokeDashoffset:0,fill:"none",d:"M 33,143 L 268,143"}):t===ai.Uncertain?a.jsx("path",{id:"uncertain-line",stroke:"rgb(166, 166, 166)",strokeWidth:9.5,strokeMiterlimit:9.5,strokeDasharray:"16.5,10",strokeDashoffset:0,fill:"none",d:"M 36,174 L 266,174"}):a.jsx("path",{id:"pass-line",stroke:y,strokeWidth:9.5,strokeMiterlimit:9.5,strokeDasharray:"35,10",strokeDashoffset:0,fill:"none",d:"M 48,204 L 254,204"}),a.jsx("path",{id:"data-sparkline",stroke:"rgb(166, 166, 166)",strokeWidth:12,strokeMiterlimit:12,fill:"none",d:"M 59.9,187.91 C 72.79,171.72 87.33,158.06 104.4,157.83 121.91,158.58 140.94,187.85 153.4,189.91 164.1,192.12 163.78,171.38 169.17,170.53 172.87,169.55 174.88,187.45 184.94,189.24 197,191.86 230.54,184.47 239.01,185.9"}),a.jsx("circle",{stroke:y,strokeWidth:15,strokeMiterlimit:10,fill:"none",cx:"150",cy:"150",r:"120"})]})]})};ru.displayName="SPCAssuranceIcon";const rk=Object.freeze(Object.defineProperty({__proto__:null,AssuranceResult:ai,Direction:qe,MetricPolarity:Pt,SPCAssuranceIcon:ru,SPCVariationIcon:nu,VariationJudgement:fn,VariationState:ze,getVariationColour:Hp,getVariationTrend:Xc},Symbol.toStringTag,{value:"Module"}));function ik(t){const{show:e,rowsForUi:n,minPoints:r,metricImprovement:i,variant:o,runLength:s}=t;if(!e||!n?.length)return null;const l=n,c=typeof r=="number"&&!isNaN(r)?r:13;if(l.filter(v=>!v.data.ghost&&v.data.value!=null).length<c)return null;let d=-1;for(let v=l.length-1;v>=0;v--){const C=l[v];if(C&&C.data.value!=null&&!C.data.ghost){d=v;break}}if(d===-1)return null;const f=l[d],p=f.classification?.variation,h=f.classification?.assurance,y=p===Ke.Neither&&!!f.classification?.neutralSpecialCauseValue,m=h===Er.Pass?ai.Pass:h===Er.Fail?ai.Fail:ai.Uncertain;let g;if(p===Ke.Suppressed){const v=!!f.rules.singlePoint.up,C=!!f.rules.singlePoint.down;i===Ar.Up?v?g=qe.Higher:C&&(g=qe.Lower):i===Ar.Down?C?g=qe.Lower:v&&(g=qe.Higher):g=qe.Higher}else if(p===Ke.Neither&&y){const v=f.rules.singlePoint.up||f.rules.twoOfThree.up||f.rules.fourOfFive.up||f.rules.shift.up||f.rules.trend.up,C=f.rules.singlePoint.down||f.rules.twoOfThree.down||f.rules.fourOfFive.down||f.rules.shift.down||f.rules.trend.down;v&&!C?g=qe.Higher:C&&!v?g=qe.Lower:g=qe.Higher}const N=80,M=f.rules.singlePoint.up||f.rules.twoOfThree.up||f.rules.fourOfFive.up||f.rules.shift.up||f.rules.trend.up,T=f.rules.singlePoint.down||f.rules.twoOfThree.down||f.rules.fourOfFive.down||f.rules.shift.down||f.rules.trend.down;let x=$e.CommonCause;return p===Ke.Improvement?x=$e.ImprovementHigh:p===Ke.Concern?x=$e.ConcernHigh:p===Ke.Neither&&(y?g===qe.Lower||T&&!M?x=$e.NeitherLow:x=$e.NeitherHigh:x=$e.CommonCause),a.jsxs("div",{style:{display:"flex",gap:12,marginRight:16},children:[a.jsx("div",{className:"fdp-spc-chart__embedded-icon","data-variation":String(p),"data-trend":g?String(g):"none",style:{width:N,height:N},children:a.jsx(nu,{dropShadow:!1,data:{variationIcon:x,improvementDirection:i,specialCauseNeutral:y,highSideSignal:M,lowSideSignal:T,...g?{trend:g}:{}},letterMode:i===Ar.Neither?Oo.Direction:Oo.Polarity,size:N,variant:o,runLength:o===ui.TriangleWithRun?s:void 0})}),a.jsx("div",{className:"fdp-spc-chart__embedded-assurance-icon","data-assurance":String(h),style:{width:N,height:N},children:a.jsx(ru,{status:m,size:N,dropShadow:!1})})]},`embedded-icon-${d}`)}const cm=({engineRows:t,limits:e,pointDescriber:n,measureName:r,measureUnit:i,dateFormatter:o,enableNeutralNoJudgement:s=!0,showTrendGatingExplanation:l=!0})=>{const c=vr(),u=Pr(),[d,f]=X.useState(null),[p,h]=X.useState(!1),y=X.useRef(null);X.useEffect(()=>{if(c){if(c.focused&&(f(c.focused),y.current&&(cancelAnimationFrame(y.current),y.current=null)),!c.focused&&!p){const je=requestAnimationFrame(()=>{f(null),y.current=null});y.current=je}return()=>{y.current&&(cancelAnimationFrame(y.current),y.current=null)}}},[c,c?.focused,p]);const m=c&&(c.focused||(p?d:null)||d),[g,N]=X.useState(!1);X.useEffect(()=>{const je=requestAnimationFrame(()=>N(!0));return()=>cancelAnimationFrame(je)},[m?.index]);const M=u?.innerWidth??0,T=u?.innerHeight??0,x=m?Math.min(Math.max(m.clientX,0),M):0,v=m?Math.min(Math.max(m.clientY,0),T):0,C=u?.ref?.current||void 0;if(!m)return null;const w=t?.[m.index],b=Ma(w?{specialCauseSinglePointUp:!!w.rules.singlePoint.up,specialCauseSinglePointDown:!!w.rules.singlePoint.down,specialCauseTwoOfThreeUp:!!w.rules.twoOfThree.up,specialCauseTwoOfThreeDown:!!w.rules.twoOfThree.down,specialCauseFourOfFiveUp:!!w.rules.fourOfFive.up,specialCauseFourOfFiveDown:!!w.rules.fourOfFive.down,specialCauseShiftUp:!!w.rules.shift.up,specialCauseShiftDown:!!w.rules.shift.down,specialCauseTrendUp:!!w.rules.trend.up,specialCauseTrendDown:!!w.rules.trend.down}:null).map(je=>({id:je,label:Hi[je].tooltip})),_=m.x instanceof Date?m.x:new Date(m.x),I=o?o(_):_.toDateString(),j=i?`${i}`:"",E=r||j?`${m.y}${j?""+j:" "}${r?" "+r:""}`:`${m.y}`,F=Ta(w?.classification?.variation),A=Rp(w?.classification?.assurance),P=LS(e.mean??null,e.sigma,m.y),R=n?n(m.index,{x:m.x,y:m.y}):void 0,oe=F||A||P,G=w?.rules.trend.up||w?.rules.trend.down,D=w?.classification?.variation===Ke.Neither&&G,Q=l&&D?"Trend detected (monotonic run) â€“ held neutral until values cross onto the favourable side of the mean.":null,Z=b.length>0,re=w&&"primeDirection"in w?w.primeDirection:void 0,J=w&&"primeRuleId"in w?w.primeRuleId:void 0,ee=s&&w?.classification?.variation===Ke.Neither&&Z,de="var(--nhs-fdp-color-primary-yellow, #ffeb3b)",te=zp(w?.classification?.variation),ie=6.2,ae=[R||"",`${I} â€¢ ${E}`].filter(Boolean).reduce((je,W)=>Math.max(je,W.length*ie+32),0),me=200,Y=440,le=Math.min(Y,Math.max(me,ae));let ce=x+12,pe=(u.margin?.top??0)+v+16;ce+le>M&&(ce=x- -60-le),ce<0&&(ce=Math.max(0,M-le));const U=m?`spc-tooltip-${m.index}`:"spc-tooltip",Ee=typeof m.index=="number"?m.index:NaN,Pe=C?sv.createPortal(a.jsx("div",{id:U,className:"fdp-spc-tooltip fdp-spc-tooltip-portal"+(g?" is-visible":""),style:{position:"absolute",left:ce,top:pe,width:le,maxWidth:Y,zIndex:10,pointerEvents:"auto",userSelect:"none"},role:"tooltip","aria-live":"polite","aria-hidden":g?"false":"true","data-floating":!0,"data-placement":ce+le+12>M?"left":"right",onPointerEnter:()=>{h(!0),y.current&&(cancelAnimationFrame(y.current),y.current=null)},onPointerLeave:()=>{if(h(!1),!c?.focused){const je=requestAnimationFrame(()=>{f(null),y.current=null});y.current=je}},children:a.jsxs("div",{className:"fdp-spc-tooltip__body",children:[a.jsxs("div",{className:"fdp-spc-tooltip__section fdp-spc-tooltip__section--point",children:[a.jsx("div",{className:"fdp-spc-tooltip__section-label",children:a.jsx("strong",{children:"Point"})}),a.jsxs("div",{className:"fdp-spc-tooltip__primary-line",children:["Index: ",Ee]})]}),a.jsxs("div",{className:"fdp-spc-tooltip__section fdp-spc-tooltip__section--date",children:[a.jsx("div",{className:"fdp-spc-tooltip__section-label",children:a.jsx("strong",{children:"Date"})}),a.jsx("div",{className:"fdp-spc-tooltip__primary-line",children:I})]}),a.jsxs("div",{className:"fdp-spc-tooltip__section fdp-spc-tooltip__section--value",children:[a.jsx("div",{className:"fdp-spc-tooltip__section-label",children:a.jsx("strong",{children:"Value"})}),a.jsx("div",{className:"fdp-spc-tooltip__primary-line",children:E})]}),oe&&a.jsxs("div",{className:"fdp-spc-tooltip__section fdp-spc-tooltip__section--signals",children:[a.jsx("div",{className:"fdp-spc-tooltip__section-label",children:a.jsx("strong",{children:"Signals"})}),a.jsx("div",{className:"fdp-spc-tooltip__badges","aria-label":"Signals",children:F?.toLowerCase().includes("concern")?a.jsx(pt,{text:F,color:"default",className:"fdp-spc-tooltip__tag fdp-spc-tag fdp-spc-tag--concern"}):F?.toLowerCase().includes("improvement")?a.jsx(pt,{text:F,color:"default",className:"fdp-spc-tooltip__tag fdp-spc-tag fdp-spc-tag--improvement"}):ee?a.jsx(pt,{text:"No judgement",color:"default",className:"fdp-spc-tooltip__tag fdp-spc-tag fdp-spc-tag--no-judgement","aria-label":"Neutral special cause (no directional judgement)"}):F?a.jsx(pt,{text:F,color:"default",className:"fdp-spc-tooltip__tag fdp-spc-tag fdp-spc-tag--common"}):null})]}),A&&a.jsxs("div",{className:"fdp-spc-tooltip__section fdp-spc-tooltip__section--assurance",children:[a.jsx("div",{className:"fdp-spc-tooltip__section-label",children:a.jsx("strong",{children:"Assurance"})}),a.jsx("div",{className:"fdp-spc-tooltip__badges","aria-label":"Limits",children:(()=>{const je=A.toLowerCase(),L=!(je.includes("not met")||je.includes("not achieved"))&&/(^|\b)(met|achieved)(\b|$)/.test(je);return a.jsx(pt,{text:A,color:"default",className:`fdp-spc-tooltip__tag fdp-spc-tag fdp-spc-tag--assurance ${L?"fdp-spc-tag--improvement":"fdp-spc-tag--concern"}`,"aria-label":`Assurance: ${A}`})})()})]}),P&&a.jsxs("div",{className:"fdp-spc-tooltip__section fdp-spc-tooltip__section--limits",children:[a.jsx("div",{className:"fdp-spc-tooltip__section-label",children:a.jsx("strong",{children:"Control Limits & Sigma"})}),a.jsx("div",{className:"fdp-spc-tooltip__badges","aria-label":"Limits",children:a.jsx(pt,{text:(()=>{const je=P.toLowerCase();return je.startsWith("within 1")?"â‰¤1Ïƒ":je.startsWith("1â€“2")?"1â€“2Ïƒ":je.startsWith("2â€“3")?"2â€“3Ïƒ":je.startsWith(">3")?">3Ïƒ":P})(),color:P.includes(">3")?"orange":P.includes("2â€“3")?"yellow":"grey","aria-label":`Sigma zone: ${P}`,className:"fdp-spc-tooltip__tag fdp-spc-tag fdp-spc-tag--zone"})})]}),Q&&a.jsxs("div",{className:"fdp-spc-tooltip__section fdp-spc-tooltip__section--gating","data-gating":!0,children:[a.jsx("div",{className:"fdp-spc-tooltip__section-label",children:a.jsx("strong",{children:"Trend gating"})}),a.jsx("div",{className:"fdp-spc-tooltip__explanation","aria-live":"off",children:Q})]}),Z&&a.jsxs("div",{className:"fdp-spc-tooltip__section fdp-spc-tooltip__section--rules",children:[a.jsx("div",{className:"fdp-spc-tooltip__section-label",children:a.jsx("strong",{children:"Special cause"})}),a.jsx("div",{className:"fdp-spc-tooltip__rule-tags","aria-label":"Special cause rules",children:b.map(({id:je,label:W})=>{const L=String(je),V=L===Fo.TrendIncreasing||L===Fo.TrendDecreasing?"fdp-spc-tag--trend":ee?"fdp-spc-tag--no-judgement":F?F.toLowerCase().includes("concern")?"fdp-spc-tag--concern":F.toLowerCase().includes("improvement")?"fdp-spc-tag--improvement":"fdp-spc-tag--common":"fdp-spc-tag--common";return a.jsx(pt,{text:W,color:"default",className:`fdp-spc-tooltip__tag fdp-spc-tag ${V}`,"data-rule-id":L},L)})}),re&&a.jsxs("div",{className:"fdp-spc-tooltip__section fdp-spc-tooltip__section--rules",style:{marginTop:16},children:[a.jsx("div",{className:"fdp-spc-tooltip__section-label",style:{marginBottom:6},children:a.jsx("strong",{children:"Prime Direction"})}),(()=>{const je=ee?"fdp-spc-tag--no-judgement":F?F.toLowerCase().includes("concern")?"fdp-spc-tag--concern":F.toLowerCase().includes("improvement")?"fdp-spc-tag--improvement":"fdp-spc-tag--common":"fdp-spc-tag--common",W=`${re}${J?` (${J})`:""}`;return a.jsx(pt,{text:W,color:"default",className:`fdp-spc-tooltip__tag fdp-spc-tag ${je}`,"aria-label":`Prime direction ${re}${J?` via ${J}`:""}`})})()]})]})]})}),C):null;return a.jsxs("g",{className:"fdp-tooltip-layer fdp-spc-tooltip",pointerEvents:"none","aria-hidden":"true",children:[a.jsx("circle",{cx:x,cy:v,r:7,fill:"none",stroke:de,strokeWidth:3}),a.jsx("circle",{cx:x,cy:v,r:5,fill:"#000",stroke:de,strokeWidth:1.5}),a.jsx("circle",{cx:x,cy:v,r:2.5,fill:te,stroke:"#fff",strokeWidth:.5}),Pe]})},ok=({engineRows:t,measureName:e,measureUnit:n,onSignalFocus:r})=>{const i=vr(),o=i?.focused??null,s=o?.index??null,l=typeof s=="number"&&t?t[s]:null,c=X.useMemo(()=>l?Ma({specialCauseSinglePointUp:!!l.rules.singlePoint.up,specialCauseSinglePointDown:!!l.rules.singlePoint.down,specialCauseTwoOfThreeUp:!!l.rules.twoOfThree.up,specialCauseTwoOfThreeDown:!!l.rules.twoOfThree.down,specialCauseFourOfFiveUp:!!l.rules.fourOfFive.up,specialCauseFourOfFiveDown:!!l.rules.fourOfFive.down,specialCauseShiftUp:!!l.rules.shift.up,specialCauseShiftDown:!!l.rules.shift.down,specialCauseTrendUp:!!l.rules.trend.up,specialCauseTrendDown:!!l.rules.trend.down}):[],[l]),u=X.useMemo(()=>Array.from(new Set(c.map(m=>Hi[m]?.narration).filter(Boolean))),[c]),d=l?Ta(l.classification?.variation):null,f=l?Rp(l.classification?.assurance):null,p=c.length>0,h=l?l.classification?.variation===Ke.Neither&&p:!1,y=X.useRef(null);return X.useEffect(()=>{if(!r||!o||l==null)return;const m=`${o.seriesId}:${o.index}`;if(y.current!==m){y.current=m;try{r({index:o.index,x:o.x,y:o.y,row:l,rules:c})}catch{}}},[o?.seriesId,o?.index,o?.x,o?.y,l,c,r]),a.jsxs("div",{className:"fdp-spc-inspector",role:"region","aria-label":"Signals inspector","data-testid":"spc-signals-inspector",children:[a.jsxs("div",{className:"fdp-spc-inspector__header",style:{display:"flex",alignItems:"center",justifyContent:"space-between"},children:[a.jsx("strong",{children:"Signals inspector"}),a.jsx("div",{className:"fdp-spc-inspector__nav","aria-hidden":!i,children:i&&a.jsxs("div",{style:{display:"flex",gap:8},children:[a.jsx("button",{type:"button",className:"fdp-button fdp-button--secondary",onClick:()=>{i.focused?i.focusPrevPoint():i.focusFirstPoint()},"aria-label":"Previous point",children:"â—€"}),a.jsx("button",{type:"button",className:"fdp-button fdp-button--secondary",onClick:()=>{i.focused?i.focusNextPoint():i.focusFirstPoint()},"aria-label":"Next point",children:"â–¶"})]})})]}),!l||!o?a.jsx("p",{className:"fdp-spc-inspector__empty",children:"No point selected."}):a.jsxs("div",{className:"fdp-spc-inspector__body",children:[a.jsxs("div",{className:"fdp-spc-inspector__summary",style:{display:"flex",gap:16,flexWrap:"wrap"},children:[a.jsxs("span",{children:[a.jsx("strong",{children:"Point:"})," ",o.index+1]}),a.jsxs("span",{children:[a.jsx("strong",{children:"Value:"})," ",o.y,n?` ${n}`:"",e?` ${e}`:""]})]}),(d||h||f)&&a.jsx("div",{className:"fdp-spc-inspector__signals",style:{marginTop:8},children:a.jsxs("div",{style:{display:"flex",gap:8,flexWrap:"wrap",alignItems:"center"},children:[d?.toLowerCase().includes("concern")?a.jsx(pt,{text:d,color:"default",className:"fdp-spc-tooltip__tag fdp-spc-tag fdp-spc-tag--concern"}):d?.toLowerCase().includes("improvement")?a.jsx(pt,{text:d,color:"default",className:"fdp-spc-tooltip__tag fdp-spc-tag fdp-spc-tag--improvement"}):h?a.jsx(pt,{text:"No judgement",color:"default",className:"fdp-spc-tooltip__tag fdp-spc-tag fdp-spc-tag--no-judgement","aria-label":"Neutral special cause (no directional judgement)"}):d?a.jsx(pt,{text:d,color:"default",className:"fdp-spc-tooltip__tag fdp-spc-tag fdp-spc-tag--common"}):null,f&&(()=>{const m=f.toLowerCase(),N=!(m.includes("not met")||m.includes("not achieved"))&&/(^|\b)(met|achieved)(\b|$)/.test(m);return a.jsx(pt,{text:f,color:"default",className:`fdp-spc-tooltip__tag fdp-spc-tag fdp-spc-tag--assurance ${N?"fdp-spc-tag--improvement":"fdp-spc-tag--concern"}`,"aria-label":`Assurance: ${f}`})})()]})}),a.jsxs("div",{className:"fdp-spc-inspector__rules",style:{marginTop:8},children:[a.jsx("strong",{children:"Special cause:"}),a.jsx("div",{className:"fdp-spc-tooltip__rule-tags","aria-label":"Special cause rules",style:{display:"flex",gap:6,flexWrap:"wrap",marginTop:4},children:c.length===0?a.jsx("span",{children:" None"}):c.map(m=>{const g=String(m),M=g===Fo.TrendIncreasing||g===Fo.TrendDecreasing?"fdp-spc-tag--trend":h?"fdp-spc-tag--no-judgement":d?d.toLowerCase().includes("concern")?"fdp-spc-tag--concern":d.toLowerCase().includes("improvement")?"fdp-spc-tag--improvement":"fdp-spc-tag--common":"fdp-spc-tag--common",T=Hi[m]?.tooltip||g;return a.jsx(pt,{text:T,color:"default",className:`fdp-spc-tooltip__tag fdp-spc-tag ${M}`,"data-rule-id":g,title:Hi[m]?.tooltip},g)})})]}),u.length>0&&a.jsxs("div",{className:"fdp-spc-inspector__narration",style:{marginTop:8},children:[a.jsx("strong",{children:"Summary:"})," ",u.join("; ")]})]})]})};function sk(t,e=!0){if(!t?.length)return[];const n=[...t];if(e){for(let o=1;o<n.length-1;o++)n[o]===Bt.Common&&n[o-1]===n[o+1]&&n[o-1]!==Bt.Common&&(n[o]=n[o-1]);let i=0;for(;i<n.length;){const o=n[i];let s=i+1;for(;s<n.length&&n[s]===o;)s++;s-i===1&&o!==Bt.Common&&(n[i]=Bt.Common),i=s}}const r=[];if(n.length){let i=0;for(let o=1;o<=n.length;o++)if(o===n.length||n[o]!==n[i]){const s=n[i],l=o-1,c=l-i+1;(s===Bt.Common||c>=2)&&r.push({start:i,end:l,category:s}),i=o}}return r}var Ro=(t=>(t.Slope="slope",t.Neutral="neutral",t.Extend="extend",t))(Ro||{}),um=(t=>(t.Ungated="ungated",t.Gated="gated",t))(um||{});function ak(t){const{ui:e,input:n,engine:r,container:i,a11y:o,visualsEngine:s,meta:l,data:c,ariaLabel:u,height:d,showZones:f,showPoints:p,announceFocus:h,className:y,unit:m,targets:g,baselines:N,ghosts:M,settings:T,chartType:x,metricImprovement:v,gradientSequences:C,sequenceTransition:w,processLineWidth:k,showPartitionMarkers:b,showWarningsPanel:_,warningsFilter:I,enableNeutralNoJudgement:j,showTrendGatingExplanation:E,trendVisualMode:F,alwaysShowZeroY:A,alwaysShowHundredY:P,percentScale:R,showTrendStartMarkers:oe,showFirstFavourableCrossMarkers:G,showTrendBridgeOverlay:D,showSignalsInspector:Q,onSignalFocus:Z,showIcons:re,showEmbeddedIcon:J,embeddedIconVariant:ee,embeddedIconRunLength:de,showFocusIndicator:te,visualsScenario:ie,visualsEngineSettings:K,source:ae,narrationContext:me,highlightOutOfControl:Y,precomputed:le}=t;process.env.NODE_ENV!=="production"&&(!n&&(g!==void 0||N!==void 0||M!==void 0)&&console.warn("SPCChart: Flat input props (targets/baselines/ghosts) are deprecated. Use input={{ data, targets, baselines, ghosts }} instead."),!r&&T!==void 0&&console.warn("SPCChart: Flat engine prop 'settings' is deprecated. Use engine={{ chartType, metricImprovement, settings }}."),!i&&(d!==void 0||y!==void 0)&&console.warn("SPCChart: Consider grouped container props. Use container={{ height, className }}."),!o&&(u!==void 0||h!==void 0||me!==void 0||m!==void 0)&&console.warn("SPCChart: Consider grouped accessibility props. Use a11y={{ label, announceFocus, narrationContext, unit }}."),!s&&(ie!==void 0||K!==void 0)&&console.warn("SPCChart: Consider grouped visuals engine props. Use visualsEngine={{ scenario, settings }}."),e?.visuals===void 0&&(f!==void 0||p!==void 0)&&console.warn("SPCChart: Visual toggles should be grouped. Use ui={{ visuals: { showZones, showPoints } }}."),e?.visuals?.rules===void 0&&Y!==void 0&&console.warn("SPCChart: Prefer grouped rules toggle. Use ui={{ visuals: { rules: { highlightOutOfControl } } }}."),!l&&ae!==void 0&&console.warn("SPCChart: Consider grouped meta. Use meta={{ source }}."));const ce=n?.data??c??[],ge=n?.targets??g,pe=n?.baselines??N,U=n?.ghosts??M,Ee=r?.chartType??x??$p.XmR,Pe=r?.metricImprovement??v??Ar.Neither,je=r?.settings??T,W=r?.autoRecalc,L=e?.axes?.alwaysShowZeroY??A??!1,O=e?.axes?.alwaysShowHundredY??P??!1,V=e?.axes?.percentScale??R??!1,B=e?.visuals?.gradientSequences??C??!0,z=e?.visuals?.sequenceTransition??w??"slope",H=e?.visuals?.processLineWidth??k??2,q=e?.visuals?.trend?.visualMode??F??"ungated",ne=e?.visuals?.trend?.showGatingExplanation??E??!0,se=e?.visuals?.rules?.enableNeutralNoJudgement??j??!0,ye=e?.visuals?.rules?.enableRules??t.enableRules??!0,he=e?.visuals?.showZones,xe=e?.visuals?.showPoints,Ce=e?.visuals?.rules?.highlightOutOfControl,we=i?.height,Ge=i?.className,Oe=o?.label,tt=o?.unit,Be=o?.narrationContext,fe=s?.scenario,Me=s?.settings,_e=l?.source,Se=e?.overlays?.partitionMarkers??b??!1,He=e?.overlays?.trendStartMarkers??oe??!1,Re=e?.overlays?.firstFavourableCrossMarkers??G??!1,Ye=e?.overlays?.trendBridge??D??!1,Qe=e?.inspector?.show??Q??!1,Le=e?.inspector?.onFocus??Z,be=e?.warnings?.show??_??!1,ke=e?.warnings?.filter??I,ue=e?.icons?.show??re??!1,Ne=e?.icons?.embedded?.show??J??!0,De=e?.icons?.embedded?.variant??ee??ui.Classic,Ue=e?.icons?.embedded?.runLength??de,Te=e?.overlays?.focusIndicator??te??!0;return{effData:ce,effTargets:ge,effBaselines:pe,effGhosts:U,effChartTypeCore:Ee,effMetricImprovementCore:Pe,effEngineSettings:je,effEngineAutoRecalc:W,effHeight:we,effClassName:Ge,effAriaLabel:Oe,effUnit:tt,effNarrationContext:Be,effShowZones:he,effShowPoints:xe,effHighlightOutOfControl:Ce,effVisualsScenario:fe,effVisualsEngineSettings:Me,effPrecomputedVisuals:le,effSource:_e,effAlwaysShowZeroY:L,effAlwaysShowHundredY:O,effPercentScale:V,effGradientSequences:B,effSequenceTransition:z,effProcessLineWidth:H,effTrendVisualMode:q,effShowTrendGatingExplanation:ne,effEnableNeutralNoJudgement:se,effEnableRules:ye,effShowPartitionMarkers:Se,effShowTrendStartMarkers:He,effShowFirstFavourableCrossMarkers:Re,effShowTrendBridgeOverlay:Ye,effShowSignalsInspector:Qe,effOnSignalFocus:Le,effShowWarningsPanel:be,effWarningsFilter:ke,effShowIcons:ue,effShowEmbeddedIcon:Ne,effEmbeddedIconVariant:De,effEmbeddedIconRunLength:Ue,effShowFocusIndicator:Te}}let lk=0;const ck=({data:t,targets:e,visuals:n,a11y:r,axis:i,compute:o})=>{const{series:s,engineRows:l,visualCategories:c,partitionMarkers:u}=t,{limits:d,uniformTarget:f}=e,{showPoints:p,showZones:h,highlightOutOfControl:y,gradientSequences:m,sequenceTransition:g,processLineWidth:N,showFocusIndicator:M=!1,enableRules:T,enableNeutralNoJudgement:x=!0,showTrendStartMarkers:v=!1,showFirstFavourableCrossMarkers:C=!1,showTrendBridgeOverlay:w=!1}=n,{announceFocus:k,ariaLabel:b,narrationContext:_,showSignalsInspector:I=!1,onSignalFocus:j,showTrendGatingExplanation:E=!0}=r,{zeroBreakSlotGapPx:F}=i,{metricImprovement:A,effectiveUnit:P}=o,R=oi(),oe=Pr();if(!R)return null;const{xScale:G,yScale:D}=R,Q=X.useRef("spc-seq-"+ ++lk),Z=vr(),re=s[0]?.data||[],J=X.useMemo(()=>{if(!d.ucl&&!d.lcl)return new Set;const L=new Set;return re.forEach((O,V)=>{typeof d.ucl=="number"&&O.y>d.ucl&&L.add(V),typeof d.lcl=="number"&&O.y<d.lcl&&L.add(V)}),L},[d.ucl,d.lcl,re]),ee=X.useMemo(()=>{if(!l||!l.length)return null;const L=[];return l.forEach((O,V)=>{const B=O.classification.variation===Ke.Concern||O.classification.variation===Ke.Improvement||!!O.classification.neutralSpecialCauseValue,z=!!O.rules.singlePoint.up||!!O.rules.twoOfThree.up||!!O.rules.fourOfFive.up||!!O.rules.shift.up||!!O.rules.trend.up,H=!!O.rules.singlePoint.down||!!O.rules.twoOfThree.down||!!O.rules.fourOfFive.down||!!O.rules.shift.down||!!O.rules.trend.down;L[V]={variation:O.classification.variation,assurance:O.classification.assurance,special:B,concern:O.classification.variation===Ke.Concern,improvement:O.classification.variation===Ke.Improvement,trendUp:!!O.rules.trend.up,trendDown:!!O.rules.trend.down,upAny:z,downAny:H,neutralSpecial:!!O.classification.neutralSpecialCauseValue,shiftUp:!!O.rules.shift.up,shiftDown:!!O.rules.shift.down,twoOfThreeUp:!!O.rules.twoOfThree.up,twoOfThreeDown:!!O.rules.twoOfThree.down,fourOfFiveUp:!!O.rules.fourOfFive.up,fourOfFiveDown:!!O.rules.fourOfFive.down,partitionId:O.partition.id??null}}),L},[l]),de=X.useMemo(()=>(c||[]).map(L=>L===xt.Improvement?Bt.Improvement:L===xt.Concern?Bt.Concern:L===xt.NoJudgement?Bt.NoJudgement:Bt.Common),[c]),te=X.useMemo(()=>!m||!de.length?[]:sk(de,!0),[m,de,b]),ie=X.useMemo(()=>re.map(L=>G(L.x instanceof Date?L.x:new Date(L.x))),[re,G]),K=G.range()[1],ae=G.range()[0],me=X.useMemo(()=>{if(!l||!l.length)return null;let L=Number.POSITIVE_INFINITY,O=Number.POSITIVE_INFINITY;if(l.forEach((se,ye)=>{se.rules.trend.up&&(L=Math.min(L,ye)),se.rules.trend.down&&(O=Math.min(O,ye))}),!Number.isFinite(L)&&!Number.isFinite(O))return null;const V=L<=O,B=V?qn.Up:qn.Down,z=V?L:O,H=se=>A==null||A===Ar.Neither||se==null||typeof se.data.value!="number"||typeof se.limits.mean!="number"?!1:B===qn.Up?A===Ar.Up?se.data.value>se.limits.mean:se.data.value<se.limits.mean:A===Ar.Down?se.data.value<se.limits.mean:se.data.value>se.limits.mean;let q=null;for(let se=z;se<l.length;se++){const ye=l[se];if(!(V?!!ye.rules.trend.up:!!ye.rules.trend.down))break;if(H(ye)){q=se;break}}let ne=!1;if(q!=null){let se=0;for(let ye=q;ye<l.length;ye++){const he=l[ye];if(!(V?!!he.rules.trend.up:!!he.rules.trend.down))break;H(he)&&se++}ne=se>=2}return{direction:B,detectedAt:z,firstFavourableCrossAt:q,persistedAcrossMean:ne}},[l,A]),Y=X.useMemo(()=>{if(!l||!l.length)return null;const L=O=>{const V=[];let B=null,z=null;for(let H=0;H<l.length;H++){const q=l[H],ne=O(q),se=typeof ne=="number"&&!isNaN(ne)?ne:null;if(se==null){B!==null&&z!=null&&(V.push({x1:ie[B],x2:ie[H-1],y:D(z)}),B=null,z=null);continue}if(B===null){B=H,z=se;continue}z!=null&&Math.abs(se-z)<=1e-9||(z!=null&&V.push({x1:ie[B],x2:ie[H-1],y:D(z)}),B=H,z=se)}return B!==null&&z!=null&&V.push({x1:ie[B],x2:ie[l.length-1],y:D(z)}),V};return{mean:L(O=>O.limits.mean??null),ucl:L(O=>O.limits.ucl??null),lcl:L(O=>O.limits.lcl??null),onePos:L(O=>O.limits.oneSigma.upper??null),oneNeg:L(O=>O.limits.oneSigma.lower??null),twoPos:L(O=>O.limits.twoSigma.upper??null),twoNeg:L(O=>O.limits.twoSigma.lower??null)}},[l,ie,D]),le=X.useMemo(()=>te.length?a.jsxs("defs",{children:[a.jsxs("linearGradient",{id:`${Q.current}-grad-common`,x1:"0%",y1:"0%",x2:"0%",y2:"100%",children:[a.jsx("stop",{offset:"0%",stopColor:"var(--nhs-fdp-color-data-viz-spc-common-cause, #A6A6A6)",stopOpacity:.28}),a.jsx("stop",{offset:"70%",stopColor:"var(--nhs-fdp-color-data-viz-spc-common-cause, #A6A6A6)",stopOpacity:.12}),a.jsx("stop",{offset:"100%",stopColor:"var(--nhs-fdp-color-data-viz-spc-common-cause, #A6A6A6)",stopOpacity:.045})]}),te.map((L,O)=>{const V=`${Q.current}-grad-${O}`;let B,z=.28,H=.12,q=.045;switch(L.category){case Bt.Concern:B="var(--nhs-fdp-color-data-viz-spc-concern, #E46C0A)",z=.28,H=.12,q=.045;break;case Bt.Improvement:B="var(--nhs-fdp-color-data-viz-spc-improvement, #00B0F0)",z=.26,H=.11,q=.045;break;case Bt.NoJudgement:B="var(--nhs-fdp-color-data-viz-spc-no-judgement, #490092)",z=.26,H=.11,q=.045;break;default:B="var(--nhs-fdp-color-data-viz-spc-common-cause, #A6A6A6)"}return a.jsxs("linearGradient",{id:V,x1:"0%",y1:"0%",x2:"0%",y2:"100%",children:[a.jsx("stop",{offset:"0%",stopColor:B,stopOpacity:z}),a.jsx("stop",{offset:"70%",stopColor:B,stopOpacity:H}),a.jsx("stop",{offset:"100%",stopColor:B,stopOpacity:q})]},V)})]}):null,[te]),ce=X.useMemo(()=>{if(!te.length)return null;const[L]=D.domain(),O=D(L),V=te.map((B,z)=>{const{start:H,end:q,category:ne}=B;if(H<0||q>=ie.length||H>q)return null;const se=ie[H],ye=ie[q];let he="";if(ne===Bt.Common){const xe=z>0?te[z-1]:null,Ce=z<te.length-1?te[z+1]:null,we=xe?ie[xe.end]:ae,Ge=xe?D(re[xe.end].y):O,Oe=Ce?ie[Ce.start]:K,tt=Ce?D(re[Ce.start].y):O;he=`M ${we} ${O}`,he+=` L ${we} ${Ge}`;for(let Be=H;Be<=q;Be++)he+=` L ${ie[Be]} ${D(re[Be].y)}`;he+=` L ${Oe} ${tt}`,he+=` L ${Oe} ${O} Z`}else{const xe=z>0?te[z-1]:null,Ce=z<te.length-1?te[z+1]:null,we=xe&&xe.category!==Bt.Common,Ge=Ce&&Ce.category!==Bt.Common,Oe=D(re[H].y),tt=D(re[q].y);let Be=se,fe=ye;if(we){const Me=ie[xe.end],_e=D(re[xe.end].y),Se=re[H].y-re[xe.end].y;g===Ro.Slope&&Se>0?(he=`M ${Me} ${_e} L ${se} ${Oe}`,Be=Me):(he=`M ${se} ${O} L ${se} ${Oe}`,Be=se)}else he=`M ${se} ${O} L ${se} ${Oe}`;for(let Me=H+1;Me<=q;Me++)he+=` L ${ie[Me]} ${D(re[Me].y)}`;if(he+=` L ${ye} ${tt}`,Ge){const Me=ie[Ce.start],_e=D(re[Ce.start].y),Se=re[Ce.start].y-re[q].y;(g===Ro.Slope&&Se<=0||g===Ro.Extend)&&(he+=` L ${Me} ${_e}`,fe=Me)}if(he+=` L ${fe} ${O}`,he+=` L ${Be} ${O} Z`,g===Ro.Neutral&&we){const Me=ie[xe.end],_e=D(re[xe.end].y),Se=a.jsx("path",{d:`M ${Me} ${O} L ${Me} ${_e} L ${se} ${Oe} L ${se} ${O} Z`,fill:`url(#${Q.current}-grad-common)`,stroke:"none",className:"fdp-spc__sequence-bg","aria-hidden":"true"},`seq-wedge-${z}`);return a.jsxs("g",{children:[Se,a.jsx("path",{d:he,fill:`url(#${Q.current}-grad-${z})`,stroke:"none",className:"fdp-spc__sequence-bg","aria-hidden":"true"},`seq-area-${z}`)]},`seq-group-${z}`)}}return a.jsx("path",{d:he,fill:`url(#${Q.current}-grad-${z})`,stroke:"none",className:"fdp-spc__sequence-bg","aria-hidden":"true"},`seq-area-${z}`)}).filter(Boolean);return a.jsx("g",{className:"fdp-spc__sequence-bgs",children:V})},[te,ie,K,D,re,g]),ge=X.useMemo(()=>{if(!_?.timeframe&&re.length>=2){const L=re.map(q=>q.x instanceof Date?q.x:new Date(q.x)),O=new Date(Math.min(...L.map(q=>q.getTime()))),V=new Date(Math.max(...L.map(q=>q.getTime()))),B=Math.round((V.getTime()-O.getTime())/864e5)||0;if(B<14)return`The chart shows a timeframe of ${B+1} days`;const z=Math.round(B/7);return z<20?`The chart shows a timeframe of ${z} weeks`:`The chart shows a timeframe of ${(V.getFullYear()-O.getFullYear())*12+(V.getMonth()-O.getMonth())+1} months`}if(_?.timeframe)return`The chart shows a timeframe of ${_.timeframe}`},[_?.timeframe,re]),pe=L=>{const O=L%10,V=L%100;return O===1&&V!==11?`${L}st`:O===2&&V!==12?`${L}nd`:O===3&&V!==13?`${L}rd`:`${L}th`},U=L=>`${pe(L.getDate())} ${L.toLocaleString("en-GB",{month:"long"})}, ${L.getFullYear()}`,Ee=L=>({specialCauseSinglePointUp:!!L?.rules.singlePoint.up,specialCauseSinglePointDown:!!L?.rules.singlePoint.down,specialCauseTwoOfThreeUp:!!L?.rules.twoOfThree.up,specialCauseTwoOfThreeDown:!!L?.rules.twoOfThree.down,specialCauseFourOfFiveUp:!!L?.rules.fourOfFive.up,specialCauseFourOfFiveDown:!!L?.rules.fourOfFive.down,specialCauseShiftUp:!!L?.rules.shift.up,specialCauseShiftDown:!!L?.rules.shift.down,specialCauseTrendUp:!!L?.rules.trend.up,specialCauseTrendDown:!!L?.rules.trend.down}),Pe=X.useCallback(({index:L,x:O,y:V})=>{const B=l?.[L],z=O instanceof Date?O:new Date(O),H=U(z),q=_?.measureUnit?` ${_.measureUnit}`:"",ne=_?.measureName?` ${_.measureName}`:"";if(!B)return`General summary is: ${ge?ge+". ":""}Point ${L+1}, ${H}, ${V}${q}${ne}`;const se=Ta(B.classification?.variation)||"Variation",ye=Ma(Ee(B)),he=ye.length?` Rules: ${[...new Set(ye.map(Ce=>Hi[Ce].narration))].join("; ")}.`:" No special cause rules.",xe=[];return _?.measureName&&xe.push(`Measure: ${_.measureName}.`),_?.datasetContext&&xe.push(`${_.datasetContext}.`),_?.organisation&&xe.push(`Organisation: ${_.organisation}.`),_?.additionalNote&&xe.push(_.additionalNote),["General summary is:",...xe,`Point ${L+1} recorded on `,H+",",`with a value of ${V} ${q}${ne}`,se+".",he].join(" ").replace(/\s+/g," ").trim()},[l,_,ge]),je=X.useCallback((L,O)=>l?.[L]?Pe({index:L,seriesId:"process",x:O.x instanceof Date?O.x:new Date(O.x),y:O.y}).replace(/^General summary is:\s*/,"").replace(/^Point \d+\s*/,""):void 0,[l,Pe]),W=X.useMemo(()=>{try{const L=typeof D?.domain=="function"?D.domain():void 0;if(!L||!Array.isArray(L)||L.length<2)return!1;const O=Math.min(L[0],L[1]),V=Math.max(L[0],L[1]);return!(0>=O&&0<=V)}catch{return!1}},[D]);return a.jsx(Ap,{children:a.jsxs("div",{className:"fdp-spc-chart",role:"group","aria-label":"Statistical process control chart","aria-roledescription":"chart",children:[a.jsx("svg",{width:R.xScale.range()[1]+56+16,height:(oe?.innerHeight??R.yScale.range()[0])+12+48,role:"img",children:a.jsxs("g",{transform:"translate(56,12)",children:[a.jsx(Oc,{type:"x"}),a.jsx(Oc,{type:"y",yZeroBreak:{enabled:W,gapPx:F,zigZag:{heightPx:64,amplitudePx:4,cycles:6,stepXPx:3}}}),a.jsx(Cp,{axis:"y"}),le,ce,u.map((L,O)=>{const V=re[L];if(!V)return null;const B=G(V.x instanceof Date?V.x:new Date(V.x));return a.jsx("line",{x1:B,x2:B,y1:0,y2:D.range()[0],stroke:"#555",strokeDasharray:"4 4",strokeWidth:1,"aria-hidden":"true",className:"fdp-spc__partition-marker"},`partition-marker-${O}`)}),Y?.mean.length?a.jsxs("g",{"aria-hidden":"true",className:"fdp-spc__cl-group",children:[Y.mean.map((L,O)=>a.jsx("line",{className:"fdp-spc__cl",x1:L.x1,x2:L.x2,y1:L.y,y2:L.y},`mean-${O}`)),Y.mean.map((L,O)=>{if(O===Y.mean.length-1)return null;const V=Y.mean[O+1];if(!V||L.y===V.y)return null;const z=Math.max(4,V.x1-L.x2||0)*.5,H=`M ${L.x2},${L.y} C ${L.x2+z},${L.y} ${V.x1-z},${V.y} ${V.x1},${V.y}`;return a.jsx("path",{className:"fdp-spc__cl fdp-spc__cl-join",d:H,fill:"none"},`mean-join-${O}`)})]}):null,f!=null&&a.jsx(a.Fragment,{}),Y?.ucl.length?a.jsxs("g",{"aria-hidden":"true",className:"fdp-spc__limit-group fdp-spc__limit-group--ucl",children:[Y.ucl.map((L,O)=>a.jsx("line",{className:"fdp-spc__limit fdp-spc__limit--ucl",x1:L.x1,x2:L.x2,y1:L.y,y2:L.y,strokeWidth:2},`ucl-${O}`)),Y.ucl.map((L,O)=>{if(O===Y.ucl.length-1)return null;const V=Y.ucl[O+1];if(!V||L.y===V.y)return null;const z=Math.max(4,V.x1-L.x2||0)*.5,H=`M ${L.x2},${L.y} C ${L.x2+z},${L.y} ${V.x1-z},${V.y} ${V.x1},${V.y}`;return a.jsx("path",{className:"fdp-spc__limit fdp-spc__limit--ucl fdp-spc__limit-join",d:H,fill:"none",strokeWidth:2},`ucl-join-${O}`)})]}):null,Y?.lcl.length?a.jsxs("g",{"aria-hidden":"true",className:"fdp-spc__limit-group fdp-spc__limit-group--lcl",children:[Y.lcl.map((L,O)=>a.jsx("line",{className:"fdp-spc__limit fdp-spc__limit--lcl",x1:L.x1,x2:L.x2,y1:L.y,y2:L.y,strokeWidth:2},`lcl-${O}`)),Y.lcl.map((L,O)=>{if(O===Y.lcl.length-1)return null;const V=Y.lcl[O+1];if(!V||L.y===V.y)return null;const z=Math.max(4,V.x1-L.x2||0)*.5,H=`M ${L.x2},${L.y} C ${L.x2+z},${L.y} ${V.x1-z},${V.y} ${V.x1},${V.y}`;return a.jsx("path",{className:"fdp-spc__limit fdp-spc__limit--lcl fdp-spc__limit-join",d:H,fill:"none",strokeWidth:2},`lcl-join-${O}`)})]}):null,f!=null&&a.jsxs("g",{"aria-hidden":"true",className:"fdp-spc__target-group",children:[a.jsx("line",{className:"fdp-spc__target","data-testid":"spc-target-line",x1:0,x2:G.range()[1],y1:D(f),y2:D(f),strokeWidth:2.5}),a.jsxs("text",{"data-testid":"spc-target-label",x:G.range()[0]-7,y:D(f)-5,textAnchor:"start",className:"fdp-spc__target-label",fontSize:12,children:["Target ",f," ",P||_?.measureUnit||""]})]}),h&&Y&&Y.mean.length>0&&a.jsxs(a.Fragment,{children:[Y.onePos.map((L,O)=>a.jsx("line",{className:"fdp-spc__zone fdp-spc__zone--pos1",x1:L.x1,x2:L.x2,y1:L.y,y2:L.y,"aria-hidden":"true",strokeWidth:2},`onePos-${O}`)),Y.oneNeg.map((L,O)=>a.jsx("line",{className:"fdp-spc__zone fdp-spc__zone--neg1",x1:L.x1,x2:L.x2,y1:L.y,y2:L.y,"aria-hidden":"true",strokeWidth:2},`oneNeg-${O}`)),Y.twoPos.map((L,O)=>a.jsx("line",{className:"fdp-spc__zone fdp-spc__zone--pos2",x1:L.x1,x2:L.x2,y1:L.y,y2:L.y,"aria-hidden":"true",strokeWidth:2},`twoPos-${O}`)),Y.twoNeg.map((L,O)=>a.jsx("line",{className:"fdp-spc__zone fdp-spc__zone--neg2",x1:L.x1,x2:L.x2,y1:L.y,y2:L.y,"aria-hidden":"true",strokeWidth:2},`twoNeg-${O}`))]}),me&&(v||C||w)&&(()=>{const L=me.detectedAt,O=me.firstFavourableCrossAt,V=re[L]?G(re[L].x instanceof Date?re[L].x:new Date(re[L].x)):null,B=re[L]?D(re[L].y):null,z=O!=null&&re[O]?G(re[O].x instanceof Date?re[O].x:new Date(re[O].x)):null,H=O!=null&&re[O]?D(re[O].y):null;return a.jsxs("g",{"aria-hidden":"true",className:"fdp-spc__trend-overlays",children:[w&&V!=null&&B!=null&&z!=null&&H!=null&&a.jsx("line",{x1:V,y1:B,x2:z,y2:H,stroke:"#888",strokeDasharray:"4 4",strokeWidth:2,children:a.jsx("title",{children:"Trend bridge: start to first favourable-side point"})}),v&&V!=null&&B!=null&&a.jsx("circle",{cx:V,cy:B,r:6,fill:"white",stroke:"#555",strokeWidth:2,children:a.jsx("title",{children:"Trend start (run reached N)"})}),C&&z!=null&&H!=null&&a.jsx("circle",{cx:z,cy:H,r:5,fill:"#555",children:a.jsx("title",{children:"First favourable-side inclusion"})})]})})(),a.jsx(Ep,{series:s[0],seriesIndex:0,palette:"categorical",showPoints:!1,focusablePoints:!1,focusIndex:-1,parseX:L=>L.x instanceof Date?L.x:new Date(L.x),smooth:!1,strokeWidth:N}),p&&re.map((L,O)=>{const V=G(L.x instanceof Date?L.x:new Date(L.x)),B=D(L.y),z=J.has(O),H=ee?.[O],q=de[O],ne=q===Bt.Improvement,se=q===Bt.Concern,ye=q===Bt.NoJudgement,he=["fdp-spc__point",z&&y?"fdp-spc__point--ooc":null,T&&se?"fdp-spc__point--sc-concern":null,T&&ne?"fdp-spc__point--sc-improvement":null,T&&x&&ye?"fdp-spc__point--sc-no-judgement":null,H?.assurance===Er.Pass?"fdp-spc__point--assurance-pass":null,H?.assurance===Er.Fail?"fdp-spc__point--assurance-fail":null].filter(Boolean).join(" "),xe=Z?.focused?.index===O;return a.jsx("circle",{cx:V,cy:B,r:5,className:he,"data-variation":H?.variation,"data-assurance":H?.assurance,"aria-label":b,...xe?{"aria-describedby":`spc-tooltip-${O}`}:{}},O)}),M&&I&&Z?.focused&&(()=>{const L=Z.focused,O=typeof L.index=="number"?L.index:-1;if(O<0||!re[O])return null;const V=G(re[O].x instanceof Date?re[O].x:new Date(re[O].x)),B=D(re[O].y),z="var(--nhs-fdp-color-primary-yellow, #ffeb3b)";return a.jsxs("g",{className:"fdp-spc__focus-indicator","aria-hidden":"true",children:[a.jsx("circle",{cx:V,cy:B,r:7,fill:"none",stroke:z,strokeWidth:3}),a.jsx("circle",{cx:V,cy:B,r:5,fill:"#000",stroke:z,strokeWidth:1.5}),a.jsx("circle",{cx:V,cy:B,r:2.5,fill:"var(--nhs-fdp-color-data-viz-spc-common-cause, #A6A6A6)",stroke:"#fff",strokeWidth:.5})]})})(),oe&&a.jsx(uk,{width:G.range()[1],height:D.range()[0]}),!I&&a.jsx(cm,{engineRows:l,limits:{mean:d.mean,sigma:d.sigma},pointDescriber:je,measureName:_?.measureName,measureUnit:_?.measureUnit,dateFormatter:L=>U(L),enableNeutralNoJudgement:x,showTrendGatingExplanation:E})]})}),I&&a.jsx("div",{style:{marginTop:8},children:a.jsx(ok,{engineRows:l,measureName:_?.measureName,measureUnit:P||_?.measureUnit,onSignalFocus:j})}),k&&a.jsx(_S,{format:L=>Pe({...L,x:L.x instanceof Date?L.x:new Date(L.x)})})]})})},uk=({width:t,height:e})=>{const n=vr();return n?a.jsx("rect",{className:"fdp-spc__interaction-layer",width:t,height:e,fill:"transparent",tabIndex:0,"aria-label":"Interactive chart area. Use arrow keys to move between points.",onMouseMove:r=>{const o=r.currentTarget.getBoundingClientRect(),s=r.clientX-o.left,l=r.clientY-o.top;n.focusNearest(s,l)},onMouseLeave:()=>n.clear(),onKeyDown:r=>{switch(r.key){case"ArrowRight":n.focusNextPoint(),r.preventDefault();break;case"ArrowLeft":n.focusPrevPoint(),r.preventDefault();break;case"ArrowDown":n.focusNextSeries(),r.preventDefault();break;case"ArrowUp":n.focusPrevSeries(),r.preventDefault();break;case"Home":n.focusFirstPoint(),r.preventDefault();break;case"End":n.focusLastPoint(),r.preventDefault();break}},style:{cursor:"crosshair"}}):null};function dm(t){if(t==null)return;const e=t instanceof Date?t:new Date(t);return Number.isNaN(e.valueOf())?void 0:e}function dk(t,e,n){const r=new Array(t),i=new Date(e);for(let o=0;o<t;o++)switch(r[o]=new Date(i),n){case"hourly":i.setHours(i.getHours()+1);break;case"daily":i.setDate(i.getDate()+1);break;case"weekly":i.setDate(i.getDate()+7);break;case"monthly":i.setMonth(i.getMonth()+1);break;case"quarterly":i.setMonth(i.getMonth()+3);break;case"annually":i.setFullYear(i.getFullYear()+1);break}return r}function fk(t,e){const n=t.filter(Boolean);if(n.length<2)return e;const r=[];for(let c=1;c<n.length;c++)r.push(n[c].getTime()-n[c-1].getTime());const i=r.sort((c,u)=>c-u),o=i[Math.floor(i.length/2)],s=3600*1e3,l=24*s;return o<=2*s?"hourly":o<=2*l?"daily":o<=10*l?"weekly":o<=45*l?"monthly":o<=120*l?"quarterly":"annually"}function fm(t,e){if(t)try{switch(e){case"hourly":return new Intl.DateTimeFormat(void 0,{hour:"2-digit",minute:"2-digit",day:"2-digit",month:"short",year:"numeric"}).format(t);case"daily":return new Intl.DateTimeFormat(void 0,{day:"2-digit",month:"short",year:"numeric"}).format(t);case"weekly":return`Week of ${new Intl.DateTimeFormat(void 0,{day:"2-digit",month:"short",year:"numeric"}).format(t)}`;case"monthly":return new Intl.DateTimeFormat(void 0,{month:"short",year:"numeric"}).format(t);case"quarterly":return`Q${Math.floor(t.getMonth()/3)+1} ${t.getFullYear()}`;case"annually":return`${t.getFullYear()}`;default:return new Intl.DateTimeFormat(void 0,{day:"2-digit",month:"short",year:"numeric"}).format(t)}}catch{return}}function hk(t,e,n,r="0-100"){if(e)return e;if(n)return n;const i=t.filter(l=>l!=null);if(!i.length)return;const o=Math.min(...i),s=Math.max(...i);if(r==="0-1"){if(o>=0&&s<=1&&s>0)return"%"}else if(o>=0&&s<=100&&s>0)return"%"}function pk(t,e,n=1){switch(t||e){case"hourly":return n===1?"last hour":`last ${n} hours`;case"daily":return n===1?"last day":`last ${n} days`;case"weekly":return n===1?"last week":`last ${n} weeks`;case"monthly":return n===1?"last month":`last ${n} months`;case"quarterly":return n===1?"last quarter":`last ${n} quarters`;case"annually":return n===1?"last year":`last ${n} years`;default:return"previous"}}function hm(t){const{values:e,dates:n,intervalHint:r,startDate:i,providedUnit:o,defaultUnit:s,autoValue:l=!0,autoDelta:c=!0,autoMetadata:u=!0,deltaConfig:d}=t,f=e.map(b=>typeof b=="number"?b:b==null?null:Number(b));let p=-1;for(let b=f.length-1;b>=0;b--)if(f[b]!=null){p=b;break}let h=(n||[]).map(dm);if(!h.some(Boolean)){const b=dm(i);b&&r?h=dk(f.length,b,r):h=new Array(f.length).fill(void 0)}const m=fk(h,r),g=hk(f,o,s,t.percentHeuristic),N=l&&p>=0&&f[p]!=null?f[p]:void 0,M={strategy:"previous",n:1,absolute:!0,skipNulls:!0,...d||{}};function T(){if(p<0)return-1;if(M.strategy==="previous"||M.strategy==="n-points"){let E=p-(M.strategy==="previous"?1:Math.max(1,M.n||1));if(!M.skipNulls)return E;for(let F=E;F>=0;F--)if(f[F]!=null)return F;return-1}const b=h[p];if(!b)return-1;const _=new Date(b);_.setFullYear(_.getFullYear()-1);let I=-1,j=1/0;for(let E=0;E<h.length;E++){const F=h[E];if(!F||f[E]==null)continue;const A=Math.abs(F.getTime()-_.getTime());A<j&&(j=A,I=E)}return I}const x=T(),v=x>=0?f[x]:null;let C;if(c&&N!=null&&v!=null){const b=N-v,_=M.absolute!==!1,I=_?b:v===0?0:b/Math.abs(v)*100;C={value:Number.isFinite(I)?Number(I.toFixed(2)):0,isPercent:_?g==="%":!0,period:`vs ${pk(m,r,M.strategy==="n-points"?Math.max(1,M.n||1):1)}`}}const w=p>=0?h[p]:void 0,k=u&&fm(w,m)?`Latest: ${fm(w,m)}`:void 0;return{value:N,unit:g,delta:C,metadata:k,latestDate:w,frequency:m}}function mk(t){const{rows:e}=Bo(t),n=Qc(t);return{rows:e,visuals:n.visuals}}const iu=13;function ou(t){if(!(!t||t.length===0))return t.map(e=>{switch(e){case xt.Improvement:return Ke.Improvement;case xt.Concern:return Ke.Concern;case xt.NoJudgement:return Ke.Neither;default:return null}})}function pm(t){if(!(!t||t.length===0))return t.map(e=>e===xt.NoJudgement)}function mm(t,e){const n=t===_n.G?_n.G:t===_n.T?_n.T:_n.XmR,r=e===et.Up?et.Up:e===et.Down?et.Down:et.Neither;return{chartType:n,metricImprovement:r}}function gm(t,e,n){const r=typeof t?.minimumPoints=="number"&&!isNaN(t.minimumPoints)?t.minimumPoints:iu,i={minimumPoints:r};return e.filter(s=>!s.ghost&&typeof s.value=="number").length>=r&&(i.chartLevelEligibility=!0),t?.enableFourOfFiveRule!=null&&(i.enableFourOfFiveRule=!!t.enableFourOfFiveRule),n&&Object.assign(i,n),Object.keys(i).length?i:void 0}function gk(t,e,n){const r=X.useMemo(()=>{if(!t||t.length<2)return!1;const s=Math.min(t[0],t[1]),l=Math.max(t[0],t[1]);return!(0>=s&&0<=l)},[t]),{slotPx:i,totalReservedPx:o}=X.useMemo(()=>{if(!r)return{slotPx:0,totalReservedPx:0};const l=(e??260)-60,c=jo,d=c+xp,f=n?.maxFraction,p=Math.max(Do,Math.floor(l*f)),h=Math.min(d,p);return{slotPx:Math.min(c,h),totalReservedPx:h}},[r,e,n?.maxFraction]);return{show:r,slotPx:i,totalReservedPx:o}}function yk(t,e,n,r){if(n.percentScale){const c=t.map(f=>f.y),u=Math.max(100,...c),d=Math.min(0,...c);return[d<0?d:0,u>100?u:100]}const i=t.map(c=>c.y),o=c=>{c!=null&&i.push(c)};if(o(e.mean),o(e.ucl),o(e.lcl),o(e.onePos),o(e.oneNeg),o(e.twoPos),o(e.twoNeg),r&&r.length)for(const c of r)typeof c=="number"&&!isNaN(c)&&i.push(c);if(!i.length)return;let s=Math.min(...i),l=Math.max(...i);return n.alwaysShowZeroY&&(s=Math.min(0,s)),n.alwaysShowHundredY&&(l=Math.max(100,l)),[s,l]}function su(t,e){if(!t?.length||e.chartType!==_n.XmR)return null;const n=Math.max(2,Math.floor(e.shiftLength??6)),r=[];for(let h=0;h<t.length;h++){const y=t[h],m=y.value;y?.ghost||typeof m=="number"&&Number.isFinite(m)&&r.push({idx:h,value:m})}if(r.length<n*2)return null;let i=0,o=0;for(let h=1;h<r.length;h++)i+=Math.abs(r[h].value-r[h-1].value),o++;if(o===0)return null;const l=i/o*(2.66/3);if(!Number.isFinite(l)||l<=0)return null;const c=Math.max(0,e.deltaSigma??.5),u=e.metricImprovement===et.Up,d=e.metricImprovement===et.Down,f=(()=>{for(let h=t.length-1;h>=0;h--)if(t[h]?.baseline)return h;return-1})();function p(h,y){let m=0,g=0;for(let N=h;N<y;N++)m+=r[N].value,g++;return g?m/g:NaN}for(let h=n;h<=r.length-n;h++){const y=p(h-n,h),m=p(h,h+n);if(!Number.isFinite(y)||!Number.isFinite(m))continue;const g=m-y,N=g/l;let M=!1,T=!1;if(u?(M=N>=c,T=!0):d?(M=-N>=c,T=!1):(M=Math.abs(N)>=c,T=g>0),!M)continue;const x=w=>T?w>y:w<y;let v=!0;for(let w=h;w<h+n;w++)if(!x(r[w].value)){v=!1;break}if(!v)continue;const C=r[h].idx;if(!(e.minGap&&f>=0&&C-f<e.minGap))return C}return null}function bk(t,e){const n=su(t,e);return n==null?t.slice():t.map((r,i)=>i===n?{...r,baseline:!0}:r)}function vk(t,e){const n=Math.max(1,Math.floor(e.maxInsertions??1));if(n<=1)return bk(t,e);let r=t.slice(),i=0;const o=Math.max(1,e.minGap??0);for(;i<n;){const s=su(r,{...e,minGap:o});if(s==null)break;if(r[s]?.baseline){const l=su(r,{...e,minGap:o+1});if(l==null||l===s)break;r=r.map((c,u)=>u===l?{...c,baseline:!0}:c),i++;continue}r=r.map((l,c)=>c===s?{...l,baseline:!0}:l),i++}return r}const ym=t=>{const e=X.useCallback(be=>String(be).replace(/^spc_warning_code\.?/i,"").replace(/[_\-]+/g," ").trim().split(" ").filter(Boolean).map(ue=>ue.length?ue[0].toUpperCase()+ue.slice(1):ue).join(" "),[]),n=X.useCallback(be=>String(be).replace(/[_\-]+/g," ").trim().split(" ").filter(Boolean).map(ke=>ke.length?ke[0].toUpperCase()+ke.slice(1):ke).join(" "),[]);process.env.NODE_ENV!=="production"&&t.disableTrendSideGating!==void 0&&console.warn("SPCChart: 'disableTrendSideGating' prop is deprecated and ignored (trend side gating always enabled).");const{effData:r,effTargets:i,effBaselines:o,effGhosts:s,effChartTypeCore:l,effMetricImprovementCore:c,effEngineSettings:u,effAlwaysShowZeroY:d,effAlwaysShowHundredY:f,effPercentScale:p,effGradientSequences:h,effSequenceTransition:y,effProcessLineWidth:m,effTrendVisualMode:g,effShowTrendGatingExplanation:N,effEnableNeutralNoJudgement:M,effEnableRules:T,effShowPartitionMarkers:x,effShowTrendStartMarkers:v,effShowFirstFavourableCrossMarkers:C,effShowTrendBridgeOverlay:w,effShowSignalsInspector:k,effOnSignalFocus:b,effShowWarningsPanel:_,effWarningsFilter:I,effShowEmbeddedIcon:j,effEmbeddedIconVariant:E,effEmbeddedIconRunLength:F,effShowFocusIndicator:A,effHeight:P,effClassName:R,effAriaLabel:oe,effUnit:G,effNarrationContext:D,effShowZones:Q,effShowPoints:Z,effHighlightOutOfControl:re,effVisualsScenario:J,effVisualsEngineSettings:ee,effSource:de,effPrecomputedVisuals:te,effEngineAutoRecalc:ie}=ak(t),K=oe??t.ariaLabel,ae=P??t.height??260,me=R??t.className,Y=G??t.unit,le=D??t.narrationContext,ce=Q??t.showZones,ge=Z??t.showPoints,pe=re??t.highlightOutOfControl,U=J??t.visualsScenario??im.None,Ee=ee??t.visualsEngineSettings,Pe=de??t.source,je=t.a11y?.announceFocus??t.announceFocus??!1,W=X.useMemo(()=>r.map((be,ke)=>({x:be.x,value:be.y,target:i?.[ke]??void 0,baseline:o?.[ke]??void 0,ghost:s?.[ke]??void 0})),[r,i,o,s]),L=X.useMemo(()=>{try{const be=ie;return be?.enabled?vk(W,{chartType:l,metricImprovement:c,shiftLength:be.shiftLength,deltaSigma:be.deltaSigma,minGap:be.minGap,maxInsertions:be.maxInsertions}):W}catch{return W}},[W,ie,l,c]),O=X.useMemo(()=>{if(te?.visuals)return te.visuals;try{const be=gm(u,L,Ee),{chartType:ke,metricImprovement:ue}=mm(l,c),Ne={chartType:ke,metricImprovement:ue,data:L,settings:be},{visuals:De}=qS(Ne,U,{trendVisualMode:g===um.Ungated?Yi.Ungated:Yi.Gated,enableNeutralNoJudgement:M});return De||[]}catch{return[]}},[te?.visuals?.length,L,l,c,g,M,u,U,Ee]),B=X.useMemo(()=>{if(te?.rows)try{const be=te.rows,ke=ue=>{switch(ue){case $e.ImprovementHigh:case $e.ImprovementLow:return Ke.Improvement;case $e.ConcernHigh:case $e.ConcernLow:return Ke.Concern;case $e.NeitherHigh:case $e.NeitherLow:return Ke.Neither;case $e.CommonCause:default:return Ke.Neither}};return be.map((ue,Ne)=>({data:{value:ue.value,ghost:!!ue.ghost},partition:{id:ue.partitionId},limits:{mean:ue.mean,ucl:ue.upperProcessLimit,lcl:ue.lowerProcessLimit,oneSigma:{upper:ue.upperOneSigma,lower:ue.lowerOneSigma},twoSigma:{upper:ue.upperTwoSigma,lower:ue.lowerTwoSigma}},rules:{singlePoint:{up:!!ue.singlePointUp,down:!!ue.singlePointDown},twoOfThree:{up:!!ue.twoSigmaUp,down:!!ue.twoSigmaDown},fourOfFive:{up:!!ue.fourOfFiveUp,down:!!ue.fourOfFiveDown},shift:{up:!!ue.shiftUp,down:!!ue.shiftDown},trend:{up:!!ue.trendUp,down:!!ue.trendDown}},classification:{variation:ke(ue.variationIcon),neutralSpecialCauseValue:ue.variationIcon===$e.NeitherHigh||ue.variationIcon===$e.NeitherLow?ue.specialCauseImprovementValue??ue.specialCauseConcernValue??1:null,assurance:void 0},target:L[Ne]?.target??null}))}catch{return null}try{const be=gm(u,L,Ee),{chartType:ke,metricImprovement:ue}=mm(l,c),Ne={chartType:ke,metricImprovement:ue,data:L,settings:be},{rows:De}=mk(Ne),Ue=Te=>{switch(Te){case $e.ImprovementHigh:case $e.ImprovementLow:return Ke.Improvement;case $e.ConcernHigh:case $e.ConcernLow:return Ke.Concern;case $e.NeitherHigh:case $e.NeitherLow:return Ke.Neither;case $e.CommonCause:default:return Ke.Neither}};return De.map((Te,Je)=>({data:{value:Te.value,ghost:!!Te.ghost},partition:{id:Te.partitionId},limits:{mean:Te.mean,ucl:Te.upperProcessLimit,lcl:Te.lowerProcessLimit,oneSigma:{upper:Te.upperOneSigma,lower:Te.lowerOneSigma},twoSigma:{upper:Te.upperTwoSigma,lower:Te.lowerTwoSigma}},rules:{singlePoint:{up:!!Te.singlePointUp,down:!!Te.singlePointDown},twoOfThree:{up:!!Te.twoSigmaUp,down:!!Te.twoSigmaDown},fourOfFive:{up:!!Te.fourOfFiveUp,down:!!Te.fourOfFiveDown},shift:{up:!!Te.shiftUp,down:!!Te.shiftDown},trend:{up:!!Te.trendUp,down:!!Te.trendDown}},classification:{variation:Ue(Te.variationIcon),neutralSpecialCauseValue:Te.variationIcon===$e.NeitherHigh||Te.variationIcon===$e.NeitherLow?Te.specialCauseImprovementValue??Te.specialCauseConcernValue??1:null,assurance:void 0},target:L[Je]?.target??null}))}catch{return null}},[te?.rows?.length,L,l,c,u,Ee])||null,z=(B||[]).slice().reverse().find(be=>be.limits.mean!=null),H=z?.limits.mean??null,q=X.useMemo(()=>{const be=[];try{const ke=B,ue=u?.minimumPoints??13,Ne=u?.minimumPoints??12;if(ke&&ke.length){const De=ke.filter(Te=>!Te.data.ghost&&Te.data.value!=null).length;De<ue&&be.push({code:Ea.InsufficientPointsGlobal,severity:Xn.Warning,category:Aa.Data,message:"Not enough non-ghost points to compute stable limits/icons.",context:{nonGhostCount:De,minimumPoints:ue}});const Ue=new Map;for(const Te of ke){const Je=Te.partition.id??0,lt=Ue.get(Je)||{size:0,nonGhost:0};lt.size+=1,!Te.data.ghost&&Te.data.value!=null&&(lt.nonGhost+=1),Ue.set(Je,lt)}for(const[Te,Je]of Ue)Je.nonGhost>0&&Je.nonGhost<Ne&&be.push({code:Ea.InsufficientPointsPartition,severity:Xn.Warning,category:Aa.Partition,message:"A partition/baseline segment has too few points for recommended stability.",context:{partitionId:Te,nonGhostCount:Je.nonGhost,minimumPointsPartition:Ne}})}}catch{}return be},[B,u?.minimumPoints]),ne=X.useMemo(()=>q.length?I?q.filter(be=>!(I.severities&&be.severity&&!I.severities.includes(be.severity)||I.categories&&be.category&&!I.categories.includes(be.category)||I.codes&&!I.codes.includes(be.code))):q:[],[q,I]),se=z?.limits.ucl??null,ye=z?.limits.lcl??null,he=z?.limits.oneSigma.upper??null,xe=z?.limits.oneSigma.lower??null,Ce=z?.limits.twoSigma.upper??null,we=z?.limits.twoSigma.lower??null,Ge=H!=null&&he!=null?Math.abs(he-H):0,Oe=X.useMemo(()=>[{id:"process",data:r,color:"#A6A6A6"}],[r]),tt=X.useMemo(()=>yk(r,{mean:H,ucl:se,lcl:ye,onePos:he,oneNeg:xe,twoPos:Ce,twoNeg:we},{alwaysShowZeroY:!!d,alwaysShowHundredY:!!f,percentScale:!!p},i??null),[r,H,se,ye,he,xe,Ce,we,i,d,f,p]),Be=X.useMemo(()=>{const be=ke=>{const ue=ke.filter(De=>typeof De=="number"&&!isNaN(De));if(!ue.length)return null;const Ne=ue[0];return ue.every(De=>De===Ne)?Ne:null};if(B&&B.length){const ke=be(B.map(ue=>ue.target));if(ke!=null)return ke}return i&&i.length?be(i):null},[B,i]),{show:fe,slotPx:Me,totalReservedPx:_e}=gk(tt,ae,{maxFraction:.35}),Se=fe?_e:0,He=X.useMemo(()=>{const be=r.map(ke=>ke.x);return hm({values:r.map(ke=>ke.y),dates:be,providedUnit:Y||le?.measureUnit,percentHeuristic:"0-1",autoValue:!1,autoDelta:!1,autoMetadata:!1})},[r,Y,le?.measureUnit]),Re=Y??le?.measureUnit??He.unit,Ye=X.useMemo(()=>Re?{...le||{},measureUnit:Re}:le,[le,Re]),Qe=X.useMemo(()=>{if(!B)return[];const be=[];for(let ke=1;ke<B.length;ke++)B[ke].partition.id!==B[ke-1].partition.id&&be.push(ke);return be},[B]),Le=X.useMemo(()=>ik({show:!!j,rowsForUi:B,minPoints:u?.minimumPoints??13,metricImprovement:c,variant:E,runLength:F}),[j,B,u?.minimumPoints,c,E,F]);return a.jsxs("div",{className:me?`fdp-spc-chart-wrapper ${me}`:"fdp-spc-chart-wrapper",children:[a.jsx(nk,{show:!!j,variationNode:Le,assuranceNode:null}),a.jsx(bp,{height:ae,ariaLabel:K,margin:{bottom:48,left:56,right:16,top:12},children:a.jsx(vp,{series:Oe,yDomain:tt,yBottomGapPx:Se,children:(()=>{const be={data:{series:Oe,engineRows:B,visualCategories:O,partitionMarkers:x?Qe:[]},targets:{limits:{mean:H,ucl:se,lcl:ye,sigma:Ge,onePos:he,oneNeg:xe,twoPos:Ce,twoNeg:we},uniformTarget:Be},visuals:{showPoints:ge,showZones:ce,highlightOutOfControl:pe,gradientSequences:h,sequenceTransition:y,processLineWidth:m,showFocusIndicator:A,enableRules:T,enableNeutralNoJudgement:M,showTrendStartMarkers:v,showFirstFavourableCrossMarkers:C,showTrendBridgeOverlay:w},a11y:{announceFocus:je,ariaLabel:K,narrationContext:Ye,showSignalsInspector:k,onSignalFocus:b,showTrendGatingExplanation:N},axis:{zeroBreakSlotGapPx:Me},compute:{effectiveUnit:Re,metricImprovement:c}};return a.jsx(ck,{...be})})()})}),Pe&&a.jsx("div",{className:"fdp-spc-chart__source","aria-label":"Chart data source",children:typeof Pe=="string"?a.jsxs("small",{children:["Source: ",Pe]}):Pe}),a.jsx(tk,{show:!!_,warnings:ne,formatWarningCategory:n,formatWarningCode:e})]})};function xk(t,e){const{chartType:n=_n.XmR,metricImprovement:r,minimumPoints:i=iu,enableNeutralNoJudgement:o=!0,includeSignalFallbacks:s=!0}=e,l=t.map(T=>({x:T.x,value:T.value??T.y??null}));let c=null;try{const T=l.filter(v=>typeof v.value=="number").length,x={minimumPoints:i};T>=i&&(x.chartLevelEligibility=!0),c=Bo({chartType:n,metricImprovement:r,data:l,settings:x})}catch{c=null}const u=c?.rows??[];let d=u[u.length-1]??null;for(let T=u.length-1;T>=0;T--){const x=u[T];if(x&&x.value!=null&&!x.ghost){d=x;break}}let f=[];try{f=$o(u,{metricImprovement:r,enableNeutralNoJudgement:o})}catch{f=[]}const p=Fa(d?.variationIcon),h=d?.variationIcon??null,y=d?.mean??null,m=d?{lower:d?.lowerProcessLimit??null,upper:d?.upperProcessLimit??null}:null,g=d?{upperOne:d?.upperOneSigma??null,upperTwo:d?.upperTwoSigma??null,lowerOne:d?.lowerOneSigma??null,lowerTwo:d?.lowerTwoSigma??null}:null;let N,M;return s&&(N=ou(f),M=pm(f)),{rows:u,visuals:f,latestState:p,lastVariationIcon:h,centerLine:y,controlLimits:m,sigmaBands:g,pointSignals:N,pointNeutralSpecialCause:M}}const _k=Object.freeze(Object.defineProperty({__proto__:null,AssuranceIcon:Er,BaselineSuggestionReason:Op,ChartType:_n,DEFAULT_MIN_POINTS:iu,Icons:rk,ImprovementDirection:et,PARITY_V26:om,RULE_METADATA:Bp,SPCChart:ym,SPCTooltipOverlay:cm,SpcEmbeddedIconVariant:ui,SpcVisualCategory:xt,SpcWarningCategory:Aa,SpcWarningCode:Ea,SpcWarningSeverity:Xn,VARIATION_COLOR_TOKENS:Un,VariationIcon:$e,buildSpcV26a:Bo,buildSpcV26aWithVisuals:Qc,computeSpcPrecomputed:xk,computeSpcVisualCategories:$o,extractRuleIds:Ma,getVariationColorHex:PS,getVariationColorToken:zp,isSpecialCauseIcon:lm,mapIconToVariation:Fa,normaliseSpcSettingsV2:rm,ruleGlossary:Hi,variationLabel:Ta,visualsToNeutralFlags:pm,visualsToPointSignals:ou,withParityV26:XS},Symbol.toStringTag,{value:"Module"}));function wk(t){const e=t.replace("#","");return[parseInt(e.slice(0,2),16),parseInt(e.slice(2,4),16),parseInt(e.slice(4,6),16)]}function bm(t){const{values:e,x:n,chartType:r=_n.XmR,metricImprovement:i=et.Neither,showLimits:o=!0,showLimitBand:s=!1,showInnerBands:l=!1,showMean:c=!1}=t,u=X.useMemo(()=>{const v=[];for(let C=0;C<e.length;C++)v.push({x:n?.[C],value:e[C]});return v},[e,n]),d=X.useMemo(()=>{try{const v=u.map((b,_)=>({x:b.x??_,value:b.value})),C=13,w=v.filter(b=>typeof b.value=="number").length,k={minimumPoints:C};return w>=C&&(k.chartLevelEligibility=!0),Bo({chartType:r,metricImprovement:i,data:v,settings:k})}catch{return null}},[u,r,i]),f=X.useMemo(()=>{const v=d?.rows;if(!v||v.length===0)return null;for(let C=v.length-1;C>=0;C--){const w=v[C];if(w&&w.value!=null&&!w.ghost)return w}return v[v.length-1]??null},[d]),p=X.useMemo(()=>{const v=d?.rows;if(!v||v.length===0)return null;let C=v[v.length-1];for(let w=v.length-1;w>=0;w--){const k=v[w];if(k&&k.value!=null&&!k.ghost){C=k;break}}return Fa(C?.variationIcon)},[d]),h=X.useMemo(()=>f?.mean??null,[f]),y=X.useMemo(()=>{if(!f)return null;const v=f?.lowerProcessLimit??null,C=f?.upperProcessLimit??null;return v==null&&C==null?null:{lower:v,upper:C}},[f]),m=X.useMemo(()=>f?{upperOne:f?.upperOneSigma??null,upperTwo:f?.upperTwoSigma??null,lowerOne:f?.lowerOneSigma??null,lowerTwo:f?.lowerTwoSigma??null}:null,[f]),g=X.useMemo(()=>{const v=d?.rows;if(!(!v||v.length===0))try{return $o(v,{metricImprovement:i,enableNeutralNoJudgement:!0})}catch{return}},[d,i]),N=X.useMemo(()=>ou(g),[g?.length]),M=X.useMemo(()=>{if(!(!g||g.length===0))return g.map(v=>v===xt.NoJudgement)},[g?.length]),T=X.useMemo(()=>{let v=null;if(f&&f.value!=null&&!f.ghost){const E=f.variationIcon;p===ze.SpecialCauseNoJudgement?v=lm(E)?ze.SpecialCauseNoJudgement:ze.CommonCause:v=Fa(E)??ze.CommonCause}const C=v??ze.CommonCause,w=ja[C].hex,[k,b,_]=wk(w),I=Da();return{"--fdp-metric-card-bg":`linear-gradient(180deg, rgba(${k}, ${b}, ${_}, ${I.start}) 0%, rgba(${k}, ${b}, ${_}, ${I.mid}) 50%, rgba(${k}, ${b}, ${_}, ${I.end}) 100%)`,"--fdp-metric-card-accent":w}},[f,p]);return{sparkProps:X.useMemo(()=>({data:u,showMean:c,showLimits:o,showLimitBand:s,showInnerBands:l,metricImprovement:i,centerLine:h,controlLimits:y,sigmaBands:m,pointSignals:N,pointNeutralSpecialCause:M,visualCategories:g,variationState:p??void 0}),[u,c,o,s,l,i,p,h,y?.lower,y?.upper,m?.upperTwo,m?.lowerOne,m?.lowerTwo,N?.length,M?.length,g?.length]),metricCardStyle:T,latestState:p}}const Sk=({sparkData:t,direction:e=et.Neither,showMean:n=!1,showLimits:r=!0,showLimitBand:i=!1,showInnerBands:o=!1,maxPoints:s,autoValue:l=!0,autoDelta:c=!0,autoMetadata:u=!0,defaultUnit:d,intervalHint:f,startDate:p,deltaConfig:h,...y})=>{const m=bm({values:t.map(C=>C.value??null),metricImprovement:e,showLimits:r,showLimitBand:i,showInnerBands:o,showMean:n}),g=a.jsx(am,{...m.sparkProps,maxPoints:s}),N=X.useMemo(()=>hm({values:t.map(C=>typeof C.value=="number"?C.value:null),dates:t.map(C=>C.date),intervalHint:f,startDate:p,providedUnit:y.unit,defaultUnit:d,autoValue:l,autoDelta:c,autoMetadata:u,deltaConfig:h}),[t,f,p,y.unit,d,l,c,u,h]),M=l&&N.value!=null?N.value:y.value,T=c&&N.delta?N.delta:y.delta,x=N.unit||y.unit,v=u&&N.metadata?N.metadata:y.metadata;return a.jsx(Fp,{...y,value:M,unit:x,delta:T,metadata:v,visual:g,style:m.metricCardStyle})};function kk(t){return function(){let e=t+=1831565813;return e=Math.imul(e^e>>>15,e|1),e^=e+Math.imul(e^e>>>7,e|61),((e^e>>>14)>>>0)/4294967296}}function Ck(t="auto"){const[e,n]=$.useState(!1);return $.useEffect(()=>{if(t!=="auto"||typeof window>"u"||!window.matchMedia)return;const r=window.matchMedia("(prefers-reduced-motion: reduce)"),i=()=>n(r.matches);return i(),r.addEventListener?.("change",i),()=>r.removeEventListener?.("change",i)},[t]),t==="off"?!1:e}function vm(t,e){return e[Math.floor(t()*e.length)]}function $r(t,e,n){return Math.max(e,Math.min(n,t))}function Nk(t,e){const n=t.seed??1,r=kk(n),i=Math.max(6,Math.min(48,Math.round(t.density??18))),o=["circle","hexagon","rect"],s=[],l=t.gradients&&t.gradients.length>0?t.gradients:["nhs-fdp-gradient-blue","nhs-fdp-gradient-aqua","nhs-fdp-gradient-green"],u=(typeof t.callout.width=="number"?t.callout.width:void 0)??Math.min(520,e*.7),d=(e-u)/2,f=d+u,p={left:d/e*100,right:f/e*100,top:20,bottom:80},h=(m,g)=>!(m>p.left-6&&m<p.right+6&&g>p.top-10&&g<p.bottom+10);let y=0;for(;s.length<i&&y<i*50;){y++;const m=vm(r,o),g=$r(r()*1,.15,.95),N=24+r()*72,M=r()*100,T=r()*100;if(!h(M,T))continue;const x=vm(r,l);if(m==="rect"){const v=.6+r()*.8;s.push({kind:m,width:N*v,height:N,x:M,y:T,depth:g,fillToken:x,shadow:"soft"})}else s.push({kind:m,size:N,x:M,y:T,depth:g,fillToken:x,shadow:"soft"})}return s}const Mk=t=>{const{seed:e=1,mode:n="scroll",axis:r="xy",height:i=520,strength:o=120,scrub:s=.3,scrollStart:l="top bottom",scrollEnd:c="bottom top",debugMarkers:u=!1,pin:d=!1,pinSpacing:f=!0,reducedMotion:p="auto",callout:h,className:y,style:m}=t,g=$.useRef(null),[N,M]=$.useState({w:1e3,h:520}),T=Ck(p),x=t.direction??"se",v=$.useMemo(()=>{switch(x){case"ne":return{x:1,y:-1};case"nw":return{x:-1,y:-1};case"sw":return{x:-1,y:1};case"se":default:return{x:1,y:1}}},[x]);$.useLayoutEffect(()=>{if(!g.current)return;const E=new ResizeObserver(F=>{for(const A of F){const P=A.contentRect;M({w:P.width,h:P.height})}});return E.observe(g.current),()=>E.disconnect()},[]);const C=$.useMemo(()=>t.shapes&&t.shapes.length?t.shapes:Nk(t,N.w),[e,N.w,N.h]),[w,k]=$.useState(0),[b,_]=$.useState(null);$.useEffect(()=>{if(n!=="scroll"||T)return;let E;return(async()=>{if(typeof window>"u")return;const F=g.current;if(F)try{const A=await Promise.resolve().then(()=>y1),P=await Promise.resolve().then(()=>nM),R=A.default??A.gsap??A,oe=P.ScrollTrigger??P.default??P;R.registerPlugin(oe);const G=oe.create({trigger:F,start:l,end:c,markers:u,pin:d,pinSpacing:f,scrub:s,invalidateOnRefresh:!0,onUpdate:D=>k(D.progress)});_(D=>D===null?G.progress??.5:D),u&&window&&(window.__parallaxRefresh=()=>{try{oe.refresh()}catch{}}),E=()=>{try{G.kill()}catch{}}}catch{const P=()=>{const R=F.getBoundingClientRect(),oe=window.innerHeight||document.documentElement.clientHeight,G=R.height+oe,D=oe-R.top,Q=$r(D/G,0,1);_(Z=>Z===null?Q:Z),k(Q)};P(),window.addEventListener("scroll",P,{passive:!0}),window.addEventListener("resize",P),E=()=>{window.removeEventListener("scroll",P),window.removeEventListener("resize",P)}}})(),()=>{E&&E()}},[n,T,l,c,u,d,f,s]),$.useEffect(()=>{if(n!=="timed"||T)return;let E=0,F=performance.now();const A=8e3,P=R=>{const G=(R-F)%A/A;k(G),E=requestAnimationFrame(P)};return E=requestAnimationFrame(P),()=>cancelAnimationFrame(E)},[n,T]);const I=E=>.15+(E??.5)*.6,j={position:"absolute",left:"50%",top:"50%",bottom:void 0,right:void 0,transform:"translate(-50%, -50%)",width:typeof h.width=="number"?`${h.width}px`:h.width||"min(520px, 70%)"};return a.jsxs("div",{ref:g,className:["nhs-parallax-scene",y].filter(Boolean).join(" "),style:{position:"relative",height:typeof i=="number"?`${i}px`:i,overflow:"hidden",...m},"aria-hidden":!0,children:[a.jsxs("svg",{className:"nhs-parallax-canvas",width:"100%",height:"100%",viewBox:"0 0 100 100",preserveAspectRatio:"none","aria-hidden":!0,children:[a.jsxs("defs",{children:[a.jsxs("linearGradient",{id:"fdpgradient-blue",x1:"0",x2:"1",y1:"0",y2:"1",children:[a.jsx("stop",{offset:"0%",stopColor:"#2E61A5"}),a.jsx("stop",{offset:"100%",stopColor:"#1B3E73"})]}),a.jsxs("linearGradient",{id:"fdpgradient-aqua",x1:"0",x2:"1",y1:"0",y2:"1",children:[a.jsx("stop",{offset:"0%",stopColor:"#1DC6D2"}),a.jsx("stop",{offset:"100%",stopColor:"#117E8A"})]}),a.jsxs("linearGradient",{id:"fdpgradient-green",x1:"0",x2:"1",y1:"0",y2:"1",children:[a.jsx("stop",{offset:"0%",stopColor:"#2BC06A"}),a.jsx("stop",{offset:"100%",stopColor:"#1A874A"})]}),a.jsxs("linearGradient",{id:"fdpgradient-dark-blue",x1:"0",x2:"1",y1:"0",y2:"1",children:[a.jsx("stop",{offset:"0%",stopColor:"#005eb8"}),a.jsx("stop",{offset:"100%",stopColor:"#003087"})]}),a.jsxs("linearGradient",{id:"fdpgradient-light-blue",x1:"0",x2:"1",y1:"0",y2:"1",children:[a.jsx("stop",{offset:"0%",stopColor:"#005eb8"}),a.jsx("stop",{offset:"100%",stopColor:"#60b2e2"})]}),a.jsxs("linearGradient",{id:"fdpgradient-purple",x1:"0",x2:"1",y1:"0",y2:"1",children:[a.jsx("stop",{offset:"0%",stopColor:"#ac98cb"}),a.jsx("stop",{offset:"100%",stopColor:"#d6cce3"})]}),a.jsxs("linearGradient",{id:"fdpgradient-green-palette",x1:"0",x2:"1",y1:"0",y2:"1",children:[a.jsx("stop",{offset:"0%",stopColor:"#007f3b"}),a.jsx("stop",{offset:"100%",stopColor:"#63a691"})]}),a.jsxs("linearGradient",{id:"fdpgradient-grey",x1:"0",x2:"1",y1:"0",y2:"1",children:[a.jsx("stop",{offset:"0%",stopColor:"#4c6272"}),a.jsx("stop",{offset:"100%",stopColor:"#768692"})]})]}),a.jsx("g",{className:"nhs-parallax-connectors",children:C.map((E,F)=>{const A=E.x,P=E.y,R=(E.width??E.size??40)/N.w*100*1,oe=(E.height??E.size??40)/N.h*100*1,G=E.kind==="circle"?[[A,P-oe/2],[A+R/2,P],[A,P+oe/2],[A-R/2,P]]:E.kind==="rect"||E.kind==="svg"?[[A-R/2,P-oe/2],[A+R/2,P-oe/2],[A+R/2,P+oe/2],[A-R/2,P+oe/2]]:[[A-R/2,P],[A-R/4,P-oe/2],[A+R/4,P-oe/2],[A+R/2,P],[A+R/4,P+oe/2],[A-R/4,P+oe/2]],D=I(E.depth),re=(d?w:w-(b??.5))*o*D,J=r==="x"?re:r==="xy"?re*v.x:0,ee=r==="y"?re:r==="xy"?re*v.y:0;return G.map((de,te)=>a.jsx("line",{x1:$r(de[0]+J,0,100),y1:$r(de[1]+ee,0,100),x2:$r(50+J*.2,0,100),y2:$r(50+ee*.2,0,100),className:"nhs-parallax-connector"},`c-${F}-${te}`))})}),a.jsx("g",{className:"nhs-parallax-shapes",children:C.map((E,F)=>{const A=I(E.depth),oe=(d?w:w-(b??.5))*o*A,G=r==="x"?oe:r==="xy"?oe*v.x:0,D=r==="y"?oe:r==="xy"?oe*v.y:0,Q=$r(E.x+G,0,100),Z=$r(E.y+D,0,100),re=E.rotate??0,J=["nhs-parallax-shape",E.fillToken,E.shadow&&`nhs-parallax-shadow--${E.shadow}`].filter(Boolean).join(" ");if(E.kind==="circle"){const ie=(E.size??40)/N.w*100*.5;return a.jsx("circle",{cx:Q,cy:Z,r:ie,className:J},F)}if(E.kind==="rect"){const ie=(E.width??48)/N.w*100,K=(E.height??36)/N.h*100;return a.jsx("rect",{x:Q-ie/2,y:Z-K/2,width:ie,height:K,transform:`rotate(${re} ${Q} ${Z})`,className:J},F)}if(E.kind==="svg"&&E.src){const ie=(E.width??48)/N.w*100,K=(E.height??48)/N.h*100;return a.jsx("image",{href:E.src,x:Q-ie/2,y:Z-K/2,width:ie,height:K,preserveAspectRatio:"xMidYMid meet",transform:`rotate(${re} ${Q} ${Z})`,className:J},F)}const ee=(E.size??40)/N.w*100,de=ee*.866,te=[[Q-ee/2,Z],[Q-ee/4,Z-de/2],[Q+ee/4,Z-de/2],[Q+ee/2,Z],[Q+ee/4,Z+de/2],[Q-ee/4,Z+de/2]].map(ie=>ie.join(",")).join(" ");return a.jsx("polygon",{points:te,className:J},F)})})]}),a.jsx("div",{className:"nhs-parallax-callout",style:j,"aria-hidden":!1,children:a.jsxs("div",{className:["nhs-parallax-callout-inner",h.backgroundToken].filter(Boolean).join(" "),children:[" ",h.content," "]})})]})};function Tk(t){return function(){let e=t+=1831565813;return e=Math.imul(e^e>>>15,e|1),e^=e+Math.imul(e^e>>>7,e|61),((e^e>>>14)>>>0)/4294967296}}function hn(t,e,n){return Math.max(e,Math.min(n,t))}function jk(t,e,n,r){const i=Tk(t),o=[],s=[],l=["rect","hex","circle"],c={x:50,y:50},u=r,d=1200,f=400,p=1.2,h={left:c.x-u.w/2,right:c.x+u.w/2,top:c.y-u.h/2,bottom:c.y+u.h/2},y=(T,x)=>!(T.right<x.left||T.left>x.right||T.bottom<x.top||T.top>x.bottom),m=T=>T.left>=0&&T.top>=0&&T.right<=100&&T.bottom<=100,g=(T,x,v,C,w,k)=>{let b=0,_=0;if(T==="rect"){const I=C??48,j=w??36;b=I/d*100,_=j/f*100}else if(T==="circle"){const I=k??40;b=I/d*100,_=I/f*100}else{const I=k??40;b=I/d*100,_=I*.866/f*100}return{left:x-b/2-p,right:x+b/2+p,top:v-_/2-p,bottom:v+_/2+p}};let N=0;const M=hn(Math.round(e),4,48);for(;o.length<M&&N<M*120;){N++;const T=l[Math.floor(i()*l.length)],x=i()*100,v=i()*100,C=g(T,x,v,32,24,28);if(!m(C))continue;const w=hn(i(),.15,.95),k=0,b=n[Math.floor(i()*n.length)];if(T==="rect"){const _=40+i()*80,I=28+i()*64,j=g(T,x,v,_,I);if(y(j,h))continue;let E=!1;for(let F=0;F<s.length;F++)if(y(j,s[F])){E=!0;break}if(E)continue;s.push(j),o.push({kind:T,x,y:v,width:_,height:I,rotate:k,depth:w,fill:b,shadow:"soft"})}else if(T==="circle"){const _=24+i()*80,I=g(T,x,v,void 0,void 0,_);if(y(I,h))continue;let j=!1;for(let E=0;E<s.length;E++)if(y(I,s[E])){j=!0;break}if(j)continue;s.push(I),o.push({kind:T,x,y:v,size:_,rotate:k,depth:w,fill:b,shadow:"soft"})}else{const _=28+i()*72,I=g(T,x,v,void 0,void 0,_);if(y(I,h))continue;let j=!1;for(let E=0;E<s.length;E++)if(y(I,s[E])){j=!0;break}if(j)continue;s.push(I),o.push({kind:T,x,y:v,size:_,rotate:k,depth:w,fill:b,shadow:"soft"})}}return o}const Dk=({seed:t=1,width:e="100%",height:n=400,density:r=16,gradients:i=["pb-grad-aqua-green","pb-grad-purple","pb-grad-blue","pb-grad-grey","pb-grad-azure"],shapes:o,feature:s,featureWidth:l="min(640px, 80%)",excludeBoxPct:c={w:50,h:36},className:u,style:d})=>{const f=$.useRef(null),[p,h]=$.useState({w:1200,h:400});$.useLayoutEffect(()=>{if(!f.current)return;const N=new ResizeObserver(M=>{for(const T of M){const x=T.contentRect;h({w:x.width,h:x.height})}});return N.observe(f.current),()=>N.disconnect()},[]);const y=$.useMemo(()=>o?.length?o:jk(t,r,i,c),[t,r,i.join(","),c.w,c.h,o]);return a.jsxs("div",{ref:f,className:["nhs-pattern-banner",u].filter(Boolean).join(" "),style:{width:typeof e=="number"?`${e}px`:e,height:typeof n=="number"?`${n}px`:n,...d},"aria-hidden":!0,children:[a.jsxs("svg",{className:"nhs-pattern-banner__svg",viewBox:"0 0 100 100",preserveAspectRatio:"none","aria-hidden":!0,children:[a.jsxs("defs",{children:[a.jsxs("linearGradient",{id:"pb-grad-aqua-green",x1:"0",y1:"0",x2:"1",y2:"1",gradientUnits:"objectBoundingBox",children:[a.jsx("stop",{offset:"0",stopColor:"rgb(0, 163, 151)"}),a.jsx("stop",{offset:"1",stopColor:"rgb(11, 148, 71)"})]}),a.jsxs("linearGradient",{id:"pb-grad-purple",x1:"0",y1:"0",x2:"1",y2:"0",gradientUnits:"objectBoundingBox",children:[a.jsx("stop",{offset:"0",stopColor:"rgb(214, 203, 226)"}),a.jsx("stop",{offset:"0.72",stopColor:"rgb(192, 177, 213)"}),a.jsx("stop",{offset:"1",stopColor:"rgb(171, 151, 199)"})]}),a.jsxs("linearGradient",{id:"pb-grad-blue",x1:"0",y1:"0",x2:"1",y2:"1",gradientUnits:"objectBoundingBox",children:[a.jsx("stop",{offset:"0",stopColor:"rgb(38, 58, 127)"}),a.jsx("stop",{offset:"1",stopColor:"rgb(34, 94, 171)"})]}),a.jsxs("linearGradient",{id:"pb-grad-grey",x1:"0",y1:"0",x2:"1",y2:"1",gradientUnits:"objectBoundingBox",children:[a.jsx("stop",{offset:"0",stopColor:"rgb(66, 85, 101)"}),a.jsx("stop",{offset:"1",stopColor:"rgb(112, 132, 147)"})]}),a.jsxs("linearGradient",{id:"pb-grad-azure",x1:"0",y1:"0",x2:"1",y2:"1",gradientUnits:"objectBoundingBox",children:[a.jsx("stop",{offset:"0",stopColor:"rgb(96, 178, 226)"}),a.jsx("stop",{offset:"0.51",stopColor:"rgb(34, 94, 172)"})]})]}),a.jsx("g",{children:(()=>{const N=w=>w/p.w*100,M=w=>w/p.h*100,T=y.map(w=>{const k=w.x,b=w.y;if(w.kind==="circle"){const j=N(w.size??40),E=M(w.size??40);return[[k,b-E/2],[k+j/2,b],[k,b+E/2],[k-j/2,b]]}if(w.kind==="rect"){const j=N(w.width??48),E=M(w.height??36);return[[k-j/2,b-E/2],[k+j/2,b-E/2],[k+j/2,b+E/2],[k-j/2,b+E/2]]}if(w.kind==="svg"){const j=N(w.width??48),E=M(w.height??48);return[[k-j/2,b-E/2],[k+j/2,b-E/2],[k+j/2,b+E/2],[k-j/2,b+E/2]]}const _=N(w.size??40),I=_*.866*(p.h/p.w);return[[k-_/2,b],[k-_/4,b-I/2],[k+_/4,b-I/2],[k+_/2,b],[k+_/4,b+I/2],[k-_/4,b+I/2]]}),x=new Set,v=[];for(let w=0;w<y.length;w++){let k=-1,b=1/0;for(let _=0;_<y.length;_++){if(w===_)continue;const I=y[w].x-y[_].x,j=y[w].y-y[_].y,E=I*I+j*j;E<b&&(b=E,k=_)}if(k>=0){const _=Math.min(w,k),I=Math.max(w,k),j=`${_}-${I}`;x.has(j)||(x.add(j),v.push([_,I]))}}const C=[];for(const[w,k]of v){const b=T[w],_=T[k];let I=null;for(const j of b)for(const E of _){const F=j[0]-E[0],A=j[1]-E[1],P=F*F+A*A;(!I||P<I.d2)&&(I={p:j,q:E,d2:P})}I&&C.push(a.jsx("line",{x1:hn(I.p[0],0,100),y1:hn(I.p[1],0,100),x2:hn(I.q[0],0,100),y2:hn(I.q[1],0,100),className:"nhs-pattern-banner-connector"},`edge-${w}-${k}`))}return C})()}),a.jsx("g",{children:y.map((N,M)=>{const T=["nhs-pattern-banner-shape",N.fill].filter(Boolean).join(" ");if(N.kind==="circle"){const b=(N.size??40)/p.w*100*.5,_=p.w/p.h,I=b*_;return a.jsx("ellipse",{cx:hn(N.x,0,100),cy:hn(N.y,0,100),rx:b,ry:I,className:T},M)}if(N.kind==="rect"){const b=(N.width??48)/p.w*100,_=(N.height??36)/p.h*100,I=hn(N.x-b/2,0,100),j=hn(N.y-_/2,0,100);return a.jsx("rect",{x:I,y:j,width:b,height:_,className:T},M)}if(N.kind==="svg"&&N.src){const b=(N.width??48)/p.w*100,_=(N.height??48)/p.h*100,I=hn(N.x-b/2,0,100),j=hn(N.y-_/2,0,100);return a.jsx("image",{href:N.src,x:I,y:j,width:b,height:_,preserveAspectRatio:"xMidYMid meet",className:T},M)}const x=(N.size??40)/p.w*100,v=x*.866*(p.h/p.w),C=hn(N.x,0,100),w=hn(N.y,0,100),k=[[C-x/2,w],[C-x/4,w-v/2],[C+x/4,w-v/2],[C+x/2,w],[C+x/4,w+v/2],[C-x/4,w+v/2]].map(b=>b.join(",")).join(" ");return a.jsx("polygon",{points:k,className:T},M)})})]}),a.jsx("div",{className:"nhs-pattern-banner__feature",style:{width:typeof l=="number"?`${l}px`:l},children:s})]})},xm="150ms",_m="300ms",wm="500ms",Sm="cubic-bezier(0.4, 0, 1, 1)",km="cubic-bezier(0, 0, 0.2, 1)",Cm="cubic-bezier(0.4, 0, 0.2, 1)",Nm="cubic-bezier(0.68, -0.55, 0.265, 1.55)",Mm="background-color 300ms cubic-bezier(0, 0, 0.2, 1)",Tm="box-shadow 150ms cubic-bezier(0, 0, 0.2, 1)",jm="border-color 150ms cubic-bezier(0, 0, 0.2, 1), box-shadow 150ms cubic-bezier(0, 0, 0.2, 1)",Dm="border-color 300ms cubic-bezier(0, 0, 0.2, 1)",Im="1px",Lm="2px",Pm="4px",Am="4px",Em="4px",Fm="2px",$m="1px",Bm="0px",Om="4px",Rm="8px",zm="12px",au="#d8dde0",lu="#4c6272",cu="#d8dde0",uu="#aeb7bd",du="#d5281b",fu="#005eb8",hu="#ffffff",pu="#212b32",mu="#007f3b",gu="#330072",yu="#7c2855",bu="#d5281b",vu="#ffeb3b",xu="#fff9c4",_u="#ffb81c",wu="#ed8b00",Su="#00a499",ku="#ae2573",Cu="#4c6272",Nu="#768692",Mu="#aeb7bd",Tu="#d8dde0",ju="#f0f4f5",Hm="#212b32",Um="#4c6272",Wm="#ffffff",Gm="#212b32",Ym="#005eb8",Vm="#7c2855",Zm="#003087",qm="#330072",Xm="#ffeb3b",Jm="#212b32",Km="#d8dde0",Qm="#ffffff33",eg="#d5281b",tg="#4c6272",ng="#ffffff",rg="#007f3b",ig="#ffffff",og="#006530",sg="#004021",ag="#004021",lg="#00000000",cg="#ffffff",ug="#005eb8",dg="#005eb8",fg="#d9e5f2",hg="#c7daf0",pg="#005eb8",mg="#ffffff",gg="#212b32",yg="#d9dde0",bg="#b3bcc2",vg="#b3bcc2",xg="#d5281b",_g="#aa2016",wg="#6a140e",Sg="#6a140e",kg="#005eb8",Cg="#004b93",Ng="#002f5c",Mg="#002f5c",Tg="8px",jg="16px",Dg="12px",Ig="16px",Lg="4px",Pg="40px",Ag="4px",Eg="40px",Fg="12px",$g="16px",Bg="32px",Og="16px",Rg="20px",zg="28px",Hg="9px",Ug="2px",Wg="16px",Gg="24px",Yg="8px",Vg="24px",Zg="16px",qg="4px",Xg="4px",Jg="4px",Kg="8px",Qg="4px",e0="16px",t0="#007f3b",n0="#006530",r0="#004021",i0="#d8dde0",o0="#ffffff",s0="#768692",a0="#00000000",l0="#ffeb3b",c0="#00000000",u0="#ffffff",d0="#d9e5f2",f0="#c7daf0",h0="#005eb8",p0="#005eb8",Du="8px",Iu="16px",Lu="12px",Pu="16px",m0="2px",g0="4px",y0="4px",b0="600",v0="#ffffff",x0="#d8dde0",_0="#aeb7bd",w0="#f0f4f5",S0="#212b32",k0="#212b32",C0="#005eb8",Au="16px",Eu="32px",Fu="16px",N0="1px",M0="4px",T0="none",j0="0 2px 4px rgba(0, 0, 0, 0.1)",D0="#ffffff",I0="#ffffff",L0="#d8dde0",P0="#ffffff",A0="#4c6272",E0="#ffeb3b",F0="#d5281b",$0="#aeb7bd",B0="#212b32",O0="#4c6272",R0="#768692",z0="#212b32",H0="#ffffff",U0="600",W0="#d5281b",G0="600",Y0="#4c6272",$u="4px",Bu="40px",Ou="40px",Ru="12px",V0="2px",Z0="4px",q0="0px",X0="16px",J0="18px",K0="24px",Q0="32px",ey="34px",ty="32px",ny="40px",ry="48px",iy="5.4ex",oy="7.2ex",sy="9ex",ay="10.8ex",ly="20ex",cy="38ex",uy="56ex",dy="44px",fy="40px",hy="1020px",py="100%",my="50%",gy="33.333%",yy="25%",by="20%",vy="320px",xy="641px",_y="1025px",wy="1280px",Sy="960px",ky="32px",Cy="16px",Ny="#d5281b",My="#d5281b",Ty="#ffffff",jy="#007f3b",Dy="#007f3b",Iy="#ffffff",Ly="#ffeb3b",Py="#ffeb3b",Ay="#212b32",Ey="#005eb8",Fy="#005eb8",$y="#ffffff",By="#d8dde0",Oy="#aeb7bd",Ry="#768692",zy="0 4px 0 #004021",Hy="0 4px 0 #005eb8",Uy="0 4px 0 #6a140e",Wy="0 4px 0 #ffeb3b",Gy="none",Yy="0 2px 4px rgba(0, 0, 0, 0.1)",Vy="4px",Zy="0px",qy="solid",Xy="0 0 0 3px #ffeb3b",Jy="0 0 0 3px #ffeb3b",Ky="none",Qy="0 1px 3px rgba(0, 0, 0, 0.12)",eb="0 2px 6px rgba(0, 0, 0, 0.16)",tb="0 4px 12px rgba(0, 0, 0, 0.20)",zu="0",Hu="4px",Uu="8px",Wu="16px",Gu="24px",Yu="32px",Vu="40px",Zu="48px",qu="56px",Xu="64px",$a="0",Ba="0",Oa="4px",Ra="4px",za="8px",Ha="8px",Ua="8px",Wa="16px",Ga="16px",Ya="24px",Va="24px",Za="32px",qa="32px",Xa="40px",Ja="40px",Ka="48px",Qa="48px",el="56px",tl="56px",nl="64px",zo="Frutiger W01",Ho="Arial, Helvetica, sans-serif",Uo="sans-serif",Wo="400",Go="600",Yo="400",Vo="12px",Zo="14px",qo="12pt",Xo="14px",Jo="16px",Ko="12pt",Qo="16px",es="19px",ts="13pt",ns="19px",rs="22px",is="15pt",os="22px",ss="26px",as="17pt",ls="27px",cs="36px",us="20pt",ds="33px",fs="48px",hs="24pt",rl="16px",il="24px",Jn={fontFamily:"Frutiger W01",fontWeight:"600",fontSize:{mobile:"33px",tablet:"48px",print:"24pt"},lineHeight:"1.09",marginTop:"0",marginBottom:{mobile:"40px",tablet:"48px"}},Kn={fontFamily:"Frutiger W01",fontWeight:"600",fontSize:{mobile:"27px",tablet:"36px",print:"20pt"},lineHeight:"1.11",marginTop:"0",marginBottom:{mobile:"16px",tablet:"24px"}},Qn={fontFamily:"Frutiger W01",fontWeight:"600",fontSize:{mobile:"22px",tablet:"26px",print:"17pt"},lineHeight:"1.15",marginTop:"0",marginBottom:{mobile:"16px",tablet:"24px"}},er={fontFamily:"Frutiger W01",fontWeight:"600",fontSize:{mobile:"19px",tablet:"22px",print:"15pt"},lineHeight:"1.18",marginTop:"0",marginBottom:{mobile:"16px",tablet:"24px"}},tr={fontFamily:"Frutiger W01",fontWeight:"600",fontSize:{mobile:"16px",tablet:"19px",print:"13pt"},lineHeight:"1.26",marginTop:"0",marginBottom:{mobile:"16px",tablet:"24px"}},nr={fontFamily:"Frutiger W01",fontWeight:"400",fontSize:{mobile:"16px",tablet:"19px",print:"13pt"},lineHeight:"1.47",marginTop:"0",marginBottom:{mobile:"16px",tablet:"24px"}},rr={fontFamily:"Frutiger W01",fontWeight:"400",fontSize:{mobile:"22px",tablet:"26px",print:"17pt"},lineHeight:"1.38",marginTop:"0",marginBottom:{mobile:"24px",tablet:"32px"}},ir={fontFamily:"Frutiger W01",fontWeight:"400",fontSize:{mobile:"14px",tablet:"16px",print:"12pt"},lineHeight:"1.5",marginTop:"0",marginBottom:{mobile:"16px",tablet:"24px"}},or={fontFamily:"Frutiger W01",fontWeight:"400",fontSize:{mobile:"22px",tablet:"26px",print:"17pt"},lineHeight:"1.38",marginTop:"0",marginBottom:{mobile:"40px",tablet:"48px"}},sr={fontFamily:"Frutiger W01",fontWeight:"400",fontSize:{mobile:"16px",tablet:"19px",print:"13pt"},lineHeight:"1.47",marginTop:"0",marginBottom:{mobile:"24px",tablet:"32px"}},Ik=Object.freeze(Object.defineProperty({__proto__:null,AnimationDurationFast:xm,AnimationDurationNormal:_m,AnimationDurationSlow:wm,AnimationEasingBounce:Nm,AnimationEasingEaseIn:Sm,AnimationEasingEaseInOut:Cm,AnimationEasingEaseOut:km,BorderColorCard:cu,BorderColorCardHover:uu,BorderColorDefault:au,BorderColorError:du,BorderColorForm:lu,BorderRadiusLarge:zm,BorderRadiusMedium:Rm,BorderRadiusNone:Bm,BorderRadiusSmall:Om,BorderWidthCardBottom:Am,BorderWidthDefault:Im,BorderWidthFormElement:Lm,BorderWidthFormElementError:Pm,BorderWidthPanel:Em,BorderWidthTableCell:$m,BorderWidthTableHeader:Fm,BreakpointDesktop:_y,BreakpointLargeDesktop:wy,BreakpointMobile:vy,BreakpointTablet:xy,ButtonBorderRadius:g0,ButtonBorderWidth:m0,ButtonPrimaryBackgroundActive:r0,ButtonPrimaryBackgroundDefault:t0,ButtonPrimaryBackgroundDisabled:i0,ButtonPrimaryBackgroundHover:n0,ButtonPrimaryBorderDefault:a0,ButtonPrimaryBorderFocus:l0,ButtonPrimaryTextDefault:o0,ButtonPrimaryTextDisabled:s0,ButtonSecondaryBackgroundActive:f0,ButtonSecondaryBackgroundDefault:c0,ButtonSecondaryBackgroundHover:d0,ButtonSecondaryBackgroundSolid:u0,ButtonSecondaryBorderDefault:p0,ButtonSecondaryTextDefault:h0,ButtonShadowSize:y0,ButtonSpacingPaddingHorizontalDesktop:Pu,ButtonSpacingPaddingHorizontalMobile:Iu,ButtonSpacingPaddingVerticalDesktop:Lu,ButtonSpacingPaddingVerticalMobile:Du,ButtonTypographyWeight:b0,CardBackgroundDefault:v0,CardBorderBottom:w0,CardBorderDefault:x0,CardBorderHover:_0,CardBorderWidthBottom:M0,CardBorderWidthDefault:N0,CardShadowDefault:T0,CardShadowHover:j0,CardSpacingHeadingMargin:Fu,CardSpacingPaddingDesktop:Eu,CardSpacingPaddingMobile:Au,CardTextDescription:k0,CardTextHeading:S0,CardTextLink:C0,ColorBorderDefault:Km,ColorBorderSecondary:Qm,ColorButtonLoginActive:Ng,ColorButtonLoginBackground:kg,ColorButtonLoginHover:Cg,ColorButtonLoginShadow:Mg,ColorButtonPrimaryActive:sg,ColorButtonPrimaryBackground:rg,ColorButtonPrimaryHover:og,ColorButtonPrimaryShadow:ag,ColorButtonPrimaryText:ig,ColorButtonReverseActive:bg,ColorButtonReverseBackground:mg,ColorButtonReverseHover:yg,ColorButtonReverseShadow:vg,ColorButtonReverseText:gg,ColorButtonSecondaryActive:hg,ColorButtonSecondaryBackground:lg,ColorButtonSecondaryBackgroundSolid:cg,ColorButtonSecondaryBorder:ug,ColorButtonSecondaryHover:fg,ColorButtonSecondaryShadow:pg,ColorButtonSecondaryText:dg,ColorButtonWarningActive:wg,ColorButtonWarningBackground:xg,ColorButtonWarningHover:_g,ColorButtonWarningShadow:Sg,ColorError:eg,ColorFocusBackground:Xm,ColorFocusText:Jm,ColorFormBackground:ng,ColorFormBorder:tg,ColorGrey1:Cu,ColorGrey2:Nu,ColorGrey3:Mu,ColorGrey4:Tu,ColorGrey5:ju,ColorLinkActive:Zm,ColorLinkDefault:Ym,ColorLinkHover:Vm,ColorLinkVisited:qm,ColorPrimaryBlack:pu,ColorPrimaryBlue:fu,ColorPrimaryDarkPink:yu,ColorPrimaryGreen:mu,ColorPrimaryPurple:gu,ColorPrimaryRed:bu,ColorPrimaryWhite:hu,ColorPrimaryYellow:vu,ColorSecondaryAquaGreen:Su,ColorSecondaryOrange:wu,ColorSecondaryPaleYellow:xu,ColorSecondaryPink:ku,ColorSecondaryWarmYellow:_u,ColorTextPrimary:Hm,ColorTextPrint:Gm,ColorTextReverse:Wm,ColorTextSecondary:Um,ComponentBlur:Xg,ComponentBreadcrumbChevronMarginLeft:Hg,ComponentBreadcrumbChevronMarginRight:Ug,ComponentBreadcrumbPaddingTopDesktop:Gg,ComponentBreadcrumbPaddingTopMobile:Wg,ComponentButtonPaddingDesktopHorizontal:Ig,ComponentButtonPaddingDesktopVertical:Dg,ComponentButtonPaddingMobileHorizontal:jg,ComponentButtonPaddingMobileVertical:Tg,ComponentButtonShadowSize:Lg,ComponentCardHeadingMargin:Og,ComponentCardPaddingDesktop:Bg,ComponentCardPaddingMobile:$g,ComponentDetails:Kg,ComponentExpander:Qg,ComponentFormCheckboxLabelPadding:Fg,ComponentFormCheckboxSize:Eg,ComponentFormInputMinHeight:Pg,ComponentFormInputPadding:Ag,ComponentLink:Jg,ComponentPagination:e0,ComponentPanelPaddingDesktop:zg,ComponentPanelPaddingMobile:Rg,ComponentSpread:qg,ComponentSummaryListCellPaddingHorizontal:Vg,ComponentSummaryListCellPaddingVertical:Yg,ComponentSummaryListRowMargin:Zg,ElevationHigh:tb,ElevationLow:Qy,ElevationMedium:eb,ElevationNone:Ky,FocusOutlineOffset:Zy,FocusOutlineStyle:qy,FocusOutlineWidth:Vy,FocusShadowButton:Jy,FocusShadowInput:Xy,FontFamilyBase:zo,FontFamilyFallback:Ho,FontFamilyPrint:Uo,FontLineHeightBase:il,FontSize14Mobile:Vo,FontSize14Print:qo,FontSize14Tablet:Zo,FontSize16Mobile:Xo,FontSize16Print:Ko,FontSize16Tablet:Jo,FontSize19Mobile:Qo,FontSize19Print:ts,FontSize19Tablet:es,FontSize22Mobile:ns,FontSize22Print:is,FontSize22Tablet:rs,FontSize26Mobile:os,FontSize26Print:as,FontSize26Tablet:ss,FontSize36Mobile:ls,FontSize36Print:us,FontSize36Tablet:cs,FontSize48Mobile:ds,FontSize48Print:hs,FontSize48Tablet:fs,FontSizeBase:rl,FontWeightBold:Go,FontWeightLight:Yo,FontWeightNormal:Wo,FormBorderRadius:q0,FormBorderWidthDefault:V0,FormBorderWidthError:Z0,FormErrorTextDefault:W0,FormErrorTypographyWeight:G0,FormHintTextDefault:Y0,FormInputBackgroundDefault:D0,FormInputBackgroundDisabled:L0,FormInputBackgroundError:P0,FormInputBackgroundFocus:I0,FormInputBorderDefault:A0,FormInputBorderDisabled:$0,FormInputBorderError:F0,FormInputBorderFocus:E0,FormInputTextDefault:B0,FormInputTextDisabled:R0,FormInputTextPlaceholder:O0,FormLabelTextDefault:z0,FormLabelTextRequired:H0,FormLabelTypographyWeight:U0,FormSpacingCheckboxLabelPadding:Ru,FormSpacingCheckboxSize:Ou,FormSpacingInputMinHeight:Bu,FormSpacingInputPadding:$u,GridGutter:ky,GridGutterHalf:Cy,GridPageWidth:Sy,HeadingsNhsukHeadingL:Kn,HeadingsNhsukHeadingM:Qn,HeadingsNhsukHeadingS:er,HeadingsNhsukHeadingXl:Jn,HeadingsNhsukHeadingXs:tr,LayoutColumnActions:by,LayoutColumnFull:py,LayoutColumnHalf:my,LayoutColumnQuarter:yy,LayoutColumnThird:gy,LayoutContainerMaxWidth:hy,ParagraphsBody:nr,ParagraphsBodyLarge:rr,ParagraphsBodySmall:ir,ParagraphsLedeText:or,ParagraphsLedeTextSmall:sr,ShadowButtonDefault:zy,ShadowButtonFocus:Wy,ShadowButtonSecondary:Hy,ShadowButtonWarning:Uy,ShadowCardDefault:Gy,ShadowCardHover:Yy,SizeButtonMinHeightDesktop:fy,SizeButtonMinHeightMobile:dy,SizeFormControlLarge:ry,SizeFormControlMedium:ny,SizeFormControlSmall:ty,SizeFormInputWidth2xl:cy,SizeFormInputWidth3xl:uy,SizeFormInputWidthLg:ay,SizeFormInputWidthMd:sy,SizeFormInputWidthSm:oy,SizeFormInputWidthXl:ly,SizeFormInputWidthXs:iy,SizeIconExtraLarge:Q0,SizeIconLarge:K0,SizeIconMedium:J0,SizeIconNhsDefault:ey,SizeIconSmall:X0,Spacing0:zu,Spacing1:Hu,Spacing2:Uu,Spacing3:Wu,Spacing4:Gu,Spacing5:Yu,Spacing6:Vu,Spacing7:Zu,Spacing8:qu,Spacing9:Xu,SpacingResponsive0Mobile:$a,SpacingResponsive0Tablet:Ba,SpacingResponsive1Mobile:Oa,SpacingResponsive1Tablet:Ra,SpacingResponsive2Mobile:za,SpacingResponsive2Tablet:Ha,SpacingResponsive3Mobile:Ua,SpacingResponsive3Tablet:Wa,SpacingResponsive4Mobile:Ga,SpacingResponsive4Tablet:Ya,SpacingResponsive5Mobile:Va,SpacingResponsive5Tablet:Za,SpacingResponsive6Mobile:qa,SpacingResponsive6Tablet:Xa,SpacingResponsive7Mobile:Ja,SpacingResponsive7Tablet:Ka,SpacingResponsive8Mobile:Qa,SpacingResponsive8Tablet:el,SpacingResponsive9Mobile:tl,SpacingResponsive9Tablet:nl,StateDisabledBackground:By,StateDisabledBorder:Oy,StateDisabledText:Ry,StateErrorBackground:Ny,StateErrorBorder:My,StateErrorText:Ty,StateInfoBackground:Ey,StateInfoBorder:Fy,StateInfoText:$y,StateSuccessBackground:jy,StateSuccessBorder:Dy,StateSuccessText:Iy,StateWarningBackground:Ly,StateWarningBorder:Py,StateWarningText:Ay,TransitionButtonDefault:Mm,TransitionButtonShadow:Tm,TransitionCardHover:Dm,TransitionInputFocus:jm},Symbol.toStringTag,{value:"Module"})),Lk=(t,e)=>({fontSize:t.mobile,marginBottom:e.mobile,"@media (min-width: 768px)":{fontSize:t.tablet,marginBottom:e.tablet},"@media print":{fontSize:t.print||t.tablet}}),Pk=({children:t,className:e="",style:n={}})=>a.jsx("h1",{className:e,style:{fontFamily:Jn.fontFamily,fontWeight:Jn.fontWeight,fontSize:Jn.fontSize.mobile,lineHeight:Jn.lineHeight,marginTop:Jn.marginTop,marginBottom:Jn.marginBottom.mobile,...n},children:t}),Ak=({children:t,className:e="",style:n={}})=>a.jsx("h2",{className:e,style:{fontFamily:Kn.fontFamily,fontWeight:Kn.fontWeight,fontSize:Kn.fontSize.mobile,lineHeight:Kn.lineHeight,marginTop:Kn.marginTop,marginBottom:Kn.marginBottom.mobile,...n},children:t}),Ek=({children:t,className:e="",style:n={}})=>a.jsx("h3",{className:e,style:{fontFamily:Qn.fontFamily,fontWeight:Qn.fontWeight,fontSize:Qn.fontSize.mobile,lineHeight:Qn.lineHeight,marginTop:Qn.marginTop,marginBottom:Qn.marginBottom.mobile,...n},children:t}),Fk=({children:t,className:e="",style:n={}})=>a.jsx("h4",{className:e,style:{fontFamily:er.fontFamily,fontWeight:er.fontWeight,fontSize:er.fontSize.mobile,lineHeight:er.lineHeight,marginTop:er.marginTop,marginBottom:er.marginBottom.mobile,...n},children:t}),$k=({children:t,className:e="",style:n={}})=>a.jsx("h5",{className:e,style:{fontFamily:tr.fontFamily,fontWeight:tr.fontWeight,fontSize:tr.fontSize.mobile,lineHeight:tr.lineHeight,marginTop:tr.marginTop,marginBottom:tr.marginBottom.mobile,...n},children:t}),Bk=({children:t,className:e="",style:n={}})=>a.jsx("p",{className:e,style:{fontFamily:nr.fontFamily,fontWeight:nr.fontWeight,fontSize:nr.fontSize.mobile,lineHeight:nr.lineHeight,marginTop:nr.marginTop,marginBottom:nr.marginBottom.mobile,...n},children:t}),Ok=({children:t,className:e="",style:n={}})=>a.jsx("p",{className:e,style:{fontFamily:rr.fontFamily,fontWeight:rr.fontWeight,fontSize:rr.fontSize.mobile,lineHeight:rr.lineHeight,marginTop:rr.marginTop,marginBottom:rr.marginBottom.mobile,...n},children:t}),Rk=({children:t,className:e="",style:n={}})=>a.jsx("p",{className:e,style:{fontFamily:ir.fontFamily,fontWeight:ir.fontWeight,fontSize:ir.fontSize.mobile,lineHeight:ir.lineHeight,marginTop:ir.marginTop,marginBottom:ir.marginBottom.mobile,...n},children:t}),zk=({children:t,className:e="",style:n={}})=>a.jsx("p",{className:e,style:{fontFamily:or.fontFamily,fontWeight:or.fontWeight,fontSize:or.fontSize.mobile,lineHeight:or.lineHeight,marginTop:or.marginTop,marginBottom:or.marginBottom.mobile,...n},children:t}),Hk=({children:t,className:e="",style:n={}})=>a.jsx("p",{className:e,style:{fontFamily:sr.fontFamily,fontWeight:sr.fontWeight,fontSize:sr.fontSize.mobile,lineHeight:sr.lineHeight,marginTop:sr.marginTop,marginBottom:sr.marginBottom.mobile,...n},children:t}),Uk=()=>$.useMemo(()=>Ik,[]),Wk=()=>$.useMemo(()=>({BorderColorDefault:au,BorderColorForm:lu,BorderColorCard:cu,BorderColorCardHover:uu,BorderColorError:du,ColorPrimaryBlue:fu,ColorPrimaryWhite:hu,ColorPrimaryBlack:pu,ColorPrimaryGreen:mu,ColorPrimaryPurple:gu,ColorPrimaryDarkPink:yu,ColorPrimaryRed:bu,ColorPrimaryYellow:vu,ColorSecondaryPaleYellow:xu,ColorSecondaryWarmYellow:_u,ColorSecondaryOrange:wu,ColorSecondaryAquaGreen:Su,ColorSecondaryPink:ku,ColorGrey1:Cu,ColorGrey2:Nu,ColorGrey3:Mu,ColorGrey4:Tu,ColorGrey5:ju}),[]),Gk=()=>$.useMemo(()=>({Spacing0:zu,Spacing1:Hu,Spacing2:Uu,Spacing3:Wu,Spacing4:Gu,Spacing5:Yu,Spacing6:Vu,Spacing7:Zu,Spacing8:qu,Spacing9:Xu}),[]),Yk=()=>$.useMemo(()=>({Mobile:{Size14:Vo,Size16:Xo,Size19:Qo,Size22:ns,Size26:os,Size36:ls,Size48:ds},Tablet:{Size14:Zo,Size16:Jo,Size19:es,Size22:rs,Size26:ss,Size36:cs,Size48:fs},Print:{Size14:qo,Size16:Ko,Size19:ts,Size22:is,Size26:as,Size36:us,Size48:hs},Family:{Base:zo,Fallback:Ho,Print:Uo},Weight:{Normal:Wo,Bold:Go,Light:Yo},Base:{Size:rl,LineHeight:il},FontFamilyBase:zo,FontFamilyFallback:Ho,FontFamilyPrint:Uo,FontWeightNormal:Wo,FontWeightBold:Go,FontWeightLight:Yo,FontSize14Mobile:Vo,FontSize14Tablet:Zo,FontSize14Print:qo,FontSize16Mobile:Xo,FontSize16Tablet:Jo,FontSize16Print:Ko,FontSize19Mobile:Qo,FontSize19Tablet:es,FontSize19Print:ts,FontSize22Mobile:ns,FontSize22Tablet:rs,FontSize22Print:is,FontSize26Mobile:os,FontSize26Tablet:ss,FontSize26Print:as,FontSize36Mobile:ls,FontSize36Tablet:cs,FontSize36Print:us,FontSize48Mobile:ds,FontSize48Tablet:fs,FontSize48Print:hs,FontSizeBase:rl,FontLineHeightBase:il}),[]),Vk=()=>$.useMemo(()=>({Mobile:{Size0:$a,Size1:Oa,Size2:za,Size3:Ua,Size4:Ga,Size5:Va,Size6:qa,Size7:Ja,Size8:Qa,Size9:tl},Tablet:{Size0:Ba,Size1:Ra,Size2:Ha,Size3:Wa,Size4:Ya,Size5:Za,Size6:Xa,Size7:Ka,Size8:el,Size9:nl},SpacingResponsive0Mobile:$a,SpacingResponsive0Tablet:Ba,SpacingResponsive1Mobile:Oa,SpacingResponsive1Tablet:Ra,SpacingResponsive2Mobile:za,SpacingResponsive2Tablet:Ha,SpacingResponsive3Mobile:Ua,SpacingResponsive3Tablet:Wa,SpacingResponsive4Mobile:Ga,SpacingResponsive4Tablet:Ya,SpacingResponsive5Mobile:Va,SpacingResponsive5Tablet:Za,SpacingResponsive6Mobile:qa,SpacingResponsive6Tablet:Xa,SpacingResponsive7Mobile:Ja,SpacingResponsive7Tablet:Ka,SpacingResponsive8Mobile:Qa,SpacingResponsive8Tablet:el,SpacingResponsive9Mobile:tl,SpacingResponsive9Tablet:nl}),[]),Zk=()=>$.useMemo(()=>({ButtonSpacingPaddingVerticalMobile:Du,ButtonSpacingPaddingHorizontalMobile:Iu,ButtonSpacingPaddingVerticalDesktop:Lu,ButtonSpacingPaddingHorizontalDesktop:Pu,CardSpacingPaddingMobile:Au,CardSpacingPaddingDesktop:Eu,CardSpacingHeadingMargin:Fu,FormSpacingInputPadding:$u,FormSpacingInputMinHeight:Bu,FormSpacingCheckboxSize:Ou,FormSpacingCheckboxLabelPadding:Ru}),[]),qk=()=>$.useMemo(()=>({xl:Jn,l:Kn,m:Qn,s:er,xs:tr}),[]),Xk=()=>$.useMemo(()=>({body:nr,bodyLarge:rr,bodySmall:ir,ledeText:or,ledeTextSmall:sr}),[]),Jk=()=>$.useMemo(()=>({headings:{xl:Jn,l:Kn,m:Qn,s:er,xs:tr},paragraphs:{body:nr,bodyLarge:rr,bodySmall:ir,ledeText:or,ledeTextSmall:sr},fonts:{family:{base:zo,fallback:Ho,print:Uo},weight:{normal:Wo,bold:Go,light:Yo},sizes:{mobile:{size14:Vo,size16:Xo,size19:Qo,size22:ns,size26:os,size36:ls,size48:ds},tablet:{size14:Zo,size16:Jo,size19:es,size22:rs,size26:ss,size36:cs,size48:fs},print:{size14:qo,size16:Ko,size19:ts,size22:is,size26:as,size36:us,size48:hs}}}}),[]);function Kk(t={}){const{initialLayout:e=void 0,fallbackLayout:n="two-column"}=t,[r,i]=X.useState(e),o=X.useCallback(()=>i("three-column"),[]),s=X.useCallback(()=>i(c=>c==="three-column"?n:c),[n]),l=X.useCallback(()=>i(c=>c==="three-column"?n:"three-column"),[n]);return{forceLayout:r,setLayout:i,drillIn:o,drillOut:s,toggle:l,isDrilledIn:r==="three-column"}}const Ju={fontPath:"https://assets.nhs.uk/fonts/",includeFontFace:!0,useFallbacks:!0,fontWeights:[400,600]},rn={normal:{woff2:"FrutigerLTW01-55Roman.woff2",woff:"FrutigerLTW01-55Roman.woff",ttf:"FrutigerLTW01-55Roman.ttf",eot:"FrutigerLTW01-55Roman.eot"},bold:{woff2:"FrutigerLTW01-65Bold.woff2",woff:"FrutigerLTW01-65Bold.woff",ttf:"FrutigerLTW01-65Bold.ttf",eot:"FrutigerLTW01-65Bold.eot"}};function Qk(t={}){const{fontPath:e,fontWeights:n}={...Ju,...t},r=[];return n?.includes(400)&&r.push(`
@font-face {
  font-display: swap;
  font-family: "Frutiger W01";
  font-style: normal;
  font-weight: 400;
  src: url("${e}${rn.normal.eot}?#iefix") format("eot"),
       url("${e}${rn.normal.woff2}") format("woff2"),
       url("${e}${rn.normal.woff}") format("woff"),
       url("${e}${rn.normal.ttf}") format("truetype");
  src: url("${e}${rn.normal.eot}");
}`),n?.includes(600)&&r.push(`
@font-face {
  font-display: swap;
  font-family: "Frutiger W01";
  font-style: normal;
  font-weight: 600;
  src: url("${e}${rn.bold.eot}?#iefix") format("eot"),
       url("${e}${rn.bold.woff2}") format("woff2"),
       url("${e}${rn.bold.woff}") format("woff"),
       url("${e}${rn.bold.ttf}") format("truetype");
  src: url("${e}${rn.bold.eot}");
}`),r.join(`
`)}function eC(t={}){if(typeof document>"u")return;const{fontPath:e,fontWeights:n}={...Ju,...t};[...n?.includes(400)?[{href:`${e}${rn.normal.woff2}`,as:"font",type:"font/woff2"},{href:`${e}${rn.normal.woff}`,as:"font",type:"font/woff"}]:[],...n?.includes(600)?[{href:`${e}${rn.bold.woff2}`,as:"font",type:"font/woff2"},{href:`${e}${rn.bold.woff}`,as:"font",type:"font/woff"}]:[]].forEach(i=>{const o=document.createElement("link");o.rel="preload",o.href=i.href,o.as=i.as,o.type=i.type,o.crossOrigin="anonymous",document.head.appendChild(o)})}const tC='"Frutiger W01", Arial, Helvetica, sans-serif',nC="Arial, Helvetica, sans-serif";async function rC(){if(typeof document>"u"||!document.fonts)return!1;try{return await document.fonts.load('1em "Frutiger W01"'),document.fonts.check('1em "Frutiger W01"')}catch{return!1}}function _r(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function nb(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}/*!
 * GSAP 3.13.0
 * https://gsap.com
 *
 * @license Copyright 2008-2025, GreenSock. All rights reserved.
 * Subject to the terms at https://gsap.com/standard-license
 * @author: Jack Doyle, jack@greensock.com
*/var wn={autoSleep:120,force3D:"auto",nullTargetWarn:1,units:{lineHeight:""}},Vi={duration:.5,overwrite:!1,delay:0},Ku,Zt,St,En=1e8,bt=1/En,Qu=Math.PI*2,iC=Qu/4,oC=0,rb=Math.sqrt,sC=Math.cos,aC=Math.sin,Wt=function(e){return typeof e=="string"},Tt=function(e){return typeof e=="function"},wr=function(e){return typeof e=="number"},ed=function(e){return typeof e>"u"},ar=function(e){return typeof e=="object"},pn=function(e){return e!==!1},td=function(){return typeof window<"u"},ol=function(e){return Tt(e)||Wt(e)},ib=typeof ArrayBuffer=="function"&&ArrayBuffer.isView||function(){},Kt=Array.isArray,nd=/(?:-?\.?\d|\.)+/gi,ob=/[-+=.]*\d+[.e\-+]*\d*[e\-+]*\d*/g,Zi=/[-+=.]*\d+[.e-]*\d*[a-z%]*/g,rd=/[-+=.]*\d+\.?\d*(?:e-|e\+)?\d*/gi,sb=/[+-]=-?[.\d]+/,ab=/[^,'"\[\]\s]+/gi,lC=/^[+\-=e\s\d]*\d+[.\d]*([a-z]*|%)\s*$/i,Ct,lr,id,od,Sn={},sl={},lb,cb=function(e){return(sl=Xi(e,Sn))&&yn},sd=function(e,n){return console.warn("Invalid property",e,"set to",n,"Missing plugin? gsap.registerPlugin()")},ps=function(e,n){return!n&&console.warn(e)},ub=function(e,n){return e&&(Sn[e]=n)&&sl&&(sl[e]=n)||Sn},ms=function(){return 0},cC={suppressEvents:!0,isStart:!0,kill:!1},al={suppressEvents:!0,kill:!1},uC={suppressEvents:!0},ad={},Br=[],ld={},db,kn={},cd={},fb=30,ll=[],ud="",dd=function(e){var n=e[0],r,i;if(ar(n)||Tt(n)||(e=[e]),!(r=(n._gsap||{}).harness)){for(i=ll.length;i--&&!ll[i].targetTest(n););r=ll[i]}for(i=e.length;i--;)e[i]&&(e[i]._gsap||(e[i]._gsap=new zb(e[i],r)))||e.splice(i,1);return e},di=function(e){return e._gsap||dd($n(e))[0]._gsap},hb=function(e,n,r){return(r=e[n])&&Tt(r)?e[n]():ed(r)&&e.getAttribute&&e.getAttribute(n)||r},mn=function(e,n){return(e=e.split(",")).forEach(n)||e},jt=function(e){return Math.round(e*1e5)/1e5||0},At=function(e){return Math.round(e*1e7)/1e7||0},qi=function(e,n){var r=n.charAt(0),i=parseFloat(n.substr(2));return e=parseFloat(e),r==="+"?e+i:r==="-"?e-i:r==="*"?e*i:e/i},dC=function(e,n){for(var r=n.length,i=0;e.indexOf(n[i])<0&&++i<r;);return i<r},cl=function(){var e=Br.length,n=Br.slice(0),r,i;for(ld={},Br.length=0,r=0;r<e;r++)i=n[r],i&&i._lazy&&(i.render(i._lazy[0],i._lazy[1],!0)._lazy=0)},fd=function(e){return!!(e._initted||e._startAt||e.add)},pb=function(e,n,r,i){Br.length&&!Zt&&cl(),e.render(n,r,!!(Zt&&n<0&&fd(e))),Br.length&&!Zt&&cl()},mb=function(e){var n=parseFloat(e);return(n||n===0)&&(e+"").match(ab).length<2?n:Wt(e)?e.trim():e},gb=function(e){return e},Cn=function(e,n){for(var r in n)r in e||(e[r]=n[r]);return e},fC=function(e){return function(n,r){for(var i in r)i in n||i==="duration"&&e||i==="ease"||(n[i]=r[i])}},Xi=function(e,n){for(var r in n)e[r]=n[r];return e},yb=function t(e,n){for(var r in n)r!=="__proto__"&&r!=="constructor"&&r!=="prototype"&&(e[r]=ar(n[r])?t(e[r]||(e[r]={}),n[r]):n[r]);return e},ul=function(e,n){var r={},i;for(i in e)i in n||(r[i]=e[i]);return r},gs=function(e){var n=e.parent||Ct,r=e.keyframes?fC(Kt(e.keyframes)):Cn;if(pn(e.inherit))for(;n;)r(e,n.vars.defaults),n=n.parent||n._dp;return e},hC=function(e,n){for(var r=e.length,i=r===n.length;i&&r--&&e[r]===n[r];);return r<0},bb=function(e,n,r,i,o){var s=e[i],l;if(o)for(l=n[o];s&&s[o]>l;)s=s._prev;return s?(n._next=s._next,s._next=n):(n._next=e[r],e[r]=n),n._next?n._next._prev=n:e[i]=n,n._prev=s,n.parent=n._dp=e,n},dl=function(e,n,r,i){r===void 0&&(r="_first"),i===void 0&&(i="_last");var o=n._prev,s=n._next;o?o._next=s:e[r]===n&&(e[r]=s),s?s._prev=o:e[i]===n&&(e[i]=o),n._next=n._prev=n.parent=null},Or=function(e,n){e.parent&&(!n||e.parent.autoRemoveChildren)&&e.parent.remove&&e.parent.remove(e),e._act=0},fi=function(e,n){if(e&&(!n||n._end>e._dur||n._start<0))for(var r=e;r;)r._dirty=1,r=r.parent;return e},pC=function(e){for(var n=e.parent;n&&n.parent;)n._dirty=1,n.totalDuration(),n=n.parent;return e},hd=function(e,n,r,i){return e._startAt&&(Zt?e._startAt.revert(al):e.vars.immediateRender&&!e.vars.autoRevert||e._startAt.render(n,!0,i))},mC=function t(e){return!e||e._ts&&t(e.parent)},vb=function(e){return e._repeat?Ji(e._tTime,e=e.duration()+e._rDelay)*e:0},Ji=function(e,n){var r=Math.floor(e=At(e/n));return e&&r===e?r-1:r},fl=function(e,n){return(e-n._start)*n._ts+(n._ts>=0?0:n._dirty?n.totalDuration():n._tDur)},hl=function(e){return e._end=At(e._start+(e._tDur/Math.abs(e._ts||e._rts||bt)||0))},pl=function(e,n){var r=e._dp;return r&&r.smoothChildTiming&&e._ts&&(e._start=At(r._time-(e._ts>0?n/e._ts:((e._dirty?e.totalDuration():e._tDur)-n)/-e._ts)),hl(e),r._dirty||fi(r,e)),e},xb=function(e,n){var r;if((n._time||!n._dur&&n._initted||n._start<e._time&&(n._dur||!n.add))&&(r=fl(e.rawTime(),n),(!n._dur||bs(0,n.totalDuration(),r)-n._tTime>bt)&&n.render(r,!0)),fi(e,n)._dp&&e._initted&&e._time>=e._dur&&e._ts){if(e._dur<e.duration())for(r=e;r._dp;)r.rawTime()>=0&&r.totalTime(r._tTime),r=r._dp;e._zTime=-bt}},cr=function(e,n,r,i){return n.parent&&Or(n),n._start=At((wr(r)?r:r||e!==Ct?Fn(e,r,n):e._time)+n._delay),n._end=At(n._start+(n.totalDuration()/Math.abs(n.timeScale())||0)),bb(e,n,"_first","_last",e._sort?"_start":0),pd(n)||(e._recent=n),i||xb(e,n),e._ts<0&&pl(e,e._tTime),e},_b=function(e,n){return(Sn.ScrollTrigger||sd("scrollTrigger",n))&&Sn.ScrollTrigger.create(n,e)},wb=function(e,n,r,i,o){if(Sd(e,n,o),!e._initted)return 1;if(!r&&e._pt&&!Zt&&(e._dur&&e.vars.lazy!==!1||!e._dur&&e.vars.lazy)&&db!==Mn.frame)return Br.push(e),e._lazy=[o,i],1},gC=function t(e){var n=e.parent;return n&&n._ts&&n._initted&&!n._lock&&(n.rawTime()<0||t(n))},pd=function(e){var n=e.data;return n==="isFromStart"||n==="isStart"},yC=function(e,n,r,i){var o=e.ratio,s=n<0||!n&&(!e._start&&gC(e)&&!(!e._initted&&pd(e))||(e._ts<0||e._dp._ts<0)&&!pd(e))?0:1,l=e._rDelay,c=0,u,d,f;if(l&&e._repeat&&(c=bs(0,e._tDur,n),d=Ji(c,l),e._yoyo&&d&1&&(s=1-s),d!==Ji(e._tTime,l)&&(o=1-s,e.vars.repeatRefresh&&e._initted&&e.invalidate())),s!==o||Zt||i||e._zTime===bt||!n&&e._zTime){if(!e._initted&&wb(e,n,i,r,c))return;for(f=e._zTime,e._zTime=n||(r?bt:0),r||(r=n&&!f),e.ratio=s,e._from&&(s=1-s),e._time=0,e._tTime=c,u=e._pt;u;)u.r(s,u.d),u=u._next;n<0&&hd(e,n,r,!0),e._onUpdate&&!r&&Nn(e,"onUpdate"),c&&e._repeat&&!r&&e.parent&&Nn(e,"onRepeat"),(n>=e._tDur||n<0)&&e.ratio===s&&(s&&Or(e,1),!r&&!Zt&&(Nn(e,s?"onComplete":"onReverseComplete",!0),e._prom&&e._prom()))}else e._zTime||(e._zTime=n)},bC=function(e,n,r){var i;if(r>n)for(i=e._first;i&&i._start<=r;){if(i.data==="isPause"&&i._start>n)return i;i=i._next}else for(i=e._last;i&&i._start>=r;){if(i.data==="isPause"&&i._start<n)return i;i=i._prev}},Ki=function(e,n,r,i){var o=e._repeat,s=At(n)||0,l=e._tTime/e._tDur;return l&&!i&&(e._time*=s/e._dur),e._dur=s,e._tDur=o?o<0?1e10:At(s*(o+1)+e._rDelay*o):s,l>0&&!i&&pl(e,e._tTime=e._tDur*l),e.parent&&hl(e),r||fi(e.parent,e),e},Sb=function(e){return e instanceof qt?fi(e):Ki(e,e._dur)},vC={_start:0,endTime:ms,totalDuration:ms},Fn=function t(e,n,r){var i=e.labels,o=e._recent||vC,s=e.duration()>=En?o.endTime(!1):e._dur,l,c,u;return Wt(n)&&(isNaN(n)||n in i)?(c=n.charAt(0),u=n.substr(-1)==="%",l=n.indexOf("="),c==="<"||c===">"?(l>=0&&(n=n.replace(/=/,"")),(c==="<"?o._start:o.endTime(o._repeat>=0))+(parseFloat(n.substr(1))||0)*(u?(l<0?o:r).totalDuration()/100:1)):l<0?(n in i||(i[n]=s),i[n]):(c=parseFloat(n.charAt(l-1)+n.substr(l+1)),u&&r&&(c=c/100*(Kt(r)?r[0]:r).totalDuration()),l>1?t(e,n.substr(0,l-1),r)+c:s+c)):n==null?s:+n},ys=function(e,n,r){var i=wr(n[1]),o=(i?2:1)+(e<2?0:1),s=n[o],l,c;if(i&&(s.duration=n[1]),s.parent=r,e){for(l=s,c=r;c&&!("immediateRender"in l);)l=c.vars.defaults||{},c=pn(c.vars.inherit)&&c.parent;s.immediateRender=pn(l.immediateRender),e<2?s.runBackwards=1:s.startAt=n[o-1]}return new Dt(n[0],s,n[o+1])},Rr=function(e,n){return e||e===0?n(e):n},bs=function(e,n,r){return r<e?e:r>n?n:r},Qt=function(e,n){return!Wt(e)||!(n=lC.exec(e))?"":n[1]},xC=function(e,n,r){return Rr(r,function(i){return bs(e,n,i)})},md=[].slice,kb=function(e,n){return e&&ar(e)&&"length"in e&&(!n&&!e.length||e.length-1 in e&&ar(e[0]))&&!e.nodeType&&e!==lr},_C=function(e,n,r){return r===void 0&&(r=[]),e.forEach(function(i){var o;return Wt(i)&&!n||kb(i,1)?(o=r).push.apply(o,$n(i)):r.push(i)})||r},$n=function(e,n,r){return St&&!n&&St.selector?St.selector(e):Wt(e)&&!r&&(id||!eo())?md.call((n||od).querySelectorAll(e),0):Kt(e)?_C(e,r):kb(e)?md.call(e,0):e?[e]:[]},gd=function(e){return e=$n(e)[0]||ps("Invalid scope")||{},function(n){var r=e.current||e.nativeElement||e;return $n(n,r.querySelectorAll?r:r===e?ps("Invalid scope")||od.createElement("div"):e)}},Cb=function(e){return e.sort(function(){return .5-Math.random()})},Nb=function(e){if(Tt(e))return e;var n=ar(e)?e:{each:e},r=hi(n.ease),i=n.from||0,o=parseFloat(n.base)||0,s={},l=i>0&&i<1,c=isNaN(i)||l,u=n.axis,d=i,f=i;return Wt(i)?d=f={center:.5,edges:.5,end:1}[i]||0:!l&&c&&(d=i[0],f=i[1]),function(p,h,y){var m=(y||n).length,g=s[m],N,M,T,x,v,C,w,k,b;if(!g){if(b=n.grid==="auto"?0:(n.grid||[1,En])[1],!b){for(w=-En;w<(w=y[b++].getBoundingClientRect().left)&&b<m;);b<m&&b--}for(g=s[m]=[],N=c?Math.min(b,m)*d-.5:i%b,M=b===En?0:c?m*f/b-.5:i/b|0,w=0,k=En,C=0;C<m;C++)T=C%b-N,x=M-(C/b|0),g[C]=v=u?Math.abs(u==="y"?x:T):rb(T*T+x*x),v>w&&(w=v),v<k&&(k=v);i==="random"&&Cb(g),g.max=w-k,g.min=k,g.v=m=(parseFloat(n.amount)||parseFloat(n.each)*(b>m?m-1:u?u==="y"?m/b:b:Math.max(b,m/b))||0)*(i==="edges"?-1:1),g.b=m<0?o-m:o,g.u=Qt(n.amount||n.each)||0,r=r&&m<0?Bb(r):r}return m=(g[p]-g.min)/g.max||0,At(g.b+(r?r(m):m)*g.v)+g.u}},yd=function(e){var n=Math.pow(10,((e+"").split(".")[1]||"").length);return function(r){var i=At(Math.round(parseFloat(r)/e)*e*n);return(i-i%1)/n+(wr(r)?0:Qt(r))}},Mb=function(e,n){var r=Kt(e),i,o;return!r&&ar(e)&&(i=r=e.radius||En,e.values?(e=$n(e.values),(o=!wr(e[0]))&&(i*=i)):e=yd(e.increment)),Rr(n,r?Tt(e)?function(s){return o=e(s),Math.abs(o-s)<=i?o:s}:function(s){for(var l=parseFloat(o?s.x:s),c=parseFloat(o?s.y:0),u=En,d=0,f=e.length,p,h;f--;)o?(p=e[f].x-l,h=e[f].y-c,p=p*p+h*h):p=Math.abs(e[f]-l),p<u&&(u=p,d=f);return d=!i||u<=i?e[d]:s,o||d===s||wr(s)?d:d+Qt(s)}:yd(e))},Tb=function(e,n,r,i){return Rr(Kt(e)?!n:r===!0?!!(r=0):!i,function(){return Kt(e)?e[~~(Math.random()*e.length)]:(r=r||1e-5)&&(i=r<1?Math.pow(10,(r+"").length-2):1)&&Math.floor(Math.round((e-r/2+Math.random()*(n-e+r*.99))/r)*r*i)/i})},wC=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return function(i){return n.reduce(function(o,s){return s(o)},i)}},SC=function(e,n){return function(r){return e(parseFloat(r))+(n||Qt(r))}},kC=function(e,n,r){return Db(e,n,0,1,r)},jb=function(e,n,r){return Rr(r,function(i){return e[~~n(i)]})},CC=function t(e,n,r){var i=n-e;return Kt(e)?jb(e,t(0,e.length),n):Rr(r,function(o){return(i+(o-e)%i)%i+e})},NC=function t(e,n,r){var i=n-e,o=i*2;return Kt(e)?jb(e,t(0,e.length-1),n):Rr(r,function(s){return s=(o+(s-e)%o)%o||0,e+(s>i?o-s:s)})},vs=function(e){for(var n=0,r="",i,o,s,l;~(i=e.indexOf("random(",n));)s=e.indexOf(")",i),l=e.charAt(i+7)==="[",o=e.substr(i+7,s-i-7).match(l?ab:nd),r+=e.substr(n,i-n)+Tb(l?o:+o[0],l?0:+o[1],+o[2]||1e-5),n=s+1;return r+e.substr(n,e.length-n)},Db=function(e,n,r,i,o){var s=n-e,l=i-r;return Rr(o,function(c){return r+((c-e)/s*l||0)})},MC=function t(e,n,r,i){var o=isNaN(e+n)?0:function(h){return(1-h)*e+h*n};if(!o){var s=Wt(e),l={},c,u,d,f,p;if(r===!0&&(i=1)&&(r=null),s)e={p:e},n={p:n};else if(Kt(e)&&!Kt(n)){for(d=[],f=e.length,p=f-2,u=1;u<f;u++)d.push(t(e[u-1],e[u]));f--,o=function(y){y*=f;var m=Math.min(p,~~y);return d[m](y-m)},r=n}else i||(e=Xi(Kt(e)?[]:{},e));if(!d){for(c in n)_d.call(l,e,c,"get",n[c]);o=function(y){return Nd(y,l)||(s?e.p:e)}}}return Rr(r,o)},Ib=function(e,n,r){var i=e.labels,o=En,s,l,c;for(s in i)l=i[s]-n,l<0==!!r&&l&&o>(l=Math.abs(l))&&(c=s,o=l);return c},Nn=function(e,n,r){var i=e.vars,o=i[n],s=St,l=e._ctx,c,u,d;if(o)return c=i[n+"Params"],u=i.callbackScope||e,r&&Br.length&&cl(),l&&(St=l),d=c?o.apply(u,c):o.call(u),St=s,d},xs=function(e){return Or(e),e.scrollTrigger&&e.scrollTrigger.kill(!!Zt),e.progress()<1&&Nn(e,"onInterrupt"),e},Qi,Lb=[],Pb=function(e){if(e)if(e=!e.name&&e.default||e,td()||e.headless){var n=e.name,r=Tt(e),i=n&&!r&&e.init?function(){this._props=[]}:e,o={init:ms,render:Nd,add:_d,kill:UC,modifier:HC,rawVars:0},s={targetTest:0,get:0,getSetter:Cd,aliases:{},register:0};if(eo(),e!==i){if(kn[n])return;Cn(i,Cn(ul(e,o),s)),Xi(i.prototype,Xi(o,ul(e,s))),kn[i.prop=n]=i,e.targetTest&&(ll.push(i),ad[n]=1),n=(n==="css"?"CSS":n.charAt(0).toUpperCase()+n.substr(1))+"Plugin"}ub(n,i),e.register&&e.register(yn,i,gn)}else Lb.push(e)},vt=255,_s={aqua:[0,vt,vt],lime:[0,vt,0],silver:[192,192,192],black:[0,0,0],maroon:[128,0,0],teal:[0,128,128],blue:[0,0,vt],navy:[0,0,128],white:[vt,vt,vt],olive:[128,128,0],yellow:[vt,vt,0],orange:[vt,165,0],gray:[128,128,128],purple:[128,0,128],green:[0,128,0],red:[vt,0,0],pink:[vt,192,203],cyan:[0,vt,vt],transparent:[vt,vt,vt,0]},bd=function(e,n,r){return e+=e<0?1:e>1?-1:0,(e*6<1?n+(r-n)*e*6:e<.5?r:e*3<2?n+(r-n)*(2/3-e)*6:n)*vt+.5|0},Ab=function(e,n,r){var i=e?wr(e)?[e>>16,e>>8&vt,e&vt]:0:_s.black,o,s,l,c,u,d,f,p,h,y;if(!i){if(e.substr(-1)===","&&(e=e.substr(0,e.length-1)),_s[e])i=_s[e];else if(e.charAt(0)==="#"){if(e.length<6&&(o=e.charAt(1),s=e.charAt(2),l=e.charAt(3),e="#"+o+o+s+s+l+l+(e.length===5?e.charAt(4)+e.charAt(4):"")),e.length===9)return i=parseInt(e.substr(1,6),16),[i>>16,i>>8&vt,i&vt,parseInt(e.substr(7),16)/255];e=parseInt(e.substr(1),16),i=[e>>16,e>>8&vt,e&vt]}else if(e.substr(0,3)==="hsl"){if(i=y=e.match(nd),!n)c=+i[0]%360/360,u=+i[1]/100,d=+i[2]/100,s=d<=.5?d*(u+1):d+u-d*u,o=d*2-s,i.length>3&&(i[3]*=1),i[0]=bd(c+1/3,o,s),i[1]=bd(c,o,s),i[2]=bd(c-1/3,o,s);else if(~e.indexOf("="))return i=e.match(ob),r&&i.length<4&&(i[3]=1),i}else i=e.match(nd)||_s.transparent;i=i.map(Number)}return n&&!y&&(o=i[0]/vt,s=i[1]/vt,l=i[2]/vt,f=Math.max(o,s,l),p=Math.min(o,s,l),d=(f+p)/2,f===p?c=u=0:(h=f-p,u=d>.5?h/(2-f-p):h/(f+p),c=f===o?(s-l)/h+(s<l?6:0):f===s?(l-o)/h+2:(o-s)/h+4,c*=60),i[0]=~~(c+.5),i[1]=~~(u*100+.5),i[2]=~~(d*100+.5)),r&&i.length<4&&(i[3]=1),i},Eb=function(e){var n=[],r=[],i=-1;return e.split(zr).forEach(function(o){var s=o.match(Zi)||[];n.push.apply(n,s),r.push(i+=s.length+1)}),n.c=r,n},Fb=function(e,n,r){var i="",o=(e+i).match(zr),s=n?"hsla(":"rgba(",l=0,c,u,d,f;if(!o)return e;if(o=o.map(function(p){return(p=Ab(p,n,1))&&s+(n?p[0]+","+p[1]+"%,"+p[2]+"%,"+p[3]:p.join(","))+")"}),r&&(d=Eb(e),c=r.c,c.join(i)!==d.c.join(i)))for(u=e.replace(zr,"1").split(Zi),f=u.length-1;l<f;l++)i+=u[l]+(~c.indexOf(l)?o.shift()||s+"0,0,0,0)":(d.length?d:o.length?o:r).shift());if(!u)for(u=e.split(zr),f=u.length-1;l<f;l++)i+=u[l]+o[l];return i+u[f]},zr=(function(){var t="(?:\\b(?:(?:rgb|rgba|hsl|hsla)\\(.+?\\))|\\B#(?:[0-9a-f]{3,4}){1,2}\\b",e;for(e in _s)t+="|"+e+"\\b";return new RegExp(t+")","gi")})(),TC=/hsl[a]?\(/,$b=function(e){var n=e.join(" "),r;if(zr.lastIndex=0,zr.test(n))return r=TC.test(n),e[1]=Fb(e[1],r),e[0]=Fb(e[0],r,Eb(e[1])),!0},ws,Mn=(function(){var t=Date.now,e=500,n=33,r=t(),i=r,o=1e3/240,s=o,l=[],c,u,d,f,p,h,y=function m(g){var N=t()-i,M=g===!0,T,x,v,C;if((N>e||N<0)&&(r+=N-n),i+=N,v=i-r,T=v-s,(T>0||M)&&(C=++f.frame,p=v-f.time*1e3,f.time=v=v/1e3,s+=T+(T>=o?4:o-T),x=1),M||(c=u(m)),x)for(h=0;h<l.length;h++)l[h](v,p,C,g)};return f={time:0,frame:0,tick:function(){y(!0)},deltaRatio:function(g){return p/(1e3/(g||60))},wake:function(){lb&&(!id&&td()&&(lr=id=window,od=lr.document||{},Sn.gsap=yn,(lr.gsapVersions||(lr.gsapVersions=[])).push(yn.version),cb(sl||lr.GreenSockGlobals||!lr.gsap&&lr||{}),Lb.forEach(Pb)),d=typeof requestAnimationFrame<"u"&&requestAnimationFrame,c&&f.sleep(),u=d||function(g){return setTimeout(g,s-f.time*1e3+1|0)},ws=1,y(2))},sleep:function(){(d?cancelAnimationFrame:clearTimeout)(c),ws=0,u=ms},lagSmoothing:function(g,N){e=g||1/0,n=Math.min(N||33,e)},fps:function(g){o=1e3/(g||240),s=f.time*1e3+o},add:function(g,N,M){var T=N?function(x,v,C,w){g(x,v,C,w),f.remove(T)}:g;return f.remove(g),l[M?"unshift":"push"](T),eo(),T},remove:function(g,N){~(N=l.indexOf(g))&&l.splice(N,1)&&h>=N&&h--},_listeners:l},f})(),eo=function(){return!ws&&Mn.wake()},at={},jC=/^[\d.\-M][\d.\-,\s]/,DC=/["']/g,IC=function(e){for(var n={},r=e.substr(1,e.length-3).split(":"),i=r[0],o=1,s=r.length,l,c,u;o<s;o++)c=r[o],l=o!==s-1?c.lastIndexOf(","):c.length,u=c.substr(0,l),n[i]=isNaN(u)?u.replace(DC,"").trim():+u,i=c.substr(l+1).trim();return n},LC=function(e){var n=e.indexOf("(")+1,r=e.indexOf(")"),i=e.indexOf("(",n);return e.substring(n,~i&&i<r?e.indexOf(")",r+1):r)},PC=function(e){var n=(e+"").split("("),r=at[n[0]];return r&&n.length>1&&r.config?r.config.apply(null,~e.indexOf("{")?[IC(n[1])]:LC(e).split(",").map(mb)):at._CE&&jC.test(e)?at._CE("",e):r},Bb=function(e){return function(n){return 1-e(1-n)}},Ob=function t(e,n){for(var r=e._first,i;r;)r instanceof qt?t(r,n):r.vars.yoyoEase&&(!r._yoyo||!r._repeat)&&r._yoyo!==n&&(r.timeline?t(r.timeline,n):(i=r._ease,r._ease=r._yEase,r._yEase=i,r._yoyo=n)),r=r._next},hi=function(e,n){return e&&(Tt(e)?e:at[e]||PC(e))||n},pi=function(e,n,r,i){r===void 0&&(r=function(c){return 1-n(1-c)}),i===void 0&&(i=function(c){return c<.5?n(c*2)/2:1-n((1-c)*2)/2});var o={easeIn:n,easeOut:r,easeInOut:i},s;return mn(e,function(l){at[l]=Sn[l]=o,at[s=l.toLowerCase()]=r;for(var c in o)at[s+(c==="easeIn"?".in":c==="easeOut"?".out":".inOut")]=at[l+"."+c]=o[c]}),o},Rb=function(e){return function(n){return n<.5?(1-e(1-n*2))/2:.5+e((n-.5)*2)/2}},vd=function t(e,n,r){var i=n>=1?n:1,o=(r||(e?.3:.45))/(n<1?n:1),s=o/Qu*(Math.asin(1/i)||0),l=function(d){return d===1?1:i*Math.pow(2,-10*d)*aC((d-s)*o)+1},c=e==="out"?l:e==="in"?function(u){return 1-l(1-u)}:Rb(l);return o=Qu/o,c.config=function(u,d){return t(e,u,d)},c},xd=function t(e,n){n===void 0&&(n=1.70158);var r=function(s){return s?--s*s*((n+1)*s+n)+1:0},i=e==="out"?r:e==="in"?function(o){return 1-r(1-o)}:Rb(r);return i.config=function(o){return t(e,o)},i};mn("Linear,Quad,Cubic,Quart,Quint,Strong",function(t,e){var n=e<5?e+1:e;pi(t+",Power"+(n-1),e?function(r){return Math.pow(r,n)}:function(r){return r},function(r){return 1-Math.pow(1-r,n)},function(r){return r<.5?Math.pow(r*2,n)/2:1-Math.pow((1-r)*2,n)/2})}),at.Linear.easeNone=at.none=at.Linear.easeIn,pi("Elastic",vd("in"),vd("out"),vd()),(function(t,e){var n=1/e,r=2*n,i=2.5*n,o=function(l){return l<n?t*l*l:l<r?t*Math.pow(l-1.5/e,2)+.75:l<i?t*(l-=2.25/e)*l+.9375:t*Math.pow(l-2.625/e,2)+.984375};pi("Bounce",function(s){return 1-o(1-s)},o)})(7.5625,2.75),pi("Expo",function(t){return Math.pow(2,10*(t-1))*t+t*t*t*t*t*t*(1-t)}),pi("Circ",function(t){return-(rb(1-t*t)-1)}),pi("Sine",function(t){return t===1?1:-sC(t*iC)+1}),pi("Back",xd("in"),xd("out"),xd()),at.SteppedEase=at.steps=Sn.SteppedEase={config:function(e,n){e===void 0&&(e=1);var r=1/e,i=e+(n?0:1),o=n?1:0,s=1-bt;return function(l){return((i*bs(0,s,l)|0)+o)*r}}},Vi.ease=at["quad.out"],mn("onComplete,onUpdate,onStart,onRepeat,onReverseComplete,onInterrupt",function(t){return ud+=t+","+t+"Params,"});var zb=function(e,n){this.id=oC++,e._gsap=this,this.target=e,this.harness=n,this.get=n?n.get:hb,this.set=n?n.getSetter:Cd},Ss=(function(){function t(n){this.vars=n,this._delay=+n.delay||0,(this._repeat=n.repeat===1/0?-2:n.repeat||0)&&(this._rDelay=n.repeatDelay||0,this._yoyo=!!n.yoyo||!!n.yoyoEase),this._ts=1,Ki(this,+n.duration,1,1),this.data=n.data,St&&(this._ctx=St,St.data.push(this)),ws||Mn.wake()}var e=t.prototype;return e.delay=function(r){return r||r===0?(this.parent&&this.parent.smoothChildTiming&&this.startTime(this._start+r-this._delay),this._delay=r,this):this._delay},e.duration=function(r){return arguments.length?this.totalDuration(this._repeat>0?r+(r+this._rDelay)*this._repeat:r):this.totalDuration()&&this._dur},e.totalDuration=function(r){return arguments.length?(this._dirty=0,Ki(this,this._repeat<0?r:(r-this._repeat*this._rDelay)/(this._repeat+1))):this._tDur},e.totalTime=function(r,i){if(eo(),!arguments.length)return this._tTime;var o=this._dp;if(o&&o.smoothChildTiming&&this._ts){for(pl(this,r),!o._dp||o.parent||xb(o,this);o&&o.parent;)o.parent._time!==o._start+(o._ts>=0?o._tTime/o._ts:(o.totalDuration()-o._tTime)/-o._ts)&&o.totalTime(o._tTime,!0),o=o.parent;!this.parent&&this._dp.autoRemoveChildren&&(this._ts>0&&r<this._tDur||this._ts<0&&r>0||!this._tDur&&!r)&&cr(this._dp,this,this._start-this._delay)}return(this._tTime!==r||!this._dur&&!i||this._initted&&Math.abs(this._zTime)===bt||!r&&!this._initted&&(this.add||this._ptLookup))&&(this._ts||(this._pTime=r),pb(this,r,i)),this},e.time=function(r,i){return arguments.length?this.totalTime(Math.min(this.totalDuration(),r+vb(this))%(this._dur+this._rDelay)||(r?this._dur:0),i):this._time},e.totalProgress=function(r,i){return arguments.length?this.totalTime(this.totalDuration()*r,i):this.totalDuration()?Math.min(1,this._tTime/this._tDur):this.rawTime()>=0&&this._initted?1:0},e.progress=function(r,i){return arguments.length?this.totalTime(this.duration()*(this._yoyo&&!(this.iteration()&1)?1-r:r)+vb(this),i):this.duration()?Math.min(1,this._time/this._dur):this.rawTime()>0?1:0},e.iteration=function(r,i){var o=this.duration()+this._rDelay;return arguments.length?this.totalTime(this._time+(r-1)*o,i):this._repeat?Ji(this._tTime,o)+1:1},e.timeScale=function(r,i){if(!arguments.length)return this._rts===-bt?0:this._rts;if(this._rts===r)return this;var o=this.parent&&this._ts?fl(this.parent._time,this):this._tTime;return this._rts=+r||0,this._ts=this._ps||r===-bt?0:this._rts,this.totalTime(bs(-Math.abs(this._delay),this.totalDuration(),o),i!==!1),hl(this),pC(this)},e.paused=function(r){return arguments.length?(this._ps!==r&&(this._ps=r,r?(this._pTime=this._tTime||Math.max(-this._delay,this.rawTime()),this._ts=this._act=0):(eo(),this._ts=this._rts,this.totalTime(this.parent&&!this.parent.smoothChildTiming?this.rawTime():this._tTime||this._pTime,this.progress()===1&&Math.abs(this._zTime)!==bt&&(this._tTime-=bt)))),this):this._ps},e.startTime=function(r){if(arguments.length){this._start=r;var i=this.parent||this._dp;return i&&(i._sort||!this.parent)&&cr(i,this,r-this._delay),this}return this._start},e.endTime=function(r){return this._start+(pn(r)?this.totalDuration():this.duration())/Math.abs(this._ts||1)},e.rawTime=function(r){var i=this.parent||this._dp;return i?r&&(!this._ts||this._repeat&&this._time&&this.totalProgress()<1)?this._tTime%(this._dur+this._rDelay):this._ts?fl(i.rawTime(r),this):this._tTime:this._tTime},e.revert=function(r){r===void 0&&(r=uC);var i=Zt;return Zt=r,fd(this)&&(this.timeline&&this.timeline.revert(r),this.totalTime(-.01,r.suppressEvents)),this.data!=="nested"&&r.kill!==!1&&this.kill(),Zt=i,this},e.globalTime=function(r){for(var i=this,o=arguments.length?r:i.rawTime();i;)o=i._start+o/(Math.abs(i._ts)||1),i=i._dp;return!this.parent&&this._sat?this._sat.globalTime(r):o},e.repeat=function(r){return arguments.length?(this._repeat=r===1/0?-2:r,Sb(this)):this._repeat===-2?1/0:this._repeat},e.repeatDelay=function(r){if(arguments.length){var i=this._time;return this._rDelay=r,Sb(this),i?this.time(i):this}return this._rDelay},e.yoyo=function(r){return arguments.length?(this._yoyo=r,this):this._yoyo},e.seek=function(r,i){return this.totalTime(Fn(this,r),pn(i))},e.restart=function(r,i){return this.play().totalTime(r?-this._delay:0,pn(i)),this._dur||(this._zTime=-bt),this},e.play=function(r,i){return r!=null&&this.seek(r,i),this.reversed(!1).paused(!1)},e.reverse=function(r,i){return r!=null&&this.seek(r||this.totalDuration(),i),this.reversed(!0).paused(!1)},e.pause=function(r,i){return r!=null&&this.seek(r,i),this.paused(!0)},e.resume=function(){return this.paused(!1)},e.reversed=function(r){return arguments.length?(!!r!==this.reversed()&&this.timeScale(-this._rts||(r?-bt:0)),this):this._rts<0},e.invalidate=function(){return this._initted=this._act=0,this._zTime=-bt,this},e.isActive=function(){var r=this.parent||this._dp,i=this._start,o;return!!(!r||this._ts&&this._initted&&r.isActive()&&(o=r.rawTime(!0))>=i&&o<this.endTime(!0)-bt)},e.eventCallback=function(r,i,o){var s=this.vars;return arguments.length>1?(i?(s[r]=i,o&&(s[r+"Params"]=o),r==="onUpdate"&&(this._onUpdate=i)):delete s[r],this):s[r]},e.then=function(r){var i=this;return new Promise(function(o){var s=Tt(r)?r:gb,l=function(){var u=i.then;i.then=null,Tt(s)&&(s=s(i))&&(s.then||s===i)&&(i.then=u),o(s),i.then=u};i._initted&&i.totalProgress()===1&&i._ts>=0||!i._tTime&&i._ts<0?l():i._prom=l})},e.kill=function(){xs(this)},t})();Cn(Ss.prototype,{_time:0,_start:0,_end:0,_tTime:0,_tDur:0,_dirty:0,_repeat:0,_yoyo:!1,parent:null,_initted:!1,_rDelay:0,_ts:1,_dp:0,ratio:0,_zTime:-bt,_prom:0,_ps:!1,_rts:1});var qt=(function(t){nb(e,t);function e(r,i){var o;return r===void 0&&(r={}),o=t.call(this,r)||this,o.labels={},o.smoothChildTiming=!!r.smoothChildTiming,o.autoRemoveChildren=!!r.autoRemoveChildren,o._sort=pn(r.sortChildren),Ct&&cr(r.parent||Ct,_r(o),i),r.reversed&&o.reverse(),r.paused&&o.paused(!0),r.scrollTrigger&&_b(_r(o),r.scrollTrigger),o}var n=e.prototype;return n.to=function(i,o,s){return ys(0,arguments,this),this},n.from=function(i,o,s){return ys(1,arguments,this),this},n.fromTo=function(i,o,s,l){return ys(2,arguments,this),this},n.set=function(i,o,s){return o.duration=0,o.parent=this,gs(o).repeatDelay||(o.repeat=0),o.immediateRender=!!o.immediateRender,new Dt(i,o,Fn(this,s),1),this},n.call=function(i,o,s){return cr(this,Dt.delayedCall(0,i,o),s)},n.staggerTo=function(i,o,s,l,c,u,d){return s.duration=o,s.stagger=s.stagger||l,s.onComplete=u,s.onCompleteParams=d,s.parent=this,new Dt(i,s,Fn(this,c)),this},n.staggerFrom=function(i,o,s,l,c,u,d){return s.runBackwards=1,gs(s).immediateRender=pn(s.immediateRender),this.staggerTo(i,o,s,l,c,u,d)},n.staggerFromTo=function(i,o,s,l,c,u,d,f){return l.startAt=s,gs(l).immediateRender=pn(l.immediateRender),this.staggerTo(i,o,l,c,u,d,f)},n.render=function(i,o,s){var l=this._time,c=this._dirty?this.totalDuration():this._tDur,u=this._dur,d=i<=0?0:At(i),f=this._zTime<0!=i<0&&(this._initted||!u),p,h,y,m,g,N,M,T,x,v,C,w;if(this!==Ct&&d>c&&i>=0&&(d=c),d!==this._tTime||s||f){if(l!==this._time&&u&&(d+=this._time-l,i+=this._time-l),p=d,x=this._start,T=this._ts,N=!T,f&&(u||(l=this._zTime),(i||!o)&&(this._zTime=i)),this._repeat){if(C=this._yoyo,g=u+this._rDelay,this._repeat<-1&&i<0)return this.totalTime(g*100+i,o,s);if(p=At(d%g),d===c?(m=this._repeat,p=u):(v=At(d/g),m=~~v,m&&m===v&&(p=u,m--),p>u&&(p=u)),v=Ji(this._tTime,g),!l&&this._tTime&&v!==m&&this._tTime-v*g-this._dur<=0&&(v=m),C&&m&1&&(p=u-p,w=1),m!==v&&!this._lock){var k=C&&v&1,b=k===(C&&m&1);if(m<v&&(k=!k),l=k?0:d%u?u:d,this._lock=1,this.render(l||(w?0:At(m*g)),o,!u)._lock=0,this._tTime=d,!o&&this.parent&&Nn(this,"onRepeat"),this.vars.repeatRefresh&&!w&&(this.invalidate()._lock=1),l&&l!==this._time||N!==!this._ts||this.vars.onRepeat&&!this.parent&&!this._act)return this;if(u=this._dur,c=this._tDur,b&&(this._lock=2,l=k?u:-1e-4,this.render(l,!0),this.vars.repeatRefresh&&!w&&this.invalidate()),this._lock=0,!this._ts&&!N)return this;Ob(this,w)}}if(this._hasPause&&!this._forcing&&this._lock<2&&(M=bC(this,At(l),At(p)),M&&(d-=p-(p=M._start))),this._tTime=d,this._time=p,this._act=!T,this._initted||(this._onUpdate=this.vars.onUpdate,this._initted=1,this._zTime=i,l=0),!l&&d&&!o&&!v&&(Nn(this,"onStart"),this._tTime!==d))return this;if(p>=l&&i>=0)for(h=this._first;h;){if(y=h._next,(h._act||p>=h._start)&&h._ts&&M!==h){if(h.parent!==this)return this.render(i,o,s);if(h.render(h._ts>0?(p-h._start)*h._ts:(h._dirty?h.totalDuration():h._tDur)+(p-h._start)*h._ts,o,s),p!==this._time||!this._ts&&!N){M=0,y&&(d+=this._zTime=-bt);break}}h=y}else{h=this._last;for(var _=i<0?i:p;h;){if(y=h._prev,(h._act||_<=h._end)&&h._ts&&M!==h){if(h.parent!==this)return this.render(i,o,s);if(h.render(h._ts>0?(_-h._start)*h._ts:(h._dirty?h.totalDuration():h._tDur)+(_-h._start)*h._ts,o,s||Zt&&fd(h)),p!==this._time||!this._ts&&!N){M=0,y&&(d+=this._zTime=_?-bt:bt);break}}h=y}}if(M&&!o&&(this.pause(),M.render(p>=l?0:-bt)._zTime=p>=l?1:-1,this._ts))return this._start=x,hl(this),this.render(i,o,s);this._onUpdate&&!o&&Nn(this,"onUpdate",!0),(d===c&&this._tTime>=this.totalDuration()||!d&&l)&&(x===this._start||Math.abs(T)!==Math.abs(this._ts))&&(this._lock||((i||!u)&&(d===c&&this._ts>0||!d&&this._ts<0)&&Or(this,1),!o&&!(i<0&&!l)&&(d||l||!c)&&(Nn(this,d===c&&i>=0?"onComplete":"onReverseComplete",!0),this._prom&&!(d<c&&this.timeScale()>0)&&this._prom())))}return this},n.add=function(i,o){var s=this;if(wr(o)||(o=Fn(this,o,i)),!(i instanceof Ss)){if(Kt(i))return i.forEach(function(l){return s.add(l,o)}),this;if(Wt(i))return this.addLabel(i,o);if(Tt(i))i=Dt.delayedCall(0,i);else return this}return this!==i?cr(this,i,o):this},n.getChildren=function(i,o,s,l){i===void 0&&(i=!0),o===void 0&&(o=!0),s===void 0&&(s=!0),l===void 0&&(l=-En);for(var c=[],u=this._first;u;)u._start>=l&&(u instanceof Dt?o&&c.push(u):(s&&c.push(u),i&&c.push.apply(c,u.getChildren(!0,o,s)))),u=u._next;return c},n.getById=function(i){for(var o=this.getChildren(1,1,1),s=o.length;s--;)if(o[s].vars.id===i)return o[s]},n.remove=function(i){return Wt(i)?this.removeLabel(i):Tt(i)?this.killTweensOf(i):(i.parent===this&&dl(this,i),i===this._recent&&(this._recent=this._last),fi(this))},n.totalTime=function(i,o){return arguments.length?(this._forcing=1,!this._dp&&this._ts&&(this._start=At(Mn.time-(this._ts>0?i/this._ts:(this.totalDuration()-i)/-this._ts))),t.prototype.totalTime.call(this,i,o),this._forcing=0,this):this._tTime},n.addLabel=function(i,o){return this.labels[i]=Fn(this,o),this},n.removeLabel=function(i){return delete this.labels[i],this},n.addPause=function(i,o,s){var l=Dt.delayedCall(0,o||ms,s);return l.data="isPause",this._hasPause=1,cr(this,l,Fn(this,i))},n.removePause=function(i){var o=this._first;for(i=Fn(this,i);o;)o._start===i&&o.data==="isPause"&&Or(o),o=o._next},n.killTweensOf=function(i,o,s){for(var l=this.getTweensOf(i,s),c=l.length;c--;)Hr!==l[c]&&l[c].kill(i,o);return this},n.getTweensOf=function(i,o){for(var s=[],l=$n(i),c=this._first,u=wr(o),d;c;)c instanceof Dt?dC(c._targets,l)&&(u?(!Hr||c._initted&&c._ts)&&c.globalTime(0)<=o&&c.globalTime(c.totalDuration())>o:!o||c.isActive())&&s.push(c):(d=c.getTweensOf(l,o)).length&&s.push.apply(s,d),c=c._next;return s},n.tweenTo=function(i,o){o=o||{};var s=this,l=Fn(s,i),c=o,u=c.startAt,d=c.onStart,f=c.onStartParams,p=c.immediateRender,h,y=Dt.to(s,Cn({ease:o.ease||"none",lazy:!1,immediateRender:!1,time:l,overwrite:"auto",duration:o.duration||Math.abs((l-(u&&"time"in u?u.time:s._time))/s.timeScale())||bt,onStart:function(){if(s.pause(),!h){var g=o.duration||Math.abs((l-(u&&"time"in u?u.time:s._time))/s.timeScale());y._dur!==g&&Ki(y,g,0,1).render(y._time,!0,!0),h=1}d&&d.apply(y,f||[])}},o));return p?y.render(0):y},n.tweenFromTo=function(i,o,s){return this.tweenTo(o,Cn({startAt:{time:Fn(this,i)}},s))},n.recent=function(){return this._recent},n.nextLabel=function(i){return i===void 0&&(i=this._time),Ib(this,Fn(this,i))},n.previousLabel=function(i){return i===void 0&&(i=this._time),Ib(this,Fn(this,i),1)},n.currentLabel=function(i){return arguments.length?this.seek(i,!0):this.previousLabel(this._time+bt)},n.shiftChildren=function(i,o,s){s===void 0&&(s=0);for(var l=this._first,c=this.labels,u;l;)l._start>=s&&(l._start+=i,l._end+=i),l=l._next;if(o)for(u in c)c[u]>=s&&(c[u]+=i);return fi(this)},n.invalidate=function(i){var o=this._first;for(this._lock=0;o;)o.invalidate(i),o=o._next;return t.prototype.invalidate.call(this,i)},n.clear=function(i){i===void 0&&(i=!0);for(var o=this._first,s;o;)s=o._next,this.remove(o),o=s;return this._dp&&(this._time=this._tTime=this._pTime=0),i&&(this.labels={}),fi(this)},n.totalDuration=function(i){var o=0,s=this,l=s._last,c=En,u,d,f;if(arguments.length)return s.timeScale((s._repeat<0?s.duration():s.totalDuration())/(s.reversed()?-i:i));if(s._dirty){for(f=s.parent;l;)u=l._prev,l._dirty&&l.totalDuration(),d=l._start,d>c&&s._sort&&l._ts&&!s._lock?(s._lock=1,cr(s,l,d-l._delay,1)._lock=0):c=d,d<0&&l._ts&&(o-=d,(!f&&!s._dp||f&&f.smoothChildTiming)&&(s._start+=d/s._ts,s._time-=d,s._tTime-=d),s.shiftChildren(-d,!1,-1/0),c=0),l._end>o&&l._ts&&(o=l._end),l=u;Ki(s,s===Ct&&s._time>o?s._time:o,1,1),s._dirty=0}return s._tDur},e.updateRoot=function(i){if(Ct._ts&&(pb(Ct,fl(i,Ct)),db=Mn.frame),Mn.frame>=fb){fb+=wn.autoSleep||120;var o=Ct._first;if((!o||!o._ts)&&wn.autoSleep&&Mn._listeners.length<2){for(;o&&!o._ts;)o=o._next;o||Mn.sleep()}}},e})(Ss);Cn(qt.prototype,{_lock:0,_hasPause:0,_forcing:0});var AC=function(e,n,r,i,o,s,l){var c=new gn(this._pt,e,n,0,1,Vb,null,o),u=0,d=0,f,p,h,y,m,g,N,M;for(c.b=r,c.e=i,r+="",i+="",(N=~i.indexOf("random("))&&(i=vs(i)),s&&(M=[r,i],s(M,e,n),r=M[0],i=M[1]),p=r.match(rd)||[];f=rd.exec(i);)y=f[0],m=i.substring(u,f.index),h?h=(h+1)%5:m.substr(-5)==="rgba("&&(h=1),y!==p[d++]&&(g=parseFloat(p[d-1])||0,c._pt={_next:c._pt,p:m||d===1?m:",",s:g,c:y.charAt(1)==="="?qi(g,y)-g:parseFloat(y)-g,m:h&&h<4?Math.round:0},u=rd.lastIndex);return c.c=u<i.length?i.substring(u,i.length):"",c.fp=l,(sb.test(i)||N)&&(c.e=0),this._pt=c,c},_d=function(e,n,r,i,o,s,l,c,u,d){Tt(i)&&(i=i(o||0,e,s));var f=e[n],p=r!=="get"?r:Tt(f)?u?e[n.indexOf("set")||!Tt(e["get"+n.substr(3)])?n:"get"+n.substr(3)](u):e[n]():f,h=Tt(f)?u?OC:Gb:kd,y;if(Wt(i)&&(~i.indexOf("random(")&&(i=vs(i)),i.charAt(1)==="="&&(y=qi(p,i)+(Qt(p)||0),(y||y===0)&&(i=y))),!d||p!==i||wd)return!isNaN(p*i)&&i!==""?(y=new gn(this._pt,e,n,+p||0,i-(p||0),typeof f=="boolean"?zC:Yb,0,h),u&&(y.fp=u),l&&y.modifier(l,this,e),this._pt=y):(!f&&!(n in e)&&sd(n,i),AC.call(this,e,n,p,i,h,c||wn.stringFilter,u))},EC=function(e,n,r,i,o){if(Tt(e)&&(e=ks(e,o,n,r,i)),!ar(e)||e.style&&e.nodeType||Kt(e)||ib(e))return Wt(e)?ks(e,o,n,r,i):e;var s={},l;for(l in e)s[l]=ks(e[l],o,n,r,i);return s},Hb=function(e,n,r,i,o,s){var l,c,u,d;if(kn[e]&&(l=new kn[e]).init(o,l.rawVars?n[e]:EC(n[e],i,o,s,r),r,i,s)!==!1&&(r._pt=c=new gn(r._pt,o,e,0,1,l.render,l,0,l.priority),r!==Qi))for(u=r._ptLookup[r._targets.indexOf(o)],d=l._props.length;d--;)u[l._props[d]]=c;return l},Hr,wd,Sd=function t(e,n,r){var i=e.vars,o=i.ease,s=i.startAt,l=i.immediateRender,c=i.lazy,u=i.onUpdate,d=i.runBackwards,f=i.yoyoEase,p=i.keyframes,h=i.autoRevert,y=e._dur,m=e._startAt,g=e._targets,N=e.parent,M=N&&N.data==="nested"?N.vars.targets:g,T=e._overwrite==="auto"&&!Ku,x=e.timeline,v,C,w,k,b,_,I,j,E,F,A,P,R;if(x&&(!p||!o)&&(o="none"),e._ease=hi(o,Vi.ease),e._yEase=f?Bb(hi(f===!0?o:f,Vi.ease)):0,f&&e._yoyo&&!e._repeat&&(f=e._yEase,e._yEase=e._ease,e._ease=f),e._from=!x&&!!i.runBackwards,!x||p&&!i.stagger){if(j=g[0]?di(g[0]).harness:0,P=j&&i[j.prop],v=ul(i,ad),m&&(m._zTime<0&&m.progress(1),n<0&&d&&l&&!h?m.render(-1,!0):m.revert(d&&y?al:cC),m._lazy=0),s){if(Or(e._startAt=Dt.set(g,Cn({data:"isStart",overwrite:!1,parent:N,immediateRender:!0,lazy:!m&&pn(c),startAt:null,delay:0,onUpdate:u&&function(){return Nn(e,"onUpdate")},stagger:0},s))),e._startAt._dp=0,e._startAt._sat=e,n<0&&(Zt||!l&&!h)&&e._startAt.revert(al),l&&y&&n<=0&&r<=0){n&&(e._zTime=n);return}}else if(d&&y&&!m){if(n&&(l=!1),w=Cn({overwrite:!1,data:"isFromStart",lazy:l&&!m&&pn(c),immediateRender:l,stagger:0,parent:N},v),P&&(w[j.prop]=P),Or(e._startAt=Dt.set(g,w)),e._startAt._dp=0,e._startAt._sat=e,n<0&&(Zt?e._startAt.revert(al):e._startAt.render(-1,!0)),e._zTime=n,!l)t(e._startAt,bt,bt);else if(!n)return}for(e._pt=e._ptCache=0,c=y&&pn(c)||c&&!y,C=0;C<g.length;C++){if(b=g[C],I=b._gsap||dd(g)[C]._gsap,e._ptLookup[C]=F={},ld[I.id]&&Br.length&&cl(),A=M===g?C:M.indexOf(b),j&&(E=new j).init(b,P||v,e,A,M)!==!1&&(e._pt=k=new gn(e._pt,b,E.name,0,1,E.render,E,0,E.priority),E._props.forEach(function(oe){F[oe]=k}),E.priority&&(_=1)),!j||P)for(w in v)kn[w]&&(E=Hb(w,v,e,A,b,M))?E.priority&&(_=1):F[w]=k=_d.call(e,b,w,"get",v[w],A,M,0,i.stringFilter);e._op&&e._op[C]&&e.kill(b,e._op[C]),T&&e._pt&&(Hr=e,Ct.killTweensOf(b,F,e.globalTime(n)),R=!e.parent,Hr=0),e._pt&&c&&(ld[I.id]=1)}_&&Zb(e),e._onInit&&e._onInit(e)}e._onUpdate=u,e._initted=(!e._op||e._pt)&&!R,p&&n<=0&&x.render(En,!0,!0)},FC=function(e,n,r,i,o,s,l,c){var u=(e._pt&&e._ptCache||(e._ptCache={}))[n],d,f,p,h;if(!u)for(u=e._ptCache[n]=[],p=e._ptLookup,h=e._targets.length;h--;){if(d=p[h][n],d&&d.d&&d.d._pt)for(d=d.d._pt;d&&d.p!==n&&d.fp!==n;)d=d._next;if(!d)return wd=1,e.vars[n]="+=0",Sd(e,l),wd=0,c?ps(n+" not eligible for reset"):1;u.push(d)}for(h=u.length;h--;)f=u[h],d=f._pt||f,d.s=(i||i===0)&&!o?i:d.s+(i||0)+s*d.c,d.c=r-d.s,f.e&&(f.e=jt(r)+Qt(f.e)),f.b&&(f.b=d.s+Qt(f.b))},$C=function(e,n){var r=e[0]?di(e[0]).harness:0,i=r&&r.aliases,o,s,l,c;if(!i)return n;o=Xi({},n);for(s in i)if(s in o)for(c=i[s].split(","),l=c.length;l--;)o[c[l]]=o[s];return o},BC=function(e,n,r,i){var o=n.ease||i||"power1.inOut",s,l;if(Kt(n))l=r[e]||(r[e]=[]),n.forEach(function(c,u){return l.push({t:u/(n.length-1)*100,v:c,e:o})});else for(s in n)l=r[s]||(r[s]=[]),s==="ease"||l.push({t:parseFloat(e),v:n[s],e:o})},ks=function(e,n,r,i,o){return Tt(e)?e.call(n,r,i,o):Wt(e)&&~e.indexOf("random(")?vs(e):e},Ub=ud+"repeat,repeatDelay,yoyo,repeatRefresh,yoyoEase,autoRevert",Wb={};mn(Ub+",id,stagger,delay,duration,paused,scrollTrigger",function(t){return Wb[t]=1});var Dt=(function(t){nb(e,t);function e(r,i,o,s){var l;typeof i=="number"&&(o.duration=i,i=o,o=null),l=t.call(this,s?i:gs(i))||this;var c=l.vars,u=c.duration,d=c.delay,f=c.immediateRender,p=c.stagger,h=c.overwrite,y=c.keyframes,m=c.defaults,g=c.scrollTrigger,N=c.yoyoEase,M=i.parent||Ct,T=(Kt(r)||ib(r)?wr(r[0]):"length"in i)?[r]:$n(r),x,v,C,w,k,b,_,I;if(l._targets=T.length?dd(T):ps("GSAP target "+r+" not found. https://gsap.com",!wn.nullTargetWarn)||[],l._ptLookup=[],l._overwrite=h,y||p||ol(u)||ol(d)){if(i=l.vars,x=l.timeline=new qt({data:"nested",defaults:m||{},targets:M&&M.data==="nested"?M.vars.targets:T}),x.kill(),x.parent=x._dp=_r(l),x._start=0,p||ol(u)||ol(d)){if(w=T.length,_=p&&Nb(p),ar(p))for(k in p)~Ub.indexOf(k)&&(I||(I={}),I[k]=p[k]);for(v=0;v<w;v++)C=ul(i,Wb),C.stagger=0,N&&(C.yoyoEase=N),I&&Xi(C,I),b=T[v],C.duration=+ks(u,_r(l),v,b,T),C.delay=(+ks(d,_r(l),v,b,T)||0)-l._delay,!p&&w===1&&C.delay&&(l._delay=d=C.delay,l._start+=d,C.delay=0),x.to(b,C,_?_(v,b,T):0),x._ease=at.none;x.duration()?u=d=0:l.timeline=0}else if(y){gs(Cn(x.vars.defaults,{ease:"none"})),x._ease=hi(y.ease||i.ease||"none");var j=0,E,F,A;if(Kt(y))y.forEach(function(P){return x.to(T,P,">")}),x.duration();else{C={};for(k in y)k==="ease"||k==="easeEach"||BC(k,y[k],C,y.easeEach);for(k in C)for(E=C[k].sort(function(P,R){return P.t-R.t}),j=0,v=0;v<E.length;v++)F=E[v],A={ease:F.e,duration:(F.t-(v?E[v-1].t:0))/100*u},A[k]=F.v,x.to(T,A,j),j+=A.duration;x.duration()<u&&x.to({},{duration:u-x.duration()})}}u||l.duration(u=x.duration())}else l.timeline=0;return h===!0&&!Ku&&(Hr=_r(l),Ct.killTweensOf(T),Hr=0),cr(M,_r(l),o),i.reversed&&l.reverse(),i.paused&&l.paused(!0),(f||!u&&!y&&l._start===At(M._time)&&pn(f)&&mC(_r(l))&&M.data!=="nested")&&(l._tTime=-bt,l.render(Math.max(0,-d)||0)),g&&_b(_r(l),g),l}var n=e.prototype;return n.render=function(i,o,s){var l=this._time,c=this._tDur,u=this._dur,d=i<0,f=i>c-bt&&!d?c:i<bt?0:i,p,h,y,m,g,N,M,T,x;if(!u)yC(this,i,o,s);else if(f!==this._tTime||!i||s||!this._initted&&this._tTime||this._startAt&&this._zTime<0!==d||this._lazy){if(p=f,T=this.timeline,this._repeat){if(m=u+this._rDelay,this._repeat<-1&&d)return this.totalTime(m*100+i,o,s);if(p=At(f%m),f===c?(y=this._repeat,p=u):(g=At(f/m),y=~~g,y&&y===g?(p=u,y--):p>u&&(p=u)),N=this._yoyo&&y&1,N&&(x=this._yEase,p=u-p),g=Ji(this._tTime,m),p===l&&!s&&this._initted&&y===g)return this._tTime=f,this;y!==g&&(T&&this._yEase&&Ob(T,N),this.vars.repeatRefresh&&!N&&!this._lock&&p!==m&&this._initted&&(this._lock=s=1,this.render(At(m*y),!0).invalidate()._lock=0))}if(!this._initted){if(wb(this,d?i:p,s,o,f))return this._tTime=0,this;if(l!==this._time&&!(s&&this.vars.repeatRefresh&&y!==g))return this;if(u!==this._dur)return this.render(i,o,s)}if(this._tTime=f,this._time=p,!this._act&&this._ts&&(this._act=1,this._lazy=0),this.ratio=M=(x||this._ease)(p/u),this._from&&(this.ratio=M=1-M),!l&&f&&!o&&!g&&(Nn(this,"onStart"),this._tTime!==f))return this;for(h=this._pt;h;)h.r(M,h.d),h=h._next;T&&T.render(i<0?i:T._dur*T._ease(p/this._dur),o,s)||this._startAt&&(this._zTime=i),this._onUpdate&&!o&&(d&&hd(this,i,o,s),Nn(this,"onUpdate")),this._repeat&&y!==g&&this.vars.onRepeat&&!o&&this.parent&&Nn(this,"onRepeat"),(f===this._tDur||!f)&&this._tTime===f&&(d&&!this._onUpdate&&hd(this,i,!0,!0),(i||!u)&&(f===this._tDur&&this._ts>0||!f&&this._ts<0)&&Or(this,1),!o&&!(d&&!l)&&(f||l||N)&&(Nn(this,f===c?"onComplete":"onReverseComplete",!0),this._prom&&!(f<c&&this.timeScale()>0)&&this._prom()))}return this},n.targets=function(){return this._targets},n.invalidate=function(i){return(!i||!this.vars.runBackwards)&&(this._startAt=0),this._pt=this._op=this._onUpdate=this._lazy=this.ratio=0,this._ptLookup=[],this.timeline&&this.timeline.invalidate(i),t.prototype.invalidate.call(this,i)},n.resetTo=function(i,o,s,l,c){ws||Mn.wake(),this._ts||this.play();var u=Math.min(this._dur,(this._dp._time-this._start)*this._ts),d;return this._initted||Sd(this,u),d=this._ease(u/this._dur),FC(this,i,o,s,l,d,u,c)?this.resetTo(i,o,s,l,1):(pl(this,0),this.parent||bb(this._dp,this,"_first","_last",this._dp._sort?"_start":0),this.render(0))},n.kill=function(i,o){if(o===void 0&&(o="all"),!i&&(!o||o==="all"))return this._lazy=this._pt=0,this.parent?xs(this):this.scrollTrigger&&this.scrollTrigger.kill(!!Zt),this;if(this.timeline){var s=this.timeline.totalDuration();return this.timeline.killTweensOf(i,o,Hr&&Hr.vars.overwrite!==!0)._first||xs(this),this.parent&&s!==this.timeline.totalDuration()&&Ki(this,this._dur*this.timeline._tDur/s,0,1),this}var l=this._targets,c=i?$n(i):l,u=this._ptLookup,d=this._pt,f,p,h,y,m,g,N;if((!o||o==="all")&&hC(l,c))return o==="all"&&(this._pt=0),xs(this);for(f=this._op=this._op||[],o!=="all"&&(Wt(o)&&(m={},mn(o,function(M){return m[M]=1}),o=m),o=$C(l,o)),N=l.length;N--;)if(~c.indexOf(l[N])){p=u[N],o==="all"?(f[N]=o,y=p,h={}):(h=f[N]=f[N]||{},y=o);for(m in y)g=p&&p[m],g&&((!("kill"in g.d)||g.d.kill(m)===!0)&&dl(this,g,"_pt"),delete p[m]),h!=="all"&&(h[m]=1)}return this._initted&&!this._pt&&d&&xs(this),this},e.to=function(i,o){return new e(i,o,arguments[2])},e.from=function(i,o){return ys(1,arguments)},e.delayedCall=function(i,o,s,l){return new e(o,0,{immediateRender:!1,lazy:!1,overwrite:!1,delay:i,onComplete:o,onReverseComplete:o,onCompleteParams:s,onReverseCompleteParams:s,callbackScope:l})},e.fromTo=function(i,o,s){return ys(2,arguments)},e.set=function(i,o){return o.duration=0,o.repeatDelay||(o.repeat=0),new e(i,o)},e.killTweensOf=function(i,o,s){return Ct.killTweensOf(i,o,s)},e})(Ss);Cn(Dt.prototype,{_targets:[],_lazy:0,_startAt:0,_op:0,_onInit:0}),mn("staggerTo,staggerFrom,staggerFromTo",function(t){Dt[t]=function(){var e=new qt,n=md.call(arguments,0);return n.splice(t==="staggerFromTo"?5:4,0,0),e[t].apply(e,n)}});var kd=function(e,n,r){return e[n]=r},Gb=function(e,n,r){return e[n](r)},OC=function(e,n,r,i){return e[n](i.fp,r)},RC=function(e,n,r){return e.setAttribute(n,r)},Cd=function(e,n){return Tt(e[n])?Gb:ed(e[n])&&e.setAttribute?RC:kd},Yb=function(e,n){return n.set(n.t,n.p,Math.round((n.s+n.c*e)*1e6)/1e6,n)},zC=function(e,n){return n.set(n.t,n.p,!!(n.s+n.c*e),n)},Vb=function(e,n){var r=n._pt,i="";if(!e&&n.b)i=n.b;else if(e===1&&n.e)i=n.e;else{for(;r;)i=r.p+(r.m?r.m(r.s+r.c*e):Math.round((r.s+r.c*e)*1e4)/1e4)+i,r=r._next;i+=n.c}n.set(n.t,n.p,i,n)},Nd=function(e,n){for(var r=n._pt;r;)r.r(e,r.d),r=r._next},HC=function(e,n,r,i){for(var o=this._pt,s;o;)s=o._next,o.p===i&&o.modifier(e,n,r),o=s},UC=function(e){for(var n=this._pt,r,i;n;)i=n._next,n.p===e&&!n.op||n.op===e?dl(this,n,"_pt"):n.dep||(r=1),n=i;return!r},WC=function(e,n,r,i){i.mSet(e,n,i.m.call(i.tween,r,i.mt),i)},Zb=function(e){for(var n=e._pt,r,i,o,s;n;){for(r=n._next,i=o;i&&i.pr>n.pr;)i=i._next;(n._prev=i?i._prev:s)?n._prev._next=n:o=n,(n._next=i)?i._prev=n:s=n,n=r}e._pt=o},gn=(function(){function t(n,r,i,o,s,l,c,u,d){this.t=r,this.s=o,this.c=s,this.p=i,this.r=l||Yb,this.d=c||this,this.set=u||kd,this.pr=d||0,this._next=n,n&&(n._prev=this)}var e=t.prototype;return e.modifier=function(r,i,o){this.mSet=this.mSet||this.set,this.set=WC,this.m=r,this.mt=o,this.tween=i},t})();mn(ud+"parent,duration,ease,delay,overwrite,runBackwards,startAt,yoyo,immediateRender,repeat,repeatDelay,data,paused,reversed,lazy,callbackScope,stringFilter,id,yoyoEase,stagger,inherit,repeatRefresh,keyframes,autoRevert,scrollTrigger",function(t){return ad[t]=1}),Sn.TweenMax=Sn.TweenLite=Dt,Sn.TimelineLite=Sn.TimelineMax=qt,Ct=new qt({sortChildren:!1,defaults:Vi,autoRemoveChildren:!0,id:"root",smoothChildTiming:!0}),wn.stringFilter=$b;var mi=[],ml={},GC=[],qb=0,YC=0,Md=function(e){return(ml[e]||GC).map(function(n){return n()})},Td=function(){var e=Date.now(),n=[];e-qb>2&&(Md("matchMediaInit"),mi.forEach(function(r){var i=r.queries,o=r.conditions,s,l,c,u;for(l in i)s=lr.matchMedia(i[l]).matches,s&&(c=1),s!==o[l]&&(o[l]=s,u=1);u&&(r.revert(),c&&n.push(r))}),Md("matchMediaRevert"),n.forEach(function(r){return r.onMatch(r,function(i){return r.add(null,i)})}),qb=e,Md("matchMedia"))},Xb=(function(){function t(n,r){this.selector=r&&gd(r),this.data=[],this._r=[],this.isReverted=!1,this.id=YC++,n&&this.add(n)}var e=t.prototype;return e.add=function(r,i,o){Tt(r)&&(o=i,i=r,r=Tt);var s=this,l=function(){var u=St,d=s.selector,f;return u&&u!==s&&u.data.push(s),o&&(s.selector=gd(o)),St=s,f=i.apply(s,arguments),Tt(f)&&s._r.push(f),St=u,s.selector=d,s.isReverted=!1,f};return s.last=l,r===Tt?l(s,function(c){return s.add(null,c)}):r?s[r]=l:l},e.ignore=function(r){var i=St;St=null,r(this),St=i},e.getTweens=function(){var r=[];return this.data.forEach(function(i){return i instanceof t?r.push.apply(r,i.getTweens()):i instanceof Dt&&!(i.parent&&i.parent.data==="nested")&&r.push(i)}),r},e.clear=function(){this._r.length=this.data.length=0},e.kill=function(r,i){var o=this;if(r?(function(){for(var l=o.getTweens(),c=o.data.length,u;c--;)u=o.data[c],u.data==="isFlip"&&(u.revert(),u.getChildren(!0,!0,!1).forEach(function(d){return l.splice(l.indexOf(d),1)}));for(l.map(function(d){return{g:d._dur||d._delay||d._sat&&!d._sat.vars.immediateRender?d.globalTime(0):-1/0,t:d}}).sort(function(d,f){return f.g-d.g||-1/0}).forEach(function(d){return d.t.revert(r)}),c=o.data.length;c--;)u=o.data[c],u instanceof qt?u.data!=="nested"&&(u.scrollTrigger&&u.scrollTrigger.revert(),u.kill()):!(u instanceof Dt)&&u.revert&&u.revert(r);o._r.forEach(function(d){return d(r,o)}),o.isReverted=!0})():this.data.forEach(function(l){return l.kill&&l.kill()}),this.clear(),i)for(var s=mi.length;s--;)mi[s].id===this.id&&mi.splice(s,1)},e.revert=function(r){this.kill(r||{})},t})(),VC=(function(){function t(n){this.contexts=[],this.scope=n,St&&St.data.push(this)}var e=t.prototype;return e.add=function(r,i,o){ar(r)||(r={matches:r});var s=new Xb(0,o||this.scope),l=s.conditions={},c,u,d;St&&!s.selector&&(s.selector=St.selector),this.contexts.push(s),i=s.add("onMatch",i),s.queries=r;for(u in r)u==="all"?d=1:(c=lr.matchMedia(r[u]),c&&(mi.indexOf(s)<0&&mi.push(s),(l[u]=c.matches)&&(d=1),c.addListener?c.addListener(Td):c.addEventListener("change",Td)));return d&&i(s,function(f){return s.add(null,f)}),this},e.revert=function(r){this.kill(r||{})},e.kill=function(r){this.contexts.forEach(function(i){return i.kill(r,!0)})},t})(),gl={registerPlugin:function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];n.forEach(function(i){return Pb(i)})},timeline:function(e){return new qt(e)},getTweensOf:function(e,n){return Ct.getTweensOf(e,n)},getProperty:function(e,n,r,i){Wt(e)&&(e=$n(e)[0]);var o=di(e||{}).get,s=r?gb:mb;return r==="native"&&(r=""),e&&(n?s((kn[n]&&kn[n].get||o)(e,n,r,i)):function(l,c,u){return s((kn[l]&&kn[l].get||o)(e,l,c,u))})},quickSetter:function(e,n,r){if(e=$n(e),e.length>1){var i=e.map(function(d){return yn.quickSetter(d,n,r)}),o=i.length;return function(d){for(var f=o;f--;)i[f](d)}}e=e[0]||{};var s=kn[n],l=di(e),c=l.harness&&(l.harness.aliases||{})[n]||n,u=s?function(d){var f=new s;Qi._pt=0,f.init(e,r?d+r:d,Qi,0,[e]),f.render(1,f),Qi._pt&&Nd(1,Qi)}:l.set(e,c);return s?u:function(d){return u(e,c,r?d+r:d,l,1)}},quickTo:function(e,n,r){var i,o=yn.to(e,Cn((i={},i[n]="+=0.1",i.paused=!0,i.stagger=0,i),r||{})),s=function(c,u,d){return o.resetTo(n,c,u,d)};return s.tween=o,s},isTweening:function(e){return Ct.getTweensOf(e,!0).length>0},defaults:function(e){return e&&e.ease&&(e.ease=hi(e.ease,Vi.ease)),yb(Vi,e||{})},config:function(e){return yb(wn,e||{})},registerEffect:function(e){var n=e.name,r=e.effect,i=e.plugins,o=e.defaults,s=e.extendTimeline;(i||"").split(",").forEach(function(l){return l&&!kn[l]&&!Sn[l]&&ps(n+" effect requires "+l+" plugin.")}),cd[n]=function(l,c,u){return r($n(l),Cn(c||{},o),u)},s&&(qt.prototype[n]=function(l,c,u){return this.add(cd[n](l,ar(c)?c:(u=c)&&{},this),u)})},registerEase:function(e,n){at[e]=hi(n)},parseEase:function(e,n){return arguments.length?hi(e,n):at},getById:function(e){return Ct.getById(e)},exportRoot:function(e,n){e===void 0&&(e={});var r=new qt(e),i,o;for(r.smoothChildTiming=pn(e.smoothChildTiming),Ct.remove(r),r._dp=0,r._time=r._tTime=Ct._time,i=Ct._first;i;)o=i._next,(n||!(!i._dur&&i instanceof Dt&&i.vars.onComplete===i._targets[0]))&&cr(r,i,i._start-i._delay),i=o;return cr(Ct,r,0),r},context:function(e,n){return e?new Xb(e,n):St},matchMedia:function(e){return new VC(e)},matchMediaRefresh:function(){return mi.forEach(function(e){var n=e.conditions,r,i;for(i in n)n[i]&&(n[i]=!1,r=1);r&&e.revert()})||Td()},addEventListener:function(e,n){var r=ml[e]||(ml[e]=[]);~r.indexOf(n)||r.push(n)},removeEventListener:function(e,n){var r=ml[e],i=r&&r.indexOf(n);i>=0&&r.splice(i,1)},utils:{wrap:CC,wrapYoyo:NC,distribute:Nb,random:Tb,snap:Mb,normalize:kC,getUnit:Qt,clamp:xC,splitColor:Ab,toArray:$n,selector:gd,mapRange:Db,pipe:wC,unitize:SC,interpolate:MC,shuffle:Cb},install:cb,effects:cd,ticker:Mn,updateRoot:qt.updateRoot,plugins:kn,globalTimeline:Ct,core:{PropTween:gn,globals:ub,Tween:Dt,Timeline:qt,Animation:Ss,getCache:di,_removeLinkedListItem:dl,reverting:function(){return Zt},context:function(e){return e&&St&&(St.data.push(e),e._ctx=St),St},suppressOverwrites:function(e){return Ku=e}}};mn("to,from,fromTo,delayedCall,set,killTweensOf",function(t){return gl[t]=Dt[t]}),Mn.add(qt.updateRoot),Qi=gl.to({},{duration:0});var ZC=function(e,n){for(var r=e._pt;r&&r.p!==n&&r.op!==n&&r.fp!==n;)r=r._next;return r},qC=function(e,n){var r=e._targets,i,o,s;for(i in n)for(o=r.length;o--;)s=e._ptLookup[o][i],s&&(s=s.d)&&(s._pt&&(s=ZC(s,i)),s&&s.modifier&&s.modifier(n[i],e,r[o],i))},jd=function(e,n){return{name:e,headless:1,rawVars:1,init:function(i,o,s){s._onInit=function(l){var c,u;if(Wt(o)&&(c={},mn(o,function(d){return c[d]=1}),o=c),n){c={};for(u in o)c[u]=n(o[u]);o=c}qC(l,o)}}}},yn=gl.registerPlugin({name:"attr",init:function(e,n,r,i,o){var s,l,c;this.tween=r;for(s in n)c=e.getAttribute(s)||"",l=this.add(e,"setAttribute",(c||0)+"",n[s],i,o,0,0,s),l.op=s,l.b=c,this._props.push(s)},render:function(e,n){for(var r=n._pt;r;)Zt?r.set(r.t,r.p,r.b,r):r.r(e,r.d),r=r._next}},{name:"endArray",headless:1,init:function(e,n){for(var r=n.length;r--;)this.add(e,r,e[r]||0,n[r],0,0,0,0,0,1)}},jd("roundProps",yd),jd("modifiers"),jd("snap",Mb))||gl;Dt.version=qt.version=yn.version="3.13.0",lb=1,td()&&eo();var XC=at.Power0,JC=at.Power1,KC=at.Power2,QC=at.Power3,eN=at.Power4,tN=at.Linear,nN=at.Quad,rN=at.Cubic,iN=at.Quart,oN=at.Quint,sN=at.Strong,aN=at.Elastic,lN=at.Back,cN=at.SteppedEase,uN=at.Bounce,dN=at.Sine,fN=at.Expo,hN=at.Circ;/*!
 * CSSPlugin 3.13.0
 * https://gsap.com
 *
 * Copyright 2008-2025, GreenSock. All rights reserved.
 * Subject to the terms at https://gsap.com/standard-license
 * @author: Jack Doyle, jack@greensock.com
*/var Jb,Ur,to,Dd,gi,Kb,Id,pN=function(){return typeof window<"u"},Sr={},yi=180/Math.PI,no=Math.PI/180,ro=Math.atan2,Qb=1e8,Ld=/([A-Z])/g,mN=/(left|right|width|margin|padding|x)/i,gN=/[\s,\(]\S/,ur={autoAlpha:"opacity,visibility",scale:"scaleX,scaleY",alpha:"opacity"},Pd=function(e,n){return n.set(n.t,n.p,Math.round((n.s+n.c*e)*1e4)/1e4+n.u,n)},yN=function(e,n){return n.set(n.t,n.p,e===1?n.e:Math.round((n.s+n.c*e)*1e4)/1e4+n.u,n)},bN=function(e,n){return n.set(n.t,n.p,e?Math.round((n.s+n.c*e)*1e4)/1e4+n.u:n.b,n)},vN=function(e,n){var r=n.s+n.c*e;n.set(n.t,n.p,~~(r+(r<0?-.5:.5))+n.u,n)},e1=function(e,n){return n.set(n.t,n.p,e?n.e:n.b,n)},t1=function(e,n){return n.set(n.t,n.p,e!==1?n.b:n.e,n)},xN=function(e,n,r){return e.style[n]=r},_N=function(e,n,r){return e.style.setProperty(n,r)},wN=function(e,n,r){return e._gsap[n]=r},SN=function(e,n,r){return e._gsap.scaleX=e._gsap.scaleY=r},kN=function(e,n,r,i,o){var s=e._gsap;s.scaleX=s.scaleY=r,s.renderTransform(o,s)},CN=function(e,n,r,i,o){var s=e._gsap;s[n]=r,s.renderTransform(o,s)},Nt="transform",bn=Nt+"Origin",NN=function t(e,n){var r=this,i=this.target,o=i.style,s=i._gsap;if(e in Sr&&o){if(this.tfm=this.tfm||{},e!=="transform")e=ur[e]||e,~e.indexOf(",")?e.split(",").forEach(function(l){return r.tfm[l]=kr(i,l)}):this.tfm[e]=s.x?s[e]:kr(i,e),e===bn&&(this.tfm.zOrigin=s.zOrigin);else return ur.transform.split(",").forEach(function(l){return t.call(r,l,n)});if(this.props.indexOf(Nt)>=0)return;s.svg&&(this.svgo=i.getAttribute("data-svg-origin"),this.props.push(bn,n,"")),e=Nt}(o||n)&&this.props.push(e,n,o[e])},n1=function(e){e.translate&&(e.removeProperty("translate"),e.removeProperty("scale"),e.removeProperty("rotate"))},MN=function(){var e=this.props,n=this.target,r=n.style,i=n._gsap,o,s;for(o=0;o<e.length;o+=3)e[o+1]?e[o+1]===2?n[e[o]](e[o+2]):n[e[o]]=e[o+2]:e[o+2]?r[e[o]]=e[o+2]:r.removeProperty(e[o].substr(0,2)==="--"?e[o]:e[o].replace(Ld,"-$1").toLowerCase());if(this.tfm){for(s in this.tfm)i[s]=this.tfm[s];i.svg&&(i.renderTransform(),n.setAttribute("data-svg-origin",this.svgo||"")),o=Id(),(!o||!o.isStart)&&!r[Nt]&&(n1(r),i.zOrigin&&r[bn]&&(r[bn]+=" "+i.zOrigin+"px",i.zOrigin=0,i.renderTransform()),i.uncache=1)}},r1=function(e,n){var r={target:e,props:[],revert:MN,save:NN};return e._gsap||yn.core.getCache(e),n&&e.style&&e.nodeType&&n.split(",").forEach(function(i){return r.save(i)}),r},i1,Ad=function(e,n){var r=Ur.createElementNS?Ur.createElementNS((n||"http://www.w3.org/1999/xhtml").replace(/^https/,"http"),e):Ur.createElement(e);return r&&r.style?r:Ur.createElement(e)},Bn=function t(e,n,r){var i=getComputedStyle(e);return i[n]||i.getPropertyValue(n.replace(Ld,"-$1").toLowerCase())||i.getPropertyValue(n)||!r&&t(e,io(n)||n,1)||""},o1="O,Moz,ms,Ms,Webkit".split(","),io=function(e,n,r){var i=n||gi,o=i.style,s=5;if(e in o&&!r)return e;for(e=e.charAt(0).toUpperCase()+e.substr(1);s--&&!(o1[s]+e in o););return s<0?null:(s===3?"ms":s>=0?o1[s]:"")+e},Ed=function(){pN()&&window.document&&(Jb=window,Ur=Jb.document,to=Ur.documentElement,gi=Ad("div")||{style:{}},Ad("div"),Nt=io(Nt),bn=Nt+"Origin",gi.style.cssText="border-width:0;line-height:0;position:absolute;padding:0",i1=!!io("perspective"),Id=yn.core.reverting,Dd=1)},s1=function(e){var n=e.ownerSVGElement,r=Ad("svg",n&&n.getAttribute("xmlns")||"http://www.w3.org/2000/svg"),i=e.cloneNode(!0),o;i.style.display="block",r.appendChild(i),to.appendChild(r);try{o=i.getBBox()}catch{}return r.removeChild(i),to.removeChild(r),o},a1=function(e,n){for(var r=n.length;r--;)if(e.hasAttribute(n[r]))return e.getAttribute(n[r])},l1=function(e){var n,r;try{n=e.getBBox()}catch{n=s1(e),r=1}return n&&(n.width||n.height)||r||(n=s1(e)),n&&!n.width&&!n.x&&!n.y?{x:+a1(e,["x","cx","x1"])||0,y:+a1(e,["y","cy","y1"])||0,width:0,height:0}:n},c1=function(e){return!!(e.getCTM&&(!e.parentNode||e.ownerSVGElement)&&l1(e))},bi=function(e,n){if(n){var r=e.style,i;n in Sr&&n!==bn&&(n=Nt),r.removeProperty?(i=n.substr(0,2),(i==="ms"||n.substr(0,6)==="webkit")&&(n="-"+n),r.removeProperty(i==="--"?n:n.replace(Ld,"-$1").toLowerCase())):r.removeAttribute(n)}},Wr=function(e,n,r,i,o,s){var l=new gn(e._pt,n,r,0,1,s?t1:e1);return e._pt=l,l.b=i,l.e=o,e._props.push(r),l},u1={deg:1,rad:1,turn:1},TN={grid:1,flex:1},Gr=function t(e,n,r,i){var o=parseFloat(r)||0,s=(r+"").trim().substr((o+"").length)||"px",l=gi.style,c=mN.test(n),u=e.tagName.toLowerCase()==="svg",d=(u?"client":"offset")+(c?"Width":"Height"),f=100,p=i==="px",h=i==="%",y,m,g,N;if(i===s||!o||u1[i]||u1[s])return o;if(s!=="px"&&!p&&(o=t(e,n,r,"px")),N=e.getCTM&&c1(e),(h||s==="%")&&(Sr[n]||~n.indexOf("adius")))return y=N?e.getBBox()[c?"width":"height"]:e[d],jt(h?o/y*f:o/100*y);if(l[c?"width":"height"]=f+(p?s:i),m=i!=="rem"&&~n.indexOf("adius")||i==="em"&&e.appendChild&&!u?e:e.parentNode,N&&(m=(e.ownerSVGElement||{}).parentNode),(!m||m===Ur||!m.appendChild)&&(m=Ur.body),g=m._gsap,g&&h&&g.width&&c&&g.time===Mn.time&&!g.uncache)return jt(o/g.width*f);if(h&&(n==="height"||n==="width")){var M=e.style[n];e.style[n]=f+i,y=e[d],M?e.style[n]=M:bi(e,n)}else(h||s==="%")&&!TN[Bn(m,"display")]&&(l.position=Bn(e,"position")),m===e&&(l.position="static"),m.appendChild(gi),y=gi[d],m.removeChild(gi),l.position="absolute";return c&&h&&(g=di(m),g.time=Mn.time,g.width=m[d]),jt(p?y*o/f:y&&o?f/y*o:0)},kr=function(e,n,r,i){var o;return Dd||Ed(),n in ur&&n!=="transform"&&(n=ur[n],~n.indexOf(",")&&(n=n.split(",")[0])),Sr[n]&&n!=="transform"?(o=Ns(e,i),o=n!=="transformOrigin"?o[n]:o.svg?o.origin:bl(Bn(e,bn))+" "+o.zOrigin+"px"):(o=e.style[n],(!o||o==="auto"||i||~(o+"").indexOf("calc("))&&(o=yl[n]&&yl[n](e,n,r)||Bn(e,n)||hb(e,n)||(n==="opacity"?1:0))),r&&!~(o+"").trim().indexOf(" ")?Gr(e,n,o,r)+r:o},jN=function(e,n,r,i){if(!r||r==="none"){var o=io(n,e,1),s=o&&Bn(e,o,1);s&&s!==r?(n=o,r=s):n==="borderColor"&&(r=Bn(e,"borderTopColor"))}var l=new gn(this._pt,e.style,n,0,1,Vb),c=0,u=0,d,f,p,h,y,m,g,N,M,T,x,v;if(l.b=r,l.e=i,r+="",i+="",i.substring(0,6)==="var(--"&&(i=Bn(e,i.substring(4,i.indexOf(")")))),i==="auto"&&(m=e.style[n],e.style[n]=i,i=Bn(e,n)||i,m?e.style[n]=m:bi(e,n)),d=[r,i],$b(d),r=d[0],i=d[1],p=r.match(Zi)||[],v=i.match(Zi)||[],v.length){for(;f=Zi.exec(i);)g=f[0],M=i.substring(c,f.index),y?y=(y+1)%5:(M.substr(-5)==="rgba("||M.substr(-5)==="hsla(")&&(y=1),g!==(m=p[u++]||"")&&(h=parseFloat(m)||0,x=m.substr((h+"").length),g.charAt(1)==="="&&(g=qi(h,g)+x),N=parseFloat(g),T=g.substr((N+"").length),c=Zi.lastIndex-T.length,T||(T=T||wn.units[n]||x,c===i.length&&(i+=T,l.e+=T)),x!==T&&(h=Gr(e,n,m,T)||0),l._pt={_next:l._pt,p:M||u===1?M:",",s:h,c:N-h,m:y&&y<4||n==="zIndex"?Math.round:0});l.c=c<i.length?i.substring(c,i.length):""}else l.r=n==="display"&&i==="none"?t1:e1;return sb.test(i)&&(l.e=0),this._pt=l,l},d1={top:"0%",bottom:"100%",left:"0%",right:"100%",center:"50%"},DN=function(e){var n=e.split(" "),r=n[0],i=n[1]||"50%";return(r==="top"||r==="bottom"||i==="left"||i==="right")&&(e=r,r=i,i=e),n[0]=d1[r]||r,n[1]=d1[i]||i,n.join(" ")},IN=function(e,n){if(n.tween&&n.tween._time===n.tween._dur){var r=n.t,i=r.style,o=n.u,s=r._gsap,l,c,u;if(o==="all"||o===!0)i.cssText="",c=1;else for(o=o.split(","),u=o.length;--u>-1;)l=o[u],Sr[l]&&(c=1,l=l==="transformOrigin"?bn:Nt),bi(r,l);c&&(bi(r,Nt),s&&(s.svg&&r.removeAttribute("transform"),i.scale=i.rotate=i.translate="none",Ns(r,1),s.uncache=1,n1(i)))}},yl={clearProps:function(e,n,r,i,o){if(o.data!=="isFromStart"){var s=e._pt=new gn(e._pt,n,r,0,0,IN);return s.u=i,s.pr=-10,s.tween=o,e._props.push(r),1}}},Cs=[1,0,0,1,0,0],f1={},h1=function(e){return e==="matrix(1, 0, 0, 1, 0, 0)"||e==="none"||!e},p1=function(e){var n=Bn(e,Nt);return h1(n)?Cs:n.substr(7).match(ob).map(jt)},Fd=function(e,n){var r=e._gsap||di(e),i=e.style,o=p1(e),s,l,c,u;return r.svg&&e.getAttribute("transform")?(c=e.transform.baseVal.consolidate().matrix,o=[c.a,c.b,c.c,c.d,c.e,c.f],o.join(",")==="1,0,0,1,0,0"?Cs:o):(o===Cs&&!e.offsetParent&&e!==to&&!r.svg&&(c=i.display,i.display="block",s=e.parentNode,(!s||!e.offsetParent&&!e.getBoundingClientRect().width)&&(u=1,l=e.nextElementSibling,to.appendChild(e)),o=p1(e),c?i.display=c:bi(e,"display"),u&&(l?s.insertBefore(e,l):s?s.appendChild(e):to.removeChild(e))),n&&o.length>6?[o[0],o[1],o[4],o[5],o[12],o[13]]:o)},$d=function(e,n,r,i,o,s){var l=e._gsap,c=o||Fd(e,!0),u=l.xOrigin||0,d=l.yOrigin||0,f=l.xOffset||0,p=l.yOffset||0,h=c[0],y=c[1],m=c[2],g=c[3],N=c[4],M=c[5],T=n.split(" "),x=parseFloat(T[0])||0,v=parseFloat(T[1])||0,C,w,k,b;r?c!==Cs&&(w=h*g-y*m)&&(k=x*(g/w)+v*(-m/w)+(m*M-g*N)/w,b=x*(-y/w)+v*(h/w)-(h*M-y*N)/w,x=k,v=b):(C=l1(e),x=C.x+(~T[0].indexOf("%")?x/100*C.width:x),v=C.y+(~(T[1]||T[0]).indexOf("%")?v/100*C.height:v)),i||i!==!1&&l.smooth?(N=x-u,M=v-d,l.xOffset=f+(N*h+M*m)-N,l.yOffset=p+(N*y+M*g)-M):l.xOffset=l.yOffset=0,l.xOrigin=x,l.yOrigin=v,l.smooth=!!i,l.origin=n,l.originIsAbsolute=!!r,e.style[bn]="0px 0px",s&&(Wr(s,l,"xOrigin",u,x),Wr(s,l,"yOrigin",d,v),Wr(s,l,"xOffset",f,l.xOffset),Wr(s,l,"yOffset",p,l.yOffset)),e.setAttribute("data-svg-origin",x+" "+v)},Ns=function(e,n){var r=e._gsap||new zb(e);if("x"in r&&!n&&!r.uncache)return r;var i=e.style,o=r.scaleX<0,s="px",l="deg",c=getComputedStyle(e),u=Bn(e,bn)||"0",d,f,p,h,y,m,g,N,M,T,x,v,C,w,k,b,_,I,j,E,F,A,P,R,oe,G,D,Q,Z,re,J,ee;return d=f=p=m=g=N=M=T=x=0,h=y=1,r.svg=!!(e.getCTM&&c1(e)),c.translate&&((c.translate!=="none"||c.scale!=="none"||c.rotate!=="none")&&(i[Nt]=(c.translate!=="none"?"translate3d("+(c.translate+" 0 0").split(" ").slice(0,3).join(", ")+") ":"")+(c.rotate!=="none"?"rotate("+c.rotate+") ":"")+(c.scale!=="none"?"scale("+c.scale.split(" ").join(",")+") ":"")+(c[Nt]!=="none"?c[Nt]:"")),i.scale=i.rotate=i.translate="none"),w=Fd(e,r.svg),r.svg&&(r.uncache?(oe=e.getBBox(),u=r.xOrigin-oe.x+"px "+(r.yOrigin-oe.y)+"px",R=""):R=!n&&e.getAttribute("data-svg-origin"),$d(e,R||u,!!R||r.originIsAbsolute,r.smooth!==!1,w)),v=r.xOrigin||0,C=r.yOrigin||0,w!==Cs&&(I=w[0],j=w[1],E=w[2],F=w[3],d=A=w[4],f=P=w[5],w.length===6?(h=Math.sqrt(I*I+j*j),y=Math.sqrt(F*F+E*E),m=I||j?ro(j,I)*yi:0,M=E||F?ro(E,F)*yi+m:0,M&&(y*=Math.abs(Math.cos(M*no))),r.svg&&(d-=v-(v*I+C*E),f-=C-(v*j+C*F))):(ee=w[6],re=w[7],D=w[8],Q=w[9],Z=w[10],J=w[11],d=w[12],f=w[13],p=w[14],k=ro(ee,Z),g=k*yi,k&&(b=Math.cos(-k),_=Math.sin(-k),R=A*b+D*_,oe=P*b+Q*_,G=ee*b+Z*_,D=A*-_+D*b,Q=P*-_+Q*b,Z=ee*-_+Z*b,J=re*-_+J*b,A=R,P=oe,ee=G),k=ro(-E,Z),N=k*yi,k&&(b=Math.cos(-k),_=Math.sin(-k),R=I*b-D*_,oe=j*b-Q*_,G=E*b-Z*_,J=F*_+J*b,I=R,j=oe,E=G),k=ro(j,I),m=k*yi,k&&(b=Math.cos(k),_=Math.sin(k),R=I*b+j*_,oe=A*b+P*_,j=j*b-I*_,P=P*b-A*_,I=R,A=oe),g&&Math.abs(g)+Math.abs(m)>359.9&&(g=m=0,N=180-N),h=jt(Math.sqrt(I*I+j*j+E*E)),y=jt(Math.sqrt(P*P+ee*ee)),k=ro(A,P),M=Math.abs(k)>2e-4?k*yi:0,x=J?1/(J<0?-J:J):0),r.svg&&(R=e.getAttribute("transform"),r.forceCSS=e.setAttribute("transform","")||!h1(Bn(e,Nt)),R&&e.setAttribute("transform",R))),Math.abs(M)>90&&Math.abs(M)<270&&(o?(h*=-1,M+=m<=0?180:-180,m+=m<=0?180:-180):(y*=-1,M+=M<=0?180:-180)),n=n||r.uncache,r.x=d-((r.xPercent=d&&(!n&&r.xPercent||(Math.round(e.offsetWidth/2)===Math.round(-d)?-50:0)))?e.offsetWidth*r.xPercent/100:0)+s,r.y=f-((r.yPercent=f&&(!n&&r.yPercent||(Math.round(e.offsetHeight/2)===Math.round(-f)?-50:0)))?e.offsetHeight*r.yPercent/100:0)+s,r.z=p+s,r.scaleX=jt(h),r.scaleY=jt(y),r.rotation=jt(m)+l,r.rotationX=jt(g)+l,r.rotationY=jt(N)+l,r.skewX=M+l,r.skewY=T+l,r.transformPerspective=x+s,(r.zOrigin=parseFloat(u.split(" ")[2])||!n&&r.zOrigin||0)&&(i[bn]=bl(u)),r.xOffset=r.yOffset=0,r.force3D=wn.force3D,r.renderTransform=r.svg?PN:i1?m1:LN,r.uncache=0,r},bl=function(e){return(e=e.split(" "))[0]+" "+e[1]},Bd=function(e,n,r){var i=Qt(n);return jt(parseFloat(n)+parseFloat(Gr(e,"x",r+"px",i)))+i},LN=function(e,n){n.z="0px",n.rotationY=n.rotationX="0deg",n.force3D=0,m1(e,n)},vi="0deg",Ms="0px",xi=") ",m1=function(e,n){var r=n||this,i=r.xPercent,o=r.yPercent,s=r.x,l=r.y,c=r.z,u=r.rotation,d=r.rotationY,f=r.rotationX,p=r.skewX,h=r.skewY,y=r.scaleX,m=r.scaleY,g=r.transformPerspective,N=r.force3D,M=r.target,T=r.zOrigin,x="",v=N==="auto"&&e&&e!==1||N===!0;if(T&&(f!==vi||d!==vi)){var C=parseFloat(d)*no,w=Math.sin(C),k=Math.cos(C),b;C=parseFloat(f)*no,b=Math.cos(C),s=Bd(M,s,w*b*-T),l=Bd(M,l,-Math.sin(C)*-T),c=Bd(M,c,k*b*-T+T)}g!==Ms&&(x+="perspective("+g+xi),(i||o)&&(x+="translate("+i+"%, "+o+"%) "),(v||s!==Ms||l!==Ms||c!==Ms)&&(x+=c!==Ms||v?"translate3d("+s+", "+l+", "+c+") ":"translate("+s+", "+l+xi),u!==vi&&(x+="rotate("+u+xi),d!==vi&&(x+="rotateY("+d+xi),f!==vi&&(x+="rotateX("+f+xi),(p!==vi||h!==vi)&&(x+="skew("+p+", "+h+xi),(y!==1||m!==1)&&(x+="scale("+y+", "+m+xi),M.style[Nt]=x||"translate(0, 0)"},PN=function(e,n){var r=n||this,i=r.xPercent,o=r.yPercent,s=r.x,l=r.y,c=r.rotation,u=r.skewX,d=r.skewY,f=r.scaleX,p=r.scaleY,h=r.target,y=r.xOrigin,m=r.yOrigin,g=r.xOffset,N=r.yOffset,M=r.forceCSS,T=parseFloat(s),x=parseFloat(l),v,C,w,k,b;c=parseFloat(c),u=parseFloat(u),d=parseFloat(d),d&&(d=parseFloat(d),u+=d,c+=d),c||u?(c*=no,u*=no,v=Math.cos(c)*f,C=Math.sin(c)*f,w=Math.sin(c-u)*-p,k=Math.cos(c-u)*p,u&&(d*=no,b=Math.tan(u-d),b=Math.sqrt(1+b*b),w*=b,k*=b,d&&(b=Math.tan(d),b=Math.sqrt(1+b*b),v*=b,C*=b)),v=jt(v),C=jt(C),w=jt(w),k=jt(k)):(v=f,k=p,C=w=0),(T&&!~(s+"").indexOf("px")||x&&!~(l+"").indexOf("px"))&&(T=Gr(h,"x",s,"px"),x=Gr(h,"y",l,"px")),(y||m||g||N)&&(T=jt(T+y-(y*v+m*w)+g),x=jt(x+m-(y*C+m*k)+N)),(i||o)&&(b=h.getBBox(),T=jt(T+i/100*b.width),x=jt(x+o/100*b.height)),b="matrix("+v+","+C+","+w+","+k+","+T+","+x+")",h.setAttribute("transform",b),M&&(h.style[Nt]=b)},AN=function(e,n,r,i,o){var s=360,l=Wt(o),c=parseFloat(o)*(l&&~o.indexOf("rad")?yi:1),u=c-i,d=i+u+"deg",f,p;return l&&(f=o.split("_")[1],f==="short"&&(u%=s,u!==u%(s/2)&&(u+=u<0?s:-s)),f==="cw"&&u<0?u=(u+s*Qb)%s-~~(u/s)*s:f==="ccw"&&u>0&&(u=(u-s*Qb)%s-~~(u/s)*s)),e._pt=p=new gn(e._pt,n,r,i,u,yN),p.e=d,p.u="deg",e._props.push(r),p},g1=function(e,n){for(var r in n)e[r]=n[r];return e},EN=function(e,n,r){var i=g1({},r._gsap),o="perspective,force3D,transformOrigin,svgOrigin",s=r.style,l,c,u,d,f,p,h,y;i.svg?(u=r.getAttribute("transform"),r.setAttribute("transform",""),s[Nt]=n,l=Ns(r,1),bi(r,Nt),r.setAttribute("transform",u)):(u=getComputedStyle(r)[Nt],s[Nt]=n,l=Ns(r,1),s[Nt]=u);for(c in Sr)u=i[c],d=l[c],u!==d&&o.indexOf(c)<0&&(h=Qt(u),y=Qt(d),f=h!==y?Gr(r,c,u,y):parseFloat(u),p=parseFloat(d),e._pt=new gn(e._pt,l,c,f,p-f,Pd),e._pt.u=y||0,e._props.push(c));g1(l,i)};mn("padding,margin,Width,Radius",function(t,e){var n="Top",r="Right",i="Bottom",o="Left",s=(e<3?[n,r,i,o]:[n+o,n+r,i+r,i+o]).map(function(l){return e<2?t+l:"border"+l+t});yl[e>1?"border"+t:t]=function(l,c,u,d,f){var p,h;if(arguments.length<4)return p=s.map(function(y){return kr(l,y,u)}),h=p.join(" "),h.split(p[0]).length===5?p[0]:h;p=(d+"").split(" "),h={},s.forEach(function(y,m){return h[y]=p[m]=p[m]||p[(m-1)/2|0]}),l.init(c,h,f)}});var Od={name:"css",register:Ed,targetTest:function(e){return e.style&&e.nodeType},init:function(e,n,r,i,o){var s=this._props,l=e.style,c=r.vars.startAt,u,d,f,p,h,y,m,g,N,M,T,x,v,C,w,k;Dd||Ed(),this.styles=this.styles||r1(e),k=this.styles.props,this.tween=r;for(m in n)if(m!=="autoRound"&&(d=n[m],!(kn[m]&&Hb(m,n,r,i,e,o)))){if(h=typeof d,y=yl[m],h==="function"&&(d=d.call(r,i,e,o),h=typeof d),h==="string"&&~d.indexOf("random(")&&(d=vs(d)),y)y(this,e,m,d,r)&&(w=1);else if(m.substr(0,2)==="--")u=(getComputedStyle(e).getPropertyValue(m)+"").trim(),d+="",zr.lastIndex=0,zr.test(u)||(g=Qt(u),N=Qt(d)),N?g!==N&&(u=Gr(e,m,u,N)+N):g&&(d+=g),this.add(l,"setProperty",u,d,i,o,0,0,m),s.push(m),k.push(m,0,l[m]);else if(h!=="undefined"){if(c&&m in c?(u=typeof c[m]=="function"?c[m].call(r,i,e,o):c[m],Wt(u)&&~u.indexOf("random(")&&(u=vs(u)),Qt(u+"")||u==="auto"||(u+=wn.units[m]||Qt(kr(e,m))||""),(u+"").charAt(1)==="="&&(u=kr(e,m))):u=kr(e,m),p=parseFloat(u),M=h==="string"&&d.charAt(1)==="="&&d.substr(0,2),M&&(d=d.substr(2)),f=parseFloat(d),m in ur&&(m==="autoAlpha"&&(p===1&&kr(e,"visibility")==="hidden"&&f&&(p=0),k.push("visibility",0,l.visibility),Wr(this,l,"visibility",p?"inherit":"hidden",f?"inherit":"hidden",!f)),m!=="scale"&&m!=="transform"&&(m=ur[m],~m.indexOf(",")&&(m=m.split(",")[0]))),T=m in Sr,T){if(this.styles.save(m),h==="string"&&d.substring(0,6)==="var(--"&&(d=Bn(e,d.substring(4,d.indexOf(")"))),f=parseFloat(d)),x||(v=e._gsap,v.renderTransform&&!n.parseTransform||Ns(e,n.parseTransform),C=n.smoothOrigin!==!1&&v.smooth,x=this._pt=new gn(this._pt,l,Nt,0,1,v.renderTransform,v,0,-1),x.dep=1),m==="scale")this._pt=new gn(this._pt,v,"scaleY",v.scaleY,(M?qi(v.scaleY,M+f):f)-v.scaleY||0,Pd),this._pt.u=0,s.push("scaleY",m),m+="X";else if(m==="transformOrigin"){k.push(bn,0,l[bn]),d=DN(d),v.svg?$d(e,d,0,C,0,this):(N=parseFloat(d.split(" ")[2])||0,N!==v.zOrigin&&Wr(this,v,"zOrigin",v.zOrigin,N),Wr(this,l,m,bl(u),bl(d)));continue}else if(m==="svgOrigin"){$d(e,d,1,C,0,this);continue}else if(m in f1){AN(this,v,m,p,M?qi(p,M+d):d);continue}else if(m==="smoothOrigin"){Wr(this,v,"smooth",v.smooth,d);continue}else if(m==="force3D"){v[m]=d;continue}else if(m==="transform"){EN(this,d,e);continue}}else m in l||(m=io(m)||m);if(T||(f||f===0)&&(p||p===0)&&!gN.test(d)&&m in l)g=(u+"").substr((p+"").length),f||(f=0),N=Qt(d)||(m in wn.units?wn.units[m]:g),g!==N&&(p=Gr(e,m,u,N)),this._pt=new gn(this._pt,T?v:l,m,p,(M?qi(p,M+f):f)-p,!T&&(N==="px"||m==="zIndex")&&n.autoRound!==!1?vN:Pd),this._pt.u=N||0,g!==N&&N!=="%"&&(this._pt.b=u,this._pt.r=bN);else if(m in l)jN.call(this,e,m,u,M?M+d:d);else if(m in e)this.add(e,m,u||e[m],M?M+d:d,i,o);else if(m!=="parseTransform"){sd(m,d);continue}T||(m in l?k.push(m,0,l[m]):typeof e[m]=="function"?k.push(m,2,e[m]()):k.push(m,1,u||e[m])),s.push(m)}}w&&Zb(this)},render:function(e,n){if(n.tween._time||!Id())for(var r=n._pt;r;)r.r(e,r.d),r=r._next;else n.styles.revert()},get:kr,aliases:ur,getSetter:function(e,n,r){var i=ur[n];return i&&i.indexOf(",")<0&&(n=i),n in Sr&&n!==bn&&(e._gsap.x||kr(e,"x"))?r&&Kb===r?n==="scale"?SN:wN:(Kb=r||{})&&(n==="scale"?kN:CN):e.style&&!ed(e.style[n])?xN:~n.indexOf("-")?_N:Cd(e,n)},core:{_removeProperty:bi,_getMatrix:Fd}};yn.utils.checkPrefix=io,yn.core.getStyleSaver=r1,(function(t,e,n,r){var i=mn(t+","+e+","+n,function(o){Sr[o]=1});mn(e,function(o){wn.units[o]="deg",f1[o]=1}),ur[i[13]]=t+","+e,mn(r,function(o){var s=o.split(":");ur[s[1]]=i[s[0]]})})("x,y,z,scale,scaleX,scaleY,xPercent,yPercent","rotation,rotationX,rotationY,skewX,skewY","transform,transformOrigin,svgOrigin,force3D,smoothOrigin,transformPerspective","0:translateX,1:translateY,2:translateZ,8:rotate,8:rotationZ,8:rotateZ,9:rotateX,10:rotateY"),mn("x,y,z,top,right,bottom,left,width,height,fontSize,padding,margin,perspective",function(t){wn.units[t]="px"}),yn.registerPlugin(Od);var Rd=yn.registerPlugin(Od)||yn,FN=Rd.core.Tween;const y1=Object.freeze(Object.defineProperty({__proto__:null,Back:lN,Bounce:uN,CSSPlugin:Od,Circ:hN,Cubic:rN,Elastic:aN,Expo:fN,Linear:tN,Power0:XC,Power1:JC,Power2:KC,Power3:QC,Power4:eN,Quad:nN,Quart:iN,Quint:oN,Sine:dN,SteppedEase:cN,Strong:sN,TimelineLite:qt,TimelineMax:qt,TweenLite:Dt,TweenMax:FN,default:Rd,gsap:Rd},Symbol.toStringTag,{value:"Module"}));function $N(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function BN(t,e,n){return e&&$N(t.prototype,e),t}/*!
 * Observer 3.13.0
 * https://gsap.com
 *
 * @license Copyright 2008-2025, GreenSock. All rights reserved.
 * Subject to the terms at https://gsap.com/standard-license
 * @author: Jack Doyle, jack@greensock.com
*/var Xt,vl,Tn,Yr,Vr,oo,b1,_i,Ts,v1,Cr,Wn,x1,_1=function(){return Xt||typeof window<"u"&&(Xt=window.gsap)&&Xt.registerPlugin&&Xt},w1=1,so=[],it=[],dr=[],js=Date.now,zd=function(e,n){return n},ON=function(){var e=Ts.core,n=e.bridge||{},r=e._scrollers,i=e._proxies;r.push.apply(r,it),i.push.apply(i,dr),it=r,dr=i,zd=function(s,l){return n[s](l)}},Zr=function(e,n){return~dr.indexOf(e)&&dr[dr.indexOf(e)+1][n]},Ds=function(e){return!!~v1.indexOf(e)},on=function(e,n,r,i,o){return e.addEventListener(n,r,{passive:i!==!1,capture:!!o})},sn=function(e,n,r,i){return e.removeEventListener(n,r,!!i)},xl="scrollLeft",_l="scrollTop",Hd=function(){return Cr&&Cr.isPressed||it.cache++},wl=function(e,n){var r=function i(o){if(o||o===0){w1&&(Tn.history.scrollRestoration="manual");var s=Cr&&Cr.isPressed;o=i.v=Math.round(o)||(Cr&&Cr.iOS?1:0),e(o),i.cacheID=it.cache,s&&zd("ss",o)}else(n||it.cache!==i.cacheID||zd("ref"))&&(i.cacheID=it.cache,i.v=e());return i.v+i.offset};return r.offset=0,e&&r},an={s:xl,p:"left",p2:"Left",os:"right",os2:"Right",d:"width",d2:"Width",a:"x",sc:wl(function(t){return arguments.length?Tn.scrollTo(t,Ot.sc()):Tn.pageXOffset||Yr[xl]||Vr[xl]||oo[xl]||0})},Ot={s:_l,p:"top",p2:"Top",os:"bottom",os2:"Bottom",d:"height",d2:"Height",a:"y",op:an,sc:wl(function(t){return arguments.length?Tn.scrollTo(an.sc(),t):Tn.pageYOffset||Yr[_l]||Vr[_l]||oo[_l]||0})},vn=function(e,n){return(n&&n._ctx&&n._ctx.selector||Xt.utils.toArray)(e)[0]||(typeof e=="string"&&Xt.config().nullTargetWarn!==!1?console.warn("Element not found:",e):null)},RN=function(e,n){for(var r=n.length;r--;)if(n[r]===e||n[r].contains(e))return!0;return!1},qr=function(e,n){var r=n.s,i=n.sc;Ds(e)&&(e=Yr.scrollingElement||Vr);var o=it.indexOf(e),s=i===Ot.sc?1:2;!~o&&(o=it.push(e)-1),it[o+s]||on(e,"scroll",Hd);var l=it[o+s],c=l||(it[o+s]=wl(Zr(e,r),!0)||(Ds(e)?i:wl(function(u){return arguments.length?e[r]=u:e[r]})));return c.target=e,l||(c.smooth=Xt.getProperty(e,"scrollBehavior")==="smooth"),c},Ud=function(e,n,r){var i=e,o=e,s=js(),l=s,c=n||50,u=Math.max(500,c*3),d=function(y,m){var g=js();m||g-s>c?(o=i,i=y,l=s,s=g):r?i+=y:i=o+(y-o)/(g-l)*(s-l)},f=function(){o=i=r?0:i,l=s=0},p=function(y){var m=l,g=o,N=js();return(y||y===0)&&y!==i&&d(y),s===l||N-l>u?0:(i+(r?g:-g))/((r?N:s)-m)*1e3};return{update:d,reset:f,getVelocity:p}},Is=function(e,n){return n&&!e._gsapAllow&&e.preventDefault(),e.changedTouches?e.changedTouches[0]:e},S1=function(e){var n=Math.max.apply(Math,e),r=Math.min.apply(Math,e);return Math.abs(n)>=Math.abs(r)?n:r},k1=function(){Ts=Xt.core.globals().ScrollTrigger,Ts&&Ts.core&&ON()},C1=function(e){return Xt=e||_1(),!vl&&Xt&&typeof document<"u"&&document.body&&(Tn=window,Yr=document,Vr=Yr.documentElement,oo=Yr.body,v1=[Tn,Yr,Vr,oo],Xt.utils.clamp,x1=Xt.core.context||function(){},_i="onpointerenter"in oo?"pointer":"mouse",b1=It.isTouch=Tn.matchMedia&&Tn.matchMedia("(hover: none), (pointer: coarse)").matches?1:"ontouchstart"in Tn||navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0?2:0,Wn=It.eventTypes=("ontouchstart"in Vr?"touchstart,touchmove,touchcancel,touchend":"onpointerdown"in Vr?"pointerdown,pointermove,pointercancel,pointerup":"mousedown,mousemove,mouseup,mouseup").split(","),setTimeout(function(){return w1=0},500),k1(),vl=1),vl};an.op=Ot,it.cache=0;var It=(function(){function t(n){this.init(n)}var e=t.prototype;return e.init=function(r){vl||C1(Xt)||console.warn("Please gsap.registerPlugin(Observer)"),Ts||k1();var i=r.tolerance,o=r.dragMinimum,s=r.type,l=r.target,c=r.lineHeight,u=r.debounce,d=r.preventDefault,f=r.onStop,p=r.onStopDelay,h=r.ignore,y=r.wheelSpeed,m=r.event,g=r.onDragStart,N=r.onDragEnd,M=r.onDrag,T=r.onPress,x=r.onRelease,v=r.onRight,C=r.onLeft,w=r.onUp,k=r.onDown,b=r.onChangeX,_=r.onChangeY,I=r.onChange,j=r.onToggleX,E=r.onToggleY,F=r.onHover,A=r.onHoverEnd,P=r.onMove,R=r.ignoreCheck,oe=r.isNormalizer,G=r.onGestureStart,D=r.onGestureEnd,Q=r.onWheel,Z=r.onEnable,re=r.onDisable,J=r.onClick,ee=r.scrollSpeed,de=r.capture,te=r.allowClicks,ie=r.lockAxis,K=r.onLockAxis;this.target=l=vn(l)||Vr,this.vars=r,h&&(h=Xt.utils.toArray(h)),i=i||1e-9,o=o||0,y=y||1,ee=ee||1,s=s||"wheel,touch,pointer",u=u!==!1,c||(c=parseFloat(Tn.getComputedStyle(oo).lineHeight)||22);var ae,me,Y,le,ce,ge,pe,U=this,Ee=0,Pe=0,je=r.passive||!d&&r.passive!==!1,W=qr(l,an),L=qr(l,Ot),O=W(),V=L(),B=~s.indexOf("touch")&&!~s.indexOf("pointer")&&Wn[0]==="pointerdown",z=Ds(l),H=l.ownerDocument||Yr,q=[0,0,0],ne=[0,0,0],se=0,ye=function(){return se=js()},he=function(be,ke){return(U.event=be)&&h&&RN(be.target,h)||ke&&B&&be.pointerType!=="touch"||R&&R(be,ke)},xe=function(){U._vx.reset(),U._vy.reset(),me.pause(),f&&f(U)},Ce=function(){var be=U.deltaX=S1(q),ke=U.deltaY=S1(ne),ue=Math.abs(be)>=i,Ne=Math.abs(ke)>=i;I&&(ue||Ne)&&I(U,be,ke,q,ne),ue&&(v&&U.deltaX>0&&v(U),C&&U.deltaX<0&&C(U),b&&b(U),j&&U.deltaX<0!=Ee<0&&j(U),Ee=U.deltaX,q[0]=q[1]=q[2]=0),Ne&&(k&&U.deltaY>0&&k(U),w&&U.deltaY<0&&w(U),_&&_(U),E&&U.deltaY<0!=Pe<0&&E(U),Pe=U.deltaY,ne[0]=ne[1]=ne[2]=0),(le||Y)&&(P&&P(U),Y&&(g&&Y===1&&g(U),M&&M(U),Y=0),le=!1),ge&&!(ge=!1)&&K&&K(U),ce&&(Q(U),ce=!1),ae=0},we=function(be,ke,ue){q[ue]+=be,ne[ue]+=ke,U._vx.update(be),U._vy.update(ke),u?ae||(ae=requestAnimationFrame(Ce)):Ce()},Ge=function(be,ke){ie&&!pe&&(U.axis=pe=Math.abs(be)>Math.abs(ke)?"x":"y",ge=!0),pe!=="y"&&(q[2]+=be,U._vx.update(be,!0)),pe!=="x"&&(ne[2]+=ke,U._vy.update(ke,!0)),u?ae||(ae=requestAnimationFrame(Ce)):Ce()},Oe=function(be){if(!he(be,1)){be=Is(be,d);var ke=be.clientX,ue=be.clientY,Ne=ke-U.x,De=ue-U.y,Ue=U.isDragging;U.x=ke,U.y=ue,(Ue||(Ne||De)&&(Math.abs(U.startX-ke)>=o||Math.abs(U.startY-ue)>=o))&&(Y=Ue?2:1,Ue||(U.isDragging=!0),Ge(Ne,De))}},tt=U.onPress=function(Le){he(Le,1)||Le&&Le.button||(U.axis=pe=null,me.pause(),U.isPressed=!0,Le=Is(Le),Ee=Pe=0,U.startX=U.x=Le.clientX,U.startY=U.y=Le.clientY,U._vx.reset(),U._vy.reset(),on(oe?l:H,Wn[1],Oe,je,!0),U.deltaX=U.deltaY=0,T&&T(U))},Be=U.onRelease=function(Le){if(!he(Le,1)){sn(oe?l:H,Wn[1],Oe,!0);var be=!isNaN(U.y-U.startY),ke=U.isDragging,ue=ke&&(Math.abs(U.x-U.startX)>3||Math.abs(U.y-U.startY)>3),Ne=Is(Le);!ue&&be&&(U._vx.reset(),U._vy.reset(),d&&te&&Xt.delayedCall(.08,function(){if(js()-se>300&&!Le.defaultPrevented){if(Le.target.click)Le.target.click();else if(H.createEvent){var De=H.createEvent("MouseEvents");De.initMouseEvent("click",!0,!0,Tn,1,Ne.screenX,Ne.screenY,Ne.clientX,Ne.clientY,!1,!1,!1,!1,0,null),Le.target.dispatchEvent(De)}}})),U.isDragging=U.isGesturing=U.isPressed=!1,f&&ke&&!oe&&me.restart(!0),Y&&Ce(),N&&ke&&N(U),x&&x(U,ue)}},fe=function(be){return be.touches&&be.touches.length>1&&(U.isGesturing=!0)&&G(be,U.isDragging)},Me=function(){return(U.isGesturing=!1)||D(U)},_e=function(be){if(!he(be)){var ke=W(),ue=L();we((ke-O)*ee,(ue-V)*ee,1),O=ke,V=ue,f&&me.restart(!0)}},Se=function(be){if(!he(be)){be=Is(be,d),Q&&(ce=!0);var ke=(be.deltaMode===1?c:be.deltaMode===2?Tn.innerHeight:1)*y;we(be.deltaX*ke,be.deltaY*ke,0),f&&!oe&&me.restart(!0)}},He=function(be){if(!he(be)){var ke=be.clientX,ue=be.clientY,Ne=ke-U.x,De=ue-U.y;U.x=ke,U.y=ue,le=!0,f&&me.restart(!0),(Ne||De)&&Ge(Ne,De)}},Re=function(be){U.event=be,F(U)},Ye=function(be){U.event=be,A(U)},Qe=function(be){return he(be)||Is(be,d)&&J(U)};me=U._dc=Xt.delayedCall(p||.25,xe).pause(),U.deltaX=U.deltaY=0,U._vx=Ud(0,50,!0),U._vy=Ud(0,50,!0),U.scrollX=W,U.scrollY=L,U.isDragging=U.isGesturing=U.isPressed=!1,x1(this),U.enable=function(Le){return U.isEnabled||(on(z?H:l,"scroll",Hd),s.indexOf("scroll")>=0&&on(z?H:l,"scroll",_e,je,de),s.indexOf("wheel")>=0&&on(l,"wheel",Se,je,de),(s.indexOf("touch")>=0&&b1||s.indexOf("pointer")>=0)&&(on(l,Wn[0],tt,je,de),on(H,Wn[2],Be),on(H,Wn[3],Be),te&&on(l,"click",ye,!0,!0),J&&on(l,"click",Qe),G&&on(H,"gesturestart",fe),D&&on(H,"gestureend",Me),F&&on(l,_i+"enter",Re),A&&on(l,_i+"leave",Ye),P&&on(l,_i+"move",He)),U.isEnabled=!0,U.isDragging=U.isGesturing=U.isPressed=le=Y=!1,U._vx.reset(),U._vy.reset(),O=W(),V=L(),Le&&Le.type&&tt(Le),Z&&Z(U)),U},U.disable=function(){U.isEnabled&&(so.filter(function(Le){return Le!==U&&Ds(Le.target)}).length||sn(z?H:l,"scroll",Hd),U.isPressed&&(U._vx.reset(),U._vy.reset(),sn(oe?l:H,Wn[1],Oe,!0)),sn(z?H:l,"scroll",_e,de),sn(l,"wheel",Se,de),sn(l,Wn[0],tt,de),sn(H,Wn[2],Be),sn(H,Wn[3],Be),sn(l,"click",ye,!0),sn(l,"click",Qe),sn(H,"gesturestart",fe),sn(H,"gestureend",Me),sn(l,_i+"enter",Re),sn(l,_i+"leave",Ye),sn(l,_i+"move",He),U.isEnabled=U.isPressed=U.isDragging=!1,re&&re(U))},U.kill=U.revert=function(){U.disable();var Le=so.indexOf(U);Le>=0&&so.splice(Le,1),Cr===U&&(Cr=0)},so.push(U),oe&&Ds(l)&&(Cr=U),U.enable(m)},BN(t,[{key:"velocityX",get:function(){return this._vx.getVelocity()}},{key:"velocityY",get:function(){return this._vy.getVelocity()}}]),t})();It.version="3.13.0",It.create=function(t){return new It(t)},It.register=C1,It.getAll=function(){return so.slice()},It.getById=function(t){return so.filter(function(e){return e.vars.id===t})[0]},_1()&&Xt.registerPlugin(It);/*!
 * ScrollTrigger 3.13.0
 * https://gsap.com
 *
 * @license Copyright 2008-2025, GreenSock. All rights reserved.
 * Subject to the terms at https://gsap.com/standard-license
 * @author: Jack Doyle, jack@greensock.com
*/var Fe,ao,ot,_t,jn,ft,Wd,Sl,Ls,Ps,As,kl,en,Cl,Gd,ln,N1,M1,lo,T1,Yd,j1,cn,Vd,D1,I1,Xr,Zd,qd,co,Xd,Nl,Jd,Kd,Ml=1,tn=Date.now,Qd=tn(),On=0,Es=0,L1=function(e,n,r){var i=Dn(e)&&(e.substr(0,6)==="clamp("||e.indexOf("max")>-1);return r["_"+n+"Clamp"]=i,i?e.substr(6,e.length-7):e},P1=function(e,n){return n&&(!Dn(e)||e.substr(0,6)!=="clamp(")?"clamp("+e+")":e},zN=function t(){return Es&&requestAnimationFrame(t)},A1=function(){return Cl=1},E1=function(){return Cl=0},fr=function(e){return e},Fs=function(e){return Math.round(e*1e5)/1e5||0},F1=function(){return typeof window<"u"},$1=function(){return Fe||F1()&&(Fe=window.gsap)&&Fe.registerPlugin&&Fe},wi=function(e){return!!~Wd.indexOf(e)},B1=function(e){return(e==="Height"?Xd:ot["inner"+e])||jn["client"+e]||ft["client"+e]},O1=function(e){return Zr(e,"getBoundingClientRect")||(wi(e)?function(){return Rl.width=ot.innerWidth,Rl.height=Xd,Rl}:function(){return Nr(e)})},HN=function(e,n,r){var i=r.d,o=r.d2,s=r.a;return(s=Zr(e,"getBoundingClientRect"))?function(){return s()[i]}:function(){return(n?B1(o):e["client"+o])||0}},UN=function(e,n){return!n||~dr.indexOf(e)?O1(e):function(){return Rl}},hr=function(e,n){var r=n.s,i=n.d2,o=n.d,s=n.a;return Math.max(0,(r="scroll"+i)&&(s=Zr(e,r))?s()-O1(e)()[o]:wi(e)?(jn[r]||ft[r])-B1(i):e[r]-e["offset"+i])},Tl=function(e,n){for(var r=0;r<lo.length;r+=3)(!n||~n.indexOf(lo[r+1]))&&e(lo[r],lo[r+1],lo[r+2])},Dn=function(e){return typeof e=="string"},nn=function(e){return typeof e=="function"},$s=function(e){return typeof e=="number"},Si=function(e){return typeof e=="object"},Bs=function(e,n,r){return e&&e.progress(n?0:1)&&r&&e.pause()},ef=function(e,n){if(e.enabled){var r=e._ctx?e._ctx.add(function(){return n(e)}):n(e);r&&r.totalTime&&(e.callbackAnimation=r)}},uo=Math.abs,R1="left",z1="top",tf="right",nf="bottom",ki="width",Ci="height",Os="Right",Rs="Left",zs="Top",Hs="Bottom",Et="padding",Rn="margin",fo="Width",rf="Height",Rt="px",zn=function(e){return ot.getComputedStyle(e)},WN=function(e){var n=zn(e).position;e.style.position=n==="absolute"||n==="fixed"?n:"relative"},H1=function(e,n){for(var r in n)r in e||(e[r]=n[r]);return e},Nr=function(e,n){var r=n&&zn(e)[Gd]!=="matrix(1, 0, 0, 1, 0, 0)"&&Fe.to(e,{x:0,y:0,xPercent:0,yPercent:0,rotation:0,rotationX:0,rotationY:0,scale:1,skewX:0,skewY:0}).progress(1),i=e.getBoundingClientRect();return r&&r.progress(0).kill(),i},jl=function(e,n){var r=n.d2;return e["offset"+r]||e["client"+r]||0},U1=function(e){var n=[],r=e.labels,i=e.duration(),o;for(o in r)n.push(r[o]/i);return n},GN=function(e){return function(n){return Fe.utils.snap(U1(e),n)}},of=function(e){var n=Fe.utils.snap(e),r=Array.isArray(e)&&e.slice(0).sort(function(i,o){return i-o});return r?function(i,o,s){s===void 0&&(s=.001);var l;if(!o)return n(i);if(o>0){for(i-=s,l=0;l<r.length;l++)if(r[l]>=i)return r[l];return r[l-1]}else for(l=r.length,i+=s;l--;)if(r[l]<=i)return r[l];return r[0]}:function(i,o,s){s===void 0&&(s=.001);var l=n(i);return!o||Math.abs(l-i)<s||l-i<0==o<0?l:n(o<0?i-e:i+e)}},YN=function(e){return function(n,r){return of(U1(e))(n,r.direction)}},Dl=function(e,n,r,i){return r.split(",").forEach(function(o){return e(n,o,i)})},Gt=function(e,n,r,i,o){return e.addEventListener(n,r,{passive:!i,capture:!!o})},Yt=function(e,n,r,i){return e.removeEventListener(n,r,!!i)},Il=function(e,n,r){r=r&&r.wheelHandler,r&&(e(n,"wheel",r),e(n,"touchmove",r))},W1={startColor:"green",endColor:"red",indent:0,fontSize:"16px",fontWeight:"normal"},Ll={toggleActions:"play",anticipatePin:0},Pl={top:0,left:0,center:.5,bottom:1,right:1},Al=function(e,n){if(Dn(e)){var r=e.indexOf("="),i=~r?+(e.charAt(r-1)+1)*parseFloat(e.substr(r+1)):0;~r&&(e.indexOf("%")>r&&(i*=n/100),e=e.substr(0,r-1)),e=i+(e in Pl?Pl[e]*n:~e.indexOf("%")?parseFloat(e)*n/100:parseFloat(e)||0)}return e},El=function(e,n,r,i,o,s,l,c){var u=o.startColor,d=o.endColor,f=o.fontSize,p=o.indent,h=o.fontWeight,y=_t.createElement("div"),m=wi(r)||Zr(r,"pinType")==="fixed",g=e.indexOf("scroller")!==-1,N=m?ft:r,M=e.indexOf("start")!==-1,T=M?u:d,x="border-color:"+T+";font-size:"+f+";color:"+T+";font-weight:"+h+";pointer-events:none;white-space:nowrap;font-family:sans-serif,Arial;z-index:1000;padding:4px 8px;border-width:0;border-style:solid;";return x+="position:"+((g||c)&&m?"fixed;":"absolute;"),(g||c||!m)&&(x+=(i===Ot?tf:nf)+":"+(s+parseFloat(p))+"px;"),l&&(x+="box-sizing:border-box;text-align:left;width:"+l.offsetWidth+"px;"),y._isStart=M,y.setAttribute("class","gsap-marker-"+e+(n?" marker-"+n:"")),y.style.cssText=x,y.innerText=n||n===0?e+"-"+n:e,N.children[0]?N.insertBefore(y,N.children[0]):N.appendChild(y),y._offset=y["offset"+i.op.d2],Fl(y,0,i,M),y},Fl=function(e,n,r,i){var o={display:"block"},s=r[i?"os2":"p2"],l=r[i?"p2":"os2"];e._isFlipped=i,o[r.a+"Percent"]=i?-100:0,o[r.a]=i?"1px":0,o["border"+s+fo]=1,o["border"+l+fo]=0,o[r.p]=n+"px",Fe.set(e,o)},rt=[],sf={},Us,G1=function(){return tn()-On>34&&(Us||(Us=requestAnimationFrame(Mr)))},ho=function(){(!cn||!cn.isPressed||cn.startX>ft.clientWidth)&&(it.cache++,cn?Us||(Us=requestAnimationFrame(Mr)):Mr(),On||Mi("scrollStart"),On=tn())},af=function(){I1=ot.innerWidth,D1=ot.innerHeight},Ws=function(e){it.cache++,(e===!0||!en&&!j1&&!_t.fullscreenElement&&!_t.webkitFullscreenElement&&(!Vd||I1!==ot.innerWidth||Math.abs(ot.innerHeight-D1)>ot.innerHeight*.25))&&Sl.restart(!0)},Ni={},VN=[],Y1=function t(){return Yt(st,"scrollEnd",t)||ji(!0)},Mi=function(e){return Ni[e]&&Ni[e].map(function(n){return n()})||VN},In=[],V1=function(e){for(var n=0;n<In.length;n+=5)(!e||In[n+4]&&In[n+4].query===e)&&(In[n].style.cssText=In[n+1],In[n].getBBox&&In[n].setAttribute("transform",In[n+2]||""),In[n+3].uncache=1)},lf=function(e,n){var r;for(ln=0;ln<rt.length;ln++)r=rt[ln],r&&(!n||r._ctx===n)&&(e?r.kill(1):r.revert(!0,!0));Nl=!0,n&&V1(n),n||Mi("revert")},Z1=function(e,n){it.cache++,(n||!un)&&it.forEach(function(r){return nn(r)&&r.cacheID++&&(r.rec=0)}),Dn(e)&&(ot.history.scrollRestoration=qd=e)},un,Ti=0,q1,ZN=function(){if(q1!==Ti){var e=q1=Ti;requestAnimationFrame(function(){return e===Ti&&ji(!0)})}},X1=function(){ft.appendChild(co),Xd=!cn&&co.offsetHeight||ot.innerHeight,ft.removeChild(co)},J1=function(e){return Ls(".gsap-marker-start, .gsap-marker-end, .gsap-marker-scroller-start, .gsap-marker-scroller-end").forEach(function(n){return n.style.display=e?"none":"block"})},ji=function(e,n){if(jn=_t.documentElement,ft=_t.body,Wd=[ot,_t,jn,ft],On&&!e&&!Nl){Gt(st,"scrollEnd",Y1);return}X1(),un=st.isRefreshing=!0,it.forEach(function(i){return nn(i)&&++i.cacheID&&(i.rec=i())});var r=Mi("refreshInit");T1&&st.sort(),n||lf(),it.forEach(function(i){nn(i)&&(i.smooth&&(i.target.style.scrollBehavior="auto"),i(0))}),rt.slice(0).forEach(function(i){return i.refresh()}),Nl=!1,rt.forEach(function(i){if(i._subPinOffset&&i.pin){var o=i.vars.horizontal?"offsetWidth":"offsetHeight",s=i.pin[o];i.revert(!0,1),i.adjustPinSpacing(i.pin[o]-s),i.refresh()}}),Jd=1,J1(!0),rt.forEach(function(i){var o=hr(i.scroller,i._dir),s=i.vars.end==="max"||i._endClamp&&i.end>o,l=i._startClamp&&i.start>=o;(s||l)&&i.setPositions(l?o-1:i.start,s?Math.max(l?o:i.start+1,o):i.end,!0)}),J1(!1),Jd=0,r.forEach(function(i){return i&&i.render&&i.render(-1)}),it.forEach(function(i){nn(i)&&(i.smooth&&requestAnimationFrame(function(){return i.target.style.scrollBehavior="smooth"}),i.rec&&i(i.rec))}),Z1(qd,1),Sl.pause(),Ti++,un=2,Mr(2),rt.forEach(function(i){return nn(i.vars.onRefresh)&&i.vars.onRefresh(i)}),un=st.isRefreshing=!1,Mi("refresh")},cf=0,$l=1,Gs,Mr=function(e){if(e===2||!un&&!Nl){st.isUpdating=!0,Gs&&Gs.update(0);var n=rt.length,r=tn(),i=r-Qd>=50,o=n&&rt[0].scroll();if($l=cf>o?-1:1,un||(cf=o),i&&(On&&!Cl&&r-On>200&&(On=0,Mi("scrollEnd")),As=Qd,Qd=r),$l<0){for(ln=n;ln-- >0;)rt[ln]&&rt[ln].update(0,i);$l=1}else for(ln=0;ln<n;ln++)rt[ln]&&rt[ln].update(0,i);st.isUpdating=!1}Us=0},uf=[R1,z1,nf,tf,Rn+Hs,Rn+Os,Rn+zs,Rn+Rs,"display","flexShrink","float","zIndex","gridColumnStart","gridColumnEnd","gridRowStart","gridRowEnd","gridArea","justifySelf","alignSelf","placeSelf","order"],Bl=uf.concat([ki,Ci,"boxSizing","max"+fo,"max"+rf,"position",Rn,Et,Et+zs,Et+Os,Et+Hs,Et+Rs]),qN=function(e,n,r){po(r);var i=e._gsap;if(i.spacerIsNative)po(i.spacerState);else if(e._gsap.swappedIn){var o=n.parentNode;o&&(o.insertBefore(e,n),o.removeChild(n))}e._gsap.swappedIn=!1},df=function(e,n,r,i){if(!e._gsap.swappedIn){for(var o=uf.length,s=n.style,l=e.style,c;o--;)c=uf[o],s[c]=r[c];s.position=r.position==="absolute"?"absolute":"relative",r.display==="inline"&&(s.display="inline-block"),l[nf]=l[tf]="auto",s.flexBasis=r.flexBasis||"auto",s.overflow="visible",s.boxSizing="border-box",s[ki]=jl(e,an)+Rt,s[Ci]=jl(e,Ot)+Rt,s[Et]=l[Rn]=l[z1]=l[R1]="0",po(i),l[ki]=l["max"+fo]=r[ki],l[Ci]=l["max"+rf]=r[Ci],l[Et]=r[Et],e.parentNode!==n&&(e.parentNode.insertBefore(n,e),n.appendChild(e)),e._gsap.swappedIn=!0}},XN=/([A-Z])/g,po=function(e){if(e){var n=e.t.style,r=e.length,i=0,o,s;for((e.t._gsap||Fe.core.getCache(e.t)).uncache=1;i<r;i+=2)s=e[i+1],o=e[i],s?n[o]=s:n[o]&&n.removeProperty(o.replace(XN,"-$1").toLowerCase())}},Ol=function(e){for(var n=Bl.length,r=e.style,i=[],o=0;o<n;o++)i.push(Bl[o],r[Bl[o]]);return i.t=e,i},JN=function(e,n,r){for(var i=[],o=e.length,s=r?8:0,l;s<o;s+=2)l=e[s],i.push(l,l in n?n[l]:e[s+1]);return i.t=e.t,i},Rl={left:0,top:0},K1=function(e,n,r,i,o,s,l,c,u,d,f,p,h,y){nn(e)&&(e=e(c)),Dn(e)&&e.substr(0,3)==="max"&&(e=p+(e.charAt(4)==="="?Al("0"+e.substr(3),r):0));var m=h?h.time():0,g,N,M;if(h&&h.seek(0),isNaN(e)||(e=+e),$s(e))h&&(e=Fe.utils.mapRange(h.scrollTrigger.start,h.scrollTrigger.end,0,p,e)),l&&Fl(l,r,i,!0);else{nn(n)&&(n=n(c));var T=(e||"0").split(" "),x,v,C,w;M=vn(n,c)||ft,x=Nr(M)||{},(!x||!x.left&&!x.top)&&zn(M).display==="none"&&(w=M.style.display,M.style.display="block",x=Nr(M),w?M.style.display=w:M.style.removeProperty("display")),v=Al(T[0],x[i.d]),C=Al(T[1]||"0",r),e=x[i.p]-u[i.p]-d+v+o-C,l&&Fl(l,C,i,r-C<20||l._isStart&&C>20),r-=r-C}if(y&&(c[y]=e||-.001,e<0&&(e=0)),s){var k=e+r,b=s._isStart;g="scroll"+i.d2,Fl(s,k,i,b&&k>20||!b&&(f?Math.max(ft[g],jn[g]):s.parentNode[g])<=k+1),f&&(u=Nr(l),f&&(s.style[i.op.p]=u[i.op.p]-i.op.m-s._offset+Rt))}return h&&M&&(g=Nr(M),h.seek(p),N=Nr(M),h._caScrollDist=g[i.p]-N[i.p],e=e/h._caScrollDist*p),h&&h.seek(m),h?e:Math.round(e)},KN=/(webkit|moz|length|cssText|inset)/i,Q1=function(e,n,r,i){if(e.parentNode!==n){var o=e.style,s,l;if(n===ft){e._stOrig=o.cssText,l=zn(e);for(s in l)!+s&&!KN.test(s)&&l[s]&&typeof o[s]=="string"&&s!=="0"&&(o[s]=l[s]);o.top=r,o.left=i}else o.cssText=e._stOrig;Fe.core.getCache(e).uncache=1,n.appendChild(e)}},ev=function(e,n,r){var i=n,o=i;return function(s){var l=Math.round(e());return l!==i&&l!==o&&Math.abs(l-i)>3&&Math.abs(l-o)>3&&(s=l,r&&r()),o=i,i=Math.round(s),i}},zl=function(e,n,r){var i={};i[n.p]="+="+r,Fe.set(e,i)},tv=function(e,n){var r=qr(e,n),i="_scroll"+n.p2,o=function s(l,c,u,d,f){var p=s.tween,h=c.onComplete,y={};u=u||r();var m=ev(r,u,function(){p.kill(),s.tween=0});return f=d&&f||0,d=d||l-u,p&&p.kill(),c[i]=l,c.inherit=!1,c.modifiers=y,y[i]=function(){return m(u+d*p.ratio+f*p.ratio*p.ratio)},c.onUpdate=function(){it.cache++,s.tween&&Mr()},c.onComplete=function(){s.tween=0,h&&h.call(p)},p=s.tween=Fe.to(e,c),p};return e[i]=r,r.wheelHandler=function(){return o.tween&&o.tween.kill()&&(o.tween=0)},Gt(e,"wheel",r.wheelHandler),st.isTouch&&Gt(e,"touchmove",r.wheelHandler),o},st=(function(){function t(n,r){ao||t.register(Fe)||console.warn("Please gsap.registerPlugin(ScrollTrigger)"),Zd(this),this.init(n,r)}var e=t.prototype;return e.init=function(r,i){if(this.progress=this.start=0,this.vars&&this.kill(!0,!0),!Es){this.update=this.refresh=this.kill=fr;return}r=H1(Dn(r)||$s(r)||r.nodeType?{trigger:r}:r,Ll);var o=r,s=o.onUpdate,l=o.toggleClass,c=o.id,u=o.onToggle,d=o.onRefresh,f=o.scrub,p=o.trigger,h=o.pin,y=o.pinSpacing,m=o.invalidateOnRefresh,g=o.anticipatePin,N=o.onScrubComplete,M=o.onSnapComplete,T=o.once,x=o.snap,v=o.pinReparent,C=o.pinSpacer,w=o.containerAnimation,k=o.fastScrollEnd,b=o.preventOverlaps,_=r.horizontal||r.containerAnimation&&r.horizontal!==!1?an:Ot,I=!f&&f!==0,j=vn(r.scroller||ot),E=Fe.core.getCache(j),F=wi(j),A=("pinType"in r?r.pinType:Zr(j,"pinType")||F&&"fixed")==="fixed",P=[r.onEnter,r.onLeave,r.onEnterBack,r.onLeaveBack],R=I&&r.toggleActions.split(" "),oe="markers"in r?r.markers:Ll.markers,G=F?0:parseFloat(zn(j)["border"+_.p2+fo])||0,D=this,Q=r.onRefreshInit&&function(){return r.onRefreshInit(D)},Z=HN(j,F,_),re=UN(j,F),J=0,ee=0,de=0,te=qr(j,_),ie,K,ae,me,Y,le,ce,ge,pe,U,Ee,Pe,je,W,L,O,V,B,z,H,q,ne,se,ye,he,xe,Ce,we,Ge,Oe,tt,Be,fe,Me,_e,Se,He,Re,Ye;if(D._startClamp=D._endClamp=!1,D._dir=_,g*=45,D.scroller=j,D.scroll=w?w.time.bind(w):te,me=te(),D.vars=r,i=i||r.animation,"refreshPriority"in r&&(T1=1,r.refreshPriority===-9999&&(Gs=D)),E.tweenScroll=E.tweenScroll||{top:tv(j,Ot),left:tv(j,an)},D.tweenTo=ie=E.tweenScroll[_.p],D.scrubDuration=function(ue){fe=$s(ue)&&ue,fe?Be?Be.duration(ue):Be=Fe.to(i,{ease:"expo",totalProgress:"+=0",inherit:!1,duration:fe,paused:!0,onComplete:function(){return N&&N(D)}}):(Be&&Be.progress(1).kill(),Be=0)},i&&(i.vars.lazy=!1,i._initted&&!D.isReverted||i.vars.immediateRender!==!1&&r.immediateRender!==!1&&i.duration()&&i.render(0,!0,!0),D.animation=i.pause(),i.scrollTrigger=D,D.scrubDuration(f),Oe=0,c||(c=i.vars.id)),x&&((!Si(x)||x.push)&&(x={snapTo:x}),"scrollBehavior"in ft.style&&Fe.set(F?[ft,jn]:j,{scrollBehavior:"auto"}),it.forEach(function(ue){return nn(ue)&&ue.target===(F?_t.scrollingElement||jn:j)&&(ue.smooth=!1)}),ae=nn(x.snapTo)?x.snapTo:x.snapTo==="labels"?GN(i):x.snapTo==="labelsDirectional"?YN(i):x.directional!==!1?function(ue,Ne){return of(x.snapTo)(ue,tn()-ee<500?0:Ne.direction)}:Fe.utils.snap(x.snapTo),Me=x.duration||{min:.1,max:2},Me=Si(Me)?Ps(Me.min,Me.max):Ps(Me,Me),_e=Fe.delayedCall(x.delay||fe/2||.1,function(){var ue=te(),Ne=tn()-ee<500,De=ie.tween;if((Ne||Math.abs(D.getVelocity())<10)&&!De&&!Cl&&J!==ue){var Ue=(ue-le)/W,Te=i&&!I?i.totalProgress():Ue,Je=Ne?0:(Te-tt)/(tn()-As)*1e3||0,lt=Fe.utils.clamp(-Ue,1-Ue,uo(Je/2)*Je/.185),Mt=Ue+(x.inertia===!1?0:lt),ct,mt,ht=x,xn=ht.onStart,ve=ht.onInterrupt,Ae=ht.onComplete;if(ct=ae(Mt,D),$s(ct)||(ct=Mt),mt=Math.max(0,Math.round(le+ct*W)),ue<=ce&&ue>=le&&mt!==ue){if(De&&!De._initted&&De.data<=uo(mt-ue))return;x.inertia===!1&&(lt=ct-Ue),ie(mt,{duration:Me(uo(Math.max(uo(Mt-Te),uo(ct-Te))*.185/Je/.05||0)),ease:x.ease||"power3",data:uo(mt-ue),onInterrupt:function(){return _e.restart(!0)&&ve&&ve(D)},onComplete:function(){D.update(),J=te(),i&&!I&&(Be?Be.resetTo("totalProgress",ct,i._tTime/i._tDur):i.progress(ct)),Oe=tt=i&&!I?i.totalProgress():D.progress,M&&M(D),Ae&&Ae(D)}},ue,lt*W,mt-ue-lt*W),xn&&xn(D,ie.tween)}}else D.isActive&&J!==ue&&_e.restart(!0)}).pause()),c&&(sf[c]=D),p=D.trigger=vn(p||h!==!0&&h),Ye=p&&p._gsap&&p._gsap.stRevert,Ye&&(Ye=Ye(D)),h=h===!0?p:vn(h),Dn(l)&&(l={targets:p,className:l}),h&&(y===!1||y===Rn||(y=!y&&h.parentNode&&h.parentNode.style&&zn(h.parentNode).display==="flex"?!1:Et),D.pin=h,K=Fe.core.getCache(h),K.spacer?L=K.pinState:(C&&(C=vn(C),C&&!C.nodeType&&(C=C.current||C.nativeElement),K.spacerIsNative=!!C,C&&(K.spacerState=Ol(C))),K.spacer=B=C||_t.createElement("div"),B.classList.add("pin-spacer"),c&&B.classList.add("pin-spacer-"+c),K.pinState=L=Ol(h)),r.force3D!==!1&&Fe.set(h,{force3D:!0}),D.spacer=B=K.spacer,Ge=zn(h),ye=Ge[y+_.os2],H=Fe.getProperty(h),q=Fe.quickSetter(h,_.a,Rt),df(h,B,Ge),V=Ol(h)),oe){Pe=Si(oe)?H1(oe,W1):W1,U=El("scroller-start",c,j,_,Pe,0),Ee=El("scroller-end",c,j,_,Pe,0,U),z=U["offset"+_.op.d2];var Qe=vn(Zr(j,"content")||j);ge=this.markerStart=El("start",c,Qe,_,Pe,z,0,w),pe=this.markerEnd=El("end",c,Qe,_,Pe,z,0,w),w&&(Re=Fe.quickSetter([ge,pe],_.a,Rt)),!A&&!(dr.length&&Zr(j,"fixedMarkers")===!0)&&(WN(F?ft:j),Fe.set([U,Ee],{force3D:!0}),xe=Fe.quickSetter(U,_.a,Rt),we=Fe.quickSetter(Ee,_.a,Rt))}if(w){var Le=w.vars.onUpdate,be=w.vars.onUpdateParams;w.eventCallback("onUpdate",function(){D.update(0,0,1),Le&&Le.apply(w,be||[])})}if(D.previous=function(){return rt[rt.indexOf(D)-1]},D.next=function(){return rt[rt.indexOf(D)+1]},D.revert=function(ue,Ne){if(!Ne)return D.kill(!0);var De=ue!==!1||!D.enabled,Ue=en;De!==D.isReverted&&(De&&(Se=Math.max(te(),D.scroll.rec||0),de=D.progress,He=i&&i.progress()),ge&&[ge,pe,U,Ee].forEach(function(Te){return Te.style.display=De?"none":"block"}),De&&(en=D,D.update(De)),h&&(!v||!D.isActive)&&(De?qN(h,B,L):df(h,B,zn(h),he)),De||D.update(De),en=Ue,D.isReverted=De)},D.refresh=function(ue,Ne,De,Ue){if(!((en||!D.enabled)&&!Ne)){if(h&&ue&&On){Gt(t,"scrollEnd",Y1);return}!un&&Q&&Q(D),en=D,ie.tween&&!De&&(ie.tween.kill(),ie.tween=0),Be&&Be.pause(),m&&i&&(i.revert({kill:!1}).invalidate(),i.getChildren&&i.getChildren(!0,!0,!1).forEach(function(Dr){return Dr.vars.immediateRender&&Dr.render(0,!0,!0)})),D.isReverted||D.revert(!0,!0),D._subPinOffset=!1;var Te=Z(),Je=re(),lt=w?w.duration():hr(j,_),Mt=W<=.01||!W,ct=0,mt=Ue||0,ht=Si(De)?De.end:r.end,xn=r.endTrigger||p,ve=Si(De)?De.start:r.start||(r.start===0||!p?0:h?"0 0":"0 100%"),Ae=D.pinnedContainer=r.pinnedContainer&&vn(r.pinnedContainer,D),We=p&&Math.max(0,rt.indexOf(D))||0,Ze=We,ut,nt,gt,Tr,Ft,kt,Xe,yt,Ln,Jr,Pn,jr,Kr;for(oe&&Si(De)&&(jr=Fe.getProperty(U,_.p),Kr=Fe.getProperty(Ee,_.p));Ze-- >0;)kt=rt[Ze],kt.end||kt.refresh(0,1)||(en=D),Xe=kt.pin,Xe&&(Xe===p||Xe===h||Xe===Ae)&&!kt.isReverted&&(Jr||(Jr=[]),Jr.unshift(kt),kt.revert(!0,!0)),kt!==rt[Ze]&&(We--,Ze--);for(nn(ve)&&(ve=ve(D)),ve=L1(ve,"start",D),le=K1(ve,p,Te,_,te(),ge,U,D,Je,G,A,lt,w,D._startClamp&&"_startClamp")||(h?-.001:0),nn(ht)&&(ht=ht(D)),Dn(ht)&&!ht.indexOf("+=")&&(~ht.indexOf(" ")?ht=(Dn(ve)?ve.split(" ")[0]:"")+ht:(ct=Al(ht.substr(2),Te),ht=Dn(ve)?ve:(w?Fe.utils.mapRange(0,w.duration(),w.scrollTrigger.start,w.scrollTrigger.end,le):le)+ct,xn=p)),ht=L1(ht,"end",D),ce=Math.max(le,K1(ht||(xn?"100% 0":lt),xn,Te,_,te()+ct,pe,Ee,D,Je,G,A,lt,w,D._endClamp&&"_endClamp"))||-.001,ct=0,Ze=We;Ze--;)kt=rt[Ze],Xe=kt.pin,Xe&&kt.start-kt._pinPush<=le&&!w&&kt.end>0&&(ut=kt.end-(D._startClamp?Math.max(0,kt.start):kt.start),(Xe===p&&kt.start-kt._pinPush<le||Xe===Ae)&&isNaN(ve)&&(ct+=ut*(1-kt.progress)),Xe===h&&(mt+=ut));if(le+=ct,ce+=ct,D._startClamp&&(D._startClamp+=ct),D._endClamp&&!un&&(D._endClamp=ce||-.001,ce=Math.min(ce,hr(j,_))),W=ce-le||(le-=.01)&&.001,Mt&&(de=Fe.utils.clamp(0,1,Fe.utils.normalize(le,ce,Se))),D._pinPush=mt,ge&&ct&&(ut={},ut[_.a]="+="+ct,Ae&&(ut[_.p]="-="+te()),Fe.set([ge,pe],ut)),h&&!(Jd&&D.end>=hr(j,_)))ut=zn(h),Tr=_===Ot,gt=te(),ne=parseFloat(H(_.a))+mt,!lt&&ce>1&&(Pn=(F?_t.scrollingElement||jn:j).style,Pn={style:Pn,value:Pn["overflow"+_.a.toUpperCase()]},F&&zn(ft)["overflow"+_.a.toUpperCase()]!=="scroll"&&(Pn.style["overflow"+_.a.toUpperCase()]="scroll")),df(h,B,ut),V=Ol(h),nt=Nr(h,!0),yt=A&&qr(j,Tr?an:Ot)(),y?(he=[y+_.os2,W+mt+Rt],he.t=B,Ze=y===Et?jl(h,_)+W+mt:0,Ze&&(he.push(_.d,Ze+Rt),B.style.flexBasis!=="auto"&&(B.style.flexBasis=Ze+Rt)),po(he),Ae&&rt.forEach(function(Dr){Dr.pin===Ae&&Dr.vars.pinSpacing!==!1&&(Dr._subPinOffset=!0)}),A&&te(Se)):(Ze=jl(h,_),Ze&&B.style.flexBasis!=="auto"&&(B.style.flexBasis=Ze+Rt)),A&&(Ft={top:nt.top+(Tr?gt-le:yt)+Rt,left:nt.left+(Tr?yt:gt-le)+Rt,boxSizing:"border-box",position:"fixed"},Ft[ki]=Ft["max"+fo]=Math.ceil(nt.width)+Rt,Ft[Ci]=Ft["max"+rf]=Math.ceil(nt.height)+Rt,Ft[Rn]=Ft[Rn+zs]=Ft[Rn+Os]=Ft[Rn+Hs]=Ft[Rn+Rs]="0",Ft[Et]=ut[Et],Ft[Et+zs]=ut[Et+zs],Ft[Et+Os]=ut[Et+Os],Ft[Et+Hs]=ut[Et+Hs],Ft[Et+Rs]=ut[Et+Rs],O=JN(L,Ft,v),un&&te(0)),i?(Ln=i._initted,Yd(1),i.render(i.duration(),!0,!0),se=H(_.a)-ne+W+mt,Ce=Math.abs(W-se)>1,A&&Ce&&O.splice(O.length-2,2),i.render(0,!0,!0),Ln||i.invalidate(!0),i.parent||i.totalTime(i.totalTime()),Yd(0)):se=W,Pn&&(Pn.value?Pn.style["overflow"+_.a.toUpperCase()]=Pn.value:Pn.style.removeProperty("overflow-"+_.a));else if(p&&te()&&!w)for(nt=p.parentNode;nt&&nt!==ft;)nt._pinOffset&&(le-=nt._pinOffset,ce-=nt._pinOffset),nt=nt.parentNode;Jr&&Jr.forEach(function(Dr){return Dr.revert(!1,!0)}),D.start=le,D.end=ce,me=Y=un?Se:te(),!w&&!un&&(me<Se&&te(Se),D.scroll.rec=0),D.revert(!1,!0),ee=tn(),_e&&(J=-1,_e.restart(!0)),en=0,i&&I&&(i._initted||He)&&i.progress()!==He&&i.progress(He||0,!0).render(i.time(),!0,!0),(Mt||de!==D.progress||w||m||i&&!i._initted)&&(i&&!I&&(i._initted||de||i.vars.immediateRender!==!1)&&i.totalProgress(w&&le<-.001&&!de?Fe.utils.normalize(le,ce,0):de,!0),D.progress=Mt||(me-le)/W===de?0:de),h&&y&&(B._pinOffset=Math.round(D.progress*se)),Be&&Be.invalidate(),isNaN(jr)||(jr-=Fe.getProperty(U,_.p),Kr-=Fe.getProperty(Ee,_.p),zl(U,_,jr),zl(ge,_,jr-(Ue||0)),zl(Ee,_,Kr),zl(pe,_,Kr-(Ue||0))),Mt&&!un&&D.update(),d&&!un&&!je&&(je=!0,d(D),je=!1)}},D.getVelocity=function(){return(te()-Y)/(tn()-As)*1e3||0},D.endAnimation=function(){Bs(D.callbackAnimation),i&&(Be?Be.progress(1):i.paused()?I||Bs(i,D.direction<0,1):Bs(i,i.reversed()))},D.labelToScroll=function(ue){return i&&i.labels&&(le||D.refresh()||le)+i.labels[ue]/i.duration()*W||0},D.getTrailing=function(ue){var Ne=rt.indexOf(D),De=D.direction>0?rt.slice(0,Ne).reverse():rt.slice(Ne+1);return(Dn(ue)?De.filter(function(Ue){return Ue.vars.preventOverlaps===ue}):De).filter(function(Ue){return D.direction>0?Ue.end<=le:Ue.start>=ce})},D.update=function(ue,Ne,De){if(!(w&&!De&&!ue)){var Ue=un===!0?Se:D.scroll(),Te=ue?0:(Ue-le)/W,Je=Te<0?0:Te>1?1:Te||0,lt=D.progress,Mt,ct,mt,ht,xn,ve,Ae,We;if(Ne&&(Y=me,me=w?te():Ue,x&&(tt=Oe,Oe=i&&!I?i.totalProgress():Je)),g&&h&&!en&&!Ml&&On&&(!Je&&le<Ue+(Ue-Y)/(tn()-As)*g?Je=1e-4:Je===1&&ce>Ue+(Ue-Y)/(tn()-As)*g&&(Je=.9999)),Je!==lt&&D.enabled){if(Mt=D.isActive=!!Je&&Je<1,ct=!!lt&&lt<1,ve=Mt!==ct,xn=ve||!!Je!=!!lt,D.direction=Je>lt?1:-1,D.progress=Je,xn&&!en&&(mt=Je&&!lt?0:Je===1?1:lt===1?2:3,I&&(ht=!ve&&R[mt+1]!=="none"&&R[mt+1]||R[mt],We=i&&(ht==="complete"||ht==="reset"||ht in i))),b&&(ve||We)&&(We||f||!i)&&(nn(b)?b(D):D.getTrailing(b).forEach(function(gt){return gt.endAnimation()})),I||(Be&&!en&&!Ml?(Be._dp._time-Be._start!==Be._time&&Be.render(Be._dp._time-Be._start),Be.resetTo?Be.resetTo("totalProgress",Je,i._tTime/i._tDur):(Be.vars.totalProgress=Je,Be.invalidate().restart())):i&&i.totalProgress(Je,!!(en&&(ee||ue)))),h){if(ue&&y&&(B.style[y+_.os2]=ye),!A)q(Fs(ne+se*Je));else if(xn){if(Ae=!ue&&Je>lt&&ce+1>Ue&&Ue+1>=hr(j,_),v)if(!ue&&(Mt||Ae)){var Ze=Nr(h,!0),ut=Ue-le;Q1(h,ft,Ze.top+(_===Ot?ut:0)+Rt,Ze.left+(_===Ot?0:ut)+Rt)}else Q1(h,B);po(Mt||Ae?O:V),Ce&&Je<1&&Mt||q(ne+(Je===1&&!Ae?se:0))}}x&&!ie.tween&&!en&&!Ml&&_e.restart(!0),l&&(ve||T&&Je&&(Je<1||!Kd))&&Ls(l.targets).forEach(function(gt){return gt.classList[Mt||T?"add":"remove"](l.className)}),s&&!I&&!ue&&s(D),xn&&!en?(I&&(We&&(ht==="complete"?i.pause().totalProgress(1):ht==="reset"?i.restart(!0).pause():ht==="restart"?i.restart(!0):i[ht]()),s&&s(D)),(ve||!Kd)&&(u&&ve&&ef(D,u),P[mt]&&ef(D,P[mt]),T&&(Je===1?D.kill(!1,1):P[mt]=0),ve||(mt=Je===1?1:3,P[mt]&&ef(D,P[mt]))),k&&!Mt&&Math.abs(D.getVelocity())>($s(k)?k:2500)&&(Bs(D.callbackAnimation),Be?Be.progress(1):Bs(i,ht==="reverse"?1:!Je,1))):I&&s&&!en&&s(D)}if(we){var nt=w?Ue/w.duration()*(w._caScrollDist||0):Ue;xe(nt+(U._isFlipped?1:0)),we(nt)}Re&&Re(-Ue/w.duration()*(w._caScrollDist||0))}},D.enable=function(ue,Ne){D.enabled||(D.enabled=!0,Gt(j,"resize",Ws),F||Gt(j,"scroll",ho),Q&&Gt(t,"refreshInit",Q),ue!==!1&&(D.progress=de=0,me=Y=J=te()),Ne!==!1&&D.refresh())},D.getTween=function(ue){return ue&&ie?ie.tween:Be},D.setPositions=function(ue,Ne,De,Ue){if(w){var Te=w.scrollTrigger,Je=w.duration(),lt=Te.end-Te.start;ue=Te.start+lt*ue/Je,Ne=Te.start+lt*Ne/Je}D.refresh(!1,!1,{start:P1(ue,De&&!!D._startClamp),end:P1(Ne,De&&!!D._endClamp)},Ue),D.update()},D.adjustPinSpacing=function(ue){if(he&&ue){var Ne=he.indexOf(_.d)+1;he[Ne]=parseFloat(he[Ne])+ue+Rt,he[1]=parseFloat(he[1])+ue+Rt,po(he)}},D.disable=function(ue,Ne){if(D.enabled&&(ue!==!1&&D.revert(!0,!0),D.enabled=D.isActive=!1,Ne||Be&&Be.pause(),Se=0,K&&(K.uncache=1),Q&&Yt(t,"refreshInit",Q),_e&&(_e.pause(),ie.tween&&ie.tween.kill()&&(ie.tween=0)),!F)){for(var De=rt.length;De--;)if(rt[De].scroller===j&&rt[De]!==D)return;Yt(j,"resize",Ws),F||Yt(j,"scroll",ho)}},D.kill=function(ue,Ne){D.disable(ue,Ne),Be&&!Ne&&Be.kill(),c&&delete sf[c];var De=rt.indexOf(D);De>=0&&rt.splice(De,1),De===ln&&$l>0&&ln--,De=0,rt.forEach(function(Ue){return Ue.scroller===D.scroller&&(De=1)}),De||un||(D.scroll.rec=0),i&&(i.scrollTrigger=null,ue&&i.revert({kill:!1}),Ne||i.kill()),ge&&[ge,pe,U,Ee].forEach(function(Ue){return Ue.parentNode&&Ue.parentNode.removeChild(Ue)}),Gs===D&&(Gs=0),h&&(K&&(K.uncache=1),De=0,rt.forEach(function(Ue){return Ue.pin===h&&De++}),De||(K.spacer=0)),r.onKill&&r.onKill(D)},rt.push(D),D.enable(!1,!1),Ye&&Ye(D),i&&i.add&&!W){var ke=D.update;D.update=function(){D.update=ke,it.cache++,le||ce||D.refresh()},Fe.delayedCall(.01,D.update),W=.01,le=ce=0}else D.refresh();h&&ZN()},t.register=function(r){return ao||(Fe=r||$1(),F1()&&window.document&&t.enable(),ao=Es),ao},t.defaults=function(r){if(r)for(var i in r)Ll[i]=r[i];return Ll},t.disable=function(r,i){Es=0,rt.forEach(function(s){return s[i?"kill":"disable"](r)}),Yt(ot,"wheel",ho),Yt(_t,"scroll",ho),clearInterval(kl),Yt(_t,"touchcancel",fr),Yt(ft,"touchstart",fr),Dl(Yt,_t,"pointerdown,touchstart,mousedown",A1),Dl(Yt,_t,"pointerup,touchend,mouseup",E1),Sl.kill(),Tl(Yt);for(var o=0;o<it.length;o+=3)Il(Yt,it[o],it[o+1]),Il(Yt,it[o],it[o+2])},t.enable=function(){if(ot=window,_t=document,jn=_t.documentElement,ft=_t.body,Fe&&(Ls=Fe.utils.toArray,Ps=Fe.utils.clamp,Zd=Fe.core.context||fr,Yd=Fe.core.suppressOverwrites||fr,qd=ot.history.scrollRestoration||"auto",cf=ot.pageYOffset||0,Fe.core.globals("ScrollTrigger",t),ft)){Es=1,co=document.createElement("div"),co.style.height="100vh",co.style.position="absolute",X1(),zN(),It.register(Fe),t.isTouch=It.isTouch,Xr=It.isTouch&&/(iPad|iPhone|iPod|Mac)/g.test(navigator.userAgent),Vd=It.isTouch===1,Gt(ot,"wheel",ho),Wd=[ot,_t,jn,ft],Fe.matchMedia?(t.matchMedia=function(u){var d=Fe.matchMedia(),f;for(f in u)d.add(f,u[f]);return d},Fe.addEventListener("matchMediaInit",function(){return lf()}),Fe.addEventListener("matchMediaRevert",function(){return V1()}),Fe.addEventListener("matchMedia",function(){ji(0,1),Mi("matchMedia")}),Fe.matchMedia().add("(orientation: portrait)",function(){return af(),af})):console.warn("Requires GSAP 3.11.0 or later"),af(),Gt(_t,"scroll",ho);var r=ft.hasAttribute("style"),i=ft.style,o=i.borderTopStyle,s=Fe.core.Animation.prototype,l,c;for(s.revert||Object.defineProperty(s,"revert",{value:function(){return this.time(-.01,!0)}}),i.borderTopStyle="solid",l=Nr(ft),Ot.m=Math.round(l.top+Ot.sc())||0,an.m=Math.round(l.left+an.sc())||0,o?i.borderTopStyle=o:i.removeProperty("border-top-style"),r||(ft.setAttribute("style",""),ft.removeAttribute("style")),kl=setInterval(G1,250),Fe.delayedCall(.5,function(){return Ml=0}),Gt(_t,"touchcancel",fr),Gt(ft,"touchstart",fr),Dl(Gt,_t,"pointerdown,touchstart,mousedown",A1),Dl(Gt,_t,"pointerup,touchend,mouseup",E1),Gd=Fe.utils.checkPrefix("transform"),Bl.push(Gd),ao=tn(),Sl=Fe.delayedCall(.2,ji).pause(),lo=[_t,"visibilitychange",function(){var u=ot.innerWidth,d=ot.innerHeight;_t.hidden?(N1=u,M1=d):(N1!==u||M1!==d)&&Ws()},_t,"DOMContentLoaded",ji,ot,"load",ji,ot,"resize",Ws],Tl(Gt),rt.forEach(function(u){return u.enable(0,1)}),c=0;c<it.length;c+=3)Il(Yt,it[c],it[c+1]),Il(Yt,it[c],it[c+2])}},t.config=function(r){"limitCallbacks"in r&&(Kd=!!r.limitCallbacks);var i=r.syncInterval;i&&clearInterval(kl)||(kl=i)&&setInterval(G1,i),"ignoreMobileResize"in r&&(Vd=t.isTouch===1&&r.ignoreMobileResize),"autoRefreshEvents"in r&&(Tl(Yt)||Tl(Gt,r.autoRefreshEvents||"none"),j1=(r.autoRefreshEvents+"").indexOf("resize")===-1)},t.scrollerProxy=function(r,i){var o=vn(r),s=it.indexOf(o),l=wi(o);~s&&it.splice(s,l?6:2),i&&(l?dr.unshift(ot,i,ft,i,jn,i):dr.unshift(o,i))},t.clearMatchMedia=function(r){rt.forEach(function(i){return i._ctx&&i._ctx.query===r&&i._ctx.kill(!0,!0)})},t.isInViewport=function(r,i,o){var s=(Dn(r)?vn(r):r).getBoundingClientRect(),l=s[o?ki:Ci]*i||0;return o?s.right-l>0&&s.left+l<ot.innerWidth:s.bottom-l>0&&s.top+l<ot.innerHeight},t.positionInViewport=function(r,i,o){Dn(r)&&(r=vn(r));var s=r.getBoundingClientRect(),l=s[o?ki:Ci],c=i==null?l/2:i in Pl?Pl[i]*l:~i.indexOf("%")?parseFloat(i)*l/100:parseFloat(i)||0;return o?(s.left+c)/ot.innerWidth:(s.top+c)/ot.innerHeight},t.killAll=function(r){if(rt.slice(0).forEach(function(o){return o.vars.id!=="ScrollSmoother"&&o.kill()}),r!==!0){var i=Ni.killAll||[];Ni={},i.forEach(function(o){return o()})}},t})();st.version="3.13.0",st.saveStyles=function(t){return t?Ls(t).forEach(function(e){if(e&&e.style){var n=In.indexOf(e);n>=0&&In.splice(n,5),In.push(e,e.style.cssText,e.getBBox&&e.getAttribute("transform"),Fe.core.getCache(e),Zd())}}):In},st.revert=function(t,e){return lf(!t,e)},st.create=function(t,e){return new st(t,e)},st.refresh=function(t){return t?Ws(!0):(ao||st.register())&&ji(!0)},st.update=function(t){return++it.cache&&Mr(t===!0?2:0)},st.clearScrollMemory=Z1,st.maxScroll=function(t,e){return hr(t,e?an:Ot)},st.getScrollFunc=function(t,e){return qr(vn(t),e?an:Ot)},st.getById=function(t){return sf[t]},st.getAll=function(){return rt.filter(function(t){return t.vars.id!=="ScrollSmoother"})},st.isScrolling=function(){return!!On},st.snapDirectional=of,st.addEventListener=function(t,e){var n=Ni[t]||(Ni[t]=[]);~n.indexOf(e)||n.push(e)},st.removeEventListener=function(t,e){var n=Ni[t],r=n&&n.indexOf(e);r>=0&&n.splice(r,1)},st.batch=function(t,e){var n=[],r={},i=e.interval||.016,o=e.batchMax||1e9,s=function(u,d){var f=[],p=[],h=Fe.delayedCall(i,function(){d(f,p),f=[],p=[]}).pause();return function(y){f.length||h.restart(!0),f.push(y.trigger),p.push(y),o<=f.length&&h.progress(1)}},l;for(l in e)r[l]=l.substr(0,2)==="on"&&nn(e[l])&&l!=="onRefreshInit"?s(l,e[l]):e[l];return nn(o)&&(o=o(),Gt(st,"refresh",function(){return o=e.batchMax()})),Ls(t).forEach(function(c){var u={};for(l in r)u[l]=r[l];u.trigger=c,n.push(st.create(u))}),n};var nv=function(e,n,r,i){return n>i?e(i):n<0&&e(0),r>i?(i-n)/(r-n):r<0?n/(n-r):1},ff=function t(e,n){n===!0?e.style.removeProperty("touch-action"):e.style.touchAction=n===!0?"auto":n?"pan-"+n+(It.isTouch?" pinch-zoom":""):"none",e===jn&&t(ft,n)},Hl={auto:1,scroll:1},QN=function(e){var n=e.event,r=e.target,i=e.axis,o=(n.changedTouches?n.changedTouches[0]:n).target,s=o._gsap||Fe.core.getCache(o),l=tn(),c;if(!s._isScrollT||l-s._isScrollT>2e3){for(;o&&o!==ft&&(o.scrollHeight<=o.clientHeight&&o.scrollWidth<=o.clientWidth||!(Hl[(c=zn(o)).overflowY]||Hl[c.overflowX]));)o=o.parentNode;s._isScroll=o&&o!==r&&!wi(o)&&(Hl[(c=zn(o)).overflowY]||Hl[c.overflowX]),s._isScrollT=l}(s._isScroll||i==="x")&&(n.stopPropagation(),n._gsapAllow=!0)},rv=function(e,n,r,i){return It.create({target:e,capture:!0,debounce:!1,lockAxis:!0,type:n,onWheel:i=i&&QN,onPress:i,onDrag:i,onScroll:i,onEnable:function(){return r&&Gt(_t,It.eventTypes[0],ov,!1,!0)},onDisable:function(){return Yt(_t,It.eventTypes[0],ov,!0)}})},eM=/(input|label|select|textarea)/i,iv,ov=function(e){var n=eM.test(e.target.tagName);(n||iv)&&(e._gsapAllow=!0,iv=n)},tM=function(e){Si(e)||(e={}),e.preventDefault=e.isNormalizer=e.allowClicks=!0,e.type||(e.type="wheel,touch"),e.debounce=!!e.debounce,e.id=e.id||"normalizer";var n=e,r=n.normalizeScrollX,i=n.momentum,o=n.allowNestedScroll,s=n.onRelease,l,c,u=vn(e.target)||jn,d=Fe.core.globals().ScrollSmoother,f=d&&d.get(),p=Xr&&(e.content&&vn(e.content)||f&&e.content!==!1&&!f.smooth()&&f.content()),h=qr(u,Ot),y=qr(u,an),m=1,g=(It.isTouch&&ot.visualViewport?ot.visualViewport.scale*ot.visualViewport.width:ot.outerWidth)/ot.innerWidth,N=0,M=nn(i)?function(){return i(l)}:function(){return i||2.8},T,x,v=rv(u,e.type,!0,o),C=function(){return x=!1},w=fr,k=fr,b=function(){c=hr(u,Ot),k=Ps(Xr?1:0,c),r&&(w=Ps(0,hr(u,an))),T=Ti},_=function(){p._gsap.y=Fs(parseFloat(p._gsap.y)+h.offset)+"px",p.style.transform="matrix3d(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, "+parseFloat(p._gsap.y)+", 0, 1)",h.offset=h.cacheID=0},I=function(){if(x){requestAnimationFrame(C);var oe=Fs(l.deltaY/2),G=k(h.v-oe);if(p&&G!==h.v+h.offset){h.offset=G-h.v;var D=Fs((parseFloat(p&&p._gsap.y)||0)-h.offset);p.style.transform="matrix3d(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, "+D+", 0, 1)",p._gsap.y=D+"px",h.cacheID=it.cache,Mr()}return!0}h.offset&&_(),x=!0},j,E,F,A,P=function(){b(),j.isActive()&&j.vars.scrollY>c&&(h()>c?j.progress(1)&&h(c):j.resetTo("scrollY",c))};return p&&Fe.set(p,{y:"+=0"}),e.ignoreCheck=function(R){return Xr&&R.type==="touchmove"&&I()||m>1.05&&R.type!=="touchstart"||l.isGesturing||R.touches&&R.touches.length>1},e.onPress=function(){x=!1;var R=m;m=Fs((ot.visualViewport&&ot.visualViewport.scale||1)/g),j.pause(),R!==m&&ff(u,m>1.01?!0:r?!1:"x"),E=y(),F=h(),b(),T=Ti},e.onRelease=e.onGestureStart=function(R,oe){if(h.offset&&_(),!oe)A.restart(!0);else{it.cache++;var G=M(),D,Q;r&&(D=y(),Q=D+G*.05*-R.velocityX/.227,G*=nv(y,D,Q,hr(u,an)),j.vars.scrollX=w(Q)),D=h(),Q=D+G*.05*-R.velocityY/.227,G*=nv(h,D,Q,hr(u,Ot)),j.vars.scrollY=k(Q),j.invalidate().duration(G).play(.01),(Xr&&j.vars.scrollY>=c||D>=c-1)&&Fe.to({},{onUpdate:P,duration:G})}s&&s(R)},e.onWheel=function(){j._ts&&j.pause(),tn()-N>1e3&&(T=0,N=tn())},e.onChange=function(R,oe,G,D,Q){if(Ti!==T&&b(),oe&&r&&y(w(D[2]===oe?E+(R.startX-R.x):y()+oe-D[1])),G){h.offset&&_();var Z=Q[2]===G,re=Z?F+R.startY-R.y:h()+G-Q[1],J=k(re);Z&&re!==J&&(F+=J-re),h(J)}(G||oe)&&Mr()},e.onEnable=function(){ff(u,r?!1:"x"),st.addEventListener("refresh",P),Gt(ot,"resize",P),h.smooth&&(h.target.style.scrollBehavior="auto",h.smooth=y.smooth=!1),v.enable()},e.onDisable=function(){ff(u,!0),Yt(ot,"resize",P),st.removeEventListener("refresh",P),v.kill()},e.lockAxis=e.lockAxis!==!1,l=new It(e),l.iOS=Xr,Xr&&!h()&&h(1),Xr&&Fe.ticker.add(fr),A=l._dc,j=Fe.to(l,{ease:"power4",paused:!0,inherit:!1,scrollX:r?"+=0.1":"+=0",scrollY:"+=0.1",modifiers:{scrollY:ev(h,h(),function(){return j.pause()})},onUpdate:Mr,onComplete:A.vars.onComplete}),l};st.sort=function(t){if(nn(t))return rt.sort(t);var e=ot.pageYOffset||0;return st.getAll().forEach(function(n){return n._sortY=n.trigger?e+n.trigger.getBoundingClientRect().top:n.start+ot.innerHeight}),rt.sort(t||function(n,r){return(n.vars.refreshPriority||0)*-1e6+(n.vars.containerAnimation?1e6:n._sortY)-((r.vars.containerAnimation?1e6:r._sortY)+(r.vars.refreshPriority||0)*-1e6)})},st.observe=function(t){return new It(t)},st.normalizeScroll=function(t){if(typeof t>"u")return cn;if(t===!0&&cn)return cn.enable();if(t===!1){cn&&cn.kill(),cn=t;return}var e=t instanceof It?t:tM(t);return cn&&cn.target===e.target&&cn.kill(),wi(e.target)&&(cn=e),e},st.core={_getVelocityProp:Ud,_inputObserver:rv,_scrollers:it,_proxies:dr,bridge:{ss:function(){On||Mi("scrollStart"),On=tn()},ref:function(){return en}}},$1()&&Fe.registerPlugin(st);const nM=Object.freeze(Object.defineProperty({__proto__:null,ScrollTrigger:st,default:st},Symbol.toStringTag,{value:"Module"}));S.AXIS_Y_ZERO_BREAK_DEFAULT_EXTRA_CLEARANCE_PX=xp,S.AXIS_Y_ZERO_BREAK_DEFAULT_GAP_PX=jo,S.AXIS_Y_ZERO_BREAK_MIN_GAP_PX=Do,S.AXIS_ZIGZAG_DEFAULT_AMPLITUDE_PX=_p,S.AXIS_ZIGZAG_DEFAULT_CYCLES=wp,S.AXIS_ZIGZAG_DEFAULT_HEIGHT_PX=kp,S.AXIS_ZIGZAG_DEFAULT_STEP_X_PX=Sp,S.Account=Wl,S.ActionLink=pv,S.AdaptiveDataGrid=Ic,S.AnimationDurationFast=xm,S.AnimationDurationNormal=_m,S.AnimationDurationSlow=wm,S.AnimationEasingBounce=Nm,S.AnimationEasingEaseIn=Sm,S.AnimationEasingEaseInOut=Cm,S.AnimationEasingEaseOut=km,S.AppointmentCard=Tc,S.AreaSeriesPrimitive=CS,S.AriaDataGrid=Bh,S.AriaTabsDataGrid=ga,S.AriaTabsDataGridAdaptive=Ic,S.Axis=Oc,S.BackLink=Di,S.BandScalesProvider=MS,S.BarSeriesPrimitive=NS,S.BorderColorCard=cu,S.BorderColorCardHover=uu,S.BorderColorDefault=au,S.BorderColorError=du,S.BorderColorForm=lu,S.BorderRadiusLarge=zm,S.BorderRadiusMedium=Rm,S.BorderRadiusNone=Bm,S.BorderRadiusSmall=Om,S.BorderWidthCardBottom=Am,S.BorderWidthDefault=Im,S.BorderWidthFormElement=Lm,S.BorderWidthFormElementError=Pm,S.BorderWidthPanel=Em,S.BorderWidthTableCell=$m,S.BorderWidthTableHeader=Fm,S.BrandThemeProvider=rx,S.Breadcrumb=wc,S.Breakpoint=Sf,S.BreakpointDesktop=_y,S.BreakpointLargeDesktop=wy,S.BreakpointMobile=vy,S.BreakpointTablet=xy,S.Button=zt,S.ButtonBorderRadius=g0,S.ButtonBorderWidth=m0,S.ButtonPrimaryBackgroundActive=r0,S.ButtonPrimaryBackgroundDefault=t0,S.ButtonPrimaryBackgroundDisabled=i0,S.ButtonPrimaryBackgroundHover=n0,S.ButtonPrimaryBorderDefault=a0,S.ButtonPrimaryBorderFocus=l0,S.ButtonPrimaryTextDefault=o0,S.ButtonPrimaryTextDisabled=s0,S.ButtonSecondaryBackgroundActive=f0,S.ButtonSecondaryBackgroundDefault=c0,S.ButtonSecondaryBackgroundHover=d0,S.ButtonSecondaryBackgroundSolid=u0,S.ButtonSecondaryBorderDefault=p0,S.ButtonSecondaryTextDefault=h0,S.ButtonShadowSize=y0,S.ButtonSize=Yl,S.ButtonSpacingPaddingHorizontalDesktop=Pu,S.ButtonSpacingPaddingHorizontalMobile=Iu,S.ButtonSpacingPaddingVerticalDesktop=Lu,S.ButtonSpacingPaddingVerticalMobile=Du,S.ButtonTypographyWeight=b0,S.ButtonVariant=Gl,S.Card=kc,S.CardBackgroundDefault=v0,S.CardBorderBottom=w0,S.CardBorderDefault=x0,S.CardBorderHover=_0,S.CardBorderWidthBottom=M0,S.CardBorderWidthDefault=N0,S.CardGroup=T2,S.CardGroupItem=j2,S.CardShadowDefault=T0,S.CardShadowHover=j0,S.CardSpacingHeadingMargin=Fu,S.CardSpacingPaddingDesktop=Eu,S.CardSpacingPaddingMobile=Au,S.CardTextDescription=k0,S.CardTextHeading=S0,S.CardTextLink=C0,S.CareCard=D2,S.CharacterCount=kv,S.ChartEnhancer=jS,S.ChartNoScript=TS,S.ChartRoot=bp,S.Checkbox=yf,S.Checkboxes=vf,S.ColorBorderDefault=Km,S.ColorBorderSecondary=Qm,S.ColorButtonLoginActive=Ng,S.ColorButtonLoginBackground=kg,S.ColorButtonLoginHover=Cg,S.ColorButtonLoginShadow=Mg,S.ColorButtonPrimaryActive=sg,S.ColorButtonPrimaryBackground=rg,S.ColorButtonPrimaryHover=og,S.ColorButtonPrimaryShadow=ag,S.ColorButtonPrimaryText=ig,S.ColorButtonReverseActive=bg,S.ColorButtonReverseBackground=mg,S.ColorButtonReverseHover=yg,S.ColorButtonReverseShadow=vg,S.ColorButtonReverseText=gg,S.ColorButtonSecondaryActive=hg,S.ColorButtonSecondaryBackground=lg,S.ColorButtonSecondaryBackgroundSolid=cg,S.ColorButtonSecondaryBorder=ug,S.ColorButtonSecondaryHover=fg,S.ColorButtonSecondaryShadow=pg,S.ColorButtonSecondaryText=dg,S.ColorButtonWarningActive=wg,S.ColorButtonWarningBackground=xg,S.ColorButtonWarningHover=_g,S.ColorButtonWarningShadow=Sg,S.ColorError=eg,S.ColorFocusBackground=Xm,S.ColorFocusText=Jm,S.ColorFormBackground=ng,S.ColorFormBorder=tg,S.ColorGrey1=Cu,S.ColorGrey2=Nu,S.ColorGrey3=Mu,S.ColorGrey4=Tu,S.ColorGrey5=ju,S.ColorLinkActive=Zm,S.ColorLinkDefault=Ym,S.ColorLinkHover=Vm,S.ColorLinkVisited=qm,S.ColorPrimaryBlack=pu,S.ColorPrimaryBlue=fu,S.ColorPrimaryDarkPink=yu,S.ColorPrimaryGreen=mu,S.ColorPrimaryPurple=gu,S.ColorPrimaryRed=bu,S.ColorPrimaryWhite=hu,S.ColorPrimaryYellow=vu,S.ColorSecondaryAquaGreen=Su,S.ColorSecondaryOrange=wu,S.ColorSecondaryPaleYellow=xu,S.ColorSecondaryPink=ku,S.ColorSecondaryWarmYellow=_u,S.ColorTextPrimary=Hm,S.ColorTextPrint=Gm,S.ColorTextReverse=Wm,S.ColorTextSecondary=Um,S.Column=Ii,S.ColumnAlign=Cf,S.ComponentBlur=Xg,S.ComponentBreadcrumbChevronMarginLeft=Hg,S.ComponentBreadcrumbChevronMarginRight=Ug,S.ComponentBreadcrumbPaddingTopDesktop=Gg,S.ComponentBreadcrumbPaddingTopMobile=Wg,S.ComponentButtonPaddingDesktopHorizontal=Ig,S.ComponentButtonPaddingDesktopVertical=Dg,S.ComponentButtonPaddingMobileHorizontal=jg,S.ComponentButtonPaddingMobileVertical=Tg,S.ComponentButtonShadowSize=Lg,S.ComponentCardHeadingMargin=Og,S.ComponentCardPaddingDesktop=Bg,S.ComponentCardPaddingMobile=$g,S.ComponentDetails=Kg,S.ComponentExpander=Qg,S.ComponentFormCheckboxLabelPadding=Fg,S.ComponentFormCheckboxSize=Eg,S.ComponentFormInputMinHeight=Pg,S.ComponentFormInputPadding=Ag,S.ComponentLink=Jg,S.ComponentPagination=e0,S.ComponentPanelPaddingDesktop=zg,S.ComponentPanelPaddingMobile=Rg,S.ComponentSpread=qg,S.ComponentSummaryListCellPaddingHorizontal=Vg,S.ComponentSummaryListCellPaddingVertical=Yg,S.ComponentSummaryListRowMargin=Zg,S.Container=ql,S.ContentsList=M2,S.DEFAULT_FONT_CONFIG=Ju,S.DashboardSummaryGrid=Y2,S.DateInput=zv,S.Details=Lh,S.DoDontList=Ph,S.ElevationHigh=tb,S.ElevationLow=Qy,S.ElevationMedium=eb,S.ElevationNone=Ky,S.ErrorMessage=Jl,S.ErrorSummary=Rv,S.Expander=Ah,S.FRUTIGER_FONT_FILES=rn,S.Fieldset=qs,S.Float=kf,S.FocusOutlineOffset=Zy,S.FocusOutlineStyle=qy,S.FocusOutlineWidth=Vy,S.FocusShadowButton=Jy,S.FocusShadowInput=Xy,S.FontFamilyBase=zo,S.FontFamilyFallback=Ho,S.FontFamilyPrint=Uo,S.FontLineHeightBase=il,S.FontSize14Mobile=Vo,S.FontSize14Print=qo,S.FontSize14Tablet=Zo,S.FontSize16Mobile=Xo,S.FontSize16Print=Ko,S.FontSize16Tablet=Jo,S.FontSize19Mobile=Qo,S.FontSize19Print=ts,S.FontSize19Tablet=es,S.FontSize22Mobile=ns,S.FontSize22Print=is,S.FontSize22Tablet=rs,S.FontSize26Mobile=os,S.FontSize26Print=as,S.FontSize26Tablet=ss,S.FontSize36Mobile=ls,S.FontSize36Print=us,S.FontSize36Tablet=cs,S.FontSize48Mobile=ds,S.FontSize48Print=hs,S.FontSize48Tablet=fs,S.FontSizeBase=rl,S.FontWeightBold=Go,S.FontWeightLight=Yo,S.FontWeightNormal=Wo,S.Footer=Ql,S.FormBorderRadius=q0,S.FormBorderWidthDefault=V0,S.FormBorderWidthError=Z0,S.FormErrorTextDefault=W0,S.FormErrorTypographyWeight=G0,S.FormHintTextDefault=Y0,S.FormInputBackgroundDefault=D0,S.FormInputBackgroundDisabled=L0,S.FormInputBackgroundError=P0,S.FormInputBackgroundFocus=I0,S.FormInputBorderDefault=A0,S.FormInputBorderDisabled=$0,S.FormInputBorderError=F0,S.FormInputBorderFocus=E0,S.FormInputTextDefault=B0,S.FormInputTextDisabled=R0,S.FormInputTextPlaceholder=O0,S.FormLabelTextDefault=z0,S.FormLabelTextRequired=H0,S.FormLabelTypographyWeight=U0,S.FormSpacingCheckboxLabelPadding=Ru,S.FormSpacingCheckboxSize=Ou,S.FormSpacingInputMinHeight=Bu,S.FormSpacingInputPadding=$u,S.GanttChart=C2,S.Grid=Xs,S.GridGutter=ky,S.GridGutterHalf=Cy,S.GridLines=Cp,S.GridPageWidth=Sy,S.GridWidth=Lr,S.Header=Js,S.HeaderSSR=ox,S.HeaderSearch=Lf,S.HeaderStatic=Js,S.Heading=Gn,S.HeadingsNhsukHeadingL=Kn,S.HeadingsNhsukHeadingM=Qn,S.HeadingsNhsukHeadingS=er,S.HeadingsNhsukHeadingXl=Jn,S.HeadingsNhsukHeadingXs=tr,S.Hero=Pf,S.Hint=Zl,S.Images=z2,S.Input=Vs,S.InsetText=I2,S.Label=Zs,S.LayoutColumnActions=by,S.LayoutColumnFull=py,S.LayoutColumnHalf=my,S.LayoutColumnQuarter=yy,S.LayoutColumnThird=gy,S.LayoutContainerMaxWidth=hy,S.Legend=kS,S.LineScalesProvider=vp,S.LineSeriesPrimitive=Ep,S.List=Nf,S.MainWrapper=Xl,S.MedicationCard=jc,S.MetricCard=Fp,S.NHSBodyText=Bk,S.NHSBodyTextLarge=Ok,S.NHSBodyTextSmall=Rk,S.NHSHeading1=Pk,S.NHSHeading2=Ak,S.NHSHeading3=Ek,S.NHSHeading4=Fk,S.NHSHeading5=$k,S.NHSLedeText=zk,S.NHSLedeTextSmall=Hk,S.NHSThemeProvider=Yv,S.NHS_FALLBACK_FONT_STACK=nC,S.NHS_FONT_STACK=tC,S.NavigationSplitView=tp,S.PageTemplate=ww,S.Pagination=N2,S.Panel=Mh,S.ParagraphsBody=nr,S.ParagraphsBodyLarge=rr,S.ParagraphsBodySmall=ir,S.ParagraphsLedeText=or,S.ParagraphsLedeTextSmall=sr,S.ParallaxScene=Mk,S.PatientCard=Mc,S.PatternBanner=Dk,S.ProductRoadmap=rp,S.Radios=Mv,S.RadiosServer=jv,S.ResponsiveDataGrid=Ic,S.ResponsiveDataGridDemo=_w,S.Row=pr,S.SPC=_k,S.SPCChart=ym,S.SPCMetricCard=Sk,S.Select=yo,S.SelectOption=_f,S.ShadowButtonDefault=zy,S.ShadowButtonFocus=Wy,S.ShadowButtonSecondary=Hy,S.ShadowButtonWarning=Uy,S.ShadowCardDefault=Gy,S.ShadowCardHover=Yy,S.SizeButtonMinHeightDesktop=fy,S.SizeButtonMinHeightMobile=dy,S.SizeFormControlLarge=ry,S.SizeFormControlMedium=ny,S.SizeFormControlSmall=ty,S.SizeFormInputWidth2xl=cy,S.SizeFormInputWidth3xl=uy,S.SizeFormInputWidthLg=ay,S.SizeFormInputWidthMd=sy,S.SizeFormInputWidthSm=oy,S.SizeFormInputWidthXl=ly,S.SizeFormInputWidthXs=iy,S.SizeIconExtraLarge=Q0,S.SizeIconLarge=K0,S.SizeIconMedium=J0,S.SizeIconNhsDefault=ey,S.SizeIconSmall=X0,S.SkipLink=Sc,S.SlotMatrix=G2,S.SortStatusControl=K2,S.Spacing0=zu,S.Spacing1=Hu,S.Spacing2=Uu,S.Spacing3=Wu,S.Spacing4=Gu,S.Spacing5=Yu,S.Spacing6=Vu,S.Spacing7=Zu,S.Spacing8=qu,S.Spacing9=Xu,S.SpacingResponsive0Mobile=$a,S.SpacingResponsive0Tablet=Ba,S.SpacingResponsive1Mobile=Oa,S.SpacingResponsive1Tablet=Ra,S.SpacingResponsive2Mobile=za,S.SpacingResponsive2Tablet=Ha,S.SpacingResponsive3Mobile=Ua,S.SpacingResponsive3Tablet=Wa,S.SpacingResponsive4Mobile=Ga,S.SpacingResponsive4Tablet=Ya,S.SpacingResponsive5Mobile=Va,S.SpacingResponsive5Tablet=Za,S.SpacingResponsive6Mobile=qa,S.SpacingResponsive6Tablet=Xa,S.SpacingResponsive7Mobile=Ja,S.SpacingResponsive7Tablet=Ka,S.SpacingResponsive8Mobile=Qa,S.SpacingResponsive8Tablet=el,S.SpacingResponsive9Mobile=tl,S.SpacingResponsive9Tablet=nl,S.SpacingUtilities=Lv,S.StateDisabledBackground=By,S.StateDisabledBorder=Oy,S.StateDisabledText=Ry,S.StateErrorBackground=Ny,S.StateErrorBorder=My,S.StateErrorText=Ty,S.StateInfoBackground=Ey,S.StateInfoBorder=Fy,S.StateInfoText=$y,S.StateSuccessBackground=jy,S.StateSuccessBorder=Dy,S.StateSuccessText=Iy,S.StateWarningBackground=Ly,S.StateWarningBorder=Py,S.StateWarningText=Ay,S.SummaryCard=$h,S.SummaryList=L2,S.Table=Vn,S.Tabs=B2,S.Tag=pt,S.TaskList=Eh,S.Textarea=xf,S.TooltipOverlay=SS,S.TooltipProvider=Ap,S.TransactionalPageTemplate=Sw,S.TransitionButtonDefault=Mm,S.TransitionButtonShadow=Tm,S.TransitionCardHover=Dm,S.TransitionInputFocus=jm,S.VisibilityProvider=xS,S.VitalsCard=Dc,S.WIDTH_FRACTIONS=Fv,S.WarningCallout=R2,S.WidthContainer=Lc,S.WidthUtilities=Av,S.WorkflowSplitView=Aw,S.checkFrutigerLoaded=rC,S.createGenericTabsConfig=ba,S.createTCHTabsConfig=iw,S.generateFrutigerFontFace=Qk,S.getResponsiveStyles=Lk,S.getSpacingClass=Pv,S.getWidthClass=Ev,S.preloadFrutigerFonts=eC,S.tchDataConfig=Rh,S.useBrand=If,S.useColors=Wk,S.useComponentSpacing=Zk,S.useNHSHeadings=qk,S.useNHSParagraphs=Xk,S.useNHSTheme=Uv,S.useNHSTypographySystem=Jk,S.useNavigationSplitDrill=Kk,S.useNavigationSplitUrlSync=Qh,S.useNhsFdpBreakpoints=xa,S.useResponsiveSpacing=Vk,S.useResponsiveValue=Tw,S.useSpacing=Gk,S.useSpc=bm,S.useTokens=Uk,S.useTypography=Yk,Object.defineProperty(S,Symbol.toStringTag,{value:"Module"})}));
//# sourceMappingURL=index.umd.js.map
