{
  "version": 3,
  "sources": ["../../../../node_modules/classnames/index.js", "../../../../src/components/CharacterCount/CharacterCount.tsx", "../../../../src/mapping/textarea.ts", "../../../../src/components/Textarea/Textarea.tsx", "../../../../src/mapping/hint.ts", "../../../../src/components/Hint/Hint.tsx"],
  "sourcesContent": ["/*!\n\tCopyright (c) 2018 Jed Watson.\n\tLicensed under the MIT License (MIT), see\n\thttp://jedwatson.github.io/classnames\n*/\n/* global define */\n\n(function () {\n\t'use strict';\n\n\tvar hasOwn = {}.hasOwnProperty;\n\n\tfunction classNames () {\n\t\tvar classes = '';\n\n\t\tfor (var i = 0; i < arguments.length; i++) {\n\t\t\tvar arg = arguments[i];\n\t\t\tif (arg) {\n\t\t\t\tclasses = appendClass(classes, parseValue(arg));\n\t\t\t}\n\t\t}\n\n\t\treturn classes;\n\t}\n\n\tfunction parseValue (arg) {\n\t\tif (typeof arg === 'string' || typeof arg === 'number') {\n\t\t\treturn arg;\n\t\t}\n\n\t\tif (typeof arg !== 'object') {\n\t\t\treturn '';\n\t\t}\n\n\t\tif (Array.isArray(arg)) {\n\t\t\treturn classNames.apply(null, arg);\n\t\t}\n\n\t\tif (arg.toString !== Object.prototype.toString && !arg.toString.toString().includes('[native code]')) {\n\t\t\treturn arg.toString();\n\t\t}\n\n\t\tvar classes = '';\n\n\t\tfor (var key in arg) {\n\t\t\tif (hasOwn.call(arg, key) && arg[key]) {\n\t\t\t\tclasses = appendClass(classes, key);\n\t\t\t}\n\t\t}\n\n\t\treturn classes;\n\t}\n\n\tfunction appendClass (value, newClass) {\n\t\tif (!newClass) {\n\t\t\treturn value;\n\t\t}\n\t\n\t\tif (value) {\n\t\t\treturn value + ' ' + newClass;\n\t\t}\n\t\n\t\treturn value + newClass;\n\t}\n\n\tif (typeof module !== 'undefined' && module.exports) {\n\t\tclassNames.default = classNames;\n\t\tmodule.exports = classNames;\n\t} else if (typeof define === 'function' && typeof define.amd === 'object' && define.amd) {\n\t\t// register as 'classnames', consistent with npm package name\n\t\tdefine('classnames', [], function () {\n\t\t\treturn classNames;\n\t\t});\n\t} else {\n\t\twindow.classNames = classNames;\n\t}\n}());\n", "import React, { useState, useEffect, useCallback } from 'react';\nimport classNames from 'classnames';\nimport './CharacterCount.scss';\nimport { CharacterCountProps } from './CharacterCount.types';\nimport { Textarea } from '../Textarea';\nimport { Hint } from '../Hint';\n\nexport const CharacterCount: React.FC<CharacterCountProps> = ({\n  id,\n  maxLength,\n  maxWords,\n  threshold = 75,\n  name,\n  value,\n  defaultValue,\n  rows,\n  className,\n  countMessage,\n  onCountChange,\n  onChange,\n  ...textareaProps\n}) => {\n  // Determine initial text: prefer controlled value, else defaultValue, else empty\n  const initial = value ?? (defaultValue as string) ?? '';\n  const [currentValue, setCurrentValue] = useState(initial);\n  const [remaining, setRemaining] = useState(0);\n  const [isOverLimit, setIsOverLimit] = useState(false);\n  const [showCount, setShowCount] = useState(false);\n\n  // Calculate count based on whether we're counting characters or words\n  const calculateCount = useCallback((text: string) => {\n    if (maxWords) {\n      // Count words (split by whitespace and filter empty strings)\n      return text.trim() === '' ? 0 : text.trim().split(/\\s+/).length;\n    } else {\n      // Count characters\n      return text.length;\n    }\n  }, [maxWords]);\n\n  // Update counts whenever value changes\n  useEffect(() => {\n    const newCount = calculateCount(currentValue);\n    const limit = maxLength || maxWords || 0;\n    const newRemaining = limit - newCount;\n    const thresholdCount = Math.floor(limit * (threshold / 100));\n    \n    setRemaining(newRemaining);\n    setIsOverLimit(newCount > limit);\n    setShowCount(newCount >= thresholdCount || newCount > limit);\n\n    // Call the callback if provided\n    if (onCountChange) {\n      onCountChange(newCount, newRemaining);\n    }\n  }, [currentValue, maxLength, maxWords, threshold, calculateCount, onCountChange]);\n\n  // Handle input changes\n  const handleChange = (event: React.ChangeEvent<HTMLTextAreaElement>) => {\n    const newValue = event.target.value;\n    // Always update internal state for live counting; if consumer supplies a controlled value prop\n    // they'll also update value externally, keeping in sync. If uncontrolled, internal state drives UI.\n    setCurrentValue(newValue);\n    if (onChange) onChange(event);\n  };\n\n  // Generate count message\n  const generateCountMessage = () => {\n    const limit = maxLength || maxWords || 0;\n    const unit = maxWords ? 'word' : 'character';\n    const unitPlural = maxWords ? 'words' : 'characters';\n    \n    if (!showCount) {\n      return `You can enter up to ${limit} ${limit === 1 ? unit : unitPlural}`;\n    }\n    \n    if (isOverLimit) {\n      const overage = Math.abs(remaining);\n      return `You have ${overage} ${overage === 1 ? unit : unitPlural} too many`;\n    } else {\n      return `You have ${remaining} ${remaining === 1 ? unit : unitPlural} remaining`;\n    }\n  };\n\n  const characterCountClasses = classNames(\n    'nhsuk-character-count',\n    className\n  );\n\n  const messageClasses = classNames(\n    'nhsuk-character-count__message',\n    {\n      'nhsuk-character-count__message--disabled': !showCount,\n      'nhsuk-error-message': isOverLimit\n    },\n    countMessage?.classes\n  );\n\n  const textareaClasses = classNames(\n    'nhsuk-js-character-count',\n    {\n      'nhsuk-textarea--error': isOverLimit\n    }\n  );\n\n  return (\n    <div \n      className={characterCountClasses}\n      data-module=\"nhsuk-character-count\"\n      data-maxlength={maxLength}\n      data-maxwords={maxWords}\n      data-threshold={threshold}\n      data-testid=\"character-count\"\n    >\n      <Textarea\n        id={id}\n        name={name}\n        // Controlled: only value prop. Uncontrolled: only defaultValue prop.\n        value={value !== undefined ? currentValue : undefined}\n        defaultValue={value === undefined ? defaultValue ?? currentValue : undefined}\n        rows={rows}\n        className={textareaClasses}\n        onChange={handleChange}\n        aria-describedby={`${id}-info`}\n        aria-invalid={isOverLimit || undefined}\n        {...textareaProps}\n      />\n      \n      <Hint\n        id={`${id}-info`}\n  className={messageClasses}\n  role=\"status\"\n  aria-live=\"polite\"\n      >\n        {generateCountMessage()}\n      </Hint>\n    </div>\n  );\n};", "export interface TextareaInputProps {\n  hasError?: boolean;\n  resize?: 'none' | 'both' | 'horizontal' | 'vertical';\n  className?: string;\n  describedBy?: string;\n}\n\nexport interface NormalisedTextareaModel {\n  classes: string;\n  describedBy?: string;\n}\n\nexport function mapTextareaProps(input: TextareaInputProps): NormalisedTextareaModel {\n  const resize = input.resize ?? 'vertical';\n  const classes = [\n    'nhsuk-textarea',\n    input.hasError ? 'nhsuk-textarea--error' : '',\n    resize !== 'vertical' ? `nhsuk-textarea--resize-${resize}` : '',\n    input.className || '',\n  ].filter(Boolean).join(' ');\n  return { classes, describedBy: input.describedBy };\n}\n", "import React from 'react';\nimport './Textarea.scss';\nimport { TextareaProps } from './Textarea.types';\nimport { mapTextareaProps } from '../../mapping/textarea';\n\nexport const Textarea: React.FC<TextareaProps> = ({\n  id,\n  name,\n  value,\n  defaultValue,\n  placeholder,\n  disabled = false,\n  readOnly = false,\n  required = false,\n  hasError = false,\n  describedBy,\n  className,\n  rows = 5,\n  cols,\n  maxLength,\n  minLength,\n  wrap = 'soft',\n  resize = 'vertical',\n  autoComplete,\n  spellCheck,\n  onChange,\n  onBlur,\n  onFocus,\n  onKeyDown,\n  ...props\n}) => {\n  const { classes: textareaClasses, describedBy: mappedDescribedBy } = mapTextareaProps({ hasError, resize, className, describedBy });\n\n  return (\n    <textarea\n      className={textareaClasses}\n      id={id}\n      name={name}\n      value={value}\n      defaultValue={defaultValue}\n      placeholder={placeholder}\n      disabled={disabled}\n      readOnly={readOnly}\n      required={required}\n  aria-describedby={mappedDescribedBy}\n      rows={rows}\n      cols={cols}\n      maxLength={maxLength}\n      minLength={minLength}\n      wrap={wrap}\n      autoComplete={autoComplete}\n      spellCheck={spellCheck}\n      onChange={onChange}\n      onBlur={onBlur}\n      onFocus={onFocus}\n      onKeyDown={onKeyDown}\n      {...props}\n    />\n  );\n};\n", "export interface HintInputProps {\n  className?: string;\n  id?: string;\n}\n\nexport interface NormalisedHintModel {\n  classes: string;\n  id?: string;\n}\n\nexport function mapHintProps(input: HintInputProps): NormalisedHintModel {\n  const classes = [\n    'nhsuk-hint',\n    input.className || ''\n  ].filter(Boolean).join(' ');\n  return { classes, id: input.id };\n}\n", "import React from 'react';\nimport './Hint.scss';\nimport { HintProps } from './Hint.types';\nimport { mapHintProps } from '../../mapping/hint';\n\nexport const Hint: React.FC<HintProps> = ({ id, className, children, ...rest }) => {\n  const model = mapHintProps({ id, className });\n  return (\n    <div className={model.classes} id={model.id} {...rest}>\n      {children}\n    </div>\n  );\n};\n"],
  "mappings": "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",
  "names": ["classNames", "jsx", "jsx", "classNames"]
}
