{
  "version": 3,
  "sources": ["../../../../../../../packages/nhs-fdp/dist/js/tokens.json", "../../../../../../../src/components/DataVisualisation/charts/SPC/SPCIcons/SPCIcon.tsx", "../../../../../../../src/components/DataVisualisation/charts/SPC/SPCIcons/tokenUtils.ts", "../../../../../../../src/components/DataVisualisation/charts/SPC/SPCChart/logic/spcDescriptors.ts", "../../../../../../../src/components/DataVisualisation/charts/SPC/SPCIcons/SPCConstants.ts", "../../../../../../../src/components/DataVisualisation/charts/SPC/SPCIcons/SPCAssuranceIcon.tsx"],
  "sourcesContent": ["{\n  \"animation\": {\n    \"duration\": {\n      \"fast\": \"150ms\",\n      \"normal\": \"300ms\",\n      \"slow\": \"500ms\"\n    },\n    \"easing\": {\n      \"ease-in\": \"cubic-bezier(0.4, 0, 1, 1)\",\n      \"ease-out\": \"cubic-bezier(0, 0, 0.2, 1)\",\n      \"ease-in-out\": \"cubic-bezier(0.4, 0, 0.2, 1)\",\n      \"bounce\": \"cubic-bezier(0.68, -0.55, 0.265, 1.55)\"\n    }\n  },\n  \"transition\": {\n    \"button\": {\n      \"default\": \"background-color 300ms cubic-bezier(0, 0, 0.2, 1)\",\n      \"shadow\": \"box-shadow 150ms cubic-bezier(0, 0, 0.2, 1)\"\n    },\n    \"input\": {\n      \"focus\": \"border-color 150ms cubic-bezier(0, 0, 0.2, 1), box-shadow 150ms cubic-bezier(0, 0, 0.2, 1)\"\n    },\n    \"card\": {\n      \"hover\": \"border-color 300ms cubic-bezier(0, 0, 0.2, 1)\"\n    }\n  },\n  \"border\": {\n    \"width\": {\n      \"default\": \"1px\",\n      \"form-element\": \"2px\",\n      \"form-element-error\": \"4px\",\n      \"card-bottom\": \"4px\",\n      \"panel\": \"8px\",\n      \"table-header\": \"2px\",\n      \"table-cell\": \"1px\",\n      \"semantic\": {\n        \"thin\": \"1px\",\n        \"standard\": \"2px\",\n        \"thick\": \"4px\"\n      }\n    },\n    \"radius\": {\n      \"none\": \"0px\",\n      \"small\": \"4px\",\n      \"medium\": \"8px\",\n      \"large\": \"12px\"\n    },\n    \"color\": {\n      \"default\": \"#d8dde0\",\n      \"form\": \"#4c6272\",\n      \"card\": \"#d8dde0\",\n      \"card-hover\": \"#aeb7bd\",\n      \"error\": \"#d5281b\"\n    }\n  },\n  \"color\": {\n    \"primary\": {\n      \"blue\": \"#005eb8\",\n      \"blue-active\": \"#002f5c\",\n      \"white\": \"#ffffff\",\n      \"black\": \"#212b32\",\n      \"green\": \"#007f3b\",\n      \"purple\": \"#330072\",\n      \"dark-pink\": \"#7c2855\",\n      \"red\": \"#d5281b\",\n      \"light-purple\": \"#880fb8\",\n      \"yellow\": \"#ffeb3b\"\n    },\n    \"secondary\": {\n      \"pale-yellow\": \"#fff9c4\",\n      \"warm-yellow\": \"#ffb81c\",\n      \"region-yellow\": \"#fae100\",\n      \"orange\": \"#ed8b00\",\n      \"tangerine\": \"#ed4f00\",\n      \"aqua-green\": \"#00a499\",\n      \"light-blue\": \"#41b6e6\",\n      \"pink\": \"#ae2573\",\n      \"bright-pink\": \"#e317aa\",\n      \"light-green\": \"#78be20\",\n      \"brown\": \"#9a6324\"\n    },\n    \"grey\": {\n      \"1\": \"#4c6272\",\n      \"2\": \"#768692\",\n      \"3\": \"#aeb7bd\",\n      \"4\": \"#d8dde0\",\n      \"5\": \"#f0f4f5\"\n    },\n    \"accessibility\": {\n      \"okabe-ito\": {\n        \"green\": \"#009e73\",\n        \"vermillion\": \"#d55e00\"\n      },\n      \"cvd-safe\": {\n        \"blue\": \"#1f77b4\",\n        \"orange\": \"#ff7f0e\"\n      },\n      \"positive\": \"#009e73\",\n      \"negative\": \"#d55e00\"\n    },\n    \"data-viz\": {\n      \"categorical\": {\n        \"1\": \"#005eb8\",\n        \"2\": \"#41b6e6\",\n        \"3\": \"#00a499\",\n        \"4\": \"#78be20\",\n        \"5\": \"#007f3b\",\n        \"6\": \"#ffb81c\",\n        \"7\": \"#ed4f00\",\n        \"8\": \"#ae2573\",\n        \"9\": \"#e317aa\",\n        \"10\": \"#880fb8\",\n        \"11\": \"#330072\",\n        \"12\": \"#9a6324\"\n      },\n      \"neutral\": {\n        \"comparison\": \"#4c6272\"\n      },\n      \"region\": {\n        \"north-east\": \"#005eb8\",\n        \"north-west\": \"#41b6e6\",\n        \"east-of-england\": \"#330072\",\n        \"midlands\": \"#ae2573\",\n        \"london\": \"#78be21\",\n        \"south-west\": \"#fae100\",\n        \"south-east\": \"#ed8b00\"\n      },\n      \"severity\": {\n        \"low\": \"#fff9c4\",\n        \"moderate\": \"#ffb81c\",\n        \"high\": \"#ed8b00\",\n        \"critical\": \"#d5281b\"\n      },\n      \"org-level\": {\n        \"trust\": \"#005eb8\",\n        \"ambulance\": \"#007f3b\",\n        \"icb\": \"#7c2855\",\n        \"region\": \"#330072\"\n      },\n      \"stroke\": {\n        \"categorical\": {\n          \"1\": \"#ffffff\",\n          \"2\": \"#212b32\",\n          \"3\": \"#212b32\",\n          \"4\": \"#212b32\",\n          \"5\": \"#ffffff\",\n          \"6\": \"#212b32\",\n          \"7\": \"#ffffff\",\n          \"8\": \"#ffffff\",\n          \"9\": \"#ffffff\",\n          \"10\": \"#ffffff\",\n          \"11\": \"#ffffff\",\n          \"12\": \"#ffffff\"\n        },\n        \"region\": {\n          \"north-east\": \"#5996d1\",\n          \"north-west\": \"#3189ad\",\n          \"east-of-england\": \"#7a59a3\",\n          \"midlands\": \"#ca71a4\",\n          \"london\": \"#5a8f19\",\n          \"south-west\": \"#bca900\",\n          \"south-east\": \"#b26800\"\n        },\n        \"severity\": {\n          \"low\": \"#212b32\",\n          \"moderate\": \"#212b32\",\n          \"high\": \"#212b32\",\n          \"critical\": \"#ffffff\"\n        },\n        \"org-level\": {\n          \"trust\": \"#ffffff\",\n          \"ambulance\": \"#ffffff\",\n          \"icb\": \"#ffffff\",\n          \"region\": \"#ffffff\"\n        }\n      },\n      \"spc\": {\n        \"improvement\": \"#00b0f0\",\n        \"concern\": \"#e46c0a\",\n        \"no-judgement\": \"#490092\",\n        \"common-cause\": \"#a6a6a6\",\n        \"assurance-pass\": \"#00823b\",\n        \"assurance-fail\": \"#da291c\",\n        \"gradient\": {\n          \"stop\": {\n            \"start-opacity\": \"0.18\",\n            \"mid-opacity\": \"0.06\",\n            \"end-opacity\": \"0\",\n            \"triangle-start-opacity\": \"0.18\",\n            \"triangle-mid-opacity\": \"0.06\",\n            \"triangle-end-opacity\": \"0\"\n          }\n        },\n        \"stroke\": {\n          \"improvement\": \"#000000\",\n          \"concern\": \"#000000\",\n          \"no-judgement\": \"#000000\",\n          \"common-cause\": \"#ffffff\",\n          \"assurance-pass\": \"#000000\",\n          \"assurance-fail\": \"#000000\"\n        }\n      }\n    }\n  },\n  \"component\": {\n    \"button\": {\n      \"padding\": {\n        \"mobile\": {\n          \"vertical\": \"8px\",\n          \"horizontal\": \"16px\"\n        },\n        \"desktop\": {\n          \"vertical\": \"12px\",\n          \"horizontal\": \"16px\"\n        }\n      },\n      \"shadow\": {\n        \"size\": \"4px\"\n      }\n    },\n    \"form\": {\n      \"input\": {\n        \"min-height\": \"40px\",\n        \"padding\": \"4px\"\n      },\n      \"checkbox\": {\n        \"size\": \"40px\",\n        \"label-padding\": \"12px\"\n      }\n    },\n    \"card\": {\n      \"padding\": {\n        \"mobile\": \"16px\",\n        \"desktop\": \"32px\"\n      },\n      \"heading-margin\": \"16px\"\n    },\n    \"panel\": {\n      \"padding\": {\n        \"mobile\": \"20px\",\n        \"desktop\": \"28px\"\n      }\n    },\n    \"breadcrumb\": {\n      \"chevron\": {\n        \"margin-left\": \"9px\",\n        \"margin-right\": \"2px\"\n      },\n      \"padding-top\": {\n        \"mobile\": \"16px\",\n        \"desktop\": \"24px\"\n      }\n    },\n    \"summary-list\": {\n      \"cell-padding\": {\n        \"vertical\": \"8px\",\n        \"horizontal\": \"24px\"\n      },\n      \"row-margin\": \"16px\"\n    },\n    \"disclosure\": {\n      \"icon-offset\": \"20px\",\n      \"icon-size\": \"32px\",\n      \"icon-position-offset\": \"16px\"\n    },\n    \"icon-text\": {\n      \"gap\": \"38px\",\n      \"gap-small\": \"26px\"\n    },\n    \"warning\": {\n      \"icon-offset\": \"33px\",\n      \"icon-offset-mobile\": \"25px\",\n      \"icon-top\": \"16px\",\n      \"icon-top-mobile\": \"8px\"\n    },\n    \"guidance\": {\n      \"icon-size\": \"34px\",\n      \"icon-position-top\": \"2px\",\n      \"icon-position-top-print\": \"4px\",\n      \"content-padding\": \"40px\",\n      \"content-padding-small\": \"32px\",\n      \"tick-size\": \"28px\"\n    },\n    \"header\": {\n      \"logo-min-width\": \"100px\",\n      \"logo-height\": \"40px\",\n      \"search-button-width\": \"44px\",\n      \"search-icon-size\": \"24px\",\n      \"menu-icon-size\": \"28px\"\n    },\n    \"task\": {\n      \"padding-adjustment\": \"4px\"\n    },\n    \"tag\": {\n      \"padding-adjustment\": \"2px\"\n    },\n    \"tabs\": {\n      \"border-width\": \"1px\",\n      \"border-compensation\": \"1px\",\n      \"padding-multiplier\": \"1.5\"\n    },\n    \"details\": \"8px\",\n    \"navigation\": {\n      \"dropdown\": {\n        \"item-padding\": \"6px\",\n        \"logo-margin\": \"32px\"\n      }\n    },\n    \"expander\": \"4px\",\n    \"print\": {\n      \"icon-adjustment\": \"4px\",\n      \"logo-height\": \"32px\"\n    },\n    \"spread\": \"4px\",\n    \"blur\": \"4px\",\n    \"link\": \"4px\",\n    \"pagination\": \"16px\"\n  },\n  \"button\": {\n    \"primary\": {\n      \"background\": {\n        \"default\": \"#007f3b\",\n        \"hover\": \"#006530\",\n        \"active\": \"#00401e\",\n        \"disabled\": \"#d8dde0\"\n      },\n      \"text\": {\n        \"default\": \"#ffffff\",\n        \"disabled\": \"#768692\"\n      },\n      \"border\": {\n        \"default\": \"#00000000\",\n        \"focus\": \"#ffeb3b\"\n      }\n    },\n    \"secondary\": {\n      \"background\": {\n        \"default\": \"#00000000\",\n        \"solid\": \"#ffffff\",\n        \"hover\": \"#d9e5f2\",\n        \"active\": \"#c7daf0\"\n      },\n      \"text\": {\n        \"default\": \"#005eb8\"\n      },\n      \"border\": {\n        \"default\": \"#005eb8\"\n      }\n    },\n    \"spacing\": {\n      \"padding-vertical-mobile\": \"8px\",\n      \"padding-horizontal-mobile\": \"16px\",\n      \"padding-vertical-desktop\": \"12px\",\n      \"padding-horizontal-desktop\": \"16px\"\n    },\n    \"border\": {\n      \"width\": \"2px\",\n      \"radius\": \"4px\"\n    },\n    \"shadow\": {\n      \"size\": \"4px\"\n    },\n    \"typography\": {\n      \"weight\": \"600\"\n    }\n  },\n  \"card\": {\n    \"background\": {\n      \"default\": \"#ffffff\"\n    },\n    \"border\": {\n      \"default\": \"#d8dde0\",\n      \"hover\": \"#aeb7bd\",\n      \"bottom\": \"#f0f4f5\"\n    },\n    \"text\": {\n      \"heading\": \"#212b32\",\n      \"description\": \"#212b32\",\n      \"link\": \"#005eb8\"\n    },\n    \"spacing\": {\n      \"padding-mobile\": \"16px\",\n      \"padding-desktop\": \"32px\",\n      \"heading-margin\": \"16px\"\n    },\n    \"border-width\": {\n      \"default\": \"1px\",\n      \"bottom\": \"4px\"\n    },\n    \"shadow\": {\n      \"default\": \"none\",\n      \"hover\": \"0 2px 4px rgba(0, 0, 0, 0.1)\"\n    }\n  },\n  \"form\": {\n    \"input\": {\n      \"background\": {\n        \"default\": \"#ffffff\",\n        \"focus\": \"#ffffff\",\n        \"disabled\": \"#f0f4f5\",\n        \"error\": \"#ffffff\"\n      },\n      \"border\": {\n        \"default\": \"#4c6272\",\n        \"focus\": \"#ffeb3b\",\n        \"error\": \"#d5281b\",\n        \"disabled\": \"#aeb7bd\"\n      },\n      \"text\": {\n        \"default\": \"#212b32\",\n        \"placeholder\": \"#4c6272\",\n        \"disabled\": \"#768692\"\n      }\n    },\n    \"label\": {\n      \"text\": {\n        \"default\": \"#212b32\",\n        \"required\": \"#d5281b\"\n      },\n      \"typography\": {\n        \"weight\": \"600\"\n      }\n    },\n    \"error\": {\n      \"text\": {\n        \"default\": \"#d5281b\"\n      },\n      \"typography\": {\n        \"weight\": \"600\"\n      }\n    },\n    \"hint\": {\n      \"text\": {\n        \"default\": \"#4c6272\"\n      }\n    },\n    \"spacing\": {\n      \"input-padding\": \"4px\",\n      \"input-min-height\": \"40px\",\n      \"checkbox-size\": \"40px\",\n      \"checkbox-label-padding\": \"12px\"\n    },\n    \"border\": {\n      \"width-default\": \"2px\",\n      \"width-error\": \"4px\",\n      \"radius\": \"0px\"\n    }\n  },\n  \"tag\": {\n    \"default\": {\n      \"background\": \"#004c96\",\n      \"border\": \"#004c96\",\n      \"text\": \"#ffffff\"\n    },\n    \"white\": {\n      \"background\": \"#ffffff\",\n      \"border\": \"#212b32\",\n      \"text\": \"#212b32\"\n    },\n    \"grey\": {\n      \"background\": \"#dbe0e3\",\n      \"border\": \"#354550\",\n      \"text\": \"#354550\"\n    },\n    \"green\": {\n      \"background\": \"#cce5d8\",\n      \"border\": \"#004c23\",\n      \"text\": \"#004c23\"\n    },\n    \"aqua-green\": {\n      \"background\": \"#ccedeb\",\n      \"border\": \"#00524d\",\n      \"text\": \"#00524d\"\n    },\n    \"blue\": {\n      \"background\": \"#ccdff1\",\n      \"border\": \"#004281\",\n      \"text\": \"#004281\"\n    },\n    \"purple\": {\n      \"background\": \"#d6cce3\",\n      \"border\": \"#240050\",\n      \"text\": \"#240050\"\n    },\n    \"pink\": {\n      \"background\": \"#efd3e3\",\n      \"border\": \"#57133a\",\n      \"text\": \"#57133a\"\n    },\n    \"red\": {\n      \"background\": \"#f7d4d1\",\n      \"border\": \"#6b140e\",\n      \"text\": \"#6b140e\"\n    },\n    \"orange\": {\n      \"background\": \"#ffdc8e\",\n      \"border\": \"#4d3708\",\n      \"text\": \"#4d3708\"\n    },\n    \"yellow\": {\n      \"background\": \"#fff59d\",\n      \"border\": \"#4d4712\",\n      \"text\": \"#4d4712\"\n    }\n  },\n  \"diagram\": {\n    \"flowchart\": {\n      \"decision\": {\n        \"fill\": \"#fff3e0\",\n        \"stroke\": \"#f57c00\",\n        \"text\": \"#4e342e\"\n      },\n      \"auto\": {\n        \"fill\": \"#e3f2fd\",\n        \"stroke\": \"#1976d2\",\n        \"text\": \"#0d47a1\"\n      },\n      \"action\": {\n        \"fill\": \"#e8f5e9\",\n        \"stroke\": \"#388e3c\",\n        \"text\": \"#1b5e20\"\n      },\n      \"warning\": {\n        \"fill\": \"#ffebee\",\n        \"stroke\": \"#d32f2f\",\n        \"text\": \"#b71c1c\"\n      }\n    },\n    \"mermaid\": {\n      \"class\": {\n        \"decision\": {\n          \"fill\": \"#fff3e0\",\n          \"stroke\": \"#f57c00\",\n          \"text\": \"#4e342e\"\n        },\n        \"auto\": {\n          \"fill\": \"#e3f2fd\",\n          \"stroke\": \"#1976d2\",\n          \"text\": \"#0d47a1\"\n        },\n        \"action\": {\n          \"fill\": \"#e8f5e9\",\n          \"stroke\": \"#388e3c\",\n          \"text\": \"#1b5e20\"\n        },\n        \"warning\": {\n          \"fill\": \"#ffebee\",\n          \"stroke\": \"#d32f2f\",\n          \"text\": \"#b71c1c\"\n        }\n      }\n    }\n  },\n  \"size\": {\n    \"icon\": {\n      \"small\": \"16px\",\n      \"medium\": \"18px\",\n      \"large\": \"24px\",\n      \"extra-large\": \"32px\",\n      \"nhs-default\": \"34px\"\n    },\n    \"form\": {\n      \"control\": {\n        \"small\": \"32px\",\n        \"medium\": \"40px\",\n        \"large\": \"48px\"\n      },\n      \"input-width\": {\n        \"xs\": \"5.4ex\",\n        \"sm\": \"7.2ex\",\n        \"md\": \"9ex\",\n        \"lg\": \"10.8ex\",\n        \"xl\": \"20ex\",\n        \"2xl\": \"38ex\",\n        \"3xl\": \"56ex\"\n      }\n    },\n    \"button\": {\n      \"min-height\": {\n        \"mobile\": \"44px\",\n        \"desktop\": \"40px\"\n      }\n    }\n  },\n  \"layout\": {\n    \"container\": {\n      \"max-width\": \"1020px\"\n    },\n    \"column\": {\n      \"full\": \"100%\",\n      \"half\": \"50%\",\n      \"third\": \"33.333%\",\n      \"quarter\": \"25%\",\n      \"actions\": \"20%\"\n    },\n    \"margin\": {\n      \"negative-thin\": \"-1px\",\n      \"negative-standard\": \"-2px\"\n    },\n    \"gap\": {\n      \"minimal\": \"1px\",\n      \"small\": \"6px\"\n    }\n  },\n  \"breakpoint\": {\n    \"small\": \"320px\",\n    \"small-max\": \"767px\",\n    \"medium\": \"768px\",\n    \"large\": \"1025px\",\n    \"xlarge\": \"1200px\",\n    \"xxlarge\": \"1440px\"\n  },\n  \"grid\": {\n    \"page-width\": \"960px\",\n    \"gutter\": \"32px\",\n    \"gutter-half\": \"16px\"\n  },\n  \"gradient\": {\n    \"metric-card\": {\n      \"primary\": \"linear-gradient(135deg, rgba(0,94,184,0.05), #ffffff)\",\n      \"secondary\": \"linear-gradient(135deg, rgba(136,15,184,0.06), #ffffff)\",\n      \"accent\": \"linear-gradient(135deg, rgba(255,184,28,0.10), #ffffff)\",\n      \"success\": \"linear-gradient(135deg, rgba(0,164,153,0.10), #ffffff)\",\n      \"warning\": \"linear-gradient(135deg, rgba(237,79,0,0.10), #ffffff)\",\n      \"error\": \"linear-gradient(135deg, rgba(213,40,27,0.10), #ffffff)\"\n    }\n  },\n  \"semantic\": {\n    \"intent-hover\": {\n      \"primary\": \"darken(#007f3b, 10%)\",\n      \"secondary\": \"darken(#005eb8, 10%)\",\n      \"warning\": \"darken(#d5281b, 10%)\"\n    },\n    \"intent-active\": {\n      \"primary\": \"darken(#007f3b, 20%)\",\n      \"secondary\": \"darken(#005eb8, 20%)\",\n      \"warning\": \"darken(#d5281b, 20%)\"\n    },\n    \"intent-light\": {\n      \"primary\": \"lighten(#007f3b, 40%)\",\n      \"secondary\": \"lighten(#005eb8, 40%)\",\n      \"warning\": \"lighten(#d5281b, 40%)\"\n    },\n    \"context\": {\n      \"form\": {\n        \"background\": {\n          \"error\": \"lighten(#d5281b, 40%)\",\n          \"success\": \"lighten(#007f3b, 40%)\",\n          \"default\": \"#ffffff\",\n          \"disabled\": \"#d8dde0\",\n          \"readonly\": \"#e8edee\"\n        },\n        \"border\": {\n          \"default\": \"#4c6272\",\n          \"focus\": \"#005eb8\",\n          \"error\": \"#d5281b\",\n          \"success\": \"#007f3b\"\n        },\n        \"text\": {\n          \"default\": \"#212b32\",\n          \"placeholder\": \"#768692\",\n          \"disabled\": \"#768692\",\n          \"error\": \"#d5281b\"\n        }\n      },\n      \"navigation\": {\n        \"background\": {\n          \"header\": \"#005eb8\",\n          \"footer\": \"#005eb8\",\n          \"sidebar\": \"#ffffff\"\n        },\n        \"text\": {\n          \"primary\": \"#ffffff\",\n          \"secondary\": \"#ffffffcc\",\n          \"active\": \"#ffeb3b\"\n        },\n        \"accent\": {\n          \"hover\": \"#ffffff1a\",\n          \"active\": \"#ffffff33\",\n          \"border\": \"#ffeb3b\"\n        }\n      },\n      \"content\": {\n        \"background\": {\n          \"primary\": \"#ffffff\",\n          \"secondary\": \"#d8dde0\",\n          \"elevated\": \"#ffffff\"\n        },\n        \"text\": {\n          \"primary\": \"#212b32\",\n          \"secondary\": \"#4c6272\",\n          \"tertiary\": \"#768692\"\n        },\n        \"accent\": {\n          \"link\": \"#005eb8\",\n          \"highlight\": \"#ffeb3b\",\n          \"border\": \"#e8edee\"\n        }\n      }\n    },\n    \"intent\": {\n      \"primary\": \"#007f3b\",\n      \"secondary\": \"#005eb8\",\n      \"warning\": \"#d5281b\",\n      \"success\": \"#007f3b\",\n      \"neutral\": \"#4c6272\",\n      \"info\": \"#005eb8\"\n    },\n    \"surface\": {\n      \"elevation\": {\n        \"0\": \"#ffffff\",\n        \"1\": \"#ffffff\",\n        \"2\": \"#ffffff\",\n        \"3\": \"#ffffff\"\n      },\n      \"interactive\": {\n        \"default\": \"#ffffff\",\n        \"hover\": \"#d8dde0\",\n        \"active\": \"#e8edee\",\n        \"selected\": \"#005eb81a\"\n      }\n    },\n    \"data-viz\": {\n      \"series\": {\n        \"1\": \"#005eb8\",\n        \"2\": \"#41b6e6\",\n        \"3\": \"#00a499\",\n        \"4\": \"#78be20\",\n        \"5\": \"#007f3b\",\n        \"6\": \"#ffb81c\",\n        \"7\": \"#ed4f00\",\n        \"8\": \"#ae2573\",\n        \"9\": \"#e317aa\",\n        \"10\": \"#880fb8\",\n        \"11\": \"#330072\",\n        \"12\": \"#9a6324\"\n      },\n      \"region\": {\n        \"north-east\": \"#005eb8\",\n        \"north-west\": \"#41b6e6\",\n        \"east-of-england\": \"#330072\",\n        \"midlands\": \"#ae2573\",\n        \"london\": \"#78be21\",\n        \"south-west\": \"#fae100\",\n        \"south-east\": \"#ed8b00\"\n      },\n      \"severity\": {\n        \"low\": \"#fff9c4\",\n        \"moderate\": \"#ffb81c\",\n        \"high\": \"#ed8b00\",\n        \"critical\": \"#d5281b\"\n      },\n      \"org-level\": {\n        \"trust\": \"#005eb8\",\n        \"ambulance\": \"#007f3b\",\n        \"icb\": \"#7c2855\",\n        \"region\": \"#330072\"\n      },\n      \"stroke\": {\n        \"series\": {\n          \"1\": \"#ffffff\",\n          \"2\": \"#212b32\",\n          \"3\": \"#212b32\",\n          \"4\": \"#212b32\",\n          \"5\": \"#ffffff\",\n          \"6\": \"#212b32\",\n          \"7\": \"#ffffff\",\n          \"8\": \"#ffffff\",\n          \"9\": \"#ffffff\",\n          \"10\": \"#ffffff\",\n          \"11\": \"#ffffff\",\n          \"12\": \"#ffffff\"\n        },\n        \"region\": {\n          \"north-east\": \"#5996d1\",\n          \"north-west\": \"#3189ad\",\n          \"east-of-england\": \"#7a59a3\",\n          \"midlands\": \"#ca71a4\",\n          \"london\": \"#5a8f19\",\n          \"south-west\": \"#bca900\",\n          \"south-east\": \"#b26800\"\n        },\n        \"severity\": {\n          \"low\": \"#212b32\",\n          \"moderate\": \"#212b32\",\n          \"high\": \"#212b32\",\n          \"critical\": \"#ffffff\"\n        },\n        \"org-level\": {\n          \"trust\": \"#ffffff\",\n          \"ambulance\": \"#ffffff\",\n          \"icb\": \"#ffffff\",\n          \"region\": \"#ffffff\"\n        }\n      }\n    },\n    \"relationship\": {\n      \"parent-child\": {\n        \"card\": {\n          \"background\": \"#ffffff\",\n          \"content\": {\n            \"background\": \"calculated-lighten(#ffffff, 2%)\",\n            \"text\": \"auto-contrast(calculated-lighten(#ffffff, 2%))\"\n          },\n          \"header\": {\n            \"background\": \"calculated-darken(#ffffff, 3%)\",\n            \"text\": \"auto-contrast(calculated-darken(#ffffff, 3%))\"\n          }\n        },\n        \"panel\": {\n          \"background\": \"#ffffff\",\n          \"border\": \"calculated-darken(#ffffff, 15%)\",\n          \"content\": {\n            \"text\": \"auto-contrast(#ffffff)\"\n          }\n        }\n      },\n      \"state-propagation\": {\n        \"interactive\": {\n          \"default\": \"#007f3b\",\n          \"hover\": \"calculated-darken(#007f3b, 10%)\",\n          \"active\": \"calculated-darken(#007f3b, 20%)\",\n          \"disabled\": \"calculated-fade(#007f3b, 40%)\"\n        },\n        \"button\": {\n          \"primary\": {\n            \"background\": \"#007f3b\",\n            \"hover\": \"calculated-darken(#007f3b, 10%)\",\n            \"active\": \"calculated-darken(#007f3b, 20%)\"\n          },\n          \"secondary\": {\n            \"background\": \"#00000000\",\n            \"border\": \"#005eb8\",\n            \"hover\": \"calculated-tint(#005eb8, 90%)\"\n          }\n        }\n      }\n    },\n    \"color\": {\n      \"text\": {\n        \"primary\": \"#212b32\",\n        \"secondary\": \"#4c6272\",\n        \"reverse\": \"#ffffff\",\n        \"print\": \"#212b32\"\n      },\n      \"link\": {\n        \"default\": \"#005eb8\",\n        \"hover\": \"#7c2855\",\n        \"active\": \"#003087\",\n        \"visited\": \"#330072\"\n      },\n      \"focus\": {\n        \"background\": \"#ffeb3b\",\n        \"text\": \"#212b32\"\n      },\n      \"border\": {\n        \"default\": \"#d8dde0\",\n        \"secondary\": \"#ffffff33\"\n      },\n      \"error\": \"#d5281b\",\n      \"form\": {\n        \"border\": \"#4c6272\",\n        \"background\": \"#ffffff\"\n      },\n      \"hover\": {\n        \"subtle\": \"#e8edee\",\n        \"header-link\": \"#3a71a6\"\n      },\n      \"active\": {\n        \"header-link\": \"#002c5c\"\n      },\n      \"button\": {\n        \"primary\": {\n          \"background\": \"#007f3b\",\n          \"text\": \"#ffffff\",\n          \"hover\": \"#006530\",\n          \"active\": \"#00401e\",\n          \"shadow\": \"#00401e\"\n        },\n        \"secondary\": {\n          \"background\": \"#00000000\",\n          \"background-solid\": \"#ffffff\",\n          \"border\": \"#005eb8\",\n          \"text\": \"#005eb8\",\n          \"hover\": \"#d9e5f2\",\n          \"active\": \"#c7daf0\",\n          \"shadow\": \"#005eb8\"\n        },\n        \"reverse\": {\n          \"background\": \"#ffffff\",\n          \"text\": \"#212b32\",\n          \"hover\": \"#d9dde0\",\n          \"active\": \"#b3bcc2\",\n          \"shadow\": \"#b3bcc2\"\n        },\n        \"warning\": {\n          \"background\": \"#d5281b\",\n          \"hover\": \"#aa2016\",\n          \"active\": \"#6a140e\",\n          \"shadow\": \"#6a140e\"\n        },\n        \"login\": {\n          \"background\": \"#005eb8\",\n          \"hover\": \"#004b93\",\n          \"active\": \"#002f5c\",\n          \"shadow\": \"#002f5c\"\n        }\n      }\n    }\n  },\n  \"shadow\": {\n    \"button\": {\n      \"default\": \"0 4px 0 #00401e\",\n      \"secondary\": \"0 4px 0 #005eb8\",\n      \"warning\": \"0 4px 0 #6a140e\",\n      \"focus\": \"0 4px 0 #ffeb3b\"\n    },\n    \"card\": {\n      \"default\": \"none\",\n      \"hover\": \"0 2px 4px rgba(0, 0, 0, 0.1)\"\n    }\n  },\n  \"focus-outline\": {\n    \"width\": \"4px\",\n    \"offset\": \"0px\",\n    \"style\": \"solid\"\n  },\n  \"focus-shadow\": {\n    \"input\": \"0 0 0 3px #ffeb3b\",\n    \"button\": \"0 0 0 3px #ffeb3b\",\n    \"link-pattern\": \"0 -2px #ffeb3b, 0 4px #212b32\"\n  },\n  \"focus-box-shadow\": {\n    \"offset-top\": \"-2px\",\n    \"offset-bottom\": \"4px\"\n  },\n  \"elevation\": {\n    \"none\": \"none\",\n    \"low\": \"0 1px 3px rgba(0, 0, 0, 0.12)\",\n    \"medium\": \"0 2px 6px rgba(0, 0, 0, 0.16)\",\n    \"high\": \"0 4px 12px rgba(0, 0, 0, 0.20)\"\n  },\n  \"spacing\": {\n    \"0\": \"0\",\n    \"1\": \"4px\",\n    \"2\": \"8px\",\n    \"3\": \"16px\",\n    \"4\": \"24px\",\n    \"5\": \"32px\",\n    \"6\": \"40px\",\n    \"7\": \"48px\",\n    \"8\": \"56px\",\n    \"9\": \"64px\"\n  },\n  \"spacing-responsive\": {\n    \"0\": {\n      \"mobile\": \"0\",\n      \"tablet\": \"0\"\n    },\n    \"1\": {\n      \"mobile\": \"4px\",\n      \"tablet\": \"4px\"\n    },\n    \"2\": {\n      \"mobile\": \"8px\",\n      \"tablet\": \"8px\"\n    },\n    \"3\": {\n      \"mobile\": \"8px\",\n      \"tablet\": \"16px\"\n    },\n    \"4\": {\n      \"mobile\": \"16px\",\n      \"tablet\": \"24px\"\n    },\n    \"5\": {\n      \"mobile\": \"24px\",\n      \"tablet\": \"32px\"\n    },\n    \"6\": {\n      \"mobile\": \"32px\",\n      \"tablet\": \"40px\"\n    },\n    \"7\": {\n      \"mobile\": \"40px\",\n      \"tablet\": \"48px\"\n    },\n    \"8\": {\n      \"mobile\": \"48px\",\n      \"tablet\": \"56px\"\n    },\n    \"9\": {\n      \"mobile\": \"56px\",\n      \"tablet\": \"64px\"\n    }\n  },\n  \"theme\": {\n    \"light\": {\n      \"semantic\": {\n        \"intent\": {\n          \"primary\": \"#007f3b\",\n          \"secondary\": \"#005eb8\",\n          \"warning\": \"#d5281b\",\n          \"success\": \"#007f3b\",\n          \"neutral\": \"#4c6272\",\n          \"info\": \"#005eb8\"\n        },\n        \"surface\": {\n          \"background\": {\n            \"primary\": \"#ffffff\",\n            \"secondary\": \"#f0f4f5\",\n            \"elevated\": \"#ffffff\"\n          },\n          \"text\": {\n            \"primary\": \"#212b32\",\n            \"secondary\": \"#4c6272\",\n            \"tertiary\": \"#768692\",\n            \"inverse\": \"#ffffff\"\n          },\n          \"border\": {\n            \"default\": \"#d8dde0\",\n            \"subtle\": \"#f0f4f5\",\n            \"strong\": \"#768692\"\n          }\n        }\n      }\n    },\n    \"dark\": {\n      \"semantic\": {\n        \"intent\": {\n          \"primary\": \"lighten(#007f3b, 20%)\",\n          \"secondary\": \"lighten(#005eb8, 25%)\",\n          \"warning\": \"lighten(#d5281b, 15%)\",\n          \"success\": \"lighten(#007f3b, 20%)\",\n          \"neutral\": \"#aeb7bd\",\n          \"info\": \"lighten(#005eb8, 25%)\"\n        },\n        \"surface\": {\n          \"background\": {\n            \"primary\": \"darken(#212b32, 5%)\",\n            \"secondary\": \"lighten(#212b32, 8%)\",\n            \"elevated\": \"lighten(#212b32, 12%)\"\n          },\n          \"text\": {\n            \"primary\": \"fade(#ffffff, 95%)\",\n            \"secondary\": \"fade(#ffffff, 80%)\",\n            \"tertiary\": \"fade(#ffffff, 60%)\",\n            \"inverse\": \"#212b32\"\n          },\n          \"border\": {\n            \"default\": \"fade(#ffffff, 20%)\",\n            \"subtle\": \"fade(#ffffff, 10%)\",\n            \"strong\": \"fade(#ffffff, 40%)\"\n          }\n        }\n      }\n    }\n  },\n  \"font\": {\n    \"family\": {\n      \"base\": \"Frutiger W01\",\n      \"fallback\": \"Arial, sans-serif\",\n      \"print\": \"sans-serif\"\n    },\n    \"weight\": {\n      \"normal\": \"400\",\n      \"bold\": \"600\",\n      \"light\": \"400\"\n    },\n    \"size\": {\n      \"14\": {\n        \"desktop\": \"14px\",\n        \"mobile\": \"12px\",\n        \"tablet\": \"14px\",\n        \"print\": \"12pt\"\n      },\n      \"16\": {\n        \"desktop\": \"16px\",\n        \"mobile\": \"14px\",\n        \"tablet\": \"16px\",\n        \"print\": \"12pt\"\n      },\n      \"19\": {\n        \"desktop\": \"19px\",\n        \"mobile\": \"16px\",\n        \"tablet\": \"19px\",\n        \"print\": \"13pt\"\n      },\n      \"22\": {\n        \"desktop\": \"22px\",\n        \"mobile\": \"19px\",\n        \"tablet\": \"22px\",\n        \"print\": \"15pt\"\n      },\n      \"26\": {\n        \"desktop\": \"26px\",\n        \"mobile\": \"22px\",\n        \"tablet\": \"26px\",\n        \"print\": \"17pt\"\n      },\n      \"36\": {\n        \"desktop\": \"36px\",\n        \"mobile\": \"27px\",\n        \"tablet\": \"36px\",\n        \"print\": \"20pt\"\n      },\n      \"48\": {\n        \"desktop\": \"48px\",\n        \"mobile\": \"33px\",\n        \"tablet\": \"48px\",\n        \"print\": \"24pt\"\n      },\n      \"base\": \"16px\"\n    },\n    \"line-height\": {\n      \"14\": {\n        \"desktop\": \"24px\",\n        \"mobile\": \"20px\",\n        \"tablet\": \"24px\",\n        \"print\": \"1.3\"\n      },\n      \"16\": {\n        \"desktop\": \"24px\",\n        \"mobile\": \"24px\",\n        \"tablet\": \"24px\",\n        \"print\": \"1.3\"\n      },\n      \"19\": {\n        \"desktop\": \"24px\",\n        \"mobile\": \"24px\",\n        \"tablet\": \"28px\",\n        \"print\": \"1.25\"\n      },\n      \"22\": {\n        \"desktop\": \"30px\",\n        \"mobile\": \"27px\",\n        \"tablet\": \"30px\",\n        \"print\": \"1.25\"\n      },\n      \"26\": {\n        \"desktop\": \"32px\",\n        \"mobile\": \"29px\",\n        \"tablet\": \"32px\",\n        \"print\": \"1.25\"\n      },\n      \"36\": {\n        \"desktop\": \"42px\",\n        \"mobile\": \"33px\",\n        \"tablet\": \"42px\",\n        \"print\": \"1.2\"\n      },\n      \"48\": {\n        \"desktop\": \"54px\",\n        \"mobile\": \"38px\",\n        \"tablet\": \"54px\",\n        \"print\": \"1.15\"\n      },\n      \"base\": \"24px\"\n    }\n  }\n}\n", "import React, { useId, useMemo } from \"react\";\nimport { tokenColour, getGradientOpacities } from \"./tokenUtils\";\nimport {\n\tcomputePointPositions,\n\tDirection,\n\tgetVariationColour,\n\tgetVariationTrend,\n\tMetricPolarity,\n\tPoint,\n\tVariationJudgement,\n\tVariationState,\n} from \"./SPCConstants\";\n\n// Token utilities now sourced from shared tokenUtils module.\n// Import VariationIcon enum from SPC engine to permit direct usage with icon component.\n// Updated: point to advanced SPC engine (legacy ../../xmr/spc path removed during refactor)\nimport { VariationIcon as SpcEngineVariationIcon, ImprovementDirection } from \"../SPCChart/types\";\nimport { SpcEmbeddedIconVariant, LetterMode, SpcLetterGlyph } from \"../SPCChart/SPCChart.constants\";\n\n// Friendly alias exported for consumers who want to pass just the engine icon key\nexport type SpcEngineIconPayload = {\n\tvariationIcon: SpcEngineVariationIcon;\n\ttrend?: Direction;\n\tpolarity?: MetricPolarity;\n};\n\n// (Removed duplicate local colour system; rely on canonical palette & helpers from SPCConstants.)\n\n// --- Point layout system ----------------------------------------------------\n// We render five recent data points; their vertical positions vary with state + direction\n// Coordinates are in icon space (300x300). We preserve r=16.\n// Chosen layouts (provided examples):\n// - special cause (current \"higher\" pattern)       : existing original coordinates\n// - special cause (\"lower\" pattern)                : alternate set provided\n// - common cause (neutral variation)               : all grey positions provided\n// - special cause no judgement uses direction to choose between higher/lower layout\n\n/**\n * Payload driving the variation icon.\n *\n * The `state` determines the SPC classification (special cause improving/deteriorating,\n * common cause or special cause with no judgement) and therefore the colour.\n * The optional `trend/direction` explicitly controls whether the variation is moving\n * higher or lower relative to the baseline. This allows all eight logical\n * permutations (state \u00D7 trend) to be specified directly. When omitted,\n * a trend will be derived for special cause improving/deteriorating states\n * only; other states will default to 'higher'.\n *\n * `polarity` is retained for alt\u2011text copy but has no effect on colour or\n * letter rendering.\n */\n/**\n * @deprecated Use engine-aligned payload: { variationIcon, improvementDirection, specialCauseNeutral?, trend? }\n * Retained temporarily for backward compatibility. Will be removed in a future minor version once downstream usages migrate.\n */\nexport interface SpcVariationPayload {\n\tstate: VariationState;\n\ttrend?: Direction; // explicitly choose geometry (higher/lower)\n\tpolarity?: MetricPolarity;\n}\n\n// New: direct engine variation icon payload (maps engine-level VariationIcon enum to a state)\nexport interface SpcVariationEngineIconPayload {\n\tvariationIcon: SpcEngineVariationIcon;\n\ttrend?: Direction; // orientation override\n\tpolarity?: MetricPolarity; // optional explicit polarity\n\timprovementDirection?: ImprovementDirection; // engine-style polarity input (preferred over polarity when provided)\n\tspecialCauseNeutral?: boolean; // distinguishes neutral special-cause (purple) from common cause when variationIcon === Neither\n\thighSideSignal?: boolean; // optional side hint for neutral special-cause arrow orientation\n\tlowSideSignal?: boolean; // optional side hint for neutral special-cause arrow orientation\n}\n\n/**\n * V2 (derivable) payload \u2013 supply semantic \"what we know\" and let the icon infer \"how to draw\".\n *\n * Inputs\n *  - judgement: SPC variation judgement at the most recent point.\n *      * improving        -> maps to VariationState.SpecialCauseImproving (special cause, positive)\n *      * deteriorating    -> maps to VariationState.SpecialCauseDeteriorating (special cause, negative)\n *      * no_judgement     -> maps to VariationState.SpecialCauseNoJudgement (special cause detected but cannot label direction)\n *      * none             -> maps to VariationState.CommonCause (no special cause)\n *  - polarity: MetricPolarity describing whether higher values are desirable, lower are desirable, or it is context dependent.\n *  - trend (optional): Explicit geometric direction (higher / lower). Only used / needed when the judgement itself does\n *    not imply a direction (no_judgement, none) OR when inference would be ambiguous (e.g. polarity context dependent).\n *\n * Derivation Logic (implemented in resolveStateAndLayout):\n *  1. State mapping is direct from judgement (see above).\n *  2. Direction inference:\n *      a. If judgement is Improving:\n *           - If polarity === LowerIsBetter, a reduction is desirable so the trend is considered Lower.\n *           - Otherwise (HigherIsBetter or ContextDependent), assume Higher.\n *      b. If judgement is Deteriorating:\n *           - If polarity === LowerIsBetter, an increase is undesirable -> direction inferred Higher.\n *           - Otherwise, inferred Lower.\n *      c. If judgement is No_Judgement or None:\n *           - We cannot infer reliably; use provided trend prop or fall back to Higher as a neutral default.\n *  3. Polarity is carried through for potential use in externally generated aria text / tooltips but does not\n *     currently alter colour once state is fixed (colour is keyed solely by final VariationState).\n *\n * Rendering Effects of Derived Values:\n *  - state selects the colour (ring, letter, special glyph) via getVariationColour(state).\n *  - direction selects which set of 5 point coordinates are used (higher vs lower layout) via computePointPositions.\n *  - letter (H / L) is only rendered when judgement is Improving or Deteriorating; it reflects the final direction.\n *  - SpecialCauseNoJudgement renders the purple arrow glyph; direction rotates / orients that glyph.\n *  - CommonCause (state = common cause) suppresses letter and arrow; all points render grey and the ring is grey.\n *  - Special cause states colour the last two data points; common cause keeps all points grey.\n *\n * When to Provide trend explicitly:\n *  - Always for judgement = No_Judgement or None (otherwise a default of Higher is applied which may misrepresent geometry).\n *  - Optionally for Improving/Deteriorating if you wish to override the inferred direction (rare; would make semantics inconsistent).\n *\n * Examples:\n *  { judgement: Improving, polarity: HigherIsBetter } -> state special_cause_improving, direction higher, letter H\n *  { judgement: Improving, polarity: LowerIsBetter }  -> state special_cause_improving, direction lower,  letter L\n *  { judgement: Deteriorating, polarity: HigherIsBetter } -> state special_cause_deteriorating, direction lower,  letter L\n *  { judgement: Deteriorating, polarity: LowerIsBetter }  -> state special_cause_deteriorating, direction higher, letter H\n *  { judgement: No_Judgement, polarity: HigherIsBetter, trend: Lower } -> state special_cause_no_judgement, direction lower, arrow rotated, no letter\n *  { judgement: None, polarity: ContextDependent, trend: Higher } -> state common_cause, direction higher, grey ring, no letter\n */\n/**\n * @deprecated Supply engine payload instead. If you still need automatic letter orientation, pass improvementDirection and omit trend.\n */\nexport interface SpcVariationDerivePayload {\n\tjudgement: VariationJudgement;\n\tpolarity: MetricPolarity;\n\ttrend?: Direction; // required when judgement is no_judgement/none OR polarity is context_dependent\n}\n\nexport type SpcVariationInput =\n\t| SpcVariationPayload\n\t| SpcVariationDerivePayload\n\t| SpcVariationParsimonious\n\t| SpcVariationEngineIconPayload;\n\n/**\n * Strict, parsimonious V2 shape \u2014 requires orientation when judgement is neutral\n * or when polarity is context-dependent. This enforces compile-time clarity.\n */\n/**\n * @deprecated Parsimonious form superseded by engine payload. Prefer { variationIcon, improvementDirection, specialCauseNeutral }.\n */\nexport type SpcVariationParsimonious =\n\t| {\n\t\t\tjudgement: VariationJudgement.Improving;\n\t\t\tpolarity: MetricPolarity.HigherIsBetter | MetricPolarity.LowerIsBetter;\n\t  }\n\t| {\n\t\t\tjudgement: VariationJudgement.Deteriorating;\n\t\t\tpolarity: MetricPolarity.HigherIsBetter | MetricPolarity.LowerIsBetter;\n\t  }\n\t| {\n\t\t\tjudgement: VariationJudgement.No_Judgement;\n\t\t\tpolarity: MetricPolarity;\n\t\t\ttrend: Direction;\n\t  }\n\t| {\n\t\t\tjudgement: VariationJudgement.None;\n\t\t\tpolarity: MetricPolarity;\n\t\t\ttrend: Direction;\n\t  };\n\nexport interface SpcVariationAltIconProps extends SpcIconBaseProps {\n\tdata: SpcVariationParsimonious;\n}\n\n/**\n * Normalise either V1 (state/layout) or V2 (judgement+polarity) into { state, layout, polarity } for rendering.\n */\nconst resolveStateAndLayout = (\n\tinput: SpcVariationInput\n): {\n\tstate: VariationState;\n\tdirection: Direction;\n\tpolarity: MetricPolarity;\n} => {\n\t// Runtime deprecation warning (fires once) for legacy payloads (state / judgement forms)\n\tconst emitDeprecation = () => {\n\t\tif (!(globalThis as any).__spcIconDeprecationEmitted) {\n\t\t\tconsole.warn(\n\t\t\t\t\"[SPCVariationIcon] Deprecated payload shape detected. Migrate to { variationIcon, improvementDirection, specialCauseNeutral?, trend? }.\"\n\t\t\t);\n\t\t\t(globalThis as any).__spcIconDeprecationEmitted = true;\n\t\t}\n\t};\n\t// Engine VariationIcon mapping support\n\tif ((input as SpcVariationEngineIconPayload).variationIcon !== undefined) {\n\t\tconst eng = input as SpcVariationEngineIconPayload;\n\t\t// Determine polarity preference: improvementDirection overrides explicit polarity prop.\n\t\tlet polarity: MetricPolarity | undefined = undefined;\n\t\tif (eng.improvementDirection !== undefined) {\n\t\t\tpolarity =\n\t\t\t\teng.improvementDirection === ImprovementDirection.Up\n\t\t\t\t\t? MetricPolarity.HigherIsBetter\n\t\t\t\t\t: eng.improvementDirection === ImprovementDirection.Down\n\t\t\t\t\t\t? MetricPolarity.LowerIsBetter\n\t\t\t\t\t\t: MetricPolarity.ContextDependent;\n\t\t} else if (eng.polarity) {\n\t\t\tpolarity = eng.polarity;\n\t\t}\n\t\t// Map engine variation icon to internal state, injecting neutral special-cause purple when flagged.\n\t\tlet state: VariationState;\n\t\tswitch (eng.variationIcon) {\n\t\t\tcase SpcEngineVariationIcon.Improvement:\n\t\t\t\tstate = VariationState.SpecialCauseImproving; break;\n\t\t\tcase SpcEngineVariationIcon.Concern:\n\t\t\t\tstate = VariationState.SpecialCauseDeteriorating; break;\n\t\t\tcase SpcEngineVariationIcon.Neither:\n\t\t\t\tstate = eng.specialCauseNeutral\n\t\t\t\t\t? VariationState.SpecialCauseNoJudgement\n\t\t\t\t\t: VariationState.CommonCause; break;\n\t\t\tcase SpcEngineVariationIcon.Suppressed:\n\t\t\tdefault:\n\t\t\t\tstate = VariationState.SpecialCauseNoJudgement; break;\n\t\t}\n\t\tlet direction: Direction | undefined = eng.trend as Direction | undefined;\n\t\tif (!direction) {\n\t\t\tif (state === VariationState.SpecialCauseImproving) {\n\t\t\t\tdirection = polarity === MetricPolarity.LowerIsBetter ? Direction.Lower : Direction.Higher;\n\t\t\t} else if (state === VariationState.SpecialCauseDeteriorating) {\n\t\t\t\tdirection = polarity === MetricPolarity.LowerIsBetter ? Direction.Higher : Direction.Lower;\n\t\t\t} else if (state === VariationState.SpecialCauseNoJudgement) {\n\t\t\t\t// Prefer explicit side hints when supplied\n\t\t\t\tif (eng.highSideSignal && !eng.lowSideSignal) direction = Direction.Higher;\n\t\t\t\telse if (eng.lowSideSignal && !eng.highSideSignal) direction = Direction.Lower;\n\t\t\t\telse direction = Direction.Higher; // fallback\n\t\t\t} else {\n\t\t\t\tdirection = Direction.Higher;\n\t\t\t}\n\t\t}\n\t\treturn { state, direction, polarity: polarity ?? MetricPolarity.ContextDependent };\n\t}\n\t// Legacy explicit state payload\n\tif ((input as SpcVariationPayload).state !== undefined) {\n\t\temitDeprecation();\n\t\tconst v1 = input as SpcVariationPayload;\n\t\tlet direction: Direction | undefined = v1.trend as Direction | undefined;\n\t\tif (\n\t\t\t!direction &&\n\t\t\t(v1.state === VariationState.SpecialCauseImproving ||\n\t\t\t\tv1.state === VariationState.SpecialCauseDeteriorating) &&\n\t\t\tv1.polarity\n\t\t) {\n\t\t\tif (v1.state === VariationState.SpecialCauseImproving) {\n\t\t\t\tdirection =\n\t\t\t\t\tv1.polarity === MetricPolarity.LowerIsBetter\n\t\t\t\t\t\t? Direction.Lower\n\t\t\t\t\t\t: Direction.Higher;\n\t\t\t} else {\n\t\t\t\tdirection =\n\t\t\t\t\tv1.polarity === MetricPolarity.LowerIsBetter\n\t\t\t\t\t\t? Direction.Higher\n\t\t\t\t\t\t: Direction.Lower;\n\t\t\t}\n\t\t}\n\t\tif (!direction) {\n\t\t\tif (v1.state === VariationState.SpecialCauseImproving)\n\t\t\t\tdirection = Direction.Higher;\n\t\t\telse if (v1.state === VariationState.SpecialCauseDeteriorating)\n\t\t\t\tdirection = Direction.Lower;\n\t\t\telse direction = Direction.Higher;\n\t\t}\n\t\treturn {\n\t\t\tstate: v1.state,\n\t\t\tdirection,\n\t\t\tpolarity: v1.polarity ?? MetricPolarity.ContextDependent,\n\t\t};\n\t}\n\t// Derivation payload based on judgement + polarity\n\tconst v2 = input as SpcVariationDerivePayload;\n\temitDeprecation();\n\tconst map: Record<VariationJudgement, VariationState> = {\n\t\t[VariationJudgement.Improving]: VariationState.SpecialCauseImproving,\n\t\t[VariationJudgement.Deteriorating]:\n\t\t\tVariationState.SpecialCauseDeteriorating,\n\t\t[VariationJudgement.No_Judgement]: VariationState.SpecialCauseNoJudgement,\n\t\t[VariationJudgement.None]: VariationState.CommonCause,\n\t};\n\tconst state = map[v2.judgement];\n\tlet direction: Direction;\n\tif (v2.judgement === VariationJudgement.Improving) {\n\t\tdirection =\n\t\t\tv2.polarity === MetricPolarity.LowerIsBetter\n\t\t\t\t? Direction.Lower\n\t\t\t\t: Direction.Higher;\n\t} else if (v2.judgement === VariationJudgement.Deteriorating) {\n\t\tdirection =\n\t\t\tv2.polarity === MetricPolarity.LowerIsBetter\n\t\t\t\t? Direction.Higher\n\t\t\t\t: Direction.Lower;\n\t} else {\n\t\tdirection = (v2.trend ?? Direction.Higher) as Direction;\n\t}\n\treturn { state, direction, polarity: v2.polarity };\n};\n\n/**\n * Derive a rich, sentence\u2011level aria description for assistive tech.\n * This version aligns with MDC accessibility and NHS style.\n */\nexport interface VariationNarrativeContext {\n\tmeasureName?: string; // e.g. \"Emergency department 4h performance\"\n\tdatasetContext?: string; // e.g. \"Monthly trust-wide data\"\n\torganisation?: string; // e.g. \"University Hospital A\"\n\ttimeframe?: string; // e.g. \"Jan 2024 \u2013 Jul 2025\"\n\tadditionalNote?: string; // free-form note (intervention, caveat)\n}\n\nexport function deriveVariationAriaDescription(\n\tinput: SpcVariationInput,\n\tcontext?: VariationNarrativeContext\n): string {\n\tconst { state, direction, polarity } = resolveStateAndLayout(input);\n\tconst judgement = getVariationTrend(state);\n\n\t// Use plain-English SPC phrasing: sustained run above/below the mean\n\tconst sideWord = direction === Direction.Higher ? \"above\" : \"below\";\n\tconst trendWord = direction === Direction.Higher ? \"upwards\" : \"downwards\";\n\n\tconst polarityClause = (() => {\n\t\tswitch (polarity) {\n\t\t\tcase MetricPolarity.HigherIsBetter:\n\t\t\t\treturn \"For this measure, higher values are better.\";\n\t\t\tcase MetricPolarity.LowerIsBetter:\n\t\t\t\treturn \"For this measure, lower values are better.\";\n\t\t\tdefault:\n\t\t\t\treturn \"Direction of improvement is context dependent.\";\n\t\t}\n\t})();\n\n\tconst base = (() => {\n\t\tswitch (judgement) {\n\t\t\tcase VariationJudgement.Improving:\n\t\t\t\treturn `Special cause improvement: recent data show a sustained run ${sideWord} the mean (unlikely due to random variation).`;\n\t\t\tcase VariationJudgement.Deteriorating:\n\t\t\t\treturn `Special cause deterioration: recent data show a sustained run ${sideWord} the mean (unlikely due to random variation).`;\n\t\t\tcase VariationJudgement.No_Judgement:\n\t\t\t\treturn `Special cause detected (no value judgement): recent data show a change in level, trending ${trendWord}.`;\n\t\t\tcase VariationJudgement.None:\n\t\t\tdefault:\n\t\t\t\treturn `Common cause variation: points vary randomly around the mean; no special cause detected.`;\n\t\t}\n\t})();\n\n\tconst parts = [\n\t\tbase,\n\t\tpolarityClause,\n\t\tcontext?.measureName ? `Measure: ${context.measureName}.` : null,\n\t\tcontext?.datasetContext ? `${context.datasetContext}.` : null,\n\t\tcontext?.organisation ? `Organisation: ${context.organisation}.` : null,\n\t\tcontext?.timeframe ? `Timeframe: ${context.timeframe}.` : null,\n\t\tcontext?.additionalNote ? context.additionalNote : null,\n\t];\n\treturn parts.filter(Boolean).join(\" \");\n}\n\n/** Assurance states \u2013 SPC\u2011based likelihood to meet target consistently. */\nexport type AssuranceState = \"likely\" | \"unlikely\" | \"uncertain\";\n\nexport interface SpcAssurancePayload {\n\tstate: AssuranceState; // No RAG colours; neutral glyphs.\n\ttargetLabel?: string; // e.g., \"95% within 4h\"\n}\n\n/** Shared visual props */\nexport interface SpcIconBaseProps {\n\tsize?: number; // px; default 44. Consider 32\u201344 for dense tables.\n\tariaLabel?: string; // override accessible label\n\tshowLetter?: boolean; // default true \u2014 render H/L\n\tdropShadow?: boolean; // default true \u2013 apply outer circle shadow\n\t/** When true, apply a diagonal (top-left -> bottom-right) colour wash instead of solid white interior. */\n\tgradientWash?: boolean;\n}\n\nexport interface SPCVariationIconProps extends SpcIconBaseProps {\n\tdata: SpcVariationInput;\n}\n\nexport interface SpcAssuranceIconProps extends SpcIconBaseProps {\n\tdata: SpcAssurancePayload;\n}\n\nexport interface SpcIconsProps {\n\tvariation: SPCVariationIconProps[\"data\"];\n\tassurance: SpcAssuranceIconProps[\"data\"];\n\tsize?: number;\n\tariaLabel?: string; // combined label for the pair\n}\n\n// Derive an H/L direction from the SPC state for backward compatibility.\n// Improving states imply movement upwards; deteriorating states imply downwards.\n// For states without an inherent judgement (common cause or no judgement),\n// return null to allow callers to specify their own direction.\n\nexport interface SPCVariationIconPropsAlt extends SPCVariationIconProps {\n\tvariant?: SpcEmbeddedIconVariant;\n\trunLength?: number;\n\t/** How to derive H/L when shown (default: direction). */\n\tletterMode?: LetterMode;\n\t/** Explicit override for the letter (takes precedence). Use '' to suppress. */\n\tletterOverride?: SpcLetterGlyph;\n}\n// (imports consolidated above)\n\n// Shared defs (filter + gradient) helper to avoid repetition across variants\nconst buildDefs = (\n\tcolourHex: string,\n\tshadowId: string,\n\twashId: string,\n\tdropShadow: boolean,\n\tgradientWash: boolean,\n\tstops: Array<{ offset: string; opacity: string }>\n) => (\n\t<defs>\n\t\t{dropShadow && (\n\t\t\t<filter id={shadowId} filterUnits=\"objectBoundingBox\">\n\t\t\t\t<feGaussianBlur stdDeviation=\"3\" />\n\t\t\t\t<feOffset dx=\"0\" dy=\"15\" result=\"blur\" />\n\t\t\t\t<feFlood floodColor=\"rgb(150,150,150)\" floodOpacity=\"1\" />\n\t\t\t\t<feComposite in2=\"blur\" operator=\"in\" result=\"colorShadow\" />\n\t\t\t\t<feComposite in=\"SourceGraphic\" in2=\"colorShadow\" operator=\"over\" />\n\t\t\t</filter>\n\t\t)}\n\t\t{gradientWash && (\n\t\t\t<linearGradient id={washId} x1=\"0%\" y1=\"0%\" x2=\"100%\" y2=\"100%\">\n\t\t\t\t{stops.map((s) => (\n\t\t\t\t\t<stop\n\t\t\t\t\t\tkey={s.offset}\n\t\t\t\t\t\toffset={s.offset}\n\t\t\t\t\t\tstopColor={colourHex}\n\t\t\t\t\t\tstopOpacity={parseFloat(s.opacity)}\n\t\t\t\t\t/>\n\t\t\t\t))}\n\t\t\t</linearGradient>\n\t\t)}\n\t</defs>\n);\n\nexport const SPCVariationIcon = ({\n\tdata,\n\tsize = 44,\n\tariaLabel,\n\tshowLetter = true,\n\tdropShadow = true,\n\tgradientWash = false,\n\tvariant = SpcEmbeddedIconVariant.Classic,\n\trunLength = 0,\n\t// Default changed to 'polarity' so letters reflect desirable direction (H = Higher is better, L = Lower is better)\n\tletterMode = LetterMode.Polarity,\n\tletterOverride,\n\t...rest\n}: SPCVariationIconPropsAlt & Record<string, unknown>) => {\n\tconst shadowId = useId();\n\tconst washId = useId();\n\t// Gradient opacities (classic + triangle variants)\n\tconst {\n\t\tstart: gradStart,\n\t\tmid: gradMid,\n\t\tend: gradEnd,\n\t\ttriStart: triGradStart,\n\t\ttriMid: triGradMid,\n\t\ttriEnd: triGradEnd,\n\t} = getGradientOpacities();\n\n\t// Resolve semantic state + layout once\n\tconst { state, direction, polarity } = useMemo(\n\t\t() => resolveStateAndLayout(data as SpcVariationInput),\n\t\t[data]\n\t);\n\tconst colour = useMemo(() => getVariationColour(state), [state]);\n\tconst judgement = useMemo(() => getVariationTrend(state), [state]);\n\tconst showLetterForJudgement =\n\t\tjudgement === VariationJudgement.Improving ||\n\t\tjudgement === VariationJudgement.Deteriorating;\n\tlet letter = \"\";\n\t\n\tif (showLetter && showLetterForJudgement) {\n\t\tif (letterMode === LetterMode.Polarity) {\n\t\t\tif (polarity === MetricPolarity.HigherIsBetter) letter = \"H\";\n\t\t\telse if (polarity === MetricPolarity.LowerIsBetter) letter = \"L\";\n\t\t\telse letter = \"\";\n\t\t} else {\n\t\t\tletter = direction === Direction.Higher ? \"H\" : \"L\";\n\t\t}\n\t}\n\t\n\tif (letterOverride !== undefined) letter = letterOverride;\n\tconst isSpecial = state !== VariationState.CommonCause;\n\tconst isNoJudgement = state === VariationState.SpecialCauseNoJudgement;\n\tconst neutralGrey = tokenColour(\"common-cause\", \"#A6A6A6\");\n\tconst pointColour = isSpecial ? colour.hex : neutralGrey;\n\tconst points: Point[] = useMemo(\n\t\t() => computePointPositions(state, direction),\n\t\t[state, direction]\n\t);\n\tconst aria =\n\t\tariaLabel ||\n\t\t`${colour.label}${\n\t\t\tletter ? (direction === Direction.Higher ? \" \u2013 Higher\" : \" \u2013 Lower\") : \"\"\n\t\t}`;\n\tconst ariaDescription = deriveVariationAriaDescription(\n\t\tdata as SpcVariationInput\n\t);\n\n\t// --- Triangle with run rendering (new) ---\n\tif (variant === SpcEmbeddedIconVariant.TriangleWithRun) {\n\t\t// Short triangle with run indicator (five small circles)\n\t\tconst triSize = 100;\n\t\tconst centerX = 150;\n\t\tconst centerY = 140;\n\t\tconst upTriangle = [\n\t\t\t[centerX, centerY - triSize / 2],\n\t\t\t[centerX - triSize / 2, centerY + triSize / 2],\n\t\t\t[centerX + triSize / 2, centerY + triSize / 2],\n\t\t];\n\t\tconst downTriangle = [\n\t\t\t[centerX, centerY + triSize / 2],\n\t\t\t[centerX - triSize / 2, centerY - triSize / 2],\n\t\t\t[centerX + triSize / 2, centerY - triSize / 2],\n\t\t];\n\t\t// flatLine intentionally omitted \u2014 rendered as a short line when needed directly in JSX\n\t\tlet shape: React.ReactNode = null;\n\t\t// Orientation now driven by inferred direction (not raw improving/deteriorating state) so\n\t\t// \"improving\" with LowerIsBetter shows a downward triangle and \"deteriorating\" with LowerIsBetter shows upward.\n\t\tif (\n\t\t\tstate === VariationState.SpecialCauseImproving ||\n\t\t\tstate === VariationState.SpecialCauseDeteriorating\n\t\t) {\n\t\t\tshape = (\n\t\t\t\t<polygon\n\t\t\t\t\tpoints={(direction === Direction.Higher ? upTriangle : downTriangle)\n\t\t\t\t\t\t.map((p) => p.join(\",\"))\n\t\t\t\t\t\t.join(\" \")}\n\t\t\t\t\tfill={colour.hex}\n\t\t\t\t\tstroke={colour.hex}\n\t\t\t\t\tstrokeWidth={6}\n\t\t\t\t\ttransform={\n\t\t\t\t\t\tdirection === Direction.Higher\n\t\t\t\t\t\t\t? \"translate(0, -8)\"\n\t\t\t\t\t\t\t: \"translate(0, 15)\"\n\t\t\t\t\t}\n\t\t\t\t/>\n\t\t\t);\n\t\t} else if (state === VariationState.SpecialCauseNoJudgement) {\n\t\t\tshape = (\n\t\t\t\t<polygon\n\t\t\t\t\tpoints={\n\t\t\t\t\t\tdirection === Direction.Higher\n\t\t\t\t\t\t\t? upTriangle.map((p) => p.join(\",\")).join(\" \")\n\t\t\t\t\t\t\t: downTriangle.map((p) => p.join(\",\")).join(\" \")\n\t\t\t\t\t}\n\t\t\t\t\tfill={colour.hex}\n\t\t\t\t\tstroke={colour.hex}\n\t\t\t\t\tstrokeWidth={6}\n\t\t\t\t\ttransform={\n\t\t\t\t\t\tdirection === Direction.Higher\n\t\t\t\t\t\t\t? \"translate(0,-7)\"\n\t\t\t\t\t\t\t: \"translate(0,14)\"\n\t\t\t\t\t}\n\t\t\t\t/>\n\t\t\t);\n\t\t}\n\t\t// Run circles\n\t\tconst runLen = Math.max(0, Math.min(5, Math.floor(runLength || 0)));\n\t\tconst runY = state === VariationState.CommonCause ? 160 : direction === Direction.Higher ? 220 : 70;\n\t\tconst runRadius = 10;\n\t\tconst runGap = 26;\n\t\tconst runStartX = centerX - 2 * runGap;\n\t\tconst runColor = state === VariationState.SpecialCauseImproving\n\t\t\t\t? tokenColour(\"improvement\", \"#00B0F0\")\n\t\t\t\t: state === VariationState.SpecialCauseDeteriorating\n\t\t\t\t\t? tokenColour(\"concern\", \"#E46C0A\")\n\t\t\t\t\t: neutralGrey;\n\t\tconst runCircles = Array.from({ length: 5 }).map((_, i) => {\n\t\tconst filled = (state === VariationState.SpecialCauseImproving ||\n\t\t\t\tstate === VariationState.SpecialCauseDeteriorating) &&\n\t\t\t\ti >= 5 - runLen;\n\t\t\tconst fill = filled ? runColor : neutralGrey;\n\t\t\treturn (\n\t\t\t\t<circle\n\t\t\t\t\tkey={i}\n\t\t\t\t\tcx={runStartX + i * runGap}\n\t\t\t\t\tcy={runY}\n\t\t\t\t\tr={runRadius}\n\t\t\t\t\tfill={fill}\n\t\t\t\t\tstroke={fill}\n\t\t\t\t\tstrokeWidth={1}\n\t\t\t\t/>\n\t\t\t);\n\t\t});\n\t\tconst defs = buildDefs(\n\t\t\tcolour.hex,\n\t\t\tshadowId,\n\t\t\twashId,\n\t\t\tdropShadow,\n\t\t\tgradientWash,\n\t\t\t[\n\t\t\t\t{ offset: \"0%\", opacity: triGradStart },\n\t\t\t\t{ offset: \"75%\", opacity: triGradMid },\n\t\t\t\t{ offset: \"100%\", opacity: triGradEnd },\n\t\t\t]\n\t\t);\n\t\t// Keep common cause visually consistent regardless of supplied direction by fixing transform.\n\t\tconst groupTransform =\n\t\t\tstate === VariationState.CommonCause\n\t\t\t? \"translate(0,-10)\" // mimic the higher layout centring\n\t\t\t: direction === Direction.Higher\n\t\t\t? \"translate(0,-10)\"\n\t\t\t: \"translate(0,25)\";\n\t\treturn (\n\t\t\t<svg\n\t\t\t\twidth={size}\n\t\t\t\theight={size}\n\t\t\t\tviewBox=\"0 0 300 300\"\n\t\t\t\trole=\"img\"\n\t\t\t\taria-label={aria}\n\t\t\t\taria-description={ariaDescription}\n\t\t\t\t{...rest}\n\t\t\t>\n\t\t\t\t{defs}\n\t\t\t\t<circle\n\t\t\t\t\tstroke=\"none\"\n\t\t\t\t\tfill={gradientWash ? `url(#${washId})` : \"#ffffff\"}\n\t\t\t\t\t{...(dropShadow ? { filter: `url(#${shadowId})` } : {})}\n\t\t\t\t\tcx=\"150\"\n\t\t\t\t\tcy=\"150\"\n\t\t\t\t\tr=\"120\"\n\t\t\t\t/>\n\t\t\t\t<circle\n\t\t\t\t\tstroke={colour.hex}\n\t\t\t\t\tstrokeWidth={15}\n\t\t\t\t\tstrokeMiterlimit={10}\n\t\t\t\t\tfill=\"none\"\n\t\t\t\t\tcx=\"150\"\n\t\t\t\t\tcy=\"150\"\n\t\t\t\t\tr=\"120\"\n\t\t\t\t/>\n\t\t\t\t<g transform={groupTransform}>\n\t\t\t\t\t{shape}\n\t\t\t\t\t{letter && (\n\t\t\t\t\t\t<text\n\t\t\t\t\t\t\tfill=\"#fff\"\n\t\t\t\t\t\t\tfontFamily=\"'Frutiger W01', Frutiger, Arial, 'Helvetica Neue', Helvetica, sans-serif\"\n\t\t\t\t\t\t\tfontWeight=\"bold\"\n\t\t\t\t\t\t\tfontSize={64}\n\t\t\t\t\t\t\tx=\"150\"\n\t\t\t\t\t\t\ty={direction === Direction.Higher ? 155 : 145}\n\t\t\t\t\t\t\ttextAnchor=\"middle\"\n\t\t\t\t\t\t\tdominantBaseline=\"middle\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{letter}\n\t\t\t\t\t\t</text>\n\t\t\t\t\t)}\n\t\t\t\t\t{runCircles}\n\t\t\t\t</g>\n\t\t\t</svg>\n\t\t);\n\t}\n\n\t// --- Alternative triangle rendering ---\n\tif (variant === SpcEmbeddedIconVariant.Triangle) {\n\t\t// Triangle geometry\n\t\t// Upward triangle: base at bottom, tip at top\n\t\t// Downward triangle: base at top, tip at bottom\n\t\t// Centered at (150,150), size ~120px\n\t\tconst triSize = 150;\n\t\tconst centerX = 150;\n\t\tconst centerY = 150;\n\t\tconst upTriangle = [\n\t\t\t[centerX, centerY - triSize / 2],\n\t\t\t[centerX - triSize / 2, centerY + triSize / 2],\n\t\t\t[centerX + triSize / 2, centerY + triSize / 2],\n\t\t];\n\t\tconst downTriangle = [\n\t\t\t[centerX, centerY + triSize / 2],\n\t\t\t[centerX - triSize / 2, centerY - triSize / 2],\n\t\t\t[centerX + triSize / 2, centerY - triSize / 2],\n\t\t];\n\t\t// Flat line for neither\n\t\tconst flatLine = [\n\t\t\t[centerX - triSize / 2, centerY + triSize / 2],\n\t\t\t[centerX + triSize / 2, centerY + triSize / 2],\n\t\t];\n\t\tlet shape: React.ReactNode = null;\n\t\t// Orientation now driven by direction (not state) for the same semantic reason as triangleWithRun.\n\t\tif (\n\t\t\tstate === VariationState.SpecialCauseImproving ||\n\t\t\tstate === VariationState.SpecialCauseDeteriorating\n\t\t) {\n\t\t\tshape = (\n\t\t\t\t<polygon\n\t\t\t\t\tpoints={(direction === Direction.Higher ? upTriangle : downTriangle)\n\t\t\t\t\t\t.map((p) => p.join(\",\"))\n\t\t\t\t\t\t.join(\" \")}\n\t\t\t\t\tfill={colour.hex}\n\t\t\t\t\tstroke={colour.hex}\n\t\t\t\t\tstrokeWidth={8}\n\t\t\t\t\ttransform={\n\t\t\t\t\t\tdirection === Direction.Higher\n\t\t\t\t\t\t\t? \"translate(0, -10)\"\n\t\t\t\t\t\t\t: \"translate(0, 10)\"\n\t\t\t\t\t}\n\t\t\t\t/>\n\t\t\t);\n\t\t} else if (state === VariationState.SpecialCauseNoJudgement) {\n\t\t\t// Up or down triangle, no letter\n\t\t\tshape = (\n\t\t\t\t<polygon\n\t\t\t\t\tpoints={\n\t\t\t\t\t\tdirection === Direction.Higher\n\t\t\t\t\t\t\t? upTriangle.map((p) => p.join(\",\")).join(\" \")\n\t\t\t\t\t\t\t: downTriangle.map((p) => p.join(\",\")).join(\" \")\n\t\t\t\t\t}\n\t\t\t\t\tfill={colour.hex}\n\t\t\t\t\tstroke={colour.hex}\n\t\t\t\t\tstrokeWidth={8}\n\t\t\t\t\ttransform={\n\t\t\t\t\t\tdirection === Direction.Higher\n\t\t\t\t\t\t\t? \"translate(0, -15)\"\n\t\t\t\t\t\t\t: \"translate(0, 15)\"\n\t\t\t\t\t}\n\t\t\t\t/>\n\t\t\t);\n\t\t} else if (state === VariationState.CommonCause) {\n\t\t\t// Flat line\n\t\t\tshape = (\n\t\t\t\t<line\n\t\t\t\t\tx1={flatLine[0][0]}\n\t\t\t\t\ty1={flatLine[0][1]}\n\t\t\t\t\tx2={flatLine[1][0]}\n\t\t\t\t\ty2={flatLine[1][1]}\n\t\t\t\t\tstroke={colour.hex}\n\t\t\t\t\tstrokeWidth={32}\n\t\t\t\t\tstrokeLinecap=\"square\"\n\t\t\t\t\ttransform=\"translate(0, -75)\"\n\t\t\t\t/>\n\t\t\t);\n\t\t}\n\t\tconst defs = buildDefs(\n\t\t\tcolour.hex,\n\t\t\tshadowId,\n\t\t\twashId,\n\t\t\tdropShadow,\n\t\t\tgradientWash,\n\t\t\t[\n\t\t\t\t{ offset: \"0%\", opacity: triGradStart },\n\t\t\t\t{ offset: \"65%\", opacity: triGradMid },\n\t\t\t\t{ offset: \"100%\", opacity: triGradEnd },\n\t\t\t]\n\t\t);\n\t\treturn (\n\t\t\t<svg\n\t\t\t\twidth={size}\n\t\t\t\theight={size}\n\t\t\t\tviewBox=\"0 0 300 300\"\n\t\t\t\trole=\"img\"\n\t\t\t\taria-label={aria}\n\t\t\t\taria-description={ariaDescription}\n\t\t\t\t{...rest}\n\t\t\t>\n\t\t\t\t{defs}\n\t\t\t\t<circle\n\t\t\t\t\tstroke=\"none\"\n\t\t\t\t\tfill={gradientWash ? `url(#${washId})` : \"#ffffff\"}\n\t\t\t\t\t{...(dropShadow ? { filter: `url(#${shadowId})` } : {})}\n\t\t\t\t\tcx=\"150\"\n\t\t\t\t\tcy=\"150\"\n\t\t\t\t\tr=\"120\"\n\t\t\t\t/>\n\t\t\t\t<circle\n\t\t\t\t\tstroke={colour.hex}\n\t\t\t\t\tstrokeWidth={15}\n\t\t\t\t\tstrokeMiterlimit={10}\n\t\t\t\t\tfill=\"none\"\n\t\t\t\t\tcx=\"150\"\n\t\t\t\t\tcy=\"150\"\n\t\t\t\t\tr=\"120\"\n\t\t\t\t/>\n\t\t\t\t{shape}\n\t\t\t\t{letter &&\n\t\t\t\t\t(state === VariationState.SpecialCauseImproving ||\n\t\t\t\t\t\tstate === VariationState.SpecialCauseDeteriorating) && (\n\t\t\t\t\t\t<text\n\t\t\t\t\t\t\tfill=\"#fff\"\n\t\t\t\t\t\t\tfontFamily=\"'Frutiger W01', Frutiger, Arial, 'Helvetica Neue', Helvetica, sans-serif\"\n\t\t\t\t\t\t\tfontWeight=\"bold\"\n\t\t\t\t\t\t\tfontSize={100}\n\t\t\t\t\t\t\tx=\"150\"\n\t\t\t\t\t\t\ty={direction === Direction.Higher ? \"170\" : \"140\"}\n\t\t\t\t\t\t\ttextAnchor=\"middle\"\n\t\t\t\t\t\t\tdominantBaseline=\"middle\"\n\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{letter}\n\t\t\t\t\t\t</text>\n\t\t\t\t\t)}\n\t\t\t</svg>\n\t\t);\n\t}\n\n\t// --- Default/classic rendering ---\n\tconst defs = buildDefs(\n\t\tcolour.hex,\n\t\tshadowId,\n\t\twashId,\n\t\tdropShadow,\n\t\tgradientWash,\n\t\t[\n\t\t\t{ offset: \"0%\", opacity: gradStart },\n\t\t\t{ offset: \"65%\", opacity: gradMid },\n\t\t\t{ offset: \"100%\", opacity: gradEnd },\n\t\t]\n\t);\n\treturn (\n\t\t<svg\n\t\t\twidth={size}\n\t\t\theight={size}\n\t\t\tviewBox=\"0 0 300 300\"\n\t\t\trole=\"img\"\n\t\t\taria-label={aria}\n\t\t\taria-description={ariaDescription}\n\t\t\t{...rest}\n\t\t>\n\t\t\t{defs}\n\t\t\t<circle\n\t\t\t\tstroke=\"none\"\n\t\t\t\tfill={gradientWash ? `url(#${washId})` : \"#ffffff\"}\n\t\t\t\t{...(dropShadow ? { filter: `url(#${shadowId})` } : {})}\n\t\t\t\tcx=\"150\"\n\t\t\t\tcy=\"150\"\n\t\t\t\tr=\"120\"\n\t\t\t/>\n\t\t\t<circle\n\t\t\t\tstroke={colour.hex}\n\t\t\t\tstrokeWidth={15}\n\t\t\t\tstrokeMiterlimit={10}\n\t\t\t\tfill=\"none\"\n\t\t\t\tcx=\"150\"\n\t\t\t\tcy=\"150\"\n\t\t\t\tr=\"120\"\n\t\t\t/>\n\t\t\t{letter && (\n\t\t\t\t<text\n\t\t\t\t\tfill={colour.hex}\n\t\t\t\t\tfontFamily=\"Arial-BoldMT, Arial, 'Helvetica Neue', Helvetica, sans-serif\"\n\t\t\t\t\tfontWeight=\"bold\"\n\t\t\t\t\tfontSize={176}\n\t\t\t\t\ttransform=\"translate(86.67, 54) scale(0.5, 0.5)\"\n\t\t\t\t\ttextAnchor=\"end\"\n\t\t\t\t>\n\t\t\t\t\t<tspan x=\"120\" y={direction === Direction.Lower ? \"340\" : \"155\"}>\n\t\t\t\t\t\t{letter}\n\t\t\t\t\t</tspan>\n\t\t\t\t</text>\n\t\t\t)}\n\t\t\t{/* Special Cause (No Judgement) arrow glyph: vertical arrow indicating orientation.\n\t\t\t\tUp (layout Higher) shows arrow pointing up; Down (layout Lower) rotates 90\u00B0. */}\n\t\t\t{isNoJudgement ? (\n\t\t\t\t<path\n\t\t\t\t\taria-hidden=\"true\"\n\t\t\t\t\tfillRule=\"evenodd\"\n\t\t\t\t\tstroke=\"none\"\n\t\t\t\t\tfill={colour.hex}\n\t\t\t\t\t{...(direction === Direction.Lower\n\t\t\t\t\t\t? { transform: \"rotate(90 150 150)\" }\n\t\t\t\t\t\t: { transform: \"translate(-5 0) rotate(0 150 150)\" })}\n\t\t\t\t\td=\"M 90.26,185.42 L 149.31,126.37 127.44,104.51 209.81,90.66 195.96,173.02 174.09,151.16 115.05,210.2 90.26,185.42 Z M 90.26,185.42\"\n\t\t\t\t/>\n\t\t\t) : (\n\t\t\t\t<>\n\t\t\t\t\t{/* Trend path connecting the five point centres */}\n\t\t\t\t\t{points.length === 5 && (\n\t\t\t\t\t\t<path\n\t\t\t\t\t\t\taria-hidden=\"true\"\n\t\t\t\t\t\t\tfill=\"none\"\n\t\t\t\t\t\t\tstroke={neutralGrey}\n\t\t\t\t\t\t\tstrokeWidth={12}\n\t\t\t\t\t\t\tstrokeLinecap=\"round\"\n\t\t\t\t\t\t\tstrokeLinejoin=\"round\"\n\t\t\t\t\t\t\topacity={0.9}\n\t\t\t\t\t\t\td={`M ${points.map((p) => `${p.cx} ${p.cy}`).join(\" L \")}`}\n\t\t\t\t\t\t/>\n\t\t\t\t\t)}\n\t\t\t\t\t{/* Data points (last two coloured when judgement positive or negative) */}\n\t\t\t\t\t{points.map((p: Point, i: number) => {\n\t\t\t\t\t\tconst specialIdx = i >= points.length - 2 && isSpecial; // last two\n\t\t\t\t\t\tconst fill = specialIdx ? pointColour : neutralGrey;\n\t\t\t\t\t\tconst stroke = fill;\n\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t<circle\n\t\t\t\t\t\t\t\tkey={i}\n\t\t\t\t\t\t\t\tstroke={stroke}\n\t\t\t\t\t\t\t\tstrokeWidth={2}\n\t\t\t\t\t\t\t\tstrokeMiterlimit={10}\n\t\t\t\t\t\t\t\tfill={fill}\n\t\t\t\t\t\t\t\tcx={p.cx}\n\t\t\t\t\t\t\t\tcy={p.cy}\n\t\t\t\t\t\t\t\tr={16}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t);\n\t\t\t\t\t})}\n\t\t\t\t</>\n\t\t\t)}\n\t\t</svg>\n\t);\n};\n\nSPCVariationIcon.displayName = \"SPCVariationIcon\";\n", "// Shared token lookup utilities for SPC icons.\nlet spcTokenRoot: Record<string, any> | null = null;\ntry {\n\t// Dynamic require to avoid breaking SSR if tokens file not present at runtime.\n\t// @ts-ignore - compiled artifact path resolved post-build\n\tconst tokens = require(\"@fergusbisset/nhs-fdp-design-system/dist/js/tokens.json\");\n\tspcTokenRoot = tokens?.color?.[\"data-viz\"]?.spc || null;\n} catch {\n\t// Swallow \u2013 fall back to provided colour fallbacks.\n}\n\nexport const tokenColour = (key: string, fallback: string): string => {\n\tif (!spcTokenRoot) return fallback;\n\tconst parts = key.split(\".\");\n\tlet current: any = spcTokenRoot;\n\tfor (const p of parts) {\n\t\tif (current == null) break;\n\t\tcurrent = current[p];\n\t}\n\tconst val = current;\n\tif (val == null) return fallback;\n\tif (typeof val === \"string\" || typeof val === \"number\") return String(val);\n\tif (val.$value != null) return String(val.$value);\n\tif (val.value != null) return String(val.value);\n\treturn fallback;\n};\n\nexport const getGradientOpacities = () => ({\n\t// Lightened defaults (previous 0.18 -> 0.12, 0.06 -> 0.03) to reduce intensity of wash.\n\tstart: tokenColour(\"gradient.stop.start-opacity\", \"0.12\"),\n\tmid: tokenColour(\"gradient.stop.mid-opacity\", \"0.03\"),\n\tend: tokenColour(\"gradient.stop.end-opacity\", \"0\"),\n\ttriStart: tokenColour(\n\t\t\"gradient.stop.triangle-start-opacity\",\n\t\ttokenColour(\"gradient.stop.start-opacity\", \"0.12\")\n\t),\n\ttriMid: tokenColour(\n\t\t\"gradient.stop.triangle-mid-opacity\",\n\t\ttokenColour(\"gradient.stop.mid-opacity\", \"0.03\")\n\t),\n\ttriEnd: tokenColour(\n\t\t\"gradient.stop.triangle-end-opacity\",\n\t\ttokenColour(\"gradient.stop.end-opacity\", \"0\")\n\t),\n});\n", "import { SpcRow } from \"./spc\";\nimport { VariationIcon, AssuranceIcon } from \"./spcConstants\";\n\n// Stable identifiers for rule flags mapped from SpcRow boolean properties (enum for stronger typing)\nexport enum SpcRuleId {\n\tSinglePointUp = 'singlePointUp',\n\tSinglePointDown = 'singlePointDown',\n\tTwoOfThreeUp = 'twoOfThreeUp',\n\tTwoOfThreeDown = 'twoOfThreeDown',\n\tFourOfFiveUp = 'fourOfFiveUp',\n\tFourOfFiveDown = 'fourOfFiveDown',\n\tShiftUp = 'shiftUp',\n\tShiftDown = 'shiftDown',\n\tTrendUp = 'trendUp',\n\tTrendDown = 'trendDown'\n}\n\nexport interface SpcRuleGlossaryEntry {\n\t/** Short label suitable for dense tooltip list */\n\ttooltip: string;\n\t/** Longer narration fragment (not full sentence) used when assembling live region text */\n\tnarration: string;\n}\n\n\texport const ruleGlossary: Record<SpcRuleId, SpcRuleGlossaryEntry> = {\n\t\t[SpcRuleId.SinglePointUp]: {\n\t\ttooltip: \"Single point above upper control limit\",\n\t\tnarration: \"Single point beyond a control limit\",\n\t},\n\t\t[SpcRuleId.SinglePointDown]: {\n\t\ttooltip: \"Single point below lower control limit\",\n\t\tnarration: \"Single point beyond a control limit\",\n\t},\n\t\t[SpcRuleId.TwoOfThreeUp]: {\n\t\ttooltip: \"Two of three points beyond +2\u03C3\",\n\t\tnarration: \"Two of three points beyond two sigma (same side)\",\n\t},\n\t\t[SpcRuleId.TwoOfThreeDown]: {\n\t\ttooltip: \"Two of three points beyond -2\u03C3\",\n\t\tnarration: \"Two of three points beyond two sigma (same side)\",\n\t},\n\t\t[SpcRuleId.FourOfFiveUp]: {\n\t\ttooltip: \"Four of five points beyond +1\u03C3\",\n\t\tnarration: \"Four of five points beyond one sigma (same side)\",\n\t},\n\t\t[SpcRuleId.FourOfFiveDown]: {\n\t\ttooltip: \"Four of five points beyond -1\u03C3\",\n\t\tnarration: \"Four of five points beyond one sigma (same side)\",\n\t},\n\t\t[SpcRuleId.ShiftUp]: {\n\t\ttooltip: \"Shift: run of points above centre line\",\n\t\tnarration: \"Shift (run on one side of mean)\",\n\t},\n\t\t[SpcRuleId.ShiftDown]: {\n\t\ttooltip: \"Shift: run of points below centre line\",\n\t\tnarration: \"Shift (run on one side of mean)\",\n\t},\n\t\t[SpcRuleId.TrendUp]: {\n\t\ttooltip: \"Trend: consecutive increasing points\",\n\t\tnarration: \"Trend (consecutive increases)\",\n\t},\n\t\t[SpcRuleId.TrendDown]: {\n\t\ttooltip: \"Trend: consecutive decreasing points\",\n\t\tnarration: \"Trend (consecutive decreases)\",\n\t},\n};\n\n// Minimal structural type carrying the directional rule flags \u2014 enables use with\n// both legacy SpcRow and v2-mapped UI rows without forcing casts.\ntype RuleFlagCarrier = {\n  specialCauseSinglePointUp?: boolean;\n  specialCauseSinglePointDown?: boolean;\n  specialCauseTwoOfThreeUp?: boolean;\n  specialCauseTwoOfThreeDown?: boolean;\n  specialCauseFourOfFiveUp?: boolean;\n  specialCauseFourOfFiveDown?: boolean;\n  specialCauseShiftUp?: boolean;\n  specialCauseShiftDown?: boolean;\n  specialCauseTrendUp?: boolean;\n  specialCauseTrendDown?: boolean;\n};\n\n/** Extract the triggered rule identifiers for a given SPC row */\nexport function extractRuleIds(row: SpcRow | RuleFlagCarrier | undefined | null): SpcRuleId[] {\n\tif (!row) return [];\n\tconst ids: SpcRuleId[] = [];\n\tif (row.specialCauseSinglePointUp) ids.push(SpcRuleId.SinglePointUp);\n\tif (row.specialCauseSinglePointDown) ids.push(SpcRuleId.SinglePointDown);\n\tif (row.specialCauseTwoOfThreeUp) ids.push(SpcRuleId.TwoOfThreeUp);\n\tif (row.specialCauseTwoOfThreeDown) ids.push(SpcRuleId.TwoOfThreeDown);\n\tif (row.specialCauseFourOfFiveUp) ids.push(SpcRuleId.FourOfFiveUp);\n\tif (row.specialCauseFourOfFiveDown) ids.push(SpcRuleId.FourOfFiveDown);\n\tif (row.specialCauseShiftUp) ids.push(SpcRuleId.ShiftUp);\n\tif (row.specialCauseShiftDown) ids.push(SpcRuleId.ShiftDown);\n\tif (row.specialCauseTrendUp) ids.push(SpcRuleId.TrendUp);\n\tif (row.specialCauseTrendDown) ids.push(SpcRuleId.TrendDown);\n\treturn ids;\n}\n\n/** Standardised human readable label for variation classification */\nexport function variationLabel(icon: VariationIcon | undefined): string | null {\n\tswitch (icon) {\n\t\tcase VariationIcon.Improvement:\n\t\t\treturn \"Improvement signal\";\n\t\tcase VariationIcon.Concern:\n\t\t\treturn \"Concern signal\";\n\t\tcase VariationIcon.Neither:\n\t\t\treturn \"Common cause variation\";\n\t\tcase VariationIcon.Suppressed:\n\t\t\treturn null; // suppressed / not enough data\n\t\tdefault:\n\t\t\treturn null;\n\t}\n}\n\n/** Human readable assurance (target) classification */\nexport function assuranceLabel(icon: AssuranceIcon | undefined): string | null {\n\tswitch (icon) {\n\t\tcase AssuranceIcon.Pass:\n\t\t\treturn \"Target met\";\n\t\tcase AssuranceIcon.Fail:\n\t\t\treturn \"Target not met\";\n\t\tdefault:\n\t\t\treturn null;\n\t}\n}\n\n/** Zone classification given mean + sigma + value */\nexport function zoneLabel(\n\tmean: number | null | undefined,\n\tsigma: number,\n\tvalue: number\n): string | null {\n\tif (mean == null || !Number.isFinite(sigma) || sigma <= 0) return null;\n\tconst z = Math.abs((value - mean) / sigma);\n\tif (z < 1) return \"Within 1\u03C3\";\n\tif (z < 2) return \"Between 1\u20132\u03C3\";\n\tif (z < 3) return \"Between 2\u20133\u03C3\";\n\treturn \"Beyond 3\u03C3\";\n}\n\n// ------------------------- Shared visual tokens (source of truth) -------------------------\n// Canonical mapping of engine variation icons -> CSS token (with fallback hex).\nexport const VARIATION_COLOR_TOKENS: Record<\n\tVariationIcon,\n\t{ token: string; hex: string }\n> = {\n\timprovement: {\n\t\ttoken: \"var(--nhs-fdp-color-data-viz-spc-improvement, #00B0F0)\",\n\t\thex: \"#00B0F0\",\n\t},\n\tconcern: {\n\t\ttoken: \"var(--nhs-fdp-color-data-viz-spc-concern, #E46C0A)\",\n\t\thex: \"#E46C0A\",\n\t},\n\tneither: {\n\t\ttoken: \"var(--nhs-fdp-color-data-viz-spc-common-cause, #A6A6A6)\",\n\t\thex: \"#A6A6A6\",\n\t},\n\tsuppressed: {\n\t\ttoken: \"var(--nhs-fdp-color-data-viz-spc-no-judgement, #490092)\",\n\t\thex: \"#490092\",\n\t},\n};\n\nexport function getVariationColorToken(\n\ticon: VariationIcon | undefined\n): string {\n\tif (!icon) return VARIATION_COLOR_TOKENS.neither.token;\n\treturn (\n\t\tVARIATION_COLOR_TOKENS[icon]?.token ?? VARIATION_COLOR_TOKENS.neither.token\n\t);\n}\n\nexport function getVariationColorHex(icon: VariationIcon | undefined): string {\n\tif (!icon) return VARIATION_COLOR_TOKENS.neither.hex;\n\treturn (\n\t\tVARIATION_COLOR_TOKENS[icon]?.hex ?? VARIATION_COLOR_TOKENS.neither.hex\n\t);\n}\n", "// Simple three\u2011state assurance enum\nexport enum AssuranceResult {\n\tPass = \"pass\",\n\tFail = \"fail\",\n\tUncertain = \"uncertain\",\n}\n\n// Pull canonical SPC palette from engine logic (source of truth)\nimport { VARIATION_COLOR_TOKENS } from \"../SPCChart/descriptors\";\n\n// Default colours aligned to variation icon palette\nexport const DEFAULT_COLOURS: Record<AssuranceResult, string> = {\n\t[AssuranceResult.Pass]: \"#00B0F0\", // blue\n\t[AssuranceResult.Fail]: \"#E46C0A\", // orange\n\t[AssuranceResult.Uncertain]: \"#A6A6A6\", // grey\n};\n\n// Default letters to show for each state\nexport const DEFAULT_LETTERS: Record<AssuranceResult, string> = {\n\t[AssuranceResult.Pass]: \"P\",\n\t[AssuranceResult.Fail]: \"F\",\n\t[AssuranceResult.Uncertain]: \"?\",\n};\n\n// Metric polarity tells us if \"higher\" is good or bad for interpretation text.\nexport enum MetricPolarity {\n\tHigherIsBetter = \"higher_is_better\",\n\tLowerIsBetter = \"lower_is_better\",\n\tContextDependent = \"context_dependent\",\n}\n\n// Orientation / geometry (was TrendDirection / Layout earlier)\nexport enum Direction {\n\tHigher = \"higher\",\n\tLower = \"lower\",\n}\n\nexport enum VariationJudgement {\n\tImproving = \"improving\",\n\tDeteriorating = \"deteriorating\",\n\tNo_Judgement = \"no_judgement\",\n\tNone = \"none\",\n}\n\nexport enum VariationState {\n\tSpecialCauseImproving = \"special_cause_improving\",\n\tSpecialCauseDeteriorating = \"special_cause_deteriorating\",\n\tCommonCause = \"common_cause\",\n\tSpecialCauseNoJudgement = \"special_cause_no_judgement\",\n}\n\nexport interface VariationColourDef {\n\thex: string;\n\tstroke?: string;\n\tfill?: string;\n\tlabel: string;\n\tdescription: string;\n\ttext?: string;\n\tjudgement?: VariationJudgement;\n}\n\n// Geometry constants (legacy 300x300 artboard)\nexport const ICON_VIEWBOX = \"0 0 300 300\";\nexport const ICON_SIZE = 300; // default px\nexport const ICON_CX = 150;\nexport const ICON_CY = 150;\nexport const ICON_R = 113.25;\nexport const POINT_RADIUS = 16;\n\n// Base polygon path currently used for No Judgement glyph (points upward by default)\nexport const NO_JUDGEMENT_GLYPH_PATH =\n\t\"M 90.26,185.42 L 149.31,126.37 127.44,104.51 209.81,90.66 195.96,173.02 174.09,151.16 115.05,210.2 90.26,185.42 Z M 90.26,185.42\";\n\n// Accessible text colour picker (simple luminance threshold)\nconst pickTextColour = (hex: string) => {\n\tconst c = hex.replace(\"#\", \"\");\n\tconst r = parseInt(c.slice(0, 2), 16) / 255;\n\tconst g = parseInt(c.slice(2, 4), 16) / 255;\n\tconst b = parseInt(c.slice(4, 6), 16) / 255;\n\tconst srgb = [r, g, b].map((v) =>\n\t\tv <= 0.03928 ? v / 12.92 : Math.pow((v + 0.055) / 1.055, 2.4)\n\t);\n\tconst L = 0.2126 * srgb[0] + 0.7152 * srgb[1] + 0.0722 * srgb[2];\n\treturn L < 0.55 ? \"#ffffff\" : \"#212b32\";\n};\n\nexport const VARIATION_COLOURS: Record<VariationState, VariationColourDef> = {\n\t[VariationState.SpecialCauseDeteriorating]: {\n\t\thex: VARIATION_COLOR_TOKENS.concern.hex,\n\t\tjudgement: VariationJudgement.Deteriorating,\n\t\tlabel: \"Special Cause (Deteriorating)\",\n\t\tdescription:\n\t\t\t\"Deteriorating variation detected (special cause) relative to baseline.\",\n\t},\n\t[VariationState.SpecialCauseImproving]: {\n\t\thex: VARIATION_COLOR_TOKENS.improvement.hex,\n\t\tjudgement: VariationJudgement.Improving,\n\t\tlabel: \"Special Cause (Improving)\",\n\t\tdescription:\n\t\t\t\"Improving variation detected (special cause) relative to baseline.\",\n\t},\n\t[VariationState.CommonCause]: {\n\t\thex: VARIATION_COLOR_TOKENS.neither.hex,\n\t\tjudgement: VariationJudgement.None,\n\t\tlabel: \"Common Cause\",\n\t\tdescription: \"Common cause variation only \u2013 no special cause detected.\",\n\t},\n\t[VariationState.SpecialCauseNoJudgement]: {\n\t\thex: VARIATION_COLOR_TOKENS.suppressed.hex,\n\t\tjudgement: VariationJudgement.No_Judgement,\n\t\tlabel: \"Special Cause (No Judgement)\",\n\t\tdescription:\n\t\t\t\"Special cause detected without assigning improving/deteriorating judgement.\",\n\t},\n};\n\nObject.values(VARIATION_COLOURS).forEach((def) => {\n\tif (!def.text) def.text = pickTextColour(def.hex);\n});\n\nexport const getVariationColour = (state: VariationState) =>\n\tVARIATION_COLOURS[state];\nexport const getVariationTrend = (state: VariationState): VariationJudgement =>\n\tVARIATION_COLOURS[state].judgement || VariationJudgement.None;\n\nexport interface Point {\n\tcx: number;\n\tcy: number;\n}\n\nexport const POINT_LAYOUTS = {\n\tspecial: {\n\t\thigher: [\n\t\t\t{ cx: 77.5, cy: 158.5 },\n\t\t\t{ cx: 114, cy: 175 },\n\t\t\t{ cx: 150.5, cy: 158.5 },\n\t\t\t{ cx: 188, cy: 125 },\n\t\t\t{ cx: 225, cy: 137 },\n\t\t],\n\t\tlower: [\n\t\t\t{ cx: 77.5, cy: 139.5 },\n\t\t\t{ cx: 114, cy: 124.5 },\n\t\t\t{ cx: 150.5, cy: 139.5 },\n\t\t\t{ cx: 188, cy: 175.5 },\n\t\t\t{ cx: 224.5, cy: 162 },\n\t\t],\n\t},\n\tcommon: [\n\t\t{ cx: 76.5, cy: 149.5 },\n\t\t{ cx: 113, cy: 179.5 },\n\t\t{ cx: 149.5, cy: 117 },\n\t\t{ cx: 187, cy: 171 },\n\t\t{ cx: 223.5, cy: 158 },\n\t],\n} as const;\n\nexport function computePointPositions(\n\tstate: VariationState,\n\tdirection: Direction\n): Point[] {\n\tlet src;\n\tif (state === VariationState.CommonCause) src = POINT_LAYOUTS.common;\n\telse\n\t\tsrc =\n\t\t\tPOINT_LAYOUTS.special[direction === Direction.Lower ? \"lower\" : \"higher\"];\n\treturn src.map((p) => ({ ...p }));\n}\n\n// Narrow type for example payloads (matches derivation form accepted by SPCVariationIcon)\ninterface VariationExampleData {\n\tjudgement: VariationJudgement;\n\tpolarity: MetricPolarity;\n\ttrend?: Direction; // only required for No_Judgement / None examples\n}\n\nexport const variationExamples: {\n\tid: string;\n\tlabel: string;\n\tdata: VariationExampleData;\n}[] = [\n\t{\n\t\tid: \"improve-higher\",\n\t\tlabel: \"Improving (Higher is Better) \u2013 Trend is Higher\",\n\t\tdata: {\n\t\t\tjudgement: VariationJudgement.Improving,\n\t\t\tpolarity: MetricPolarity.HigherIsBetter,\n\t\t},\n\t},\n\t{\n\t\tid: \"improve-lower\",\n\t\tlabel: \"Improving (Lower is Better) \u2013 Trend is Lower\",\n\t\tdata: {\n\t\t\tjudgement: VariationJudgement.Improving,\n\t\t\tpolarity: MetricPolarity.LowerIsBetter,\n\t\t},\n\t},\n\t{\n\t\tid: \"deteriorate-higher\",\n\t\tlabel: \"Deteriorating (Higher is Better) \u2013 Trend is Lower\",\n\t\tdata: {\n\t\t\tjudgement: VariationJudgement.Deteriorating,\n\t\t\tpolarity: MetricPolarity.HigherIsBetter,\n\t\t},\n\t},\n\t{\n\t\tid: \"deteriorate-lower\",\n\t\tlabel: \"Deteriorating (Lower is Better) \u2013 Trend is Higher\",\n\t\tdata: {\n\t\t\tjudgement: VariationJudgement.Deteriorating,\n\t\t\tpolarity: MetricPolarity.LowerIsBetter,\n\t\t},\n\t},\n\t{\n\t\tid: \"no-judgement-higher\",\n\t\tlabel: \"Special Cause (No Judgement) \u2013 Trend is Higher\",\n\t\tdata: {\n\t\t\tjudgement: VariationJudgement.No_Judgement,\n\t\t\tpolarity: MetricPolarity.ContextDependent,\n\t\t\ttrend: Direction.Higher,\n\t\t},\n\t},\n\t{\n\t\tid: \"no-judgement-lower\",\n\t\tlabel: \"Special Cause (No Judgement) \u2013 Lower\",\n\t\tdata: {\n\t\t\tjudgement: VariationJudgement.No_Judgement,\n\t\t\tpolarity: MetricPolarity.ContextDependent,\n\t\t\ttrend: Direction.Lower,\n\t\t},\n\t},\n\t{\n\t\tid: \"common-cause-higher\",\n\t\tlabel: \"Common Cause \u2013 Higher layout\",\n\t\tdata: {\n\t\t\tjudgement: VariationJudgement.None,\n\t\t\tpolarity: MetricPolarity.HigherIsBetter,\n\t\t\ttrend: Direction.Higher,\n\t\t},\n\t},\n\t{\n\t\tid: \"common-cause-lower\",\n\t\tlabel: \"Common Cause \u2013 Lower layout\",\n\t\tdata: {\n\t\t\tjudgement: VariationJudgement.None,\n\t\t\tpolarity: MetricPolarity.HigherIsBetter,\n\t\t\ttrend: Direction.Lower,\n\t\t},\n\t},\n];\n\nexport const assuranceExamples = [\n\t{\n\t\tid: \"assurance-pass\",\n\t\tlabel: \"Assurance Pass\",\n\t\tstatus: AssuranceResult.Pass,\n\t},\n\t{\n\t\tid: \"assurance-fail\",\n\t\tlabel: \"Assurance Fail\",\n\t\tstatus: AssuranceResult.Fail,\n\t},\n\t{\n\t\tid: \"assurance-uncertain\",\n\t\tlabel: \"Assurance Uncertain\",\n\t\tstatus: AssuranceResult.Uncertain,\n\t},\n];\n\n// Compatibility re-exports: canonical tokens & helpers live in SPCChart logic; re-export here for older imports\nexport { VARIATION_COLOR_TOKENS } from \"../SPCChart/descriptors\";\nexport { getVariationColorToken, getVariationColorHex } from \"../SPCChart/descriptors\";\nexport type { VariationIcon } from \"../SPCChart/types\";\n", "import { useId } from \"react\";\nimport { getGradientOpacities } from './tokenUtils';\nimport {\n\tAssuranceResult,\n\tDEFAULT_COLOURS,\n\tDEFAULT_LETTERS,\n} from \"./SPCConstants\";\n\nexport interface AssuranceIconProps {\n\tstatus: AssuranceResult;\n\tsize?: number; // px\n\tariaLabel?: string; // override accessible label\n\tdropShadow?: boolean;\n\t/** When true apply a diagonal colour wash instead of solid white interior */\n\tgradientWash?: boolean;\n\tcolourOverride?: string; // optional single colour override for ring, letter & accent path\n\tletterOverride?: string; // optional override for displayed letter\n\tshowTrendLines?: boolean; // allow hiding decorative lines if needed\n\t\"data-testid\"?: string;\n}\n\nexport const SPCAssuranceIcon = ({\n\tstatus,\n\tsize = 44,\n\tariaLabel,\n\tdropShadow = true,\n\tcolourOverride,\n\tgradientWash = false,\n\tletterOverride,\n\tshowTrendLines = true,\n\t...rest\n}: AssuranceIconProps & Record<string, unknown>) => {\n\tconst shadowId = useId();\n\tconst washId = useId();\n\t// Gradient stop opacity tokens via shared util\n\tconst { start: gradStart, mid: gradMid, end: gradEnd } = getGradientOpacities();\n\tconst colour = colourOverride || DEFAULT_COLOURS[status];\n\tconst letter = (letterOverride || DEFAULT_LETTERS[status]).slice(0, 2); // safety \u2013 limit length\n\tconst aria = ariaLabel || `Assurance ${status}`;\n\n\treturn (\n\t\t<svg\n\t\t\twidth={size}\n\t\t\theight={size}\n\t\t\tviewBox=\"0 0 300 300\"\n\t\t\trole=\"img\"\n\t\t\taria-label={aria}\n\t\t\t{...rest}\n\t\t>\n\t\t\t<defs>\n\t\t\t\t{dropShadow && (\n\t\t\t\t\t<filter id={shadowId} filterUnits=\"objectBoundingBox\">\n\t\t\t\t\t\t<feGaussianBlur stdDeviation=\"3\" />\n\t\t\t\t\t\t<feOffset dx=\"-1\" dy=\"15\" result=\"blur\" />\n\t\t\t\t\t\t<feFlood floodColor=\"rgb(166,166,166)\" floodOpacity=\"1\" />\n\t\t\t\t\t\t<feComposite in2=\"blur\" operator=\"in\" result=\"colorShadow\" />\n\t\t\t\t\t\t<feComposite in=\"SourceGraphic\" in2=\"colorShadow\" operator=\"over\" />\n\t\t\t\t\t</filter>\n\t\t\t\t)}\n\t\t\t\t{gradientWash && (\n\t\t\t\t\t<linearGradient id={washId} x1=\"0%\" y1=\"0%\" x2=\"100%\" y2=\"100%\">\n\t\t\t\t\t\t<stop offset=\"0%\" stopColor={colour} stopOpacity={parseFloat(gradStart)} />\n\t\t\t\t\t\t<stop offset=\"65%\" stopColor={colour} stopOpacity={parseFloat(gradMid)} />\n\t\t\t\t\t\t<stop offset=\"100%\" stopColor=\"#ffffff\" stopOpacity={parseFloat(gradEnd)} />\n\t\t\t\t\t</linearGradient>\n\t\t\t\t)}\n\t\t\t</defs>\n\t\t\t<circle\n\t\t\t\tstroke=\"none\"\n\t\t\t\tfill={gradientWash ? `url(#${washId})` : '#ffffff'}\n\t\t\t\t{...(dropShadow ? { filter: `url(#${shadowId})` } : {})}\n\t\t\t\tcx=\"150\"\n\t\t\t\tcy=\"150\"\n\t\t\t\tr=\"120\"\n\t\t\t/>\n\t\t\t{/* Letter */}\n\t\t\t<text\n\t\t\t\tfill={colour}\n\t\t\t\tfontFamily=\"Arial-BoldMT, Arial, 'Helvetica Neue', Helvetica, sans-serif\"\n\t\t\t\tfontWeight=\"bold\"\n\t\t\t\tfontSize={176}\n\t\t\t\tx={0}\n\t\t\t\ty={0}\n\t\t\t\ttransform=\"translate(121.01, 32) scale(0.5, 0.5)\"\n\t\t\t\ttextAnchor=\"middle\"\n\t\t\t>\n\t\t\t\t<tspan x={60} y={184}>\n\t\t\t\t\t{letter}\n\t\t\t\t</tspan>\n\t\t\t</text>\n\t\t\t{showTrendLines && (\n\t\t\t\t<>\n\t\t\t\t\t{/* Coloured baseline / target line (changes geometry if Fail) */}\n\t\t\t\t\t{status === AssuranceResult.Fail ? (\n\t\t\t\t\t\t<path\n\t\t\t\t\t\t\tid=\"fail-line\"\n\t\t\t\t\t\t\tstroke={colour}\n\t\t\t\t\t\t\tstrokeWidth={9.5}\n\t\t\t\t\t\t\tstrokeMiterlimit={9.5}\n\t\t\t\t\t\t\tstrokeDasharray=\"35,10\"\n\t\t\t\t\t\t\tstrokeDashoffset={0}\n\t\t\t\t\t\t\tfill=\"none\"\n\t\t\t\t\t\t\td=\"M 33,143 L 268,143\"\n\t\t\t\t\t\t/>\n\t\t\t\t\t) : status === AssuranceResult.Uncertain ? (\n\t\t\t\t\t\t<path\n\t\t\t\t\t\t\tid=\"uncertain-line\"\n\t\t\t\t\t\t\tstroke=\"rgb(166, 166, 166)\"\n\t\t\t\t\t\t\tstrokeWidth={9.5}\n\t\t\t\t\t\t\tstrokeMiterlimit={9.5}\n\t\t\t\t\t\t\tstrokeDasharray=\"16.5,10\"\n\t\t\t\t\t\t\tstrokeDashoffset={0}\n\t\t\t\t\t\t\tfill=\"none\"\n\t\t\t\t\t\t\td=\"M 36,174 L 266,174\"\n\t\t\t\t\t\t/>\n\t\t\t\t\t) : (\n\t\t\t\t\t\t<path\n\t\t\t\t\t\t\tid=\"pass-line\"\n\t\t\t\t\t\t\tstroke={colour}\n\t\t\t\t\t\t\tstrokeWidth={9.5}\n\t\t\t\t\t\t\tstrokeMiterlimit={9.5}\n\t\t\t\t\t\t\tstrokeDasharray=\"35,10\"\n\t\t\t\t\t\t\tstrokeDashoffset={0}\n\t\t\t\t\t\t\tfill=\"none\"\n\t\t\t\t\t\t\td=\"M 48,204 L 254,204\"\n\t\t\t\t\t\t/>\n\t\t\t\t\t)}\n\t\t\t\t\t{/* Grey underlying squiggle / sparkline bezier */}\n\t\t\t\t\t<path\n\t\t\t\t\t\tid=\"data-sparkline\"\n\t\t\t\t\t\tstroke=\"rgb(166, 166, 166)\"\n\t\t\t\t\t\tstrokeWidth={12}\n\t\t\t\t\t\tstrokeMiterlimit={12}\n\t\t\t\t\t\tfill=\"none\"\n\t\t\t\t\t\td=\"M 59.9,187.91 C 72.79,171.72 87.33,158.06 104.4,157.83 121.91,158.58 140.94,187.85 153.4,189.91 164.1,192.12 163.78,171.38 169.17,170.53 172.87,169.55 174.88,187.45 184.94,189.24 197,191.86 230.54,184.47 239.01,185.9\"\n\t\t\t\t\t/>\n\t\t\t\t\t<circle\n\t\t\t\t\t\tstroke={colour}\n\t\t\t\t\t\tstrokeWidth={15}\n\t\t\t\t\t\tstrokeMiterlimit={10}\n\t\t\t\t\t\tfill=\"none\"\n\t\t\t\t\t\tcx=\"150\"\n\t\t\t\t\t\tcy=\"150\"\n\t\t\t\t\t\tr=\"120\"\n\t\t\t\t\t/>\n\t\t\t\t</>\n\t\t\t)}\n\t\t</svg>\n\t);\n};\n\nSPCAssuranceIcon.displayName = \"SPCAssuranceIcon\";\n"],
  "mappings": "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",
  "names": ["AssuranceResult", "MetricPolarity", "Direction", "VariationJudgement", "VariationState", "_a", "_b", "state", "direction", "defs", "useId", "Fragment", "jsx", "jsxs", "useId"]
}
