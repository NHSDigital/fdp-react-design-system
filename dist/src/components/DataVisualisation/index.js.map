{
  "version": 3,
  "sources": ["../../../../node_modules/classnames/index.js", "../../../../src/components/DataVisualisation/primitives/ChartContainer.tsx", "../../../../node_modules/clsx/dist/clsx.mjs", "../../../../src/components/DataVisualisation/charts/LineChart.tsx", "../../../../node_modules/d3-array/src/ascending.js", "../../../../node_modules/d3-array/src/descending.js", "../../../../node_modules/d3-array/src/bisector.js", "../../../../node_modules/d3-array/src/number.js", "../../../../node_modules/d3-array/src/bisect.js", "../../../../node_modules/d3-array/src/extent.js", "../../../../node_modules/internmap/src/index.js", "../../../../node_modules/d3-array/src/ticks.js", "../../../../node_modules/d3-array/src/range.js", "../../../../node_modules/d3-scale/src/init.js", "../../../../node_modules/d3-scale/src/ordinal.js", "../../../../node_modules/d3-scale/src/band.js", "../../../../node_modules/d3-color/src/define.js", "../../../../node_modules/d3-color/src/color.js", "../../../../node_modules/d3-interpolate/src/basis.js", "../../../../node_modules/d3-interpolate/src/basisClosed.js", "../../../../node_modules/d3-interpolate/src/constant.js", "../../../../node_modules/d3-interpolate/src/color.js", "../../../../node_modules/d3-interpolate/src/rgb.js", "../../../../node_modules/d3-interpolate/src/numberArray.js", "../../../../node_modules/d3-interpolate/src/array.js", "../../../../node_modules/d3-interpolate/src/date.js", "../../../../node_modules/d3-interpolate/src/number.js", "../../../../node_modules/d3-interpolate/src/object.js", "../../../../node_modules/d3-interpolate/src/string.js", "../../../../node_modules/d3-interpolate/src/value.js", "../../../../node_modules/d3-interpolate/src/round.js", "../../../../node_modules/d3-scale/src/constant.js", "../../../../node_modules/d3-scale/src/number.js", "../../../../node_modules/d3-scale/src/continuous.js", "../../../../node_modules/d3-format/src/formatDecimal.js", "../../../../node_modules/d3-format/src/exponent.js", "../../../../node_modules/d3-format/src/formatGroup.js", "../../../../node_modules/d3-format/src/formatNumerals.js", "../../../../node_modules/d3-format/src/formatSpecifier.js", "../../../../node_modules/d3-format/src/formatTrim.js", "../../../../node_modules/d3-format/src/formatPrefixAuto.js", "../../../../node_modules/d3-format/src/formatRounded.js", "../../../../node_modules/d3-format/src/formatTypes.js", "../../../../node_modules/d3-format/src/identity.js", "../../../../node_modules/d3-format/src/locale.js", "../../../../node_modules/d3-format/src/defaultLocale.js", "../../../../node_modules/d3-format/src/precisionFixed.js", "../../../../node_modules/d3-format/src/precisionPrefix.js", "../../../../node_modules/d3-format/src/precisionRound.js", "../../../../node_modules/d3-scale/src/tickFormat.js", "../../../../node_modules/d3-scale/src/linear.js", "../../../../node_modules/d3-scale/src/nice.js", "../../../../node_modules/d3-time/src/interval.js", "../../../../node_modules/d3-time/src/millisecond.js", "../../../../node_modules/d3-time/src/duration.js", "../../../../node_modules/d3-time/src/second.js", "../../../../node_modules/d3-time/src/minute.js", "../../../../node_modules/d3-time/src/hour.js", "../../../../node_modules/d3-time/src/day.js", "../../../../node_modules/d3-time/src/week.js", "../../../../node_modules/d3-time/src/month.js", "../../../../node_modules/d3-time/src/year.js", "../../../../node_modules/d3-time/src/ticks.js", "../../../../node_modules/d3-time-format/src/locale.js", "../../../../node_modules/d3-time-format/src/defaultLocale.js", "../../../../node_modules/d3-scale/src/time.js", "../../../../node_modules/d3-shape/src/constant.js", "../../../../node_modules/d3-path/src/path.js", "../../../../node_modules/d3-shape/src/path.js", "../../../../node_modules/d3-shape/src/array.js", "../../../../node_modules/d3-shape/src/curve/linear.js", "../../../../node_modules/d3-shape/src/point.js", "../../../../node_modules/d3-shape/src/line.js", "../../../../node_modules/d3-shape/src/area.js", "../../../../node_modules/d3-shape/src/curve/monotone.js", "../../../../src/components/DataVisualisation/utils/scales.ts", "../../../../src/components/DataVisualisation/hooks/useChartDimensions.ts", "../../../../src/components/DataVisualisation/core/ChartRoot.tsx", "../../../../src/components/DataVisualisation/core/ScaleContext.tsx", "../../../../src/components/DataVisualisation/primitives/Axis.tsx", "../../../../src/components/DataVisualisation/primitives/GridLines.tsx", "../../../../src/components/DataVisualisation/series/LineSeriesPrimitive.tsx", "../../../../packages/nhs-fdp/tokens/data-viz.json", "../../../../packages/nhs-fdp/tokens/colors.json", "../../../../src/components/DataVisualisation/utils/colors.ts", "../../../../src/components/DataVisualisation/core/VisibilityContext.tsx", "../../../../src/components/DataVisualisation/core/TooltipContext.tsx", "../../../../src/components/DataVisualisation/primitives/VisuallyHiddenLiveRegion.tsx", "../../../../src/components/DataVisualisation/primitives/TooltipOverlay.tsx", "../../../../src/components/Tabs/Tabs.tsx", "../../../../src/components/Button/Button.tsx", "../../../../src/components/Tables/Table.tsx", "../../../../src/components/Panel/Panel.tsx", "../../../../src/components/Heading/Heading.tsx", "../../../../src/components/DataVisualisation/ChartWithTableTabs.tsx", "../../../../src/components/DataVisualisation/primitives/Legend.tsx", "../../../../src/components/DataVisualisation/FilterableLineChart.tsx", "../../../../src/components/DataVisualisation/series/AreaSeriesPrimitive.tsx", "../../../../src/components/DataVisualisation/series/BarSeriesPrimitive.tsx", "../../../../src/components/DataVisualisation/core/BandScalesProvider.tsx"],
  "sourcesContent": ["/*!\n\tCopyright (c) 2018 Jed Watson.\n\tLicensed under the MIT License (MIT), see\n\thttp://jedwatson.github.io/classnames\n*/\n/* global define */\n\n(function () {\n\t'use strict';\n\n\tvar hasOwn = {}.hasOwnProperty;\n\n\tfunction classNames () {\n\t\tvar classes = '';\n\n\t\tfor (var i = 0; i < arguments.length; i++) {\n\t\t\tvar arg = arguments[i];\n\t\t\tif (arg) {\n\t\t\t\tclasses = appendClass(classes, parseValue(arg));\n\t\t\t}\n\t\t}\n\n\t\treturn classes;\n\t}\n\n\tfunction parseValue (arg) {\n\t\tif (typeof arg === 'string' || typeof arg === 'number') {\n\t\t\treturn arg;\n\t\t}\n\n\t\tif (typeof arg !== 'object') {\n\t\t\treturn '';\n\t\t}\n\n\t\tif (Array.isArray(arg)) {\n\t\t\treturn classNames.apply(null, arg);\n\t\t}\n\n\t\tif (arg.toString !== Object.prototype.toString && !arg.toString.toString().includes('[native code]')) {\n\t\t\treturn arg.toString();\n\t\t}\n\n\t\tvar classes = '';\n\n\t\tfor (var key in arg) {\n\t\t\tif (hasOwn.call(arg, key) && arg[key]) {\n\t\t\t\tclasses = appendClass(classes, key);\n\t\t\t}\n\t\t}\n\n\t\treturn classes;\n\t}\n\n\tfunction appendClass (value, newClass) {\n\t\tif (!newClass) {\n\t\t\treturn value;\n\t\t}\n\t\n\t\tif (value) {\n\t\t\treturn value + ' ' + newClass;\n\t\t}\n\t\n\t\treturn value + newClass;\n\t}\n\n\tif (typeof module !== 'undefined' && module.exports) {\n\t\tclassNames.default = classNames;\n\t\tmodule.exports = classNames;\n\t} else if (typeof define === 'function' && typeof define.amd === 'object' && define.amd) {\n\t\t// register as 'classnames', consistent with npm package name\n\t\tdefine('classnames', [], function () {\n\t\t\treturn classNames;\n\t\t});\n\t} else {\n\t\twindow.classNames = classNames;\n\t}\n}());\n", "import * as React from 'react';\nimport clsx from 'clsx';\nimport '../DataVisualisation.scss';\n\nexport interface ChartContainerProps {\n  title: string;\n  description?: string;\n  source?: string;\n  children: React.ReactNode;\n  width?: number | string;\n  height?: number;\n  className?: string;\n  id?: string;\n  tabularData?: React.ReactNode;\n  showTableToggle?: boolean;\n  onToggleTable?: () => void;\n  initiallyShowTable?: boolean;\n}\n\n/**\n * Accessible chart wrapper providing figure/figcaption semantics and optional\n * table toggle pattern for data transparency.\n */\nexport const ChartContainer: React.FC<ChartContainerProps> = ({\n  title,\n  description,\n  source,\n  children,\n  width = '100%',\n  height = 320,\n  className,\n  id,\n  tabularData,\n  showTableToggle,\n  onToggleTable,\n  initiallyShowTable = false\n}) => {\n  const figureId = React.useId();\n  const resolvedId = id || figureId;\n  const descId = description ? `${resolvedId}-desc` : undefined;\n  const sourceId = source ? `${resolvedId}-src` : undefined;\n  const [showTable, setShowTable] = React.useState(initiallyShowTable);\n\n  const handleToggle = React.useCallback(() => {\n    setShowTable(s => !s);\n    onToggleTable?.();\n  }, [onToggleTable]);\n\n  return (\n    <figure\n      id={resolvedId}\n      className={clsx('fdp-chart', className)}\n      style={{ width }}\n      aria-labelledby={`${resolvedId}-title`}\n      aria-describedby={clsx(descId, sourceId)}\n    >\n      <header className=\"fdp-chart__header\">\n        <h3 id={`${resolvedId}-title`} className=\"fdp-chart__title\">{title}</h3>\n        {showTableToggle && (\n          <button\n            type=\"button\"\n            className=\"fdp-chart__toggle\"\n            aria-expanded={showTable}\n            onClick={handleToggle}\n          >\n            {showTable ? 'Hide table' : 'Show table'}\n          </button>\n        )}\n      </header>\n      {description && (\n        <p id={descId} className=\"fdp-chart__description\">\n          {description}\n        </p>\n      )}\n      <div\n        className=\"fdp-chart__viz\"\n        style={{ height }}\n        role=\"group\"\n        aria-label={title}\n      >\n        {children}\n      </div>\n      {(source || tabularData) && (\n        <figcaption className=\"fdp-chart__caption\">\n          {source && (\n            <small id={sourceId} className=\"fdp-chart__source\">\n              Source: {source}\n            </small>\n          )}\n          {showTable && tabularData}\n        </figcaption>\n      )}\n    </figure>\n  );\n};\n\nexport default ChartContainer;\n", "function r(e){var t,f,n=\"\";if(\"string\"==typeof e||\"number\"==typeof e)n+=e;else if(\"object\"==typeof e)if(Array.isArray(e)){var o=e.length;for(t=0;t<o;t++)e[t]&&(f=r(e[t]))&&(n&&(n+=\" \"),n+=f)}else for(f in e)e[f]&&(n&&(n+=\" \"),n+=f);return n}export function clsx(){for(var e,t,f=0,n=\"\",o=arguments.length;f<o;f++)(e=arguments[f])&&(t=r(e))&&(n&&(n+=\" \"),n+=t);return n}export default clsx;", "import * as React from 'react';\nimport { createXTimeScale, createYLinearScale } from '../utils/scales';\nimport { scaleTime } from 'd3-scale';\nimport { useChartDimensions } from '../hooks/useChartDimensions';\nimport { ChartRoot, useChartContext } from '../core/ChartRoot';\nimport ScaleContext, { useScaleContext, LineScalesProvider } from '../core/ScaleContext';\nimport Axis from '../primitives/Axis';\nimport GridLines from '../primitives/GridLines';\nimport LineSeriesPrimitive from '../series/LineSeriesPrimitive';\nimport VisuallyHiddenLiveRegion from '../primitives/VisuallyHiddenLiveRegion';\nimport { TooltipProvider } from '../core/TooltipContext';\nimport TooltipOverlay from '../primitives/TooltipOverlay';\nimport { useTooltipContext } from '../core/TooltipContext';\nimport { useVisibility } from '../core/VisibilityContext';\n\nexport interface LineDatum { x: Date | string | number; y: number; }\nexport interface LineSeries { id: string; data: LineDatum[]; color?: string; label?: string; }\nexport interface LineChartProps {\n  series: LineSeries[];\n  height?: number;\n  yLabel?: string;\n  ariaLabel?: string;\n  showPoints?: boolean;\n  focusablePoints?: boolean;\n  /** Palette selection: 'categorical' (default 12\u2011colour data-viz set) or 'region' (maps series id to region tokens if possible) */\n  palette?: 'categorical' | 'region';\n  /** Optional date tick label formatter (defaults locale month short + day) */\n  dateFormatter?: (d: Date) => string;\n  /** Optional y-value tick formatter */\n  valueFormatter?: (n: number) => string;\n  /** Explicit x-axis tick values (dates); overrides automatic ticks. */\n  xTickValues?: (Date | string | number)[];\n  /** Convenience flag: when true, x-axis ticks align exactly to the unique set of data point x values (sorted). Ignored if xTickValues supplied. */\n  alignXTicksToData?: boolean;\n  /** Announce focused point changes via an aria live region (default true). Requires TooltipProvider higher in tree for focus changes; safe no-op otherwise. */\n  announceFocus?: boolean;\n  /** Show floating tooltip overlay (circle + label). Defaults true. */\n  showTooltipOverlay?: boolean;\n  /** Pad the x-domain by half a step on each side so edge points (focus ring) are fully visible (default true). */\n  padXDomain?: boolean;\n  /** Enable wrap-around keyboard navigation for points & series (Arrow keys wrap). */\n  wrapAroundNav?: boolean;\n  /** Opt-in: enable built-in keyboard navigation handler (Arrow/Home/End/Escape). Default false for explicit adoption. */\n  keyboardNav?: boolean;\n  /** Presentation of hidden series: 'remove' (default, series omitted) or 'fade' (dim visually, non-interactive). */\n  visibilityMode?: 'remove' | 'fade';\n  /** When true and some series are hidden, recompute y-domain using only visible series. */\n  recomputeYDomainOnHidden?: boolean;\n  /** Custom stroke width for all series (passed to LineSeriesPrimitive). */\n  strokeWidth?: number;\n  /** Enable / disable curve smoothing (monotoneX). Default true. */\n  smooth?: boolean;\n}\n\n// Internal renderer. If used inside a ChartRoot (context) it will use those dimensions; otherwise\n// it falls back to creating its own via useChartDimensions (only for legacy direct usage path).\nconst InternalLineChart: React.FC<LineChartProps & { providedDims?: ReturnType<typeof useChartDimensions> | null }> = ({\n  series,\n  yLabel,\n  ariaLabel = 'Line chart',\n  showPoints = true,\n  focusablePoints = true,\n  palette = 'categorical',\n  dateFormatter,\n  valueFormatter,\n  xTickValues,\n  alignXTicksToData = false,\n  announceFocus = true,\n  showTooltipOverlay = true,\n  padXDomain = true,\n  wrapAroundNav = false,\n  keyboardNav = false,\n  visibilityMode = 'remove',\n  recomputeYDomainOnHidden = false,\n  strokeWidth = 1,\n  smooth = true,\n  providedDims\n}) => {\n  // Prefer explicit prop (legacy), then context (ChartRoot), else create local dimensions (standalone mode)\n  const contextDims = useChartContext();\n  const dims = providedDims || (contextDims as any) || useChartDimensions({ bottom: 48, left: 56, right: 16, top: 12 });\n  const scaleCtx = useScaleContext();\n  const visibility = useVisibility();\n  const visibleSeries = React.useMemo(() => {\n    if (!visibility) return series;\n    return series.filter(s => !visibility.isHidden(s.id));\n  }, [series, visibility]);\n  const allData = React.useMemo(() => {\n    if (recomputeYDomainOnHidden && visibility) return visibleSeries.flatMap(s => s.data);\n    return series.flatMap(s => s.data);\n  }, [series, visibleSeries, recomputeYDomainOnHidden, visibility]);\n  const parseX = React.useCallback((d: LineDatum) => (d.x instanceof Date ? d.x : new Date(d.x)), []);\n  const xScale = scaleCtx ? scaleCtx.xScale : React.useMemo(() => {\n    if (!padXDomain) return createXTimeScale(allData, parseX, [0, dims.innerWidth]);\n    // Derive padded domain: half typical step either side\n    const times = allData.map(d => parseX(d).getTime()).sort((a,b)=>a-b);\n    if (times.length === 0) return createXTimeScale(allData, parseX, [0, dims.innerWidth]);\n    let step: number;\n    if (times.length === 1) {\n      step = 24 * 3600 * 1000; // 1 day default\n    } else {\n      // median of diffs for robustness\n      const diffs = [] as number[];\n      for (let i=1;i<times.length;i++) diffs.push(times[i]-times[i-1]);\n      diffs.sort((a,b)=>a-b);\n      step = diffs[Math.floor(diffs.length/2)] || (times[times.length-1]-times[0])/(times.length-1);\n    }\n    const pad = step/2;\n    const domain: [Date, Date] = [new Date(times[0]-pad), new Date(times[times.length-1]+pad)];\n    return scaleTime().domain(domain).range([0, dims.innerWidth]);\n  }, [allData, parseX, dims.innerWidth, padXDomain]);\n  const yScale = scaleCtx ? scaleCtx.yScale : React.useMemo(() => createYLinearScale(allData, d => d.y, [dims.innerHeight, 0]), [allData, dims.innerHeight]);\n  const formatDate = dateFormatter || ((d: Date) => d.toLocaleDateString(undefined,{ month:'short', day:'numeric'}));\n  const computedDataTickValues: Date[] = React.useMemo(() => {\n    if (xTickValues && xTickValues.length) return xTickValues.map(v => v instanceof Date ? v : new Date(v));\n    if (!alignXTicksToData) return [];\n    const set = new Set<number>();\n    for (const d of allData) set.add(parseX(d).getTime());\n    return Array.from(set).sort((a,b)=>a-b).map(ms => new Date(ms));\n  }, [xTickValues, alignXTicksToData, allData, parseX]);\n  const formatValue = valueFormatter || ((v: number) => String(v));\n  const svgContent = (\n    <svg width={dims.width} height={dims.height} role=\"img\">\n      <g transform={`translate(${dims.margin.left},${dims.margin.top})`}>\n        <Axis type=\"x\" formatTick={formatDate} tickValues={computedDataTickValues.length ? computedDataTickValues : undefined} />\n        <Axis type=\"y\" formatTick={formatValue} label={yLabel} />\n        <GridLines axis=\"y\" />\n  {series.map((s, si) => (\n          <LineSeriesPrimitive\n            key={s.id}\n            series={s as any}\n            seriesIndex={si}\n            palette={palette}\n            showPoints={showPoints}\n            focusablePoints={focusablePoints}\n            focusIndex={-1} // legacy prop no longer used; tooltip context drives focus\n            parseX={parseX}\n      visibilityMode={visibilityMode}\n      strokeWidth={strokeWidth}\n      smooth={smooth}\n          />\n        ))}\n        {showTooltipOverlay && <TooltipOverlay />}\n      </g>\n    </svg>\n  );\n\n  const KeyboardNavWrapper: React.FC<{ children: React.ReactNode }> = ({ children }) => {\n    const t = useTooltipContext();\n    const onKeyDown = React.useCallback((e: React.KeyboardEvent) => {\n      if (!t) return;\n      switch (e.key) {\n        case 'ArrowRight': t.focusNextPoint(); e.preventDefault(); break;\n        case 'ArrowLeft': t.focusPrevPoint(); e.preventDefault(); break;\n        case 'ArrowDown': t.focusNextSeries(); e.preventDefault(); break;\n        case 'ArrowUp': t.focusPrevSeries(); e.preventDefault(); break;\n        case 'Home': t.focusFirstPoint(); e.preventDefault(); break;\n        case 'End': t.focusLastPoint(); e.preventDefault(); break;\n        case 'Escape': t.clear(); e.preventDefault(); break;\n        default: break;\n      }\n    }, [t]);\n    return (\n      <div className=\"fdp-line-chart\" role=\"group\" aria-label={ariaLabel} tabIndex={0} onKeyDown={onKeyDown}>\n        {children}\n      </div>\n    );\n  };\n\n  const body = (\n    <TooltipProvider wrapAround={wrapAroundNav}>\n      {keyboardNav ? (\n        <KeyboardNavWrapper>\n          {svgContent}\n          {announceFocus && <VisuallyHiddenLiveRegion />}\n        </KeyboardNavWrapper>\n      ) : (\n        <div className=\"fdp-line-chart\" role=\"group\" aria-label={ariaLabel}>\n          {svgContent}\n          {announceFocus && <VisuallyHiddenLiveRegion />}\n        </div>\n      )}\n    </TooltipProvider>\n  );\n  if (scaleCtx) return body;\n  // Provide ad-hoc ScaleContext so Axis/GridLines can function when no external provider.\n  const value = {\n    xScale,\n    yScale,\n    getXTicks: (c = 6) => xScale.ticks(c),\n    getYTicks: (c = 5) => yScale.ticks(c)\n  };\n  return <ScaleContext.Provider value={value}>{body}</ScaleContext.Provider>;\n};\n\nexport const LineChart: React.FC<LineChartProps> = (props) => {\n  const ctx = useChartContext();\n  const content = <InternalLineChart {...props} providedDims={ctx as any} />;\n  if (ctx) {\n    // If already inside ChartRoot and no ScaleContext provided higher up, mount a provider here.\n    return useScaleContext() ? content : (\n      <LineScalesProvider series={props.series} innerWidth={ctx.innerWidth} innerHeight={ctx.innerHeight}>\n        {content}\n      </LineScalesProvider>\n    );\n  }\n  // Standalone: create ChartRoot then provide scales then render internal\n  const ariaLabel = (props as any).ariaLabel;\n  return (\n    <ChartRoot height={(props as any).height ?? 240} ariaLabel={ariaLabel} margin={{ bottom: 48, left: 56, right: 16, top: 12 }}>\n  {/* No ScaleContext in standalone mode so InternalLineChart builds its own scales with measured dims */}\n  <InternalLineChart {...props} />\n    </ChartRoot>\n  );\n};\n\nexport default LineChart;\n", "export default function ascending(a, b) {\n  return a == null || b == null ? NaN : a < b ? -1 : a > b ? 1 : a >= b ? 0 : NaN;\n}\n", "export default function descending(a, b) {\n  return a == null || b == null ? NaN\n    : b < a ? -1\n    : b > a ? 1\n    : b >= a ? 0\n    : NaN;\n}\n", "import ascending from \"./ascending.js\";\nimport descending from \"./descending.js\";\n\nexport default function bisector(f) {\n  let compare1, compare2, delta;\n\n  // If an accessor is specified, promote it to a comparator. In this case we\n  // can test whether the search value is (self-) comparable. We can\u2019t do this\n  // for a comparator (except for specific, known comparators) because we can\u2019t\n  // tell if the comparator is symmetric, and an asymmetric comparator can\u2019t be\n  // used to test whether a single value is comparable.\n  if (f.length !== 2) {\n    compare1 = ascending;\n    compare2 = (d, x) => ascending(f(d), x);\n    delta = (d, x) => f(d) - x;\n  } else {\n    compare1 = f === ascending || f === descending ? f : zero;\n    compare2 = f;\n    delta = f;\n  }\n\n  function left(a, x, lo = 0, hi = a.length) {\n    if (lo < hi) {\n      if (compare1(x, x) !== 0) return hi;\n      do {\n        const mid = (lo + hi) >>> 1;\n        if (compare2(a[mid], x) < 0) lo = mid + 1;\n        else hi = mid;\n      } while (lo < hi);\n    }\n    return lo;\n  }\n\n  function right(a, x, lo = 0, hi = a.length) {\n    if (lo < hi) {\n      if (compare1(x, x) !== 0) return hi;\n      do {\n        const mid = (lo + hi) >>> 1;\n        if (compare2(a[mid], x) <= 0) lo = mid + 1;\n        else hi = mid;\n      } while (lo < hi);\n    }\n    return lo;\n  }\n\n  function center(a, x, lo = 0, hi = a.length) {\n    const i = left(a, x, lo, hi - 1);\n    return i > lo && delta(a[i - 1], x) > -delta(a[i], x) ? i - 1 : i;\n  }\n\n  return {left, center, right};\n}\n\nfunction zero() {\n  return 0;\n}\n", "export default function number(x) {\n  return x === null ? NaN : +x;\n}\n\nexport function* numbers(values, valueof) {\n  if (valueof === undefined) {\n    for (let value of values) {\n      if (value != null && (value = +value) >= value) {\n        yield value;\n      }\n    }\n  } else {\n    let index = -1;\n    for (let value of values) {\n      if ((value = valueof(value, ++index, values)) != null && (value = +value) >= value) {\n        yield value;\n      }\n    }\n  }\n}\n", "import ascending from \"./ascending.js\";\nimport bisector from \"./bisector.js\";\nimport number from \"./number.js\";\n\nconst ascendingBisect = bisector(ascending);\nexport const bisectRight = ascendingBisect.right;\nexport const bisectLeft = ascendingBisect.left;\nexport const bisectCenter = bisector(number).center;\nexport default bisectRight;\n", "export default function extent(values, valueof) {\n  let min;\n  let max;\n  if (valueof === undefined) {\n    for (const value of values) {\n      if (value != null) {\n        if (min === undefined) {\n          if (value >= value) min = max = value;\n        } else {\n          if (min > value) min = value;\n          if (max < value) max = value;\n        }\n      }\n    }\n  } else {\n    let index = -1;\n    for (let value of values) {\n      if ((value = valueof(value, ++index, values)) != null) {\n        if (min === undefined) {\n          if (value >= value) min = max = value;\n        } else {\n          if (min > value) min = value;\n          if (max < value) max = value;\n        }\n      }\n    }\n  }\n  return [min, max];\n}\n", "export class InternMap extends Map {\n  constructor(entries, key = keyof) {\n    super();\n    Object.defineProperties(this, {_intern: {value: new Map()}, _key: {value: key}});\n    if (entries != null) for (const [key, value] of entries) this.set(key, value);\n  }\n  get(key) {\n    return super.get(intern_get(this, key));\n  }\n  has(key) {\n    return super.has(intern_get(this, key));\n  }\n  set(key, value) {\n    return super.set(intern_set(this, key), value);\n  }\n  delete(key) {\n    return super.delete(intern_delete(this, key));\n  }\n}\n\nexport class InternSet extends Set {\n  constructor(values, key = keyof) {\n    super();\n    Object.defineProperties(this, {_intern: {value: new Map()}, _key: {value: key}});\n    if (values != null) for (const value of values) this.add(value);\n  }\n  has(value) {\n    return super.has(intern_get(this, value));\n  }\n  add(value) {\n    return super.add(intern_set(this, value));\n  }\n  delete(value) {\n    return super.delete(intern_delete(this, value));\n  }\n}\n\nfunction intern_get({_intern, _key}, value) {\n  const key = _key(value);\n  return _intern.has(key) ? _intern.get(key) : value;\n}\n\nfunction intern_set({_intern, _key}, value) {\n  const key = _key(value);\n  if (_intern.has(key)) return _intern.get(key);\n  _intern.set(key, value);\n  return value;\n}\n\nfunction intern_delete({_intern, _key}, value) {\n  const key = _key(value);\n  if (_intern.has(key)) {\n    value = _intern.get(key);\n    _intern.delete(key);\n  }\n  return value;\n}\n\nfunction keyof(value) {\n  return value !== null && typeof value === \"object\" ? value.valueOf() : value;\n}\n", "const e10 = Math.sqrt(50),\n    e5 = Math.sqrt(10),\n    e2 = Math.sqrt(2);\n\nfunction tickSpec(start, stop, count) {\n  const step = (stop - start) / Math.max(0, count),\n      power = Math.floor(Math.log10(step)),\n      error = step / Math.pow(10, power),\n      factor = error >= e10 ? 10 : error >= e5 ? 5 : error >= e2 ? 2 : 1;\n  let i1, i2, inc;\n  if (power < 0) {\n    inc = Math.pow(10, -power) / factor;\n    i1 = Math.round(start * inc);\n    i2 = Math.round(stop * inc);\n    if (i1 / inc < start) ++i1;\n    if (i2 / inc > stop) --i2;\n    inc = -inc;\n  } else {\n    inc = Math.pow(10, power) * factor;\n    i1 = Math.round(start / inc);\n    i2 = Math.round(stop / inc);\n    if (i1 * inc < start) ++i1;\n    if (i2 * inc > stop) --i2;\n  }\n  if (i2 < i1 && 0.5 <= count && count < 2) return tickSpec(start, stop, count * 2);\n  return [i1, i2, inc];\n}\n\nexport default function ticks(start, stop, count) {\n  stop = +stop, start = +start, count = +count;\n  if (!(count > 0)) return [];\n  if (start === stop) return [start];\n  const reverse = stop < start, [i1, i2, inc] = reverse ? tickSpec(stop, start, count) : tickSpec(start, stop, count);\n  if (!(i2 >= i1)) return [];\n  const n = i2 - i1 + 1, ticks = new Array(n);\n  if (reverse) {\n    if (inc < 0) for (let i = 0; i < n; ++i) ticks[i] = (i2 - i) / -inc;\n    else for (let i = 0; i < n; ++i) ticks[i] = (i2 - i) * inc;\n  } else {\n    if (inc < 0) for (let i = 0; i < n; ++i) ticks[i] = (i1 + i) / -inc;\n    else for (let i = 0; i < n; ++i) ticks[i] = (i1 + i) * inc;\n  }\n  return ticks;\n}\n\nexport function tickIncrement(start, stop, count) {\n  stop = +stop, start = +start, count = +count;\n  return tickSpec(start, stop, count)[2];\n}\n\nexport function tickStep(start, stop, count) {\n  stop = +stop, start = +start, count = +count;\n  const reverse = stop < start, inc = reverse ? tickIncrement(stop, start, count) : tickIncrement(start, stop, count);\n  return (reverse ? -1 : 1) * (inc < 0 ? 1 / -inc : inc);\n}\n", "export default function range(start, stop, step) {\n  start = +start, stop = +stop, step = (n = arguments.length) < 2 ? (stop = start, start = 0, 1) : n < 3 ? 1 : +step;\n\n  var i = -1,\n      n = Math.max(0, Math.ceil((stop - start) / step)) | 0,\n      range = new Array(n);\n\n  while (++i < n) {\n    range[i] = start + i * step;\n  }\n\n  return range;\n}\n", "export function initRange(domain, range) {\n  switch (arguments.length) {\n    case 0: break;\n    case 1: this.range(domain); break;\n    default: this.range(range).domain(domain); break;\n  }\n  return this;\n}\n\nexport function initInterpolator(domain, interpolator) {\n  switch (arguments.length) {\n    case 0: break;\n    case 1: {\n      if (typeof domain === \"function\") this.interpolator(domain);\n      else this.range(domain);\n      break;\n    }\n    default: {\n      this.domain(domain);\n      if (typeof interpolator === \"function\") this.interpolator(interpolator);\n      else this.range(interpolator);\n      break;\n    }\n  }\n  return this;\n}\n", "import {InternMap} from \"d3-array\";\nimport {initRange} from \"./init.js\";\n\nexport const implicit = Symbol(\"implicit\");\n\nexport default function ordinal() {\n  var index = new InternMap(),\n      domain = [],\n      range = [],\n      unknown = implicit;\n\n  function scale(d) {\n    let i = index.get(d);\n    if (i === undefined) {\n      if (unknown !== implicit) return unknown;\n      index.set(d, i = domain.push(d) - 1);\n    }\n    return range[i % range.length];\n  }\n\n  scale.domain = function(_) {\n    if (!arguments.length) return domain.slice();\n    domain = [], index = new InternMap();\n    for (const value of _) {\n      if (index.has(value)) continue;\n      index.set(value, domain.push(value) - 1);\n    }\n    return scale;\n  };\n\n  scale.range = function(_) {\n    return arguments.length ? (range = Array.from(_), scale) : range.slice();\n  };\n\n  scale.unknown = function(_) {\n    return arguments.length ? (unknown = _, scale) : unknown;\n  };\n\n  scale.copy = function() {\n    return ordinal(domain, range).unknown(unknown);\n  };\n\n  initRange.apply(scale, arguments);\n\n  return scale;\n}\n", "import {range as sequence} from \"d3-array\";\nimport {initRange} from \"./init.js\";\nimport ordinal from \"./ordinal.js\";\n\nexport default function band() {\n  var scale = ordinal().unknown(undefined),\n      domain = scale.domain,\n      ordinalRange = scale.range,\n      r0 = 0,\n      r1 = 1,\n      step,\n      bandwidth,\n      round = false,\n      paddingInner = 0,\n      paddingOuter = 0,\n      align = 0.5;\n\n  delete scale.unknown;\n\n  function rescale() {\n    var n = domain().length,\n        reverse = r1 < r0,\n        start = reverse ? r1 : r0,\n        stop = reverse ? r0 : r1;\n    step = (stop - start) / Math.max(1, n - paddingInner + paddingOuter * 2);\n    if (round) step = Math.floor(step);\n    start += (stop - start - step * (n - paddingInner)) * align;\n    bandwidth = step * (1 - paddingInner);\n    if (round) start = Math.round(start), bandwidth = Math.round(bandwidth);\n    var values = sequence(n).map(function(i) { return start + step * i; });\n    return ordinalRange(reverse ? values.reverse() : values);\n  }\n\n  scale.domain = function(_) {\n    return arguments.length ? (domain(_), rescale()) : domain();\n  };\n\n  scale.range = function(_) {\n    return arguments.length ? ([r0, r1] = _, r0 = +r0, r1 = +r1, rescale()) : [r0, r1];\n  };\n\n  scale.rangeRound = function(_) {\n    return [r0, r1] = _, r0 = +r0, r1 = +r1, round = true, rescale();\n  };\n\n  scale.bandwidth = function() {\n    return bandwidth;\n  };\n\n  scale.step = function() {\n    return step;\n  };\n\n  scale.round = function(_) {\n    return arguments.length ? (round = !!_, rescale()) : round;\n  };\n\n  scale.padding = function(_) {\n    return arguments.length ? (paddingInner = Math.min(1, paddingOuter = +_), rescale()) : paddingInner;\n  };\n\n  scale.paddingInner = function(_) {\n    return arguments.length ? (paddingInner = Math.min(1, _), rescale()) : paddingInner;\n  };\n\n  scale.paddingOuter = function(_) {\n    return arguments.length ? (paddingOuter = +_, rescale()) : paddingOuter;\n  };\n\n  scale.align = function(_) {\n    return arguments.length ? (align = Math.max(0, Math.min(1, _)), rescale()) : align;\n  };\n\n  scale.copy = function() {\n    return band(domain(), [r0, r1])\n        .round(round)\n        .paddingInner(paddingInner)\n        .paddingOuter(paddingOuter)\n        .align(align);\n  };\n\n  return initRange.apply(rescale(), arguments);\n}\n\nfunction pointish(scale) {\n  var copy = scale.copy;\n\n  scale.padding = scale.paddingOuter;\n  delete scale.paddingInner;\n  delete scale.paddingOuter;\n\n  scale.copy = function() {\n    return pointish(copy());\n  };\n\n  return scale;\n}\n\nexport function point() {\n  return pointish(band.apply(null, arguments).paddingInner(1));\n}\n", "export default function(constructor, factory, prototype) {\n  constructor.prototype = factory.prototype = prototype;\n  prototype.constructor = constructor;\n}\n\nexport function extend(parent, definition) {\n  var prototype = Object.create(parent.prototype);\n  for (var key in definition) prototype[key] = definition[key];\n  return prototype;\n}\n", "import define, {extend} from \"./define.js\";\n\nexport function Color() {}\n\nexport var darker = 0.7;\nexport var brighter = 1 / darker;\n\nvar reI = \"\\\\s*([+-]?\\\\d+)\\\\s*\",\n    reN = \"\\\\s*([+-]?(?:\\\\d*\\\\.)?\\\\d+(?:[eE][+-]?\\\\d+)?)\\\\s*\",\n    reP = \"\\\\s*([+-]?(?:\\\\d*\\\\.)?\\\\d+(?:[eE][+-]?\\\\d+)?)%\\\\s*\",\n    reHex = /^#([0-9a-f]{3,8})$/,\n    reRgbInteger = new RegExp(`^rgb\\\\(${reI},${reI},${reI}\\\\)$`),\n    reRgbPercent = new RegExp(`^rgb\\\\(${reP},${reP},${reP}\\\\)$`),\n    reRgbaInteger = new RegExp(`^rgba\\\\(${reI},${reI},${reI},${reN}\\\\)$`),\n    reRgbaPercent = new RegExp(`^rgba\\\\(${reP},${reP},${reP},${reN}\\\\)$`),\n    reHslPercent = new RegExp(`^hsl\\\\(${reN},${reP},${reP}\\\\)$`),\n    reHslaPercent = new RegExp(`^hsla\\\\(${reN},${reP},${reP},${reN}\\\\)$`);\n\nvar named = {\n  aliceblue: 0xf0f8ff,\n  antiquewhite: 0xfaebd7,\n  aqua: 0x00ffff,\n  aquamarine: 0x7fffd4,\n  azure: 0xf0ffff,\n  beige: 0xf5f5dc,\n  bisque: 0xffe4c4,\n  black: 0x000000,\n  blanchedalmond: 0xffebcd,\n  blue: 0x0000ff,\n  blueviolet: 0x8a2be2,\n  brown: 0xa52a2a,\n  burlywood: 0xdeb887,\n  cadetblue: 0x5f9ea0,\n  chartreuse: 0x7fff00,\n  chocolate: 0xd2691e,\n  coral: 0xff7f50,\n  cornflowerblue: 0x6495ed,\n  cornsilk: 0xfff8dc,\n  crimson: 0xdc143c,\n  cyan: 0x00ffff,\n  darkblue: 0x00008b,\n  darkcyan: 0x008b8b,\n  darkgoldenrod: 0xb8860b,\n  darkgray: 0xa9a9a9,\n  darkgreen: 0x006400,\n  darkgrey: 0xa9a9a9,\n  darkkhaki: 0xbdb76b,\n  darkmagenta: 0x8b008b,\n  darkolivegreen: 0x556b2f,\n  darkorange: 0xff8c00,\n  darkorchid: 0x9932cc,\n  darkred: 0x8b0000,\n  darksalmon: 0xe9967a,\n  darkseagreen: 0x8fbc8f,\n  darkslateblue: 0x483d8b,\n  darkslategray: 0x2f4f4f,\n  darkslategrey: 0x2f4f4f,\n  darkturquoise: 0x00ced1,\n  darkviolet: 0x9400d3,\n  deeppink: 0xff1493,\n  deepskyblue: 0x00bfff,\n  dimgray: 0x696969,\n  dimgrey: 0x696969,\n  dodgerblue: 0x1e90ff,\n  firebrick: 0xb22222,\n  floralwhite: 0xfffaf0,\n  forestgreen: 0x228b22,\n  fuchsia: 0xff00ff,\n  gainsboro: 0xdcdcdc,\n  ghostwhite: 0xf8f8ff,\n  gold: 0xffd700,\n  goldenrod: 0xdaa520,\n  gray: 0x808080,\n  green: 0x008000,\n  greenyellow: 0xadff2f,\n  grey: 0x808080,\n  honeydew: 0xf0fff0,\n  hotpink: 0xff69b4,\n  indianred: 0xcd5c5c,\n  indigo: 0x4b0082,\n  ivory: 0xfffff0,\n  khaki: 0xf0e68c,\n  lavender: 0xe6e6fa,\n  lavenderblush: 0xfff0f5,\n  lawngreen: 0x7cfc00,\n  lemonchiffon: 0xfffacd,\n  lightblue: 0xadd8e6,\n  lightcoral: 0xf08080,\n  lightcyan: 0xe0ffff,\n  lightgoldenrodyellow: 0xfafad2,\n  lightgray: 0xd3d3d3,\n  lightgreen: 0x90ee90,\n  lightgrey: 0xd3d3d3,\n  lightpink: 0xffb6c1,\n  lightsalmon: 0xffa07a,\n  lightseagreen: 0x20b2aa,\n  lightskyblue: 0x87cefa,\n  lightslategray: 0x778899,\n  lightslategrey: 0x778899,\n  lightsteelblue: 0xb0c4de,\n  lightyellow: 0xffffe0,\n  lime: 0x00ff00,\n  limegreen: 0x32cd32,\n  linen: 0xfaf0e6,\n  magenta: 0xff00ff,\n  maroon: 0x800000,\n  mediumaquamarine: 0x66cdaa,\n  mediumblue: 0x0000cd,\n  mediumorchid: 0xba55d3,\n  mediumpurple: 0x9370db,\n  mediumseagreen: 0x3cb371,\n  mediumslateblue: 0x7b68ee,\n  mediumspringgreen: 0x00fa9a,\n  mediumturquoise: 0x48d1cc,\n  mediumvioletred: 0xc71585,\n  midnightblue: 0x191970,\n  mintcream: 0xf5fffa,\n  mistyrose: 0xffe4e1,\n  moccasin: 0xffe4b5,\n  navajowhite: 0xffdead,\n  navy: 0x000080,\n  oldlace: 0xfdf5e6,\n  olive: 0x808000,\n  olivedrab: 0x6b8e23,\n  orange: 0xffa500,\n  orangered: 0xff4500,\n  orchid: 0xda70d6,\n  palegoldenrod: 0xeee8aa,\n  palegreen: 0x98fb98,\n  paleturquoise: 0xafeeee,\n  palevioletred: 0xdb7093,\n  papayawhip: 0xffefd5,\n  peachpuff: 0xffdab9,\n  peru: 0xcd853f,\n  pink: 0xffc0cb,\n  plum: 0xdda0dd,\n  powderblue: 0xb0e0e6,\n  purple: 0x800080,\n  rebeccapurple: 0x663399,\n  red: 0xff0000,\n  rosybrown: 0xbc8f8f,\n  royalblue: 0x4169e1,\n  saddlebrown: 0x8b4513,\n  salmon: 0xfa8072,\n  sandybrown: 0xf4a460,\n  seagreen: 0x2e8b57,\n  seashell: 0xfff5ee,\n  sienna: 0xa0522d,\n  silver: 0xc0c0c0,\n  skyblue: 0x87ceeb,\n  slateblue: 0x6a5acd,\n  slategray: 0x708090,\n  slategrey: 0x708090,\n  snow: 0xfffafa,\n  springgreen: 0x00ff7f,\n  steelblue: 0x4682b4,\n  tan: 0xd2b48c,\n  teal: 0x008080,\n  thistle: 0xd8bfd8,\n  tomato: 0xff6347,\n  turquoise: 0x40e0d0,\n  violet: 0xee82ee,\n  wheat: 0xf5deb3,\n  white: 0xffffff,\n  whitesmoke: 0xf5f5f5,\n  yellow: 0xffff00,\n  yellowgreen: 0x9acd32\n};\n\ndefine(Color, color, {\n  copy(channels) {\n    return Object.assign(new this.constructor, this, channels);\n  },\n  displayable() {\n    return this.rgb().displayable();\n  },\n  hex: color_formatHex, // Deprecated! Use color.formatHex.\n  formatHex: color_formatHex,\n  formatHex8: color_formatHex8,\n  formatHsl: color_formatHsl,\n  formatRgb: color_formatRgb,\n  toString: color_formatRgb\n});\n\nfunction color_formatHex() {\n  return this.rgb().formatHex();\n}\n\nfunction color_formatHex8() {\n  return this.rgb().formatHex8();\n}\n\nfunction color_formatHsl() {\n  return hslConvert(this).formatHsl();\n}\n\nfunction color_formatRgb() {\n  return this.rgb().formatRgb();\n}\n\nexport default function color(format) {\n  var m, l;\n  format = (format + \"\").trim().toLowerCase();\n  return (m = reHex.exec(format)) ? (l = m[1].length, m = parseInt(m[1], 16), l === 6 ? rgbn(m) // #ff0000\n      : l === 3 ? new Rgb((m >> 8 & 0xf) | (m >> 4 & 0xf0), (m >> 4 & 0xf) | (m & 0xf0), ((m & 0xf) << 4) | (m & 0xf), 1) // #f00\n      : l === 8 ? rgba(m >> 24 & 0xff, m >> 16 & 0xff, m >> 8 & 0xff, (m & 0xff) / 0xff) // #ff000000\n      : l === 4 ? rgba((m >> 12 & 0xf) | (m >> 8 & 0xf0), (m >> 8 & 0xf) | (m >> 4 & 0xf0), (m >> 4 & 0xf) | (m & 0xf0), (((m & 0xf) << 4) | (m & 0xf)) / 0xff) // #f000\n      : null) // invalid hex\n      : (m = reRgbInteger.exec(format)) ? new Rgb(m[1], m[2], m[3], 1) // rgb(255, 0, 0)\n      : (m = reRgbPercent.exec(format)) ? new Rgb(m[1] * 255 / 100, m[2] * 255 / 100, m[3] * 255 / 100, 1) // rgb(100%, 0%, 0%)\n      : (m = reRgbaInteger.exec(format)) ? rgba(m[1], m[2], m[3], m[4]) // rgba(255, 0, 0, 1)\n      : (m = reRgbaPercent.exec(format)) ? rgba(m[1] * 255 / 100, m[2] * 255 / 100, m[3] * 255 / 100, m[4]) // rgb(100%, 0%, 0%, 1)\n      : (m = reHslPercent.exec(format)) ? hsla(m[1], m[2] / 100, m[3] / 100, 1) // hsl(120, 50%, 50%)\n      : (m = reHslaPercent.exec(format)) ? hsla(m[1], m[2] / 100, m[3] / 100, m[4]) // hsla(120, 50%, 50%, 1)\n      : named.hasOwnProperty(format) ? rgbn(named[format]) // eslint-disable-line no-prototype-builtins\n      : format === \"transparent\" ? new Rgb(NaN, NaN, NaN, 0)\n      : null;\n}\n\nfunction rgbn(n) {\n  return new Rgb(n >> 16 & 0xff, n >> 8 & 0xff, n & 0xff, 1);\n}\n\nfunction rgba(r, g, b, a) {\n  if (a <= 0) r = g = b = NaN;\n  return new Rgb(r, g, b, a);\n}\n\nexport function rgbConvert(o) {\n  if (!(o instanceof Color)) o = color(o);\n  if (!o) return new Rgb;\n  o = o.rgb();\n  return new Rgb(o.r, o.g, o.b, o.opacity);\n}\n\nexport function rgb(r, g, b, opacity) {\n  return arguments.length === 1 ? rgbConvert(r) : new Rgb(r, g, b, opacity == null ? 1 : opacity);\n}\n\nexport function Rgb(r, g, b, opacity) {\n  this.r = +r;\n  this.g = +g;\n  this.b = +b;\n  this.opacity = +opacity;\n}\n\ndefine(Rgb, rgb, extend(Color, {\n  brighter(k) {\n    k = k == null ? brighter : Math.pow(brighter, k);\n    return new Rgb(this.r * k, this.g * k, this.b * k, this.opacity);\n  },\n  darker(k) {\n    k = k == null ? darker : Math.pow(darker, k);\n    return new Rgb(this.r * k, this.g * k, this.b * k, this.opacity);\n  },\n  rgb() {\n    return this;\n  },\n  clamp() {\n    return new Rgb(clampi(this.r), clampi(this.g), clampi(this.b), clampa(this.opacity));\n  },\n  displayable() {\n    return (-0.5 <= this.r && this.r < 255.5)\n        && (-0.5 <= this.g && this.g < 255.5)\n        && (-0.5 <= this.b && this.b < 255.5)\n        && (0 <= this.opacity && this.opacity <= 1);\n  },\n  hex: rgb_formatHex, // Deprecated! Use color.formatHex.\n  formatHex: rgb_formatHex,\n  formatHex8: rgb_formatHex8,\n  formatRgb: rgb_formatRgb,\n  toString: rgb_formatRgb\n}));\n\nfunction rgb_formatHex() {\n  return `#${hex(this.r)}${hex(this.g)}${hex(this.b)}`;\n}\n\nfunction rgb_formatHex8() {\n  return `#${hex(this.r)}${hex(this.g)}${hex(this.b)}${hex((isNaN(this.opacity) ? 1 : this.opacity) * 255)}`;\n}\n\nfunction rgb_formatRgb() {\n  const a = clampa(this.opacity);\n  return `${a === 1 ? \"rgb(\" : \"rgba(\"}${clampi(this.r)}, ${clampi(this.g)}, ${clampi(this.b)}${a === 1 ? \")\" : `, ${a})`}`;\n}\n\nfunction clampa(opacity) {\n  return isNaN(opacity) ? 1 : Math.max(0, Math.min(1, opacity));\n}\n\nfunction clampi(value) {\n  return Math.max(0, Math.min(255, Math.round(value) || 0));\n}\n\nfunction hex(value) {\n  value = clampi(value);\n  return (value < 16 ? \"0\" : \"\") + value.toString(16);\n}\n\nfunction hsla(h, s, l, a) {\n  if (a <= 0) h = s = l = NaN;\n  else if (l <= 0 || l >= 1) h = s = NaN;\n  else if (s <= 0) h = NaN;\n  return new Hsl(h, s, l, a);\n}\n\nexport function hslConvert(o) {\n  if (o instanceof Hsl) return new Hsl(o.h, o.s, o.l, o.opacity);\n  if (!(o instanceof Color)) o = color(o);\n  if (!o) return new Hsl;\n  if (o instanceof Hsl) return o;\n  o = o.rgb();\n  var r = o.r / 255,\n      g = o.g / 255,\n      b = o.b / 255,\n      min = Math.min(r, g, b),\n      max = Math.max(r, g, b),\n      h = NaN,\n      s = max - min,\n      l = (max + min) / 2;\n  if (s) {\n    if (r === max) h = (g - b) / s + (g < b) * 6;\n    else if (g === max) h = (b - r) / s + 2;\n    else h = (r - g) / s + 4;\n    s /= l < 0.5 ? max + min : 2 - max - min;\n    h *= 60;\n  } else {\n    s = l > 0 && l < 1 ? 0 : h;\n  }\n  return new Hsl(h, s, l, o.opacity);\n}\n\nexport function hsl(h, s, l, opacity) {\n  return arguments.length === 1 ? hslConvert(h) : new Hsl(h, s, l, opacity == null ? 1 : opacity);\n}\n\nfunction Hsl(h, s, l, opacity) {\n  this.h = +h;\n  this.s = +s;\n  this.l = +l;\n  this.opacity = +opacity;\n}\n\ndefine(Hsl, hsl, extend(Color, {\n  brighter(k) {\n    k = k == null ? brighter : Math.pow(brighter, k);\n    return new Hsl(this.h, this.s, this.l * k, this.opacity);\n  },\n  darker(k) {\n    k = k == null ? darker : Math.pow(darker, k);\n    return new Hsl(this.h, this.s, this.l * k, this.opacity);\n  },\n  rgb() {\n    var h = this.h % 360 + (this.h < 0) * 360,\n        s = isNaN(h) || isNaN(this.s) ? 0 : this.s,\n        l = this.l,\n        m2 = l + (l < 0.5 ? l : 1 - l) * s,\n        m1 = 2 * l - m2;\n    return new Rgb(\n      hsl2rgb(h >= 240 ? h - 240 : h + 120, m1, m2),\n      hsl2rgb(h, m1, m2),\n      hsl2rgb(h < 120 ? h + 240 : h - 120, m1, m2),\n      this.opacity\n    );\n  },\n  clamp() {\n    return new Hsl(clamph(this.h), clampt(this.s), clampt(this.l), clampa(this.opacity));\n  },\n  displayable() {\n    return (0 <= this.s && this.s <= 1 || isNaN(this.s))\n        && (0 <= this.l && this.l <= 1)\n        && (0 <= this.opacity && this.opacity <= 1);\n  },\n  formatHsl() {\n    const a = clampa(this.opacity);\n    return `${a === 1 ? \"hsl(\" : \"hsla(\"}${clamph(this.h)}, ${clampt(this.s) * 100}%, ${clampt(this.l) * 100}%${a === 1 ? \")\" : `, ${a})`}`;\n  }\n}));\n\nfunction clamph(value) {\n  value = (value || 0) % 360;\n  return value < 0 ? value + 360 : value;\n}\n\nfunction clampt(value) {\n  return Math.max(0, Math.min(1, value || 0));\n}\n\n/* From FvD 13.37, CSS Color Module Level 3 */\nfunction hsl2rgb(h, m1, m2) {\n  return (h < 60 ? m1 + (m2 - m1) * h / 60\n      : h < 180 ? m2\n      : h < 240 ? m1 + (m2 - m1) * (240 - h) / 60\n      : m1) * 255;\n}\n", "export function basis(t1, v0, v1, v2, v3) {\n  var t2 = t1 * t1, t3 = t2 * t1;\n  return ((1 - 3 * t1 + 3 * t2 - t3) * v0\n      + (4 - 6 * t2 + 3 * t3) * v1\n      + (1 + 3 * t1 + 3 * t2 - 3 * t3) * v2\n      + t3 * v3) / 6;\n}\n\nexport default function(values) {\n  var n = values.length - 1;\n  return function(t) {\n    var i = t <= 0 ? (t = 0) : t >= 1 ? (t = 1, n - 1) : Math.floor(t * n),\n        v1 = values[i],\n        v2 = values[i + 1],\n        v0 = i > 0 ? values[i - 1] : 2 * v1 - v2,\n        v3 = i < n - 1 ? values[i + 2] : 2 * v2 - v1;\n    return basis((t - i / n) * n, v0, v1, v2, v3);\n  };\n}\n", "import {basis} from \"./basis.js\";\n\nexport default function(values) {\n  var n = values.length;\n  return function(t) {\n    var i = Math.floor(((t %= 1) < 0 ? ++t : t) * n),\n        v0 = values[(i + n - 1) % n],\n        v1 = values[i % n],\n        v2 = values[(i + 1) % n],\n        v3 = values[(i + 2) % n];\n    return basis((t - i / n) * n, v0, v1, v2, v3);\n  };\n}\n", "export default x => () => x;\n", "import constant from \"./constant.js\";\n\nfunction linear(a, d) {\n  return function(t) {\n    return a + t * d;\n  };\n}\n\nfunction exponential(a, b, y) {\n  return a = Math.pow(a, y), b = Math.pow(b, y) - a, y = 1 / y, function(t) {\n    return Math.pow(a + t * b, y);\n  };\n}\n\nexport function hue(a, b) {\n  var d = b - a;\n  return d ? linear(a, d > 180 || d < -180 ? d - 360 * Math.round(d / 360) : d) : constant(isNaN(a) ? b : a);\n}\n\nexport function gamma(y) {\n  return (y = +y) === 1 ? nogamma : function(a, b) {\n    return b - a ? exponential(a, b, y) : constant(isNaN(a) ? b : a);\n  };\n}\n\nexport default function nogamma(a, b) {\n  var d = b - a;\n  return d ? linear(a, d) : constant(isNaN(a) ? b : a);\n}\n", "import {rgb as colorRgb} from \"d3-color\";\nimport basis from \"./basis.js\";\nimport basisClosed from \"./basisClosed.js\";\nimport nogamma, {gamma} from \"./color.js\";\n\nexport default (function rgbGamma(y) {\n  var color = gamma(y);\n\n  function rgb(start, end) {\n    var r = color((start = colorRgb(start)).r, (end = colorRgb(end)).r),\n        g = color(start.g, end.g),\n        b = color(start.b, end.b),\n        opacity = nogamma(start.opacity, end.opacity);\n    return function(t) {\n      start.r = r(t);\n      start.g = g(t);\n      start.b = b(t);\n      start.opacity = opacity(t);\n      return start + \"\";\n    };\n  }\n\n  rgb.gamma = rgbGamma;\n\n  return rgb;\n})(1);\n\nfunction rgbSpline(spline) {\n  return function(colors) {\n    var n = colors.length,\n        r = new Array(n),\n        g = new Array(n),\n        b = new Array(n),\n        i, color;\n    for (i = 0; i < n; ++i) {\n      color = colorRgb(colors[i]);\n      r[i] = color.r || 0;\n      g[i] = color.g || 0;\n      b[i] = color.b || 0;\n    }\n    r = spline(r);\n    g = spline(g);\n    b = spline(b);\n    color.opacity = 1;\n    return function(t) {\n      color.r = r(t);\n      color.g = g(t);\n      color.b = b(t);\n      return color + \"\";\n    };\n  };\n}\n\nexport var rgbBasis = rgbSpline(basis);\nexport var rgbBasisClosed = rgbSpline(basisClosed);\n", "export default function(a, b) {\n  if (!b) b = [];\n  var n = a ? Math.min(b.length, a.length) : 0,\n      c = b.slice(),\n      i;\n  return function(t) {\n    for (i = 0; i < n; ++i) c[i] = a[i] * (1 - t) + b[i] * t;\n    return c;\n  };\n}\n\nexport function isNumberArray(x) {\n  return ArrayBuffer.isView(x) && !(x instanceof DataView);\n}\n", "import value from \"./value.js\";\nimport numberArray, {isNumberArray} from \"./numberArray.js\";\n\nexport default function(a, b) {\n  return (isNumberArray(b) ? numberArray : genericArray)(a, b);\n}\n\nexport function genericArray(a, b) {\n  var nb = b ? b.length : 0,\n      na = a ? Math.min(nb, a.length) : 0,\n      x = new Array(na),\n      c = new Array(nb),\n      i;\n\n  for (i = 0; i < na; ++i) x[i] = value(a[i], b[i]);\n  for (; i < nb; ++i) c[i] = b[i];\n\n  return function(t) {\n    for (i = 0; i < na; ++i) c[i] = x[i](t);\n    return c;\n  };\n}\n", "export default function(a, b) {\n  var d = new Date;\n  return a = +a, b = +b, function(t) {\n    return d.setTime(a * (1 - t) + b * t), d;\n  };\n}\n", "export default function(a, b) {\n  return a = +a, b = +b, function(t) {\n    return a * (1 - t) + b * t;\n  };\n}\n", "import value from \"./value.js\";\n\nexport default function(a, b) {\n  var i = {},\n      c = {},\n      k;\n\n  if (a === null || typeof a !== \"object\") a = {};\n  if (b === null || typeof b !== \"object\") b = {};\n\n  for (k in b) {\n    if (k in a) {\n      i[k] = value(a[k], b[k]);\n    } else {\n      c[k] = b[k];\n    }\n  }\n\n  return function(t) {\n    for (k in i) c[k] = i[k](t);\n    return c;\n  };\n}\n", "import number from \"./number.js\";\n\nvar reA = /[-+]?(?:\\d+\\.?\\d*|\\.?\\d+)(?:[eE][-+]?\\d+)?/g,\n    reB = new RegExp(reA.source, \"g\");\n\nfunction zero(b) {\n  return function() {\n    return b;\n  };\n}\n\nfunction one(b) {\n  return function(t) {\n    return b(t) + \"\";\n  };\n}\n\nexport default function(a, b) {\n  var bi = reA.lastIndex = reB.lastIndex = 0, // scan index for next number in b\n      am, // current match in a\n      bm, // current match in b\n      bs, // string preceding current number in b, if any\n      i = -1, // index in s\n      s = [], // string constants and placeholders\n      q = []; // number interpolators\n\n  // Coerce inputs to strings.\n  a = a + \"\", b = b + \"\";\n\n  // Interpolate pairs of numbers in a & b.\n  while ((am = reA.exec(a))\n      && (bm = reB.exec(b))) {\n    if ((bs = bm.index) > bi) { // a string precedes the next number in b\n      bs = b.slice(bi, bs);\n      if (s[i]) s[i] += bs; // coalesce with previous string\n      else s[++i] = bs;\n    }\n    if ((am = am[0]) === (bm = bm[0])) { // numbers in a & b match\n      if (s[i]) s[i] += bm; // coalesce with previous string\n      else s[++i] = bm;\n    } else { // interpolate non-matching numbers\n      s[++i] = null;\n      q.push({i: i, x: number(am, bm)});\n    }\n    bi = reB.lastIndex;\n  }\n\n  // Add remains of b.\n  if (bi < b.length) {\n    bs = b.slice(bi);\n    if (s[i]) s[i] += bs; // coalesce with previous string\n    else s[++i] = bs;\n  }\n\n  // Special optimization for only a single match.\n  // Otherwise, interpolate each of the numbers and rejoin the string.\n  return s.length < 2 ? (q[0]\n      ? one(q[0].x)\n      : zero(b))\n      : (b = q.length, function(t) {\n          for (var i = 0, o; i < b; ++i) s[(o = q[i]).i] = o.x(t);\n          return s.join(\"\");\n        });\n}\n", "import {color} from \"d3-color\";\nimport rgb from \"./rgb.js\";\nimport {genericArray} from \"./array.js\";\nimport date from \"./date.js\";\nimport number from \"./number.js\";\nimport object from \"./object.js\";\nimport string from \"./string.js\";\nimport constant from \"./constant.js\";\nimport numberArray, {isNumberArray} from \"./numberArray.js\";\n\nexport default function(a, b) {\n  var t = typeof b, c;\n  return b == null || t === \"boolean\" ? constant(b)\n      : (t === \"number\" ? number\n      : t === \"string\" ? ((c = color(b)) ? (b = c, rgb) : string)\n      : b instanceof color ? rgb\n      : b instanceof Date ? date\n      : isNumberArray(b) ? numberArray\n      : Array.isArray(b) ? genericArray\n      : typeof b.valueOf !== \"function\" && typeof b.toString !== \"function\" || isNaN(b) ? object\n      : number)(a, b);\n}\n", "export default function(a, b) {\n  return a = +a, b = +b, function(t) {\n    return Math.round(a * (1 - t) + b * t);\n  };\n}\n", "export default function constants(x) {\n  return function() {\n    return x;\n  };\n}\n", "export default function number(x) {\n  return +x;\n}\n", "import {bisect} from \"d3-array\";\nimport {interpolate as interpolateValue, interpolateNumber, interpolateRound} from \"d3-interpolate\";\nimport constant from \"./constant.js\";\nimport number from \"./number.js\";\n\nvar unit = [0, 1];\n\nexport function identity(x) {\n  return x;\n}\n\nfunction normalize(a, b) {\n  return (b -= (a = +a))\n      ? function(x) { return (x - a) / b; }\n      : constant(isNaN(b) ? NaN : 0.5);\n}\n\nfunction clamper(a, b) {\n  var t;\n  if (a > b) t = a, a = b, b = t;\n  return function(x) { return Math.max(a, Math.min(b, x)); };\n}\n\n// normalize(a, b)(x) takes a domain value x in [a,b] and returns the corresponding parameter t in [0,1].\n// interpolate(a, b)(t) takes a parameter t in [0,1] and returns the corresponding range value x in [a,b].\nfunction bimap(domain, range, interpolate) {\n  var d0 = domain[0], d1 = domain[1], r0 = range[0], r1 = range[1];\n  if (d1 < d0) d0 = normalize(d1, d0), r0 = interpolate(r1, r0);\n  else d0 = normalize(d0, d1), r0 = interpolate(r0, r1);\n  return function(x) { return r0(d0(x)); };\n}\n\nfunction polymap(domain, range, interpolate) {\n  var j = Math.min(domain.length, range.length) - 1,\n      d = new Array(j),\n      r = new Array(j),\n      i = -1;\n\n  // Reverse descending domains.\n  if (domain[j] < domain[0]) {\n    domain = domain.slice().reverse();\n    range = range.slice().reverse();\n  }\n\n  while (++i < j) {\n    d[i] = normalize(domain[i], domain[i + 1]);\n    r[i] = interpolate(range[i], range[i + 1]);\n  }\n\n  return function(x) {\n    var i = bisect(domain, x, 1, j) - 1;\n    return r[i](d[i](x));\n  };\n}\n\nexport function copy(source, target) {\n  return target\n      .domain(source.domain())\n      .range(source.range())\n      .interpolate(source.interpolate())\n      .clamp(source.clamp())\n      .unknown(source.unknown());\n}\n\nexport function transformer() {\n  var domain = unit,\n      range = unit,\n      interpolate = interpolateValue,\n      transform,\n      untransform,\n      unknown,\n      clamp = identity,\n      piecewise,\n      output,\n      input;\n\n  function rescale() {\n    var n = Math.min(domain.length, range.length);\n    if (clamp !== identity) clamp = clamper(domain[0], domain[n - 1]);\n    piecewise = n > 2 ? polymap : bimap;\n    output = input = null;\n    return scale;\n  }\n\n  function scale(x) {\n    return x == null || isNaN(x = +x) ? unknown : (output || (output = piecewise(domain.map(transform), range, interpolate)))(transform(clamp(x)));\n  }\n\n  scale.invert = function(y) {\n    return clamp(untransform((input || (input = piecewise(range, domain.map(transform), interpolateNumber)))(y)));\n  };\n\n  scale.domain = function(_) {\n    return arguments.length ? (domain = Array.from(_, number), rescale()) : domain.slice();\n  };\n\n  scale.range = function(_) {\n    return arguments.length ? (range = Array.from(_), rescale()) : range.slice();\n  };\n\n  scale.rangeRound = function(_) {\n    return range = Array.from(_), interpolate = interpolateRound, rescale();\n  };\n\n  scale.clamp = function(_) {\n    return arguments.length ? (clamp = _ ? true : identity, rescale()) : clamp !== identity;\n  };\n\n  scale.interpolate = function(_) {\n    return arguments.length ? (interpolate = _, rescale()) : interpolate;\n  };\n\n  scale.unknown = function(_) {\n    return arguments.length ? (unknown = _, scale) : unknown;\n  };\n\n  return function(t, u) {\n    transform = t, untransform = u;\n    return rescale();\n  };\n}\n\nexport default function continuous() {\n  return transformer()(identity, identity);\n}\n", "export default function(x) {\n  return Math.abs(x = Math.round(x)) >= 1e21\n      ? x.toLocaleString(\"en\").replace(/,/g, \"\")\n      : x.toString(10);\n}\n\n// Computes the decimal coefficient and exponent of the specified number x with\n// significant digits p, where x is positive and p is in [1, 21] or undefined.\n// For example, formatDecimalParts(1.23) returns [\"123\", 0].\nexport function formatDecimalParts(x, p) {\n  if ((i = (x = p ? x.toExponential(p - 1) : x.toExponential()).indexOf(\"e\")) < 0) return null; // NaN, \u00B1Infinity\n  var i, coefficient = x.slice(0, i);\n\n  // The string returned by toExponential either has the form \\d\\.\\d+e[-+]\\d+\n  // (e.g., 1.2e+3) or the form \\de[-+]\\d+ (e.g., 1e+3).\n  return [\n    coefficient.length > 1 ? coefficient[0] + coefficient.slice(2) : coefficient,\n    +x.slice(i + 1)\n  ];\n}\n", "import {formatDecimalParts} from \"./formatDecimal.js\";\n\nexport default function(x) {\n  return x = formatDecimalParts(Math.abs(x)), x ? x[1] : NaN;\n}\n", "export default function(grouping, thousands) {\n  return function(value, width) {\n    var i = value.length,\n        t = [],\n        j = 0,\n        g = grouping[0],\n        length = 0;\n\n    while (i > 0 && g > 0) {\n      if (length + g + 1 > width) g = Math.max(1, width - length);\n      t.push(value.substring(i -= g, i + g));\n      if ((length += g + 1) > width) break;\n      g = grouping[j = (j + 1) % grouping.length];\n    }\n\n    return t.reverse().join(thousands);\n  };\n}\n", "export default function(numerals) {\n  return function(value) {\n    return value.replace(/[0-9]/g, function(i) {\n      return numerals[+i];\n    });\n  };\n}\n", "// [[fill]align][sign][symbol][0][width][,][.precision][~][type]\nvar re = /^(?:(.)?([<>=^]))?([+\\-( ])?([$#])?(0)?(\\d+)?(,)?(\\.\\d+)?(~)?([a-z%])?$/i;\n\nexport default function formatSpecifier(specifier) {\n  if (!(match = re.exec(specifier))) throw new Error(\"invalid format: \" + specifier);\n  var match;\n  return new FormatSpecifier({\n    fill: match[1],\n    align: match[2],\n    sign: match[3],\n    symbol: match[4],\n    zero: match[5],\n    width: match[6],\n    comma: match[7],\n    precision: match[8] && match[8].slice(1),\n    trim: match[9],\n    type: match[10]\n  });\n}\n\nformatSpecifier.prototype = FormatSpecifier.prototype; // instanceof\n\nexport function FormatSpecifier(specifier) {\n  this.fill = specifier.fill === undefined ? \" \" : specifier.fill + \"\";\n  this.align = specifier.align === undefined ? \">\" : specifier.align + \"\";\n  this.sign = specifier.sign === undefined ? \"-\" : specifier.sign + \"\";\n  this.symbol = specifier.symbol === undefined ? \"\" : specifier.symbol + \"\";\n  this.zero = !!specifier.zero;\n  this.width = specifier.width === undefined ? undefined : +specifier.width;\n  this.comma = !!specifier.comma;\n  this.precision = specifier.precision === undefined ? undefined : +specifier.precision;\n  this.trim = !!specifier.trim;\n  this.type = specifier.type === undefined ? \"\" : specifier.type + \"\";\n}\n\nFormatSpecifier.prototype.toString = function() {\n  return this.fill\n      + this.align\n      + this.sign\n      + this.symbol\n      + (this.zero ? \"0\" : \"\")\n      + (this.width === undefined ? \"\" : Math.max(1, this.width | 0))\n      + (this.comma ? \",\" : \"\")\n      + (this.precision === undefined ? \"\" : \".\" + Math.max(0, this.precision | 0))\n      + (this.trim ? \"~\" : \"\")\n      + this.type;\n};\n", "// Trims insignificant zeros, e.g., replaces 1.2000k with 1.2k.\nexport default function(s) {\n  out: for (var n = s.length, i = 1, i0 = -1, i1; i < n; ++i) {\n    switch (s[i]) {\n      case \".\": i0 = i1 = i; break;\n      case \"0\": if (i0 === 0) i0 = i; i1 = i; break;\n      default: if (!+s[i]) break out; if (i0 > 0) i0 = 0; break;\n    }\n  }\n  return i0 > 0 ? s.slice(0, i0) + s.slice(i1 + 1) : s;\n}\n", "import {formatDecimalParts} from \"./formatDecimal.js\";\n\nexport var prefixExponent;\n\nexport default function(x, p) {\n  var d = formatDecimalParts(x, p);\n  if (!d) return x + \"\";\n  var coefficient = d[0],\n      exponent = d[1],\n      i = exponent - (prefixExponent = Math.max(-8, Math.min(8, Math.floor(exponent / 3))) * 3) + 1,\n      n = coefficient.length;\n  return i === n ? coefficient\n      : i > n ? coefficient + new Array(i - n + 1).join(\"0\")\n      : i > 0 ? coefficient.slice(0, i) + \".\" + coefficient.slice(i)\n      : \"0.\" + new Array(1 - i).join(\"0\") + formatDecimalParts(x, Math.max(0, p + i - 1))[0]; // less than 1y!\n}\n", "import {formatDecimalParts} from \"./formatDecimal.js\";\n\nexport default function(x, p) {\n  var d = formatDecimalParts(x, p);\n  if (!d) return x + \"\";\n  var coefficient = d[0],\n      exponent = d[1];\n  return exponent < 0 ? \"0.\" + new Array(-exponent).join(\"0\") + coefficient\n      : coefficient.length > exponent + 1 ? coefficient.slice(0, exponent + 1) + \".\" + coefficient.slice(exponent + 1)\n      : coefficient + new Array(exponent - coefficient.length + 2).join(\"0\");\n}\n", "import formatDecimal from \"./formatDecimal.js\";\nimport formatPrefixAuto from \"./formatPrefixAuto.js\";\nimport formatRounded from \"./formatRounded.js\";\n\nexport default {\n  \"%\": (x, p) => (x * 100).toFixed(p),\n  \"b\": (x) => Math.round(x).toString(2),\n  \"c\": (x) => x + \"\",\n  \"d\": formatDecimal,\n  \"e\": (x, p) => x.toExponential(p),\n  \"f\": (x, p) => x.toFixed(p),\n  \"g\": (x, p) => x.toPrecision(p),\n  \"o\": (x) => Math.round(x).toString(8),\n  \"p\": (x, p) => formatRounded(x * 100, p),\n  \"r\": formatRounded,\n  \"s\": formatPrefixAuto,\n  \"X\": (x) => Math.round(x).toString(16).toUpperCase(),\n  \"x\": (x) => Math.round(x).toString(16)\n};\n", "export default function(x) {\n  return x;\n}\n", "import exponent from \"./exponent.js\";\nimport formatGroup from \"./formatGroup.js\";\nimport formatNumerals from \"./formatNumerals.js\";\nimport formatSpecifier from \"./formatSpecifier.js\";\nimport formatTrim from \"./formatTrim.js\";\nimport formatTypes from \"./formatTypes.js\";\nimport {prefixExponent} from \"./formatPrefixAuto.js\";\nimport identity from \"./identity.js\";\n\nvar map = Array.prototype.map,\n    prefixes = [\"y\",\"z\",\"a\",\"f\",\"p\",\"n\",\"\u00B5\",\"m\",\"\",\"k\",\"M\",\"G\",\"T\",\"P\",\"E\",\"Z\",\"Y\"];\n\nexport default function(locale) {\n  var group = locale.grouping === undefined || locale.thousands === undefined ? identity : formatGroup(map.call(locale.grouping, Number), locale.thousands + \"\"),\n      currencyPrefix = locale.currency === undefined ? \"\" : locale.currency[0] + \"\",\n      currencySuffix = locale.currency === undefined ? \"\" : locale.currency[1] + \"\",\n      decimal = locale.decimal === undefined ? \".\" : locale.decimal + \"\",\n      numerals = locale.numerals === undefined ? identity : formatNumerals(map.call(locale.numerals, String)),\n      percent = locale.percent === undefined ? \"%\" : locale.percent + \"\",\n      minus = locale.minus === undefined ? \"\u2212\" : locale.minus + \"\",\n      nan = locale.nan === undefined ? \"NaN\" : locale.nan + \"\";\n\n  function newFormat(specifier) {\n    specifier = formatSpecifier(specifier);\n\n    var fill = specifier.fill,\n        align = specifier.align,\n        sign = specifier.sign,\n        symbol = specifier.symbol,\n        zero = specifier.zero,\n        width = specifier.width,\n        comma = specifier.comma,\n        precision = specifier.precision,\n        trim = specifier.trim,\n        type = specifier.type;\n\n    // The \"n\" type is an alias for \",g\".\n    if (type === \"n\") comma = true, type = \"g\";\n\n    // The \"\" type, and any invalid type, is an alias for \".12~g\".\n    else if (!formatTypes[type]) precision === undefined && (precision = 12), trim = true, type = \"g\";\n\n    // If zero fill is specified, padding goes after sign and before digits.\n    if (zero || (fill === \"0\" && align === \"=\")) zero = true, fill = \"0\", align = \"=\";\n\n    // Compute the prefix and suffix.\n    // For SI-prefix, the suffix is lazily computed.\n    var prefix = symbol === \"$\" ? currencyPrefix : symbol === \"#\" && /[boxX]/.test(type) ? \"0\" + type.toLowerCase() : \"\",\n        suffix = symbol === \"$\" ? currencySuffix : /[%p]/.test(type) ? percent : \"\";\n\n    // What format function should we use?\n    // Is this an integer type?\n    // Can this type generate exponential notation?\n    var formatType = formatTypes[type],\n        maybeSuffix = /[defgprs%]/.test(type);\n\n    // Set the default precision if not specified,\n    // or clamp the specified precision to the supported range.\n    // For significant precision, it must be in [1, 21].\n    // For fixed precision, it must be in [0, 20].\n    precision = precision === undefined ? 6\n        : /[gprs]/.test(type) ? Math.max(1, Math.min(21, precision))\n        : Math.max(0, Math.min(20, precision));\n\n    function format(value) {\n      var valuePrefix = prefix,\n          valueSuffix = suffix,\n          i, n, c;\n\n      if (type === \"c\") {\n        valueSuffix = formatType(value) + valueSuffix;\n        value = \"\";\n      } else {\n        value = +value;\n\n        // Determine the sign. -0 is not less than 0, but 1 / -0 is!\n        var valueNegative = value < 0 || 1 / value < 0;\n\n        // Perform the initial formatting.\n        value = isNaN(value) ? nan : formatType(Math.abs(value), precision);\n\n        // Trim insignificant zeros.\n        if (trim) value = formatTrim(value);\n\n        // If a negative value rounds to zero after formatting, and no explicit positive sign is requested, hide the sign.\n        if (valueNegative && +value === 0 && sign !== \"+\") valueNegative = false;\n\n        // Compute the prefix and suffix.\n        valuePrefix = (valueNegative ? (sign === \"(\" ? sign : minus) : sign === \"-\" || sign === \"(\" ? \"\" : sign) + valuePrefix;\n        valueSuffix = (type === \"s\" ? prefixes[8 + prefixExponent / 3] : \"\") + valueSuffix + (valueNegative && sign === \"(\" ? \")\" : \"\");\n\n        // Break the formatted value into the integer \u201Cvalue\u201D part that can be\n        // grouped, and fractional or exponential \u201Csuffix\u201D part that is not.\n        if (maybeSuffix) {\n          i = -1, n = value.length;\n          while (++i < n) {\n            if (c = value.charCodeAt(i), 48 > c || c > 57) {\n              valueSuffix = (c === 46 ? decimal + value.slice(i + 1) : value.slice(i)) + valueSuffix;\n              value = value.slice(0, i);\n              break;\n            }\n          }\n        }\n      }\n\n      // If the fill character is not \"0\", grouping is applied before padding.\n      if (comma && !zero) value = group(value, Infinity);\n\n      // Compute the padding.\n      var length = valuePrefix.length + value.length + valueSuffix.length,\n          padding = length < width ? new Array(width - length + 1).join(fill) : \"\";\n\n      // If the fill character is \"0\", grouping is applied after padding.\n      if (comma && zero) value = group(padding + value, padding.length ? width - valueSuffix.length : Infinity), padding = \"\";\n\n      // Reconstruct the final output based on the desired alignment.\n      switch (align) {\n        case \"<\": value = valuePrefix + value + valueSuffix + padding; break;\n        case \"=\": value = valuePrefix + padding + value + valueSuffix; break;\n        case \"^\": value = padding.slice(0, length = padding.length >> 1) + valuePrefix + value + valueSuffix + padding.slice(length); break;\n        default: value = padding + valuePrefix + value + valueSuffix; break;\n      }\n\n      return numerals(value);\n    }\n\n    format.toString = function() {\n      return specifier + \"\";\n    };\n\n    return format;\n  }\n\n  function formatPrefix(specifier, value) {\n    var f = newFormat((specifier = formatSpecifier(specifier), specifier.type = \"f\", specifier)),\n        e = Math.max(-8, Math.min(8, Math.floor(exponent(value) / 3))) * 3,\n        k = Math.pow(10, -e),\n        prefix = prefixes[8 + e / 3];\n    return function(value) {\n      return f(k * value) + prefix;\n    };\n  }\n\n  return {\n    format: newFormat,\n    formatPrefix: formatPrefix\n  };\n}\n", "import formatLocale from \"./locale.js\";\n\nvar locale;\nexport var format;\nexport var formatPrefix;\n\ndefaultLocale({\n  thousands: \",\",\n  grouping: [3],\n  currency: [\"$\", \"\"]\n});\n\nexport default function defaultLocale(definition) {\n  locale = formatLocale(definition);\n  format = locale.format;\n  formatPrefix = locale.formatPrefix;\n  return locale;\n}\n", "import exponent from \"./exponent.js\";\n\nexport default function(step) {\n  return Math.max(0, -exponent(Math.abs(step)));\n}\n", "import exponent from \"./exponent.js\";\n\nexport default function(step, value) {\n  return Math.max(0, Math.max(-8, Math.min(8, Math.floor(exponent(value) / 3))) * 3 - exponent(Math.abs(step)));\n}\n", "import exponent from \"./exponent.js\";\n\nexport default function(step, max) {\n  step = Math.abs(step), max = Math.abs(max) - step;\n  return Math.max(0, exponent(max) - exponent(step)) + 1;\n}\n", "import {tickStep} from \"d3-array\";\nimport {format, formatPrefix, formatSpecifier, precisionFixed, precisionPrefix, precisionRound} from \"d3-format\";\n\nexport default function tickFormat(start, stop, count, specifier) {\n  var step = tickStep(start, stop, count),\n      precision;\n  specifier = formatSpecifier(specifier == null ? \",f\" : specifier);\n  switch (specifier.type) {\n    case \"s\": {\n      var value = Math.max(Math.abs(start), Math.abs(stop));\n      if (specifier.precision == null && !isNaN(precision = precisionPrefix(step, value))) specifier.precision = precision;\n      return formatPrefix(specifier, value);\n    }\n    case \"\":\n    case \"e\":\n    case \"g\":\n    case \"p\":\n    case \"r\": {\n      if (specifier.precision == null && !isNaN(precision = precisionRound(step, Math.max(Math.abs(start), Math.abs(stop))))) specifier.precision = precision - (specifier.type === \"e\");\n      break;\n    }\n    case \"f\":\n    case \"%\": {\n      if (specifier.precision == null && !isNaN(precision = precisionFixed(step))) specifier.precision = precision - (specifier.type === \"%\") * 2;\n      break;\n    }\n  }\n  return format(specifier);\n}\n", "import {ticks, tickIncrement} from \"d3-array\";\nimport continuous, {copy} from \"./continuous.js\";\nimport {initRange} from \"./init.js\";\nimport tickFormat from \"./tickFormat.js\";\n\nexport function linearish(scale) {\n  var domain = scale.domain;\n\n  scale.ticks = function(count) {\n    var d = domain();\n    return ticks(d[0], d[d.length - 1], count == null ? 10 : count);\n  };\n\n  scale.tickFormat = function(count, specifier) {\n    var d = domain();\n    return tickFormat(d[0], d[d.length - 1], count == null ? 10 : count, specifier);\n  };\n\n  scale.nice = function(count) {\n    if (count == null) count = 10;\n\n    var d = domain();\n    var i0 = 0;\n    var i1 = d.length - 1;\n    var start = d[i0];\n    var stop = d[i1];\n    var prestep;\n    var step;\n    var maxIter = 10;\n\n    if (stop < start) {\n      step = start, start = stop, stop = step;\n      step = i0, i0 = i1, i1 = step;\n    }\n    \n    while (maxIter-- > 0) {\n      step = tickIncrement(start, stop, count);\n      if (step === prestep) {\n        d[i0] = start\n        d[i1] = stop\n        return domain(d);\n      } else if (step > 0) {\n        start = Math.floor(start / step) * step;\n        stop = Math.ceil(stop / step) * step;\n      } else if (step < 0) {\n        start = Math.ceil(start * step) / step;\n        stop = Math.floor(stop * step) / step;\n      } else {\n        break;\n      }\n      prestep = step;\n    }\n\n    return scale;\n  };\n\n  return scale;\n}\n\nexport default function linear() {\n  var scale = continuous();\n\n  scale.copy = function() {\n    return copy(scale, linear());\n  };\n\n  initRange.apply(scale, arguments);\n\n  return linearish(scale);\n}\n", "export default function nice(domain, interval) {\n  domain = domain.slice();\n\n  var i0 = 0,\n      i1 = domain.length - 1,\n      x0 = domain[i0],\n      x1 = domain[i1],\n      t;\n\n  if (x1 < x0) {\n    t = i0, i0 = i1, i1 = t;\n    t = x0, x0 = x1, x1 = t;\n  }\n\n  domain[i0] = interval.floor(x0);\n  domain[i1] = interval.ceil(x1);\n  return domain;\n}\n", "const t0 = new Date, t1 = new Date;\n\nexport function timeInterval(floori, offseti, count, field) {\n\n  function interval(date) {\n    return floori(date = arguments.length === 0 ? new Date : new Date(+date)), date;\n  }\n\n  interval.floor = (date) => {\n    return floori(date = new Date(+date)), date;\n  };\n\n  interval.ceil = (date) => {\n    return floori(date = new Date(date - 1)), offseti(date, 1), floori(date), date;\n  };\n\n  interval.round = (date) => {\n    const d0 = interval(date), d1 = interval.ceil(date);\n    return date - d0 < d1 - date ? d0 : d1;\n  };\n\n  interval.offset = (date, step) => {\n    return offseti(date = new Date(+date), step == null ? 1 : Math.floor(step)), date;\n  };\n\n  interval.range = (start, stop, step) => {\n    const range = [];\n    start = interval.ceil(start);\n    step = step == null ? 1 : Math.floor(step);\n    if (!(start < stop) || !(step > 0)) return range; // also handles Invalid Date\n    let previous;\n    do range.push(previous = new Date(+start)), offseti(start, step), floori(start);\n    while (previous < start && start < stop);\n    return range;\n  };\n\n  interval.filter = (test) => {\n    return timeInterval((date) => {\n      if (date >= date) while (floori(date), !test(date)) date.setTime(date - 1);\n    }, (date, step) => {\n      if (date >= date) {\n        if (step < 0) while (++step <= 0) {\n          while (offseti(date, -1), !test(date)) {} // eslint-disable-line no-empty\n        } else while (--step >= 0) {\n          while (offseti(date, +1), !test(date)) {} // eslint-disable-line no-empty\n        }\n      }\n    });\n  };\n\n  if (count) {\n    interval.count = (start, end) => {\n      t0.setTime(+start), t1.setTime(+end);\n      floori(t0), floori(t1);\n      return Math.floor(count(t0, t1));\n    };\n\n    interval.every = (step) => {\n      step = Math.floor(step);\n      return !isFinite(step) || !(step > 0) ? null\n          : !(step > 1) ? interval\n          : interval.filter(field\n              ? (d) => field(d) % step === 0\n              : (d) => interval.count(0, d) % step === 0);\n    };\n  }\n\n  return interval;\n}\n", "import {timeInterval} from \"./interval.js\";\n\nexport const millisecond = timeInterval(() => {\n  // noop\n}, (date, step) => {\n  date.setTime(+date + step);\n}, (start, end) => {\n  return end - start;\n});\n\n// An optimized implementation for this simple case.\nmillisecond.every = (k) => {\n  k = Math.floor(k);\n  if (!isFinite(k) || !(k > 0)) return null;\n  if (!(k > 1)) return millisecond;\n  return timeInterval((date) => {\n    date.setTime(Math.floor(date / k) * k);\n  }, (date, step) => {\n    date.setTime(+date + step * k);\n  }, (start, end) => {\n    return (end - start) / k;\n  });\n};\n\nexport const milliseconds = millisecond.range;\n", "export const durationSecond = 1000;\nexport const durationMinute = durationSecond * 60;\nexport const durationHour = durationMinute * 60;\nexport const durationDay = durationHour * 24;\nexport const durationWeek = durationDay * 7;\nexport const durationMonth = durationDay * 30;\nexport const durationYear = durationDay * 365;\n", "import {timeInterval} from \"./interval.js\";\nimport {durationSecond} from \"./duration.js\";\n\nexport const second = timeInterval((date) => {\n  date.setTime(date - date.getMilliseconds());\n}, (date, step) => {\n  date.setTime(+date + step * durationSecond);\n}, (start, end) => {\n  return (end - start) / durationSecond;\n}, (date) => {\n  return date.getUTCSeconds();\n});\n\nexport const seconds = second.range;\n", "import {timeInterval} from \"./interval.js\";\nimport {durationMinute, durationSecond} from \"./duration.js\";\n\nexport const timeMinute = timeInterval((date) => {\n  date.setTime(date - date.getMilliseconds() - date.getSeconds() * durationSecond);\n}, (date, step) => {\n  date.setTime(+date + step * durationMinute);\n}, (start, end) => {\n  return (end - start) / durationMinute;\n}, (date) => {\n  return date.getMinutes();\n});\n\nexport const timeMinutes = timeMinute.range;\n\nexport const utcMinute = timeInterval((date) => {\n  date.setUTCSeconds(0, 0);\n}, (date, step) => {\n  date.setTime(+date + step * durationMinute);\n}, (start, end) => {\n  return (end - start) / durationMinute;\n}, (date) => {\n  return date.getUTCMinutes();\n});\n\nexport const utcMinutes = utcMinute.range;\n", "import {timeInterval} from \"./interval.js\";\nimport {durationHour, durationMinute, durationSecond} from \"./duration.js\";\n\nexport const timeHour = timeInterval((date) => {\n  date.setTime(date - date.getMilliseconds() - date.getSeconds() * durationSecond - date.getMinutes() * durationMinute);\n}, (date, step) => {\n  date.setTime(+date + step * durationHour);\n}, (start, end) => {\n  return (end - start) / durationHour;\n}, (date) => {\n  return date.getHours();\n});\n\nexport const timeHours = timeHour.range;\n\nexport const utcHour = timeInterval((date) => {\n  date.setUTCMinutes(0, 0, 0);\n}, (date, step) => {\n  date.setTime(+date + step * durationHour);\n}, (start, end) => {\n  return (end - start) / durationHour;\n}, (date) => {\n  return date.getUTCHours();\n});\n\nexport const utcHours = utcHour.range;\n", "import {timeInterval} from \"./interval.js\";\nimport {durationDay, durationMinute} from \"./duration.js\";\n\nexport const timeDay = timeInterval(\n  date => date.setHours(0, 0, 0, 0),\n  (date, step) => date.setDate(date.getDate() + step),\n  (start, end) => (end - start - (end.getTimezoneOffset() - start.getTimezoneOffset()) * durationMinute) / durationDay,\n  date => date.getDate() - 1\n);\n\nexport const timeDays = timeDay.range;\n\nexport const utcDay = timeInterval((date) => {\n  date.setUTCHours(0, 0, 0, 0);\n}, (date, step) => {\n  date.setUTCDate(date.getUTCDate() + step);\n}, (start, end) => {\n  return (end - start) / durationDay;\n}, (date) => {\n  return date.getUTCDate() - 1;\n});\n\nexport const utcDays = utcDay.range;\n\nexport const unixDay = timeInterval((date) => {\n  date.setUTCHours(0, 0, 0, 0);\n}, (date, step) => {\n  date.setUTCDate(date.getUTCDate() + step);\n}, (start, end) => {\n  return (end - start) / durationDay;\n}, (date) => {\n  return Math.floor(date / durationDay);\n});\n\nexport const unixDays = unixDay.range;\n", "import {timeInterval} from \"./interval.js\";\nimport {durationMinute, durationWeek} from \"./duration.js\";\n\nfunction timeWeekday(i) {\n  return timeInterval((date) => {\n    date.setDate(date.getDate() - (date.getDay() + 7 - i) % 7);\n    date.setHours(0, 0, 0, 0);\n  }, (date, step) => {\n    date.setDate(date.getDate() + step * 7);\n  }, (start, end) => {\n    return (end - start - (end.getTimezoneOffset() - start.getTimezoneOffset()) * durationMinute) / durationWeek;\n  });\n}\n\nexport const timeSunday = timeWeekday(0);\nexport const timeMonday = timeWeekday(1);\nexport const timeTuesday = timeWeekday(2);\nexport const timeWednesday = timeWeekday(3);\nexport const timeThursday = timeWeekday(4);\nexport const timeFriday = timeWeekday(5);\nexport const timeSaturday = timeWeekday(6);\n\nexport const timeSundays = timeSunday.range;\nexport const timeMondays = timeMonday.range;\nexport const timeTuesdays = timeTuesday.range;\nexport const timeWednesdays = timeWednesday.range;\nexport const timeThursdays = timeThursday.range;\nexport const timeFridays = timeFriday.range;\nexport const timeSaturdays = timeSaturday.range;\n\nfunction utcWeekday(i) {\n  return timeInterval((date) => {\n    date.setUTCDate(date.getUTCDate() - (date.getUTCDay() + 7 - i) % 7);\n    date.setUTCHours(0, 0, 0, 0);\n  }, (date, step) => {\n    date.setUTCDate(date.getUTCDate() + step * 7);\n  }, (start, end) => {\n    return (end - start) / durationWeek;\n  });\n}\n\nexport const utcSunday = utcWeekday(0);\nexport const utcMonday = utcWeekday(1);\nexport const utcTuesday = utcWeekday(2);\nexport const utcWednesday = utcWeekday(3);\nexport const utcThursday = utcWeekday(4);\nexport const utcFriday = utcWeekday(5);\nexport const utcSaturday = utcWeekday(6);\n\nexport const utcSundays = utcSunday.range;\nexport const utcMondays = utcMonday.range;\nexport const utcTuesdays = utcTuesday.range;\nexport const utcWednesdays = utcWednesday.range;\nexport const utcThursdays = utcThursday.range;\nexport const utcFridays = utcFriday.range;\nexport const utcSaturdays = utcSaturday.range;\n", "import {timeInterval} from \"./interval.js\";\n\nexport const timeMonth = timeInterval((date) => {\n  date.setDate(1);\n  date.setHours(0, 0, 0, 0);\n}, (date, step) => {\n  date.setMonth(date.getMonth() + step);\n}, (start, end) => {\n  return end.getMonth() - start.getMonth() + (end.getFullYear() - start.getFullYear()) * 12;\n}, (date) => {\n  return date.getMonth();\n});\n\nexport const timeMonths = timeMonth.range;\n\nexport const utcMonth = timeInterval((date) => {\n  date.setUTCDate(1);\n  date.setUTCHours(0, 0, 0, 0);\n}, (date, step) => {\n  date.setUTCMonth(date.getUTCMonth() + step);\n}, (start, end) => {\n  return end.getUTCMonth() - start.getUTCMonth() + (end.getUTCFullYear() - start.getUTCFullYear()) * 12;\n}, (date) => {\n  return date.getUTCMonth();\n});\n\nexport const utcMonths = utcMonth.range;\n", "import {timeInterval} from \"./interval.js\";\n\nexport const timeYear = timeInterval((date) => {\n  date.setMonth(0, 1);\n  date.setHours(0, 0, 0, 0);\n}, (date, step) => {\n  date.setFullYear(date.getFullYear() + step);\n}, (start, end) => {\n  return end.getFullYear() - start.getFullYear();\n}, (date) => {\n  return date.getFullYear();\n});\n\n// An optimized implementation for this simple case.\ntimeYear.every = (k) => {\n  return !isFinite(k = Math.floor(k)) || !(k > 0) ? null : timeInterval((date) => {\n    date.setFullYear(Math.floor(date.getFullYear() / k) * k);\n    date.setMonth(0, 1);\n    date.setHours(0, 0, 0, 0);\n  }, (date, step) => {\n    date.setFullYear(date.getFullYear() + step * k);\n  });\n};\n\nexport const timeYears = timeYear.range;\n\nexport const utcYear = timeInterval((date) => {\n  date.setUTCMonth(0, 1);\n  date.setUTCHours(0, 0, 0, 0);\n}, (date, step) => {\n  date.setUTCFullYear(date.getUTCFullYear() + step);\n}, (start, end) => {\n  return end.getUTCFullYear() - start.getUTCFullYear();\n}, (date) => {\n  return date.getUTCFullYear();\n});\n\n// An optimized implementation for this simple case.\nutcYear.every = (k) => {\n  return !isFinite(k = Math.floor(k)) || !(k > 0) ? null : timeInterval((date) => {\n    date.setUTCFullYear(Math.floor(date.getUTCFullYear() / k) * k);\n    date.setUTCMonth(0, 1);\n    date.setUTCHours(0, 0, 0, 0);\n  }, (date, step) => {\n    date.setUTCFullYear(date.getUTCFullYear() + step * k);\n  });\n};\n\nexport const utcYears = utcYear.range;\n", "import {bisector, tickStep} from \"d3-array\";\nimport {durationDay, durationHour, durationMinute, durationMonth, durationSecond, durationWeek, durationYear} from \"./duration.js\";\nimport {millisecond} from \"./millisecond.js\";\nimport {second} from \"./second.js\";\nimport {timeMinute, utcMinute} from \"./minute.js\";\nimport {timeHour, utcHour} from \"./hour.js\";\nimport {timeDay, unixDay} from \"./day.js\";\nimport {timeSunday, utcSunday} from \"./week.js\";\nimport {timeMonth, utcMonth} from \"./month.js\";\nimport {timeYear, utcYear} from \"./year.js\";\n\nfunction ticker(year, month, week, day, hour, minute) {\n\n  const tickIntervals = [\n    [second,  1,      durationSecond],\n    [second,  5,  5 * durationSecond],\n    [second, 15, 15 * durationSecond],\n    [second, 30, 30 * durationSecond],\n    [minute,  1,      durationMinute],\n    [minute,  5,  5 * durationMinute],\n    [minute, 15, 15 * durationMinute],\n    [minute, 30, 30 * durationMinute],\n    [  hour,  1,      durationHour  ],\n    [  hour,  3,  3 * durationHour  ],\n    [  hour,  6,  6 * durationHour  ],\n    [  hour, 12, 12 * durationHour  ],\n    [   day,  1,      durationDay   ],\n    [   day,  2,  2 * durationDay   ],\n    [  week,  1,      durationWeek  ],\n    [ month,  1,      durationMonth ],\n    [ month,  3,  3 * durationMonth ],\n    [  year,  1,      durationYear  ]\n  ];\n\n  function ticks(start, stop, count) {\n    const reverse = stop < start;\n    if (reverse) [start, stop] = [stop, start];\n    const interval = count && typeof count.range === \"function\" ? count : tickInterval(start, stop, count);\n    const ticks = interval ? interval.range(start, +stop + 1) : []; // inclusive stop\n    return reverse ? ticks.reverse() : ticks;\n  }\n\n  function tickInterval(start, stop, count) {\n    const target = Math.abs(stop - start) / count;\n    const i = bisector(([,, step]) => step).right(tickIntervals, target);\n    if (i === tickIntervals.length) return year.every(tickStep(start / durationYear, stop / durationYear, count));\n    if (i === 0) return millisecond.every(Math.max(tickStep(start, stop, count), 1));\n    const [t, step] = tickIntervals[target / tickIntervals[i - 1][2] < tickIntervals[i][2] / target ? i - 1 : i];\n    return t.every(step);\n  }\n\n  return [ticks, tickInterval];\n}\n\nconst [utcTicks, utcTickInterval] = ticker(utcYear, utcMonth, utcSunday, unixDay, utcHour, utcMinute);\nconst [timeTicks, timeTickInterval] = ticker(timeYear, timeMonth, timeSunday, timeDay, timeHour, timeMinute);\n\nexport {utcTicks, utcTickInterval, timeTicks, timeTickInterval};\n", "import {\n  timeDay,\n  timeSunday,\n  timeMonday,\n  timeThursday,\n  timeYear,\n  utcDay,\n  utcSunday,\n  utcMonday,\n  utcThursday,\n  utcYear\n} from \"d3-time\";\n\nfunction localDate(d) {\n  if (0 <= d.y && d.y < 100) {\n    var date = new Date(-1, d.m, d.d, d.H, d.M, d.S, d.L);\n    date.setFullYear(d.y);\n    return date;\n  }\n  return new Date(d.y, d.m, d.d, d.H, d.M, d.S, d.L);\n}\n\nfunction utcDate(d) {\n  if (0 <= d.y && d.y < 100) {\n    var date = new Date(Date.UTC(-1, d.m, d.d, d.H, d.M, d.S, d.L));\n    date.setUTCFullYear(d.y);\n    return date;\n  }\n  return new Date(Date.UTC(d.y, d.m, d.d, d.H, d.M, d.S, d.L));\n}\n\nfunction newDate(y, m, d) {\n  return {y: y, m: m, d: d, H: 0, M: 0, S: 0, L: 0};\n}\n\nexport default function formatLocale(locale) {\n  var locale_dateTime = locale.dateTime,\n      locale_date = locale.date,\n      locale_time = locale.time,\n      locale_periods = locale.periods,\n      locale_weekdays = locale.days,\n      locale_shortWeekdays = locale.shortDays,\n      locale_months = locale.months,\n      locale_shortMonths = locale.shortMonths;\n\n  var periodRe = formatRe(locale_periods),\n      periodLookup = formatLookup(locale_periods),\n      weekdayRe = formatRe(locale_weekdays),\n      weekdayLookup = formatLookup(locale_weekdays),\n      shortWeekdayRe = formatRe(locale_shortWeekdays),\n      shortWeekdayLookup = formatLookup(locale_shortWeekdays),\n      monthRe = formatRe(locale_months),\n      monthLookup = formatLookup(locale_months),\n      shortMonthRe = formatRe(locale_shortMonths),\n      shortMonthLookup = formatLookup(locale_shortMonths);\n\n  var formats = {\n    \"a\": formatShortWeekday,\n    \"A\": formatWeekday,\n    \"b\": formatShortMonth,\n    \"B\": formatMonth,\n    \"c\": null,\n    \"d\": formatDayOfMonth,\n    \"e\": formatDayOfMonth,\n    \"f\": formatMicroseconds,\n    \"g\": formatYearISO,\n    \"G\": formatFullYearISO,\n    \"H\": formatHour24,\n    \"I\": formatHour12,\n    \"j\": formatDayOfYear,\n    \"L\": formatMilliseconds,\n    \"m\": formatMonthNumber,\n    \"M\": formatMinutes,\n    \"p\": formatPeriod,\n    \"q\": formatQuarter,\n    \"Q\": formatUnixTimestamp,\n    \"s\": formatUnixTimestampSeconds,\n    \"S\": formatSeconds,\n    \"u\": formatWeekdayNumberMonday,\n    \"U\": formatWeekNumberSunday,\n    \"V\": formatWeekNumberISO,\n    \"w\": formatWeekdayNumberSunday,\n    \"W\": formatWeekNumberMonday,\n    \"x\": null,\n    \"X\": null,\n    \"y\": formatYear,\n    \"Y\": formatFullYear,\n    \"Z\": formatZone,\n    \"%\": formatLiteralPercent\n  };\n\n  var utcFormats = {\n    \"a\": formatUTCShortWeekday,\n    \"A\": formatUTCWeekday,\n    \"b\": formatUTCShortMonth,\n    \"B\": formatUTCMonth,\n    \"c\": null,\n    \"d\": formatUTCDayOfMonth,\n    \"e\": formatUTCDayOfMonth,\n    \"f\": formatUTCMicroseconds,\n    \"g\": formatUTCYearISO,\n    \"G\": formatUTCFullYearISO,\n    \"H\": formatUTCHour24,\n    \"I\": formatUTCHour12,\n    \"j\": formatUTCDayOfYear,\n    \"L\": formatUTCMilliseconds,\n    \"m\": formatUTCMonthNumber,\n    \"M\": formatUTCMinutes,\n    \"p\": formatUTCPeriod,\n    \"q\": formatUTCQuarter,\n    \"Q\": formatUnixTimestamp,\n    \"s\": formatUnixTimestampSeconds,\n    \"S\": formatUTCSeconds,\n    \"u\": formatUTCWeekdayNumberMonday,\n    \"U\": formatUTCWeekNumberSunday,\n    \"V\": formatUTCWeekNumberISO,\n    \"w\": formatUTCWeekdayNumberSunday,\n    \"W\": formatUTCWeekNumberMonday,\n    \"x\": null,\n    \"X\": null,\n    \"y\": formatUTCYear,\n    \"Y\": formatUTCFullYear,\n    \"Z\": formatUTCZone,\n    \"%\": formatLiteralPercent\n  };\n\n  var parses = {\n    \"a\": parseShortWeekday,\n    \"A\": parseWeekday,\n    \"b\": parseShortMonth,\n    \"B\": parseMonth,\n    \"c\": parseLocaleDateTime,\n    \"d\": parseDayOfMonth,\n    \"e\": parseDayOfMonth,\n    \"f\": parseMicroseconds,\n    \"g\": parseYear,\n    \"G\": parseFullYear,\n    \"H\": parseHour24,\n    \"I\": parseHour24,\n    \"j\": parseDayOfYear,\n    \"L\": parseMilliseconds,\n    \"m\": parseMonthNumber,\n    \"M\": parseMinutes,\n    \"p\": parsePeriod,\n    \"q\": parseQuarter,\n    \"Q\": parseUnixTimestamp,\n    \"s\": parseUnixTimestampSeconds,\n    \"S\": parseSeconds,\n    \"u\": parseWeekdayNumberMonday,\n    \"U\": parseWeekNumberSunday,\n    \"V\": parseWeekNumberISO,\n    \"w\": parseWeekdayNumberSunday,\n    \"W\": parseWeekNumberMonday,\n    \"x\": parseLocaleDate,\n    \"X\": parseLocaleTime,\n    \"y\": parseYear,\n    \"Y\": parseFullYear,\n    \"Z\": parseZone,\n    \"%\": parseLiteralPercent\n  };\n\n  // These recursive directive definitions must be deferred.\n  formats.x = newFormat(locale_date, formats);\n  formats.X = newFormat(locale_time, formats);\n  formats.c = newFormat(locale_dateTime, formats);\n  utcFormats.x = newFormat(locale_date, utcFormats);\n  utcFormats.X = newFormat(locale_time, utcFormats);\n  utcFormats.c = newFormat(locale_dateTime, utcFormats);\n\n  function newFormat(specifier, formats) {\n    return function(date) {\n      var string = [],\n          i = -1,\n          j = 0,\n          n = specifier.length,\n          c,\n          pad,\n          format;\n\n      if (!(date instanceof Date)) date = new Date(+date);\n\n      while (++i < n) {\n        if (specifier.charCodeAt(i) === 37) {\n          string.push(specifier.slice(j, i));\n          if ((pad = pads[c = specifier.charAt(++i)]) != null) c = specifier.charAt(++i);\n          else pad = c === \"e\" ? \" \" : \"0\";\n          if (format = formats[c]) c = format(date, pad);\n          string.push(c);\n          j = i + 1;\n        }\n      }\n\n      string.push(specifier.slice(j, i));\n      return string.join(\"\");\n    };\n  }\n\n  function newParse(specifier, Z) {\n    return function(string) {\n      var d = newDate(1900, undefined, 1),\n          i = parseSpecifier(d, specifier, string += \"\", 0),\n          week, day;\n      if (i != string.length) return null;\n\n      // If a UNIX timestamp is specified, return it.\n      if (\"Q\" in d) return new Date(d.Q);\n      if (\"s\" in d) return new Date(d.s * 1000 + (\"L\" in d ? d.L : 0));\n\n      // If this is utcParse, never use the local timezone.\n      if (Z && !(\"Z\" in d)) d.Z = 0;\n\n      // The am-pm flag is 0 for AM, and 1 for PM.\n      if (\"p\" in d) d.H = d.H % 12 + d.p * 12;\n\n      // If the month was not specified, inherit from the quarter.\n      if (d.m === undefined) d.m = \"q\" in d ? d.q : 0;\n\n      // Convert day-of-week and week-of-year to day-of-year.\n      if (\"V\" in d) {\n        if (d.V < 1 || d.V > 53) return null;\n        if (!(\"w\" in d)) d.w = 1;\n        if (\"Z\" in d) {\n          week = utcDate(newDate(d.y, 0, 1)), day = week.getUTCDay();\n          week = day > 4 || day === 0 ? utcMonday.ceil(week) : utcMonday(week);\n          week = utcDay.offset(week, (d.V - 1) * 7);\n          d.y = week.getUTCFullYear();\n          d.m = week.getUTCMonth();\n          d.d = week.getUTCDate() + (d.w + 6) % 7;\n        } else {\n          week = localDate(newDate(d.y, 0, 1)), day = week.getDay();\n          week = day > 4 || day === 0 ? timeMonday.ceil(week) : timeMonday(week);\n          week = timeDay.offset(week, (d.V - 1) * 7);\n          d.y = week.getFullYear();\n          d.m = week.getMonth();\n          d.d = week.getDate() + (d.w + 6) % 7;\n        }\n      } else if (\"W\" in d || \"U\" in d) {\n        if (!(\"w\" in d)) d.w = \"u\" in d ? d.u % 7 : \"W\" in d ? 1 : 0;\n        day = \"Z\" in d ? utcDate(newDate(d.y, 0, 1)).getUTCDay() : localDate(newDate(d.y, 0, 1)).getDay();\n        d.m = 0;\n        d.d = \"W\" in d ? (d.w + 6) % 7 + d.W * 7 - (day + 5) % 7 : d.w + d.U * 7 - (day + 6) % 7;\n      }\n\n      // If a time zone is specified, all fields are interpreted as UTC and then\n      // offset according to the specified time zone.\n      if (\"Z\" in d) {\n        d.H += d.Z / 100 | 0;\n        d.M += d.Z % 100;\n        return utcDate(d);\n      }\n\n      // Otherwise, all fields are in local time.\n      return localDate(d);\n    };\n  }\n\n  function parseSpecifier(d, specifier, string, j) {\n    var i = 0,\n        n = specifier.length,\n        m = string.length,\n        c,\n        parse;\n\n    while (i < n) {\n      if (j >= m) return -1;\n      c = specifier.charCodeAt(i++);\n      if (c === 37) {\n        c = specifier.charAt(i++);\n        parse = parses[c in pads ? specifier.charAt(i++) : c];\n        if (!parse || ((j = parse(d, string, j)) < 0)) return -1;\n      } else if (c != string.charCodeAt(j++)) {\n        return -1;\n      }\n    }\n\n    return j;\n  }\n\n  function parsePeriod(d, string, i) {\n    var n = periodRe.exec(string.slice(i));\n    return n ? (d.p = periodLookup.get(n[0].toLowerCase()), i + n[0].length) : -1;\n  }\n\n  function parseShortWeekday(d, string, i) {\n    var n = shortWeekdayRe.exec(string.slice(i));\n    return n ? (d.w = shortWeekdayLookup.get(n[0].toLowerCase()), i + n[0].length) : -1;\n  }\n\n  function parseWeekday(d, string, i) {\n    var n = weekdayRe.exec(string.slice(i));\n    return n ? (d.w = weekdayLookup.get(n[0].toLowerCase()), i + n[0].length) : -1;\n  }\n\n  function parseShortMonth(d, string, i) {\n    var n = shortMonthRe.exec(string.slice(i));\n    return n ? (d.m = shortMonthLookup.get(n[0].toLowerCase()), i + n[0].length) : -1;\n  }\n\n  function parseMonth(d, string, i) {\n    var n = monthRe.exec(string.slice(i));\n    return n ? (d.m = monthLookup.get(n[0].toLowerCase()), i + n[0].length) : -1;\n  }\n\n  function parseLocaleDateTime(d, string, i) {\n    return parseSpecifier(d, locale_dateTime, string, i);\n  }\n\n  function parseLocaleDate(d, string, i) {\n    return parseSpecifier(d, locale_date, string, i);\n  }\n\n  function parseLocaleTime(d, string, i) {\n    return parseSpecifier(d, locale_time, string, i);\n  }\n\n  function formatShortWeekday(d) {\n    return locale_shortWeekdays[d.getDay()];\n  }\n\n  function formatWeekday(d) {\n    return locale_weekdays[d.getDay()];\n  }\n\n  function formatShortMonth(d) {\n    return locale_shortMonths[d.getMonth()];\n  }\n\n  function formatMonth(d) {\n    return locale_months[d.getMonth()];\n  }\n\n  function formatPeriod(d) {\n    return locale_periods[+(d.getHours() >= 12)];\n  }\n\n  function formatQuarter(d) {\n    return 1 + ~~(d.getMonth() / 3);\n  }\n\n  function formatUTCShortWeekday(d) {\n    return locale_shortWeekdays[d.getUTCDay()];\n  }\n\n  function formatUTCWeekday(d) {\n    return locale_weekdays[d.getUTCDay()];\n  }\n\n  function formatUTCShortMonth(d) {\n    return locale_shortMonths[d.getUTCMonth()];\n  }\n\n  function formatUTCMonth(d) {\n    return locale_months[d.getUTCMonth()];\n  }\n\n  function formatUTCPeriod(d) {\n    return locale_periods[+(d.getUTCHours() >= 12)];\n  }\n\n  function formatUTCQuarter(d) {\n    return 1 + ~~(d.getUTCMonth() / 3);\n  }\n\n  return {\n    format: function(specifier) {\n      var f = newFormat(specifier += \"\", formats);\n      f.toString = function() { return specifier; };\n      return f;\n    },\n    parse: function(specifier) {\n      var p = newParse(specifier += \"\", false);\n      p.toString = function() { return specifier; };\n      return p;\n    },\n    utcFormat: function(specifier) {\n      var f = newFormat(specifier += \"\", utcFormats);\n      f.toString = function() { return specifier; };\n      return f;\n    },\n    utcParse: function(specifier) {\n      var p = newParse(specifier += \"\", true);\n      p.toString = function() { return specifier; };\n      return p;\n    }\n  };\n}\n\nvar pads = {\"-\": \"\", \"_\": \" \", \"0\": \"0\"},\n    numberRe = /^\\s*\\d+/, // note: ignores next directive\n    percentRe = /^%/,\n    requoteRe = /[\\\\^$*+?|[\\]().{}]/g;\n\nfunction pad(value, fill, width) {\n  var sign = value < 0 ? \"-\" : \"\",\n      string = (sign ? -value : value) + \"\",\n      length = string.length;\n  return sign + (length < width ? new Array(width - length + 1).join(fill) + string : string);\n}\n\nfunction requote(s) {\n  return s.replace(requoteRe, \"\\\\$&\");\n}\n\nfunction formatRe(names) {\n  return new RegExp(\"^(?:\" + names.map(requote).join(\"|\") + \")\", \"i\");\n}\n\nfunction formatLookup(names) {\n  return new Map(names.map((name, i) => [name.toLowerCase(), i]));\n}\n\nfunction parseWeekdayNumberSunday(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 1));\n  return n ? (d.w = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseWeekdayNumberMonday(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 1));\n  return n ? (d.u = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseWeekNumberSunday(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.U = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseWeekNumberISO(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.V = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseWeekNumberMonday(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.W = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseFullYear(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 4));\n  return n ? (d.y = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseYear(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.y = +n[0] + (+n[0] > 68 ? 1900 : 2000), i + n[0].length) : -1;\n}\n\nfunction parseZone(d, string, i) {\n  var n = /^(Z)|([+-]\\d\\d)(?::?(\\d\\d))?/.exec(string.slice(i, i + 6));\n  return n ? (d.Z = n[1] ? 0 : -(n[2] + (n[3] || \"00\")), i + n[0].length) : -1;\n}\n\nfunction parseQuarter(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 1));\n  return n ? (d.q = n[0] * 3 - 3, i + n[0].length) : -1;\n}\n\nfunction parseMonthNumber(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.m = n[0] - 1, i + n[0].length) : -1;\n}\n\nfunction parseDayOfMonth(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.d = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseDayOfYear(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 3));\n  return n ? (d.m = 0, d.d = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseHour24(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.H = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseMinutes(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.M = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseSeconds(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.S = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseMilliseconds(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 3));\n  return n ? (d.L = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseMicroseconds(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 6));\n  return n ? (d.L = Math.floor(n[0] / 1000), i + n[0].length) : -1;\n}\n\nfunction parseLiteralPercent(d, string, i) {\n  var n = percentRe.exec(string.slice(i, i + 1));\n  return n ? i + n[0].length : -1;\n}\n\nfunction parseUnixTimestamp(d, string, i) {\n  var n = numberRe.exec(string.slice(i));\n  return n ? (d.Q = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseUnixTimestampSeconds(d, string, i) {\n  var n = numberRe.exec(string.slice(i));\n  return n ? (d.s = +n[0], i + n[0].length) : -1;\n}\n\nfunction formatDayOfMonth(d, p) {\n  return pad(d.getDate(), p, 2);\n}\n\nfunction formatHour24(d, p) {\n  return pad(d.getHours(), p, 2);\n}\n\nfunction formatHour12(d, p) {\n  return pad(d.getHours() % 12 || 12, p, 2);\n}\n\nfunction formatDayOfYear(d, p) {\n  return pad(1 + timeDay.count(timeYear(d), d), p, 3);\n}\n\nfunction formatMilliseconds(d, p) {\n  return pad(d.getMilliseconds(), p, 3);\n}\n\nfunction formatMicroseconds(d, p) {\n  return formatMilliseconds(d, p) + \"000\";\n}\n\nfunction formatMonthNumber(d, p) {\n  return pad(d.getMonth() + 1, p, 2);\n}\n\nfunction formatMinutes(d, p) {\n  return pad(d.getMinutes(), p, 2);\n}\n\nfunction formatSeconds(d, p) {\n  return pad(d.getSeconds(), p, 2);\n}\n\nfunction formatWeekdayNumberMonday(d) {\n  var day = d.getDay();\n  return day === 0 ? 7 : day;\n}\n\nfunction formatWeekNumberSunday(d, p) {\n  return pad(timeSunday.count(timeYear(d) - 1, d), p, 2);\n}\n\nfunction dISO(d) {\n  var day = d.getDay();\n  return (day >= 4 || day === 0) ? timeThursday(d) : timeThursday.ceil(d);\n}\n\nfunction formatWeekNumberISO(d, p) {\n  d = dISO(d);\n  return pad(timeThursday.count(timeYear(d), d) + (timeYear(d).getDay() === 4), p, 2);\n}\n\nfunction formatWeekdayNumberSunday(d) {\n  return d.getDay();\n}\n\nfunction formatWeekNumberMonday(d, p) {\n  return pad(timeMonday.count(timeYear(d) - 1, d), p, 2);\n}\n\nfunction formatYear(d, p) {\n  return pad(d.getFullYear() % 100, p, 2);\n}\n\nfunction formatYearISO(d, p) {\n  d = dISO(d);\n  return pad(d.getFullYear() % 100, p, 2);\n}\n\nfunction formatFullYear(d, p) {\n  return pad(d.getFullYear() % 10000, p, 4);\n}\n\nfunction formatFullYearISO(d, p) {\n  var day = d.getDay();\n  d = (day >= 4 || day === 0) ? timeThursday(d) : timeThursday.ceil(d);\n  return pad(d.getFullYear() % 10000, p, 4);\n}\n\nfunction formatZone(d) {\n  var z = d.getTimezoneOffset();\n  return (z > 0 ? \"-\" : (z *= -1, \"+\"))\n      + pad(z / 60 | 0, \"0\", 2)\n      + pad(z % 60, \"0\", 2);\n}\n\nfunction formatUTCDayOfMonth(d, p) {\n  return pad(d.getUTCDate(), p, 2);\n}\n\nfunction formatUTCHour24(d, p) {\n  return pad(d.getUTCHours(), p, 2);\n}\n\nfunction formatUTCHour12(d, p) {\n  return pad(d.getUTCHours() % 12 || 12, p, 2);\n}\n\nfunction formatUTCDayOfYear(d, p) {\n  return pad(1 + utcDay.count(utcYear(d), d), p, 3);\n}\n\nfunction formatUTCMilliseconds(d, p) {\n  return pad(d.getUTCMilliseconds(), p, 3);\n}\n\nfunction formatUTCMicroseconds(d, p) {\n  return formatUTCMilliseconds(d, p) + \"000\";\n}\n\nfunction formatUTCMonthNumber(d, p) {\n  return pad(d.getUTCMonth() + 1, p, 2);\n}\n\nfunction formatUTCMinutes(d, p) {\n  return pad(d.getUTCMinutes(), p, 2);\n}\n\nfunction formatUTCSeconds(d, p) {\n  return pad(d.getUTCSeconds(), p, 2);\n}\n\nfunction formatUTCWeekdayNumberMonday(d) {\n  var dow = d.getUTCDay();\n  return dow === 0 ? 7 : dow;\n}\n\nfunction formatUTCWeekNumberSunday(d, p) {\n  return pad(utcSunday.count(utcYear(d) - 1, d), p, 2);\n}\n\nfunction UTCdISO(d) {\n  var day = d.getUTCDay();\n  return (day >= 4 || day === 0) ? utcThursday(d) : utcThursday.ceil(d);\n}\n\nfunction formatUTCWeekNumberISO(d, p) {\n  d = UTCdISO(d);\n  return pad(utcThursday.count(utcYear(d), d) + (utcYear(d).getUTCDay() === 4), p, 2);\n}\n\nfunction formatUTCWeekdayNumberSunday(d) {\n  return d.getUTCDay();\n}\n\nfunction formatUTCWeekNumberMonday(d, p) {\n  return pad(utcMonday.count(utcYear(d) - 1, d), p, 2);\n}\n\nfunction formatUTCYear(d, p) {\n  return pad(d.getUTCFullYear() % 100, p, 2);\n}\n\nfunction formatUTCYearISO(d, p) {\n  d = UTCdISO(d);\n  return pad(d.getUTCFullYear() % 100, p, 2);\n}\n\nfunction formatUTCFullYear(d, p) {\n  return pad(d.getUTCFullYear() % 10000, p, 4);\n}\n\nfunction formatUTCFullYearISO(d, p) {\n  var day = d.getUTCDay();\n  d = (day >= 4 || day === 0) ? utcThursday(d) : utcThursday.ceil(d);\n  return pad(d.getUTCFullYear() % 10000, p, 4);\n}\n\nfunction formatUTCZone() {\n  return \"+0000\";\n}\n\nfunction formatLiteralPercent() {\n  return \"%\";\n}\n\nfunction formatUnixTimestamp(d) {\n  return +d;\n}\n\nfunction formatUnixTimestampSeconds(d) {\n  return Math.floor(+d / 1000);\n}\n", "import formatLocale from \"./locale.js\";\n\nvar locale;\nexport var timeFormat;\nexport var timeParse;\nexport var utcFormat;\nexport var utcParse;\n\ndefaultLocale({\n  dateTime: \"%x, %X\",\n  date: \"%-m/%-d/%Y\",\n  time: \"%-I:%M:%S %p\",\n  periods: [\"AM\", \"PM\"],\n  days: [\"Sunday\", \"Monday\", \"Tuesday\", \"Wednesday\", \"Thursday\", \"Friday\", \"Saturday\"],\n  shortDays: [\"Sun\", \"Mon\", \"Tue\", \"Wed\", \"Thu\", \"Fri\", \"Sat\"],\n  months: [\"January\", \"February\", \"March\", \"April\", \"May\", \"June\", \"July\", \"August\", \"September\", \"October\", \"November\", \"December\"],\n  shortMonths: [\"Jan\", \"Feb\", \"Mar\", \"Apr\", \"May\", \"Jun\", \"Jul\", \"Aug\", \"Sep\", \"Oct\", \"Nov\", \"Dec\"]\n});\n\nexport default function defaultLocale(definition) {\n  locale = formatLocale(definition);\n  timeFormat = locale.format;\n  timeParse = locale.parse;\n  utcFormat = locale.utcFormat;\n  utcParse = locale.utcParse;\n  return locale;\n}\n", "import {timeYear, timeMonth, timeWeek, timeDay, timeHour, timeMinute, timeSecond, timeTicks, timeTickInterval} from \"d3-time\";\nimport {timeFormat} from \"d3-time-format\";\nimport continuous, {copy} from \"./continuous.js\";\nimport {initRange} from \"./init.js\";\nimport nice from \"./nice.js\";\n\nfunction date(t) {\n  return new Date(t);\n}\n\nfunction number(t) {\n  return t instanceof Date ? +t : +new Date(+t);\n}\n\nexport function calendar(ticks, tickInterval, year, month, week, day, hour, minute, second, format) {\n  var scale = continuous(),\n      invert = scale.invert,\n      domain = scale.domain;\n\n  var formatMillisecond = format(\".%L\"),\n      formatSecond = format(\":%S\"),\n      formatMinute = format(\"%I:%M\"),\n      formatHour = format(\"%I %p\"),\n      formatDay = format(\"%a %d\"),\n      formatWeek = format(\"%b %d\"),\n      formatMonth = format(\"%B\"),\n      formatYear = format(\"%Y\");\n\n  function tickFormat(date) {\n    return (second(date) < date ? formatMillisecond\n        : minute(date) < date ? formatSecond\n        : hour(date) < date ? formatMinute\n        : day(date) < date ? formatHour\n        : month(date) < date ? (week(date) < date ? formatDay : formatWeek)\n        : year(date) < date ? formatMonth\n        : formatYear)(date);\n  }\n\n  scale.invert = function(y) {\n    return new Date(invert(y));\n  };\n\n  scale.domain = function(_) {\n    return arguments.length ? domain(Array.from(_, number)) : domain().map(date);\n  };\n\n  scale.ticks = function(interval) {\n    var d = domain();\n    return ticks(d[0], d[d.length - 1], interval == null ? 10 : interval);\n  };\n\n  scale.tickFormat = function(count, specifier) {\n    return specifier == null ? tickFormat : format(specifier);\n  };\n\n  scale.nice = function(interval) {\n    var d = domain();\n    if (!interval || typeof interval.range !== \"function\") interval = tickInterval(d[0], d[d.length - 1], interval == null ? 10 : interval);\n    return interval ? domain(nice(d, interval)) : scale;\n  };\n\n  scale.copy = function() {\n    return copy(scale, calendar(ticks, tickInterval, year, month, week, day, hour, minute, second, format));\n  };\n\n  return scale;\n}\n\nexport default function time() {\n  return initRange.apply(calendar(timeTicks, timeTickInterval, timeYear, timeMonth, timeWeek, timeDay, timeHour, timeMinute, timeSecond, timeFormat).domain([new Date(2000, 0, 1), new Date(2000, 0, 2)]), arguments);\n}\n", "export default function(x) {\n  return function constant() {\n    return x;\n  };\n}\n", "const pi = Math.PI,\n    tau = 2 * pi,\n    epsilon = 1e-6,\n    tauEpsilon = tau - epsilon;\n\nfunction append(strings) {\n  this._ += strings[0];\n  for (let i = 1, n = strings.length; i < n; ++i) {\n    this._ += arguments[i] + strings[i];\n  }\n}\n\nfunction appendRound(digits) {\n  let d = Math.floor(digits);\n  if (!(d >= 0)) throw new Error(`invalid digits: ${digits}`);\n  if (d > 15) return append;\n  const k = 10 ** d;\n  return function(strings) {\n    this._ += strings[0];\n    for (let i = 1, n = strings.length; i < n; ++i) {\n      this._ += Math.round(arguments[i] * k) / k + strings[i];\n    }\n  };\n}\n\nexport class Path {\n  constructor(digits) {\n    this._x0 = this._y0 = // start of current subpath\n    this._x1 = this._y1 = null; // end of current subpath\n    this._ = \"\";\n    this._append = digits == null ? append : appendRound(digits);\n  }\n  moveTo(x, y) {\n    this._append`M${this._x0 = this._x1 = +x},${this._y0 = this._y1 = +y}`;\n  }\n  closePath() {\n    if (this._x1 !== null) {\n      this._x1 = this._x0, this._y1 = this._y0;\n      this._append`Z`;\n    }\n  }\n  lineTo(x, y) {\n    this._append`L${this._x1 = +x},${this._y1 = +y}`;\n  }\n  quadraticCurveTo(x1, y1, x, y) {\n    this._append`Q${+x1},${+y1},${this._x1 = +x},${this._y1 = +y}`;\n  }\n  bezierCurveTo(x1, y1, x2, y2, x, y) {\n    this._append`C${+x1},${+y1},${+x2},${+y2},${this._x1 = +x},${this._y1 = +y}`;\n  }\n  arcTo(x1, y1, x2, y2, r) {\n    x1 = +x1, y1 = +y1, x2 = +x2, y2 = +y2, r = +r;\n\n    // Is the radius negative? Error.\n    if (r < 0) throw new Error(`negative radius: ${r}`);\n\n    let x0 = this._x1,\n        y0 = this._y1,\n        x21 = x2 - x1,\n        y21 = y2 - y1,\n        x01 = x0 - x1,\n        y01 = y0 - y1,\n        l01_2 = x01 * x01 + y01 * y01;\n\n    // Is this path empty? Move to (x1,y1).\n    if (this._x1 === null) {\n      this._append`M${this._x1 = x1},${this._y1 = y1}`;\n    }\n\n    // Or, is (x1,y1) coincident with (x0,y0)? Do nothing.\n    else if (!(l01_2 > epsilon));\n\n    // Or, are (x0,y0), (x1,y1) and (x2,y2) collinear?\n    // Equivalently, is (x1,y1) coincident with (x2,y2)?\n    // Or, is the radius zero? Line to (x1,y1).\n    else if (!(Math.abs(y01 * x21 - y21 * x01) > epsilon) || !r) {\n      this._append`L${this._x1 = x1},${this._y1 = y1}`;\n    }\n\n    // Otherwise, draw an arc!\n    else {\n      let x20 = x2 - x0,\n          y20 = y2 - y0,\n          l21_2 = x21 * x21 + y21 * y21,\n          l20_2 = x20 * x20 + y20 * y20,\n          l21 = Math.sqrt(l21_2),\n          l01 = Math.sqrt(l01_2),\n          l = r * Math.tan((pi - Math.acos((l21_2 + l01_2 - l20_2) / (2 * l21 * l01))) / 2),\n          t01 = l / l01,\n          t21 = l / l21;\n\n      // If the start tangent is not coincident with (x0,y0), line to.\n      if (Math.abs(t01 - 1) > epsilon) {\n        this._append`L${x1 + t01 * x01},${y1 + t01 * y01}`;\n      }\n\n      this._append`A${r},${r},0,0,${+(y01 * x20 > x01 * y20)},${this._x1 = x1 + t21 * x21},${this._y1 = y1 + t21 * y21}`;\n    }\n  }\n  arc(x, y, r, a0, a1, ccw) {\n    x = +x, y = +y, r = +r, ccw = !!ccw;\n\n    // Is the radius negative? Error.\n    if (r < 0) throw new Error(`negative radius: ${r}`);\n\n    let dx = r * Math.cos(a0),\n        dy = r * Math.sin(a0),\n        x0 = x + dx,\n        y0 = y + dy,\n        cw = 1 ^ ccw,\n        da = ccw ? a0 - a1 : a1 - a0;\n\n    // Is this path empty? Move to (x0,y0).\n    if (this._x1 === null) {\n      this._append`M${x0},${y0}`;\n    }\n\n    // Or, is (x0,y0) not coincident with the previous point? Line to (x0,y0).\n    else if (Math.abs(this._x1 - x0) > epsilon || Math.abs(this._y1 - y0) > epsilon) {\n      this._append`L${x0},${y0}`;\n    }\n\n    // Is this arc empty? We\u2019re done.\n    if (!r) return;\n\n    // Does the angle go the wrong way? Flip the direction.\n    if (da < 0) da = da % tau + tau;\n\n    // Is this a complete circle? Draw two arcs to complete the circle.\n    if (da > tauEpsilon) {\n      this._append`A${r},${r},0,1,${cw},${x - dx},${y - dy}A${r},${r},0,1,${cw},${this._x1 = x0},${this._y1 = y0}`;\n    }\n\n    // Is this arc non-empty? Draw an arc!\n    else if (da > epsilon) {\n      this._append`A${r},${r},0,${+(da >= pi)},${cw},${this._x1 = x + r * Math.cos(a1)},${this._y1 = y + r * Math.sin(a1)}`;\n    }\n  }\n  rect(x, y, w, h) {\n    this._append`M${this._x0 = this._x1 = +x},${this._y0 = this._y1 = +y}h${w = +w}v${+h}h${-w}Z`;\n  }\n  toString() {\n    return this._;\n  }\n}\n\nexport function path() {\n  return new Path;\n}\n\n// Allow instanceof d3.path\npath.prototype = Path.prototype;\n\nexport function pathRound(digits = 3) {\n  return new Path(+digits);\n}\n", "import {Path} from \"d3-path\";\n\nexport function withPath(shape) {\n  let digits = 3;\n\n  shape.digits = function(_) {\n    if (!arguments.length) return digits;\n    if (_ == null) {\n      digits = null;\n    } else {\n      const d = Math.floor(_);\n      if (!(d >= 0)) throw new RangeError(`invalid digits: ${_}`);\n      digits = d;\n    }\n    return shape;\n  };\n\n  return () => new Path(digits);\n}\n", "export var slice = Array.prototype.slice;\n\nexport default function(x) {\n  return typeof x === \"object\" && \"length\" in x\n    ? x // Array, TypedArray, NodeList, array-like\n    : Array.from(x); // Map, Set, iterable, string, or anything else\n}\n", "function Linear(context) {\n  this._context = context;\n}\n\nLinear.prototype = {\n  areaStart: function() {\n    this._line = 0;\n  },\n  areaEnd: function() {\n    this._line = NaN;\n  },\n  lineStart: function() {\n    this._point = 0;\n  },\n  lineEnd: function() {\n    if (this._line || (this._line !== 0 && this._point === 1)) this._context.closePath();\n    this._line = 1 - this._line;\n  },\n  point: function(x, y) {\n    x = +x, y = +y;\n    switch (this._point) {\n      case 0: this._point = 1; this._line ? this._context.lineTo(x, y) : this._context.moveTo(x, y); break;\n      case 1: this._point = 2; // falls through\n      default: this._context.lineTo(x, y); break;\n    }\n  }\n};\n\nexport default function(context) {\n  return new Linear(context);\n}\n", "export function x(p) {\n  return p[0];\n}\n\nexport function y(p) {\n  return p[1];\n}\n", "import array from \"./array.js\";\nimport constant from \"./constant.js\";\nimport curveLinear from \"./curve/linear.js\";\nimport {withPath} from \"./path.js\";\nimport {x as pointX, y as pointY} from \"./point.js\";\n\nexport default function(x, y) {\n  var defined = constant(true),\n      context = null,\n      curve = curveLinear,\n      output = null,\n      path = withPath(line);\n\n  x = typeof x === \"function\" ? x : (x === undefined) ? pointX : constant(x);\n  y = typeof y === \"function\" ? y : (y === undefined) ? pointY : constant(y);\n\n  function line(data) {\n    var i,\n        n = (data = array(data)).length,\n        d,\n        defined0 = false,\n        buffer;\n\n    if (context == null) output = curve(buffer = path());\n\n    for (i = 0; i <= n; ++i) {\n      if (!(i < n && defined(d = data[i], i, data)) === defined0) {\n        if (defined0 = !defined0) output.lineStart();\n        else output.lineEnd();\n      }\n      if (defined0) output.point(+x(d, i, data), +y(d, i, data));\n    }\n\n    if (buffer) return output = null, buffer + \"\" || null;\n  }\n\n  line.x = function(_) {\n    return arguments.length ? (x = typeof _ === \"function\" ? _ : constant(+_), line) : x;\n  };\n\n  line.y = function(_) {\n    return arguments.length ? (y = typeof _ === \"function\" ? _ : constant(+_), line) : y;\n  };\n\n  line.defined = function(_) {\n    return arguments.length ? (defined = typeof _ === \"function\" ? _ : constant(!!_), line) : defined;\n  };\n\n  line.curve = function(_) {\n    return arguments.length ? (curve = _, context != null && (output = curve(context)), line) : curve;\n  };\n\n  line.context = function(_) {\n    return arguments.length ? (_ == null ? context = output = null : output = curve(context = _), line) : context;\n  };\n\n  return line;\n}\n", "import array from \"./array.js\";\nimport constant from \"./constant.js\";\nimport curveLinear from \"./curve/linear.js\";\nimport line from \"./line.js\";\nimport {withPath} from \"./path.js\";\nimport {x as pointX, y as pointY} from \"./point.js\";\n\nexport default function(x0, y0, y1) {\n  var x1 = null,\n      defined = constant(true),\n      context = null,\n      curve = curveLinear,\n      output = null,\n      path = withPath(area);\n\n  x0 = typeof x0 === \"function\" ? x0 : (x0 === undefined) ? pointX : constant(+x0);\n  y0 = typeof y0 === \"function\" ? y0 : (y0 === undefined) ? constant(0) : constant(+y0);\n  y1 = typeof y1 === \"function\" ? y1 : (y1 === undefined) ? pointY : constant(+y1);\n\n  function area(data) {\n    var i,\n        j,\n        k,\n        n = (data = array(data)).length,\n        d,\n        defined0 = false,\n        buffer,\n        x0z = new Array(n),\n        y0z = new Array(n);\n\n    if (context == null) output = curve(buffer = path());\n\n    for (i = 0; i <= n; ++i) {\n      if (!(i < n && defined(d = data[i], i, data)) === defined0) {\n        if (defined0 = !defined0) {\n          j = i;\n          output.areaStart();\n          output.lineStart();\n        } else {\n          output.lineEnd();\n          output.lineStart();\n          for (k = i - 1; k >= j; --k) {\n            output.point(x0z[k], y0z[k]);\n          }\n          output.lineEnd();\n          output.areaEnd();\n        }\n      }\n      if (defined0) {\n        x0z[i] = +x0(d, i, data), y0z[i] = +y0(d, i, data);\n        output.point(x1 ? +x1(d, i, data) : x0z[i], y1 ? +y1(d, i, data) : y0z[i]);\n      }\n    }\n\n    if (buffer) return output = null, buffer + \"\" || null;\n  }\n\n  function arealine() {\n    return line().defined(defined).curve(curve).context(context);\n  }\n\n  area.x = function(_) {\n    return arguments.length ? (x0 = typeof _ === \"function\" ? _ : constant(+_), x1 = null, area) : x0;\n  };\n\n  area.x0 = function(_) {\n    return arguments.length ? (x0 = typeof _ === \"function\" ? _ : constant(+_), area) : x0;\n  };\n\n  area.x1 = function(_) {\n    return arguments.length ? (x1 = _ == null ? null : typeof _ === \"function\" ? _ : constant(+_), area) : x1;\n  };\n\n  area.y = function(_) {\n    return arguments.length ? (y0 = typeof _ === \"function\" ? _ : constant(+_), y1 = null, area) : y0;\n  };\n\n  area.y0 = function(_) {\n    return arguments.length ? (y0 = typeof _ === \"function\" ? _ : constant(+_), area) : y0;\n  };\n\n  area.y1 = function(_) {\n    return arguments.length ? (y1 = _ == null ? null : typeof _ === \"function\" ? _ : constant(+_), area) : y1;\n  };\n\n  area.lineX0 =\n  area.lineY0 = function() {\n    return arealine().x(x0).y(y0);\n  };\n\n  area.lineY1 = function() {\n    return arealine().x(x0).y(y1);\n  };\n\n  area.lineX1 = function() {\n    return arealine().x(x1).y(y0);\n  };\n\n  area.defined = function(_) {\n    return arguments.length ? (defined = typeof _ === \"function\" ? _ : constant(!!_), area) : defined;\n  };\n\n  area.curve = function(_) {\n    return arguments.length ? (curve = _, context != null && (output = curve(context)), area) : curve;\n  };\n\n  area.context = function(_) {\n    return arguments.length ? (_ == null ? context = output = null : output = curve(context = _), area) : context;\n  };\n\n  return area;\n}\n", "function sign(x) {\n  return x < 0 ? -1 : 1;\n}\n\n// Calculate the slopes of the tangents (Hermite-type interpolation) based on\n// the following paper: Steffen, M. 1990. A Simple Method for Monotonic\n// Interpolation in One Dimension. Astronomy and Astrophysics, Vol. 239, NO.\n// NOV(II), P. 443, 1990.\nfunction slope3(that, x2, y2) {\n  var h0 = that._x1 - that._x0,\n      h1 = x2 - that._x1,\n      s0 = (that._y1 - that._y0) / (h0 || h1 < 0 && -0),\n      s1 = (y2 - that._y1) / (h1 || h0 < 0 && -0),\n      p = (s0 * h1 + s1 * h0) / (h0 + h1);\n  return (sign(s0) + sign(s1)) * Math.min(Math.abs(s0), Math.abs(s1), 0.5 * Math.abs(p)) || 0;\n}\n\n// Calculate a one-sided slope.\nfunction slope2(that, t) {\n  var h = that._x1 - that._x0;\n  return h ? (3 * (that._y1 - that._y0) / h - t) / 2 : t;\n}\n\n// According to https://en.wikipedia.org/wiki/Cubic_Hermite_spline#Representations\n// \"you can express cubic Hermite interpolation in terms of cubic B\u00E9zier curves\n// with respect to the four values p0, p0 + m0 / 3, p1 - m1 / 3, p1\".\nfunction point(that, t0, t1) {\n  var x0 = that._x0,\n      y0 = that._y0,\n      x1 = that._x1,\n      y1 = that._y1,\n      dx = (x1 - x0) / 3;\n  that._context.bezierCurveTo(x0 + dx, y0 + dx * t0, x1 - dx, y1 - dx * t1, x1, y1);\n}\n\nfunction MonotoneX(context) {\n  this._context = context;\n}\n\nMonotoneX.prototype = {\n  areaStart: function() {\n    this._line = 0;\n  },\n  areaEnd: function() {\n    this._line = NaN;\n  },\n  lineStart: function() {\n    this._x0 = this._x1 =\n    this._y0 = this._y1 =\n    this._t0 = NaN;\n    this._point = 0;\n  },\n  lineEnd: function() {\n    switch (this._point) {\n      case 2: this._context.lineTo(this._x1, this._y1); break;\n      case 3: point(this, this._t0, slope2(this, this._t0)); break;\n    }\n    if (this._line || (this._line !== 0 && this._point === 1)) this._context.closePath();\n    this._line = 1 - this._line;\n  },\n  point: function(x, y) {\n    var t1 = NaN;\n\n    x = +x, y = +y;\n    if (x === this._x1 && y === this._y1) return; // Ignore coincident points.\n    switch (this._point) {\n      case 0: this._point = 1; this._line ? this._context.lineTo(x, y) : this._context.moveTo(x, y); break;\n      case 1: this._point = 2; break;\n      case 2: this._point = 3; point(this, slope2(this, t1 = slope3(this, x, y)), t1); break;\n      default: point(this, this._t0, t1 = slope3(this, x, y)); break;\n    }\n\n    this._x0 = this._x1, this._x1 = x;\n    this._y0 = this._y1, this._y1 = y;\n    this._t0 = t1;\n  }\n}\n\nfunction MonotoneY(context) {\n  this._context = new ReflectContext(context);\n}\n\n(MonotoneY.prototype = Object.create(MonotoneX.prototype)).point = function(x, y) {\n  MonotoneX.prototype.point.call(this, y, x);\n};\n\nfunction ReflectContext(context) {\n  this._context = context;\n}\n\nReflectContext.prototype = {\n  moveTo: function(x, y) { this._context.moveTo(y, x); },\n  closePath: function() { this._context.closePath(); },\n  lineTo: function(x, y) { this._context.lineTo(y, x); },\n  bezierCurveTo: function(x1, y1, x2, y2, x, y) { this._context.bezierCurveTo(y1, x1, y2, x2, y, x); }\n};\n\nexport function monotoneX(context) {\n  return new MonotoneX(context);\n}\n\nexport function monotoneY(context) {\n  return new MonotoneY(context);\n}\n", "import { scaleLinear, scaleTime } from 'd3-scale';\nimport { extent } from 'd3-array';\nimport { line as d3Line, curveMonotoneX } from 'd3-shape';\n\nexport function createXTimeScale<T>(data: T[], accessor: (d: T) => Date, range: [number, number]) {\n  const domain = extent(data, accessor) as [Date, Date];\n  return scaleTime().domain(domain).range(range);\n}\n\nexport function createYLinearScale<T>(data: T[], accessor: (d: T) => number, range: [number, number]) {\n  const [min, max] = extent(data, accessor) as [number, number];\n  return scaleLinear()\n    .domain([Math.min(0, min ?? 0), max ?? 0])\n    .nice()\n    .range(range);\n}\n\nexport function createLinePath<T>(\n  data: T[],\n  x: (d: T) => number,\n  y: (d: T) => number,\n  options?: { smooth?: boolean }\n) {\n  const lineGen = d3Line<T>()\n    .x(x)\n    .y(y);\n  if (options?.smooth !== false) {\n    lineGen.curve(curveMonotoneX);\n  }\n  return lineGen(data) ?? '';\n}\n", "import * as React from 'react';\n\nexport interface ChartDimensions {\n  width: number;\n  height: number;\n  innerWidth: number;\n  innerHeight: number;\n  margin: { top: number; right: number; bottom: number; left: number };\n  ref: React.RefObject<HTMLDivElement | null>;\n}\n\nexport function useChartDimensions(initial: Partial<ChartDimensions['margin']> = {}): ChartDimensions {\n  const ref = React.useRef<HTMLDivElement>(null);\n  const margin = React.useMemo(() => ({\n    top: initial.top ?? 16,\n    right: initial.right ?? 16,\n    bottom: initial.bottom ?? 32,\n    left: initial.left ?? 48\n  }), [initial.bottom, initial.left, initial.right, initial.top]);\n\n  const [dims, setDims] = React.useState({ width: 0, height: 0 });\n\n  React.useLayoutEffect(() => {\n    if (!ref.current) return;    \n    const ro = new ResizeObserver(entries => {\n      for (const entry of entries) {\n        const { width, height } = entry.contentRect;\n        setDims({ width, height });\n      }\n    });\n    ro.observe(ref.current);\n    return () => ro.disconnect();\n  }, []);\n\n  const innerWidth = Math.max(0, dims.width - margin.left - margin.right);\n  const innerHeight = Math.max(0, dims.height - margin.top - margin.bottom);\n\n  return { width: dims.width, height: dims.height, innerWidth, innerHeight, margin, ref };\n}\n", "import * as React from 'react';\nimport { useChartDimensions, type ChartDimensions } from '../hooks/useChartDimensions';\n\nexport interface ChartRootProps {\n  /** Explicit height (px). Width is responsive to parent unless set via style */\n  height?: number;\n  /** Override margins (top,right,bottom,left) */\n  margin?: Partial<ChartDimensions['margin']>;\n  /** Optional explicit width; otherwise flex/parent controlled */\n  width?: number | string;\n  className?: string;\n  children: React.ReactNode;\n  role?: string;\n  ariaLabel?: string;\n}\n\ninterface ChartContextValue extends ChartDimensions {}\n\nconst ChartContext = React.createContext<ChartContextValue | null>(null);\nexport function useChartContext(): ChartContextValue | null { return React.useContext(ChartContext); }\n\nexport const ChartRoot: React.FC<ChartRootProps> = ({\n  height = 240,\n  margin,\n  width,\n  className = 'fdp-chart', // align with SCSS token application (.fdp-chart)\n  children,\n  role = 'group',\n  ariaLabel\n}) => {\n  const dims = useChartDimensions(margin);\n  const style: React.CSSProperties = { height, position: 'relative' };\n  if (width !== undefined) style.width = typeof width === 'number' ? `${width}px` : width;\n\n  return (\n    <div ref={dims.ref as any} className={className} style={style} role={role} aria-label={ariaLabel}>\n      <ChartContext.Provider value={dims}>\n        {children}\n      </ChartContext.Provider>\n    </div>\n  );\n};\n\nexport default ChartRoot;\n", "import * as React from 'react';\nimport { createXTimeScale, createYLinearScale } from '../utils/scales';\nimport { useChartContext } from './ChartRoot';\n\n// Provides d3 x/y scales + tick helpers for time-series line charts (initial scope).\nexport interface ScaleContextValue {\n  xScale: any; // d3 ScaleTime\n  yScale: any; // d3 ScaleLinear\n  getXTicks: (count?: number) => Date[];\n  getYTicks: (count?: number) => number[];\n}\n\nconst ScaleContext = React.createContext<ScaleContextValue | null>(null);\nexport const useScaleContext = () => React.useContext(ScaleContext);\n\nexport interface LineScalesProviderProps<Datum extends { x: any; y: number }> {\n  series: { data: Datum[] }[];\n  /** Explicit inner width; if omitted, derived from ChartRoot context (if available) */\n  innerWidth?: number; // width excluding margins\n  /** Explicit inner height; if omitted, derived from ChartRoot context (if available) */\n  innerHeight?: number; // height excluding margins\n  parseX?: (d: Datum) => Date; // custom accessor override\n  children: React.ReactNode;\n  xTickCount?: number; // preferred default counts\n  yTickCount?: number;\n}\n\nexport const LineScalesProvider = <Datum extends { x: any; y: number }>({\n  series,\n  innerWidth: innerWidthProp,\n  innerHeight: innerHeightProp,\n  parseX: parseXProp,\n  children,\n  xTickCount = 6,\n  yTickCount = 5\n}: LineScalesProviderProps<Datum>) => {\n  const chartDims = useChartContext();\n  // Prefer explicit values; fallback to chart context; final fallback 0 (will update on re-measure)\n  const innerWidth = innerWidthProp ?? chartDims?.innerWidth ?? 0;\n  const innerHeight = innerHeightProp ?? chartDims?.innerHeight ?? 0;\n  const allData = React.useMemo(() => series.flatMap(s => s.data), [series]);\n  const parseX = React.useCallback((d: Datum) => {\n    if (parseXProp) return parseXProp(d);\n    const raw = (d as any).x;\n    return raw instanceof Date ? raw : new Date(raw);\n  }, [parseXProp]);\n\n  const xScale = React.useMemo(() => createXTimeScale(allData, parseX as any, [0, innerWidth]), [allData, parseX, innerWidth]);\n  const yScale = React.useMemo(() => createYLinearScale(allData, (d: any) => d.y, [innerHeight, 0]), [allData, innerHeight]);\n\n  const value: ScaleContextValue = React.useMemo(() => ({\n    xScale,\n    yScale,\n    getXTicks: (count = xTickCount) => xScale.ticks(count),\n    getYTicks: (count = yTickCount) => yScale.ticks(count)\n  }), [xScale, yScale, xTickCount, yTickCount]);\n\n  return <ScaleContext.Provider value={value}>{children}</ScaleContext.Provider>;\n};\n\nexport default ScaleContext;\n", "import * as React from 'react';\nimport { useScaleContext } from '../core/ScaleContext';\nimport { useChartContext } from '../core/ChartRoot';\n\nexport interface AxisProps {\n  type: 'x' | 'y';\n  scale?: any; // user-supplied override\n  tickCount?: number;\n  /** Explicit tick values; if provided overrides tickCount/ticks() generation */\n  tickValues?: any[];\n  formatTick?: (v: any) => string;\n  label?: string; // used for y\n  offset?: number; // x axis vertical offset (defaults to innerHeight)\n  className?: string;\n  /** Minimum pixel spacing between adjacent tick labels (x axis only). If labels would overlap, intermediate ticks are dropped. Default 0 (no filtering). */\n  minLabelSpacing?: number;\n  /** Truncate tick label text to this many characters (adds ellipsis). Full value kept in <title> for tooltip/a11y. */\n  maxTickLabelLength?: number;\n  /** Auto-compute a reasonable minLabelSpacing based on average label length if explicit minLabelSpacing not provided. */\n  autoMinLabelSpacing?: boolean;\n  /** Rotate x-axis tick labels (degrees). Negative leans left, positive right. */\n  labelAngle?: number;\n  /** If true, split labels containing \\n into multiple tspans (multi-line). */\n  allowLabelWrap?: boolean;\n  /** Preset date/time formatting helper (applies only if formatTick not provided). */\n  tickFormatPreset?: 'dayShortMonth' | 'dayShortMonthYear' | 'shortMonth' | 'shortMonthYear' | 'hourMinute';\n}\n\nexport const Axis: React.FC<AxisProps> = ({\n  type,\n  scale,\n  tickCount,\n  tickValues,\n  formatTick: rawFormatTick,\n  label,\n  offset,\n  className,\n  minLabelSpacing,\n  maxTickLabelLength,\n  autoMinLabelSpacing = type === 'x' ? true : false,\n  labelAngle = 0,\n  allowLabelWrap = true,\n  tickFormatPreset\n}) => {\n  const scaleCtx = useScaleContext();\n  const dims = useChartContext();\n  const resolvedScale = scale || (type === 'x' ? scaleCtx?.xScale : scaleCtx?.yScale);\n  const defaultCount = tickCount ?? (type === 'x' ? 6 : 5);\n  // Derive formatter from preset if provided and no explicit formatter\n  const hasUserFormatter = typeof rawFormatTick === 'function';\n  const presetFormatter: ((v: any) => string) | undefined = React.useMemo(() => {\n    if (hasUserFormatter) return undefined;\n    if (!tickFormatPreset) return undefined;\n    const dtf = (opts: Intl.DateTimeFormatOptions) => new Intl.DateTimeFormat(undefined, opts);\n    switch (tickFormatPreset) {\n      case 'dayShortMonth':\n        return (v: any) => {\n          const d = v instanceof Date ? v : new Date(v);\n          return `${d.getDate()}\\n${dtf({ month: 'short' }).format(d)}`;\n        };\n      case 'dayShortMonthYear':\n        return (v: any) => {\n          const d = v instanceof Date ? v : new Date(v);\n            return `${d.getDate()}\\n${dtf({ month: 'short' }).format(d)} ${d.getFullYear()}`;\n        };\n      case 'shortMonth':\n        return (v: any) => {\n          const d = v instanceof Date ? v : new Date(v);\n          return dtf({ month: 'short' }).format(d);\n        };\n      case 'shortMonthYear':\n        return (v: any) => {\n          const d = v instanceof Date ? v : new Date(v);\n          return `${dtf({ month: 'short' }).format(d)} ${d.getFullYear()}`;\n        };\n      case 'hourMinute':\n        return (v: any) => {\n          const d = v instanceof Date ? v : new Date(v);\n          return dtf({ hour: '2-digit', minute: '2-digit' }).format(d);\n        };\n      default:\n        return undefined;\n    }\n  }, [hasUserFormatter, tickFormatPreset]);\n  let effectiveFormatTick: (v:any)=>string = hasUserFormatter ? (rawFormatTick as (v:any)=>string) : (presetFormatter || ((v: any) => String(v)));\n  const ticks: any[] = React.useMemo(() => {\n    if (tickValues && Array.isArray(tickValues)) return tickValues;\n    if (!resolvedScale) return [];\n    if (typeof resolvedScale.ticks === 'function') return resolvedScale.ticks(defaultCount);\n    return resolvedScale.domain ? resolvedScale.domain() : [];\n  }, [resolvedScale, defaultCount, tickValues]);\n\n  // Auto date formatting heuristic for x-axis when using time scale and no user/preset format provided\n  if (type === 'x' && !hasUserFormatter && !tickFormatPreset && ticks.length && ticks.every(t => t instanceof Date)) {\n    const first = ticks[0] as Date;\n    const last = ticks[ticks.length - 1] as Date;\n    const spanMs = last.getTime() - first.getTime();\n    const oneDay = 24*3600*1000;\n    const oneYear = 365*oneDay;\n    const sameYear = first.getFullYear() === last.getFullYear();\n    const dtfMonth = new Intl.DateTimeFormat(undefined, { month: 'short' });\n    if (spanMs < 2*oneDay) {\n      const dtfTime = new Intl.DateTimeFormat(undefined, { hour: '2-digit', minute: '2-digit' });\n      effectiveFormatTick = (v:any) => dtfTime.format(v as Date);\n    } else if (spanMs < 32*oneDay) {\n      // Show day + short month\n      effectiveFormatTick = (v:any) => {\n        const d = v as Date; return `${d.getDate()} ${dtfMonth.format(d)}`;\n      };\n    } else if (spanMs < oneYear && sameYear) {\n      // Show short month (year implied)\n      effectiveFormatTick = (v:any) => dtfMonth.format(v as Date);\n    } else if (spanMs < 2*oneYear) {\n      // Show short month + year on first month of each year maybe; keep simple: Mon YYYY\n      const seenMonths = new Set<number>();\n      effectiveFormatTick = (v:any) => {\n        const d = v as Date; const key = d.getMonth();\n        if (!seenMonths.has(key)) { seenMonths.add(key); }\n        return `${dtfMonth.format(d)} ${d.getFullYear()}`;\n      };\n    } else {\n      // Multi-year span \u2013 show year only\n      effectiveFormatTick = (v:any) => String((v as Date).getFullYear());\n    }\n  }\n\n  if (!resolvedScale || !dims) return null;\n\n  if (type === 'x') {\n    const y = offset ?? dims.innerHeight;\n    const isBandScale = typeof (resolvedScale as any).bandwidth === 'function';\n    const bandwidth = isBandScale ? (resolvedScale as any).bandwidth() : 0;\n    const tickPos = (t: any) => {\n      const base = resolvedScale(t);\n      return isBandScale ? base + bandwidth / 2 : base;\n    };\n    // Determine min spacing (auto or explicit)\n    let resolvedMinSpacing = minLabelSpacing ?? 0;\n    if (autoMinLabelSpacing && (minLabelSpacing === undefined || minLabelSpacing === null)) {\n      // Approximate per-label pixel width = avg length * 6 (rough chars * px). Add padding.\n      const labels = ticks.map(t => effectiveFormatTick(t).replace(/\\n.*/g, '')); // first line only for width\n      const avgLen = labels.length ? labels.reduce((a,b)=>a+b.length,0)/labels.length : 0;\n      resolvedMinSpacing = Math.max(12, Math.round(avgLen * 6 + 4));\n    }\n    // Optionally filter ticks to avoid overlap based on pixel distance\n  const filteredTicks = React.useMemo(() => {\n      // If user supplied explicit tickValues we render them all (no auto thinning) to keep alignment with data points.\n      if (tickValues && Array.isArray(tickValues)) return ticks;\n      if (resolvedMinSpacing <= 0) return ticks;\n      const accepted: any[] = [];\n      let lastPos = -Infinity;\n      for (const t of ticks) {\n    const pos = tickPos(t);\n        if (pos - lastPos >= resolvedMinSpacing) {\n          accepted.push(t);\n          lastPos = pos;\n        }\n      }\n      return accepted;\n  }, [ticks, resolvedScale, resolvedMinSpacing, tickValues, isBandScale, bandwidth]);\n    return (\n  <g className={['fdp-axis','fdp-axis--x', className].filter(Boolean).join(' ')} transform={`translate(0,${y})`} fontFamily=\"var(--nhs-fdp-font-family-base, var(--fdp-chart-font-family))\">\n        <line x1={0} x2={dims.innerWidth} y1={0} y2={0} stroke=\"currentColor\" />\n        {filteredTicks.map((t, i) => {\n          const rawLabel = effectiveFormatTick(t);\n            const displayLabel = (maxTickLabelLength && rawLabel.length > maxTickLabelLength)\n              ? rawLabel.slice(0, Math.max(1, maxTickLabelLength - 1)) + '\u2026'\n              : rawLabel;\n          const lines = allowLabelWrap ? displayLabel.split(/\\n/) : [displayLabel.replace(/\\n/g,' ' )];\n          const anchor = labelAngle < 0 ? 'end' : labelAngle > 0 ? 'start' : 'middle';\n          return (\n      <g key={t?.toString?.() || i} transform={`translate(${tickPos(t)},0)`}>\n              <line y2={6} stroke=\"currentColor\" />\n              <text y={9} textAnchor={anchor} className=\"fdp-axis__tick\" dominantBaseline=\"hanging\" transform={labelAngle ? `rotate(${labelAngle})` : undefined} fontFamily=\"inherit\">\n                {lines.map((ln, li) => (\n                  <tspan key={li} x={0} dy={li===0?0:'1.1em'}>{ln}</tspan>\n                ))}\n                {displayLabel !== rawLabel && <title>{rawLabel}</title>}\n              </text>\n            </g>\n          );\n        })}\n      </g>\n    );\n  }\n\n  return (\n  <g className={['fdp-axis','fdp-axis--y', className].filter(Boolean).join(' ')} fontFamily=\"var(--nhs-fdp-font-family-base, var(--fdp-chart-font-family))\">\n      {ticks.map((t, i) => {\n        const rawLabel = effectiveFormatTick(t);\n        const displayLabel = (maxTickLabelLength && rawLabel.length > maxTickLabelLength)\n          ? rawLabel.slice(0, Math.max(1, maxTickLabelLength - 1)) + '\u2026'\n          : rawLabel;\n        const lines = allowLabelWrap ? displayLabel.split(/\\n/) : [displayLabel.replace(/\\n/g,' ')];\n        return (\n          <g key={t?.toString?.() || i} transform={`translate(0,${resolvedScale(t)})`}>\n            <line x2={-6} stroke=\"currentColor\" />\n            <text x={-9} dy=\"0.32em\" textAnchor=\"end\" className=\"fdp-axis__tick\" fontFamily=\"inherit\">\n              {lines.map((ln, li) => (\n                <tspan key={li} x={-9} dy={li===0?0:'1.1em'}>{ln}</tspan>\n              ))}\n              {displayLabel !== rawLabel && <title>{rawLabel}</title>}\n            </text>\n          </g>\n        );\n      })}\n      {label && (\n        <text transform=\"rotate(-90)\" x={-dims.innerHeight / 2} y={-dims.margin.left + 12} textAnchor=\"middle\" className=\"fdp-axis__label\" fontFamily=\"inherit\">{label}</text>\n      )}\n    </g>\n  );\n};\n\nexport default Axis;\n", "import * as React from 'react';\nimport { useScaleContext } from '../core/ScaleContext';\nimport { useChartContext } from '../core/ChartRoot';\n\nexport interface GridLinesProps {\n  axis?: 'x' | 'y'; // draw lines perpendicular to specified axis ticks (default y -> horizontal lines)\n  tickCount?: number;\n  stroke?: string;\n  dasharray?: string;\n  className?: string;\n}\n\nexport const GridLines: React.FC<GridLinesProps> = ({\n  axis = 'y',\n  tickCount,\n  stroke = 'var(--fdp-chart-grid,#e5e5e5)',\n  dasharray = '2 4',\n  className\n}) => {\n  const scaleCtx = useScaleContext();\n  const dims = useChartContext();\n  if (!scaleCtx || !dims) return null;\n  const ticks = axis === 'y' ? scaleCtx.getYTicks(tickCount) : scaleCtx.getXTicks(tickCount);\n  return (\n    <g className={['fdp-grid', className].filter(Boolean).join(' ')}>\n      {axis === 'y' && ticks.map((t, i) => (\n        <line key={i} x1={0} x2={dims.innerWidth} y1={scaleCtx.yScale(t)} y2={scaleCtx.yScale(t)} stroke={stroke} strokeDasharray={dasharray} />\n      ))}\n      {axis === 'x' && ticks.map((t, i) => (\n        <line key={i} y1={0} y2={dims.innerHeight} x1={scaleCtx.xScale(t)} x2={scaleCtx.xScale(t)} stroke={stroke} strokeDasharray={dasharray} />\n      ))}\n    </g>\n  );\n};\n\nexport default GridLines;\n", "import * as React from 'react';\nimport { createLinePath } from '../utils/scales';\nimport { pickSeriesColor, pickRegionColor, pickSeriesStroke, pickRegionStroke } from '../utils/colors';\nimport { useScaleContext } from '../core/ScaleContext';\nimport { useVisibility } from '../core/VisibilityContext';\nimport { useTooltipContext } from '../core/TooltipContext';\n\nexport interface LineDatum { x: Date | string | number; y: number; }\nexport interface LineSeries { id: string; data: LineDatum[]; color?: string; label?: string; }\n\nexport interface LineSeriesPrimitiveProps {\n  series: LineSeries;\n  seriesIndex: number;\n  palette: 'categorical' | 'region';\n  showPoints: boolean;\n  focusablePoints: boolean;\n  focusIndex: number;\n  /** Provide parseX to avoid reallocation across series */\n  parseX: (d: LineDatum) => Date;\n  /** Presentation for hidden series (inherited via LineChart). */\n  visibilityMode?: 'remove' | 'fade';\n  /** Custom stroke width for the series line (defaults to 1). */\n  strokeWidth?: number;\n  /** Enable curve smoothing (monotoneX). Defaults to true. */\n  smooth?: boolean;\n}\n\n/** Low-level renderer for a single line series (no axes, assumes ScaleContext present). */\nexport const LineSeriesPrimitive: React.FC<LineSeriesPrimitiveProps> = ({\n  series,\n  seriesIndex,\n  palette,\n  showPoints,\n  focusablePoints,\n  focusIndex,\n  parseX,\n  visibilityMode = 'remove',\n  strokeWidth = 1,\n  smooth = true\n}) => {\n  const scaleCtx = useScaleContext();\n  if (!scaleCtx) return null; // safeguard\n  const { xScale, yScale } = scaleCtx;\n  const visibility = useVisibility();\n  const isHidden = visibility?.isHidden(series.id) ?? false;\n  const faded = isHidden && visibilityMode === 'fade';\n  if (isHidden && visibilityMode === 'remove') {\n    return null;\n  }\n  const tooltip = useTooltipContext();\n\n  // Register series with tooltip context for nearest-point computation\n  React.useEffect(() => {\n    if (!tooltip) return;\n    const normalized = series.data.map(d => ({ x: parseX(d), y: d.y }));\n    tooltip.registerSeries(series.id, normalized);\n    return () => tooltip.unregisterSeries(series.id);\n  }, [tooltip, series.id, series.data, parseX]);\n  const path = React.useMemo(() => createLinePath(series.data, d => xScale(parseX(d)), d => yScale(d.y), { smooth }), [series.data, xScale, yScale, parseX, smooth]);\n  const color = series.color || (palette === 'region' ? pickRegionColor(series.id, seriesIndex) : pickSeriesColor(seriesIndex));\n  const stroke = palette === 'region' ? pickRegionStroke(series.id, seriesIndex) : pickSeriesStroke(seriesIndex);\n\n  return (\n    <g className=\"fdp-line-series\" data-series={series.id} opacity={faded ? 0.25 : 1} aria-hidden={faded ? true : undefined}>\n  <path d={path} fill=\"none\" stroke={color} strokeWidth={strokeWidth} role=\"presentation\" />\n      {showPoints && series.data.map((d, di) => {\n        const cx = xScale(parseX(d));\n        const cy = yScale(d.y);\n        const tabIndex = focusablePoints ? 0 : -1;\n        const isFocusedPoint = !faded && ((focusablePoints && di === focusIndex) || (tooltip?.focused?.seriesId === series.id && tooltip.focused.index === di));\n        const handleEnter = () => {\n          if (tooltip && !faded) {\n            tooltip.setFocused({ seriesId: series.id, index: di, x: parseX(d), y: d.y, clientX: cx, clientY: cy });\n          }\n        };\n        const handleLeave = () => {\n          if (tooltip && tooltip.focused?.seriesId === series.id && tooltip.focused.index === di) tooltip.clear();\n        };\n        return (\n          <circle\n            key={di}\n            cx={cx}\n            cy={cy}\n            r={isFocusedPoint ? 5 : 3.5}\n            stroke={isFocusedPoint ? 'var(--nhs-fdp-color-primary-yellow, #ffeb3b)' : stroke}\n            strokeWidth={isFocusedPoint ? 2 : 1}\n            fill={color}\n            className=\"fdp-line-point\"\n            tabIndex={faded ? -1 : tabIndex}\n            aria-label={`${series.label || series.id} ${parseX(d).toDateString()} value ${d.y}`}\n            data-series={series.id}\n            data-index={di}\n            onMouseEnter={handleEnter}\n            onFocus={handleEnter}\n            onMouseLeave={handleLeave}\n            onBlur={handleLeave}\n          />\n        );\n      })}\n    </g>\n  );\n};\n\nexport default LineSeriesPrimitive;\n", "{\n  \"color\": {\n    \"data-viz\": {\n      \"$type\": \"color\",\n      \"categorical\": {\n        \"1\": { \"$value\": \"{color.primary.blue}\", \"$description\": \"Series 1 \u2013 NHS Blue (brand core)\" },\n        \"2\": { \"$value\": \"#41B6E6\", \"$description\": \"Series 2 \u2013 NHS Light Blue (new)\" },\n        \"3\": { \"$value\": \"{color.secondary.aqua-green}\", \"$description\": \"Series 3 \u2013 NHS Aqua Green (existing)\" },\n        \"4\": { \"$value\": \"#78BE20\", \"$description\": \"Series 4 \u2013 NHS Light Green (new)\" },\n        \"5\": { \"$value\": \"{color.primary.green}\", \"$description\": \"Series 5 \u2013 NHS Green (existing)\" },\n        \"6\": { \"$value\": \"{color.secondary.warm-yellow}\", \"$description\": \"Series 6 \u2013 NHS Warm Yellow (existing; distinct from focus yellow)\" },\n        \"7\": { \"$value\": \"#ED4F00\", \"$description\": \"Series 7 \u2013 NHS Tangerine (new; warmer/deeper than existing orange)\" },\n        \"8\": { \"$value\": \"{color.secondary.pink}\", \"$description\": \"Series 8 \u2013 NHS Pink (existing)\" },\n        \"9\": { \"$value\": \"#E317AA\", \"$description\": \"Series 9 \u2013 NHS Bright Pink (new vivid accent)\" },\n        \"10\": { \"$value\": \"#880FB8\", \"$description\": \"Series 10 \u2013 NHS Light Purple (new mid purple)\" },\n        \"11\": { \"$value\": \"{color.primary.purple}\", \"$description\": \"Series 11 \u2013 NHS Purple (existing dark purple)\" },\n        \"12\": { \"$value\": \"#9A6324\", \"$description\": \"Series 12 \u2013 NHS Brown (new; earth neutral)\" }\n      },\n      \"neutral\": {\n        \"comparison\": { \"$value\": \"{color.grey.1}\", \"$description\": \"Neutral comparison series (optional)\" }\n      },\n      \"region\": {\n        \"$comment\": \"Fixed colours for NHS geographical regions; prefer stable mapping for maps. London colour updated (#78BE21 \u2013 light green).\",\n        \"north-east\": { \"$value\": \"{color.primary.blue}\", \"$description\": \"North East \u2013 NHS Blue\" },\n        \"north-west\": { \"$value\": \"#41B6E6\", \"$description\": \"North West \u2013 NHS Light Blue\" },\n        \"east-of-england\": { \"$value\": \"{color.primary.purple}\", \"$description\": \"East of England \u2013 NHS Purple\" },\n        \"midlands\": { \"$value\": \"{color.secondary.pink}\", \"$description\": \"Midlands \u2013 NHS Pink\" },\n  \t\t\"london\": { \"$value\": \"#78BE21\", \"$description\": \"London \u2013 NHS Light Green (new)\" },\n        \"south-west\": { \"$value\": \"#FAE100\", \"$description\": \"South West \u2013 NHS Yellow variant (new)\" },\n        \"south-east\": { \"$value\": \"#ed8b00\", \"$description\": \"South East \u2013 NHS Orange (existing base orange)\" }\n      },\n      \"severity\": {\n        \"$comment\": \"Semantic severity / alert colours (light background ramp \u2192 critical).\",\n        \"low\": { \"$value\": \"{color.secondary.pale-yellow}\", \"$description\": \"Low severity \u2013 pale yellow background\" },\n        \"moderate\": { \"$value\": \"{color.secondary.warm-yellow}\", \"$description\": \"Moderate severity \u2013 warm yellow\" },\n        \"high\": { \"$value\": \"{color.secondary.orange}\", \"$description\": \"High severity \u2013 orange\" },\n        \"critical\": { \"$value\": \"{color.primary.red}\", \"$description\": \"Critical severity \u2013 red\" }\n      },\n      \"org-level\": {\n        \"$comment\": \"Organisational level semantic colours (stable NHS brand mappings).\",\n        \"trust\": { \"$value\": \"{color.primary.blue}\", \"$description\": \"Trust \u2013 NHS Blue\" },\n        \"ambulance\": { \"$value\": \"{color.primary.green}\", \"$description\": \"Ambulance \u2013 NHS Green\" },\n        \"icb\": { \"$value\": \"{color.primary.dark-pink}\", \"$description\": \"ICB \u2013 NHS Dark Pink\" },\n        \"region\": { \"$value\": \"{color.primary.purple}\", \"$description\": \"Region \u2013 NHS Purple\" }\n      },\n      \"stroke\": {\n        \"$comment\": \"Automatic contrast stroke colours for overlays / borders. Light fills get dark stroke; dark fills get white stroke.\",\n        \"categorical\": {\n          \"1\": { \"$value\": \"#ffffff\", \"$description\": \"Stroke for series 1 (blue)\" },\n          \"2\": { \"$value\": \"#212b32\", \"$description\": \"Stroke for series 2 (light blue)\" },\n          \"3\": { \"$value\": \"#212b32\", \"$description\": \"Stroke for series 3 (aqua green)\" },\n          \"4\": { \"$value\": \"#212b32\", \"$description\": \"Stroke for series 4 (light green)\" },\n          \"5\": { \"$value\": \"#ffffff\", \"$description\": \"Stroke for series 5 (green)\" },\n          \"6\": { \"$value\": \"#212b32\", \"$description\": \"Stroke for series 6 (warm yellow)\" },\n          \"7\": { \"$value\": \"#ffffff\", \"$description\": \"Stroke for series 7 (tangerine)\" },\n          \"8\": { \"$value\": \"#ffffff\", \"$description\": \"Stroke for series 8 (pink)\" },\n          \"9\": { \"$value\": \"#ffffff\", \"$description\": \"Stroke for series 9 (bright pink)\" },\n          \"10\": { \"$value\": \"#ffffff\", \"$description\": \"Stroke for series 10 (light purple)\" },\n          \"11\": { \"$value\": \"#ffffff\", \"$description\": \"Stroke for series 11 (purple)\" },\n          \"12\": { \"$value\": \"#ffffff\", \"$description\": \"Stroke for series 12 (brown)\" }\n        },\n        \"region\": {\n          \"$comment\": \"Region stroke colours derived from fill colours: dark fills lightened ~35%; light fills darkened ~25% for consistent contrast without defaulting to pure white/black.\",\n          \"north-east\": { \"$value\": \"#5996D1\", \"$description\": \"Stroke for North East (blue lightened 35%)\" },\n          \"north-west\": { \"$value\": \"#3189AD\", \"$description\": \"Stroke for North West (light blue darkened 25%)\" },\n          \"east-of-england\": { \"$value\": \"#7A59A3\", \"$description\": \"Stroke for East of England (purple lightened 35%)\" },\n          \"midlands\": { \"$value\": \"#CA71A4\", \"$description\": \"Stroke for Midlands (pink lightened 35%)\" },\n          \"london\": { \"$value\": \"#5A8F19\", \"$description\": \"Stroke for London (light green darkened 25%)\" },\n          \"south-west\": { \"$value\": \"#BCA900\", \"$description\": \"Stroke for South West (yellow darkened 25%)\" },\n          \"south-east\": { \"$value\": \"#B26800\", \"$description\": \"Stroke for South East (orange darkened 25%)\" }\n        },\n        \"severity\": {\n          \"$comment\": \"Contrast strokes for severity colours (light backgrounds use dark stroke; dark backgrounds use white).\",\n          \"low\": { \"$value\": \"#212b32\", \"$description\": \"Stroke for low severity (pale yellow fill)\" },\n          \"moderate\": { \"$value\": \"#212b32\", \"$description\": \"Stroke for moderate severity (warm yellow fill)\" },\n          \"high\": { \"$value\": \"#212b32\", \"$description\": \"Stroke for high severity (orange fill)\" },\n          \"critical\": { \"$value\": \"#ffffff\", \"$description\": \"Stroke for critical severity (red fill)\" }\n        },\n        \"org-level\": {\n          \"$comment\": \"Contrast strokes for organisational level colours (all dark brand fills so white stroke for consistency).\",\n          \"trust\": { \"$value\": \"#ffffff\", \"$description\": \"Stroke for trust (blue fill)\" },\n          \"ambulance\": { \"$value\": \"#ffffff\", \"$description\": \"Stroke for ambulance (green fill)\" },\n          \"icb\": { \"$value\": \"#ffffff\", \"$description\": \"Stroke for ICB (dark pink fill)\" },\n          \"region\": { \"$value\": \"#ffffff\", \"$description\": \"Stroke for region (purple fill)\" }\n        }\n      }\n    }\n  }\n}\n", "{\n  \"color\": {\n\t\"primary\": {\n\t  \"$type\": \"color\",\n\t  \"blue\": {\n\t\t\"$value\": \"#005eb8\",\n\t\t\"$description\": \"NHS Blue - Primary brand color\"\n\t  },\n\t  \"blue-active\": {\n\t\t\"$value\": \"#002f5c\",\n\t\t\"$description\": \"NHS Active Blue (50% shade) \u2013 alias of button/login active; promoted for general reuse\"\n\t  },\n\t  \"white\": {\n\t\t\"$value\": \"#ffffff\",\n\t\t\"$description\": \"NHS White\"\n\t  },\n\t  \"black\": {\n\t\t\"$value\": \"#212b32\",\n\t\t\"$description\": \"NHS Black\"\n\t  },\n\t  \"green\": {\n\t\t\"$value\": \"#007f3b\",\n\t\t\"$description\": \"NHS Green\"\n\t  },\n\t  \"purple\": {\n\t\t\"$value\": \"#330072\",\n\t\t\"$description\": \"NHS Purple\"\n\t  },\n\t  \"dark-pink\": {\n\t\t\"$value\": \"#7c2855\",\n\t\t\"$description\": \"NHS Dark Pink\"\n\t  },\n\t  \"red\": {\n\t\t\"$value\": \"#d5281b\",\n\t\t\"$description\": \"NHS Red\"\n\t  },\n\t  \"light-purple\": {\n\t\t\"$value\": \"#880FB8\",\n\t\t\"$description\": \"NHS Light Purple (data viz promoted)\"\n\t  },\n\t  \"yellow\": {\n\t\t\"$value\": \"#ffeb3b\",\n\t\t\"$description\": \"NHS Yellow\"\n\t  }\n\t},\n\t\"secondary\": {\n\t  \"$type\": \"color\",\n\t  \"pale-yellow\": {\n\t\t\"$value\": \"#fff9c4\",\n\t\t\"$description\": \"NHS Pale Yellow\"\n\t  },\n\t  \"warm-yellow\": {\n\t\t\"$value\": \"#ffb81c\",\n\t\t\"$description\": \"NHS Warm Yellow\"\n\t  },\n\t  \"region-yellow\": {\n\t\t\"$value\": \"#FAE100\",\n\t\t\"$description\": \"NHS Region Yellow (maps)\"\n\t  },\n\t  \"orange\": {\n\t\t\"$value\": \"#ed8b00\",\n\t\t\"$description\": \"NHS Orange\"\n\t  },\n\t  \"tangerine\": {\n\t\t\"$value\": \"#ED4F00\",\n\t\t\"$description\": \"NHS Tangerine (data viz promoted)\"\n\t  },\n\t  \"aqua-green\": {\n\t\t\"$value\": \"#00a499\",\n\t\t\"$description\": \"NHS Aqua Green\"\n\t  },\n\t  \"light-blue\": {\n\t\t\"$value\": \"#41B6E6\",\n\t\t\"$description\": \"NHS Light Blue (data viz promoted)\"\n\t  },\n\t  \"pink\": {\n\t\t\"$value\": \"#ae2573\",\n\t\t\"$description\": \"NHS Pink\"\n\t  },\n\t  \"bright-pink\": {\n\t\t\"$value\": \"#E317AA\",\n\t\t\"$description\": \"NHS Bright Pink (data viz promoted)\"\n\t  },\n\t  \"light-green\": {\n\t\t\"$value\": \"#78BE20\",\n\t\t\"$description\": \"NHS Light Green (data viz promoted)\"\n\t  },\n\t  \"brown\": {\n\t\t\"$value\": \"#9A6324\",\n\t\t\"$description\": \"NHS Brown (data viz promoted neutral)\"\n\t  }\n\t},\n\t\"grey\": {\n\t  \"$type\": \"color\",\n\t  \"1\": {\n\t\t\"$value\": \"#4c6272\",\n\t\t\"$description\": \"NHS Grey 1 - Darkest grey\"\n\t  },\n\t  \"2\": {\n\t\t\"$value\": \"#768692\",\n\t\t\"$description\": \"NHS Grey 2 - Darker grey\"\n\t  },\n\t  \"3\": {\n\t\t\"$value\": \"#aeb7bd\",\n\t\t\"$description\": \"NHS Grey 3 - Medium grey\"\n\t  },\n\t  \"4\": {\n\t\t\"$value\": \"#d8dde0\",\n\t\t\"$description\": \"NHS Grey 4 - Light grey\"\n\t  },\n\t  \"5\": {\n\t\t\"$value\": \"#f0f4f5\",\n\t\t\"$description\": \"NHS Grey 5 - Lightest grey\"\n\t  }\n\t}\n  }\n}", "// Attempt to source colours from design tokens (data-viz categorical 1..12).\n// We now use static ESM JSON imports (TS resolveJsonModule) so build will surface errors\n// instead of silently swallowing them with dynamic require.\n\nimport dataVizTokens from '../../../../packages/nhs-fdp/tokens/data-viz.json';\nimport colorTokens from '../../../../packages/nhs-fdp/tokens/colors.json';\n\n// Legacy fallback (previous implementation) \u2013 retained to avoid breaking consumers\nconst legacyCategorical = [\n  '#005eb8', '#0072ce', '#41b6e6', '#00a499',\n  '#7c2855', '#330072', '#d5281b', '#ffb81c',\n  '#fae100', '#4c6272', '#768692', '#aeb7bd'\n];\n\nlet categoricalPalette: string[] | null = null;\nlet optimizedCategoricalPalette: string[] | null = null; // reordered for maximal early distinctness\nlet extendedPaletteCache: string[] | null = null; // cache including generated variants beyond base length\n\ntype CategoricalStrategy = 'optimized' | 'raw';\nlet categoricalStrategy: CategoricalStrategy = 'optimized';\n\nexport function setCategoricalColorStrategy(strategy: CategoricalStrategy) {\n  categoricalStrategy = strategy;\n}\nexport function getCategoricalColorStrategy(): CategoricalStrategy { return categoricalStrategy; }\n\nfunction buildPalette(): string[] {\n  const root: any = { color: { ...(colorTokens as any).color, ...(dataVizTokens as any).color } };\n\n    const resolve = (path: string, seen: Set<string> = new Set()): string | undefined => {\n      if (seen.has(path)) return undefined; // circular guard\n      seen.add(path);\n      const node = path.split('.').reduce((acc: any, k) => (acc ? acc[k] : undefined), root);\n      if (!node) return undefined;\n      const value = node.$value || node.value; // support raw & built forms\n      if (typeof value === 'string' && /^\\{.+\\}$/.test(value)) {\n        return resolve(value.slice(1, -1), seen);\n      }\n      if (typeof value === 'string') return value;\n      return undefined;\n    };\n\n    const palette: string[] = [];\n    try {\n      for (let i = 1; i <= 12; i++) {\n        const tokenPath = `color.data-viz.categorical.${i}`;\n        const hex = resolve(tokenPath);\n        if (!hex) throw new Error(`Missing token ${tokenPath}`);\n        palette.push(hex);\n      }\n      return palette;\n    } catch (e) {\n      return legacyCategorical; // hard fallback if tokens unexpectedly incomplete\n    }\n}\n\nfunction getPalette(): string[] {\n  if (!categoricalPalette) categoricalPalette = buildPalette();\n  return categoricalPalette;\n}\n\n// --- Perceptual distinctness optimisation (CIE Lab farthest-point sampling) ---\n// We keep this lightweight (no external deps) with approximate conversions; sufficient for ordering.\ninterface Lab { L: number; a: number; b: number }\n\nfunction hexToRgb(hex: string): { r: number; g: number; b: number } | null {\n  const m = /^#?([a-f\\d]{2})([a-f\\d]{2})([a-f\\d]{2})$/i.exec(hex.trim());\n  if (!m) return null;\n  return { r: parseInt(m[1], 16), g: parseInt(m[2], 16), b: parseInt(m[3], 16) };\n}\n\n// sRGB -> linear\nfunction srgbToLinear(x: number): number { x /= 255; return x <= 0.04045 ? x / 12.92 : Math.pow((x + 0.055) / 1.055, 2.4); }\n\nfunction rgbToXyz(r: number, g: number, b: number): { x: number; y: number; z: number } {\n  const R = srgbToLinear(r); const G = srgbToLinear(g); const B = srgbToLinear(b);\n  // Observer = 2\u00B0, Illuminant = D65\n  const x = R * 0.4124 + G * 0.3576 + B * 0.1805;\n  const y = R * 0.2126 + G * 0.7152 + B * 0.0722;\n  const z = R * 0.0193 + G * 0.1192 + B * 0.9505;\n  return { x: x * 100, y: y * 100, z: z * 100 };\n}\n\nfunction xyzToLab(x: number, y: number, z: number): Lab {\n  // D65 reference white\n  const refX = 95.047, refY = 100.0, refZ = 108.883;\n  let X = x / refX, Y = y / refY, Z = z / refZ;\n  const f = (t: number) => (t > 0.008856 ? Math.cbrt(t) : (7.787 * t) + 16 / 116);\n  X = f(X); Y = f(Y); Z = f(Z);\n  return { L: (116 * Y) - 16, a: 500 * (X - Y), b: 200 * (Y - Z) };\n}\n\nfunction hexToLab(hex: string): Lab | null {\n  const rgb = hexToRgb(hex);\n  if (!rgb) return null;\n  const xyz = rgbToXyz(rgb.r, rgb.g, rgb.b);\n  return xyzToLab(xyz.x, xyz.y, xyz.z);\n}\n\nfunction deltaE76(c1: Lab, c2: Lab): number {\n  const dL = c1.L - c2.L; const da = c1.a - c2.a; const db = c1.b - c2.b;\n  return Math.sqrt(dL * dL + da * da + db * db);\n}\n\nfunction buildOptimizedCategoricalPalette(): string[] {\n  const base = getPalette();\n  if (base.length <= 2) return base.slice();\n  const labs = base.map(c => hexToLab(c));\n  // Farthest-point sampling: start with colour having max average distance (more central choice) to others.\n  let bestStartIdx = 0; let bestAvg = -1;\n  for (let i = 0; i < base.length; i++) {\n    const li = labs[i]; if (!li) continue;\n    let total = 0; let count = 0;\n    for (let j = 0; j < base.length; j++) if (i !== j && labs[j]) { total += deltaE76(li, labs[j]!); count++; }\n    const avg = total / Math.max(1, count);\n    if (avg > bestAvg) { bestAvg = avg; bestStartIdx = i; }\n  }\n  const remaining = new Set<number>(base.map((_, i) => i));\n  const order: number[] = [];\n  order.push(bestStartIdx); remaining.delete(bestStartIdx);\n  while (remaining.size) {\n    let nextIdx = Array.from(remaining)[0];\n    let bestMin = -1;\n    for (const idx of remaining) {\n      const l = labs[idx]; if (!l) continue;\n      // Distance to closest already-picked colour\n      let minD = Infinity;\n      for (const o of order) {\n        const lo = labs[o]; if (lo) { const d = deltaE76(l, lo); if (d < minD) minD = d; }\n      }\n      if (minD > bestMin) { bestMin = minD; nextIdx = idx; }\n    }\n    order.push(nextIdx); remaining.delete(nextIdx);\n  }\n  return order.map(i => base[i]);\n}\n\nfunction getOptimizedPalette(): string[] {\n  if (!optimizedCategoricalPalette) optimizedCategoricalPalette = buildOptimizedCategoricalPalette();\n  return optimizedCategoricalPalette;\n}\n\nfunction getRawPalette(): string[] { return getPalette(); }\n\n// --- Extended palette generation for > base length ---\n// Creates lightened/darkened variants per base colour cycle while attempting to keep DeltaE separation.\ninterface RGB { r:number; g:number; b:number }\nfunction labToXyz(L:number,a:number,b:number){\n  const y = (L + 16) / 116; const x = a / 500 + y; const z = y - b / 200;\n  const f = (t:number)=>{ const t3 = t*t*t; return t3 > 0.008856 ? t3 : (t - 16/116)/7.787; };\n  const X = f(x) * 95.047; const Y = f(y) * 100; const Z = f(z) * 108.883; return {X,Y,Z};\n}\nfunction xyzToRgb(x:number,y:number,z:number): RGB {\n  x/=100; y/=100; z/=100;\n  let R = x*3.2406 + y*-1.5372 + z*-0.4986;\n  let G = x*-0.9689 + y*1.8758 + z*0.0415;\n  let B = x*0.0557 + y*-0.2040 + z*1.0570;\n  const linToSrgb = (c:number)=> c <= 0.0031308 ? 12.92*c : 1.055*Math.pow(c,1/2.4)-0.055;\n  R = Math.min(1, Math.max(0, linToSrgb(R)));\n  G = Math.min(1, Math.max(0, linToSrgb(G)));\n  B = Math.min(1, Math.max(0, linToSrgb(B)));\n  return { r: Math.round(R*255), g: Math.round(G*255), b: Math.round(B*255) };\n}\nfunction rgbToHex(r:number,g:number,b:number){ return `#${[r,g,b].map(v=>v.toString(16).padStart(2,'0')).join('')}`; }\nfunction adjustLightness(hex:string, deltaL:number): string {\n  const lab = hexToLab(hex); if(!lab) return hex;\n  const L = Math.min(100, Math.max(0, lab.L + deltaL));\n  const {X,Y,Z} = labToXyz(L, lab.a, lab.b);\n  const rgb = xyzToRgb(X,Y,Z);\n  return rgbToHex(rgb.r,rgb.g,rgb.b);\n}\n\nfunction buildExtendedPalette(): string[] {\n  const base = categoricalStrategy === 'raw' ? getRawPalette() : getOptimizedPalette();\n  // Precompute a couple of variant rounds (lighten, darken, lighten+, darken+)\n  const deltas = [12, -12, 24, -24];\n  const variants: string[][] = deltas.map(d => base.map(c => adjustLightness(c, d)));\n  // Interleave: base first, then for each variant level append its colours in optimized order.\n  const extended: string[] = [...base];\n  variants.forEach(v => extended.push(...v));\n  return extended;\n}\n\nfunction getExtendedPalette(): string[] {\n  if (!extendedPaletteCache || extendedPaletteCacheStrategyMismatch()) {\n    extendedPaletteCache = buildExtendedPalette();\n    lastExtendedStrategy = categoricalStrategy;\n  }\n  return extendedPaletteCache;\n}\nlet lastExtendedStrategy: CategoricalStrategy | null = null;\nfunction extendedPaletteCacheStrategyMismatch() { return lastExtendedStrategy !== categoricalStrategy; }\n\nexport function pickSeriesColor(i: number) {\n  const ext = getExtendedPalette();\n  return ext[i % ext.length];\n}\n\n// Export for potential external inspection/testing\nexport function getCategoricalPalette(): string[] { return [...getPalette()]; }\nexport function getOptimizedCategoricalPalette(): string[] { return [...getOptimizedPalette()]; }\nexport function getRawCategoricalPalette(): string[] { return [...getRawPalette()]; }\nexport function getExtendedCategoricalPalette(): string[] { return [...getExtendedPalette()]; }\n\n// Stroke (contrast outline) tokens\nlet categoricalStrokeMap: string[] | null = null;\nlet regionStrokeMap: Record<string,string> | null = null;\nlet severityStrokeMap: Record<string,string> | null = null;\n\nfunction buildStrokeMaps() {\n  const stroke = (dataVizTokens as any)?.color?.['data-viz']?.stroke;\n  if (stroke) {\n    const cat = stroke.categorical || {};\n    categoricalStrokeMap = [];\n    for (let i=1;i<=12;i++) {\n      const v = cat[String(i)]?.$value || cat[String(i)]?.value;\n      categoricalStrokeMap.push(typeof v === 'string' ? v : '#212b32');\n    }\n    const reg = stroke.region || {};\n    regionStrokeMap = {};\n    Object.keys(reg).forEach(k => {\n      const v = reg[k]?.$value || reg[k]?.value;\n      if (typeof v === 'string') regionStrokeMap![k] = v;\n    });\n    const sev = stroke.severity || {};\n    severityStrokeMap = {};\n    Object.keys(sev).forEach(k => {\n      const v = sev[k]?.$value || sev[k]?.value;\n      if (typeof v === 'string') severityStrokeMap![k] = v;\n    });\n  }\n}\n\nfunction ensureStrokeMaps() {\n  if (!categoricalStrokeMap || !regionStrokeMap || !severityStrokeMap) buildStrokeMaps();\n}\n\nexport function pickSeriesStroke(i: number) {\n  ensureStrokeMaps();\n  if (!categoricalStrokeMap) return '#212b32';\n  return categoricalStrokeMap[i % categoricalStrokeMap.length];\n}\n\nexport function getRegionStroke(id: string): string | undefined {\n  ensureStrokeMaps();\n  return regionStrokeMap ? regionStrokeMap[id] : undefined;\n}\n\nexport function pickRegionStroke(id: string, fallbackIndex: number): string {\n  return getRegionStroke(id) || pickSeriesStroke(fallbackIndex);\n}\n\n// Severity colours \u2013 semantic alert levels\nexport const SEVERITY_IDS = [ 'low', 'moderate', 'high', 'critical' ] as const;\nexport type SeverityId = typeof SEVERITY_IDS[number];\nlet severityMap: Record<string,string> | null = null;\n\nfunction buildSeverityMap(): Record<string,string> {\n  const root: any = { color: { ...(colorTokens as any).color, ...(dataVizTokens as any).color } };\n  const resolve = (path: string, seen: Set<string> = new Set()): string | undefined => {\n    if (seen.has(path)) return undefined;\n    seen.add(path);\n    const node = path.split('.').reduce((acc: any, k) => (acc ? acc[k] : undefined), root);\n    if (!node) return undefined;\n    const value = node.$value || node.value;\n    if (typeof value === 'string' && /^\\{.+\\}$/.test(value)) return resolve(value.slice(1,-1), seen);\n    return typeof value === 'string' ? value : undefined;\n  };\n  const map: Record<string,string> = {};\n  SEVERITY_IDS.forEach(id => {\n    const hex = resolve(`color.data-viz.severity.${id}`);\n    if (hex) map[id] = hex;\n  });\n  return map;\n}\n\nfunction getSeverityMap(): Record<string,string> { if (!severityMap) severityMap = buildSeverityMap(); return severityMap; }\nexport function getSeverityColor(id: string): string | undefined { return getSeverityMap()[id.toLowerCase()]; }\nexport function pickSeverityColor(id: string, fallbackIndex: number): string {\n  return getSeverityColor(id) || getSeverityMap()[SEVERITY_IDS[fallbackIndex % SEVERITY_IDS.length]] || pickSeriesColor(fallbackIndex);\n}\nexport function getSeverityStroke(id: string): string | undefined { ensureStrokeMaps(); return severityStrokeMap ? severityStrokeMap[id] : undefined; }\nexport function pickSeverityStroke(id: string, fallbackIndex: number): string {\n  return getSeverityStroke(id) || pickSeriesStroke(fallbackIndex);\n}\n\n// Region colours \u2013 resolved from tokens; key by region token id (kebab-case)\nlet regionMap: Record<string,string> | null = null;\n\n// Canonical list of region token ids we currently support (order stable)\nexport const REGION_IDS = [\n  'north-east',\n  'north-west',\n  'east-of-england',\n  'midlands',\n  'london',\n  'south-west',\n  'south-east'\n] as const;\nexport type RegionId = typeof REGION_IDS[number];\n\n// Normalise user supplied id variants (e.g. \"North East\", \"north_east\", \"NORTH-EAST\") to kebab-case token id.\nexport function normalizeRegionId(id: string): string {\n  return id\n    .trim()\n    .toLowerCase()\n    .replace(/&/g, 'and')\n    .replace(/[^a-z0-9]+/g, '-') // collapse any separator chars/spaces/underscores\n    .replace(/^-+|-+$/g, '');\n}\n\nfunction buildRegionMap(): Record<string,string> {\n  const root: any = { color: { ...(colorTokens as any).color, ...(dataVizTokens as any).color } };\n  const resolve = (path: string, seen: Set<string> = new Set()): string | undefined => {\n    if (seen.has(path)) return undefined;\n    seen.add(path);\n    const node = path.split('.').reduce((acc: any, k) => (acc ? acc[k] : undefined), root);\n    if (!node) return undefined;\n    const value = node.$value || node.value;\n    if (typeof value === 'string' && /^\\{.+\\}$/.test(value)) return resolve(value.slice(1,-1), seen);\n    return typeof value === 'string' ? value : undefined;\n  };\n  const map: Record<string,string> = {};\n  const missing: string[] = [];\n  REGION_IDS.forEach(id => {\n    const hex = resolve(`color.data-viz.region.${id}`);\n    if (hex) map[id] = hex; else missing.push(id);\n  });\n  if (process.env.NODE_ENV !== 'production') {\n    if (Object.keys(map).length === 0) {\n      console.warn('[DataViz] Region colour tokens unresolved \u0013 falling back to categorical colours.');\n    } else if (missing.length) {\n      console.warn(`[DataViz] Missing region colour tokens: ${missing.join(', ')}.`);\n    }\n  }\n  return map;\n}\n\nfunction getRegionMap(): Record<string,string> {\n  if (!regionMap) regionMap = buildRegionMap();\n  return regionMap;\n}\n\nexport function getRegionColor(id: string): string | undefined {\n  return getRegionMap()[normalizeRegionId(id)];\n}\n\n// Convenience: if consumer passes a region-like id we can attempt to auto-map (normalising first).\nexport function pickRegionColor(id: string, fallbackIndex: number): string {\n  return getRegionColor(id) || pickSeriesColor(fallbackIndex);\n}\n\n// Access / maintenance helpers\nexport function getAvailableRegionIds(): string[] { return [...REGION_IDS]; }\n\n// Allow consumers (e.g. during HMR in Storybook) to clear caches if token file changes at runtime.\nexport function invalidateColorCaches(options: { regions?: boolean; categorical?: boolean; strokes?: boolean } = {}) {\n  const { regions = true, categorical = false, strokes = false } = options;\n  if (regions) regionMap = null;\n  if (categorical) {\n    categoricalPalette = null;\n    optimizedCategoricalPalette = null;\n    extendedPaletteCache = null;\n  }\n  if (strokes) {\n    categoricalStrokeMap = null;\n    regionStrokeMap = null;\n  severityStrokeMap = null;\n  }\n}\n\nexport interface AssignColorOptions {\n  palette?: 'categorical' | 'region';\n  random?: boolean; // if true, shuffle palette order before assignment (stable per call)\n}\n\n// Assign colours to a mutable copy of the provided series objects; existing explicit s.color is preserved.\nexport function assignSeriesColors<T extends { id: string; color?: string }>(\n  series: T[],\n  { palette = 'categorical', random = false }: AssignColorOptions = {}\n): T[] {\n  const copy = series.map(s => ({ ...s }));\n  const paletteValues = palette === 'region'\n    ? copy.map((s, i) => pickRegionColor(s.id, i))\n    : (series.length > getOptimizedCategoricalPalette().length\n        ? getExtendedCategoricalPalette()\n        : (categoricalStrategy === 'optimized'\n            ? getOptimizedCategoricalPalette()\n            : getRawCategoricalPalette()));\n\n  let order: number[] = palette === 'region'\n    ? copy.map((_, i) => i) // region colours already derived per id position\n    : [...Array(paletteValues.length).keys()];\n  if (random) {\n    // Fisher\u2013Yates\n    for (let i = order.length - 1; i > 0; i--) {\n      const j = Math.floor(Math.random() * (i + 1));\n      [order[i], order[j]] = [order[j], order[i]];\n    }\n  }\n  let cursor = 0;\n  copy.forEach((s, si) => {\n    if (!s.color) {\n      if (palette === 'region') {\n        s.color = paletteValues[si];\n      } else {\n        const idx = order[cursor % order.length];\n        s.color = paletteValues[idx];\n        cursor++;\n      }\n    }\n  });\n  return copy;\n}\n\n// ---------------------------------------------------------------------------\n// Sequential & Diverging Colour Scale Utilities (token\u2011agnostic helpers)\n// ---------------------------------------------------------------------------\n\n// We intentionally keep these lightweight (no d3 dependency) by reusing the\n// CIE Lab helpers above for perceptual interpolation between arbitrary hexes.\n\nfunction labToHex(L: number, a: number, b: number): string {\n  const {X,Y,Z} = labToXyz(L,a,b);\n  const { r, g, b: bb } = xyzToRgb(X,Y,Z);\n  return rgbToHex(r,g,bb);\n}\n\nfunction interpolateLab(hexA: string, hexB: string, t: number): string {\n  const la = hexToLab(hexA); const lb = hexToLab(hexB);\n  if (!la || !lb) return t < 0.5 ? hexA : hexB;\n  const L = la.L + (lb.L - la.L) * t;\n  const a = la.a + (lb.a - la.a) * t;\n  const b = la.b + (lb.b - la.b) * t;\n  return labToHex(L, a, b);\n}\n\n// Piecewise interpolate across an ordered colour array. t in [0,1].\nfunction interpolateMulti(colors: string[], t: number): string {\n  if (colors.length === 0) return '#000000';\n  if (colors.length === 1) return colors[0];\n  const n = colors.length - 1;\n  const scaled = t * n;\n  const i = Math.min(n - 1, Math.max(0, Math.floor(scaled)));\n  const localT = scaled - i;\n  return interpolateLab(colors[i], colors[i + 1], localT);\n}\n\nexport interface SequentialScaleOptions {\n  domain: [number, number];\n  colors?: string[]; // ordered light -> dark (or vice versa; interpolation is linear across array)\n  steps?: number; // if provided with base colours length === 1 generate light/dark variants\n  clamp?: boolean;\n  baseColor?: string; // fallback single colour (default brand blue)\n  lightnessSpan?: number; // total L* delta to distribute either side when auto\u2011generating\n}\n\n/** Create a sequential colour scale (continuous). */\nexport function createSequentialColorScale({\n  domain,\n  colors,\n  steps = 7,\n  clamp = true,\n  baseColor = '#005eb8',\n  lightnessSpan = 60\n}: SequentialScaleOptions) {\n  let [d0, d1] = domain;\n  if (d0 === d1) { d1 = d0 + 1; } // guard zero range\n  if (d1 < d0) { const tmp = d0; d0 = d1; d1 = tmp; }\n\n  let palette: string[] = [];\n  if (colors && colors.length > 1) palette = colors.slice();\n  else if (colors && colors.length === 1) { baseColor = colors[0]; }\n  if (!palette.length) {\n    // Auto\u2011generate by sampling lightness around the base colour.\n    const lab = hexToLab(baseColor) || { L: 50, a: 0, b: 0 };\n    const half = lightnessSpan / 2;\n    // Distribute steps from light (higher L) to dark (lower L)\n    const minL = Math.max(2, lab.L - half);\n    const maxL = Math.min(98, lab.L + half);\n    palette = Array.from({ length: steps }).map((_, i) => {\n      const t = i / Math.max(1, steps - 1); // 0..1\n      const L = maxL - (maxL - minL) * t; // descending light->dark\n      return labToHex(L, lab.a, lab.b);\n    });\n  }\n\n  const range = d1 - d0;\n  return (value: number) => {\n    let t = (value - d0) / range; // may be <0 or >1\n    if (clamp) t = Math.min(1, Math.max(0, t));\n    return interpolateMulti(palette, t);\n  };\n}\n\nexport interface DivergingScaleOptions {\n  domain: [number, number, number]; // [min, mid, max]; mid acts as neutral pivot\n  colors?: string[]; // >=3 colours; if exactly 3 => [negative, neutral, positive]\n  negativeColor?: string; // used if no explicit colours\n  positiveColor?: string;\n  neutralColor?: string;\n  stepsPerSide?: number; // used when auto\u2011generating from neg/pos + neutral\n  clamp?: boolean;\n}\n\n/** Create a diverging colour scale. */\nexport function createDivergingColorScale({\n  domain,\n  colors,\n  negativeColor = '#d5281b', // NHS error/red\n  positiveColor = '#007f3b', // NHS green\n  neutralColor = '#f2f2f2',\n  stepsPerSide = 3,\n  clamp = true\n}: DivergingScaleOptions) {\n  let [d0, dm, d1] = domain;\n  // Ensure ordering\n  if (!(d0 <= dm && dm <= d1)) {\n    const sorted = [d0, dm, d1].sort((a,b)=>a-b);\n    [d0, dm, d1] = sorted as [number, number, number];\n  }\n  if (d0 === d1) { d1 = d0 + 1; dm = d0 + 0.5; }\n  if (dm === d0) dm = d0 + (d1 - d0) / 2;\n  if (dm === d1) dm = d0 + (d1 - d0) / 2;\n\n  let palette: string[] = [];\n  if (colors && colors.length >= 3) palette = colors.slice();\n  if (!palette.length) {\n    // Auto\u2011generate side ramps from neg/pos towards neutral (lightening each side)\n    const negLab = hexToLab(negativeColor) || { L: 40, a: 60, b: 40 } as any;\n    const posLab = hexToLab(positiveColor) || { L: 40, a: -60, b: 40 } as any;\n    const neuLab = hexToLab(neutralColor) || { L: 96, a: 0, b: 0 } as any;\n    const negRamp = Array.from({ length: stepsPerSide }).map((_, i) => {\n      const t = i / Math.max(1, stepsPerSide - 1); // 0..1 towards neutral\n      return labToHex(\n        negLab.L + (neuLab.L - negLab.L) * t,\n        negLab.a + (neuLab.a - negLab.a) * t,\n        negLab.b + (neuLab.b - negLab.b) * t\n      );\n    });\n    const posRamp = Array.from({ length: stepsPerSide }).map((_, i) => {\n      const t = i / Math.max(1, stepsPerSide - 1);\n      return labToHex(\n        neuLab.L + (posLab.L - neuLab.L) * t,\n        neuLab.a + (posLab.a - neuLab.a) * t,\n        neuLab.b + (posLab.b - neuLab.b) * t\n      );\n    });\n    // Combine, ensuring single neutral duplicate removal\n    palette = [...negRamp.slice(0, -1), ...posRamp];\n  }\n\n  // Build two segments: [d0..dm] and [dm..d1]. We normalise t separately for each half.\n  const left = palette.slice(0, Math.ceil(palette.length / 2));\n  const right = palette.slice(Math.floor(palette.length / 2));\n  return (value: number) => {\n    if (clamp) value = Math.min(d1, Math.max(d0, value));\n    if (value <= dm) {\n      const t = (value - d0) / (dm - d0 || 1);\n      return interpolateMulti(left, t);\n    }\n    const t = (value - dm) / (d1 - dm || 1);\n    return interpolateMulti(right, t);\n  };\n}\n\n// Convenience categorical wrapper that selects between scale factories based on config.\nexport type ColorScale = (value: number) => string;\nexport type ColorScaleConfig =\n  | ({ type: 'sequential' } & SequentialScaleOptions)\n  | ({ type: 'diverging' } & DivergingScaleOptions);\n\nexport function createColorScale(config: ColorScaleConfig): ColorScale {\n  if (config.type === 'sequential') return createSequentialColorScale(config);\n  return createDivergingColorScale(config);\n}\n\n", "import * as React from 'react';\n\nexport interface VisibilityContextValue {\n  hiddenIds: Set<string>;\n  isHidden: (id: string) => boolean;\n  toggle: (id: string) => void;\n  showOnly: (id: string) => void;\n  showAll: () => void;\n  setHidden: (ids: string[] | Set<string>) => void;\n}\n\nconst VisibilityContext = React.createContext<VisibilityContextValue | null>(null);\nexport const useVisibility = () => React.useContext(VisibilityContext);\n\nexport interface VisibilityProviderProps {\n  initialHiddenIds?: string[];\n  children: React.ReactNode;\n  /** Optional controlled hidden set (if provided, component becomes controlled) */\n  hiddenIds?: string[];\n  onChange?: (hidden: string[]) => void;\n}\n\nexport const VisibilityProvider: React.FC<VisibilityProviderProps> = ({\n  initialHiddenIds = [],\n  children,\n  hiddenIds: controlledHidden,\n  onChange\n}) => {\n  const [uncontrolled, setUncontrolled] = React.useState<Set<string>>(() => new Set(initialHiddenIds));\n  const isControlled = controlledHidden !== undefined;\n  const hiddenSet = React.useMemo(() => isControlled ? new Set(controlledHidden) : uncontrolled, [isControlled, controlledHidden, uncontrolled]);\n\n  const update = React.useCallback((next: Set<string>) => {\n    if (!isControlled) setUncontrolled(new Set(next));\n    onChange?.(Array.from(next));\n  }, [isControlled, onChange]);\n\n  const api: VisibilityContextValue = React.useMemo(() => ({\n    hiddenIds: hiddenSet,\n    isHidden: (id: string) => hiddenSet.has(id),\n    toggle: (id: string) => {\n      const next = new Set(hiddenSet);\n      next.has(id) ? next.delete(id) : next.add(id);\n      update(next);\n    },\n  showOnly: (_id: string) => {\n      // Future: require full ids set to hide others. For now just clear hidden set making all visible.\n      update(new Set());\n    },\n    showAll: () => update(new Set()),\n    setHidden: (ids) => update(new Set(Array.isArray(ids) ? ids : Array.from(ids)))\n  }), [hiddenSet, update]);\n\n  return <VisibilityContext.Provider value={api}>{children}</VisibilityContext.Provider>;\n};\n\nexport default VisibilityContext;\n", "import * as React from 'react';\nimport { useScaleContext } from './ScaleContext';\nimport { useVisibility } from './VisibilityContext';\n\nexport interface TooltipDatum {\n  seriesId: string;\n  index: number; // index within series\n  x: Date;\n  y: number;\n  clientX: number; // scaled x position within plot area\n  clientY: number; // scaled y position within plot area\n}\n\nexport interface TooltipContextValue {\n  focused: TooltipDatum | null;\n  setFocused: (d: TooltipDatum | null) => void;\n  /** All series points sharing the focused x (including focused point) when multiple series align. Length 0 when no focus, 1 when single. */\n  aggregated: TooltipDatum[];\n  /** Programmatic focus of nearest datum to given SVG plot coordinates (already in inner coordinate space). */\n  focusNearest: (plotX: number, plotY: number) => void;\n  /** Clear current focus */\n  clear: () => void;\n  /** Register series data for nearest-point lookup */\n  registerSeries: (seriesId: string, data: { x: Date; y: number }[]) => void;\n  unregisterSeries: (seriesId: string) => void;\n  /** Move focus to next point in same series */\n  focusNextPoint: () => void;\n  /** Move focus to previous point in same series */\n  focusPrevPoint: () => void;\n  /** Cycle to next series at same index (if exists) */\n  focusNextSeries: () => void;\n  /** Cycle to previous series at same index (if exists) */\n  focusPrevSeries: () => void;\n  /** Jump to first point in current (or first) series */\n  focusFirstPoint: () => void;\n  /** Jump to last point in current (or first) series */\n  focusLastPoint: () => void;\n}\n\nconst TooltipContext = React.createContext<TooltipContextValue | null>(null);\nexport const useTooltipContext = () => React.useContext(TooltipContext);\n\ninterface TooltipProviderProps {\n  children: React.ReactNode;\n  /** Maximum pixel distance to accept a nearest match (otherwise focus cleared) */\n  maxDistance?: number;\n  /** Allow wrap-around when navigating past start/end of points or series */\n  wrapAround?: boolean;\n}\n\n/** Shared tooltip / focus context: unifies pointer & keyboard focus of a single datum across chart primitives. */\nexport const TooltipProvider: React.FC<TooltipProviderProps> = ({ children, maxDistance = 40, wrapAround = false }) => {\n  const scaleCtx = useScaleContext();\n  const visibility = useVisibility();\n  const [focused, setFocused] = React.useState<TooltipDatum | null>(null);\n  const seriesRef = React.useRef<Map<string, { x: Date; y: number }[]>>(new Map());\n  const [aggregated, setAggregated] = React.useState<TooltipDatum[]>([]);\n\n  const registerSeries = React.useCallback((seriesId: string, data: { x: Date; y: number }[]) => {\n    seriesRef.current.set(seriesId, data);\n  }, []);\n  const unregisterSeries = React.useCallback((seriesId: string) => {\n    seriesRef.current.delete(seriesId);\n  }, []);\n\n  const focusNearest = React.useCallback((plotX: number, plotY: number) => {\n    if (!scaleCtx) return;\n    const { xScale, yScale } = scaleCtx;\n    let best: TooltipDatum | null = null;\n    let bestDist = Infinity;\n    seriesRef.current.forEach((data, sid) => {\n      data.forEach((d, i) => {\n        const px = xScale(d.x);\n        const py = yScale(d.y);\n        const dx = px - plotX;\n        const dy = py - plotY;\n        const dist = Math.sqrt(dx * dx + dy * dy);\n        if (dist < bestDist) {\n          bestDist = dist;\n          best = { seriesId: sid, index: i, x: d.x, y: d.y, clientX: px, clientY: py };\n        }\n      });\n    });\n    if (best && bestDist <= maxDistance) setFocused(best); else setFocused(null);\n  }, [scaleCtx, maxDistance]);\n\n  const clear = React.useCallback(() => setFocused(null), []);\n\n  // Recompute aggregated aligned points whenever focused changes\n  React.useEffect(() => {\n    if (!focused) {\n      setAggregated([]);\n      return;\n    }\n    // Collect all points with identical x timestamp (exact match) across visible (registered) series\n    const targetTime = focused.x.getTime();\n    if (!scaleCtx) return;\n    const { xScale, yScale } = scaleCtx;\n    const agg: TooltipDatum[] = [];\n    seriesRef.current.forEach((data, sid) => {\n      data.forEach((d, i) => {\n        if (d.x.getTime() === targetTime) {\n          agg.push({ seriesId: sid, index: i, x: d.x, y: d.y, clientX: xScale(d.x), clientY: yScale(d.y) });\n        }\n      });\n    });\n    // Sort by seriesId for stable output\n    agg.sort((a,b) => a.seriesId.localeCompare(b.seriesId));\n    setAggregated(agg);\n  }, [focused, scaleCtx]);\n\n  const focusRelativePoint = React.useCallback((delta: 1 | -1) => {\n    if (!focused) return;\n    const data = seriesRef.current.get(focused.seriesId);\n    if (!data) return;\n    let nextIndex = focused.index + delta;\n    if (nextIndex < 0 || nextIndex >= data.length) {\n      if (!wrapAround) return;\n      // wrap\n      nextIndex = (nextIndex + data.length) % data.length;\n    }\n    const d = data[nextIndex];\n    if (!scaleCtx) return;\n    const { xScale, yScale } = scaleCtx;\n    setFocused({ seriesId: focused.seriesId, index: nextIndex, x: d.x, y: d.y, clientX: xScale(d.x), clientY: yScale(d.y) });\n  }, [focused, scaleCtx, wrapAround]);\n\n  const focusSeriesAtIndex = React.useCallback((seriesDelta: 1 | -1) => {\n    let ids = Array.from(seriesRef.current.keys());\n    // Skip hidden series (if visibility context present)\n    if (visibility) ids = ids.filter(id => !visibility.isHidden(id));\n    if (ids.length === 0) return;\n    if (!focused) {\n      // pick first series first point\n      const first = ids[0];\n      const data = seriesRef.current.get(first);\n      if (!data || !scaleCtx) return;\n      const { xScale, yScale } = scaleCtx;\n      const d = data[0];\n      setFocused({ seriesId: first, index: 0, x: d.x, y: d.y, clientX: xScale(d.x), clientY: yScale(d.y) });\n      return;\n    }\n    const currentSeriesIdx = ids.indexOf(focused.seriesId);\n    if (currentSeriesIdx === -1) return;\n    let nextSeriesIdx = currentSeriesIdx + seriesDelta;\n    if (nextSeriesIdx < 0 || nextSeriesIdx >= ids.length) {\n      if (!wrapAround) return; // clamp\n      nextSeriesIdx = (nextSeriesIdx + ids.length) % ids.length;\n    }\n    const nextSeriesId = ids[nextSeriesIdx];\n    const nextData = seriesRef.current.get(nextSeriesId);\n    if (!nextData || !scaleCtx) return;\n    const idx = Math.min(focused.index, nextData.length - 1);\n    const d = nextData[idx];\n    const { xScale, yScale } = scaleCtx;\n    setFocused({ seriesId: nextSeriesId, index: idx, x: d.x, y: d.y, clientX: xScale(d.x), clientY: yScale(d.y) });\n  }, [focused, scaleCtx, wrapAround, visibility]);\n  const focusFirstPoint = React.useCallback(() => {\n    // Within current focused series; if none, pick first visible series\n    let ids = Array.from(seriesRef.current.keys());\n    if (visibility) ids = ids.filter(id => !visibility.isHidden(id));\n    if (ids.length === 0) return;\n    const targetSeriesId = focused ? focused.seriesId : ids[0];\n    const data = seriesRef.current.get(targetSeriesId);\n    if (!data || data.length === 0 || !scaleCtx) return;\n    const d = data[0];\n    const { xScale, yScale } = scaleCtx;\n    setFocused({ seriesId: targetSeriesId, index: 0, x: d.x, y: d.y, clientX: xScale(d.x), clientY: yScale(d.y) });\n  }, [focused, scaleCtx, visibility]);\n\n  const focusLastPoint = React.useCallback(() => {\n    let ids = Array.from(seriesRef.current.keys());\n    if (visibility) ids = ids.filter(id => !visibility.isHidden(id));\n    if (ids.length === 0) return;\n    const targetSeriesId = focused ? focused.seriesId : ids[0];\n    const data = seriesRef.current.get(targetSeriesId);\n    if (!data || data.length === 0 || !scaleCtx) return;\n    const lastIndex = data.length - 1;\n    const d = data[lastIndex];\n    const { xScale, yScale } = scaleCtx;\n    setFocused({ seriesId: targetSeriesId, index: lastIndex, x: d.x, y: d.y, clientX: xScale(d.x), clientY: yScale(d.y) });\n  }, [focused, scaleCtx, visibility]);\n\n  const focusNextPoint = React.useCallback(() => focusRelativePoint(1), [focusRelativePoint]);\n  const focusPrevPoint = React.useCallback(() => focusRelativePoint(-1), [focusRelativePoint]);\n  const focusNextSeries = React.useCallback(() => focusSeriesAtIndex(1), [focusSeriesAtIndex]);\n  const focusPrevSeries = React.useCallback(() => focusSeriesAtIndex(-1), [focusSeriesAtIndex]);\n\n  const value: TooltipContextValue = React.useMemo(() => ({\n    focused,\n    setFocused,\n    aggregated,\n    focusNearest,\n    clear,\n    registerSeries,\n    unregisterSeries,\n    focusNextPoint,\n    focusPrevPoint,\n    focusNextSeries,\n    focusPrevSeries,\n    focusFirstPoint,\n    focusLastPoint\n  }), [focused, aggregated, focusNearest, clear, registerSeries, unregisterSeries, focusNextPoint, focusPrevPoint, focusNextSeries, focusPrevSeries, focusFirstPoint, focusLastPoint]);\n\n  return <TooltipContext.Provider value={value}>{children}</TooltipContext.Provider>;\n};\n\nexport default TooltipContext;\n", "import * as React from 'react';\nimport { useTooltipContext } from '../core/TooltipContext';\n\n/**\n * ARIA live region announcing the currently focused data point for screen reader users.\n * Mount inside TooltipProvider scope (e.g. within LineChart). Hidden visually.\n */\nconst VisuallyHiddenLiveRegion: React.FC<{ polite?: boolean; format?: (d: { seriesId: string; x: Date; y: number; index: number }) => string }>\n  = ({ polite = true, format }) => {\n  const tooltip = useTooltipContext();\n  const [message, setMessage] = React.useState('');\n  const lastRef = React.useRef<string>('');\n\n  React.useEffect(() => {\n    if (!tooltip?.focused) return;\n    const { focused, aggregated } = tooltip;\n    let msg: string;\n    if (aggregated && aggregated.length > 1) {\n      // Aggregate announcement\n      const parts = aggregated.map(a => `${a.seriesId} ${a.y}`).join('; ');\n      msg = `${focused.x.toDateString()} \u2013 ${parts}`;\n    } else {\n      msg = format ? format({ seriesId: focused.seriesId, x: focused.x, y: focused.y, index: focused.index })\n        : defaultFormatter(focused.seriesId, focused.x, focused.y, focused.index);\n    }\n    if (msg !== lastRef.current) {\n      lastRef.current = msg;\n      // Force screen reader to re-announce by clearing then setting (some AT benefit from refresh)\n      setMessage('');\n      const timeout = setTimeout(() => setMessage(msg), 10);\n      return () => clearTimeout(timeout);\n    }\n  }, [tooltip?.focused, format]);\n\n  return (\n    <div\n      aria-live={polite ? 'polite' : 'assertive'}\n      aria-atomic=\"true\"\n      style={{ position: 'absolute', width: 1, height: 1, margin: -1, padding: 0, overflow: 'hidden', clip: 'rect(0 0 0 0)', border: 0 }}\n    >\n      {message}\n    </div>\n  );\n};\n\nfunction defaultFormatter(seriesId: string, x: Date, y: number, index: number) {\n  return `Series ${seriesId}, point ${index + 1}, ${x.toDateString()}, value ${y}`;\n}\n\nexport default VisuallyHiddenLiveRegion;\n", "import * as React from 'react';\nimport { useTooltipContext } from '../core/TooltipContext';\nimport { useChartContext } from '../core/ChartRoot';\nimport { pickSeriesColor } from '../utils/colors';\n\n/** Basic overlay showing a single focused datum (from TooltipContext). */\nexport const TooltipOverlay: React.FC = () => {\n  const tooltip = useTooltipContext();\n  const chart = useChartContext();\n  if (!tooltip || !chart || !tooltip.focused) return null;\n  const { focused, aggregated } = tooltip;\n  const { innerWidth, innerHeight } = chart;\n  const clampX = Math.min(Math.max(focused.clientX, 0), innerWidth);\n  const clampY = Math.min(Math.max(focused.clientY, 0), innerHeight);\n  const bgX = clampX + 8;\n  const bgY = clampY - 8;\n  const multi = aggregated.length > 1;\n  const label = multi ? focused.x.toDateString() : `${focused.x.toDateString()} \u2022 ${focused.y}`;\n  // Derive base series colour (fallback to NHS blue if util absent)\n  // We only have seriesId; attempt to parse trailing digits else fallback index 0\n  const idDigits = /\\d+$/.exec(focused.seriesId || '');\n  const seriesIdx = idDigits ? parseInt(idDigits[0], 10) - 1 : 0;\n  const seriesColor = pickSeriesColor(seriesIdx >=0 ? seriesIdx : 0) || '#005eb8';\n  // NHS focus yellow via CSS variable with fallback\n  const focusYellow = 'var(--nhs-fdp-color-primary-yellow,#ffeb3b)';\n  return (\n    <g className=\"fdp-tooltip-layer\" pointerEvents=\"none\">\n  {/* Reduced outer focus ring close to point size */}\n  <circle cx={clampX} cy={clampY} r={7} fill=\"none\" stroke={focusYellow} strokeWidth={3} />\n  {/* Inner white core with yellow stroke hugging point */}\n  <circle cx={clampX} cy={clampY} r={5} fill=\"#000\" stroke={focusYellow} strokeWidth={1.5} />\n  {/* Centre dot in series colour */}\n  <circle cx={clampX} cy={clampY} r={2.5} fill={seriesColor} stroke=\"#fff\" strokeWidth={0.5} />\n      {multi ? (\n        (() => {\n          const lineHeight = 16;\n          const rows = aggregated.map(a => `${a.seriesId}: ${a.y}`);\n          const content = [label, ...rows];\n          const maxChars = content.reduce((m,s)=>Math.max(m,s.length),0);\n          const width = Math.max(90, maxChars * 6.2 + 16);\n          const height = lineHeight * content.length + 8;\n          return (\n            <g>\n              <rect x={bgX} y={bgY - height} rx={4} ry={4} width={width} height={height} fill=\"#212b32\" opacity={0.92} />\n              {content.map((t,i) => (\n                <text key={i} x={bgX + 8} y={bgY - height + 6 + lineHeight*(i+0.7)} fill=\"#fff\" fontSize={12}>{t}</text>\n              ))}\n            </g>\n          );\n        })()\n      ) : (\n        <g>\n          <rect x={bgX} y={bgY - 24} rx={4} ry={4} width={Math.max(60, label.length * 6.2)} height={24} fill=\"#212b32\" opacity={0.92} />\n          <text x={bgX + 8} y={bgY - 8} fill=\"#fff\" fontSize={12}>{label}</text>\n        </g>\n      )}\n    </g>\n  );\n};\n\nexport default TooltipOverlay;\n", "import React, { useState, useCallback, useRef, forwardRef, useImperativeHandle } from 'react';\nimport classNames from 'classnames';\nimport { TabsProps, TabItemId, TabsHandle, TabItem } from './Tabs.types';\nimport './Tabs.scss';\n\n// Export TabsHandle type for external use\nexport type { TabsHandle } from './Tabs.types';\n\n/**\n * NHS Tabs Component\n * \n * A tabs component for organizing related content into separate views.\n * Follows NHS design guidelines and accessibility standards.\n * \n * @param props - Tabs component props\n * @returns JSX element\n */\nexport const Tabs = forwardRef<TabsHandle, TabsProps>(({\n  items,\n  defaultActiveTab,\n  activeTab: controlledActiveTab,\n  onTabChange,\n  onTabFocus,\n  onTabListBlur,\n  onEscape,\n  autoActivate = true,\n  className,\n  id,\n  'data-testid': testId,\n  ...props\n}, ref) => {\n  // Determine if component is controlled or uncontrolled\n  const isControlled = controlledActiveTab !== undefined;\n  \n  // Internal state for uncontrolled mode\n  const [internalActiveTab, setInternalActiveTab] = useState<TabItemId>(() => {\n    return defaultActiveTab || items[0]?.id || '';\n  });\n  \n  // Current active tab (controlled or uncontrolled)\n  const activeTab = isControlled ? controlledActiveTab : internalActiveTab;\n  \n  // Refs for keyboard navigation\n  const tabListRef = useRef<HTMLDivElement>(null);\n  const tabRefs = useRef<Map<TabItemId, HTMLButtonElement>>(new Map());\n  \n  // Handle tab selection\n  const handleTabClick = useCallback((tabId: TabItemId) => {\n    if (!isControlled) {\n      setInternalActiveTab(tabId);\n    }\n    onTabChange?.(tabId);\n  }, [isControlled, onTabChange]);\n  \n  // Handle tab focus\n  const handleTabFocus = useCallback((tabId: TabItemId) => {\n    onTabFocus?.(tabId);\n    if (autoActivate) {\n      handleTabClick(tabId);\n    }\n  }, [onTabFocus, autoActivate, handleTabClick]);\n  \n  // Keyboard navigation\n  const handleKeyDown = useCallback((event: React.KeyboardEvent, tabId: TabItemId) => {\n    const tabIds = items.filter((item: TabItem) => !item.disabled).map((item: TabItem) => item.id);\n    const currentIndex = tabIds.indexOf(tabId);\n    \n    let newIndex: number | null = null;\n    \n    switch (event.key) {\n      case 'ArrowLeft':\n        newIndex = currentIndex > 0 ? currentIndex - 1 : tabIds.length - 1;\n        break;\n      case 'ArrowRight':\n        newIndex = currentIndex < tabIds.length - 1 ? currentIndex + 1 : 0;\n        break;\n      case 'Home':\n        newIndex = 0;\n        break;\n      case 'End':\n        newIndex = tabIds.length - 1;\n        break;\n      case 'Escape':\n        event.preventDefault();\n        onEscape?.();\n        return;\n      default:\n        return;\n    }\n    \n    if (newIndex !== null) {\n      event.preventDefault();\n      const newTabId = tabIds[newIndex];\n      const newTabRef = tabRefs.current.get(newTabId);\n      if (newTabRef) {\n        newTabRef.focus();\n        handleTabFocus(newTabId);\n      }\n    }\n  }, [items, handleTabFocus, onEscape]);\n  \n  // Set tab ref\n  const setTabRef = useCallback((tabId: TabItemId, element: HTMLButtonElement | null) => {\n    if (element) {\n      tabRefs.current.set(tabId, element);\n    } else {\n      tabRefs.current.delete(tabId);\n    }\n  }, []);\n  \n  // Focus a specific tab (for external control)\n  const focusTab = useCallback((tabId: TabItemId) => {\n    const tabRef = tabRefs.current.get(tabId);\n    if (tabRef) {\n      tabRef.focus();\n    }\n  }, []);\n  \n  // Expose ref methods\n  useImperativeHandle(ref, () => ({\n    focusTab,\n    getActiveTab: () => activeTab,\n    getTabListElement: () => tabListRef.current,\n  }), [focusTab, activeTab]);\n  \n  // Handle blur from tablist\n  const handleTabListBlur = useCallback((event: React.FocusEvent) => {\n    // Check if focus is moving outside the tablist\n    const relatedTarget = event.relatedTarget as Element;\n    if (!tabListRef.current?.contains(relatedTarget)) {\n      onTabListBlur?.();\n    }\n  }, [onTabListBlur]);\n  \n  // Build CSS classes\n  const tabsClasses = classNames('nhsuk-tabs', className);\n  \n  return (\n    <div \n      className={tabsClasses}\n      id={id}\n      data-testid={testId}\n      {...props}\n    >\n      <h2 className=\"nhsuk-tabs__title\">Contents</h2>\n      \n      <div \n        className=\"nhsuk-tabs__list-container\"\n        ref={tabListRef}\n      >\n        <ul \n          className=\"nhsuk-tabs__list\"\n          role=\"tablist\"\n          onBlur={handleTabListBlur}\n        >\n          {items.map((item: TabItem) => {\n            const isActive = item.id === activeTab;\n            const isDisabled = item.disabled;\n            \n            const tabClasses = classNames('nhsuk-tabs__list-item', {\n              'nhsuk-tabs__list-item--selected': isActive,\n              'nhsuk-tabs__list-item--disabled': isDisabled,\n            });\n            \n            return (\n              <li key={item.id} className={tabClasses} role=\"presentation\">\n                <button\n                  ref={(element) => setTabRef(item.id, element)}\n                  className=\"nhsuk-tabs__tab\"\n                  role=\"tab\"\n                  aria-selected={isActive}\n                  aria-controls={`${item.id}-panel`}\n                  id={`${item.id}-tab`}\n                  tabIndex={isActive ? 0 : -1}\n                  disabled={isDisabled}\n                  onClick={() => !isDisabled && handleTabClick(item.id)}\n                  onKeyDown={(event) => !isDisabled && handleKeyDown(event, item.id)}\n                  onFocus={() => !isDisabled && handleTabFocus(item.id)}\n                  {...item.attributes}\n                >\n                  {item.label}\n                </button>\n              </li>\n            );\n          })}\n        </ul>\n      </div>\n      \n      {items.map((item: TabItem) => {\n        const isActive = item.id === activeTab;\n        \n        return (\n          <div\n            key={item.id}\n            className=\"nhsuk-tabs__panel\"\n            role=\"tabpanel\"\n            aria-labelledby={`${item.id}-tab`}\n            id={`${item.id}-panel`}\n            hidden={!isActive}\n          >\n            {item.content}\n          </div>\n        );\n      })}\n    </div>\n  );\n});\n", "import * as React from 'react';\nconst { forwardRef, useCallback, useState } = React;\nimport { ButtonVariant, ButtonSize } from './Button.types';\nimport './Button.scss';\n\n/**\n * Base props for NHS Button component\n */\ninterface BaseButtonProps {\n\t/**\n\t * The variant of the button\n\t * @default 'primary'\n\t */\n\tvariant?: ButtonVariant;\n\t\n\t/**\n\t * The size of the button\n\t * @default 'default'\n\t */\n\tsize?: ButtonSize;\n\t\n\t/**\n\t * Whether the button should take up the full width of its container\n\t * @default false\n\t */\n\tfullWidth?: boolean;\n\t\n\t/**\n\t * Additional CSS class names\n\t */\n\tclassName?: string;\n\t\n\t/**\n\t * Button content\n\t */\n\tchildren: React.ReactNode;\n\t\n\t/**\n\t * Prevent double click submissions (adds debouncing)\n\t * @default false\n\t */\n\tpreventDoubleClick?: boolean;\n}\n\n/**\n * Props when rendering as button element (no href)\n */\nexport interface ButtonAsButtonProps extends BaseButtonProps, Omit<React.ButtonHTMLAttributes<HTMLButtonElement>, keyof BaseButtonProps> {\n\t/**\n\t * Button type\n\t * @default 'button'\n\t */\n\ttype?: 'button' | 'submit' | 'reset';\n}\n\n/**\n * Props when rendering as anchor element (with href)\n */\nexport interface ButtonAsLinkProps extends BaseButtonProps, Omit<React.AnchorHTMLAttributes<HTMLAnchorElement>, keyof BaseButtonProps | 'role' | 'type'> {\n\t/**\n\t * When provided, renders as anchor link instead of button\n\t */\n\thref: string;\n\t\n\t/**\n\t * Link target\n\t */\n\ttarget?: string;\n\t\n\t/**\n\t * Link rel attribute\n\t */\n\trel?: string;\n\t\n\t/**\n\t * Use aria-disabled for anchor elements (no native disabled support)\n\t * Use disabled prop instead for button elements\n\t */\n\t'aria-disabled'?: 'true' | 'false';\n}\n\n/**\n * NHS Button Component\n * \n * A button component that provides excellent accessibility out of the box \n * while following NHS design guidelines. Based on NHS.UK button patterns.\n * \n * Features:\n * - Full keyboard navigation support (Enter and Space key activation)\n * - Screen reader compatibility\n * - Focus management\n * - Proper ARIA attributes\n * - Double-click prevention\n * - Support for button and link variants\n * \n * @example\n * ```tsx\n * <Button variant=\"primary\" size=\"default\">\n *\t Continue\n * </Button>\n * \n * <Button href=\"/next-page\" variant=\"secondary\">\n *\t Go to next page\n * </Button>\n * ```\n */\n\n// Implementation function\nfunction ButtonComponent(\n\tprops: ButtonAsButtonProps | ButtonAsLinkProps,\n\tref: React.Ref<HTMLButtonElement | HTMLAnchorElement>\n): React.ReactElement {\n\tconst {\n\t\tchildren,\n\t\tvariant = 'primary',\n\t\tsize = 'default',\n\t\tfullWidth = false,\n\t\tclassName = '',\n\t\tpreventDoubleClick = false,\n\t\t...rest\n\t} = props;\n\n\t// State for interactive data attributes (replaces React Aria state management)\n\tconst [isPressed, setIsPressed] = useState(false);\n\tconst [isHovered, setIsHovered] = useState(false);\n\tconst [isFocused, setIsFocused] = useState(false);\n\n\t// Build CSS classes\n\tconst classes = [\n\t\t'nhs-aria-button',\n\t\t`nhs-aria-button--${variant}`,\n\t\tsize !== 'default' ? `nhs-aria-button--${size}` : '',\n\t\tfullWidth ? 'nhs-aria-button--full-width' : '',\n\t\tclassName\n\t].filter(Boolean).join(' ');\n\n\t// Build data attributes for styling (replaces React Aria data attributes)\n\tconst isDisabled = 'disabled' in rest ? rest.disabled : rest['aria-disabled'] === 'true';\n\tconst dataAttributes = {\n\t\t...(isPressed && { 'data-pressed': 'true' }),\n\t\t...(isHovered && { 'data-hovered': 'true' }),\n\t\t...(isFocused && { 'data-focused': 'true' }),\n\t\t...(isDisabled && { 'data-disabled': 'true' })\n\t};\n\n\t// Event handlers for state management\n\tconst handleMouseDown = useCallback(() => !isDisabled && setIsPressed(true), [isDisabled]);\n\tconst handleMouseUp = useCallback(() => setIsPressed(false), []);\n\tconst handleMouseEnter = useCallback(() => !isDisabled && setIsHovered(true), [isDisabled]);\n\tconst handleMouseLeave = useCallback(() => {\n\t\tsetIsHovered(false);\n\t\tsetIsPressed(false); // Reset pressed state when leaving\n\t}, []);\n\tconst handleFocus = useCallback(() => setIsFocused(true), []);\n\tconst handleBlur = useCallback(() => setIsFocused(false), []);\n\n\t// Handle keyboard navigation (Space key support for buttons and links with role=\"button\")\n\tconst handleKeyDown = useCallback((event: React.KeyboardEvent<HTMLElement>) => {\n\t\t// Handle space bar activation for button role elements\n\t\tif (event.key === ' ' && ('href' in rest || event.currentTarget.getAttribute('role') === 'button')) {\n\t\t\tevent.preventDefault();\n\t\t\t(event.currentTarget as HTMLElement).click();\n\t\t}\n\t}, [rest]);\n\n\t// Handle click with double-click prevention\n\tconst handleClick = useCallback((event: React.MouseEvent<HTMLElement>) => {\n\t\t// Double-click prevention logic (following NHS.UK pattern)\n\t\tif (preventDoubleClick) {\n\t\t\tconst target = event.currentTarget as HTMLElement;\n\t\t\tconst isAlreadyProcessing = target.getAttribute('data-processing') === 'true';\n\t\t\t\n\t\t\tif (isAlreadyProcessing) {\n\t\t\t\tevent.preventDefault();\n\t\t\t\treturn;\n\t\t\t}\n\t\t\t\n\t\t\t// Mark as processing\n\t\t\ttarget.setAttribute('data-processing', 'true');\n\t\t\t\n\t\t\t// Clear processing state after 1 second\n\t\t\tsetTimeout(() => {\n\t\t\t\ttarget.removeAttribute('data-processing');\n\t\t\t}, 1000);\n\t\t}\n\t}, [preventDoubleClick]);\n\n\t// Render as anchor link if href is provided\n\tif ('href' in rest && rest.href) {\n\t\tconst { id, style, title, ['aria-label']: ariaLabel, ['aria-describedby']: ariaDescribedBy, ['aria-labelledby']: ariaLabelledBy, tabIndex, ...anchorRest } = rest as ButtonAsLinkProps as any;\n\t\tconst anchorProps = rest as ButtonAsLinkProps;\n\t\treturn (\n\t\t\t<a\n\t\t\t\tref={ref as React.Ref<HTMLAnchorElement>}\n\t\t\t\thref={anchorProps.href}\n\t\t\t\ttarget={anchorProps.target}\n\t\t\t\trel={anchorProps.rel}\n\t\t\t\tclassName={classes}\n\t\t\t\trole=\"button\"\n\t\t\t\tdraggable=\"false\"\n\t\t\t\tdata-module=\"nhs-button\"\n\t\t\t\t{...dataAttributes}\n\t\t\t\t{...(preventDoubleClick && { 'data-prevent-double-click': 'true' })}\n\t\t\t\t{...anchorRest}\n\t\t\t\tonKeyDown={(event) => {\n\t\t\t\t\tanchorProps.onKeyDown?.(event);\n\t\t\t\t\thandleKeyDown(event);\n\t\t\t\t}}\n\t\t\t\tonClick={(event) => {\n\t\t\t\t\tanchorProps.onClick?.(event);\n\t\t\t\t\thandleClick(event);\n\t\t\t\t}}\n\t\t\t\tonMouseDown={(event) => {\n\t\t\t\t\tanchorProps.onMouseDown?.(event);\n\t\t\t\t\thandleMouseDown();\n\t\t\t\t}}\n\t\t\t\tonMouseUp={(event) => {\n\t\t\t\t\tanchorProps.onMouseUp?.(event);\n\t\t\t\t\thandleMouseUp();\n\t\t\t\t}}\n\t\t\t\tonMouseEnter={(event) => {\n\t\t\t\t\tanchorProps.onMouseEnter?.(event);\n\t\t\t\t\thandleMouseEnter();\n\t\t\t\t}}\n\t\t\t\tonMouseLeave={(event) => {\n\t\t\t\t\tanchorProps.onMouseLeave?.(event);\n\t\t\t\t\thandleMouseLeave();\n\t\t\t\t}}\n\t\t\t\tonFocus={(event) => {\n\t\t\t\t\tanchorProps.onFocus?.(event);\n\t\t\t\t\thandleFocus();\n\t\t\t\t}}\n\t\t\t\tonBlur={(event) => {\n\t\t\t\t\tanchorProps.onBlur?.(event);\n\t\t\t\t\thandleBlur();\n\t\t\t\t}}\n\t\t\t\t// Note: anchor links don't support disabled, but we can simulate it with aria-disabled\n\t\t\t\taria-disabled={anchorProps['aria-disabled']}\n\t\t\t\t{...(anchorProps['aria-disabled'] === 'true' && { 'tabIndex': -1 })}\n\t\t\t\t// Extract relevant props excluding our custom ones\n\t\t\t\tid={id}\n\t\t\t\tstyle={style}\n\t\t\t\ttitle={title}\n\t\t\t\taria-label={ariaLabel}\n\t\t\t\taria-describedby={ariaDescribedBy}\n\t\t\t\taria-labelledby={ariaLabelledBy}\n\t\t\t\ttabIndex={tabIndex}\n\t\t\t>\n\t\t\t\t{children}\n\t\t\t</a>\n\t\t);\n\t}\n\n\t// Render as button element\n\tconst { id, style, title, ['aria-label']: ariaLabel, ['aria-describedby']: ariaDescribedBy, ['aria-labelledby']: ariaLabelledBy, tabIndex, name, value: valueProp, form, formAction, formEncType, formMethod, formNoValidate, formTarget, autoFocus, ...buttonRest } = rest as any as ButtonAsButtonProps;\n\tconst buttonProps = rest as ButtonAsButtonProps;\n\treturn (\n\t\t<button\n\t\t\tref={ref as React.Ref<HTMLButtonElement>}\n\t\t\ttype={buttonProps.type || 'button'}\n\t\t\tdisabled={buttonProps.disabled}\n\t\t\tclassName={classes}\n\t\t\tdata-module=\"nhs-button\"\n\t\t\t{...dataAttributes}\n\t\t\t{...(preventDoubleClick && { 'data-prevent-double-click': 'true' })}\n\t\t\t{...(buttonProps.disabled && { 'aria-disabled': 'true' })}\n\t\t\t{...buttonRest}\n\t\t\tonKeyDown={(event) => {\n\t\t\t\tbuttonProps.onKeyDown?.(event);\n\t\t\t\thandleKeyDown(event);\n\t\t\t}}\n\t\t\tonClick={(event) => {\n\t\t\t\tbuttonProps.onClick?.(event);\n\t\t\t\thandleClick(event);\n\t\t\t}}\n\t\t\tonMouseDown={(event) => {\n\t\t\t\tbuttonProps.onMouseDown?.(event);\n\t\t\t\thandleMouseDown();\n\t\t\t}}\n\t\t\tonMouseUp={(event) => {\n\t\t\t\tbuttonProps.onMouseUp?.(event);\n\t\t\t\thandleMouseUp();\n\t\t\t}}\n\t\t\tonMouseEnter={(event) => {\n\t\t\t\tbuttonProps.onMouseEnter?.(event);\n\t\t\t\thandleMouseEnter();\n\t\t\t}}\n\t\t\tonMouseLeave={(event) => {\n\t\t\t\tbuttonProps.onMouseLeave?.(event);\n\t\t\t\thandleMouseLeave();\n\t\t\t}}\n\t\t\tonFocus={(event) => {\n\t\t\t\tbuttonProps.onFocus?.(event);\n\t\t\t\thandleFocus();\n\t\t\t}}\n\t\t\tonBlur={(event) => {\n\t\t\t\tbuttonProps.onBlur?.(event);\n\t\t\t\thandleBlur();\n\t\t\t}}\n\t\t\t// Extract relevant props\n\t\t\tid={id}\n\t\t\tstyle={style}\n\t\t\ttitle={title}\n\t\t\taria-label={ariaLabel}\n\t\t\taria-describedby={ariaDescribedBy}\n\t\t\taria-labelledby={ariaLabelledBy}\n\t\t\ttabIndex={tabIndex}\n\t\t\tname={name}\n\t\t\tvalue={valueProp}\n\t\t\tform={form}\n\t\t\tformAction={formAction}\n\t\t\tformEncType={formEncType}\n\t\t\tformMethod={formMethod}\n\t\t\tformNoValidate={formNoValidate}\n\t\t\tformTarget={formTarget}\n\t\t\tautoFocus={autoFocus}\n\t\t>\n\t\t\t{children}\n\t\t</button>\n\t);\n}\n\n// Define overloaded function signatures \ninterface ButtonComponent {\n\t(props: ButtonAsButtonProps & { ref?: React.Ref<HTMLButtonElement> }): React.ReactElement;\n\t(props: ButtonAsLinkProps & { ref?: React.Ref<HTMLAnchorElement> }): React.ReactElement;\n\tdisplayName?: string;\n}\n\nexport const Button = forwardRef(ButtonComponent) as ButtonComponent;\nButton.displayName = 'Button';\n\n// Export union type for compatibility\nexport type NHSButtonProps = ButtonAsButtonProps | ButtonAsLinkProps;\n\nexport default Button;\n", "import React from 'react';\nimport classNames from 'classnames';\nimport { TableProps, TableCellData, TableHeaderCell } from './Table.types';\nimport './Table.scss';\nimport { Panel } from '../Panel';\nimport { Heading } from '../Heading';\n\n/**\n * Table component for displaying structured data\n * \n * Features:\n * - Responsive design with mobile-friendly stacked layout\n * - Accessible table structure with proper headers\n * - Support for complex cell types (headers, numeric, spans)\n * - Optional panel wrapper with heading\n * - Customizable caption and styling\n * \n * @param props - Table component props\n * @returns JSX element\n */\nconst Table: React.FC<TableProps> = ({\n\trows,\n\thead,\n\tcaption,\n\tcaptionSize,\n\tfirstCellIsHeader = false,\n\tresponsive = false,\n\theading,\n\theadingLevel = 3,\n\tpanel = false,\n\tpanelClasses,\n\ttableClasses,\n\tclasses,\n\tattributes,\n\t'data-testid': testId,\n}) => {\n  // Build caption classes\n\tconst captionClass = `nhsuk-table__caption ${captionSize ? `nhsuk-table__caption--${captionSize}` : ''}`.trim();\n\n  // Build table classes\n  const tableClassList = classNames(\n\t'nhsuk-table',\n\t{\n\t  'nhsuk-table-responsive': responsive,\n\t},\n\ttableClasses\n  );\n\n  // Build container classes\n  const containerClassList = classNames(classes);\n\n  const renderHeaderCell = (cell: TableHeaderCell, index: number) => {\n\tconst headerClasses = classNames('nhsuk-table__header', {\n\t  [`nhsuk-table__header--${cell.format}`]: cell.format,\n\t}, cell.classes);\n\n\tconst headerAttributes = {\n\t\tscope: 'col' as const,\n\t\t...(cell.colspan && { colSpan: cell.colspan }),\n\t\t...(cell.rowspan && { rowSpan: cell.rowspan }),\n\t\t...(responsive && { role: 'columnheader' }),\n\t\t...cell.attributes,\n\t};\n\n\treturn (\n\t  <th key={index} className={headerClasses} {...headerAttributes}>\n\t\t{cell.html ? (\n\t\t  <span dangerouslySetInnerHTML={{ __html: cell.html }} />\n\t\t) : (\n\t\t  cell.text\n\t\t)}\n\t  </th>\n\t);\n  };\n\n  const renderCell = (cell: TableCellData, cellIndex: number, isFirstCell: boolean) => {\n\tconst isHeaderCell = firstCellIsHeader && isFirstCell;\n\t\n\tconst cellClasses = classNames(\n\t  isHeaderCell ? 'nhsuk-table__header' : 'nhsuk-table__cell',\n\t  {\n\t\t[`nhsuk-table__${isHeaderCell ? 'header' : 'cell'}--${cell.format}`]: cell.format,\n\t  },\n\t  cell.classes\n\t);\n\n\tconst cellAttributes = {\n\t\t...(isHeaderCell && { scope: 'row' as const }),\n\t\t...(cell.colspan && { colSpan: cell.colspan }),\n\t\t...(cell.rowspan && { rowSpan: cell.rowspan }),\n\t\t...(responsive && { \n\t\trole: isHeaderCell ? 'rowheader' : 'cell',\n\t\t...(cell.header && { 'data-label': cell.header })\n\t\t}),\n\t\t...cell.attributes,\n\t};\n\n\tconst cellContent = (\n\t  <>\n\t\t{responsive && cell.header && (\n\t\t  <span className=\"nhsuk-table-responsive__heading\" aria-hidden=\"true\">\n\t\t\t{cell.header}{' '}\n\t\t  </span>\n\t\t)}\n\t\t{cell.html ? (\n\t\t  <span dangerouslySetInnerHTML={{ __html: cell.html }} />\n\t\t) : (\n\t\t  cell.text\n\t\t)}\n\t  </>\n\t);\n\n\tconst Component = isHeaderCell ? 'th' : 'td';\n\n\treturn (\n\t  <Component key={cellIndex} className={cellClasses} {...cellAttributes}>\n\t\t{cellContent}\n\t  </Component>\n\t);\n  };\n\n  const renderTable = () => (\n\t<table \n\t  className={tableClassList}\n\t  {...(responsive && { role: 'table' })}\n\t  {...attributes}\n\t  {...(testId && { 'data-testid': testId })}\n\t>\n\t  { caption && (\n\t\t<caption className={captionClass}>\n\t\t  {caption}\n\t\t</caption>\n\t  )}\n\t  \n\t  { head && head.length > 0 && (\n\t\t<thead \n\t\t  className=\"nhsuk-table__head\"\n\t\t  {...(responsive && { role: 'rowgroup' })}\n\t\t>\n\t\t  <tr {...(responsive && { role: 'row' })}>\n\t\t\t{head.map((cell: any, index: number) => renderHeaderCell(cell, index))}\n\t\t  </tr>\n\t\t</thead>\n\t  )}\n\t  \n\t  <tbody className=\"nhsuk-table__body\">\n\t\t{rows && rows.map((row: any, rowIndex: number) => (\n\t\t  <tr \n\t\t\tkey={rowIndex} \n\t\t\tclassName=\"nhsuk-table__row\"\n\t\t\t{...(responsive && { role: 'row' })}\n\t\t  >\n\t\t\t{row.map((cell: any, cellIndex: number) => \n\t\t\t\trenderCell(cell, cellIndex, cellIndex === 0)\n\t\t\t)}\n\t\t  </tr>\n\t\t))}\n\t  </tbody>\n\t</table>\n  );\n\nif (panel) {\n\treturn (\n\t\t<Panel className={panelClasses}>\n\t\t\t{ heading && (\n\t\t\t\t<Heading level={headingLevel} className=\"nhsuk-table__heading-tab\">\n\t\t\t\t\t{heading}\n\t\t\t\t</Heading>\n\t\t\t)}\n\t\t\t{ renderTable() }\n\t\t</Panel>\n\t);\n}\n\n  if (containerClassList) {\n\treturn (\n\t  <div className={containerClassList}>\n\t\t{ renderTable() }\n\t  </div>\n\t);\n  }\n\n  return renderTable();\n};\n\nexport default Table;\n", "import React from 'react';\nimport classNames from 'classnames';\nimport './Panel.scss';\nimport { PanelProps } from './Panel.types';\nimport { Heading } from '../Heading';\n\nexport const Panel: React.FC<PanelProps> = ({\n  id,\n  className,\n  headingText,\n  headingHtml,\n  headingLevel = 2,\n  bodyText,\n  bodyHtml,\n  children,\n  ...props\n}) => {\n  const panelClasses = classNames(\n    'nhsuk-panel',\n    className\n  );\n\n  const renderHeading = () => {\n    if (!headingText && !headingHtml && !children) return null;\n\n    if (headingHtml) {\n      return (\n        <Heading\n          level={headingLevel}\n          className=\"nhsuk-panel__heading\"\n          html={headingHtml}\n          marginBottom=\"var(--panel-heading-margin, 24px)\"\n        />\n      );\n    }\n\n    if (headingText) {\n      return (\n        <Heading\n          level={headingLevel}\n          className=\"nhsuk-panel__heading\"\n          text={headingText}\n          marginBottom=\"var(--panel-heading-margin, 24px)\"\n        />\n      );\n    }\n\n    return null;\n  };\n\n  const renderBody = () => {\n    if (children) {\n      return <div className=\"nhsuk-panel__body\">{children}</div>;\n    }\n\n    if (bodyHtml) {\n      return (\n        <div \n          className=\"nhsuk-panel__body\"\n          dangerouslySetInnerHTML={{ __html: bodyHtml }}\n        />\n      );\n    }\n\n    if (bodyText) {\n      return (\n        <div className=\"nhsuk-panel__body\">\n          <p>{bodyText}</p>\n        </div>\n      );\n    }\n\n    return null;\n  };\n\n  return (\n    <div className={panelClasses} id={id} {...props}>\n      {renderHeading()}\n      {renderBody()}\n    </div>\n  );\n};\n", "import React, { createElement } from 'react';\nimport classNames from 'classnames';\nimport './Heading.scss';\nimport { HeadingProps } from './Heading.types';\n\n/**\n * A reusable Heading component that abstracts heading level logic and provides consistent styling.\n * Separates semantic meaning (level) from visual appearance (size).\n * \n * If level is not provided, it will be automatically determined from the size prop:\n * - xxl/xl \u2192 h1\n * - l \u2192 h2 \n * - m \u2192 h3\n * - s \u2192 h4\n * - xs \u2192 h5\n * \n * @example\n * <Heading level={1} size=\"xl\">Page Title</Heading>\n * <Heading level={2} size=\"l\" text=\"Section Title\" />\n * <Heading size=\"xl\" text=\"Auto h1 from size\" />\n * <Heading size=\"m\" text=\"Auto h3 from size\" />\n * <Heading level={2} text=\"Custom Spacing\" marginBottom=\"32px\" />\n */\nexport const Heading: React.FC<HeadingProps> = ({\n  level,\n  className,\n  text,\n  html,\n  children,\n  size,\n  marginBottom,\n  ...props\n}) => {\n  // Map size to default heading levels (NHS long content pattern)\n  const getDefaultLevelFromSize = (size?: string): 1 | 2 | 3 | 4 | 5 | 6 => {\n    switch (size) {\n      case 'xxl':\n      case 'xl':\n        return 1;\n      case 'l':\n        return 2;\n      case 'm':\n        return 3;\n      case 's':\n        return 4;\n      case 'xs':\n        return 5;\n      default:\n        return 2; // Default fallback\n    }\n  };\n\n  // Use explicit level if provided, otherwise derive from size\n  const headingLevel = level ?? getDefaultLevelFromSize(size);\n  const headingClasses = classNames(\n    'nhsuk-heading',\n    {\n      [`nhsuk-heading--${size}`]: size,\n    },\n    className\n  );\n\n  const content = children || (html ? (\n    <span dangerouslySetInnerHTML={{ __html: html }} />\n  ) : text);\n\n  const tagName = `h${headingLevel}` as 'h1' | 'h2' | 'h3' | 'h4' | 'h5' | 'h6';\n\n  // Apply custom margin-bottom if provided\n  const style = marginBottom ? { ...props.style, marginBottom } : props.style;\n\n  return createElement(\n    tagName,\n    { className: headingClasses, ...props, style },\n    content\n  );\n};\n", "import * as React from 'react';\nimport { Tabs } from '../Tabs/Tabs';\nimport { Button } from '../Button';\nimport type { TabItem } from '../Tabs/Tabs.types';\nimport { ChartContainer, type ChartContainerProps, type LineSeries } from './index';\nimport Table from '../Tables/Table';\n\nexport interface ChartWithTableTabsProps extends Omit<ChartContainerProps, 'children' | 'tabularData' | 'showTableToggle'> {\n  /** The chart element to render */\n  chart: React.ReactNode;\n  /** Accessible data table (required for tabs; if omitted tabs are disabled) */\n  table?: React.ReactNode;\n  /** Provide line series for auto table generation when table not manually supplied */\n  autoTableFromSeries?: LineSeries[];\n  /** Alignment for auto-generated (and optional consumer provided) table columns.\n   * Provide an array matching column order (including Date/time column if auto generated).\n   * Values: 'left' | 'center' | 'right'. Missing entries default to 'left'.\n   */\n  columnAlign?: Array<'left' | 'center' | 'right'>;\n  /** Enable CSV download button for auto-generated table */\n  enableDownload?: boolean;\n  /** Override default generated filename (without extension) */\n  downloadFilename?: string;\n  /** Label for the chart tab */\n  chartTabLabel?: string;\n  /** Label for the table tab */\n  tableTabLabel?: string;\n  /** Start on table instead of chart */\n  initialView?: 'chart' | 'table';\n  /** Disable tabs and render only the chart (ignores table) */\n  disableTabs?: boolean;\n  /** Force hide the table even if provided (e.g. embed contexts) */\n  hideTable?: boolean;\n  /** Pass extra tab items (appended after built-ins) */\n  additionalTabs?: TabItem[];\n  /** Callback when active tab changes */\n  onViewChange?: (view: 'chart' | 'table' | string) => void;\n}\n\n/**\n * Wrapper providing NHS/GDS style accessible fallback: a tabset switching between chart and underlying data table.\n * Falls back to a single chart view when table not supplied or tabs disabled.\n */\nexport const ChartWithTableTabs: React.FC<ChartWithTableTabsProps> = ({\n  chart,\n  table,\n  autoTableFromSeries,\n  columnAlign,\n  enableDownload = false,\n  downloadFilename,\n  chartTabLabel = 'Chart',\n  tableTabLabel = 'Data table',\n  initialView = 'chart',\n  disableTabs = false,\n  hideTable = false,\n  additionalTabs,\n  onViewChange,\n  title,\n  description,\n  source,\n  width,\n  height,\n  className,\n  id,\n  initiallyShowTable,\n  ...restContainer\n}) => {\n  let resolvedTable = table;\n  if (!resolvedTable && autoTableFromSeries && autoTableFromSeries.length > 0 && !hideTable) {\n  // All columns forced left-aligned (colAlign no longer needed)\n\n    // Build multi-series table: first column Date, subsequent per series\n    const heads = [\n      { text: 'Date', classes: 'nhsuk-table__header--align-left' },\n      ...autoTableFromSeries.map((s) => ({\n        text: s.label || s.id,\n        classes: 'nhsuk-table__header--align-left'\n      }))\n    ];\n\n    // Assume all series share x domain; use longest series for rows\n    const longest = autoTableFromSeries.reduce((a, b) => (b.data.length > a.data.length ? b : a), autoTableFromSeries[0]);\n\n    const rows = longest.data.map((d, rowIdx) => {\n      const dateCell = { text: new Date(d.x as any).toLocaleDateString(), classes: 'nhsuk-table__cell--align-left' };\n      const seriesCells = autoTableFromSeries.map((s) => {\n        const point = s.data[rowIdx];\n        const yVal = point ? point.y : undefined;\n        return {\n          text: yVal === undefined || yVal === null ? '\u2013' : String(yVal),\n          classes: 'nhsuk-table__cell--align-left',\n          header: s.label || s.id\n        };\n      });\n      return [dateCell, ...seriesCells];\n    });\n\n    const filenameBase = downloadFilename || (title ? title.replace(/[^a-z0-9]+/gi, '-').toLowerCase() : 'chart-data');\n    const toCsv = () => {\n      const headerLine = heads.map(h => '\"' + (h.text || '') + '\"').join(',');\n      const body = rows.map(r => r.map(c => '\"' + (c.text ?? '') + '\"').join(',')).join('\\n');\n      return headerLine + '\\n' + body + '\\n';\n    };\n    const handleDownload = () => {\n      try {\n        const blob = new Blob([toCsv()], { type: 'text/csv;charset=utf-8;' });\n        const link = document.createElement('a');\n        const url = URL.createObjectURL(blob);\n        link.href = url;\n        link.download = `${filenameBase}.csv`;\n        link.style.display = 'none';\n        document.body.appendChild(link);\n        link.click();\n        document.body.removeChild(link);\n        URL.revokeObjectURL(url);\n      } catch (e) {\n        console.warn('CSV download failed', e);\n      }\n    };\n    resolvedTable = (\n      <div className=\"fdp-chart__auto-table\">\n        {enableDownload && (\n          <div className=\"fdp-chart__download-row\">\n            <Button variant=\"secondary\" onClick={handleDownload} size=\"small\">Download CSV</Button>\n          </div>\n        )}\n        <Table\n          caption={`${title} data`}\n          head={heads}\n          rows={rows}\n          responsive\n        />\n      </div>\n    );\n  }\n\n  const hasTable = !!resolvedTable && !hideTable;\n  const shouldUseTabs = !disableTabs && hasTable;\n\n  if (!shouldUseTabs) {\n    return (\n      <ChartContainer\n        title={title}\n        description={description}\n        source={source}\n        width={width}\n        height={height}\n        className={className}\n        id={id}\n        initiallyShowTable={false}\n        {...restContainer}\n      >\n        {chart}\n      </ChartContainer>\n    );\n  }\n\n  const baseTabs: TabItem[] = [\n    {\n      id: 'chart',\n      label: chartTabLabel,\n      content: (\n        <ChartContainer\n          title={title}\n          description={description}\n          source={source}\n          width={width}\n          height={height}\n          className={className}\n          id={id}\n          initiallyShowTable={false}\n          {...restContainer}\n        >\n          {chart}\n        </ChartContainer>\n      )\n    },\n    {\n      id: 'table',\n      label: tableTabLabel,\n      content: (\n        <div className=\"fdp-chart-table-wrapper\" aria-label={`${title} data table`}>\n          {resolvedTable}\n        </div>\n      )\n    }\n  ];\n\n  const items: TabItem[] = additionalTabs ? [...baseTabs, ...additionalTabs] : baseTabs;\n\n  return (\n    <div className=\"fdp-chart-tabs\" data-chart-with-table>\n      <Tabs\n        items={items}\n        defaultActiveTab={initialView}\n        onTabChange={(tabId: string) => {\n          if (tabId === 'chart' || tabId === 'table') {\n            onViewChange?.(tabId);\n          } else {\n            onViewChange?.(tabId as any);\n          }\n        }}\n      />\n    </div>\n  );\n};\n\nexport default ChartWithTableTabs;\n", "import * as React from 'react';\nimport { pickSeriesColor, pickSeriesStroke, pickRegionColor, pickRegionStroke, pickSeverityColor, pickSeverityStroke } from '../utils/colors';\nimport { useVisibility } from '../core/VisibilityContext';\n\nexport interface LegendItem {\n  id: string;\n  label: string;\n  color?: string; // explicit override\n  stroke?: string; // explicit stroke\n  palette?: 'categorical' | 'region' | 'severity';\n  description?: string; // optional accessible description / tooltip (future)\n}\n\nexport interface LegendProps {\n  /** Legend items. If omitted and a VisibilityProvider is present, auto inference may be added later. */\n  items?: LegendItem[];\n  palette?: 'categorical' | 'region' | 'severity';\n  direction?: 'row' | 'column';\n  /** Make legend interactive \u2013 clicking toggles series visibility */\n  interactive?: boolean;\n  /** If true (default) adjust a white stroke token to dark on white page backgrounds for visibility */\n  adjustStrokeForWhiteBackground?: boolean;\n  /** Controlled hidden ids (when supplied component is controlled) */\n  hiddenIds?: string[];\n  /** Default hidden ids (uncontrolled) */\n  defaultHiddenIds?: string[];\n  /** Callback whenever visibility changes */\n  onVisibilityChange?: (visibleIds: string[], hiddenIds: string[]) => void;\n  /** Optional announcement override; return string describing change */\n  formatAnnouncement?: (id: string, nowVisible: boolean, label: string) => string;\n}\n\n/** Legend with optional interactive show/hide toggling and aria-live announcements */\nexport const Legend: React.FC<LegendProps> = ({\n  items: itemsProp,\n  palette = 'categorical',\n  direction = 'row',\n  interactive = false,\n  adjustStrokeForWhiteBackground = true,\n  hiddenIds,\n  defaultHiddenIds = [],\n  onVisibilityChange,\n  formatAnnouncement\n}) => {\n  const visibility = useVisibility();\n  const contextInteractive = !!(visibility && !interactive && !onVisibilityChange && hiddenIds === undefined);\n  const effectiveInteractive = interactive || contextInteractive;\n  const items = itemsProp || [];\n  const controlled = hiddenIds !== undefined;\n  const [internalHidden, setInternalHidden] = React.useState<Set<string>>(new Set(defaultHiddenIds));\n  const effectiveHidden = controlled ? new Set(hiddenIds) : internalHidden;\n  const [announcement, setAnnouncement] = React.useState('');\n\n  const toggle = (id: string) => {\n    if (contextInteractive && visibility) {\n      const wasHidden = visibility.isHidden(id);\n      visibility.toggle(id);\n      const item = items.find(i => i.id === id);\n      const label = item?.label || id;\n      const msg = formatAnnouncement\n        ? formatAnnouncement(id, wasHidden, label)\n        : `${label} ${wasHidden ? 'shown' : 'hidden'}`;\n      setAnnouncement(msg);\n      return;\n    }\n    if (!effectiveInteractive) return;\n    const next = new Set(effectiveHidden);\n    const wasHidden = next.has(id);\n    if (wasHidden) next.delete(id); else next.add(id);\n    if (!controlled) setInternalHidden(next);\n    const visibleIds = items.filter(i => !next.has(i.id)).map(i => i.id);\n    const hiddenNow = Array.from(next);\n    onVisibilityChange?.(visibleIds, hiddenNow);\n    const item = items.find(i => i.id === id);\n    const label = item?.label || id;\n    const msg = formatAnnouncement\n      ? formatAnnouncement(id, wasHidden, label)\n      : `${label} ${wasHidden ? 'shown' : 'hidden'}`;\n    setAnnouncement(msg);\n  };\n\n  return (\n    <div className=\"fdp-legend-wrapper\">\n      <ul className={`fdp-legend fdp-legend--${direction}`}> \n        {items.map((item, i) => {\n          const effectivePalette = item.palette || palette;\n          const fill = item.color || (\n            effectivePalette === 'region' ? pickRegionColor(item.id, i)\n            : effectivePalette === 'severity' ? pickSeverityColor(item.id, i)\n            : pickSeriesColor(i)\n          );\n          let stroke = item.stroke || (\n            effectivePalette === 'region' ? pickRegionStroke(item.id, i)\n            : effectivePalette === 'severity' ? pickSeverityStroke(item.id, i)\n            : pickSeriesStroke(i)\n          );\n          if (adjustStrokeForWhiteBackground && stroke) {\n            const norm = stroke.trim().toLowerCase();\n            if (norm === '#fff' || norm === '#ffffff' || norm === 'white' || /^rgb\\(\\s*255\\s*,\\s*255\\s*,\\s*255\\s*\\)$/.test(norm)) {\n              // Override to dark neutral for visibility against white legend background.\n              stroke = '#212b32';\n            }\n          }\n          const hidden = contextInteractive && visibility ? visibility.isHidden(item.id) : effectiveHidden.has(item.id);\n          const btnProps: React.ButtonHTMLAttributes<HTMLButtonElement> = effectiveInteractive ? {\n            'aria-pressed': !hidden,\n            'aria-label': `${item.label} (${hidden ? 'show' : 'hide'})`,\n            onClick: () => toggle(item.id)\n          } : { 'aria-label': item.label };\n          return (\n            <li key={item.id} className={`fdp-legend__item${hidden ? ' fdp-legend__item--hidden' : ''}`}> \n              <button\n                type=\"button\"\n                className=\"fdp-legend__swatch\"\n                style={{ background: fill, borderColor: stroke }}\n                {...btnProps}\n              />\n              <span className=\"fdp-legend__label\">{item.label}</span>\n            </li>\n          );\n        })}\n      </ul>\n  {effectiveInteractive && (\n        <div className=\"fdp-visually-hidden\" aria-live=\"polite\" aria-atomic=\"true\">{announcement}</div>\n      )}\n    </div>\n  );\n};\n\nexport default Legend;\n", "import * as React from 'react';\nimport LineChart, { type LineChartProps, type LineSeries } from './charts/LineChart';\nimport Legend, { type LegendProps, type LegendItem } from './primitives/Legend';\nimport { assignSeriesColors } from './utils/colors';\n\nexport interface FilterableLineChartProps extends Omit<LineChartProps, 'series'> {\n  /** Raw input series (colours will be assigned for stability unless assignColors=false) */\n  series: LineSeries[];\n  /** Place legend above (default) or below the chart */\n  legendPosition?: 'top' | 'bottom';\n  /** Initial hidden ids (uncontrolled mode) */\n  initialHiddenIds?: string[];\n  /** Controlled hidden ids */\n  hiddenIds?: string[];\n  /** Callback when hidden set changes (visible provided for convenience) */\n  onHiddenChange?: (hiddenIds: string[], visibleIds: string[]) => void;\n  /** Merge props into the internal Legend (items/interactive/hiddenIds/onVisibilityChange managed internally) */\n  legendProps?: Omit<LegendProps, 'items' | 'interactive' | 'hiddenIds' | 'onVisibilityChange'>;\n  /** Assign stable colours automatically (default true). If false, existing series.color values used/fallback to palette index order. */\n  assignColors?: boolean;\n}\n\n/** Convenience wrapper wiring an interactive Legend to a LineChart with built-in series filtering & stable colour assignment. */\nexport const FilterableLineChart: React.FC<FilterableLineChartProps> = ({\n  series,\n  legendPosition = 'top',\n  initialHiddenIds = [],\n  hiddenIds,\n  onHiddenChange,\n  legendProps,\n  assignColors = true,\n  palette = 'categorical',\n  ...lineChartProps\n}) => {\n  const coloured = React.useMemo(() => assignColors ? assignSeriesColors(series, { palette }) : series, [series, assignColors, palette]);\n  const controlled = hiddenIds !== undefined;\n  const [internalHidden, setInternalHidden] = React.useState<Set<string>>(new Set(initialHiddenIds));\n  const hiddenSet = controlled ? new Set(hiddenIds) : internalHidden;\n  const visibleSeries = React.useMemo(() => coloured.filter(s => !hiddenSet.has(s.id)), [coloured, hiddenSet]);\n\n  const handleVisibilityChange = React.useCallback((_visibleIds: string[], nextHiddenIds: string[]) => {\n    if (!controlled) setInternalHidden(new Set(nextHiddenIds));\n    const visibleIds = coloured.filter(s => !nextHiddenIds.includes(s.id)).map(s => s.id);\n    onHiddenChange?.(nextHiddenIds, visibleIds);\n  }, [controlled, coloured, onHiddenChange]);\n\n  const legendItems: LegendItem[] = React.useMemo(() => coloured.map(s => ({ id: s.id, label: s.label || s.id, color: s.color })), [coloured]);\n\n  const chartEl = <LineChart {...lineChartProps} series={visibleSeries} palette={palette} />;\n  const legendEl = (\n    <Legend\n      {...legendProps}\n      palette={palette}\n      items={legendItems}\n      interactive\n      hiddenIds={Array.from(hiddenSet)}\n      onVisibilityChange={handleVisibilityChange}\n    />\n  );\n  return (\n    <div className=\"fdp-filterable-line-chart\">\n      {legendPosition === 'top' && legendEl}\n      {chartEl}\n      {legendPosition === 'bottom' && legendEl}\n    </div>\n  );\n};\n\nexport default FilterableLineChart;\n", "import * as React from 'react';\nimport { createLinePath } from '../utils/scales';\nimport { pickSeriesColor, pickRegionColor } from '../utils/colors';\nimport { useScaleContext } from '../core/ScaleContext';\nimport { useVisibility } from '../core/VisibilityContext';\nimport { useTooltipContext } from '../core/TooltipContext';\nimport { area as d3Area, curveMonotoneX } from 'd3-shape';\n\nexport interface AreaDatum { x: Date | string | number; y: number; }\nexport interface AreaSeries { id: string; data: AreaDatum[]; color?: string; label?: string; }\n\nexport interface AreaSeriesPrimitiveProps {\n  series: AreaSeries;\n  seriesIndex: number;\n  palette: 'categorical' | 'region';\n  focusablePoints?: boolean; // reserved for future parity with line points\n  focusIndex?: number; // reserved for future keyboard focus impl\n  parseX: (d: AreaDatum) => Date;\n  /** If true, draws only the area fill (no outline). Default renders both. */\n  areaOnly?: boolean;\n  /** Hidden presentation mirrors LineSeriesPrimitive behaviour. */\n  visibilityMode?: 'remove' | 'fade';\n  /** Optional baseline (y value) for stacked / diverging future use. Defaults to 0. */\n  baselineY?: number;\n  /** Enable curve smoothing (monotoneX). Defaults to true. */\n  smooth?: boolean;\n}\n\n/** Renders an area under a line (baseline -> series y). Provides tooltip registration like LineSeriesPrimitive. */\nexport const AreaSeriesPrimitive: React.FC<AreaSeriesPrimitiveProps> = ({\n  series,\n  seriesIndex,\n  palette,\n  parseX,\n  areaOnly = false,\n  visibilityMode = 'remove',\n  baselineY = 0,\n  smooth = true\n}) => {\n  const scaleCtx = useScaleContext();\n  if (!scaleCtx) return null;\n  const { xScale, yScale } = scaleCtx;\n  const visibility = useVisibility();\n  const isHidden = visibility?.isHidden(series.id) ?? false;\n  const faded = isHidden && visibilityMode === 'fade';\n  if (isHidden && visibilityMode === 'remove') return null;\n  const tooltip = useTooltipContext();\n\n  React.useEffect(() => {\n    if (!tooltip) return;\n    const normalized = series.data.map(d => ({ x: parseX(d), y: d.y }));\n    tooltip.registerSeries(series.id, normalized);\n    return () => tooltip.unregisterSeries(series.id);\n  }, [tooltip, series.id, series.data, parseX]);\n\n  const color = series.color || (palette === 'region' ? pickRegionColor(series.id, seriesIndex) : pickSeriesColor(seriesIndex));\n\n  // Build area + optional line with smoothing toggle.\n  const linePath = React.useMemo(() => createLinePath(series.data, d => xScale(parseX(d)), d => yScale(d.y), { smooth }), [series.data, xScale, yScale, parseX, smooth]);\n  const areaPath = React.useMemo(() => {\n    const gen = d3Area<AreaDatum>()\n      .x(d => xScale(parseX(d)))\n      .y0(() => yScale(baselineY))\n      .y1(d => yScale(d.y));\n    if (smooth) gen.curve(curveMonotoneX);\n    return gen(series.data) || '';\n  }, [series.data, xScale, yScale, parseX, baselineY, smooth]);\n\n  return (\n    <g className=\"fdp-area-series\" data-series={series.id} opacity={faded ? 0.25 : 1} aria-hidden={faded ? true : undefined}>\n      <path d={areaPath} fill={color} fillOpacity={0.25} stroke=\"none\" />\n      {!areaOnly && <path d={linePath} fill=\"none\" stroke={color} strokeWidth={1} />}\n    </g>\n  );\n};\n\nexport default AreaSeriesPrimitive;\n", "import * as React from 'react';\nimport { useScaleContext } from '../core/ScaleContext';\nimport { useVisibility } from '../core/VisibilityContext';\nimport { useTooltipContext } from '../core/TooltipContext';\nimport { useChartContext } from '../core/ChartRoot';\nimport { pickSeriesColor, pickRegionColor, pickSeriesStroke, pickRegionStroke } from '../utils/colors';\n\nexport interface BarDatum { x: Date | string | number; y: number; }\nexport interface BarSeries { id: string; data: BarDatum[]; color?: string; label?: string; barWidth?: number; }\n\nexport interface BarSeriesPrimitiveProps {\n  series: BarSeries;\n  seriesIndex: number;\n  seriesCount: number; // total number of bar series rendered in the group (for width partitioning)\n  palette: 'categorical' | 'region';\n  /** Provide parseX so callers can reuse memoised function across series */\n  parseX: (d: BarDatum) => Date;\n  /** All series in the grouped chart (used for global x step inference on continuous scales to avoid overlap). */\n  allSeries?: BarSeries[];\n  /** Focusable bars (keyboard tab). For large sets you may disable. */\n  focusable?: boolean;\n  /** Width fill factor inside inferred step (0..1) */\n  widthFactor?: number;\n  /** Gap (px) between grouped bars (apportioned inside step) */\n  groupGap?: number;\n  /** Explicit per-bar width override (px). If provided, inference is skipped (continuous scales). For band scales this is clamped to available slot. */\n  barWidth?: number;\n  /** Adaptive mode: dynamically fill available step width up to an occupancy factor, ignoring widthFactor when continuous. */\n  adaptive?: boolean;\n  /** Fraction (0-1] of the step (distance to next category midpoint) to occupy as total group width in adaptive mode. Default 0.9 */\n  adaptiveGroupOccupancy?: number;\n  /** Presentation for hidden series (consistency with line). */\n  visibilityMode?: 'remove' | 'fade';\n  /** Color assignment mode: by entire series (default) or per category (datum index within a single series). */\n  colorMode?: 'series' | 'category';\n}\n\n/** Low-level primitive for vertical bars (time / ordinal X via ScaleContext time scale). */\nexport const BarSeriesPrimitive: React.FC<BarSeriesPrimitiveProps> = ({\n  series,\n  seriesIndex,\n  seriesCount,\n  palette,\n  parseX,\n  focusable = true,\n  widthFactor = 0.8,\n  groupGap = 2,\n  barWidth,\n  adaptive = false,\n  adaptiveGroupOccupancy = 0.9,\n  visibilityMode = 'remove'\n  , colorMode = 'series'\n  , allSeries\n}) => {\n  const scaleCtx = useScaleContext();\n  const chartDims = useChartContext();\n  if (!scaleCtx || !chartDims) return null;\n  const { xScale, yScale } = scaleCtx;\n  const visibility = useVisibility();\n  const isHidden = visibility?.isHidden(series.id) ?? false;\n  const faded = isHidden && visibilityMode === 'fade';\n  if (isHidden && visibilityMode === 'remove') return null;\n  const tooltip = useTooltipContext();\n\n  // Register for tooltip nearest lookup (treat bar top as focus coordinate)\n  React.useEffect(() => {\n    if (!tooltip) return;\n    const normalized = series.data.map(d => ({ x: parseX(d), y: d.y }));\n    tooltip.registerSeries(series.id, normalized);\n    return () => tooltip.unregisterSeries(series.id);\n  }, [tooltip, series.id, series.data, parseX]);\n\n  // Support band scale (categorical) if present, else fall back to pixel inference on continuous scale\n  const isBandScale = typeof (xScale as any).bandwidth === 'function';\n  const bandwidth = isBandScale ? (xScale as any).bandwidth() : undefined;\n  const inferredPixelWidth = React.useMemo(() => {\n    if (bandwidth != null) return bandwidth; // band scale already encodes step\n    // Use global x positions across all series if provided for consistent grouping width\n    const sourceSeries = allSeries && allSeries.length ? allSeries : [series];\n    const posSet: number[] = [];\n    sourceSeries.forEach(s => {\n      s.data.forEach(d => {\n        const v = xScale(parseX(d));\n        if (Number.isFinite(v)) posSet.push(v);\n      });\n    });\n    const pxPositions = posSet.sort((a,b)=>a-b);\n    if (pxPositions.length <= 1) return 40; // fallback width for single bar\n    const diffs: number[] = [];\n    for (let i=1;i<pxPositions.length;i++) diffs.push(pxPositions[i]-pxPositions[i-1]);\n    diffs.sort((a,b)=>a-b);\n    const median = diffs[Math.floor(diffs.length/2)] || 40;\n    return median * widthFactor;\n  }, [series.data, allSeries, xScale, parseX, widthFactor, bandwidth]);\n\n  // Group width = total width occupied by all bars in a group plus base single bar width candidate\n    const { groupTotalWidth, basePerBar } = React.useMemo(() => {\n    // Band scale: derived from bandwidth then optional override (clamped)\n    if (isBandScale) {\n      const bw = inferredPixelWidth; // bandwidth\n      const autoPerBar = Math.max(1, (bw - groupGap * (seriesCount - 1)) / seriesCount);\n      const explicit = series.barWidth ?? barWidth;\n      let finalPerBar = explicit ? Math.min(explicit, bw) : autoPerBar;\n      if (adaptive) {\n        const targetGroup = bw * Math.min(1, Math.max(0.05, adaptiveGroupOccupancy));\n        const adaptedPerBar = Math.max(1, (targetGroup - groupGap * (seriesCount - 1)) / seriesCount);\n        finalPerBar = explicit ? Math.min(finalPerBar, adaptedPerBar) : adaptedPerBar;\n      }\n  const total = finalPerBar * seriesCount + groupGap * (seriesCount - 1);\n  return { groupTotalWidth: total, basePerBar: finalPerBar };\n    }\n    // Continuous scale: explicit override first\n    const explicit = series.barWidth ?? barWidth;\n    // Compute base auto width from inferredPixelWidth (median diff * widthFactor already baked into inferredPixelWidth)\n    const maxAutoPer = Math.max(1, (inferredPixelWidth - groupGap * (seriesCount - 1)) / seriesCount);\n    if (adaptive) {\n      // Recompute step using nearest neighbor distance across global positions for tighter occupancy\n      const sourceSeries = allSeries && allSeries.length ? allSeries : [series];\n      const positions: number[] = [];\n      sourceSeries.forEach(s => s.data.forEach(d => {\n        const v = xScale(parseX(d)); if (Number.isFinite(v)) positions.push(v);\n      }));\n      positions.sort((a,b)=>a-b);\n      const diffs: number[] = [];\n      for (let i=1;i<positions.length;i++) diffs.push(positions[i]-positions[i-1]);\n      diffs.sort((a,b)=>a-b);\n      const step = diffs[Math.floor(diffs.length/2)] || inferredPixelWidth;\n      const targetGroup = step * Math.min(1, Math.max(0.05, adaptiveGroupOccupancy));\n      const adaptivePer = Math.max(1, (targetGroup - groupGap * (seriesCount - 1)) / seriesCount);\n      const finalPer = explicit ? Math.min(explicit, adaptivePer) : adaptivePer;\n      const total = finalPer * seriesCount + groupGap * (seriesCount - 1);\n        return { groupTotalWidth: total, basePerBar: finalPer };\n    }\n    if (explicit) {\n      const finalPer = Math.min(explicit, maxAutoPer);\n      const total = finalPer * seriesCount + groupGap * (seriesCount - 1);\n        return { groupTotalWidth: total, basePerBar: finalPer };\n    }\n    const total = maxAutoPer * seriesCount + groupGap * (seriesCount - 1);\n      return { groupTotalWidth: total, basePerBar: maxAutoPer };\n  }, [isBandScale, inferredPixelWidth, groupGap, seriesCount, barWidth, series.barWidth, adaptive, adaptiveGroupOccupancy, allSeries, xScale, parseX]);\n  // Precompute global centers for continuous scale once\n  const globalCenters = React.useMemo(() => {\n    if (isBandScale) return [] as number[];\n    const pts: number[] = [];\n    const src = allSeries && allSeries.length ? allSeries : [series];\n    src.forEach(s => s.data.forEach(pt => {\n      const v = xScale(parseX(pt));\n      if (Number.isFinite(v)) pts.push(v);\n    }));\n    pts.sort((a,b)=>a-b);\n    return Array.from(new Set(pts));\n  }, [isBandScale, allSeries, series, xScale, parseX]);\n  // Compute uniform bar width for continuous scale (cap by smallest available span among groups)\n  const uniformContinuousBarWidth = React.useMemo(() => {\n    if (isBandScale) return undefined;\n    if (!globalCenters.length) return basePerBar;\n    // Compute steps between centers\n    const steps: number[] = [];\n    for (let i=1;i<globalCenters.length;i++) steps.push(globalCenters[i]-globalCenters[i-1]);\n    steps.sort((a,b)=>a-b);\n    const medianStep = steps.length ? steps[Math.floor(steps.length/2)] : basePerBar * seriesCount + groupGap * (seriesCount - 1);\n    // Pseudo neighbours for edges so outer spans resemble internal spacing\n    const pseudoFirstPrev = globalCenters[0] - medianStep;\n    const pseudoLastNext = globalCenters[globalCenters.length-1] + medianStep;\n    const localSpans: number[] = [];\n    for (let i=0;i<globalCenters.length;i++) {\n      const c = globalCenters[i];\n      const prev = i>0 ? globalCenters[i-1] : pseudoFirstPrev;\n      const next = i<globalCenters.length-1 ? globalCenters[i+1] : pseudoLastNext;\n      const leftBound = (prev + c)/2;\n      const rightBound = (c + next)/2;\n      localSpans.push(Math.max(1, rightBound - leftBound));\n    }\n    const minLocalSpan = Math.min(...localSpans);\n    // Target group width tries to occupy occupancy * medianStep, but cannot exceed any local span\n    const desiredGroupWidth = medianStep * Math.min(1, Math.max(0.05, adaptiveGroupOccupancy));\n    const finalGroupWidth = Math.min(desiredGroupWidth, minLocalSpan - 0.5, groupTotalWidth);\n    const per = Math.max(1, (finalGroupWidth - groupGap * (seriesCount - 1)) / seriesCount);\n    return Math.min(per, basePerBar);\n  }, [isBandScale, globalCenters, basePerBar, groupTotalWidth, seriesCount, groupGap, adaptiveGroupOccupancy]);\n  // innerWidth not needed after uniform span logic (bounds derived from midpoints)\n\n  const baseSeriesColor = series.color || (palette === 'region' ? pickRegionColor(series.id, seriesIndex) : pickSeriesColor(seriesIndex));\n  const baseSeriesStroke = palette === 'region' ? pickRegionStroke(series.id, seriesIndex) : pickSeriesStroke(seriesIndex);\n  const baselineY = Number.isFinite(yScale(0)) ? yScale(0) : yScale.range()[0];\n\n  return (\n    <g className=\"fdp-bar-series\" data-series={series.id} opacity={faded ? 0.25 : 1} aria-hidden={faded ? true : undefined}>\n      {series.data.map((d, di) => {\n        const rawX = parseX(d);\n        const xPos = isBandScale ? xScale(d.x as any) : xScale(rawX);\n        // For band scale we can position directly within the band; else group logic with inferred group width\n        let barX: number;\n        let barWidth: number;\n        if (isBandScale) {\n          const groupWidth = inferredPixelWidth; // == bandwidth\n            const available = groupWidth - (seriesCount - 1) * groupGap;\n            barWidth = Math.max(1, available / seriesCount);\n            barX = xPos + seriesIndex * (barWidth + groupGap);\n        } else {\n          const xCenter = xPos; // continuous scale center for group\n          const centerIndex = globalCenters.indexOf(xCenter);\n          // Recompute bounds using pseudo spacing like in uniform width calc for consistent edge gaps\n          let prevCenter = centerIndex > 0 ? globalCenters[centerIndex - 1] : (globalCenters[0] - (uniformContinuousBarWidth! * seriesCount + groupGap * (seriesCount - 1)) / Math.max(0.05, adaptiveGroupOccupancy));\n          let nextCenter = centerIndex < globalCenters.length -1 ? globalCenters[centerIndex + 1] : (globalCenters[globalCenters.length -1] + (uniformContinuousBarWidth! * seriesCount + groupGap * (seriesCount - 1)) / Math.max(0.05, adaptiveGroupOccupancy));\n          const leftBound = (prevCenter + xCenter)/2;\n          const rightBound = (xCenter + nextCenter)/2;\n          const per = uniformContinuousBarWidth ?? basePerBar;\n          const totalGroup = per * seriesCount + groupGap * (seriesCount - 1);\n          let groupLeft = xCenter - totalGroup / 2;\n          if (groupLeft < leftBound) groupLeft = leftBound;\n          if (groupLeft + totalGroup > rightBound) groupLeft = Math.max(leftBound, rightBound - totalGroup);\n          barX = groupLeft + seriesIndex * (per + groupGap);\n          barWidth = per;\n        }\n        const barCenterX = barX + (barWidth / 2);\n        const valueY = yScale(d.y);\n        const y = Math.min(baselineY, valueY);\n        const height = Math.abs(baselineY - valueY);\n        const isFocused = !faded && tooltip?.focused?.seriesId === series.id && tooltip.focused.index === di;\n        const onEnter = () => {\n          if (!tooltip || faded) return;\n          tooltip.setFocused({ seriesId: series.id, index: di, x: rawX as any, y: d.y, clientX: barCenterX, clientY: valueY });\n        };\n        const onLeave = () => {\n          if (tooltip?.focused?.seriesId === series.id && tooltip.focused.index === di) tooltip.clear();\n        };\n        return (\n          <rect\n            key={di}\n            x={barX}\n            y={y}\n            width={barWidth}\n            height={height || 1} // ensure minimal visibility for zero-height\n            fill={colorMode === 'category' ? (palette === 'region' ? pickRegionColor(String(d.x), di) : pickSeriesColor(di)) : baseSeriesColor}\n            stroke={isFocused ? 'var(--nhs-fdp-color-primary-yellow, #ffeb3b)' : (colorMode === 'category' ? (palette === 'region' ? pickRegionStroke(String(d.x), di) : pickSeriesStroke(di)) : baseSeriesStroke)}\n            strokeWidth={isFocused ? 2 : 1}\n            className=\"fdp-bar\"\n            tabIndex={faded || !focusable ? -1 : 0}\n            role=\"graphics-symbol\"\n            aria-label={`${series.label || series.id} ${rawX instanceof Date ? rawX.toDateString() : rawX} value ${d.y}`}\n            onMouseEnter={onEnter}\n            onFocus={onEnter}\n            onMouseLeave={onLeave}\n            onBlur={onLeave}\n          />\n        );\n      })}\n    </g>\n  );\n};\n\nexport default BarSeriesPrimitive;\n", "import * as React from 'react';\nimport { scaleBand, scaleLinear } from 'd3-scale';\nimport ScaleContext, { type ScaleContextValue } from './ScaleContext';\nimport { useChartContext } from './ChartRoot';\n\nexport interface BandDatum { x: string; y: number; }\nexport interface BandSeries { data: BandDatum[] }\n\nexport interface BandScalesProviderProps {\n  series: BandSeries[];\n  innerWidth?: number;\n  innerHeight?: number;\n  paddingInner?: number; // band scale inner padding\n  paddingOuter?: number; // band scale outer padding\n  children: React.ReactNode;\n  yTickCount?: number;\n}\n\nexport const BandScalesProvider: React.FC<BandScalesProviderProps> = ({\n  series,\n  innerWidth: iw,\n  innerHeight: ih,\n  paddingInner = 0.1,\n  paddingOuter = 0.05,\n  children,\n  yTickCount = 5\n}) => {\n  const chart = useChartContext();\n  const innerWidth = iw ?? chart?.innerWidth ?? 0;\n  const innerHeight = ih ?? chart?.innerHeight ?? 0;\n  const allData = React.useMemo(() => series.flatMap(s => s.data), [series]);\n  const xDomain = React.useMemo(() => {\n    const set = new Set<string>();\n    allData.forEach(d => set.add(d.x));\n    return Array.from(set);\n  }, [allData]);\n  const yMax = React.useMemo(() => Math.max(0, ...allData.map(d => d.y)), [allData]);\n  const xScale = React.useMemo(() => scaleBand<string>().domain(xDomain).range([0, innerWidth]).paddingInner(paddingInner).paddingOuter(paddingOuter), [xDomain, innerWidth, paddingInner, paddingOuter]);\n  const yScale = React.useMemo(() => scaleLinear().domain([0, yMax]).nice().range([innerHeight, 0]), [yMax, innerHeight]);\n  const value: ScaleContextValue = React.useMemo(() => ({\n    xScale,\n    yScale,\n    getXTicks: () => xDomain as any,\n    getYTicks: (c = yTickCount) => yScale.ticks(c)\n  }), [xScale, yScale, xDomain, yTickCount]);\n  return <ScaleContext.Provider value={value}>{children}</ScaleContext.Provider>;\n};\n\nexport default BandScalesProvider;\n"],
  "mappings": "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",
  "names": ["classNames", "React", "x", "x", "key", "ticks", "range", "range", "range", "format", "r", "t1", "x", "y", "y", "y", "color", "rgb", "r", "x", "x", "zero", "i", "x", "number", "x", "x", "range", "r", "i", "y", "number", "x", "x", "x", "x", "x", "x", "locale", "sign", "zero", "format", "formatPrefix", "value", "linear", "date", "range", "date", "date", "date", "date", "date", "date", "date", "date", "ticks", "step", "date", "y", "locale", "formats", "pad", "format", "sign", "locale", "defaultLocale", "number", "ticks", "second", "format", "formatYear", "tickFormat", "date", "y", "constant_default", "x", "x", "y", "r", "x", "x", "y", "x", "y", "constant_default", "path", "constant_default", "path", "x", "point", "t0", "t1", "y", "range", "linear", "x", "y", "React", "React", "jsx", "React", "jsx", "React", "jsx", "jsxs", "ticks", "y", "jsx", "jsxs", "ticks", "React", "path", "hex", "x", "r", "y", "rgb", "_a", "_b", "path", "map", "hex", "copy", "React", "jsx", "React", "jsx", "xScale", "yScale", "d", "jsx", "jsxs", "path", "color", "_a", "React", "jsx", "format", "x", "y", "jsx", "jsxs", "jsx", "jsxs", "pad", "useState", "useCallback", "useRef", "jsx", "jsxs", "useState", "useRef", "useCallback", "classNames", "React", "jsx", "forwardRef", "useCallback", "useState", "React", "id", "style", "title", "ariaLabel", "ariaDescribedBy", "ariaLabelledBy", "tabIndex", "import_classnames", "import_classnames", "import_classnames", "jsx", "size", "classNames", "jsx", "jsxs", "classNames", "jsx", "jsxs", "classNames", "jsx", "jsxs", "point", "r", "React", "jsx", "jsxs", "wasHidden", "item", "label", "msg", "React", "jsx", "jsxs", "React", "jsx", "jsxs", "color", "React", "jsx", "_a", "explicit", "total", "barWidth", "y", "React", "jsx", "linear"]
}
