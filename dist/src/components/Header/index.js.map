{
  "version": 3,
  "sources": ["../../../../node_modules/classnames/index.js", "../../../../src/components/Header/Header.tsx", "../../../../src/components/Header/Header.render.tsx", "../../../../src/components/Account/Account.tsx", "../../../../src/assets/brand/index.ts", "../../../../src/themes/BrandThemeProvider.tsx", "../../../../src/components/HeaderSearch/HeaderSearch.tsx", "../../../../src/components/Header/Header.render.server.tsx", "../../../../src/components/Header/Header.server.tsx"],
  "sourcesContent": ["/*!\n\tCopyright (c) 2018 Jed Watson.\n\tLicensed under the MIT License (MIT), see\n\thttp://jedwatson.github.io/classnames\n*/\n/* global define */\n\n(function () {\n\t'use strict';\n\n\tvar hasOwn = {}.hasOwnProperty;\n\n\tfunction classNames () {\n\t\tvar classes = '';\n\n\t\tfor (var i = 0; i < arguments.length; i++) {\n\t\t\tvar arg = arguments[i];\n\t\t\tif (arg) {\n\t\t\t\tclasses = appendClass(classes, parseValue(arg));\n\t\t\t}\n\t\t}\n\n\t\treturn classes;\n\t}\n\n\tfunction parseValue (arg) {\n\t\tif (typeof arg === 'string' || typeof arg === 'number') {\n\t\t\treturn arg;\n\t\t}\n\n\t\tif (typeof arg !== 'object') {\n\t\t\treturn '';\n\t\t}\n\n\t\tif (Array.isArray(arg)) {\n\t\t\treturn classNames.apply(null, arg);\n\t\t}\n\n\t\tif (arg.toString !== Object.prototype.toString && !arg.toString.toString().includes('[native code]')) {\n\t\t\treturn arg.toString();\n\t\t}\n\n\t\tvar classes = '';\n\n\t\tfor (var key in arg) {\n\t\t\tif (hasOwn.call(arg, key) && arg[key]) {\n\t\t\t\tclasses = appendClass(classes, key);\n\t\t\t}\n\t\t}\n\n\t\treturn classes;\n\t}\n\n\tfunction appendClass (value, newClass) {\n\t\tif (!newClass) {\n\t\t\treturn value;\n\t\t}\n\t\n\t\tif (value) {\n\t\t\treturn value + ' ' + newClass;\n\t\t}\n\t\n\t\treturn value + newClass;\n\t}\n\n\tif (typeof module !== 'undefined' && module.exports) {\n\t\tclassNames.default = classNames;\n\t\tmodule.exports = classNames;\n\t} else if (typeof define === 'function' && typeof define.amd === 'object' && define.amd) {\n\t\t// register as 'classnames', consistent with npm package name\n\t\tdefine('classnames', [], function () {\n\t\t\treturn classNames;\n\t\t});\n\t} else {\n\t\twindow.classNames = classNames;\n\t}\n}());\n", "import React, { useState, useEffect, useRef, useCallback } from \"react\";\nimport { HeaderProps } from \"./Header.types\";\nimport { renderHeaderMarkup } from \"./Header.render\";\nimport { useBrand } from \"../../themes/BrandThemeProvider\";\nimport { HeaderSearch } from \"../HeaderSearch\";\n\n/**\n * SSR-compatible Header Component with Progressive Enhancement\n *\n * This component is designed to work with Next.js SSR by:\n * 1. Rendering a functional header on the server\n * 2. Progressively enhancing with responsive overflow handling on the client\n * 3. Providing fallback navigation that works without JavaScript\n * \n * The component self-initializes its behaviour on mount via headerBehaviour.\n */\nexport const Header: React.FC<HeaderProps> = ({\n\tclassName,\n\tlogo = {},\n\tservice = {},\n\torganisation,\n\tsearch,\n\taccount,\n\tnavigation,\n\tcontainerClasses,\n\tvariant = \"default\",\n\tattributes = {},\n\t...props\n}) => {\n\t// SSR-safe state initialization & client overflow management\n\tconst [menuOpen, setMenuOpen] = useState(false);\n\tconst [showMoreButton, setShowMoreButton] = useState(false);\n\tconst [visibleItems, setVisibleItems] = useState<number>(navigation?.items?.length || 0);\n\tconst [dropdownVisible, setDropdownVisible] = useState(false); // retained for a11y closing timing\n\tconst [isClient, setIsClient] = useState(false); // Track if we're on client side\n\n\t// Refs for measurement\n\tconst navContainerRef = useRef<HTMLDivElement>(null!);\n\tconst navListRef = useRef<HTMLUListElement>(null!);\n\tconst computingRef = useRef(false);\n\n\t// Simple initialization effect - runs once\n\tuseEffect(() => {\n\t\tif (typeof window === \"undefined\") return;\n\n\t\tsetIsClient(true);\n\t\t// initialization effect retained for potential future logic (was isInitialized)\n\t}, []); // Run once on mount\n\n\t// SSR-safe escape key handler\n\tuseEffect(() => {\n\t\t// Only run on client side\n\t\tif (typeof document === \"undefined\") return;\n\n\t\tconst handleEscapeKey = (event: KeyboardEvent) => {\n\t\t\tif (event.key === \"Escape\" && menuOpen) {\n\t\t\t\tsetMenuOpen(false);\n\t\t\t}\n\t\t};\n\n\t\tif (menuOpen) {\n\t\t\tdocument.addEventListener(\"keydown\", handleEscapeKey);\n\t\t\treturn () => document.removeEventListener(\"keydown\", handleEscapeKey);\n\t\t}\n\t}, [menuOpen]);\n\n\t// Prototype element width cache for the More button (computed once per session unless font/layout changes)\n\tconst moreButtonWidthRef = useRef<number | null>(null);\n\n\t// Measure available space & determine how many nav items fit (excluding the potential More button)\n\tconst recomputeLayout = useCallback(() => {\n\t\tif (!isClient) return; // only run on client\n\t\tif (!navigation?.items || navigation.items.length === 0) return;\n\t\tif (computingRef.current) return;\n\t\tconst container = navContainerRef.current;\n\t\tconst list = navListRef.current;\n\t\tif (!container || !list) return;\n\t\tcomputingRef.current = true;\n\t\t// Add measuring class so hidden items participate in layout width without flashing\n\t\tcontainer.classList.add(\"nhsuk-header__navigation-container--measuring\");\n\n\t\tconst containerWidth = container.clientWidth;\n\t\tconst children = Array.from(list.children) as HTMLLIElement[];\n\t\tif (!children.length) {\n\t\t\tcontainer.classList.remove(\"nhsuk-header__navigation-container--measuring\");\n\t\t\tcomputingRef.current = false;\n\t\t\treturn;\n\t\t}\n\n\t\t// Compute dynamic reserve using a hidden prototype button if not already measured (accounts for font changes)\n\t\tif (moreButtonWidthRef.current == null) {\n\t\t\tconst proto = document.createElement(\"button\");\n\t\t\tproto.type = \"button\";\n\t\t\tproto.className = \"nhsuk-header__navigation-button nhsuk-header__navigation-button--prototype\";\n\t\t\tproto.style.position = \"absolute\";\n\t\t\tproto.style.visibility = \"hidden\";\n\t\t\tproto.style.pointerEvents = \"none\";\n\t\t\tproto.innerHTML = '<span>More</span>';\n\t\t\tcontainer.appendChild(proto);\n\t\t\tmoreButtonWidthRef.current = proto.getBoundingClientRect().width || 104; // fallback\n\t\t\tcontainer.removeChild(proto);\n\t\t}\n\t\tconst reserve = moreButtonWidthRef.current + 16; // add a small breathing space gutter\n\n\t\tlet used = 0;\n\t\tlet fit = 0;\n\t\tconst style = window.getComputedStyle(container);\n\t\tconst paddingLeft = parseFloat(style.paddingLeft) || 0;\n\t\tconst paddingRight = parseFloat(style.paddingRight) || 0;\n\t\tlet padding = paddingLeft + paddingRight;\n\t\tfor (const child of children) {\n\t\t\tconst width = child.getBoundingClientRect().width;\n\t\t\tif (used + width + reserve + padding > containerWidth) break;\n\t\t\tused += width;\n\t\t\tfit += 1;\n\t\t}\n\n\t\tconst nextShow = fit < navigation.items.length;\n\t\tconst nextVisible = nextShow ? fit : navigation.items.length;\n\t\t// Only update state if changed to avoid extra observer cycles & flicker\n\t\tsetShowMoreButton(prev => (prev === nextShow ? prev : nextShow));\n\t\tsetVisibleItems(prev => (prev === nextVisible ? prev : nextVisible));\n\t\tcontainer.classList.remove(\"nhsuk-header__navigation-container--measuring\");\n\t\tcomputingRef.current = false;\n\t}, [isClient, navigation?.items]);\n\n\t// Attach ResizeObserver to container for responsive recalculation\n\tuseEffect(() => {\n\t\tif (!isClient) return;\n\t\tconst container = navContainerRef.current;\n\t\tif (!container) return;\n\n\t\tlet frame: number | null = null;\n\t\tconst schedule = () => {\n\t\t\tif (frame != null) return;\n\t\t\tframe = window.requestAnimationFrame(() => {\n\t\t\t\tframe = null;\n\t\t\t\trecomputeLayout();\n\t\t\t});\n\t\t};\n\n\t\t// Initial computation after hydration\n\t\trecomputeLayout();\n\n\t\t// Observe size changes\n\t\tconst ro = new ResizeObserver(() => schedule());\n\t\tro.observe(container);\n\n\t\t// Also observe list in case internal wrapping affects intrinsic width without container size change\n\t\tif (navListRef.current) ro.observe(navListRef.current);\n\n\t\treturn () => {\n\t\t\tif (frame != null) window.cancelAnimationFrame(frame);\n\t\t\tro.disconnect();\n\t\t};\n\t}, [isClient, recomputeLayout]);\n\n\t// Recompute when navigation length changes\n\tuseEffect(() => {\n\t\tif (!isClient) return;\n\t\trecomputeLayout();\n\t}, [navigation?.items?.length, isClient, recomputeLayout]);\n\n\tconst toggleMenu = (event?: React.MouseEvent) => {\n\t\tif (event) {\n\t\t\tevent.preventDefault();\n\t\t\tevent.stopPropagation();\n\t\t}\n\n\t\tconst newMenuState = !menuOpen;\n\t\tsetMenuOpen(newMenuState);\n\n\t\t// Behaviour layer now controls DOM injection of dropdown; we track visible state for accessibility if needed.\n\t\tsetDropdownVisible(newMenuState);\n\t};\n\n\t// NHS Logo SVG - exact copy from NHS.UK\n\t// Markup helpers removed; now handled in shared renderer\n\tconst brandCtx = (() => {\n\t\ttry {\n\t\t\treturn useBrand();\n\t\t} catch {\n\t\t\treturn undefined;\n\t\t}\n\t})();\n\treturn renderHeaderMarkup(\n\t\t{\n\t\t\tclassName,\n\t\t\tlogo,\n\t\t\tservice,\n\t\t\torganisation,\n\t\t\tsearch,\n\t\t\taccount,\n\t\t\tnavigation,\n\t\t\tcontainerClasses,\n\t\t\tvariant,\n\t\t\tattributes,\n\t\t\t...props,\n\t\t},\n\t\t{\n\t\t\tvariant: \"client\",\n\t\t\tisClient,\n\t\t\tmenuOpen,\n\t\t\tshowMoreButton,\n\t\t\tvisibleItems,\n\t\t\tdropdownVisible,\n\t\t\ttoggleMenu,\n\t\t\tnavContainerRef,\n\t\t\tnavListRef,\n\t\t\t// Provide interactive search node for client build only\n\t\t\tsearchNode: search ? <HeaderSearch {...search} /> : null,\n\t\t\tbrand: brandCtx?.brand,\n\t\t}\n\t);\n};\n", "import React from \"react\";\nimport classNames from \"classnames\";\nimport { HeaderProps, NavigationItem } from \"./Header.types\";\nimport { Account } from \"../Account\";\nimport { getBrandLogo, BrandKey, LogoVariant as LogoVariantEnum } from \"../../assets/brand\";\nimport \"./Header.scss\";\nimport \"./Header.ssr.scss\";\n\nexport interface RenderHeaderOptions {\n\tvariant: \"client\" | \"server\";\n\tisClient: boolean;\n\tmenuOpen?: boolean;\n\tshowMoreButton?: boolean;\n\tvisibleItems?: number;\n\tdropdownVisible?: boolean;\n\ttoggleMenu?: (e?: React.MouseEvent) => void;\n\tnavContainerRef?: React.RefObject<HTMLDivElement>;\n\tnavListRef?: React.RefObject<HTMLUListElement>;\n    /**\n     * Optional pre-rendered search node. Used by the client Header to inject the\n     * interactive HeaderSearch without importing it in this SSR-shared module.\n     */\n    searchNode?: React.ReactNode;\n    /** Optional brand provided by the caller (supports local scope). */\n\tbrand?: 'nhs' | 'fdp';\n}\n\nexport function renderHeaderMarkup(\n\tprops: HeaderProps,\n\t{\n\t\tvariant,\n\t\tisClient,\n\t\tmenuOpen = false,\n\t\tshowMoreButton = false,\n\t\tvisibleItems,\n\t\tdropdownVisible,\n\t\ttoggleMenu,\n\t\tnavContainerRef,\n\t\tnavListRef,\n\t\tsearchNode,\n\t\tbrand: providedBrand,\n\t}: RenderHeaderOptions\n) {\n\tconst {\n\t\tclassName,\n\t\tlogo = {},\n\t\tservice = {},\n\t\tserviceName,\n\t\torganisation,\n\t\tsearch,\n\t\taccount,\n\t\tnavigation,\n\t\tcontainerClasses,\n\t\tvariant: headerVariant = \"default\",\n\t\tattributes = {},\n\t\tmaxVisibleItems, // deprecated (ignored)\n\t\t\tresponsiveNavigation = true,\n\t\t\tlogoVariant = LogoVariantEnum.Full,\n\t\t\t// Prevent leaking to DOM when ...rest is spread\n\t\t\tlogoVariant: _logoVariant,\n\t\t...rest\n\t} = props;\n\n\t// Map deprecated serviceName into service.text if provided\n\tconst effectiveService = {\n\t\t...service,\n\t\ttext: service?.text ?? serviceName,\n\t};\n\n\t// Prevent internal-only props leaking to DOM\n\tif (\"maxVisibleItems\" in (rest as any)) {\n\t\tdelete (rest as any).maxVisibleItems;\n\t}\n\n\tconst combineLogoAndServiceNameLinks =\n\t\t(effectiveService.href && !logo.href) ||\n\t\t(effectiveService.href && effectiveService.href === logo.href);\n\tconst logoHref = combineLogoAndServiceNameLinks ? effectiveService.href : logo.href;\n\n\tconst headerClasses = classNames(\n\t\t\"nhsuk-header\",\n\t\t{\n\t\t\t\"nhsuk-header--organisation\":\n\t\t\theaderVariant === \"organisation\" || organisation,\n\t\t\t\"nhsuk-header--white\": headerVariant === \"white\",\n\t\t},\n\t\tclassName\n\t);\n\tconst containerClass = classNames(\n\t\t\"nhsuk-header__container\",\n\t\tcontainerClasses\n\t);\n\tconst navigationClasses = classNames(\n\t\t\"nhsuk-header__navigation\",\n\t\t{\n\t\t\t\"nhsuk-header__navigation--white\": navigation?.white,\n\t\t\t\"nhsuk-header__navigation--justified\": navigation?.justified,\n\t\t},\n\t\tnavigation?.className\n\t);\n\n\t// Infer brand from document attribute (client only). Defaults to 'nhs' when absent/SSR.\n\tconst inferBrand = (): 'nhs' | 'fdp' => {\n\t\tif (typeof document === 'undefined') return 'nhs';\n\t\tconst attr = document.documentElement.getAttribute('data-brand');\n\t\treturn attr === 'fdp' ? 'fdp' : 'nhs';\n\t};\n\tconst brand = providedBrand ?? inferBrand();\n\n\tconst renderNHSLogo = () => (\n\t\t<svg\n\t\t\tclassName=\"nhsuk-header__logo\"\n\t\t\txmlns=\"http://www.w3.org/2000/svg\"\n\t\t\tviewBox=\"0 0 200 80\"\n\t\t\theight=\"40\"\n\t\t\twidth=\"100\"\n\t\t\tfocusable=\"false\"\n\t\t\trole=\"img\"\n\t\t\taria-label={logo.ariaLabel || \"NHS\"}\n\t\t>\n\t\t\t<title>{logo.ariaLabel || \"NHS\"}</title>\n\t\t\t<path\n\t\t\t\tfill=\"#fff\"\n\t\t\t\td=\"M200 0v80H0V0h200Zm-27.5 5.5c-14.5 0-29 5-29 22 0 10.2 7.7 13.5 14.7 16.3l.7.3c5.4 2 10.1 3.9 10.1 8.4 0 6.5-8.5 7.5-14 7.5s-12.5-1.5-16-3.5L135 70c5.5 2 13.5 3.5 20 3.5 15.5 0 32-4.5 32-22.5 0-19.5-25.5-16.5-25.5-25.5 0-5.5 5.5-6.5 12.5-6.5a35 35 0 0 1 14.5 3l4-13.5c-4.5-2-12-3-20-3Zm-131 2h-22l-14 65H22l9-45h.5l13.5 45h21.5l14-65H64l-9 45h-.5l-13-45Zm63 0h-18l-13 65h17l6-28H117l-5.5 28H129l13.5-65H125L119.5 32h-20l5-24.5Z\"\n\t\t\t/>\n\t\t</svg>\n\t);\n\n\tconst renderServiceLogo = () => {\n\t\t// Prefer explicit logo.src when provided\n\t\tif (logo.src) {\n\t\t\treturn (\n\t\t\t\t<img\n\t\t\t\t\tclassName=\"nhsuk-header__organisation-logo\"\n\t\t\t\t\tsrc={logo.src}\n\t\t\t\t\twidth=\"280\"\n\t\t\t\t\talt={logo.ariaLabel || (brand === 'fdp' ? 'FDP' : 'NHS')}\n\t\t\t\t/>\n\t\t\t);\n\t\t}\n\n\t\t// Brand-aware default: show FDP logo in FDP brand scope; otherwise NHS logo SVG\n\t\t\t\tif (brand === 'fdp') {\n\t\t\t\t\tconst fdpLogo = getBrandLogo(BrandKey.FDP, logoVariant);\n\t\t\tif (fdpLogo?.src) {\n\t\t\t\treturn (\n\t\t\t\t\t<img\n\t\t\t\t\t\tclassName=\"nhsuk-header__organisation-logo\"\n\t\t\t\t\t\tsrc={fdpLogo.src}\n\t\t\t\t\t\tdata-logo-variant={logoVariant}\n\t\t\t\t\t\twidth=\"280\"\n\t\t\t\t\t\talt={fdpLogo.ariaLabel || 'FDP'}\n\t\t\t\t\t/>\n\t\t\t\t);\n\t\t\t}\n\t\t}\n\n\t\treturn renderNHSLogo();\n\t};\n\tconst renderOrganisationName = () =>\n\t\torganisation ? (\n\t\t\t<>\n\t\t\t\t<span className=\"nhsuk-header__organisation-name\">\n\t\t\t\t\t{organisation.name}\n\t\t\t\t\t{organisation.split && (\n\t\t\t\t\t\t<span className=\"nhsuk-header__organisation-name-split\">\n\t\t\t\t\t\t\t{\" \"}\n\t\t\t\t\t\t\t{organisation.split}\n\t\t\t\t\t\t</span>\n\t\t\t\t\t)}\n\t\t\t\t</span>\n\t\t\t\t{organisation.descriptor && (\n\t\t\t\t\t<span className=\"nhsuk-header__organisation-name-descriptor\">\n\t\t\t\t\t\t{organisation.descriptor}\n\t\t\t\t\t</span>\n\t\t\t\t)}\n\t\t\t</>\n\t\t) : null;\n\tconst renderServiceName = (text?: string, href?: string) =>\n\t\ttext ? (\n\t\t\thref ? (\n\t\t\t\t<a className=\"nhsuk-header__service-name\" href={href}>\n\t\t\t\t\t{text}\n\t\t\t\t</a>\n\t\t\t) : (\n\t\t\t\t<span className=\"nhsuk-header__service-name\">{text}</span>\n\t\t\t)\n\t\t) : null;\n\tconst renderNavigationLinkContent = (item: NavigationItem) =>\n\t\titem.active || item.current ? (\n\t\t\t<strong className=\"nhsuk-header__navigation-item-current-fallback\">\n\t\t\t\t{item.html ? (\n\t\t\t\t\t<span dangerouslySetInnerHTML={{ __html: item.html }} />\n\t\t\t\t) : (\n\t\t\t\t\titem.text\n\t\t\t\t)}\n\t\t\t</strong>\n\t\t) : item.html ? (\n\t\t\t<span dangerouslySetInnerHTML={{ __html: item.html }} />\n\t\t) : (\n\t\t\titem.text\n\t\t);\n\tconst renderChevronIcon = () => (\n\t\t<svg\n\t\t\tclassName=\"nhsuk-icon nhsuk-icon__chevron-down\"\n\t\t\txmlns=\"http://www.w3.org/2000/svg\"\n\t\t\tviewBox=\"0 0 24 24\"\n\t\t\taria-hidden=\"true\"\n\t\t\tfocusable=\"false\"\n\t\t>\n\t\t\t<path d=\"M15.5 12a1 1 0 0 1-.29.71l-5 5a1 1 0 0 1-1.42-1.42l4.3-4.29-4.3-4.29a1 1 0 0 1 1.42-1.42l5 5a1 1 0 0 1 .29.71z\" />\n\t\t</svg>\n\t);\n\n\t// Server-only minimal search form markup to avoid importing HeaderSearch (which uses hooks)\n\tconst renderServerSearch = () => {\n\t\tif (!search) return null;\n\t\tconst {\n\t\t\taction = \"/search\",\n\t\t\tmethod = \"get\",\n\t\t\tname = \"q\",\n\t\t\tplaceholder = \"Search\",\n\t\t\tvisuallyHiddenLabel = \"Search the NHS website\",\n\t\t\tvisuallyHiddenButton = \"Search\",\n\t\t\tformAttributes = {},\n\t\t\tinputAttributes = {},\n\t\t\tbuttonAttributes = {},\n\t\t\tclassName: searchClassName,\n\t\t} = search as any;\n\n\t\treturn (\n\t\t\t<div className={classNames('nhsuk-header__search', searchClassName)}>\n\t\t\t\t<form\n\t\t\t\t\tclassName=\"nhsuk-header__search-form\"\n\t\t\t\t\tid=\"search\"\n\t\t\t\t\taction={action}\n\t\t\t\t\tmethod={method}\n\t\t\t\t\trole=\"search\"\n\t\t\t\t\t{...formAttributes}\n\t\t\t\t>\n\t\t\t\t\t<label className=\"nhsuk-u-visually-hidden\" htmlFor=\"search-field\">\n\t\t\t\t\t\t{visuallyHiddenLabel}\n\t\t\t\t\t</label>\n\t\t\t\t\t<div className=\"nhsuk-header__search-input-wrapper\">\n\t\t\t\t\t\t<input\n\t\t\t\t\t\t\tclassName=\"nhsuk-header__search-input nhsuk-input\"\n\t\t\t\t\t\t\tid=\"search-field\"\n\t\t\t\t\t\t\tname={name}\n\t\t\t\t\t\t\ttype=\"search\"\n\t\t\t\t\t\t\tplaceholder={placeholder}\n\t\t\t\t\t\t\tautoComplete=\"off\"\n\t\t\t\t\t\t\t{...inputAttributes}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</div>\n\t\t\t\t\t<button className=\"nhsuk-header__search-submit\" type=\"submit\" {...buttonAttributes}>\n\t\t\t\t\t\t<span className=\"nhsuk-u-visually-hidden\">{visuallyHiddenButton}</span>\n\t\t\t\t\t</button>\n\t\t\t\t</form>\n\t\t\t</div>\n\t\t);\n\t};\n\n\t// Server variant fallback overflow handling (boolean-based)\n\t// If responsiveNavigation is false, we render everything in dropdown (no primary items)\n\t// This avoids brittle numeric thresholds server-side.\n\tconst serverHasOverflow = variant === \"server\" && navigation?.items && !responsiveNavigation;\n\tconst serverPrimaryItems = serverHasOverflow ? [] : navigation?.items;\n\tconst serverOverflowItems = serverHasOverflow ? navigation!.items! : [];\n\n\treturn (\n\t\t<header\n\t\t\tclassName={headerClasses}\n\t\t\trole=\"banner\"\n\t\t\tdata-module=\"nhsuk-header\"\n\t\t\t{...attributes}\n\t\t\t{...rest}\n\t\t>\n\t\t\t<div className={containerClass}>\n\t\t\t\t<div className=\"nhsuk-header__service\">\n\t\t\t\t\t{logoHref ? (\n\t\t\t\t\t\t<a className=\"nhsuk-header__service-logo\" href={logoHref}>\n\t\t\t\t\t\t\t{renderServiceLogo()}\n\t\t\t\t\t\t\t{renderOrganisationName()}\n\t\t\t\t\t\t\t{combineLogoAndServiceNameLinks &&\n\t\t\t\t\t\t\t\trenderServiceName(effectiveService.text)}\n\t\t\t\t\t\t</a>\n\t\t\t\t\t) : (\n\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t{renderServiceLogo()}\n\t\t\t\t\t\t\t{renderOrganisationName()}\n\t\t\t\t\t\t\t{combineLogoAndServiceNameLinks &&\n\t\t\t\t\t\t\t\trenderServiceName(effectiveService.text)}\n\t\t\t\t\t\t</>\n\t\t\t\t\t)}\n\t\t\t\t\t{effectiveService.text &&\n\t\t\t\t\t\t!combineLogoAndServiceNameLinks &&\n\t\t\t\t\t\trenderServiceName(effectiveService.text, effectiveService.href)}\n\t\t\t\t</div>\n\t\t\t\t{/* Inject client search node when provided (client build only); otherwise render minimal server form */}\n\t\t\t\t{variant === 'client' ? (searchNode ?? null) : renderServerSearch()}\n\t\t\t\t<Account\n\t\t\t\t\t{...account}\n\t\t\t\t\tvariant={headerVariant === \"white\" ? \"white\" : \"default\"}\n\t\t\t\t/>\n\t\t\t</div>\n\t\t\t{navigation && navigation.items && navigation.items.length > 0 && (\n\t\t\t\t<nav\n\t\t\t\t\tclassName={navigationClasses}\n\t\t\t\t\taria-label={navigation.ariaLabel || \"Menu\"}\n\t\t\t\t>\n\t\t\t\t\t<div\n\t\t\t\t\t\tclassName={classNames(\n\t\t\t\t\t\t\t\"nhsuk-header__navigation-container\",\n\t\t\t\t\t\t\t\"nhsuk-width-container\",\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\"nhsuk-header__navigation-container--initializing\":\n\t\t\t\t\t\t\t\t\tisClient && variant === \"client\",\n\t\t\t\t\t\t\t\t\"nhsuk-header__navigation-container--ssr\": !isClient,\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tcontainerClasses\n\t\t\t\t\t\t)}\n\t\t\t\t\t\tref={variant === \"client\" ? navContainerRef : undefined}\n\t\t\t\t\t>\n\t\t\t\t\t\t<ul\n\t\t\t\t\t\t\tclassName=\"nhsuk-header__navigation-list\"\n\t\t\t\t\t\t\tref={variant === \"client\" ? navListRef : undefined}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{(variant === \"server\" ? serverPrimaryItems || [] : navigation?.items || []).map((item, index) => (\n\t\t\t\t\t\t\t\t<li\n\t\t\t\t\t\t\t\t\tkey={index}\n\t\t\t\t\t\t\t\t\tclassName={classNames(\n\t\t\t\t\t\t\t\t\t\t\"nhsuk-header__navigation-item\",\n\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\"nhsuk-header__navigation-item--current\":\n\t\t\t\t\t\t\t\t\t\t\t\titem.active || item.current,\n\t\t\t\t\t\t\t\t\t\t\t\"nhsuk-header__navigation-item--hidden\":\n\t\t\t\t\t\t\t\t\t\t\t\tvariant === \"client\" &&\n\t\t\t\t\t\t\t\t\t\t\t\tshowMoreButton &&\n\t\t\t\t\t\t\t\t\t\t\t\tvisibleItems !== undefined &&\n\t\t\t\t\t\t\t\t\t\t\t\tindex >= (visibleItems ?? 0),\n\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\titem.className\n\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t{...(item.attributes || {})}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<a\n\t\t\t\t\t\t\t\t\t\tclassName=\"nhsuk-header__navigation-link\"\n\t\t\t\t\t\t\t\t\t\thref={item.href}\n\t\t\t\t\t\t\t\t\t\t{...(item.active || item.current\n\t\t\t\t\t\t\t\t\t\t\t? { \"aria-current\": item.current ? \"page\" : \"true\" }\n\t\t\t\t\t\t\t\t\t\t\t: {})}\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t{renderNavigationLinkContent(item)}\n\t\t\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t{variant === \"client\" &&\n\t\t\t\t\t\t\t\tshowMoreButton &&\n\t\t\t\t\t\t\t\tvisibleItems !== undefined && (\n\t\t\t\t\t\t\t\t\t<li className=\"nhsuk-header__navigation-item nhsuk-header__navigation-item--more\">\n\t\t\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\t\t\tclassName=\"nhsuk-header__navigation-button\"\n\t\t\t\t\t\t\t\t\t\t\tid=\"toggle-more-menu\"\n\t\t\t\t\t\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\t\t\t\t\t\taria-haspopup=\"true\"\n\t\t\t\t\t\t\t\t\t\t\taria-expanded={menuOpen ? \"true\" : \"false\"}\n\t\t\t\t\t\t\t\t\t\t\taria-controls=\"nhsuk-header-more-menu\"\n\t\t\t\t\t\t\t\t\t\t\tonClick={toggleMenu}\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t<span>More</span>\n\t\t\t\t\t\t\t\t\t\t\t{renderChevronIcon()}\n\t\t\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</ul>\n\t\t\t\t\t</div>\n\t\t\t\t</nav>\n\t\t\t)}\n\t\t\t{variant === \"client\" &&\n\t\t\t\tisClient &&\n\t\t\t\tnavigation &&\n\t\t\t\tnavigation.items &&\n\t\t\t\tnavigation.items.length > 0 &&\n\t\t\t\tmenuOpen &&\n\t\t\t\tdropdownVisible && (\n\t\t\t\t\t<div\n\t\t\t\t\t\tclassName=\"nhsuk-header__dropdown-menu\"\n\t\t\t\t\t\thidden={!dropdownVisible}\n\t\t\t\t\t\tid=\"nhsuk-header-more-menu\"\n\t\t\t\t\t>\n\t\t\t\t\t\t<ul className=\"nhsuk-header__dropdown-list\">\n\t\t\t\t\t\t\t{navigation.items.slice(visibleItems ?? 0).map((item, index) => (\n\t\t\t\t\t\t\t\t<li\n\t\t\t\t\t\t\t\t\tkey={`overflow-${(visibleItems ?? 0) + index}`}\n\t\t\t\t\t\t\t\t\tclassName={classNames(\"nhsuk-header__dropdown-item\", {\n\t\t\t\t\t\t\t\t\t\t\"nhsuk-header__dropdown-item--current\":\n\t\t\t\t\t\t\t\t\t\t\titem.active || item.current,\n\t\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<a\n\t\t\t\t\t\t\t\t\t\tclassName=\"nhsuk-header__dropdown-link\"\n\t\t\t\t\t\t\t\t\t\thref={item.href}\n\t\t\t\t\t\t\t\t\t\t{...(item.active || item.current\n\t\t\t\t\t\t\t\t\t\t\t? { \"aria-current\": item.current ? \"page\" : \"true\" }\n\t\t\t\t\t\t\t\t\t\t\t: {})}\n\t\t\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\t\t\ttoggleMenu?.();\n\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t{renderNavigationLinkContent(item)}\n\t\t\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t</ul>\n\t\t\t\t\t</div>\n\t\t\t\t)}\n\t\t\t{variant === \"server\" &&\n\t\t\t\tserverHasOverflow &&\n\t\t\t\tserverOverflowItems.length > 0 && (\n\t\t\t\t\t<div className=\"nhsuk-header__dropdown-menu\" data-ssr-overflow=\"true\">\n\t\t\t\t\t\t<ul className=\"nhsuk-header__dropdown-list\">\n\t\t\t\t\t\t\t{serverOverflowItems.map((item, index) => (\n\t\t\t\t\t\t\t\t<li\n\t\t\t\t\t\t\t\t\tkey={`overflow-server-${index}`}\n\t\t\t\t\t\t\t\t\tclassName={classNames(\"nhsuk-header__dropdown-item\", {\n\t\t\t\t\t\t\t\t\t\t\"nhsuk-header__dropdown-item--current\":\n\t\t\t\t\t\t\t\t\t\t\titem.active || item.current,\n\t\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<a\n\t\t\t\t\t\t\t\t\t\tclassName=\"nhsuk-header__dropdown-link\"\n\t\t\t\t\t\t\t\t\t\thref={item.href}\n\t\t\t\t\t\t\t\t\t\t{...(item.active || item.current\n\t\t\t\t\t\t\t\t\t\t\t? { \"aria-current\": item.current ? \"page\" : \"true\" }\n\t\t\t\t\t\t\t\t\t\t\t: {})}\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t{renderNavigationLinkContent(item)}\n\t\t\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t</ul>\n\t\t\t\t\t</div>\n\t\t\t\t)}\n\t\t</header>\n\t);\n}\n", "import React from \"react\";\nimport classNames from \"classnames\";\nimport \"./Account.scss\";\nimport { AccountProps, AccountItem } from \"./Account.types\";\n\n/**\n * Account Component for NHS Design System\n *\n * A standalone component that handles user account navigation,\n * extracted from the Header component for better modularity.\n */\nexport const Account: React.FC<AccountProps> = ({\n\tariaLabel = \"Account\",\n\titems = [],\n\tclassName,\n\tvariant = \"default\",\n}) => {\n\t// Don't render if no items provided\n\tif (!items || items.length === 0) {\n\t\treturn null;\n\t}\n\n\t// Render account item - following NHS.UK structure exactly\n\tconst renderAccountItem = (item: AccountItem) => {\n\t\tconst iconContent = item.icon ? (\n\t\t\t<svg\n\t\t\t\tclassName=\"nhsuk-icon nhsuk-icon__user\"\n\t\t\t\txmlns=\"http://www.w3.org/2000/svg\"\n\t\t\t\tviewBox=\"0 0 24 24\"\n\t\t\t\taria-hidden=\"true\"\n\t\t\t\tfocusable=\"false\"\n\t\t\t\trole=\"img\"\n\t\t\t\taria-label={item.icon === true ? \"User\" : undefined}\n\t\t\t>\n\t\t\t\t<path d=\"M12 1a11 11 0 1 1 0 22 11 11 0 0 1 0-22Zm0 2a9 9 0 0 0-5 16.5V18a4 4 0 0 1 4-4h2a4 4 0 0 1 4 4v1.5A9 9 0 0 0 12 3Zm0 3a3.5 3.5 0 1 1-3.5 3.5A3.4 3.4 0 0 1 12 6Z\" />\n\t\t\t</svg>\n\t\t) : null;\n\n\t\tconst textContent = item.html ? (\n\t\t\t<span dangerouslySetInnerHTML={{ __html: item.html }} />\n\t\t) : (\n\t\t\titem.text\n\t\t);\n\n\t\tconst content = (\n\t\t\t<>\n\t\t\t\t{iconContent}\n\t\t\t\t{textContent}\n\t\t\t</>\n\t\t);\n\n\t\tif (item.href) {\n\t\t\treturn (\n\t\t\t\t<a\n\t\t\t\t\tclassName=\"nhsuk-account__link nhsuk-header__account-link\"\n\t\t\t\t\thref={item.href}\n\t\t\t\t>\n\t\t\t\t\t{content}\n\t\t\t\t</a>\n\t\t\t);\n\t\t}\n\n\t\tif (item.action) {\n\t\t\treturn (\n\t\t\t\t<form\n\t\t\t\t\tclassName=\"nhsuk-account__form\"\n\t\t\t\t\taction={item.action}\n\t\t\t\t\tmethod={item.method || \"post\"}\n\t\t\t\t>\n\t\t\t\t\t<button className=\"nhsuk-account__button\" type=\"submit\" role=\"button\">\n\t\t\t\t\t\t{content}\n\t\t\t\t\t</button>\n\t\t\t\t</form>\n\t\t\t);\n\t\t}\n\n\t\t// Fallback for items without href or action\n\t\treturn <span>{content}</span>;\n\t};\n\n\treturn (\n\t\t<nav\n\t\t\tclassName={classNames(\n\t\t\t\t\"nhsuk-account\",\n\t\t\t\t{\n\t\t\t\t\t\"nhsuk-account--white\": variant === \"white\",\n\t\t\t\t},\n\t\t\t\tclassName\n\t\t\t)}\n\t\t\taria-label={ariaLabel}\n\t\t>\n\t\t\t<ul className=\"nhsuk-account__list\">\n\t\t\t\t{items.map(\n\t\t\t\t\t(item, index) =>\n\t\t\t\t\t\titem && (\n\t\t\t\t\t\t\t<li\n\t\t\t\t\t\t\t\tkey={index}\n\t\t\t\t\t\t\t\tclassName={classNames(\n\t\t\t\t\t\t\t\t\t\"nhsuk-account__item nhsuk-header__account-item\",\n\t\t\t\t\t\t\t\t\titem.className\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{renderAccountItem(item)}\n\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t)\n\t\t\t\t)}\n\t\t\t</ul>\n\t\t</nav>\n\t);\n};\n\nexport default Account;\n", "export enum BrandKey {\n\tNHS = \"nhs\",\n\tFDP = \"fdp\",\n}\n\nexport enum LogoVariant {\n\tFull = \"full\",\n\tGraphic = \"graphic\",\n\tInverse = \"inverse\",\n\tTwoLine = \"twoLine\",\n\tTwoLineInverse = \"twoLineInverse\",\n\tCompact = \"compact\",\n\tCompactInverted = \"compactInverted\",\n}\n\nexport interface BrandLogo {\n\tbrand: BrandKey;\n\tvariant: LogoVariant;\n\tsrc: string; // Vite-resolved URL to the asset\n\tariaLabel?: string;\n}\n\n// Placeholder mapping; populate with actual assets when provided.\n// Import assets (Vite will resolve to URLs)\nimport FDP_FULL_LOGO from \"./fdp/fdp-logo-full.svg\";\nimport FDP_TWO_LINE from \"./fdp/fdp-logo-two-line.svg\";\nimport FDP_TWO_INVERSE from \"./fdp/fdp-logo-two-line-inverse.svg\";\nimport FDP_INVERSE from \"./fdp/fdp-logo-inverse.svg\";\nimport FDP_GRAPHIC from \"./fdp/fdp-graphic-device.svg\";\nimport FDP_COMPACT from \"./fdp/fdp-logo-compact.svg\";\nimport FDP_INVERTED_COMPACT from \"./fdp/fdp-logo-compact-inverted.svg\";\n\nexport const brandLogos: Record<\n\tBrandKey,\n\tPartial<Record<LogoVariant, BrandLogo>>\n> = {\n\t[BrandKey.NHS]: {},\n\t[BrandKey.FDP]: {\n\t\t[LogoVariant.Full]: {\n\t\t\tbrand: BrandKey.FDP,\n\t\t\tvariant: LogoVariant.Full,\n\t\t\tsrc: FDP_FULL_LOGO as unknown as string,\n\t\t\tariaLabel: \"FDP\",\n\t\t},\n\t\t[LogoVariant.Graphic]: {\n\t\t\tbrand: BrandKey.FDP,\n\t\t\tvariant: LogoVariant.Graphic,\n\t\t\tsrc: FDP_GRAPHIC as unknown as string,\n\t\t\tariaLabel: \"FDP\",\n\t\t},\n\t\t[LogoVariant.Inverse]: {\n\t\t\tbrand: BrandKey.FDP,\n\t\t\tvariant: LogoVariant.Inverse,\n\t\t\tsrc: FDP_INVERSE as unknown as string,\n\t\t\tariaLabel: \"FDP\",\n\t\t},\n\t\t[LogoVariant.TwoLine]: {\n\t\t\tbrand: BrandKey.FDP,\n\t\t\tvariant: LogoVariant.TwoLine,\n\t\t\tsrc: FDP_TWO_LINE as unknown as string,\n\t\t\tariaLabel: \"FDP\",\n\t\t},\n\t\t[LogoVariant.TwoLineInverse]: {\n\t\t\tbrand: BrandKey.FDP,\n\t\t\tvariant: LogoVariant.TwoLineInverse,\n\t\t\tsrc: FDP_TWO_INVERSE as unknown as string,\n\t\t\tariaLabel: \"FDP\",\n\t\t},\n\t\t[LogoVariant.Compact]: {\n\t\t\tbrand: BrandKey.FDP,\n\t\t\tvariant: LogoVariant.Compact,\n\t\t\tsrc: FDP_COMPACT as unknown as string,\n\t\t\tariaLabel: \"FDP\",\n\t\t},\n\t\t[LogoVariant.CompactInverted]: {\n\t\t\tbrand: BrandKey.FDP,\n\t\t\tvariant: LogoVariant.CompactInverted,\n\t\t\tsrc: FDP_INVERTED_COMPACT as unknown as string,\n\t\t\tariaLabel: \"FDP\",\n\t\t},\n\t},\n};\n\nexport function getBrandLogo(\n\tbrand: BrandKey,\n\tvariant: LogoVariant = LogoVariant.Full\n): BrandLogo | undefined {\n\treturn brandLogos[brand]?.[variant];\n}\n", "import React, { createContext, useContext, useEffect, useMemo, useState } from 'react'\n\nexport type Brand = 'nhs' | 'fdp'\n\ninterface BrandContextValue {\n  brand: Brand\n  setBrand: (b: Brand) => void\n}\n\nconst BrandContext = createContext<BrandContextValue | undefined>(undefined)\n\nexport interface BrandThemeProviderProps {\n  brand?: Brand\n  scope?: 'document' | 'local'\n  children: React.ReactNode\n}\n\n/**\n * BrandThemeProvider sets `data-brand` either on documentElement (default)\n * or on a local wrapper to enable subtree branding. NHS remains default.\n */\nexport function BrandThemeProvider({ brand = 'nhs', scope = 'document', children }: BrandThemeProviderProps) {\n  const [current, setCurrent] = useState<Brand>(brand)\n\n  // Keep internal state in sync when the `brand` prop changes (controlled updates)\n  useEffect(() => {\n    setCurrent(brand)\n  }, [brand])\n\n  // Apply to document on mount and when brand changes\n  useEffect(() => {\n    if (scope === 'document') {\n      const el = document.documentElement\n      el.setAttribute('data-brand', current)\n      return () => {\n        // Do not remove attribute on unmount if other code might rely on it.\n        // Instead, leave last-set value; callers can override.\n      }\n    }\n  }, [current, scope])\n\n  const value = useMemo(() => ({ brand: current, setBrand: setCurrent }), [current])\n\n  if (scope === 'local') {\n    return (\n      <BrandContext.Provider value={value}>\n        <div data-brand={current}>{children}</div>\n      </BrandContext.Provider>\n    )\n  }\n\n  return <BrandContext.Provider value={value}>{children}</BrandContext.Provider>\n}\n\nexport function useBrand() {\n  const ctx = useContext(BrandContext)\n  if (!ctx) throw new Error('useBrand must be used within BrandThemeProvider')\n  return ctx\n}\n", "import React, { useState, useCallback, useRef, useEffect } from \"react\";\nimport classNames from \"classnames\";\nimport { HeaderSearchProps, SearchQuery } from \"./HeaderSearch.types\";\nimport \"./HeaderSearch.scss\";\n\n/**\n * HeaderSearch Component - Flexible Search Implementation\n *\n * Supports three modes:\n * 1. 'form' - Traditional form submission (SSR-friendly, default)\n * 2. 'controlled' - Full React controlled component with callbacks\n * 3. 'hybrid' - Form submission with optional client-side enhancement\n *\n * Examples:\n *\n * // SSR/Traditional form (default)\n * <HeaderSearch action=\"/search\" />\n *\n * // Controlled React component\n * <HeaderSearch\n *   mode=\"controlled\"\n *   value={searchQuery}\n *   callbacks={{ onChange: setSearchQuery, onSearch: handleSearch }}\n * />\n *\n * // Progressive enhancement\n * <HeaderSearch\n *   mode=\"hybrid\"\n *   action=\"/search\"\n *   callbacks={{ onSearch: handleClientSearch }}\n * />\n */\nexport const HeaderSearch: React.FC<HeaderSearchProps> = ({\n\tmode = \"form\",\n\taction = \"/search\",\n\tmethod = \"get\",\n\tname = \"q\",\n\tvalue,\n\tplaceholder = \"Search\",\n\tvisuallyHiddenLabel = \"Search the NHS website\",\n\tvisuallyHiddenButton = \"Search\",\n\tclassName,\n\tdisabled = false,\n\tcallbacks = {},\n\tisLoading = false,\n\tshowResults = false,\n\tresults = [],\n\tformAttributes = {},\n\tinputAttributes = {},\n\tbuttonAttributes = {},\n\tpreventDefaultSubmit = false,\n\tdebounceMs = 300,\n\tminQueryLength = 1,\n}) => {\n\t// Internal state for uncontrolled mode\n\tconst [internalValue, setInternalValue] = useState(\"\");\n\tconst [isFocused, setIsFocused] = useState(false);\n\n\t// Refs for debouncing and form handling\n\tconst debounceRef = useRef<NodeJS.Timeout | undefined>(undefined);\n\tconst formRef = useRef<HTMLFormElement>(null);\n\tconst inputRef = useRef<HTMLInputElement>(null);\n\n\t// Determine current value based on mode\n\tconst isControlled = mode === \"controlled\" && value !== undefined;\n\tconst currentValue = isControlled ? value : internalValue;\n\n\t// Debounced change handler\n\tconst debouncedOnChange = useCallback(\n\t\t(query: string) => {\n\t\t\tif (debounceRef.current) {\n\t\t\t\tclearTimeout(debounceRef.current);\n\t\t\t}\n\n\t\t\tdebounceRef.current = setTimeout(() => {\n\t\t\t\tif (callbacks.onChange && query.length >= minQueryLength) {\n\t\t\t\t\tcallbacks.onChange(query);\n\t\t\t\t}\n\t\t\t}, debounceMs);\n\t\t},\n\t\t[callbacks.onChange, debounceMs, minQueryLength]\n\t);\n\n\t// Input change handler\n\tconst handleInputChange = useCallback(\n\t\t(e: React.ChangeEvent<HTMLInputElement>) => {\n\t\t\tconst newValue = e.target.value;\n\n\t\t\t// Update internal state if not controlled\n\t\t\tif (!isControlled) {\n\t\t\t\tsetInternalValue(newValue);\n\t\t\t}\n\n\t\t\t// Call debounced onChange for controlled/hybrid modes\n\t\t\tif (mode !== \"form\") {\n\t\t\t\tdebouncedOnChange(newValue);\n\t\t\t}\n\t\t},\n\t\t[isControlled, mode, debouncedOnChange]\n\t);\n\n\t// Form submission handler\n\tconst handleFormSubmit = useCallback(\n\t\t(e: React.FormEvent<HTMLFormElement>) => {\n\t\t\tconst query = currentValue.trim();\n\n\t\t\t// Create search data\n\t\t\tconst searchData: SearchQuery = {\n\t\t\t\tquery,\n\t\t\t\ttimestamp: Date.now(),\n\t\t\t\tformData: new FormData(e.currentTarget),\n\t\t\t};\n\n\t\t\t// Handle different modes\n\t\t\tif (\n\t\t\t\tmode === \"controlled\" ||\n\t\t\t\t(mode === \"hybrid\" && preventDefaultSubmit)\n\t\t\t) {\n\t\t\t\te.preventDefault();\n\n\t\t\t\tif (callbacks.onSearch && query.length >= minQueryLength) {\n\t\t\t\t\tcallbacks.onSearch(searchData);\n\t\t\t\t}\n\t\t\t} else if (mode === \"hybrid\" && callbacks.onSearch) {\n\t\t\t\t// Let form submit normally but also trigger callback\n\t\t\t\tif (query.length >= minQueryLength) {\n\t\t\t\t\tcallbacks.onSearch(searchData);\n\t\t\t\t}\n\t\t\t}\n\t\t\t// For 'form' mode, let the browser handle submission naturally\n\t\t},\n\t\t[\n\t\t\tmode,\n\t\t\tcurrentValue,\n\t\t\tcallbacks.onSearch,\n\t\t\tpreventDefaultSubmit,\n\t\t\tminQueryLength,\n\t\t]\n\t);\n\n\t// Focus handlers\n\tconst handleFocus = useCallback(() => {\n\t\tsetIsFocused(true);\n\t\tcallbacks.onFocus?.();\n\t}, [callbacks.onFocus]);\n\n\tconst handleBlur = useCallback(() => {\n\t\tsetIsFocused(false);\n\t\tcallbacks.onBlur?.();\n\t}, [callbacks.onBlur]);\n\n\t// Clear search\n\tconst handleClear = useCallback(() => {\n\t\tif (!isControlled) {\n\t\t\tsetInternalValue(\"\");\n\t\t}\n\t\tcallbacks.onClear?.();\n\t\tinputRef.current?.focus();\n\t}, [isControlled, callbacks.onClear]);\n\n\t// Cleanup debounce on unmount\n\tuseEffect(() => {\n\t\treturn () => {\n\t\t\tif (debounceRef.current) {\n\t\t\t\tclearTimeout(debounceRef.current);\n\t\t\t}\n\t\t};\n\t}, []);\n\n\t// Search icon SVG - exact copy from NHS.UK\n\tconst renderSearchIcon = () => (\n\t\t<svg\n\t\t\tclassName={classNames(\"nhsuk-icon nhsuk-icon__search\", {\n\t\t\t\t\"nhsuk-icon__search--loading\": isLoading,\n\t\t\t})}\n\t\t\txmlns=\"http://www.w3.org/2000/svg\"\n\t\t\tviewBox=\"0 0 24 24\"\n\t\t\taria-hidden=\"true\"\n\t\t\tfocusable=\"false\"\n\t\t>\n\t\t\t<path d=\"M19.71 18.29l-4.11-4.1a7 7 0 1 0-1.41 1.41l4.1 4.11a1 1 0 0 0 1.42 0 1 1 0 0 0 0-1.42zM5 10a5 5 0 1 1 5 5 5 5 0 0 1-5-5z\" />\n\t\t</svg>\n\t);\n\n\t// Loading spinner for async operations\n\tconst renderLoadingSpinner = () => (\n\t\t<svg\n\t\t\tclassName=\"nhsuk-icon nhsuk-icon__spinner\"\n\t\t\txmlns=\"http://www.w3.org/2000/svg\"\n\t\t\tviewBox=\"0 0 24 24\"\n\t\t\taria-hidden=\"true\"\n\t\t\tfocusable=\"false\"\n\t\t>\n\t\t\t<circle\n\t\t\t\tcx=\"12\"\n\t\t\t\tcy=\"12\"\n\t\t\t\tr=\"10\"\n\t\t\t\tstroke=\"currentColor\"\n\t\t\t\tstrokeWidth=\"2\"\n\t\t\t\tfill=\"none\"\n\t\t\t\tstrokeLinecap=\"round\"\n\t\t\t\tstrokeDasharray=\"31.416\"\n\t\t\t\tstrokeDashoffset=\"31.416\"\n\t\t\t>\n\t\t\t\t<animate\n\t\t\t\t\tattributeName=\"stroke-dasharray\"\n\t\t\t\t\tdur=\"2s\"\n\t\t\t\t\tvalues=\"0 31.416;15.708 15.708;0 31.416\"\n\t\t\t\t\trepeatCount=\"indefinite\"\n\t\t\t\t/>\n\t\t\t\t<animate\n\t\t\t\t\tattributeName=\"stroke-dashoffset\"\n\t\t\t\t\tdur=\"2s\"\n\t\t\t\t\tvalues=\"0;-15.708;-31.416\"\n\t\t\t\t\trepeatCount=\"indefinite\"\n\t\t\t\t/>\n\t\t\t</circle>\n\t\t</svg>\n\t);\n\n\t// Clear button\n\tconst renderClearButton = () => {\n\t\tif (!currentValue || mode === \"form\") return null;\n\n\t\treturn (\n\t\t\t<button\n\t\t\t\ttype=\"button\"\n\t\t\t\tclassName=\"nhsuk-header__search-clear\"\n\t\t\t\tonClick={handleClear}\n\t\t\t\taria-label=\"Clear search\"\n\t\t\t>\n\t\t\t\t<svg\n\t\t\t\t\tclassName=\"nhsuk-icon nhsuk-icon__close\"\n\t\t\t\t\txmlns=\"http://www.w3.org/2000/svg\"\n\t\t\t\t\tviewBox=\"0 0 24 24\"\n\t\t\t\t\taria-hidden=\"true\"\n\t\t\t\t\tfocusable=\"false\"\n\t\t\t\t>\n\t\t\t\t\t<path d=\"M13.41 12l5.3-5.29a1 1 0 1 0-1.42-1.42L12 10.59l-5.29-5.3a1 1 0 0 0-1.42 1.42l5.3 5.29-5.3 5.29a1 1 0 0 0 1.42 1.42l5.29-5.3 5.29 5.3a1 1 0 0 0 1.42-1.42z\" />\n\t\t\t\t</svg>\n\t\t\t</button>\n\t\t);\n\t};\n\n\t// Results dropdown\n\tconst renderResults = () => {\n\t\tif (!showResults || !results.length || !isFocused) return null;\n\n\t\treturn (\n\t\t\t<div className=\"nhsuk-header__search-results\" role=\"listbox\">\n\t\t\t\t{results.map((result) => (\n\t\t\t\t\t<div\n\t\t\t\t\t\tkey={result.id}\n\t\t\t\t\t\tclassName=\"nhsuk-header__search-result\"\n\t\t\t\t\t\trole=\"option\"\n\t\t\t\t\t>\n\t\t\t\t\t\t{result.href ? (\n\t\t\t\t\t\t\t<a\n\t\t\t\t\t\t\t\thref={result.href}\n\t\t\t\t\t\t\t\tclassName=\"nhsuk-header__search-result-link\"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<span className=\"nhsuk-header__search-result-title\">\n\t\t\t\t\t\t\t\t\t{result.title}\n\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t{result.description && (\n\t\t\t\t\t\t\t\t\t<span className=\"nhsuk-header__search-result-description\">\n\t\t\t\t\t\t\t\t\t\t{result.description}\n\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\t\t\tclassName=\"nhsuk-header__search-result-button\"\n\t\t\t\t\t\t\t\tonClick={() =>\n\t\t\t\t\t\t\t\t\tcallbacks.onSearch?.({\n\t\t\t\t\t\t\t\t\t\tquery: result.title,\n\t\t\t\t\t\t\t\t\t\ttimestamp: Date.now(),\n\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<span className=\"nhsuk-header__search-result-title\">\n\t\t\t\t\t\t\t\t\t{result.title}\n\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t{result.description && (\n\t\t\t\t\t\t\t\t\t<span className=\"nhsuk-header__search-result-description\">\n\t\t\t\t\t\t\t\t\t\t{result.description}\n\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t)}\n\t\t\t\t\t</div>\n\t\t\t\t))}\n\t\t\t</div>\n\t\t);\n\t};\n\n\treturn (\n\t\t<div\n\t\t\tclassName={classNames(\"nhsuk-header__search\", className, {\n\t\t\t\t\"nhsuk-header__search--controlled\": mode === \"controlled\",\n\t\t\t\t\"nhsuk-header__search--hybrid\": mode === \"hybrid\",\n\t\t\t\t\"nhsuk-header__search--loading\": isLoading,\n\t\t\t\t\"nhsuk-header__search--focused\": isFocused,\n\t\t\t\t\"nhsuk-header__search--has-results\": showResults && results.length > 0,\n\t\t\t})}\n\t\t>\n\t\t\t<form\n\t\t\t\tref={formRef}\n\t\t\t\tclassName=\"nhsuk-header__search-form\"\n\t\t\t\tid=\"search\"\n\t\t\t\taction={mode !== \"controlled\" ? action : undefined}\n\t\t\t\tmethod={mode !== \"controlled\" ? method : undefined}\n\t\t\t\trole=\"search\"\n\t\t\t\tonSubmit={handleFormSubmit}\n\t\t\t\t{...formAttributes}\n\t\t\t>\n\t\t\t\t<label className=\"nhsuk-u-visually-hidden\" htmlFor=\"search-field\">\n\t\t\t\t\t{visuallyHiddenLabel}\n\t\t\t\t</label>\n\n\t\t\t\t<div className=\"nhsuk-header__search-input-wrapper\">\n\t\t\t\t\t<input\n\t\t\t\t\t\tref={inputRef}\n\t\t\t\t\t\tclassName=\"nhsuk-header__search-input nhsuk-input\"\n\t\t\t\t\t\tid=\"search-field\"\n\t\t\t\t\t\tname={mode !== \"controlled\" ? name : undefined}\n\t\t\t\t\t\ttype=\"search\"\n\t\t\t\t\t\tplaceholder={placeholder}\n\t\t\t\t\t\tautoComplete=\"off\"\n\t\t\t\t\t\tvalue={currentValue}\n\t\t\t\t\t\tonChange={handleInputChange}\n\t\t\t\t\t\tonFocus={handleFocus}\n\t\t\t\t\t\tonBlur={handleBlur}\n\t\t\t\t\t\tdisabled={disabled || isLoading}\n\t\t\t\t\t\t{...(showResults && results.length > 0\n\t\t\t\t\t\t\t? { \"aria-expanded\": true, \"aria-haspopup\": \"listbox\" }\n\t\t\t\t\t\t\t: {})}\n\t\t\t\t\t\t{...inputAttributes}\n\t\t\t\t\t/>\n\t\t\t\t\t{renderClearButton()}\n\t\t\t\t</div>\n\n\t\t\t\t<button\n\t\t\t\t\tclassName=\"nhsuk-header__search-submit\"\n\t\t\t\t\ttype=\"submit\"\n\t\t\t\t\tdisabled={\n\t\t\t\t\t\tdisabled ||\n\t\t\t\t\t\tisLoading ||\n\t\t\t\t\t\t(mode !== \"form\" && currentValue.length < minQueryLength)\n\t\t\t\t\t}\n\t\t\t\t\t{...buttonAttributes}\n\t\t\t\t>\n\t\t\t\t\t{isLoading ? renderLoadingSpinner() : renderSearchIcon()}\n\t\t\t\t\t<span className=\"nhsuk-u-visually-hidden\">\n\t\t\t\t\t\t{isLoading ? \"Searching...\" : visuallyHiddenButton}\n\t\t\t\t\t</span>\n\t\t\t\t</button>\n\t\t\t</form>\n\n\t\t\t{renderResults()}\n\t\t</div>\n\t);\n};\n", "import React from \"react\";\n// Mark React as used to satisfy TS noUnusedLocals while keeping import for classic JSX runtime\nvoid React;\nimport classNames from \"classnames\";\nimport { HeaderProps, NavigationItem } from \"./Header.types\";\nimport { Account } from \"../Account\";\nimport { getBrandLogo, BrandKey, LogoVariant as LogoVariantEnum } from \"../../assets/brand\";\nimport \"./Header.scss\";\nimport \"./Header.ssr.scss\";\n\nexport interface RenderHeaderServerOptions {\n\tvariant: \"server\";\n\tisClient: false;\n\t/** Optional brand provided by the caller (supports SSR BrandThemeProvider context). */\n\tbrand?: 'nhs' | 'fdp';\n}\n\nexport function renderHeaderMarkupServer(\n\tprops: HeaderProps,\n\t{ isClient, brand: providedBrand }: RenderHeaderServerOptions\n) {\n\tconst {\n\t\tclassName,\n\t\tlogo = {},\n\t\tservice = {},\n\t\tserviceName,\n\t\torganisation,\n\t\t// NOTE: search component intentionally omitted in server render to avoid importing client hooks\n\t\t// search,\n\t\taccount,\n\t\tnavigation,\n\t\tcontainerClasses,\n\t\tvariant: headerVariant = \"default\",\n\t\tattributes = {},\n\t\tmaxVisibleItems: _maxVisibleItems, // deprecated (ignored)\n\t\tresponsiveNavigation = true,\n\t\t// Consume logoVariant for server-side logo selection while preventing DOM leakage via ...rest\n\t\tlogoVariant: logoVariantProp = LogoVariantEnum.Full,\n\t\t...rest\n\t} = props;\n\n\t// Prevent internal-only props leaking to DOM\n\tif (\"maxVisibleItems\" in (rest as any)) {\n\t\tdelete (rest as any).maxVisibleItems;\n\t}\n\n\t// Map deprecated serviceName into service.text if provided\n\tconst effectiveService = {\n\t\t...service,\n\t\ttext: service?.text ?? serviceName,\n\t};\n\n\tconst combineLogoAndServiceNameLinks =\n\t\t(effectiveService.href && !logo.href) ||\n\t\t(effectiveService.href && effectiveService.href === logo.href);\n\tconst logoHref = combineLogoAndServiceNameLinks\n\t\t? effectiveService.href\n\t\t: logo.href;\n\n\tconst headerClasses = classNames(\n\t\t\"nhsuk-header\",\n\t\t{\n\t\t\t\"nhsuk-header--organisation\":\n\t\t\t\theaderVariant === \"organisation\" || organisation,\n\t\t\t\"nhsuk-header--white\": headerVariant === \"white\",\n\t\t},\n\t\tclassName\n\t);\n\tconst containerClass = classNames(\n\t\t\"nhsuk-header__container\",\n\t\tcontainerClasses\n\t);\n\tconst navigationClasses = classNames(\n\t\t\"nhsuk-header__navigation\",\n\t\t{\n\t\t\t\"nhsuk-header__navigation--white\": navigation?.white,\n\t\t\t\"nhsuk-header__navigation--justified\": navigation?.justified,\n\t\t},\n\t\tnavigation?.className\n\t);\n\n\t// Resolve brand for SSR: prefer explicit option provided by HeaderServer via BrandThemeProvider; default to NHS\n\tconst brand: 'nhs' | 'fdp' = providedBrand === 'fdp' ? 'fdp' : 'nhs';\n\n\tconst renderNHSLogo = () => (\n\t\t<svg\n\t\t\tclassName=\"nhsuk-header__logo\"\n\t\t\txmlns=\"http://www.w3.org/2000/svg\"\n\t\t\tviewBox=\"0 0 200 80\"\n\t\t\theight=\"40\"\n\t\t\twidth=\"100\"\n\t\t\tfocusable=\"false\"\n\t\t\trole=\"img\"\n\t\t\taria-label={logo.ariaLabel || \"NHS\"}\n\t\t>\n\t\t\t<title>{logo.ariaLabel || \"NHS\"}</title>\n\t\t\t<path\n\t\t\t\tfill=\"#fff\"\n\t\t\t\td=\"M200 0v80H0V0h200Zm-27.5 5.5c-14.5 0-29 5-29 22 0 10.2 7.7 13.5 14.7 16.3l.7.3c5.4 2 10.1 3.9 10.1 8.4 0 6.5-8.5 7.5-14 7.5s-12.5-1.5-16-3.5L135 70c5.5 2 13.5 3.5 20 3.5 15.5 0 32-4.5 32-22.5 0-19.5-25.5-16.5-25.5-25.5 0-5.5 5.5-6.5 12.5-6.5a35 35 0 0 1 14.5 3l4-13.5c-4.5-2-12-3-20-3Zm-131 2h-22l-14 65H22l9-45h.5l13.5 45h21.5l14-65H64l-9 45h-.5l-13-45Zm63 0h-18l-13 65h17l6-28H117l-5.5 28H129l13.5-65H125L119.5 32h-20l5-24.5Z\"\n\t\t\t/>\n\t\t</svg>\n\t);\n\n\t\tconst renderServiceLogo = () => {\n\t\t\t// Prefer explicit logo.src when provided\n\t\t\tif (logo.src) {\n\t\t\t\treturn (\n\t\t\t\t\t<img\n\t\t\t\t\t\tclassName=\"nhsuk-header__organisation-logo\"\n\t\t\t\t\t\tsrc={logo.src}\n\t\t\t\t\t\twidth=\"280\"\n\t\t\t\t\t\talt={logo.ariaLabel || (brand === 'fdp' ? 'FDP' : 'NHS')}\n\t\t\t\t\t/>\n\t\t\t\t);\n\t\t\t}\n\n\t\t\t// Brand-aware default: show FDP logo when brand scope is FDP; otherwise NHS logo SVG\n\t\t\tif (brand === 'fdp') {\n\t\t\t\tconst fdpLogo = getBrandLogo(BrandKey.FDP, logoVariantProp);\n\t\t\t\tif (fdpLogo?.src) {\n\t\t\t\t\treturn (\n\t\t\t\t\t\t<img\n\t\t\t\t\t\t\tclassName=\"nhsuk-header__organisation-logo\"\n\t\t\t\t\t\t\tsrc={fdpLogo.src}\n\t\t\t\t\t\t\tdata-logo-variant={logoVariantProp}\n\t\t\t\t\t\t\twidth=\"280\"\n\t\t\t\t\t\t\talt={fdpLogo.ariaLabel || 'FDP'}\n\t\t\t\t\t\t/>\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn renderNHSLogo();\n\t\t};\n\tconst renderOrganisationName = () =>\n\t\torganisation ? (\n\t\t\t<>\n\t\t\t\t<span className=\"nhsuk-header__organisation-name\">\n\t\t\t\t\t{organisation.name}\n\t\t\t\t\t{organisation.split && (\n\t\t\t\t\t\t<span className=\"nhsuk-header__organisation-name-split\">\n\t\t\t\t\t\t\t{\" \"}\n\t\t\t\t\t\t\t{organisation.split}\n\t\t\t\t\t\t</span>\n\t\t\t\t\t)}\n\t\t\t\t</span>\n\t\t\t\t{organisation.descriptor && (\n\t\t\t\t\t<span className=\"nhsuk-header__organisation-name-descriptor\">\n\t\t\t\t\t\t{organisation.descriptor}\n\t\t\t\t\t</span>\n\t\t\t\t)}\n\t\t\t</>\n\t\t) : null;\n\tconst renderServiceName = (text?: string, href?: string) =>\n\t\ttext ? (\n\t\t\thref ? (\n\t\t\t\t<a className=\"nhsuk-header__service-name\" href={href}>\n\t\t\t\t\t{text}\n\t\t\t\t</a>\n\t\t\t) : (\n\t\t\t\t<span className=\"nhsuk-header__service-name\">{text}</span>\n\t\t\t)\n\t\t) : null;\n\tconst renderNavigationLinkContent = (item: NavigationItem) =>\n\t\titem.active || item.current ? (\n\t\t\t<strong className=\"nhsuk-header__navigation-item-current-fallback\">\n\t\t\t\t{item.html ? (\n\t\t\t\t\t<span dangerouslySetInnerHTML={{ __html: item.html }} />\n\t\t\t\t) : (\n\t\t\t\t\titem.text\n\t\t\t\t)}\n\t\t\t</strong>\n\t\t) : item.html ? (\n\t\t\t<span dangerouslySetInnerHTML={{ __html: item.html }} />\n\t\t) : (\n\t\t\titem.text\n\t\t);\n\n\t// Server variant: render all items in main list, let JS handle overflow\n\t// This avoids reflow when hydrating (no need to move items from dropdown to main list)\n\t// Define server overflow hints (kept for backwards compatibility and clarity).\n\t// By default, we do NOT attempt to guess overflow on the server.\n\t// The behaviours layer (headerBehaviour) measures available width on the client\n\t// and moves items into a dropdown as needed after hydration.\n\tconst serverHasOverflow = false; // no SSR-guessing; client will compute accurately\n\tconst serverOverflowItems: NavigationItem[] = []; // empty \u2013 behaviours will populate client-side when needed\n\n\treturn (\n\t\t<>\n\t\t\t<header\n\t\t\t\tclassName={headerClasses}\n\t\t\t\trole=\"banner\"\n\t\t\t\tdata-module=\"nhsuk-header\"\n\t\t\t\t{...attributes}\n\t\t\t\t{...rest}\n\t\t\t>\n\t\t\t<div className={containerClass}>\n\t\t\t\t<div className=\"nhsuk-header__service\">\n\t\t\t\t\t{logoHref ? (\n\t\t\t\t\t\t<a className=\"nhsuk-header__service-logo\" href={logoHref}>\n\t\t\t\t\t\t\t{renderServiceLogo()}\n\t\t\t\t\t\t\t{renderOrganisationName()}\n\t\t\t\t\t\t\t{combineLogoAndServiceNameLinks &&\n\t\t\t\t\t\t\t\trenderServiceName(effectiveService.text)}\n\t\t\t\t\t\t</a>\n\t\t\t\t\t) : (\n\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t{renderServiceLogo()}\n\t\t\t\t\t\t\t{renderOrganisationName()}\n\t\t\t\t\t\t\t{combineLogoAndServiceNameLinks &&\n\t\t\t\t\t\t\t\trenderServiceName(effectiveService.text)}\n\t\t\t\t\t\t</>\n\t\t\t\t\t)}\n\t\t\t\t\t{effectiveService.text &&\n\t\t\t\t\t\t!combineLogoAndServiceNameLinks &&\n\t\t\t\t\t\trenderServiceName(effectiveService.text, effectiveService.href)}\n\t\t\t\t</div>\n\t\t\t\t{/* Search omitted in server renderer to avoid client hooks */}\n\t\t\t\t<Account\n\t\t\t\t\t{...account}\n\t\t\t\t\tvariant={headerVariant === \"white\" ? \"white\" : \"default\"}\n\t\t\t\t/>\n\t\t\t</div>\n\t\t\t{navigation && navigation.items && navigation.items.length > 0 && (\n\t\t\t\t<nav\n\t\t\t\t\tclassName={navigationClasses}\n\t\t\t\t\taria-label={navigation.ariaLabel || \"Menu\"}\n\t\t\t\t\tdata-ssr-hydrating={!isClient ? \"true\" : undefined}\n\t\t\t\t>\n\t\t\t\t\t<div\n\t\t\t\t\t\tclassName={classNames(\n\t\t\t\t\t\t\t\"nhsuk-header__navigation-container\",\n\t\t\t\t\t\t\t\"nhsuk-width-container\",\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\"nhsuk-header__navigation-container--ssr\": !isClient,\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tcontainerClasses\n\t\t\t\t\t\t)}\n\t\t\t\t\t>\n\t\t\t\t\t\t<ul className=\"nhsuk-header__navigation-list\">\n\t\t\t\t\t\t\t{navigation.items.map((item, index) => (\n\t\t\t\t\t\t\t\t<li\n\t\t\t\t\t\t\t\t\tkey={index}\n\t\t\t\t\t\t\t\t\tclassName={classNames(\n\t\t\t\t\t\t\t\t\t\t\"nhsuk-header__navigation-item\",\n\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\"nhsuk-header__navigation-item--current\":\n\t\t\t\t\t\t\t\t\t\t\t\titem.active || item.current,\n\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\titem.className\n\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t{...(item.attributes || {})}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<a\n\t\t\t\t\t\t\t\t\t\tclassName=\"nhsuk-header__navigation-link\"\n\t\t\t\t\t\t\t\t\t\thref={item.href}\n\t\t\t\t\t\t\t\t\t\t{...(item.active || item.current\n\t\t\t\t\t\t\t\t\t\t\t? { \"aria-current\": item.current ? \"page\" : \"true\" }\n\t\t\t\t\t\t\t\t\t\t\t: {})}\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t{renderNavigationLinkContent(item)}\n\t\t\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t</ul>\n\t\t\t\t\t</div>\n\t\t\t\t</nav>\n\t\t\t)}\n\t\t\t{serverHasOverflow && serverOverflowItems.length > 0 && (\n\t\t\t\t<div className=\"nhsuk-header__dropdown-menu\" data-ssr-overflow=\"true\">\n\t\t\t\t\t<ul className=\"nhsuk-header__dropdown-list\">\n\t\t\t\t\t\t{serverOverflowItems.map((item, index) => (\n\t\t\t\t\t\t\t<li\n\t\t\t\t\t\t\t\tkey={`overflow-server-${index}`}\n\t\t\t\t\t\t\t\tclassName={classNames(\"nhsuk-header__dropdown-item\", {\n\t\t\t\t\t\t\t\t\t\"nhsuk-header__dropdown-item--current\":\n\t\t\t\t\t\t\t\t\t\titem.active || item.current,\n\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<a\n\t\t\t\t\t\t\t\t\tclassName=\"nhsuk-header__dropdown-link\"\n\t\t\t\t\t\t\t\t\thref={item.href}\n\t\t\t\t\t\t\t\t\t{...(item.active || item.current\n\t\t\t\t\t\t\t\t\t\t? { \"aria-current\": item.current ? \"page\" : \"true\" }\n\t\t\t\t\t\t\t\t\t\t: {})}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t{renderNavigationLinkContent(item)}\n\t\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t))}\n\t\t\t\t\t</ul>\n\t\t\t\t</div>\n\t\t\t)}\n\t\t\t</header>\n\t\t\t{/* Inline, SSR-safe hydration kick for header behaviour. */}\n\t\t\t<script\n\t\t\t\ttype=\"module\"\n\t\t\t\tdangerouslySetInnerHTML={{\n\t\t\t\t\t__html: `\n\t\t\t\t\t(function() {\n\t\t\t\t\t\tfunction init() {\n\t\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\t\tvar header = document.querySelector('header.nhsuk-header[data-module=\"nhsuk-header\"]');\n\t\t\t\t\t\t\t\tif (!header) return;\n\t\t\t\t\t\t\t\t// Prefer global behaviours if already present\n\t\t\t\t\t\t\t\tif (window.__nhsHeaderBehaviours && window.__nhsHeaderBehaviours.initHeaders) {\n\t\t\t\t\t\t\t\t\twindow.__nhsHeaderBehaviours.initHeaders(header);\n\t\t\t\t\t\t\t\t\tconsole?.log?.('[HeaderServer] Initialized via global behaviours');\n\t\t\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t// Fallback: attempt dynamic import (works if app bundles /behaviours)\n\t\t\t\t\t\t\t\timport('@fergusbisset/nhs-fdp-design-system/behaviours')\n\t\t\t\t\t\t\t\t\t.then(function(mod){\n\t\t\t\t\t\t\t\t\t\tif (mod && mod.initHeaders) {\n\t\t\t\t\t\t\t\t\t\t\tmod.initHeaders(header);\n\t\t\t\t\t\t\t\t\t\t\tconsole?.log?.('[HeaderServer] Initialized via dynamic import');\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t\t.catch(function(err){\n\t\t\t\t\t\t\t\t\t\tconsole?.warn?.('[HeaderServer] Could not load behaviours module. Import \"@fergusbisset/nhs-fdp-design-system/behaviours\" in your app.', err);\n\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t} catch (e) {\n\t\t\t\t\t\t\t\tconsole?.warn?.('[HeaderServer] init error', e);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (document.readyState === 'loading') {\n\t\t\t\t\t\t\tdocument.addEventListener('DOMContentLoaded', init);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tsetTimeout(init, 0);\n\t\t\t\t\t\t}\n\t\t\t\t\t})();\n\t\t\t\t\t`.trim(),\n\t\t\t\t}}\n\t\t\t/>\n\t\t</>\n\t);\n}\n", "import React from 'react';\nimport { HeaderProps } from './Header.types';\nimport { renderHeaderMarkupServer } from './Header.render.server';\n\n// Server render helper (previously exposed as HeaderSSR/HeaderStatic).\n// Retained as an internal export for direct SSR usage when you explicitly\n// want the pure markup function without any client enhancement coupling.\nexport const HeaderServer: React.FC<HeaderProps> = (props) => {\n  // For SSR safety, we do NOT import BrandThemeProvider or use hooks here.\n  // If the caller provides a data-brand attribute on the root via `attributes`,\n  // we honour it to select FDP vs NHS branding server-side.\n  const attrBrand = props.attributes?.['data-brand'];\n  const brand = attrBrand === 'fdp' || attrBrand === 'nhs' ? attrBrand : undefined;\n\n  return renderHeaderMarkupServer(props, {\n    variant: 'server',\n    isClient: false,\n    brand,\n  });\n};\n"],
  "mappings": "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",
  "names": ["classNames", "useState", "useEffect", "useRef", "useCallback", "import_classnames", "classNames", "Fragment", "jsx", "jsxs", "classNames", "jsx", "import_classnames", "useState", "useEffect", "jsx", "jsxs", "useState", "useEffect", "classNames", "jsx", "useState", "useRef", "useEffect", "useCallback", "import_classnames", "React", "Fragment", "jsx", "jsxs", "classNames"]
}
