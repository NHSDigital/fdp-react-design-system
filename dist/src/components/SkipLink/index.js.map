{
  "version": 3,
  "sources": ["../../../../node_modules/classnames/index.js", "../../../../src/components/SkipLink/SkipLink.tsx"],
  "sourcesContent": ["/*!\n\tCopyright (c) 2018 Jed Watson.\n\tLicensed under the MIT License (MIT), see\n\thttp://jedwatson.github.io/classnames\n*/\n/* global define */\n\n(function () {\n\t'use strict';\n\n\tvar hasOwn = {}.hasOwnProperty;\n\n\tfunction classNames () {\n\t\tvar classes = '';\n\n\t\tfor (var i = 0; i < arguments.length; i++) {\n\t\t\tvar arg = arguments[i];\n\t\t\tif (arg) {\n\t\t\t\tclasses = appendClass(classes, parseValue(arg));\n\t\t\t}\n\t\t}\n\n\t\treturn classes;\n\t}\n\n\tfunction parseValue (arg) {\n\t\tif (typeof arg === 'string' || typeof arg === 'number') {\n\t\t\treturn arg;\n\t\t}\n\n\t\tif (typeof arg !== 'object') {\n\t\t\treturn '';\n\t\t}\n\n\t\tif (Array.isArray(arg)) {\n\t\t\treturn classNames.apply(null, arg);\n\t\t}\n\n\t\tif (arg.toString !== Object.prototype.toString && !arg.toString.toString().includes('[native code]')) {\n\t\t\treturn arg.toString();\n\t\t}\n\n\t\tvar classes = '';\n\n\t\tfor (var key in arg) {\n\t\t\tif (hasOwn.call(arg, key) && arg[key]) {\n\t\t\t\tclasses = appendClass(classes, key);\n\t\t\t}\n\t\t}\n\n\t\treturn classes;\n\t}\n\n\tfunction appendClass (value, newClass) {\n\t\tif (!newClass) {\n\t\t\treturn value;\n\t\t}\n\t\n\t\tif (value) {\n\t\t\treturn value + ' ' + newClass;\n\t\t}\n\t\n\t\treturn value + newClass;\n\t}\n\n\tif (typeof module !== 'undefined' && module.exports) {\n\t\tclassNames.default = classNames;\n\t\tmodule.exports = classNames;\n\t} else if (typeof define === 'function' && typeof define.amd === 'object' && define.amd) {\n\t\t// register as 'classnames', consistent with npm package name\n\t\tdefine('classnames', [], function () {\n\t\t\treturn classNames;\n\t\t});\n\t} else {\n\t\twindow.classNames = classNames;\n\t}\n}());\n", "import React, { useEffect, useState } from 'react';\nimport classNames from 'classnames';\nimport './SkipLink.scss';\nimport { SkipLinkProps } from './SkipLink.types';\n\n/**\n * SSR-compatible SkipLink component for bypassing navigation to main content\n * \n * IMPORTANT: This component should only be used at the page level,\n * typically as the first focusable element on a page. It should NOT\n * be included in individual UI components.\n * \n * Best practices:\n * - Place at the very top of your page layout\n * - Target the main content area (e.g., <main id=\"maincontent\">)\n * - Only use one skip link per page in most cases\n * - Visually hidden by default, visible on focus\n * \n * SSR Compatibility:\n * - Works on server-side rendering (basic link functionality)\n * - Enhanced with focus management on client-side\n * - Progressive enhancement approach\n */\nexport const SkipLink: React.FC<SkipLinkProps> = ({\n  text = 'Skip to main content',\n  href = '#maincontent',\n  classes,\n  attributes = {},\n}) => {\n  // Track if we're on the client side for progressive enhancement\n  const [isClient, setIsClient] = useState(false);\n\n  // SSR-safe client detection\n  useEffect(() => {\n    setIsClient(true);\n  }, []);\n\n  useEffect(() => {\n    // SSR guard: only run on client side with comprehensive checks\n    if (typeof window === 'undefined' || \n        typeof document === 'undefined' || \n        !document.querySelector ||\n        !document.querySelectorAll) {\n      return;\n    }\n\n    const handleSkipLinkClick = (event: Event) => {\n      const target = event.target as HTMLAnchorElement;\n      const targetId = target.getAttribute('href');\n      \n      if (targetId && targetId.startsWith('#')) {\n        const targetElement = (typeof document !== 'undefined' ? (typeof document !== 'undefined' ? (typeof document !== 'undefined' ? (typeof document !== 'undefined' ? (typeof document !== 'undefined' ? (typeof document !== 'undefined' ? (typeof document !== 'undefined' ? (typeof document !== 'undefined' ? document.querySelector(targetId) : null) : null) : null) : null) : null) : null) : null) : null);\n        if (targetElement) {\n          // Ensure the target element can receive focus\n          if (!targetElement.hasAttribute('tabindex')) {\n            targetElement.setAttribute('tabindex', '-1');\n          }\n          \n          // Focus the target element\n          (targetElement as HTMLElement).focus();\n          \n          // Add visual indicator for focused content\n          targetElement.classList.add('nhsuk-skip-link-focused-element');\n          \n          // Clean up after a short delay - use window.setTimeout to ensure availability\n          const timeoutId = window.setTimeout(() => {\n            targetElement.classList.remove('nhsuk-skip-link-focused-element');\n            // Only remove tabindex if we added it\n            if (targetElement.getAttribute('tabindex') === '-1') {\n              targetElement.removeAttribute('tabindex');\n            }\n          }, 3000);\n          \n          // Store timeout ID for cleanup\n          (target as any).__nhsSkipLinkTimeout = timeoutId;\n        }\n      }\n    };\n\n    // Add click handler to all skip links with error handling\n    try {\n      const skipLinks = document.querySelectorAll('.nhsuk-skip-link');\n      skipLinks.forEach(link => {\n        link.addEventListener('click', handleSkipLinkClick);\n      });\n\n      // Cleanup\n      return () => {\n        try {\n          skipLinks.forEach(link => {\n            link.removeEventListener('click', handleSkipLinkClick);\n            // Clear any pending timeouts\n            const timeoutId = (link as any).__nhsSkipLinkTimeout;\n            if (timeoutId && window.clearTimeout) {\n              window.clearTimeout(timeoutId);\n            }\n          });\n        } catch (error) {\n          // Silently handle cleanup errors in SSR environments\n          console.warn('SkipLink cleanup error:', error);\n        }\n      };\n    } catch (error) {\n      // Silently handle initialization errors in SSR environments\n      console.warn('SkipLink initialization error:', error);\n      return () => {}; // Return empty cleanup function\n    }\n  }, [isClient]); // Re-run when client detection changes\n\n  const skipLinkClasses = classNames('nhsuk-skip-link', classes);\n\n  return (\n    <a\n      className={skipLinkClasses}\n      href={href}\n      data-module=\"nhsuk-skip-link\"\n      data-enhanced={isClient ? 'true' : 'false'}\n      {...attributes}\n    >\n      {text}\n    </a>\n  );\n};\n"],
  "mappings": "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",
  "names": ["classNames", "classNames"]
}
