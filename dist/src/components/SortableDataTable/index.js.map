{
  "version": 3,
  "sources": ["../../../../node_modules/classnames/index.js", "../../../../src/components/SortableDataTable/AriaDataGrid.tsx", "../../../../src/components/SortableDataTable/AriaTabsDataGrid.tsx", "../../../../src/components/SortableDataTable/SortStatusControl/SortStatusControl.tsx", "../../../../src/components/Button/Button.tsx", "../../../../src/components/Tag/Tag.tsx", "../../../../src/components/SortableDataTable/SortStatusControl.tsx", "../../../../src/components/SortableDataTable/SortStatusControlTypes.ts", "../../../../src/components/SortableDataTable/AriaTabsDataGridFactory.ts", "../../../../src/components/SortableDataTable/icons.tsx", "../../../../src/components/SortableDataTable/AriaTabsDataGridTCH.tsx", "../../../../src/components/SortableDataTable/utils.tsx"],
  "sourcesContent": ["/*!\n\tCopyright (c) 2018 Jed Watson.\n\tLicensed under the MIT License (MIT), see\n\thttp://jedwatson.github.io/classnames\n*/\n/* global define */\n\n(function () {\n\t'use strict';\n\n\tvar hasOwn = {}.hasOwnProperty;\n\n\tfunction classNames () {\n\t\tvar classes = '';\n\n\t\tfor (var i = 0; i < arguments.length; i++) {\n\t\t\tvar arg = arguments[i];\n\t\t\tif (arg) {\n\t\t\t\tclasses = appendClass(classes, parseValue(arg));\n\t\t\t}\n\t\t}\n\n\t\treturn classes;\n\t}\n\n\tfunction parseValue (arg) {\n\t\tif (typeof arg === 'string' || typeof arg === 'number') {\n\t\t\treturn arg;\n\t\t}\n\n\t\tif (typeof arg !== 'object') {\n\t\t\treturn '';\n\t\t}\n\n\t\tif (Array.isArray(arg)) {\n\t\t\treturn classNames.apply(null, arg);\n\t\t}\n\n\t\tif (arg.toString !== Object.prototype.toString && !arg.toString.toString().includes('[native code]')) {\n\t\t\treturn arg.toString();\n\t\t}\n\n\t\tvar classes = '';\n\n\t\tfor (var key in arg) {\n\t\t\tif (hasOwn.call(arg, key) && arg[key]) {\n\t\t\t\tclasses = appendClass(classes, key);\n\t\t\t}\n\t\t}\n\n\t\treturn classes;\n\t}\n\n\tfunction appendClass (value, newClass) {\n\t\tif (!newClass) {\n\t\t\treturn value;\n\t\t}\n\t\n\t\tif (value) {\n\t\t\treturn value + ' ' + newClass;\n\t\t}\n\t\n\t\treturn value + newClass;\n\t}\n\n\tif (typeof module !== 'undefined' && module.exports) {\n\t\tclassNames.default = classNames;\n\t\tmodule.exports = classNames;\n\t} else if (typeof define === 'function' && typeof define.amd === 'object' && define.amd) {\n\t\t// register as 'classnames', consistent with npm package name\n\t\tdefine('classnames', [], function () {\n\t\t\treturn classNames;\n\t\t});\n\t} else {\n\t\twindow.classNames = classNames;\n\t}\n}());\n", "import React, { useRef, useState, useCallback, useEffect, useMemo } from 'react';\nimport classNames from 'classnames';\nimport { AriaDataGridProps } from './AriaDataGridTypes';\nimport './AriaTabsDataGrid.scss';\n\ntype NavigationMode = 'browse' | 'navigate';\ntype FocusArea = 'headers' | 'cells';\n\n/**\n * ARIA-compliant Data Grid Component\n * Provides comprehensive keyboard navigation and ARIA compliance for data tables\n * Following react-aria patterns with hierarchical navigation\n */\nexport const AriaDataGrid = React.forwardRef<HTMLTableElement, AriaDataGridProps>(\n  ({\n    data,\n    columns,\n    sortConfig,\n    onSort,\n    selectedRowIndex,\n    onRowSelect,\n    id,\n    testId,\n    ariaLabel,\n    ariaLabelledby,\n    ariaDescribedby,\n    className,\n    tableClassName,\n    bordered = false,\n    striped = false,\n    responsive = false,\n    tableType = 'default',\n  }, forwardedRef) => {\n  const tableRef = useRef<HTMLTableElement>(null);\n  const headerRowRef = useRef<HTMLTableRowElement>(null);\n  const tbodyRef = useRef<HTMLTableSectionElement>(null);\n\n  // Merge forwarded ref with internal ref\n  React.useImperativeHandle(forwardedRef, () => tableRef.current!, []);\n\n  // Navigation state following react-aria patterns\n  const [focusedRowIndex, setFocusedRowIndex] = useState<number>(0);\n  const [focusedColumnIndex, setFocusedColumnIndex] = useState<number>(0);\n  const [focusArea, setFocusArea] = useState<FocusArea>('headers');\n  const [navigationMode, setNavigationMode] = useState<NavigationMode>('browse');\n\n  const columnCount = columns.length;\n  const rowCount = data.length;\n\n    // Sort the data based on the current sort configuration\n  const sortedData = useMemo(() => {\n    if (!sortConfig || sortConfig.length === 0) return data;\n    \n    return [...data].sort((a, b) => {\n      // Apply each sort configuration in order\n      for (const { key, direction } of sortConfig) {\n        const aValue = a[key];\n        const bValue = b[key];\n        \n        if (aValue == null && bValue == null) continue;\n        if (aValue == null) return 1;\n        if (bValue == null) return -1;\n        \n        let comparison = 0;\n        if (typeof aValue === 'number' && typeof bValue === 'number') {\n          comparison = aValue - bValue;\n        } else {\n          comparison = String(aValue).localeCompare(String(bValue));\n        }\n        \n        if (comparison !== 0) {\n          return direction === 'asc' ? comparison : -comparison;\n        }\n      }\n      return 0;\n    });\n  }, [data, sortConfig]);\n\n  // Focus a specific cell and scroll it into view\n  const focusCell = useCallback((rowIndex: number, colIndex: number) => {\n    setTimeout(() => {\n      const targetCell = tableRef.current?.querySelector(\n        `tbody tr:nth-child(${rowIndex + 1}) td:nth-child(${colIndex + 1})`\n      );\n      if (targetCell) {\n        (targetCell as HTMLElement).focus();\n        // Check if scrollIntoView is available (may not be in test environments)\n        if (typeof targetCell.scrollIntoView === 'function') {\n          targetCell.scrollIntoView({\n            behavior: 'smooth',\n            block: 'center',\n            inline: 'nearest'\n          });\n        }\n      }\n    }, 0);\n  }, []);\n\n  // Focus a specific header and scroll it into view\n  const focusHeader = useCallback((colIndex: number) => {\n    setTimeout(() => {\n      const headerCell = tableRef.current?.querySelector(`th:nth-child(${colIndex + 1})`);\n      if (headerCell) {\n        (headerCell as HTMLElement).focus();\n        // Check if scrollIntoView is available (may not be in test environments)\n        if (typeof headerCell.scrollIntoView === 'function') {\n          headerCell.scrollIntoView({\n            behavior: 'smooth',\n            block: 'center',\n            inline: 'nearest'\n          });\n        }\n      }\n    }, 0);\n  }, []);\n\n  // Handle sorting when header is activated\n  const handleSort = useCallback((columnKey: string) => {\n    onSort?.(columnKey);\n  }, [onSort]);\n\n  // Handle row selection\n  const handleRowSelect = useCallback((rowIndex: number) => {\n    onRowSelect?.(rowIndex);\n  }, [onRowSelect]);\n\n  // React-aria style hierarchical keyboard navigation\n  const handleKeyDown = useCallback((event: React.KeyboardEvent) => {\n    const { key } = event;\n\n    switch (key) {\n      case 'Enter':\n        event.preventDefault();\n        \n        if (focusArea === 'headers' && navigationMode === 'browse') {\n          // Enter from header browse -> navigate within headers\n          setNavigationMode('navigate');\n          focusHeader(focusedColumnIndex);\n        } else if (focusArea === 'headers' && navigationMode === 'navigate') {\n          // Enter on a header -> sort the column\n          const currentColumn = columns[focusedColumnIndex];\n          if (currentColumn) {\n            handleSort(currentColumn.key);\n          }\n        } else if (focusArea === 'cells' && navigationMode === 'browse') {\n          // Enter from row browse -> navigate within that row\n          setNavigationMode('navigate');\n          focusCell(focusedRowIndex, focusedColumnIndex);\n        } else if (focusArea === 'cells' && navigationMode === 'navigate') {\n          // Enter on a cell -> select the row\n          handleRowSelect(focusedRowIndex);\n        }\n        break;\n        \n      case 'Escape':\n        event.preventDefault();\n        \n        if (focusArea === 'headers' && navigationMode === 'navigate') {\n          // Escape from header navigation -> header browse\n          setNavigationMode('browse');\n        } else if (focusArea === 'cells' && navigationMode === 'navigate') {\n          // Escape from cell navigation -> row browse\n          setNavigationMode('browse');\n        }\n        break;\n        \n      case 'ArrowLeft':\n        event.preventDefault();\n        if (navigationMode === 'navigate' || (navigationMode === 'browse' && focusArea === 'headers')) {\n          if (focusArea === 'headers') {\n            const newIndex = Math.max(0, focusedColumnIndex - 1);\n            setFocusedColumnIndex(newIndex);\n            focusHeader(newIndex);\n          } else if (focusArea === 'cells') {\n            const newIndex = Math.max(0, focusedColumnIndex - 1);\n            setFocusedColumnIndex(newIndex);\n            focusCell(focusedRowIndex, newIndex);\n          }\n        }\n        break;\n        \n      case 'ArrowRight':\n        event.preventDefault();\n        if (navigationMode === 'navigate' || (navigationMode === 'browse' && focusArea === 'headers')) {\n          if (focusArea === 'headers') {\n            const newIndex = Math.min(columnCount - 1, focusedColumnIndex + 1);\n            setFocusedColumnIndex(newIndex);\n            focusHeader(newIndex);\n          } else if (focusArea === 'cells') {\n            const newIndex = Math.min(columnCount - 1, focusedColumnIndex + 1);\n            setFocusedColumnIndex(newIndex);\n            focusCell(focusedRowIndex, newIndex);\n          }\n        }\n        break;\n        \n      case 'ArrowUp':\n        event.preventDefault();\n        if (focusArea === 'cells') {\n          if (navigationMode === 'browse') {\n            // Browse mode: move to previous row\n            const newIndex = Math.max(0, focusedRowIndex - 1);\n            setFocusedRowIndex(newIndex);\n            focusCell(newIndex, 0);\n            setFocusedColumnIndex(0);\n          } else if (navigationMode === 'navigate') {\n            // Navigate mode: move to previous row in same column\n            if (focusedRowIndex > 0) {\n              const newIndex = focusedRowIndex - 1;\n              setFocusedRowIndex(newIndex);\n              focusCell(newIndex, focusedColumnIndex);\n            } else {\n              // Move back to headers\n              setFocusArea('headers');\n              setNavigationMode('browse');\n              focusHeader(focusedColumnIndex);\n            }\n          }\n        }\n        break;\n        \n      case 'ArrowDown':\n        event.preventDefault();\n        if (focusArea === 'headers' && navigationMode === 'browse') {\n          // From headers browse mode, move to first row browse mode\n          setFocusArea('cells');\n          setFocusedRowIndex(0);\n          setFocusedColumnIndex(0);\n          focusCell(0, 0);\n        } else if (focusArea === 'cells') {\n          const maxRowIndex = rowCount - 1;\n          if (navigationMode === 'browse') {\n            // Browse mode: move to next row\n            const newIndex = Math.min(maxRowIndex, focusedRowIndex + 1);\n            setFocusedRowIndex(newIndex);\n            focusCell(newIndex, 0);\n            setFocusedColumnIndex(0);\n          } else if (navigationMode === 'navigate') {\n            // Navigate mode: move to next row in same column\n            if (focusedRowIndex < maxRowIndex) {\n              const newIndex = focusedRowIndex + 1;\n              setFocusedRowIndex(newIndex);\n              focusCell(newIndex, focusedColumnIndex);\n            }\n          }\n        }\n        break;\n\n      case 'Home':\n        event.preventDefault();\n        if (focusArea === 'headers') {\n          setFocusedColumnIndex(0);\n          focusHeader(0);\n        } else if (focusArea === 'cells') {\n          if (event.ctrlKey) {\n            // Ctrl+Home: go to first cell\n            setFocusedRowIndex(0);\n            setFocusedColumnIndex(0);\n            focusCell(0, 0);\n          } else {\n            // Home: go to first column in current row\n            setFocusedColumnIndex(0);\n            focusCell(focusedRowIndex, 0);\n          }\n        }\n        break;\n\n      case 'End':\n        event.preventDefault();\n        if (focusArea === 'headers') {\n          const lastIndex = columnCount - 1;\n          setFocusedColumnIndex(lastIndex);\n          focusHeader(lastIndex);\n        } else if (focusArea === 'cells') {\n          if (event.ctrlKey) {\n            // Ctrl+End: go to last cell\n            const lastRow = rowCount - 1;\n            const lastCol = columnCount - 1;\n            setFocusedRowIndex(lastRow);\n            setFocusedColumnIndex(lastCol);\n            focusCell(lastRow, lastCol);\n          } else {\n            // End: go to last column in current row\n            const lastCol = columnCount - 1;\n            setFocusedColumnIndex(lastCol);\n            focusCell(focusedRowIndex, lastCol);\n          }\n        }\n        break;\n\n      case ' ':\n        event.preventDefault();\n        if (focusArea === 'headers' && navigationMode === 'navigate') {\n          // Space on header -> sort\n          const currentColumn = columns[focusedColumnIndex];\n          if (currentColumn) {\n            handleSort(currentColumn.key);\n          }\n        } else if (focusArea === 'cells' && navigationMode === 'navigate') {\n          // Space on cell -> select row\n          handleRowSelect(focusedRowIndex);\n        }\n        break;\n    }\n  }, [\n    focusArea,\n    navigationMode,\n    focusedColumnIndex,\n    focusedRowIndex,\n    columnCount,\n    rowCount,\n    columns,\n    focusCell,\n    focusHeader,\n    handleSort,\n    handleRowSelect\n  ]);\n\n  // Initialize keyboard navigation\n  useEffect(() => {\n    const table = tableRef.current;\n    if (table) {\n      table.addEventListener('keydown', handleKeyDown as any);\n      return () => table.removeEventListener('keydown', handleKeyDown as any);\n    }\n  }, [handleKeyDown]);\n\n  const tableClasses = classNames(\n    'nhsuk-table',\n    tableClassName,\n    {\n      'nhsuk-table--responsive': responsive,\n      'nhsuk-table--bordered': bordered,\n      'nhsuk-table--striped': striped,\n      'nhsuk-table--compact': tableType === 'compact',\n    },\n    className\n  );\n\n  return (\n    <table\n      ref={tableRef}\n      className={tableClasses}\n      id={id}\n      data-testid={testId}\n      role=\"grid\"\n      aria-label={ariaLabel}\n      aria-labelledby={ariaLabelledby}\n      aria-describedby={ariaDescribedby}\n      tabIndex={0}\n    >\n      <thead className=\"nhsuk-table__head\" role=\"rowgroup\">\n        <tr ref={headerRowRef} role=\"row\">\n          {columns.map((column, colIndex) => {\n            const sortInfo = sortConfig?.find(config => config.key === column.key);\n            const isSorted = !!sortInfo;\n            const isFocused = focusArea === 'headers' && focusedColumnIndex === colIndex;\n\n            return (\n              <th\n                key={column.key}\n                className={classNames('sortable-header', {\n                  'sortable-header--focused': isFocused\n                })}\n                role=\"columnheader\"\n                tabIndex={isFocused ? 0 : -1}\n                onClick={() => handleSort(column.key)}\n                onKeyDown={(e) => {\n                  if (e.key === 'Enter' || e.key === ' ') {\n                    e.preventDefault();\n                    handleSort(column.key);\n                  }\n                }}\n                aria-sort={isSorted ? (sortInfo?.direction === 'asc' ? 'ascending' : 'descending') : 'none'}\n              >\n                <div className=\"header-content\">\n                  <span className=\"header-label\">\n                    {column.label}\n                  </span>\n                  {isSorted && (\n                    <span className=\"sort-indicator\" aria-hidden=\"true\">\n                      {sortConfig && sortConfig.length > 1 && (\n                        <span className=\"sort-priority\">\n                          {sortConfig.findIndex(config => config.key === column.key) + 1}\n                        </span>\n                      )}\n                      <svg\n                        width=\"12\"\n                        height=\"12\"\n                        viewBox=\"0 0 12 12\"\n                        fill=\"currentColor\"\n                        className=\"sort-arrow\"\n                      >\n                        {sortInfo?.direction === 'asc' ? (\n                          <path d=\"M6 2L2 8h8L6 2z\" />\n                        ) : (\n                          <path d=\"M6 10L2 4h8L6 10z\" />\n                        )}\n                      </svg>\n                    </span>\n                  )}\n                </div>\n              </th>\n            );\n          })}\n        </tr>\n      </thead>\n      <tbody ref={tbodyRef} className=\"nhsuk-table__body\" role=\"rowgroup\">\n        {sortedData.map((row, rowIndex) => {\n          const isSelected = selectedRowIndex === rowIndex;\n          const isRowFocused = focusArea === 'cells' && focusedRowIndex === rowIndex;\n          \n          return (\n            <tr\n              key={rowIndex}\n              role=\"row\"\n              className={classNames('data-row', {\n                'data-row--selected': isSelected,\n                'data-row--focused': isRowFocused\n              })}\n              aria-selected={isSelected}\n            >\n              {columns.map((column, colIndex) => {\n                const value = column.tableRenderer ? column.tableRenderer(row) : \n                             column.render ? column.render(row) : row[column.key];\n                const isCellFocused = focusArea === 'cells' && \n                                    focusedRowIndex === rowIndex && \n                                    focusedColumnIndex === colIndex;\n\n                // Handle boolean values with accessible text\n                const renderValue = () => {\n                  if (typeof value === 'boolean') {\n                    return (\n                      <>\n                        <span aria-hidden=\"true\">{value ? '\u2713' : '\u2717'}</span>\n                        <span className=\"sr-only\">{value ? 'Yes' : 'No'}</span>\n                      </>\n                    );\n                  }\n                  return String(value ?? '');\n                };\n\n                return (\n                  <td\n                    key={column.key}\n                    role=\"gridcell\"\n                    className={classNames('data-cell', {\n                      'data-cell--focused': isCellFocused\n                    })}\n                    tabIndex={isCellFocused ? 0 : -1}\n                    onClick={() => handleRowSelect(rowIndex)}\n                  >\n                    {renderValue()}\n                  </td>\n                );\n              })}\n            </tr>\n          );\n        })}\n      </tbody>\n    </table>\n  );\n});\n\nAriaDataGrid.displayName = 'AriaDataGrid';\n\nexport default AriaDataGrid;\n", "import React, { useReducer, useCallback, useMemo, useRef, useImperativeHandle, forwardRef, useEffect, useState } from 'react';\nimport { \n  AriaTabsDataGridProps, \n  AriaTabsDataGridState, \n  AriaTabsDataGridAction\n} from './AriaTabsDataGridTypes';\nimport { SortConfig } from './AriaDataGridTypes';\nimport './AriaTabsDataGrid.scss';\nimport { SortStatusControl } from \"./SortStatusControl/SortStatusControl\";\n\n/**\n * Navigation focus areas for hierarchical keyboard navigation\n */\ntype FocusArea = 'tabs' | 'headers' | 'cells';\n\n/**\n * Navigation state for hierarchical keyboard navigation\n */\ninterface NavigationState {\n  focusArea: FocusArea;\n  focusedTabIndex: number;\n  focusedHeaderIndex: number;\n  focusedRowIndex: number;\n  focusedColumnIndex: number;\n  isGridActive: boolean; // Whether we're in grid navigation mode (like GanttChart's timeline active)\n}\n \nfunction tabsDataGridReducer(\n  state: AriaTabsDataGridState, \n  action: AriaTabsDataGridAction\n): AriaTabsDataGridState {\n  switch (action.type) {\n\tcase 'SET_SELECTED_INDEX':\n\t  return { ...state, selectedIndex: action.payload };\n\t\n\tcase 'SET_TAB_LOADING':\n\t  const newLoadingStates = [...state.tabLoadingStates];\n\t  newLoadingStates[action.payload.tabIndex] = action.payload.isLoading;\n\t  return { ...state, tabLoadingStates: newLoadingStates };\n\t\n\tcase 'SET_TAB_ERROR':\n\t  const newErrors = [...state.tabErrors];\n\t  newErrors[action.payload.tabIndex] = action.payload.error;\n\t  return { ...state, tabErrors: newErrors };\n\t\n\tcase 'SET_SORT':\n\t  return { ...state, sortConfig: action.payload };\n\t\n\tcase 'SET_SELECTED_ROWS':\n\t  const newSelectedRows = [...state.selectedRows];\n\t  newSelectedRows[action.payload.tabIndex] = action.payload.rowIndices;\n\t  return { ...state, selectedRows: newSelectedRows };\n\t\n\tcase 'SET_GLOBAL_SELECTED_ROW_DATA':\n\t  return { ...state, globalSelectedRowData: action.payload };\n\t\n\tcase 'SET_FILTERS':\n\t  return { ...state, filters: action.payload };\n\t\n\tcase 'ADJUST_ARRAYS':\n\t  const { newLength } = action.payload;\n\t  const adjustedLoadingStates = new Array(newLength).fill(false);\n\t  const adjustedErrors = new Array(newLength).fill(null);\n\t  const adjustedSelectedRows = new Array(newLength).fill([]);\n\t  \n\t  // Copy existing states up to the minimum length\n\t  for (let i = 0; i < Math.min(state.tabLoadingStates.length, newLength); i++) {\n\t\tadjustedLoadingStates[i] = state.tabLoadingStates[i];\n\t\tadjustedErrors[i] = state.tabErrors[i];\n\t\tadjustedSelectedRows[i] = state.selectedRows[i];\n\t  }\n\t  \n\t  return {\n\t\t...state,\n\t\ttabLoadingStates: adjustedLoadingStates,\n\t\ttabErrors: adjustedErrors,\n\t\tselectedRows: adjustedSelectedRows\n\t  };\n\t\n\tcase 'RESET_STATE':\n\t  return {\n\t\tselectedIndex: 0,\n\t\ttabLoadingStates: new Array(state.tabLoadingStates.length).fill(false),\n\t\ttabErrors: new Array(state.tabErrors.length).fill(null),\n\t\tsortConfig: [],\n\t\tselectedRows: new Array(state.selectedRows.length).fill([]),\n\t\tglobalSelectedRowData: null,\n\t\tfilters: undefined\n\t  };\n\t\n\tdefault:\n\t  return state;\n  }\n}\n\n/**\n * Component reference interface for imperative actions\n */\nexport interface AriaTabsDataGridRef {\n  selectTab: (index: number) => void;\n  refreshData: (tabIndex?: number) => void;\n  exportData: (tabIndex?: number) => any[];\n  getSelectedRows: (tabIndex?: number) => number[];\n  clearSelection: (tabIndex?: number) => void;\n  applyFilters: (filters: any) => void;\n}\n\n/**\n * Integrated Tabs and DataGrid component with full ARIA compliance\n */\nexport const AriaTabsDataGrid = forwardRef<AriaTabsDataGridRef, AriaTabsDataGridProps>(\n  function AriaTabsDataGrid(props, ref) {\n\tconst {\n\t  dataConfig = {},\n\t  tabPanels,\n\t  selectedIndex: selectedIndexProp,\n\t  onTabChange,\n\t  onGlobalRowSelectionChange,\n\t  ariaLabel,\n\t  ariaDescription,\n\t  className = '',\n\t  disabled = false,\n\t  orientation = 'horizontal',\n\t  id,\n\t  isLoading = false,\n\t  loadingComponent,\n\t  error = null,\n\t  errorComponent,\n\t  'data-testid': dataTestId\n\t} = props;\n\n\t// Extract data operation functions with defaults\n  const {\n\tdataComparator = (a: any, b: any) => JSON.stringify(a) === JSON.stringify(b),\n\tfilterFunction = (data: any[]) => data,\n\tbooleanRenderer = (value: any) => value ? '\u2713' : '\u2717'\n  } = dataConfig || {};    // Determine if component is controlled\n\tconst isControlled = selectedIndexProp !== undefined;\n\tconst selectedIndex = selectedIndexProp ?? 0;\n\n\t// Navigation state for hierarchical keyboard navigation (like GanttChart)\n\tconst [navigationState, setNavigationState] = useState<NavigationState>({\n\t  focusArea: 'tabs',\n\t  focusedTabIndex: selectedIndex,\n\t  focusedHeaderIndex: 0,\n\t  focusedRowIndex: 0,\n\t  focusedColumnIndex: 0,\n\t  isGridActive: false\n\t});\n\n\t// Initialize state with empty sort configuration to avoid contamination\n\tconst initialState: AriaTabsDataGridState = useMemo(() => {\n\t  // Don't combine initial sort configs - let users build their own sorting\n\t  // This prevents \"mega-filter\" effects and state reset issues\n\t  return {\n\t\tselectedIndex,\n\t\ttabLoadingStates: new Array(tabPanels.length).fill(false),\n\t\ttabErrors: new Array(tabPanels.length).fill(null),\n\t\tsortConfig: [], // Start with empty sort config\n\t\tselectedRows: new Array(tabPanels.length).fill([]),\n\t\tglobalSelectedRowData: null,\n\t\tfilters: undefined\n\t  };\n\t}, [selectedIndex]); // Remove tabPanels dependency to prevent state resets\n\n\tconst [state, dispatch] = useReducer(tabsDataGridReducer, initialState);\n\n\t// Handle tabPanels length changes without resetting sort configuration\n\tuseEffect(() => {\n\t  const currentLength = state.tabLoadingStates.length;\n\t  const newLength = tabPanels.length;\n\t  \n\t  if (currentLength !== newLength) {\n\t\t// Adjust array lengths while preserving existing sort configuration\n\t\tdispatch({ type: 'ADJUST_ARRAYS', payload: { newLength } });\n\t  }\n\t}, [tabPanels.length]);\n\n\t// Controlled component support - sync selectedIndex when it changes externally\n\tuseEffect(() => {\n\t  if (isControlled) {\n\t\tdispatch({ type: 'SET_SELECTED_INDEX', payload: selectedIndex });\n\t  }\n\t}, [selectedIndex, isControlled]);\n\n\t// Reset navigation state when selected tab changes to ensure proper keyboard navigation\n\tuseEffect(() => {\n\t  setNavigationState(prev => ({\n\t\t...prev,\n\t\tfocusArea: 'tabs',\n\t\tfocusedTabIndex: state.selectedIndex,\n\t\tfocusedHeaderIndex: 0,\n\t\tfocusedRowIndex: 0,\n\t\tfocusedColumnIndex: 0,\n\t\tisGridActive: false\n\t  }));\n\t}, [state.selectedIndex]);\n\n\t// Handle global row selection callback\n\tuseEffect(() => {\n\t  if (onGlobalRowSelectionChange) {\n\t\tonGlobalRowSelectionChange(state.globalSelectedRowData);\n\t  }\n\t}, [state.globalSelectedRowData, onGlobalRowSelectionChange]);\n\n\t// Generic data equality check using provided or default comparator\n\tconst isDataEqual = useCallback((data1: any, data2: any): boolean => {\n\t  return dataComparator(data1, data2);\n\t}, [dataComparator]);\n\n\t// Handle tab selection with keyboard support\n\tconst handleTabSelect = useCallback((index: number) => {\n\t  if (index >= 0 && index < tabPanels.length && !tabPanels[index].disabled) {\n\t\tdispatch({ type: 'SET_SELECTED_INDEX', payload: index });\n\t\t// Keep navigation state in sync\n\t\tsetNavigationState(prev => ({ \n\t\t  ...prev, \n\t\t  focusedTabIndex: index,\n\t\t  focusArea: 'tabs'\n\t\t}));\n\t\tonTabChange?.(index);\n\t  }\n\t}, [tabPanels, onTabChange]);\n\n\t// Scroll tab into view utility\n\tconst scrollTabIntoView = useCallback((tabIndex: number) => {\n\t  \n\t  // Small delay to ensure DOM is ready\n\t  setTimeout(() => {\n\t\tconst tabElement = tabRefs.current[tabIndex];\n\t\tconst tabListElement = tabElement?.parentElement;\n\t\t\n\t\tif (tabElement && tabListElement) {\n\t\t  // Always scroll to center the tab for better UX\n\t\t  const tabOffsetLeft = tabElement.offsetLeft;\n\t\t  const tabWidth = tabElement.offsetWidth;\n\t\t  const tabListWidth = tabListElement.clientWidth;\n\t\t  \n\t\t  // Center the tab in the viewport\n\t\t  const targetScrollLeft = tabOffsetLeft - (tabListWidth / 2) + (tabWidth / 2);\n\t\t  \n\t\t  // Try scrollTo first, fallback to scrollIntoView\n\t\t  try {\n\t\t\ttabListElement.scrollTo({\n\t\t\t  left: Math.max(0, targetScrollLeft),\n\t\t\t  behavior: 'smooth'\n\t\t\t});\n\t\t   \n\t\t  } catch (e) {\n\t\t\t\n\t\t\t// Fallback for browsers that don't support smooth scrolling\n\t\t\ttabElement.scrollIntoView({\n\t\t\t  behavior: 'smooth',\n\t\t\t  block: 'nearest',\n\t\t\t  inline: 'center'\n\t\t\t});\n\t\t  }\n\t\t} else {\n\t\t  console.log('Missing elements for scroll:', { tabElement, tabListElement });\n\t\t}\n\t  }, 50);\n\t}, []);\n\n\t// Hierarchical keyboard navigation handlers (inspired by GanttChart)\n\tconst handleTabKeyDown = useCallback((event: React.KeyboardEvent, index: number) => {\n\t  const { key } = event;\n\t  \n\t  switch (key) {\n\t\tcase 'ArrowLeft':\n\t\t  event.preventDefault();\n\t\t  const prevIndex = index > 0 ? index - 1 : tabPanels.length - 1;\n\t\t  handleTabSelect(prevIndex);\n\t\t  scrollTabIntoView(prevIndex);\n\t\t  tabRefs.current[prevIndex]?.focus();\n\t\t  break;\n\t\t\n\t\tcase 'ArrowRight':\n\t\t  event.preventDefault();\n\t\t  const nextIndex = index < tabPanels.length - 1 ? index + 1 : 0;\n\t\t  handleTabSelect(nextIndex);\n\t\t  scrollTabIntoView(nextIndex);\n\t\t  tabRefs.current[nextIndex]?.focus();\n\t\t  break;\n\t\t\n\t\tcase 'ArrowDown':\n\t\t  event.preventDefault();\n\t\t  // Navigate to headers of the current tab's grid\n\t\t  setNavigationState(prev => ({ \n\t\t\t...prev, \n\t\t\tfocusArea: 'headers',\n\t\t\tfocusedHeaderIndex: 0,\n\t\t\tisGridActive: true\n\t\t  }));\n\t\t  // Focus will happen in the next effect cycle when navigation state is updated\n\t\t  break;\n\t\t\n\t\tcase 'Home':\n\t\t  event.preventDefault();\n\t\t  handleTabSelect(0);\n\t\t  scrollTabIntoView(0);\n\t\t  tabRefs.current[0]?.focus();\n\t\t  break;\n\t\t\n\t\tcase 'End':\n\t\t  event.preventDefault();\n\t\t  const lastIndex = tabPanels.length - 1;\n\t\t  handleTabSelect(lastIndex);\n\t\t  scrollTabIntoView(lastIndex);\n\t\t  tabRefs.current[lastIndex]?.focus();\n\t\t  break;\n\t\t\n\t\tcase 'Enter':\n\t\tcase ' ':\n\t\t  event.preventDefault();\n\t\t  handleTabSelect(index);\n\t\t  break;\n\t  }\n\t}, [tabPanels.length, handleTabSelect, scrollTabIntoView]);\n\n\t// Tab refs for individual tabs\n\tconst tabRefs = useRef<(HTMLButtonElement | null)[]>([]);\n\tconst panelRefs = useRef<(HTMLDivElement | null)[]>([]);\n\n\t// Sort handlers for global sort configuration - cycles through asc -> desc -> none (remove)\n\tconst handleSort = useCallback((tabIndex: number, key: string) => {\n\t  const currentSort = state.sortConfig || [];\n\t  const existingSort = currentSort.find((sort: SortConfig) => sort.key === key);\n\t  \n\t  let newSortConfig: SortConfig[];\n\t  if (existingSort) {\n\t\tif (existingSort.direction === 'asc') {\n\t\t  // Change to descending\n\t\t  newSortConfig = currentSort.map((sort: SortConfig) => \n\t\t\tsort.key === key \n\t\t\t  ? { ...sort, direction: 'desc' as const }\n\t\t\t  : sort\n\t\t  );\n\t\t} else {\n\t\t  // Remove the sort (desc -> none)\n\t\t  newSortConfig = currentSort.filter((sort: SortConfig) => sort.key !== key);\n\t\t}\n\t  } else {\n\t\t// Add new sort starting with ascending - append to end to maintain priority order\n\t\tnewSortConfig = [...currentSort, { key, direction: 'asc' as const }];\n\t  }\n\t  \n\t\t// Dispatch the new sort configuration\n\t  dispatch({ \n\t\ttype: 'SET_SORT', \n\t\tpayload: newSortConfig\n\t  });\n\n\t  // Call custom sort handler if provided\n\t  const panel = tabPanels[tabIndex];\n\t  panel.onSort?.(key as any);\n\t}, [state.sortConfig, tabPanels]);\n\n\t// Focus management utilities\n\tconst focusGridHeader = useCallback((headerIndex: number) => {\n\t  setTimeout(() => {\n\t\tconst headerElement = document.querySelector(\n\t\t  `[data-tab-panel=\"${state.selectedIndex}\"] th:nth-child(${headerIndex + 1})`\n\t\t) as HTMLElement;\n\t\tif (headerElement) {\n\t\t  headerElement.focus();\n\t\t}\n\t  }, 0);\n\t}, [state.selectedIndex]);\n\n\t// Reset all global sorts\n\t// const handleResetSorts = useCallback(() => {\n\t//   dispatch({ \n\t//     type: 'SET_SORT', \n\t//     payload: []\n\t//   });\n\t// }, []);\n\n\t// Generate sort description text showing all global sorts\n\t// const getCurrentSortDescription = useCallback(() => {\n\t//   const currentSorts = state.sortConfig || [];\n\t//   \n\t//   if (currentSorts.length === 0) {\n\t//     return 'No sorting applied';\n\t//   }\n\n\t//   // Show all global sorts with column labels where available\n\t//   const sortDescriptions = currentSorts.map((sort: SortConfig, index: number) => {\n\t//     // Find the column definition across all tabs\n\t//     let columnLabel = sort.key;\n\t//     for (const panel of tabPanels) {\n\t//       const column = panel.columns.find(col => col.key === sort.key);\n\t//       if (column) {\n\t//         columnLabel = column.label;\n\t//         break;\n\t//       }\n\t//     }\n\t//     \n\t//     const direction = sort.direction === 'asc' ? 'ascending' : 'descending';\n\t//     return `${index + 1}. ${columnLabel} (${direction})`;\n\t//   });\n\n\t//   // Join with proper grammar: commas and 'and' before the last item\n\t//   let sortText: string;\n\t//   if (sortDescriptions.length === 1) {\n\t//     sortText = sortDescriptions[0];\n\t//   } else if (sortDescriptions.length === 2) {\n\t//     sortText = sortDescriptions.join(' and ');\n\t//   } else {\n\t//     const lastItem = sortDescriptions.pop();\n\t//     sortText = sortDescriptions.join(', ') + ', and ' + lastItem;\n\t//   }\n\n\t//   return `Sorted by: ${sortText}`;\n\t// }, [state.sortConfig, tabPanels]);\n\n\t// Configurable boolean rendering function\n\tconst renderBooleanIcon = useCallback((value: boolean) => {\n\t  return booleanRenderer(value);\n\t}, [booleanRenderer]);\n\n\tconst focusGridCell = useCallback((rowIndex: number, colIndex: number) => {\n\t  setTimeout(() => {\n\t\tconst cellElement = document.querySelector(\n\t\t  `[data-tab-panel=\"${state.selectedIndex}\"] tbody tr:nth-child(${rowIndex + 1}) td:nth-child(${colIndex + 1})`\n\t\t) as HTMLElement;\n\t\tif (cellElement) {\n\t\t  cellElement.focus();\n\t\t}\n\t  }, 0);\n\t}, [state.selectedIndex]);\n\n\t// Handle automatic focusing when navigation state changes\n\tuseEffect(() => {\n\t  // Only auto-focus when isGridActive is true (indicates we're transitioning into the grid)\n\t  if (navigationState.isGridActive) {\n\t\tif (navigationState.focusArea === 'headers') {\n\t\t  setTimeout(() => {\n\t\t\tfocusGridHeader(navigationState.focusedHeaderIndex);\n\t\t  }, 0);\n\t\t} else if (navigationState.focusArea === 'cells') {\n\t\t  setTimeout(() => {\n\t\t\tfocusGridCell(navigationState.focusedRowIndex, navigationState.focusedColumnIndex);\n\t\t  }, 0);\n\t\t}\n\t  }\n\t}, [navigationState.focusArea, navigationState.isGridActive, navigationState.focusedHeaderIndex, navigationState.focusedRowIndex, navigationState.focusedColumnIndex, focusGridHeader, focusGridCell]);\n\n\t// Scroll selected tab into view when tab changes\n\tuseEffect(() => {\n\t  scrollTabIntoView(state.selectedIndex);\n\t}, [state.selectedIndex, scrollTabIntoView]);\n\n\t// Grid header navigation (similar to GanttChart date navigation)\n\tconst handleHeaderKeyDown = useCallback((event: React.KeyboardEvent, headerIndex: number) => {\n\t  const { key } = event;\n\t  const currentPanel = tabPanels[state.selectedIndex];\n\t  const columnCount = currentPanel?.columns.length || 0;\n\n\t  switch (key) {\n\t\tcase 'ArrowLeft':\n\t\t  event.preventDefault();\n\t\t  const prevHeaderIndex = Math.max(0, headerIndex - 1);\n\t\t  setNavigationState(prev => ({ ...prev, focusedHeaderIndex: prevHeaderIndex }));\n\t\t  focusGridHeader(prevHeaderIndex);\n\t\t  break;\n\t\t\n\t\tcase 'ArrowRight':\n\t\t  event.preventDefault();\n\t\t  const nextHeaderIndex = Math.min(columnCount - 1, headerIndex + 1);\n\t\t  setNavigationState(prev => ({ ...prev, focusedHeaderIndex: nextHeaderIndex }));\n\t\t  focusGridHeader(nextHeaderIndex);\n\t\t  break;\n\t\t\n\t\tcase 'ArrowUp':\n\t\t  event.preventDefault();\n\t\t  // Navigate back to tabs\n\t\t  setNavigationState(prev => ({ \n\t\t\t...prev, \n\t\t\tfocusArea: 'tabs',\n\t\t\tfocusedTabIndex: state.selectedIndex\n\t\t  }));\n\t\t  scrollTabIntoView(state.selectedIndex);\n\t\t  tabRefs.current[state.selectedIndex]?.focus();\n\t\t  break;\n\t\t\n\t\tcase 'ArrowDown':\n\t\t  event.preventDefault();\n\t\t  // Navigate to grid cells\n\t\t  setNavigationState(prev => ({ \n\t\t\t...prev, \n\t\t\tfocusArea: 'cells',\n\t\t\tfocusedRowIndex: 0,\n\t\t\tfocusedColumnIndex: headerIndex,\n\t\t\tisGridActive: true\n\t\t  }));\n\t\t  // Focus will happen in the next effect cycle when navigation state is updated\n\t\t  break;\n\t\t\n\t\tcase 'Home':\n\t\t  event.preventDefault();\n\t\t  setNavigationState(prev => ({ ...prev, focusedHeaderIndex: 0 }));\n\t\t  focusGridHeader(0);\n\t\t  break;\n\t\t\n\t\tcase 'End':\n\t\t  event.preventDefault();\n\t\t  const lastHeaderIndex = columnCount - 1;\n\t\t  setNavigationState(prev => ({ ...prev, focusedHeaderIndex: lastHeaderIndex }));\n\t\t  focusGridHeader(lastHeaderIndex);\n\t\t  break;\n\t\t\n\t\tcase 'Enter':\n\t\tcase ' ':\n\t\t  event.preventDefault();\n\t\t  // Sort by this column\n\t\t  const columnKey = currentPanel?.columns[headerIndex]?.key;\n\t\t  if (columnKey) {\n\t\t\thandleSort(state.selectedIndex, columnKey);\n\t\t  }\n\t\t  break;\n\t  }\n\t}, [tabPanels, state.selectedIndex, handleSort, setNavigationState, focusGridHeader, focusGridCell, tabRefs]);\n\n\t// Grid cell navigation (similar to GanttChart task navigation)\n\tconst handleCellKeyDown = useCallback((event: React.KeyboardEvent, rowIndex: number, colIndex: number) => {\n\t  const { key } = event;\n\t  const currentPanel = tabPanels[state.selectedIndex];\n\t  const rowCount = currentPanel?.data.length || 0;\n\t  const columnCount = currentPanel?.columns.length || 0;\n\n\t  // Grid navigation mode (moving between cells)\n\t  switch (key) {\n\t\tcase 'ArrowUp':\n\t\t  event.preventDefault();\n\t\t  if (rowIndex === 0) {\n\t\t\t// Navigate to headers\n\t\t\tsetNavigationState(prev => ({ \n\t\t\t  ...prev, \n\t\t\t  focusArea: 'headers',\n\t\t\t  focusedHeaderIndex: colIndex,\n\t\t\t  isGridActive: false\n\t\t\t}));\n\t\t\tfocusGridHeader(colIndex);\n\t\t  } else {\n\t\t\tconst newRowIndex = rowIndex - 1;\n\t\t\tsetNavigationState(prev => ({ ...prev, focusedRowIndex: newRowIndex }));\n\t\t\tfocusGridCell(newRowIndex, colIndex);\n\t\t  }\n\t\t  break;\n\t\t\n\t\tcase 'ArrowDown':\n\t\t  event.preventDefault();\n\t\t  const newRowIndex = Math.min(rowCount - 1, rowIndex + 1);\n\t\t  setNavigationState(prev => ({ ...prev, focusedRowIndex: newRowIndex }));\n\t\t  focusGridCell(newRowIndex, colIndex);\n\t\t  break;\n\t\t\n\t\tcase 'ArrowLeft':\n\t\t  event.preventDefault();\n\t\t  const newColIndex = Math.max(0, colIndex - 1);\n\t\t  setNavigationState(prev => ({ ...prev, focusedColumnIndex: newColIndex }));\n\t\t  focusGridCell(rowIndex, newColIndex);\n\t\t  break;\n\t\t\n\t\tcase 'ArrowRight':\n\t\t  event.preventDefault();\n\t\t  const nextColIndex = Math.min(columnCount - 1, colIndex + 1);\n\t\t  setNavigationState(prev => ({ ...prev, focusedColumnIndex: nextColIndex }));\n\t\t  focusGridCell(rowIndex, nextColIndex);\n\t\t  break;\n\t\t\n\t\tcase 'Home':\n\t\t  event.preventDefault();\n\t\t  if (event.ctrlKey) {\n\t\t\t// Go to first cell\n\t\t\tsetNavigationState(prev => ({ ...prev, focusedRowIndex: 0, focusedColumnIndex: 0 }));\n\t\t\tfocusGridCell(0, 0);\n\t\t  } else {\n\t\t\t// Go to first column in current row\n\t\t\tsetNavigationState(prev => ({ ...prev, focusedColumnIndex: 0 }));\n\t\t\tfocusGridCell(rowIndex, 0);\n\t\t  }\n\t\t  break;\n\t\t\n\t\tcase 'End':\n\t\t  event.preventDefault();\n\t\t  if (event.ctrlKey) {\n\t\t\t// Go to last cell\n\t\t\tconst lastRow = rowCount - 1;\n\t\t\tconst lastCol = columnCount - 1;\n\t\t\tsetNavigationState(prev => ({ ...prev, focusedRowIndex: lastRow, focusedColumnIndex: lastCol }));\n\t\t\tfocusGridCell(lastRow, lastCol);\n\t\t  } else {\n\t\t\t// Go to last column in current row\n\t\t\tconst lastCol = columnCount - 1;\n\t\t\tsetNavigationState(prev => ({ ...prev, focusedColumnIndex: lastCol }));\n\t\t\tfocusGridCell(rowIndex, lastCol);\n\t\t  }\n\t\t  break;\n\t\t\n\t\tcase 'Enter':\n\t\tcase ' ': // Space key\n\t\t  event.preventDefault();\n\t\t  // Handle row selection - we'll get the row data from currentPanel.data\n\t\t  if (currentPanel && currentPanel.data[rowIndex]) {\n\t\t\t// Get filtered data\n\t\t\tconst displayData = currentPanel.data.some((item: any) => 'ews_data' in item) \n\t\t\t  ? filterFunction(currentPanel.data, state.filters)\n\t\t\t  : currentPanel.data;\n\n\t\t\t// Sort the data based on the global sort configuration\n\t\t\tconst sortConfig = state.sortConfig;\n\t\t\tlet sortedData = displayData;\n\t\t\tif (sortConfig && sortConfig.length > 0) {\n\t\t\t  sortedData = [...displayData].sort((a: any, b: any) => {\n\t\t\t\t// Apply each sort configuration in order\n\t\t\t\tfor (const { key, direction } of sortConfig) {\n\t\t\t\t  let aValue = a[key];\n\t\t\t\t  let bValue = b[key];\n\n\t\t\t\t  // Handle rendered values\n\t\t\t\t  const column = currentPanel.columns.find(col => col.key === key);\n\t\t\t\t  if (column?.tableRenderer) {\n\t\t\t\t\taValue = column.tableRenderer(a);\n\t\t\t\t\tbValue = column.tableRenderer(b);\n\t\t\t\t  } else if (column?.render) {\n\t\t\t\t\taValue = column.render(a);\n\t\t\t\t\tbValue = column.render(b);\n\t\t\t\t  }\n\n\t\t\t\t  // Handle null/undefined values\n\t\t\t\t  if (aValue == null && bValue == null) continue;\n\t\t\t\t  if (aValue == null) return direction === 'asc' ? -1 : 1;\n\t\t\t\t  if (bValue == null) return direction === 'asc' ? 1 : -1;\n\n\t\t\t\t  // Type-specific comparison\n\t\t\t\t  let result = 0;\n\t\t\t\t  if (typeof aValue === 'number' && typeof bValue === 'number') {\n\t\t\t\t\tresult = aValue - bValue;\n\t\t\t\t  } else {\n\t\t\t\t\tresult = String(aValue).localeCompare(String(bValue), undefined, { numeric: true, sensitivity: 'base' });\n\t\t\t\t  }\n\n\t\t\t\t  if (result !== 0) {\n\t\t\t\t\treturn direction === 'asc' ? result : -result;\n\t\t\t\t  }\n\t\t\t\t}\n\t\t\t\treturn 0;\n\t\t\t  });\n\t\t\t}\n\t\t\t\n\t\t\tif (sortedData[rowIndex]) {\n\t\t\t  const row = sortedData[rowIndex];\n\t\t\t  const isCurrentlySelected = state.globalSelectedRowData && isDataEqual(state.globalSelectedRowData, row);\n\t\t\t  const newSelectedRowData = isCurrentlySelected ? null : row;\n\t\t\t  dispatch({\n\t\t\t\ttype: 'SET_GLOBAL_SELECTED_ROW_DATA',\n\t\t\t\tpayload: newSelectedRowData\n\t\t\t  });\n\t\t\t}\n\t\t  }\n\t\t  break;\n\t  }\n\t}, [tabPanels, state.selectedIndex, state.filters, state.sortConfig, filterFunction, isDataEqual, dispatch, setNavigationState, focusGridHeader, focusGridCell]);\n\n\t// Configurable filter function\n\tconst getFilteredData = useCallback((data: any[], filters?: any): any[] => {\n\t  return filterFunction(data, filters);\n\t}, [filterFunction]);\n\n\t// Imperative API\n\tuseImperativeHandle(ref, () => ({\n\t  selectTab: (index: number) => {\n\t\tif (index >= 0 && index < tabPanels.length) {\n\t\t  dispatch({ type: 'SET_SELECTED_INDEX', payload: index });\n\t\t  onTabChange?.(index);\n\t\t}\n\t  },\n\t  refreshData: (tabIndex?: number) => {\n\t\t// Implementation for data refresh\n\t\tconsole.log('Refreshing data for tab:', tabIndex ?? 'all');\n\t  },\n\t  exportData: (tabIndex?: number) => {\n\t\tconst targetIndex = tabIndex ?? state.selectedIndex;\n\t\tconst panel = tabPanels[targetIndex];\n\t\treturn panel ? panel.data : [];\n\t  },\n\t  getSelectedRows: (_tabIndex?: number) => {\n\t\t// Return global selected row as an array for backwards compatibility\n\t\t// For global row selection, we need to find the row index of the selected data\n\t\t// This requires the sortedData to be available in this scope\n\t\tconst selectedRows = state.globalSelectedRowData ? [] : []; // We'll handle this in the render where sortedData is available\n\t\treturn selectedRows;\n\t  },\n\t  clearSelection: (_tabIndex?: number) => {\n\t\t// Clear global selection instead of per-tab selection\n\t\tdispatch({\n\t\t  type: 'SET_GLOBAL_SELECTED_ROW_DATA',\n\t\t  payload: null\n\t\t});\n\t  },\n\t  applyFilters: (filters: any) => {\n\t\tdispatch({ type: 'SET_FILTERS', payload: filters });\n\t  }\n\t}), [state.selectedIndex, state.selectedRows, tabPanels, onTabChange]);\n\n\t// Loading state\n\tif (isLoading) {\n\t  return (\n\t\t<div className={`aria-tabs-datagrid aria-tabs-datagrid--loading ${className}`} data-testid={dataTestId}>\n\t\t  {loadingComponent || (\n\t\t\t<div className=\"aria-tabs-datagrid__loading\">\n\t\t\t  <div className=\"nhsuk-spinner\" role=\"status\" aria-label=\"Loading data\">\n\t\t\t\t<span className=\"nhsuk-u-visually-hidden\">Loading...</span>\n\t\t\t  </div>\n\t\t\t</div>\n\t\t  )}\n\t\t</div>\n\t  );\n\t}\n\n\t// Error state\n\tif (error) {\n\t  return (\n\t\t<div className={`aria-tabs-datagrid aria-tabs-datagrid--error ${className}`} data-testid={dataTestId}>\n\t\t  {errorComponent || (\n\t\t\t<div className=\"aria-tabs-datagrid__error\" role=\"alert\">\n\t\t\t  <h3 className=\"nhsuk-error-summary__title\">Error loading data</h3>\n\t\t\t  <p>{error}</p>\n\t\t\t</div>\n\t\t  )}\n\t\t</div>\n\t  );\n\t}\n\n\treturn (\n\t  <div \n\t\tclassName={`aria-tabs-datagrid aria-tabs-datagrid--${orientation} ${className}`}\n\t\tid={id}\n\t\tdata-testid={dataTestId}\n\t  >\n\t\t{/* Keyboard Navigation Instructions (Screen Reader Only) */}\n\t\t<div className=\"aria-tabs-datagrid__navigation-help sr-only\" id={`${id}-navigation-help`}>\n\t\t  Keyboard navigation: Use Tab to move between tabs and grid. Arrow keys navigate within tabs and grid cells. \n\t\t  Enter activates tabs and sorts columns. Arrow Down from tabs moves to table headers. \n\t\t  Arrow Down from headers moves to table cells. Use Arrow keys to navigate between cells.\n\t\t</div>\n\n\t\t<SortStatusControl\n\t\t  sortConfig={state.sortConfig || []}\n\t\t  columns={tabPanels.flatMap(panel => \n\t\t\tpanel.columns.map(col => ({ key: col.key, label: col.label }))\n\t\t  ).filter((col, index, arr) => \n\t\t\tarr.findIndex(c => c.key === col.key) === index // Remove duplicates\n\t\t  )}\n\t\t  onSortChange={(newSortConfig) => {\n\t\t\tdispatch({ type: 'SET_SORT', payload: newSortConfig });\n\t\t  }}\n\t\t  ariaLabel=\"Data grid sort configuration\"\n\t\t/>\n\n\t\t{/* Tab List with Manual ARIA Implementation */}\n\t\t<div \n\t\t  role=\"tablist\"\n\t\t  aria-label={ariaLabel}\n\t\t  aria-describedby={`${ariaDescription || ''} ${id ? `${id}-navigation-help` : ''}`.trim()}\n\t\t  aria-orientation={orientation}\n\t\t  className=\"aria-tabs-datagrid__tabs\"\n\t\t>\n\t\t  {tabPanels.map((panel, index) => {\n\t\t\t// Use the actual selected tab, but ensure it stays in sync with navigation\n\t\t\tconst isSelected = index === state.selectedIndex;\n\t\t\tconst isDisabled = panel.disabled || disabled;\n\n\t\t\treturn (\n\t\t\t  <button\n\t\t\t\tkey={panel.id}\n\t\t\t\trole=\"tab\"\n\t\t\t\tid={`tab-${panel.id}`}\n\t\t\t\taria-controls={`panel-${panel.id}`}\n\t\t\t\taria-selected={isSelected}\n\t\t\t\taria-disabled={isDisabled}\n\t\t\t\ttabIndex={isSelected ? 0 : -1}\n\t\t\t\tref={el => { tabRefs.current[index] = el; }}\n\t\t\t\tonClick={() => handleTabSelect(index)}\n\t\t\t\tonKeyDown={(event) => handleTabKeyDown(event, index)}\n\t\t\t\tdisabled={isDisabled}\n\t\t\t\tclassName={[\n\t\t\t\t  'aria-tabs-datagrid__tab',\n\t\t\t\t  isSelected ? 'aria-tabs-datagrid__tab--selected' : '',\n\t\t\t\t  isDisabled ? 'aria-tabs-datagrid__tab--disabled' : ''\n\t\t\t\t].filter(Boolean).join(' ')}\n\t\t\t  >\n\t\t\t\t<span className=\"aria-tabs-datagrid__tab-label\">{panel.label}</span>\n\t\t\t\t{state.tabLoadingStates[index] && (\n\t\t\t\t  <span className=\"aria-tabs-datagrid__tab-loading\" aria-hidden=\"true\">\u23F3</span>\n\t\t\t\t)}\n\t\t\t\t{state.tabErrors[index] && (\n\t\t\t\t  <span className=\"aria-tabs-datagrid__tab-error\" aria-hidden=\"true\">\u26A0\uFE0F</span>\n\t\t\t\t)}\n\t\t\t  </button>\n\t\t\t);\n\t\t  })}\n\t\t</div>\n\n\t\t{/* Tab Panels */}\n\t\t{tabPanels.map((panel, index) => {\n\t\t  const isSelected = index === state.selectedIndex;\n\n\t\t  return (\n\t\t\t<div\n\t\t\t  key={panel.id}\n\t\t\t  role=\"tabpanel\"\n\t\t\t  id={`panel-${panel.id}`}\n\t\t\t  aria-labelledby={`tab-${panel.id}`}\n\t\t\t  tabIndex={0}\n\t\t\t  hidden={!isSelected}\n\t\t\t  ref={el => { panelRefs.current[index] = el; }}\n\t\t\t  className={`aria-tabs-datagrid__panel ${panel.className || ''}`}\n\t\t\t  data-tab-panel={index}\n\t\t\t>\n\t\t\t  {isSelected && (\n\t\t\t\t(() => {\n\t\t\t\t  // Get filtered data - check if it has healthcare structure\n\t\t\t\t  const displayData = panel.data.some((item: any) => 'ews_data' in item) \n\t\t\t\t\t? getFilteredData(panel.data, state.filters)\n\t\t\t\t\t: panel.data;\n\n\t\t\t\t  // Sort the data based on the global sort configuration\n\t\t\t\t  const sortedData = useMemo(() => {\n\t\t\t\t\tconst sortConfig = state.sortConfig;\n\t\t\t\t\tif (!sortConfig || sortConfig.length === 0) return displayData;\n\t\t\t\t\t\n\t\t\t\t\treturn [...displayData].sort((a, b) => {\n\t\t\t\t\t  // Apply each sort configuration in order\n\t\t\t\t\t  for (const { key, direction } of sortConfig) {\n\t\t\t\t\t\tlet aValue = a[key];\n\t\t\t\t\t\tlet bValue = b[key];\n\n\t\t\t\t\t\t// Handle rendered values\n\t\t\t\t\t\tconst column = panel.columns.find(col => col.key === key);\n\t\t\t\t\t\tif (column?.tableRenderer) {\n\t\t\t\t\t\t  aValue = column.tableRenderer(a);\n\t\t\t\t\t\t  bValue = column.tableRenderer(b);\n\t\t\t\t\t\t} else if (column?.render) {\n\t\t\t\t\t\t  aValue = column.render(a);\n\t\t\t\t\t\t  bValue = column.render(b);\n\t\t\t\t\t\t}\n\t\t\t\t\t\t\n\t\t\t\t\t\tif (aValue == null && bValue == null) continue;\n\t\t\t\t\t\tif (aValue == null) return 1;\n\t\t\t\t\t\tif (bValue == null) return -1;\n\t\t\t\t\t\t\n\t\t\t\t\t\tlet comparison = 0;\n\t\t\t\t\t\tif (typeof aValue === 'number' && typeof bValue === 'number') {\n\t\t\t\t\t\t  comparison = aValue - bValue;\n\t\t\t\t\t\t} else if (typeof aValue === 'boolean' && typeof bValue === 'boolean') {\n\t\t\t\t\t\t  comparison = aValue === bValue ? 0 : aValue ? 1 : -1;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t  // Use natural string comparison for strings that may contain numbers\n\t\t\t\t\t\t  comparison = String(aValue).localeCompare(String(bValue), undefined, { \n\t\t\t\t\t\t\tnumeric: true, \n\t\t\t\t\t\t\tsensitivity: 'base' \n\t\t\t\t\t\t  });\n\t\t\t\t\t\t}\n\t\t\t\t\t\t\n\t\t\t\t\t\tif (comparison !== 0) {\n\t\t\t\t\t\t  return direction === 'asc' ? comparison : -comparison;\n\t\t\t\t\t\t}\n\t\t\t\t\t  }\n\t\t\t\t\t  return 0;\n\t\t\t\t\t});\n\t\t\t\t  }, [displayData, state.sortConfig, panel.columns]);\n\n\t\t\t\t  return (\n\t\t\t\t\t<table\n\t\t\t\t\t  className=\"nhsuk-table aria-tabs-datagrid__grid\"\n\t\t\t\t\t  role=\"grid\"\n\t\t\t\t\t  aria-label={panel.ariaLabel}\n\t\t\t\t\t  aria-describedby={panel.ariaDescription}\n\t\t\t\t\t>\n\t\t\t\t\t  <thead className=\"nhsuk-table__head\" role=\"rowgroup\">\n\t\t\t\t\t\t<tr role=\"row\">\n\t\t\t\t\t\t  {panel.columns.map((column, colIndex) => {\n\t\t\t\t\t\t\tconst sortInfo = state.sortConfig?.find((config: SortConfig) => config.key === column.key);\n\t\t\t\t\t\t\tconst isSorted = !!sortInfo;\n\t\t\t\t\t\t\tconst isFocused = navigationState.focusArea === 'headers' && \n\t\t\t\t\t\t\t\t\t\t\tnavigationState.focusedHeaderIndex === colIndex;\n\n\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t  <th\n\t\t\t\t\t\t\t\tkey={column.key}\n\t\t\t\t\t\t\t\tclassName={`sortable-header ${isFocused ? 'sortable-header--focused' : ''} ${isSorted ? 'sortable-header--sorted' : ''}`}\n\t\t\t\t\t\t\t\trole=\"columnheader\"\n\t\t\t\t\t\t\t\ttabIndex={isFocused ? 0 : -1}\n\t\t\t\t\t\t\t\tonClick={() => handleSort(index, column.key)}\n\t\t\t\t\t\t\t\tonKeyDown={(e) => handleHeaderKeyDown(e, colIndex)}\n\t\t\t\t\t\t\t\taria-sort={isSorted ? (sortInfo?.direction === 'asc' ? 'ascending' : 'descending') : 'none'}\n\t\t\t\t\t\t\t  >\n\t\t\t\t\t\t\t\t<div className=\"header-content\">\n\t\t\t\t\t\t\t\t  <span className=\"header-label\">\n\t\t\t\t\t\t\t\t\t{column.label}\n\t\t\t\t\t\t\t\t  </span>\n\t\t\t\t\t\t\t\t  <div className={`sort-indicator-container ${isSorted ? `sort-indicator--${sortInfo?.direction}` : ''}`}>\n\t\t\t\t\t\t\t\t\t{/* Show sort priority when any sort is configured and this column is sorted */}\n\t\t\t\t\t\t\t\t\t{state.sortConfig && state.sortConfig.length > 0 && \n\t\t\t\t\t\t\t\t\t state.sortConfig.findIndex((config: SortConfig) => config.key === column.key) !== -1 && (\n\t\t\t\t\t\t\t\t\t  <span \n\t\t\t\t\t\t\t\t\t\tclassName={`sort-priority sort-priority--priority-${state.sortConfig.findIndex((config: SortConfig) => config.key === column.key) + 1}`}\n\t\t\t\t\t\t\t\t\t\tdata-priority={state.sortConfig.findIndex((config: SortConfig) => config.key === column.key) + 1}\n\t\t\t\t\t\t\t\t\t\ttitle={`Sort priority: ${state.sortConfig.findIndex((config: SortConfig) => config.key === column.key) + 1}`}\n\t\t\t\t\t\t\t\t\t  >\n\t\t\t\t\t\t\t\t\t\t{state.sortConfig.findIndex((config: SortConfig) => config.key === column.key) + 1}\n\t\t\t\t\t\t\t\t\t  </span>\n\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t{/* Show sort arrow only when column is actually sorted */}\n\t\t\t\t\t\t\t\t\t{isSorted && (\n\t\t\t\t\t\t\t\t\t  <svg\n\t\t\t\t\t\t\t\t\t\tclassName={`nhsuk-icon sort-arrow sort-arrow--${sortInfo?.direction}`}\n\t\t\t\t\t\t\t\t\t\txmlns=\"http://www.w3.org/2000/svg\" \n\t\t\t\t\t\t\t\t\t\tviewBox=\"0 0 24 24\" \n\t\t\t\t\t\t\t\t\t\taria-hidden=\"true\" \n\t\t\t\t\t\t\t\t\t\tfocusable=\"false\"\n\t\t\t\t\t\t\t\t\t  >\n\t\t\t\t\t\t\t\t\t\t<path d=\"M15.5 12a1 1 0 0 1-.29.71l-5 5a1 1 0 0 1-1.42-1.42l4.3-4.29-4.3-4.29a1 1 0 0 1 1.42-1.42l5 5a1 1 0 0 1 .29.71z\" />\n\t\t\t\t\t\t\t\t\t  </svg>\n\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t  </div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t  </th>\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t  })}\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t  </thead>\n\t\t\t\t\t  <tbody className=\"nhsuk-table__body\" role=\"rowgroup\">\n\t\t\t\t\t\t{sortedData.map((row, rowIndex) => {\n\t\t\t\t\t\t  // Use global row selection instead of per-tab selection\n\t\t\t\t\t\t  const isRowSelected = state.globalSelectedRowData && isDataEqual(state.globalSelectedRowData, row);\n\t\t\t\t\t\t  const isRowFocused = navigationState.focusArea === 'cells' && \n\t\t\t\t\t\t\t\t\t\t\t  navigationState.focusedRowIndex === rowIndex;\n\t\t\t\t\t\t  \n\t\t\t\t\t\t  return (\n\t\t\t\t\t\t\t<tr\n\t\t\t\t\t\t\t  key={rowIndex}\n\t\t\t\t\t\t\t  role=\"row\"\n\t\t\t\t\t\t\t  className={`data-row ${isRowSelected ? 'data-row--selected' : ''} ${isRowFocused ? 'data-row--focused' : ''}`}\n\t\t\t\t\t\t\t  aria-selected={isRowSelected}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t  {panel.columns.map((column, colIndex) => {\n\t\t\t\t\t\t\t\tconst value = column.tableRenderer ? column.tableRenderer(row) : \n\t\t\t\t\t\t\t\t\t\t\t column.render ? column.render(row) : row[column.key];\n\t\t\t\t\t\t\t\tconst isCellFocused = navigationState.focusArea === 'cells' && \n\t\t\t\t\t\t\t\t\t\t\t\t\tnavigationState.focusedRowIndex === rowIndex && \n\t\t\t\t\t\t\t\t\t\t\t\t\tnavigationState.focusedColumnIndex === colIndex;\n\n\t\t\t\t\t\t\t\t// Handle boolean values with NHS-compliant rendering\n\t\t\t\t\t\t\t\tconst renderValue = () => {\n\t\t\t\t\t\t\t\t  if (typeof value === 'boolean') {\n\t\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t  <>\n\t\t\t\t\t\t\t\t\t\t{renderBooleanIcon(value)}\n\t\t\t\t\t\t\t\t\t\t<span className=\"nhsuk-u-visually-hidden\">{value ? 'Yes' : 'No'}</span>\n\t\t\t\t\t\t\t\t\t  </>\n\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t  }\n\t\t\t\t\t\t\t\t  return String(value ?? '');\n\t\t\t\t\t\t\t\t};\n\n\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t  <td\n\t\t\t\t\t\t\t\t\tkey={column.key}\n\t\t\t\t\t\t\t\t\trole=\"gridcell\"\n\t\t\t\t\t\t\t\t\tclassName={`data-cell ${isCellFocused ? 'data-cell--focused' : ''}`}\n\t\t\t\t\t\t\t\t\ttabIndex={isCellFocused ? 0 : -1}\n\t\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\t  // Toggle global row selection - if same row clicked, deselect it\n\t\t\t\t\t\t\t\t\t  const isCurrentlySelected = state.globalSelectedRowData && isDataEqual(state.globalSelectedRowData, row);\n\t\t\t\t\t\t\t\t\t  const newSelectedRowData = isCurrentlySelected ? null : row;\n\t\t\t\t\t\t\t\t\t  dispatch({\n\t\t\t\t\t\t\t\t\t\ttype: 'SET_GLOBAL_SELECTED_ROW_DATA',\n\t\t\t\t\t\t\t\t\t\tpayload: newSelectedRowData\n\t\t\t\t\t\t\t\t\t  });\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\tonKeyDown={(e) => handleCellKeyDown(e, rowIndex, colIndex)}\n\t\t\t\t\t\t\t\t  >\n\t\t\t\t\t\t\t\t\t{renderValue()}\n\t\t\t\t\t\t\t\t  </td>\n\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t  })}\n\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t  );\n\t\t\t\t\t\t})}\n\t\t\t\t\t  </tbody>\n\t\t\t\t\t</table>\n\t\t\t\t  );\n\t\t\t\t})()\n\t\t\t  )}\n\t\t\t</div>\n\t\t  );\n\t\t})}\n\t  </div>\n\t);\n  }\n);\n\n\n", "/**\n * Sort Status Control Component\n * \n * Displays and manages sort configuration for data tables with interactive tags\n * allowing users to view, reorder, toggle direction, and remove sorts.\n */\n\nimport React, { useCallback, useMemo, useRef } from 'react';\nimport { Button } from '../../Button/Button';\nimport { Tag } from '../../Tag/Tag';\nimport { TagColor } from '../../Tag/Tag.types';\nimport { SortConfig } from '../AriaDataGridTypes';\nimport './SortStatusControl.scss';\n\n/**\n * Column definition for labeling sorts\n */\nexport interface SortColumn {\n  key: string;\n  label: string;\n}\n\n/**\n * Props for the SortStatusControl component\n */\nexport interface SortStatusControlProps {\n  /** Current sort configuration array */\n  sortConfig: SortConfig[];\n  /** Available columns for labeling sorts */\n  columns: SortColumn[];\n  /** Callback when sort configuration changes */\n  onSortChange: (newSortConfig: SortConfig[]) => void;\n  /** Optional CSS class name for styling */\n  className?: string;\n  /** Optional description text when no sorts are active */\n  emptyDescription?: React.ReactNode;\n  /** Optional description text when sorts are active */\n  activeDescription?: React.ReactNode;\n  /** Show/hide the reset button */\n  showReset?: boolean;\n  /** Show/hide the help text */\n  showHelp?: boolean;\n  /** Disable all interactions */\n  disabled?: boolean;\n  /** ARIA label for the sort status region */\n  ariaLabel?: string;\n  /** Additional ARIA describedby IDs */\n  ariaDescribedBy?: string;\n}\n\nexport const SortStatusControl: React.FC<SortStatusControlProps> = ({\n  sortConfig,\n  columns,\n  onSortChange,\n  className = '',\n  emptyDescription = 'No sorting applied',\n  activeDescription,\n  showReset = true,\n  showHelp = true,\n  disabled = false,\n  ariaLabel = 'Sort configuration',\n  ariaDescribedBy\n}) => {\n  const containerRef = useRef<HTMLDivElement>(null);\n\n  // Drag and drop state\n  const draggedItem = useRef<string | null>(null);\n  const draggedOverItem = useRef<string | null>(null);\n\n  // Handle drag start\n  const handleDragStart = useCallback((e: React.DragEvent, key: string) => {\n    if (disabled) return;\n    draggedItem.current = key;\n    e.dataTransfer.effectAllowed = 'move';\n    e.dataTransfer.setData('text/plain', key);\n  }, [disabled]);\n\n  // Handle drag over\n  const handleDragOver = useCallback((e: React.DragEvent, key: string) => {\n    if (disabled || draggedItem.current === key) return;\n    e.preventDefault();\n    e.dataTransfer.dropEffect = 'move';\n    draggedOverItem.current = key;\n  }, [disabled]);\n\n  // Handle drop\n  const handleDrop = useCallback((e: React.DragEvent, targetKey: string) => {\n    if (disabled) return;\n    e.preventDefault();\n    \n    const sourceKey = draggedItem.current;\n    if (!sourceKey || sourceKey === targetKey) return;\n\n    const sourceIndex = sortConfig.findIndex(config => config.key === sourceKey);\n    const targetIndex = sortConfig.findIndex(config => config.key === targetKey);\n    \n    if (sourceIndex !== -1 && targetIndex !== -1) {\n      const newConfig = [...sortConfig];\n      const [draggedConfig] = newConfig.splice(sourceIndex, 1);\n      newConfig.splice(targetIndex, 0, draggedConfig);\n      onSortChange(newConfig);\n    }\n\n    // Reset drag state\n    draggedItem.current = null;\n    draggedOverItem.current = null;\n  }, [disabled, sortConfig, onSortChange]);\n\n  // Handle drag end\n  const handleDragEnd = useCallback(() => {\n    draggedItem.current = null;\n    draggedOverItem.current = null;\n  }, []);\n\n  // Helper function to get column label by key\n  const getColumnLabel = useCallback((key: string): string => {\n    const column = columns.find(col => col.key === key);\n    return column ? column.label : key;\n  }, [columns]);\n\n  // Get priority color based on index (matching the sort priority colors)\n  const getPriorityColor = useCallback((index: number): TagColor => {\n    const colorMap: TagColor[] = ['red', 'orange', 'blue', 'aqua-green', 'grey'];\n    return colorMap[index] || 'grey';\n  }, []);\n\n  // Handle direction toggle for a specific sort\n  const handleDirectionToggle = useCallback((sortKey: string) => {\n    if (disabled) return;\n    \n    const updatedConfig = sortConfig.map(config =>\n      config.key === sortKey\n        ? { ...config, direction: config.direction === 'asc' ? 'desc' as const : 'asc' as const }\n        : config\n    );\n    onSortChange(updatedConfig);\n  }, [sortConfig, onSortChange, disabled]);\n\n  // Handle removing a sort\n  const handleRemove = useCallback((sortKey: string) => {\n    if (disabled) return;\n    \n    const filteredConfig = sortConfig.filter(config => config.key !== sortKey);\n    onSortChange(filteredConfig);\n  }, [sortConfig, onSortChange, disabled]);\n\n  // Handle resetting all sorts\n  const handleReset = useCallback(() => {\n    if (disabled) return;\n    onSortChange([]);\n  }, [onSortChange, disabled]);\n\n  // Generate description text\n  const getSortDescription = (): React.ReactNode => {\n    if (sortConfig.length === 0) {\n      return emptyDescription;\n    }\n\n    if (activeDescription) {\n      return activeDescription;\n    }\n\n    const sortDescriptions = sortConfig.map((sort, index) => {\n      const direction = sort.direction === 'asc' ? 'ascending' : 'descending';\n      return `${index + 1}. ${getColumnLabel(sort.key)} (${direction})`;\n    });\n\n    if (sortDescriptions.length === 1) {\n      return `Sorted by: ${sortDescriptions[0]}`;\n    } else if (sortDescriptions.length === 2) {\n      return `Sorted by: ${sortDescriptions.join(' and ')}`;\n    } else {\n      const lastItem = sortDescriptions.pop();\n      return `Sorted by: ${sortDescriptions.join(', ')}, and ${lastItem}`;\n    }\n  };\n\n  // Build ARIA describedby\n  const describedBy = useMemo(() => {\n    const ids = ['sort-description'];\n    if (showHelp) ids.push('sort-help');\n    if (ariaDescribedBy) ids.push(ariaDescribedBy);\n    return ids.join(' ');\n  }, [showHelp, ariaDescribedBy]);\n\n  // If no sorts active, show empty state\n  if (sortConfig.length === 0) {\n    return (\n      <div className={`sort-status-control ${className}`}>\n        {/* Screen reader description */}\n        <div \n          className=\"sort-status-control__description\"\n          id=\"sort-description\"\n          aria-live=\"polite\"\n        >\n          {emptyDescription}\n        </div>\n        \n        {/* Help text */}\n        {showHelp && (\n          <div className=\"sort-status-control__help\" id=\"sort-help\">\n            <small>\n              Drag tags to reorder priority. Click tags or \u2191/\u2193 buttons to toggle ascending/descending. Click \u00D7 to remove a sort.\n            </small>\n          </div>\n        )}\n      </div>\n    );\n  }\n\n  return (\n    <div className={`sort-status-control ${className}`}>\n      {/* Screen reader description */}\n      <div \n        className=\"sort-status-control__description sort-status-control__description--active\"\n        id=\"sort-description\"\n        aria-live=\"polite\"\n      >\n        { getSortDescription() }\n      </div>\n\t\t  <div className=\"sort-status-container\">\n\t\t\t{/* Sort tags container */}\n\t\t\t<div \n\t\t\t\tref={containerRef}\n\t\t\t\tclassName=\"sort-status-control__tags\"\n\t\t\t\trole=\"list\"\n\t\t\t\taria-label={ariaLabel}\n\t\t\t\taria-describedby={describedBy}\n\t\t\t>\n\t\t\t\t{ sortConfig.map((config, index) => (\n\t\t\t\t\t<div\n\t\t\t\t\t\tkey={config.key}\n\t\t\t\t\t\tclassName=\"sort-status-control__tag-container\"\n\t\t\t\t\t\trole=\"listitem\"\n\t\t\t\t\t\tdraggable={!disabled}\n\t\t\t\t\t\tonDragStart={(e) => handleDragStart(e, config.key)}\n\t\t\t\t\t\tonDragOver={(e) => handleDragOver(e, config.key)}\n\t\t\t\t\t\tonDrop={(e) => handleDrop(e, config.key)}\n\t\t\t\t\t\tonDragEnd={handleDragEnd}\n\t\t\t\t\t\tonClick={() => handleDirectionToggle(config.key)}\n\t\t\t\t\t\tstyle={{ cursor: disabled ? 'default' : 'pointer' }}\n\t\t\t\t\t\ttitle={disabled ? '' : `Click to toggle sort direction. Currently ${config.direction === 'asc' ? 'ascending' : 'descending'}`}\n\t\t\t\t\t\tdata-key={config.key}\n\t\t\t\t\t>\n\t\t\t\t\t\t<Tag\n\t\t\t\t\t\t\tcolor={getPriorityColor(index)}\n\t\t\t\t\t\t\tclassName=\"sort-status-control__tag\"\n\t\t\t\t\t\t\tclosable\n\t\t\t\t\t\t\tonClose={() => handleRemove(config.key)}\n\t\t\t\t\t\t\tdisabled={disabled}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<div className=\"sort-status-control__tag-content\">\n\t\t\t\t\t\t\t\t{/* Drag handle */}\n\t\t\t\t\t\t\t\t<div className=\"sort-status-control__drag-handle\" title=\"Drag to reorder\">\n\t\t\t\t\t\t\t\t\t\t\u22EE\u22EE\n\t\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t\t{/* Priority number */}\n\t\t\t\t\t\t\t\t<div className={`sort-status-control__priority-badge sort-priority sort-priority--priority-${index + 1}`}>\n\t\t\t\t\t\t\t\t\t\t{index + 1}\n\t\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t\t{/* Column label */}\n\t\t\t\t\t\t\t\t<span className=\"sort-status-control__tag-label\">\n\t\t\t\t\t\t\t\t\t\t{getColumnLabel(config.key)}\n\t\t\t\t\t\t\t\t</span>\n\n\t\t\t\t\t\t\t\t{/* Direction toggle button */}\n\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\t\t\t\tclassName=\"sort-status-control__direction-button\"\n\t\t\t\t\t\t\t\t\tonClick={(e) => {\n\t\t\t\t\t\t\t\t\t\te.stopPropagation(); // Prevent tag click handler from firing\n\t\t\t\t\t\t\t\t\t\thandleDirectionToggle(config.key);\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\tdisabled={disabled}\n\t\t\t\t\t\t\t\t\taria-label={`Toggle sort direction for ${getColumnLabel(config.key)}. Currently ${config.direction === 'asc' ? 'ascending' : 'descending'}`}\n\t\t\t\t\t\t\t\t\ttitle=\"Click to toggle between ascending and descending\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<span className={`sort-status-control__direction-icon sort-status-control__direction-icon--${config.direction}`}>\n\t\t\t\t\t\t\t\t\t\t<svg \n\t\t\t\t\t\t\t\t\t\t\tclassName={`nhsuk-icon sort-status-control__chevron sort-status-control__chevron--${config.direction}`}\n\t\t\t\t\t\t\t\t\t\t\txmlns=\"http://www.w3.org/2000/svg\" \n\t\t\t\t\t\t\t\t\t\t\tviewBox=\"0 0 24 24\" \n\t\t\t\t\t\t\t\t\t\t\taria-hidden=\"true\" \n\t\t\t\t\t\t\t\t\t\t\tfocusable=\"false\"\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t<path d=\"M15.5 12a1 1 0 0 1-.29.71l-5 5a1 1 0 0 1-1.42-1.42l4.3-4.29-4.3-4.29a1 1 0 0 1 1.42-1.42l5 5a1 1 0 0 1 .29.71z\" />\n\t\t\t\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</Tag>\n\t\t\t\t\t</div>\n\t\t\t\t))}\n\t\t\t</div>\n\t\t\t{/* Reset button */}\n\t\t\t{showReset && (\n\t\t\t\t<div className=\"sort-status-control__actions\">\n\t\t\t\t\t<Button\n\t\t\t\t\t\tvariant=\"secondary\"\n\t\t\t\t\t\tonClick={handleReset}\n\t\t\t\t\t\t      disabled={disabled}\n\t\t\t\t\t\taria-label=\"Reset all sorting\"\n\t\t\t\t\t\tclassName=\"sort-status-control__reset-button\"\n\t\t\t\t\t>\n\t\t\t\t\t\tClear All Sorts\n\t\t\t\t\t</Button>\n\t\t\t\t</div>\n\t\t\t)}\n\t  </div>\n\n      {/* Instructions for users */}\n      {showHelp && (\n        <div className=\"sort-status-control__help\" id=\"sort-help\">\n          <small>\n            Drag tags to reorder priority. Click tags or \u2191/\u2193 buttons to toggle ascending/descending. Click \u00D7 to remove a sort.\n          </small>\n        </div>\n      )}\n    </div>\n  );\n};\n", "import * as React from 'react';\nconst { forwardRef, useCallback, useState } = React;\nimport { ButtonVariant, ButtonSize } from './Button.types';\nimport './Button.scss';\n\n/**\n * Base props for NHS Button component\n */\ninterface BaseButtonProps {\n\t/**\n\t * The variant of the button\n\t * @default 'primary'\n\t */\n\tvariant?: ButtonVariant;\n\t\n\t/**\n\t * The size of the button\n\t * @default 'default'\n\t */\n\tsize?: ButtonSize;\n\t\n\t/**\n\t * Whether the button should take up the full width of its container\n\t * @default false\n\t */\n\tfullWidth?: boolean;\n\t\n\t/**\n\t * Additional CSS class names\n\t */\n\tclassName?: string;\n\t\n\t/**\n\t * Button content\n\t */\n\tchildren: React.ReactNode;\n\t\n\t/**\n\t * Prevent double click submissions (adds debouncing)\n\t * @default false\n\t */\n\tpreventDoubleClick?: boolean;\n}\n\n/**\n * Props when rendering as button element (no href)\n */\nexport interface ButtonAsButtonProps extends BaseButtonProps, Omit<React.ButtonHTMLAttributes<HTMLButtonElement>, keyof BaseButtonProps> {\n\t/**\n\t * Button type\n\t * @default 'button'\n\t */\n\ttype?: 'button' | 'submit' | 'reset';\n}\n\n/**\n * Props when rendering as anchor element (with href)\n */\nexport interface ButtonAsLinkProps extends BaseButtonProps, Omit<React.AnchorHTMLAttributes<HTMLAnchorElement>, keyof BaseButtonProps | 'role' | 'type'> {\n\t/**\n\t * When provided, renders as anchor link instead of button\n\t */\n\thref: string;\n\t\n\t/**\n\t * Link target\n\t */\n\ttarget?: string;\n\t\n\t/**\n\t * Link rel attribute\n\t */\n\trel?: string;\n\t\n\t/**\n\t * Use aria-disabled for anchor elements (no native disabled support)\n\t * Use disabled prop instead for button elements\n\t */\n\t'aria-disabled'?: 'true' | 'false';\n}\n\n/**\n * NHS Button Component\n * \n * A button component that provides excellent accessibility out of the box \n * while following NHS design guidelines. Based on NHS.UK button patterns.\n * \n * Features:\n * - Full keyboard navigation support (Enter and Space key activation)\n * - Screen reader compatibility\n * - Focus management\n * - Proper ARIA attributes\n * - Double-click prevention\n * - Support for button and link variants\n * \n * @example\n * ```tsx\n * <Button variant=\"primary\" size=\"default\">\n *\t Continue\n * </Button>\n * \n * <Button href=\"/next-page\" variant=\"secondary\">\n *\t Go to next page\n * </Button>\n * ```\n */\n\n// Implementation function\nfunction ButtonComponent(\n\tprops: ButtonAsButtonProps | ButtonAsLinkProps,\n\tref: React.Ref<HTMLButtonElement | HTMLAnchorElement>\n): React.ReactElement {\n\tconst {\n\t\tchildren,\n\t\tvariant = 'primary',\n\t\tsize = 'default',\n\t\tfullWidth = false,\n\t\tclassName = '',\n\t\tpreventDoubleClick = false,\n\t\t...rest\n\t} = props;\n\n\t// State for interactive data attributes (replaces React Aria state management)\n\tconst [isPressed, setIsPressed] = useState(false);\n\tconst [isHovered, setIsHovered] = useState(false);\n\tconst [isFocused, setIsFocused] = useState(false);\n\n\t// Build CSS classes\n\tconst classes = [\n\t\t'nhs-aria-button',\n\t\t`nhs-aria-button--${variant}`,\n\t\tsize !== 'default' ? `nhs-aria-button--${size}` : '',\n\t\tfullWidth ? 'nhs-aria-button--full-width' : '',\n\t\tclassName\n\t].filter(Boolean).join(' ');\n\n\t// Build data attributes for styling (replaces React Aria data attributes)\n\tconst isDisabled = 'disabled' in rest ? rest.disabled : rest['aria-disabled'] === 'true';\n\tconst dataAttributes = {\n\t\t...(isPressed && { 'data-pressed': 'true' }),\n\t\t...(isHovered && { 'data-hovered': 'true' }),\n\t\t...(isFocused && { 'data-focused': 'true' }),\n\t\t...(isDisabled && { 'data-disabled': 'true' })\n\t};\n\n\t// Event handlers for state management\n\tconst handleMouseDown = useCallback(() => !isDisabled && setIsPressed(true), [isDisabled]);\n\tconst handleMouseUp = useCallback(() => setIsPressed(false), []);\n\tconst handleMouseEnter = useCallback(() => !isDisabled && setIsHovered(true), [isDisabled]);\n\tconst handleMouseLeave = useCallback(() => {\n\t\tsetIsHovered(false);\n\t\tsetIsPressed(false); // Reset pressed state when leaving\n\t}, []);\n\tconst handleFocus = useCallback(() => setIsFocused(true), []);\n\tconst handleBlur = useCallback(() => setIsFocused(false), []);\n\n\t// Handle keyboard navigation (Space key support for buttons and links with role=\"button\")\n\tconst handleKeyDown = useCallback((event: React.KeyboardEvent<HTMLElement>) => {\n\t\t// Handle space bar activation for button role elements\n\t\tif (event.key === ' ' && ('href' in rest || event.currentTarget.getAttribute('role') === 'button')) {\n\t\t\tevent.preventDefault();\n\t\t\t(event.currentTarget as HTMLElement).click();\n\t\t}\n\t}, [rest]);\n\n\t// Handle click with double-click prevention\n\tconst handleClick = useCallback((event: React.MouseEvent<HTMLElement>) => {\n\t\t// Double-click prevention logic (following NHS.UK pattern)\n\t\tif (preventDoubleClick) {\n\t\t\tconst target = event.currentTarget as HTMLElement;\n\t\t\tconst isAlreadyProcessing = target.getAttribute('data-processing') === 'true';\n\t\t\t\n\t\t\tif (isAlreadyProcessing) {\n\t\t\t\tevent.preventDefault();\n\t\t\t\treturn;\n\t\t\t}\n\t\t\t\n\t\t\t// Mark as processing\n\t\t\ttarget.setAttribute('data-processing', 'true');\n\t\t\t\n\t\t\t// Clear processing state after 1 second\n\t\t\tsetTimeout(() => {\n\t\t\t\ttarget.removeAttribute('data-processing');\n\t\t\t}, 1000);\n\t\t}\n\t}, [preventDoubleClick]);\n\n\t// Render as anchor link if href is provided\n\tif ('href' in rest && rest.href) {\n\t\tconst { id, style, title, ['aria-label']: ariaLabel, ['aria-describedby']: ariaDescribedBy, ['aria-labelledby']: ariaLabelledBy, tabIndex, ...anchorRest } = rest as ButtonAsLinkProps as any;\n\t\tconst anchorProps = rest as ButtonAsLinkProps;\n\t\treturn (\n\t\t\t<a\n\t\t\t\tref={ref as React.Ref<HTMLAnchorElement>}\n\t\t\t\thref={anchorProps.href}\n\t\t\t\ttarget={anchorProps.target}\n\t\t\t\trel={anchorProps.rel}\n\t\t\t\tclassName={classes}\n\t\t\t\trole=\"button\"\n\t\t\t\tdraggable=\"false\"\n\t\t\t\tdata-module=\"nhs-button\"\n\t\t\t\t{...dataAttributes}\n\t\t\t\t{...(preventDoubleClick && { 'data-prevent-double-click': 'true' })}\n\t\t\t\t{...anchorRest}\n\t\t\t\tonKeyDown={(event) => {\n\t\t\t\t\tanchorProps.onKeyDown?.(event);\n\t\t\t\t\thandleKeyDown(event);\n\t\t\t\t}}\n\t\t\t\tonClick={(event) => {\n\t\t\t\t\tanchorProps.onClick?.(event);\n\t\t\t\t\thandleClick(event);\n\t\t\t\t}}\n\t\t\t\tonMouseDown={(event) => {\n\t\t\t\t\tanchorProps.onMouseDown?.(event);\n\t\t\t\t\thandleMouseDown();\n\t\t\t\t}}\n\t\t\t\tonMouseUp={(event) => {\n\t\t\t\t\tanchorProps.onMouseUp?.(event);\n\t\t\t\t\thandleMouseUp();\n\t\t\t\t}}\n\t\t\t\tonMouseEnter={(event) => {\n\t\t\t\t\tanchorProps.onMouseEnter?.(event);\n\t\t\t\t\thandleMouseEnter();\n\t\t\t\t}}\n\t\t\t\tonMouseLeave={(event) => {\n\t\t\t\t\tanchorProps.onMouseLeave?.(event);\n\t\t\t\t\thandleMouseLeave();\n\t\t\t\t}}\n\t\t\t\tonFocus={(event) => {\n\t\t\t\t\tanchorProps.onFocus?.(event);\n\t\t\t\t\thandleFocus();\n\t\t\t\t}}\n\t\t\t\tonBlur={(event) => {\n\t\t\t\t\tanchorProps.onBlur?.(event);\n\t\t\t\t\thandleBlur();\n\t\t\t\t}}\n\t\t\t\t// Note: anchor links don't support disabled, but we can simulate it with aria-disabled\n\t\t\t\taria-disabled={anchorProps['aria-disabled']}\n\t\t\t\t{...(anchorProps['aria-disabled'] === 'true' && { 'tabIndex': -1 })}\n\t\t\t\t// Extract relevant props excluding our custom ones\n\t\t\t\tid={id}\n\t\t\t\tstyle={style}\n\t\t\t\ttitle={title}\n\t\t\t\taria-label={ariaLabel}\n\t\t\t\taria-describedby={ariaDescribedBy}\n\t\t\t\taria-labelledby={ariaLabelledBy}\n\t\t\t\ttabIndex={tabIndex}\n\t\t\t>\n\t\t\t\t{children}\n\t\t\t</a>\n\t\t);\n\t}\n\n\t// Render as button element\n\tconst { id, style, title, ['aria-label']: ariaLabel, ['aria-describedby']: ariaDescribedBy, ['aria-labelledby']: ariaLabelledBy, tabIndex, name, value: valueProp, form, formAction, formEncType, formMethod, formNoValidate, formTarget, autoFocus, ...buttonRest } = rest as any as ButtonAsButtonProps;\n\tconst buttonProps = rest as ButtonAsButtonProps;\n\treturn (\n\t\t<button\n\t\t\tref={ref as React.Ref<HTMLButtonElement>}\n\t\t\ttype={buttonProps.type || 'button'}\n\t\t\tdisabled={buttonProps.disabled}\n\t\t\tclassName={classes}\n\t\t\tdata-module=\"nhs-button\"\n\t\t\t{...dataAttributes}\n\t\t\t{...(preventDoubleClick && { 'data-prevent-double-click': 'true' })}\n\t\t\t{...(buttonProps.disabled && { 'aria-disabled': 'true' })}\n\t\t\t{...buttonRest}\n\t\t\tonKeyDown={(event) => {\n\t\t\t\tbuttonProps.onKeyDown?.(event);\n\t\t\t\thandleKeyDown(event);\n\t\t\t}}\n\t\t\tonClick={(event) => {\n\t\t\t\tbuttonProps.onClick?.(event);\n\t\t\t\thandleClick(event);\n\t\t\t}}\n\t\t\tonMouseDown={(event) => {\n\t\t\t\tbuttonProps.onMouseDown?.(event);\n\t\t\t\thandleMouseDown();\n\t\t\t}}\n\t\t\tonMouseUp={(event) => {\n\t\t\t\tbuttonProps.onMouseUp?.(event);\n\t\t\t\thandleMouseUp();\n\t\t\t}}\n\t\t\tonMouseEnter={(event) => {\n\t\t\t\tbuttonProps.onMouseEnter?.(event);\n\t\t\t\thandleMouseEnter();\n\t\t\t}}\n\t\t\tonMouseLeave={(event) => {\n\t\t\t\tbuttonProps.onMouseLeave?.(event);\n\t\t\t\thandleMouseLeave();\n\t\t\t}}\n\t\t\tonFocus={(event) => {\n\t\t\t\tbuttonProps.onFocus?.(event);\n\t\t\t\thandleFocus();\n\t\t\t}}\n\t\t\tonBlur={(event) => {\n\t\t\t\tbuttonProps.onBlur?.(event);\n\t\t\t\thandleBlur();\n\t\t\t}}\n\t\t\t// Extract relevant props\n\t\t\tid={id}\n\t\t\tstyle={style}\n\t\t\ttitle={title}\n\t\t\taria-label={ariaLabel}\n\t\t\taria-describedby={ariaDescribedBy}\n\t\t\taria-labelledby={ariaLabelledBy}\n\t\t\ttabIndex={tabIndex}\n\t\t\tname={name}\n\t\t\tvalue={valueProp}\n\t\t\tform={form}\n\t\t\tformAction={formAction}\n\t\t\tformEncType={formEncType}\n\t\t\tformMethod={formMethod}\n\t\t\tformNoValidate={formNoValidate}\n\t\t\tformTarget={formTarget}\n\t\t\tautoFocus={autoFocus}\n\t\t>\n\t\t\t{children}\n\t\t</button>\n\t);\n}\n\n// Define overloaded function signatures \ninterface ButtonComponent {\n\t(props: ButtonAsButtonProps & { ref?: React.Ref<HTMLButtonElement> }): React.ReactElement;\n\t(props: ButtonAsLinkProps & { ref?: React.Ref<HTMLAnchorElement> }): React.ReactElement;\n\tdisplayName?: string;\n}\n\nexport const Button = forwardRef(ButtonComponent) as ButtonComponent;\nButton.displayName = 'Button';\n\n// Export union type for compatibility\nexport type NHSButtonProps = ButtonAsButtonProps | ButtonAsLinkProps;\n\nexport default Button;\n", "import React from 'react';\nimport classNames from 'classnames';\nimport './Tag.scss';\nimport { TagProps } from './Tag.types';\n\nexport const Tag: React.FC<TagProps> = ({\n  text,\n  html,\n  children,\n  color = 'default',\n  noBorder = false,\n  closable = false,\n  onClose,\n  disabled = false,\n  className,\n  ...props\n}) => {\n  const tagClasses = classNames(\n    'nhsuk-tag',\n    {\n      [`nhsuk-tag--${color}`]: color !== 'default',\n      'nhsuk-tag--no-border': noBorder,\n      'nhsuk-tag--closable': closable,\n      'nhsuk-tag--disabled': disabled,\n    },\n    className\n  );\n\n  const handleClose = (e: React.MouseEvent) => {\n    e.preventDefault();\n    e.stopPropagation();\n    if (!disabled && onClose) {\n      onClose();\n    }\n  };\n\n  return (\n    <strong className={tagClasses} {...props}>\n      {/* Content - children take precedence, then html, then text */}\n      {children ? (\n        children\n      ) : html ? (\n        <span dangerouslySetInnerHTML={{ __html: html }} />\n      ) : (\n        text\n      )}\n      \n      {/* Close button */}\n      {closable && (\n        <button\n          type=\"button\"\n          className=\"nhsuk-tag__close\"\n          onClick={handleClose}\n          disabled={disabled}\n          aria-label=\"Remove\"\n          title=\"Remove\"\n        >\n          \u00D7\n        </button>\n      )}\n    </strong>\n  );\n};\n", "/**\n * Sort Status Control Component\n * \n * Displays and manages sort configuration for data tables with interactive tags\n * allowing users to view, reorder, toggle direction, and remove sorts.\n */\n\nimport React, { useCallback, useMemo } from 'react';\nimport { Button } from '../Button/Button';\nimport { Tag } from '../Tag/Tag';\nimport { \n  SortStatusControlProps, \n  DEFAULT_DIRECTION_LABELS,\n  sortByPriority,\n  reassignPriorities,\n  canMoveUp,\n  canMoveDown\n} from './SortStatusControlTypes';\nimport './SortStatusControl.scss';\n\nexport const SortStatusControl: React.FC<SortStatusControlProps> = ({\n  sortConfig,\n  onSortChange,\n  className = '',\n  emptyDescription = 'No sorting applied',\n  activeDescription,\n  showReset = true,\n  showHelp = true,\n  disabled = false,\n  ariaLabel = 'Sort configuration',\n  ariaDescribedBy\n}) => {\n  // Sort the configuration by priority for display\n  const sortedConfig = useMemo(() => sortByPriority(sortConfig), [sortConfig]);\n\n  // Handle direction toggle for a specific sort\n  const handleDirectionToggle = useCallback((sortId: string) => {\n    if (disabled) return;\n    \n    const updatedConfig = sortConfig.map(config =>\n      config.id === sortId\n        ? { ...config, direction: config.direction === 'asc' ? 'desc' as const : 'asc' as const }\n        : config\n    );\n    onSortChange(updatedConfig);\n  }, [sortConfig, onSortChange, disabled]);\n\n  // Handle moving a sort up in priority (lower priority number)\n  const handleMoveUp = useCallback((sortId: string) => {\n    if (disabled) return;\n    \n    const sortIndex = sortConfig.findIndex(c => c.id === sortId);\n    if (sortIndex <= 0) return; // Can't move up if already first or not found\n    \n    const newConfig = [...sortConfig];\n    [newConfig[sortIndex], newConfig[sortIndex - 1]] = [newConfig[sortIndex - 1], newConfig[sortIndex]];\n    onSortChange(reassignPriorities(newConfig));\n  }, [sortConfig, onSortChange, disabled]);\n\n  // Handle moving a sort down in priority (higher priority number)\n  const handleMoveDown = useCallback((sortId: string) => {\n    if (disabled) return;\n    \n    const sortIndex = sortConfig.findIndex(c => c.id === sortId);\n    if (sortIndex >= sortConfig.length - 1 || sortIndex === -1) return; // Can't move down if already last or not found\n    \n    const newConfig = [...sortConfig];\n    [newConfig[sortIndex], newConfig[sortIndex + 1]] = [newConfig[sortIndex + 1], newConfig[sortIndex]];\n    onSortChange(reassignPriorities(newConfig));\n  }, [sortConfig, onSortChange, disabled]);\n\n  // Handle removing a sort\n  const handleRemove = useCallback((sortId: string) => {\n    if (disabled) return;\n    \n    const filteredConfig = sortConfig.filter(config => config.id !== sortId);\n    onSortChange(reassignPriorities(filteredConfig));\n  }, [sortConfig, onSortChange, disabled]);\n\n  // Handle resetting all sorts\n  const handleReset = useCallback(() => {\n    if (disabled) return;\n    onSortChange([]);\n  }, [onSortChange, disabled]);\n\n  // Generate description text\n  const getSortDescription = (): React.ReactNode => {\n    if (sortConfig.length === 0) {\n      return emptyDescription;\n    }\n\n    if (activeDescription) {\n      return activeDescription;\n    }\n\n    const sortDescriptions = sortedConfig.map((sort, index) => {\n      const direction = sort.direction === 'asc' ? 'ascending' : 'descending';\n      return `${index + 1}. ${sort.label} (${direction})`;\n    });\n\n    if (sortDescriptions.length === 1) {\n      return `Sorted by: ${sortDescriptions[0]}`;\n    } else if (sortDescriptions.length === 2) {\n      return `Sorted by: ${sortDescriptions.join(' and ')}`;\n    } else {\n      const lastItem = sortDescriptions.pop();\n      return `Sorted by: ${sortDescriptions.join(', ')}, and ${lastItem}`;\n    }\n  };\n\n  // Build ARIA describedby\n  const describedBy = useMemo(() => {\n    const ids = ['sort-description'];\n    if (showHelp) ids.push('sort-help');\n    if (ariaDescribedBy) ids.push(ariaDescribedBy);\n    return ids.join(' ');\n  }, [showHelp, ariaDescribedBy]);\n\n  // If no sorts active, show empty state\n  if (sortConfig.length === 0) {\n    return (\n      <div className={`sort-status-control sort-status-control--empty ${className}`}>\n        <div \n          className=\"sort-status-control__description\"\n          id=\"sort-description\"\n          aria-live=\"polite\"\n        >\n          {getSortDescription()}\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className={`sort-status-control ${className}`}>\n      {/* Screen reader description */}\n      <div \n        className=\"sort-status-control__description sort-status-control__description--active\"\n        id=\"sort-description\"\n        aria-live=\"polite\"\n      >\n        {getSortDescription()}\n      </div>\n\n      {/* Sort tags container */}\n      <div \n        className=\"sort-status-control__tags\"\n        role=\"list\"\n        aria-label={ariaLabel}\n        aria-describedby={describedBy}\n      >\n        <div className=\"sort-status-control__tags-label\">\n          Current sorting:\n        </div>\n        \n        {sortedConfig.map((config) => (\n          <div\n            key={config.id}\n            className=\"sort-status-control__tag-container\"\n            role=\"listitem\"\n          >\n            <Tag\n              text=\"\"\n              color=\"blue\"\n              className=\"sort-status-control__tag\"\n              closable\n              onClose={() => handleRemove(config.id)}\n              disabled={disabled}\n            >\n              <div className=\"sort-status-control__tag-content\">\n                <span className=\"sort-status-control__tag-priority\">\n                  {config.priority + 1}\n                </span>\n                <span className=\"sort-status-control__tag-label\">\n                  {config.label}\n                </span>\n                <button\n                  type=\"button\"\n                  className=\"sort-status-control__tag-direction\"\n                  onClick={() => handleDirectionToggle(config.id)}\n                  disabled={disabled}\n                  aria-label={`Toggle sort direction for ${config.label}. Currently ${config.direction === 'asc' ? 'ascending' : 'descending'}`}\n                  title=\"Click to toggle between ascending and descending\"\n                >\n                  {config.direction === 'asc' ? DEFAULT_DIRECTION_LABELS.asc : DEFAULT_DIRECTION_LABELS.desc}\n                </button>\n                <div className=\"sort-status-control__tag-actions\">\n                  <button\n                    type=\"button\"\n                    className=\"sort-status-control__move-button\"\n                    onClick={() => handleMoveUp(config.id)}\n                    disabled={disabled || !canMoveUp(config.id, sortConfig)}\n                    aria-label={`Move ${config.label} sort up in priority`}\n                    title=\"Move up in priority\"\n                  >\n                    \u25B2\n                  </button>\n                  <button\n                    type=\"button\"\n                    className=\"sort-status-control__move-button\"\n                    onClick={() => handleMoveDown(config.id)}\n                    disabled={disabled || !canMoveDown(config.id, sortConfig)}\n                    aria-label={`Move ${config.label} sort down in priority`}\n                    title=\"Move down in priority\"\n                  >\n                    \u25BC\n                  </button>\n                </div>\n              </div>\n            </Tag>\n          </div>\n        ))}\n      </div>\n\n      {/* Reset button */}\n      {showReset && (\n        <div className=\"sort-status-control__actions\">\n          <Button\n            variant=\"secondary\"\n            onClick={handleReset}\n            disabled={disabled}\n            aria-label=\"Reset all sorting\"\n            className=\"sort-status-control__reset-button\"\n          >\n            Clear All Sorts\n          </Button>\n        </div>\n      )}\n\n      {/* Instructions for users */}\n      {showHelp && (\n        <div className=\"sort-status-control__help\" id=\"sort-help\">\n          <small>\n            Click {DEFAULT_DIRECTION_LABELS.asc}/{DEFAULT_DIRECTION_LABELS.desc} to toggle ascending/descending. \n            Use \u25B2/\u25BC to change sort priority. Click \u00D7 to remove a sort.\n          </small>\n        </div>\n      )}\n    </div>\n  );\n};\n", "/**\n * Sort Status Control Component Types\n */\n\nimport { ReactNode } from 'react';\n\n/**\n * Individual sort configuration for a column\n */\nexport interface SortConfig {\n  /** Unique identifier for the sort column */\n  id: string;\n  /** Display label for the sort column */\n  label: string;\n  /** Sort direction - ascending or descending */\n  direction: 'asc' | 'desc';\n  /** Priority order for multi-column sorting (0 = highest priority) */\n  priority: number;\n}\n\n/**\n * Props for the SortStatusControl component\n */\nexport interface SortStatusControlProps {\n  /** Current sort configuration array */\n  sortConfig: SortConfig[];\n  /** Callback when sort configuration changes */\n  onSortChange: (newSortConfig: SortConfig[]) => void;\n  /** Optional CSS class name for styling */\n  className?: string;\n  /** Optional description text when no sorts are active */\n  emptyDescription?: ReactNode;\n  /** Optional description text when sorts are active */\n  activeDescription?: ReactNode;\n  /** Show/hide the reset button */\n  showReset?: boolean;\n  /** Show/hide the help text */\n  showHelp?: boolean;\n  /** Maximum number of sorts allowed */\n  maxSorts?: number;\n  /** Disable all interactions */\n  disabled?: boolean;\n  /** ARIA label for the sort status region */\n  ariaLabel?: string;\n  /** Additional ARIA describedby IDs */\n  ariaDescribedBy?: string;\n}\n\n/**\n * Internal event handlers for sort operations\n */\nexport interface SortStatusHandlers {\n  /** Toggle sort direction for a specific sort */\n  handleDirectionToggle: (sortId: string) => void;\n  /** Move a sort up in priority */\n  handleMoveUp: (sortId: string) => void;\n  /** Move a sort down in priority */\n  handleMoveDown: (sortId: string) => void;\n  /** Remove a sort from the configuration */\n  handleRemove: (sortId: string) => void;\n  /** Reset all sorts */\n  handleReset: () => void;\n}\n\n/**\n * Helper type for sort direction labels\n */\nexport type SortDirectionLabel = {\n  asc: string;\n  desc: string;\n};\n\n/**\n * Default sort direction labels\n */\nexport const DEFAULT_DIRECTION_LABELS: SortDirectionLabel = {\n  asc: '\u2191',\n  desc: '\u2193'\n};\n\n/**\n * Utility type for creating new sort configs\n */\nexport type CreateSortConfig = Omit<SortConfig, 'priority'>;\n\n/**\n * Utility function type for sorting the sort configs by priority\n */\nexport type SortConfigSorter = (configs: SortConfig[]) => SortConfig[];\n\n/**\n * Helper function to create a new sort config\n */\nexport function createSortConfig(\n  id: string,\n  label: string,\n  direction: 'asc' | 'desc' = 'asc'\n): CreateSortConfig {\n  return { id, label, direction };\n}\n\n/**\n * Helper function to sort configs by priority\n */\nexport const sortByPriority: SortConfigSorter = (configs) =>\n  [...configs].sort((a, b) => a.priority - b.priority);\n\n/**\n * Helper function to reassign priorities after reordering\n */\nexport function reassignPriorities(configs: SortConfig[]): SortConfig[] {\n  return configs.map((config, index) => ({\n    ...config,\n    priority: index\n  }));\n}\n\n/**\n * Helper function to validate sort configuration\n */\nexport function validateSortConfig(config: SortConfig): boolean {\n  return (\n    typeof config.id === 'string' &&\n    config.id.trim().length > 0 &&\n    typeof config.label === 'string' &&\n    config.label.trim().length > 0 &&\n    (config.direction === 'asc' || config.direction === 'desc') &&\n    typeof config.priority === 'number' &&\n    config.priority >= 0\n  );\n}\n\n/**\n * Helper function to find max priority in config array\n */\nexport function getMaxPriority(configs: SortConfig[]): number {\n  return configs.length > 0 ? Math.max(...configs.map(c => c.priority)) : -1;\n}\n\n/**\n * Helper function to check if a sort can move up\n */\nexport function canMoveUp(sortId: string, configs: SortConfig[]): boolean {\n  const sort = configs.find(c => c.id === sortId);\n  return sort ? sort.priority > 0 : false;\n}\n\n/**\n * Helper function to check if a sort can move down\n */\nexport function canMoveDown(sortId: string, configs: SortConfig[]): boolean {\n  const sort = configs.find(c => c.id === sortId);\n  const maxPriority = getMaxPriority(configs);\n  return sort ? sort.priority < maxPriority : false;\n}\n", "/**\n * Generic factory helpers for creating tabs configurations\n */\n\nimport { TabPanelConfig } from './AriaTabsDataGridTypes';\nimport { AriaDataGridColumn, SortConfig } from './AriaDataGridTypes';\n\n/**\n * Column definition for generic tab creation\n */\nexport interface GenericColumnDefinition<T> {\n  key: string;\n  label: string;\n  render?: (data: T) => any;\n  sortable?: boolean;\n}\n\n/**\n * Tab definition for generic tab creation\n */\nexport interface GenericTabDefinition<T = any> {\n  id: string;\n  label: string;\n  columns: GenericColumnDefinition<T>[];\n  filter?: (data: T[]) => T[];\n  sortConfig?: SortConfig[];\n  ariaLabel?: string;\n  ariaDescription?: string;\n  className?: string;\n  disabled?: boolean;\n}\n\n/**\n * Generic factory function to create tabs configuration\n */\nexport const createGenericTabsConfig = <T,>(\n  data: T[],\n  tabDefinitions: GenericTabDefinition<T>[]\n): TabPanelConfig<T>[] => {\n  return tabDefinitions.map(def => ({\n    id: def.id,\n    label: def.label,\n    data: def.filter ? def.filter(data) : data,\n    columns: def.columns.map(col => ({\n      key: col.key,\n      label: col.label,\n      render: col.render\n    })),\n    sortConfig: def.sortConfig,\n    ariaLabel: def.ariaLabel || `${def.label} Data Grid`,\n    ariaDescription: def.ariaDescription || `Data grid showing ${def.label.toLowerCase()}`,\n    className: def.className,\n    disabled: def.disabled\n  }));\n};\n\n/**\n * Helper function to create simple data views\n */\nexport const createSimpleDataView = <T,>(\n  data: T[],\n  config: {\n    id: string;\n    label: string;\n    columns: Array<{\n      key: keyof T;\n      label: string;\n      render?: (value: any, data: T) => any;\n    }>;\n    defaultSort?: {\n      key: keyof T;\n      direction: 'asc' | 'desc';\n    };\n    ariaLabel?: string;\n    className?: string;\n    disabled?: boolean;\n  }\n): TabPanelConfig<T> => {\n  return {\n    id: config.id,\n    label: config.label,\n    data,\n    columns: config.columns.map(col => ({\n      key: col.key as string,\n      label: col.label,\n      render: col.render ? (data: T) => col.render!(data[col.key], data) : undefined\n    })),\n    sortConfig: config.defaultSort \n      ? [{ key: config.defaultSort.key as string, direction: config.defaultSort.direction }]\n      : undefined,\n    ariaLabel: config.ariaLabel || `${config.label} Data Grid`,\n    ariaDescription: `Data grid showing ${config.label.toLowerCase()}`,\n    className: config.className,\n    disabled: config.disabled\n  };\n};\n\n/**\n * Helper function for common business data patterns\n */\nexport const createBusinessDataTabs = <T extends Record<string, any>>(\n  data: T[],\n  options: {\n    nameField: keyof T;\n    statusField?: keyof T;\n    dateField?: keyof T;\n    amountField?: keyof T;\n    additionalFields?: Array<{\n      key: keyof T;\n      label: string;\n      render?: (value: any) => any;\n    }>;\n  }\n): TabPanelConfig<T>[] => {\n  const baseColumns = [\n    { key: options.nameField as string, label: 'Name' }\n  ];\n\n  if (options.statusField) {\n    baseColumns.push({ key: options.statusField as string, label: 'Status' });\n  }\n\n  if (options.dateField) {\n    baseColumns.push({ \n      key: options.dateField as string, \n      label: 'Date',\n      render: (data: T) => {\n        const value = (data as any)[options.dateField!];\n        return (value as any) instanceof Date ? (value as Date).toLocaleDateString() : value;\n      }\n    } as AriaDataGridColumn);\n  }\n\n  if (options.amountField) {\n    baseColumns.push({ \n      key: options.amountField as string, \n      label: 'Amount',\n      render: (data: T) => {\n        const value = (data as any)[options.amountField!];\n        return typeof value === 'number' ? `$${value.toFixed(2)}` : value;\n      }\n    } as AriaDataGridColumn);\n  }\n\n  if (options.additionalFields) {\n    baseColumns.push(...options.additionalFields.map(field => ({\n      key: field.key as string,\n      label: field.label,\n      render: field.render ? (data: T) => field.render!(data[field.key]) : undefined\n    })));\n  }\n\n  return [\n    {\n      id: 'overview',\n      label: 'Overview',\n      data,\n      columns: baseColumns,\n      ariaLabel: 'Data Overview Grid',\n      ariaDescription: 'Overview of all data items'\n    }\n  ];\n};\n\n/**\n * Default data comparison functions for common scenarios\n */\nexport const dataComparators = {\n  /** JSON-based comparison (safe but slower) */\n  json: <T,>(a: T, b: T): boolean => JSON.stringify(a) === JSON.stringify(b),\n  \n  /** ID-based comparison */\n  id: <T extends { id: string | number },>(a: T, b: T): boolean => a.id === b.id,\n  \n  /** Name-based comparison */\n  name: <T extends { name: string },>(a: T, b: T): boolean => a.name === b.name,\n  \n  /** Custom field comparison */\n  field: <T,>(fieldName: keyof T) => (a: T, b: T): boolean => a[fieldName] === b[fieldName],\n  \n  /** Multi-field comparison */\n  multiField: <T,>(fields: Array<keyof T>) => (a: T, b: T): boolean => fields.every(field => a[field] === b[field])\n};\n\n/**\n * Default filter functions for common scenarios\n */\nexport const filterFunctions = {\n  /** No filtering */\n  none: <T,>(data: T[], _filters?: any): T[] => data,\n  \n  /** Simple object property matching */\n  simple: <T,>(data: T[], filters?: Record<string, any>): T[] => {\n    if (!filters) return data;\n    \n    return data.filter(item => {\n      return Object.keys(filters).every(key => {\n        const filterValue = filters[key];\n        const itemValue = (item as any)[key];\n        \n        if (filterValue === null || filterValue === undefined) return true;\n        if (Array.isArray(filterValue)) {\n          return filterValue.includes(itemValue);\n        }\n        \n        return itemValue === filterValue;\n      });\n    });\n  },\n  \n  /** Text search across multiple fields */\n  textSearch: <T,>(searchFields: Array<keyof T>) => (data: T[], filters?: { search?: string }): T[] => {\n    if (!filters?.search) return data;\n    \n    const searchTerm = filters.search.toLowerCase();\n    return data.filter(item => \n      searchFields.some(field => \n        String((item as any)[field]).toLowerCase().includes(searchTerm)\n      )\n    );\n  }\n};\n\n/**\n * Default boolean renderers\n */\nexport const booleanRenderers = {\n  /** Simple checkmark/cross */\n  simple: (value: boolean) => value ? '\u2713' : '\u2717',\n  \n  /** Yes/No text */\n  yesNo: (value: boolean) => value ? 'Yes' : 'No',\n  \n  /** Enabled/Disabled */\n  enabledDisabled: (value: boolean) => value ? 'Enabled' : 'Disabled',\n  \n  /** Active/Inactive */\n  activeInactive: (value: boolean) => value ? 'Active' : 'Inactive'\n};\n", "import React from 'react';\n\nexport interface IconConfig {\n\tvalue: string | boolean;\n\ticon: React.ReactNode;\n}\n\nexport const bedIcon: IconConfig[] = [\n\t{\n\t\tvalue: \"bed\",\n\t\ticon: (\n\t\t\t<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\" fill=\"none\" aria-hidden=\"true\" width=\"100%\" height=\"34\">\n\t\t\t\t<rect x=\"5\" y=\"10\" width=\"14\" height=\"5\" stroke=\"#000\" strokeWidth=\"2\" strokeLinecap=\"round\"/>\n\t\t\t\t<rect x=\"5\" y=\"7\" width=\"5\" height=\"3\" stroke=\"#000\" strokeWidth=\"2\" strokeLinecap=\"round\" fill=\"none\"/>\n\t\t\t\t<line x1=\"5\" y1=\"15\" x2=\"5\" y2=\"19\" stroke=\"#000\" strokeWidth=\"2\" strokeLinecap=\"round\"/>\n\t\t\t\t<line x1=\"19\" y1=\"15\" x2=\"19\" y2=\"19\" stroke=\"#000\" strokeWidth=\"2\" strokeLinecap=\"round\"/>\n\t\t\t</svg>\n\t\t),\n\t},\n\t{\n\t\tvalue: \"cot\",\n\t\ticon: (\n\t\t\t<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\" fill=\"none\" aria-hidden=\"true\" width=\"100%\" height=\"34\">\n\t\t\t\t<rect x=\"5\" y=\"7\" width=\"14\" height=\"10\" stroke=\"#000\" strokeWidth=\"2\" strokeLinecap=\"round\"/>\n\t\t\t\t<line x1=\"7\" y1=\"7\" x2=\"7\" y2=\"17\" stroke=\"#000\" strokeWidth=\"2\" strokeLinecap=\"round\"/>\n\t\t\t\t<line x1=\"17\" y1=\"7\" x2=\"17\" y2=\"17\" stroke=\"#000\" strokeWidth=\"2\" strokeLinecap=\"round\"/>\n\t\t\t</svg>\n\t\t),\n\t},\n\t{\n\t\tvalue: \"swap space\",\n\t\ticon: (\n\t\t\t<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\" fill=\"none\" aria-hidden=\"true\" width=\"100%\" height=\"34\">\n\t\t\t\t<line x1=\"7\" y1=\"8\" x2=\"17\" y2=\"8\" stroke=\"#000\" strokeWidth=\"2\" strokeLinecap=\"round\"/>\n\t\t\t\t<polyline points=\"13 4 17 8 13 12\" stroke=\"#000\" strokeWidth=\"2\" strokeLinecap=\"round\" fill=\"none\"/>\n\t\t\t\t<line x1=\"17\" y1=\"16\" x2=\"7\" y2=\"16\" stroke=\"#000\" strokeWidth=\"2\" strokeLinecap=\"round\"/>\n\t\t\t\t<polyline points=\"11 20 7 16 11 12\" stroke=\"#000\" strokeWidth=\"2\" strokeLinecap=\"round\" fill=\"none\"/>\n\t\t\t</svg>\n\t\t),\n\t},\n\t{\n\t\tvalue: \"trolley\",\n\t\ticon: (\n\t\t\t<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\" fill=\"none\" aria-hidden=\"true\" width=\"100%\" height=\"34\">\n\t\t\t\t<rect x=\"5\" y=\"7\" width=\"14\" height=\"5\" stroke=\"#000\" strokeWidth=\"2\" strokeLinecap=\"round\"/>\n\t\t\t\t<line x1=\"8\" y1=\"12\" x2=\"8\" y2=\"17\" stroke=\"#000\" strokeWidth=\"2\" strokeLinecap=\"round\"/>\n\t\t\t\t<line x1=\"16\" y1=\"12\" x2=\"16\" y2=\"17\" stroke=\"#000\" strokeWidth=\"2\" strokeLinecap=\"round\"/>\n\t\t\t\t<circle cx=\"8\" cy=\"19\" r=\"1.5\" fill=\"#000\"/>\n\t\t\t\t<circle cx=\"16\" cy=\"19\" r=\"1.5\" fill=\"#000\"/>\n\t\t\t</svg>\n\t\t),\n\t},\n];\n\nexport const completeIcon: IconConfig[] = [\n\t{\n\t\tvalue: \"due\",\n\t\ticon: (\n\t\t\t<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\" fill=\"none\" aria-hidden=\"true\" width=\"100%\" height=\"34\">\n\t\t\t\t<rect x=\"3\" y=\"4\" width=\"18\" height=\"16\" stroke=\"#000\" strokeWidth=\"2\" strokeLinecap=\"round\" fill=\"none\"/>\n\t\t\t\t<line x1=\"3\" y1=\"9\" x2=\"21\" y2=\"9\" stroke=\"#000\" strokeWidth=\"2\" strokeLinecap=\"round\"/>\n\t\t\t\t<line x1=\"7\" y1=\"13\" x2=\"7\" y2=\"17\" stroke=\"#000\" strokeWidth=\"2\" strokeLinecap=\"round\"/>\n\t\t\t\t<line x1=\"12\" y1=\"13\" x2=\"12\" y2=\"17\" stroke=\"#000\" strokeWidth=\"2\" strokeLinecap=\"round\"/>\n\t\t\t\t<line x1=\"17\" y1=\"13\" x2=\"17\" y2=\"17\" stroke=\"#000\" strokeWidth=\"2\" strokeLinecap=\"round\"/>\n\t\t\t</svg>\n\t\t),\n\t},\n\t{\n\t\tvalue: \"overdue\",\n\t\ticon: (\n\t\t\t<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\" fill=\"none\" aria-hidden=\"true\" width=\"100%\" height=\"34\">\n\t\t\t\t<path d=\"M12 2L2 20H22L12 2Z\" stroke=\"#ffbf47\" strokeWidth=\"2\" strokeLinecap=\"round\" fill=\"none\"/>\n\t\t\t\t<line x1=\"12\" y1=\"8\" x2=\"12\" y2=\"14\" stroke=\"#ffb81c\" strokeWidth=\"2\" strokeLinecap=\"round\"/>\n\t\t\t\t<circle cx=\"12\" cy=\"17\" r=\"1\" fill=\"#ffb81c\"/>\n\t\t\t</svg>\n\t\t),\n\t},\n\t{\n\t\tvalue: \"complete\",\n\t\ticon: (\n\t\t\t<svg className=\"nhsuk-icon__tick\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\" fill=\"none\" aria-hidden=\"true\" width=\"100%\" height=\"34\">\n\t\t\t\t<path strokeWidth=\"4\" strokeLinecap=\"round\" d=\"M18.4 7.8l-8.5 8.4L5.6 12\" stroke=\"#007f3b\"></path>\n\t\t\t</svg>\n\t\t),\n\t},\n];\n\nexport const transportStatusIcon: IconConfig[] = [\n\t{\n\t\tvalue: \"Confirmed\",\n\t\ticon: (\n\t\t\t<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\" fill=\"none\" aria-hidden=\"true\" width=\"100%\" height=\"34\">\n\t\t\t\t<rect x=\"3\" y=\"4\" width=\"18\" height=\"16\" stroke=\"#000\" strokeWidth=\"2\" strokeLinecap=\"round\" fill=\"none\"/>\n\t\t\t\t<line x1=\"3\" y1=\"9\" x2=\"21\" y2=\"9\" stroke=\"#000\" strokeWidth=\"2\" strokeLinecap=\"round\"/>\n\t\t\t\t<line x1=\"7\" y1=\"13\" x2=\"7\" y2=\"17\" stroke=\"#000\" strokeWidth=\"2\" strokeLinecap=\"round\"/>\n\t\t\t\t<line x1=\"12\" y1=\"13\" x2=\"12\" y2=\"17\" stroke=\"#000\" strokeWidth=\"2\" strokeLinecap=\"round\"/>\n\t\t\t\t<line x1=\"17\" y1=\"13\" x2=\"17\" y2=\"17\" stroke=\"#000\" strokeWidth=\"2\" strokeLinecap=\"round\"/>\n\t\t\t</svg>\n\t\t),\n\t},\n\t{\n\t\tvalue: \"Pending\",\n\t\ticon: (\n\t\t\t<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 100 100\" fill=\"none\" aria-hidden=\"true\" width=\"100%\" height=\"34\">\n\t\t\t\t<g id=\"pending-group\">\n\t\t\t\t\t<circle id=\"pending-oval\" stroke=\"none\" fill=\"rgb(255, 184, 28)\" cx=\"27\" cy=\"50\" r=\"6\" />\n\t\t\t\t\t<circle id=\"pending-oval2\" stroke=\"none\" fill=\"rgb(255, 184, 28)\" cx=\"50.5\" cy=\"50\" r=\"6\" />\n\t\t\t\t\t<circle id=\"pending-oval3\" stroke=\"none\" fill=\"rgb(255, 184, 28)\" cx=\"73.5\" cy=\"50\" r=\"6\" />\n\t\t\t\t</g>\n\t\t\t</svg>\n\t\t),\n\t},\n\t{\n\t\tvalue: \"In Progress\",\n\t\ticon: (\n\t\t\t<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\" fill=\"none\" aria-hidden=\"true\" width=\"100%\" height=\"34\">\n\t\t\t\t<rect x=\"3\" y=\"8\" width=\"16\" height=\"8\" stroke=\"#007f3b\" strokeWidth=\"2\" strokeLinecap=\"round\" fill=\"none\"/>\n\t\t\t\t<rect x=\"16\" y=\"10\" width=\"5\" height=\"6\" stroke=\"#007f3b\" strokeWidth=\"2\" strokeLinecap=\"round\" fill=\"none\"/>\n\t\t\t\t<circle cx=\"7\" cy=\"18\" r=\"2\" fill=\"#007f3b\"/>\n\t\t\t\t<circle cx=\"17\" cy=\"18\" r=\"2\" fill=\"#007f3b\"/>\n\t\t\t\t<line x1=\"6\" y1=\"12\" x2=\"10\" y2=\"12\" stroke=\"#007f3b\" strokeWidth=\"2\" strokeLinecap=\"round\"/>\n\t\t\t\t<line x1=\"8\" y1=\"10\" x2=\"8\" y2=\"14\" stroke=\"#007f3b\" strokeWidth=\"2\" strokeLinecap=\"round\"/>\n\t\t\t\t<line x1=\"10\" y1=\"6\" x2=\"14\" y2=\"6\" stroke=\"#007f3b\" strokeWidth=\"2\" strokeLinecap=\"round\"/>\n\t\t\t</svg>\n\t\t),\n\t},\n];\n\nexport const booleanIcon: IconConfig[] = [\n\t{\n\t\tvalue: true,\n\t\ticon: (\n\t\t\t<svg className=\"nhsuk-icon nhsuk-icon__tick\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\" fill=\"none\" aria-hidden=\"true\" width=\"100%\" height=\"34\">\n\t\t\t\t<path strokeWidth=\"4\" strokeLinecap=\"round\" d=\"M18.4 7.8l-8.5 8.4L5.6 12\" stroke=\"#007f3b\"></path>\n\t\t\t</svg>\n\t\t),\n\t},\n\t{\n\t\tvalue: false,\n\t\ticon: (\n\t\t\t<svg className=\"nhsuk-icon nhsuk-icon__cross\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\" aria-hidden=\"true\" width=\"100%\" height=\"34\">\n\t\t\t\t<path d=\"M17 18.5c-.4 0-.8-.1-1.1-.4l-10-10c-.6-.6-.6-1.6 0-2.1.6-.6 1.5-.6 2.1 0l10 10c.6.6.6 1.5 0 2.1-.3.3-.6.4-1 .4z\" fill=\"#d5281b\"></path>\n\t\t\t\t<path d=\"M7 18.5c-.4 0-.8-.1-1.1-.4-.6-.6-.6-1.5 0-2.1l10-10c.6-.6 1.5-.6 2.1 0 .6.6.6 1.5 0 2.1l-10 10c-.3.3-.6.4-1 .4z\" fill=\"#d5281b\"></path>\n\t\t\t</svg>\n\t\t),\n\t},\n];\n", "import { \n  EWSPatientData,\n  HealthcareViewConfig,\n  HealthcareFilter,\n  TabPanelConfig\n} from './AriaTabsDataGridTypes';\nimport React from 'react';\nimport { booleanIcon } from './icons';\n\n/**\n * Healthcare-specific data comparison function\n * Uses name + bed_name as unique identifier for healthcare data\n */\nexport const healthcareDataComparator = (data1: EWSPatientData, data2: EWSPatientData): boolean => {\n  if (!data1 || !data2) return data1 === data2;\n  \n  // For healthcare data with name and bed_name\n  if (data1.name && data1.bed_name && data2.name && data2.bed_name) {\n    return data1.name === data2.name && data1.bed_name === data2.bed_name;\n  }\n  \n  // Fallback to JSON comparison\n  return JSON.stringify(data1) === JSON.stringify(data2);\n};\n\n/**\n * Healthcare-specific data filtering function\n */\nexport const healthcareFilterFunction = (data: EWSPatientData[], filters?: HealthcareFilter): EWSPatientData[] => {\n  if (!filters) return data;\n\n  return data.filter(patient => {\n    // EWS Score range filter\n    if (filters.ewsScoreRange) {\n      const [min, max] = filters.ewsScoreRange;\n      if (patient.ews_score < min || patient.ews_score > max) return false;\n    }\n\n    // Ward filter\n    if (filters.wards && filters.wards.length > 0) {\n      if (!filters.wards.includes(patient.ward_name)) return false;\n    }\n\n    // Specialty filter\n    if (filters.specialties && filters.specialties.length > 0) {\n      if (!filters.specialties.includes(patient.speciality)) return false;\n    }\n\n    // Discharge status filter\n    if (filters.dischargeStatuses && filters.dischargeStatuses.length > 0) {\n      if (!filters.dischargeStatuses.includes(patient.early_discharge_notification)) return false;\n    }\n\n    // AVPU filter\n    if (filters.avpuLevels && filters.avpuLevels.length > 0) {\n      if (!filters.avpuLevels.includes(patient.ews_data.avpu)) return false;\n    }\n\n    // Medical optimization filter\n    if (filters.medicallyOptimised !== null && filters.medicallyOptimised !== undefined) {\n      if (patient.medically_optimised !== filters.medicallyOptimised) return false;\n    }\n\n    // Fast track filter\n    if (filters.fastTrack !== null && filters.fastTrack !== undefined) {\n      if (patient.fast_track !== filters.fastTrack) return false;\n    }\n\n    return true;\n  });\n};\n\n/**\n * NHS-compliant boolean rendering function with SVG icons\n */\nexport const nhsBooleanRenderer = (value: boolean | string): React.ReactNode => {\n  // For boolean values, use the imported NHS SVG icons\n  if (typeof value === 'boolean') {\n    const iconEntry = booleanIcon.find(icon => icon.value === value);\n    return iconEntry ? iconEntry.icon : null;\n  }\n\n  // Handle other value types (alert, voice, pain, unresponsive)\n  const iconEntry = booleanIcon.find(icon => icon.value === value);\n  return iconEntry ? iconEntry.icon : String(value);\n};\n\n/**\n * Healthcare-specific unique ID function\n */\nexport const healthcareGetDataId = (data: EWSPatientData): string => {\n  return `${data.name}-${data.bed_name}`;\n};\n\n/**\n * Healthcare column configurations for EWS patient data\n */\nconst createHealthcareViewConfig = (): HealthcareViewConfig => ({\n  overview: [\n    { key: 'name', label: 'Patient Name' },\n    { key: 'age', label: 'Age' },\n    { key: 'ward_name', label: 'Ward' },\n    { key: 'bed_name', label: 'Bed' },\n    { key: 'ews_score', label: 'EWS Score' },\n    { key: 'speciality', label: 'Specialty' },\n    { key: 'consultant', label: 'Consultant' }\n  ],\n  vitals: [\n    { key: 'name', label: 'Patient Name' },\n    { key: 'ews_score', label: 'EWS Score' },\n    { key: 'respiratory_rate_bpm', label: 'Respiratory Rate', render: (data: EWSPatientData) => data.ews_data.respiratory_rate_bpm },\n    { key: 'sp02', label: 'SpO2 %', render: (data: EWSPatientData) => data.ews_data.sp02 },\n    { key: 'temperature', label: 'Temperature \u00B0C', render: (data: EWSPatientData) => data.ews_data.temperature },\n    { key: 'systolic_bp', label: 'Systolic BP', render: (data: EWSPatientData) => data.ews_data.systolic_bp },\n    { key: 'heart_rate', label: 'Heart Rate', render: (data: EWSPatientData) => data.ews_data.heart_rate },\n    { key: 'avpu', label: 'AVPU', render: (data: EWSPatientData) => data.ews_data.avpu.toUpperCase() }\n  ],\n  discharge: [\n    { key: 'name', label: 'Patient Name' },\n    { key: 'anticipated_discharge_date', label: 'Anticipated Discharge', render: (data: EWSPatientData) => new Date(data.anticipated_discharge_date).toLocaleDateString() },\n    { key: 'early_discharge_notification', label: 'Discharge Status' },\n    { key: 'medically_optimised', label: 'Medically Optimised' },\n    { key: 'criteria_to_reside', label: 'Criteria to Reside' },\n    { key: 'fast_track', label: 'Fast Track' },\n    { key: 'transport_status', label: 'Transport Status' },\n    { key: 'pathway', label: 'Pathway' }\n  ],\n  logistics: [\n    { key: 'name', label: 'Patient Name' },\n    { key: 'ward_name', label: 'Ward' },\n    { key: 'room_name', label: 'Room' },\n    { key: 'bed_name', label: 'Bed' },\n    { key: 'bed_type', label: 'Bed Type' },\n    { key: 'transport_booking', label: 'Transport Booked' },\n    { key: 'transport_mobility', label: 'Transport Type' },\n    { key: 'district_nurse_referral', label: 'District Nurse' },\n    { key: 'equipment', label: 'Equipment' }\n  ]\n});\n\n/**\n * Factory function to create healthcare-specific tabs configuration\n */\nexport const createTCHTabsConfig = (patients: EWSPatientData[]): TabPanelConfig<EWSPatientData>[] => {\n  const viewConfig = createHealthcareViewConfig();\n  \n  return [\n    {\n      id: 'overview',\n      label: 'Patient Overview',\n      data: patients,\n      columns: viewConfig.overview,\n      ariaLabel: 'Patient Overview Data Grid',\n      ariaDescription: 'Overview of all patients with basic information'\n    },\n    {\n      id: 'vitals',\n      label: 'Vital Signs & EWS',\n      data: patients,\n      columns: viewConfig.vitals,\n      sortConfig: [\n        { key: 'ews_score', direction: 'desc' },\n        { key: 'name', direction: 'asc' },\n        { key: 'ward_name', direction: 'asc' }\n      ],\n      ariaLabel: 'Patient Vital Signs Data Grid',\n      ariaDescription: 'Patient vital signs and Early Warning Scores'\n    },\n    {\n      id: 'discharge',\n      label: 'Discharge Planning',\n      data: patients.filter(p => p.anticipated_discharge_date),\n      columns: viewConfig.discharge,\n      sortConfig: [\n        { key: 'anticipated_discharge_date', direction: 'asc' },\n        { key: 'discharge_status', direction: 'desc' }\n      ],\n      ariaLabel: 'Discharge Planning Data Grid',\n      ariaDescription: 'Patient discharge planning and status information'\n    },\n    {\n      id: 'logistics',\n      label: 'Bed Management',\n      data: patients,\n      columns: viewConfig.logistics,\n      sortConfig: [{ key: 'ward_name', direction: 'asc' }],\n      ariaLabel: 'Bed Management Data Grid',\n      ariaDescription: 'Patient location and logistics information'\n    }\n  ];\n};\n\n/**\n * Healthcare-specific data operation configuration\n */\nexport const tchDataConfig = {\n  dataComparator: healthcareDataComparator,\n  filterFunction: healthcareFilterFunction,\n  booleanRenderer: nhsBooleanRenderer,\n  getDataId: healthcareGetDataId\n};\n", "// Helper function to format headers\nexport const formatHeader = (header: string): string =>\n\theader\n\t\t.replace(/([a-z])([A-Z])/g, '$1 $2') // Split camelCase\n\t\t.replace(/_/g, ' ') // Replace underscores with spaces\n\t\t.replace(/\\./g, ' ') // Replace dots with spaces\n\t\t.replace(/\\b\\w/g, char => char.toUpperCase()) // Capitalize the first letter of each word\n\t\t.replace(/\\b[A-Z]{3}\\b/g, match => match.toUpperCase()) // Keep three-letter acronyms capitalised\n\n// Helper function to parse date strings into the format \"13th Month 2024\"\nexport const parseDate = (dateString: string | null): string => {\n\tif (!dateString) return '';\n\tconst date = new Date(dateString);\n\tif (isNaN(date.getTime())) return dateString; // Return the original if parsing fails\n\n\tconst day = date.getDate();\n\tconst month = date.toLocaleString('default', { month: 'long' });\n\tconst year = date.getFullYear();\n\n\tconst suffix =\n\t\tday % 10 === 1 && day !== 11\n\t\t\t? 'st'\n\t\t\t: day % 10 === 2 && day !== 12\n\t\t\t? 'nd'\n\t\t\t: day % 10 === 3 && day !== 13\n\t\t\t? 'rd'\n\t\t\t: 'th';\n\n\treturn `${day}${suffix} ${month} ${year}`;\n};\n"],
  "mappings": "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",
  "names": ["classNames", "classNames", "useCallback", "useMemo", "useRef", "forwardRef", "useEffect", "useState", "useCallback", "useMemo", "useRef", "React", "jsx", "useCallback", "useState", "React", "id", "style", "title", "ariaLabel", "ariaDescribedBy", "ariaLabelledBy", "tabIndex", "import_classnames", "jsx", "jsxs", "classNames", "jsx", "jsxs", "useRef", "useCallback", "useMemo", "Fragment", "jsx", "jsxs", "forwardRef", "AriaTabsDataGrid", "useState", "useMemo", "useEffect", "useCallback", "useRef", "newRowIndex", "key", "useCallback", "useMemo", "jsx", "jsxs", "SortStatusControl", "useMemo", "useCallback", "jsx", "jsxs", "iconEntry"]
}
