{
  "version": 3,
  "sources": ["../../../../src/components/StepByStepNavigation/StepByStepNavigation.tsx", "../../../../node_modules/clsx/dist/clsx.mjs"],
  "sourcesContent": ["import React, { useCallback, useMemo, useState } from 'react';\nimport clsx from 'clsx';\nimport { StepByStepNavigationProps, StepItem } from './StepByStepNavigation.types';\nimport './StepByStepNavigation.scss';\n\nconst HeadingTag: React.FC<{ level: 2 | 3 | 4; children: React.ReactNode; className?: string }> = ({ level, children, className }) => {\n  const Tag = (`h${level}` as unknown) as React.ElementType;\n  return React.createElement(Tag, { className }, children);\n};\n\nconst DefaultLink = ({ href, children, className, ...rest }: { href: string; children: React.ReactNode; className?: string } & Record<string, unknown>) => (\n  <a href={href} className={className} {...rest}>{children}</a>\n);\n\nfunction renderTitleContent(item: StepItem, isCurrent: boolean) {\n  return (\n    <span className={clsx('nhs-step-nav__title', { 'nhs-step-nav__title--current': isCurrent })}>\n      {item.title}\n    </span>\n  );\n}\n\nexport const StepByStepNavigation: React.FC<StepByStepNavigationProps> = ({\n  id,\n  className,\n  ariaLabel = 'Step by step',\n  heading,\n  summary,\n  headingLevel = 3,\n  variant = 'full-width',\n  items,\n  numbered = true,\n  currentStepId,\n  renderLink,\n  collapsible = true,\n  singleOpen = false,\n  defaultExpandedIds,\n  expandedIds,\n  onToggle,\n  showAllControls = false,\n  autoFocusExpanded = false,\n}) => {\n  const Link = renderLink ?? DefaultLink;\n\n  const containerProps = variant === 'sidebar'\n    ? { as: 'aside' as const, className: 'nhs-step-nav nhs-step-nav--sidebar' }\n    : { as: 'nav' as const, className: 'nhs-step-nav nhs-step-nav--full' };\n\n  const ContainerTag = (containerProps.as === 'aside' ? 'aside' : 'nav') as React.ElementType;\n\n  const uncontrolled = expandedIds === undefined;\n  const [internalExpanded, setInternalExpanded] = useState<Set<string>>(\n    () => new Set(defaultExpandedIds ?? [])\n  );\n\n  const expandedSet = useMemo(() => (uncontrolled ? internalExpanded : new Set(expandedIds)), [uncontrolled, internalExpanded, expandedIds]);\n\n  const hasAnyContent = useMemo(\n    () => items.some((it) => (it.description || (it.items && it.items.length > 0))),\n    [items]\n  );\n\n  const isExpanded = useCallback((stepId: string) => expandedSet.has(stepId), [expandedSet]);\n\n  const setExpanded = useCallback((stepId: string, next: boolean) => {\n    if (uncontrolled) {\n      setInternalExpanded((prev) => {\n        if (singleOpen) {\n          // In singleOpen mode, open only this id (or none if collapsing)\n          return next ? new Set([stepId]) : new Set();\n        }\n        const nextSet = new Set(prev);\n        if (next) nextSet.add(stepId); else nextSet.delete(stepId);\n        return nextSet;\n      });\n    }\n    onToggle?.(stepId, next);\n  }, [uncontrolled, onToggle, singleOpen]);\n\n  const toggleAll = useCallback((expand: boolean) => {\n    const ids = items.filter((it) => it.description || (it.items && it.items.length > 0)).map((it) => it.id);\n    if (uncontrolled) {\n      setInternalExpanded(() => (expand ? (singleOpen ? new Set(ids.slice(0, 1)) : new Set(ids)) : new Set()));\n    }\n    ids.forEach((sid) => onToggle?.(sid, expand));\n  }, [items, uncontrolled, onToggle, singleOpen]);\n\n  const onItemToggle = useCallback((item: StepItem, buttonEl?: HTMLButtonElement | null) => {\n    const next = !isExpanded(item.id);\n    setExpanded(item.id, next);\n    if (next && autoFocusExpanded) {\n      // move focus to first focusable in content region, if any\n      const panel = document.getElementById(`sbs-${item.id}-panel`);\n      if (panel) {\n        const focusable = panel.querySelector<HTMLElement>(\n          'a, button, input, select, textarea, [tabindex]:not([tabindex=\"-1\"])'\n        );\n        focusable?.focus();\n      }\n    } else {\n      // keep focus on the toggle button\n      buttonEl?.focus();\n    }\n  }, [autoFocusExpanded, isExpanded, setExpanded]);\n\n  return React.createElement(\n    ContainerTag,\n    { id, 'aria-label': ariaLabel, className: clsx(containerProps.className, className) },\n    <>\n      {variant === 'full-width' && (heading || summary) && (\n        <div className=\"nhs-step-nav__intro\">\n          {heading && (\n            <HeadingTag level={headingLevel} className=\"nhs-step-nav__heading\">{heading}</HeadingTag>\n          )}\n          {summary && (\n            <p className=\"nhs-step-nav__summary\">{summary}</p>\n          )}\n          {collapsible && !singleOpen && showAllControls && hasAnyContent && (\n            <div className=\"nhs-step-nav__controls\">\n              <button type=\"button\" className=\"nhs-step-nav__control\" onClick={() => toggleAll(true)}>Show all</button>\n              <button type=\"button\" className=\"nhs-step-nav__control\" onClick={() => toggleAll(false)}>Hide all</button>\n            </div>\n          )}\n        </div>\n      )}\n      <ol className={clsx('nhs-step-nav__list', { 'nhs-step-nav__list--numbered': numbered })}>\n        {items.map((item, idx) => {\n          const isCurrent = currentStepId === item.id;\n          const itemClasses = clsx(\n            'nhs-step-nav__item',\n            isCurrent && 'nhs-step-nav__item--current',\n            item.status && `nhs-step-nav__item--${item.status}`\n          );\n\n          const title = item.href ? (\n            <Link href={item.href} className=\"nhs-step-nav__link\" aria-current={isCurrent ? 'step' : undefined}>\n              {renderTitleContent(item, isCurrent)}\n            </Link>\n          ) : (\n            renderTitleContent(item, isCurrent)\n          );\n\n          const hasContent = !!(item.description || (item.items && item.items.length > 0));\n          const expanded = collapsible && hasContent ? isExpanded(item.id) : true;\n          const headerId = `sbs-${item.id}-header`;\n          const panelId = `sbs-${item.id}-panel`;\n\n          return (\n            <li key={item.id || idx} className={itemClasses}>\n              <div className=\"nhs-step-nav__header\">\n                {title}\n                {(item.optional || item.duration || item.meta) && (\n                  <div className=\"nhs-step-nav__meta\">\n                    {item.optional && <span className=\"nhs-step-nav__optional\" aria-label=\"Optional\">Optional</span>}\n                    {item.duration && <span className=\"nhs-step-nav__duration\">{item.duration}</span>}\n                    {item.meta}\n                  </div>\n                )}\n                {collapsible && hasContent && (\n                  <button\n                    id={headerId}\n                    type=\"button\"\n                    className=\"nhs-step-nav__toggle\"\n                    aria-expanded={expanded}\n                    aria-controls={panelId}\n                    onClick={(e) => onItemToggle(item, e.currentTarget)}\n                    aria-label={(expanded ? 'Hide' : 'Show') + ` details for ${typeof item.title === 'string' ? item.title : 'this step'}`}\n                  >\n                    <span className=\"nhs-step-nav__toggle-icon\" aria-hidden=\"true\" />\n                  </button>\n                )}\n              </div>\n\n              {hasContent && (!collapsible || expanded) && (\n                <div\n                  id={panelId}\n                  role=\"region\"\n                  aria-labelledby={collapsible ? headerId : undefined}\n                  className={clsx('nhs-step-nav__content')}\n                >\n                  {item.description && <p className=\"nhs-step-nav__description\">{item.description}</p>}\n                  {item.items && item.items.length > 0 && (\n                    <ol className=\"nhs-step-nav__sublist\">\n                      {item.items.map((sub) => {\n                        const subCurrent = currentStepId === sub.id;\n                        const subTitle = sub.href ? (\n                          <Link href={sub.href} className=\"nhs-step-nav__sublink\" aria-current={subCurrent ? 'step' : undefined}>\n                            {renderTitleContent(sub, subCurrent)}\n                          </Link>\n                        ) : (\n                          renderTitleContent(sub, subCurrent)\n                        );\n                        return (\n                          <li key={sub.id} className={clsx('nhs-step-nav__subitem', sub.status && `nhs-step-nav__subitem--${sub.status}`)}>\n                            {subTitle}\n                          </li>\n                        );\n                      })}\n                    </ol>\n                  )}\n                </div>\n              )}\n            </li>\n          );\n        })}\n      </ol>\n    </>\n  );\n};\n\nexport default StepByStepNavigation;\n", "function r(e){var t,f,n=\"\";if(\"string\"==typeof e||\"number\"==typeof e)n+=e;else if(\"object\"==typeof e)if(Array.isArray(e)){var o=e.length;for(t=0;t<o;t++)e[t]&&(f=r(e[t]))&&(n&&(n+=\" \"),n+=f)}else for(f in e)e[f]&&(n&&(n+=\" \"),n+=f);return n}export function clsx(){for(var e,t,f=0,n=\"\",o=arguments.length;f<o;f++)(e=arguments[f])&&(t=r(e))&&(n&&(n+=\" \"),n+=t);return n}export default clsx;"],
  "mappings": "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",
  "names": []
}
