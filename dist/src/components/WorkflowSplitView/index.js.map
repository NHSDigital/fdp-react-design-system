{
  "version": 3,
  "sources": ["../../../../node_modules/classnames/index.js", "../../../../src/components/WorkflowSplitView/WorkflowSplitView.tsx", "../../../../src/components/WorkflowSplitView/components/CardsScroller.tsx", "../../../../src/components/Breadcrumb/Breadcrumb.tsx", "../../../../src/components/WorkflowSplitView/components/BreadcrumbsBar.tsx", "../../../../src/components/WorkflowSplitView/hooks/useWorkflowLayout.ts", "../../../../src/hooks/useBreakpoints.ts", "../../../../src/components/BackLink/BackLink.tsx", "../../../../src/components/BackLink/ForwardLink.tsx"],
  "sourcesContent": ["/*!\n\tCopyright (c) 2018 Jed Watson.\n\tLicensed under the MIT License (MIT), see\n\thttp://jedwatson.github.io/classnames\n*/\n/* global define */\n\n(function () {\n\t'use strict';\n\n\tvar hasOwn = {}.hasOwnProperty;\n\n\tfunction classNames () {\n\t\tvar classes = '';\n\n\t\tfor (var i = 0; i < arguments.length; i++) {\n\t\t\tvar arg = arguments[i];\n\t\t\tif (arg) {\n\t\t\t\tclasses = appendClass(classes, parseValue(arg));\n\t\t\t}\n\t\t}\n\n\t\treturn classes;\n\t}\n\n\tfunction parseValue (arg) {\n\t\tif (typeof arg === 'string' || typeof arg === 'number') {\n\t\t\treturn arg;\n\t\t}\n\n\t\tif (typeof arg !== 'object') {\n\t\t\treturn '';\n\t\t}\n\n\t\tif (Array.isArray(arg)) {\n\t\t\treturn classNames.apply(null, arg);\n\t\t}\n\n\t\tif (arg.toString !== Object.prototype.toString && !arg.toString.toString().includes('[native code]')) {\n\t\t\treturn arg.toString();\n\t\t}\n\n\t\tvar classes = '';\n\n\t\tfor (var key in arg) {\n\t\t\tif (hasOwn.call(arg, key) && arg[key]) {\n\t\t\t\tclasses = appendClass(classes, key);\n\t\t\t}\n\t\t}\n\n\t\treturn classes;\n\t}\n\n\tfunction appendClass (value, newClass) {\n\t\tif (!newClass) {\n\t\t\treturn value;\n\t\t}\n\t\n\t\tif (value) {\n\t\t\treturn value + ' ' + newClass;\n\t\t}\n\t\n\t\treturn value + newClass;\n\t}\n\n\tif (typeof module !== 'undefined' && module.exports) {\n\t\tclassNames.default = classNames;\n\t\tmodule.exports = classNames;\n\t} else if (typeof define === 'function' && typeof define.amd === 'object' && define.amd) {\n\t\t// register as 'classnames', consistent with npm package name\n\t\tdefine('classnames', [], function () {\n\t\t\treturn classNames;\n\t\t});\n\t} else {\n\t\twindow.classNames = classNames;\n\t}\n}());\n", "import { useCallback, useEffect, useRef, useState } from \"react\";\nimport type {\n\tWorkflowPaneConfig,\n\tWorkflowSplitViewProps,\n\tWorkflowStep,\n    WorkflowSection,\n} from \"./WorkflowSplitView.types\";\nimport { CardsScroller } from \"./components/CardsScroller\";\nimport { BreadcrumbsBar } from \"./components/BreadcrumbsBar\";\nimport { useWorkflowLayout } from \"./hooks/useWorkflowLayout\";\nimport \"./WorkflowSplitView.scss\";\nimport { BackLink } from \"../BackLink/BackLink\";\nimport { ForwardLink } from \"../BackLink/ForwardLink\";\n// Grid/Row/Column intentionally not used per request; layout uses component's own CSS grid\n\nexport function WorkflowSplitView<ID = string, T extends WorkflowStep<ID> = WorkflowStep<ID>>(\n\tprops: WorkflowSplitViewProps<ID, T>\n) {\n\tconst {\n\t\tsteps,\n\t\tcurrentStepId,\n\t\tdefaultStepId,\n\t\tonStepChange,\n\t\tlayoutForStep,\n\t\trenderStepCard,\n\t\trenderStepContent,\n\t\trenderSecondaryContent,\n\t\trenderSecondaryNav,\n\t\trenderBreadcrumbs,\n\t\tclassName,\n\t\tgetId = (s: T) => s.id,\n\t\tenableTabletGrid = false,\n\t\tisStepComplete,\n\t\tshowMobileControls,\n\t\tcurrentSectionId,\n\t\tdefaultSectionIdForStep,\n\t\tonSectionChange,\n\t} = props;\n\n\t// --- Debug logging ---\n\t// Toggle at runtime in dev tools with: window.__WSV_DEBUG_FOCUS = true/false\n\tconst DEBUG_FOCUS: boolean =\n\t\t(typeof window !== \"undefined\" && Boolean((window as unknown as { __WSV_DEBUG_FOCUS?: boolean }).__WSV_DEBUG_FOCUS)) || false;\n\tconst dlog = (...args: any[]) => {\n\t\tif (DEBUG_FOCUS) {\n\t\t\tconsole.log(\"[WorkflowSplitView]\", ...args);\n\t\t}\n\t};\n\ttype FocusSummary = { activeTag?: string; activeId?: string; activeRole?: string | null; activeClasses?: string };\n\tconst focusSummary = (): FocusSummary => {\n\t\tif (typeof document === \"undefined\") return {} as FocusSummary;\n\t\tconst ae = document.activeElement as HTMLElement | null;\n\t\tconst role = ae?.getAttribute?.(\"role\");\n\t\treturn {\n\t\t\tactiveTag: ae?.tagName,\n\t\t\tactiveId: ae?.id,\n\t\t\tactiveRole: role,\n\t\t\tactiveClasses: ae?.className,\n\t\t};\n\t};\n\n\tconst [uncontrolledId, setUncontrolledId] = useState<ID | undefined>(\n\t\tdefaultStepId ?? (steps[0] ? getId(steps[0]) : undefined)\n\t);\n\tconst activeId: ID | undefined = currentStepId ?? uncontrolledId;\n\tconst currentIndex = steps.findIndex((s) => getId(s) === activeId);\n\tconst current = currentIndex >= 0 ? steps[currentIndex] : steps[0];\n\n\t// Section state (uncontrolled per-step) using a keyed record by step id string\n\tconst [sectionByStep, setSectionByStep] = useState<Record<string, ID | undefined>>({});\n\tconst stepKey = (s: T | undefined) => (s ? String(getId(s)) : \"\");\n\tconst resolveDefaultSectionId = useCallback((s: T | undefined): ID | undefined => {\n\t\tif (!s) return undefined;\n\t\ttry {\n\t\t\tconst viaFn = defaultSectionIdForStep?.(s as T);\n\t\t\tif (viaFn !== undefined) return viaFn;\n\t\t} catch {}\n\t\tconst first = (s as T).sections && (s as T).sections![0];\n\t\treturn first ? (first.id as ID) : undefined;\n\t}, [defaultSectionIdForStep]);\n\tconst activeSectionId: ID | undefined = currentSectionId ?? sectionByStep[stepKey(current)] ?? resolveDefaultSectionId(current);\n\tconst currentSections: WorkflowSection<ID>[] | undefined = (current && (current as T).sections ? (current as T).sections as WorkflowSection<ID>[] : undefined);\n\tconst activeSection: WorkflowSection<ID> | undefined = currentSections?.find(s => s.id === activeSectionId);\n\tconst selectSection = (sectionId: ID) => {\n\t\tif (current) {\n\t\t\tconst k = stepKey(current);\n\t\t\tif (currentSectionId === undefined) {\n\t\t\t\tsetSectionByStep(prev => ({ ...prev, [k]: sectionId }));\n\t\t\t}\n\t\t\tonSectionChange?.(sectionId, currentSections?.find(s => s.id === sectionId), current);\n\t\t}\n\t};\n\n\tconst navigateTo = (id: ID) => {\n\t\tdlog(\"navigateTo\", String(id));\n\t\tif (currentStepId === undefined) setUncontrolledId(id);\n\t\tconst step = steps.find((s) => getId(s) === id);\n\t\tif (step && onStepChange) onStepChange(id, step);\n\t};\n\n\t// Precompute breadcrumbs element (if provided) and a visibility flag\n\tconst breadcrumbs = renderBreadcrumbs\n\t\t? renderBreadcrumbs({ steps, current, onNavigate: navigateTo })\n\t\t: (\n\t\t\t<BreadcrumbsBar<ID>\n\t\t\t\tsteps={steps}\n\t\t\t\tcurrentIndex={Math.max(0, currentIndex)}\n\t\t\t\tonNavigate={(index) => {\n\t\t\t\t\tconst step = steps[index];\n\t\t\t\t\tif (step) navigateTo(getId(step));\n\t\t\t\t}}\n\t\t\t/>\n\t\t);\n\tconst showBreadcrumbs = true;\n\n    // selection handled via navigateTo()\n\n\tconst { hydrated, breakpoint, paneConfig } = useWorkflowLayout<T>({\n\t\tstep: current,\n\t\tindex: currentIndex,\n\t\tlayoutForStep,\n\t});\n\n\t// Determine if a specific view is preselected by the consumer\n\t// If so, on desktop we want to start in \"nav\" focus mode with the current item focused\n\tconst preselectedView = currentStepId !== undefined || (defaultStepId !== undefined && steps.length > 0 && steps[0] && defaultStepId !== getId(steps[0]));\n\n\t// --- Keyboard navigation (desktop grid) ---\n\tconst rootRef = useRef<HTMLDivElement | null>(null);\n\tconst navPaneRef = useRef<HTMLElement | null>(null);\n\tconst contentPaneRef = useRef<HTMLElement | null>(null);\n\tconst secondaryPaneRef = useRef<HTMLElement | null>(null);\n\tconst navListRef = useRef<HTMLUListElement | null>(null);\n\tconst navActiveButtonIndexRef = useRef<number>(0);\n\tconst ignoreNextClickRef = useRef(false);\n\tconst ignoreNextNavItemActivationRef = useRef(false);\n\tconst navBootstrapTimeoutRef = useRef<number | null>(null);\n\n\tconst [paneFocusMode, setPaneFocusMode] = useState<\"containers\" | \"nav\" | \"content\" | \"secondary\">(\"nav\");\n\tconst paneFocusModeRef = useRef<\"containers\" | \"nav\" | \"content\" | \"secondary\">(\"nav\");\n\tuseEffect(() => {\n\t\tpaneFocusModeRef.current = paneFocusMode;\n\t\t// When mode changes away from a container, clear container focus flags to avoid stale rings\n\t\tif (paneFocusMode !== \"nav\") setNavContainerFocused(false);\n\t\tif (paneFocusMode !== \"content\") setContentContainerFocused(false);\n\t\tif (paneFocusMode !== \"secondary\") setSecondaryContainerFocused(false);\n\t}, [paneFocusMode]);\n\tconst [containerIndex, setContainerIndex] = useState(0); // 0=nav,1=content,2=secondary\n\tconst [navFocusedIndex, setNavFocusedIndex] = useState(() =>\n\t\tMath.max(0, currentIndex)\n\t);\n\n\t// Track direct focus on pane containers to drive visible focus ring styling accurately\n\tconst [navContainerFocused, setNavContainerFocused] = useState(false);\n\tconst [contentContainerFocused, setContentContainerFocused] = useState(false);\n\tconst [secondaryContainerFocused, setSecondaryContainerFocused] = useState(false);\n\n\tconst focusEl = useCallback((el?: HTMLElement | null) => {\n\t\tif (!el) return;\n\t\ttry {\n\t\t\tel.focus({ preventScroll: true });\n\t\t} catch {\n\t\t\tel.focus();\n\t\t}\n\t\tdlog(\"focusEl\", { to: el.tagName, id: (el as HTMLElement).id, class: (el as HTMLElement).className });\n\t}, []);\n\n\t// More robust content focusing: do it now and once more after paint\n\tconst focusContentSoon = useCallback(() => {\n\t\tconst target = () => contentPaneRef.current;\n\t\tlet attempts = 0;\n\t\tconst tick = () => {\n\t\t\tconst el = target();\n\t\t\tif (el && document.activeElement !== el) {\n\t\t\t\tfocusEl(el);\n\t\t\t}\n\t\t\tattempts += 1;\n\t\t\tif (attempts < 6 && document.activeElement !== target()) {\n\t\t\t\tsetTimeout(tick, 0);\n\t\t\t}\n\t\t};\n\t\t// immediate and scheduled attempts\n\t\tdlog(\"focusContentSoon:start\", { attempts });\n\t\ttick();\n\t\tif (typeof queueMicrotask === \"function\") queueMicrotask(tick);\n\t\trequestAnimationFrame(tick);\n\t}, [focusEl]);\n\n\tconst getFocusableElements = useCallback((root: HTMLElement | null) => {\n\t\tif (!root) return [] as HTMLElement[];\n\t\tconst selector =\n\t\t\t'button, [href], input, select, textarea, [tabindex]:not([tabindex=\"-1\"])';\n\t\treturn Array.from(root.querySelectorAll<HTMLElement>(selector)).filter(\n\t\t\t(el) => !el.hasAttribute(\"disabled\") && el.tabIndex !== -1\n\t\t);\n\t}, []);\n\n\tconst getPaneOrder = () =>\n\t\t[\n\t\t\tnavPaneRef.current as HTMLElement | null,\n\t\t\tcontentPaneRef.current as HTMLElement | null,\n\t\t\tsecondaryPaneRef.current as HTMLElement | null,\n\t\t].filter(Boolean) as HTMLElement[];\n\n\t// Blur activeElement if it's inside the given root\n\tconst blurActiveIfInside = (root: HTMLElement | null | undefined, label?: string) => {\n\t\tif (!root) return;\n\t\tconst ae = (typeof document !== \"undefined\" ? (document.activeElement as HTMLElement | null) : null);\n\t\tif (ae && root.contains(ae)) {\n\t\t\ttry {\n\t\t\t\tae.blur();\n\t\t\t\tdlog(\"blurActiveIfInside\", { label, root: root.getAttribute(\"aria-label\") || root.tagName });\n\t\t\t} catch {}\n\t\t}\n\t};\n\n\t// Blur current focus if it's within the primary nav to avoid bouncing back after activation\n\tconst blurActiveIfInNav = () => {\n\t\tconst ae = (typeof document !== \"undefined\" ? (document.activeElement as HTMLElement | null) : null);\n\t\tif (ae && navPaneRef.current && navPaneRef.current.contains(ae)) {\n\t\t\ttry {\n\t\t\t\tae.blur();\n\t\t\t\tdlog(\"blurActiveIfInNav: blurred active element inside nav\");\n\t\t\t} catch {}\n\t\t}\n\t};\n\n\tconst focusContainerByIndex = (idx: number) => {\n\t\tconst order = getPaneOrder();\n\t\tconst clamped = Math.max(0, Math.min(idx, order.length - 1));\n\t\tdlog(\"focusContainerByIndex\", { idx, clamped });\n\t\tfocusEl(order[clamped]);\n\t\tsetContainerIndex(clamped);\n\t};\n\n\t// Robustly focus a nav item button by index (defaults to current navFocusedIndex)\n\tconst focusNavItemSoon = useCallback(\n\t\t(index?: number) => {\n\t\t\tlet attempts = 0;\n\t\t\tconst pickIndex = index ?? navFocusedIndex;\n\t\t\tconst target = () => {\n\t\t\t\tconst list = navListRef.current;\n\t\t\t\tif (!list) return null as HTMLElement | null;\n\t\t\t\tconst nodes = Array.from(list.querySelectorAll<HTMLElement>(\"[data-nav-item]\"));\n\t\t\t\treturn nodes[pickIndex] || nodes[0] || null;\n\t\t\t};\n\t\t\tconst tick = () => {\n\t\t\t\t// If we've moved out of nav mode, abort any further focusing of nav items\n\t\t\t\tif (paneFocusModeRef.current !== \"nav\") {\n\t\t\t\t\tdlog(\"focusNavItemSoon: abort (mode changed)\", { mode: paneFocusModeRef.current });\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tconst el = target();\n\t\t\t\tif (el && document.activeElement !== el) {\n\t\t\t\t\tfocusEl(el);\n\t\t\t\t}\n\t\t\t\tattempts += 1;\n\t\t\t\tif (attempts < 6 && document.activeElement !== el) {\n\t\t\t\t\tsetTimeout(tick, 0);\n\t\t\t\t}\n\t\t\t};\n\t\t\tdlog(\"focusNavItemSoon:start\", { index: pickIndex, ...focusSummary() });\n\t\t\ttick();\n\t\t\tif (typeof queueMicrotask === \"function\") queueMicrotask(tick);\n\t\t\trequestAnimationFrame(tick);\n\t\t},\n\t\t[focusEl, navFocusedIndex]\n\t);\n\n\t// Enter containers mode by default on desktop, unless a preselected view is provided.\n\tuseEffect(() => {\n\t\tif (!hydrated) return;\n\t\tconst gridLike = breakpoint === \"desktop\" || (enableTabletGrid && breakpoint === \"tablet\");\n\t\tif (gridLike) {\n\t\t\tif (preselectedView) {\n\t\t\t\tsetPaneFocusMode(\"nav\");\n\t\t\t\tsetContainerIndex(0);\n\t\t\t\t// Do not auto-focus a nav item; avoid stealing focus during early user interaction\n\t\t\t\tdlog(\"init: grid preselected \u2192 mode=nav\", { containerIndex: 0 });\n\t\t\t} else {\n\t\t\t\tsetPaneFocusMode(\"containers\");\n\t\t\t\tsetContainerIndex(0);\n\t\t\t\tdlog(\"init: grid default \u2192 mode=containers\", { containerIndex: 0 });\n\t\t\t}\n\t\t} else {\n\t\t\tsetPaneFocusMode(\"nav\");\n\t\t\tdlog(\"init: non-grid \u2192 mode=nav\");\n\t\t}\n\t}, [hydrated, breakpoint, preselectedView, enableTabletGrid]);\n\n\t// Clear any pending nav bootstrapping on unmount\n\tuseEffect(() => {\n\t\treturn () => {\n\t\t\tif (navBootstrapTimeoutRef.current != null) {\n\t\t\t\tclearTimeout(navBootstrapTimeoutRef.current);\n\t\t\t\tnavBootstrapTimeoutRef.current = null;\n\t\t\t\tdlog(\"cleanup: cleared nav bootstrap timeout\");\n\t\t\t}\n\t\t};\n\t}, []);\n\n\t// Keep navFocusedIndex in sync with the selected step\n\tuseEffect(() => {\n\t\tconst idx = Math.max(0, currentIndex);\n\t\tsetNavFocusedIndex(idx);\n\t\tdlog(\"sync navFocusedIndex with currentIndex\", { currentIndex, navFocusedIndex: idx });\n\t}, [currentIndex]);\n\n\t// Log paneFocusMode transitions\n\tuseEffect(() => {\n\t\tdlog(\"paneFocusMode \u2192\", paneFocusMode, focusSummary());\n\t}, [paneFocusMode]);\n\n\tconst onRootKeyDown = (e: React.KeyboardEvent) => {\n\t\t// Grid keyboard model applies on desktop, and on tablet when enabled via prop\n\t\tconst gridLike = hydrated && (breakpoint === \"desktop\" || (enableTabletGrid && breakpoint === \"tablet\"));\n\t\tif (!gridLike) return;\n\t\tconst key = e.key;\n\t\tconst target = e.target as HTMLElement;\n\t\t// Editable field guard: ignore arrow/home/end inside text inputs, textareas, selects, or contenteditable\n\t\tconst tag = target.tagName.toLowerCase();\n\t\tconst isEditableTag = tag === \"input\" || tag === \"textarea\" || tag === \"select\";\n\t\tconst role = target.getAttribute(\"role\");\n\t\tconst isAriaTextbox = role === \"textbox\" || role === \"searchbox\" || role === \"combobox\";\n\t\tconst contentEditable = target.getAttribute(\"contenteditable\");\n\t\tconst isEditable = isEditableTag || isAriaTextbox || (contentEditable && contentEditable !== \"false\");\n\t\tdlog(\"onRootKeyDown\", { key, tag, role, isEditable, paneFocusMode, containerIndex, ...focusSummary() });\n\t\tif (isEditable && [\"ArrowLeft\", \"ArrowRight\", \"ArrowUp\", \"ArrowDown\", \"Home\", \"End\"].includes(key)) {\n\t\t\treturn; // let native behavior proceed\n\t\t}\n\t\tconst inNav = !!navListRef.current && navListRef.current.contains(target);\n\t\tconst inContent = !!contentPaneRef.current && contentPaneRef.current.contains(target);\n\t\tconst inSecondary = !!secondaryPaneRef.current && secondaryPaneRef.current.contains(target);\n\t\tconst isContainer = target === navPaneRef.current || target === contentPaneRef.current || target === secondaryPaneRef.current;\n\t\tconst hasSecondary = !!secondaryPaneRef.current;\n\n\t\t// Container focus model: when a pane container itself has focus, allow roving\n\t\tif (isContainer) {\n\t\t\t// First handle special-cases that also update paneFocusMode for correct ring styling\n\t\t\tif (key === \"ArrowLeft\" && target === contentPaneRef.current) {\n\t\t\t\t// From content container directly to the active nav item\n\t\t\t\te.preventDefault();\n\t\t\t\tdlog(\"container: ArrowLeft on content container \u2192 nav item\");\n\t\t\t\tsetPaneFocusMode(\"nav\");\n\t\t\t\tblurActiveIfInside(contentPaneRef.current, \"from-content\");\n\t\t\t\tnavActiveButtonIndexRef.current = navFocusedIndex;\n\t\t\t\tfocusNavItemSoon(navFocusedIndex);\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (key === \"ArrowRight\" && target === contentPaneRef.current && hasSecondary) {\n\t\t\t\t// From content container directly to the secondary container\n\t\t\t\te.preventDefault();\n\t\t\t\tdlog(\"container: ArrowRight on content container \u2192 secondary\");\n\t\t\t\tsetPaneFocusMode(\"secondary\");\n\t\t\t\tblurActiveIfInside(contentPaneRef.current, \"from-content\");\n\t\t\t\tsetContentContainerFocused(false);\n\t\t\t\tsetTimeout(() => focusEl(secondaryPaneRef.current), 10);\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (key === \"ArrowRight\" && target === navPaneRef.current) {\n\t\t\t\t// From nav container to content container\n\t\t\t\te.preventDefault();\n\t\t\t\tdlog(\"container: ArrowRight on nav container \u2192 content\");\n\t\t\t\tsetPaneFocusMode(\"content\");\n\t\t\t\tblurActiveIfInside(navPaneRef.current, \"from-nav\");\n\t\t\t\tsetNavContainerFocused(false);\n\t\t\t\tfocusContentSoon();\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (key === \"ArrowLeft\" && target === secondaryPaneRef.current) {\n\t\t\t\t// From secondary container to content container\n\t\t\t\te.preventDefault();\n\t\t\t\tdlog(\"container: ArrowLeft on secondary container \u2192 content\");\n\t\t\t\tsetPaneFocusMode(\"content\");\n\t\t\t\tblurActiveIfInside(secondaryPaneRef.current, \"from-secondary\");\n\t\t\t\tsetSecondaryContainerFocused(false);\n\t\t\t\tfocusContentSoon();\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// Generic container roving (does not change mode)\n\t\t\tif (key === \"ArrowRight\") {\n\t\t\t\te.preventDefault();\n\t\t\t\tdlog(\"container: ArrowRight \u2192 next container\");\n\t\t\t\tblurActiveIfInside(target as HTMLElement, \"container-roving\");\n\t\t\t\tif (target === navPaneRef.current) setNavContainerFocused(false);\n\t\t\t\tif (target === contentPaneRef.current) setContentContainerFocused(false);\n\t\t\t\tif (target === secondaryPaneRef.current) setSecondaryContainerFocused(false);\n\t\t\t\tfocusContainerByIndex(containerIndex + 1);\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (key === \"ArrowLeft\") {\n\t\t\t\te.preventDefault();\n\t\t\t\tdlog(\"container: ArrowLeft \u2192 prev container\");\n\t\t\t\tblurActiveIfInside(target as HTMLElement, \"container-roving\");\n\t\t\t\tif (target === navPaneRef.current) setNavContainerFocused(false);\n\t\t\t\tif (target === contentPaneRef.current) setContentContainerFocused(false);\n\t\t\t\tif (target === secondaryPaneRef.current) setSecondaryContainerFocused(false);\n\t\t\t\tfocusContainerByIndex(containerIndex - 1);\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (key === \"Home\") {\n\t\t\t\te.preventDefault();\n\t\t\t\tdlog(\"container: Home \u2192 first container\");\n\t\t\t\tblurActiveIfInside(target as HTMLElement, \"container-roving\");\n\t\t\t\tif (target === navPaneRef.current) setNavContainerFocused(false);\n\t\t\t\tif (target === contentPaneRef.current) setContentContainerFocused(false);\n\t\t\t\tif (target === secondaryPaneRef.current) setSecondaryContainerFocused(false);\n\t\t\t\tfocusContainerByIndex(0);\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (key === \"End\") {\n\t\t\t\te.preventDefault();\n\t\t\t\tdlog(\"container: End \u2192 last container\");\n\t\t\t\tblurActiveIfInside(target as HTMLElement, \"container-roving\");\n\t\t\t\tif (target === navPaneRef.current) setNavContainerFocused(false);\n\t\t\t\tif (target === contentPaneRef.current) setContentContainerFocused(false);\n\t\t\t\tif (target === secondaryPaneRef.current) setSecondaryContainerFocused(false);\n\t\t\t\tfocusContainerByIndex(getPaneOrder().length - 1);\n\t\t\t\treturn;\n\t\t\t}\n\t\t\t\tif (key === \"Enter\" || key === \" \") {\n\t\t\t\te.preventDefault();\n\t\t\t\t\tif (target === navPaneRef.current) {\n\t\t\t\t\tsetPaneFocusMode(\"nav\");\n\t\t\t\t\tdlog(\"container: Enter/Space on nav \u2192 focus nav item\", { navFocusedIndex });\n\t\t\t\t\tnavActiveButtonIndexRef.current = navFocusedIndex;\n\t\t\t\t\tignoreNextNavItemActivationRef.current = true;\n\t\t\t\t\tfocusNavItemSoon(navFocusedIndex);\n\t\t\t\t} else if (target === contentPaneRef.current) {\n\t\t\t\t\tsetPaneFocusMode(\"content\");\n\t\t\t\t\t// Blur the content container before focusing its first child (descend)\n\t\t\t\t\tblurActiveIfInside(contentPaneRef.current, \"descend-content\");\n\t\t\t\t\t\tsetContentContainerFocused(false);\n\t\t\t\t\tconst els = getFocusableElements(contentPaneRef.current);\n\t\t\t\t\tdlog(\"container: Enter/Space on content \u2192 focus first focusable\", { count: els.length });\n\t\t\t\t\t(els[0] || contentPaneRef.current)?.focus();\n\t\t\t\t} else if (target === secondaryPaneRef.current) {\n\t\t\t\t\tsetPaneFocusMode(\"secondary\");\n\t\t\t\t\t// Blur the secondary container before focusing its first child (descend)\n\t\t\t\t\tblurActiveIfInside(secondaryPaneRef.current, \"descend-secondary\");\n\t\t\t\t\t\tsetSecondaryContainerFocused(false);\n\t\t\t\t\tconst els = getFocusableElements(secondaryPaneRef.current);\n\t\t\t\t\tdlog(\"container: Enter/Space on secondary \u2192 focus first focusable\", { count: els.length });\n\t\t\t\t\t(els[0] || secondaryPaneRef.current)?.focus();\n\t\t\t\t}\n\t\t\t\treturn;\n\t\t\t}\n\t\t}\n\n\t\t// Escape: ascend to the pane container (containers mode)\n\t\tif (key === \"Escape\") {\n\t\t\tif (inContent || inSecondary) {\n\t\t\t\te.preventDefault();\n\t\t\t\tsetPaneFocusMode(\"containers\");\n\t\t\t\tdlog(\"Escape: from\", inContent ? \"content\" : \"secondary\", \"\u2192 containers (focus container)\");\n\t\t\t\tif (inContent) blurActiveIfInside(contentPaneRef.current, \"escape-ascend\");\n\t\t\t\tif (inSecondary) blurActiveIfInside(secondaryPaneRef.current, \"escape-ascend\");\n\t\t\t\tif (inContent) setTimeout(() => focusEl(contentPaneRef.current), 10);\n\t\t\t\tif (inSecondary) setTimeout(() => focusEl(secondaryPaneRef.current), 10);\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (inNav) {\n\t\t\t\te.preventDefault();\n\t\t\t\tsetPaneFocusMode(\"containers\");\n\t\t\t\tdlog(\"Escape: from nav \u2192 containers (focus nav container)\");\n\t\t\t\tblurActiveIfInNav();\n\t\t\t\tfocusEl(navPaneRef.current);\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (isContainer) {\n\t\t\t\te.preventDefault();\n\t\t\t\tsetPaneFocusMode(\"containers\");\n\t\t\t\tdlog(\"Escape: on container (stay in containers)\");\n\t\t\t\treturn; // keep focus on the container\n\t\t\t}\n\t\t}\n\n\t\t// Enter content/secondary when focused on their containers (even outside containers mode)\n\t\tif (key === \"Enter\" || key === \" \") {\n\t\t\tif (target === contentPaneRef.current && paneFocusMode === \"content\") {\n\t\t\t\te.preventDefault();\n\t\t\t\tblurActiveIfInside(contentPaneRef.current, \"descend-content\");\n\t\t\t\tconst els = getFocusableElements(contentPaneRef.current);\n\t\t\t\tdlog(\"Enter/Space on content container in content mode\");\n\t\t\t\t(els[0] || contentPaneRef.current)?.focus();\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (target === secondaryPaneRef.current && paneFocusMode === \"secondary\") {\n\t\t\t\te.preventDefault();\n\t\t\t\tblurActiveIfInside(secondaryPaneRef.current, \"descend-secondary\");\n\t\t\t\tconst els = getFocusableElements(secondaryPaneRef.current);\n\t\t\t\tdlog(\"Enter/Space on secondary container in secondary mode\");\n\t\t\t\t(els[0] || secondaryPaneRef.current)?.focus();\n\t\t\t\treturn;\n\t\t\t}\n\t\t}\n\n\t\t// Move between containers with Left/Right from within lists/panes\n\t\tif (key === \"ArrowRight\") {\n\t\t\tif (inNav || paneFocusMode === \"nav\") {\n\t\t\t\te.preventDefault();\n\t\t\t\tsetPaneFocusMode(\"content\");\n\t\t\t\tdlog(\"ArrowRight: from nav \u2192 content (focus content)\");\n\t\t\t\tblurActiveIfInside(navPaneRef.current, \"from-nav\");\n\t\t\t\tsetNavContainerFocused(false);\n\t\t\t\tfocusContentSoon();\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (inContent || paneFocusMode === \"content\") {\n\t\t\t\tif (hasSecondary) {\n\t\t\t\t\te.preventDefault();\n\t\t\t\t\tsetPaneFocusMode(\"secondary\");\n\t\t\t\t\tdlog(\"ArrowRight: from content \u2192 secondary (focus secondary)\");\n\t\t\t\t\tblurActiveIfInside(contentPaneRef.current, \"from-content\");\n\t\t\t\t\tsetContentContainerFocused(false);\n\t\t\t\t\tsetTimeout(() => focusEl(secondaryPaneRef.current), 10);\n\t\t\t\t}\n\t\t\t\treturn;\n\t\t\t}\n\t\t}\n\t\tif (key === \"ArrowLeft\") {\n\t\t\tif (inSecondary || paneFocusMode === \"secondary\") {\n\t\t\t\te.preventDefault();\n\t\t\t\tdlog(\"ArrowLeft: from secondary \u2192 content (focus content)\");\n\t\t\t\tblurActiveIfInside(secondaryPaneRef.current, \"from-secondary\");\n\t\t\t\tsetSecondaryContainerFocused(false);\n\t\t\t\tfocusContentSoon();\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (inContent || paneFocusMode === \"content\") {\n\t\t\t\te.preventDefault();\n\t\t\t\tsetPaneFocusMode(\"nav\");\n\t\t\t\tdlog(\"ArrowLeft: from content \u2192 nav (focus nav item)\", { navFocusedIndex });\n\t\t\t\tnavActiveButtonIndexRef.current = navFocusedIndex;\n\t\t\t\tblurActiveIfInside(contentPaneRef.current, \"from-content\");\n\t\t\t\tsetContentContainerFocused(false);\n\t\t\t\tfocusNavItemSoon(navFocusedIndex);\n\t\t\t\treturn;\n\t\t\t}\n\t\t}\n\n\t\t// Fallback: Activate current nav item on Enter/Space anywhere inside the nav pane\n\t\tif ((key === \"Enter\" || key === \" \") && (inNav || paneFocusMode === \"nav\")) {\n\t\t\te.preventDefault();\n\t\t\tconst list = navListRef.current;\n\t\t\tconst nodes = list ? (Array.from(list.querySelectorAll(\"[data-nav-item]\")) as HTMLElement[]) : [];\n\t\t\tlet idx = navActiveButtonIndexRef.current ?? navFocusedIndex;\n\t\t\tif (nodes.length) {\n\t\t\t\tconst ae = document.activeElement as HTMLElement | null;\n\t\t\t\tconst idxFromAe = ae ? nodes.indexOf(ae) : -1;\n\t\t\t\tif (idxFromAe >= 0) idx = idxFromAe;\n\t\t\t}\n\t\t\tidx = Math.max(0, Math.min(idx, nodes.length - 1));\n\t\t\tsetNavFocusedIndex(idx);\n\t\t\tnavActiveButtonIndexRef.current = idx;\n\t\t\tdlog(\"Root: Enter/Space activate from nav context\", { idx });\n\t\t\tnavigateTo(getId(steps[idx]));\n\t\t\tsetPaneFocusMode(\"content\");\n\t\t\tpaneFocusModeRef.current = \"content\";\n\t\t\tignoreNextClickRef.current = true;\n\t\t\tblurActiveIfInNav();\n\t\t\tfocusContentSoon();\n\t\t\treturn;\n\t\t}\n\n\t\t// NOTE: Home/End are handled when a pane container itself has focus (see isContainer block above).\n\t\t// Do not override Home/End within interactive regions like the nav listbox; preserve native/ARIA expected behavior there.\n\t};\n\n\t// PrimaryNav component encapsulating keyboard roving and activation\n\tconst PrimaryNav = () => {\n\t\tconst resetClickSuppression = () => {\n\t\t\t// Any real pointer/mouse interaction should clear suppression flags\n\t\t\tignoreNextClickRef.current = false;\n\t\t\tignoreNextNavItemActivationRef.current = false;\n\t\t};\n\t\tconst onKeyDown = (e: React.KeyboardEvent<HTMLUListElement>) => {\n\t\t\tif (!navListRef.current) return;\n\t\t\tconst nodes = Array.from(navListRef.current.querySelectorAll<HTMLElement>(\"[data-nav-item]\"));\n\t\t\tif (!nodes.length) return;\n\t\t\tif (e.key === \"ArrowDown\") {\n\t\t\t\te.preventDefault();\n\t\t\t\te.stopPropagation();\n\t\t\t\tignoreNextNavItemActivationRef.current = false;\n\t\t\t\tsetPaneFocusMode(\"nav\");\n\t\t\t\tconst base = navActiveButtonIndexRef.current ?? navFocusedIndex;\n\t\t\t\tconst next = Math.min(nodes.length - 1, base + 1);\n\t\t\t\tsetNavFocusedIndex(next);\n\t\t\t\tnavActiveButtonIndexRef.current = next;\n\t\t\t\tfocusNavItemSoon(next);\n\t\t\t\tdlog(\"PrimaryNav: ArrowDown\", { from: base, to: next });\n\t\t\t} else if (e.key === \"ArrowUp\") {\n\t\t\t\te.preventDefault();\n\t\t\t\te.stopPropagation();\n\t\t\t\tignoreNextNavItemActivationRef.current = false;\n\t\t\t\tsetPaneFocusMode(\"nav\");\n\t\t\t\tconst base = navActiveButtonIndexRef.current ?? navFocusedIndex;\n\t\t\t\tconst prev = Math.max(0, base - 1);\n\t\t\t\tsetNavFocusedIndex(prev);\n\t\t\t\tnavActiveButtonIndexRef.current = prev;\n\t\t\t\tfocusNavItemSoon(prev);\n\t\t\t\tdlog(\"PrimaryNav: ArrowUp\", { from: base, to: prev });\n\t\t\t} else if (e.key === \"Home\") {\n\t\t\t\te.preventDefault();\n\t\t\t\te.stopPropagation();\n\t\t\t\tignoreNextNavItemActivationRef.current = false;\n\t\t\t\tconst first = 0;\n\t\t\t\tsetNavFocusedIndex(first);\n\t\t\t\tnavActiveButtonIndexRef.current = first;\n\t\t\t\tfocusNavItemSoon(first);\n\t\t\t\tdlog(\"PrimaryNav: Home\", { to: first });\n\t\t\t} else if (e.key === \"End\") {\n\t\t\t\te.preventDefault();\n\t\t\t\te.stopPropagation();\n\t\t\t\tignoreNextNavItemActivationRef.current = false;\n\t\t\t\tconst last = nodes.length - 1;\n\t\t\t\tsetNavFocusedIndex(last);\n\t\t\t\tnavActiveButtonIndexRef.current = last;\n\t\t\t\tfocusNavItemSoon(last);\n\t\t\t\tdlog(\"PrimaryNav: End\", { to: last });\n\t\t\t}\n\t\t};\n\n\t\tconst onKeyUp = (_e: React.KeyboardEvent<HTMLUListElement>) => {\n\t\t\t// no-op; activation handled on keydown by clicking the focused button\n\t\t};\n\n\t\tconst onKeyDownCapture = (e: React.KeyboardEvent<HTMLUListElement>) => {\n\t\t\tif (e.key !== \"Enter\" && e.key !== \" \") return;\n\t\t\tif (!navListRef.current) return;\n\t\t\tconst nodes = Array.from(navListRef.current.querySelectorAll<HTMLElement>(\"[data-nav-item]\"));\n\t\t\tif (!nodes.length) return;\n\t\t\te.preventDefault();\n\t\t\t// Determine index from event target if possible, else use roving index\n\t\t\tlet idx = -1;\n\t\t\tconst target = e.target as HTMLElement | null;\n\t\t\tconst button = target?.closest?.(\"[data-nav-item]\") as HTMLElement | null;\n\t\t\tif (button) {\n\t\t\t\tidx = nodes.indexOf(button);\n\t\t\t}\n\t\t\tif (idx < 0) {\n\t\t\t\tidx = navActiveButtonIndexRef.current ?? navFocusedIndex;\n\t\t\t}\n\t\t\tidx = Math.max(0, Math.min(idx, nodes.length - 1));\n\t\t\tsetNavFocusedIndex(idx);\n\t\t\tnavActiveButtonIndexRef.current = idx;\n\t\t\tdlog(\"PrimaryNav: Enter/Space activate (capture)\", { idx });\n\t\t\tnavigateTo(getId(steps[idx]));\n\t\t\tsetPaneFocusMode(\"content\");\n\t\t\tpaneFocusModeRef.current = \"content\";\n\t\t\tignoreNextClickRef.current = true; // swallow synthetic click after keyboard activation\n\t\t\tif (navBootstrapTimeoutRef.current != null) {\n\t\t\t\tclearTimeout(navBootstrapTimeoutRef.current);\n\t\t\t\tnavBootstrapTimeoutRef.current = null;\n\t\t\t}\n\t\t\tblurActiveIfInNav();\n\t\t\tfocusContentSoon();\n\t\t};\n\n\t\tconst onClickList = (e: React.MouseEvent<HTMLUListElement>) => {\n\t\t\t// Safety net: if a click happens on a nav item button but its handler didn't run,\n\t\t\t// handle activation here via event delegation.\n\t\t\tif (e.defaultPrevented) return;\n\t\t\t// Always clear the ignore flag here to ensure subsequent real clicks aren't swallowed\n\t\t\tignoreNextClickRef.current = false;\n\t\t\tconst target = e.target as HTMLElement | null;\n\t\t\tif (!target) return;\n\t\t\tconst button = target.closest(\"[data-nav-item]\") as HTMLButtonElement | null;\n\t\t\tif (!button || !navListRef.current || !navListRef.current.contains(button)) return;\n\t\t\tconst nodes = Array.from(navListRef.current.querySelectorAll<HTMLElement>(\"[data-nav-item]\"));\n\t\t\tconst idx = nodes.indexOf(button);\n\t\t\tif (idx < 0) return;\n\t\t\tsetNavFocusedIndex(idx);\n\t\t\tnavActiveButtonIndexRef.current = idx;\n\t\t\tdlog(\"PrimaryNav: click delegate activate\", { idx });\n\t\t\tnavigateTo(getId(steps[idx]));\n\t\t\tsetPaneFocusMode(\"content\");\n\t\t\tblurActiveIfInNav();\n\t\t\tif (navBootstrapTimeoutRef.current != null) {\n\t\t\t\tclearTimeout(navBootstrapTimeoutRef.current);\n\t\t\t\tnavBootstrapTimeoutRef.current = null;\n\t\t\t}\n\t\t\tfocusContentSoon();\n\t\t};\n\n\t\treturn (\n\t\t\t<ul\n\t\t\t\tref={navListRef}\n\t\t\t\tclassName=\"nhsfdp-primary-nav\"\n\t\t\t\trole=\"listbox\"\n\t\t\t\taria-activedescendant={String(getId(steps[Math.max(0, navFocusedIndex)]))}\n\t\t\t\tonKeyDownCapture={onKeyDownCapture}\n\t\t\t\tonKeyDown={onKeyDown}\n\t\t\t\tonKeyUp={onKeyUp}\n\t\t\t\tonPointerDown={resetClickSuppression}\n\t\t\t\tonMouseDown={resetClickSuppression}\n\t\t\t\tonClick={onClickList}\n\t\t\t>\n\t\t\t\t{steps.map((s, i) => {\n\t\t\t\t\tconst id = getId(s);\n\t\t\t\t\tconst isCurrent = i === currentIndex;\n\t\t\t\t\tconst focused = paneFocusMode === \"nav\" && i === navFocusedIndex;\n\t\t\t\t\treturn (\n\t\t\t\t\t\t<li id={String(id)} key={String(id)} role=\"option\" aria-selected={isCurrent}>\n\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\tdata-nav-item\n\t\t\t\t\t\t\t\ttabIndex={focused ? 0 : -1}\n\t\t\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\t\t\tclassName={\n\t\t\t\t\t\t\t\t\t\"nhsfdp-primary-nav__item\" +\n\t\t\t\t\t\t\t\t\t(isCurrent ? \" is-current\" : \"\") +\n\t\t\t\t\t\t\t\t\t(focused ? \" is-focused\" : \"\")\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\taria-current={isCurrent ? \"step\" : undefined}\n\t\t\t\t\t\t\t\tonPointerDown={resetClickSuppression}\n\t\t\t\t\t\t\t\tonMouseDown={resetClickSuppression}\n\t\t\t\t\t\t\t\tonKeyDown={(e) => {\n\t\t\t\t\t\t\t\t\tif (e.key === \"Enter\" || e.key === \" \") {\n\t\t\t\t\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\t\t\t\t\tif (ignoreNextNavItemActivationRef.current) {\n\t\t\t\t\t\t\t\t\t\t\tignoreNextNavItemActivationRef.current = false;\n\t\t\t\t\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\tnavActiveButtonIndexRef.current = i;\n\t\t\t\t\t\t\t\t\t\tignoreNextClickRef.current = true;\n\t\t\t\t\t\t\t\t\t\tdlog(\"NavItem: onKeyDown activate\", { i, id: String(getId(steps[i])) });\n\t\t\t\t\t\t\t\t\t\tnavigateTo(getId(steps[i]));\n\t\t\t\t\t\t\t\t\t\tsetPaneFocusMode(\"content\");\n\t\t\t\t\t\t\t\t\t\tpaneFocusModeRef.current = \"content\";\n\t\t\t\t\t\t\t\t\t\tif (navBootstrapTimeoutRef.current != null) {\n\t\t\t\t\t\t\t\t\t\t\tclearTimeout(navBootstrapTimeoutRef.current);\n\t\t\t\t\t\t\t\t\t\t\tnavBootstrapTimeoutRef.current = null;\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\tblurActiveIfInNav();\n\t\t\t\t\t\t\t\t\t\tfocusContentSoon();\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\tonKeyUp={(e) => {\n\t\t\t\t\t\t\t\t\tif (e.key === \"Enter\" || e.key === \" \") {\n\t\t\t\t\t\t\t\t\t\tif (ignoreNextNavItemActivationRef.current) {\n\t\t\t\t\t\t\t\t\t\t\tignoreNextNavItemActivationRef.current = false;\n\t\t\t\t\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\tnavActiveButtonIndexRef.current = i;\n\t\t\t\t\t\t\t\t\t\tdlog(\"NavItem: onKeyUp activate (fallback)\", { i, id: String(getId(steps[i])) });\n\t\t\t\t\t\t\t\t\t\tnavigateTo(getId(steps[i]));\n\t\t\t\t\t\t\t\t\t\tsetPaneFocusMode(\"content\");\n\t\t\t\t\t\t\t\t\t\tpaneFocusModeRef.current = \"content\";\n\t\t\t\t\t\t\t\t\t\tif (navBootstrapTimeoutRef.current != null) {\n\t\t\t\t\t\t\t\t\t\t\tclearTimeout(navBootstrapTimeoutRef.current);\n\t\t\t\t\t\t\t\t\t\t\tnavBootstrapTimeoutRef.current = null;\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\tblurActiveIfInNav();\n\t\t\t\t\t\t\t\t\t\tfocusContentSoon();\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\tonClick={(e) => {\n\t\t\t\t\t\t\t\t\t// If this click immediately follows a keyboard activation (no pointerdown), swallow it\n\t\t\t\t\t\t\t\t\tif (ignoreNextClickRef.current) {\n\t\t\t\t\t\t\t\t\t\tignoreNextClickRef.current = false;\n\t\t\t\t\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\t\t\t\t\te.stopPropagation();\n\t\t\t\t\t\t\t\t\t\tdlog(\"NavItem: ignored synthetic click after keyboard activation\", { i });\n\t\t\t\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t// Treat this as an intentional pointer click\n\t\t\t\t\t\t\t\t\tsetNavFocusedIndex(i);\n\t\t\t\t\t\t\t\t\tnavActiveButtonIndexRef.current = i;\n\t\t\t\t\t\t\t\t\tdlog(\"NavItem: onClick select\", { i, id: String(id) });\n\t\t\t\t\t\t\t\t\tnavigateTo(id);\n\t\t\t\t\t\t\t\t\tsetPaneFocusMode(\"content\");\n\t\t\t\t\t\t\t\t\tpaneFocusModeRef.current = \"content\";\n\t\t\t\t\t\t\t\t\tif (navBootstrapTimeoutRef.current != null) {\n\t\t\t\t\t\t\t\t\t\tclearTimeout(navBootstrapTimeoutRef.current);\n\t\t\t\t\t\t\t\t\t\tnavBootstrapTimeoutRef.current = null;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tblurActiveIfInNav();\n\t\t\t\t\t\t\t\t\tfocusContentSoon();\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{s.label}\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t</li>\n\t\t\t\t\t);\n\t\t\t\t})}\n\t\t\t</ul>\n\t\t);\n\t};\n\n\t// Render helpers\n\tconst renderMobile = () => {\n\t\tconst idx = Math.max(0, currentIndex);\n\t\tconst hasPrev = idx > 0;\n\t\tconst hasNext = idx < steps.length - 1;\n\t\tconst allowControls = (showMobileControls ? showMobileControls(current as T) : (isStepComplete ? isStepComplete(current as T) : true));\n\t\treturn (\n\t\t\t<div className=\"nhsfdp-workflow-mobile\">\n\t\t\t\t{/* On tablet, show breadcrumbs above the mobile controls; keep hidden on mobile */}\n\t\t\t\t{breakpoint === \"tablet\" ? breadcrumbs : null}\n\t\t\t\t{allowControls && (\n\t\t\t\t<div className=\"nhsfdp-mobile-controls\" aria-label=\"Step navigation\">\n\t\t\t\t\t{hasPrev ? (\n\t\t\t\t\t\t<BackLink\n\t\t\t\t\t\t\telement=\"button\"\n\t\t\t\t\t\t\ttext=\"Back\"\n\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\tconst step = steps[idx - 1];\n\t\t\t\t\t\t\t\tif (step) navigateTo(getId(step));\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t/>\n\t\t\t\t\t) : (\n\t\t\t\t\t\t// Keep space to avoid layout shift when back is not available\n\t\t\t\t\t\t<BackLink element=\"button\" text=\"Back\" aria-hidden=\"true\" style={{ visibility: \"hidden\" }} />\n\t\t\t\t\t)}\n\t\t\t\t\t{hasNext ? (\n\t\t\t\t\t\t<ForwardLink\n\t\t\t\t\t\t\telement=\"button\"\n\t\t\t\t\t\t\ttext=\"Next\"\n\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\tconst step = steps[idx + 1];\n\t\t\t\t\t\t\t\tif (step) navigateTo(getId(step));\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t/>\n\t\t\t\t\t) : (\n\t\t\t\t\t\t// Keep space to avoid layout shift when next is not available\n\t\t\t\t\t\t<ForwardLink element=\"button\" text=\"Next\" aria-hidden=\"true\" style={{ visibility: \"hidden\" }} />\n\t\t\t\t\t)}\n\t\t\t\t</div>\n\t\t\t\t)}\n\t\t\t\t<CardsScroller<ID>\n\t\t\t\t\tsteps={steps}\n\t\t\t\t\tcurrentIndex={idx}\n\t\t\t\t\tonNavigate={(i) => {\n\t\t\t\t\t\tconst step = steps[i];\n\t\t\t\t\t\tif (step) navigateTo(getId(step));\n\t\t\t\t\t}}\n\t\t\t\t\trenderCard={(s, _i, _isCurrent) =>\n\t\t\t\t\t\trenderStepCard ? renderStepCard(s as T) : renderStepContent(s as T)\n\t\t\t\t\t}\n\t\t\t\t/>\n\t\t\t</div>\n\t\t);\n\t};\n\n\tconst renderTabletDesktop = (cfg: WorkflowPaneConfig) => (\n\t\t<div\n\t\t\tclassName={\"nhsfdp-workflow-grid panes-\" + (cfg.panes ?? 2)}\n\t\t\tonKeyDown={onRootKeyDown}\n\t\t\tref={rootRef}\n\t\t\trole=\"grid\"\n\t\t\taria-rowcount={1}\n\t\t\taria-colcount={(cfg.showPrimaryNav ? 1 : 0) + 1 + (cfg.showSecondaryNav ? 1 : 0)}\n\t\t\taria-label=\"Workflow layout\"\n\t\t>\n\t\t\t<div className=\"nhsfdp-workflow-body\" role=\"row\">\n\t\t\t\t{cfg.showPrimaryNav && (\n\t\t\t\t\t<aside\n\t\t\t\t\t\tref={navPaneRef}\n\t\t\t\t\t\tclassName={\n\t\t\t\t\t\t\t\"nhsfdp-pane primary-nav\" +\n\t\t\t\t\t\t\t(navContainerFocused ? \" is-active-pane\" : \"\")\n\t\t\t\t\t\t}\n\t\t\t\t\t\taria-label=\"Primary navigation\"\n\t\t\t\t\t\trole=\"gridcell\"\n\t\t\t\t\t\ttabIndex={0}\n\t\t\t\t\t\tonFocus={(e) => {\n\t\t\t\t\t\t\tif (e.target === navPaneRef.current) setNavContainerFocused(true);\n\t\t\t\t\t\t}}\n\t\t\t\t\t\tonBlur={(e) => {\n\t\t\t\t\t\t\tif (e.target === navPaneRef.current) setNavContainerFocused(false);\n\t\t\t\t\t\t}}\n\t\t\t\t\t>\n\t\t\t\t\t\t<section role=\"complementary\" aria-label=\"Primary navigation\">\n\t\t\t\t\t\t\t<PrimaryNav />\n\t\t\t\t\t\t</section>\n\t\t\t\t\t</aside>\n\t\t\t\t)}\n\t\t\t\t<main\n\t\t\t\t\tref={contentPaneRef}\n\t\t\t\t\tclassName={\n\t\t\t\t\t\t\"nhsfdp-pane content\" +\n\t\t\t\t\t\t(contentContainerFocused ? \" is-active-pane\" : \"\")\n\t\t\t\t\t}\n\t\t\t\t\taria-live=\"polite\"\n\t\t\t\t\trole=\"gridcell\"\n\t\t\t\t\ttabIndex={0}\n\t\t\t\t\tonFocus={(e) => {\n\t\t\t\t\t\tif (e.target === contentPaneRef.current) setContentContainerFocused(true);\n\t\t\t\t\t}}\n\t\t\t\t\tonBlur={(e) => {\n\t\t\t\t\t\tif (e.target === contentPaneRef.current) setContentContainerFocused(false);\n\t\t\t\t\t}}\n\t\t\t\t>\n\t\t\t\t\t{showBreadcrumbs ? breadcrumbs : null}\n\t\t\t\t\t<div role=\"main\">\n\t\t\t\t\t\t{renderStepContent(current, activeSection)}\n\t\t\t\t\t</div>\n\t\t\t\t</main>\n\t\t\t\t{(() => {\n\t\t\t\t\t// Compute secondary nav/content nodes\n\t\t\t\t\tconst secondaryNavNode = renderSecondaryNav\n\t\t\t\t\t\t? renderSecondaryNav(current, currentSections, activeSection, (id: ID) => selectSection(id))\n\t\t\t\t\t\t: (currentSections && currentSections.length > 0\n\t\t\t\t\t\t\t? (\n\t\t\t\t\t\t\t\t<ul className=\"nhsfdp-secondary-nav\" role=\"listbox\" aria-label=\"Sections\">\n\t\t\t\t\t\t\t\t\t{currentSections.map((sec) => {\n\t\t\t\t\t\t\t\t\t\tconst isActive = activeSectionId === sec.id;\n\t\t\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t\t\t<li key={String(sec.id)} role=\"option\" aria-selected={isActive}>\n\t\t\t\t\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\t\t\t\t\t\t\t\tclassName={\"nhsfdp-secondary-nav__item\" + (isActive ? \" is-current\" : \"\")}\n\t\t\t\t\t\t\t\t\t\t\t\t\tdata-sec-item\n\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => selectSection(sec.id)}\n\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t{sec.label}\n\t\t\t\t\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t\t</ul>\n\t\t\t\t\t\t\t  )\n\t\t\t\t\t\t\t: undefined);\n\t\t\t\t\tconst secondaryContentNode = renderSecondaryContent?.(current, activeSection);\n\t\t\t\t\tconst shouldRenderAside = cfg.showSecondaryNav && (secondaryNavNode || secondaryContentNode);\n\t\t\t\t\treturn shouldRenderAside ? (\n\t\t\t\t\t\t<aside\n\t\t\t\t\t\t\tref={secondaryPaneRef}\n\t\t\t\t\t\t\tclassName={\n\t\t\t\t\t\t\t\t\"nhsfdp-pane secondary-nav\" +\n\t\t\t\t\t\t\t\t(secondaryContainerFocused ? \" is-active-pane\" : \"\")\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\taria-label=\"Secondary navigation\"\n\t\t\t\t\t\t\trole=\"gridcell\"\n\t\t\t\t\t\t\ttabIndex={0}\n\t\t\t\t\t\t\tonFocus={(e) => {\n\t\t\t\t\t\t\t\tif (e.target === secondaryPaneRef.current) setSecondaryContainerFocused(true);\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\tonBlur={(e) => {\n\t\t\t\t\t\t\t\tif (e.target === secondaryPaneRef.current) setSecondaryContainerFocused(false);\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<section role=\"complementary\" aria-label=\"Secondary navigation\">\n\t\t\t\t\t\t\t\t{secondaryNavNode}\n\t\t\t\t\t\t\t\t{secondaryContentNode}\n\t\t\t\t\t\t\t</section>\n\t\t\t\t\t\t</aside>\n\t\t\t\t\t) : null;\n\t\t\t\t})()}\n\t\t\t</div>\n\t\t</div>\n\t);\n\n\tif (!hydrated) {\n\t\t// SSR-safe: render a minimal single-pane structure\n\t\treturn (\n\t\t\t<div className={\"nhsfdp-workflow \" + (className ?? \"\")}>\n\t\t\t\t<div className=\"nhsfdp-workflow-body\">\n\t\t\t\t\t<main className=\"nhsfdp-pane content\">\n\t\t\t\t\t\t{/* If a custom breadcrumbs renderer is provided, include it server-side */}\n\t\t\t\t\t\t{renderBreadcrumbs\n\t\t\t\t\t\t\t? renderBreadcrumbs({ steps, current, onNavigate: navigateTo })\n\t\t\t\t\t\t\t: null}\n\t\t\t\t\t\t{current ? renderStepContent(current, (current?.sections as WorkflowSection<ID>[] | undefined)?.find(s => s.id === (defaultSectionIdForStep?.(current as T) ?? (current?.sections?.[0]?.id as ID))) ) : null}\n\t\t\t\t\t</main>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n\n\t// Use the mobile sliding-panels pattern for both mobile and tablet breakpoints,\n\t// and also when a step explicitly declares a single pane.\n\tconst useMobilePattern =\n\t\tbreakpoint === \"mobile\" ||\n\t\t(!enableTabletGrid && breakpoint === \"tablet\") ||\n\t\t(paneConfig.panes ?? 1) === 1;\n\n\tif (useMobilePattern) {\n\t\treturn (\n\t\t\t<div className={\"nhsfdp-workflow \" + (className ?? \"\")}>\n\t\t\t\t{renderMobile()}\n\t\t\t</div>\n\t\t);\n\t}\n\n\treturn (\n\t\t<div className={\"nhsfdp-workflow \" + (className ?? \"\")}>\n\t\t\t{renderTabletDesktop(paneConfig)}\n\t\t</div>\n\t);\n}\n\nexport default WorkflowSplitView;\n", "import * as React from \"react\";\nimport type { WorkflowStep } from \"../WorkflowSplitView.types\";\n\nexport type CardsScrollerProps<T> = {\n\tsteps: WorkflowStep<T>[];\n\tcurrentIndex: number;\n\tonNavigate?: (index: number) => void;\n\trenderCard: (\n\t\tstep: WorkflowStep<T>,\n\t\tindex: number,\n\t\tisCurrent: boolean\n\t) => React.ReactNode;\n\tclassName?: string;\n\tariaLabel?: string;\n};\n\nexport function CardsScroller<T>({\n\tsteps,\n\tcurrentIndex,\n\tonNavigate,\n\trenderCard,\n\tclassName,\n\tariaLabel = \"Steps\",\n}: CardsScrollerProps<T>) {\n\tconst trackRef = React.useRef<HTMLDivElement | null>(null);\n\n\t// Keyboard navigation for accessibility\n\tconst onKeyDown = (e: React.KeyboardEvent<HTMLDivElement>) => {\n\t\tif (!steps?.length) return;\n\t\tif (e.key === \"ArrowLeft\" || e.key === \"ArrowUp\") {\n\t\t\te.preventDefault();\n\t\t\tconst next = Math.max(0, currentIndex - 1);\n\t\t\tif (next !== currentIndex) onNavigate?.(next);\n\t\t} else if (e.key === \"ArrowRight\" || e.key === \"ArrowDown\") {\n\t\t\te.preventDefault();\n\t\t\tconst next = Math.min(steps.length - 1, currentIndex + 1);\n\t\t\tif (next !== currentIndex) onNavigate?.(next);\n\t\t} else if (e.key === \"Home\") {\n\t\t\te.preventDefault();\n\t\t\tonNavigate?.(0);\n\t\t} else if (e.key === \"End\") {\n\t\t\te.preventDefault();\n\t\t\tonNavigate?.(steps.length - 1);\n\t\t}\n\t};\n\n\treturn (\n\t\t<div className={className} aria-label={ariaLabel} role=\"region\">\n\t\t\t{/* Viewport intentionally hides overflow; track slides per index */}\n\t\t\t<div\n\t\t\t\tclassName=\"nhsfdp-cards-viewport\"\n\t\t\t\trole=\"group\"\n\t\t\t\taria-roledescription=\"steps\"\n\t\t\t\ttabIndex={0}\n\t\t\t\tonKeyDown={onKeyDown}\n\t\t\t>\n\t\t\t\t<div\n\t\t\t\t\tref={trackRef}\n\t\t\t\t\tclassName=\"nhsfdp-cards-track\"\n\t\t\t\t\tstyle={{ transform: `translate3d(-${Math.max(0, currentIndex) * 100}%, 0, 0)` }}\n\t\t\t\t>\n\t\t\t\t\t{steps.map((s, i) => {\n\t\t\t\t\t\tconst isCurrent = i === currentIndex;\n\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\tkey={i}\n\t\t\t\t\t\t\t\tclassName={\"nhsfdp-pane mobile-pane\" + (isCurrent ? \" is-current\" : \"\")}\n\t\t\t\t\t\t\t\trole=\"group\"\n\t\t\t\t\t\t\t\taria-roledescription=\"step\"\n\t\t\t\t\t\t\t\taria-label={(s.label ?? `Step ${i + 1}`).toString()}\n\t\t\t\t\t\t\t\taria-hidden={!isCurrent}\n\t\t\t\t\t\t\t\tonClick={(e) => {\n\t\t\t\t\t\t\t\t\tif (e.defaultPrevented) return;\n\t\t\t\t\t\t\t\t\tconst target = e.target as HTMLElement | null;\n\t\t\t\t\t\t\t\t\tif (target) {\n\t\t\t\t\t\t\t\t\t\t// Ignore clicks that originate from interactive descendants (buttons, inputs, links, etc.)\n\t\t\t\t\t\t\t\t\t\tconst interactive = target.closest(\n\t\t\t\t\t\t\t\t\t\t\t'button, a, input, select, textarea, [role=\"button\"], [role=\"link\"], [contenteditable=\"true\"], [data-prevent-card-click]'\n\t\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\t\tif (interactive) return;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tonNavigate?.(i);\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{renderCard(s, i, isCurrent)}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t);\n\t\t\t\t\t})}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t);\n}\n", "import React from 'react';\nimport classNames from 'classnames';\nimport './Breadcrumb.scss';\nimport { BreadcrumbProps, BreadcrumbItemProps, BreadcrumbItem } from './Breadcrumb.types';\n\n// Breadcrumb Item Component\nconst BreadcrumbItemComponent: React.FC<BreadcrumbItemProps> = ({\n  children,\n  href,\n  active = false,\n  attributes = {},\n}) => {\n  return (\n    <li className=\"nhsuk-breadcrumb__item\">\n      {active ? (\n        <span\n          className=\"nhsuk-breadcrumb__link nhsuk-breadcrumb__link--current\"\n          aria-current=\"page\"\n          {...attributes}\n        >\n          {children}\n        </span>\n      ) : (\n        <a\n          className=\"nhsuk-breadcrumb__link\"\n          href={href}\n          {...attributes}\n        >\n          {children}\n        </a>\n      )}\n    </li>\n  );\n};\n\n// Define the compound component type\ninterface BreadcrumbComponent extends React.FC<BreadcrumbProps> {\n  Item: React.FC<BreadcrumbItemProps>;\n}\n\nconst BreadcrumbBase: React.FC<BreadcrumbProps> = ({\n  items = [],\n  children,\n  classes,\n  labelText = 'Breadcrumb',\n  href,\n  text,\n  reverse = false,\n  attributes = {},\n}) => {\n  // Extract breadcrumb items from children if provided\n  const getItemsFromChildren = (): BreadcrumbItem[] => {\n    if (!children) return [];\n    \n    const childrenArray = React.Children.toArray(children);\n    return childrenArray\n      .filter((child): child is React.ReactElement<BreadcrumbItemProps> => \n        React.isValidElement(child) && \n        (child.type === BreadcrumbItemComponent || (child.type as any)?.displayName === 'BreadcrumbItem')\n      )\n      .map((child) => ({\n        text: typeof child.props.children === 'string' ? child.props.children : String(child.props.children),\n        href: child.props.href,\n        active: child.props.active,\n        attributes: child.props.attributes,\n      }));\n  };\n\n  // Create breadcrumb items - priority: children > items > href/text\n  const getBreadcrumbItems = (): BreadcrumbItem[] => {\n    // First check for children (compound component usage)\n    if (children) {\n      return getItemsFromChildren();\n    }\n    \n    // If href and text are provided directly, create a single item\n    if (href && text) {\n      return [{ href, text }];\n    }\n    \n    // Otherwise, use the items array (include all items, even active ones)\n    return items;\n  };\n\n  // Determine the last item for the back link\n  const getLastItem = () => {\n    const breadcrumbItems = getBreadcrumbItems();\n    \n    if (breadcrumbItems && breadcrumbItems.length > 0) {\n      // Find the last item with an href (non-active item)\n      const lastLinkItem = breadcrumbItems\n        .slice()\n        .reverse()\n        .find(item => item.href && !item.active);\n      \n      if (lastLinkItem) {\n        return { href: lastLinkItem.href, text: lastLinkItem.text };\n      }\n    }\n    \n    return { text: 'Home' };\n  };\n\n  const breadcrumbItems = getBreadcrumbItems();\n  const lastItem = getLastItem();\n  \n  const breadcrumbClasses = classNames(\n    'nhsuk-breadcrumb',\n    {\n      'nhsuk-breadcrumb--reverse': reverse,\n    },\n    classes\n  );\n\n  // Enhanced ARIA compliance: always set aria-label for consistency with tests\n  const ariaLabel = labelText;\n\n  return (\n    <nav \n      className={breadcrumbClasses} \n      aria-label={ariaLabel}\n      role=\"navigation\"\n      {...attributes}\n    >\n      <ol className=\"nhsuk-breadcrumb__list\" role=\"list\">\n        {children ? (\n          // Render children directly if using compound component pattern\n          React.Children.map(children, (child, index) => {\n            if (React.isValidElement(child) && \n                (child.type === BreadcrumbItemComponent || (child.type as any)?.displayName === 'BreadcrumbItem')) {\n              return React.cloneElement(child, { key: index });\n            }\n            return null;\n          })\n        ) : (\n          // Render from items array\n          breadcrumbItems?.filter(item => item.active || !!item.href).map((item, index) => (\n            <li key={index} className=\"nhsuk-breadcrumb__item\" role=\"listitem\">\n              {item.active ? (\n                <span\n                  className=\"nhsuk-breadcrumb__link nhsuk-breadcrumb__link--current\"\n                  aria-current=\"page\"\n                  role=\"text\"\n                  {...(item.attributes || {})}\n                >\n                  {item.text}\n                </span>\n              ) : (\n                <a\n                  className=\"nhsuk-breadcrumb__link\"\n                  href={item.href}\n                  role=\"link\"\n                  {...(item.attributes || {})}\n                >\n                  {item.text}\n                </a>\n              )}\n            </li>\n          ))\n        )}\n      </ol>\n      \n      {/* Mobile back link - only show if we have items with hrefs */}\n      {lastItem.href && (\n        <p className=\"nhsuk-breadcrumb__back\">\n          <a\n            className=\"nhsuk-breadcrumb__backlink\"\n            href={lastItem.href}\n            role=\"link\"\n            aria-label={`Back to ${lastItem.text}`}\n            {...(items.length > 0 ? items[items.length - 1]?.attributes || {} : {})}\n          >\n            <span className=\"nhsuk-u-visually-hidden\">Back to &nbsp;</span>\n            {lastItem.text}\n          </a>\n        </p>\n      )}\n    </nav>\n  );\n};\n\n// Create compound component\nexport const Breadcrumb = BreadcrumbBase as BreadcrumbComponent;\n\n// Add compound component\nBreadcrumb.Item = BreadcrumbItemComponent;\nBreadcrumbItemComponent.displayName = 'BreadcrumbItem';\n", "import * as React from \"react\";\nimport type { WorkflowStep } from \"../WorkflowSplitView.types\";\nimport { Breadcrumb } from \"../../Breadcrumb\";\n\nexport type BreadcrumbsBarProps<T> = {\n\tsteps: WorkflowStep<T>[];\n\tcurrentIndex: number;\n\tonNavigate?: (index: number) => void;\n\trenderLabel?: (step: WorkflowStep<T>, index: number) => React.ReactNode;\n\tariaLabel?: string;\n\tclassName?: string;\n\tstyle? : React.CSSProperties;\n};\n\nexport function BreadcrumbsBar<T>({\n\tsteps,\n\tcurrentIndex,\n\tonNavigate,\n\trenderLabel,\n\tariaLabel = \"Breadcrumbs\",\n\tclassName,\n\tstyle,\n}: BreadcrumbsBarProps<T>) {\n\t// Breadcrumb semantics: only show links for previous steps; current is active; future steps omitted\n\tconst items = steps.map((s, i) => {\n\t\tconst isCurrent = i === currentIndex;\n\t\tconst isPast = i < currentIndex;\n\t\tconst label = renderLabel ? renderLabel(s, i) : (s.label ?? `Step ${i + 1}`);\n\t\treturn {\n\t\t\ttext: String(label),\n\t\t\thref: isPast ? \"#\" : undefined,\n\t\t\tactive: isCurrent,\n\t\t\tattributes: isPast ? { \"data-index\": String(i) } : undefined,\n\t\t};\n\t});\n\n\tconst handleClick = (e: React.MouseEvent<HTMLDivElement>) => {\n\t\tconst target = e.target as HTMLElement;\n\t\tconst link = target.closest('a.nhsuk-breadcrumb__link, a.nhsuk-breadcrumb__backlink') as HTMLAnchorElement | null;\n\t\tif (!link) return;\n\n\t\t// If it's the mobile back link, go to the previous step\n\t\tif (link.classList.contains('nhsuk-breadcrumb__backlink')) {\n\t\t\te.preventDefault();\n\t\t\tconst prev = Math.max(0, currentIndex - 1);\n\t\t\tif (prev !== currentIndex) onNavigate?.(prev);\n\t\t\treturn;\n\t\t}\n\n\t\t// Otherwise, it's a breadcrumb link to a past step \u2014 use the data-index\n\t\tconst idxStr = link.getAttribute('data-index');\n\t\tif (idxStr != null) {\n\t\t\te.preventDefault();\n\t\t\tconst idx = parseInt(idxStr, 10);\n\t\t\tif (!Number.isNaN(idx)) onNavigate?.(idx);\n\t\t}\n\t};\n\n\treturn (\n\t\t<div style={style} onClick={handleClick}>\n\t\t\t<Breadcrumb labelText={ariaLabel} classes={className} items={items} />\n\t\t</div>\n\t);\n}\n", "import * as React from \"react\";\nimport { useNhsFdpBreakpoints } from \"../../../hooks/useBreakpoints\";\nimport type {\n\tWorkflowBreakpoint,\n\tWorkflowPaneConfig,\n} from \"../WorkflowSplitView.types\";\n\nexport function useWorkflowLayout<T>(args: {\n\tstep: T | undefined;\n\tindex: number;\n\tlayoutForStep?: (a: {\n\t\tstep: T;\n\t\tindex: number;\n\t\tbreakpoint: WorkflowBreakpoint;\n\t}) => WorkflowPaneConfig;\n}) {\n\tconst { up } = useNhsFdpBreakpoints();\n\tconst [hydrated, setHydrated] = React.useState(false);\n\tReact.useEffect(() => setHydrated(true), []);\n\n\tconst isTablet = hydrated && up(\"medium\") && !up(\"xlarge\");\n\tconst isDesktop = hydrated && up(\"xlarge\");\n\tconst breakpoint: WorkflowBreakpoint = isDesktop\n\t\t? \"desktop\"\n\t\t: isTablet\n\t\t\t? \"tablet\"\n\t\t\t: \"mobile\";\n\n\tconst paneConfig: WorkflowPaneConfig = React.useMemo(() => {\n\t\tif (!args.step || !args.layoutForStep) {\n\t\t\t// Defaults: mobile=cards (1 pane, no navs), tablet=2 panes (primary nav + content), desktop=3 (primary nav + content + secondary if exists)\n\t\t\treturn breakpoint === \"mobile\"\n\t\t\t\t? { panes: 1, showPrimaryNav: false, showSecondaryNav: false }\n\t\t\t\t: breakpoint === \"tablet\"\n\t\t\t\t\t? { panes: 2, showPrimaryNav: true, showSecondaryNav: false }\n\t\t\t\t\t: { panes: 3, showPrimaryNav: true, showSecondaryNav: true };\n\t\t}\n\t\ttry {\n\t\t\treturn (\n\t\t\t\targs.layoutForStep({\n\t\t\t\t\tstep: args.step,\n\t\t\t\t\tindex: args.index,\n\t\t\t\t\tbreakpoint,\n\t\t\t\t}) || {}\n\t\t\t);\n\t\t} catch {\n\t\t\treturn {};\n\t\t}\n\t}, [args.step, args.index, args.layoutForStep, breakpoint]);\n\n\treturn { hydrated, breakpoint, isTablet, isDesktop, paneConfig };\n}\n", "import * as React from 'react';\n\n/**\n * NHS FDP breakpoint map (keep in sync with SCSS tokens)\n * Consider future auto-generation from design tokens.\n */\nexport const NHS_FDP_BREAKPOINTS = Object.freeze({\n  small: 320,\n  smallMax: 767,\n  medium: 768,\n  large: 1025,\n  xlarge: 1200,\n  xxlarge: 1440\n});\n\nexport type BreakpointKey = keyof typeof NHS_FDP_BREAKPOINTS;\n\n/** Utility: get current window width safely */\nfunction getViewportWidth(): number {\n  if (typeof window === 'undefined') return NHS_FDP_BREAKPOINTS.small;\n  return window.innerWidth || document.documentElement.clientWidth || 0;\n}\n\n/**\n * Hook returning live breakpoint matches and helpers.\n */\nexport function useNhsFdpBreakpoints() {\n  const [width, setWidth] = React.useState<number>(getViewportWidth());\n\n  React.useEffect(() => {\n    if (typeof window === 'undefined') return;\n    const handle = () => setWidth(getViewportWidth());\n    window.addEventListener('resize', handle);\n    return () => window.removeEventListener('resize', handle);\n  }, []);\n\n  const up = React.useCallback((key: BreakpointKey) => width >= NHS_FDP_BREAKPOINTS[key], [width]);\n  const down = React.useCallback((key: BreakpointKey) => width < NHS_FDP_BREAKPOINTS[key], [width]);\n  const between = React.useCallback((min: BreakpointKey, max: BreakpointKey) => {\n    return width >= NHS_FDP_BREAKPOINTS[min] && width < NHS_FDP_BREAKPOINTS[max];\n  }, [width]);\n\n  return {\n    width,\n    up,\n    down,\n    between,\n    /** Raw numeric values */\n    values: NHS_FDP_BREAKPOINTS\n  };\n}\n\n/**\n * Convenience hook to choose a layout value based on breakpoints.\n * Provide an ordered array of [minWidth,value] pairs or an object keyed by breakpoint.\n */\nexport function useResponsiveValue<T>(map: { base: T } & Partial<Record<BreakpointKey, T>>): T {\n  const { width, values } = useNhsFdpBreakpoints();\n  let current: T = map.base;\n  const order: BreakpointKey[] = ['small','medium','large','xlarge','xxlarge'];\n  for (const key of order) {\n    const bp = values[key];\n    if (width >= bp && map[key] !== undefined) current = map[key]!;\n  }\n  return current;\n}\n", "import React from 'react';\nimport classNames from 'classnames';\nimport './BackLink.scss';\nimport { BackLinkProps } from './BackLink.types';\n\nexport const BackLink: React.FC<BackLinkProps> = ({\n  text = 'Back',\n  html,\n  href = '#',\n  className,\n  element = 'a',\n  onClick,\n  ...props\n}) => {\n  const containerClasses = classNames(\n    'nhsuk-back-link',\n    className\n  );\n\n  const linkClasses = classNames(\n    'nhsuk-back-link__link'\n  );\n\n  const renderContent = () => {\n    return (\n      <>\n        <svg \n          className=\"nhsuk-icon nhsuk-icon__chevron-left\" \n          xmlns=\"http://www.w3.org/2000/svg\" \n          viewBox=\"0 0 24 24\" \n          aria-hidden=\"true\" \n          height=\"24\" \n          width=\"24\"\n        >\n          <path d=\"M8.5 12c0-.3.1-.5.3-.7l5-5c.4-.4 1-.4 1.4 0s.4 1 0 1.4L10.9 12l4.3 4.3c.4.4.4 1 0 1.4s-1 .4-1.4 0l-5-5c-.2-.2-.3-.4-.3-.7z\"></path>\n        </svg>\n        { html ? (\n          <span dangerouslySetInnerHTML={{ __html: html }} />\n        ) : (\n          text\n        )}\n      </>\n    );\n  };\n\n  return (\n    <div className={containerClasses}>\n      { element === 'button' ? (\n        <button\n          className={linkClasses}\n          onClick={onClick}\n          type=\"button\"\n          {...props}\n        >\n          {renderContent()}\n        </button>\n      ) : (\n        <a\n          className={linkClasses}\n          href={href}\n          {...props}\n        >\n          {renderContent()}\n        </a>\n      )}\n    </div>\n  );\n};\n", "import React from 'react';\nimport classNames from 'classnames';\nimport './BackLink.scss';\n\nexport interface ForwardLinkProps extends React.HTMLAttributes<HTMLAnchorElement | HTMLButtonElement> {\n  text?: string;\n  html?: string;\n  href?: string;\n  element?: 'a' | 'button';\n  onClick?: React.MouseEventHandler<HTMLButtonElement | HTMLAnchorElement>;\n  className?: string;\n}\n\nexport const ForwardLink: React.FC<ForwardLinkProps> = ({\n  text = 'Next',\n  html,\n  href = '#',\n  className,\n  element = 'a',\n  onClick,\n  ...props\n}) => {\n  const containerClasses = classNames('nhsuk-back-link', className);\n  const linkClasses = classNames('nhsuk-back-link__link');\n  const renderContent = () => (\n    <span style={{ display: 'inline-flex', alignItems: 'center', gap: 4 }}>\n      { html ? <span dangerouslySetInnerHTML={{ __html: html }} /> : text }\n      <svg\n        className=\"nhsuk-icon nhsuk-icon__chevron-right\"\n        xmlns=\"http://www.w3.org/2000/svg\"\n        viewBox=\"0 0 24 24\"\n        aria-hidden=\"true\"\n        height=\"24\"\n        width=\"24\"\n      >\n        <path d=\"M15.5 12c0 .3-.1.5-.3.7l-5 5c-.4.4-1 .4-1.4 0s-.4-1 0-1.4L13.1 12 8.8 7.7c-.4-.4-.4-1 0-1.4s1-.4 1.4 0l5 5c.2.2.3.4.3.7z\" />\n      </svg>\n    </span>\n  );\n  return (\n    <div className={containerClasses}>\n      {element === 'button' ? (\n        <button className={linkClasses} type=\"button\" onClick={onClick} {...props}>{renderContent()}</button>\n      ) : (\n        <a className={linkClasses} href={href} {...props}>{renderContent()}</a>\n      )}\n    </div>\n  );\n};\n\nForwardLink.displayName = 'ForwardLink';\n"],
  "mappings": "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",
  "names": ["classNames", "useCallback", "useEffect", "useRef", "useState", "React", "jsx", "React", "_a", "breadcrumbItems", "classNames", "jsx", "React", "React", "import_classnames", "jsx", "jsxs", "classNames", "import_classnames", "jsx", "jsxs", "classNames", "jsx", "jsxs", "_a", "useState", "useCallback", "useRef", "useEffect", "_b", "_c"]
}
