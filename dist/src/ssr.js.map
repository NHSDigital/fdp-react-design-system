{"version":3,"file":"ssr.js","sources":["../../src/components/Account/Account.tsx","../../src/components/HeaderSearch/HeaderSearch.tsx","../../src/components/Header/Header.render.tsx","../../src/components/Header/Header.tsx","../../src/components/ActionLink/ActionLink.tsx","../../src/components/Button/ButtonSSR.tsx","../../src/components/BackLink/BackLink.tsx","../../src/mapping/tag.ts","../../src/components/Tag/Tag.tsx","../../src/mapping/label.ts","../../src/components/Label/Label.tsx","../../src/mapping/heading.ts","../../src/components/Heading/Heading.tsx","../../src/mapping/hint.ts","../../src/components/Hint/Hint.tsx","../../src/mapping/errorMessage.ts","../../src/components/ErrorMessage/ErrorMessage.tsx"],"sourcesContent":["import React from 'react';\nimport classNames from 'classnames';\nimport './Account.scss';\nimport { AccountProps, AccountItem } from './Account.types';\n\n/**\n * Account Component for NHS Design System\n * \n * A standalone component that handles user account navigation,\n * extracted from the Header component for better modularity.\n */\nexport const Account: React.FC<AccountProps> = ({\n  ariaLabel = \"Account\",\n  items = [],\n  className,\n  variant = 'default',\n}) => {\n  // Don't render if no items provided\n  if (!items || items.length === 0) {\n    return null;\n  }\n\n  // Render account item - following NHS.UK structure exactly\n  const renderAccountItem = (item: AccountItem) => {\n    const iconContent = item.icon ? (\n      <svg \n        className=\"nhsuk-icon nhsuk-icon__user\" \n        xmlns=\"http://www.w3.org/2000/svg\" \n        viewBox=\"0 0 24 24\" \n        aria-hidden=\"true\" \n        focusable=\"false\"\n        role=\"img\" \n        aria-label={item.icon === true ? 'User' : undefined}\n      >\n        <path d=\"M12 1a11 11 0 1 1 0 22 11 11 0 0 1 0-22Zm0 2a9 9 0 0 0-5 16.5V18a4 4 0 0 1 4-4h2a4 4 0 0 1 4 4v1.5A9 9 0 0 0 12 3Zm0 3a3.5 3.5 0 1 1-3.5 3.5A3.4 3.4 0 0 1 12 6Z\" />\n      </svg>\n    ) : null;\n\n    const textContent = item.html ? (\n      <span dangerouslySetInnerHTML={{ __html: item.html }} />\n    ) : (\n      item.text\n    );\n\n    const content = (\n      <>\n        {iconContent}\n        {textContent}\n      </>\n    );\n\n    if (item.href) {\n      return (\n        <a className=\"nhsuk-account__link nhsuk-header__account-link\" href={item.href}>\n          {content}\n        </a>\n      );\n    }\n\n    if (item.action) {\n      return (\n        <form \n          className=\"nhsuk-account__form\" \n          action={item.action} \n          method={item.method || \"post\"}\n        >\n          <button \n            className=\"nhsuk-account__button\"\n            type=\"submit\"\n            role=\"button\"\n          >\n            {content}\n          </button>\n        </form>\n      );\n    }\n\n    // Fallback for items without href or action\n    return <span>{content}</span>;\n  };\n\n  return (\n    <nav \n      className={classNames(\n        'nhsuk-account',\n        {\n          'nhsuk-account--white': variant === 'white',\n        },\n        className\n      )} \n      aria-label={ariaLabel}\n    >\n      <ul className=\"nhsuk-account__list\">\n        {items.map((item, index) => (\n          item && (\n            <li \n              key={index} \n              className={classNames('nhsuk-account__item nhsuk-header__account-item', item.className)}\n            >\n              {renderAccountItem(item)}\n            </li>\n          )\n        ))}\n      </ul>\n    </nav>\n  );\n};\n\nexport default Account;\n","import React, { useState, useCallback, useRef, useEffect } from 'react';\nimport classNames from 'classnames';\nimport { HeaderSearchProps, SearchQuery } from './HeaderSearch.types';\nimport './HeaderSearch.scss';\n\n/**\n * HeaderSearch Component - Flexible Search Implementation\n * \n * Supports three modes:\n * 1. 'form' - Traditional form submission (SSR-friendly, default)\n * 2. 'controlled' - Full React controlled component with callbacks\n * 3. 'hybrid' - Form submission with optional client-side enhancement\n * \n * Examples:\n * \n * // SSR/Traditional form (default)\n * <HeaderSearch action=\"/search\" />\n * \n * // Controlled React component\n * <HeaderSearch \n *   mode=\"controlled\" \n *   value={searchQuery}\n *   callbacks={{ onChange: setSearchQuery, onSearch: handleSearch }}\n * />\n * \n * // Progressive enhancement\n * <HeaderSearch \n *   mode=\"hybrid\"\n *   action=\"/search\"\n *   callbacks={{ onSearch: handleClientSearch }}\n * />\n */\nexport const HeaderSearch: React.FC<HeaderSearchProps> = ({\n  mode = 'form',\n  action = \"/search\",\n  method = 'get',\n  name = \"q\",\n  value,\n  placeholder = \"Search\",\n  visuallyHiddenLabel = \"Search the NHS website\",\n  visuallyHiddenButton = \"Search\",\n  className,\n  disabled = false,\n  callbacks = {},\n  isLoading = false,\n  showResults = false,\n  results = [],\n  formAttributes = {},\n  inputAttributes = {},\n  buttonAttributes = {},\n  preventDefaultSubmit = false,\n  debounceMs = 300,\n  minQueryLength = 1,\n}) => {\n  // Internal state for uncontrolled mode\n  const [internalValue, setInternalValue] = useState('');\n  const [isFocused, setIsFocused] = useState(false);\n  \n  // Refs for debouncing and form handling\n  const debounceRef = useRef<NodeJS.Timeout | undefined>(undefined);\n  const formRef = useRef<HTMLFormElement>(null);\n  const inputRef = useRef<HTMLInputElement>(null);\n  \n  // Determine current value based on mode\n  const isControlled = mode === 'controlled' && value !== undefined;\n  const currentValue = isControlled ? value : internalValue;\n  \n  // Debounced change handler\n  const debouncedOnChange = useCallback((query: string) => {\n    if (debounceRef.current) {\n      clearTimeout(debounceRef.current);\n    }\n    \n    debounceRef.current = setTimeout(() => {\n      if (callbacks.onChange && query.length >= minQueryLength) {\n        callbacks.onChange(query);\n      }\n    }, debounceMs);\n  }, [callbacks.onChange, debounceMs, minQueryLength]);\n  \n  // Input change handler\n  const handleInputChange = useCallback((e: React.ChangeEvent<HTMLInputElement>) => {\n    const newValue = e.target.value;\n    \n    // Update internal state if not controlled\n    if (!isControlled) {\n      setInternalValue(newValue);\n    }\n    \n    // Call debounced onChange for controlled/hybrid modes\n    if (mode !== 'form') {\n      debouncedOnChange(newValue);\n    }\n  }, [isControlled, mode, debouncedOnChange]);\n  \n  // Form submission handler\n  const handleFormSubmit = useCallback((e: React.FormEvent<HTMLFormElement>) => {\n    const query = currentValue.trim();\n    \n    // Create search data\n    const searchData: SearchQuery = {\n      query,\n      timestamp: Date.now(),\n      formData: new FormData(e.currentTarget)\n    };\n    \n    // Handle different modes\n    if (mode === 'controlled' || (mode === 'hybrid' && preventDefaultSubmit)) {\n      e.preventDefault();\n      \n      if (callbacks.onSearch && query.length >= minQueryLength) {\n        callbacks.onSearch(searchData);\n      }\n    } else if (mode === 'hybrid' && callbacks.onSearch) {\n      // Let form submit normally but also trigger callback\n      if (query.length >= minQueryLength) {\n        callbacks.onSearch(searchData);\n      }\n    }\n    // For 'form' mode, let the browser handle submission naturally\n  }, [mode, currentValue, callbacks.onSearch, preventDefaultSubmit, minQueryLength]);\n  \n  // Focus handlers\n  const handleFocus = useCallback(() => {\n    setIsFocused(true);\n    callbacks.onFocus?.();\n  }, [callbacks.onFocus]);\n  \n  const handleBlur = useCallback(() => {\n    setIsFocused(false);\n    callbacks.onBlur?.();\n  }, [callbacks.onBlur]);\n  \n  // Clear search\n  const handleClear = useCallback(() => {\n    if (!isControlled) {\n      setInternalValue('');\n    }\n    callbacks.onClear?.();\n    inputRef.current?.focus();\n  }, [isControlled, callbacks.onClear]);\n  \n  // Cleanup debounce on unmount\n  useEffect(() => {\n    return () => {\n      if (debounceRef.current) {\n        clearTimeout(debounceRef.current);\n      }\n    };\n  }, []);\n  \n  // Search icon SVG - exact copy from NHS.UK\n  const renderSearchIcon = () => (\n    <svg \n      className={classNames('nhsuk-icon nhsuk-icon__search', {\n        'nhsuk-icon__search--loading': isLoading\n      })} \n      xmlns=\"http://www.w3.org/2000/svg\" \n      viewBox=\"0 0 24 24\" \n      aria-hidden=\"true\" \n      focusable=\"false\"\n    >\n      <path d=\"M19.71 18.29l-4.11-4.1a7 7 0 1 0-1.41 1.41l4.1 4.11a1 1 0 0 0 1.42 0 1 1 0 0 0 0-1.42zM5 10a5 5 0 1 1 5 5 5 5 0 0 1-5-5z\" />\n    </svg>\n  );\n  \n  // Loading spinner for async operations\n  const renderLoadingSpinner = () => (\n    <svg \n      className=\"nhsuk-icon nhsuk-icon__spinner\" \n      xmlns=\"http://www.w3.org/2000/svg\" \n      viewBox=\"0 0 24 24\" \n      aria-hidden=\"true\" \n      focusable=\"false\"\n    >\n      <circle \n        cx=\"12\" \n        cy=\"12\" \n        r=\"10\" \n        stroke=\"currentColor\" \n        strokeWidth=\"2\" \n        fill=\"none\" \n        strokeLinecap=\"round\" \n        strokeDasharray=\"31.416\" \n        strokeDashoffset=\"31.416\"\n      >\n        <animate \n          attributeName=\"stroke-dasharray\" \n          dur=\"2s\" \n          values=\"0 31.416;15.708 15.708;0 31.416\" \n          repeatCount=\"indefinite\"\n        />\n        <animate \n          attributeName=\"stroke-dashoffset\" \n          dur=\"2s\" \n          values=\"0;-15.708;-31.416\" \n          repeatCount=\"indefinite\"\n        />\n      </circle>\n    </svg>\n  );\n  \n  // Clear button\n  const renderClearButton = () => {\n    if (!currentValue || mode === 'form') return null;\n    \n    return (\n      <button\n        type=\"button\"\n        className=\"nhsuk-header__search-clear\"\n        onClick={handleClear}\n        aria-label=\"Clear search\"\n      >\n        <svg className=\"nhsuk-icon nhsuk-icon__close\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\" aria-hidden=\"true\" focusable=\"false\">\n          <path d=\"M13.41 12l5.3-5.29a1 1 0 1 0-1.42-1.42L12 10.59l-5.29-5.3a1 1 0 0 0-1.42 1.42l5.3 5.29-5.3 5.29a1 1 0 0 0 1.42 1.42l5.29-5.3 5.29 5.3a1 1 0 0 0 1.42-1.42z\"/>\n        </svg>\n      </button>\n    );\n  };\n  \n  // Results dropdown\n  const renderResults = () => {\n    if (!showResults || !results.length || !isFocused) return null;\n    \n    return (\n      <div className=\"nhsuk-header__search-results\" role=\"listbox\">\n        {results.map((result) => (\n          <div key={result.id} className=\"nhsuk-header__search-result\" role=\"option\">\n            {result.href ? (\n              <a href={result.href} className=\"nhsuk-header__search-result-link\">\n                <span className=\"nhsuk-header__search-result-title\">{result.title}</span>\n                {result.description && (\n                  <span className=\"nhsuk-header__search-result-description\">{result.description}</span>\n                )}\n              </a>\n            ) : (\n              <button \n                type=\"button\" \n                className=\"nhsuk-header__search-result-button\"\n                onClick={() => callbacks.onSearch?.({ query: result.title, timestamp: Date.now() })}\n              >\n                <span className=\"nhsuk-header__search-result-title\">{result.title}</span>\n                {result.description && (\n                  <span className=\"nhsuk-header__search-result-description\">{result.description}</span>\n                )}\n              </button>\n            )}\n          </div>\n        ))}\n      </div>\n    );\n  };\n\n  return (\n    <div className={classNames('nhsuk-header__search', className, {\n      'nhsuk-header__search--controlled': mode === 'controlled',\n      'nhsuk-header__search--hybrid': mode === 'hybrid',\n      'nhsuk-header__search--loading': isLoading,\n      'nhsuk-header__search--focused': isFocused,\n      'nhsuk-header__search--has-results': showResults && results.length > 0\n    })}>\n      <form \n        ref={formRef}\n        className=\"nhsuk-header__search-form\" \n        id=\"search\" \n        action={mode !== 'controlled' ? action : undefined}\n        method={mode !== 'controlled' ? method : undefined}\n        role=\"search\"\n        onSubmit={handleFormSubmit}\n        {...formAttributes}\n      >\n        <label \n          className=\"nhsuk-u-visually-hidden\" \n          htmlFor=\"search-field\"\n        >\n          {visuallyHiddenLabel}\n        </label>\n        \n        <div className=\"nhsuk-header__search-input-wrapper\">\n          <input \n            ref={inputRef}\n            className=\"nhsuk-header__search-input nhsuk-input\" \n            id=\"search-field\" \n            name={mode !== 'controlled' ? name : undefined}\n            type=\"search\" \n            placeholder={placeholder} \n            autoComplete=\"off\"\n            value={currentValue}\n            onChange={handleInputChange}\n            onFocus={handleFocus}\n            onBlur={handleBlur}\n            disabled={disabled || isLoading}\n            {...(showResults && results.length > 0 ? { 'aria-expanded': true, 'aria-haspopup': 'listbox' } : {})}\n            {...inputAttributes}\n          />\n          {renderClearButton()}\n        </div>\n        \n        <button \n          className=\"nhsuk-header__search-submit\" \n          type=\"submit\"\n          disabled={disabled || isLoading || (mode !== 'form' && currentValue.length < minQueryLength)}\n          {...buttonAttributes}\n        >\n          {isLoading ? renderLoadingSpinner() : renderSearchIcon()}\n          <span className=\"nhsuk-u-visually-hidden\">\n            {isLoading ? 'Searching...' : visuallyHiddenButton}\n          </span>\n        </button>\n      </form>\n      \n      {renderResults()}\n  </div>\n  );\n};\n","import React from \"react\";\nimport classNames from \"classnames\";\nimport { HeaderProps, NavigationItem } from \"./Header.types\";\nimport { Account } from \"../Account\";\nimport { HeaderSearch } from \"../HeaderSearch\";\nimport \"./Header.scss\";\nimport \"./Header.ssr.scss\";\n\nexport interface RenderHeaderOptions {\n\tvariant: \"client\" | \"server\";\n\tisClient: boolean;\n\tmenuOpen?: boolean;\n\tshowMoreButton?: boolean;\n\tvisibleItems?: number;\n\tdropdownVisible?: boolean;\n\ttoggleMenu?: (e?: React.MouseEvent) => void;\n\tnavContainerRef?: React.RefObject<HTMLDivElement>;\n\tnavListRef?: React.RefObject<HTMLUListElement>;\n}\n\nexport function renderHeaderMarkup(\n\tprops: HeaderProps,\n\t{\n\t\tvariant,\n\t\tisClient,\n\t\tmenuOpen = false,\n\t\tshowMoreButton = false,\n\t\tvisibleItems,\n\t\tdropdownVisible,\n\t\ttoggleMenu,\n\t\tnavContainerRef,\n\t\tnavListRef,\n\t}: RenderHeaderOptions\n) {\n\tconst {\n\t\tclassName,\n\t\tlogo = {},\n\t\tservice = {},\n\t\torganisation,\n\t\tsearch,\n\t\taccount,\n\t\tnavigation,\n\t\tcontainerClasses,\n\t\tvariant: headerVariant = \"default\",\n\t\tattributes = {},\n\t\tmaxVisibleItems, // deprecated (ignored)\n\t\tresponsiveNavigation = true,\n\t\t...rest\n\t} = props;\n\n\t// Prevent internal-only props leaking to DOM\n\tif (\"maxVisibleItems\" in (rest as any)) {\n\t\tdelete (rest as any).maxVisibleItems;\n\t}\n\n\tconst combineLogoAndServiceNameLinks =\n\t\t(service.href && !logo.href) ||\n\t\t(service.href && service.href === logo.href);\n\tconst logoHref = combineLogoAndServiceNameLinks ? service.href : logo.href;\n\n\tconst headerClasses = classNames(\n\t\t\"nhsuk-header\",\n\t\t{\n\t\t\t\"nhsuk-header--organisation\":\n\t\t\theaderVariant === \"organisation\" || organisation,\n\t\t\t\"nhsuk-header--white\": headerVariant === \"white\",\n\t\t},\n\t\tclassName\n\t);\n\tconst containerClass = classNames(\n\t\t\"nhsuk-header__container\",\n\t\tcontainerClasses\n\t);\n\tconst navigationClasses = classNames(\n\t\t\"nhsuk-header__navigation\",\n\t\t{\n\t\t\t\"nhsuk-header__navigation--white\": navigation?.white,\n\t\t\t\"nhsuk-header__navigation--justified\": navigation?.justified,\n\t\t},\n\t\tnavigation?.className\n\t);\n\n\tconst renderNHSLogo = () => (\n\t\t<svg\n\t\t\tclassName=\"nhsuk-header__logo\"\n\t\t\txmlns=\"http://www.w3.org/2000/svg\"\n\t\t\tviewBox=\"0 0 200 80\"\n\t\t\theight=\"40\"\n\t\t\twidth=\"100\"\n\t\t\tfocusable=\"false\"\n\t\t\trole=\"img\"\n\t\t\taria-label={logo.ariaLabel || \"NHS\"}\n\t\t>\n\t\t\t<title>{logo.ariaLabel || \"NHS\"}</title>\n\t\t\t<path\n\t\t\t\tfill=\"#fff\"\n\t\t\t\td=\"M200 0v80H0V0h200Zm-27.5 5.5c-14.5 0-29 5-29 22 0 10.2 7.7 13.5 14.7 16.3l.7.3c5.4 2 10.1 3.9 10.1 8.4 0 6.5-8.5 7.5-14 7.5s-12.5-1.5-16-3.5L135 70c5.5 2 13.5 3.5 20 3.5 15.5 0 32-4.5 32-22.5 0-19.5-25.5-16.5-25.5-25.5 0-5.5 5.5-6.5 12.5-6.5a35 35 0 0 1 14.5 3l4-13.5c-4.5-2-12-3-20-3Zm-131 2h-22l-14 65H22l9-45h.5l13.5 45h21.5l14-65H64l-9 45h-.5l-13-45Zm63 0h-18l-13 65h17l6-28H117l-5.5 28H129l13.5-65H125L119.5 32h-20l5-24.5Z\"\n\t\t\t/>\n\t\t</svg>\n\t);\n\n\tconst renderServiceLogo = () =>\n\t\tlogo.src ? (\n\t\t\t<img\n\t\t\t\tclassName=\"nhsuk-header__organisation-logo\"\n\t\t\t\tsrc={logo.src}\n\t\t\t\twidth=\"280\"\n\t\t\t\talt={logo.ariaLabel || \"NHS\"}\n\t\t\t/>\n\t\t) : (\n\t\t\trenderNHSLogo()\n\t\t);\n\tconst renderOrganisationName = () =>\n\t\torganisation ? (\n\t\t\t<>\n\t\t\t\t<span className=\"nhsuk-header__organisation-name\">\n\t\t\t\t\t{organisation.name}\n\t\t\t\t\t{organisation.split && (\n\t\t\t\t\t\t<span className=\"nhsuk-header__organisation-name-split\">\n\t\t\t\t\t\t\t{\" \"}\n\t\t\t\t\t\t\t{organisation.split}\n\t\t\t\t\t\t</span>\n\t\t\t\t\t)}\n\t\t\t\t</span>\n\t\t\t\t{organisation.descriptor && (\n\t\t\t\t\t<span className=\"nhsuk-header__organisation-name-descriptor\">\n\t\t\t\t\t\t{organisation.descriptor}\n\t\t\t\t\t</span>\n\t\t\t\t)}\n\t\t\t</>\n\t\t) : null;\n\tconst renderServiceName = (text?: string, href?: string) =>\n\t\ttext ? (\n\t\t\thref ? (\n\t\t\t\t<a className=\"nhsuk-header__service-name\" href={href}>\n\t\t\t\t\t{text}\n\t\t\t\t</a>\n\t\t\t) : (\n\t\t\t\t<span className=\"nhsuk-header__service-name\">{text}</span>\n\t\t\t)\n\t\t) : null;\n\tconst renderNavigationLinkContent = (item: NavigationItem) =>\n\t\titem.active || item.current ? (\n\t\t\t<strong className=\"nhsuk-header__navigation-item-current-fallback\">\n\t\t\t\t{item.html ? (\n\t\t\t\t\t<span dangerouslySetInnerHTML={{ __html: item.html }} />\n\t\t\t\t) : (\n\t\t\t\t\titem.text\n\t\t\t\t)}\n\t\t\t</strong>\n\t\t) : item.html ? (\n\t\t\t<span dangerouslySetInnerHTML={{ __html: item.html }} />\n\t\t) : (\n\t\t\titem.text\n\t\t);\n\tconst renderChevronIcon = () => (\n\t\t<svg\n\t\t\tclassName=\"nhsuk-icon nhsuk-icon__chevron-down\"\n\t\t\txmlns=\"http://www.w3.org/2000/svg\"\n\t\t\tviewBox=\"0 0 24 24\"\n\t\t\taria-hidden=\"true\"\n\t\t\tfocusable=\"false\"\n\t\t>\n\t\t\t<path d=\"M15.5 12a1 1 0 0 1-.29.71l-5 5a1 1 0 0 1-1.42-1.42l4.3-4.29-4.3-4.29a1 1 0 0 1 1.42-1.42l5 5a1 1 0 0 1 .29.71z\" />\n\t\t</svg>\n\t);\n\n\t// Server variant fallback overflow handling (boolean-based)\n\t// If responsiveNavigation is false, we render everything in dropdown (no primary items)\n\t// This avoids brittle numeric thresholds server-side.\n\tconst serverHasOverflow = variant === \"server\" && navigation?.items && !responsiveNavigation;\n\tconst serverPrimaryItems = serverHasOverflow ? [] : navigation?.items;\n\tconst serverOverflowItems = serverHasOverflow ? navigation!.items! : [];\n\n\treturn (\n\t\t<header\n\t\t\tclassName={headerClasses}\n\t\t\trole=\"banner\"\n\t\t\tdata-module=\"nhsuk-header\"\n\t\t\t{...attributes}\n\t\t\t{...rest}\n\t\t>\n\t\t\t<div className={containerClass}>\n\t\t\t\t<div className=\"nhsuk-header__service\">\n\t\t\t\t\t{logoHref ? (\n\t\t\t\t\t\t<a className=\"nhsuk-header__service-logo\" href={logoHref}>\n\t\t\t\t\t\t\t{renderServiceLogo()}\n\t\t\t\t\t\t\t{renderOrganisationName()}\n\t\t\t\t\t\t\t{combineLogoAndServiceNameLinks &&\n\t\t\t\t\t\t\t\trenderServiceName(service.text)}\n\t\t\t\t\t\t</a>\n\t\t\t\t\t) : (\n\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t{renderServiceLogo()}\n\t\t\t\t\t\t\t{renderOrganisationName()}\n\t\t\t\t\t\t\t{combineLogoAndServiceNameLinks &&\n\t\t\t\t\t\t\t\trenderServiceName(service.text)}\n\t\t\t\t\t\t</>\n\t\t\t\t\t)}\n\t\t\t\t\t{service.text &&\n\t\t\t\t\t\t!combineLogoAndServiceNameLinks &&\n\t\t\t\t\t\trenderServiceName(service.text, service.href)}\n\t\t\t\t</div>\n\t\t\t\t{search && <HeaderSearch {...search} />}\n\t\t\t\t<Account\n\t\t\t\t\t{...account}\n\t\t\t\t\tvariant={headerVariant === \"white\" ? \"white\" : \"default\"}\n\t\t\t\t/>\n\t\t\t</div>\n\t\t\t{navigation && navigation.items && navigation.items.length > 0 && (\n\t\t\t\t<nav\n\t\t\t\t\tclassName={navigationClasses}\n\t\t\t\t\taria-label={navigation.ariaLabel || \"Menu\"}\n\t\t\t\t>\n\t\t\t\t\t<div\n\t\t\t\t\t\tclassName={classNames(\n\t\t\t\t\t\t\t\"nhsuk-header__navigation-container\",\n\t\t\t\t\t\t\t\"nhsuk-width-container\",\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\"nhsuk-header__navigation-container--initializing\":\n\t\t\t\t\t\t\t\t\tisClient && variant === \"client\",\n\t\t\t\t\t\t\t\t\"nhsuk-header__navigation-container--ssr\": !isClient,\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tcontainerClasses\n\t\t\t\t\t\t)}\n\t\t\t\t\t\tref={variant === \"client\" ? navContainerRef : undefined}\n\t\t\t\t\t>\n\t\t\t\t\t\t<ul\n\t\t\t\t\t\t\tclassName=\"nhsuk-header__navigation-list\"\n\t\t\t\t\t\t\tref={variant === \"client\" ? navListRef : undefined}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{(variant === \"server\" ? serverPrimaryItems || [] : navigation?.items || []).map((item, index) => (\n\t\t\t\t\t\t\t\t<li\n\t\t\t\t\t\t\t\t\tkey={index}\n\t\t\t\t\t\t\t\t\tclassName={classNames(\n\t\t\t\t\t\t\t\t\t\t\"nhsuk-header__navigation-item\",\n\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\"nhsuk-header__navigation-item--current\":\n\t\t\t\t\t\t\t\t\t\t\t\titem.active || item.current,\n\t\t\t\t\t\t\t\t\t\t\t\"nhsuk-header__navigation-item--hidden\":\n\t\t\t\t\t\t\t\t\t\t\t\tvariant === \"client\" &&\n\t\t\t\t\t\t\t\t\t\t\t\tshowMoreButton &&\n\t\t\t\t\t\t\t\t\t\t\t\tvisibleItems !== undefined &&\n\t\t\t\t\t\t\t\t\t\t\t\tindex >= (visibleItems ?? 0),\n\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\titem.className\n\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t{...(item.attributes || {})}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<a\n\t\t\t\t\t\t\t\t\t\tclassName=\"nhsuk-header__navigation-link\"\n\t\t\t\t\t\t\t\t\t\thref={item.href}\n\t\t\t\t\t\t\t\t\t\t{...(item.active || item.current\n\t\t\t\t\t\t\t\t\t\t\t? { \"aria-current\": item.current ? \"page\" : \"true\" }\n\t\t\t\t\t\t\t\t\t\t\t: {})}\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t{renderNavigationLinkContent(item)}\n\t\t\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t{variant === \"client\" &&\n\t\t\t\t\t\t\t\tshowMoreButton &&\n\t\t\t\t\t\t\t\tvisibleItems !== undefined && (\n\t\t\t\t\t\t\t\t\t<li className=\"nhsuk-header__navigation-item nhsuk-header__navigation-item--more\">\n\t\t\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\t\t\tclassName=\"nhsuk-header__navigation-button\"\n\t\t\t\t\t\t\t\t\t\t\tid=\"toggle-more-menu\"\n\t\t\t\t\t\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\t\t\t\t\t\taria-haspopup=\"true\"\n\t\t\t\t\t\t\t\t\t\t\taria-expanded={menuOpen ? \"true\" : \"false\"}\n\t\t\t\t\t\t\t\t\t\t\taria-controls=\"nhsuk-header-more-menu\"\n\t\t\t\t\t\t\t\t\t\t\tonClick={toggleMenu}\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t<span>More</span>\n\t\t\t\t\t\t\t\t\t\t\t{renderChevronIcon()}\n\t\t\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</ul>\n\t\t\t\t\t</div>\n\t\t\t\t</nav>\n\t\t\t)}\n\t\t\t{variant === \"client\" &&\n\t\t\t\tisClient &&\n\t\t\t\tnavigation &&\n\t\t\t\tnavigation.items &&\n\t\t\t\tnavigation.items.length > 0 &&\n\t\t\t\tmenuOpen &&\n\t\t\t\tdropdownVisible && (\n\t\t\t\t\t<div\n\t\t\t\t\t\tclassName=\"nhsuk-header__dropdown-menu\"\n\t\t\t\t\t\thidden={!dropdownVisible}\n\t\t\t\t\t\tid=\"nhsuk-header-more-menu\"\n\t\t\t\t\t>\n\t\t\t\t\t\t<ul className=\"nhsuk-header__dropdown-list\">\n\t\t\t\t\t\t\t{navigation.items.slice(visibleItems ?? 0).map((item, index) => (\n\t\t\t\t\t\t\t\t<li\n\t\t\t\t\t\t\t\t\tkey={`overflow-${(visibleItems ?? 0) + index}`}\n\t\t\t\t\t\t\t\t\tclassName={classNames(\"nhsuk-header__dropdown-item\", {\n\t\t\t\t\t\t\t\t\t\t\"nhsuk-header__dropdown-item--current\":\n\t\t\t\t\t\t\t\t\t\t\titem.active || item.current,\n\t\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<a\n\t\t\t\t\t\t\t\t\t\tclassName=\"nhsuk-header__dropdown-link\"\n\t\t\t\t\t\t\t\t\t\thref={item.href}\n\t\t\t\t\t\t\t\t\t\t{...(item.active || item.current\n\t\t\t\t\t\t\t\t\t\t\t? { \"aria-current\": item.current ? \"page\" : \"true\" }\n\t\t\t\t\t\t\t\t\t\t\t: {})}\n\t\t\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\t\t\ttoggleMenu?.();\n\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t{renderNavigationLinkContent(item)}\n\t\t\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t</ul>\n\t\t\t\t\t</div>\n\t\t\t\t)}\n\t\t\t{variant === \"server\" &&\n\t\t\t\tserverHasOverflow &&\n\t\t\t\tserverOverflowItems.length > 0 && (\n\t\t\t\t\t<div className=\"nhsuk-header__dropdown-menu\" data-ssr-overflow=\"true\">\n\t\t\t\t\t\t<ul className=\"nhsuk-header__dropdown-list\">\n\t\t\t\t\t\t\t{serverOverflowItems.map((item, index) => (\n\t\t\t\t\t\t\t\t<li\n\t\t\t\t\t\t\t\t\tkey={`overflow-server-${index}`}\n\t\t\t\t\t\t\t\t\tclassName={classNames(\"nhsuk-header__dropdown-item\", {\n\t\t\t\t\t\t\t\t\t\t\"nhsuk-header__dropdown-item--current\":\n\t\t\t\t\t\t\t\t\t\t\titem.active || item.current,\n\t\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<a\n\t\t\t\t\t\t\t\t\t\tclassName=\"nhsuk-header__dropdown-link\"\n\t\t\t\t\t\t\t\t\t\thref={item.href}\n\t\t\t\t\t\t\t\t\t\t{...(item.active || item.current\n\t\t\t\t\t\t\t\t\t\t\t? { \"aria-current\": item.current ? \"page\" : \"true\" }\n\t\t\t\t\t\t\t\t\t\t\t: {})}\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t{renderNavigationLinkContent(item)}\n\t\t\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t</ul>\n\t\t\t\t\t</div>\n\t\t\t\t)}\n\t\t</header>\n\t);\n}\n","import React, { useState, useEffect, useRef, useCallback } from \"react\";\nimport { HeaderProps } from \"./Header.types\";\nimport { renderHeaderMarkup } from \"./Header.render\";\n\n/**\n * SSR-compatible Header Component with Progressive Enhancement\n *\n * This component is designed to work with Next.js SSR by:\n * 1. Rendering a functional header on the server\n * 2. Progressively enhancing with responsive overflow handling on the client\n * 3. Providing fallback navigation that works without JavaScript\n */\nexport const Header: React.FC<HeaderProps> = ({\n\tclassName,\n\tlogo = {},\n\tservice = {},\n\torganisation,\n\tsearch,\n\taccount,\n\tnavigation,\n\tcontainerClasses,\n\tvariant = \"default\",\n\tattributes = {},\n\t...props\n}) => {\n\t// SSR-safe state initialization & client overflow management\n\tconst [menuOpen, setMenuOpen] = useState(false);\n\tconst [showMoreButton, setShowMoreButton] = useState(false);\n\tconst [visibleItems, setVisibleItems] = useState<number>(navigation?.items?.length || 0);\n\tconst [dropdownVisible, setDropdownVisible] = useState(false); // retained for a11y closing timing\n\tconst [isClient, setIsClient] = useState(false); // Track if we're on client side\n\n\t// Refs for measurement\n\tconst navContainerRef = useRef<HTMLDivElement>(null!);\n\tconst navListRef = useRef<HTMLUListElement>(null!);\n\tconst computingRef = useRef(false);\n\n\t// Simple initialization effect - runs once\n\tuseEffect(() => {\n\t\tif (typeof window === \"undefined\") return;\n\n\t\tsetIsClient(true);\n\t\t// initialization effect retained for potential future logic (was isInitialized)\n\t}, []); // Run once on mount\n\n\t// SSR-safe escape key handler\n\tuseEffect(() => {\n\t\t// Only run on client side\n\t\tif (typeof document === \"undefined\") return;\n\n\t\tconst handleEscapeKey = (event: KeyboardEvent) => {\n\t\t\tif (event.key === \"Escape\" && menuOpen) {\n\t\t\t\tsetMenuOpen(false);\n\t\t\t}\n\t\t};\n\n\t\tif (menuOpen) {\n\t\t\tdocument.addEventListener(\"keydown\", handleEscapeKey);\n\t\t\treturn () => document.removeEventListener(\"keydown\", handleEscapeKey);\n\t\t}\n\t}, [menuOpen]);\n\n\t// Prototype element width cache for the More button (computed once per session unless font/layout changes)\n\tconst moreButtonWidthRef = useRef<number | null>(null);\n\n\t// Measure available space & determine how many nav items fit (excluding the potential More button)\n\tconst recomputeLayout = useCallback(() => {\n\t\tif (!isClient) return; // only run on client\n\t\tif (!navigation?.items || navigation.items.length === 0) return;\n\t\tif (computingRef.current) return;\n\t\tconst container = navContainerRef.current;\n\t\tconst list = navListRef.current;\n\t\tif (!container || !list) return;\n\t\tcomputingRef.current = true;\n\t\t// Add measuring class so hidden items participate in layout width without flashing\n\t\tcontainer.classList.add(\"nhsuk-header__navigation-container--measuring\");\n\n\t\tconst containerWidth = container.clientWidth;\n\t\tconst children = Array.from(list.children) as HTMLLIElement[];\n\t\tif (!children.length) {\n\t\t\tcontainer.classList.remove(\"nhsuk-header__navigation-container--measuring\");\n\t\t\tcomputingRef.current = false;\n\t\t\treturn;\n\t\t}\n\n\t\t// Compute dynamic reserve using a hidden prototype button if not already measured (accounts for font changes)\n\t\tif (moreButtonWidthRef.current == null) {\n\t\t\tconst proto = document.createElement(\"button\");\n\t\t\tproto.type = \"button\";\n\t\t\tproto.className = \"nhsuk-header__navigation-button nhsuk-header__navigation-button--prototype\";\n\t\t\tproto.style.position = \"absolute\";\n\t\t\tproto.style.visibility = \"hidden\";\n\t\t\tproto.style.pointerEvents = \"none\";\n\t\t\tproto.innerHTML = '<span>More</span>';\n\t\t\tcontainer.appendChild(proto);\n\t\t\tmoreButtonWidthRef.current = proto.getBoundingClientRect().width || 104; // fallback\n\t\t\tcontainer.removeChild(proto);\n\t\t}\n\t\tconst reserve = moreButtonWidthRef.current + 16; // add a small breathing space gutter\n\n\t\tlet used = 0;\n\t\tlet fit = 0;\n\t\tconst style = window.getComputedStyle(container);\n\t\tconst paddingLeft = parseFloat(style.paddingLeft) || 0;\n\t\tconst paddingRight = parseFloat(style.paddingRight) || 0;\n\t\tlet padding = paddingLeft + paddingRight;\n\t\tfor (const child of children) {\n\t\t\tconst width = child.getBoundingClientRect().width;\n\t\t\tif (used + width + reserve + padding > containerWidth) break;\n\t\t\tused += width;\n\t\t\tfit += 1;\n\t\t}\n\n\t\tconst nextShow = fit < navigation.items.length;\n\t\tconst nextVisible = nextShow ? fit : navigation.items.length;\n\t\t// Only update state if changed to avoid extra observer cycles & flicker\n\t\tsetShowMoreButton(prev => (prev === nextShow ? prev : nextShow));\n\t\tsetVisibleItems(prev => (prev === nextVisible ? prev : nextVisible));\n\t\tcontainer.classList.remove(\"nhsuk-header__navigation-container--measuring\");\n\t\tcomputingRef.current = false;\n\t}, [isClient, navigation?.items]);\n\n\t// Attach ResizeObserver to container for responsive recalculation\n\tuseEffect(() => {\n\t\tif (!isClient) return;\n\t\tconst container = navContainerRef.current;\n\t\tif (!container) return;\n\n\t\tlet frame: number | null = null;\n\t\tconst schedule = () => {\n\t\t\tif (frame != null) return;\n\t\t\tframe = window.requestAnimationFrame(() => {\n\t\t\t\tframe = null;\n\t\t\t\trecomputeLayout();\n\t\t\t});\n\t\t};\n\n\t\t// Initial computation after hydration\n\t\trecomputeLayout();\n\n\t\t// Observe size changes\n\t\tconst ro = new ResizeObserver(() => schedule());\n\t\tro.observe(container);\n\n\t\t// Also observe list in case internal wrapping affects intrinsic width without container size change\n\t\tif (navListRef.current) ro.observe(navListRef.current);\n\n\t\treturn () => {\n\t\t\tif (frame != null) window.cancelAnimationFrame(frame);\n\t\t\tro.disconnect();\n\t\t};\n\t}, [isClient, recomputeLayout]);\n\n\t// Recompute when navigation length changes\n\tuseEffect(() => {\n\t\tif (!isClient) return;\n\t\trecomputeLayout();\n\t}, [navigation?.items?.length, isClient, recomputeLayout]);\n\n\tconst toggleMenu = (event?: React.MouseEvent) => {\n\t\tif (event) {\n\t\t\tevent.preventDefault();\n\t\t\tevent.stopPropagation();\n\t\t}\n\n\t\tconst newMenuState = !menuOpen;\n\t\tsetMenuOpen(newMenuState);\n\n\t\t// Behaviour layer now controls DOM injection of dropdown; we track visible state for accessibility if needed.\n\t\tsetDropdownVisible(newMenuState);\n\t};\n\n\t// NHS Logo SVG - exact copy from NHS.UK\n\t// Markup helpers removed; now handled in shared renderer\n\n\treturn renderHeaderMarkup(\n\t\t{\n\t\t\tclassName,\n\t\t\tlogo,\n\t\t\tservice,\n\t\t\torganisation,\n\t\t\tsearch,\n\t\t\taccount,\n\t\t\tnavigation,\n\t\t\tcontainerClasses,\n\t\t\tvariant,\n\t\t\tattributes,\n\t\t\t...props,\n\t\t},\n\t\t{\n\t\t\tvariant: \"client\",\n\t\t\tisClient,\n\t\t\tmenuOpen,\n\t\t\tshowMoreButton,\n\t\t\tvisibleItems,\n\t\t\tdropdownVisible,\n\t\t\ttoggleMenu,\n\t\t\tnavContainerRef,\n\t\t\tnavListRef,\n\t\t}\n\t);\n};\n","import React from 'react';\nimport classNames from 'classnames';\nimport './ActionLink.scss';\nimport { ActionLinkProps } from './ActionLink.types';\n\nexport const ActionLink: React.FC<ActionLinkProps> = ({\n  text,\n  href,\n  openInNewWindow = false,\n  className,\n  ...props\n}) => {\n  const linkClasses = classNames(\n    'nhsuk-action-link__link',\n    className\n  );\n\n  return (\n    <div className=\"nhsuk-action-link\">\n      <a\n        className={linkClasses}\n        href={href}\n        target={openInNewWindow ? '_blank' : undefined}\n        rel={openInNewWindow ? 'noopener noreferrer' : undefined}\n        {...props}\n      >\n        <svg \n          className=\"nhsuk-icon nhsuk-icon__arrow-right-circle\" \n          xmlns=\"http://www.w3.org/2000/svg\" \n          viewBox=\"0 0 24 24\" \n          aria-hidden=\"true\" \n          width=\"36\" \n          height=\"36\"\n        >\n          <path d=\"M0 0h24v24H0z\" fill=\"none\"></path>\n          <path d=\"M12 2a10 10 0 0 0-9.95 9h11.64L9.74 7.05a1 1 0 0 1 1.41-1.41l5.66 5.65a1 1 0 0 1 0 1.42l-5.66 5.65a1 1 0 0 1-1.41 0 1 1 0 0 1 0-1.41L13.69 13H2.05A10 10 0 1 0 12 2z\"></path>\n        </svg>\n        <span className=\"nhsuk-action-link__text\">{text}</span>\n      </a>\n    </div>\n  );\n};\n","import * as React from 'react';\nimport classNames from 'classnames';\nimport { ButtonVariant, ButtonSize } from './Button.types';\nimport './Button.scss';\n\n/**\n * SSR-Safe Button Component\n * \n * This is a simplified version of the Button component that works in SSR environments.\n * It doesn't use react-aria-components to avoid createContext dependencies.\n * \n * For full accessibility features and interactions, use the regular Button component\n * in client-side environments.\n */\n\nexport interface ButtonSSRProps extends Omit<React.ButtonHTMLAttributes<HTMLButtonElement>, 'className'> {\n  /**\n   * The visual style variant of the button\n   */\n  variant?: ButtonVariant;\n  \n  /**\n   * The size of the button\n   */\n  size?: ButtonSize;\n  \n  /**\n   * Whether the button should take the full width of its container\n   */\n  fullWidth?: boolean;\n  \n  /**\n   * Additional CSS classes to apply\n   */\n  className?: string;\n  \n  /**\n   * The button content\n   */\n  children: React.ReactNode;\n}\n\n/**\n * SSR-Safe Button Component\n */\nexport const ButtonSSR = React.forwardRef<HTMLButtonElement, ButtonSSRProps>(\n  ({ \n    variant = 'primary', \n    size = 'default', \n    fullWidth = false, \n    className, \n    children, \n    disabled,\n    type = 'button',\n    ...rest \n  }, ref) => {\n    const buttonClasses = classNames(\n      'nhs-aria-button',\n      `nhs-aria-button--${variant}`,\n      {\n        [`nhs-aria-button--${size}`]: size !== 'default',\n        'nhs-aria-button--full-width': fullWidth,\n        'nhs-aria-button--disabled': disabled,\n      },\n      className\n    );\n\n    return (\n      <button\n        ref={ref}\n        type={type}\n        className={buttonClasses}\n        disabled={disabled}\n        {...rest}\n      >\n        {children}\n      </button>\n    );\n  }\n);\n\nButtonSSR.displayName = 'ButtonSSR';\n\nexport default ButtonSSR;\n","import React from 'react';\nimport classNames from 'classnames';\nimport './BackLink.scss';\nimport { BackLinkProps } from './BackLink.types';\n\nexport const BackLink: React.FC<BackLinkProps> = ({\n  text = 'Back',\n  html,\n  href = '#',\n  className,\n  element = 'a',\n  onClick,\n  ...props\n}) => {\n  const containerClasses = classNames(\n    'nhsuk-back-link',\n    className\n  );\n\n  const linkClasses = classNames(\n    'nhsuk-back-link__link'\n  );\n\n  const renderContent = () => {\n    return (\n      <>\n        <svg \n          className=\"nhsuk-icon nhsuk-icon__chevron-left\" \n          xmlns=\"http://www.w3.org/2000/svg\" \n          viewBox=\"0 0 24 24\" \n          aria-hidden=\"true\" \n          height=\"24\" \n          width=\"24\"\n        >\n          <path d=\"M8.5 12c0-.3.1-.5.3-.7l5-5c.4-.4 1-.4 1.4 0s.4 1 0 1.4L10.9 12l4.3 4.3c.4.4.4 1 0 1.4s-1 .4-1.4 0l-5-5c-.2-.2-.3-.4-.3-.7z\"></path>\n        </svg>\n        { html ? (\n          <span dangerouslySetInnerHTML={{ __html: html }} />\n        ) : (\n          text\n        )}\n      </>\n    );\n  };\n\n  return (\n    <div className={containerClasses}>\n      { element === 'button' ? (\n        <button\n          className={linkClasses}\n          onClick={onClick}\n          type=\"button\"\n          {...props}\n        >\n          {renderContent()}\n        </button>\n      ) : (\n        <a\n          className={linkClasses}\n          href={href}\n          {...props}\n        >\n          {renderContent()}\n        </a>\n      )}\n    </div>\n  );\n};\n","export interface TagInputProps {\n  color?: string;\n  noBorder?: boolean;\n  closable?: boolean;\n  disabled?: boolean;\n  className?: string;\n}\n\nexport interface NormalisedTagModel {\n  classes: string;\n  showClose: boolean;\n  disabled: boolean;\n}\n\nexport function mapTagProps(input: TagInputProps): NormalisedTagModel {\n  const { color = 'default', noBorder, closable, disabled, className } = input;\n  const classes = [\n    'nhsuk-tag',\n    color !== 'default' ? `nhsuk-tag--${color}` : '',\n    noBorder ? 'nhsuk-tag--no-border' : '',\n    closable ? 'nhsuk-tag--closable' : '',\n    disabled ? 'nhsuk-tag--disabled' : '',\n    className || ''\n  ].filter(Boolean).join(' ');\n  return { classes, showClose: !!closable, disabled: !!disabled };\n}\n","import React from \"react\";\nimport \"./Tag.scss\";\nimport { TagProps } from \"./Tag.types\";\nimport { mapTagProps } from \"../../mapping/tag\";\n\nexport const Tag: React.FC<TagProps> = ({\n\ttext,\n\thtml,\n\tchildren,\n\tcolor = \"default\",\n\tnoBorder = false,\n\tclosable = false,\n\tonClose,\n\tdisabled = false,\n\tclassName,\n\t...props\n}) => {\n\tconst model = mapTagProps({ color, noBorder, closable, disabled, className });\n\n\tconst handleClose = (e: React.MouseEvent) => {\n\t\te.preventDefault();\n\t\te.stopPropagation();\n\t\tif (!disabled && onClose) {\n\t\t\tonClose();\n\t\t}\n\t};\n\n\treturn (\n\t\t<strong className={model.classes} {...props}>\n\t\t\t{/* Content - children take precedence, then html, then text */}\n\t\t\t{children ? (\n\t\t\t\tchildren\n\t\t\t) : html ? (\n\t\t\t\t<span dangerouslySetInnerHTML={{ __html: html }} />\n\t\t\t) : (\n\t\t\t\ttext\n\t\t\t)}\n\n\t\t\t{/* Close button */}\n\t\t\t{closable && (\n\t\t\t\t<button\n\t\t\t\t\ttype=\"button\"\n\t\t\t\t\tclassName=\"nhsuk-tag__close\"\n\t\t\t\t\tonClick={handleClose}\n\t\t\t\t\tdisabled={disabled}\n\t\t\t\t\taria-label=\"Remove\"\n\t\t\t\t\ttitle=\"Remove\"\n\t\t\t\t>\n\t\t\t\t\t×\n\t\t\t\t</button>\n\t\t\t)}\n\t\t</strong>\n\t);\n};\n","export interface LabelInputProps {\n  size?: 'xl'|'l'|'m'|'s';\n  isPageHeading?: boolean;\n  className?: string;\n  htmlFor?: string;\n}\n\nexport interface NormalisedLabelModel {\n  tag: 'label' | 'h1';\n  classes: string;\n  size: string;\n  htmlFor?: string;\n  isPageHeading: boolean;\n}\n\nexport function mapLabelProps(input: LabelInputProps): NormalisedLabelModel {\n  const size = input.size || 'm';\n  const classes = [\n    'nhsuk-label',\n    size !== 'm' ? `nhsuk-label--${size}` : '',\n    input.className || ''\n  ].filter(Boolean).join(' ');\n  return {\n    tag: input.isPageHeading ? 'h1' : 'label',\n    classes,\n    size,\n    htmlFor: input.isPageHeading ? undefined : input.htmlFor,\n    isPageHeading: !!input.isPageHeading\n  };\n}\n","import React from 'react';\nimport './Label.scss';\nimport { LabelProps } from './Label.types';\nimport { mapLabelProps } from '../../mapping/label';\n\nexport const Label: React.FC<LabelProps> = ({\n  htmlFor,\n  className,\n  isPageHeading = false,\n  size = 'm',\n  children,\n  ...props\n}) => {\n  const model = mapLabelProps({ size, isPageHeading, className, htmlFor });\n  const LabelElement = model.tag;\n\n  return (\n  <LabelElement className={model.classes} htmlFor={model.htmlFor} {...props}>\n      {isPageHeading ? (\n        <label className=\"nhsuk-label-wrapper\" htmlFor={htmlFor}>\n          {children}\n        </label>\n      ) : (\n        children\n      )}\n    </LabelElement>\n  );\n};\n","export interface HeadingInputProps {\n  level?: 1|2|3|4|5|6;\n  size?: 'xs'|'s'|'m'|'l'|'xl'|'xxl';\n  className?: string;\n  marginBottom?: string;\n}\n\nexport interface NormalisedHeadingModel {\n  tag: 'h1'|'h2'|'h3'|'h4'|'h5'|'h6';\n  classes: string;\n  style: Record<string, any> | undefined;\n}\n\nfunction deriveLevel(size?: string): 1|2|3|4|5|6 {\n  switch(size){\n    case 'xxl':\n    case 'xl': return 1;\n    case 'l': return 2;\n    case 'm': return 3;\n    case 's': return 4;\n    case 'xs': return 5;\n    default: return 2;\n  }\n}\n\nexport function mapHeadingProps(input: HeadingInputProps): NormalisedHeadingModel {\n  const level = input.level ?? deriveLevel(input.size);\n  const classes = [\n    'nhsuk-heading',\n    input.size ? `nhsuk-heading--${input.size}` : '',\n    input.className || ''\n  ].filter(Boolean).join(' ');\n  const style = input.marginBottom ? { marginBottom: input.marginBottom } : undefined;\n  return { tag: `h${level}` as any, classes, style };\n}\n","import React, { createElement } from 'react';\nimport './Heading.scss';\nimport { HeadingProps } from './Heading.types';\nimport { mapHeadingProps } from '../../mapping/heading';\n\n/**\n * A reusable Heading component that abstracts heading level logic and provides consistent styling.\n * Separates semantic meaning (level) from visual appearance (size).\n * \n * If level is not provided, it will be automatically determined from the size prop:\n * - xxl/xl → h1\n * - l → h2 \n * - m → h3\n * - s → h4\n * - xs → h5\n * \n * @example\n * <Heading level={1} size=\"xl\">Page Title</Heading>\n * <Heading level={2} size=\"l\" text=\"Section Title\" />\n * <Heading size=\"xl\" text=\"Auto h1 from size\" />\n * <Heading size=\"m\" text=\"Auto h3 from size\" />\n * <Heading level={2} text=\"Custom Spacing\" marginBottom=\"32px\" />\n */\nexport const Heading: React.FC<HeadingProps> = ({ level, className, text, html, children, size, marginBottom, ...rest }) => {\n  const model = mapHeadingProps({ level, size, className, marginBottom });\n  const content = children || (html ? <span dangerouslySetInnerHTML={{ __html: html }} /> : text);\n  return createElement(model.tag, { className: model.classes, style: model.style, ...rest }, content);\n};\n","export interface HintInputProps {\n  className?: string;\n  id?: string;\n}\n\nexport interface NormalisedHintModel {\n  classes: string;\n  id?: string;\n}\n\nexport function mapHintProps(input: HintInputProps): NormalisedHintModel {\n  const classes = [\n    'nhsuk-hint',\n    input.className || ''\n  ].filter(Boolean).join(' ');\n  return { classes, id: input.id };\n}\n","import React from 'react';\nimport './Hint.scss';\nimport { HintProps } from './Hint.types';\nimport { mapHintProps } from '../../mapping/hint';\n\nexport const Hint: React.FC<HintProps> = ({ id, className, children, ...rest }) => {\n  const model = mapHintProps({ id, className });\n  return (\n    <div className={model.classes} id={model.id} {...rest}>\n      {children}\n    </div>\n  );\n};\n","export interface ErrorMessageInputProps {\n  id?: string;\n  className?: string;\n  visuallyHiddenText?: string;\n}\n\nexport interface NormalisedErrorMessageModel {\n  classes: string;\n  id?: string;\n  visuallyHiddenText: string;\n}\n\nexport function mapErrorMessageProps(input: ErrorMessageInputProps): NormalisedErrorMessageModel {\n  const classes = ['nhsuk-error-message', input.className || ''].filter(Boolean).join(' ');\n  return {\n    classes,\n    id: input.id,\n    visuallyHiddenText: input.visuallyHiddenText ?? 'Error:'\n  };\n}\n","import React from 'react';\nimport './ErrorMessage.scss';\nimport { ErrorMessageProps } from './ErrorMessage.types';\nimport { mapErrorMessageProps } from '../../mapping/errorMessage';\n\nexport const ErrorMessage: React.FC<ErrorMessageProps> = ({ id, className, visuallyHiddenText = 'Error:', children, ...rest }) => {\n  const model = mapErrorMessageProps({ id, className, visuallyHiddenText });\n  return (\n    <span className={model.classes} id={model.id} {...rest}>\n      <span className=\"nhsuk-u-visually-hidden\">{model.visuallyHiddenText} </span>\n      {children}\n    </span>\n  );\n};\n"],"names":["Account","ariaLabel","items","className","variant","renderAccountItem","item","iconContent","jsx","textContent","content","jsxs","Fragment","classNames","index","HeaderSearch","mode","action","method","name","value","placeholder","visuallyHiddenLabel","visuallyHiddenButton","disabled","callbacks","isLoading","showResults","results","formAttributes","inputAttributes","buttonAttributes","preventDefaultSubmit","debounceMs","minQueryLength","internalValue","setInternalValue","useState","isFocused","setIsFocused","debounceRef","useRef","formRef","inputRef","isControlled","currentValue","debouncedOnChange","useCallback","query","handleInputChange","e","newValue","handleFormSubmit","searchData","handleFocus","handleBlur","handleClear","useEffect","renderSearchIcon","renderLoadingSpinner","renderClearButton","renderResults","result","renderHeaderMarkup","props","isClient","menuOpen","showMoreButton","visibleItems","dropdownVisible","toggleMenu","navContainerRef","navListRef","logo","service","organisation","search","account","navigation","containerClasses","headerVariant","attributes","maxVisibleItems","responsiveNavigation","rest","combineLogoAndServiceNameLinks","logoHref","headerClasses","containerClass","navigationClasses","renderNHSLogo","renderServiceLogo","renderOrganisationName","renderServiceName","text","href","renderNavigationLinkContent","renderChevronIcon","Header","setMenuOpen","setShowMoreButton","setVisibleItems","setDropdownVisible","setIsClient","computingRef","handleEscapeKey","event","moreButtonWidthRef","recomputeLayout","container","list","containerWidth","children","proto","reserve","used","fit","style","paddingLeft","paddingRight","padding","child","width","nextShow","nextVisible","prev","frame","schedule","ro","newMenuState","ActionLink","openInNewWindow","linkClasses","ButtonSSR","React","size","fullWidth","type","ref","buttonClasses","BackLink","html","element","onClick","renderContent","mapTagProps","input","color","noBorder","closable","Tag","onClose","model","handleClose","mapLabelProps","classes","Label","htmlFor","isPageHeading","LabelElement","deriveLevel","mapHeadingProps","level","Heading","marginBottom","createElement","mapHintProps","Hint","id","mapErrorMessageProps","ErrorMessage","visuallyHiddenText"],"mappings":"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"}