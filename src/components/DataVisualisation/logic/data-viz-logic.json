{
    "v": "0.5.0",
	"models": {
        "abela": {
            "dimensions": [
				{
					"id": "relationship",
					"label": "Relationship",
					"summary": "How two or more variables move together.",
					"definition": "Investigates associations or dependencies between variables (e.g. correlation, non-linear links, interactions).",
					"nhs_examples": [
						"Emergency admissions vs GP appointment availability by PCN",
						"Length of stay vs age for hip fracture patients",
						"A&E 4-hour performance vs bed occupancy by site"
					],
					"common_questions": [
						"Do changes in X associate with changes in Y?",
						"Is the relationship linear, curved, or segmented?",
						"Does the association persist after case-mix adjustment?"
					],
					"pitfalls": [
						"Correlation ≠ causation; confounding is common in observational NHS data.",
						"Spurious links from shared seasonality or common drivers.",
						"Overplotting hides structure; consider transparency/binning/marginals."
					],
					"relates_to_goals": [
						"better_understand_relationships",
						"demonstrate_magnitude"
					],
					"recommended_charts": [
						"scatter",
						"connected_scatter",
						"parallel_coordinates",
						"combo_line_column"
					],
					"data_shapes": ["time_series", "matrix", "categories"]
				},
				{
					"id": "composition",
					"label": "Composition",
					"summary": "How a whole is split into parts and how parts change.",
					"definition": "Part-to-whole relationships at a point in time or across time (static or stacked/compositional series).",
					"nhs_examples": [
						"Elective vs non-elective admissions by month",
						"Trust expenditure by category (pay, drugs, estates)",
						"Primary vs community vs acute contacts for a cohort"
					],
					"common_questions": [
						"What share does each component contribute?",
						"How do component shares change over time?",
						"Are any small components driving overall changes?"
					],
					"pitfalls": [
						"Too many slices; prefer bars/treemap over many-segment donuts.",
						"100% stacks obscure absolute changes; show totals or twin views.",
						"Inconsistent denominators across units mislead part-to-whole."
					],
					"relates_to_goals": ["show_composition", "demonstrate_magnitude"],
					"recommended_charts": [
						"stacked_bar",
						"percent_stacked_bar",
						"treemap",
						"sunburst",
						"donut",
						"waffle",
						"waterfall"
					],
					"data_shapes": ["categories", "time_series", "hierarchy"]
				},
				{
					"id": "distribution",
					"label": "Distribution",
					"summary": "Shape, spread, and outliers across people, places, or time.",
					"definition": "How values are distributed for a metric: central tendency, variability, tails, and outliers; within or between groups.",
					"nhs_examples": [
						"Waiting time distribution for RTT pathways",
						"ED length-of-stay distribution by arrival mode",
						"HbA1c results distribution across practices"
					],
					"common_questions": [
						"Is the distribution symmetric or skewed?",
						"Are there extreme outliers or long tails?",
						"Do group distributions differ meaningfully?"
					],
					"pitfalls": [
						"Overplotting in dense dots; aggregate to histograms or box/violin.",
						"Comparing many groups with single histograms; use small multiples.",
						"Ignoring sample size and data quality variation across providers."
					],
					"relates_to_goals": ["understand_distribution", "show_rank"],
					"recommended_charts": [
						"histogram",
						"boxplot",
						"violin",
						"dotplot",
						"dot_strip",
						"population_pyramid",
						"cdf_curve",
						"barcode_plot"
					],
					"data_shapes": ["categories", "time_series"]
				},
				{
					"id": "comparison",
					"label": "Comparison",
					"summary": "Compare magnitudes across categories or over time.",
					"definition": "Side-by-side assessment of values between groups, periods, or scenarios to establish differences in level.",
					"nhs_examples": [
						"A&E breach rates by trust",
						"Outpatient DNA rates by specialty",
						"Bed occupancy by day of week"
					],
					"common_questions": [
						"Which units are above/below the average?",
						"How large are the differences between groups?",
						"How does the latest period compare to baseline?"
					],
					"pitfalls": [
						"Truncated axes exaggerate differences; use zero baseline where appropriate.",
						"Sorting and labelling issues hinder quick ranking.",
						"Mixing relative and absolute scales in one view confuses interpretation."
					],
					"relates_to_goals": [
						"demonstrate_magnitude",
						"show_rank",
						"demonstrate_deviation"
					],
                    "recommended_charts": [
                        "bar",
                        "column",
                        "lollipop",
                        "paired_bar",
                        "paired_column",
                        "radar",
                        "bullet",
                        "table",
                        "card",
                        "card_list",
                        "kpi_tile",
                        "pareto",
                        "funnel_plot",
                        "forest_plot"
                    ],
					"data_shapes": ["categories", "time_series"]
				},
				{
					"id": "deviation",
					"label": "Deviation",
					"summary": "Difference from a target, baseline, or comparator.",
					"definition": "Highlights positive/negative differences relative to plan, standard, or an expected value.",
					"nhs_examples": [
						"Current performance vs NHS standard (e.g. 62-day cancer)",
						"Variance to activity plan by month",
						"SMR vs 100 benchmark across providers"
					],
					"common_questions": [
						"How far from target are we, and in which direction?",
						"Is the deviation persistent or episodic?",
						"Which components drive the deviation?"
					],
					"pitfalls": [
						"Mixing absolute and percentage deviation without clarity.",
						"Ignoring uncertainty and expected common-cause variation.",
						"Using colour scales that imply value judgements without context."
					],
					"relates_to_goals": ["demonstrate_deviation"],
                    "recommended_charts": [
                        "diverging_bar",
                        "diverging_stacked_bar",
                        "surplus_deficit_area",
                        "spine_chart",
                        "bullet",
                        "table",
                        "spc_chart",
                        "funnel_plot",
                        "forest_plot"
                    ],
					"data_shapes": ["categories", "time_series"]
				},
				{
					"id": "rank",
					"label": "Rank",
					"summary": "Order units by a metric to show relative position.",
					"definition": "Emphasises ordering and relative standing rather than exact values.",
					"nhs_examples": [
						"Trusts ranked by A&E performance",
						"PCNs ranked by QOF indicator achievement",
						"ICBs ranked by vaccination coverage"
					],
					"common_questions": [
						"Who is best/worst performing?",
						"How does rank change over time?",
						"Are differences material or within noise?"
					],
					"pitfalls": [
						"Ranks exaggerate small differences when variance is low.",
						"Alphabetical ordering misleads comparisons; always sort by value.",
						"League tables without uncertainty can be misleading."
					],
					"relates_to_goals": ["show_rank", "demonstrate_magnitude"],
                    "recommended_charts": [
                        "bar",
                        "column",
                        "ordered_proportional_symbol",
                        "slope",
                        "dot_strip",
                        "pareto",
                        "funnel_plot"
                    ],
					"data_shapes": ["categories", "time_series"]
				},
				{
					"id": "spatial",
					"label": "Spatial",
					"summary": "Patterns across geography and location.",
					"definition": "Looks at how values vary by place and spatial relationships between locations.",
					"nhs_examples": [
						"Vaccination uptake by LSOA",
						"ED attendance rates by trust catchment",
						"Care home density vs admission rates"
					],
					"common_questions": [
						"Where are hotspots and coldspots?",
						"Do nearby areas show similar values?",
						"Is there spatial drift over time?"
					],
					"pitfalls": [
						"Choropleths mislead with unequal area sizes; consider cartograms.",
						"Small populations create unstable rates; apply smoothing/aggregation.",
						"Map projections and boundaries matter for interpretation."
					],
					"relates_to_goals": ["geographical_patterns"],
					"recommended_charts": [
						"choropleth",
						"dot_density_map",
						"proportional_symbol_map",
						"flow_map",
						"scaled_cartogram",
						"geospatial_heatmap",
						"contour_map",
						"equalized_cartogram"
					],
					"data_shapes": ["spatial"]
				},
                {
                    "id": "change_over_time",
					"label": "Change over time",
					"summary": "Trend, seasonality, shifts, and cycles in time series.",
					"definition": "A trend is a systematic movement in a time series beyond expected common-cause variation (e.g. monotonic trend, sustained shift, or repeating seasonal pattern). In NHS improvement work, SPC run rules help distinguish special-cause from common-cause variation.",
					"nhs_examples": [
						"Waiting list size over months with a sustained upward trend",
						"Seasonal ED attendances (winter peaks)",
						"Step change after a service reconfiguration"
					],
					"common_questions": [
						"Is there a genuine trend or just random fluctuation?",
						"Are there sustained shifts or runs indicating special-cause?",
						"How does the latest value compare to the recent baseline?"
					],
					"pitfalls": [
						"Over-interpreting single-month spikes; assess against control limits.",
						"Ignoring seasonality; include seasonal context or decomposition.",
						"Comparing raw counts without population/activity adjustment."
					],
					"relates_to_goals": ["analyse_trends"],
                    "recommended_charts": [
                        "line",
                        "column",
                        "area",
                        "slope",
                        "fan_chart",
                        "seismogram",
                        "priestley_timeline",
                        "gantt",
                        "calendar_heatmap",
                        "calendar",
                        "radial_timeline",
                        "combo_line_column",
                        "run_chart",
                        "spc_chart",
                        "burndown",
                        "cumulative_flow",
                        "cusum_chart",
                        "ewma_chart",
                        "g_chart",
                        "t_chart",
                        "spc_spark"
                    ],
					"data_shapes": ["time_series"]
				}
            ],
            "components": [
                {
                    "id": "people",
                    "label": "People (patients, staff)",
                    "summary": "Individuals or cohorts as units of analysis.",
                    "examples": [
                        "Patients on an RTT pathway",
                        "Ward staff headcount"
                    ],
                    "maps_to_data_shapes": ["categories", "time_series", "distribution"],
                    "notes": "Often analysed via distributions (e.g., LOS), counts, or rates over time."
                },
                {
                    "id": "events",
                    "label": "Events (attendances, harms)",
                    "summary": "Discrete occurrences logged over time.",
                    "examples": [
                        "ED attendances",
                        "Falls, medication errors"
                    ],
                    "maps_to_data_shapes": ["time_series", "categories"],
                    "notes": "For rare harms consider G/T charts; for volume trends use run/SPC."
                },
                {
                    "id": "organisations",
                    "label": "Organisations/Units",
                    "summary": "Providers or units being compared.",
                    "examples": ["Trusts", "Sites", "PCNs", "ICBs"],
                    "maps_to_data_shapes": ["categories", "spatial"],
                    "notes": "Use bar/rank for categories; maps/funnels for spatial/volume-varying."
                },
                {
                    "id": "services",
                    "label": "Services/Pathways",
                    "summary": "Clinical services or process steps.",
                    "examples": ["Cardiology clinic", "Cancer pathway"],
                    "maps_to_data_shapes": ["categories", "hierarchy", "time_series"],
                    "notes": "Composition (treemap/sunburst) helps show pathway structure."
                },
                {
                    "id": "geographies",
                    "label": "Geographic areas",
                    "summary": "Locations with boundaries or points.",
                    "examples": ["LSOA", "MSOA", "Trust catchments"],
                    "maps_to_data_shapes": ["spatial"],
                    "notes": "Prefer normalised rates on choropleths; consider cartograms."
                },
                {
                    "id": "time_periods",
                    "label": "Time periods",
                    "summary": "Days/weeks/months as primary components.",
                    "examples": ["Daily ED breaches", "Monthly RTT backlog"],
                    "maps_to_data_shapes": ["time_series"],
                    "notes": "Run/SPC for change; calendar heatmap for periodicity."
                },
                {
                    "id": "categories",
                    "label": "Categories/Reasons",
                    "summary": "Discrete labels or reasons.",
                    "examples": ["Breach reasons", "Delay codes"],
                    "maps_to_data_shapes": ["categories", "hierarchy"],
                    "notes": "Pareto to prioritise; waterfall for positive/negative components."
                }
                ,
                {
                    "id": "utilisation",
                    "label": "Utilisation",
                    "summary": "How resources are used relative to capacity over time and across schedules.",
                    "definition": "Examines occupancy/load versus available capacity, often by time of day and day of week, to identify under/over‑utilisation and scheduling opportunities.",
                    "nhs_examples": [
                        "Theatre utilisation by session and weekday",
                        "MRI scanner occupancy by hour of day",
                        "Clinic slot fill rates vs capacity"
                    ],
                    "common_questions": [
                        "When are resources under or over‑utilised?",
                        "How does utilisation vary by hour/day/ward?",
                        "Is demand aligned to capacity provisioning?"
                    ],
                    "pitfalls": [
                        "Ignoring no‑shows and overruns when judging utilisation.",
                        "Comparing raw counts without normalising by capacity.",
                        "Overusing gauges; prefer quantitative scales and trends."
                    ],
                    "relates_to_goals": ["manage_capacity"],
                    "recommended_charts": ["utilisation_heatmap", "calendar_heatmap", "calendar", "progress_bar", "kpi_tile", "combo_line_column"],
                    "data_shapes": ["matrix", "time_series"]
                },
                {
                    "id": "flow",
                    "label": "Flow",
                    "summary": "Movement of patients/items through stages or between places.",
                    "definition": "Shows how entities progress across pathway stages or locations, highlighting accumulation, bottlenecks, and throughput.",
                    "nhs_examples": [
                        "Referral → triage → outpatient → admission → discharge",
                        "A&E triage to treatment stages with handoffs",
                        "Discharge to community care pathways"
                    ],
                    "common_questions": [
                        "Where do bottlenecks occur in the process?",
                        "How many items are in each stage over time?",
                        "How do flows differ by site or specialty?"
                    ],
                    "pitfalls": [
                        "Sankey with too many nodes; aggregate stages.",
                        "Cumulative totals misread as instantaneous WIP.",
                        "Flow maps imply causality; show volumes clearly."
                    ],
                    "relates_to_goals": ["optimise_flow"],
                    "recommended_charts": ["sankey", "cumulative_flow", "gantt", "flow_map"],
                    "data_shapes": ["categories", "time_series", "spatial"]
                }
            ]
        },
        "nhs": {
            "goals": [
                {
                    "id": "analyse_trends",
					"label": "Analyse trends",
					"summary": "Detect and communicate change over time.",
					"definition": "A trend is a systematic movement in a time series beyond expected common-cause variation. This includes monotonic trends, sustained shifts (e.g. series of points above/below the centre line), and seasonal patterns. SPC run rules (e.g. 6–8 points on one side, 5 increasing/decreasing, or points beyond control limits) help identify special-cause variation.",
					"nhs_examples": [
						"Sustained increase in RTT backlog after a policy change",
						"Seasonal peaks in respiratory admissions",
						"Reduction in DNAs following reminder interventions"
					],
					"relates_to_dimensions": ["change_over_time", "comparison"],
					"typical_data_shapes": ["time_series"],
					"recommended_chart_features": [
						"change_over_time",
						"uncertainty",
						"baseline"
					],
                    "recommended_charts": [
                        "line",
                        "column",
                        "area",
                        "slope",
                        "fan_chart",
                        "priestley_timeline",
                        "gantt",
                        "calendar_heatmap",
                        "run_chart",
                        "spc_chart",
                        "cusum_chart",
                        "ewma_chart",
                        "g_chart",
                        "t_chart",
                        "spc_spark"
                    ],
					"pitfalls": [
						"Reacting to common-cause variation as if it were special-cause.",
						"Ignoring seasonality and service calendar effects (bank holidays).",
						"Not annotating known interventions or data definition changes."
					]
                },
                {
                    "id": "manage_capacity",
                    "label": "Manage capacity & utilisation",
                    "summary": "Align demand with available capacity to improve utilisation.",
                    "definition": "Monitor and balance resource capacity against demand patterns by time and place, identifying under/over‑utilisation and scheduling opportunities.",
                    "nhs_examples": [
                        "Theatre and clinic utilisation by session",
                        "Bed occupancy vs discharges by hour",
                        "Imaging capacity vs bookings"
                    ],
                    "relates_to_dimensions": ["utilisation", "change_over_time", "comparison"],
                    "typical_data_shapes": ["matrix", "time_series"],
                    "recommended_chart_features": ["time_of_day", "percent_of_total", "baseline"],
                    "recommended_charts": ["utilisation_heatmap", "calendar_heatmap", "calendar", "combo_line_column", "progress_bar", "kpi_tile"],
                    "pitfalls": [
                        "Using gauges without scale; prefer quantitative scales.",
                        "Not normalising by capacity when comparing utilisation.",
                        "Ignoring seasonality and appointment mix."
                    ]
                },
                {
                    "id": "optimise_flow",
                    "label": "Improve patient/service flow",
                    "summary": "Reveal bottlenecks and WIP across stages to improve throughput.",
                    "definition": "Visualise flows across pathway stages or locations and levels of work‑in‑progress over time to target improvement.",
                    "nhs_examples": [
                        "ED triage → treatment → discharge bottlenecks",
                        "Elective referral to treatment flow",
                        "Discharge pathway handoffs"
                    ],
                    "relates_to_dimensions": ["flow", "change_over_time", "comparison"],
                    "typical_data_shapes": ["categories", "time_series", "spatial"],
                    "recommended_chart_features": ["stages", "throughput", "wip"],
                    "recommended_charts": ["sankey", "cumulative_flow", "gantt", "flow_map"],
                    "pitfalls": [
                        "Too many nodes lead to visual clutter; group stages.",
                        "Confusing cumulative vs instantaneous measures.",
                        "Attributing causality without supporting evidence."
                    ]
                },
                {
                    "id": "monitor_operational_status",
                    "label": "Monitor operational status",
                    "summary": "Track backlogs, thresholds, and exceptions for action.",
                    "definition": "Operational monitoring dashboards highlight current status versus targets and identify exceptions that need action.",
                    "nhs_examples": [
                        "Backlog trend with burn‑down target",
                        "Threshold breaches for key KPIs",
                        "Watchlist of services with special‑cause variation"
                    ],
                    "relates_to_dimensions": ["change_over_time", "deviation", "rank"],
                    "typical_data_shapes": ["time_series", "categories"],
                    "recommended_chart_features": ["alerts", "thresholds", "sparklines"],
                    "recommended_charts": ["run_chart", "spc_chart", "burndown", "kpi_tile", "progress_bar", "table", "spc_spark"],
                    "pitfalls": [
                        "Overuse of traffic lights without context.",
                        "Static thresholds on noisy processes; use SPC.",
                        "Dashboards without linked action owners."
                    ]
                },
                {
                    "id": "better_understand_relationships",
					"label": "Understand relationships",
					"summary": "Reveal associations between variables.",
					"definition": "Explore whether variables co-vary, accounting for possible confounding and non-linear patterns. Use stratification or faceting to uncover interactions.",
					"nhs_examples": [
						"Bed occupancy vs A&E 4-hour breaches by site",
						"Length of stay vs age or frailty score",
						"Deprivation vs screening uptake across PCNs"
					],
					"relates_to_dimensions": ["relationship", "comparison"],
					"typical_data_shapes": ["time_series", "matrix", "categories"],
					"recommended_chart_features": [
						"multiple_series",
						"trendline",
						"segmentation"
					],
					"recommended_charts": [
						"scatter",
						"connected_scatter",
						"combo_line_column",
						"parallel_coordinates"
					],
					"pitfalls": [
						"Assuming causality from correlation.",
						"Overplotting hides subgroups; facet or sample.",
						"Confounding by seasonality or population mix."
					]
				},
				{
					"id": "demonstrate_deviation",
					"label": "Demonstrate deviation",
					"summary": "Show difference from target or baseline.",
					"definition": "Quantify positive/negative variance to plan, standard, or expected value, and attribute where possible.",
					"nhs_examples": [
						"Variance to elective activity plan by specialty",
						"Performance vs constitutional standards",
						"Mortality index vs national benchmark"
					],
					"relates_to_dimensions": ["deviation", "comparison"],
					"typical_data_shapes": ["categories", "time_series"],
					"recommended_chart_features": ["baseline", "deviation", "annotation"],
					"recommended_charts": [
						"diverging_bar",
						"surplus_deficit_area",
						"diverging_stacked_bar",
						"spine_chart",
						"bullet"
					],
					"pitfalls": [
						"Mixing absolute and percentage variance without clarity.",
						"Cherry-picking baselines to overstate deviation.",
						"Ignoring uncertainty/control limits when judging ‘off target’."
					]
				},
				{
					"id": "demonstrate_magnitude",
					"label": "Demonstrate magnitude",
					"summary": "Emphasise sizes and differences in level.",
					"definition": "Compare absolute or relative values to convey size of a measure across categories or periods.",
					"nhs_examples": [
						"Outpatient activity volumes by specialty",
						"ICS spend by programme",
						"Bed days by ward"
					],
					"relates_to_dimensions": ["comparison", "rank"],
					"typical_data_shapes": ["categories", "time_series"],
					"recommended_chart_features": [
						"sorting",
						"labels",
						"consistent_scales"
					],
                    "recommended_charts": [
                        "bar",
                        "column",
                        "lollipop",
                        "paired_bar",
                        "paired_column",
                        "radar",
                        "table",
                        "kpi_tile"
                    ],
					"pitfalls": [
						"Truncated axes exaggerate small differences.",
						"Overuse of 3D/area encodings harms readability.",
						"Too many categories; group or filter for focus."
					]
				},
				{
					"id": "geographical_patterns",
					"label": "Geographical patterns",
					"summary": "Understand spatial variation and clusters.",
					"definition": "Map and analyse geographic patterns, considering unequal area sizes and population denominators.",
					"nhs_examples": [
						"Vaccination coverage by LSOA",
						"Emergency admissions per 1,000 by ICS",
						"Patient flows between trusts"
					],
					"relates_to_dimensions": ["spatial", "distribution"],
					"typical_data_shapes": ["spatial"],
					"recommended_chart_features": [
						"normalisation",
						"graduated_colour",
						"fixed_positions"
					],
					"recommended_charts": [
						"choropleth",
						"dot_density_map",
						"proportional_symbol_map",
						"flow_map",
						"scaled_cartogram",
						"geospatial_heatmap",
						"contour_map"
					],
					"pitfalls": [
						"Raw counts on maps mislead; normalise by population/activity.",
						"Small-number instability; aggregate or smooth.",
						"Colour scales that hide key thresholds."
					]
				},
				{
					"id": "show_composition",
					"label": "Show composition",
					"summary": "Explain part-to-whole structure.",
					"definition": "Break down totals into meaningful components and track contributions over time.",
					"nhs_examples": [
						"Drug spend by BNF chapter",
						"Staff costs by staff group",
						"Pathway contacts by setting"
					],
					"relates_to_dimensions": ["composition"],
					"typical_data_shapes": ["categories", "hierarchy", "time_series"],
					"recommended_chart_features": [
						"percent_of_total",
						"stacking",
						"hierarchy"
					],
					"recommended_charts": [
						"stacked_bar",
						"percent_stacked_bar",
						"treemap",
						"sunburst",
						"donut",
						"waffle",
						"waterfall"
					],
					"pitfalls": [
						"Too many segments; prioritise or group small parts.",
						"100% stacks hide absolute change; show totals alongside.",
						"Donuts with many slices reduce readability."
					]
				},
				{
					"id": "show_rank",
					"label": "Show rank",
					"summary": "Highlight ordering across units.",
					"definition": "Present relative position clearly, with attention to practical significance and uncertainty.",
					"nhs_examples": [
						"Trusts ranked by Friends and Family Test positivity",
						"PCNs ranked by long-term condition prevalence",
						"Wards ranked by patient flow metrics"
					],
					"relates_to_dimensions": ["rank", "comparison"],
					"typical_data_shapes": ["categories", "time_series"],
					"recommended_chart_features": [
						"sorting",
						"highlighting",
						"small_multiples"
					],
                    "recommended_charts": [
                        "bar",
                        "column",
                        "slope",
                        "ordered_proportional_symbol",
                        "dot_strip",
                        "table"
                    ],
					"pitfalls": [
						"Rank differences may be within noise; show values/intervals.",
						"Long labels clutter; rotate or abbreviate with care.",
						"Beware Simpson’s paradox when ranking aggregated data."
					]
				},
				{
					"id": "understand_distribution",
					"label": "Understand distribution",
					"summary": "See spread, skew, and outliers.",
					"definition": "Characterise variation within and between groups to inform targeting and equity analyses.",
					"nhs_examples": [
						"Distribution of waiting times by specialty",
						"HbA1c result distribution across practices",
						"Ward-level length of stay distribution"
					],
					"relates_to_dimensions": ["distribution"],
					"typical_data_shapes": ["categories", "time_series"],
					"recommended_chart_features": [
						"quantiles",
						"density",
						"overlaid_groups"
					],
					"recommended_charts": [
						"histogram",
						"boxplot",
						"violin",
						"dotplot",
						"cdf_curve",
						"barcode_plot",
						"population_pyramid"
					],
					"pitfalls": [
						"Overplotting and binning choices can mislead.",
						"Comparing groups with very different sizes; normalise or weight.",
						"Hiding tails through clipping or narrow axes."
					]
				}
			],
			"notes": "Encodes NHS visualisation goals and their decision hierarchy as a wizard."
		}
	},
        "chart_types_add": [
            {
                "id": "utilisation_heatmap",
                "name": "Utilisation heatmap",
                "aliases": ["time-of-day heatmap", "capacity heatmap"],
                "primary_dimensions": ["utilisation", "comparison"],
                "data_shapes": ["matrix"],
                "supports": { "time_of_day": true, "weekday": true }
            },
            {
                "id": "sankey",
                "name": "Sankey (alluvial)",
                "aliases": ["alluvial"],
                "primary_dimensions": ["flow", "comparison"],
                "data_shapes": ["categories"],
                "supports": { "stages": true, "throughput": true }
            },
            {
                "id": "cumulative_flow",
                "name": "Cumulative flow diagram",
                "aliases": ["CFD"],
                "primary_dimensions": ["flow", "change_over_time"],
                "data_shapes": ["time_series"],
                "supports": { "change_over_time": true }
            },
            {
                "id": "burndown",
                "name": "Burn-down chart",
                "aliases": ["backlog burn-down"],
                "primary_dimensions": ["change_over_time"],
                "data_shapes": ["time_series"],
                "supports": { "change_over_time": true, "baseline": true }
            },
            {
                "id": "progress_bar",
                "name": "Progress bar",
                "aliases": ["utilisation bar", "capacity bar"],
                "primary_dimensions": ["utilisation", "comparison"],
                "data_shapes": ["categories"],
                "supports": { "percent_of_total": true }
            },
            {
                "id": "card",
                "name": "Card",
                "aliases": ["summary card"],
                "primary_dimensions": ["comparison"],
                "data_shapes": ["categories", "time_series"],
                "supports": { "metadata": true, "actions": true, "inline_spark": true },
                "good_for": [
                    "Summarising a single metric or entity with context",
                    "Responsive dashboards with mixed metadata"
                ],
                "cautions": [
                    "Limited space for dense comparisons; defer to tables/charts",
                    "Ensure consistent layout for scannability across a set"
                ]
            },
            {
                "id": "card_list",
                "name": "Card list",
                "aliases": ["cards", "summary cards"],
                "primary_dimensions": ["comparison", "rank"],
                "data_shapes": ["categories", "matrix"],
                "supports": { "sorting": true, "filtering": true, "responsive": true },
                "good_for": [
                    "Mobile‑friendly alternative to wide tables",
                    "Showing richer metadata per item (owner, tags, actions)"
                ],
                "cautions": [
                    "Harder to compare values column‑wise than a table",
                    "May require explicit sort/filter controls for scanning"
                ]
            },
            {
                "id": "pivot_table",
                "name": "Pivot table",
                "aliases": ["pivot", "crosstab"],
                "primary_dimensions": ["comparison", "composition"],
                "data_shapes": ["matrix", "hierarchy"],
                "supports": { "aggregation": true, "grouping": true, "totals": true, "drilldown": true },
                "good_for": [
                    "Exploring large datasets across multiple categorical dimensions",
                    "Rapidly slicing metrics by rows/columns with subtotals"
                ],
                "cautions": [
                    "Complex for non‑expert audiences; provide presets and guidance",
                    "Totals and percentages can confuse without clear denominators"
                ]
            },
            {
                "id": "calendar",
                "name": "Calendar",
                "aliases": ["scheduler", "event calendar"],
                "primary_dimensions": ["change_over_time"],
                "data_shapes": ["time_series"],
                "supports": { "duration": true, "events": true },
                "good_for": [
                    "Appointments/rosters with day/week/month grids",
                    "Communicating service schedules alongside counts"
                ],
                "cautions": [
                    "Month grids bias weekday patterns; not ideal for rates",
                    "Use calendar_heatmap for dense aggregated values"
                ]
            },
            {
                "id": "table",
                "name": "Table",
                "aliases": ["data table", "data grid", "sortable table"],
                "primary_dimensions": ["comparison", "rank", "composition"],
                "data_shapes": ["categories", "matrix", "time_series"],
                "supports": { "exact_values": true, "sorting": true, "pagination": true, "row_details": true },
                "good_for": [
                    "Precise values and long labels",
                    "Mixed units and contextual notes",
                    "Accessible alternative or complement to charts"
                ],
                "cautions": [
                    "Patterns less evident than charts; add sorting or highlights",
                    "Ensure accessible markup and responsive behaviour"
                ]
            },
            {
                "id": "kpi_tile",
                "name": "KPI tile",
                "aliases": ["metric tile", "stat", "metric card"],
                "primary_dimensions": ["comparison"],
                "data_shapes": ["categories", "time_series"],
                "supports": { "latest_value": true, "delta": true, "status": true },
                "good_for": [
                    "Top-line KPIs in dashboards",
                    "Latest value with change vs baseline"
                ],
                "cautions": [
                    "Needs context; pair with sparkline or link to detail",
                    "Avoid traffic-light overuse without explanation"
                ]
            },
            {
                "id": "spc_chart",
                "name": "SPC (control) chart",
                "aliases": ["control chart", "Shewhart chart", "XmR", "SPC"],
                "primary_dimensions": ["change_over_time", "deviation"],
                "data_shapes": ["time_series"],
                "supports": { "change_over_time": true, "uncertainty": true },
                "good_for": [
                    "Detecting special-cause vs common-cause variation",
                    "Sustained shifts and trends around a process mean"
                ],
                "cautions": [
                    "Needs enough data (≈20–25 points) to stabilise limits",
                    "Not ideal for very short series; start with a run chart",
                    "Assumes roughly stable process and independent observations"
                ]
            },
            {
                "id": "run_chart",
                "name": "Run chart",
                "aliases": ["trend chart (non-SPC)", "runs chart"],
                "primary_dimensions": ["change_over_time"],
                "data_shapes": ["time_series"],
                "supports": { "change_over_time": true },
                "good_for": [
                    "Early detection of non-random patterns without control limits",
                    "Communicating median-centred runs tests"
                ],
                "cautions": [
                    "No control limits; do not interpret as SPC",
                    "Median choice matters; recompute after process change"
                ]
            },
            {
                "id": "funnel_plot",
                "name": "Funnel plot",
                "aliases": ["funnel"],
                "primary_dimensions": ["comparison", "deviation", "rank"],
                "data_shapes": ["categories"],
                "supports": { "uncertainty": true },
                "good_for": [
                    "Comparing providers with different volumes and uncertainty",
                    "Spotting outliers beyond control limits"
                ],
                "cautions": [
                    "Requires appropriate denominator and risk adjustment",
                    "Overdispersion may require Laney variants (p'/u')"
                ]
            },
            {
                "id": "pareto",
                "name": "Pareto chart",
                "aliases": ["80/20"],
                "primary_dimensions": ["comparison", "rank", "composition"],
                "data_shapes": ["categories"],
                "good_for": [
                    "Finding the vital few contributors",
                    "Prioritising improvement focus"
                ],
                "cautions": [
                    "Requires consistent categorisation; beware small counts variance"
                ]
            },
            {
                "id": "cusum_chart",
                "name": "CUSUM chart",
                "aliases": ["cusum"],
                "primary_dimensions": ["change_over_time", "deviation"],
                "data_shapes": ["time_series"],
                "supports": { "change_over_time": true, "uncertainty": true },
                "good_for": [
                    "Early detection of small sustained shifts"
                ],
                "cautions": [
                    "Choice of k/h parameters affects sensitivity and false alarms"
                ]
            },
            {
                "id": "ewma_chart",
                "name": "EWMA chart",
                "aliases": ["ewma"],
                "primary_dimensions": ["change_over_time", "deviation"],
                "data_shapes": ["time_series"],
                "supports": { "change_over_time": true, "uncertainty": true },
                "good_for": [
                    "Smoothed detection of gradual change"
                ],
                "cautions": [
                    "Lambda choice balances sensitivity vs noise"
                ]
            },
            {
                "id": "g_chart",
                "name": "G chart (days between)",
                "aliases": ["g chart", "days between"],
                "primary_dimensions": ["change_over_time"],
                "data_shapes": ["time_series"],
                "supports": { "change_over_time": true },
                "good_for": [
                    "Rare events measured as days between occurrences"
                ],
                "cautions": [
                    "Assumes independent rare events; annotate data quality changes"
                ]
            },
            {
                "id": "t_chart",
                "name": "T chart (time between)",
                "aliases": ["t chart", "time between"],
                "primary_dimensions": ["change_over_time"],
                "data_shapes": ["time_series"],
                "supports": { "change_over_time": true },
                "good_for": [
                    "Irregular continuous time between rare events"
                ],
                "cautions": [
                    "Requires reliable event timestamping"
                ]
            },
            {
                "id": "forest_plot",
                "name": "Forest plot",
                "aliases": ["effects plot"],
                "primary_dimensions": ["comparison", "deviation", "rank"],
                "data_shapes": ["categories"],
                "supports": { "uncertainty": true },
                "good_for": [
                    "Showing estimates with confidence intervals across units"
                ],
                "cautions": [
                    "Ensure consistent effect measures and scales"
                ]
            },
            {
                "id": "spc_spark",
                "name": "SPC sparkline",
                "aliases": ["spcspark", "sparkline"],
                "primary_dimensions": ["change_over_time"],
                "data_shapes": ["time_series"],
                "supports": { "change_over_time": true, "uncertainty": true },
                "good_for": [
                    "Compact dashboard tiles showing SPC state"
                ],
                "cautions": [
                    "Compact format limits labels and annotation"
                ]
            },
		{
			"id": "seismogram",
			"name": "Seismogram",
			"aliases": ["wiggle plot"],
			"primary_dimensions": ["comparison"],
			"data_shapes": ["time_series"],
			"supports": { "change_over_time": true, "uncertainty": false },
			"good_for": ["high-frequency continuous signal over time"],
			"cautions": ["Specialised; domain-specific interpretation"]
		},
		{
			"id": "fan_chart",
			"name": "Fan chart",
			"aliases": ["forecast cone", "prediction interval band"],
			"primary_dimensions": ["comparison"],
			"data_shapes": ["time_series"],
			"supports": { "change_over_time": true, "uncertainty": true }
		},
            {
                "id": "priestley_timeline",
                "name": "Priestley timeline",
                "aliases": ["Priestly timeline", "lifespan timeline"],
                "primary_dimensions": ["comparison"],
                "data_shapes": ["time_series"],
                "supports": { "change_over_time": true, "duration": true }
            },
            {
                "id": "gantt",
                "name": "Gantt chart",
                "aliases": ["project timeline", "task timeline"],
                "primary_dimensions": ["comparison"],
                "data_shapes": ["time_series"],
                "supports": { "change_over_time": true, "duration": true, "sequence": true },
                "good_for": [
                    "Showing task intervals and dependencies over calendar time",
                    "Service schedules and pathway step durations"
                ],
                "cautions": [
                    "Not suited to aggregated metrics; use timelines for many entities",
                    "Dense labels require grouping or zooming for readability"
                ]
            },
		{
			"id": "calendar_heatmap",
			"name": "Calendar heatmap",
			"aliases": ["calendar view"],
			"primary_dimensions": ["comparison", "distribution"],
			"data_shapes": ["time_series"]
		},
		{
			"id": "radial_timeline",
			"name": "Circle timeline",
			"aliases": ["radial timeline"],
			"primary_dimensions": ["comparison"],
			"data_shapes": ["time_series"]
		},
		{
			"id": "area",
			"name": "Area chart",
			"aliases": ["filled line"],
			"primary_dimensions": ["comparison", "composition"],
			"data_shapes": ["time_series"]
		},
		{
			"id": "dual_axis",
			"name": "Dual-axis chart",
			"aliases": ["secondary axis"],
			"primary_dimensions": ["comparison", "relationship"],
			"data_shapes": ["time_series", "categories"],
			"cautions": ["Risk of misreading due to scale mismatch; use sparingly"]
		},
		{
			"id": "combo_line_column",
			"name": "Line + Column (combo)",
			"aliases": ["line and column"],
			"primary_dimensions": ["comparison", "relationship"],
			"data_shapes": ["time_series"]
		},
		{
			"id": "diverging_bar",
			"name": "Diverging bar",
			"aliases": ["positive/negative bar"],
			"primary_dimensions": ["comparison", "deviation"],
			"data_shapes": ["categories"]
		},
		{
			"id": "surplus_deficit_area",
			"name": "Surplus/Deficit filled line",
			"aliases": ["baseline-signed area"],
			"primary_dimensions": ["comparison", "deviation"],
			"data_shapes": ["time_series"]
		},
		{
			"id": "diverging_stacked_bar",
			"name": "Diverging stacked bar",
			"aliases": ["diverging 100% bar"],
			"primary_dimensions": ["comparison", "deviation"],
			"data_shapes": ["categories"]
		},
		{
			"id": "spine_chart",
			"name": "Spine chart",
			"aliases": ["back-to-back bar", "butterfly chart"],
			"primary_dimensions": ["comparison", "deviation"],
			"data_shapes": ["categories"]
		},
		{
			"id": "lollipop",
			"name": "Lollipop chart",
			"aliases": [],
			"primary_dimensions": ["comparison"],
			"data_shapes": ["categories"]
		},
		{
			"id": "radar",
			"name": "Radar chart",
			"aliases": ["spider chart"],
			"primary_dimensions": ["comparison"],
			"data_shapes": ["matrix"],
			"cautions": [
				"Hard to compare angles/areas; consider parallel coordinates"
			]
		},
		{
			"id": "isotype_pictogram",
			"name": "Isotype pictogram",
			"aliases": ["isotopes", "pictogram chart"],
			"primary_dimensions": ["comparison", "composition"],
			"data_shapes": ["categories"]
		},
		{
			"id": "parallel_coordinates",
			"name": "Parallel coordinates",
			"aliases": [],
			"primary_dimensions": ["relationship", "comparison"],
			"data_shapes": ["matrix"]
		},
		{
			"id": "paired_bar",
			"name": "Paired bar chart",
			"aliases": [],
			"primary_dimensions": ["comparison"],
			"data_shapes": ["categories"]
		},
		{
			"id": "paired_column",
			"name": "Paired column chart",
			"aliases": [],
			"primary_dimensions": ["comparison"],
			"data_shapes": ["categories", "time_series"]
		},
		{
			"id": "dot_density_map",
			"name": "Dot density map",
			"aliases": [],
			"primary_dimensions": ["distribution", "comparison"],
			"data_shapes": ["spatial"]
		},
		{
			"id": "flow_map",
			"name": "Flow map",
			"aliases": ["desire lines", "movement map"],
			"primary_dimensions": ["relationship", "comparison"],
			"data_shapes": ["spatial"]
		},
		{
			"id": "contour_map",
			"name": "Contour map",
			"aliases": ["isoline map"],
			"primary_dimensions": ["distribution"],
			"data_shapes": ["spatial"]
		},
		{
			"id": "geospatial_heatmap",
			"name": "Geospatial heat map",
			"aliases": ["kernel density map"],
			"primary_dimensions": ["distribution"],
			"data_shapes": ["spatial"]
		},
		{
			"id": "equalized_cartogram",
			"name": "Equalised cartogram",
			"aliases": ["equal-area cartogram"],
			"primary_dimensions": ["comparison"],
			"data_shapes": ["spatial"]
		},
		{
			"id": "proportional_symbol_map",
			"name": "Proportional symbol map",
			"aliases": ["graduated symbol map"],
			"primary_dimensions": ["comparison"],
			"data_shapes": ["spatial"]
		},
		{
			"id": "scaled_cartogram",
			"name": "Scaled cartogram",
			"aliases": ["value-by-area cartogram"],
			"primary_dimensions": ["comparison"],
			"data_shapes": ["spatial"]
		},
		{
			"id": "donut",
			"name": "Donut chart",
			"aliases": ["doughnut"],
			"primary_dimensions": ["composition"],
			"data_shapes": ["categories"]
		},
		{
			"id": "waffle",
			"name": "Grid plot (waffle)",
			"aliases": ["unit chart"],
			"primary_dimensions": ["composition"],
			"data_shapes": ["categories"]
		},
		{
			"id": "sunburst",
			"name": "Sunburst",
			"aliases": ["radial partition"],
			"primary_dimensions": ["composition"],
			"data_shapes": ["hierarchy"]
		},
		{
			"id": "venn",
			"name": "Venn diagram",
			"aliases": [],
			"primary_dimensions": ["relationship", "composition"],
			"data_shapes": ["categories"]
		},
		{
			"id": "bullet",
			"name": "Bullet graph",
			"aliases": [],
			"primary_dimensions": ["comparison", "rank"],
			"data_shapes": ["categories"]
		},
		{
			"id": "dot_strip",
			"name": "Dot strip plot",
			"aliases": ["strip plot", "dot strip"],
			"primary_dimensions": ["distribution", "rank"],
			"data_shapes": ["categories"]
		},
		{
			"id": "population_pyramid",
			"name": "Population pyramid",
			"aliases": ["back-to-back histogram"],
			"primary_dimensions": ["distribution", "comparison"],
			"data_shapes": ["categories"]
		},
		{
			"id": "cdf_curve",
			"name": "Cumulative curve",
			"aliases": ["CDF"],
			"primary_dimensions": ["distribution"],
			"data_shapes": ["categories", "time_series"]
		},
		{
			"id": "barcode_plot",
			"name": "Barcode plot",
			"aliases": ["rug plot"],
			"primary_dimensions": ["distribution"],
			"data_shapes": ["categories"]
		},
		{
			"id": "ordered_proportional_symbol",
			"name": "Ordered proportional symbol",
			"aliases": ["ordered bubble"],
			"primary_dimensions": ["comparison", "rank"],
			"data_shapes": ["categories"]
		}
	],
	"wizards": {
        "nhs_v1": {
            "title": "NHS Visualisation Selector",
            "root": "components_root",
            "nodes": {
                "components_root": {
                    "type": "single_choice",
                    "question": "What are your components (unit of analysis)?",
                    "help": "Components are the 'things' being visualised (e.g., providers, patients, events, geographies).",
                    "choices": [
                        { "label": "People (patients, staff)", "next": "components_shape" },
                        { "label": "Events (attendances, harms)", "next": "components_shape" },
                        { "label": "Organisations/Units (trust/site/PCN)", "next": "components_shape" },
                        { "label": "Services/Pathways", "next": "components_shape" },
                        { "label": "Geographic areas", "next": "components_shape" },
                        { "label": "Time periods (days/weeks/months)", "next": "components_shape" },
                        { "label": "Categories/Reasons", "next": "components_shape" }
                    ]
                },
                "components_shape": {
                    "type": "single_choice",
                    "question": "Which best describes your data shape?",
                    "help": "Shape is the structure of your data, not the subject matter.",
                    "choices": [
                        { "label": "Time series (observations over time)", "next": "components_measure" },
                        { "label": "Categories (groups like trusts/specialties)", "next": "components_measure" },
                        { "label": "Hierarchy (nested categories)", "next": "components_measure" },
                        { "label": "Matrix (multiple variables per item)", "next": "components_measure" },
                        { "label": "Spatial (areas/points on a map)", "next": "components_measure" }
                    ]
                },
                "components_measure": {
                    "type": "single_choice",
                    "question": "What kind of measure are you showing?",
                    "help": "Measure type influences comparisons and SPC variant choice.",
                    "choices": [
                        { "label": "Count (events per period)", "next": "components_count" },
                        { "label": "Rate/Proportion/Percentage", "next": "components_rate" },
                        { "label": "Continuous value (time, length of stay, lab value)", "next": "components_continuous" },
                        { "label": "Categorical outcome (yes/no) by group", "next": "components_binary" }
                    ]
                },
                "components_rate": {
                    "type": "yes_no",
                    "question": "Comparing providers/units with varying denominators?",
                    "yes": { "recommend": ["funnel_plot"], "next": "components_cardinality" },
                    "no": { "next": "components_cardinality" }
                },
                "components_count": {
                    "type": "yes_no",
                    "question": "Is it a rare-event metric (many zeros)?",
                    "yes": { "recommend": ["g_chart", "t_chart"], "next": "components_cardinality" },
                    "no": { "next": "components_cardinality" }
                },
                "components_continuous": {
                    "type": "yes_no",
                    "question": "Prefer smoothed detection of gradual change?",
                    "yes": { "recommend": ["ewma_chart"], "next": "components_cardinality" },
                    "no": { "next": "components_cardinality" }
                },
                "components_binary": {
                    "type": "yes_no",
                    "question": "Show estimates with confidence intervals by unit?",
                    "yes": { "recommend": ["forest_plot"], "next": "components_cardinality" },
                    "no": { "next": "components_cardinality" }
                },
                "components_cardinality": {
                    "type": "single_choice",
                    "question": "How many components are you comparing at once?",
                    "choices": [
                        { "label": "One", "next": "presentation_pref" },
                        { "label": "Two", "next": "presentation_pref" },
                        { "label": "A few (3–10)", "next": "presentation_pref" },
                        { "label": "Many (10+)", "next": "presentation_pref" }
                    ]
                },
                "presentation_pref": {
                    "type": "single_choice",
                    "question": "Preferred presentation?",
                    "help": "Choose if you need precise values (tables), responsive summaries (cards), or headline tiles.",
                    "choices": [
                        { "label": "Precise values / long labels", "recommend": ["table"], "next": "nhs_root" },
                        { "label": "Summary / mobile‑friendly", "recommend": ["card", "card_list"], "next": "nhs_root" },
                        { "label": "Dashboard tile (headline + trend)", "recommend": ["kpi_tile", "spc_spark"], "next": "nhs_root" },
                        { "label": "No preference", "next": "nhs_root" }
                    ]
                },
                "nhs_root": {
                    "type": "single_choice",
                    "question": "What do you want to do?",
                    "choices": [
                        { "label": "Analyse trends", "next": "trend_q1" },
                        { "label": "Manage capacity & utilisation", "next": "op_cap_q0" },
                        { "label": "Improve patient/service flow", "next": "op_flow_q0" },
                        { "label": "Monitor operational status", "next": "op_status_q0" },
                        { "label": "Better understand relationships", "next": "rel_q0" },
                        { "label": "Demonstrate deviation", "next": "dev_q0" },
                        { "label": "Demonstrate magnitude", "next": "mag_q0" },
                        { "label": "Visualise geographical patterns", "next": "geo_q0" },
                        { "label": "Show composition", "next": "comp_q0" },
                        { "label": "Show rank", "next": "rank_q0" },
                        { "label": "Understand the distribution", "next": "dist_q0" }
                    ]
                },
                "op_cap_q0": {
                    "type": "single_choice",
                    "question": "Capacity/utilisation focus?",
                    "choices": [
                        { "label": "Capacity vs demand over time", "recommend": ["combo_line_column", "area", "run_chart", "spc_chart"] },
                        { "label": "Utilisation by hour/day", "recommend": ["utilisation_heatmap", "calendar_heatmap"] },
                        { "label": "Rosters & scheduling", "recommend": ["calendar", "gantt"] },
                        { "label": "Single KPI utilisation", "recommend": ["progress_bar", "kpi_tile", "spc_spark"] }
                    ]
                },
                "op_flow_q0": {
                    "type": "single_choice",
                    "question": "What flow do you want to show?",
                    "choices": [
                        { "label": "Across pathway stages", "recommend": ["sankey", "cumulative_flow"] },
                        { "label": "Between locations", "recommend": ["flow_map"] },
                        { "label": "Stage durations / handoffs", "recommend": ["gantt"] }
                    ]
                },
                "op_status_q0": {
                    "type": "single_choice",
                    "question": "Operational status focus?",
                    "choices": [
                        { "label": "Backlog / queue length", "recommend": ["run_chart", "spc_chart", "burndown"] },
                        { "label": "Thresholds / targets", "recommend": ["kpi_tile", "progress_bar", "bullet"] },
                        { "label": "Exceptions watchlist", "recommend": ["table", "spc_spark"] }
                    ]
                },

				"trend_q1": {
					"type": "yes_no",
					"question": "Is it predictive?",
					"yes": { "recommend": ["fan_chart"] },
					"no": { "next": "trend_q2" }
				},
                "trend_q2": {
                    "type": "yes_no",
                    "question": "Is duration important?",
                    "yes": { "recommend": ["priestley_timeline", "gantt"] },
                    "no": { "next": "trend_q3" }
                },
                "trend_q3": {
                    "type": "yes_no",
                    "question": "Are you looking at temporal patterns (daily/weekly/monthly)?",
                    "yes": { "recommend": ["calendar_heatmap"] },
                    "no": { "next": "trend_q3a" }
                },
                "trend_q3a": {
                    "type": "yes_no",
                    "question": "Is early detection of small sustained shifts important?",
                    "yes": { "recommend": ["cusum_chart", "ewma_chart"] },
                    "no": { "next": "trend_q3b" }
                },
                "trend_q3b": {
                    "type": "yes_no",
                    "question": "Is it a rare-event metric (days/time between harms)?",
                    "yes": { "recommend": ["g_chart", "t_chart"] },
                    "no": { "next": "trend_q4" }
                },
				"trend_q4": {
					"type": "yes_no",
					"question": "Is there an additional dimension?",
					"yes": { "recommend": ["radial_timeline", "area"] },
					"no": { "next": "trend_q5" }
				},
				"trend_q5": {
					"type": "yes_no",
					"question": "Are you comparing two variables?",
					"yes": { "recommend": ["dual_axis", "connected_scatter"] },
					"no": { "next": "trend_q6" }
				},
				"trend_q6": {
					"type": "yes_no",
					"question": "Is detail unimportant?",
					"yes": { "recommend": ["slope"] },
					"no": {
						"recommend": [
							"line",
							"column",
							"seismogram",
							"run_chart",
							"spc_chart"
						]
					}
				},

				"rel_q0": {
					"type": "single_choice",
					"question": "What kind of data?",
					"choices": [
						{ "label": "Interval (quantitative)", "next": "rel_interval_q1" },
						{
							"label": "Ordinal (ordered categories)",
							"next": "rel_ordinal_q1"
						}
					]
				},
				"rel_interval_q1": {
					"type": "single_choice",
					"question": "How many variables?",
					"choices": [
						{ "label": "2 (split by time)", "next": "rel_interval_time" },
						{ "label": "2 (split by other)", "next": "rel_interval_other" },
						{ "label": "3", "recommend": ["bubble"] }
					]
				},
				"rel_interval_time": {
					"type": "end",
					"recommend": ["combo_line_column", "connected_scatter"]
				},
				"rel_interval_other": {
					"type": "end",
					"recommend": ["scatter"]
				},
				"rel_ordinal_q1": {
					"type": "end",
					"recommend": ["heatmap"]
				},

                "dev_q0": {
                    "type": "single_choice",
                    "question": "What deviation pattern?",
                    "choices": [
                        { "label": "Positive/negative (1 dimension)", "next": "dev_q1" },
                        {
                            "label": "Two dimensions",
                            "recommend": ["diverging_stacked_bar"]
                        },
                        {
                            "label": "Two contrasting components",
                            "recommend": ["spine_chart"]
                        },
                        { "label": "By provider vs benchmark (varying volumes)", "recommend": ["funnel_plot"] },
                        { "label": "Estimates with confidence intervals by unit", "recommend": ["forest_plot"] }
                    ]
                },
				"dev_q1": {
					"type": "single_choice",
					"question": "Static or over time?",
					"choices": [
						{ "label": "Static", "recommend": ["diverging_bar"] },
						{ "label": "Over time", "recommend": ["surplus_deficit_area"] }
					]
				},

                "mag_q0": {
                    "type": "single_choice",
                    "question": "Magnitude of what?",
                    "choices": [
                        { "label": "Basic comparisons", "next": "mag_basic" },
                        { "label": "One thing", "recommend": ["isotype_pictogram"] },
                        { "label": "Order is significant", "next": "mag_order" },
                        {
                            "label": "Two dimensions",
                            "recommend": ["paired_bar", "paired_column"]
                        },
                        { "label": "Prioritise biggest contributors", "recommend": ["pareto"] }
                    ]
                },
                "mag_basic": {
                    "type": "end",
                    "recommend": ["bar", "column", "lollipop", "radar", "table", "kpi_tile"]
                },
				"mag_order": {
					"type": "end",
					"recommend": ["parallel_coordinates"]
				},

				"geo_q0": {
					"type": "single_choice",
					"question": "Geographic focus?",
					"choices": [
						{ "label": "Basic (points)", "recommend": ["dot_density_map"] },
						{ "label": "Movement", "recommend": ["flow_map"] },
						{
							"label": "Continuous surface",
							"recommend": [
								"contour_map",
								"geospatial_heatmap",
								"equalized_cartogram"
							]
						},
						{ "label": "By specific area (trust/site)", "next": "geo_area" }
					]
				},
				"geo_area": {
					"type": "single_choice",
					"question": "Area-based options",
					"choices": [
						{ "label": "Choropleth", "recommend": ["choropleth"] },
						{
							"label": "Proportional symbol (at fixed positions)",
							"recommend": ["proportional_symbol_map"]
						},
						{
							"label": "Values hidden due to scale/proximity",
							"recommend": ["scaled_cartogram"]
						}
					]
				},

				"comp_q0": {
					"type": "single_choice",
					"question": "Composition depth?",
					"choices": [
						{ "label": "1 dimension", "next": "comp_1d" },
						{ "label": "Cross-over of 2–3 areas", "recommend": ["venn"] },
						{ "label": "2 dimensions", "recommend": ["stacked_bar"] },
						{ "label": "3 dimensions", "recommend": ["percent_stacked_bar"] }
					]
				},
				"comp_1d": {
					"type": "single_choice",
					"question": "1D composition specifics",
					"choices": [
						{ "label": "Donut (part-to-whole)", "recommend": ["donut"] },
						{ "label": "Only 2–3 components", "recommend": ["waffle"] },
						{
							"label": "Deeper detail within the dimension",
							"recommend": ["treemap", "sunburst"]
						},
						{
							"label": "Positive and negative components",
							"recommend": ["waterfall"]
						}
					]
				},

				"rank_q0": {
					"type": "single_choice",
					"question": "How many ranked components?",
					"choices": [
						{ "label": "One", "next": "rank_one" },
						{
							"label": "Two",
							"recommend": ["slope", "ordered_proportional_symbol"]
						}
					]
				},
                "rank_one": {
                    "type": "single_choice",
                    "question": "Any constraints?",
                    "choices": [
                        { "label": "Extra detail", "recommend": ["bullet", "dot_strip", "table"] },
                        {
                            "label": "Short names",
                            "recommend": ["column", "bar", "lollipop"]
                        }
                    ]
                },

				"dist_q0": {
					"type": "single_choice",
					"question": "Distribution scope?",
					"choices": [
						{
							"label": "Single component",
							"recommend": ["violin", "histogram"]
						},
						{ "label": "Split into components", "next": "dist_split" }
					]
				},
				"dist_split": {
					"type": "single_choice",
					"question": "How many components?",
					"choices": [
						{
							"label": "Two",
							"recommend": [
								"population_pyramid",
								"cdf_curve",
								"dotplot",
								"barcode_plot",
								"dot_strip"
							]
						},
						{ "label": "A few", "recommend": ["boxplot"] }
					]
				}
			}
		}
	},
        "coverage": {
            "mentioned": [
                "line",
                "column",
                "spc_chart",
                "run_chart",
                "gantt",
                "utilisation_heatmap",
                "sankey",
                "cumulative_flow",
                "burndown",
                "progress_bar",
                "calendar",
                "card",
                "card_list",
                "pivot_table",
                "table",
                "kpi_tile",
                "funnel_plot",
                "pareto",
                "cusum_chart",
                "ewma_chart",
                "g_chart",
                "t_chart",
                "forest_plot",
                "spc_spark",
                "seismogram",
                "fan_chart",
                "priestley_timeline",
                "calendar_heatmap",
			"radial_timeline",
			"area",
			"dual_axis",
			"connected_scatter",
			"slope",
			"combo_line_column",
			"scatter",
			"bubble",
			"heatmap",
			"diverging_bar",
			"surplus_deficit_area",
			"diverging_stacked_bar",
			"spine_chart",
			"bar",
			"lollipop",
			"radar",
			"isotype_pictogram",
			"parallel_coordinates",
			"paired_bar",
			"paired_column",
			"dot_density_map",
			"flow_map",
			"contour_map",
			"geospatial_heatmap",
			"equalized_cartogram",
			"choropleth",
			"proportional_symbol_map",
			"scaled_cartogram",
			"donut",
			"waffle",
			"treemap",
			"sunburst",
			"waterfall",
			"venn",
			"stacked_bar",
			"percent_stacked_bar",
			"bullet",
			"dot_strip",
			"ordered_proportional_symbol",
			"violin",
			"histogram",
			"population_pyramid",
			"cdf_curve",
			"barcode_plot",
			"boxplot",
			"dotplot"
		],
		"already_present_in_seed": [
			"line",
			"column",
			"connected_scatter",
			"scatter",
			"bubble",
			"heatmap",
			"stacked_bar",
			"percent_stacked_bar",
			"boxplot",
			"violin",
			"dotplot",
			"slope",
			"treemap",
			"choropleth"
		],
            "added_now": [
                "spc_chart",
                "run_chart",
                "gantt",
                "utilisation_heatmap",
                "sankey",
                "cumulative_flow",
                "burndown",
                "progress_bar",
                "calendar",
                "card",
                "card_list",
                "pivot_table",
                "table",
                "kpi_tile",
                "funnel_plot",
                "pareto",
                "cusum_chart",
                "ewma_chart",
                "g_chart",
                "t_chart",
                "forest_plot",
                "spc_spark",
                "seismogram",
                "fan_chart",
                "priestley_timeline",
                "calendar_heatmap",
			"radial_timeline",
			"area",
			"dual_axis",
			"combo_line_column",
			"diverging_bar",
			"surplus_deficit_area",
			"diverging_stacked_bar",
			"spine_chart",
			"bar",
			"lollipop",
			"radar",
			"isotype_pictogram",
			"parallel_coordinates",
			"paired_bar",
			"paired_column",
			"dot_density_map",
			"flow_map",
			"contour_map",
			"geospatial_heatmap",
			"equalized_cartogram",
			"proportional_symbol_map",
			"scaled_cartogram",
			"donut",
			"waffle",
			"sunburst",
			"waterfall",
			"venn",
			"bullet",
			"dot_strip",
			"ordered_proportional_symbol",
			"population_pyramid",
			"cdf_curve",
			"barcode_plot"
		],
            "alias_normalisations": [
                { "input": "Alluvial", "id": "sankey" },
                { "input": "CFD", "id": "cumulative_flow" },
                { "input": "Cumulative flow", "id": "cumulative_flow" },
                { "input": "Backlog burn-down", "id": "burndown" },
                { "input": "Burn-down", "id": "burndown" },
                { "input": "Time-of-day heatmap", "id": "utilisation_heatmap" },
                { "input": "Capacity heatmap", "id": "utilisation_heatmap" },
                { "input": "Progress bar", "id": "progress_bar" },
                { "input": "Table", "id": "table" },
                { "input": "Data table", "id": "table" },
                { "input": "Data grid", "id": "table" },
                { "input": "Sortable table", "id": "table" },
                { "input": "KPI tile", "id": "kpi_tile" },
                { "input": "Metric tile", "id": "kpi_tile" },
                { "input": "Metric card", "id": "kpi_tile" },
                { "input": "Stat", "id": "kpi_tile" },
                { "input": "Card", "id": "card" },
                { "input": "Cards", "id": "card_list" },
                { "input": "Card list", "id": "card_list" },
                { "input": "Summary cards", "id": "card_list" },
                { "input": "Pivot table", "id": "pivot_table" },
                { "input": "Pivot", "id": "pivot_table" },
                { "input": "Crosstab", "id": "pivot_table" },
                { "input": "Calendar", "id": "calendar" },
                { "input": "Gantt", "id": "gantt" },
                { "input": "SPC", "id": "spc_chart" },
                { "input": "Control Chart", "id": "spc_chart" },
                { "input": "Shewhart chart", "id": "spc_chart" },
                { "input": "XmR", "id": "spc_chart" },
                { "input": "Run Chart", "id": "run_chart" },
                { "input": "p chart", "id": "spc_chart" },
                { "input": "np chart", "id": "spc_chart" },
                { "input": "u chart", "id": "spc_chart" },
                { "input": "c chart", "id": "spc_chart" },
                { "input": "Xbar-R", "id": "spc_chart" },
                { "input": "Xbar-S", "id": "spc_chart" },
                { "input": "X̄-R", "id": "spc_chart" },
                { "input": "Funnel", "id": "funnel_plot" },
                { "input": "Funnel plot", "id": "funnel_plot" },
                { "input": "Laney p'", "id": "funnel_plot" },
                { "input": "Laney u'", "id": "funnel_plot" },
                { "input": "CUSUM", "id": "cusum_chart" },
                { "input": "EWMA", "id": "ewma_chart" },
                { "input": "G chart", "id": "g_chart" },
                { "input": "T chart", "id": "t_chart" },
                { "input": "Forest", "id": "forest_plot" },
                { "input": "Forest plot", "id": "forest_plot" },
                { "input": "Pareto chart", "id": "pareto" },
                { "input": "SPCSpark", "id": "spc_spark" },
                { "input": "sparkline", "id": "spc_spark" },
                { "input": "Circle Timeline", "id": "radial_timeline" },
                { "input": "Grid Plot", "id": "waffle" },
                { "input": "Spine Chart", "id": "spine_chart" },
                { "input": "Isotopes", "id": "isotype_pictogram" }
            ]
        }
    }
