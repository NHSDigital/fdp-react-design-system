// NHS Header SCSS - Uses compiled design tokens
@use "../../../packages/nhs-fdp/dist/scss/tokens" as tokens;

// Import essential utilities that this component depends on
@use "./_header-utilities.scss";

// Header variables
$header-item-padding: tokens.$nhs-fdp-spacing-3;
$header-link-padding: tokens.$nhs-fdp-spacing-1;
$header-item-hover-color: tokens.$nhs-fdp-semantic-color-hover-header-link; // Slightly lighter than NHS Blue
$header-item-active-color: tokens.$nhs-fdp-semantic-color-active-header-link; // Darker than NHS Blue
$header-item-active-size: tokens.$nhs-fdp-focus-outline-width;
$header-nav-vertical-pad: tokens.$nhs-fdp-spacing-5; // unified vertical padding for nav link & button

// Shared interactive navigation element styles (anchor & More button)
@mixin header-nav-interactive-base {
	
	@media (min-width: tokens.$nhs-fdp-breakpoint-medium) {
		font-size: tokens.$nhs-fdp-font-size-16-tablet;
	}

	// &::before {
	// 	content: "";
	// 	display: block;
	// 	position: absolute;
	// 	left: 0; right: 0; bottom: 0;
	// 	border: 0 solid currentcolor; // bottom border added when active/current
	// }

	&[aria-current="page"]::before,
	&[aria-current="true"]::before { border-bottom-width: $header-item-active-size; }
}

// Vertical rhythm variables (allows independent control of top vs container internal spacing)
$header-vertical-pad-mobile: tokens.$nhs-fdp-spacing-3;
$header-vertical-pad-tablet: tokens.$nhs-fdp-spacing-4;

// Shared icon styles mixin
@mixin header-icon-base {
	fill: currentColor;
}

@mixin header-icon-medium {
	@include header-icon-base;
	width: tokens.$nhs-fdp-spacing-6;
	height: tokens.$nhs-fdp-spacing-6;
}

@mixin header-icon-small {
	@include header-icon-base;
	width: tokens.$nhs-fdp-spacing-4;
	height: tokens.$nhs-fdp-spacing-4;
}

// Header link styling mixin
@mixin header-link-style(
	$link-color: tokens.$nhs-fdp-semantic-color-link-default,
	$link-hover-color: $header-item-hover-color,
	$link-active-color: $header-item-active-color
) {
	color: $link-color;
	text-decoration: none;

	&:hover {
		color: $link-hover-color;
	}

	&:active {
		color: $link-active-color;
	}

	&:focus {
		outline-offset: 0;
		background-color: tokens.$nhs-fdp-semantic-color-focus-background;
		color: tokens.$nhs-fdp-semantic-color-focus-text;
		box-shadow: inset 0 -#{tokens.$nhs-fdp-focus-outline-width} tokens.$nhs-fdp-semantic-color-focus-text;
	}

	&:focus:visited {
		color: tokens.$nhs-fdp-semantic-color-focus-text;
	}
}

// Main header component with hierarchical structure
.nhsuk-header {
	background-color: tokens.$nhs-fdp-color-primary-blue;
	color: tokens.$nhs-fdp-color-primary-white;
	font-family:
		#{tokens.$nhs-fdp-font-family-base},
		#{tokens.$nhs-fdp-font-family-fallback};
	position: relative;
	// Add a dedicated top padding to balance optical spacing above first row
	padding-top: $header-vertical-pad-mobile;

	@media (min-width: tokens.$nhs-fdp-breakpoint-medium) {
		padding-top: $header-vertical-pad-tablet;
	}

	&__container {
		// Internal bottom padding only (top handled by root to ensure consistent visual gap)
		padding: 0 0 $header-vertical-pad-mobile 0;
		margin: 0 tokens.$nhs-fdp-spacing-2;
		display: flex;
		flex-direction: row;
		align-items: center;
		gap: tokens.$nhs-fdp-spacing-2;
		flex-wrap: wrap;

		@media (min-width: tokens.$nhs-fdp-breakpoint-medium) {
			padding-bottom: $header-vertical-pad-tablet; // match larger top padding at tablet+
			margin: 0 tokens.$nhs-fdp-spacing-7;
			gap: tokens.$nhs-fdp-spacing-4;
		}
	}

	// Navigation container - hierarchical structure
	&__navigation-container {
		box-shadow: 0 -1px 0 0 tokens.$nhs-fdp-border-color-default;
		position: relative;

		// Prevent layout shift during initialization with subtle opacity transition
		&--initializing {
			opacity: 0.3;
			transition: opacity #{tokens.$nhs-fdp-animation-duration-fast} ease-in-out;
		}

		// Ensure smooth transition when initialization completes
		&:not(&--initializing) {
			opacity: 1;
			transition: opacity #{tokens.$nhs-fdp-animation-duration-fast} ease-in-out;
		}

		@media (max-width: calc(#{tokens.$nhs-fdp-breakpoint-medium} - 1px)) {
			// On mobile, remove box shadow and add better spacing
			box-shadow: none;
			margin-top: 0;
		}

		#{&}--white #{&}__navigation--white & {
			box-shadow: 0 -1px 0 0 tokens.$nhs-fdp-color-grey-4;
		}

		#{&}--white :not(#{&}__navigation--white) &,
		#{&}__navigation--white & {
			box-shadow: none;
			margin-top: 0;
		}

		&,
		#{&}--white #{&}__navigation--white & {
			@media (max-width: calc(#{tokens.$nhs-fdp-breakpoint-medium} - 1px)) {
				box-shadow: none;
				margin-top: -#{tokens.$nhs-fdp-spacing-3};
			}
		}
	}

	// --- Service (logo + name) -------------------------------------------------
	// NOTE: Consolidated duplicate declarations; keep a single authoritative block.
	&__service {
		display: flex;
		flex-direction: row;
		align-items: center;
		gap: tokens.$nhs-fdp-spacing-3;
		flex: 1 0 auto; // Fixed logical width buckets per breakpoint
		width: 300px;

		@media (max-width: calc(#{tokens.$nhs-fdp-breakpoint-small} - 1px)) {
			width: 200px;
		}
		@media (min-width: tokens.$nhs-fdp-breakpoint-medium) {
			width: 350px;
		}
	}

	&__service-logo {
		position: relative;
		display: inline-flex;
		flex: 0 0 auto;
		width: 64px;
		line-height: 0;
		margin-right: tokens.$nhs-fdp-spacing-3;
		text-decoration: none;
		@include header-link-style(
			$link-color: tokens.$nhs-fdp-color-primary-white,
			$link-hover-color: tokens.$nhs-fdp-color-primary-white,
			$link-active-color: tokens.$nhs-fdp-color-primary-white
		);

		&:only-child {
			display: flex;
			margin-right: 0;
		}

		&:has(svg):not(:focus):hover::before {
			content: "";
			position: absolute;
			top: 0.2rem;
			width: tokens.$nhs-fdp-component-header-logo-min-width;
			height: tokens.$nhs-fdp-component-header-logo-height;
			border-bottom: 0.1rem solid currentcolor;
			display: inline;
		}

		&:not(:focus):hover { text-decoration: underline; }
	}

	&__service-name {
		display: inline-flex;
		flex-direction: column;
		flex: 0 0 auto;
		justify-content: center;
		min-width: 0;
		text-wrap: balance;
		overflow-wrap: break-word;
		font-size: tokens.$nhs-fdp-font-size-19-mobile;
		font-weight: tokens.$nhs-fdp-font-weight-normal;
		line-height: 1.1;
		padding-left: tokens.$nhs-fdp-spacing-3;
		// default (very small) width calc
		width: calc(200px - 64px - #{tokens.$nhs-fdp-spacing-3});

		@media (min-width: calc(#{tokens.$nhs-fdp-breakpoint-small})) {
			width: calc(300px - 64px - #{tokens.$nhs-fdp-spacing-3});
		}
		@media (min-width: tokens.$nhs-fdp-breakpoint-medium) {
			font-size: tokens.$nhs-fdp-font-size-19-tablet;
			width: calc(350px - 64px - #{tokens.$nhs-fdp-spacing-3});
		}

		&:only-child {
			// take full container width when logo missing
			width: 200px;
			@media (min-width: calc(#{tokens.$nhs-fdp-breakpoint-small})) { width: 300px; }
			@media (min-width: tokens.$nhs-fdp-breakpoint-medium) { width: 350px; }
		}

		&[href] {
			// Move plain declarations before mixin includes to avoid mixed-decls warnings (mixin outputs nested pseudo rules)
			// (header-link-style already sets text-decoration: none; so redundant declaration removed)
			@include header-link-style(
				$link-color: tokens.$nhs-fdp-color-primary-white,
				$link-hover-color: tokens.$nhs-fdp-color-primary-white,
				$link-active-color: tokens.$nhs-fdp-color-primary-white
			);
			&:not(:focus):hover { text-decoration: underline; }
		}
	}

	// Search section
	&__search {
		flex: 1 1 auto; // Allow to grow and shrink based on available space
		position: relative;
		margin-right: auto;
		z-index: 10;
		min-width: 150px; // Reduced minimum width for better wrapping

		.nhsuk-icon {
			&__search {
				@include header-icon-base;
				height: 28px;
				width: 28px;
				margin: 0 -2px -2px 0;
			}
		}
	}

	// Logo utility: keep minimal explicit rule (other logic consolidated above)
	&__logo { min-width: tokens.$nhs-fdp-component-header-logo-min-width; }

	&__search-form {
		display: flex;
		height: 100%;
		overflow: visible;
	}

	&__search-input {
		&.nhsuk-input {
			border-color: transparent;
			border-radius: tokens.$nhs-fdp-border-radius-small 0 0
				tokens.$nhs-fdp-border-radius-small;
			height: 40px;
			margin-right: -#{tokens.$nhs-fdp-border-width-form-element};
			padding-right: $header-item-padding;
			padding-left: $header-item-padding -
				tokens.$nhs-fdp-border-width-form-element;
			width: 100%;
			font-size: tokens.$nhs-fdp-font-size-16-mobile;
			font-weight: tokens.$nhs-fdp-font-weight-normal;

			@media (min-width: tokens.$nhs-fdp-breakpoint-medium) {
				font-size: tokens.$nhs-fdp-font-size-16-tablet;
			}

			&:focus {
				z-index: 10;
				outline: tokens.$nhs-fdp-focus-outline-width
					tokens.$nhs-fdp-focus-outline-style
					tokens.$nhs-fdp-semantic-color-focus-background;
				outline-offset: 0;
				background-color: tokens.$nhs-fdp-color-primary-white;
				color: tokens.$nhs-fdp-semantic-color-focus-text;
				border-color: tokens.$nhs-fdp-semantic-color-focus-text;
				box-shadow: inset 0 0 0 2px tokens.$nhs-fdp-semantic-color-focus-text;
			}

			&:active {
				border-color: tokens.$nhs-fdp-semantic-color-focus-text;
				box-shadow: inset 0 0 0 2px tokens.$nhs-fdp-semantic-color-focus-text;
			}

			&::placeholder {
				color: tokens.$nhs-fdp-color-grey-1;
				opacity: 1;
			}

			// Hide search input clear button (IE)
			&::-ms-clear {
				display: none;
			}

			// Hide search input icon and cancel button (WebKit, Blink)
			&::-webkit-search-decoration,
			&::-webkit-search-cancel-button {
				appearance: none;
			}
		}
	}

	&__search-submit {
		background-color: tokens.$nhs-fdp-color-grey-5;
		border: 0;
		border-radius: 0 tokens.$nhs-fdp-border-radius-small
			tokens.$nhs-fdp-border-radius-small 0;
		color: tokens.$nhs-fdp-color-primary-blue;
		fill: tokens.$nhs-fdp-color-primary-blue;
		flex-shrink: 0;
		height: 40px; // Match input field height exactly
		line-height: 1;
		margin: 0;
		width: 44px;
		cursor: pointer;

		&:hover,
		&:active {
			background-color: $header-item-hover-color;
			box-shadow: inset 0 0 0 1px tokens.$nhs-fdp-color-primary-white;
			color: tokens.$nhs-fdp-color-primary-white;
			fill: tokens.$nhs-fdp-color-primary-white;
			transition:
				background-color #{tokens.$nhs-fdp-animation-duration-fast}
					#{tokens.$nhs-fdp-animation-easing-ease-out},
				color #{tokens.$nhs-fdp-animation-duration-fast}
					#{tokens.$nhs-fdp-animation-easing-ease-out},
				fill #{tokens.$nhs-fdp-animation-duration-fast}
					#{tokens.$nhs-fdp-animation-easing-ease-out};
		}

		&:active {
			background-color: $header-item-active-color;
		}

		&:focus {
			outline: tokens.$nhs-fdp-focus-outline-width
				tokens.$nhs-fdp-focus-outline-style
				tokens.$nhs-fdp-semantic-color-focus-background;
			outline-offset: 0;
			background-color: tokens.$nhs-fdp-semantic-color-focus-background;
			color: tokens.$nhs-fdp-semantic-color-focus-text;
		}
	}

	// Navigation section
	&__navigation {
		background-color: tokens.$nhs-fdp-color-primary-blue;
		border: 0 solid tokens.$nhs-fdp-color-primary-white;
		color: tokens.$nhs-fdp-color-primary-white;
		max-width: tokens.$nhs-fdp-breakpoint-xlarge; // Constrain width to 1200px
		// Add proper vertical padding and match container margins
		margin: 0 auto;
		overflow: hidden;

		// // Small devices
		// @media (min-width: calc(#{tokens.$nhs-fdp-breakpoint-small} + 1px)) {
		// 	margin: 0 tokens.$nhs-fdp-spacing-4;
		// }

		// // Medium devices and up
		// @media (min-width: tokens.$nhs-fdp-breakpoint-medium) {
		// 	margin: 0 tokens.$nhs-fdp-spacing-4;
		// }

		// // Center content when viewport is wide enough (follows NHS.UK pattern)
		// // Use xlarge breakpoint + spacing to determine when to center
		// @media (min-width: calc(#{tokens.$nhs-fdp-breakpoint-xlarge} + #{tokens.$nhs-fdp-spacing-7} * 2)) {
		// 	margin: 0 auto; // Center the navigation to match header container
		// }
	}

	&__navigation-list {
		position: relative;
		display: flex;
		flex-wrap: nowrap; // keep single line; overflow handled by enhancement
		list-style: none;
		margin: 0 -#{tokens.$nhs-fdp-spacing-2};
		padding: 0;
		width: calc(100% + #{tokens.$nhs-fdp-spacing-4});

		@media (min-width: tokens.$nhs-fdp-breakpoint-medium) {
			width: calc(100% + #{tokens.$nhs-fdp-spacing-6});
			margin: 0 -#{tokens.$nhs-fdp-spacing-3};
		}

		// Removed legacy wrap on small screens to avoid vertical stacking

		// When JS enhancement active keep single line even on mobile; overflow handled by behaviour script
		.nhsuk-header--enhanced & {
			flex-wrap: nowrap !important;
		}
	}

	&__navigation-item {
		margin-bottom: 0;
		padding: 0 tokens.$nhs-fdp-spacing-3;

		&-current-fallback {
			font-weight: inherit; // previously bold <strong>, neutralised for consistent height
			line-height: inherit; // ensure no extra vertical space vs button label
			display: inline-block; // predictable box for baseline alignment
		}

		a {
			padding: tokens.$nhs-fdp-spacing-3 tokens.$nhs-fdp-spacing-3 tokens.$nhs-fdp-spacing-4 tokens.$nhs-fdp-spacing-3;
		}

		// More button functionality
		&--more {
			position: relative;
			// More button now works responsively at all breakpoints
		}
	}

	&__navigation-link {
		// Plain declarations FIRST
		display: inline-flex;
		align-items: flex-start;
		position: relative;
		white-space: nowrap;
		font-size: tokens.$nhs-fdp-font-size-16-mobile;
		font-weight: tokens.$nhs-fdp-font-weight-normal;
		line-height: 1; // vertical rhythm
		padding: tokens.$nhs-fdp-spacing-3 tokens.$nhs-fdp-spacing-3 tokens.$nhs-fdp-spacing-3 tokens.$nhs-fdp-spacing-3;
		gap: tokens.$nhs-fdp-spacing-1;
		text-decoration: underline;
		// Then include mixins that emit nested pseudo selectors / media queries
		@include header-link-style(
			$link-color: tokens.$nhs-fdp-color-primary-white,
			$link-hover-color: tokens.$nhs-fdp-color-primary-white,
			$link-active-color: tokens.$nhs-fdp-color-primary-white
		);
		@include header-nav-interactive-base;
	}

	// Navigation button for dropdown functionality
	&__navigation-button {
		// Plain declarations FIRST (no nested rules) to avoid mixed-decls warnings
		background: transparent;
		border: none;
		cursor: pointer;
		font-family: inherit;
		display: inline-flex;
		align-items: flex-start;
		position: relative;
		white-space: nowrap;
		font-size: tokens.$nhs-fdp-font-size-16-mobile;
		font-weight: tokens.$nhs-fdp-font-weight-normal;
		padding: tokens.$nhs-fdp-spacing-3 tokens.$nhs-fdp-spacing-3 20px tokens.$nhs-fdp-spacing-3; // this is a 20px hack, combined with the margin-top -4px on the icon to center the icon in the line.
		line-height: 1; // tighter line-height so vertical padding defines total height consistently for link & button
		gap: tokens.$nhs-fdp-spacing-1; // harmless for plain text links; useful when icon present
		text-decoration: underline;
		
		// Now include mixins (these emit nested @media / pseudo rules after base declarations)
		@include header-link-style(
			$link-color: tokens.$nhs-fdp-color-primary-white,
			$link-hover-color: tokens.$nhs-fdp-color-primary-white,
			$link-active-color: tokens.$nhs-fdp-color-primary-white
		);
		
		span {
			text-decoration: underline;
		}
		
		&:hover {
			color: tokens.$nhs-fdp-color-primary-white;
			text-decoration: none;
		}

		&:focus {
			outline-offset: 0;
			background-color: tokens.$nhs-fdp-semantic-color-focus-background;
			color: tokens.$nhs-fdp-semantic-color-focus-text;
			box-shadow: inset 0 -#{tokens.$nhs-fdp-focus-outline-width} tokens.$nhs-fdp-semantic-color-focus-text;
		}

		.nhsuk-icon {
			margin-top: -4px;
			&__chevron-down {
				@include header-icon-small;
				display: block; // remove inline baseline gap
				transform: rotate(90deg); // Point down initially
				transition: transform #{tokens.$nhs-fdp-animation-duration-fast} #{tokens.$nhs-fdp-animation-easing-ease-out};
				
			}
		}

		&[aria-expanded="true"] .nhsuk-icon__chevron-down {
			transform: rotate(270deg); // Point up when open
		}

		// Apply active bottom indicator when menu open
		&[aria-expanded="true"]::before { border-bottom-width: $header-item-active-size; }

		@media (min-width: tokens.$nhs-fdp-breakpoint-medium) {
			font-size: tokens.$nhs-fdp-font-size-16-tablet;
		}
	}

	// Dropdown menu - hierarchical structure
	&__dropdown-menu {
		position: absolute;
		top: 100%;
		left: 0;
		right: 0;
		width: 100%;
		background-color: tokens.$nhs-fdp-color-primary-white;
		border-top: 1px solid tokens.$nhs-fdp-color-grey-5;
		z-index: 1000;
		box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);

		&[hidden] {
			display: none;
		}
	}

	&__dropdown-list {
		list-style: none;
		margin: 0;
		padding: 0;
	}

	&__dropdown-item {
		// Base declarations first to avoid mixed declaration warnings
		display: block;
		padding: tokens.$nhs-fdp-spacing-4 tokens.$nhs-fdp-spacing-2;
		border-bottom: 1px solid tokens.$nhs-fdp-color-grey-5;
		white-space: nowrap;
		position: relative;
		@include header-link-style(
			$link-color: tokens.$nhs-fdp-color-primary-blue,
			$link-hover-color: tokens.$nhs-fdp-color-primary-blue,
			$link-active-color: tokens.$nhs-fdp-color-primary-blue
		);

		@media (min-width: calc(#{tokens.$nhs-fdp-breakpoint-small} + 1px)) {
			padding: tokens.$nhs-fdp-spacing-4 tokens.$nhs-fdp-spacing-4;
		}

		@media (min-width: tokens.$nhs-fdp-breakpoint-medium) {
			padding: tokens.$nhs-fdp-spacing-4 tokens.$nhs-fdp-spacing-7;
		}

		&:hover {
			background-color: rgba(0, 0, 0, 0.05);
		}

		// Visual indicator for navigation item uses a border on left edge
		&::before {
			content: "";
			display: block;
			position: absolute;
			bottom: 0;
			left: 0;
			right: 0;
			top: 0;
			border: 0 solid currentcolor;
		}

		// Active/current state styling for dropdown items
		&[aria-current="page"]::before,
		&[aria-current="true"]::before {
			width: 0;
			top: 0;
			bottom: 0;
			left: 0;
			right: auto;
			border-left-width: tokens.$nhs-fdp-focus-outline-width;
			border-bottom-width: 0;
			background-color: tokens.$nhs-fdp-color-primary-blue;
		}
	}

	// Removed legacy &__menu (responsive dropdown) and &__menu-list blocks

	// Removed duplicate navigation variants block (handled earlier in file)

	// Header variants - hierarchical structure
	// Removed duplicate white variant block (original variant styles retained earlier)

	// Organisation header variant - hierarchical structure
	&--organisation {
		#{&}__logo {
			height: 24px;
			margin-bottom: 6px;
			min-width: auto;
			width: 60px;

			@media (min-width: tokens.$nhs-fdp-breakpoint-medium) {
				height: 32px;
				width: 80px;
			}
		}

		#{&}__service-logo {
			display: block;

			// Adjust SVG logo underline position
			&:has(svg):not(:focus):hover::before {
				height: 24px;
				width: 60px;

				@media (min-width: tokens.$nhs-fdp-breakpoint-medium) {
					height: 32px;
					width: 80px;
				}
			}
		}
	}

	// Organisation name classes - hierarchical structure
	&__organisation-name {
		display: block;
		font-size: tokens.$nhs-fdp-font-size-22-mobile;
		font-weight: tokens.$nhs-fdp-font-weight-bold;
		line-height: 1.1;

		@media (min-width: tokens.$nhs-fdp-breakpoint-medium) {
			font-size: tokens.$nhs-fdp-font-size-22-tablet;
		}
		@media (max-width: calc(#{tokens.$nhs-fdp-breakpoint-medium} - 1px)) {
			max-width: 14ch; // Limit width on mobile
		}

		&-split {
			display: block;
		}

		&-descriptor {
			display: block;
			font-size: tokens.$nhs-fdp-font-size-14-mobile;
			font-weight: tokens.$nhs-fdp-font-weight-bold;

			@media (min-width: tokens.$nhs-fdp-breakpoint-medium) {
				font-size: tokens.$nhs-fdp-font-size-14-tablet;
			}
		}
	}

	&__organisation-logo {
		border: 0;
		height: auto;
		width: 280px;

		@media (max-width: 450px) {
			max-width: 150px;
		}

		&[src$=".svg"] {
			max-width: 220px;
			width: 220px;
		}
	}

	// (Removed duplicate service-name/logo utility hover/focus block; handled in consolidated section)

	// NHS block logo (SVG) styles reintroduced after cleanup
	&__logo {
		display: inline-block;
		height: tokens.$nhs-fdp-component-header-logo-height;
		width: tokens.$nhs-fdp-component-header-logo-min-width;
		max-width: tokens.$nhs-fdp-component-header-logo-min-width;
		vertical-align: middle;
		line-height: 0;
		background: tokens.$nhs-fdp-color-primary-blue;
		// Ensure SVG path appears in white
		path {
			fill: tokens.$nhs-fdp-color-primary-white;
		}
	}

	// Minimal white variant styling (reintroduced after cleanup)
	&--white {
		background-color: tokens.$nhs-fdp-color-primary-white;
		color: tokens.$nhs-fdp-color-primary-blue;

		// Ensure base text and icon colors inherit appropriately
		svg {
			fill: currentColor;
		}

 		// Textual elements inherit the variant foreground
 		.nhsuk-header__service-name,
 		.nhsuk-header__service-logo,
 		.nhsuk-header__organisation-name,
 		.nhsuk-header__navigation-link,
 		.nhsuk-header__navigation-button { color: tokens.$nhs-fdp-color-primary-blue; }

		.nhsuk-header__navigation {
			background: transparent;
		}

		.nhsuk-header__navigation-link,
		.nhsuk-header__navigation-button {
			@include header-link-style(
				$link-color: tokens.$nhs-fdp-color-primary-blue,
				$link-hover-color: tokens.$nhs-fdp-color-primary-blue,
				$link-active-color: tokens.$nhs-fdp-color-primary-blue
			);
		}

		.nhsuk-header__navigation-link[aria-current="page"],
		.nhsuk-header__navigation-link[aria-current="true"],
		.nhsuk-header__dropdown-link[aria-current="page"],
		.nhsuk-header__dropdown-link[aria-current="true"] {
			font-weight: tokens.$nhs-fdp-font-weight-bold;
		}

		.nhsuk-header__dropdown-menu {
			border-top-color: tokens.$nhs-fdp-color-grey-5;
		}
	}
}
