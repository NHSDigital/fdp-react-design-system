@use '../../../packages/nhs-fdp/dist/scss/tokens' as tokens;

.nhsuk-summary-list-container {
  background-color: tokens.$nhs-fdp-color-grey-5;
  padding: tokens.$nhs-fdp-spacing-3; // 16px on mobile
  
  @media (min-width: tokens.$nhs-fdp-breakpoint-tablet) {
    padding: tokens.$nhs-fdp-spacing-5; // 32px on desktop
  }
}

.nhsuk-summary-list {
  margin: 0;
  width: 100%;
  font-family: tokens.$nhs-fdp-font-family-base, tokens.$nhs-fdp-font-family-fallback;
  font-size: tokens.$nhs-fdp-font-size-16-mobile;
  line-height: tokens.$nhs-fdp-font-line-height-base;
  
  @media (min-width: tokens.$nhs-fdp-breakpoint-tablet) {
    margin-bottom: tokens.$nhs-fdp-spacing-6;
    border-collapse: collapse;
    display: table;
    table-layout: fixed;
    font-size: tokens.$nhs-fdp-font-size-19-tablet;
  }
}

.nhsuk-summary-list__row {
  border-bottom: 1px solid tokens.$nhs-fdp-semantic-color-border-default;

  @media (max-width: tokens.$nhs-fdp-breakpoint-tablet) {
    margin-bottom: tokens.$nhs-fdp-spacing-3;
  }
  
  @media (min-width: tokens.$nhs-fdp-breakpoint-tablet) {
    display: table-row;
  }
}

// Remove right padding from the last column in the row
.nhsuk-summary-list__row:not(.nhsuk-summary-list__row--no-actions) > :last-child {
  padding-right: 0;
}

// Provide an empty 'cell' for rows that don't have actions â€“ otherwise the
// bottom border is not drawn for that part of the row in some browsers.
.nhsuk-summary-list__row--no-actions {
  @media (min-width: tokens.$nhs-fdp-breakpoint-tablet) {
    &::after {
      content: "";
      display: table-cell;
      width: 20%;
    }
  }
}

.nhsuk-summary-list--no-border {
  .nhsuk-summary-list__row {
    border: 0;
  }
  
  // Increase padding by 1px to compensate for 'missing' border
  @media (min-width: tokens.$nhs-fdp-breakpoint-tablet) {
    .nhsuk-summary-list__key,
    .nhsuk-summary-list__value,
    .nhsuk-summary-list__actions {
      padding-bottom: calc(tokens.$nhs-fdp-spacing-2 + 1px);
    }
  }
}

.nhsuk-summary-list__key,
.nhsuk-summary-list__value,
.nhsuk-summary-list__actions {
  margin: 0;
  vertical-align: top;

  @media (min-width: tokens.$nhs-fdp-breakpoint-tablet) {
    display: table-cell;
    padding-bottom: tokens.$nhs-fdp-spacing-2;
    padding-right: tokens.$nhs-fdp-spacing-4;
    padding-top: tokens.$nhs-fdp-spacing-2;
  }
}

.nhsuk-summary-list__key {
  word-wrap: break-word;
  overflow-wrap: break-word;
  margin-bottom: tokens.$nhs-fdp-spacing-1;
  
  // Typography
  font-family: tokens.$nhs-fdp-font-family-base, tokens.$nhs-fdp-font-family-fallback;
  font-size: tokens.$nhs-fdp-font-size-16-mobile;
  line-height: tokens.$nhs-fdp-font-line-height-base;
  color: tokens.$nhs-fdp-semantic-color-text-primary;
  font-weight: tokens.$nhs-fdp-font-weight-bold; // Make keys bold

  @media (min-width: tokens.$nhs-fdp-breakpoint-tablet) {
    width: 30%;
    font-size: tokens.$nhs-fdp-font-size-19-tablet;
  }
}

.nhsuk-summary-list__value {
  word-wrap: break-word;
  overflow-wrap: break-word;
  
  // Typography
  font-family: tokens.$nhs-fdp-font-family-base, tokens.$nhs-fdp-font-family-fallback;
  font-size: tokens.$nhs-fdp-font-size-16-mobile;
  line-height: tokens.$nhs-fdp-font-line-height-base;
  color: tokens.$nhs-fdp-semantic-color-text-primary;

  @media (max-width: tokens.$nhs-fdp-breakpoint-tablet) {
    margin-bottom: tokens.$nhs-fdp-spacing-3;
  }

  @media (min-width: tokens.$nhs-fdp-breakpoint-tablet) {
    font-size: tokens.$nhs-fdp-font-size-19-tablet;
  }

  // Paragraph spacing within values
  p {
    margin: 0 0 tokens.$nhs-fdp-spacing-3 0;
    
    &:last-child {
      margin-bottom: 0;
    }
  }

  // Last child elements should not have bottom margin
  > :last-child {
    margin-bottom: 0;
  }

  // List styling within values
  ul,
  ol {
    margin: 0 0 tokens.$nhs-fdp-spacing-3 0;
    padding-left: tokens.$nhs-fdp-spacing-4;
    
    &:last-child {
      margin-bottom: 0;
    }
    
    li {
      margin-bottom: tokens.$nhs-fdp-spacing-2;
      
      &:last-child {
        margin-bottom: 0;
      }
    }
  }

  // Links within values
  a {
    color: tokens.$nhs-fdp-semantic-color-link-default !important;
    text-decoration: underline;
    text-decoration-color: tokens.$nhs-fdp-semantic-color-link-default;
    
    &:link {
      color: tokens.$nhs-fdp-semantic-color-link-default !important;
      text-decoration-color: tokens.$nhs-fdp-semantic-color-link-default;
    }
    
    &:visited {
      color: tokens.$nhs-fdp-semantic-color-link-visited !important;
      text-decoration-color: tokens.$nhs-fdp-semantic-color-link-visited;
    }
    
    &:hover {
      	color: tokens.$nhs-fdp-semantic-color-link-hover !important;
      	text-decoration-color: tokens.$nhs-fdp-semantic-color-link-hover;
		text-decoration: none;
    }
    
    &:active {
      color: tokens.$nhs-fdp-semantic-color-link-active !important;
      text-decoration-color: tokens.$nhs-fdp-semantic-color-link-active;
    }
    
    &:focus {
      outline: tokens.$nhs-fdp-focus-outline-width solid tokens.$nhs-fdp-semantic-color-focus-background;
      outline-offset: tokens.$nhs-fdp-focus-outline-offset;
      background-color: tokens.$nhs-fdp-semantic-color-focus-background;
      color: tokens.$nhs-fdp-semantic-color-focus-text !important;
      text-decoration: none;
    }
  }
}

.nhsuk-summary-list__actions {
  margin-bottom: tokens.$nhs-fdp-spacing-3;

  @media (min-width: tokens.$nhs-fdp-breakpoint-tablet) {
    text-align: right;
    width: 20%;
  }
}

.nhsuk-summary-list__actions-list {
  margin: 0;
  padding: 0;
  width: 100%;
}

.nhsuk-summary-list__actions-list-item {
  display: inline-block;
  
  @media (max-width: tokens.$nhs-fdp-breakpoint-tablet) {
    border-right: 1px solid tokens.$nhs-fdp-semantic-color-border-default;
    margin-right: tokens.$nhs-fdp-spacing-2;
    padding-right: tokens.$nhs-fdp-spacing-2;

    &:last-child {
      border: 0;
      margin-right: 0;
      padding-right: 0;
    }
  }

  @media (min-width: tokens.$nhs-fdp-breakpoint-tablet) {
    margin-left: tokens.$nhs-fdp-spacing-2;
    padding-left: tokens.$nhs-fdp-spacing-2;

    &:first-child {
      border: 0;
      margin-left: 0;
      padding-left: 0;
    }

    &:not(:first-child) {
      border-left: 1px solid tokens.$nhs-fdp-semantic-color-border-default;
    }
  }
  
  // Action link styling
  a {
    color: tokens.$nhs-fdp-semantic-color-link-default !important;
    text-decoration: underline;
    text-decoration-color: tokens.$nhs-fdp-semantic-color-link-default;
    
    &:link {
      color: tokens.$nhs-fdp-semantic-color-link-default !important;
      text-decoration-color: tokens.$nhs-fdp-semantic-color-link-default;
    }
    
    &:visited {
      color: tokens.$nhs-fdp-semantic-color-link-visited !important;
      text-decoration-color: tokens.$nhs-fdp-semantic-color-link-visited;
    }
    
    &:hover {
      color: tokens.$nhs-fdp-semantic-color-link-hover !important;
      text-decoration-color: tokens.$nhs-fdp-semantic-color-link-hover;
	  text-decoration: none;
    }
    
    &:active {
      color: tokens.$nhs-fdp-semantic-color-link-active !important;
      text-decoration-color: tokens.$nhs-fdp-semantic-color-link-active;
    }
    
    &:focus {
      outline: tokens.$nhs-fdp-focus-outline-width solid tokens.$nhs-fdp-semantic-color-focus-background;
      outline-offset: tokens.$nhs-fdp-focus-outline-offset;
      background-color: tokens.$nhs-fdp-semantic-color-focus-background;
      color: tokens.$nhs-fdp-semantic-color-focus-text !important;
      text-decoration: none;
    }
  }
}

// Large groups of action links may wrap onto multiple lines. Because the link
// focus styles are applied outside of the link's bounding box, there are
// situations where the focus style on a link can be overlapped by subsequent
// links. We don't want this, so let's create a new stacking context on focus
// so the link always appears to be 'on top'.
.nhsuk-summary-list__actions-list-item .nhsuk-link:focus {
  isolation: isolate;
}

// No border on specific rows
.nhsuk-summary-list__row--no-border {
  border: 0;

  // Increase padding by 1px to compensate for 'missing' border
  @media (min-width: tokens.$nhs-fdp-breakpoint-tablet) {
    .nhsuk-summary-list__key,
    .nhsuk-summary-list__value,
    .nhsuk-summary-list__actions {
      padding-bottom: calc(tokens.$nhs-fdp-spacing-2 + 1px);
    }
  }
}

// Print styles
@media print {
  .nhsuk-summary-list {
    font-size: tokens.$nhs-fdp-font-size-14-print;
    
    .nhsuk-summary-list__row {
      border-bottom-color: tokens.$nhs-fdp-semantic-color-text-primary;
      break-inside: avoid;
    }
    
    .nhsuk-summary-list__key,
    .nhsuk-summary-list__value {
      color: tokens.$nhs-fdp-semantic-color-text-primary;
    }
    
    .nhsuk-summary-list__actions {
      // Hide actions in print
      display: none;
    }
  }
}
