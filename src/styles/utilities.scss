@use 'sass:color';

// NHS FDP Design System - Utilities
// Common utility classes used across components
@use '../../packages/nhs-fdp/dist/scss/tokens' as tokens;

// Visually hidden utility - for screen reader only content
.nhsuk-u-visually-hidden {
  position: absolute !important;
  width: 1px !important;
  height: 1px !important;
  padding: 0 !important;
  margin: -1px !important;
  overflow: hidden !important;
  clip: rect(0, 0, 0, 0) !important;
  white-space: nowrap !important;
  border: 0 !important;
}

// High specificity version to ensure it overrides any conflicts
.nhsuk-header .nhsuk-u-visually-hidden,
.nhsuk-header__search .nhsuk-u-visually-hidden,
label.nhsuk-u-visually-hidden,
span.nhsuk-u-visually-hidden {
  position: absolute !important;
  width: 1px !important;
  height: 1px !important;
  padding: 0 !important;
  margin: -1px !important;
  overflow: hidden !important;
  clip: rect(0, 0, 0, 0) !important;
  -webkit-clip-path: inset(50%) !important;
  clip-path: inset(50%) !important;
  white-space: nowrap !important;
  border: 0 !important;
}

// Width container utility - for consistent max-width and padding
.nhsuk-width-container {
  margin: 0 auto;
  padding: 0 tokens.$nhs-fdp-spacing-4;
  max-width: tokens.$nhs-fdp-breakpoint-xlarge;

  @media (min-width: 768px) {
    padding: 0 tokens.$nhs-fdp-spacing-5;
  }

  @media (min-width: 1020px) {
    padding: 0 tokens.$nhs-fdp-spacing-6;
  }
}

// Clearfix utility
.nhsuk-u-clearfix {
  &::after {
    content: "";
    display: table;
    clear: both;
  }
}

// Text alignment utilities
.nhsuk-u-text-left {
  text-align: left !important;
}

.nhsuk-u-text-center {
  text-align: center !important;
}

.nhsuk-u-text-right {
  text-align: right !important;
}

// Display utilities
.nhsuk-u-hidden {
  display: none !important;
}

.nhsuk-u-show {
  display: block !important;
}

// Margin utilities
.nhsuk-u-margin-0 {
  margin: 0 !important;
}

.nhsuk-u-margin-bottom-0 {
  margin-bottom: 0 !important;
}

.nhsuk-u-margin-top-0 {
  margin-top: 0 !important;
}

// Icon utilities - Base icon styles for NHS FDP Design System
// This provides the single source of truth for icon sizing behavior
.nhsuk-icon {
  // Set width to auto to allow natural scaling based on SVG viewBox
  width: auto !important;
  // Height should be set by context-specific tokens or inherit from font-size
  height: 2em; // Default to current font size for inline icons
  // Ensure proper inline alignment
  vertical-align: text-bottom;
  // Flexbox friendly defaults
  flex-shrink: 0;
}

// Component-specific icon size overrides can use NHS FDP tokens:
// Examples:
// .component .nhsuk-icon { height: tokens.$nhs-fdp-component-guidance-icon-size; }
// .component .nhsuk-icon { height: tokens.$nhs-fdp-component-disclosure-icon-size; }

// Padding utilities
.nhsuk-u-padding-0 {
  padding: 0 !important;
}

.nhsuk-u-padding-bottom-0 {
  padding-bottom: 0 !important;
}

.nhsuk-u-padding-top-0 {
  padding-top: 0 !important;
}
