{
  "totalComponents": 229,
  "fullyCompatible": 207,
  "compatibleWithHydration": 5,
  "clientOnly": 1,
  "requiresRefactoring": 16,
  "components": [
    {
      "name": "Account",
      "filePath": "/Users/fergusbisset/Dropbox/Sites/nhs-fdp-design-system/src/components/Account/Account.tsx",
      "compatibilityLevel": "fully-compatible",
      "issues": [],
      "hasHooks": false,
      "usesBrowserAPIs": false,
      "usesDOM": false,
      "canBeServerSide": true,
      "refactoringNeeded": []
    },
    {
      "name": "Account.types",
      "filePath": "/Users/fergusbisset/Dropbox/Sites/nhs-fdp-design-system/src/components/Account/Account.types.ts",
      "compatibilityLevel": "fully-compatible",
      "issues": [],
      "hasHooks": false,
      "usesBrowserAPIs": false,
      "usesDOM": false,
      "canBeServerSide": true,
      "refactoringNeeded": []
    },
    {
      "name": "ActionLink",
      "filePath": "/Users/fergusbisset/Dropbox/Sites/nhs-fdp-design-system/src/components/ActionLink/ActionLink.tsx",
      "compatibilityLevel": "fully-compatible",
      "issues": [],
      "hasHooks": false,
      "usesBrowserAPIs": false,
      "usesDOM": false,
      "canBeServerSide": true,
      "refactoringNeeded": []
    },
    {
      "name": "ActionLink.types",
      "filePath": "/Users/fergusbisset/Dropbox/Sites/nhs-fdp-design-system/src/components/ActionLink/ActionLink.types.ts",
      "compatibilityLevel": "fully-compatible",
      "issues": [],
      "hasHooks": false,
      "usesBrowserAPIs": false,
      "usesDOM": false,
      "canBeServerSide": true,
      "refactoringNeeded": []
    },
    {
      "name": "BackLink",
      "filePath": "/Users/fergusbisset/Dropbox/Sites/nhs-fdp-design-system/src/components/BackLink/BackLink.tsx",
      "compatibilityLevel": "fully-compatible",
      "issues": [],
      "hasHooks": false,
      "usesBrowserAPIs": false,
      "usesDOM": false,
      "canBeServerSide": true,
      "refactoringNeeded": []
    },
    {
      "name": "BackLink.types",
      "filePath": "/Users/fergusbisset/Dropbox/Sites/nhs-fdp-design-system/src/components/BackLink/BackLink.types.ts",
      "compatibilityLevel": "fully-compatible",
      "issues": [],
      "hasHooks": false,
      "usesBrowserAPIs": false,
      "usesDOM": false,
      "canBeServerSide": true,
      "refactoringNeeded": []
    },
    {
      "name": "ForwardLink",
      "filePath": "/Users/fergusbisset/Dropbox/Sites/nhs-fdp-design-system/src/components/BackLink/ForwardLink.tsx",
      "compatibilityLevel": "fully-compatible",
      "issues": [],
      "hasHooks": false,
      "usesBrowserAPIs": false,
      "usesDOM": false,
      "canBeServerSide": true,
      "refactoringNeeded": []
    },
    {
      "name": "Breadcrumb",
      "filePath": "/Users/fergusbisset/Dropbox/Sites/nhs-fdp-design-system/src/components/Breadcrumb/Breadcrumb.tsx",
      "compatibilityLevel": "fully-compatible",
      "issues": [],
      "hasHooks": false,
      "usesBrowserAPIs": false,
      "usesDOM": false,
      "canBeServerSide": true,
      "refactoringNeeded": []
    },
    {
      "name": "Breadcrumb.types",
      "filePath": "/Users/fergusbisset/Dropbox/Sites/nhs-fdp-design-system/src/components/Breadcrumb/Breadcrumb.types.ts",
      "compatibilityLevel": "fully-compatible",
      "issues": [],
      "hasHooks": false,
      "usesBrowserAPIs": false,
      "usesDOM": false,
      "canBeServerSide": true,
      "refactoringNeeded": []
    },
    {
      "name": "Button.schema",
      "filePath": "/Users/fergusbisset/Dropbox/Sites/nhs-fdp-design-system/src/components/Button/Button.schema.ts",
      "compatibilityLevel": "fully-compatible",
      "issues": [],
      "hasHooks": false,
      "usesBrowserAPIs": false,
      "usesDOM": false,
      "canBeServerSide": true,
      "refactoringNeeded": []
    },
    {
      "name": "Button.server",
      "filePath": "/Users/fergusbisset/Dropbox/Sites/nhs-fdp-design-system/src/components/Button/Button.server.tsx",
      "compatibilityLevel": "fully-compatible",
      "issues": [],
      "hasHooks": false,
      "usesBrowserAPIs": false,
      "usesDOM": false,
      "canBeServerSide": true,
      "refactoringNeeded": []
    },
    {
      "name": "Button.test-types",
      "filePath": "/Users/fergusbisset/Dropbox/Sites/nhs-fdp-design-system/src/components/Button/Button.test-types.tsx",
      "compatibilityLevel": "fully-compatible",
      "issues": [],
      "hasHooks": false,
      "usesBrowserAPIs": false,
      "usesDOM": false,
      "canBeServerSide": true,
      "refactoringNeeded": []
    },
    {
      "name": "Button",
      "filePath": "/Users/fergusbisset/Dropbox/Sites/nhs-fdp-design-system/src/components/Button/Button.tsx",
      "compatibilityLevel": "compatible-with-hydration",
      "issues": [],
      "hasHooks": true,
      "usesBrowserAPIs": true,
      "usesDOM": false,
      "canBeServerSide": false,
      "refactoringNeeded": []
    },
    {
      "name": "Button.types",
      "filePath": "/Users/fergusbisset/Dropbox/Sites/nhs-fdp-design-system/src/components/Button/Button.types.ts",
      "compatibilityLevel": "fully-compatible",
      "issues": [],
      "hasHooks": false,
      "usesBrowserAPIs": false,
      "usesDOM": false,
      "canBeServerSide": true,
      "refactoringNeeded": []
    },
    {
      "name": "ButtonExamples",
      "filePath": "/Users/fergusbisset/Dropbox/Sites/nhs-fdp-design-system/src/components/Button/ButtonExamples.tsx",
      "compatibilityLevel": "fully-compatible",
      "issues": [],
      "hasHooks": false,
      "usesBrowserAPIs": false,
      "usesDOM": false,
      "canBeServerSide": true,
      "refactoringNeeded": []
    },
    {
      "name": "Card.types",
      "filePath": "/Users/fergusbisset/Dropbox/Sites/nhs-fdp-design-system/src/components/Card/Card.types.ts",
      "compatibilityLevel": "fully-compatible",
      "issues": [],
      "hasHooks": false,
      "usesBrowserAPIs": false,
      "usesDOM": false,
      "canBeServerSide": true,
      "refactoringNeeded": []
    },
    {
      "name": "CareCard.types",
      "filePath": "/Users/fergusbisset/Dropbox/Sites/nhs-fdp-design-system/src/components/CareCard/CareCard.types.ts",
      "compatibilityLevel": "fully-compatible",
      "issues": [],
      "hasHooks": false,
      "usesBrowserAPIs": false,
      "usesDOM": false,
      "canBeServerSide": true,
      "refactoringNeeded": []
    },
    {
      "name": "CharacterCount.schema",
      "filePath": "/Users/fergusbisset/Dropbox/Sites/nhs-fdp-design-system/src/components/CharacterCount/CharacterCount.schema.ts",
      "compatibilityLevel": "fully-compatible",
      "issues": [],
      "hasHooks": false,
      "usesBrowserAPIs": false,
      "usesDOM": false,
      "canBeServerSide": true,
      "refactoringNeeded": []
    },
    {
      "name": "CharacterCount",
      "filePath": "/Users/fergusbisset/Dropbox/Sites/nhs-fdp-design-system/src/components/CharacterCount/CharacterCount.tsx",
      "compatibilityLevel": "fully-compatible",
      "issues": [
        {
          "type": "useEffect",
          "line": 42,
          "code": "useEffect(() => {",
          "severity": "medium",
          "description": "useEffect runs only on client side",
          "suggestion": "Consider moving to useLayoutEffect for DOM measurements or add SSR guards",
          "canAutoFix": false
        }
      ],
      "hasHooks": true,
      "usesBrowserAPIs": false,
      "usesDOM": false,
      "canBeServerSide": true,
      "refactoringNeeded": []
    },
    {
      "name": "CharacterCount.types",
      "filePath": "/Users/fergusbisset/Dropbox/Sites/nhs-fdp-design-system/src/components/CharacterCount/CharacterCount.types.ts",
      "compatibilityLevel": "fully-compatible",
      "issues": [],
      "hasHooks": false,
      "usesBrowserAPIs": false,
      "usesDOM": false,
      "canBeServerSide": true,
      "refactoringNeeded": []
    },
    {
      "name": "Checkbox",
      "filePath": "/Users/fergusbisset/Dropbox/Sites/nhs-fdp-design-system/src/components/Checkbox/Checkbox.tsx",
      "compatibilityLevel": "fully-compatible",
      "issues": [
        {
          "type": "useEffect",
          "line": 56,
          "code": "useEffect(() => {",
          "severity": "medium",
          "description": "useEffect runs only on client side",
          "suggestion": "Consider moving to useLayoutEffect for DOM measurements or add SSR guards",
          "canAutoFix": false
        }
      ],
      "hasHooks": true,
      "usesBrowserAPIs": false,
      "usesDOM": false,
      "canBeServerSide": true,
      "refactoringNeeded": []
    },
    {
      "name": "Checkbox.types",
      "filePath": "/Users/fergusbisset/Dropbox/Sites/nhs-fdp-design-system/src/components/Checkbox/Checkbox.types.ts",
      "compatibilityLevel": "fully-compatible",
      "issues": [],
      "hasHooks": false,
      "usesBrowserAPIs": false,
      "usesDOM": false,
      "canBeServerSide": true,
      "refactoringNeeded": []
    },
    {
      "name": "Checkboxes.schema",
      "filePath": "/Users/fergusbisset/Dropbox/Sites/nhs-fdp-design-system/src/components/Checkboxes/Checkboxes.schema.ts",
      "compatibilityLevel": "fully-compatible",
      "issues": [],
      "hasHooks": false,
      "usesBrowserAPIs": false,
      "usesDOM": false,
      "canBeServerSide": true,
      "refactoringNeeded": []
    },
    {
      "name": "Checkboxes.server",
      "filePath": "/Users/fergusbisset/Dropbox/Sites/nhs-fdp-design-system/src/components/Checkboxes/Checkboxes.server.tsx",
      "compatibilityLevel": "fully-compatible",
      "issues": [],
      "hasHooks": false,
      "usesBrowserAPIs": false,
      "usesDOM": false,
      "canBeServerSide": true,
      "refactoringNeeded": []
    },
    {
      "name": "Checkboxes.styles",
      "filePath": "/Users/fergusbisset/Dropbox/Sites/nhs-fdp-design-system/src/components/Checkboxes/Checkboxes.styles.ts",
      "compatibilityLevel": "fully-compatible",
      "issues": [],
      "hasHooks": false,
      "usesBrowserAPIs": false,
      "usesDOM": false,
      "canBeServerSide": true,
      "refactoringNeeded": []
    },
    {
      "name": "Checkboxes",
      "filePath": "/Users/fergusbisset/Dropbox/Sites/nhs-fdp-design-system/src/components/Checkboxes/Checkboxes.tsx",
      "compatibilityLevel": "fully-compatible",
      "issues": [],
      "hasHooks": false,
      "usesBrowserAPIs": false,
      "usesDOM": false,
      "canBeServerSide": true,
      "refactoringNeeded": []
    },
    {
      "name": "Checkboxes.types",
      "filePath": "/Users/fergusbisset/Dropbox/Sites/nhs-fdp-design-system/src/components/Checkboxes/Checkboxes.types.ts",
      "compatibilityLevel": "fully-compatible",
      "issues": [],
      "hasHooks": false,
      "usesBrowserAPIs": false,
      "usesDOM": false,
      "canBeServerSide": true,
      "refactoringNeeded": []
    },
    {
      "name": "CheckboxesCSS",
      "filePath": "/Users/fergusbisset/Dropbox/Sites/nhs-fdp-design-system/src/components/Checkboxes/CheckboxesCSS.tsx",
      "compatibilityLevel": "fully-compatible",
      "issues": [],
      "hasHooks": false,
      "usesBrowserAPIs": false,
      "usesDOM": false,
      "canBeServerSide": true,
      "refactoringNeeded": []
    },
    {
      "name": "ContentsList",
      "filePath": "/Users/fergusbisset/Dropbox/Sites/nhs-fdp-design-system/src/components/ContentsList/ContentsList.tsx",
      "compatibilityLevel": "fully-compatible",
      "issues": [],
      "hasHooks": false,
      "usesBrowserAPIs": false,
      "usesDOM": false,
      "canBeServerSide": true,
      "refactoringNeeded": []
    },
    {
      "name": "ContentsList.types",
      "filePath": "/Users/fergusbisset/Dropbox/Sites/nhs-fdp-design-system/src/components/ContentsList/ContentsList.types.ts",
      "compatibilityLevel": "fully-compatible",
      "issues": [],
      "hasHooks": false,
      "usesBrowserAPIs": false,
      "usesDOM": false,
      "canBeServerSide": true,
      "refactoringNeeded": []
    },
    {
      "name": "DashboardSummaryGrid.types",
      "filePath": "/Users/fergusbisset/Dropbox/Sites/nhs-fdp-design-system/src/components/DashboardSummaryGrid/DashboardSummaryGrid.types.ts",
      "compatibilityLevel": "fully-compatible",
      "issues": [],
      "hasHooks": false,
      "usesBrowserAPIs": false,
      "usesDOM": false,
      "canBeServerSide": true,
      "refactoringNeeded": []
    },
    {
      "name": "FilterableLineChart",
      "filePath": "/Users/fergusbisset/Dropbox/Sites/nhs-fdp-design-system/src/components/DataVisualisation/FilterableLineChart.tsx",
      "compatibilityLevel": "fully-compatible",
      "issues": [],
      "hasHooks": true,
      "usesBrowserAPIs": false,
      "usesDOM": false,
      "canBeServerSide": true,
      "refactoringNeeded": []
    },
    {
      "name": "Axis",
      "filePath": "/Users/fergusbisset/Dropbox/Sites/nhs-fdp-design-system/src/components/DataVisualisation/charts/Axis/Axis.tsx",
      "compatibilityLevel": "fully-compatible",
      "issues": [],
      "hasHooks": true,
      "usesBrowserAPIs": false,
      "usesDOM": false,
      "canBeServerSide": true,
      "refactoringNeeded": []
    },
    {
      "name": "ChartContainer",
      "filePath": "/Users/fergusbisset/Dropbox/Sites/nhs-fdp-design-system/src/components/DataVisualisation/charts/ChartContainer.tsx",
      "compatibilityLevel": "fully-compatible",
      "issues": [],
      "hasHooks": true,
      "usesBrowserAPIs": false,
      "usesDOM": false,
      "canBeServerSide": true,
      "refactoringNeeded": []
    },
    {
      "name": "ChartEnhancer",
      "filePath": "/Users/fergusbisset/Dropbox/Sites/nhs-fdp-design-system/src/components/DataVisualisation/charts/ChartEnhancer/ChartEnhancer.tsx",
      "compatibilityLevel": "requires-refactoring",
      "issues": [
        {
          "type": "useEffect",
          "line": 33,
          "code": "React.useEffect(() => {",
          "severity": "medium",
          "description": "useEffect runs only on client side",
          "suggestion": "Consider moving to useLayoutEffect for DOM measurements or add SSR guards",
          "canAutoFix": false
        },
        {
          "type": "window-object",
          "line": 51,
          "code": "const t = window.setTimeout(apply, delay);",
          "severity": "blocking",
          "description": "Direct window object access",
          "suggestion": "Add typeof window !== \"undefined\" check or use in useEffect",
          "canAutoFix": true
        },
        {
          "type": "window-object",
          "line": 52,
          "code": "return () => window.clearTimeout(t);",
          "severity": "blocking",
          "description": "Direct window object access",
          "suggestion": "Add typeof window !== \"undefined\" check or use in useEffect",
          "canAutoFix": true
        }
      ],
      "hasHooks": true,
      "usesBrowserAPIs": true,
      "usesDOM": false,
      "canBeServerSide": false,
      "refactoringNeeded": [
        {
          "type": "add-ssr-guard",
          "description": "Add SSR guards for browser-only code",
          "automated": true,
          "complexity": "medium",
          "example": "\n// Before: window.innerWidth\n// After: typeof window !== 'undefined' ? window.innerWidth : 0"
        }
      ]
    },
    {
      "name": "ChartNoScript",
      "filePath": "/Users/fergusbisset/Dropbox/Sites/nhs-fdp-design-system/src/components/DataVisualisation/charts/ChartNoScript/ChartNoScript.tsx",
      "compatibilityLevel": "fully-compatible",
      "issues": [],
      "hasHooks": true,
      "usesBrowserAPIs": false,
      "usesDOM": false,
      "canBeServerSide": true,
      "refactoringNeeded": []
    },
    {
      "name": "ChartWithTableTabs",
      "filePath": "/Users/fergusbisset/Dropbox/Sites/nhs-fdp-design-system/src/components/DataVisualisation/charts/ChartWithTableTabs/ChartWithTableTabs.tsx",
      "compatibilityLevel": "requires-refactoring",
      "issues": [
        {
          "type": "document-object",
          "line": 145,
          "code": "const link = document.createElement(\"a\");",
          "severity": "blocking",
          "description": "Direct document object access",
          "suggestion": "Add typeof document !== \"undefined\" check or use in useEffect",
          "canAutoFix": true
        },
        {
          "type": "document-object",
          "line": 150,
          "code": "(typeof document !== 'undefined' ? (typeof document !== 'undefined' ? (typeof document !== 'undefined' ? document.body : null) : null) : null).appendChild(link);",
          "severity": "blocking",
          "description": "Direct document object access",
          "suggestion": "Add typeof document !== \"undefined\" check or use in useEffect",
          "canAutoFix": true
        },
        {
          "type": "document-object",
          "line": 152,
          "code": "(typeof document !== 'undefined' ? (typeof document !== 'undefined' ? (typeof document !== 'undefined' ? document.body : null) : null) : null).removeChild(link);",
          "severity": "blocking",
          "description": "Direct document object access",
          "suggestion": "Add typeof document !== \"undefined\" check or use in useEffect",
          "canAutoFix": true
        }
      ],
      "hasHooks": false,
      "usesBrowserAPIs": true,
      "usesDOM": false,
      "canBeServerSide": false,
      "refactoringNeeded": [
        {
          "type": "add-ssr-guard",
          "description": "Add SSR guards for browser-only code",
          "automated": true,
          "complexity": "medium",
          "example": "\n// Before: window.innerWidth\n// After: typeof window !== 'undefined' ? window.innerWidth : 0"
        }
      ]
    },
    {
      "name": "FilterableLineChart",
      "filePath": "/Users/fergusbisset/Dropbox/Sites/nhs-fdp-design-system/src/components/DataVisualisation/charts/FilterableLineChart/FilterableLineChart.tsx",
      "compatibilityLevel": "fully-compatible",
      "issues": [],
      "hasHooks": true,
      "usesBrowserAPIs": false,
      "usesDOM": false,
      "canBeServerSide": true,
      "refactoringNeeded": []
    },
    {
      "name": "GridLines",
      "filePath": "/Users/fergusbisset/Dropbox/Sites/nhs-fdp-design-system/src/components/DataVisualisation/charts/GridlLines/GridLines.tsx",
      "compatibilityLevel": "fully-compatible",
      "issues": [],
      "hasHooks": true,
      "usesBrowserAPIs": false,
      "usesDOM": false,
      "canBeServerSide": true,
      "refactoringNeeded": []
    },
    {
      "name": "LineChart",
      "filePath": "/Users/fergusbisset/Dropbox/Sites/nhs-fdp-design-system/src/components/DataVisualisation/charts/LineChart/LineChart.tsx",
      "compatibilityLevel": "fully-compatible",
      "issues": [],
      "hasHooks": true,
      "usesBrowserAPIs": false,
      "usesDOM": false,
      "canBeServerSide": true,
      "refactoringNeeded": []
    },
    {
      "name": "ED4hTrendGatingEmbeddedNoGateStory",
      "filePath": "/Users/fergusbisset/Dropbox/Sites/nhs-fdp-design-system/src/components/DataVisualisation/charts/SPC/SPCChart/ED4hTrendGatingEmbeddedNoGateStory.tsx",
      "compatibilityLevel": "fully-compatible",
      "issues": [],
      "hasHooks": false,
      "usesBrowserAPIs": false,
      "usesDOM": false,
      "canBeServerSide": true,
      "refactoringNeeded": []
    },
    {
      "name": "ED4hTrendGatingEmbeddedStory",
      "filePath": "/Users/fergusbisset/Dropbox/Sites/nhs-fdp-design-system/src/components/DataVisualisation/charts/SPC/SPCChart/ED4hTrendGatingEmbeddedStory.tsx",
      "compatibilityLevel": "fully-compatible",
      "issues": [],
      "hasHooks": false,
      "usesBrowserAPIs": false,
      "usesDOM": false,
      "canBeServerSide": true,
      "refactoringNeeded": []
    },
    {
      "name": "PrimeDirectionSummary",
      "filePath": "/Users/fergusbisset/Dropbox/Sites/nhs-fdp-design-system/src/components/DataVisualisation/charts/SPC/SPCChart/PrimeDirectionSummary.tsx",
      "compatibilityLevel": "fully-compatible",
      "issues": [],
      "hasHooks": false,
      "usesBrowserAPIs": false,
      "usesDOM": false,
      "canBeServerSide": true,
      "refactoringNeeded": []
    },
    {
      "name": "SPCChart.constants",
      "filePath": "/Users/fergusbisset/Dropbox/Sites/nhs-fdp-design-system/src/components/DataVisualisation/charts/SPC/SPCChart/SPCChart.constants.ts",
      "compatibilityLevel": "fully-compatible",
      "issues": [],
      "hasHooks": false,
      "usesBrowserAPIs": false,
      "usesDOM": false,
      "canBeServerSide": true,
      "refactoringNeeded": []
    },
    {
      "name": "SPCChart",
      "filePath": "/Users/fergusbisset/Dropbox/Sites/nhs-fdp-design-system/src/components/DataVisualisation/charts/SPC/SPCChart/SPCChart.tsx",
      "compatibilityLevel": "compatible-with-hydration",
      "issues": [
        {
          "type": "useEffect",
          "line": 316,
          "code": "React.useEffect(() => {",
          "severity": "medium",
          "description": "useEffect runs only on client side",
          "suggestion": "Consider moving to useLayoutEffect for DOM measurements or add SSR guards",
          "canAutoFix": false
        }
      ],
      "hasHooks": true,
      "usesBrowserAPIs": false,
      "usesDOM": true,
      "canBeServerSide": false,
      "refactoringNeeded": []
    },
    {
      "name": "SPCChart.types",
      "filePath": "/Users/fergusbisset/Dropbox/Sites/nhs-fdp-design-system/src/components/DataVisualisation/charts/SPC/SPCChart/SPCChart.types.ts",
      "compatibilityLevel": "fully-compatible",
      "issues": [],
      "hasHooks": false,
      "usesBrowserAPIs": false,
      "usesDOM": false,
      "canBeServerSide": true,
      "refactoringNeeded": []
    },
    {
      "name": "SPCChartEarlyWaitTimeExample",
      "filePath": "/Users/fergusbisset/Dropbox/Sites/nhs-fdp-design-system/src/components/DataVisualisation/charts/SPC/SPCChart/SPCChartEarlyWaitTimeExample.tsx",
      "compatibilityLevel": "fully-compatible",
      "issues": [],
      "hasHooks": false,
      "usesBrowserAPIs": false,
      "usesDOM": false,
      "canBeServerSide": true,
      "refactoringNeeded": []
    },
    {
      "name": "SPCChartIndividualsExample",
      "filePath": "/Users/fergusbisset/Dropbox/Sites/nhs-fdp-design-system/src/components/DataVisualisation/charts/SPC/SPCChart/SPCChartIndividualsExample.tsx",
      "compatibilityLevel": "fully-compatible",
      "issues": [],
      "hasHooks": false,
      "usesBrowserAPIs": false,
      "usesDOM": false,
      "canBeServerSide": true,
      "refactoringNeeded": []
    },
    {
      "name": "SPCChartPhasedBaselineExample",
      "filePath": "/Users/fergusbisset/Dropbox/Sites/nhs-fdp-design-system/src/components/DataVisualisation/charts/SPC/SPCChart/SPCChartPhasedBaselineExample.tsx",
      "compatibilityLevel": "fully-compatible",
      "issues": [],
      "hasHooks": false,
      "usesBrowserAPIs": false,
      "usesDOM": false,
      "canBeServerSide": true,
      "refactoringNeeded": []
    },
    {
      "name": "SPCChartRareEventExample",
      "filePath": "/Users/fergusbisset/Dropbox/Sites/nhs-fdp-design-system/src/components/DataVisualisation/charts/SPC/SPCChart/SPCChartRareEventExample.tsx",
      "compatibilityLevel": "fully-compatible",
      "issues": [],
      "hasHooks": false,
      "usesBrowserAPIs": false,
      "usesDOM": false,
      "canBeServerSide": true,
      "refactoringNeeded": []
    },
    {
      "name": "SPCChartStableWaitTimeExample",
      "filePath": "/Users/fergusbisset/Dropbox/Sites/nhs-fdp-design-system/src/components/DataVisualisation/charts/SPC/SPCChart/SPCChartStableWaitTimeExample.tsx",
      "compatibilityLevel": "fully-compatible",
      "issues": [],
      "hasHooks": false,
      "usesBrowserAPIs": false,
      "usesDOM": false,
      "canBeServerSide": true,
      "refactoringNeeded": []
    },
    {
      "name": "SPCChartWarningsPanelExample",
      "filePath": "/Users/fergusbisset/Dropbox/Sites/nhs-fdp-design-system/src/components/DataVisualisation/charts/SPC/SPCChart/SPCChartWarningsPanelExample.tsx",
      "compatibilityLevel": "fully-compatible",
      "issues": [],
      "hasHooks": false,
      "usesBrowserAPIs": false,
      "usesDOM": false,
      "canBeServerSide": true,
      "refactoringNeeded": []
    },
    {
      "name": "SPCSignalsInspector",
      "filePath": "/Users/fergusbisset/Dropbox/Sites/nhs-fdp-design-system/src/components/DataVisualisation/charts/SPC/SPCChart/SPCSignalsInspector.tsx",
      "compatibilityLevel": "fully-compatible",
      "issues": [
        {
          "type": "useEffect",
          "line": 64,
          "code": "React.useEffect(() => {",
          "severity": "medium",
          "description": "useEffect runs only on client side",
          "suggestion": "Consider moving to useLayoutEffect for DOM measurements or add SSR guards",
          "canAutoFix": false
        }
      ],
      "hasHooks": true,
      "usesBrowserAPIs": false,
      "usesDOM": false,
      "canBeServerSide": true,
      "refactoringNeeded": []
    },
    {
      "name": "SPCTooltipOverlay",
      "filePath": "/Users/fergusbisset/Dropbox/Sites/nhs-fdp-design-system/src/components/DataVisualisation/charts/SPC/SPCChart/SPCTooltipOverlay.tsx",
      "compatibilityLevel": "compatible-with-hydration",
      "issues": [
        {
          "type": "useEffect",
          "line": 65,
          "code": "React.useEffect(() => {",
          "severity": "medium",
          "description": "useEffect runs only on client side",
          "suggestion": "Consider moving to useLayoutEffect for DOM measurements or add SSR guards",
          "canAutoFix": false
        },
        {
          "type": "useEffect",
          "line": 96,
          "code": "React.useEffect(() => {",
          "severity": "medium",
          "description": "useEffect runs only on client side",
          "suggestion": "Consider moving to useLayoutEffect for DOM measurements or add SSR guards",
          "canAutoFix": false
        }
      ],
      "hasHooks": true,
      "usesBrowserAPIs": true,
      "usesDOM": false,
      "canBeServerSide": false,
      "refactoringNeeded": []
    },
    {
      "name": "TrendGatingEmbeddedComparison",
      "filePath": "/Users/fergusbisset/Dropbox/Sites/nhs-fdp-design-system/src/components/DataVisualisation/charts/SPC/SPCChart/TrendGatingEmbeddedComparison.tsx",
      "compatibilityLevel": "fully-compatible",
      "issues": [],
      "hasHooks": false,
      "usesBrowserAPIs": false,
      "usesDOM": false,
      "canBeServerSide": true,
      "refactoringNeeded": []
    },
    {
      "name": "TrendGatingEmbeddedHighNoGateStory",
      "filePath": "/Users/fergusbisset/Dropbox/Sites/nhs-fdp-design-system/src/components/DataVisualisation/charts/SPC/SPCChart/TrendGatingEmbeddedHighNoGateStory.tsx",
      "compatibilityLevel": "fully-compatible",
      "issues": [],
      "hasHooks": false,
      "usesBrowserAPIs": false,
      "usesDOM": false,
      "canBeServerSide": true,
      "refactoringNeeded": []
    },
    {
      "name": "TrendGatingEmbeddedHighStory",
      "filePath": "/Users/fergusbisset/Dropbox/Sites/nhs-fdp-design-system/src/components/DataVisualisation/charts/SPC/SPCChart/TrendGatingEmbeddedHighStory.tsx",
      "compatibilityLevel": "fully-compatible",
      "issues": [],
      "hasHooks": false,
      "usesBrowserAPIs": false,
      "usesDOM": false,
      "canBeServerSide": true,
      "refactoringNeeded": []
    },
    {
      "name": "SPCRuleClashExamples",
      "filePath": "/Users/fergusbisset/Dropbox/Sites/nhs-fdp-design-system/src/components/DataVisualisation/charts/SPC/SPCChart/logic/SPCRuleClashExamples.tsx",
      "compatibilityLevel": "fully-compatible",
      "issues": [],
      "hasHooks": false,
      "usesBrowserAPIs": false,
      "usesDOM": false,
      "canBeServerSide": true,
      "refactoringNeeded": []
    },
    {
      "name": "spc",
      "filePath": "/Users/fergusbisset/Dropbox/Sites/nhs-fdp-design-system/src/components/DataVisualisation/charts/SPC/SPCChart/logic/spc.ts",
      "compatibilityLevel": "requires-refactoring",
      "issues": [
        {
          "type": "window-object",
          "line": 399,
          "code": "// 2. For each candidate start, test shiftN consecutive points all above (or below) the global mean of previous window.",
          "severity": "blocking",
          "description": "Direct window object access",
          "suggestion": "Add typeof window !== \"undefined\" check or use in useEffect",
          "canAutoFix": true
        },
        {
          "type": "window-object",
          "line": 418,
          "code": "// Scan for first sustained favourable window after an initial stable window.",
          "severity": "blocking",
          "description": "Direct window object access",
          "suggestion": "Add typeof window !== \"undefined\" check or use in useEffect",
          "canAutoFix": true
        }
      ],
      "hasHooks": false,
      "usesBrowserAPIs": false,
      "usesDOM": false,
      "canBeServerSide": false,
      "refactoringNeeded": [
        {
          "type": "add-ssr-guard",
          "description": "Add SSR guards for browser-only code",
          "automated": true,
          "complexity": "medium",
          "example": "\n// Before: window.innerWidth\n// After: typeof window !== 'undefined' ? window.innerWidth : 0"
        }
      ]
    },
    {
      "name": "spcAssurance",
      "filePath": "/Users/fergusbisset/Dropbox/Sites/nhs-fdp-design-system/src/components/DataVisualisation/charts/SPC/SPCChart/logic/spcAssurance.ts",
      "compatibilityLevel": "fully-compatible",
      "issues": [],
      "hasHooks": false,
      "usesBrowserAPIs": false,
      "usesDOM": false,
      "canBeServerSide": true,
      "refactoringNeeded": []
    },
    {
      "name": "spcCandidates",
      "filePath": "/Users/fergusbisset/Dropbox/Sites/nhs-fdp-design-system/src/components/DataVisualisation/charts/SPC/SPCChart/logic/spcCandidates.ts",
      "compatibilityLevel": "fully-compatible",
      "issues": [],
      "hasHooks": false,
      "usesBrowserAPIs": false,
      "usesDOM": false,
      "canBeServerSide": true,
      "refactoringNeeded": []
    },
    {
      "name": "spcConstants",
      "filePath": "/Users/fergusbisset/Dropbox/Sites/nhs-fdp-design-system/src/components/DataVisualisation/charts/SPC/SPCChart/logic/spcConstants.ts",
      "compatibilityLevel": "fully-compatible",
      "issues": [],
      "hasHooks": false,
      "usesBrowserAPIs": false,
      "usesDOM": false,
      "canBeServerSide": true,
      "refactoringNeeded": []
    },
    {
      "name": "spcDescriptors",
      "filePath": "/Users/fergusbisset/Dropbox/Sites/nhs-fdp-design-system/src/components/DataVisualisation/charts/SPC/SPCChart/logic/spcDescriptors.ts",
      "compatibilityLevel": "fully-compatible",
      "issues": [],
      "hasHooks": false,
      "usesBrowserAPIs": false,
      "usesDOM": false,
      "canBeServerSide": true,
      "refactoringNeeded": []
    },
    {
      "name": "spcProvenance",
      "filePath": "/Users/fergusbisset/Dropbox/Sites/nhs-fdp-design-system/src/components/DataVisualisation/charts/SPC/SPCChart/logic/spcProvenance.ts",
      "compatibilityLevel": "fully-compatible",
      "issues": [],
      "hasHooks": false,
      "usesBrowserAPIs": false,
      "usesDOM": false,
      "canBeServerSide": true,
      "refactoringNeeded": []
    },
    {
      "name": "spcSqlCompat",
      "filePath": "/Users/fergusbisset/Dropbox/Sites/nhs-fdp-design-system/src/components/DataVisualisation/charts/SPC/SPCChart/logic/spcSqlCompat.ts",
      "compatibilityLevel": "fully-compatible",
      "issues": [],
      "hasHooks": false,
      "usesBrowserAPIs": false,
      "usesDOM": false,
      "canBeServerSide": true,
      "refactoringNeeded": []
    },
    {
      "name": "spcUtils",
      "filePath": "/Users/fergusbisset/Dropbox/Sites/nhs-fdp-design-system/src/components/DataVisualisation/charts/SPC/SPCChart/logic/spcUtils.ts",
      "compatibilityLevel": "fully-compatible",
      "issues": [],
      "hasHooks": false,
      "usesBrowserAPIs": false,
      "usesDOM": false,
      "canBeServerSide": true,
      "refactoringNeeded": []
    },
    {
      "name": "parsedDataset",
      "filePath": "/Users/fergusbisset/Dropbox/Sites/nhs-fdp-design-system/src/components/DataVisualisation/charts/SPC/SPCChart/test-data/parsedDataset.ts",
      "compatibilityLevel": "fully-compatible",
      "issues": [],
      "hasHooks": false,
      "usesBrowserAPIs": false,
      "usesDOM": false,
      "canBeServerSide": true,
      "refactoringNeeded": []
    },
    {
      "name": "spcTestCases",
      "filePath": "/Users/fergusbisset/Dropbox/Sites/nhs-fdp-design-system/src/components/DataVisualisation/charts/SPC/SPCChart/test-data/spcTestCases.ts",
      "compatibilityLevel": "requires-refactoring",
      "issues": [
        {
          "type": "document-object",
          "line": 2,
          "code": "* Structured SPC test/story definitions derived from the XmR testing specification document.",
          "severity": "blocking",
          "description": "Direct document object access",
          "suggestion": "Add typeof document !== \"undefined\" check or use in useEffect",
          "canAutoFix": true
        }
      ],
      "hasHooks": false,
      "usesBrowserAPIs": false,
      "usesDOM": false,
      "canBeServerSide": false,
      "refactoringNeeded": [
        {
          "type": "add-ssr-guard",
          "description": "Add SSR guards for browser-only code",
          "automated": true,
          "complexity": "medium",
          "example": "\n// Before: window.innerWidth\n// After: typeof window !== 'undefined' ? window.innerWidth : 0"
        }
      ]
    },
    {
      "name": "SPCAssuranceIcon",
      "filePath": "/Users/fergusbisset/Dropbox/Sites/nhs-fdp-design-system/src/components/DataVisualisation/charts/SPC/SPCIcons/SPCAssuranceIcon.tsx",
      "compatibilityLevel": "fully-compatible",
      "issues": [],
      "hasHooks": true,
      "usesBrowserAPIs": false,
      "usesDOM": false,
      "canBeServerSide": true,
      "refactoringNeeded": []
    },
    {
      "name": "SPCConstants",
      "filePath": "/Users/fergusbisset/Dropbox/Sites/nhs-fdp-design-system/src/components/DataVisualisation/charts/SPC/SPCIcons/SPCConstants.ts",
      "compatibilityLevel": "fully-compatible",
      "issues": [],
      "hasHooks": false,
      "usesBrowserAPIs": false,
      "usesDOM": false,
      "canBeServerSide": true,
      "refactoringNeeded": []
    },
    {
      "name": "SPCIcon",
      "filePath": "/Users/fergusbisset/Dropbox/Sites/nhs-fdp-design-system/src/components/DataVisualisation/charts/SPC/SPCIcons/SPCIcon.tsx",
      "compatibilityLevel": "fully-compatible",
      "issues": [],
      "hasHooks": true,
      "usesBrowserAPIs": false,
      "usesDOM": false,
      "canBeServerSide": true,
      "refactoringNeeded": []
    },
    {
      "name": "ShiftPolarityExamples",
      "filePath": "/Users/fergusbisset/Dropbox/Sites/nhs-fdp-design-system/src/components/DataVisualisation/charts/SPC/SPCIcons/examples/ShiftPolarityExamples.tsx",
      "compatibilityLevel": "fully-compatible",
      "issues": [],
      "hasHooks": false,
      "usesBrowserAPIs": false,
      "usesDOM": false,
      "canBeServerSide": true,
      "refactoringNeeded": []
    },
    {
      "name": "tokenUtils",
      "filePath": "/Users/fergusbisset/Dropbox/Sites/nhs-fdp-design-system/src/components/DataVisualisation/charts/SPC/SPCIcons/tokenUtils.ts",
      "compatibilityLevel": "fully-compatible",
      "issues": [],
      "hasHooks": false,
      "usesBrowserAPIs": false,
      "usesDOM": false,
      "canBeServerSide": true,
      "refactoringNeeded": []
    },
    {
      "name": "SPCSpark",
      "filePath": "/Users/fergusbisset/Dropbox/Sites/nhs-fdp-design-system/src/components/DataVisualisation/charts/SPC/SPCSpark/SPCSpark.tsx",
      "compatibilityLevel": "fully-compatible",
      "issues": [
        {
          "type": "useEffect",
          "line": 240,
          "code": "React.useEffect(() => {",
          "severity": "medium",
          "description": "useEffect runs only on client side",
          "suggestion": "Consider moving to useLayoutEffect for DOM measurements or add SSR guards",
          "canAutoFix": false
        }
      ],
      "hasHooks": true,
      "usesBrowserAPIs": false,
      "usesDOM": false,
      "canBeServerSide": true,
      "refactoringNeeded": []
    },
    {
      "name": "SPCSpark.types",
      "filePath": "/Users/fergusbisset/Dropbox/Sites/nhs-fdp-design-system/src/components/DataVisualisation/charts/SPC/SPCSpark/SPCSpark.types.ts",
      "compatibilityLevel": "requires-refactoring",
      "issues": [
        {
          "type": "window-object",
          "line": 32,
          "code": "/** Maximum number of points to render (thinning for performance). Classification still uses full window. */",
          "severity": "blocking",
          "description": "Direct window object access",
          "suggestion": "Add typeof window !== \"undefined\" check or use in useEffect",
          "canAutoFix": true
        }
      ],
      "hasHooks": false,
      "usesBrowserAPIs": false,
      "usesDOM": false,
      "canBeServerSide": false,
      "refactoringNeeded": [
        {
          "type": "add-ssr-guard",
          "description": "Add SSR guards for browser-only code",
          "automated": true,
          "complexity": "medium",
          "example": "\n// Before: window.innerWidth\n// After: typeof window !== 'undefined' ? window.innerWidth : 0"
        }
      ]
    },
    {
      "name": "icons",
      "filePath": "/Users/fergusbisset/Dropbox/Sites/nhs-fdp-design-system/src/components/DataVisualisation/charts/SPC/icons.ts",
      "compatibilityLevel": "fully-compatible",
      "issues": [],
      "hasHooks": false,
      "usesBrowserAPIs": false,
      "usesDOM": false,
      "canBeServerSide": true,
      "refactoringNeeded": []
    },
    {
      "name": "BandScalesProvider",
      "filePath": "/Users/fergusbisset/Dropbox/Sites/nhs-fdp-design-system/src/components/DataVisualisation/core/BandScalesProvider.tsx",
      "compatibilityLevel": "fully-compatible",
      "issues": [],
      "hasHooks": true,
      "usesBrowserAPIs": false,
      "usesDOM": false,
      "canBeServerSide": true,
      "refactoringNeeded": []
    },
    {
      "name": "ChartRoot",
      "filePath": "/Users/fergusbisset/Dropbox/Sites/nhs-fdp-design-system/src/components/DataVisualisation/core/ChartRoot.tsx",
      "compatibilityLevel": "fully-compatible",
      "issues": [],
      "hasHooks": true,
      "usesBrowserAPIs": false,
      "usesDOM": false,
      "canBeServerSide": true,
      "refactoringNeeded": []
    },
    {
      "name": "ScaleContext",
      "filePath": "/Users/fergusbisset/Dropbox/Sites/nhs-fdp-design-system/src/components/DataVisualisation/core/ScaleContext.tsx",
      "compatibilityLevel": "fully-compatible",
      "issues": [],
      "hasHooks": true,
      "usesBrowserAPIs": false,
      "usesDOM": false,
      "canBeServerSide": true,
      "refactoringNeeded": []
    },
    {
      "name": "TooltipContext",
      "filePath": "/Users/fergusbisset/Dropbox/Sites/nhs-fdp-design-system/src/components/DataVisualisation/core/TooltipContext.tsx",
      "compatibilityLevel": "fully-compatible",
      "issues": [
        {
          "type": "useEffect",
          "line": 113,
          "code": "React.useEffect(() => {",
          "severity": "medium",
          "description": "useEffect runs only on client side",
          "suggestion": "Consider moving to useLayoutEffect for DOM measurements or add SSR guards",
          "canAutoFix": false
        }
      ],
      "hasHooks": true,
      "usesBrowserAPIs": false,
      "usesDOM": false,
      "canBeServerSide": true,
      "refactoringNeeded": []
    },
    {
      "name": "VisibilityContext",
      "filePath": "/Users/fergusbisset/Dropbox/Sites/nhs-fdp-design-system/src/components/DataVisualisation/core/VisibilityContext.tsx",
      "compatibilityLevel": "fully-compatible",
      "issues": [],
      "hasHooks": true,
      "usesBrowserAPIs": false,
      "usesDOM": false,
      "canBeServerSide": true,
      "refactoringNeeded": []
    },
    {
      "name": "useChartDimensions",
      "filePath": "/Users/fergusbisset/Dropbox/Sites/nhs-fdp-design-system/src/components/DataVisualisation/hooks/useChartDimensions.ts",
      "compatibilityLevel": "client-only",
      "issues": [
        {
          "type": "useLayoutEffect",
          "line": 23,
          "code": "React.useLayoutEffect(() => {",
          "severity": "high",
          "description": "useLayoutEffect does not run during SSR",
          "suggestion": "Add SSR guard or use useEffect with proper fallbacks",
          "canAutoFix": true
        },
        {
          "type": "resize-observer",
          "line": 25,
          "code": "const ro = new ResizeObserver(entries => {",
          "severity": "high",
          "description": "ResizeObserver API usage",
          "suggestion": "Add feature detection and fallbacks",
          "canAutoFix": true
        }
      ],
      "hasHooks": true,
      "usesBrowserAPIs": false,
      "usesDOM": false,
      "canBeServerSide": false,
      "refactoringNeeded": [
        {
          "type": "wrap-use-client",
          "description": "Wrap component with \"use client\" directive",
          "automated": true,
          "complexity": "low",
          "example": "'use client';\n\nimport React from 'react';"
        }
      ]
    },
    {
      "name": "useFocusNav",
      "filePath": "/Users/fergusbisset/Dropbox/Sites/nhs-fdp-design-system/src/components/DataVisualisation/hooks/useFocusNav.ts",
      "compatibilityLevel": "requires-refactoring",
      "issues": [
        {
          "type": "useEffect",
          "line": 17,
          "code": "React.useEffect(() => {",
          "severity": "medium",
          "description": "useEffect runs only on client side",
          "suggestion": "Consider moving to useLayoutEffect for DOM measurements or add SSR guards",
          "canAutoFix": false
        },
        {
          "type": "window-object",
          "line": 19,
          "code": "window.addEventListener('keydown', onKey);",
          "severity": "blocking",
          "description": "Direct window object access",
          "suggestion": "Add typeof window !== \"undefined\" check or use in useEffect",
          "canAutoFix": true
        },
        {
          "type": "event-listener",
          "line": 19,
          "code": "window.addEventListener('keydown', onKey);",
          "severity": "medium",
          "description": "Event listener setup",
          "suggestion": "Move to useEffect hook",
          "canAutoFix": true
        },
        {
          "type": "window-object",
          "line": 20,
          "code": "return () => window.removeEventListener('keydown', onKey);",
          "severity": "blocking",
          "description": "Direct window object access",
          "suggestion": "Add typeof window !== \"undefined\" check or use in useEffect",
          "canAutoFix": true
        }
      ],
      "hasHooks": true,
      "usesBrowserAPIs": false,
      "usesDOM": false,
      "canBeServerSide": false,
      "refactoringNeeded": [
        {
          "type": "add-ssr-guard",
          "description": "Add SSR guards for browser-only code",
          "automated": true,
          "complexity": "medium",
          "example": "\n// Before: window.innerWidth\n// After: typeof window !== 'undefined' ? window.innerWidth : 0"
        }
      ]
    },
    {
      "name": "wizardEngine",
      "filePath": "/Users/fergusbisset/Dropbox/Sites/nhs-fdp-design-system/src/components/DataVisualisation/logic/wizardEngine.ts",
      "compatibilityLevel": "fully-compatible",
      "issues": [],
      "hasHooks": false,
      "usesBrowserAPIs": false,
      "usesDOM": false,
      "canBeServerSide": true,
      "refactoringNeeded": []
    },
    {
      "name": "wizardTypes",
      "filePath": "/Users/fergusbisset/Dropbox/Sites/nhs-fdp-design-system/src/components/DataVisualisation/logic/wizardTypes.ts",
      "compatibilityLevel": "fully-compatible",
      "issues": [],
      "hasHooks": false,
      "usesBrowserAPIs": false,
      "usesDOM": false,
      "canBeServerSide": true,
      "refactoringNeeded": []
    },
    {
      "name": "AlertMarkers",
      "filePath": "/Users/fergusbisset/Dropbox/Sites/nhs-fdp-design-system/src/components/DataVisualisation/primitives/AlertMarkers.tsx",
      "compatibilityLevel": "fully-compatible",
      "issues": [],
      "hasHooks": true,
      "usesBrowserAPIs": false,
      "usesDOM": false,
      "canBeServerSide": true,
      "refactoringNeeded": []
    },
    {
      "name": "TooltipOverlay",
      "filePath": "/Users/fergusbisset/Dropbox/Sites/nhs-fdp-design-system/src/components/DataVisualisation/primitives/TooltipOverlay.tsx",
      "compatibilityLevel": "fully-compatible",
      "issues": [],
      "hasHooks": true,
      "usesBrowserAPIs": false,
      "usesDOM": false,
      "canBeServerSide": true,
      "refactoringNeeded": []
    },
    {
      "name": "VisuallyHiddenLiveRegion",
      "filePath": "/Users/fergusbisset/Dropbox/Sites/nhs-fdp-design-system/src/components/DataVisualisation/primitives/VisuallyHiddenLiveRegion.tsx",
      "compatibilityLevel": "compatible-with-hydration",
      "issues": [
        {
          "type": "useEffect",
          "line": 14,
          "code": "React.useEffect(() => {",
          "severity": "medium",
          "description": "useEffect runs only on client side",
          "suggestion": "Consider moving to useLayoutEffect for DOM measurements or add SSR guards",
          "canAutoFix": false
        }
      ],
      "hasHooks": true,
      "usesBrowserAPIs": true,
      "usesDOM": false,
      "canBeServerSide": false,
      "refactoringNeeded": []
    },
    {
      "name": "AreaSeriesPrimitive",
      "filePath": "/Users/fergusbisset/Dropbox/Sites/nhs-fdp-design-system/src/components/DataVisualisation/series/AreaSeriesPrimitive.tsx",
      "compatibilityLevel": "fully-compatible",
      "issues": [
        {
          "type": "useEffect",
          "line": 67,
          "code": "React.useEffect(() => {",
          "severity": "medium",
          "description": "useEffect runs only on client side",
          "suggestion": "Consider moving to useLayoutEffect for DOM measurements or add SSR guards",
          "canAutoFix": false
        }
      ],
      "hasHooks": true,
      "usesBrowserAPIs": false,
      "usesDOM": false,
      "canBeServerSide": true,
      "refactoringNeeded": []
    },
    {
      "name": "BarSeriesPrimitive",
      "filePath": "/Users/fergusbisset/Dropbox/Sites/nhs-fdp-design-system/src/components/DataVisualisation/series/BarSeriesPrimitive.tsx",
      "compatibilityLevel": "fully-compatible",
      "issues": [
        {
          "type": "useEffect",
          "line": 112,
          "code": "React.useEffect(() => {",
          "severity": "medium",
          "description": "useEffect runs only on client side",
          "suggestion": "Consider moving to useLayoutEffect for DOM measurements or add SSR guards",
          "canAutoFix": false
        }
      ],
      "hasHooks": true,
      "usesBrowserAPIs": false,
      "usesDOM": false,
      "canBeServerSide": true,
      "refactoringNeeded": []
    },
    {
      "name": "LineSeriesPrimitive",
      "filePath": "/Users/fergusbisset/Dropbox/Sites/nhs-fdp-design-system/src/components/DataVisualisation/series/LineSeriesPrimitive.tsx",
      "compatibilityLevel": "fully-compatible",
      "issues": [
        {
          "type": "useEffect",
          "line": 74,
          "code": "React.useEffect(() => {",
          "severity": "medium",
          "description": "useEffect runs only on client side",
          "suggestion": "Consider moving to useLayoutEffect for DOM measurements or add SSR guards",
          "canAutoFix": false
        }
      ],
      "hasHooks": true,
      "usesBrowserAPIs": false,
      "usesDOM": false,
      "canBeServerSide": true,
      "refactoringNeeded": []
    },
    {
      "name": "deterministic",
      "filePath": "/Users/fergusbisset/Dropbox/Sites/nhs-fdp-design-system/src/components/DataVisualisation/stories/utils/deterministic.ts",
      "compatibilityLevel": "fully-compatible",
      "issues": [],
      "hasHooks": false,
      "usesBrowserAPIs": false,
      "usesDOM": false,
      "canBeServerSide": true,
      "refactoringNeeded": []
    },
    {
      "name": "colors",
      "filePath": "/Users/fergusbisset/Dropbox/Sites/nhs-fdp-design-system/src/components/DataVisualisation/utils/colors.ts",
      "compatibilityLevel": "fully-compatible",
      "issues": [],
      "hasHooks": false,
      "usesBrowserAPIs": false,
      "usesDOM": false,
      "canBeServerSide": true,
      "refactoringNeeded": []
    },
    {
      "name": "computeContinuousBarWidth",
      "filePath": "/Users/fergusbisset/Dropbox/Sites/nhs-fdp-design-system/src/components/DataVisualisation/utils/computeContinuousBarWidth.ts",
      "compatibilityLevel": "fully-compatible",
      "issues": [],
      "hasHooks": false,
      "usesBrowserAPIs": false,
      "usesDOM": false,
      "canBeServerSide": true,
      "refactoringNeeded": []
    },
    {
      "name": "patterns",
      "filePath": "/Users/fergusbisset/Dropbox/Sites/nhs-fdp-design-system/src/components/DataVisualisation/utils/patterns.ts",
      "compatibilityLevel": "requires-refactoring",
      "issues": [
        {
          "type": "document-object",
          "line": 125,
          "code": "export function injectPatterns(patterns: PatternDefinition[], root: HTMLElement | null = typeof document !== 'undefined' ? (typeof document !== 'undefined' ? (typeof document !== 'undefined' ? (typeof document !== 'undefined' ? (typeof document !== 'undefined' ? (typeof document !== 'undefined' ? (typeof document !== 'undefined' ? document.body : null) : null) : null) : null) : null) : null) : null) {",
          "severity": "blocking",
          "description": "Direct document object access",
          "suggestion": "Add typeof document !== \"undefined\" check or use in useEffect",
          "canAutoFix": true
        },
        {
          "type": "document-object",
          "line": 130,
          "code": "defs = document.createElementNS('http://www.w3.org/2000/svg', 'svg') as SVGSVGElement;",
          "severity": "blocking",
          "description": "Direct document object access",
          "suggestion": "Add typeof document !== \"undefined\" check or use in useEffect",
          "canAutoFix": true
        },
        {
          "type": "document-object",
          "line": 140,
          "code": "const frag = document.createElement('div');",
          "severity": "blocking",
          "description": "Direct document object access",
          "suggestion": "Add typeof document !== \"undefined\" check or use in useEffect",
          "canAutoFix": true
        }
      ],
      "hasHooks": false,
      "usesBrowserAPIs": false,
      "usesDOM": true,
      "canBeServerSide": false,
      "refactoringNeeded": [
        {
          "type": "add-ssr-guard",
          "description": "Add SSR guards for browser-only code",
          "automated": true,
          "complexity": "medium",
          "example": "\n// Before: window.innerWidth\n// After: typeof window !== 'undefined' ? window.innerWidth : 0"
        }
      ]
    },
    {
      "name": "scales",
      "filePath": "/Users/fergusbisset/Dropbox/Sites/nhs-fdp-design-system/src/components/DataVisualisation/utils/scales.ts",
      "compatibilityLevel": "fully-compatible",
      "issues": [],
      "hasHooks": false,
      "usesBrowserAPIs": false,
      "usesDOM": false,
      "canBeServerSide": true,
      "refactoringNeeded": []
    },
    {
      "name": "stack",
      "filePath": "/Users/fergusbisset/Dropbox/Sites/nhs-fdp-design-system/src/components/DataVisualisation/utils/stack.ts",
      "compatibilityLevel": "fully-compatible",
      "issues": [],
      "hasHooks": false,
      "usesBrowserAPIs": false,
      "usesDOM": false,
      "canBeServerSide": true,
      "refactoringNeeded": []
    },
    {
      "name": "ReviewAnswers",
      "filePath": "/Users/fergusbisset/Dropbox/Sites/nhs-fdp-design-system/src/components/DataVisualisation/wizard/ReviewAnswers.tsx",
      "compatibilityLevel": "fully-compatible",
      "issues": [],
      "hasHooks": false,
      "usesBrowserAPIs": false,
      "usesDOM": false,
      "canBeServerSide": true,
      "refactoringNeeded": []
    },
    {
      "name": "WizardProgress",
      "filePath": "/Users/fergusbisset/Dropbox/Sites/nhs-fdp-design-system/src/components/DataVisualisation/wizard/WizardProgress.tsx",
      "compatibilityLevel": "fully-compatible",
      "issues": [],
      "hasHooks": false,
      "usesBrowserAPIs": false,
      "usesDOM": false,
      "canBeServerSide": true,
      "refactoringNeeded": []
    },
    {
      "name": "DateInput.schema",
      "filePath": "/Users/fergusbisset/Dropbox/Sites/nhs-fdp-design-system/src/components/DateInput/DateInput.schema.ts",
      "compatibilityLevel": "fully-compatible",
      "issues": [],
      "hasHooks": false,
      "usesBrowserAPIs": false,
      "usesDOM": false,
      "canBeServerSide": true,
      "refactoringNeeded": []
    },
    {
      "name": "DateInput.server",
      "filePath": "/Users/fergusbisset/Dropbox/Sites/nhs-fdp-design-system/src/components/DateInput/DateInput.server.tsx",
      "compatibilityLevel": "fully-compatible",
      "issues": [],
      "hasHooks": false,
      "usesBrowserAPIs": false,
      "usesDOM": false,
      "canBeServerSide": true,
      "refactoringNeeded": []
    },
    {
      "name": "DateInput",
      "filePath": "/Users/fergusbisset/Dropbox/Sites/nhs-fdp-design-system/src/components/DateInput/DateInput.tsx",
      "compatibilityLevel": "fully-compatible",
      "issues": [],
      "hasHooks": true,
      "usesBrowserAPIs": false,
      "usesDOM": false,
      "canBeServerSide": true,
      "refactoringNeeded": []
    },
    {
      "name": "DateInput.types",
      "filePath": "/Users/fergusbisset/Dropbox/Sites/nhs-fdp-design-system/src/components/DateInput/DateInput.types.ts",
      "compatibilityLevel": "fully-compatible",
      "issues": [],
      "hasHooks": false,
      "usesBrowserAPIs": false,
      "usesDOM": false,
      "canBeServerSide": true,
      "refactoringNeeded": []
    },
    {
      "name": "Details.schema",
      "filePath": "/Users/fergusbisset/Dropbox/Sites/nhs-fdp-design-system/src/components/Details/Details.schema.ts",
      "compatibilityLevel": "fully-compatible",
      "issues": [],
      "hasHooks": false,
      "usesBrowserAPIs": false,
      "usesDOM": false,
      "canBeServerSide": true,
      "refactoringNeeded": []
    },
    {
      "name": "Details",
      "filePath": "/Users/fergusbisset/Dropbox/Sites/nhs-fdp-design-system/src/components/Details/Details.tsx",
      "compatibilityLevel": "fully-compatible",
      "issues": [],
      "hasHooks": false,
      "usesBrowserAPIs": false,
      "usesDOM": false,
      "canBeServerSide": true,
      "refactoringNeeded": []
    },
    {
      "name": "DoDontList",
      "filePath": "/Users/fergusbisset/Dropbox/Sites/nhs-fdp-design-system/src/components/DoDontList/DoDontList.tsx",
      "compatibilityLevel": "fully-compatible",
      "issues": [],
      "hasHooks": false,
      "usesBrowserAPIs": false,
      "usesDOM": false,
      "canBeServerSide": true,
      "refactoringNeeded": []
    },
    {
      "name": "ErrorMessage.schema",
      "filePath": "/Users/fergusbisset/Dropbox/Sites/nhs-fdp-design-system/src/components/ErrorMessage/ErrorMessage.schema.ts",
      "compatibilityLevel": "fully-compatible",
      "issues": [],
      "hasHooks": false,
      "usesBrowserAPIs": false,
      "usesDOM": false,
      "canBeServerSide": true,
      "refactoringNeeded": []
    },
    {
      "name": "ErrorMessage",
      "filePath": "/Users/fergusbisset/Dropbox/Sites/nhs-fdp-design-system/src/components/ErrorMessage/ErrorMessage.tsx",
      "compatibilityLevel": "fully-compatible",
      "issues": [],
      "hasHooks": false,
      "usesBrowserAPIs": false,
      "usesDOM": false,
      "canBeServerSide": true,
      "refactoringNeeded": []
    },
    {
      "name": "ErrorMessage.types",
      "filePath": "/Users/fergusbisset/Dropbox/Sites/nhs-fdp-design-system/src/components/ErrorMessage/ErrorMessage.types.ts",
      "compatibilityLevel": "fully-compatible",
      "issues": [],
      "hasHooks": false,
      "usesBrowserAPIs": false,
      "usesDOM": false,
      "canBeServerSide": true,
      "refactoringNeeded": []
    },
    {
      "name": "ErrorSummary.schema",
      "filePath": "/Users/fergusbisset/Dropbox/Sites/nhs-fdp-design-system/src/components/ErrorSummary/ErrorSummary.schema.ts",
      "compatibilityLevel": "fully-compatible",
      "issues": [],
      "hasHooks": false,
      "usesBrowserAPIs": false,
      "usesDOM": false,
      "canBeServerSide": true,
      "refactoringNeeded": []
    },
    {
      "name": "ErrorSummary.server",
      "filePath": "/Users/fergusbisset/Dropbox/Sites/nhs-fdp-design-system/src/components/ErrorSummary/ErrorSummary.server.tsx",
      "compatibilityLevel": "fully-compatible",
      "issues": [],
      "hasHooks": false,
      "usesBrowserAPIs": false,
      "usesDOM": false,
      "canBeServerSide": true,
      "refactoringNeeded": []
    },
    {
      "name": "ErrorSummary",
      "filePath": "/Users/fergusbisset/Dropbox/Sites/nhs-fdp-design-system/src/components/ErrorSummary/ErrorSummary.tsx",
      "compatibilityLevel": "fully-compatible",
      "issues": [
        {
          "type": "useEffect",
          "line": 19,
          "code": "useEffect(() => {",
          "severity": "medium",
          "description": "useEffect runs only on client side",
          "suggestion": "Consider moving to useLayoutEffect for DOM measurements or add SSR guards",
          "canAutoFix": false
        }
      ],
      "hasHooks": true,
      "usesBrowserAPIs": false,
      "usesDOM": false,
      "canBeServerSide": true,
      "refactoringNeeded": []
    },
    {
      "name": "ErrorSummary.types",
      "filePath": "/Users/fergusbisset/Dropbox/Sites/nhs-fdp-design-system/src/components/ErrorSummary/ErrorSummary.types.ts",
      "compatibilityLevel": "fully-compatible",
      "issues": [],
      "hasHooks": false,
      "usesBrowserAPIs": false,
      "usesDOM": false,
      "canBeServerSide": true,
      "refactoringNeeded": []
    },
    {
      "name": "Expander",
      "filePath": "/Users/fergusbisset/Dropbox/Sites/nhs-fdp-design-system/src/components/Expander/Expander.tsx",
      "compatibilityLevel": "fully-compatible",
      "issues": [],
      "hasHooks": false,
      "usesBrowserAPIs": false,
      "usesDOM": false,
      "canBeServerSide": true,
      "refactoringNeeded": []
    },
    {
      "name": "Fieldset.schema",
      "filePath": "/Users/fergusbisset/Dropbox/Sites/nhs-fdp-design-system/src/components/Fieldset/Fieldset.schema.ts",
      "compatibilityLevel": "fully-compatible",
      "issues": [],
      "hasHooks": false,
      "usesBrowserAPIs": false,
      "usesDOM": false,
      "canBeServerSide": true,
      "refactoringNeeded": []
    },
    {
      "name": "Fieldset",
      "filePath": "/Users/fergusbisset/Dropbox/Sites/nhs-fdp-design-system/src/components/Fieldset/Fieldset.tsx",
      "compatibilityLevel": "fully-compatible",
      "issues": [],
      "hasHooks": false,
      "usesBrowserAPIs": false,
      "usesDOM": false,
      "canBeServerSide": true,
      "refactoringNeeded": []
    },
    {
      "name": "Fieldset.types",
      "filePath": "/Users/fergusbisset/Dropbox/Sites/nhs-fdp-design-system/src/components/Fieldset/Fieldset.types.ts",
      "compatibilityLevel": "fully-compatible",
      "issues": [],
      "hasHooks": false,
      "usesBrowserAPIs": false,
      "usesDOM": false,
      "canBeServerSide": true,
      "refactoringNeeded": []
    },
    {
      "name": "FontDebugger",
      "filePath": "/Users/fergusbisset/Dropbox/Sites/nhs-fdp-design-system/src/components/FontDebugger.tsx",
      "compatibilityLevel": "requires-refactoring",
      "issues": [
        {
          "type": "useEffect",
          "line": 12,
          "code": "useEffect(() => {",
          "severity": "medium",
          "description": "useEffect runs only on client side",
          "suggestion": "Consider moving to useLayoutEffect for DOM measurements or add SSR guards",
          "canAutoFix": false
        },
        {
          "type": "document-object",
          "line": 17,
          "code": "const testElement = document.createElement('span');",
          "severity": "blocking",
          "description": "Direct document object access",
          "suggestion": "Add typeof document !== \"undefined\" check or use in useEffect",
          "canAutoFix": true
        },
        {
          "type": "document-object",
          "line": 22,
          "code": "document.body.appendChild(testElement);",
          "severity": "blocking",
          "description": "Direct document object access",
          "suggestion": "Add typeof document !== \"undefined\" check or use in useEffect",
          "canAutoFix": true
        },
        {
          "type": "document-object",
          "line": 28,
          "code": "document.body.removeChild(testElement);",
          "severity": "blocking",
          "description": "Direct document object access",
          "suggestion": "Add typeof document !== \"undefined\" check or use in useEffect",
          "canAutoFix": true
        },
        {
          "type": "useEffect",
          "line": 32,
          "code": "useEffect(() => {",
          "severity": "medium",
          "description": "useEffect runs only on client side",
          "suggestion": "Consider moving to useLayoutEffect for DOM measurements or add SSR guards",
          "canAutoFix": false
        }
      ],
      "hasHooks": true,
      "usesBrowserAPIs": true,
      "usesDOM": false,
      "canBeServerSide": false,
      "refactoringNeeded": [
        {
          "type": "add-ssr-guard",
          "description": "Add SSR guards for browser-only code",
          "automated": true,
          "complexity": "medium",
          "example": "\n// Before: window.innerWidth\n// After: typeof window !== 'undefined' ? window.innerWidth : 0"
        }
      ]
    },
    {
      "name": "Footer",
      "filePath": "/Users/fergusbisset/Dropbox/Sites/nhs-fdp-design-system/src/components/Footer/Footer.tsx",
      "compatibilityLevel": "fully-compatible",
      "issues": [],
      "hasHooks": false,
      "usesBrowserAPIs": false,
      "usesDOM": false,
      "canBeServerSide": true,
      "refactoringNeeded": []
    },
    {
      "name": "Footer.types",
      "filePath": "/Users/fergusbisset/Dropbox/Sites/nhs-fdp-design-system/src/components/Footer/Footer.types.ts",
      "compatibilityLevel": "fully-compatible",
      "issues": [],
      "hasHooks": false,
      "usesBrowserAPIs": false,
      "usesDOM": false,
      "canBeServerSide": true,
      "refactoringNeeded": []
    },
    {
      "name": "GanttChart-new",
      "filePath": "/Users/fergusbisset/Dropbox/Sites/nhs-fdp-design-system/src/components/GanttChart/GanttChart-new.tsx",
      "compatibilityLevel": "fully-compatible",
      "issues": [],
      "hasHooks": false,
      "usesBrowserAPIs": false,
      "usesDOM": false,
      "canBeServerSide": true,
      "refactoringNeeded": []
    },
    {
      "name": "GanttChart",
      "filePath": "/Users/fergusbisset/Dropbox/Sites/nhs-fdp-design-system/src/components/GanttChart/GanttChart.tsx",
      "compatibilityLevel": "requires-refactoring",
      "issues": [
        {
          "type": "document-object",
          "line": 88,
          "code": "const firstRowTimeline = (typeof document !== 'undefined' ? (typeof document !== 'undefined' ? (typeof document !== 'undefined' ? (typeof document !== 'undefined' ? (typeof document !== 'undefined' ? (typeof document !== 'undefined' ? (typeof document !== 'undefined' ? (typeof document !== 'undefined' ? (typeof document !== 'undefined' ? (typeof document !== 'undefined' ? (typeof document !== 'undefined' ? (typeof document !== 'undefined' ? (typeof document !== 'undefined' ? (typeof document !== 'undefined' ? (typeof document !== 'undefined' ? (typeof document !== 'undefined' ? document.querySelector('.gantt-row .timeline-container') : null) : null) : null) : null) : null) : null) : null) : null) : null) : null) : null) : null) : null) : null) : null) : null) as HTMLElement | null;",
          "severity": "blocking",
          "description": "Direct document object access",
          "suggestion": "Add typeof document !== \"undefined\" check or use in useEffect",
          "canAutoFix": true
        },
        {
          "type": "document-object",
          "line": 108,
          "code": "const firstRowResource = (typeof document !== 'undefined' ? (typeof document !== 'undefined' ? (typeof document !== 'undefined' ? (typeof document !== 'undefined' ? (typeof document !== 'undefined' ? (typeof document !== 'undefined' ? (typeof document !== 'undefined' ? (typeof document !== 'undefined' ? (typeof document !== 'undefined' ? (typeof document !== 'undefined' ? (typeof document !== 'undefined' ? (typeof document !== 'undefined' ? (typeof document !== 'undefined' ? (typeof document !== 'undefined' ? (typeof document !== 'undefined' ? (typeof document !== 'undefined' ? document.querySelector('.gantt-row .resource-label') : null) : null) : null) : null) : null) : null) : null) : null) : null) : null) : null) : null) : null) : null) : null) : null) as HTMLElement | null;",
          "severity": "blocking",
          "description": "Direct document object access",
          "suggestion": "Add typeof document !== \"undefined\" check or use in useEffect",
          "canAutoFix": true
        },
        {
          "type": "useEffect",
          "line": 211,
          "code": "useEffect(() => {",
          "severity": "medium",
          "description": "useEffect runs only on client side",
          "suggestion": "Consider moving to useLayoutEffect for DOM measurements or add SSR guards",
          "canAutoFix": false
        },
        {
          "type": "document-object",
          "line": 240,
          "code": "const headerTimeline = (typeof document !== 'undefined' ? (typeof document !== 'undefined' ? (typeof document !== 'undefined' ? (typeof document !== 'undefined' ? (typeof document !== 'undefined' ? (typeof document !== 'undefined' ? (typeof document !== 'undefined' ? (typeof document !== 'undefined' ? (typeof document !== 'undefined' ? (typeof document !== 'undefined' ? (typeof document !== 'undefined' ? (typeof document !== 'undefined' ? (typeof document !== 'undefined' ? (typeof document !== 'undefined' ? (typeof document !== 'undefined' ? (typeof document !== 'undefined' ? document.querySelector('.header-timeline') : null) : null) : null) : null) : null) : null) : null) : null) : null) : null) : null) : null) : null) : null) : null) : null) as HTMLElement | null;",
          "severity": "blocking",
          "description": "Direct document object access",
          "suggestion": "Add typeof document !== \"undefined\" check or use in useEffect",
          "canAutoFix": true
        },
        {
          "type": "document-object",
          "line": 245,
          "code": "const prevRow = (typeof document !== 'undefined' ? (typeof document !== 'undefined' ? (typeof document !== 'undefined' ? (typeof document !== 'undefined' ? (typeof document !== 'undefined' ? (typeof document !== 'undefined' ? (typeof document !== 'undefined' ? (typeof document !== 'undefined' ? (typeof document !== 'undefined' ? (typeof document !== 'undefined' ? (typeof document !== 'undefined' ? (typeof document !== 'undefined' ? (typeof document !== 'undefined' ? (typeof document !== 'undefined' ? (typeof document !== 'undefined' ? (typeof document !== 'undefined' ? document.querySelector(`[aria-rowindex=\"${rowIndex + 1}\"] .timeline-container`) : null) : null) : null) : null) : null) : null) : null) : null) : null) : null) : null) : null) : null) : null) : null) : null) as HTMLElement | null;",
          "severity": "blocking",
          "description": "Direct document object access",
          "suggestion": "Add typeof document !== \"undefined\" check or use in useEffect",
          "canAutoFix": true
        },
        {
          "type": "document-object",
          "line": 253,
          "code": "const nextRow = (typeof document !== 'undefined' ? (typeof document !== 'undefined' ? (typeof document !== 'undefined' ? (typeof document !== 'undefined' ? (typeof document !== 'undefined' ? (typeof document !== 'undefined' ? (typeof document !== 'undefined' ? (typeof document !== 'undefined' ? (typeof document !== 'undefined' ? (typeof document !== 'undefined' ? (typeof document !== 'undefined' ? (typeof document !== 'undefined' ? (typeof document !== 'undefined' ? (typeof document !== 'undefined' ? (typeof document !== 'undefined' ? (typeof document !== 'undefined' ? document.querySelector(`[aria-rowindex=\"${rowIndex + 3}\"] .timeline-container`) : null) : null) : null) : null) : null) : null) : null) : null) : null) : null) : null) : null) : null) : null) : null) : null) as HTMLElement | null;",
          "severity": "blocking",
          "description": "Direct document object access",
          "suggestion": "Add typeof document !== \"undefined\" check or use in useEffect",
          "canAutoFix": true
        },
        {
          "type": "document-object",
          "line": 317,
          "code": "const headerResource = (typeof document !== 'undefined' ? (typeof document !== 'undefined' ? (typeof document !== 'undefined' ? (typeof document !== 'undefined' ? (typeof document !== 'undefined' ? (typeof document !== 'undefined' ? (typeof document !== 'undefined' ? (typeof document !== 'undefined' ? (typeof document !== 'undefined' ? (typeof document !== 'undefined' ? (typeof document !== 'undefined' ? (typeof document !== 'undefined' ? (typeof document !== 'undefined' ? (typeof document !== 'undefined' ? (typeof document !== 'undefined' ? (typeof document !== 'undefined' ? document.querySelector('.header-resource') : null) : null) : null) : null) : null) : null) : null) : null) : null) : null) : null) : null) : null) : null) : null) : null) as HTMLElement | null;",
          "severity": "blocking",
          "description": "Direct document object access",
          "suggestion": "Add typeof document !== \"undefined\" check or use in useEffect",
          "canAutoFix": true
        },
        {
          "type": "document-object",
          "line": 322,
          "code": "const prevRow = (typeof document !== 'undefined' ? (typeof document !== 'undefined' ? (typeof document !== 'undefined' ? (typeof document !== 'undefined' ? (typeof document !== 'undefined' ? (typeof document !== 'undefined' ? (typeof document !== 'undefined' ? (typeof document !== 'undefined' ? (typeof document !== 'undefined' ? (typeof document !== 'undefined' ? (typeof document !== 'undefined' ? (typeof document !== 'undefined' ? (typeof document !== 'undefined' ? (typeof document !== 'undefined' ? (typeof document !== 'undefined' ? (typeof document !== 'undefined' ? document.querySelector(`[aria-rowindex=\"${rowIndex + 1}\"] .resource-label`) : null) : null) : null) : null) : null) : null) : null) : null) : null) : null) : null) : null) : null) : null) : null) : null) as HTMLElement | null;",
          "severity": "blocking",
          "description": "Direct document object access",
          "suggestion": "Add typeof document !== \"undefined\" check or use in useEffect",
          "canAutoFix": true
        },
        {
          "type": "document-object",
          "line": 330,
          "code": "const nextRow = (typeof document !== 'undefined' ? (typeof document !== 'undefined' ? (typeof document !== 'undefined' ? (typeof document !== 'undefined' ? (typeof document !== 'undefined' ? (typeof document !== 'undefined' ? (typeof document !== 'undefined' ? (typeof document !== 'undefined' ? (typeof document !== 'undefined' ? (typeof document !== 'undefined' ? (typeof document !== 'undefined' ? (typeof document !== 'undefined' ? (typeof document !== 'undefined' ? (typeof document !== 'undefined' ? (typeof document !== 'undefined' ? (typeof document !== 'undefined' ? document.querySelector(`[aria-rowindex=\"${rowIndex + 3}\"] .resource-label`) : null) : null) : null) : null) : null) : null) : null) : null) : null) : null) : null) : null) : null) : null) : null) : null) as HTMLElement | null;",
          "severity": "blocking",
          "description": "Direct document object access",
          "suggestion": "Add typeof document !== \"undefined\" check or use in useEffect",
          "canAutoFix": true
        },
        {
          "type": "useEffect",
          "line": 450,
          "code": "useEffect(() => {",
          "severity": "medium",
          "description": "useEffect runs only on client side",
          "suggestion": "Consider moving to useLayoutEffect for DOM measurements or add SSR guards",
          "canAutoFix": false
        },
        {
          "type": "resize-observer",
          "line": 453,
          "code": "// Some SSR environments may not have ResizeObserver",
          "severity": "high",
          "description": "ResizeObserver API usage",
          "suggestion": "Add feature detection and fallbacks",
          "canAutoFix": true
        },
        {
          "type": "resize-observer",
          "line": 454,
          "code": "const RO: typeof ResizeObserver | undefined = (typeof ResizeObserver !== 'undefined' ? ResizeObserver : undefined) as any;",
          "severity": "high",
          "description": "ResizeObserver API usage",
          "suggestion": "Add feature detection and fallbacks",
          "canAutoFix": true
        },
        {
          "type": "resize-observer",
          "line": 454,
          "code": "const RO: typeof ResizeObserver | undefined = (typeof ResizeObserver !== 'undefined' ? ResizeObserver : undefined) as any;",
          "severity": "high",
          "description": "ResizeObserver API usage",
          "suggestion": "Add feature detection and fallbacks",
          "canAutoFix": true
        },
        {
          "type": "resize-observer",
          "line": 454,
          "code": "const RO: typeof ResizeObserver | undefined = (typeof ResizeObserver !== 'undefined' ? ResizeObserver : undefined) as any;",
          "severity": "high",
          "description": "ResizeObserver API usage",
          "suggestion": "Add feature detection and fallbacks",
          "canAutoFix": true
        }
      ],
      "hasHooks": true,
      "usesBrowserAPIs": true,
      "usesDOM": true,
      "canBeServerSide": false,
      "refactoringNeeded": [
        {
          "type": "add-ssr-guard",
          "description": "Add SSR guards for browser-only code",
          "automated": true,
          "complexity": "medium",
          "example": "\n// Before: window.innerWidth\n// After: typeof window !== 'undefined' ? window.innerWidth : 0"
        },
        {
          "type": "dynamic-import",
          "description": "Consider lazy loading this component",
          "automated": false,
          "complexity": "medium",
          "example": "\nconst HeavyComponent = dynamic(() => import('./HeavyComponent'), {\n  ssr: false,\n  loading: () => <div>Loading...</div>\n});"
        }
      ]
    },
    {
      "name": "TaskBar-new",
      "filePath": "/Users/fergusbisset/Dropbox/Sites/nhs-fdp-design-system/src/components/GanttChart/TaskBar-new.tsx",
      "compatibilityLevel": "fully-compatible",
      "issues": [],
      "hasHooks": false,
      "usesBrowserAPIs": false,
      "usesDOM": false,
      "canBeServerSide": true,
      "refactoringNeeded": []
    },
    {
      "name": "TaskBar",
      "filePath": "/Users/fergusbisset/Dropbox/Sites/nhs-fdp-design-system/src/components/GanttChart/TaskBar.tsx",
      "compatibilityLevel": "fully-compatible",
      "issues": [],
      "hasHooks": true,
      "usesBrowserAPIs": false,
      "usesDOM": false,
      "canBeServerSide": true,
      "refactoringNeeded": []
    },
    {
      "name": "Grid.types",
      "filePath": "/Users/fergusbisset/Dropbox/Sites/nhs-fdp-design-system/src/components/Grid/Grid.types.ts",
      "compatibilityLevel": "fully-compatible",
      "issues": [],
      "hasHooks": false,
      "usesBrowserAPIs": false,
      "usesDOM": false,
      "canBeServerSide": true,
      "refactoringNeeded": []
    },
    {
      "name": "Header.render.server",
      "filePath": "/Users/fergusbisset/Dropbox/Sites/nhs-fdp-design-system/src/components/Header/Header.render.server.tsx",
      "compatibilityLevel": "fully-compatible",
      "issues": [],
      "hasHooks": false,
      "usesBrowserAPIs": false,
      "usesDOM": false,
      "canBeServerSide": true,
      "refactoringNeeded": []
    },
    {
      "name": "Header.render",
      "filePath": "/Users/fergusbisset/Dropbox/Sites/nhs-fdp-design-system/src/components/Header/Header.render.tsx",
      "compatibilityLevel": "fully-compatible",
      "issues": [],
      "hasHooks": false,
      "usesBrowserAPIs": false,
      "usesDOM": false,
      "canBeServerSide": true,
      "refactoringNeeded": []
    },
    {
      "name": "Header.server",
      "filePath": "/Users/fergusbisset/Dropbox/Sites/nhs-fdp-design-system/src/components/Header/Header.server.tsx",
      "compatibilityLevel": "fully-compatible",
      "issues": [],
      "hasHooks": false,
      "usesBrowserAPIs": false,
      "usesDOM": false,
      "canBeServerSide": true,
      "refactoringNeeded": []
    },
    {
      "name": "Header",
      "filePath": "/Users/fergusbisset/Dropbox/Sites/nhs-fdp-design-system/src/components/Header/Header.tsx",
      "compatibilityLevel": "requires-refactoring",
      "issues": [
        {
          "type": "useEffect",
          "line": 40,
          "code": "useEffect(() => {",
          "severity": "medium",
          "description": "useEffect runs only on client side",
          "suggestion": "Consider moving to useLayoutEffect for DOM measurements or add SSR guards",
          "canAutoFix": false
        },
        {
          "type": "useEffect",
          "line": 48,
          "code": "useEffect(() => {",
          "severity": "medium",
          "description": "useEffect runs only on client side",
          "suggestion": "Consider moving to useLayoutEffect for DOM measurements or add SSR guards",
          "canAutoFix": false
        },
        {
          "type": "document-object",
          "line": 59,
          "code": "document.addEventListener(\"keydown\", handleEscapeKey);",
          "severity": "blocking",
          "description": "Direct document object access",
          "suggestion": "Add typeof document !== \"undefined\" check or use in useEffect",
          "canAutoFix": true
        },
        {
          "type": "event-listener",
          "line": 59,
          "code": "document.addEventListener(\"keydown\", handleEscapeKey);",
          "severity": "medium",
          "description": "Event listener setup",
          "suggestion": "Move to useEffect hook",
          "canAutoFix": true
        },
        {
          "type": "document-object",
          "line": 60,
          "code": "return () => document.removeEventListener(\"keydown\", handleEscapeKey);",
          "severity": "blocking",
          "description": "Direct document object access",
          "suggestion": "Add typeof document !== \"undefined\" check or use in useEffect",
          "canAutoFix": true
        },
        {
          "type": "document-object",
          "line": 89,
          "code": "const proto = document.createElement(\"button\");",
          "severity": "blocking",
          "description": "Direct document object access",
          "suggestion": "Add typeof document !== \"undefined\" check or use in useEffect",
          "canAutoFix": true
        },
        {
          "type": "window-object",
          "line": 104,
          "code": "const style = window.getComputedStyle(container);",
          "severity": "blocking",
          "description": "Direct window object access",
          "suggestion": "Add typeof window !== \"undefined\" check or use in useEffect",
          "canAutoFix": true
        },
        {
          "type": "resize-observer",
          "line": 124,
          "code": "// Attach ResizeObserver to container for responsive recalculation",
          "severity": "high",
          "description": "ResizeObserver API usage",
          "suggestion": "Add feature detection and fallbacks",
          "canAutoFix": true
        },
        {
          "type": "useEffect",
          "line": 125,
          "code": "useEffect(() => {",
          "severity": "medium",
          "description": "useEffect runs only on client side",
          "suggestion": "Consider moving to useLayoutEffect for DOM measurements or add SSR guards",
          "canAutoFix": false
        },
        {
          "type": "window-object",
          "line": 133,
          "code": "frame = window.requestAnimationFrame(() => {",
          "severity": "blocking",
          "description": "Direct window object access",
          "suggestion": "Add typeof window !== \"undefined\" check or use in useEffect",
          "canAutoFix": true
        },
        {
          "type": "resize-observer",
          "line": 143,
          "code": "const ro = new ResizeObserver(() => schedule());",
          "severity": "high",
          "description": "ResizeObserver API usage",
          "suggestion": "Add feature detection and fallbacks",
          "canAutoFix": true
        },
        {
          "type": "window-object",
          "line": 150,
          "code": "if (frame != null) window.cancelAnimationFrame(frame);",
          "severity": "blocking",
          "description": "Direct window object access",
          "suggestion": "Add typeof window !== \"undefined\" check or use in useEffect",
          "canAutoFix": true
        },
        {
          "type": "useEffect",
          "line": 156,
          "code": "useEffect(() => {",
          "severity": "medium",
          "description": "useEffect runs only on client side",
          "suggestion": "Consider moving to useLayoutEffect for DOM measurements or add SSR guards",
          "canAutoFix": false
        }
      ],
      "hasHooks": true,
      "usesBrowserAPIs": true,
      "usesDOM": true,
      "canBeServerSide": false,
      "refactoringNeeded": [
        {
          "type": "add-ssr-guard",
          "description": "Add SSR guards for browser-only code",
          "automated": true,
          "complexity": "medium",
          "example": "\n// Before: window.innerWidth\n// After: typeof window !== 'undefined' ? window.innerWidth : 0"
        },
        {
          "type": "dynamic-import",
          "description": "Consider lazy loading this component",
          "automated": false,
          "complexity": "medium",
          "example": "\nconst HeavyComponent = dynamic(() => import('./HeavyComponent'), {\n  ssr: false,\n  loading: () => <div>Loading...</div>\n});"
        }
      ]
    },
    {
      "name": "Header.types",
      "filePath": "/Users/fergusbisset/Dropbox/Sites/nhs-fdp-design-system/src/components/Header/Header.types.ts",
      "compatibilityLevel": "fully-compatible",
      "issues": [],
      "hasHooks": false,
      "usesBrowserAPIs": false,
      "usesDOM": false,
      "canBeServerSide": true,
      "refactoringNeeded": []
    },
    {
      "name": "HeaderSearch",
      "filePath": "/Users/fergusbisset/Dropbox/Sites/nhs-fdp-design-system/src/components/HeaderSearch/HeaderSearch.tsx",
      "compatibilityLevel": "compatible-with-hydration",
      "issues": [
        {
          "type": "useEffect",
          "line": 144,
          "code": "useEffect(() => {",
          "severity": "medium",
          "description": "useEffect runs only on client side",
          "suggestion": "Consider moving to useLayoutEffect for DOM measurements or add SSR guards",
          "canAutoFix": false
        }
      ],
      "hasHooks": true,
      "usesBrowserAPIs": true,
      "usesDOM": false,
      "canBeServerSide": false,
      "refactoringNeeded": []
    },
    {
      "name": "HeaderSearch.types",
      "filePath": "/Users/fergusbisset/Dropbox/Sites/nhs-fdp-design-system/src/components/HeaderSearch/HeaderSearch.types.ts",
      "compatibilityLevel": "fully-compatible",
      "issues": [],
      "hasHooks": false,
      "usesBrowserAPIs": false,
      "usesDOM": false,
      "canBeServerSide": true,
      "refactoringNeeded": []
    },
    {
      "name": "Heading.schema",
      "filePath": "/Users/fergusbisset/Dropbox/Sites/nhs-fdp-design-system/src/components/Heading/Heading.schema.ts",
      "compatibilityLevel": "fully-compatible",
      "issues": [],
      "hasHooks": false,
      "usesBrowserAPIs": false,
      "usesDOM": false,
      "canBeServerSide": true,
      "refactoringNeeded": []
    },
    {
      "name": "Heading",
      "filePath": "/Users/fergusbisset/Dropbox/Sites/nhs-fdp-design-system/src/components/Heading/Heading.tsx",
      "compatibilityLevel": "fully-compatible",
      "issues": [],
      "hasHooks": false,
      "usesBrowserAPIs": false,
      "usesDOM": false,
      "canBeServerSide": true,
      "refactoringNeeded": []
    },
    {
      "name": "Heading.types",
      "filePath": "/Users/fergusbisset/Dropbox/Sites/nhs-fdp-design-system/src/components/Heading/Heading.types.ts",
      "compatibilityLevel": "fully-compatible",
      "issues": [],
      "hasHooks": false,
      "usesBrowserAPIs": false,
      "usesDOM": false,
      "canBeServerSide": true,
      "refactoringNeeded": []
    },
    {
      "name": "Hero",
      "filePath": "/Users/fergusbisset/Dropbox/Sites/nhs-fdp-design-system/src/components/Hero/Hero.tsx",
      "compatibilityLevel": "fully-compatible",
      "issues": [],
      "hasHooks": false,
      "usesBrowserAPIs": false,
      "usesDOM": false,
      "canBeServerSide": true,
      "refactoringNeeded": []
    },
    {
      "name": "Hero.types",
      "filePath": "/Users/fergusbisset/Dropbox/Sites/nhs-fdp-design-system/src/components/Hero/Hero.types.ts",
      "compatibilityLevel": "fully-compatible",
      "issues": [],
      "hasHooks": false,
      "usesBrowserAPIs": false,
      "usesDOM": false,
      "canBeServerSide": true,
      "refactoringNeeded": []
    },
    {
      "name": "Hint.schema",
      "filePath": "/Users/fergusbisset/Dropbox/Sites/nhs-fdp-design-system/src/components/Hint/Hint.schema.ts",
      "compatibilityLevel": "fully-compatible",
      "issues": [],
      "hasHooks": false,
      "usesBrowserAPIs": false,
      "usesDOM": false,
      "canBeServerSide": true,
      "refactoringNeeded": []
    },
    {
      "name": "Hint",
      "filePath": "/Users/fergusbisset/Dropbox/Sites/nhs-fdp-design-system/src/components/Hint/Hint.tsx",
      "compatibilityLevel": "fully-compatible",
      "issues": [],
      "hasHooks": false,
      "usesBrowserAPIs": false,
      "usesDOM": false,
      "canBeServerSide": true,
      "refactoringNeeded": []
    },
    {
      "name": "Hint.types",
      "filePath": "/Users/fergusbisset/Dropbox/Sites/nhs-fdp-design-system/src/components/Hint/Hint.types.ts",
      "compatibilityLevel": "fully-compatible",
      "issues": [],
      "hasHooks": false,
      "usesBrowserAPIs": false,
      "usesDOM": false,
      "canBeServerSide": true,
      "refactoringNeeded": []
    },
    {
      "name": "Images",
      "filePath": "/Users/fergusbisset/Dropbox/Sites/nhs-fdp-design-system/src/components/Images/Images.tsx",
      "compatibilityLevel": "fully-compatible",
      "issues": [],
      "hasHooks": false,
      "usesBrowserAPIs": false,
      "usesDOM": false,
      "canBeServerSide": true,
      "refactoringNeeded": []
    },
    {
      "name": "Input.schema",
      "filePath": "/Users/fergusbisset/Dropbox/Sites/nhs-fdp-design-system/src/components/Input/Input.schema.ts",
      "compatibilityLevel": "fully-compatible",
      "issues": [],
      "hasHooks": false,
      "usesBrowserAPIs": false,
      "usesDOM": false,
      "canBeServerSide": true,
      "refactoringNeeded": []
    },
    {
      "name": "Input.server",
      "filePath": "/Users/fergusbisset/Dropbox/Sites/nhs-fdp-design-system/src/components/Input/Input.server.tsx",
      "compatibilityLevel": "fully-compatible",
      "issues": [],
      "hasHooks": false,
      "usesBrowserAPIs": false,
      "usesDOM": false,
      "canBeServerSide": true,
      "refactoringNeeded": []
    },
    {
      "name": "Input",
      "filePath": "/Users/fergusbisset/Dropbox/Sites/nhs-fdp-design-system/src/components/Input/Input.tsx",
      "compatibilityLevel": "fully-compatible",
      "issues": [
        {
          "type": "useEffect",
          "line": 39,
          "code": "useEffect(() => {",
          "severity": "medium",
          "description": "useEffect runs only on client side",
          "suggestion": "Consider moving to useLayoutEffect for DOM measurements or add SSR guards",
          "canAutoFix": false
        }
      ],
      "hasHooks": true,
      "usesBrowserAPIs": false,
      "usesDOM": false,
      "canBeServerSide": true,
      "refactoringNeeded": []
    },
    {
      "name": "Input.types",
      "filePath": "/Users/fergusbisset/Dropbox/Sites/nhs-fdp-design-system/src/components/Input/Input.types.ts",
      "compatibilityLevel": "fully-compatible",
      "issues": [],
      "hasHooks": false,
      "usesBrowserAPIs": false,
      "usesDOM": false,
      "canBeServerSide": true,
      "refactoringNeeded": []
    },
    {
      "name": "InsetText.schema",
      "filePath": "/Users/fergusbisset/Dropbox/Sites/nhs-fdp-design-system/src/components/InsetText/InsetText.schema.ts",
      "compatibilityLevel": "fully-compatible",
      "issues": [],
      "hasHooks": false,
      "usesBrowserAPIs": false,
      "usesDOM": false,
      "canBeServerSide": true,
      "refactoringNeeded": []
    },
    {
      "name": "InsetText",
      "filePath": "/Users/fergusbisset/Dropbox/Sites/nhs-fdp-design-system/src/components/InsetText/InsetText.tsx",
      "compatibilityLevel": "fully-compatible",
      "issues": [],
      "hasHooks": false,
      "usesBrowserAPIs": false,
      "usesDOM": false,
      "canBeServerSide": true,
      "refactoringNeeded": []
    },
    {
      "name": "InsetText.types",
      "filePath": "/Users/fergusbisset/Dropbox/Sites/nhs-fdp-design-system/src/components/InsetText/InsetText.types.ts",
      "compatibilityLevel": "fully-compatible",
      "issues": [],
      "hasHooks": false,
      "usesBrowserAPIs": false,
      "usesDOM": false,
      "canBeServerSide": true,
      "refactoringNeeded": []
    },
    {
      "name": "Label.schema",
      "filePath": "/Users/fergusbisset/Dropbox/Sites/nhs-fdp-design-system/src/components/Label/Label.schema.ts",
      "compatibilityLevel": "fully-compatible",
      "issues": [],
      "hasHooks": false,
      "usesBrowserAPIs": false,
      "usesDOM": false,
      "canBeServerSide": true,
      "refactoringNeeded": []
    },
    {
      "name": "Label",
      "filePath": "/Users/fergusbisset/Dropbox/Sites/nhs-fdp-design-system/src/components/Label/Label.tsx",
      "compatibilityLevel": "fully-compatible",
      "issues": [],
      "hasHooks": false,
      "usesBrowserAPIs": false,
      "usesDOM": false,
      "canBeServerSide": true,
      "refactoringNeeded": []
    },
    {
      "name": "Label.types",
      "filePath": "/Users/fergusbisset/Dropbox/Sites/nhs-fdp-design-system/src/components/Label/Label.types.ts",
      "compatibilityLevel": "fully-compatible",
      "issues": [],
      "hasHooks": false,
      "usesBrowserAPIs": false,
      "usesDOM": false,
      "canBeServerSide": true,
      "refactoringNeeded": []
    },
    {
      "name": "List",
      "filePath": "/Users/fergusbisset/Dropbox/Sites/nhs-fdp-design-system/src/components/List/List.tsx",
      "compatibilityLevel": "fully-compatible",
      "issues": [],
      "hasHooks": false,
      "usesBrowserAPIs": false,
      "usesDOM": false,
      "canBeServerSide": true,
      "refactoringNeeded": []
    },
    {
      "name": "List.types",
      "filePath": "/Users/fergusbisset/Dropbox/Sites/nhs-fdp-design-system/src/components/List/List.types.ts",
      "compatibilityLevel": "fully-compatible",
      "issues": [],
      "hasHooks": false,
      "usesBrowserAPIs": false,
      "usesDOM": false,
      "canBeServerSide": true,
      "refactoringNeeded": []
    },
    {
      "name": "MainWrapper",
      "filePath": "/Users/fergusbisset/Dropbox/Sites/nhs-fdp-design-system/src/components/MainWrapper/MainWrapper.tsx",
      "compatibilityLevel": "fully-compatible",
      "issues": [],
      "hasHooks": false,
      "usesBrowserAPIs": false,
      "usesDOM": false,
      "canBeServerSide": true,
      "refactoringNeeded": []
    },
    {
      "name": "MainWrapper.types",
      "filePath": "/Users/fergusbisset/Dropbox/Sites/nhs-fdp-design-system/src/components/MainWrapper/MainWrapper.types.ts",
      "compatibilityLevel": "fully-compatible",
      "issues": [],
      "hasHooks": false,
      "usesBrowserAPIs": false,
      "usesDOM": false,
      "canBeServerSide": true,
      "refactoringNeeded": []
    },
    {
      "name": "NHSThemeProvider",
      "filePath": "/Users/fergusbisset/Dropbox/Sites/nhs-fdp-design-system/src/components/NHSThemeProvider.tsx",
      "compatibilityLevel": "fully-compatible",
      "issues": [
        {
          "type": "useEffect",
          "line": 16,
          "code": "useEffect(() => {",
          "severity": "medium",
          "description": "useEffect runs only on client side",
          "suggestion": "Consider moving to useLayoutEffect for DOM measurements or add SSR guards",
          "canAutoFix": false
        }
      ],
      "hasHooks": true,
      "usesBrowserAPIs": false,
      "usesDOM": false,
      "canBeServerSide": true,
      "refactoringNeeded": []
    },
    {
      "name": "NavigationSplitView",
      "filePath": "/Users/fergusbisset/Dropbox/Sites/nhs-fdp-design-system/src/components/NavigationSplitView/NavigationSplitView.tsx",
      "compatibilityLevel": "requires-refactoring",
      "issues": [
        {
          "type": "useEffect",
          "line": 106,
          "code": "React.useEffect(() => {",
          "severity": "medium",
          "description": "useEffect runs only on client side",
          "suggestion": "Consider moving to useLayoutEffect for DOM measurements or add SSR guards",
          "canAutoFix": false
        },
        {
          "type": "useEffect",
          "line": 154,
          "code": "React.useEffect(() => {",
          "severity": "medium",
          "description": "useEffect runs only on client side",
          "suggestion": "Consider moving to useLayoutEffect for DOM measurements or add SSR guards",
          "canAutoFix": false
        },
        {
          "type": "document-object",
          "line": 220,
          "code": "if (document.activeElement !== targetElement) {",
          "severity": "blocking",
          "description": "Direct document object access",
          "suggestion": "Add typeof document !== \"undefined\" check or use in useEffect",
          "canAutoFix": true
        },
        {
          "type": "document-object",
          "line": 225,
          "code": "if (document.activeElement !== targetElement) {",
          "severity": "blocking",
          "description": "Direct document object access",
          "suggestion": "Add typeof document !== \"undefined\" check or use in useEffect",
          "canAutoFix": true
        },
        {
          "type": "event-listener",
          "line": 255,
          "code": "targetElement.addEventListener(\"keydown\", handleChildEscape);",
          "severity": "medium",
          "description": "Event listener setup",
          "suggestion": "Move to useEffect hook",
          "canAutoFix": true
        },
        {
          "type": "document-object",
          "line": 272,
          "code": "if (document.activeElement !== targetElement) {",
          "severity": "blocking",
          "description": "Direct document object access",
          "suggestion": "Add typeof document !== \"undefined\" check or use in useEffect",
          "canAutoFix": true
        },
        {
          "type": "document-object",
          "line": 275,
          "code": "if (document.activeElement !== targetElement) {",
          "severity": "blocking",
          "description": "Direct document object access",
          "suggestion": "Add typeof document !== \"undefined\" check or use in useEffect",
          "canAutoFix": true
        },
        {
          "type": "event-listener",
          "line": 298,
          "code": "targetElement.addEventListener(\"keydown\", handleChildEscape);",
          "severity": "medium",
          "description": "Event listener setup",
          "suggestion": "Move to useEffect hook",
          "canAutoFix": true
        },
        {
          "type": "useEffect",
          "line": 638,
          "code": "React.useEffect(() => {",
          "severity": "medium",
          "description": "useEffect runs only on client side",
          "suggestion": "Consider moving to useLayoutEffect for DOM measurements or add SSR guards",
          "canAutoFix": false
        },
        {
          "type": "useEffect",
          "line": 643,
          "code": "React.useEffect(() => {",
          "severity": "medium",
          "description": "useEffect runs only on client side",
          "suggestion": "Consider moving to useLayoutEffect for DOM measurements or add SSR guards",
          "canAutoFix": false
        },
        {
          "type": "useEffect",
          "line": 656,
          "code": "React.useEffect(() => {",
          "severity": "medium",
          "description": "useEffect runs only on client side",
          "suggestion": "Consider moving to useLayoutEffect for DOM measurements or add SSR guards",
          "canAutoFix": false
        },
        {
          "type": "useEffect",
          "line": 798,
          "code": "React.useEffect(() => {",
          "severity": "medium",
          "description": "useEffect runs only on client side",
          "suggestion": "Consider moving to useLayoutEffect for DOM measurements or add SSR guards",
          "canAutoFix": false
        },
        {
          "type": "useEffect",
          "line": 820,
          "code": "React.useEffect(() => {",
          "severity": "medium",
          "description": "useEffect runs only on client side",
          "suggestion": "Consider moving to useLayoutEffect for DOM measurements or add SSR guards",
          "canAutoFix": false
        },
        {
          "type": "window-object",
          "line": 823,
          "code": "const sp = new URLSearchParams(window.location.search);",
          "severity": "blocking",
          "description": "Direct window object access",
          "suggestion": "Add typeof window !== \"undefined\" check or use in useEffect",
          "canAutoFix": true
        },
        {
          "type": "window-object",
          "line": 832,
          "code": "window.addEventListener(\"popstate\", handler);",
          "severity": "blocking",
          "description": "Direct window object access",
          "suggestion": "Add typeof window !== \"undefined\" check or use in useEffect",
          "canAutoFix": true
        },
        {
          "type": "event-listener",
          "line": 832,
          "code": "window.addEventListener(\"popstate\", handler);",
          "severity": "medium",
          "description": "Event listener setup",
          "suggestion": "Move to useEffect hook",
          "canAutoFix": true
        },
        {
          "type": "window-object",
          "line": 833,
          "code": "return () => window.removeEventListener(\"popstate\", handler);",
          "severity": "blocking",
          "description": "Direct window object access",
          "suggestion": "Add typeof window !== \"undefined\" check or use in useEffect",
          "canAutoFix": true
        },
        {
          "type": "useEffect",
          "line": 858,
          "code": "React.useEffect(() => {",
          "severity": "medium",
          "description": "useEffect runs only on client side",
          "suggestion": "Consider moving to useLayoutEffect for DOM measurements or add SSR guards",
          "canAutoFix": false
        },
        {
          "type": "useEffect",
          "line": 872,
          "code": "React.useEffect(() => {",
          "severity": "medium",
          "description": "useEffect runs only on client side",
          "suggestion": "Consider moving to useLayoutEffect for DOM measurements or add SSR guards",
          "canAutoFix": false
        },
        {
          "type": "document-object",
          "line": 881,
          "code": "if (document.activeElement !== node) {",
          "severity": "blocking",
          "description": "Direct document object access",
          "suggestion": "Add typeof document !== \"undefined\" check or use in useEffect",
          "canAutoFix": true
        },
        {
          "type": "localStorage",
          "line": 991,
          "code": "// Collapsed state initialisation with persistence sources (URL overrides localStorage overrides prop)",
          "severity": "blocking",
          "description": "localStorage is not available during SSR",
          "suggestion": "Add browser check or use a library like use-local-storage-state",
          "canAutoFix": true
        },
        {
          "type": "window-object",
          "line": 998,
          "code": "const sp = new URLSearchParams(window.location.search);",
          "severity": "blocking",
          "description": "Direct window object access",
          "suggestion": "Add typeof window !== \"undefined\" check or use in useEffect",
          "canAutoFix": true
        },
        {
          "type": "localStorage",
          "line": 1005,
          "code": "(persistNavCollapsed === \"localStorage\" ||",
          "severity": "blocking",
          "description": "localStorage is not available during SSR",
          "suggestion": "Add browser check or use a library like use-local-storage-state",
          "canAutoFix": true
        },
        {
          "type": "window-object",
          "line": 1010,
          "code": "const raw = window.localStorage.getItem(navCollapsedStorageKey);",
          "severity": "blocking",
          "description": "Direct window object access",
          "suggestion": "Add typeof window !== \"undefined\" check or use in useEffect",
          "canAutoFix": true
        },
        {
          "type": "localStorage",
          "line": 1010,
          "code": "const raw = window.localStorage.getItem(navCollapsedStorageKey);",
          "severity": "blocking",
          "description": "localStorage is not available during SSR",
          "suggestion": "Add browser check or use a library like use-local-storage-state",
          "canAutoFix": true
        },
        {
          "type": "useEffect",
          "line": 1023,
          "code": "React.useEffect(() => {",
          "severity": "medium",
          "description": "useEffect runs only on client side",
          "suggestion": "Consider moving to useLayoutEffect for DOM measurements or add SSR guards",
          "canAutoFix": false
        },
        {
          "type": "useEffect",
          "line": 1031,
          "code": "React.useEffect(() => {",
          "severity": "medium",
          "description": "useEffect runs only on client side",
          "suggestion": "Consider moving to useLayoutEffect for DOM measurements or add SSR guards",
          "canAutoFix": false
        },
        {
          "type": "localStorage",
          "line": 1035,
          "code": "persistNavCollapsed === \"localStorage\" ||",
          "severity": "blocking",
          "description": "localStorage is not available during SSR",
          "suggestion": "Add browser check or use a library like use-local-storage-state",
          "canAutoFix": true
        },
        {
          "type": "window-object",
          "line": 1039,
          "code": "window.localStorage.setItem(",
          "severity": "blocking",
          "description": "Direct window object access",
          "suggestion": "Add typeof window !== \"undefined\" check or use in useEffect",
          "canAutoFix": true
        },
        {
          "type": "localStorage",
          "line": 1039,
          "code": "window.localStorage.setItem(",
          "severity": "blocking",
          "description": "localStorage is not available during SSR",
          "suggestion": "Add browser check or use a library like use-local-storage-state",
          "canAutoFix": true
        },
        {
          "type": "window-object",
          "line": 1046,
          "code": "const sp = new URLSearchParams(window.location.search);",
          "severity": "blocking",
          "description": "Direct window object access",
          "suggestion": "Add typeof window !== \"undefined\" check or use in useEffect",
          "canAutoFix": true
        },
        {
          "type": "window-object",
          "line": 1048,
          "code": "const newUrl = `${window.location.pathname}?${sp.toString()}${window.location.hash}`;",
          "severity": "blocking",
          "description": "Direct window object access",
          "suggestion": "Add typeof window !== \"undefined\" check or use in useEffect",
          "canAutoFix": true
        },
        {
          "type": "window-object",
          "line": 1048,
          "code": "const newUrl = `${window.location.pathname}?${sp.toString()}${window.location.hash}`;",
          "severity": "blocking",
          "description": "Direct window object access",
          "suggestion": "Add typeof window !== \"undefined\" check or use in useEffect",
          "canAutoFix": true
        },
        {
          "type": "window-object",
          "line": 1049,
          "code": "window.history.replaceState(null, \"\", newUrl);",
          "severity": "blocking",
          "description": "Direct window object access",
          "suggestion": "Add typeof window !== \"undefined\" check or use in useEffect",
          "canAutoFix": true
        },
        {
          "type": "useEffect",
          "line": 1075,
          "code": "React.useEffect(() => {",
          "severity": "medium",
          "description": "useEffect runs only on client side",
          "suggestion": "Consider moving to useLayoutEffect for DOM measurements or add SSR guards",
          "canAutoFix": false
        },
        {
          "type": "useEffect",
          "line": 1086,
          "code": "React.useEffect(() => {",
          "severity": "medium",
          "description": "useEffect runs only on client side",
          "suggestion": "Consider moving to useLayoutEffect for DOM measurements or add SSR guards",
          "canAutoFix": false
        },
        {
          "type": "useEffect",
          "line": 1099,
          "code": "React.useEffect(() => {",
          "severity": "medium",
          "description": "useEffect runs only on client side",
          "suggestion": "Consider moving to useLayoutEffect for DOM measurements or add SSR guards",
          "canAutoFix": false
        },
        {
          "type": "useEffect",
          "line": 1103,
          "code": "React.useEffect(() => {",
          "severity": "medium",
          "description": "useEffect runs only on client side",
          "suggestion": "Consider moving to useLayoutEffect for DOM measurements or add SSR guards",
          "canAutoFix": false
        }
      ],
      "hasHooks": true,
      "usesBrowserAPIs": true,
      "usesDOM": false,
      "canBeServerSide": false,
      "refactoringNeeded": [
        {
          "type": "add-ssr-guard",
          "description": "Add SSR guards for browser-only code",
          "automated": true,
          "complexity": "medium",
          "example": "\n// Before: window.innerWidth\n// After: typeof window !== 'undefined' ? window.innerWidth : 0"
        },
        {
          "type": "dynamic-import",
          "description": "Consider lazy loading this component",
          "automated": false,
          "complexity": "medium",
          "example": "\nconst HeavyComponent = dynamic(() => import('./HeavyComponent'), {\n  ssr: false,\n  loading: () => <div>Loading...</div>\n});"
        }
      ]
    },
    {
      "name": "NavigationSplitView.types",
      "filePath": "/Users/fergusbisset/Dropbox/Sites/nhs-fdp-design-system/src/components/NavigationSplitView/NavigationSplitView.types.ts",
      "compatibilityLevel": "requires-refactoring",
      "issues": [
        {
          "type": "localStorage",
          "line": 140,
          "code": "persistNavCollapsed?: 'localStorage' | 'url' | 'both';",
          "severity": "blocking",
          "description": "localStorage is not available during SSR",
          "suggestion": "Add browser check or use a library like use-local-storage-state",
          "canAutoFix": true
        },
        {
          "type": "localStorage",
          "line": 141,
          "code": "/** Storage key used when persistNavCollapsed includes localStorage (default: 'nsvCollapsed'). */",
          "severity": "blocking",
          "description": "localStorage is not available during SSR",
          "suggestion": "Add browser check or use a library like use-local-storage-state",
          "canAutoFix": true
        }
      ],
      "hasHooks": false,
      "usesBrowserAPIs": false,
      "usesDOM": false,
      "canBeServerSide": false,
      "refactoringNeeded": [
        {
          "type": "add-ssr-guard",
          "description": "Add SSR guards for browser-only code",
          "automated": true,
          "complexity": "medium",
          "example": "\n// Before: window.innerWidth\n// After: typeof window !== 'undefined' ? window.innerWidth : 0"
        }
      ]
    },
    {
      "name": "PageTemplate",
      "filePath": "/Users/fergusbisset/Dropbox/Sites/nhs-fdp-design-system/src/components/PageTemplate/PageTemplate.tsx",
      "compatibilityLevel": "fully-compatible",
      "issues": [],
      "hasHooks": false,
      "usesBrowserAPIs": false,
      "usesDOM": false,
      "canBeServerSide": true,
      "refactoringNeeded": []
    },
    {
      "name": "PageTemplate.types",
      "filePath": "/Users/fergusbisset/Dropbox/Sites/nhs-fdp-design-system/src/components/PageTemplate/PageTemplate.types.ts",
      "compatibilityLevel": "fully-compatible",
      "issues": [],
      "hasHooks": false,
      "usesBrowserAPIs": false,
      "usesDOM": false,
      "canBeServerSide": true,
      "refactoringNeeded": []
    },
    {
      "name": "Pagination",
      "filePath": "/Users/fergusbisset/Dropbox/Sites/nhs-fdp-design-system/src/components/Pagination/Pagination.tsx",
      "compatibilityLevel": "fully-compatible",
      "issues": [],
      "hasHooks": false,
      "usesBrowserAPIs": false,
      "usesDOM": false,
      "canBeServerSide": true,
      "refactoringNeeded": []
    },
    {
      "name": "Pagination.types",
      "filePath": "/Users/fergusbisset/Dropbox/Sites/nhs-fdp-design-system/src/components/Pagination/Pagination.types.ts",
      "compatibilityLevel": "fully-compatible",
      "issues": [],
      "hasHooks": false,
      "usesBrowserAPIs": false,
      "usesDOM": false,
      "canBeServerSide": true,
      "refactoringNeeded": []
    },
    {
      "name": "Panel.schema",
      "filePath": "/Users/fergusbisset/Dropbox/Sites/nhs-fdp-design-system/src/components/Panel/Panel.schema.ts",
      "compatibilityLevel": "fully-compatible",
      "issues": [],
      "hasHooks": false,
      "usesBrowserAPIs": false,
      "usesDOM": false,
      "canBeServerSide": true,
      "refactoringNeeded": []
    },
    {
      "name": "Panel",
      "filePath": "/Users/fergusbisset/Dropbox/Sites/nhs-fdp-design-system/src/components/Panel/Panel.tsx",
      "compatibilityLevel": "fully-compatible",
      "issues": [],
      "hasHooks": false,
      "usesBrowserAPIs": false,
      "usesDOM": false,
      "canBeServerSide": true,
      "refactoringNeeded": []
    },
    {
      "name": "Panel.types",
      "filePath": "/Users/fergusbisset/Dropbox/Sites/nhs-fdp-design-system/src/components/Panel/Panel.types.ts",
      "compatibilityLevel": "fully-compatible",
      "issues": [],
      "hasHooks": false,
      "usesBrowserAPIs": false,
      "usesDOM": false,
      "canBeServerSide": true,
      "refactoringNeeded": []
    },
    {
      "name": "ProductRoadmap",
      "filePath": "/Users/fergusbisset/Dropbox/Sites/nhs-fdp-design-system/src/components/ProductRoadmap/ProductRoadmap.tsx",
      "compatibilityLevel": "requires-refactoring",
      "issues": [
        {
          "type": "window-object",
          "line": 116,
          "code": "const prefersReduce = (typeof window !== 'undefined' && typeof window.matchMedia === 'function')",
          "severity": "blocking",
          "description": "Direct window object access",
          "suggestion": "Add typeof window !== \"undefined\" check or use in useEffect",
          "canAutoFix": true
        },
        {
          "type": "window-object",
          "line": 117,
          "code": "? (typeof window !== 'undefined' && window.matchMedia ? window.matchMedia('(prefers-reduced-motion: reduce)').matches",
          "severity": "blocking",
          "description": "Direct window object access",
          "suggestion": "Add typeof window !== \"undefined\" check or use in useEffect",
          "canAutoFix": true
        },
        {
          "type": "window-object",
          "line": 117,
          "code": "? (typeof window !== 'undefined' && window.matchMedia ? window.matchMedia('(prefers-reduced-motion: reduce)').matches",
          "severity": "blocking",
          "description": "Direct window object access",
          "suggestion": "Add typeof window !== \"undefined\" check or use in useEffect",
          "canAutoFix": true
        },
        {
          "type": "media-query",
          "line": 117,
          "code": "? (typeof window !== 'undefined' && window.matchMedia ? window.matchMedia('(prefers-reduced-motion: reduce)').matches",
          "severity": "high",
          "description": "matchMedia API usage",
          "suggestion": "Add window check and use CSS media queries for initial render",
          "canAutoFix": true
        },
        {
          "type": "document-object",
          "line": 120,
          "code": "const nodes = Array.from(document.querySelectorAll(selector)) as HTMLElement[];",
          "severity": "blocking",
          "description": "Direct document object access",
          "suggestion": "Add typeof document !== \"undefined\" check or use in useEffect",
          "canAutoFix": true
        }
      ],
      "hasHooks": true,
      "usesBrowserAPIs": true,
      "usesDOM": false,
      "canBeServerSide": false,
      "refactoringNeeded": [
        {
          "type": "add-ssr-guard",
          "description": "Add SSR guards for browser-only code",
          "automated": true,
          "complexity": "medium",
          "example": "\n// Before: window.innerWidth\n// After: typeof window !== 'undefined' ? window.innerWidth : 0"
        }
      ]
    },
    {
      "name": "ProductRoadmap.types",
      "filePath": "/Users/fergusbisset/Dropbox/Sites/nhs-fdp-design-system/src/components/ProductRoadmap/ProductRoadmap.types.ts",
      "compatibilityLevel": "fully-compatible",
      "issues": [],
      "hasHooks": false,
      "usesBrowserAPIs": false,
      "usesDOM": false,
      "canBeServerSide": true,
      "refactoringNeeded": []
    },
    {
      "name": "Radios.render",
      "filePath": "/Users/fergusbisset/Dropbox/Sites/nhs-fdp-design-system/src/components/Radios/Radios.render.tsx",
      "compatibilityLevel": "fully-compatible",
      "issues": [],
      "hasHooks": false,
      "usesBrowserAPIs": false,
      "usesDOM": false,
      "canBeServerSide": true,
      "refactoringNeeded": []
    },
    {
      "name": "Radios.schema",
      "filePath": "/Users/fergusbisset/Dropbox/Sites/nhs-fdp-design-system/src/components/Radios/Radios.schema.ts",
      "compatibilityLevel": "fully-compatible",
      "issues": [],
      "hasHooks": false,
      "usesBrowserAPIs": false,
      "usesDOM": false,
      "canBeServerSide": true,
      "refactoringNeeded": []
    },
    {
      "name": "Radios.server",
      "filePath": "/Users/fergusbisset/Dropbox/Sites/nhs-fdp-design-system/src/components/Radios/Radios.server.tsx",
      "compatibilityLevel": "fully-compatible",
      "issues": [],
      "hasHooks": false,
      "usesBrowserAPIs": false,
      "usesDOM": false,
      "canBeServerSide": true,
      "refactoringNeeded": []
    },
    {
      "name": "Radios",
      "filePath": "/Users/fergusbisset/Dropbox/Sites/nhs-fdp-design-system/src/components/Radios/Radios.tsx",
      "compatibilityLevel": "fully-compatible",
      "issues": [],
      "hasHooks": true,
      "usesBrowserAPIs": false,
      "usesDOM": false,
      "canBeServerSide": true,
      "refactoringNeeded": []
    },
    {
      "name": "Radios.types",
      "filePath": "/Users/fergusbisset/Dropbox/Sites/nhs-fdp-design-system/src/components/Radios/Radios.types.ts",
      "compatibilityLevel": "fully-compatible",
      "issues": [],
      "hasHooks": false,
      "usesBrowserAPIs": false,
      "usesDOM": false,
      "canBeServerSide": true,
      "refactoringNeeded": []
    },
    {
      "name": "GenericCardRenderer",
      "filePath": "/Users/fergusbisset/Dropbox/Sites/nhs-fdp-design-system/src/components/ResponsiveDataGrid/GenericCardRenderer.ts",
      "compatibilityLevel": "fully-compatible",
      "issues": [],
      "hasHooks": false,
      "usesBrowserAPIs": false,
      "usesDOM": false,
      "canBeServerSide": true,
      "refactoringNeeded": []
    },
    {
      "name": "HealthcareCardTemplates",
      "filePath": "/Users/fergusbisset/Dropbox/Sites/nhs-fdp-design-system/src/components/ResponsiveDataGrid/HealthcareCardTemplates.tsx",
      "compatibilityLevel": "fully-compatible",
      "issues": [],
      "hasHooks": false,
      "usesBrowserAPIs": false,
      "usesDOM": false,
      "canBeServerSide": true,
      "refactoringNeeded": []
    },
    {
      "name": "HealthcarePlugin",
      "filePath": "/Users/fergusbisset/Dropbox/Sites/nhs-fdp-design-system/src/components/ResponsiveDataGrid/HealthcarePlugin.tsx",
      "compatibilityLevel": "fully-compatible",
      "issues": [],
      "hasHooks": false,
      "usesBrowserAPIs": false,
      "usesDOM": false,
      "canBeServerSide": true,
      "refactoringNeeded": []
    },
    {
      "name": "ResponsiveDataGridDemo",
      "filePath": "/Users/fergusbisset/Dropbox/Sites/nhs-fdp-design-system/src/components/ResponsiveDataGrid/ResponsiveDataGridDemo.tsx",
      "compatibilityLevel": "fully-compatible",
      "issues": [],
      "hasHooks": true,
      "usesBrowserAPIs": false,
      "usesDOM": false,
      "canBeServerSide": true,
      "refactoringNeeded": []
    },
    {
      "name": "ResponsiveDataGridGeneric.types",
      "filePath": "/Users/fergusbisset/Dropbox/Sites/nhs-fdp-design-system/src/components/ResponsiveDataGrid/ResponsiveDataGridGeneric.types.ts",
      "compatibilityLevel": "fully-compatible",
      "issues": [],
      "hasHooks": false,
      "usesBrowserAPIs": false,
      "usesDOM": false,
      "canBeServerSide": true,
      "refactoringNeeded": []
    },
    {
      "name": "ResponsiveDataGridHelpers",
      "filePath": "/Users/fergusbisset/Dropbox/Sites/nhs-fdp-design-system/src/components/ResponsiveDataGrid/ResponsiveDataGridHelpers.ts",
      "compatibilityLevel": "fully-compatible",
      "issues": [],
      "hasHooks": false,
      "usesBrowserAPIs": false,
      "usesDOM": false,
      "canBeServerSide": true,
      "refactoringNeeded": []
    },
    {
      "name": "ResponsiveDataGridTypes",
      "filePath": "/Users/fergusbisset/Dropbox/Sites/nhs-fdp-design-system/src/components/ResponsiveDataGrid/ResponsiveDataGridTypes.ts",
      "compatibilityLevel": "fully-compatible",
      "issues": [],
      "hasHooks": false,
      "usesBrowserAPIs": false,
      "usesDOM": false,
      "canBeServerSide": true,
      "refactoringNeeded": []
    },
    {
      "name": "Select.schema",
      "filePath": "/Users/fergusbisset/Dropbox/Sites/nhs-fdp-design-system/src/components/Select/Select.schema.ts",
      "compatibilityLevel": "fully-compatible",
      "issues": [],
      "hasHooks": false,
      "usesBrowserAPIs": false,
      "usesDOM": false,
      "canBeServerSide": true,
      "refactoringNeeded": []
    },
    {
      "name": "Select",
      "filePath": "/Users/fergusbisset/Dropbox/Sites/nhs-fdp-design-system/src/components/Select/Select.tsx",
      "compatibilityLevel": "fully-compatible",
      "issues": [],
      "hasHooks": false,
      "usesBrowserAPIs": false,
      "usesDOM": false,
      "canBeServerSide": true,
      "refactoringNeeded": []
    },
    {
      "name": "Select.types",
      "filePath": "/Users/fergusbisset/Dropbox/Sites/nhs-fdp-design-system/src/components/Select/Select.types.ts",
      "compatibilityLevel": "fully-compatible",
      "issues": [],
      "hasHooks": false,
      "usesBrowserAPIs": false,
      "usesDOM": false,
      "canBeServerSide": true,
      "refactoringNeeded": []
    },
    {
      "name": "SkipLink.server",
      "filePath": "/Users/fergusbisset/Dropbox/Sites/nhs-fdp-design-system/src/components/SkipLink/SkipLink.server.tsx",
      "compatibilityLevel": "fully-compatible",
      "issues": [],
      "hasHooks": false,
      "usesBrowserAPIs": false,
      "usesDOM": false,
      "canBeServerSide": true,
      "refactoringNeeded": []
    },
    {
      "name": "SkipLink",
      "filePath": "/Users/fergusbisset/Dropbox/Sites/nhs-fdp-design-system/src/components/SkipLink/SkipLink.tsx",
      "compatibilityLevel": "requires-refactoring",
      "issues": [
        {
          "type": "useEffect",
          "line": 34,
          "code": "useEffect(() => {",
          "severity": "medium",
          "description": "useEffect runs only on client side",
          "suggestion": "Consider moving to useLayoutEffect for DOM measurements or add SSR guards",
          "canAutoFix": false
        },
        {
          "type": "useEffect",
          "line": 38,
          "code": "useEffect(() => {",
          "severity": "medium",
          "description": "useEffect runs only on client side",
          "suggestion": "Consider moving to useLayoutEffect for DOM measurements or add SSR guards",
          "canAutoFix": false
        },
        {
          "type": "document-object",
          "line": 42,
          "code": "!document.querySelector ||",
          "severity": "blocking",
          "description": "Direct document object access",
          "suggestion": "Add typeof document !== \"undefined\" check or use in useEffect",
          "canAutoFix": true
        },
        {
          "type": "document-object",
          "line": 43,
          "code": "!document.querySelectorAll) {",
          "severity": "blocking",
          "description": "Direct document object access",
          "suggestion": "Add typeof document !== \"undefined\" check or use in useEffect",
          "canAutoFix": true
        },
        {
          "type": "document-object",
          "line": 52,
          "code": "const targetElement = (typeof document !== 'undefined' ? (typeof document !== 'undefined' ? (typeof document !== 'undefined' ? (typeof document !== 'undefined' ? (typeof document !== 'undefined' ? (typeof document !== 'undefined' ? (typeof document !== 'undefined' ? (typeof document !== 'undefined' ? document.querySelector(targetId) : null) : null) : null) : null) : null) : null) : null) : null);",
          "severity": "blocking",
          "description": "Direct document object access",
          "suggestion": "Add typeof document !== \"undefined\" check or use in useEffect",
          "canAutoFix": true
        },
        {
          "type": "window-object",
          "line": 65,
          "code": "// Clean up after a short delay - use window.setTimeout to ensure availability",
          "severity": "blocking",
          "description": "Direct window object access",
          "suggestion": "Add typeof window !== \"undefined\" check or use in useEffect",
          "canAutoFix": true
        },
        {
          "type": "window-object",
          "line": 66,
          "code": "const timeoutId = window.setTimeout(() => {",
          "severity": "blocking",
          "description": "Direct window object access",
          "suggestion": "Add typeof window !== \"undefined\" check or use in useEffect",
          "canAutoFix": true
        },
        {
          "type": "document-object",
          "line": 82,
          "code": "const skipLinks = document.querySelectorAll('.nhsuk-skip-link');",
          "severity": "blocking",
          "description": "Direct document object access",
          "suggestion": "Add typeof document !== \"undefined\" check or use in useEffect",
          "canAutoFix": true
        },
        {
          "type": "event-listener",
          "line": 84,
          "code": "link.addEventListener('click', handleSkipLinkClick);",
          "severity": "medium",
          "description": "Event listener setup",
          "suggestion": "Move to useEffect hook",
          "canAutoFix": true
        },
        {
          "type": "window-object",
          "line": 94,
          "code": "if (timeoutId && window.clearTimeout) {",
          "severity": "blocking",
          "description": "Direct window object access",
          "suggestion": "Add typeof window !== \"undefined\" check or use in useEffect",
          "canAutoFix": true
        },
        {
          "type": "window-object",
          "line": 95,
          "code": "window.clearTimeout(timeoutId);",
          "severity": "blocking",
          "description": "Direct window object access",
          "suggestion": "Add typeof window !== \"undefined\" check or use in useEffect",
          "canAutoFix": true
        }
      ],
      "hasHooks": true,
      "usesBrowserAPIs": true,
      "usesDOM": true,
      "canBeServerSide": false,
      "refactoringNeeded": [
        {
          "type": "add-ssr-guard",
          "description": "Add SSR guards for browser-only code",
          "automated": true,
          "complexity": "medium",
          "example": "\n// Before: window.innerWidth\n// After: typeof window !== 'undefined' ? window.innerWidth : 0"
        },
        {
          "type": "dynamic-import",
          "description": "Consider lazy loading this component",
          "automated": false,
          "complexity": "medium",
          "example": "\nconst HeavyComponent = dynamic(() => import('./HeavyComponent'), {\n  ssr: false,\n  loading: () => <div>Loading...</div>\n});"
        }
      ]
    },
    {
      "name": "SkipLink.types",
      "filePath": "/Users/fergusbisset/Dropbox/Sites/nhs-fdp-design-system/src/components/SkipLink/SkipLink.types.ts",
      "compatibilityLevel": "fully-compatible",
      "issues": [],
      "hasHooks": false,
      "usesBrowserAPIs": false,
      "usesDOM": false,
      "canBeServerSide": true,
      "refactoringNeeded": []
    },
    {
      "name": "SlotMatrix",
      "filePath": "/Users/fergusbisset/Dropbox/Sites/nhs-fdp-design-system/src/components/SlotMatrix/SlotMatrix.tsx",
      "compatibilityLevel": "fully-compatible",
      "issues": [],
      "hasHooks": true,
      "usesBrowserAPIs": false,
      "usesDOM": false,
      "canBeServerSide": true,
      "refactoringNeeded": []
    },
    {
      "name": "SlotMatrix.types",
      "filePath": "/Users/fergusbisset/Dropbox/Sites/nhs-fdp-design-system/src/components/SlotMatrix/SlotMatrix.types.ts",
      "compatibilityLevel": "fully-compatible",
      "issues": [],
      "hasHooks": false,
      "usesBrowserAPIs": false,
      "usesDOM": false,
      "canBeServerSide": true,
      "refactoringNeeded": []
    },
    {
      "name": "SlotMatrixToolbar",
      "filePath": "/Users/fergusbisset/Dropbox/Sites/nhs-fdp-design-system/src/components/SlotMatrix/SlotMatrixToolbar.tsx",
      "compatibilityLevel": "fully-compatible",
      "issues": [],
      "hasHooks": false,
      "usesBrowserAPIs": false,
      "usesDOM": false,
      "canBeServerSide": true,
      "refactoringNeeded": []
    },
    {
      "name": "generateSlotMatrixMocks",
      "filePath": "/Users/fergusbisset/Dropbox/Sites/nhs-fdp-design-system/src/components/SlotMatrix/generateSlotMatrixMocks.ts",
      "compatibilityLevel": "fully-compatible",
      "issues": [],
      "hasHooks": false,
      "usesBrowserAPIs": false,
      "usesDOM": false,
      "canBeServerSide": true,
      "refactoringNeeded": []
    },
    {
      "name": "AriaDataGridTypes",
      "filePath": "/Users/fergusbisset/Dropbox/Sites/nhs-fdp-design-system/src/components/SortableDataTable/AriaDataGridTypes.ts",
      "compatibilityLevel": "fully-compatible",
      "issues": [],
      "hasHooks": false,
      "usesBrowserAPIs": false,
      "usesDOM": false,
      "canBeServerSide": true,
      "refactoringNeeded": []
    },
    {
      "name": "AriaTabsDataGridDemo",
      "filePath": "/Users/fergusbisset/Dropbox/Sites/nhs-fdp-design-system/src/components/SortableDataTable/AriaTabsDataGridDemo.tsx",
      "compatibilityLevel": "fully-compatible",
      "issues": [],
      "hasHooks": true,
      "usesBrowserAPIs": false,
      "usesDOM": false,
      "canBeServerSide": true,
      "refactoringNeeded": []
    },
    {
      "name": "AriaTabsDataGridEnhancedDemo",
      "filePath": "/Users/fergusbisset/Dropbox/Sites/nhs-fdp-design-system/src/components/SortableDataTable/AriaTabsDataGridEnhancedDemo.tsx",
      "compatibilityLevel": "fully-compatible",
      "issues": [],
      "hasHooks": true,
      "usesBrowserAPIs": false,
      "usesDOM": false,
      "canBeServerSide": true,
      "refactoringNeeded": []
    },
    {
      "name": "AriaTabsDataGridFactory",
      "filePath": "/Users/fergusbisset/Dropbox/Sites/nhs-fdp-design-system/src/components/SortableDataTable/AriaTabsDataGridFactory.ts",
      "compatibilityLevel": "fully-compatible",
      "issues": [],
      "hasHooks": false,
      "usesBrowserAPIs": false,
      "usesDOM": false,
      "canBeServerSide": true,
      "refactoringNeeded": []
    },
    {
      "name": "AriaTabsDataGridPlugins",
      "filePath": "/Users/fergusbisset/Dropbox/Sites/nhs-fdp-design-system/src/components/SortableDataTable/AriaTabsDataGridPlugins.ts",
      "compatibilityLevel": "fully-compatible",
      "issues": [],
      "hasHooks": false,
      "usesBrowserAPIs": false,
      "usesDOM": false,
      "canBeServerSide": true,
      "refactoringNeeded": []
    },
    {
      "name": "AriaTabsDataGridTCH",
      "filePath": "/Users/fergusbisset/Dropbox/Sites/nhs-fdp-design-system/src/components/SortableDataTable/AriaTabsDataGridTCH.tsx",
      "compatibilityLevel": "fully-compatible",
      "issues": [],
      "hasHooks": false,
      "usesBrowserAPIs": false,
      "usesDOM": false,
      "canBeServerSide": true,
      "refactoringNeeded": []
    },
    {
      "name": "AriaTabsDataGridTypes",
      "filePath": "/Users/fergusbisset/Dropbox/Sites/nhs-fdp-design-system/src/components/SortableDataTable/AriaTabsDataGridTypes.ts",
      "compatibilityLevel": "fully-compatible",
      "issues": [],
      "hasHooks": false,
      "usesBrowserAPIs": false,
      "usesDOM": false,
      "canBeServerSide": true,
      "refactoringNeeded": []
    },
    {
      "name": "HealthcareCardTemplates",
      "filePath": "/Users/fergusbisset/Dropbox/Sites/nhs-fdp-design-system/src/components/SortableDataTable/HealthcareCardTemplates.tsx",
      "compatibilityLevel": "fully-compatible",
      "issues": [],
      "hasHooks": false,
      "usesBrowserAPIs": false,
      "usesDOM": false,
      "canBeServerSide": true,
      "refactoringNeeded": []
    },
    {
      "name": "SortStatusControl",
      "filePath": "/Users/fergusbisset/Dropbox/Sites/nhs-fdp-design-system/src/components/SortableDataTable/SortStatusControl/SortStatusControl.tsx",
      "compatibilityLevel": "fully-compatible",
      "issues": [],
      "hasHooks": true,
      "usesBrowserAPIs": false,
      "usesDOM": false,
      "canBeServerSide": true,
      "refactoringNeeded": []
    },
    {
      "name": "SortStatusControl",
      "filePath": "/Users/fergusbisset/Dropbox/Sites/nhs-fdp-design-system/src/components/SortableDataTable/SortStatusControl.tsx",
      "compatibilityLevel": "fully-compatible",
      "issues": [],
      "hasHooks": true,
      "usesBrowserAPIs": false,
      "usesDOM": false,
      "canBeServerSide": true,
      "refactoringNeeded": []
    },
    {
      "name": "SortStatusControlTypes",
      "filePath": "/Users/fergusbisset/Dropbox/Sites/nhs-fdp-design-system/src/components/SortableDataTable/SortStatusControlTypes.ts",
      "compatibilityLevel": "fully-compatible",
      "issues": [],
      "hasHooks": false,
      "usesBrowserAPIs": false,
      "usesDOM": false,
      "canBeServerSide": true,
      "refactoringNeeded": []
    },
    {
      "name": "useIntelligentLayout",
      "filePath": "/Users/fergusbisset/Dropbox/Sites/nhs-fdp-design-system/src/components/SortableDataTable/hooks/useIntelligentLayout.ts",
      "compatibilityLevel": "requires-refactoring",
      "issues": [
        {
          "type": "window-object",
          "line": 61,
          "code": "const width = typeof window !== 'undefined' ? (typeof window !== 'undefined' ? (typeof window !== 'undefined' ? (typeof window !== 'undefined' ? (typeof window !== 'undefined' ? (typeof window !== 'undefined' ? (typeof window !== 'undefined' ? (typeof window !== 'undefined' ? (typeof window !== 'undefined' ? (typeof window !== 'undefined' ? (typeof window !== 'undefined' ? (typeof window !== 'undefined' ? (typeof window !== 'undefined' ? (typeof window !== 'undefined' ? (typeof window !== 'undefined' ? (typeof window !== 'undefined' ? (typeof window !== 'undefined' ? (typeof window !== 'undefined' ? window.innerWidth : 1024) : 1024) : 1024) : 1024) : 1024) : 1024) : 1024) : 1024) : 1024) : 1024) : 1024) : 1024) : 1024) : 1024) : 1024) : 1024) : 1024) : 1024;",
          "severity": "blocking",
          "description": "Direct window object access",
          "suggestion": "Add typeof window !== \"undefined\" check or use in useEffect",
          "canAutoFix": true
        },
        {
          "type": "window-object",
          "line": 62,
          "code": "const height = typeof window !== 'undefined' ? (typeof window !== 'undefined' ? (typeof window !== 'undefined' ? (typeof window !== 'undefined' ? (typeof window !== 'undefined' ? (typeof window !== 'undefined' ? (typeof window !== 'undefined' ? (typeof window !== 'undefined' ? (typeof window !== 'undefined' ? (typeof window !== 'undefined' ? (typeof window !== 'undefined' ? (typeof window !== 'undefined' ? (typeof window !== 'undefined' ? (typeof window !== 'undefined' ? (typeof window !== 'undefined' ? (typeof window !== 'undefined' ? (typeof window !== 'undefined' ? (typeof window !== 'undefined' ? window.innerHeight : 768) : 768) : 768) : 768) : 768) : 768) : 768) : 768) : 768) : 768) : 768) : 768) : 768) : 768) : 768) : 768) : 768) : 768;",
          "severity": "blocking",
          "description": "Direct window object access",
          "suggestion": "Add typeof window !== \"undefined\" check or use in useEffect",
          "canAutoFix": true
        },
        {
          "type": "window-object",
          "line": 68,
          "code": "highDensity: typeof window !== 'undefined' ? window.devicePixelRatio > 1.5 : false,",
          "severity": "blocking",
          "description": "Direct window object access",
          "suggestion": "Add typeof window !== \"undefined\" check or use in useEffect",
          "canAutoFix": true
        },
        {
          "type": "window-object",
          "line": 69,
          "code": "reducedMotion: (typeof window !== 'undefined' && typeof window.matchMedia === 'function') ? (typeof window !== 'undefined' && window.matchMedia ? (typeof window !== 'undefined' && window.matchMedia ? (typeof window !== 'undefined' && window.matchMedia ? (typeof window !== 'undefined' && window.matchMedia ? window.matchMedia('(prefers-reduced-motion: reduce)').matches : false,",
          "severity": "blocking",
          "description": "Direct window object access",
          "suggestion": "Add typeof window !== \"undefined\" check or use in useEffect",
          "canAutoFix": true
        },
        {
          "type": "window-object",
          "line": 69,
          "code": "reducedMotion: (typeof window !== 'undefined' && typeof window.matchMedia === 'function') ? (typeof window !== 'undefined' && window.matchMedia ? (typeof window !== 'undefined' && window.matchMedia ? (typeof window !== 'undefined' && window.matchMedia ? (typeof window !== 'undefined' && window.matchMedia ? window.matchMedia('(prefers-reduced-motion: reduce)').matches : false,",
          "severity": "blocking",
          "description": "Direct window object access",
          "suggestion": "Add typeof window !== \"undefined\" check or use in useEffect",
          "canAutoFix": true
        },
        {
          "type": "window-object",
          "line": 69,
          "code": "reducedMotion: (typeof window !== 'undefined' && typeof window.matchMedia === 'function') ? (typeof window !== 'undefined' && window.matchMedia ? (typeof window !== 'undefined' && window.matchMedia ? (typeof window !== 'undefined' && window.matchMedia ? (typeof window !== 'undefined' && window.matchMedia ? window.matchMedia('(prefers-reduced-motion: reduce)').matches : false,",
          "severity": "blocking",
          "description": "Direct window object access",
          "suggestion": "Add typeof window !== \"undefined\" check or use in useEffect",
          "canAutoFix": true
        },
        {
          "type": "window-object",
          "line": 69,
          "code": "reducedMotion: (typeof window !== 'undefined' && typeof window.matchMedia === 'function') ? (typeof window !== 'undefined' && window.matchMedia ? (typeof window !== 'undefined' && window.matchMedia ? (typeof window !== 'undefined' && window.matchMedia ? (typeof window !== 'undefined' && window.matchMedia ? window.matchMedia('(prefers-reduced-motion: reduce)').matches : false,",
          "severity": "blocking",
          "description": "Direct window object access",
          "suggestion": "Add typeof window !== \"undefined\" check or use in useEffect",
          "canAutoFix": true
        },
        {
          "type": "window-object",
          "line": 69,
          "code": "reducedMotion: (typeof window !== 'undefined' && typeof window.matchMedia === 'function') ? (typeof window !== 'undefined' && window.matchMedia ? (typeof window !== 'undefined' && window.matchMedia ? (typeof window !== 'undefined' && window.matchMedia ? (typeof window !== 'undefined' && window.matchMedia ? window.matchMedia('(prefers-reduced-motion: reduce)').matches : false,",
          "severity": "blocking",
          "description": "Direct window object access",
          "suggestion": "Add typeof window !== \"undefined\" check or use in useEffect",
          "canAutoFix": true
        },
        {
          "type": "window-object",
          "line": 69,
          "code": "reducedMotion: (typeof window !== 'undefined' && typeof window.matchMedia === 'function') ? (typeof window !== 'undefined' && window.matchMedia ? (typeof window !== 'undefined' && window.matchMedia ? (typeof window !== 'undefined' && window.matchMedia ? (typeof window !== 'undefined' && window.matchMedia ? window.matchMedia('(prefers-reduced-motion: reduce)').matches : false,",
          "severity": "blocking",
          "description": "Direct window object access",
          "suggestion": "Add typeof window !== \"undefined\" check or use in useEffect",
          "canAutoFix": true
        },
        {
          "type": "media-query",
          "line": 69,
          "code": "reducedMotion: (typeof window !== 'undefined' && typeof window.matchMedia === 'function') ? (typeof window !== 'undefined' && window.matchMedia ? (typeof window !== 'undefined' && window.matchMedia ? (typeof window !== 'undefined' && window.matchMedia ? (typeof window !== 'undefined' && window.matchMedia ? window.matchMedia('(prefers-reduced-motion: reduce)').matches : false,",
          "severity": "high",
          "description": "matchMedia API usage",
          "suggestion": "Add window check and use CSS media queries for initial render",
          "canAutoFix": true
        },
        {
          "type": "window-object",
          "line": 70,
          "code": "forcedColors: (typeof window !== 'undefined' && typeof window.matchMedia === 'function') ? (typeof window !== 'undefined' && window.matchMedia ? (typeof window !== 'undefined' && window.matchMedia ? (typeof window !== 'undefined' && window.matchMedia ? (typeof window !== 'undefined' && window.matchMedia ? window.matchMedia('(forced-colors: active)').matches : false",
          "severity": "blocking",
          "description": "Direct window object access",
          "suggestion": "Add typeof window !== \"undefined\" check or use in useEffect",
          "canAutoFix": true
        },
        {
          "type": "window-object",
          "line": 70,
          "code": "forcedColors: (typeof window !== 'undefined' && typeof window.matchMedia === 'function') ? (typeof window !== 'undefined' && window.matchMedia ? (typeof window !== 'undefined' && window.matchMedia ? (typeof window !== 'undefined' && window.matchMedia ? (typeof window !== 'undefined' && window.matchMedia ? window.matchMedia('(forced-colors: active)').matches : false",
          "severity": "blocking",
          "description": "Direct window object access",
          "suggestion": "Add typeof window !== \"undefined\" check or use in useEffect",
          "canAutoFix": true
        },
        {
          "type": "window-object",
          "line": 70,
          "code": "forcedColors: (typeof window !== 'undefined' && typeof window.matchMedia === 'function') ? (typeof window !== 'undefined' && window.matchMedia ? (typeof window !== 'undefined' && window.matchMedia ? (typeof window !== 'undefined' && window.matchMedia ? (typeof window !== 'undefined' && window.matchMedia ? window.matchMedia('(forced-colors: active)').matches : false",
          "severity": "blocking",
          "description": "Direct window object access",
          "suggestion": "Add typeof window !== \"undefined\" check or use in useEffect",
          "canAutoFix": true
        },
        {
          "type": "window-object",
          "line": 70,
          "code": "forcedColors: (typeof window !== 'undefined' && typeof window.matchMedia === 'function') ? (typeof window !== 'undefined' && window.matchMedia ? (typeof window !== 'undefined' && window.matchMedia ? (typeof window !== 'undefined' && window.matchMedia ? (typeof window !== 'undefined' && window.matchMedia ? window.matchMedia('(forced-colors: active)').matches : false",
          "severity": "blocking",
          "description": "Direct window object access",
          "suggestion": "Add typeof window !== \"undefined\" check or use in useEffect",
          "canAutoFix": true
        },
        {
          "type": "window-object",
          "line": 70,
          "code": "forcedColors: (typeof window !== 'undefined' && typeof window.matchMedia === 'function') ? (typeof window !== 'undefined' && window.matchMedia ? (typeof window !== 'undefined' && window.matchMedia ? (typeof window !== 'undefined' && window.matchMedia ? (typeof window !== 'undefined' && window.matchMedia ? window.matchMedia('(forced-colors: active)').matches : false",
          "severity": "blocking",
          "description": "Direct window object access",
          "suggestion": "Add typeof window !== \"undefined\" check or use in useEffect",
          "canAutoFix": true
        },
        {
          "type": "window-object",
          "line": 70,
          "code": "forcedColors: (typeof window !== 'undefined' && typeof window.matchMedia === 'function') ? (typeof window !== 'undefined' && window.matchMedia ? (typeof window !== 'undefined' && window.matchMedia ? (typeof window !== 'undefined' && window.matchMedia ? (typeof window !== 'undefined' && window.matchMedia ? window.matchMedia('(forced-colors: active)').matches : false",
          "severity": "blocking",
          "description": "Direct window object access",
          "suggestion": "Add typeof window !== \"undefined\" check or use in useEffect",
          "canAutoFix": true
        },
        {
          "type": "media-query",
          "line": 70,
          "code": "forcedColors: (typeof window !== 'undefined' && typeof window.matchMedia === 'function') ? (typeof window !== 'undefined' && window.matchMedia ? (typeof window !== 'undefined' && window.matchMedia ? (typeof window !== 'undefined' && window.matchMedia ? (typeof window !== 'undefined' && window.matchMedia ? window.matchMedia('(forced-colors: active)').matches : false",
          "severity": "high",
          "description": "matchMedia API usage",
          "suggestion": "Add window check and use CSS media queries for initial render",
          "canAutoFix": true
        },
        {
          "type": "useEffect",
          "line": 167,
          "code": "useEffect(() => {",
          "severity": "medium",
          "description": "useEffect runs only on client side",
          "suggestion": "Consider moving to useLayoutEffect for DOM measurements or add SSR guards",
          "canAutoFix": false
        },
        {
          "type": "window-object",
          "line": 178,
          "code": "window.addEventListener('resize', handleResize);",
          "severity": "blocking",
          "description": "Direct window object access",
          "suggestion": "Add typeof window !== \"undefined\" check or use in useEffect",
          "canAutoFix": true
        },
        {
          "type": "event-listener",
          "line": 178,
          "code": "window.addEventListener('resize', handleResize);",
          "severity": "medium",
          "description": "Event listener setup",
          "suggestion": "Move to useEffect hook",
          "canAutoFix": true
        },
        {
          "type": "window-object",
          "line": 179,
          "code": "window.addEventListener('orientationchange', handleOrientationChange);",
          "severity": "blocking",
          "description": "Direct window object access",
          "suggestion": "Add typeof window !== \"undefined\" check or use in useEffect",
          "canAutoFix": true
        },
        {
          "type": "event-listener",
          "line": 179,
          "code": "window.addEventListener('orientationchange', handleOrientationChange);",
          "severity": "medium",
          "description": "Event listener setup",
          "suggestion": "Move to useEffect hook",
          "canAutoFix": true
        },
        {
          "type": "window-object",
          "line": 182,
          "code": "const reducedMotionQuery = (typeof window !== 'undefined' && typeof window.matchMedia === 'function')",
          "severity": "blocking",
          "description": "Direct window object access",
          "suggestion": "Add typeof window !== \"undefined\" check or use in useEffect",
          "canAutoFix": true
        },
        {
          "type": "window-object",
          "line": 183,
          "code": "? (typeof window !== 'undefined' && window.matchMedia ? (typeof window !== 'undefined' && window.matchMedia ? (typeof window !== 'undefined' && window.matchMedia ? (typeof window !== 'undefined' && window.matchMedia ? window.matchMedia('(prefers-reduced-motion: reduce)')",
          "severity": "blocking",
          "description": "Direct window object access",
          "suggestion": "Add typeof window !== \"undefined\" check or use in useEffect",
          "canAutoFix": true
        },
        {
          "type": "window-object",
          "line": 183,
          "code": "? (typeof window !== 'undefined' && window.matchMedia ? (typeof window !== 'undefined' && window.matchMedia ? (typeof window !== 'undefined' && window.matchMedia ? (typeof window !== 'undefined' && window.matchMedia ? window.matchMedia('(prefers-reduced-motion: reduce)')",
          "severity": "blocking",
          "description": "Direct window object access",
          "suggestion": "Add typeof window !== \"undefined\" check or use in useEffect",
          "canAutoFix": true
        },
        {
          "type": "window-object",
          "line": 183,
          "code": "? (typeof window !== 'undefined' && window.matchMedia ? (typeof window !== 'undefined' && window.matchMedia ? (typeof window !== 'undefined' && window.matchMedia ? (typeof window !== 'undefined' && window.matchMedia ? window.matchMedia('(prefers-reduced-motion: reduce)')",
          "severity": "blocking",
          "description": "Direct window object access",
          "suggestion": "Add typeof window !== \"undefined\" check or use in useEffect",
          "canAutoFix": true
        },
        {
          "type": "window-object",
          "line": 183,
          "code": "? (typeof window !== 'undefined' && window.matchMedia ? (typeof window !== 'undefined' && window.matchMedia ? (typeof window !== 'undefined' && window.matchMedia ? (typeof window !== 'undefined' && window.matchMedia ? window.matchMedia('(prefers-reduced-motion: reduce)')",
          "severity": "blocking",
          "description": "Direct window object access",
          "suggestion": "Add typeof window !== \"undefined\" check or use in useEffect",
          "canAutoFix": true
        },
        {
          "type": "window-object",
          "line": 183,
          "code": "? (typeof window !== 'undefined' && window.matchMedia ? (typeof window !== 'undefined' && window.matchMedia ? (typeof window !== 'undefined' && window.matchMedia ? (typeof window !== 'undefined' && window.matchMedia ? window.matchMedia('(prefers-reduced-motion: reduce)')",
          "severity": "blocking",
          "description": "Direct window object access",
          "suggestion": "Add typeof window !== \"undefined\" check or use in useEffect",
          "canAutoFix": true
        },
        {
          "type": "media-query",
          "line": 183,
          "code": "? (typeof window !== 'undefined' && window.matchMedia ? (typeof window !== 'undefined' && window.matchMedia ? (typeof window !== 'undefined' && window.matchMedia ? (typeof window !== 'undefined' && window.matchMedia ? window.matchMedia('(prefers-reduced-motion: reduce)')",
          "severity": "high",
          "description": "matchMedia API usage",
          "suggestion": "Add window check and use CSS media queries for initial render",
          "canAutoFix": true
        },
        {
          "type": "window-object",
          "line": 185,
          "code": "const forcedColorsQuery = (typeof window !== 'undefined' && typeof window.matchMedia === 'function')",
          "severity": "blocking",
          "description": "Direct window object access",
          "suggestion": "Add typeof window !== \"undefined\" check or use in useEffect",
          "canAutoFix": true
        },
        {
          "type": "window-object",
          "line": 186,
          "code": "? (typeof window !== 'undefined' && window.matchMedia ? (typeof window !== 'undefined' && window.matchMedia ? (typeof window !== 'undefined' && window.matchMedia ? (typeof window !== 'undefined' && window.matchMedia ? window.matchMedia('(forced-colors: active)')",
          "severity": "blocking",
          "description": "Direct window object access",
          "suggestion": "Add typeof window !== \"undefined\" check or use in useEffect",
          "canAutoFix": true
        },
        {
          "type": "window-object",
          "line": 186,
          "code": "? (typeof window !== 'undefined' && window.matchMedia ? (typeof window !== 'undefined' && window.matchMedia ? (typeof window !== 'undefined' && window.matchMedia ? (typeof window !== 'undefined' && window.matchMedia ? window.matchMedia('(forced-colors: active)')",
          "severity": "blocking",
          "description": "Direct window object access",
          "suggestion": "Add typeof window !== \"undefined\" check or use in useEffect",
          "canAutoFix": true
        },
        {
          "type": "window-object",
          "line": 186,
          "code": "? (typeof window !== 'undefined' && window.matchMedia ? (typeof window !== 'undefined' && window.matchMedia ? (typeof window !== 'undefined' && window.matchMedia ? (typeof window !== 'undefined' && window.matchMedia ? window.matchMedia('(forced-colors: active)')",
          "severity": "blocking",
          "description": "Direct window object access",
          "suggestion": "Add typeof window !== \"undefined\" check or use in useEffect",
          "canAutoFix": true
        },
        {
          "type": "window-object",
          "line": 186,
          "code": "? (typeof window !== 'undefined' && window.matchMedia ? (typeof window !== 'undefined' && window.matchMedia ? (typeof window !== 'undefined' && window.matchMedia ? (typeof window !== 'undefined' && window.matchMedia ? window.matchMedia('(forced-colors: active)')",
          "severity": "blocking",
          "description": "Direct window object access",
          "suggestion": "Add typeof window !== \"undefined\" check or use in useEffect",
          "canAutoFix": true
        },
        {
          "type": "window-object",
          "line": 186,
          "code": "? (typeof window !== 'undefined' && window.matchMedia ? (typeof window !== 'undefined' && window.matchMedia ? (typeof window !== 'undefined' && window.matchMedia ? (typeof window !== 'undefined' && window.matchMedia ? window.matchMedia('(forced-colors: active)')",
          "severity": "blocking",
          "description": "Direct window object access",
          "suggestion": "Add typeof window !== \"undefined\" check or use in useEffect",
          "canAutoFix": true
        },
        {
          "type": "media-query",
          "line": 186,
          "code": "? (typeof window !== 'undefined' && window.matchMedia ? (typeof window !== 'undefined' && window.matchMedia ? (typeof window !== 'undefined' && window.matchMedia ? (typeof window !== 'undefined' && window.matchMedia ? window.matchMedia('(forced-colors: active)')",
          "severity": "high",
          "description": "matchMedia API usage",
          "suggestion": "Add window check and use CSS media queries for initial render",
          "canAutoFix": true
        },
        {
          "type": "event-listener",
          "line": 191,
          "code": "reducedMotionQuery?.addEventListener('change', handleMediaChange);",
          "severity": "medium",
          "description": "Event listener setup",
          "suggestion": "Move to useEffect hook",
          "canAutoFix": true
        },
        {
          "type": "event-listener",
          "line": 192,
          "code": "forcedColorsQuery?.addEventListener('change', handleMediaChange);",
          "severity": "medium",
          "description": "Event listener setup",
          "suggestion": "Move to useEffect hook",
          "canAutoFix": true
        },
        {
          "type": "window-object",
          "line": 195,
          "code": "window.removeEventListener('resize', handleResize);",
          "severity": "blocking",
          "description": "Direct window object access",
          "suggestion": "Add typeof window !== \"undefined\" check or use in useEffect",
          "canAutoFix": true
        },
        {
          "type": "window-object",
          "line": 196,
          "code": "window.removeEventListener('orientationchange', handleOrientationChange);",
          "severity": "blocking",
          "description": "Direct window object access",
          "suggestion": "Add typeof window !== \"undefined\" check or use in useEffect",
          "canAutoFix": true
        },
        {
          "type": "useEffect",
          "line": 204,
          "code": "useEffect(() => {",
          "severity": "medium",
          "description": "useEffect runs only on client side",
          "suggestion": "Consider moving to useLayoutEffect for DOM measurements or add SSR guards",
          "canAutoFix": false
        },
        {
          "type": "resize-observer",
          "line": 233,
          "code": "// Use ResizeObserver to detect layout shifts",
          "severity": "high",
          "description": "ResizeObserver API usage",
          "suggestion": "Add feature detection and fallbacks",
          "canAutoFix": true
        },
        {
          "type": "resize-observer",
          "line": 235,
          "code": "const observer = (typeof ResizeObserver !== 'undefined')",
          "severity": "high",
          "description": "ResizeObserver API usage",
          "suggestion": "Add feature detection and fallbacks",
          "canAutoFix": true
        },
        {
          "type": "resize-observer",
          "line": 236,
          "code": "? (typeof ResizeObserver !== 'undefined' ? (typeof ResizeObserver !== 'undefined' ? (typeof ResizeObserver !== 'undefined' ? new ResizeObserver(() => { shiftCount++; })",
          "severity": "high",
          "description": "ResizeObserver API usage",
          "suggestion": "Add feature detection and fallbacks",
          "canAutoFix": true
        },
        {
          "type": "resize-observer",
          "line": 236,
          "code": "? (typeof ResizeObserver !== 'undefined' ? (typeof ResizeObserver !== 'undefined' ? (typeof ResizeObserver !== 'undefined' ? new ResizeObserver(() => { shiftCount++; })",
          "severity": "high",
          "description": "ResizeObserver API usage",
          "suggestion": "Add feature detection and fallbacks",
          "canAutoFix": true
        },
        {
          "type": "resize-observer",
          "line": 236,
          "code": "? (typeof ResizeObserver !== 'undefined' ? (typeof ResizeObserver !== 'undefined' ? (typeof ResizeObserver !== 'undefined' ? new ResizeObserver(() => { shiftCount++; })",
          "severity": "high",
          "description": "ResizeObserver API usage",
          "suggestion": "Add feature detection and fallbacks",
          "canAutoFix": true
        },
        {
          "type": "resize-observer",
          "line": 236,
          "code": "? (typeof ResizeObserver !== 'undefined' ? (typeof ResizeObserver !== 'undefined' ? (typeof ResizeObserver !== 'undefined' ? new ResizeObserver(() => { shiftCount++; })",
          "severity": "high",
          "description": "ResizeObserver API usage",
          "suggestion": "Add feature detection and fallbacks",
          "canAutoFix": true
        },
        {
          "type": "document-object",
          "line": 240,
          "code": "const container = typeof document !== 'undefined' ? (typeof document !== 'undefined' ? (typeof document !== 'undefined' ? (typeof document !== 'undefined' ? (typeof document !== 'undefined' ? (typeof document !== 'undefined' ? (typeof document !== 'undefined' ? document.querySelector('.aria-tabs-datagrid-adaptive') : null) : null) : null) : null) : null) : null) : null;",
          "severity": "blocking",
          "description": "Direct document object access",
          "suggestion": "Add typeof document !== \"undefined\" check or use in useEffect",
          "canAutoFix": true
        },
        {
          "type": "window-object",
          "line": 246,
          "code": "window.requestAnimationFrame(() => {",
          "severity": "blocking",
          "description": "Direct window object access",
          "suggestion": "Add typeof window !== \"undefined\" check or use in useEffect",
          "canAutoFix": true
        },
        {
          "type": "document-object",
          "line": 275,
          "code": "const announcement = document.createElement('div');",
          "severity": "blocking",
          "description": "Direct document object access",
          "suggestion": "Add typeof document !== \"undefined\" check or use in useEffect",
          "canAutoFix": true
        },
        {
          "type": "document-object",
          "line": 280,
          "code": "(typeof document !== 'undefined' ? (typeof document !== 'undefined' ? (typeof document !== 'undefined' ? (typeof document !== 'undefined' ? (typeof document !== 'undefined' ? (typeof document !== 'undefined' ? document.body : null) : null) : null) : null) : null) : null).appendChild(announcement);",
          "severity": "blocking",
          "description": "Direct document object access",
          "suggestion": "Add typeof document !== \"undefined\" check or use in useEffect",
          "canAutoFix": true
        },
        {
          "type": "document-object",
          "line": 293,
          "code": "const activeElement = document.activeElement;",
          "severity": "blocking",
          "description": "Direct document object access",
          "suggestion": "Add typeof document !== \"undefined\" check or use in useEffect",
          "canAutoFix": true
        },
        {
          "type": "window-object",
          "line": 298,
          "code": "window.requestAnimationFrame(() => {",
          "severity": "blocking",
          "description": "Direct window object access",
          "suggestion": "Add typeof window !== \"undefined\" check or use in useEffect",
          "canAutoFix": true
        },
        {
          "type": "document-object",
          "line": 299,
          "code": "const newActiveElement = (typeof document !== 'undefined' ? (typeof document !== 'undefined' ? (typeof document !== 'undefined' ? (typeof document !== 'undefined' ? (typeof document !== 'undefined' ? (typeof document !== 'undefined' ? document.getElementById(activeId) : null) : null) : null) : null) : null) : null);",
          "severity": "blocking",
          "description": "Direct document object access",
          "suggestion": "Add typeof document !== \"undefined\" check or use in useEffect",
          "canAutoFix": true
        },
        {
          "type": "document-object",
          "line": 304,
          "code": "const firstFocusable = (typeof document !== 'undefined' ? (typeof document !== 'undefined' ? (typeof document !== 'undefined' ? (typeof document !== 'undefined' ? (typeof document !== 'undefined' ? (typeof document !== 'undefined' ? document.querySelector(",
          "severity": "blocking",
          "description": "Direct document object access",
          "suggestion": "Add typeof document !== \"undefined\" check or use in useEffect",
          "canAutoFix": true
        }
      ],
      "hasHooks": true,
      "usesBrowserAPIs": true,
      "usesDOM": true,
      "canBeServerSide": false,
      "refactoringNeeded": [
        {
          "type": "add-ssr-guard",
          "description": "Add SSR guards for browser-only code",
          "automated": true,
          "complexity": "medium",
          "example": "\n// Before: window.innerWidth\n// After: typeof window !== 'undefined' ? window.innerWidth : 0"
        },
        {
          "type": "dynamic-import",
          "description": "Consider lazy loading this component",
          "automated": false,
          "complexity": "medium",
          "example": "\nconst HeavyComponent = dynamic(() => import('./HeavyComponent'), {\n  ssr: false,\n  loading: () => <div>Loading...</div>\n});"
        }
      ]
    },
    {
      "name": "icons",
      "filePath": "/Users/fergusbisset/Dropbox/Sites/nhs-fdp-design-system/src/components/SortableDataTable/icons.tsx",
      "compatibilityLevel": "fully-compatible",
      "issues": [],
      "hasHooks": false,
      "usesBrowserAPIs": false,
      "usesDOM": false,
      "canBeServerSide": true,
      "refactoringNeeded": []
    },
    {
      "name": "patient",
      "filePath": "/Users/fergusbisset/Dropbox/Sites/nhs-fdp-design-system/src/components/SortableDataTable/patient.tsx",
      "compatibilityLevel": "fully-compatible",
      "issues": [],
      "hasHooks": false,
      "usesBrowserAPIs": false,
      "usesDOM": false,
      "canBeServerSide": true,
      "refactoringNeeded": []
    },
    {
      "name": "utils",
      "filePath": "/Users/fergusbisset/Dropbox/Sites/nhs-fdp-design-system/src/components/SortableDataTable/utils.tsx",
      "compatibilityLevel": "fully-compatible",
      "issues": [],
      "hasHooks": false,
      "usesBrowserAPIs": false,
      "usesDOM": false,
      "canBeServerSide": true,
      "refactoringNeeded": []
    },
    {
      "name": "SpacingUtilities",
      "filePath": "/Users/fergusbisset/Dropbox/Sites/nhs-fdp-design-system/src/components/SpacingUtilities/SpacingUtilities.tsx",
      "compatibilityLevel": "fully-compatible",
      "issues": [],
      "hasHooks": false,
      "usesBrowserAPIs": false,
      "usesDOM": false,
      "canBeServerSide": true,
      "refactoringNeeded": []
    },
    {
      "name": "SpacingUtilities.types",
      "filePath": "/Users/fergusbisset/Dropbox/Sites/nhs-fdp-design-system/src/components/SpacingUtilities/SpacingUtilities.types.ts",
      "compatibilityLevel": "fully-compatible",
      "issues": [],
      "hasHooks": false,
      "usesBrowserAPIs": false,
      "usesDOM": false,
      "canBeServerSide": true,
      "refactoringNeeded": []
    },
    {
      "name": "SummaryCard.types",
      "filePath": "/Users/fergusbisset/Dropbox/Sites/nhs-fdp-design-system/src/components/SummaryCard/SummaryCard.types.ts",
      "compatibilityLevel": "fully-compatible",
      "issues": [],
      "hasHooks": false,
      "usesBrowserAPIs": false,
      "usesDOM": false,
      "canBeServerSide": true,
      "refactoringNeeded": []
    },
    {
      "name": "SummaryList",
      "filePath": "/Users/fergusbisset/Dropbox/Sites/nhs-fdp-design-system/src/components/SummaryList/SummaryList.tsx",
      "compatibilityLevel": "fully-compatible",
      "issues": [],
      "hasHooks": false,
      "usesBrowserAPIs": false,
      "usesDOM": false,
      "canBeServerSide": true,
      "refactoringNeeded": []
    },
    {
      "name": "SummaryList.types",
      "filePath": "/Users/fergusbisset/Dropbox/Sites/nhs-fdp-design-system/src/components/SummaryList/SummaryList.types.ts",
      "compatibilityLevel": "fully-compatible",
      "issues": [],
      "hasHooks": false,
      "usesBrowserAPIs": false,
      "usesDOM": false,
      "canBeServerSide": true,
      "refactoringNeeded": []
    },
    {
      "name": "Table",
      "filePath": "/Users/fergusbisset/Dropbox/Sites/nhs-fdp-design-system/src/components/Tables/Table.tsx",
      "compatibilityLevel": "fully-compatible",
      "issues": [],
      "hasHooks": false,
      "usesBrowserAPIs": false,
      "usesDOM": false,
      "canBeServerSide": true,
      "refactoringNeeded": []
    },
    {
      "name": "Table.types",
      "filePath": "/Users/fergusbisset/Dropbox/Sites/nhs-fdp-design-system/src/components/Tables/Table.types.ts",
      "compatibilityLevel": "fully-compatible",
      "issues": [],
      "hasHooks": false,
      "usesBrowserAPIs": false,
      "usesDOM": false,
      "canBeServerSide": true,
      "refactoringNeeded": []
    },
    {
      "name": "AriaTabs",
      "filePath": "/Users/fergusbisset/Dropbox/Sites/nhs-fdp-design-system/src/components/Tabs/AriaTabs.tsx",
      "compatibilityLevel": "fully-compatible",
      "issues": [],
      "hasHooks": false,
      "usesBrowserAPIs": false,
      "usesDOM": false,
      "canBeServerSide": true,
      "refactoringNeeded": []
    },
    {
      "name": "AriaTabsTypes",
      "filePath": "/Users/fergusbisset/Dropbox/Sites/nhs-fdp-design-system/src/components/Tabs/AriaTabsTypes.ts",
      "compatibilityLevel": "fully-compatible",
      "issues": [],
      "hasHooks": false,
      "usesBrowserAPIs": false,
      "usesDOM": false,
      "canBeServerSide": true,
      "refactoringNeeded": []
    },
    {
      "name": "Tabs",
      "filePath": "/Users/fergusbisset/Dropbox/Sites/nhs-fdp-design-system/src/components/Tabs/Tabs.tsx",
      "compatibilityLevel": "fully-compatible",
      "issues": [],
      "hasHooks": true,
      "usesBrowserAPIs": false,
      "usesDOM": false,
      "canBeServerSide": true,
      "refactoringNeeded": []
    },
    {
      "name": "Tabs.types",
      "filePath": "/Users/fergusbisset/Dropbox/Sites/nhs-fdp-design-system/src/components/Tabs/Tabs.types.ts",
      "compatibilityLevel": "fully-compatible",
      "issues": [],
      "hasHooks": false,
      "usesBrowserAPIs": false,
      "usesDOM": false,
      "canBeServerSide": true,
      "refactoringNeeded": []
    },
    {
      "name": "Tag.schema",
      "filePath": "/Users/fergusbisset/Dropbox/Sites/nhs-fdp-design-system/src/components/Tag/Tag.schema.ts",
      "compatibilityLevel": "fully-compatible",
      "issues": [],
      "hasHooks": false,
      "usesBrowserAPIs": false,
      "usesDOM": false,
      "canBeServerSide": true,
      "refactoringNeeded": []
    },
    {
      "name": "Tag",
      "filePath": "/Users/fergusbisset/Dropbox/Sites/nhs-fdp-design-system/src/components/Tag/Tag.tsx",
      "compatibilityLevel": "fully-compatible",
      "issues": [],
      "hasHooks": false,
      "usesBrowserAPIs": false,
      "usesDOM": false,
      "canBeServerSide": true,
      "refactoringNeeded": []
    },
    {
      "name": "Tag.types",
      "filePath": "/Users/fergusbisset/Dropbox/Sites/nhs-fdp-design-system/src/components/Tag/Tag.types.ts",
      "compatibilityLevel": "fully-compatible",
      "issues": [],
      "hasHooks": false,
      "usesBrowserAPIs": false,
      "usesDOM": false,
      "canBeServerSide": true,
      "refactoringNeeded": []
    },
    {
      "name": "TaskList",
      "filePath": "/Users/fergusbisset/Dropbox/Sites/nhs-fdp-design-system/src/components/TaskList/TaskList.tsx",
      "compatibilityLevel": "fully-compatible",
      "issues": [],
      "hasHooks": false,
      "usesBrowserAPIs": false,
      "usesDOM": false,
      "canBeServerSide": true,
      "refactoringNeeded": []
    },
    {
      "name": "Textarea.schema",
      "filePath": "/Users/fergusbisset/Dropbox/Sites/nhs-fdp-design-system/src/components/Textarea/Textarea.schema.ts",
      "compatibilityLevel": "fully-compatible",
      "issues": [],
      "hasHooks": false,
      "usesBrowserAPIs": false,
      "usesDOM": false,
      "canBeServerSide": true,
      "refactoringNeeded": []
    },
    {
      "name": "Textarea",
      "filePath": "/Users/fergusbisset/Dropbox/Sites/nhs-fdp-design-system/src/components/Textarea/Textarea.tsx",
      "compatibilityLevel": "fully-compatible",
      "issues": [],
      "hasHooks": false,
      "usesBrowserAPIs": false,
      "usesDOM": false,
      "canBeServerSide": true,
      "refactoringNeeded": []
    },
    {
      "name": "Textarea.types",
      "filePath": "/Users/fergusbisset/Dropbox/Sites/nhs-fdp-design-system/src/components/Textarea/Textarea.types.ts",
      "compatibilityLevel": "fully-compatible",
      "issues": [],
      "hasHooks": false,
      "usesBrowserAPIs": false,
      "usesDOM": false,
      "canBeServerSide": true,
      "refactoringNeeded": []
    },
    {
      "name": "TransactionalPageTemplate",
      "filePath": "/Users/fergusbisset/Dropbox/Sites/nhs-fdp-design-system/src/components/TransactionalPageTemplate/TransactionalPageTemplate.tsx",
      "compatibilityLevel": "requires-refactoring",
      "issues": [
        {
          "type": "window-object",
          "line": 107,
          "code": "*     onClick: () => window.history.back()",
          "severity": "blocking",
          "description": "Direct window object access",
          "suggestion": "Add typeof window !== \"undefined\" check or use in useEffect",
          "canAutoFix": true
        }
      ],
      "hasHooks": false,
      "usesBrowserAPIs": false,
      "usesDOM": false,
      "canBeServerSide": false,
      "refactoringNeeded": [
        {
          "type": "add-ssr-guard",
          "description": "Add SSR guards for browser-only code",
          "automated": true,
          "complexity": "medium",
          "example": "\n// Before: window.innerWidth\n// After: typeof window !== 'undefined' ? window.innerWidth : 0"
        }
      ]
    },
    {
      "name": "WarningCallout",
      "filePath": "/Users/fergusbisset/Dropbox/Sites/nhs-fdp-design-system/src/components/WarningCallout/WarningCallout.tsx",
      "compatibilityLevel": "fully-compatible",
      "issues": [],
      "hasHooks": false,
      "usesBrowserAPIs": false,
      "usesDOM": false,
      "canBeServerSide": true,
      "refactoringNeeded": []
    },
    {
      "name": "WidthContainer",
      "filePath": "/Users/fergusbisset/Dropbox/Sites/nhs-fdp-design-system/src/components/WidthContainer/WidthContainer.tsx",
      "compatibilityLevel": "fully-compatible",
      "issues": [],
      "hasHooks": false,
      "usesBrowserAPIs": false,
      "usesDOM": false,
      "canBeServerSide": true,
      "refactoringNeeded": []
    },
    {
      "name": "WidthUtilities",
      "filePath": "/Users/fergusbisset/Dropbox/Sites/nhs-fdp-design-system/src/components/WidthUtilities/WidthUtilities.tsx",
      "compatibilityLevel": "fully-compatible",
      "issues": [],
      "hasHooks": false,
      "usesBrowserAPIs": false,
      "usesDOM": false,
      "canBeServerSide": true,
      "refactoringNeeded": []
    },
    {
      "name": "WidthUtilities.types",
      "filePath": "/Users/fergusbisset/Dropbox/Sites/nhs-fdp-design-system/src/components/WidthUtilities/WidthUtilities.types.ts",
      "compatibilityLevel": "fully-compatible",
      "issues": [],
      "hasHooks": false,
      "usesBrowserAPIs": false,
      "usesDOM": false,
      "canBeServerSide": true,
      "refactoringNeeded": []
    },
    {
      "name": "ssr",
      "filePath": "/Users/fergusbisset/Dropbox/Sites/nhs-fdp-design-system/src/components/ssr.ts",
      "compatibilityLevel": "fully-compatible",
      "issues": [],
      "hasHooks": false,
      "usesBrowserAPIs": false,
      "usesDOM": false,
      "canBeServerSide": true,
      "refactoringNeeded": []
    },
    {
      "name": "test-account-icon",
      "filePath": "/Users/fergusbisset/Dropbox/Sites/nhs-fdp-design-system/src/components/test-account-icon.tsx",
      "compatibilityLevel": "fully-compatible",
      "issues": [],
      "hasHooks": false,
      "usesBrowserAPIs": false,
      "usesDOM": false,
      "canBeServerSide": true,
      "refactoringNeeded": []
    }
  ],
  "summary": {
    "overallCompatibility": 92,
    "majorIssues": [
      {
        "type": "window-object",
        "line": 51,
        "code": "const t = window.setTimeout(apply, delay);",
        "severity": "blocking",
        "description": "Direct window object access",
        "suggestion": "Add typeof window !== \"undefined\" check or use in useEffect",
        "canAutoFix": true
      },
      {
        "type": "window-object",
        "line": 52,
        "code": "return () => window.clearTimeout(t);",
        "severity": "blocking",
        "description": "Direct window object access",
        "suggestion": "Add typeof window !== \"undefined\" check or use in useEffect",
        "canAutoFix": true
      },
      {
        "type": "document-object",
        "line": 145,
        "code": "const link = document.createElement(\"a\");",
        "severity": "blocking",
        "description": "Direct document object access",
        "suggestion": "Add typeof document !== \"undefined\" check or use in useEffect",
        "canAutoFix": true
      },
      {
        "type": "document-object",
        "line": 150,
        "code": "(typeof document !== 'undefined' ? (typeof document !== 'undefined' ? (typeof document !== 'undefined' ? document.body : null) : null) : null).appendChild(link);",
        "severity": "blocking",
        "description": "Direct document object access",
        "suggestion": "Add typeof document !== \"undefined\" check or use in useEffect",
        "canAutoFix": true
      },
      {
        "type": "document-object",
        "line": 152,
        "code": "(typeof document !== 'undefined' ? (typeof document !== 'undefined' ? (typeof document !== 'undefined' ? document.body : null) : null) : null).removeChild(link);",
        "severity": "blocking",
        "description": "Direct document object access",
        "suggestion": "Add typeof document !== \"undefined\" check or use in useEffect",
        "canAutoFix": true
      },
      {
        "type": "window-object",
        "line": 399,
        "code": "// 2. For each candidate start, test shiftN consecutive points all above (or below) the global mean of previous window.",
        "severity": "blocking",
        "description": "Direct window object access",
        "suggestion": "Add typeof window !== \"undefined\" check or use in useEffect",
        "canAutoFix": true
      },
      {
        "type": "window-object",
        "line": 418,
        "code": "// Scan for first sustained favourable window after an initial stable window.",
        "severity": "blocking",
        "description": "Direct window object access",
        "suggestion": "Add typeof window !== \"undefined\" check or use in useEffect",
        "canAutoFix": true
      },
      {
        "type": "document-object",
        "line": 2,
        "code": "* Structured SPC test/story definitions derived from the XmR testing specification document.",
        "severity": "blocking",
        "description": "Direct document object access",
        "suggestion": "Add typeof document !== \"undefined\" check or use in useEffect",
        "canAutoFix": true
      },
      {
        "type": "window-object",
        "line": 32,
        "code": "/** Maximum number of points to render (thinning for performance). Classification still uses full window. */",
        "severity": "blocking",
        "description": "Direct window object access",
        "suggestion": "Add typeof window !== \"undefined\" check or use in useEffect",
        "canAutoFix": true
      },
      {
        "type": "useLayoutEffect",
        "line": 23,
        "code": "React.useLayoutEffect(() => {",
        "severity": "high",
        "description": "useLayoutEffect does not run during SSR",
        "suggestion": "Add SSR guard or use useEffect with proper fallbacks",
        "canAutoFix": true
      }
    ],
    "quickWins": [
      {
        "name": "ChartWithTableTabs",
        "filePath": "/Users/fergusbisset/Dropbox/Sites/nhs-fdp-design-system/src/components/DataVisualisation/charts/ChartWithTableTabs/ChartWithTableTabs.tsx",
        "compatibilityLevel": "requires-refactoring",
        "issues": [
          {
            "type": "document-object",
            "line": 145,
            "code": "const link = document.createElement(\"a\");",
            "severity": "blocking",
            "description": "Direct document object access",
            "suggestion": "Add typeof document !== \"undefined\" check or use in useEffect",
            "canAutoFix": true
          },
          {
            "type": "document-object",
            "line": 150,
            "code": "(typeof document !== 'undefined' ? (typeof document !== 'undefined' ? (typeof document !== 'undefined' ? document.body : null) : null) : null).appendChild(link);",
            "severity": "blocking",
            "description": "Direct document object access",
            "suggestion": "Add typeof document !== \"undefined\" check or use in useEffect",
            "canAutoFix": true
          },
          {
            "type": "document-object",
            "line": 152,
            "code": "(typeof document !== 'undefined' ? (typeof document !== 'undefined' ? (typeof document !== 'undefined' ? document.body : null) : null) : null).removeChild(link);",
            "severity": "blocking",
            "description": "Direct document object access",
            "suggestion": "Add typeof document !== \"undefined\" check or use in useEffect",
            "canAutoFix": true
          }
        ],
        "hasHooks": false,
        "usesBrowserAPIs": true,
        "usesDOM": false,
        "canBeServerSide": false,
        "refactoringNeeded": [
          {
            "type": "add-ssr-guard",
            "description": "Add SSR guards for browser-only code",
            "automated": true,
            "complexity": "medium",
            "example": "\n// Before: window.innerWidth\n// After: typeof window !== 'undefined' ? window.innerWidth : 0"
          }
        ]
      },
      {
        "name": "spc",
        "filePath": "/Users/fergusbisset/Dropbox/Sites/nhs-fdp-design-system/src/components/DataVisualisation/charts/SPC/SPCChart/logic/spc.ts",
        "compatibilityLevel": "requires-refactoring",
        "issues": [
          {
            "type": "window-object",
            "line": 399,
            "code": "// 2. For each candidate start, test shiftN consecutive points all above (or below) the global mean of previous window.",
            "severity": "blocking",
            "description": "Direct window object access",
            "suggestion": "Add typeof window !== \"undefined\" check or use in useEffect",
            "canAutoFix": true
          },
          {
            "type": "window-object",
            "line": 418,
            "code": "// Scan for first sustained favourable window after an initial stable window.",
            "severity": "blocking",
            "description": "Direct window object access",
            "suggestion": "Add typeof window !== \"undefined\" check or use in useEffect",
            "canAutoFix": true
          }
        ],
        "hasHooks": false,
        "usesBrowserAPIs": false,
        "usesDOM": false,
        "canBeServerSide": false,
        "refactoringNeeded": [
          {
            "type": "add-ssr-guard",
            "description": "Add SSR guards for browser-only code",
            "automated": true,
            "complexity": "medium",
            "example": "\n// Before: window.innerWidth\n// After: typeof window !== 'undefined' ? window.innerWidth : 0"
          }
        ]
      },
      {
        "name": "spcTestCases",
        "filePath": "/Users/fergusbisset/Dropbox/Sites/nhs-fdp-design-system/src/components/DataVisualisation/charts/SPC/SPCChart/test-data/spcTestCases.ts",
        "compatibilityLevel": "requires-refactoring",
        "issues": [
          {
            "type": "document-object",
            "line": 2,
            "code": "* Structured SPC test/story definitions derived from the XmR testing specification document.",
            "severity": "blocking",
            "description": "Direct document object access",
            "suggestion": "Add typeof document !== \"undefined\" check or use in useEffect",
            "canAutoFix": true
          }
        ],
        "hasHooks": false,
        "usesBrowserAPIs": false,
        "usesDOM": false,
        "canBeServerSide": false,
        "refactoringNeeded": [
          {
            "type": "add-ssr-guard",
            "description": "Add SSR guards for browser-only code",
            "automated": true,
            "complexity": "medium",
            "example": "\n// Before: window.innerWidth\n// After: typeof window !== 'undefined' ? window.innerWidth : 0"
          }
        ]
      },
      {
        "name": "SPCSpark.types",
        "filePath": "/Users/fergusbisset/Dropbox/Sites/nhs-fdp-design-system/src/components/DataVisualisation/charts/SPC/SPCSpark/SPCSpark.types.ts",
        "compatibilityLevel": "requires-refactoring",
        "issues": [
          {
            "type": "window-object",
            "line": 32,
            "code": "/** Maximum number of points to render (thinning for performance). Classification still uses full window. */",
            "severity": "blocking",
            "description": "Direct window object access",
            "suggestion": "Add typeof window !== \"undefined\" check or use in useEffect",
            "canAutoFix": true
          }
        ],
        "hasHooks": false,
        "usesBrowserAPIs": false,
        "usesDOM": false,
        "canBeServerSide": false,
        "refactoringNeeded": [
          {
            "type": "add-ssr-guard",
            "description": "Add SSR guards for browser-only code",
            "automated": true,
            "complexity": "medium",
            "example": "\n// Before: window.innerWidth\n// After: typeof window !== 'undefined' ? window.innerWidth : 0"
          }
        ]
      },
      {
        "name": "patterns",
        "filePath": "/Users/fergusbisset/Dropbox/Sites/nhs-fdp-design-system/src/components/DataVisualisation/utils/patterns.ts",
        "compatibilityLevel": "requires-refactoring",
        "issues": [
          {
            "type": "document-object",
            "line": 125,
            "code": "export function injectPatterns(patterns: PatternDefinition[], root: HTMLElement | null = typeof document !== 'undefined' ? (typeof document !== 'undefined' ? (typeof document !== 'undefined' ? (typeof document !== 'undefined' ? (typeof document !== 'undefined' ? (typeof document !== 'undefined' ? (typeof document !== 'undefined' ? document.body : null) : null) : null) : null) : null) : null) : null) {",
            "severity": "blocking",
            "description": "Direct document object access",
            "suggestion": "Add typeof document !== \"undefined\" check or use in useEffect",
            "canAutoFix": true
          },
          {
            "type": "document-object",
            "line": 130,
            "code": "defs = document.createElementNS('http://www.w3.org/2000/svg', 'svg') as SVGSVGElement;",
            "severity": "blocking",
            "description": "Direct document object access",
            "suggestion": "Add typeof document !== \"undefined\" check or use in useEffect",
            "canAutoFix": true
          },
          {
            "type": "document-object",
            "line": 140,
            "code": "const frag = document.createElement('div');",
            "severity": "blocking",
            "description": "Direct document object access",
            "suggestion": "Add typeof document !== \"undefined\" check or use in useEffect",
            "canAutoFix": true
          }
        ],
        "hasHooks": false,
        "usesBrowserAPIs": false,
        "usesDOM": true,
        "canBeServerSide": false,
        "refactoringNeeded": [
          {
            "type": "add-ssr-guard",
            "description": "Add SSR guards for browser-only code",
            "automated": true,
            "complexity": "medium",
            "example": "\n// Before: window.innerWidth\n// After: typeof window !== 'undefined' ? window.innerWidth : 0"
          }
        ]
      },
      {
        "name": "GanttChart",
        "filePath": "/Users/fergusbisset/Dropbox/Sites/nhs-fdp-design-system/src/components/GanttChart/GanttChart.tsx",
        "compatibilityLevel": "requires-refactoring",
        "issues": [
          {
            "type": "document-object",
            "line": 88,
            "code": "const firstRowTimeline = (typeof document !== 'undefined' ? (typeof document !== 'undefined' ? (typeof document !== 'undefined' ? (typeof document !== 'undefined' ? (typeof document !== 'undefined' ? (typeof document !== 'undefined' ? (typeof document !== 'undefined' ? (typeof document !== 'undefined' ? (typeof document !== 'undefined' ? (typeof document !== 'undefined' ? (typeof document !== 'undefined' ? (typeof document !== 'undefined' ? (typeof document !== 'undefined' ? (typeof document !== 'undefined' ? (typeof document !== 'undefined' ? (typeof document !== 'undefined' ? document.querySelector('.gantt-row .timeline-container') : null) : null) : null) : null) : null) : null) : null) : null) : null) : null) : null) : null) : null) : null) : null) : null) as HTMLElement | null;",
            "severity": "blocking",
            "description": "Direct document object access",
            "suggestion": "Add typeof document !== \"undefined\" check or use in useEffect",
            "canAutoFix": true
          },
          {
            "type": "document-object",
            "line": 108,
            "code": "const firstRowResource = (typeof document !== 'undefined' ? (typeof document !== 'undefined' ? (typeof document !== 'undefined' ? (typeof document !== 'undefined' ? (typeof document !== 'undefined' ? (typeof document !== 'undefined' ? (typeof document !== 'undefined' ? (typeof document !== 'undefined' ? (typeof document !== 'undefined' ? (typeof document !== 'undefined' ? (typeof document !== 'undefined' ? (typeof document !== 'undefined' ? (typeof document !== 'undefined' ? (typeof document !== 'undefined' ? (typeof document !== 'undefined' ? (typeof document !== 'undefined' ? document.querySelector('.gantt-row .resource-label') : null) : null) : null) : null) : null) : null) : null) : null) : null) : null) : null) : null) : null) : null) : null) : null) as HTMLElement | null;",
            "severity": "blocking",
            "description": "Direct document object access",
            "suggestion": "Add typeof document !== \"undefined\" check or use in useEffect",
            "canAutoFix": true
          },
          {
            "type": "useEffect",
            "line": 211,
            "code": "useEffect(() => {",
            "severity": "medium",
            "description": "useEffect runs only on client side",
            "suggestion": "Consider moving to useLayoutEffect for DOM measurements or add SSR guards",
            "canAutoFix": false
          },
          {
            "type": "document-object",
            "line": 240,
            "code": "const headerTimeline = (typeof document !== 'undefined' ? (typeof document !== 'undefined' ? (typeof document !== 'undefined' ? (typeof document !== 'undefined' ? (typeof document !== 'undefined' ? (typeof document !== 'undefined' ? (typeof document !== 'undefined' ? (typeof document !== 'undefined' ? (typeof document !== 'undefined' ? (typeof document !== 'undefined' ? (typeof document !== 'undefined' ? (typeof document !== 'undefined' ? (typeof document !== 'undefined' ? (typeof document !== 'undefined' ? (typeof document !== 'undefined' ? (typeof document !== 'undefined' ? document.querySelector('.header-timeline') : null) : null) : null) : null) : null) : null) : null) : null) : null) : null) : null) : null) : null) : null) : null) : null) as HTMLElement | null;",
            "severity": "blocking",
            "description": "Direct document object access",
            "suggestion": "Add typeof document !== \"undefined\" check or use in useEffect",
            "canAutoFix": true
          },
          {
            "type": "document-object",
            "line": 245,
            "code": "const prevRow = (typeof document !== 'undefined' ? (typeof document !== 'undefined' ? (typeof document !== 'undefined' ? (typeof document !== 'undefined' ? (typeof document !== 'undefined' ? (typeof document !== 'undefined' ? (typeof document !== 'undefined' ? (typeof document !== 'undefined' ? (typeof document !== 'undefined' ? (typeof document !== 'undefined' ? (typeof document !== 'undefined' ? (typeof document !== 'undefined' ? (typeof document !== 'undefined' ? (typeof document !== 'undefined' ? (typeof document !== 'undefined' ? (typeof document !== 'undefined' ? document.querySelector(`[aria-rowindex=\"${rowIndex + 1}\"] .timeline-container`) : null) : null) : null) : null) : null) : null) : null) : null) : null) : null) : null) : null) : null) : null) : null) : null) as HTMLElement | null;",
            "severity": "blocking",
            "description": "Direct document object access",
            "suggestion": "Add typeof document !== \"undefined\" check or use in useEffect",
            "canAutoFix": true
          },
          {
            "type": "document-object",
            "line": 253,
            "code": "const nextRow = (typeof document !== 'undefined' ? (typeof document !== 'undefined' ? (typeof document !== 'undefined' ? (typeof document !== 'undefined' ? (typeof document !== 'undefined' ? (typeof document !== 'undefined' ? (typeof document !== 'undefined' ? (typeof document !== 'undefined' ? (typeof document !== 'undefined' ? (typeof document !== 'undefined' ? (typeof document !== 'undefined' ? (typeof document !== 'undefined' ? (typeof document !== 'undefined' ? (typeof document !== 'undefined' ? (typeof document !== 'undefined' ? (typeof document !== 'undefined' ? document.querySelector(`[aria-rowindex=\"${rowIndex + 3}\"] .timeline-container`) : null) : null) : null) : null) : null) : null) : null) : null) : null) : null) : null) : null) : null) : null) : null) : null) as HTMLElement | null;",
            "severity": "blocking",
            "description": "Direct document object access",
            "suggestion": "Add typeof document !== \"undefined\" check or use in useEffect",
            "canAutoFix": true
          },
          {
            "type": "document-object",
            "line": 317,
            "code": "const headerResource = (typeof document !== 'undefined' ? (typeof document !== 'undefined' ? (typeof document !== 'undefined' ? (typeof document !== 'undefined' ? (typeof document !== 'undefined' ? (typeof document !== 'undefined' ? (typeof document !== 'undefined' ? (typeof document !== 'undefined' ? (typeof document !== 'undefined' ? (typeof document !== 'undefined' ? (typeof document !== 'undefined' ? (typeof document !== 'undefined' ? (typeof document !== 'undefined' ? (typeof document !== 'undefined' ? (typeof document !== 'undefined' ? (typeof document !== 'undefined' ? document.querySelector('.header-resource') : null) : null) : null) : null) : null) : null) : null) : null) : null) : null) : null) : null) : null) : null) : null) : null) as HTMLElement | null;",
            "severity": "blocking",
            "description": "Direct document object access",
            "suggestion": "Add typeof document !== \"undefined\" check or use in useEffect",
            "canAutoFix": true
          },
          {
            "type": "document-object",
            "line": 322,
            "code": "const prevRow = (typeof document !== 'undefined' ? (typeof document !== 'undefined' ? (typeof document !== 'undefined' ? (typeof document !== 'undefined' ? (typeof document !== 'undefined' ? (typeof document !== 'undefined' ? (typeof document !== 'undefined' ? (typeof document !== 'undefined' ? (typeof document !== 'undefined' ? (typeof document !== 'undefined' ? (typeof document !== 'undefined' ? (typeof document !== 'undefined' ? (typeof document !== 'undefined' ? (typeof document !== 'undefined' ? (typeof document !== 'undefined' ? (typeof document !== 'undefined' ? document.querySelector(`[aria-rowindex=\"${rowIndex + 1}\"] .resource-label`) : null) : null) : null) : null) : null) : null) : null) : null) : null) : null) : null) : null) : null) : null) : null) : null) as HTMLElement | null;",
            "severity": "blocking",
            "description": "Direct document object access",
            "suggestion": "Add typeof document !== \"undefined\" check or use in useEffect",
            "canAutoFix": true
          },
          {
            "type": "document-object",
            "line": 330,
            "code": "const nextRow = (typeof document !== 'undefined' ? (typeof document !== 'undefined' ? (typeof document !== 'undefined' ? (typeof document !== 'undefined' ? (typeof document !== 'undefined' ? (typeof document !== 'undefined' ? (typeof document !== 'undefined' ? (typeof document !== 'undefined' ? (typeof document !== 'undefined' ? (typeof document !== 'undefined' ? (typeof document !== 'undefined' ? (typeof document !== 'undefined' ? (typeof document !== 'undefined' ? (typeof document !== 'undefined' ? (typeof document !== 'undefined' ? (typeof document !== 'undefined' ? document.querySelector(`[aria-rowindex=\"${rowIndex + 3}\"] .resource-label`) : null) : null) : null) : null) : null) : null) : null) : null) : null) : null) : null) : null) : null) : null) : null) : null) as HTMLElement | null;",
            "severity": "blocking",
            "description": "Direct document object access",
            "suggestion": "Add typeof document !== \"undefined\" check or use in useEffect",
            "canAutoFix": true
          },
          {
            "type": "useEffect",
            "line": 450,
            "code": "useEffect(() => {",
            "severity": "medium",
            "description": "useEffect runs only on client side",
            "suggestion": "Consider moving to useLayoutEffect for DOM measurements or add SSR guards",
            "canAutoFix": false
          },
          {
            "type": "resize-observer",
            "line": 453,
            "code": "// Some SSR environments may not have ResizeObserver",
            "severity": "high",
            "description": "ResizeObserver API usage",
            "suggestion": "Add feature detection and fallbacks",
            "canAutoFix": true
          },
          {
            "type": "resize-observer",
            "line": 454,
            "code": "const RO: typeof ResizeObserver | undefined = (typeof ResizeObserver !== 'undefined' ? ResizeObserver : undefined) as any;",
            "severity": "high",
            "description": "ResizeObserver API usage",
            "suggestion": "Add feature detection and fallbacks",
            "canAutoFix": true
          },
          {
            "type": "resize-observer",
            "line": 454,
            "code": "const RO: typeof ResizeObserver | undefined = (typeof ResizeObserver !== 'undefined' ? ResizeObserver : undefined) as any;",
            "severity": "high",
            "description": "ResizeObserver API usage",
            "suggestion": "Add feature detection and fallbacks",
            "canAutoFix": true
          },
          {
            "type": "resize-observer",
            "line": 454,
            "code": "const RO: typeof ResizeObserver | undefined = (typeof ResizeObserver !== 'undefined' ? ResizeObserver : undefined) as any;",
            "severity": "high",
            "description": "ResizeObserver API usage",
            "suggestion": "Add feature detection and fallbacks",
            "canAutoFix": true
          }
        ],
        "hasHooks": true,
        "usesBrowserAPIs": true,
        "usesDOM": true,
        "canBeServerSide": false,
        "refactoringNeeded": [
          {
            "type": "add-ssr-guard",
            "description": "Add SSR guards for browser-only code",
            "automated": true,
            "complexity": "medium",
            "example": "\n// Before: window.innerWidth\n// After: typeof window !== 'undefined' ? window.innerWidth : 0"
          },
          {
            "type": "dynamic-import",
            "description": "Consider lazy loading this component",
            "automated": false,
            "complexity": "medium",
            "example": "\nconst HeavyComponent = dynamic(() => import('./HeavyComponent'), {\n  ssr: false,\n  loading: () => <div>Loading...</div>\n});"
          }
        ]
      },
      {
        "name": "NavigationSplitView.types",
        "filePath": "/Users/fergusbisset/Dropbox/Sites/nhs-fdp-design-system/src/components/NavigationSplitView/NavigationSplitView.types.ts",
        "compatibilityLevel": "requires-refactoring",
        "issues": [
          {
            "type": "localStorage",
            "line": 140,
            "code": "persistNavCollapsed?: 'localStorage' | 'url' | 'both';",
            "severity": "blocking",
            "description": "localStorage is not available during SSR",
            "suggestion": "Add browser check or use a library like use-local-storage-state",
            "canAutoFix": true
          },
          {
            "type": "localStorage",
            "line": 141,
            "code": "/** Storage key used when persistNavCollapsed includes localStorage (default: 'nsvCollapsed'). */",
            "severity": "blocking",
            "description": "localStorage is not available during SSR",
            "suggestion": "Add browser check or use a library like use-local-storage-state",
            "canAutoFix": true
          }
        ],
        "hasHooks": false,
        "usesBrowserAPIs": false,
        "usesDOM": false,
        "canBeServerSide": false,
        "refactoringNeeded": [
          {
            "type": "add-ssr-guard",
            "description": "Add SSR guards for browser-only code",
            "automated": true,
            "complexity": "medium",
            "example": "\n// Before: window.innerWidth\n// After: typeof window !== 'undefined' ? window.innerWidth : 0"
          }
        ]
      },
      {
        "name": "ProductRoadmap",
        "filePath": "/Users/fergusbisset/Dropbox/Sites/nhs-fdp-design-system/src/components/ProductRoadmap/ProductRoadmap.tsx",
        "compatibilityLevel": "requires-refactoring",
        "issues": [
          {
            "type": "window-object",
            "line": 116,
            "code": "const prefersReduce = (typeof window !== 'undefined' && typeof window.matchMedia === 'function')",
            "severity": "blocking",
            "description": "Direct window object access",
            "suggestion": "Add typeof window !== \"undefined\" check or use in useEffect",
            "canAutoFix": true
          },
          {
            "type": "window-object",
            "line": 117,
            "code": "? (typeof window !== 'undefined' && window.matchMedia ? window.matchMedia('(prefers-reduced-motion: reduce)').matches",
            "severity": "blocking",
            "description": "Direct window object access",
            "suggestion": "Add typeof window !== \"undefined\" check or use in useEffect",
            "canAutoFix": true
          },
          {
            "type": "window-object",
            "line": 117,
            "code": "? (typeof window !== 'undefined' && window.matchMedia ? window.matchMedia('(prefers-reduced-motion: reduce)').matches",
            "severity": "blocking",
            "description": "Direct window object access",
            "suggestion": "Add typeof window !== \"undefined\" check or use in useEffect",
            "canAutoFix": true
          },
          {
            "type": "media-query",
            "line": 117,
            "code": "? (typeof window !== 'undefined' && window.matchMedia ? window.matchMedia('(prefers-reduced-motion: reduce)').matches",
            "severity": "high",
            "description": "matchMedia API usage",
            "suggestion": "Add window check and use CSS media queries for initial render",
            "canAutoFix": true
          },
          {
            "type": "document-object",
            "line": 120,
            "code": "const nodes = Array.from(document.querySelectorAll(selector)) as HTMLElement[];",
            "severity": "blocking",
            "description": "Direct document object access",
            "suggestion": "Add typeof document !== \"undefined\" check or use in useEffect",
            "canAutoFix": true
          }
        ],
        "hasHooks": true,
        "usesBrowserAPIs": true,
        "usesDOM": false,
        "canBeServerSide": false,
        "refactoringNeeded": [
          {
            "type": "add-ssr-guard",
            "description": "Add SSR guards for browser-only code",
            "automated": true,
            "complexity": "medium",
            "example": "\n// Before: window.innerWidth\n// After: typeof window !== 'undefined' ? window.innerWidth : 0"
          }
        ]
      },
      {
        "name": "SkipLink",
        "filePath": "/Users/fergusbisset/Dropbox/Sites/nhs-fdp-design-system/src/components/SkipLink/SkipLink.tsx",
        "compatibilityLevel": "requires-refactoring",
        "issues": [
          {
            "type": "useEffect",
            "line": 34,
            "code": "useEffect(() => {",
            "severity": "medium",
            "description": "useEffect runs only on client side",
            "suggestion": "Consider moving to useLayoutEffect for DOM measurements or add SSR guards",
            "canAutoFix": false
          },
          {
            "type": "useEffect",
            "line": 38,
            "code": "useEffect(() => {",
            "severity": "medium",
            "description": "useEffect runs only on client side",
            "suggestion": "Consider moving to useLayoutEffect for DOM measurements or add SSR guards",
            "canAutoFix": false
          },
          {
            "type": "document-object",
            "line": 42,
            "code": "!document.querySelector ||",
            "severity": "blocking",
            "description": "Direct document object access",
            "suggestion": "Add typeof document !== \"undefined\" check or use in useEffect",
            "canAutoFix": true
          },
          {
            "type": "document-object",
            "line": 43,
            "code": "!document.querySelectorAll) {",
            "severity": "blocking",
            "description": "Direct document object access",
            "suggestion": "Add typeof document !== \"undefined\" check or use in useEffect",
            "canAutoFix": true
          },
          {
            "type": "document-object",
            "line": 52,
            "code": "const targetElement = (typeof document !== 'undefined' ? (typeof document !== 'undefined' ? (typeof document !== 'undefined' ? (typeof document !== 'undefined' ? (typeof document !== 'undefined' ? (typeof document !== 'undefined' ? (typeof document !== 'undefined' ? (typeof document !== 'undefined' ? document.querySelector(targetId) : null) : null) : null) : null) : null) : null) : null) : null);",
            "severity": "blocking",
            "description": "Direct document object access",
            "suggestion": "Add typeof document !== \"undefined\" check or use in useEffect",
            "canAutoFix": true
          },
          {
            "type": "window-object",
            "line": 65,
            "code": "// Clean up after a short delay - use window.setTimeout to ensure availability",
            "severity": "blocking",
            "description": "Direct window object access",
            "suggestion": "Add typeof window !== \"undefined\" check or use in useEffect",
            "canAutoFix": true
          },
          {
            "type": "window-object",
            "line": 66,
            "code": "const timeoutId = window.setTimeout(() => {",
            "severity": "blocking",
            "description": "Direct window object access",
            "suggestion": "Add typeof window !== \"undefined\" check or use in useEffect",
            "canAutoFix": true
          },
          {
            "type": "document-object",
            "line": 82,
            "code": "const skipLinks = document.querySelectorAll('.nhsuk-skip-link');",
            "severity": "blocking",
            "description": "Direct document object access",
            "suggestion": "Add typeof document !== \"undefined\" check or use in useEffect",
            "canAutoFix": true
          },
          {
            "type": "event-listener",
            "line": 84,
            "code": "link.addEventListener('click', handleSkipLinkClick);",
            "severity": "medium",
            "description": "Event listener setup",
            "suggestion": "Move to useEffect hook",
            "canAutoFix": true
          },
          {
            "type": "window-object",
            "line": 94,
            "code": "if (timeoutId && window.clearTimeout) {",
            "severity": "blocking",
            "description": "Direct window object access",
            "suggestion": "Add typeof window !== \"undefined\" check or use in useEffect",
            "canAutoFix": true
          },
          {
            "type": "window-object",
            "line": 95,
            "code": "window.clearTimeout(timeoutId);",
            "severity": "blocking",
            "description": "Direct window object access",
            "suggestion": "Add typeof window !== \"undefined\" check or use in useEffect",
            "canAutoFix": true
          }
        ],
        "hasHooks": true,
        "usesBrowserAPIs": true,
        "usesDOM": true,
        "canBeServerSide": false,
        "refactoringNeeded": [
          {
            "type": "add-ssr-guard",
            "description": "Add SSR guards for browser-only code",
            "automated": true,
            "complexity": "medium",
            "example": "\n// Before: window.innerWidth\n// After: typeof window !== 'undefined' ? window.innerWidth : 0"
          },
          {
            "type": "dynamic-import",
            "description": "Consider lazy loading this component",
            "automated": false,
            "complexity": "medium",
            "example": "\nconst HeavyComponent = dynamic(() => import('./HeavyComponent'), {\n  ssr: false,\n  loading: () => <div>Loading...</div>\n});"
          }
        ]
      },
      {
        "name": "useIntelligentLayout",
        "filePath": "/Users/fergusbisset/Dropbox/Sites/nhs-fdp-design-system/src/components/SortableDataTable/hooks/useIntelligentLayout.ts",
        "compatibilityLevel": "requires-refactoring",
        "issues": [
          {
            "type": "window-object",
            "line": 61,
            "code": "const width = typeof window !== 'undefined' ? (typeof window !== 'undefined' ? (typeof window !== 'undefined' ? (typeof window !== 'undefined' ? (typeof window !== 'undefined' ? (typeof window !== 'undefined' ? (typeof window !== 'undefined' ? (typeof window !== 'undefined' ? (typeof window !== 'undefined' ? (typeof window !== 'undefined' ? (typeof window !== 'undefined' ? (typeof window !== 'undefined' ? (typeof window !== 'undefined' ? (typeof window !== 'undefined' ? (typeof window !== 'undefined' ? (typeof window !== 'undefined' ? (typeof window !== 'undefined' ? (typeof window !== 'undefined' ? window.innerWidth : 1024) : 1024) : 1024) : 1024) : 1024) : 1024) : 1024) : 1024) : 1024) : 1024) : 1024) : 1024) : 1024) : 1024) : 1024) : 1024) : 1024) : 1024;",
            "severity": "blocking",
            "description": "Direct window object access",
            "suggestion": "Add typeof window !== \"undefined\" check or use in useEffect",
            "canAutoFix": true
          },
          {
            "type": "window-object",
            "line": 62,
            "code": "const height = typeof window !== 'undefined' ? (typeof window !== 'undefined' ? (typeof window !== 'undefined' ? (typeof window !== 'undefined' ? (typeof window !== 'undefined' ? (typeof window !== 'undefined' ? (typeof window !== 'undefined' ? (typeof window !== 'undefined' ? (typeof window !== 'undefined' ? (typeof window !== 'undefined' ? (typeof window !== 'undefined' ? (typeof window !== 'undefined' ? (typeof window !== 'undefined' ? (typeof window !== 'undefined' ? (typeof window !== 'undefined' ? (typeof window !== 'undefined' ? (typeof window !== 'undefined' ? (typeof window !== 'undefined' ? window.innerHeight : 768) : 768) : 768) : 768) : 768) : 768) : 768) : 768) : 768) : 768) : 768) : 768) : 768) : 768) : 768) : 768) : 768) : 768;",
            "severity": "blocking",
            "description": "Direct window object access",
            "suggestion": "Add typeof window !== \"undefined\" check or use in useEffect",
            "canAutoFix": true
          },
          {
            "type": "window-object",
            "line": 68,
            "code": "highDensity: typeof window !== 'undefined' ? window.devicePixelRatio > 1.5 : false,",
            "severity": "blocking",
            "description": "Direct window object access",
            "suggestion": "Add typeof window !== \"undefined\" check or use in useEffect",
            "canAutoFix": true
          },
          {
            "type": "window-object",
            "line": 69,
            "code": "reducedMotion: (typeof window !== 'undefined' && typeof window.matchMedia === 'function') ? (typeof window !== 'undefined' && window.matchMedia ? (typeof window !== 'undefined' && window.matchMedia ? (typeof window !== 'undefined' && window.matchMedia ? (typeof window !== 'undefined' && window.matchMedia ? window.matchMedia('(prefers-reduced-motion: reduce)').matches : false,",
            "severity": "blocking",
            "description": "Direct window object access",
            "suggestion": "Add typeof window !== \"undefined\" check or use in useEffect",
            "canAutoFix": true
          },
          {
            "type": "window-object",
            "line": 69,
            "code": "reducedMotion: (typeof window !== 'undefined' && typeof window.matchMedia === 'function') ? (typeof window !== 'undefined' && window.matchMedia ? (typeof window !== 'undefined' && window.matchMedia ? (typeof window !== 'undefined' && window.matchMedia ? (typeof window !== 'undefined' && window.matchMedia ? window.matchMedia('(prefers-reduced-motion: reduce)').matches : false,",
            "severity": "blocking",
            "description": "Direct window object access",
            "suggestion": "Add typeof window !== \"undefined\" check or use in useEffect",
            "canAutoFix": true
          },
          {
            "type": "window-object",
            "line": 69,
            "code": "reducedMotion: (typeof window !== 'undefined' && typeof window.matchMedia === 'function') ? (typeof window !== 'undefined' && window.matchMedia ? (typeof window !== 'undefined' && window.matchMedia ? (typeof window !== 'undefined' && window.matchMedia ? (typeof window !== 'undefined' && window.matchMedia ? window.matchMedia('(prefers-reduced-motion: reduce)').matches : false,",
            "severity": "blocking",
            "description": "Direct window object access",
            "suggestion": "Add typeof window !== \"undefined\" check or use in useEffect",
            "canAutoFix": true
          },
          {
            "type": "window-object",
            "line": 69,
            "code": "reducedMotion: (typeof window !== 'undefined' && typeof window.matchMedia === 'function') ? (typeof window !== 'undefined' && window.matchMedia ? (typeof window !== 'undefined' && window.matchMedia ? (typeof window !== 'undefined' && window.matchMedia ? (typeof window !== 'undefined' && window.matchMedia ? window.matchMedia('(prefers-reduced-motion: reduce)').matches : false,",
            "severity": "blocking",
            "description": "Direct window object access",
            "suggestion": "Add typeof window !== \"undefined\" check or use in useEffect",
            "canAutoFix": true
          },
          {
            "type": "window-object",
            "line": 69,
            "code": "reducedMotion: (typeof window !== 'undefined' && typeof window.matchMedia === 'function') ? (typeof window !== 'undefined' && window.matchMedia ? (typeof window !== 'undefined' && window.matchMedia ? (typeof window !== 'undefined' && window.matchMedia ? (typeof window !== 'undefined' && window.matchMedia ? window.matchMedia('(prefers-reduced-motion: reduce)').matches : false,",
            "severity": "blocking",
            "description": "Direct window object access",
            "suggestion": "Add typeof window !== \"undefined\" check or use in useEffect",
            "canAutoFix": true
          },
          {
            "type": "window-object",
            "line": 69,
            "code": "reducedMotion: (typeof window !== 'undefined' && typeof window.matchMedia === 'function') ? (typeof window !== 'undefined' && window.matchMedia ? (typeof window !== 'undefined' && window.matchMedia ? (typeof window !== 'undefined' && window.matchMedia ? (typeof window !== 'undefined' && window.matchMedia ? window.matchMedia('(prefers-reduced-motion: reduce)').matches : false,",
            "severity": "blocking",
            "description": "Direct window object access",
            "suggestion": "Add typeof window !== \"undefined\" check or use in useEffect",
            "canAutoFix": true
          },
          {
            "type": "media-query",
            "line": 69,
            "code": "reducedMotion: (typeof window !== 'undefined' && typeof window.matchMedia === 'function') ? (typeof window !== 'undefined' && window.matchMedia ? (typeof window !== 'undefined' && window.matchMedia ? (typeof window !== 'undefined' && window.matchMedia ? (typeof window !== 'undefined' && window.matchMedia ? window.matchMedia('(prefers-reduced-motion: reduce)').matches : false,",
            "severity": "high",
            "description": "matchMedia API usage",
            "suggestion": "Add window check and use CSS media queries for initial render",
            "canAutoFix": true
          },
          {
            "type": "window-object",
            "line": 70,
            "code": "forcedColors: (typeof window !== 'undefined' && typeof window.matchMedia === 'function') ? (typeof window !== 'undefined' && window.matchMedia ? (typeof window !== 'undefined' && window.matchMedia ? (typeof window !== 'undefined' && window.matchMedia ? (typeof window !== 'undefined' && window.matchMedia ? window.matchMedia('(forced-colors: active)').matches : false",
            "severity": "blocking",
            "description": "Direct window object access",
            "suggestion": "Add typeof window !== \"undefined\" check or use in useEffect",
            "canAutoFix": true
          },
          {
            "type": "window-object",
            "line": 70,
            "code": "forcedColors: (typeof window !== 'undefined' && typeof window.matchMedia === 'function') ? (typeof window !== 'undefined' && window.matchMedia ? (typeof window !== 'undefined' && window.matchMedia ? (typeof window !== 'undefined' && window.matchMedia ? (typeof window !== 'undefined' && window.matchMedia ? window.matchMedia('(forced-colors: active)').matches : false",
            "severity": "blocking",
            "description": "Direct window object access",
            "suggestion": "Add typeof window !== \"undefined\" check or use in useEffect",
            "canAutoFix": true
          },
          {
            "type": "window-object",
            "line": 70,
            "code": "forcedColors: (typeof window !== 'undefined' && typeof window.matchMedia === 'function') ? (typeof window !== 'undefined' && window.matchMedia ? (typeof window !== 'undefined' && window.matchMedia ? (typeof window !== 'undefined' && window.matchMedia ? (typeof window !== 'undefined' && window.matchMedia ? window.matchMedia('(forced-colors: active)').matches : false",
            "severity": "blocking",
            "description": "Direct window object access",
            "suggestion": "Add typeof window !== \"undefined\" check or use in useEffect",
            "canAutoFix": true
          },
          {
            "type": "window-object",
            "line": 70,
            "code": "forcedColors: (typeof window !== 'undefined' && typeof window.matchMedia === 'function') ? (typeof window !== 'undefined' && window.matchMedia ? (typeof window !== 'undefined' && window.matchMedia ? (typeof window !== 'undefined' && window.matchMedia ? (typeof window !== 'undefined' && window.matchMedia ? window.matchMedia('(forced-colors: active)').matches : false",
            "severity": "blocking",
            "description": "Direct window object access",
            "suggestion": "Add typeof window !== \"undefined\" check or use in useEffect",
            "canAutoFix": true
          },
          {
            "type": "window-object",
            "line": 70,
            "code": "forcedColors: (typeof window !== 'undefined' && typeof window.matchMedia === 'function') ? (typeof window !== 'undefined' && window.matchMedia ? (typeof window !== 'undefined' && window.matchMedia ? (typeof window !== 'undefined' && window.matchMedia ? (typeof window !== 'undefined' && window.matchMedia ? window.matchMedia('(forced-colors: active)').matches : false",
            "severity": "blocking",
            "description": "Direct window object access",
            "suggestion": "Add typeof window !== \"undefined\" check or use in useEffect",
            "canAutoFix": true
          },
          {
            "type": "window-object",
            "line": 70,
            "code": "forcedColors: (typeof window !== 'undefined' && typeof window.matchMedia === 'function') ? (typeof window !== 'undefined' && window.matchMedia ? (typeof window !== 'undefined' && window.matchMedia ? (typeof window !== 'undefined' && window.matchMedia ? (typeof window !== 'undefined' && window.matchMedia ? window.matchMedia('(forced-colors: active)').matches : false",
            "severity": "blocking",
            "description": "Direct window object access",
            "suggestion": "Add typeof window !== \"undefined\" check or use in useEffect",
            "canAutoFix": true
          },
          {
            "type": "media-query",
            "line": 70,
            "code": "forcedColors: (typeof window !== 'undefined' && typeof window.matchMedia === 'function') ? (typeof window !== 'undefined' && window.matchMedia ? (typeof window !== 'undefined' && window.matchMedia ? (typeof window !== 'undefined' && window.matchMedia ? (typeof window !== 'undefined' && window.matchMedia ? window.matchMedia('(forced-colors: active)').matches : false",
            "severity": "high",
            "description": "matchMedia API usage",
            "suggestion": "Add window check and use CSS media queries for initial render",
            "canAutoFix": true
          },
          {
            "type": "useEffect",
            "line": 167,
            "code": "useEffect(() => {",
            "severity": "medium",
            "description": "useEffect runs only on client side",
            "suggestion": "Consider moving to useLayoutEffect for DOM measurements or add SSR guards",
            "canAutoFix": false
          },
          {
            "type": "window-object",
            "line": 178,
            "code": "window.addEventListener('resize', handleResize);",
            "severity": "blocking",
            "description": "Direct window object access",
            "suggestion": "Add typeof window !== \"undefined\" check or use in useEffect",
            "canAutoFix": true
          },
          {
            "type": "event-listener",
            "line": 178,
            "code": "window.addEventListener('resize', handleResize);",
            "severity": "medium",
            "description": "Event listener setup",
            "suggestion": "Move to useEffect hook",
            "canAutoFix": true
          },
          {
            "type": "window-object",
            "line": 179,
            "code": "window.addEventListener('orientationchange', handleOrientationChange);",
            "severity": "blocking",
            "description": "Direct window object access",
            "suggestion": "Add typeof window !== \"undefined\" check or use in useEffect",
            "canAutoFix": true
          },
          {
            "type": "event-listener",
            "line": 179,
            "code": "window.addEventListener('orientationchange', handleOrientationChange);",
            "severity": "medium",
            "description": "Event listener setup",
            "suggestion": "Move to useEffect hook",
            "canAutoFix": true
          },
          {
            "type": "window-object",
            "line": 182,
            "code": "const reducedMotionQuery = (typeof window !== 'undefined' && typeof window.matchMedia === 'function')",
            "severity": "blocking",
            "description": "Direct window object access",
            "suggestion": "Add typeof window !== \"undefined\" check or use in useEffect",
            "canAutoFix": true
          },
          {
            "type": "window-object",
            "line": 183,
            "code": "? (typeof window !== 'undefined' && window.matchMedia ? (typeof window !== 'undefined' && window.matchMedia ? (typeof window !== 'undefined' && window.matchMedia ? (typeof window !== 'undefined' && window.matchMedia ? window.matchMedia('(prefers-reduced-motion: reduce)')",
            "severity": "blocking",
            "description": "Direct window object access",
            "suggestion": "Add typeof window !== \"undefined\" check or use in useEffect",
            "canAutoFix": true
          },
          {
            "type": "window-object",
            "line": 183,
            "code": "? (typeof window !== 'undefined' && window.matchMedia ? (typeof window !== 'undefined' && window.matchMedia ? (typeof window !== 'undefined' && window.matchMedia ? (typeof window !== 'undefined' && window.matchMedia ? window.matchMedia('(prefers-reduced-motion: reduce)')",
            "severity": "blocking",
            "description": "Direct window object access",
            "suggestion": "Add typeof window !== \"undefined\" check or use in useEffect",
            "canAutoFix": true
          },
          {
            "type": "window-object",
            "line": 183,
            "code": "? (typeof window !== 'undefined' && window.matchMedia ? (typeof window !== 'undefined' && window.matchMedia ? (typeof window !== 'undefined' && window.matchMedia ? (typeof window !== 'undefined' && window.matchMedia ? window.matchMedia('(prefers-reduced-motion: reduce)')",
            "severity": "blocking",
            "description": "Direct window object access",
            "suggestion": "Add typeof window !== \"undefined\" check or use in useEffect",
            "canAutoFix": true
          },
          {
            "type": "window-object",
            "line": 183,
            "code": "? (typeof window !== 'undefined' && window.matchMedia ? (typeof window !== 'undefined' && window.matchMedia ? (typeof window !== 'undefined' && window.matchMedia ? (typeof window !== 'undefined' && window.matchMedia ? window.matchMedia('(prefers-reduced-motion: reduce)')",
            "severity": "blocking",
            "description": "Direct window object access",
            "suggestion": "Add typeof window !== \"undefined\" check or use in useEffect",
            "canAutoFix": true
          },
          {
            "type": "window-object",
            "line": 183,
            "code": "? (typeof window !== 'undefined' && window.matchMedia ? (typeof window !== 'undefined' && window.matchMedia ? (typeof window !== 'undefined' && window.matchMedia ? (typeof window !== 'undefined' && window.matchMedia ? window.matchMedia('(prefers-reduced-motion: reduce)')",
            "severity": "blocking",
            "description": "Direct window object access",
            "suggestion": "Add typeof window !== \"undefined\" check or use in useEffect",
            "canAutoFix": true
          },
          {
            "type": "media-query",
            "line": 183,
            "code": "? (typeof window !== 'undefined' && window.matchMedia ? (typeof window !== 'undefined' && window.matchMedia ? (typeof window !== 'undefined' && window.matchMedia ? (typeof window !== 'undefined' && window.matchMedia ? window.matchMedia('(prefers-reduced-motion: reduce)')",
            "severity": "high",
            "description": "matchMedia API usage",
            "suggestion": "Add window check and use CSS media queries for initial render",
            "canAutoFix": true
          },
          {
            "type": "window-object",
            "line": 185,
            "code": "const forcedColorsQuery = (typeof window !== 'undefined' && typeof window.matchMedia === 'function')",
            "severity": "blocking",
            "description": "Direct window object access",
            "suggestion": "Add typeof window !== \"undefined\" check or use in useEffect",
            "canAutoFix": true
          },
          {
            "type": "window-object",
            "line": 186,
            "code": "? (typeof window !== 'undefined' && window.matchMedia ? (typeof window !== 'undefined' && window.matchMedia ? (typeof window !== 'undefined' && window.matchMedia ? (typeof window !== 'undefined' && window.matchMedia ? window.matchMedia('(forced-colors: active)')",
            "severity": "blocking",
            "description": "Direct window object access",
            "suggestion": "Add typeof window !== \"undefined\" check or use in useEffect",
            "canAutoFix": true
          },
          {
            "type": "window-object",
            "line": 186,
            "code": "? (typeof window !== 'undefined' && window.matchMedia ? (typeof window !== 'undefined' && window.matchMedia ? (typeof window !== 'undefined' && window.matchMedia ? (typeof window !== 'undefined' && window.matchMedia ? window.matchMedia('(forced-colors: active)')",
            "severity": "blocking",
            "description": "Direct window object access",
            "suggestion": "Add typeof window !== \"undefined\" check or use in useEffect",
            "canAutoFix": true
          },
          {
            "type": "window-object",
            "line": 186,
            "code": "? (typeof window !== 'undefined' && window.matchMedia ? (typeof window !== 'undefined' && window.matchMedia ? (typeof window !== 'undefined' && window.matchMedia ? (typeof window !== 'undefined' && window.matchMedia ? window.matchMedia('(forced-colors: active)')",
            "severity": "blocking",
            "description": "Direct window object access",
            "suggestion": "Add typeof window !== \"undefined\" check or use in useEffect",
            "canAutoFix": true
          },
          {
            "type": "window-object",
            "line": 186,
            "code": "? (typeof window !== 'undefined' && window.matchMedia ? (typeof window !== 'undefined' && window.matchMedia ? (typeof window !== 'undefined' && window.matchMedia ? (typeof window !== 'undefined' && window.matchMedia ? window.matchMedia('(forced-colors: active)')",
            "severity": "blocking",
            "description": "Direct window object access",
            "suggestion": "Add typeof window !== \"undefined\" check or use in useEffect",
            "canAutoFix": true
          },
          {
            "type": "window-object",
            "line": 186,
            "code": "? (typeof window !== 'undefined' && window.matchMedia ? (typeof window !== 'undefined' && window.matchMedia ? (typeof window !== 'undefined' && window.matchMedia ? (typeof window !== 'undefined' && window.matchMedia ? window.matchMedia('(forced-colors: active)')",
            "severity": "blocking",
            "description": "Direct window object access",
            "suggestion": "Add typeof window !== \"undefined\" check or use in useEffect",
            "canAutoFix": true
          },
          {
            "type": "media-query",
            "line": 186,
            "code": "? (typeof window !== 'undefined' && window.matchMedia ? (typeof window !== 'undefined' && window.matchMedia ? (typeof window !== 'undefined' && window.matchMedia ? (typeof window !== 'undefined' && window.matchMedia ? window.matchMedia('(forced-colors: active)')",
            "severity": "high",
            "description": "matchMedia API usage",
            "suggestion": "Add window check and use CSS media queries for initial render",
            "canAutoFix": true
          },
          {
            "type": "event-listener",
            "line": 191,
            "code": "reducedMotionQuery?.addEventListener('change', handleMediaChange);",
            "severity": "medium",
            "description": "Event listener setup",
            "suggestion": "Move to useEffect hook",
            "canAutoFix": true
          },
          {
            "type": "event-listener",
            "line": 192,
            "code": "forcedColorsQuery?.addEventListener('change', handleMediaChange);",
            "severity": "medium",
            "description": "Event listener setup",
            "suggestion": "Move to useEffect hook",
            "canAutoFix": true
          },
          {
            "type": "window-object",
            "line": 195,
            "code": "window.removeEventListener('resize', handleResize);",
            "severity": "blocking",
            "description": "Direct window object access",
            "suggestion": "Add typeof window !== \"undefined\" check or use in useEffect",
            "canAutoFix": true
          },
          {
            "type": "window-object",
            "line": 196,
            "code": "window.removeEventListener('orientationchange', handleOrientationChange);",
            "severity": "blocking",
            "description": "Direct window object access",
            "suggestion": "Add typeof window !== \"undefined\" check or use in useEffect",
            "canAutoFix": true
          },
          {
            "type": "useEffect",
            "line": 204,
            "code": "useEffect(() => {",
            "severity": "medium",
            "description": "useEffect runs only on client side",
            "suggestion": "Consider moving to useLayoutEffect for DOM measurements or add SSR guards",
            "canAutoFix": false
          },
          {
            "type": "resize-observer",
            "line": 233,
            "code": "// Use ResizeObserver to detect layout shifts",
            "severity": "high",
            "description": "ResizeObserver API usage",
            "suggestion": "Add feature detection and fallbacks",
            "canAutoFix": true
          },
          {
            "type": "resize-observer",
            "line": 235,
            "code": "const observer = (typeof ResizeObserver !== 'undefined')",
            "severity": "high",
            "description": "ResizeObserver API usage",
            "suggestion": "Add feature detection and fallbacks",
            "canAutoFix": true
          },
          {
            "type": "resize-observer",
            "line": 236,
            "code": "? (typeof ResizeObserver !== 'undefined' ? (typeof ResizeObserver !== 'undefined' ? (typeof ResizeObserver !== 'undefined' ? new ResizeObserver(() => { shiftCount++; })",
            "severity": "high",
            "description": "ResizeObserver API usage",
            "suggestion": "Add feature detection and fallbacks",
            "canAutoFix": true
          },
          {
            "type": "resize-observer",
            "line": 236,
            "code": "? (typeof ResizeObserver !== 'undefined' ? (typeof ResizeObserver !== 'undefined' ? (typeof ResizeObserver !== 'undefined' ? new ResizeObserver(() => { shiftCount++; })",
            "severity": "high",
            "description": "ResizeObserver API usage",
            "suggestion": "Add feature detection and fallbacks",
            "canAutoFix": true
          },
          {
            "type": "resize-observer",
            "line": 236,
            "code": "? (typeof ResizeObserver !== 'undefined' ? (typeof ResizeObserver !== 'undefined' ? (typeof ResizeObserver !== 'undefined' ? new ResizeObserver(() => { shiftCount++; })",
            "severity": "high",
            "description": "ResizeObserver API usage",
            "suggestion": "Add feature detection and fallbacks",
            "canAutoFix": true
          },
          {
            "type": "resize-observer",
            "line": 236,
            "code": "? (typeof ResizeObserver !== 'undefined' ? (typeof ResizeObserver !== 'undefined' ? (typeof ResizeObserver !== 'undefined' ? new ResizeObserver(() => { shiftCount++; })",
            "severity": "high",
            "description": "ResizeObserver API usage",
            "suggestion": "Add feature detection and fallbacks",
            "canAutoFix": true
          },
          {
            "type": "document-object",
            "line": 240,
            "code": "const container = typeof document !== 'undefined' ? (typeof document !== 'undefined' ? (typeof document !== 'undefined' ? (typeof document !== 'undefined' ? (typeof document !== 'undefined' ? (typeof document !== 'undefined' ? (typeof document !== 'undefined' ? document.querySelector('.aria-tabs-datagrid-adaptive') : null) : null) : null) : null) : null) : null) : null;",
            "severity": "blocking",
            "description": "Direct document object access",
            "suggestion": "Add typeof document !== \"undefined\" check or use in useEffect",
            "canAutoFix": true
          },
          {
            "type": "window-object",
            "line": 246,
            "code": "window.requestAnimationFrame(() => {",
            "severity": "blocking",
            "description": "Direct window object access",
            "suggestion": "Add typeof window !== \"undefined\" check or use in useEffect",
            "canAutoFix": true
          },
          {
            "type": "document-object",
            "line": 275,
            "code": "const announcement = document.createElement('div');",
            "severity": "blocking",
            "description": "Direct document object access",
            "suggestion": "Add typeof document !== \"undefined\" check or use in useEffect",
            "canAutoFix": true
          },
          {
            "type": "document-object",
            "line": 280,
            "code": "(typeof document !== 'undefined' ? (typeof document !== 'undefined' ? (typeof document !== 'undefined' ? (typeof document !== 'undefined' ? (typeof document !== 'undefined' ? (typeof document !== 'undefined' ? document.body : null) : null) : null) : null) : null) : null).appendChild(announcement);",
            "severity": "blocking",
            "description": "Direct document object access",
            "suggestion": "Add typeof document !== \"undefined\" check or use in useEffect",
            "canAutoFix": true
          },
          {
            "type": "document-object",
            "line": 293,
            "code": "const activeElement = document.activeElement;",
            "severity": "blocking",
            "description": "Direct document object access",
            "suggestion": "Add typeof document !== \"undefined\" check or use in useEffect",
            "canAutoFix": true
          },
          {
            "type": "window-object",
            "line": 298,
            "code": "window.requestAnimationFrame(() => {",
            "severity": "blocking",
            "description": "Direct window object access",
            "suggestion": "Add typeof window !== \"undefined\" check or use in useEffect",
            "canAutoFix": true
          },
          {
            "type": "document-object",
            "line": 299,
            "code": "const newActiveElement = (typeof document !== 'undefined' ? (typeof document !== 'undefined' ? (typeof document !== 'undefined' ? (typeof document !== 'undefined' ? (typeof document !== 'undefined' ? (typeof document !== 'undefined' ? document.getElementById(activeId) : null) : null) : null) : null) : null) : null);",
            "severity": "blocking",
            "description": "Direct document object access",
            "suggestion": "Add typeof document !== \"undefined\" check or use in useEffect",
            "canAutoFix": true
          },
          {
            "type": "document-object",
            "line": 304,
            "code": "const firstFocusable = (typeof document !== 'undefined' ? (typeof document !== 'undefined' ? (typeof document !== 'undefined' ? (typeof document !== 'undefined' ? (typeof document !== 'undefined' ? (typeof document !== 'undefined' ? document.querySelector(",
            "severity": "blocking",
            "description": "Direct document object access",
            "suggestion": "Add typeof document !== \"undefined\" check or use in useEffect",
            "canAutoFix": true
          }
        ],
        "hasHooks": true,
        "usesBrowserAPIs": true,
        "usesDOM": true,
        "canBeServerSide": false,
        "refactoringNeeded": [
          {
            "type": "add-ssr-guard",
            "description": "Add SSR guards for browser-only code",
            "automated": true,
            "complexity": "medium",
            "example": "\n// Before: window.innerWidth\n// After: typeof window !== 'undefined' ? window.innerWidth : 0"
          },
          {
            "type": "dynamic-import",
            "description": "Consider lazy loading this component",
            "automated": false,
            "complexity": "medium",
            "example": "\nconst HeavyComponent = dynamic(() => import('./HeavyComponent'), {\n  ssr: false,\n  loading: () => <div>Loading...</div>\n});"
          }
        ]
      },
      {
        "name": "TransactionalPageTemplate",
        "filePath": "/Users/fergusbisset/Dropbox/Sites/nhs-fdp-design-system/src/components/TransactionalPageTemplate/TransactionalPageTemplate.tsx",
        "compatibilityLevel": "requires-refactoring",
        "issues": [
          {
            "type": "window-object",
            "line": 107,
            "code": "*     onClick: () => window.history.back()",
            "severity": "blocking",
            "description": "Direct window object access",
            "suggestion": "Add typeof window !== \"undefined\" check or use in useEffect",
            "canAutoFix": true
          }
        ],
        "hasHooks": false,
        "usesBrowserAPIs": false,
        "usesDOM": false,
        "canBeServerSide": false,
        "refactoringNeeded": [
          {
            "type": "add-ssr-guard",
            "description": "Add SSR guards for browser-only code",
            "automated": true,
            "complexity": "medium",
            "example": "\n// Before: window.innerWidth\n// After: typeof window !== 'undefined' ? window.innerWidth : 0"
          }
        ]
      }
    ],
    "complexRefactors": []
  }
}